var Que=Object.defineProperty;var Hue=(e,t,r)=>t in e?Que(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rk=(e,t,r)=>Hue(e,typeof t!="symbol"?t+"":t,r);function Vue(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var vct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zue(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Lk={exports:{}},Q1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM;function $ue(){if(EM)return Q1;EM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var i=null;if(s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),"key"in a){s={};for(var o in a)o!=="key"&&(s[o]=a[o])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:i,ref:a!==void 0?a:null,props:s}}return Q1.Fragment=t,Q1.jsx=r,Q1.jsxs=r,Q1}var CM;function Kue(){return CM||(CM=1,Lk.exports=$ue()),Lk.exports}var c=Kue(),Mk={exports:{}},Zr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _M;function Gue(){if(_M)return Zr;_M=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function h(G){return G===null||typeof G!="object"?null:(G=f&&G[f]||G["@@iterator"],typeof G=="function"?G:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function b(G,ne,R){this.props=G,this.context=ne,this.refs=g,this.updater=R||p}b.prototype.isReactComponent={},b.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},b.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function y(){}y.prototype=b.prototype;function _(G,ne,R){this.props=G,this.context=ne,this.refs=g,this.updater=R||p}var S=_.prototype=new y;S.constructor=_,v(S,b.prototype),S.isPureReactComponent=!0;var B=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function w(G,ne,R,W,Y,te){return R=te.ref,{$$typeof:e,type:G,key:ne,ref:R!==void 0?R:null,props:te}}function C(G,ne){return w(G.type,ne,void 0,void 0,void 0,G.props)}function N(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function P(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(R){return ne[R]})}var j=/\/+/g;function F(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?P(""+G.key):ne.toString(36)}function M(){}function Q(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(M,M):(G.status="pending",G.then(function(ne){G.status==="pending"&&(G.status="fulfilled",G.value=ne)},function(ne){G.status==="pending"&&(G.status="rejected",G.reason=ne)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function J(G,ne,R,W,Y){var te=typeof G;(te==="undefined"||te==="boolean")&&(G=null);var ie=!1;if(G===null)ie=!0;else switch(te){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(G.$$typeof){case e:case t:ie=!0;break;case d:return ie=G._init,J(ie(G._payload),ne,R,W,Y)}}if(ie)return Y=Y(G),ie=W===""?"."+F(G,0):W,B(Y)?(R="",ie!=null&&(R=ie.replace(j,"$&/")+"/"),J(Y,ne,R,"",function(ce){return ce})):Y!=null&&(N(Y)&&(Y=C(Y,R+(Y.key==null||G&&G.key===Y.key?"":(""+Y.key).replace(j,"$&/")+"/")+ie)),ne.push(Y)),1;ie=0;var me=W===""?".":W+":";if(B(G))for(var oe=0;oe<G.length;oe++)W=G[oe],te=me+F(W,oe),ie+=J(W,ne,R,te,Y);else if(oe=h(G),typeof oe=="function")for(G=oe.call(G),oe=0;!(W=G.next()).done;)W=W.value,te=me+F(W,oe++),ie+=J(W,ne,R,te,Y);else if(te==="object"){if(typeof G.then=="function")return J(Q(G),ne,R,W,Y);throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ie}function q(G,ne,R){if(G==null)return G;var W=[],Y=0;return J(G,W,"","",function(te){return ne.call(R,te,Y++)}),W}function Z(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(R){(G._status===0||G._status===-1)&&(G._status=1,G._result=R)},function(R){(G._status===0||G._status===-1)&&(G._status=2,G._result=R)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var H=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function V(){}return Zr.Children={map:q,forEach:function(G,ne,R){q(G,function(){ne.apply(this,arguments)},R)},count:function(G){var ne=0;return q(G,function(){ne++}),ne},toArray:function(G){return q(G,function(ne){return ne})||[]},only:function(G){if(!N(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Zr.Component=b,Zr.Fragment=r,Zr.Profiler=a,Zr.PureComponent=_,Zr.StrictMode=n,Zr.Suspense=l,Zr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Zr.__COMPILER_RUNTIME={__proto__:null,c:function(G){return k.H.useMemoCache(G)}},Zr.cache=function(G){return function(){return G.apply(null,arguments)}},Zr.cloneElement=function(G,ne,R){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var W=v({},G.props),Y=G.key,te=void 0;if(ne!=null)for(ie in ne.ref!==void 0&&(te=void 0),ne.key!==void 0&&(Y=""+ne.key),ne)!O.call(ne,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&ne.ref===void 0||(W[ie]=ne[ie]);var ie=arguments.length-2;if(ie===1)W.children=R;else if(1<ie){for(var me=Array(ie),oe=0;oe<ie;oe++)me[oe]=arguments[oe+2];W.children=me}return w(G.type,Y,void 0,void 0,te,W)},Zr.createContext=function(G){return G={$$typeof:i,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:s,_context:G},G},Zr.createElement=function(G,ne,R){var W,Y={},te=null;if(ne!=null)for(W in ne.key!==void 0&&(te=""+ne.key),ne)O.call(ne,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Y[W]=ne[W]);var ie=arguments.length-2;if(ie===1)Y.children=R;else if(1<ie){for(var me=Array(ie),oe=0;oe<ie;oe++)me[oe]=arguments[oe+2];Y.children=me}if(G&&G.defaultProps)for(W in ie=G.defaultProps,ie)Y[W]===void 0&&(Y[W]=ie[W]);return w(G,te,void 0,void 0,null,Y)},Zr.createRef=function(){return{current:null}},Zr.forwardRef=function(G){return{$$typeof:o,render:G}},Zr.isValidElement=N,Zr.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:Z}},Zr.memo=function(G,ne){return{$$typeof:u,type:G,compare:ne===void 0?null:ne}},Zr.startTransition=function(G){var ne=k.T,R={};k.T=R;try{var W=G(),Y=k.S;Y!==null&&Y(R,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(V,H)}catch(te){H(te)}finally{k.T=ne}},Zr.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Zr.use=function(G){return k.H.use(G)},Zr.useActionState=function(G,ne,R){return k.H.useActionState(G,ne,R)},Zr.useCallback=function(G,ne){return k.H.useCallback(G,ne)},Zr.useContext=function(G){return k.H.useContext(G)},Zr.useDebugValue=function(){},Zr.useDeferredValue=function(G,ne){return k.H.useDeferredValue(G,ne)},Zr.useEffect=function(G,ne,R){var W=k.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(G,ne)},Zr.useId=function(){return k.H.useId()},Zr.useImperativeHandle=function(G,ne,R){return k.H.useImperativeHandle(G,ne,R)},Zr.useInsertionEffect=function(G,ne){return k.H.useInsertionEffect(G,ne)},Zr.useLayoutEffect=function(G,ne){return k.H.useLayoutEffect(G,ne)},Zr.useMemo=function(G,ne){return k.H.useMemo(G,ne)},Zr.useOptimistic=function(G,ne){return k.H.useOptimistic(G,ne)},Zr.useReducer=function(G,ne,R){return k.H.useReducer(G,ne,R)},Zr.useRef=function(G){return k.H.useRef(G)},Zr.useState=function(G){return k.H.useState(G)},Zr.useSyncExternalStore=function(G,ne,R){return k.H.useSyncExternalStore(G,ne,R)},Zr.useTransition=function(){return k.H.useTransition()},Zr.version="19.1.1",Zr}var SM;function Sx(){return SM||(SM=1,Mk.exports=Gue()),Mk.exports}var I=Sx();const ut=hl(I),que=Vue({__proto__:null,default:ut},[I]);var Uk={exports:{}},H1={},Qk={exports:{}},Hk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM;function Wue(){return NM||(NM=1,function(e){function t(q,Z){var H=q.length;q.push(Z);e:for(;0<H;){var V=H-1>>>1,G=q[V];if(0<a(G,Z))q[V]=Z,q[H]=G,H=V;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var Z=q[0],H=q.pop();if(H!==Z){q[0]=H;e:for(var V=0,G=q.length,ne=G>>>1;V<ne;){var R=2*(V+1)-1,W=q[R],Y=R+1,te=q[Y];if(0>a(W,H))Y<G&&0>a(te,W)?(q[V]=te,q[Y]=H,V=Y):(q[V]=W,q[R]=H,V=R);else if(Y<G&&0>a(te,H))q[V]=te,q[Y]=H,V=Y;else break e}}return Z}function a(q,Z){var H=q.sortIndex-Z.sortIndex;return H!==0?H:q.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function B(q){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=q)n(u),Z.sortIndex=Z.expirationTime,t(l,Z);else break;Z=r(u)}}function k(q){if(g=!1,B(q),!v)if(r(l)!==null)v=!0,O||(O=!0,F());else{var Z=r(u);Z!==null&&J(k,Z.startTime-q)}}var O=!1,w=-1,C=5,N=-1;function P(){return b?!0:!(e.unstable_now()-N<C)}function j(){if(b=!1,O){var q=e.unstable_now();N=q;var Z=!0;try{e:{v=!1,g&&(g=!1,_(w),w=-1),p=!0;var H=h;try{t:{for(B(q),f=r(l);f!==null&&!(f.expirationTime>q&&P());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var G=V(f.expirationTime<=q);if(q=e.unstable_now(),typeof G=="function"){f.callback=G,B(q),Z=!0;break t}f===r(l)&&n(l),B(q)}else n(l);f=r(l)}if(f!==null)Z=!0;else{var ne=r(u);ne!==null&&J(k,ne.startTime-q),Z=!1}}break e}finally{f=null,h=H,p=!1}Z=void 0}}finally{Z?F():O=!1}}}var F;if(typeof S=="function")F=function(){S(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Q=M.port2;M.port1.onmessage=j,F=function(){Q.postMessage(null)}}else F=function(){y(j,0)};function J(q,Z){w=y(function(){q(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var H=h;h=Z;try{return q()}finally{h=H}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var H=h;h=q;try{return Z()}finally{h=H}},e.unstable_scheduleCallback=function(q,Z,H){var V=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,q={id:d++,callback:Z,priorityLevel:q,startTime:H,expirationTime:G,sortIndex:-1},H>V?(q.sortIndex=H,t(u,q),r(l)===null&&q===r(u)&&(g?(_(w),w=-1):g=!0,J(k,H-V))):(q.sortIndex=G,t(l,q),v||p||(v=!0,O||(O=!0,F()))),q},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(q){var Z=h;return function(){var H=h;h=Z;try{return q.apply(this,arguments)}finally{h=H}}}}(Hk)),Hk}var kM;function Xue(){return kM||(kM=1,Qk.exports=Wue()),Qk.exports}var Vk={exports:{}},_o={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BM;function Yue(){if(BM)return _o;BM=1;var e=Sx();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(l,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:l,containerInfo:u,implementation:d}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return _o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,_o.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(l,u,null,d)},_o.flushSync=function(l){var u=i.T,d=n.p;try{if(i.T=null,n.p=2,l)return l()}finally{i.T=u,n.p=d,n.d.f()}},_o.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},_o.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},_o.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:p}):d==="script"&&n.d.X(l,{crossOrigin:f,integrity:h,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},_o.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},_o.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin);n.d.L(l,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},_o.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},_o.requestFormReset=function(l){n.d.r(l)},_o.unstable_batchedUpdates=function(l,u){return l(u)},_o.useFormState=function(l,u,d){return i.H.useFormState(l,u,d)},_o.useFormStatus=function(){return i.H.useHostTransitionStatus()},_o.version="19.1.1",_o}var TM;function Zq(){if(TM)return Vk.exports;TM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vk.exports=Yue(),Vk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM;function Jue(){if(IM)return H1;IM=1;var e=Xue(),t=Sx(),r=Zq();function n(A){var m="https://react.dev/errors/"+A;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+A+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var m=A,x=A;if(A.alternate)for(;m.return;)m=m.return;else{A=m;do m=A,(m.flags&4098)!==0&&(x=m.return),A=m.return;while(A)}return m.tag===3?x:null}function i(A){if(A.tag===13){var m=A.memoizedState;if(m===null&&(A=A.alternate,A!==null&&(m=A.memoizedState)),m!==null)return m.dehydrated}return null}function o(A){if(s(A)!==A)throw Error(n(188))}function l(A){var m=A.alternate;if(!m){if(m=s(A),m===null)throw Error(n(188));return m!==A?null:A}for(var x=A,E=m;;){var L=x.return;if(L===null)break;var z=L.alternate;if(z===null){if(E=L.return,E!==null){x=E;continue}break}if(L.child===z.child){for(z=L.child;z;){if(z===x)return o(L),A;if(z===E)return o(L),m;z=z.sibling}throw Error(n(188))}if(x.return!==E.return)x=L,E=z;else{for(var le=!1,be=L.child;be;){if(be===x){le=!0,x=L,E=z;break}if(be===E){le=!0,E=L,x=z;break}be=be.sibling}if(!le){for(be=z.child;be;){if(be===x){le=!0,x=z,E=L;break}if(be===E){le=!0,E=z,x=L;break}be=be.sibling}if(!le)throw Error(n(189))}}if(x.alternate!==E)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?A:m}function u(A){var m=A.tag;if(m===5||m===26||m===27||m===6)return A;for(A=A.child;A!==null;){if(m=u(A),m!==null)return m;A=A.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),S=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function F(A){return A===null||typeof A!="object"?null:(A=j&&A[j]||A["@@iterator"],typeof A=="function"?A:null)}var M=Symbol.for("react.client.reference");function Q(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===M?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case v:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList";case N:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case p:return"Portal";case S:return(A.displayName||"Context")+".Provider";case _:return(A._context.displayName||"Context")+".Consumer";case B:var m=A.render;return A=A.displayName,A||(A=m.displayName||m.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case w:return m=A.displayName||null,m!==null?m:Q(A.type)||"Memo";case C:m=A._payload,A=A._init;try{return Q(A(m))}catch{}}return null}var J=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},V=[],G=-1;function ne(A){return{current:A}}function R(A){0>G||(A.current=V[G],V[G]=null,G--)}function W(A,m){G++,V[G]=A.current,A.current=m}var Y=ne(null),te=ne(null),ie=ne(null),me=ne(null);function oe(A,m){switch(W(ie,m),W(te,A),W(Y,null),m.nodeType){case 9:case 11:A=(A=m.documentElement)&&(A=A.namespaceURI)?Y8(A):0;break;default:if(A=m.tagName,m=m.namespaceURI)m=Y8(m),A=J8(m,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}R(Y),W(Y,A)}function ce(){R(Y),R(te),R(ie)}function ge(A){A.memoizedState!==null&&W(me,A);var m=Y.current,x=J8(m,A.type);m!==x&&(W(te,A),W(Y,x))}function De(A){te.current===A&&(R(Y),R(te)),me.current===A&&(R(me),P1._currentValue=H)}var re=Object.prototype.hasOwnProperty,Se=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,_e=e.unstable_shouldYield,Ae=e.unstable_requestPaint,je=e.unstable_now,$e=e.unstable_getCurrentPriorityLevel,Ze=e.unstable_ImmediatePriority,ye=e.unstable_UserBlockingPriority,Oe=e.unstable_NormalPriority,Me=e.unstable_LowPriority,Ye=e.unstable_IdlePriority,tt=e.log,ct=e.unstable_setDisableYieldValue,gt=null,kt=null;function Dt(A){if(typeof tt=="function"&&ct(A),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(gt,A)}catch{}}var Re=Math.clz32?Math.clz32:ht,Ue=Math.log,Be=Math.LN2;function ht(A){return A>>>=0,A===0?32:31-(Ue(A)/Be|0)|0}var wt=256,ir=4194304;function Kt(A){var m=A&42;if(m!==0)return m;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Ut(A,m,x){var E=A.pendingLanes;if(E===0)return 0;var L=0,z=A.suspendedLanes,le=A.pingedLanes;A=A.warmLanes;var be=E&134217727;return be!==0?(E=be&~z,E!==0?L=Kt(E):(le&=be,le!==0?L=Kt(le):x||(x=be&~A,x!==0&&(L=Kt(x))))):(be=E&~z,be!==0?L=Kt(be):le!==0?L=Kt(le):x||(x=E&~A,x!==0&&(L=Kt(x)))),L===0?0:m!==0&&m!==L&&(m&z)===0&&(z=L&-L,x=m&-m,z>=x||z===32&&(x&4194048)!==0)?m:L}function Ur(A,m){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&m)===0}function Ar(A,m){switch(A){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var A=wt;return wt<<=1,(wt&4194048)===0&&(wt=256),A}function Vr(){var A=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),A}function Tn(A){for(var m=[],x=0;31>x;x++)m.push(A);return m}function ra(A,m){A.pendingLanes|=m,m!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function cr(A,m,x,E,L,z){var le=A.pendingLanes;A.pendingLanes=x,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=x,A.entangledLanes&=x,A.errorRecoveryDisabledLanes&=x,A.shellSuspendCounter=0;var be=A.entanglements,Le=A.expirationTimes,lt=A.hiddenUpdates;for(x=le&~x;0<x;){var Et=31-Re(x),Tt=1<<Et;be[Et]=0,Le[Et]=-1;var ft=lt[Et];if(ft!==null)for(lt[Et]=null,Et=0;Et<ft.length;Et++){var mt=ft[Et];mt!==null&&(mt.lane&=-536870913)}x&=~Tt}E!==0&&er(A,E,0),z!==0&&L===0&&A.tag!==0&&(A.suspendedLanes|=z&~(le&~m))}function er(A,m,x){A.pendingLanes|=m,A.suspendedLanes&=~m;var E=31-Re(m);A.entangledLanes|=m,A.entanglements[E]=A.entanglements[E]|1073741824|x&4194090}function qr(A,m){var x=A.entangledLanes|=m;for(A=A.entanglements;x;){var E=31-Re(x),L=1<<E;L&m|A[E]&m&&(A[E]|=m),x&=~L}}function qs(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function ha(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function Ga(){var A=Z.p;return A!==0?A:(A=window.event,A===void 0?32:gM(A.type))}function di(A,m){var x=Z.p;try{return Z.p=A,m()}finally{Z.p=x}}var Yt=Math.random().toString(36).slice(2),En="__reactFiber$"+Yt,hn="__reactProps$"+Yt,$n="__reactContainer$"+Yt,na="__reactEvents$"+Yt,ma="__reactListeners$"+Yt,fe="__reactHandles$"+Yt,Te="__reactResources$"+Yt,Ee="__reactMarker$"+Yt;function Ce(A){delete A[En],delete A[hn],delete A[na],delete A[ma],delete A[fe]}function Ne(A){var m=A[En];if(m)return m;for(var x=A.parentNode;x;){if(m=x[$n]||x[En]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(A=rM(A);A!==null;){if(x=A[En])return x;A=rM(A)}return m}A=x,x=A.parentNode}return null}function Ie(A){if(A=A[En]||A[$n]){var m=A.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return A}return null}function et(A){var m=A.tag;if(m===5||m===26||m===27||m===6)return A.stateNode;throw Error(n(33))}function At(A){var m=A[Te];return m||(m=A[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function qe(A){A[Ee]=!0}var nt=new Set,it={};function Bt(A,m){Mt(A,m),Mt(A+"Capture",m)}function Mt(A,m){for(it[A]=m,A=0;A<m.length;A++)nt.add(m[A])}var Gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lt={},Qt={};function Er(A){return re.call(Qt,A)?!0:re.call(Lt,A)?!1:Gt.test(A)?Qt[A]=!0:(Lt[A]=!0,!1)}function Xr(A,m,x){if(Er(m))if(x===null)A.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":A.removeAttribute(m);return;case"boolean":var E=m.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){A.removeAttribute(m);return}}A.setAttribute(m,""+x)}}function Yr(A,m,x){if(x===null)A.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(m);return}A.setAttribute(m,""+x)}}function rn(A,m,x,E){if(E===null)A.removeAttribute(x);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(x);return}A.setAttributeNS(m,x,""+E)}}var is,ho;function os(A){if(is===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);is=m&&m[1]||"",ho=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+is+A+ho}var Ws=!1;function Ns(A,m){if(!A||Ws)return"";Ws=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(m){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(mt){var ft=mt}Reflect.construct(A,[],Tt)}else{try{Tt.call()}catch(mt){ft=mt}A.call(Tt.prototype)}}else{try{throw Error()}catch(mt){ft=mt}(Tt=A())&&typeof Tt.catch=="function"&&Tt.catch(function(){})}}catch(mt){if(mt&&ft&&typeof mt.stack=="string")return[mt.stack,ft.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=E.DetermineComponentFrameRoot(),le=z[0],be=z[1];if(le&&be){var Le=le.split(`
`),lt=be.split(`
`);for(L=E=0;E<Le.length&&!Le[E].includes("DetermineComponentFrameRoot");)E++;for(;L<lt.length&&!lt[L].includes("DetermineComponentFrameRoot");)L++;if(E===Le.length||L===lt.length)for(E=Le.length-1,L=lt.length-1;1<=E&&0<=L&&Le[E]!==lt[L];)L--;for(;1<=E&&0<=L;E--,L--)if(Le[E]!==lt[L]){if(E!==1||L!==1)do if(E--,L--,0>L||Le[E]!==lt[L]){var Et=`
`+Le[E].replace(" at new "," at ");return A.displayName&&Et.includes("<anonymous>")&&(Et=Et.replace("<anonymous>",A.displayName)),Et}while(1<=E&&0<=L);break}}}finally{Ws=!1,Error.prepareStackTrace=x}return(x=A?A.displayName||A.name:"")?os(x):""}function Ai(A){switch(A.tag){case 26:case 27:case 5:return os(A.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return Ns(A.type,!1);case 11:return Ns(A.type.render,!1);case 1:return Ns(A.type,!0);case 31:return os("Activity");default:return""}}function pa(A){try{var m="";do m+=Ai(A),A=A.return;while(A);return m}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function Xs(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Ed(A){var m=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function dh(A){var m=Ed(A)?"checked":"value",x=Object.getOwnPropertyDescriptor(A.constructor.prototype,m),E=""+A[m];if(!A.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,z=x.set;return Object.defineProperty(A,m,{configurable:!0,get:function(){return L.call(this)},set:function(le){E=""+le,z.call(this,le)}}),Object.defineProperty(A,m,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(le){E=""+le},stopTracking:function(){A._valueTracker=null,delete A[m]}}}}function Fc(A){A._valueTracker||(A._valueTracker=dh(A))}function UA(A){if(!A)return!1;var m=A._valueTracker;if(!m)return!0;var x=m.getValue(),E="";return A&&(E=Ed(A)?A.checked?"true":"false":A.value),A=E,A!==x?(m.setValue(A),!0):!1}function fi(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Cd=/[\n"\\]/g;function Cn(A){return A.replace(Cd,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function hi(A,m,x,E,L,z,le,be){A.name="",le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?A.type=le:A.removeAttribute("type"),m!=null?le==="number"?(m===0&&A.value===""||A.value!=m)&&(A.value=""+Xs(m)):A.value!==""+Xs(m)&&(A.value=""+Xs(m)):le!=="submit"&&le!=="reset"||A.removeAttribute("value"),m!=null?Dc(A,le,Xs(m)):x!=null?Dc(A,le,Xs(x)):E!=null&&A.removeAttribute("value"),L==null&&z!=null&&(A.defaultChecked=!!z),L!=null&&(A.checked=L&&typeof L!="function"&&typeof L!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?A.name=""+Xs(be):A.removeAttribute("name")}function Oc(A,m,x,E,L,z,le,be){if(z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(A.type=z),m!=null||x!=null){if(!(z!=="submit"&&z!=="reset"||m!=null))return;x=x!=null?""+Xs(x):"",m=m!=null?""+Xs(m):x,be||m===A.value||(A.value=m),A.defaultValue=m}E=E??L,E=typeof E!="function"&&typeof E!="symbol"&&!!E,A.checked=be?A.checked:!!E,A.defaultChecked=!!E,le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(A.name=le)}function Dc(A,m,x){m==="number"&&fi(A.ownerDocument)===A||A.defaultValue===""+x||(A.defaultValue=""+x)}function pl(A,m,x,E){if(A=A.options,m){m={};for(var L=0;L<x.length;L++)m["$"+x[L]]=!0;for(x=0;x<A.length;x++)L=m.hasOwnProperty("$"+A[x].value),A[x].selected!==L&&(A[x].selected=L),L&&E&&(A[x].defaultSelected=!0)}else{for(x=""+Xs(x),m=null,L=0;L<A.length;L++){if(A[L].value===x){A[L].selected=!0,E&&(A[L].defaultSelected=!0);return}m!==null||A[L].disabled||(m=A[L])}m!==null&&(m.selected=!0)}}function Dn(A,m,x){if(m!=null&&(m=""+Xs(m),m!==A.value&&(A.value=m),x==null)){A.defaultValue!==m&&(A.defaultValue=m);return}A.defaultValue=x!=null?""+Xs(x):""}function Pc(A,m,x,E){if(m==null){if(E!=null){if(x!=null)throw Error(n(92));if(J(E)){if(1<E.length)throw Error(n(93));E=E[0]}x=E}x==null&&(x=""),m=x}x=Xs(m),A.defaultValue=x,E=A.textContent,E===x&&E!==""&&E!==null&&(A.value=E)}function mo(A,m){if(m){var x=A.firstChild;if(x&&x===A.lastChild&&x.nodeType===3){x.nodeValue=m;return}}A.textContent=m}var Gl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ah(A,m,x){var E=m.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?E?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="":E?A.setProperty(m,x):typeof x!="number"||x===0||Gl.has(m)?m==="float"?A.cssFloat=x:A[m]=(""+x).trim():A[m]=x+"px"}function QA(A,m,x){if(m!=null&&typeof m!="object")throw Error(n(62));if(A=A.style,x!=null){for(var E in x)!x.hasOwnProperty(E)||m!=null&&m.hasOwnProperty(E)||(E.indexOf("--")===0?A.setProperty(E,""):E==="float"?A.cssFloat="":A[E]="");for(var L in m)E=m[L],m.hasOwnProperty(L)&&x[L]!==E&&Ah(A,L,E)}else for(var z in m)m.hasOwnProperty(z)&&Ah(A,z,m[z])}function HA(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_d=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(A){return _d.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}var gl=null;function aa(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Xl=null,vl=null;function Sr(A){var m=Ie(A);if(m&&(A=m.stateNode)){var x=A[hn]||null;e:switch(A=m.stateNode,m.type){case"input":if(hi(A,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),m=x.name,x.type==="radio"&&m!=null){for(x=A;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Cn(""+m)+'"][type="radio"]'),m=0;m<x.length;m++){var E=x[m];if(E!==A&&E.form===A.form){var L=E[hn]||null;if(!L)throw Error(n(90));hi(E,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(m=0;m<x.length;m++)E=x[m],E.form===A.form&&UA(E)}break e;case"textarea":Dn(A,x.value,x.defaultValue);break e;case"select":m=x.value,m!=null&&pl(A,!!x.multiple,m,!1)}}}var xl=!1;function fh(A,m,x){if(xl)return A(m,x);xl=!0;try{var E=A(m);return E}finally{if(xl=!1,(Xl!==null||vl!==null)&&(F2(),Xl&&(m=Xl,A=vl,vl=Xl=null,Sr(m),A)))for(m=0;m<A.length;m++)Sr(A[m])}}function Ni(A,m){var x=A.stateNode;if(x===null)return null;var E=x[hn]||null;if(E===null)return null;x=E[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(A=A.type,E=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!E;break e;default:A=!1}if(A)return null;if(x&&typeof x!="function")throw Error(n(231,m,typeof x));return x}var po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qi=!1;if(po)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){qi=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{qi=!1}var go=null,Rc=null,Yl=null;function VA(){if(Yl)return Yl;var A,m=Rc,x=m.length,E,L="value"in go?go.value:go.textContent,z=L.length;for(A=0;A<x&&m[A]===L[A];A++);var le=x-A;for(E=1;E<=le&&m[x-E]===L[z-E];E++);return Yl=L.slice(A,1<E?1-E:void 0)}function vo(A){var m=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&m===13&&(A=13)):A=m,A===10&&(A=13),32<=A||A===13?A:0}function ki(){return!0}function yl(){return!1}function ls(A){function m(x,E,L,z,le){this._reactName=x,this._targetInst=L,this.type=E,this.nativeEvent=z,this.target=le,this.currentTarget=null;for(var be in A)A.hasOwnProperty(be)&&(x=A[be],this[be]=x?x(z):z[be]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?ki:yl,this.isPropagationStopped=yl,this}return d(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),m}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=ls(ln),wl=d({},ln,{view:0,detail:0}),zA=ls(wl),Iu,ju,Yo,Bi=d({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Yo&&(Yo&&A.type==="mousemove"?(Iu=A.screenX-Yo.screenX,ju=A.screenY-Yo.screenY):ju=Iu=0,Yo=A),Iu)},movementY:function(A){return"movementY"in A?A.movementY:ju}}),cs=ls(Bi),hh=d({},Bi,{dataTransfer:0}),Mc=ls(hh),mi=d({},wl,{relatedTarget:0}),Uc=ls(mi),Jl=d({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Sd=ls(Jl),Fu=d({},ln,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),Nd=ls(Fu),$A=d({},ln,{data:0}),Ou=ls($A),Qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(A){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(A):(A=kd[A])?!!m[A]:!1}function Hc(){return Pu}var mh=d({},wl,{key:function(A){if(A.key){var m=Qc[A.key]||A.key;if(m!=="Unidentified")return m}return A.type==="keypress"?(A=vo(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?Du[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(A){return A.type==="keypress"?vo(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?vo(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),Zl=ls(mh),Vc=d({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=ls(Vc),Ti=d({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),Bd=ls(Ti),K=d({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),de=ls(K),Fe=d({},Bi,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=ls(Fe),We=d({},ln,{newState:0,oldState:0}),vt=ls(We),Ot=[9,13,27,32],qt=po&&"CompositionEvent"in window,D=null;po&&"documentMode"in document&&(D=document.documentMode);var ee=po&&"TextEvent"in window&&!D,se=po&&(!qt||D&&8<D&&11>=D),xe=" ",Ge=!1;function ot(A,m){switch(A){case"keyup":return Ot.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pt(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Nr=!1;function cn(A,m){switch(A){case"compositionend":return Pt(m);case"keypress":return m.which!==32?null:(Ge=!0,xe);case"textInput":return A=m.data,A===xe&&Ge?null:A;default:return null}}function Qr(A,m){if(Nr)return A==="compositionend"||!qt&&ot(A,m)?(A=VA(),Yl=Rc=go=null,Nr=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return se&&m.locale!=="ko"?null:m.data;default:return null}}var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(A){var m=A&&A.nodeName&&A.nodeName.toLowerCase();return m==="input"?!!Pn[A.type]:m==="textarea"}function El(A,m,x,E){Xl?vl?vl.push(E):vl=[E]:Xl=E,m=M2(m,"onChange"),0<m.length&&(x=new Lc("onChange","change",null,x,E),A.push({event:x,listeners:m}))}var qa=null,xo=null;function zc(A){K8(A,0)}function Td(A){var m=et(A);if(UA(m))return A}function ph(A,m){if(A==="change")return m}var KA=!1;if(po){var ks;if(po){var Id="oninput"in document;if(!Id){var GA=document.createElement("div");GA.setAttribute("oninput","return;"),Id=typeof GA.oninput=="function"}ks=Id}else ks=!1;KA=ks&&(!document.documentMode||9<document.documentMode)}function qA(){qa&&(qa.detachEvent("onpropertychange",gh),xo=qa=null)}function gh(A){if(A.propertyName==="value"&&Td(xo)){var m=[];El(m,xo,A,aa(A)),fh(zc,m)}}function bo(A,m,x){A==="focusin"?(qA(),qa=m,xo=x,qa.attachEvent("onpropertychange",gh)):A==="focusout"&&qA()}function n1(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Td(xo)}function dm(A,m){if(A==="click")return Td(m)}function rg(A,m){if(A==="input"||A==="change")return Td(m)}function Cl(A,m){return A===m&&(A!==0||1/A===1/m)||A!==A&&m!==m}var Ys=typeof Object.is=="function"?Object.is:Cl;function jd(A,m){if(Ys(A,m))return!0;if(typeof A!="object"||A===null||typeof m!="object"||m===null)return!1;var x=Object.keys(A),E=Object.keys(m);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var L=x[E];if(!re.call(m,L)||!Ys(A[L],m[L]))return!1}return!0}function Am(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Lu(A,m){var x=Am(A);A=0;for(var E;x;){if(x.nodeType===3){if(E=A+x.textContent.length,A<=m&&E>=m)return{node:x,offset:m-A};A=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Am(x)}}function Fd(A,m){return A&&m?A===m?!0:A&&A.nodeType===3?!1:m&&m.nodeType===3?Fd(A,m.parentNode):"contains"in A?A.contains(m):A.compareDocumentPosition?!!(A.compareDocumentPosition(m)&16):!1:!1}function Wi(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var m=fi(A.document);m instanceof A.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)A=m.contentWindow;else break;m=fi(A.document)}return m}function pi(A){var m=A&&A.nodeName&&A.nodeName.toLowerCase();return m&&(m==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||m==="textarea"||A.contentEditable==="true")}var Od=po&&"documentMode"in document&&11>=document.documentMode,yo=null,ec=null,$c=null,tc=!1;function Ma(A,m,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;tc||yo==null||yo!==fi(E)||(E=yo,"selectionStart"in E&&pi(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),$c&&jd($c,E)||($c=E,E=M2(ec,"onSelect"),0<E.length&&(m=new Lc("onSelect","select",null,m,x),A.push({event:m,listeners:E}),m.target=yo)))}function rc(A,m){var x={};return x[A.toLowerCase()]=m.toLowerCase(),x["Webkit"+A]="webkit"+m,x["Moz"+A]="moz"+m,x}var us={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionrun:rc("Transition","TransitionRun"),transitionstart:rc("Transition","TransitionStart"),transitioncancel:rc("Transition","TransitionCancel"),transitionend:rc("Transition","TransitionEnd")},wo={},WA={};po&&(WA=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Kc(A){if(wo[A])return wo[A];if(!us[A])return A;var m=us[A],x;for(x in m)if(m.hasOwnProperty(x)&&x in WA)return wo[A]=m[x];return A}var vh=Kc("animationend"),Dd=Kc("animationiteration"),Pd=Kc("animationstart"),Rd=Kc("transitionrun"),XA=Kc("transitionstart"),xh=Kc("transitioncancel"),Ld=Kc("transitionend"),Mu=new Map,YA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");YA.push("scrollEnd");function Ua(A,m){Mu.set(A,m),Bt(m,[A])}var Jo=new WeakMap;function an(A,m){if(typeof A=="object"&&A!==null){var x=Jo.get(A);return x!==void 0?x:(m={value:A,source:m,stack:pa(m)},Jo.set(A,m),m)}return{value:A,source:m,stack:pa(m)}}var sn=[],ga=0,Wa=0;function _l(){for(var A=ga,m=Wa=ga=0;m<A;){var x=sn[m];sn[m++]=null;var E=sn[m];sn[m++]=null;var L=sn[m];sn[m++]=null;var z=sn[m];if(sn[m++]=null,E!==null&&L!==null){var le=E.pending;le===null?L.next=L:(L.next=le.next,le.next=L),E.pending=L}z!==0&&ng(x,L,z)}}function Md(A,m,x,E){sn[ga++]=A,sn[ga++]=m,sn[ga++]=x,sn[ga++]=E,Wa|=E,A.lanes|=E,A=A.alternate,A!==null&&(A.lanes|=E)}function Ud(A,m,x,E){return Md(A,m,x,E),JA(A)}function Uu(A,m){return Md(A,null,null,m),JA(A)}function ng(A,m,x){A.lanes|=x;var E=A.alternate;E!==null&&(E.lanes|=x);for(var L=!1,z=A.return;z!==null;)z.childLanes|=x,E=z.alternate,E!==null&&(E.childLanes|=x),z.tag===22&&(A=z.stateNode,A===null||A._visibility&1||(L=!0)),A=z,z=z.return;return A.tag===3?(z=A.stateNode,L&&m!==null&&(L=31-Re(x),A=z.hiddenUpdates,E=A[L],E===null?A[L]=[m]:E.push(m),m.lane=x|536870912),z):null}function JA(A){if(50<k1)throw k1=0,ok=null,Error(n(185));for(var m=A.return;m!==null;)A=m,m=A.return;return A.tag===3?A.stateNode:null}var Js={};function Sl(A,m,x,E){this.tag=A,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(A,m,x,E){return new Sl(A,m,x,E)}function bh(A){return A=A.prototype,!(!A||!A.isReactComponent)}function Gc(A,m){var x=A.alternate;return x===null?(x=Ii(A.tag,m,A.key,A.mode),x.elementType=A.elementType,x.type=A.type,x.stateNode=A.stateNode,x.alternate=A,A.alternate=x):(x.pendingProps=m,x.type=A.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=A.flags&65011712,x.childLanes=A.childLanes,x.lanes=A.lanes,x.child=A.child,x.memoizedProps=A.memoizedProps,x.memoizedState=A.memoizedState,x.updateQueue=A.updateQueue,m=A.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=A.sibling,x.index=A.index,x.ref=A.ref,x.refCleanup=A.refCleanup,x}function fm(A,m){A.flags&=65011714;var x=A.alternate;return x===null?(A.childLanes=0,A.lanes=m,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=x.childLanes,A.lanes=x.lanes,A.child=x.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=x.memoizedProps,A.memoizedState=x.memoizedState,A.updateQueue=x.updateQueue,A.type=x.type,m=x.dependencies,A.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A}function ZA(A,m,x,E,L,z){var le=0;if(E=A,typeof A=="function")bh(A)&&(le=1);else if(typeof A=="string")le=kue(A,x,Y.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case N:return A=Ii(31,x,m,L),A.elementType=N,A.lanes=z,A;case v:return Qu(x.children,L,z,m);case g:le=8,L|=24;break;case b:return A=Ii(12,x,m,L|2),A.elementType=b,A.lanes=z,A;case k:return A=Ii(13,x,m,L),A.elementType=k,A.lanes=z,A;case O:return A=Ii(19,x,m,L),A.elementType=O,A.lanes=z,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case y:case S:le=10;break e;case _:le=9;break e;case B:le=11;break e;case w:le=14;break e;case C:le=16,E=null;break e}le=29,x=Error(n(130,A===null?"null":typeof A,"")),E=null}return m=Ii(le,x,m,L),m.elementType=A,m.type=E,m.lanes=z,m}function Qu(A,m,x,E){return A=Ii(7,A,E,m),A.lanes=x,A}function ag(A,m,x){return A=Ii(6,A,null,m),A.lanes=x,A}function hm(A,m,x){return m=Ii(4,A.children!==null?A.children:[],A.key,m),m.lanes=x,m.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},m}var Qd=[],Hu=0,yh=null,sg=0,Nl=[],Zo=0,ef=null,Vu=1,zu="";function tf(A,m){Qd[Hu++]=sg,Qd[Hu++]=yh,yh=A,sg=m}function n2(A,m,x){Nl[Zo++]=Vu,Nl[Zo++]=zu,Nl[Zo++]=ef,ef=A;var E=Vu;A=zu;var L=32-Re(E)-1;E&=~(1<<L),x+=1;var z=32-Re(m)+L;if(30<z){var le=L-L%5;z=(E&(1<<le)-1).toString(32),E>>=le,L-=le,Vu=1<<32-Re(m)+L|x<<L|E,zu=z+A}else Vu=1<<z|x<<L|E,zu=A}function mm(A){A.return!==null&&(tf(A,1),n2(A,1,0))}function pm(A){for(;A===yh;)yh=Qd[--Hu],Qd[Hu]=null,sg=Qd[--Hu],Qd[Hu]=null;for(;A===ef;)ef=Nl[--Zo],Nl[Zo]=null,zu=Nl[--Zo],Nl[Zo]=null,Vu=Nl[--Zo],Nl[Zo]=null}var Bs=null,Qa=null,In=!1,Hd=null,qc=!1,a1=Error(n(519));function rf(A){var m=Error(n(418,""));throw wh(an(m,A)),a1}function a2(A){var m=A.stateNode,x=A.type,E=A.memoizedProps;switch(m[En]=A,m[hn]=E,x){case"dialog":pn("cancel",m),pn("close",m);break;case"iframe":case"object":case"embed":pn("load",m);break;case"video":case"audio":for(x=0;x<T1.length;x++)pn(T1[x],m);break;case"source":pn("error",m);break;case"img":case"image":case"link":pn("error",m),pn("load",m);break;case"details":pn("toggle",m);break;case"input":pn("invalid",m),Oc(m,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),Fc(m);break;case"select":pn("invalid",m);break;case"textarea":pn("invalid",m),Pc(m,E.value,E.defaultValue,E.children),Fc(m)}x=E.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||m.textContent===""+x||E.suppressHydrationWarning===!0||X8(m.textContent,x)?(E.popover!=null&&(pn("beforetoggle",m),pn("toggle",m)),E.onScroll!=null&&pn("scroll",m),E.onScrollEnd!=null&&pn("scrollend",m),E.onClick!=null&&(m.onclick=U2),m=!0):m=!1,m||rf(A)}function $u(A){for(Bs=A.return;Bs;)switch(Bs.tag){case 5:case 13:qc=!1;return;case 27:case 3:qc=!0;return;default:Bs=Bs.return}}function Xi(A){if(A!==Bs)return!1;if(!In)return $u(A),In=!0,!1;var m=A.tag,x;if((x=m!==3&&m!==27)&&((x=m===5)&&(x=A.type,x=!(x!=="form"&&x!=="button")||Ek(A.type,A.memoizedProps)),x=!x),x&&Qa&&rf(A),$u(A),m===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));e:{for(A=A.nextSibling,m=0;A;){if(A.nodeType===8)if(x=A.data,x==="/$"){if(m===0){Qa=Zu(A.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++;A=A.nextSibling}Qa=null}}else m===27?(m=Qa,Mh(A.type)?(A=Nk,Nk=null,Qa=A):Qa=m):Qa=Bs?Zu(A.stateNode.nextSibling):null;return!0}function el(){Qa=Bs=null,In=!1}function s2(){var A=Hd;return A!==null&&(Tl===null?Tl=A:Tl.push.apply(Tl,A),Hd=null),A}function wh(A){Hd===null?Hd=[A]:Hd.push(A)}var Wc=ne(null),Zs=null,Ku=null;function Vd(A,m,x){W(Wc,m._currentValue),m._currentValue=x}function Xc(A){A._currentValue=Wc.current,R(Wc)}function ig(A,m,x){for(;A!==null;){var E=A.alternate;if((A.childLanes&m)!==m?(A.childLanes|=m,E!==null&&(E.childLanes|=m)):E!==null&&(E.childLanes&m)!==m&&(E.childLanes|=m),A===x)break;A=A.return}}function og(A,m,x,E){var L=A.child;for(L!==null&&(L.return=A);L!==null;){var z=L.dependencies;if(z!==null){var le=L.child;z=z.firstContext;e:for(;z!==null;){var be=z;z=L;for(var Le=0;Le<m.length;Le++)if(be.context===m[Le]){z.lanes|=x,be=z.alternate,be!==null&&(be.lanes|=x),ig(z.return,x,A),E||(le=null);break e}z=be.next}}else if(L.tag===18){if(le=L.return,le===null)throw Error(n(341));le.lanes|=x,z=le.alternate,z!==null&&(z.lanes|=x),ig(le,x,A),le=null}else le=L.child;if(le!==null)le.return=L;else for(le=L;le!==null;){if(le===A){le=null;break}if(L=le.sibling,L!==null){L.return=le.return,le=L;break}le=le.return}L=le}}function Eh(A,m,x,E){A=null;for(var L=m,z=!1;L!==null;){if(!z){if((L.flags&524288)!==0)z=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var le=L.alternate;if(le===null)throw Error(n(387));if(le=le.memoizedProps,le!==null){var be=L.type;Ys(L.pendingProps.value,le.value)||(A!==null?A.push(be):A=[be])}}else if(L===me.current){if(le=L.alternate,le===null)throw Error(n(387));le.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(A!==null?A.push(P1):A=[P1])}L=L.return}A!==null&&og(m,A,x,E),m.flags|=262144}function lg(A){for(A=A.firstContext;A!==null;){if(!Ys(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Yc(A){Zs=A,Ku=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Ts(A){return cg(Zs,A)}function zd(A,m){return Zs===null&&Yc(A),cg(A,m)}function cg(A,m){var x=m._currentValue;if(m={context:m,memoizedValue:x,next:null},Ku===null){if(A===null)throw Error(n(308));Ku=m,A.dependencies={lanes:0,firstContext:m},A.flags|=524288}else Ku=Ku.next=m;return x}var j4=typeof AbortController<"u"?AbortController:function(){var A=[],m=this.signal={aborted:!1,addEventListener:function(x,E){A.push(E)}};this.abort=function(){m.aborted=!0,A.forEach(function(x){return x()})}},i2=e.unstable_scheduleCallback,F4=e.unstable_NormalPriority,Is={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function s1(){return{controller:new j4,data:new Map,refCount:0}}function gm(A){A.refCount--,A.refCount===0&&i2(F4,function(){A.controller.abort()})}var vm=null,i1=0,nf=0,Gu=null;function O4(A,m){if(vm===null){var x=vm=[];i1=0,nf=hk(),Gu={status:"pending",value:void 0,then:function(E){x.push(E)}}}return i1++,m.then(o2,o2),m}function o2(){if(--i1===0&&vm!==null){Gu!==null&&(Gu.status="fulfilled");var A=vm;vm=null,nf=0,Gu=null;for(var m=0;m<A.length;m++)(0,A[m])()}}function l2(A,m){var x=[],E={status:"pending",value:null,reason:null,then:function(L){x.push(L)}};return A.then(function(){E.status="fulfilled",E.value=m;for(var L=0;L<x.length;L++)(0,x[L])(m)},function(L){for(E.status="rejected",E.reason=L,L=0;L<x.length;L++)(0,x[L])(void 0)}),E}var T=q.S;q.S=function(A,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&O4(A,m),T!==null&&T(A,m)};var U=ne(null);function X(){var A=U.current;return A!==null?A:ka.pooledCache}function ae(A,m){m===null?W(U,U.current):W(U,m.pool)}function ue(){var A=X();return A===null?null:{parent:Is._currentValue,pool:A}}var he=Error(n(460)),pe=Error(n(474)),ve=Error(n(542)),we={then:function(){}};function ke(A){return A=A.status,A==="fulfilled"||A==="rejected"}function He(){}function st(A,m,x){switch(x=A[x],x===void 0?A.push(m):x!==m&&(m.then(He,He),m=x),m.status){case"fulfilled":return m.value;case"rejected":throw A=m.reason,St(A),A;default:if(typeof m.status=="string")m.then(He,He);else{if(A=ka,A!==null&&100<A.shellSuspendCounter)throw Error(n(482));A=m,A.status="pending",A.then(function(E){if(m.status==="pending"){var L=m;L.status="fulfilled",L.value=E}},function(E){if(m.status==="pending"){var L=m;L.status="rejected",L.reason=E}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw A=m.reason,St(A),A}throw rt=m,he}}var rt=null;function Xe(){if(rt===null)throw Error(n(459));var A=rt;return rt=null,A}function St(A){if(A===he||A===ve)throw Error(n(483))}var pt=!1;function Ve(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ke(A,m){A=A.updateQueue,m.updateQueue===A&&(m.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function yt(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Nt(A,m,x){var E=A.updateQueue;if(E===null)return null;if(E=E.shared,(ia&2)!==0){var L=E.pending;return L===null?m.next=m:(m.next=L.next,L.next=m),E.pending=m,m=JA(A),ng(A,null,x),m}return Md(A,E,m,x),JA(A)}function Ct(A,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194048)!==0)){var E=m.lanes;E&=A.pendingLanes,x|=E,m.lanes=x,qr(A,x)}}function Jt(A,m){var x=A.updateQueue,E=A.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var L=null,z=null;if(x=x.firstBaseUpdate,x!==null){do{var le={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};z===null?L=z=le:z=z.next=le,x=x.next}while(x!==null);z===null?L=z=m:z=z.next=m}else L=z=m;x={baseState:E.baseState,firstBaseUpdate:L,lastBaseUpdate:z,shared:E.shared,callbacks:E.callbacks},A.updateQueue=x;return}A=x.lastBaseUpdate,A===null?x.firstBaseUpdate=m:A.next=m,x.lastBaseUpdate=m}var zt=!1;function fr(){if(zt){var A=Gu;if(A!==null)throw A}}function Wt(A,m,x,E){zt=!1;var L=A.updateQueue;pt=!1;var z=L.firstBaseUpdate,le=L.lastBaseUpdate,be=L.shared.pending;if(be!==null){L.shared.pending=null;var Le=be,lt=Le.next;Le.next=null,le===null?z=lt:le.next=lt,le=Le;var Et=A.alternate;Et!==null&&(Et=Et.updateQueue,be=Et.lastBaseUpdate,be!==le&&(be===null?Et.firstBaseUpdate=lt:be.next=lt,Et.lastBaseUpdate=Le))}if(z!==null){var Tt=L.baseState;le=0,Et=lt=Le=null,be=z;do{var ft=be.lane&-536870913,mt=ft!==be.lane;if(mt?(kn&ft)===ft:(E&ft)===ft){ft!==0&&ft===nf&&(zt=!0),Et!==null&&(Et=Et.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var Lr=A,kr=be;ft=m;var xa=x;switch(kr.tag){case 1:if(Lr=kr.payload,typeof Lr=="function"){Tt=Lr.call(xa,Tt,ft);break e}Tt=Lr;break e;case 3:Lr.flags=Lr.flags&-65537|128;case 0:if(Lr=kr.payload,ft=typeof Lr=="function"?Lr.call(xa,Tt,ft):Lr,ft==null)break e;Tt=d({},Tt,ft);break e;case 2:pt=!0}}ft=be.callback,ft!==null&&(A.flags|=64,mt&&(A.flags|=8192),mt=L.callbacks,mt===null?L.callbacks=[ft]:mt.push(ft))}else mt={lane:ft,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Et===null?(lt=Et=mt,Le=Tt):Et=Et.next=mt,le|=ft;if(be=be.next,be===null){if(be=L.shared.pending,be===null)break;mt=be,be=mt.next,mt.next=null,L.lastBaseUpdate=mt,L.shared.pending=null}}while(!0);Et===null&&(Le=Tt),L.baseState=Le,L.firstBaseUpdate=lt,L.lastBaseUpdate=Et,z===null&&(L.shared.lanes=0),Dh|=le,A.lanes=le,A.memoizedState=Tt}}function Sn(A,m){if(typeof A!="function")throw Error(n(191,A));A.call(m)}function Rn(A,m){var x=A.callbacks;if(x!==null)for(A.callbacks=null,A=0;A<x.length;A++)Sn(x[A],m)}var nn=ne(null),Jr=ne(0);function Xn(A,m){A=hf,W(Jr,A),W(nn,m),hf=A|m.baseLanes}function Ln(){W(Jr,hf),W(nn,nn.current)}function Hr(){hf=Jr.current,R(nn),R(Jr)}var sa=0,Cr=null,Fr=null,_n=null,Nn=!1,ei=!1,js=!1,Xa=0,Ya=0,ds=null,kl=0;function Mn(){throw Error(n(321))}function As(A,m){if(m===null)return!1;for(var x=0;x<m.length&&x<A.length;x++)if(!Ys(A[x],m[x]))return!1;return!0}function nc(A,m,x,E,L,z){return sa=z,Cr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,q.H=A===null||A.memoizedState===null?TL:IL,js=!1,z=x(E,L),js=!1,ei&&(z=af(m,x,E,L)),$d(A),z}function $d(A){q.H=b2;var m=Fr!==null&&Fr.next!==null;if(sa=0,_n=Fr=Cr=null,Nn=!1,Ya=0,ds=null,m)throw Error(n(300));A===null||ji||(A=A.dependencies,A!==null&&lg(A)&&(ji=!0))}function af(A,m,x,E){Cr=A;var L=0;do{if(ei&&(ds=null),Ya=0,ei=!1,25<=L)throw Error(n(301));if(L+=1,_n=Fr=null,A.updateQueue!=null){var z=A.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}q.H=Mce,z=m(x,E)}while(ei);return z}function Kd(){var A=q.H,m=A.useState()[0];return m=typeof m.then=="function"?Gd(m):m,A=A.useState()[0],(Fr!==null?Fr.memoizedState:null)!==A&&(Cr.flags|=1024),m}function Na(){var A=Xa!==0;return Xa=0,A}function xm(A,m,x){m.updateQueue=A.updateQueue,m.flags&=-2053,A.lanes&=~x}function ug(A){if(Nn){for(A=A.memoizedState;A!==null;){var m=A.queue;m!==null&&(m.pending=null),A=A.next}Nn=!1}sa=0,_n=Fr=Cr=null,ei=!1,Ya=Xa=0,ds=null}function Yi(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Cr.memoizedState=_n=A:_n=_n.next=A,_n}function Fa(){if(Fr===null){var A=Cr.alternate;A=A!==null?A.memoizedState:null}else A=Fr.next;var m=_n===null?Cr.memoizedState:_n.next;if(m!==null)_n=m,Fr=A;else{if(A===null)throw Cr.alternate===null?Error(n(467)):Error(n(310));Fr=A,A={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},_n===null?Cr.memoizedState=_n=A:_n=_n.next=A}return _n}function sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gd(A){var m=Ya;return Ya+=1,ds===null&&(ds=[]),A=st(ds,A,m),m=Cr,(_n===null?m.memoizedState:_n.next)===null&&(m=m.alternate,q.H=m===null||m.memoizedState===null?TL:IL),A}function Eo(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Gd(A);if(A.$$typeof===S)return Ts(A)}throw Error(n(438,String(A)))}function qd(A){var m=null,x=Cr.updateQueue;if(x!==null&&(m=x.memoCache),m==null){var E=Cr.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(m={data:E.data.map(function(L){return L.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),x===null&&(x=sf(),Cr.updateQueue=x),x.memoCache=m,x=m.data[m.index],x===void 0)for(x=m.data[m.index]=Array(A),E=0;E<A;E++)x[E]=P;return m.index++,x}function Co(A,m){return typeof m=="function"?m(A):m}function bm(A){var m=Fa();return Ch(m,Fr,A)}function Ch(A,m,x){var E=A.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=x;var L=A.baseQueue,z=E.pending;if(z!==null){if(L!==null){var le=L.next;L.next=z.next,z.next=le}m.baseQueue=L=z,E.pending=null}if(z=A.baseState,L===null)A.memoizedState=z;else{m=L.next;var be=le=null,Le=null,lt=m,Et=!1;do{var Tt=lt.lane&-536870913;if(Tt!==lt.lane?(kn&Tt)===Tt:(sa&Tt)===Tt){var ft=lt.revertLane;if(ft===0)Le!==null&&(Le=Le.next={lane:0,revertLane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),Tt===nf&&(Et=!0);else if((sa&ft)===ft){lt=lt.next,ft===nf&&(Et=!0);continue}else Tt={lane:0,revertLane:lt.revertLane,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},Le===null?(be=Le=Tt,le=z):Le=Le.next=Tt,Cr.lanes|=ft,Dh|=ft;Tt=lt.action,js&&x(z,Tt),z=lt.hasEagerState?lt.eagerState:x(z,Tt)}else ft={lane:Tt,revertLane:lt.revertLane,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},Le===null?(be=Le=ft,le=z):Le=Le.next=ft,Cr.lanes|=Tt,Dh|=Tt;lt=lt.next}while(lt!==null&&lt!==m);if(Le===null?le=z:Le.next=be,!Ys(z,A.memoizedState)&&(ji=!0,Et&&(x=Gu,x!==null)))throw x;A.memoizedState=z,A.baseState=le,A.baseQueue=Le,E.lastRenderedState=z}return L===null&&(E.lanes=0),[A.memoizedState,E.dispatch]}function dg(A){var m=Fa(),x=m.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=A;var E=x.dispatch,L=x.pending,z=m.memoizedState;if(L!==null){x.pending=null;var le=L=L.next;do z=A(z,le.action),le=le.next;while(le!==L);Ys(z,m.memoizedState)||(ji=!0),m.memoizedState=z,m.baseQueue===null&&(m.baseState=z),x.lastRenderedState=z}return[z,E]}function ym(A,m,x){var E=Cr,L=Fa(),z=In;if(z){if(x===void 0)throw Error(n(407));x=x()}else x=m();var le=!Ys((Fr||L).memoizedState,x);le&&(L.memoizedState=x,ji=!0),L=L.queue;var be=_h.bind(null,E,L,A);if(kh(2048,8,be,[A]),L.getSnapshot!==m||le||_n!==null&&_n.memoizedState.tag&1){if(E.flags|=2048,Wu(9,_m(),wm.bind(null,E,L,x,m),null),ka===null)throw Error(n(349));z||(sa&124)!==0||Ag(E,m,x)}return x}function Ag(A,m,x){A.flags|=16384,A={getSnapshot:m,value:x},m=Cr.updateQueue,m===null?(m=sf(),Cr.updateQueue=m,m.stores=[A]):(x=m.stores,x===null?m.stores=[A]:x.push(A))}function wm(A,m,x,E){m.value=x,m.getSnapshot=E,c2(m)&&u2(A)}function _h(A,m,x){return x(function(){c2(m)&&u2(A)})}function c2(A){var m=A.getSnapshot;A=A.value;try{var x=m();return!Ys(A,x)}catch{return!0}}function u2(A){var m=Uu(A,2);m!==null&&cc(m,A,2)}function Em(A){var m=Yi();if(typeof A=="function"){var x=A;if(A=x(),js){Dt(!0);try{x()}finally{Dt(!1)}}}return m.memoizedState=m.baseState=A,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:A},m}function qu(A,m,x,E){return A.baseState=x,Ch(A,Fr,typeof E=="function"?E:Co)}function D4(A,m,x,E,L){if(x2(A))throw Error(n(485));if(A=m.action,A!==null){var z={payload:L,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){z.listeners.push(le)}};q.T!==null?x(!0):z.isTransition=!1,E(z),x=m.pending,x===null?(z.next=m.pending=z,d2(m,z)):(z.next=x.next,m.pending=x.next=z)}}function d2(A,m){var x=m.action,E=m.payload,L=A.state;if(m.isTransition){var z=q.T,le={};q.T=le;try{var be=x(L,E),Le=q.S;Le!==null&&Le(le,be),A2(A,m,be)}catch(lt){Sh(A,m,lt)}finally{q.T=z}}else try{z=x(L,E),A2(A,m,z)}catch(lt){Sh(A,m,lt)}}function A2(A,m,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(E){o1(A,m,E)},function(E){return Sh(A,m,E)}):o1(A,m,x)}function o1(A,m,x){m.status="fulfilled",m.value=x,l1(m),A.state=x,m=A.pending,m!==null&&(x=m.next,x===m?A.pending=null:(x=x.next,m.next=x,d2(A,x)))}function Sh(A,m,x){var E=A.pending;if(A.pending=null,E!==null){E=E.next;do m.status="rejected",m.reason=x,l1(m),m=m.next;while(m!==E)}A.action=null}function l1(A){A=A.listeners;for(var m=0;m<A.length;m++)(0,A[m])()}function c1(A,m){return m}function Cm(A,m){if(In){var x=ka.formState;if(x!==null){e:{var E=Cr;if(In){if(Qa){t:{for(var L=Qa,z=qc;L.nodeType!==8;){if(!z){L=null;break t}if(L=Zu(L.nextSibling),L===null){L=null;break t}}z=L.data,L=z==="F!"||z==="F"?L:null}if(L){Qa=Zu(L.nextSibling),E=L.data==="F!";break e}}rf(E)}E=!1}E&&(m=x[0])}}return x=Yi(),x.memoizedState=x.baseState=m,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c1,lastRenderedState:m},x.queue=E,x=NL.bind(null,Cr,E),E.dispatch=x,E=Em(!1),z=P4.bind(null,Cr,!1,E.queue),E=Yi(),L={state:m,dispatch:null,action:A,pending:null},E.queue=L,x=D4.bind(null,Cr,L,z,x),L.dispatch=x,E.memoizedState=A,[m,x,!1]}function fg(A){var m=Fa();return Nh(m,Fr,A)}function Nh(A,m,x){if(m=Ch(A,m,c1)[0],A=bm(Co)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var E=Gd(m)}catch(le){throw le===he?ve:le}else E=m;m=Fa();var L=m.queue,z=L.dispatch;return x!==m.memoizedState&&(Cr.flags|=2048,Wu(9,_m(),f2.bind(null,L,x),null)),[E,z,A]}function f2(A,m){A.action=m}function h2(A){var m=Fa(),x=Fr;if(x!==null)return Nh(m,x,A);Fa(),m=m.memoizedState,x=Fa();var E=x.queue.dispatch;return x.memoizedState=A,[m,E,!1]}function Wu(A,m,x,E){return A={tag:A,create:x,deps:E,inst:m,next:null},m=Cr.updateQueue,m===null&&(m=sf(),Cr.updateQueue=m),x=m.lastEffect,x===null?m.lastEffect=A.next=A:(E=x.next,x.next=A,A.next=E,m.lastEffect=A),A}function _m(){return{destroy:void 0,resource:void 0}}function hg(){return Fa().memoizedState}function ac(A,m,x,E){var L=Yi();E=E===void 0?null:E,Cr.flags|=A,L.memoizedState=Wu(1|m,_m(),x,E)}function kh(A,m,x,E){var L=Fa();E=E===void 0?null:E;var z=L.memoizedState.inst;Fr!==null&&E!==null&&As(E,Fr.memoizedState.deps)?L.memoizedState=Wu(m,z,x,E):(Cr.flags|=A,L.memoizedState=Wu(1|m,z,x,E))}function u1(A,m){ac(8390656,8,A,m)}function m2(A,m){kh(2048,8,A,m)}function d1(A,m){return kh(4,2,A,m)}function of(A,m){return kh(4,4,A,m)}function p2(A,m){if(typeof m=="function"){A=A();var x=m(A);return function(){typeof x=="function"?x():m(null)}}if(m!=null)return A=A(),m.current=A,function(){m.current=null}}function A1(A,m,x){x=x!=null?x.concat([A]):null,kh(4,4,p2.bind(null,m,A),x)}function f1(){}function h1(A,m){var x=Fa();m=m===void 0?null:m;var E=x.memoizedState;return m!==null&&As(m,E[1])?E[0]:(x.memoizedState=[A,m],A)}function g2(A,m){var x=Fa();m=m===void 0?null:m;var E=x.memoizedState;if(m!==null&&As(m,E[1]))return E[0];if(E=A(),js){Dt(!0);try{A()}finally{Dt(!1)}}return x.memoizedState=[E,m],E}function lf(A,m,x){return x===void 0||(sa&1073741824)!==0?A.memoizedState=m:(A.memoizedState=x,A=E8(),Cr.lanes|=A,Dh|=A,x)}function mg(A,m,x,E){return Ys(x,m)?x:nn.current!==null?(A=lf(A,x,E),Ys(A,m)||(ji=!0),A):(sa&42)===0?(ji=!0,A.memoizedState=x):(A=E8(),Cr.lanes|=A,Dh|=A,m)}function Sm(A,m,x,E,L){var z=Z.p;Z.p=z!==0&&8>z?z:8;var le=q.T,be={};q.T=be,P4(A,!1,m,x);try{var Le=L(),lt=q.S;if(lt!==null&&lt(be,Le),Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var Et=l2(Le,E);v1(A,m,Et,lc(A))}else v1(A,m,E,lc(A))}catch(Tt){v1(A,m,{then:function(){},status:"rejected",reason:Tt},lc())}finally{Z.p=z,q.T=le}}function Xu(){}function Jc(A,m,x,E){if(A.tag!==5)throw Error(n(476));var L=Yu(A).queue;Sm(A,L,m,H,x===null?Xu:function(){return Nm(A),x(E)})}function Yu(A){var m=A.memoizedState;if(m!==null)return m;m={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:H},next:null};var x={};return m.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:x},next:null},A.memoizedState=m,A=A.alternate,A!==null&&(A.memoizedState=m),m}function Nm(A){var m=Yu(A).next.queue;v1(A,m,{},lc())}function km(){return Ts(P1)}function m1(){return Fa().memoizedState}function v2(){return Fa().memoizedState}function p1(A){for(var m=A.return;m!==null;){switch(m.tag){case 24:case 3:var x=lc();A=yt(x);var E=Nt(m,A,x);E!==null&&(cc(E,m,x),Ct(E,m,x)),m={cache:s1()},A.payload=m;return}m=m.return}}function g1(A,m,x){var E=lc();x={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},x2(A)?kL(m,x):(x=Ud(A,m,x,E),x!==null&&(cc(x,A,E),BL(x,m,E)))}function NL(A,m,x){var E=lc();v1(A,m,x,E)}function v1(A,m,x,E){var L={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(x2(A))kL(m,L);else{var z=A.alternate;if(A.lanes===0&&(z===null||z.lanes===0)&&(z=m.lastRenderedReducer,z!==null))try{var le=m.lastRenderedState,be=z(le,x);if(L.hasEagerState=!0,L.eagerState=be,Ys(be,le))return Md(A,m,L,0),ka===null&&_l(),!1}catch{}finally{}if(x=Ud(A,m,L,E),x!==null)return cc(x,A,E),BL(x,m,E),!0}return!1}function P4(A,m,x,E){if(E={lane:2,revertLane:hk(),action:E,hasEagerState:!1,eagerState:null,next:null},x2(A)){if(m)throw Error(n(479))}else m=Ud(A,x,E,2),m!==null&&cc(m,A,2)}function x2(A){var m=A.alternate;return A===Cr||m!==null&&m===Cr}function kL(A,m){ei=Nn=!0;var x=A.pending;x===null?m.next=m:(m.next=x.next,x.next=m),A.pending=m}function BL(A,m,x){if((x&4194048)!==0){var E=m.lanes;E&=A.pendingLanes,x|=E,m.lanes=x,qr(A,x)}}var b2={readContext:Ts,use:Eo,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn},TL={readContext:Ts,use:Eo,useCallback:function(A,m){return Yi().memoizedState=[A,m===void 0?null:m],A},useContext:Ts,useEffect:u1,useImperativeHandle:function(A,m,x){x=x!=null?x.concat([A]):null,ac(4194308,4,p2.bind(null,m,A),x)},useLayoutEffect:function(A,m){return ac(4194308,4,A,m)},useInsertionEffect:function(A,m){ac(4,2,A,m)},useMemo:function(A,m){var x=Yi();m=m===void 0?null:m;var E=A();if(js){Dt(!0);try{A()}finally{Dt(!1)}}return x.memoizedState=[E,m],E},useReducer:function(A,m,x){var E=Yi();if(x!==void 0){var L=x(m);if(js){Dt(!0);try{x(m)}finally{Dt(!1)}}}else L=m;return E.memoizedState=E.baseState=L,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:L},E.queue=A,A=A.dispatch=g1.bind(null,Cr,A),[E.memoizedState,A]},useRef:function(A){var m=Yi();return A={current:A},m.memoizedState=A},useState:function(A){A=Em(A);var m=A.queue,x=NL.bind(null,Cr,m);return m.dispatch=x,[A.memoizedState,x]},useDebugValue:f1,useDeferredValue:function(A,m){var x=Yi();return lf(x,A,m)},useTransition:function(){var A=Em(!1);return A=Sm.bind(null,Cr,A.queue,!0,!1),Yi().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,m,x){var E=Cr,L=Yi();if(In){if(x===void 0)throw Error(n(407));x=x()}else{if(x=m(),ka===null)throw Error(n(349));(kn&124)!==0||Ag(E,m,x)}L.memoizedState=x;var z={value:x,getSnapshot:m};return L.queue=z,u1(_h.bind(null,E,z,A),[A]),E.flags|=2048,Wu(9,_m(),wm.bind(null,E,z,x,m),null),x},useId:function(){var A=Yi(),m=ka.identifierPrefix;if(In){var x=zu,E=Vu;x=(E&~(1<<32-Re(E)-1)).toString(32)+x,m=""+m+"R"+x,x=Xa++,0<x&&(m+="H"+x.toString(32)),m+=""}else x=kl++,m=""+m+"r"+x.toString(32)+"";return A.memoizedState=m},useHostTransitionStatus:km,useFormState:Cm,useActionState:Cm,useOptimistic:function(A){var m=Yi();m.memoizedState=m.baseState=A;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=x,m=P4.bind(null,Cr,!0,x),x.dispatch=m,[A,m]},useMemoCache:qd,useCacheRefresh:function(){return Yi().memoizedState=p1.bind(null,Cr)}},IL={readContext:Ts,use:Eo,useCallback:h1,useContext:Ts,useEffect:m2,useImperativeHandle:A1,useInsertionEffect:d1,useLayoutEffect:of,useMemo:g2,useReducer:bm,useRef:hg,useState:function(){return bm(Co)},useDebugValue:f1,useDeferredValue:function(A,m){var x=Fa();return mg(x,Fr.memoizedState,A,m)},useTransition:function(){var A=bm(Co)[0],m=Fa().memoizedState;return[typeof A=="boolean"?A:Gd(A),m]},useSyncExternalStore:ym,useId:m1,useHostTransitionStatus:km,useFormState:fg,useActionState:fg,useOptimistic:function(A,m){var x=Fa();return qu(x,Fr,A,m)},useMemoCache:qd,useCacheRefresh:v2},Mce={readContext:Ts,use:Eo,useCallback:h1,useContext:Ts,useEffect:m2,useImperativeHandle:A1,useInsertionEffect:d1,useLayoutEffect:of,useMemo:g2,useReducer:dg,useRef:hg,useState:function(){return dg(Co)},useDebugValue:f1,useDeferredValue:function(A,m){var x=Fa();return Fr===null?lf(x,A,m):mg(x,Fr.memoizedState,A,m)},useTransition:function(){var A=dg(Co)[0],m=Fa().memoizedState;return[typeof A=="boolean"?A:Gd(A),m]},useSyncExternalStore:ym,useId:m1,useHostTransitionStatus:km,useFormState:h2,useActionState:h2,useOptimistic:function(A,m){var x=Fa();return Fr!==null?qu(x,Fr,A,m):(x.baseState=A,[A,x.queue.dispatch])},useMemoCache:qd,useCacheRefresh:v2},pg=null,x1=0;function y2(A){var m=x1;return x1+=1,pg===null&&(pg=[]),st(pg,A,m)}function b1(A,m){m=m.props.ref,A.ref=m!==void 0?m:null}function w2(A,m){throw m.$$typeof===f?Error(n(525)):(A=Object.prototype.toString.call(m),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":A)))}function jL(A){var m=A._init;return m(A._payload)}function FL(A){function m(Je,ze){if(A){var at=Je.deletions;at===null?(Je.deletions=[ze],Je.flags|=16):at.push(ze)}}function x(Je,ze){if(!A)return null;for(;ze!==null;)m(Je,ze),ze=ze.sibling;return null}function E(Je){for(var ze=new Map;Je!==null;)Je.key!==null?ze.set(Je.key,Je):ze.set(Je.index,Je),Je=Je.sibling;return ze}function L(Je,ze){return Je=Gc(Je,ze),Je.index=0,Je.sibling=null,Je}function z(Je,ze,at){return Je.index=at,A?(at=Je.alternate,at!==null?(at=at.index,at<ze?(Je.flags|=67108866,ze):at):(Je.flags|=67108866,ze)):(Je.flags|=1048576,ze)}function le(Je){return A&&Je.alternate===null&&(Je.flags|=67108866),Je}function be(Je,ze,at,_t){return ze===null||ze.tag!==6?(ze=ag(at,Je.mode,_t),ze.return=Je,ze):(ze=L(ze,at),ze.return=Je,ze)}function Le(Je,ze,at,_t){var ur=at.type;return ur===v?Et(Je,ze,at.props.children,_t,at.key):ze!==null&&(ze.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===C&&jL(ur)===ze.type)?(ze=L(ze,at.props),b1(ze,at),ze.return=Je,ze):(ze=ZA(at.type,at.key,at.props,null,Je.mode,_t),b1(ze,at),ze.return=Je,ze)}function lt(Je,ze,at,_t){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==at.containerInfo||ze.stateNode.implementation!==at.implementation?(ze=hm(at,Je.mode,_t),ze.return=Je,ze):(ze=L(ze,at.children||[]),ze.return=Je,ze)}function Et(Je,ze,at,_t,ur){return ze===null||ze.tag!==7?(ze=Qu(at,Je.mode,_t,ur),ze.return=Je,ze):(ze=L(ze,at),ze.return=Je,ze)}function Tt(Je,ze,at){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ze=ag(""+ze,Je.mode,at),ze.return=Je,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case h:return at=ZA(ze.type,ze.key,ze.props,null,Je.mode,at),b1(at,ze),at.return=Je,at;case p:return ze=hm(ze,Je.mode,at),ze.return=Je,ze;case C:var _t=ze._init;return ze=_t(ze._payload),Tt(Je,ze,at)}if(J(ze)||F(ze))return ze=Qu(ze,Je.mode,at,null),ze.return=Je,ze;if(typeof ze.then=="function")return Tt(Je,y2(ze),at);if(ze.$$typeof===S)return Tt(Je,zd(Je,ze),at);w2(Je,ze)}return null}function ft(Je,ze,at,_t){var ur=ze!==null?ze.key:null;if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return ur!==null?null:be(Je,ze,""+at,_t);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case h:return at.key===ur?Le(Je,ze,at,_t):null;case p:return at.key===ur?lt(Je,ze,at,_t):null;case C:return ur=at._init,at=ur(at._payload),ft(Je,ze,at,_t)}if(J(at)||F(at))return ur!==null?null:Et(Je,ze,at,_t,null);if(typeof at.then=="function")return ft(Je,ze,y2(at),_t);if(at.$$typeof===S)return ft(Je,ze,zd(Je,at),_t);w2(Je,at)}return null}function mt(Je,ze,at,_t,ur){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return Je=Je.get(at)||null,be(ze,Je,""+_t,ur);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case h:return Je=Je.get(_t.key===null?at:_t.key)||null,Le(ze,Je,_t,ur);case p:return Je=Je.get(_t.key===null?at:_t.key)||null,lt(ze,Je,_t,ur);case C:var un=_t._init;return _t=un(_t._payload),mt(Je,ze,at,_t,ur)}if(J(_t)||F(_t))return Je=Je.get(at)||null,Et(ze,Je,_t,ur,null);if(typeof _t.then=="function")return mt(Je,ze,at,y2(_t),ur);if(_t.$$typeof===S)return mt(Je,ze,at,zd(ze,_t),ur);w2(ze,_t)}return null}function Lr(Je,ze,at,_t){for(var ur=null,un=null,pr=ze,Br=ze=0,Oi=null;pr!==null&&Br<at.length;Br++){pr.index>Br?(Oi=pr,pr=null):Oi=pr.sibling;var Un=ft(Je,pr,at[Br],_t);if(Un===null){pr===null&&(pr=Oi);break}A&&pr&&Un.alternate===null&&m(Je,pr),ze=z(Un,ze,Br),un===null?ur=Un:un.sibling=Un,un=Un,pr=Oi}if(Br===at.length)return x(Je,pr),In&&tf(Je,Br),ur;if(pr===null){for(;Br<at.length;Br++)pr=Tt(Je,at[Br],_t),pr!==null&&(ze=z(pr,ze,Br),un===null?ur=pr:un.sibling=pr,un=pr);return In&&tf(Je,Br),ur}for(pr=E(pr);Br<at.length;Br++)Oi=mt(pr,Je,Br,at[Br],_t),Oi!==null&&(A&&Oi.alternate!==null&&pr.delete(Oi.key===null?Br:Oi.key),ze=z(Oi,ze,Br),un===null?ur=Oi:un.sibling=Oi,un=Oi);return A&&pr.forEach(function(zh){return m(Je,zh)}),In&&tf(Je,Br),ur}function kr(Je,ze,at,_t){if(at==null)throw Error(n(151));for(var ur=null,un=null,pr=ze,Br=ze=0,Oi=null,Un=at.next();pr!==null&&!Un.done;Br++,Un=at.next()){pr.index>Br?(Oi=pr,pr=null):Oi=pr.sibling;var zh=ft(Je,pr,Un.value,_t);if(zh===null){pr===null&&(pr=Oi);break}A&&pr&&zh.alternate===null&&m(Je,pr),ze=z(zh,ze,Br),un===null?ur=zh:un.sibling=zh,un=zh,pr=Oi}if(Un.done)return x(Je,pr),In&&tf(Je,Br),ur;if(pr===null){for(;!Un.done;Br++,Un=at.next())Un=Tt(Je,Un.value,_t),Un!==null&&(ze=z(Un,ze,Br),un===null?ur=Un:un.sibling=Un,un=Un);return In&&tf(Je,Br),ur}for(pr=E(pr);!Un.done;Br++,Un=at.next())Un=mt(pr,Je,Br,Un.value,_t),Un!==null&&(A&&Un.alternate!==null&&pr.delete(Un.key===null?Br:Un.key),ze=z(Un,ze,Br),un===null?ur=Un:un.sibling=Un,un=Un);return A&&pr.forEach(function(Uue){return m(Je,Uue)}),In&&tf(Je,Br),ur}function xa(Je,ze,at,_t){if(typeof at=="object"&&at!==null&&at.type===v&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case h:e:{for(var ur=at.key;ze!==null;){if(ze.key===ur){if(ur=at.type,ur===v){if(ze.tag===7){x(Je,ze.sibling),_t=L(ze,at.props.children),_t.return=Je,Je=_t;break e}}else if(ze.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===C&&jL(ur)===ze.type){x(Je,ze.sibling),_t=L(ze,at.props),b1(_t,at),_t.return=Je,Je=_t;break e}x(Je,ze);break}else m(Je,ze);ze=ze.sibling}at.type===v?(_t=Qu(at.props.children,Je.mode,_t,at.key),_t.return=Je,Je=_t):(_t=ZA(at.type,at.key,at.props,null,Je.mode,_t),b1(_t,at),_t.return=Je,Je=_t)}return le(Je);case p:e:{for(ur=at.key;ze!==null;){if(ze.key===ur)if(ze.tag===4&&ze.stateNode.containerInfo===at.containerInfo&&ze.stateNode.implementation===at.implementation){x(Je,ze.sibling),_t=L(ze,at.children||[]),_t.return=Je,Je=_t;break e}else{x(Je,ze);break}else m(Je,ze);ze=ze.sibling}_t=hm(at,Je.mode,_t),_t.return=Je,Je=_t}return le(Je);case C:return ur=at._init,at=ur(at._payload),xa(Je,ze,at,_t)}if(J(at))return Lr(Je,ze,at,_t);if(F(at)){if(ur=F(at),typeof ur!="function")throw Error(n(150));return at=ur.call(at),kr(Je,ze,at,_t)}if(typeof at.then=="function")return xa(Je,ze,y2(at),_t);if(at.$$typeof===S)return xa(Je,ze,zd(Je,at),_t);w2(Je,at)}return typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint"?(at=""+at,ze!==null&&ze.tag===6?(x(Je,ze.sibling),_t=L(ze,at),_t.return=Je,Je=_t):(x(Je,ze),_t=ag(at,Je.mode,_t),_t.return=Je,Je=_t),le(Je)):x(Je,ze)}return function(Je,ze,at,_t){try{x1=0;var ur=xa(Je,ze,at,_t);return pg=null,ur}catch(pr){if(pr===he||pr===ve)throw pr;var un=Ii(29,pr,null,Je.mode);return un.lanes=_t,un.return=Je,un}finally{}}}var gg=FL(!0),OL=FL(!1),Zc=ne(null),Wd=null;function Bh(A){var m=A.alternate;W(gi,gi.current&1),W(Zc,A),Wd===null&&(m===null||nn.current!==null||m.memoizedState!==null)&&(Wd=A)}function DL(A){if(A.tag===22){if(W(gi,gi.current),W(Zc,A),Wd===null){var m=A.alternate;m!==null&&m.memoizedState!==null&&(Wd=A)}}else Th()}function Th(){W(gi,gi.current),W(Zc,Zc.current)}function cf(A){R(Zc),Wd===A&&(Wd=null),R(gi)}var gi=ne(0);function E2(A){for(var m=A;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||Sk(x)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===A)break;for(;m.sibling===null;){if(m.return===null||m.return===A)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function R4(A,m,x,E){m=A.memoizedState,x=x(E,m),x=x==null?m:d({},m,x),A.memoizedState=x,A.lanes===0&&(A.updateQueue.baseState=x)}var L4={enqueueSetState:function(A,m,x){A=A._reactInternals;var E=lc(),L=yt(E);L.payload=m,x!=null&&(L.callback=x),m=Nt(A,L,E),m!==null&&(cc(m,A,E),Ct(m,A,E))},enqueueReplaceState:function(A,m,x){A=A._reactInternals;var E=lc(),L=yt(E);L.tag=1,L.payload=m,x!=null&&(L.callback=x),m=Nt(A,L,E),m!==null&&(cc(m,A,E),Ct(m,A,E))},enqueueForceUpdate:function(A,m){A=A._reactInternals;var x=lc(),E=yt(x);E.tag=2,m!=null&&(E.callback=m),m=Nt(A,E,x),m!==null&&(cc(m,A,x),Ct(m,A,x))}};function PL(A,m,x,E,L,z,le){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(E,z,le):m.prototype&&m.prototype.isPureReactComponent?!jd(x,E)||!jd(L,z):!0}function RL(A,m,x,E){A=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,E),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,E),m.state!==A&&L4.enqueueReplaceState(m,m.state,null)}function Bm(A,m){var x=m;if("ref"in m){x={};for(var E in m)E!=="ref"&&(x[E]=m[E])}if(A=A.defaultProps){x===m&&(x=d({},x));for(var L in A)x[L]===void 0&&(x[L]=A[L])}return x}var C2=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function LL(A){C2(A)}function ML(A){console.error(A)}function UL(A){C2(A)}function _2(A,m){try{var x=A.onUncaughtError;x(m.value,{componentStack:m.stack})}catch(E){setTimeout(function(){throw E})}}function QL(A,m,x){try{var E=A.onCaughtError;E(x.value,{componentStack:x.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function M4(A,m,x){return x=yt(x),x.tag=3,x.payload={element:null},x.callback=function(){_2(A,m)},x}function HL(A){return A=yt(A),A.tag=3,A}function VL(A,m,x,E){var L=x.type.getDerivedStateFromError;if(typeof L=="function"){var z=E.value;A.payload=function(){return L(z)},A.callback=function(){QL(m,x,E)}}var le=x.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(A.callback=function(){QL(m,x,E),typeof L!="function"&&(Ph===null?Ph=new Set([this]):Ph.add(this));var be=E.stack;this.componentDidCatch(E.value,{componentStack:be!==null?be:""})})}function Uce(A,m,x,E,L){if(x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(m=x.alternate,m!==null&&Eh(m,x,L,!0),x=Zc.current,x!==null){switch(x.tag){case 13:return Wd===null?ck():x.alternate===null&&fs===0&&(fs=3),x.flags&=-257,x.flags|=65536,x.lanes=L,E===we?x.flags|=16384:(m=x.updateQueue,m===null?x.updateQueue=new Set([E]):m.add(E),dk(A,E,L)),!1;case 22:return x.flags|=65536,E===we?x.flags|=16384:(m=x.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([E])},x.updateQueue=m):(x=m.retryQueue,x===null?m.retryQueue=new Set([E]):x.add(E)),dk(A,E,L)),!1}throw Error(n(435,x.tag))}return dk(A,E,L),ck(),!1}if(In)return m=Zc.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=L,E!==a1&&(A=Error(n(422),{cause:E}),wh(an(A,x)))):(E!==a1&&(m=Error(n(423),{cause:E}),wh(an(m,x))),A=A.current.alternate,A.flags|=65536,L&=-L,A.lanes|=L,E=an(E,x),L=M4(A.stateNode,E,L),Jt(A,L),fs!==4&&(fs=2)),!1;var z=Error(n(520),{cause:E});if(z=an(z,x),N1===null?N1=[z]:N1.push(z),fs!==4&&(fs=2),m===null)return!0;E=an(E,x),x=m;do{switch(x.tag){case 3:return x.flags|=65536,A=L&-L,x.lanes|=A,A=M4(x.stateNode,E,A),Jt(x,A),!1;case 1:if(m=x.type,z=x.stateNode,(x.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Ph===null||!Ph.has(z))))return x.flags|=65536,L&=-L,x.lanes|=L,L=HL(L),VL(L,A,x,E),Jt(x,L),!1}x=x.return}while(x!==null);return!1}var zL=Error(n(461)),ji=!1;function Ji(A,m,x,E){m.child=A===null?OL(m,null,x,E):gg(m,A.child,x,E)}function $L(A,m,x,E,L){x=x.render;var z=m.ref;if("ref"in E){var le={};for(var be in E)be!=="ref"&&(le[be]=E[be])}else le=E;return Yc(m),E=nc(A,m,x,le,z,L),be=Na(),A!==null&&!ji?(xm(A,m,L),uf(A,m,L)):(In&&be&&mm(m),m.flags|=1,Ji(A,m,E,L),m.child)}function KL(A,m,x,E,L){if(A===null){var z=x.type;return typeof z=="function"&&!bh(z)&&z.defaultProps===void 0&&x.compare===null?(m.tag=15,m.type=z,GL(A,m,z,E,L)):(A=ZA(x.type,null,E,m,m.mode,L),A.ref=m.ref,A.return=m,m.child=A)}if(z=A.child,!G4(A,L)){var le=z.memoizedProps;if(x=x.compare,x=x!==null?x:jd,x(le,E)&&A.ref===m.ref)return uf(A,m,L)}return m.flags|=1,A=Gc(z,E),A.ref=m.ref,A.return=m,m.child=A}function GL(A,m,x,E,L){if(A!==null){var z=A.memoizedProps;if(jd(z,E)&&A.ref===m.ref)if(ji=!1,m.pendingProps=E=z,G4(A,L))(A.flags&131072)!==0&&(ji=!0);else return m.lanes=A.lanes,uf(A,m,L)}return U4(A,m,x,E,L)}function qL(A,m,x){var E=m.pendingProps,L=E.children,z=A!==null?A.memoizedState:null;if(E.mode==="hidden"){if((m.flags&128)!==0){if(E=z!==null?z.baseLanes|x:x,A!==null){for(L=m.child=A.child,z=0;L!==null;)z=z|L.lanes|L.childLanes,L=L.sibling;m.childLanes=z&~E}else m.childLanes=0,m.child=null;return WL(A,m,E,x)}if((x&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},A!==null&&ae(m,z!==null?z.cachePool:null),z!==null?Xn(m,z):Ln(),DL(m);else return m.lanes=m.childLanes=536870912,WL(A,m,z!==null?z.baseLanes|x:x,x)}else z!==null?(ae(m,z.cachePool),Xn(m,z),Th(),m.memoizedState=null):(A!==null&&ae(m,null),Ln(),Th());return Ji(A,m,L,x),m.child}function WL(A,m,x,E){var L=X();return L=L===null?null:{parent:Is._currentValue,pool:L},m.memoizedState={baseLanes:x,cachePool:L},A!==null&&ae(m,null),Ln(),DL(m),A!==null&&Eh(A,m,E,!0),null}function S2(A,m){var x=m.ref;if(x===null)A!==null&&A.ref!==null&&(m.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(A===null||A.ref!==x)&&(m.flags|=4194816)}}function U4(A,m,x,E,L){return Yc(m),x=nc(A,m,x,E,void 0,L),E=Na(),A!==null&&!ji?(xm(A,m,L),uf(A,m,L)):(In&&E&&mm(m),m.flags|=1,Ji(A,m,x,L),m.child)}function XL(A,m,x,E,L,z){return Yc(m),m.updateQueue=null,x=af(m,E,x,L),$d(A),E=Na(),A!==null&&!ji?(xm(A,m,z),uf(A,m,z)):(In&&E&&mm(m),m.flags|=1,Ji(A,m,x,z),m.child)}function YL(A,m,x,E,L){if(Yc(m),m.stateNode===null){var z=Js,le=x.contextType;typeof le=="object"&&le!==null&&(z=Ts(le)),z=new x(E,z),m.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=L4,m.stateNode=z,z._reactInternals=m,z=m.stateNode,z.props=E,z.state=m.memoizedState,z.refs={},Ve(m),le=x.contextType,z.context=typeof le=="object"&&le!==null?Ts(le):Js,z.state=m.memoizedState,le=x.getDerivedStateFromProps,typeof le=="function"&&(R4(m,x,le,E),z.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(le=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),le!==z.state&&L4.enqueueReplaceState(z,z.state,null),Wt(m,E,z,L),fr(),z.state=m.memoizedState),typeof z.componentDidMount=="function"&&(m.flags|=4194308),E=!0}else if(A===null){z=m.stateNode;var be=m.memoizedProps,Le=Bm(x,be);z.props=Le;var lt=z.context,Et=x.contextType;le=Js,typeof Et=="object"&&Et!==null&&(le=Ts(Et));var Tt=x.getDerivedStateFromProps;Et=typeof Tt=="function"||typeof z.getSnapshotBeforeUpdate=="function",be=m.pendingProps!==be,Et||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(be||lt!==le)&&RL(m,z,E,le),pt=!1;var ft=m.memoizedState;z.state=ft,Wt(m,E,z,L),fr(),lt=m.memoizedState,be||ft!==lt||pt?(typeof Tt=="function"&&(R4(m,x,Tt,E),lt=m.memoizedState),(Le=pt||PL(m,x,Le,E,ft,lt,le))?(Et||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(m.flags|=4194308)):(typeof z.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=E,m.memoizedState=lt),z.props=E,z.state=lt,z.context=le,E=Le):(typeof z.componentDidMount=="function"&&(m.flags|=4194308),E=!1)}else{z=m.stateNode,Ke(A,m),le=m.memoizedProps,Et=Bm(x,le),z.props=Et,Tt=m.pendingProps,ft=z.context,lt=x.contextType,Le=Js,typeof lt=="object"&&lt!==null&&(Le=Ts(lt)),be=x.getDerivedStateFromProps,(lt=typeof be=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(le!==Tt||ft!==Le)&&RL(m,z,E,Le),pt=!1,ft=m.memoizedState,z.state=ft,Wt(m,E,z,L),fr();var mt=m.memoizedState;le!==Tt||ft!==mt||pt||A!==null&&A.dependencies!==null&&lg(A.dependencies)?(typeof be=="function"&&(R4(m,x,be,E),mt=m.memoizedState),(Et=pt||PL(m,x,Et,E,ft,mt,Le)||A!==null&&A.dependencies!==null&&lg(A.dependencies))?(lt||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(E,mt,Le),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(E,mt,Le)),typeof z.componentDidUpdate=="function"&&(m.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof z.componentDidUpdate!="function"||le===A.memoizedProps&&ft===A.memoizedState||(m.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||le===A.memoizedProps&&ft===A.memoizedState||(m.flags|=1024),m.memoizedProps=E,m.memoizedState=mt),z.props=E,z.state=mt,z.context=Le,E=Et):(typeof z.componentDidUpdate!="function"||le===A.memoizedProps&&ft===A.memoizedState||(m.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||le===A.memoizedProps&&ft===A.memoizedState||(m.flags|=1024),E=!1)}return z=E,S2(A,m),E=(m.flags&128)!==0,z||E?(z=m.stateNode,x=E&&typeof x.getDerivedStateFromError!="function"?null:z.render(),m.flags|=1,A!==null&&E?(m.child=gg(m,A.child,null,L),m.child=gg(m,null,x,L)):Ji(A,m,x,L),m.memoizedState=z.state,A=m.child):A=uf(A,m,L),A}function JL(A,m,x,E){return el(),m.flags|=256,Ji(A,m,x,E),m.child}var Q4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function H4(A){return{baseLanes:A,cachePool:ue()}}function V4(A,m,x){return A=A!==null?A.childLanes&~x:0,m&&(A|=eu),A}function ZL(A,m,x){var E=m.pendingProps,L=!1,z=(m.flags&128)!==0,le;if((le=z)||(le=A!==null&&A.memoizedState===null?!1:(gi.current&2)!==0),le&&(L=!0,m.flags&=-129),le=(m.flags&32)!==0,m.flags&=-33,A===null){if(In){if(L?Bh(m):Th(),In){var be=Qa,Le;if(Le=be){e:{for(Le=be,be=qc;Le.nodeType!==8;){if(!be){be=null;break e}if(Le=Zu(Le.nextSibling),Le===null){be=null;break e}}be=Le}be!==null?(m.memoizedState={dehydrated:be,treeContext:ef!==null?{id:Vu,overflow:zu}:null,retryLane:536870912,hydrationErrors:null},Le=Ii(18,null,null,0),Le.stateNode=be,Le.return=m,m.child=Le,Bs=m,Qa=null,Le=!0):Le=!1}Le||rf(m)}if(be=m.memoizedState,be!==null&&(be=be.dehydrated,be!==null))return Sk(be)?m.lanes=32:m.lanes=536870912,null;cf(m)}return be=E.children,E=E.fallback,L?(Th(),L=m.mode,be=N2({mode:"hidden",children:be},L),E=Qu(E,L,x,null),be.return=m,E.return=m,be.sibling=E,m.child=be,L=m.child,L.memoizedState=H4(x),L.childLanes=V4(A,le,x),m.memoizedState=Q4,E):(Bh(m),z4(m,be))}if(Le=A.memoizedState,Le!==null&&(be=Le.dehydrated,be!==null)){if(z)m.flags&256?(Bh(m),m.flags&=-257,m=$4(A,m,x)):m.memoizedState!==null?(Th(),m.child=A.child,m.flags|=128,m=null):(Th(),L=E.fallback,be=m.mode,E=N2({mode:"visible",children:E.children},be),L=Qu(L,be,x,null),L.flags|=2,E.return=m,L.return=m,E.sibling=L,m.child=E,gg(m,A.child,null,x),E=m.child,E.memoizedState=H4(x),E.childLanes=V4(A,le,x),m.memoizedState=Q4,m=L);else if(Bh(m),Sk(be)){if(le=be.nextSibling&&be.nextSibling.dataset,le)var lt=le.dgst;le=lt,E=Error(n(419)),E.stack="",E.digest=le,wh({value:E,source:null,stack:null}),m=$4(A,m,x)}else if(ji||Eh(A,m,x,!1),le=(x&A.childLanes)!==0,ji||le){if(le=ka,le!==null&&(E=x&-x,E=(E&42)!==0?1:qs(E),E=(E&(le.suspendedLanes|x))!==0?0:E,E!==0&&E!==Le.retryLane))throw Le.retryLane=E,Uu(A,E),cc(le,A,E),zL;be.data==="$?"||ck(),m=$4(A,m,x)}else be.data==="$?"?(m.flags|=192,m.child=A.child,m=null):(A=Le.treeContext,Qa=Zu(be.nextSibling),Bs=m,In=!0,Hd=null,qc=!1,A!==null&&(Nl[Zo++]=Vu,Nl[Zo++]=zu,Nl[Zo++]=ef,Vu=A.id,zu=A.overflow,ef=m),m=z4(m,E.children),m.flags|=4096);return m}return L?(Th(),L=E.fallback,be=m.mode,Le=A.child,lt=Le.sibling,E=Gc(Le,{mode:"hidden",children:E.children}),E.subtreeFlags=Le.subtreeFlags&65011712,lt!==null?L=Gc(lt,L):(L=Qu(L,be,x,null),L.flags|=2),L.return=m,E.return=m,E.sibling=L,m.child=E,E=L,L=m.child,be=A.child.memoizedState,be===null?be=H4(x):(Le=be.cachePool,Le!==null?(lt=Is._currentValue,Le=Le.parent!==lt?{parent:lt,pool:lt}:Le):Le=ue(),be={baseLanes:be.baseLanes|x,cachePool:Le}),L.memoizedState=be,L.childLanes=V4(A,le,x),m.memoizedState=Q4,E):(Bh(m),x=A.child,A=x.sibling,x=Gc(x,{mode:"visible",children:E.children}),x.return=m,x.sibling=null,A!==null&&(le=m.deletions,le===null?(m.deletions=[A],m.flags|=16):le.push(A)),m.child=x,m.memoizedState=null,x)}function z4(A,m){return m=N2({mode:"visible",children:m},A.mode),m.return=A,A.child=m}function N2(A,m){return A=Ii(22,A,null,m),A.lanes=0,A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},A}function $4(A,m,x){return gg(m,A.child,null,x),A=z4(m,m.pendingProps.children),A.flags|=2,m.memoizedState=null,A}function e8(A,m,x){A.lanes|=m;var E=A.alternate;E!==null&&(E.lanes|=m),ig(A.return,m,x)}function K4(A,m,x,E,L){var z=A.memoizedState;z===null?A.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:L}:(z.isBackwards=m,z.rendering=null,z.renderingStartTime=0,z.last=E,z.tail=x,z.tailMode=L)}function t8(A,m,x){var E=m.pendingProps,L=E.revealOrder,z=E.tail;if(Ji(A,m,E.children,x),E=gi.current,(E&2)!==0)E=E&1|2,m.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=m.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&e8(A,x,m);else if(A.tag===19)e8(A,x,m);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break e;for(;A.sibling===null;){if(A.return===null||A.return===m)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}E&=1}switch(W(gi,E),L){case"forwards":for(x=m.child,L=null;x!==null;)A=x.alternate,A!==null&&E2(A)===null&&(L=x),x=x.sibling;x=L,x===null?(L=m.child,m.child=null):(L=x.sibling,x.sibling=null),K4(m,!1,L,x,z);break;case"backwards":for(x=null,L=m.child,m.child=null;L!==null;){if(A=L.alternate,A!==null&&E2(A)===null){m.child=L;break}A=L.sibling,L.sibling=x,x=L,L=A}K4(m,!0,x,null,z);break;case"together":K4(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function uf(A,m,x){if(A!==null&&(m.dependencies=A.dependencies),Dh|=m.lanes,(x&m.childLanes)===0)if(A!==null){if(Eh(A,m,x,!1),(x&m.childLanes)===0)return null}else return null;if(A!==null&&m.child!==A.child)throw Error(n(153));if(m.child!==null){for(A=m.child,x=Gc(A,A.pendingProps),m.child=x,x.return=m;A.sibling!==null;)A=A.sibling,x=x.sibling=Gc(A,A.pendingProps),x.return=m;x.sibling=null}return m.child}function G4(A,m){return(A.lanes&m)!==0?!0:(A=A.dependencies,!!(A!==null&&lg(A)))}function Qce(A,m,x){switch(m.tag){case 3:oe(m,m.stateNode.containerInfo),Vd(m,Is,A.memoizedState.cache),el();break;case 27:case 5:ge(m);break;case 4:oe(m,m.stateNode.containerInfo);break;case 10:Vd(m,m.type,m.memoizedProps.value);break;case 13:var E=m.memoizedState;if(E!==null)return E.dehydrated!==null?(Bh(m),m.flags|=128,null):(x&m.child.childLanes)!==0?ZL(A,m,x):(Bh(m),A=uf(A,m,x),A!==null?A.sibling:null);Bh(m);break;case 19:var L=(A.flags&128)!==0;if(E=(x&m.childLanes)!==0,E||(Eh(A,m,x,!1),E=(x&m.childLanes)!==0),L){if(E)return t8(A,m,x);m.flags|=128}if(L=m.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),W(gi,gi.current),E)break;return null;case 22:case 23:return m.lanes=0,qL(A,m,x);case 24:Vd(m,Is,A.memoizedState.cache)}return uf(A,m,x)}function r8(A,m,x){if(A!==null)if(A.memoizedProps!==m.pendingProps)ji=!0;else{if(!G4(A,x)&&(m.flags&128)===0)return ji=!1,Qce(A,m,x);ji=(A.flags&131072)!==0}else ji=!1,In&&(m.flags&1048576)!==0&&n2(m,sg,m.index);switch(m.lanes=0,m.tag){case 16:e:{A=m.pendingProps;var E=m.elementType,L=E._init;if(E=L(E._payload),m.type=E,typeof E=="function")bh(E)?(A=Bm(E,A),m.tag=1,m=YL(null,m,E,A,x)):(m.tag=0,m=U4(null,m,E,A,x));else{if(E!=null){if(L=E.$$typeof,L===B){m.tag=11,m=$L(null,m,E,A,x);break e}else if(L===w){m.tag=14,m=KL(null,m,E,A,x);break e}}throw m=Q(E)||E,Error(n(306,m,""))}}return m;case 0:return U4(A,m,m.type,m.pendingProps,x);case 1:return E=m.type,L=Bm(E,m.pendingProps),YL(A,m,E,L,x);case 3:e:{if(oe(m,m.stateNode.containerInfo),A===null)throw Error(n(387));E=m.pendingProps;var z=m.memoizedState;L=z.element,Ke(A,m),Wt(m,E,null,x);var le=m.memoizedState;if(E=le.cache,Vd(m,Is,E),E!==z.cache&&og(m,[Is],x,!0),fr(),E=le.element,z.isDehydrated)if(z={element:E,isDehydrated:!1,cache:le.cache},m.updateQueue.baseState=z,m.memoizedState=z,m.flags&256){m=JL(A,m,E,x);break e}else if(E!==L){L=an(Error(n(424)),m),wh(L),m=JL(A,m,E,x);break e}else{switch(A=m.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(Qa=Zu(A.firstChild),Bs=m,In=!0,Hd=null,qc=!0,x=OL(m,null,E,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(el(),E===L){m=uf(A,m,x);break e}Ji(A,m,E,x)}m=m.child}return m;case 26:return S2(A,m),A===null?(x=iM(m.type,null,m.pendingProps,null))?m.memoizedState=x:In||(x=m.type,A=m.pendingProps,E=Q2(ie.current).createElement(x),E[En]=m,E[hn]=A,eo(E,x,A),qe(E),m.stateNode=E):m.memoizedState=iM(m.type,A.memoizedProps,m.pendingProps,A.memoizedState),null;case 27:return ge(m),A===null&&In&&(E=m.stateNode=nM(m.type,m.pendingProps,ie.current),Bs=m,qc=!0,L=Qa,Mh(m.type)?(Nk=L,Qa=Zu(E.firstChild)):Qa=L),Ji(A,m,m.pendingProps.children,x),S2(A,m),A===null&&(m.flags|=4194304),m.child;case 5:return A===null&&In&&((L=E=Qa)&&(E=mue(E,m.type,m.pendingProps,qc),E!==null?(m.stateNode=E,Bs=m,Qa=Zu(E.firstChild),qc=!1,L=!0):L=!1),L||rf(m)),ge(m),L=m.type,z=m.pendingProps,le=A!==null?A.memoizedProps:null,E=z.children,Ek(L,z)?E=null:le!==null&&Ek(L,le)&&(m.flags|=32),m.memoizedState!==null&&(L=nc(A,m,Kd,null,null,x),P1._currentValue=L),S2(A,m),Ji(A,m,E,x),m.child;case 6:return A===null&&In&&((A=x=Qa)&&(x=pue(x,m.pendingProps,qc),x!==null?(m.stateNode=x,Bs=m,Qa=null,A=!0):A=!1),A||rf(m)),null;case 13:return ZL(A,m,x);case 4:return oe(m,m.stateNode.containerInfo),E=m.pendingProps,A===null?m.child=gg(m,null,E,x):Ji(A,m,E,x),m.child;case 11:return $L(A,m,m.type,m.pendingProps,x);case 7:return Ji(A,m,m.pendingProps,x),m.child;case 8:return Ji(A,m,m.pendingProps.children,x),m.child;case 12:return Ji(A,m,m.pendingProps.children,x),m.child;case 10:return E=m.pendingProps,Vd(m,m.type,E.value),Ji(A,m,E.children,x),m.child;case 9:return L=m.type._context,E=m.pendingProps.children,Yc(m),L=Ts(L),E=E(L),m.flags|=1,Ji(A,m,E,x),m.child;case 14:return KL(A,m,m.type,m.pendingProps,x);case 15:return GL(A,m,m.type,m.pendingProps,x);case 19:return t8(A,m,x);case 31:return E=m.pendingProps,x=m.mode,E={mode:E.mode,children:E.children},A===null?(x=N2(E,x),x.ref=m.ref,m.child=x,x.return=m,m=x):(x=Gc(A.child,E),x.ref=m.ref,m.child=x,x.return=m,m=x),m;case 22:return qL(A,m,x);case 24:return Yc(m),E=Ts(Is),A===null?(L=X(),L===null&&(L=ka,z=s1(),L.pooledCache=z,z.refCount++,z!==null&&(L.pooledCacheLanes|=x),L=z),m.memoizedState={parent:E,cache:L},Ve(m),Vd(m,Is,L)):((A.lanes&x)!==0&&(Ke(A,m),Wt(m,null,null,x),fr()),L=A.memoizedState,z=m.memoizedState,L.parent!==E?(L={parent:E,cache:E},m.memoizedState=L,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=L),Vd(m,Is,E)):(E=z.cache,Vd(m,Is,E),E!==L.cache&&og(m,[Is],x,!0))),Ji(A,m,m.pendingProps.children,x),m.child;case 29:throw m.pendingProps}throw Error(n(156,m.tag))}function df(A){A.flags|=4}function n8(A,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!dM(m)){if(m=Zc.current,m!==null&&((kn&4194048)===kn?Wd!==null:(kn&62914560)!==kn&&(kn&536870912)===0||m!==Wd))throw rt=we,pe;A.flags|=8192}}function k2(A,m){m!==null&&(A.flags|=4),A.flags&16384&&(m=A.tag!==22?Vr():536870912,A.lanes|=m,yg|=m)}function y1(A,m){if(!In)switch(A.tailMode){case"hidden":m=A.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?A.tail=null:x.sibling=null;break;case"collapsed":x=A.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?m||A.tail===null?A.tail=null:A.tail.sibling=null:E.sibling=null}}function Ja(A){var m=A.alternate!==null&&A.alternate.child===A.child,x=0,E=0;if(m)for(var L=A.child;L!==null;)x|=L.lanes|L.childLanes,E|=L.subtreeFlags&65011712,E|=L.flags&65011712,L.return=A,L=L.sibling;else for(L=A.child;L!==null;)x|=L.lanes|L.childLanes,E|=L.subtreeFlags,E|=L.flags,L.return=A,L=L.sibling;return A.subtreeFlags|=E,A.childLanes=x,m}function Hce(A,m,x){var E=m.pendingProps;switch(pm(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ja(m),null;case 1:return Ja(m),null;case 3:return x=m.stateNode,E=null,A!==null&&(E=A.memoizedState.cache),m.memoizedState.cache!==E&&(m.flags|=2048),Xc(Is),ce(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(A===null||A.child===null)&&(Xi(m)?df(m):A===null||A.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,s2())),Ja(m),null;case 26:return x=m.memoizedState,A===null?(df(m),x!==null?(Ja(m),n8(m,x)):(Ja(m),m.flags&=-16777217)):x?x!==A.memoizedState?(df(m),Ja(m),n8(m,x)):(Ja(m),m.flags&=-16777217):(A.memoizedProps!==E&&df(m),Ja(m),m.flags&=-16777217),null;case 27:De(m),x=ie.current;var L=m.type;if(A!==null&&m.stateNode!=null)A.memoizedProps!==E&&df(m);else{if(!E){if(m.stateNode===null)throw Error(n(166));return Ja(m),null}A=Y.current,Xi(m)?a2(m):(A=nM(L,E,x),m.stateNode=A,df(m))}return Ja(m),null;case 5:if(De(m),x=m.type,A!==null&&m.stateNode!=null)A.memoizedProps!==E&&df(m);else{if(!E){if(m.stateNode===null)throw Error(n(166));return Ja(m),null}if(A=Y.current,Xi(m))a2(m);else{switch(L=Q2(ie.current),A){case 1:A=L.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:A=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":A=L.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":A=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":A=L.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof E.is=="string"?L.createElement("select",{is:E.is}):L.createElement("select"),E.multiple?A.multiple=!0:E.size&&(A.size=E.size);break;default:A=typeof E.is=="string"?L.createElement(x,{is:E.is}):L.createElement(x)}}A[En]=m,A[hn]=E;e:for(L=m.child;L!==null;){if(L.tag===5||L.tag===6)A.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===m)break e;for(;L.sibling===null;){if(L.return===null||L.return===m)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}m.stateNode=A;e:switch(eo(A,x,E),x){case"button":case"input":case"select":case"textarea":A=!!E.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&df(m)}}return Ja(m),m.flags&=-16777217,null;case 6:if(A&&m.stateNode!=null)A.memoizedProps!==E&&df(m);else{if(typeof E!="string"&&m.stateNode===null)throw Error(n(166));if(A=ie.current,Xi(m)){if(A=m.stateNode,x=m.memoizedProps,E=null,L=Bs,L!==null)switch(L.tag){case 27:case 5:E=L.memoizedProps}A[En]=m,A=!!(A.nodeValue===x||E!==null&&E.suppressHydrationWarning===!0||X8(A.nodeValue,x)),A||rf(m)}else A=Q2(A).createTextNode(E),A[En]=m,m.stateNode=A}return Ja(m),null;case 13:if(E=m.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(L=Xi(m),E!==null&&E.dehydrated!==null){if(A===null){if(!L)throw Error(n(318));if(L=m.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(n(317));L[En]=m}else el(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ja(m),L=!1}else L=s2(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=L),L=!0;if(!L)return m.flags&256?(cf(m),m):(cf(m),null)}if(cf(m),(m.flags&128)!==0)return m.lanes=x,m;if(x=E!==null,A=A!==null&&A.memoizedState!==null,x){E=m.child,L=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(L=E.alternate.memoizedState.cachePool.pool);var z=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(z=E.memoizedState.cachePool.pool),z!==L&&(E.flags|=2048)}return x!==A&&x&&(m.child.flags|=8192),k2(m,m.updateQueue),Ja(m),null;case 4:return ce(),A===null&&vk(m.stateNode.containerInfo),Ja(m),null;case 10:return Xc(m.type),Ja(m),null;case 19:if(R(gi),L=m.memoizedState,L===null)return Ja(m),null;if(E=(m.flags&128)!==0,z=L.rendering,z===null)if(E)y1(L,!1);else{if(fs!==0||A!==null&&(A.flags&128)!==0)for(A=m.child;A!==null;){if(z=E2(A),z!==null){for(m.flags|=128,y1(L,!1),A=z.updateQueue,m.updateQueue=A,k2(m,A),m.subtreeFlags=0,A=x,x=m.child;x!==null;)fm(x,A),x=x.sibling;return W(gi,gi.current&1|2),m.child}A=A.sibling}L.tail!==null&&je()>I2&&(m.flags|=128,E=!0,y1(L,!1),m.lanes=4194304)}else{if(!E)if(A=E2(z),A!==null){if(m.flags|=128,E=!0,A=A.updateQueue,m.updateQueue=A,k2(m,A),y1(L,!0),L.tail===null&&L.tailMode==="hidden"&&!z.alternate&&!In)return Ja(m),null}else 2*je()-L.renderingStartTime>I2&&x!==536870912&&(m.flags|=128,E=!0,y1(L,!1),m.lanes=4194304);L.isBackwards?(z.sibling=m.child,m.child=z):(A=L.last,A!==null?A.sibling=z:m.child=z,L.last=z)}return L.tail!==null?(m=L.tail,L.rendering=m,L.tail=m.sibling,L.renderingStartTime=je(),m.sibling=null,A=gi.current,W(gi,E?A&1|2:A&1),m):(Ja(m),null);case 22:case 23:return cf(m),Hr(),E=m.memoizedState!==null,A!==null?A.memoizedState!==null!==E&&(m.flags|=8192):E&&(m.flags|=8192),E?(x&536870912)!==0&&(m.flags&128)===0&&(Ja(m),m.subtreeFlags&6&&(m.flags|=8192)):Ja(m),x=m.updateQueue,x!==null&&k2(m,x.retryQueue),x=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(x=A.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==x&&(m.flags|=2048),A!==null&&R(U),null;case 24:return x=null,A!==null&&(x=A.memoizedState.cache),m.memoizedState.cache!==x&&(m.flags|=2048),Xc(Is),Ja(m),null;case 25:return null;case 30:return null}throw Error(n(156,m.tag))}function Vce(A,m){switch(pm(m),m.tag){case 1:return A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 3:return Xc(Is),ce(),A=m.flags,(A&65536)!==0&&(A&128)===0?(m.flags=A&-65537|128,m):null;case 26:case 27:case 5:return De(m),null;case 13:if(cf(m),A=m.memoizedState,A!==null&&A.dehydrated!==null){if(m.alternate===null)throw Error(n(340));el()}return A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 19:return R(gi),null;case 4:return ce(),null;case 10:return Xc(m.type),null;case 22:case 23:return cf(m),Hr(),A!==null&&R(U),A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 24:return Xc(Is),null;case 25:return null;default:return null}}function a8(A,m){switch(pm(m),m.tag){case 3:Xc(Is),ce();break;case 26:case 27:case 5:De(m);break;case 4:ce();break;case 13:cf(m);break;case 19:R(gi);break;case 10:Xc(m.type);break;case 22:case 23:cf(m),Hr(),A!==null&&R(U);break;case 24:Xc(Is)}}function w1(A,m){try{var x=m.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var L=E.next;x=L;do{if((x.tag&A)===A){E=void 0;var z=x.create,le=x.inst;E=z(),le.destroy=E}x=x.next}while(x!==L)}}catch(be){wa(m,m.return,be)}}function Ih(A,m,x){try{var E=m.updateQueue,L=E!==null?E.lastEffect:null;if(L!==null){var z=L.next;E=z;do{if((E.tag&A)===A){var le=E.inst,be=le.destroy;if(be!==void 0){le.destroy=void 0,L=m;var Le=x,lt=be;try{lt()}catch(Et){wa(L,Le,Et)}}}E=E.next}while(E!==z)}}catch(Et){wa(m,m.return,Et)}}function s8(A){var m=A.updateQueue;if(m!==null){var x=A.stateNode;try{Rn(m,x)}catch(E){wa(A,A.return,E)}}}function i8(A,m,x){x.props=Bm(A.type,A.memoizedProps),x.state=A.memoizedState;try{x.componentWillUnmount()}catch(E){wa(A,m,E)}}function E1(A,m){try{var x=A.ref;if(x!==null){switch(A.tag){case 26:case 27:case 5:var E=A.stateNode;break;case 30:E=A.stateNode;break;default:E=A.stateNode}typeof x=="function"?A.refCleanup=x(E):x.current=E}}catch(L){wa(A,m,L)}}function Xd(A,m){var x=A.ref,E=A.refCleanup;if(x!==null)if(typeof E=="function")try{E()}catch(L){wa(A,m,L)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(L){wa(A,m,L)}else x.current=null}function o8(A){var m=A.type,x=A.memoizedProps,E=A.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":x.autoFocus&&E.focus();break e;case"img":x.src?E.src=x.src:x.srcSet&&(E.srcset=x.srcSet)}}catch(L){wa(A,A.return,L)}}function q4(A,m,x){try{var E=A.stateNode;uue(E,A.type,x,m),E[hn]=m}catch(L){wa(A,A.return,L)}}function l8(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&Mh(A.type)||A.tag===4}function W4(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||l8(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&Mh(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function X4(A,m,x){var E=A.tag;if(E===5||E===6)A=A.stateNode,m?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(A,m):(m=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,m.appendChild(A),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=U2));else if(E!==4&&(E===27&&Mh(A.type)&&(x=A.stateNode,m=null),A=A.child,A!==null))for(X4(A,m,x),A=A.sibling;A!==null;)X4(A,m,x),A=A.sibling}function B2(A,m,x){var E=A.tag;if(E===5||E===6)A=A.stateNode,m?x.insertBefore(A,m):x.appendChild(A);else if(E!==4&&(E===27&&Mh(A.type)&&(x=A.stateNode),A=A.child,A!==null))for(B2(A,m,x),A=A.sibling;A!==null;)B2(A,m,x),A=A.sibling}function c8(A){var m=A.stateNode,x=A.memoizedProps;try{for(var E=A.type,L=m.attributes;L.length;)m.removeAttributeNode(L[0]);eo(m,E,x),m[En]=A,m[hn]=x}catch(z){wa(A,A.return,z)}}var Af=!1,Fs=!1,Y4=!1,u8=typeof WeakSet=="function"?WeakSet:Set,Fi=null;function zce(A,m){if(A=A.containerInfo,yk=G2,A=Wi(A),pi(A)){if("selectionStart"in A)var x={start:A.selectionStart,end:A.selectionEnd};else e:{x=(x=A.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var L=E.anchorOffset,z=E.focusNode;E=E.focusOffset;try{x.nodeType,z.nodeType}catch{x=null;break e}var le=0,be=-1,Le=-1,lt=0,Et=0,Tt=A,ft=null;t:for(;;){for(var mt;Tt!==x||L!==0&&Tt.nodeType!==3||(be=le+L),Tt!==z||E!==0&&Tt.nodeType!==3||(Le=le+E),Tt.nodeType===3&&(le+=Tt.nodeValue.length),(mt=Tt.firstChild)!==null;)ft=Tt,Tt=mt;for(;;){if(Tt===A)break t;if(ft===x&&++lt===L&&(be=le),ft===z&&++Et===E&&(Le=le),(mt=Tt.nextSibling)!==null)break;Tt=ft,ft=Tt.parentNode}Tt=mt}x=be===-1||Le===-1?null:{start:be,end:Le}}else x=null}x=x||{start:0,end:0}}else x=null;for(wk={focusedElem:A,selectionRange:x},G2=!1,Fi=m;Fi!==null;)if(m=Fi,A=m.child,(m.subtreeFlags&1024)!==0&&A!==null)A.return=m,Fi=A;else for(;Fi!==null;){switch(m=Fi,z=m.alternate,A=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((A&1024)!==0&&z!==null){A=void 0,x=m,L=z.memoizedProps,z=z.memoizedState,E=x.stateNode;try{var Lr=Bm(x.type,L,x.elementType===x.type);A=E.getSnapshotBeforeUpdate(Lr,z),E.__reactInternalSnapshotBeforeUpdate=A}catch(kr){wa(x,x.return,kr)}}break;case 3:if((A&1024)!==0){if(A=m.stateNode.containerInfo,x=A.nodeType,x===9)_k(A);else if(x===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":_k(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(n(163))}if(A=m.sibling,A!==null){A.return=m.return,Fi=A;break}Fi=m.return}}function d8(A,m,x){var E=x.flags;switch(x.tag){case 0:case 11:case 15:jh(A,x),E&4&&w1(5,x);break;case 1:if(jh(A,x),E&4)if(A=x.stateNode,m===null)try{A.componentDidMount()}catch(le){wa(x,x.return,le)}else{var L=Bm(x.type,m.memoizedProps);m=m.memoizedState;try{A.componentDidUpdate(L,m,A.__reactInternalSnapshotBeforeUpdate)}catch(le){wa(x,x.return,le)}}E&64&&s8(x),E&512&&E1(x,x.return);break;case 3:if(jh(A,x),E&64&&(A=x.updateQueue,A!==null)){if(m=null,x.child!==null)switch(x.child.tag){case 27:case 5:m=x.child.stateNode;break;case 1:m=x.child.stateNode}try{Rn(A,m)}catch(le){wa(x,x.return,le)}}break;case 27:m===null&&E&4&&c8(x);case 26:case 5:jh(A,x),m===null&&E&4&&o8(x),E&512&&E1(x,x.return);break;case 12:jh(A,x);break;case 13:jh(A,x),E&4&&h8(A,x),E&64&&(A=x.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(x=Zce.bind(null,x),gue(A,x))));break;case 22:if(E=x.memoizedState!==null||Af,!E){m=m!==null&&m.memoizedState!==null||Fs,L=Af;var z=Fs;Af=E,(Fs=m)&&!z?Fh(A,x,(x.subtreeFlags&8772)!==0):jh(A,x),Af=L,Fs=z}break;case 30:break;default:jh(A,x)}}function A8(A){var m=A.alternate;m!==null&&(A.alternate=null,A8(m)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(m=A.stateNode,m!==null&&Ce(m)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Ha=null,Bl=!1;function ff(A,m,x){for(x=x.child;x!==null;)f8(A,m,x),x=x.sibling}function f8(A,m,x){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(gt,x)}catch{}switch(x.tag){case 26:Fs||Xd(x,m),ff(A,m,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Fs||Xd(x,m);var E=Ha,L=Bl;Mh(x.type)&&(Ha=x.stateNode,Bl=!1),ff(A,m,x),j1(x.stateNode),Ha=E,Bl=L;break;case 5:Fs||Xd(x,m);case 6:if(E=Ha,L=Bl,Ha=null,ff(A,m,x),Ha=E,Bl=L,Ha!==null)if(Bl)try{(Ha.nodeType===9?Ha.body:Ha.nodeName==="HTML"?Ha.ownerDocument.body:Ha).removeChild(x.stateNode)}catch(z){wa(x,m,z)}else try{Ha.removeChild(x.stateNode)}catch(z){wa(x,m,z)}break;case 18:Ha!==null&&(Bl?(A=Ha,tM(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,x.stateNode),U1(A)):tM(Ha,x.stateNode));break;case 4:E=Ha,L=Bl,Ha=x.stateNode.containerInfo,Bl=!0,ff(A,m,x),Ha=E,Bl=L;break;case 0:case 11:case 14:case 15:Fs||Ih(2,x,m),Fs||Ih(4,x,m),ff(A,m,x);break;case 1:Fs||(Xd(x,m),E=x.stateNode,typeof E.componentWillUnmount=="function"&&i8(x,m,E)),ff(A,m,x);break;case 21:ff(A,m,x);break;case 22:Fs=(E=Fs)||x.memoizedState!==null,ff(A,m,x),Fs=E;break;default:ff(A,m,x)}}function h8(A,m){if(m.memoizedState===null&&(A=m.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{U1(A)}catch(x){wa(m,m.return,x)}}function $ce(A){switch(A.tag){case 13:case 19:var m=A.stateNode;return m===null&&(m=A.stateNode=new u8),m;case 22:return A=A.stateNode,m=A._retryCache,m===null&&(m=A._retryCache=new u8),m;default:throw Error(n(435,A.tag))}}function J4(A,m){var x=$ce(A);m.forEach(function(E){var L=eue.bind(null,A,E);x.has(E)||(x.add(E),E.then(L,L))})}function sc(A,m){var x=m.deletions;if(x!==null)for(var E=0;E<x.length;E++){var L=x[E],z=A,le=m,be=le;e:for(;be!==null;){switch(be.tag){case 27:if(Mh(be.type)){Ha=be.stateNode,Bl=!1;break e}break;case 5:Ha=be.stateNode,Bl=!1;break e;case 3:case 4:Ha=be.stateNode.containerInfo,Bl=!0;break e}be=be.return}if(Ha===null)throw Error(n(160));f8(z,le,L),Ha=null,Bl=!1,z=L.alternate,z!==null&&(z.return=null),L.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)m8(m,A),m=m.sibling}var Ju=null;function m8(A,m){var x=A.alternate,E=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:sc(m,A),ic(A),E&4&&(Ih(3,A,A.return),w1(3,A),Ih(5,A,A.return));break;case 1:sc(m,A),ic(A),E&512&&(Fs||x===null||Xd(x,x.return)),E&64&&Af&&(A=A.updateQueue,A!==null&&(E=A.callbacks,E!==null&&(x=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=x===null?E:x.concat(E))));break;case 26:var L=Ju;if(sc(m,A),ic(A),E&512&&(Fs||x===null||Xd(x,x.return)),E&4){var z=x!==null?x.memoizedState:null;if(E=A.memoizedState,x===null)if(E===null)if(A.stateNode===null){e:{E=A.type,x=A.memoizedProps,L=L.ownerDocument||L;t:switch(E){case"title":z=L.getElementsByTagName("title")[0],(!z||z[Ee]||z[En]||z.namespaceURI==="http://www.w3.org/2000/svg"||z.hasAttribute("itemprop"))&&(z=L.createElement(E),L.head.insertBefore(z,L.querySelector("head > title"))),eo(z,E,x),z[En]=A,qe(z),E=z;break e;case"link":var le=cM("link","href",L).get(E+(x.href||""));if(le){for(var be=0;be<le.length;be++)if(z=le[be],z.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&z.getAttribute("rel")===(x.rel==null?null:x.rel)&&z.getAttribute("title")===(x.title==null?null:x.title)&&z.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){le.splice(be,1);break t}}z=L.createElement(E),eo(z,E,x),L.head.appendChild(z);break;case"meta":if(le=cM("meta","content",L).get(E+(x.content||""))){for(be=0;be<le.length;be++)if(z=le[be],z.getAttribute("content")===(x.content==null?null:""+x.content)&&z.getAttribute("name")===(x.name==null?null:x.name)&&z.getAttribute("property")===(x.property==null?null:x.property)&&z.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&z.getAttribute("charset")===(x.charSet==null?null:x.charSet)){le.splice(be,1);break t}}z=L.createElement(E),eo(z,E,x),L.head.appendChild(z);break;default:throw Error(n(468,E))}z[En]=A,qe(z),E=z}A.stateNode=E}else uM(L,A.type,A.stateNode);else A.stateNode=lM(L,E,A.memoizedProps);else z!==E?(z===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):z.count--,E===null?uM(L,A.type,A.stateNode):lM(L,E,A.memoizedProps)):E===null&&A.stateNode!==null&&q4(A,A.memoizedProps,x.memoizedProps)}break;case 27:sc(m,A),ic(A),E&512&&(Fs||x===null||Xd(x,x.return)),x!==null&&E&4&&q4(A,A.memoizedProps,x.memoizedProps);break;case 5:if(sc(m,A),ic(A),E&512&&(Fs||x===null||Xd(x,x.return)),A.flags&32){L=A.stateNode;try{mo(L,"")}catch(mt){wa(A,A.return,mt)}}E&4&&A.stateNode!=null&&(L=A.memoizedProps,q4(A,L,x!==null?x.memoizedProps:L)),E&1024&&(Y4=!0);break;case 6:if(sc(m,A),ic(A),E&4){if(A.stateNode===null)throw Error(n(162));E=A.memoizedProps,x=A.stateNode;try{x.nodeValue=E}catch(mt){wa(A,A.return,mt)}}break;case 3:if(z2=null,L=Ju,Ju=H2(m.containerInfo),sc(m,A),Ju=L,ic(A),E&4&&x!==null&&x.memoizedState.isDehydrated)try{U1(m.containerInfo)}catch(mt){wa(A,A.return,mt)}Y4&&(Y4=!1,p8(A));break;case 4:E=Ju,Ju=H2(A.stateNode.containerInfo),sc(m,A),ic(A),Ju=E;break;case 12:sc(m,A),ic(A);break;case 13:sc(m,A),ic(A),A.child.flags&8192&&A.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(ak=je()),E&4&&(E=A.updateQueue,E!==null&&(A.updateQueue=null,J4(A,E)));break;case 22:L=A.memoizedState!==null;var Le=x!==null&&x.memoizedState!==null,lt=Af,Et=Fs;if(Af=lt||L,Fs=Et||Le,sc(m,A),Fs=Et,Af=lt,ic(A),E&8192)e:for(m=A.stateNode,m._visibility=L?m._visibility&-2:m._visibility|1,L&&(x===null||Le||Af||Fs||Tm(A)),x=null,m=A;;){if(m.tag===5||m.tag===26){if(x===null){Le=x=m;try{if(z=Le.stateNode,L)le=z.style,typeof le.setProperty=="function"?le.setProperty("display","none","important"):le.display="none";else{be=Le.stateNode;var Tt=Le.memoizedProps.style,ft=Tt!=null&&Tt.hasOwnProperty("display")?Tt.display:null;be.style.display=ft==null||typeof ft=="boolean"?"":(""+ft).trim()}}catch(mt){wa(Le,Le.return,mt)}}}else if(m.tag===6){if(x===null){Le=m;try{Le.stateNode.nodeValue=L?"":Le.memoizedProps}catch(mt){wa(Le,Le.return,mt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===A)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===A)break e;for(;m.sibling===null;){if(m.return===null||m.return===A)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}E&4&&(E=A.updateQueue,E!==null&&(x=E.retryQueue,x!==null&&(E.retryQueue=null,J4(A,x))));break;case 19:sc(m,A),ic(A),E&4&&(E=A.updateQueue,E!==null&&(A.updateQueue=null,J4(A,E)));break;case 30:break;case 21:break;default:sc(m,A),ic(A)}}function ic(A){var m=A.flags;if(m&2){try{for(var x,E=A.return;E!==null;){if(l8(E)){x=E;break}E=E.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var L=x.stateNode,z=W4(A);B2(A,z,L);break;case 5:var le=x.stateNode;x.flags&32&&(mo(le,""),x.flags&=-33);var be=W4(A);B2(A,be,le);break;case 3:case 4:var Le=x.stateNode.containerInfo,lt=W4(A);X4(A,lt,Le);break;default:throw Error(n(161))}}catch(Et){wa(A,A.return,Et)}A.flags&=-3}m&4096&&(A.flags&=-4097)}function p8(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var m=A;p8(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),A=A.sibling}}function jh(A,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)d8(A,m.alternate,m),m=m.sibling}function Tm(A){for(A=A.child;A!==null;){var m=A;switch(m.tag){case 0:case 11:case 14:case 15:Ih(4,m,m.return),Tm(m);break;case 1:Xd(m,m.return);var x=m.stateNode;typeof x.componentWillUnmount=="function"&&i8(m,m.return,x),Tm(m);break;case 27:j1(m.stateNode);case 26:case 5:Xd(m,m.return),Tm(m);break;case 22:m.memoizedState===null&&Tm(m);break;case 30:Tm(m);break;default:Tm(m)}A=A.sibling}}function Fh(A,m,x){for(x=x&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var E=m.alternate,L=A,z=m,le=z.flags;switch(z.tag){case 0:case 11:case 15:Fh(L,z,x),w1(4,z);break;case 1:if(Fh(L,z,x),E=z,L=E.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(lt){wa(E,E.return,lt)}if(E=z,L=E.updateQueue,L!==null){var be=E.stateNode;try{var Le=L.shared.hiddenCallbacks;if(Le!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Le.length;L++)Sn(Le[L],be)}catch(lt){wa(E,E.return,lt)}}x&&le&64&&s8(z),E1(z,z.return);break;case 27:c8(z);case 26:case 5:Fh(L,z,x),x&&E===null&&le&4&&o8(z),E1(z,z.return);break;case 12:Fh(L,z,x);break;case 13:Fh(L,z,x),x&&le&4&&h8(L,z);break;case 22:z.memoizedState===null&&Fh(L,z,x),E1(z,z.return);break;case 30:break;default:Fh(L,z,x)}m=m.sibling}}function Z4(A,m){var x=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(x=A.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==x&&(A!=null&&A.refCount++,x!=null&&gm(x))}function ek(A,m){A=null,m.alternate!==null&&(A=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==A&&(m.refCount++,A!=null&&gm(A))}function Yd(A,m,x,E){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)g8(A,m,x,E),m=m.sibling}function g8(A,m,x,E){var L=m.flags;switch(m.tag){case 0:case 11:case 15:Yd(A,m,x,E),L&2048&&w1(9,m);break;case 1:Yd(A,m,x,E);break;case 3:Yd(A,m,x,E),L&2048&&(A=null,m.alternate!==null&&(A=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==A&&(m.refCount++,A!=null&&gm(A)));break;case 12:if(L&2048){Yd(A,m,x,E),A=m.stateNode;try{var z=m.memoizedProps,le=z.id,be=z.onPostCommit;typeof be=="function"&&be(le,m.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(Le){wa(m,m.return,Le)}}else Yd(A,m,x,E);break;case 13:Yd(A,m,x,E);break;case 23:break;case 22:z=m.stateNode,le=m.alternate,m.memoizedState!==null?z._visibility&2?Yd(A,m,x,E):C1(A,m):z._visibility&2?Yd(A,m,x,E):(z._visibility|=2,vg(A,m,x,E,(m.subtreeFlags&10256)!==0)),L&2048&&Z4(le,m);break;case 24:Yd(A,m,x,E),L&2048&&ek(m.alternate,m);break;default:Yd(A,m,x,E)}}function vg(A,m,x,E,L){for(L=L&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var z=A,le=m,be=x,Le=E,lt=le.flags;switch(le.tag){case 0:case 11:case 15:vg(z,le,be,Le,L),w1(8,le);break;case 23:break;case 22:var Et=le.stateNode;le.memoizedState!==null?Et._visibility&2?vg(z,le,be,Le,L):C1(z,le):(Et._visibility|=2,vg(z,le,be,Le,L)),L&&lt&2048&&Z4(le.alternate,le);break;case 24:vg(z,le,be,Le,L),L&&lt&2048&&ek(le.alternate,le);break;default:vg(z,le,be,Le,L)}m=m.sibling}}function C1(A,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var x=A,E=m,L=E.flags;switch(E.tag){case 22:C1(x,E),L&2048&&Z4(E.alternate,E);break;case 24:C1(x,E),L&2048&&ek(E.alternate,E);break;default:C1(x,E)}m=m.sibling}}var _1=8192;function xg(A){if(A.subtreeFlags&_1)for(A=A.child;A!==null;)v8(A),A=A.sibling}function v8(A){switch(A.tag){case 26:xg(A),A.flags&_1&&A.memoizedState!==null&&Tue(Ju,A.memoizedState,A.memoizedProps);break;case 5:xg(A);break;case 3:case 4:var m=Ju;Ju=H2(A.stateNode.containerInfo),xg(A),Ju=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=_1,_1=16777216,xg(A),_1=m):xg(A));break;default:xg(A)}}function x8(A){var m=A.alternate;if(m!==null&&(A=m.child,A!==null)){m.child=null;do m=A.sibling,A.sibling=null,A=m;while(A!==null)}}function S1(A){var m=A.deletions;if((A.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];Fi=E,y8(E,A)}x8(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)b8(A),A=A.sibling}function b8(A){switch(A.tag){case 0:case 11:case 15:S1(A),A.flags&2048&&Ih(9,A,A.return);break;case 3:S1(A);break;case 12:S1(A);break;case 22:var m=A.stateNode;A.memoizedState!==null&&m._visibility&2&&(A.return===null||A.return.tag!==13)?(m._visibility&=-3,T2(A)):S1(A);break;default:S1(A)}}function T2(A){var m=A.deletions;if((A.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];Fi=E,y8(E,A)}x8(A)}for(A=A.child;A!==null;){switch(m=A,m.tag){case 0:case 11:case 15:Ih(8,m,m.return),T2(m);break;case 22:x=m.stateNode,x._visibility&2&&(x._visibility&=-3,T2(m));break;default:T2(m)}A=A.sibling}}function y8(A,m){for(;Fi!==null;){var x=Fi;switch(x.tag){case 0:case 11:case 15:Ih(8,x,m);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var E=x.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:gm(x.memoizedState.cache)}if(E=x.child,E!==null)E.return=x,Fi=E;else e:for(x=A;Fi!==null;){E=Fi;var L=E.sibling,z=E.return;if(A8(E),E===x){Fi=null;break e}if(L!==null){L.return=z,Fi=L;break e}Fi=z}}}var Kce={getCacheForType:function(A){var m=Ts(Is),x=m.data.get(A);return x===void 0&&(x=A(),m.data.set(A,x)),x}},Gce=typeof WeakMap=="function"?WeakMap:Map,ia=0,ka=null,mn=null,kn=0,oa=0,oc=null,Oh=!1,bg=!1,tk=!1,hf=0,fs=0,Dh=0,Im=0,rk=0,eu=0,yg=0,N1=null,Tl=null,nk=!1,ak=0,I2=1/0,j2=null,Ph=null,Zi=0,Rh=null,wg=null,Eg=0,sk=0,ik=null,w8=null,k1=0,ok=null;function lc(){if((ia&2)!==0&&kn!==0)return kn&-kn;if(q.T!==null){var A=nf;return A!==0?A:hk()}return Ga()}function E8(){eu===0&&(eu=(kn&536870912)===0||In?wn():536870912);var A=Zc.current;return A!==null&&(A.flags|=32),eu}function cc(A,m,x){(A===ka&&(oa===2||oa===9)||A.cancelPendingCommit!==null)&&(Cg(A,0),Lh(A,kn,eu,!1)),ra(A,x),((ia&2)===0||A!==ka)&&(A===ka&&((ia&2)===0&&(Im|=x),fs===4&&Lh(A,kn,eu,!1)),Jd(A))}function C8(A,m,x){if((ia&6)!==0)throw Error(n(327));var E=!x&&(m&124)===0&&(m&A.expiredLanes)===0||Ur(A,m),L=E?Xce(A,m):uk(A,m,!0),z=E;do{if(L===0){bg&&!E&&Lh(A,m,0,!1);break}else{if(x=A.current.alternate,z&&!qce(x)){L=uk(A,m,!1),z=!1;continue}if(L===2){if(z=m,A.errorRecoveryDisabledLanes&z)var le=0;else le=A.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){m=le;e:{var be=A;L=N1;var Le=be.current.memoizedState.isDehydrated;if(Le&&(Cg(be,le).flags|=256),le=uk(be,le,!1),le!==2){if(tk&&!Le){be.errorRecoveryDisabledLanes|=z,Im|=z,L=4;break e}z=Tl,Tl=L,z!==null&&(Tl===null?Tl=z:Tl.push.apply(Tl,z))}L=le}if(z=!1,L!==2)continue}}if(L===1){Cg(A,0),Lh(A,m,0,!0);break}e:{switch(E=A,z=L,z){case 0:case 1:throw Error(n(345));case 4:if((m&4194048)!==m)break;case 6:Lh(E,m,eu,!Oh);break e;case 2:Tl=null;break;case 3:case 5:break;default:throw Error(n(329))}if((m&62914560)===m&&(L=ak+300-je(),10<L)){if(Lh(E,m,eu,!Oh),Ut(E,0,!0)!==0)break e;E.timeoutHandle=Z8(_8.bind(null,E,x,Tl,j2,nk,m,eu,Im,yg,Oh,z,2,-0,0),L);break e}_8(E,x,Tl,j2,nk,m,eu,Im,yg,Oh,z,0,-0,0)}}break}while(!0);Jd(A)}function _8(A,m,x,E,L,z,le,be,Le,lt,Et,Tt,ft,mt){if(A.timeoutHandle=-1,Tt=m.subtreeFlags,(Tt&8192||(Tt&16785408)===16785408)&&(D1={stylesheets:null,count:0,unsuspend:Bue},v8(m),Tt=Iue(),Tt!==null)){A.cancelPendingCommit=Tt(j8.bind(null,A,m,z,x,E,L,le,be,Le,Et,1,ft,mt)),Lh(A,z,le,!lt);return}j8(A,m,z,x,E,L,le,be,Le)}function qce(A){for(var m=A;;){var x=m.tag;if((x===0||x===11||x===15)&&m.flags&16384&&(x=m.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var E=0;E<x.length;E++){var L=x[E],z=L.getSnapshot;L=L.value;try{if(!Ys(z(),L))return!1}catch{return!1}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===A)break;for(;m.sibling===null;){if(m.return===null||m.return===A)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Lh(A,m,x,E){m&=~rk,m&=~Im,A.suspendedLanes|=m,A.pingedLanes&=~m,E&&(A.warmLanes|=m),E=A.expirationTimes;for(var L=m;0<L;){var z=31-Re(L),le=1<<z;E[z]=-1,L&=~le}x!==0&&er(A,x,m)}function F2(){return(ia&6)===0?(B1(0),!1):!0}function lk(){if(mn!==null){if(oa===0)var A=mn.return;else A=mn,Ku=Zs=null,ug(A),pg=null,x1=0,A=mn;for(;A!==null;)a8(A.alternate,A),A=A.return;mn=null}}function Cg(A,m){var x=A.timeoutHandle;x!==-1&&(A.timeoutHandle=-1,Aue(x)),x=A.cancelPendingCommit,x!==null&&(A.cancelPendingCommit=null,x()),lk(),ka=A,mn=x=Gc(A.current,null),kn=m,oa=0,oc=null,Oh=!1,bg=Ur(A,m),tk=!1,yg=eu=rk=Im=Dh=fs=0,Tl=N1=null,nk=!1,(m&8)!==0&&(m|=m&32);var E=A.entangledLanes;if(E!==0)for(A=A.entanglements,E&=m;0<E;){var L=31-Re(E),z=1<<L;m|=A[L],E&=~z}return hf=m,_l(),x}function S8(A,m){Cr=null,q.H=b2,m===he||m===ve?(m=Xe(),oa=3):m===pe?(m=Xe(),oa=4):oa=m===zL?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,oc=m,mn===null&&(fs=1,_2(A,an(m,A.current)))}function N8(){var A=q.H;return q.H=b2,A===null?b2:A}function k8(){var A=q.A;return q.A=Kce,A}function ck(){fs=4,Oh||(kn&4194048)!==kn&&Zc.current!==null||(bg=!0),(Dh&134217727)===0&&(Im&134217727)===0||ka===null||Lh(ka,kn,eu,!1)}function uk(A,m,x){var E=ia;ia|=2;var L=N8(),z=k8();(ka!==A||kn!==m)&&(j2=null,Cg(A,m)),m=!1;var le=fs;e:do try{if(oa!==0&&mn!==null){var be=mn,Le=oc;switch(oa){case 8:lk(),le=6;break e;case 3:case 2:case 9:case 6:Zc.current===null&&(m=!0);var lt=oa;if(oa=0,oc=null,_g(A,be,Le,lt),x&&bg){le=0;break e}break;default:lt=oa,oa=0,oc=null,_g(A,be,Le,lt)}}Wce(),le=fs;break}catch(Et){S8(A,Et)}while(!0);return m&&A.shellSuspendCounter++,Ku=Zs=null,ia=E,q.H=L,q.A=z,mn===null&&(ka=null,kn=0,_l()),le}function Wce(){for(;mn!==null;)B8(mn)}function Xce(A,m){var x=ia;ia|=2;var E=N8(),L=k8();ka!==A||kn!==m?(j2=null,I2=je()+500,Cg(A,m)):bg=Ur(A,m);e:do try{if(oa!==0&&mn!==null){m=mn;var z=oc;t:switch(oa){case 1:oa=0,oc=null,_g(A,m,z,1);break;case 2:case 9:if(ke(z)){oa=0,oc=null,T8(m);break}m=function(){oa!==2&&oa!==9||ka!==A||(oa=7),Jd(A)},z.then(m,m);break e;case 3:oa=7;break e;case 4:oa=5;break e;case 7:ke(z)?(oa=0,oc=null,T8(m)):(oa=0,oc=null,_g(A,m,z,7));break;case 5:var le=null;switch(mn.tag){case 26:le=mn.memoizedState;case 5:case 27:var be=mn;if(!le||dM(le)){oa=0,oc=null;var Le=be.sibling;if(Le!==null)mn=Le;else{var lt=be.return;lt!==null?(mn=lt,O2(lt)):mn=null}break t}}oa=0,oc=null,_g(A,m,z,5);break;case 6:oa=0,oc=null,_g(A,m,z,6);break;case 8:lk(),fs=6;break e;default:throw Error(n(462))}}Yce();break}catch(Et){S8(A,Et)}while(!0);return Ku=Zs=null,q.H=E,q.A=L,ia=x,mn!==null?0:(ka=null,kn=0,_l(),fs)}function Yce(){for(;mn!==null&&!_e();)B8(mn)}function B8(A){var m=r8(A.alternate,A,hf);A.memoizedProps=A.pendingProps,m===null?O2(A):mn=m}function T8(A){var m=A,x=m.alternate;switch(m.tag){case 15:case 0:m=XL(x,m,m.pendingProps,m.type,void 0,kn);break;case 11:m=XL(x,m,m.pendingProps,m.type.render,m.ref,kn);break;case 5:ug(m);default:a8(x,m),m=mn=fm(m,hf),m=r8(x,m,hf)}A.memoizedProps=A.pendingProps,m===null?O2(A):mn=m}function _g(A,m,x,E){Ku=Zs=null,ug(m),pg=null,x1=0;var L=m.return;try{if(Uce(A,L,m,x,kn)){fs=1,_2(A,an(x,A.current)),mn=null;return}}catch(z){if(L!==null)throw mn=L,z;fs=1,_2(A,an(x,A.current)),mn=null;return}m.flags&32768?(In||E===1?A=!0:bg||(kn&536870912)!==0?A=!1:(Oh=A=!0,(E===2||E===9||E===3||E===6)&&(E=Zc.current,E!==null&&E.tag===13&&(E.flags|=16384))),I8(m,A)):O2(m)}function O2(A){var m=A;do{if((m.flags&32768)!==0){I8(m,Oh);return}A=m.return;var x=Hce(m.alternate,m,hf);if(x!==null){mn=x;return}if(m=m.sibling,m!==null){mn=m;return}mn=m=A}while(m!==null);fs===0&&(fs=5)}function I8(A,m){do{var x=Vce(A.alternate,A);if(x!==null){x.flags&=32767,mn=x;return}if(x=A.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!m&&(A=A.sibling,A!==null)){mn=A;return}mn=A=x}while(A!==null);fs=6,mn=null}function j8(A,m,x,E,L,z,le,be,Le){A.cancelPendingCommit=null;do D2();while(Zi!==0);if((ia&6)!==0)throw Error(n(327));if(m!==null){if(m===A.current)throw Error(n(177));if(z=m.lanes|m.childLanes,z|=Wa,cr(A,x,z,le,be,Le),A===ka&&(mn=ka=null,kn=0),wg=m,Rh=A,Eg=x,sk=z,ik=L,w8=E,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,tue(Oe,function(){return R8(),null})):(A.callbackNode=null,A.callbackPriority=0),E=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||E){E=q.T,q.T=null,L=Z.p,Z.p=2,le=ia,ia|=4;try{zce(A,m,x)}finally{ia=le,Z.p=L,q.T=E}}Zi=1,F8(),O8(),D8()}}function F8(){if(Zi===1){Zi=0;var A=Rh,m=wg,x=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||x){x=q.T,q.T=null;var E=Z.p;Z.p=2;var L=ia;ia|=4;try{m8(m,A);var z=wk,le=Wi(A.containerInfo),be=z.focusedElem,Le=z.selectionRange;if(le!==be&&be&&be.ownerDocument&&Fd(be.ownerDocument.documentElement,be)){if(Le!==null&&pi(be)){var lt=Le.start,Et=Le.end;if(Et===void 0&&(Et=lt),"selectionStart"in be)be.selectionStart=lt,be.selectionEnd=Math.min(Et,be.value.length);else{var Tt=be.ownerDocument||document,ft=Tt&&Tt.defaultView||window;if(ft.getSelection){var mt=ft.getSelection(),Lr=be.textContent.length,kr=Math.min(Le.start,Lr),xa=Le.end===void 0?kr:Math.min(Le.end,Lr);!mt.extend&&kr>xa&&(le=xa,xa=kr,kr=le);var Je=Lu(be,kr),ze=Lu(be,xa);if(Je&&ze&&(mt.rangeCount!==1||mt.anchorNode!==Je.node||mt.anchorOffset!==Je.offset||mt.focusNode!==ze.node||mt.focusOffset!==ze.offset)){var at=Tt.createRange();at.setStart(Je.node,Je.offset),mt.removeAllRanges(),kr>xa?(mt.addRange(at),mt.extend(ze.node,ze.offset)):(at.setEnd(ze.node,ze.offset),mt.addRange(at))}}}}for(Tt=[],mt=be;mt=mt.parentNode;)mt.nodeType===1&&Tt.push({element:mt,left:mt.scrollLeft,top:mt.scrollTop});for(typeof be.focus=="function"&&be.focus(),be=0;be<Tt.length;be++){var _t=Tt[be];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}G2=!!yk,wk=yk=null}finally{ia=L,Z.p=E,q.T=x}}A.current=m,Zi=2}}function O8(){if(Zi===2){Zi=0;var A=Rh,m=wg,x=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||x){x=q.T,q.T=null;var E=Z.p;Z.p=2;var L=ia;ia|=4;try{d8(A,m.alternate,m)}finally{ia=L,Z.p=E,q.T=x}}Zi=3}}function D8(){if(Zi===4||Zi===3){Zi=0,Ae();var A=Rh,m=wg,x=Eg,E=w8;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Zi=5:(Zi=0,wg=Rh=null,P8(A,A.pendingLanes));var L=A.pendingLanes;if(L===0&&(Ph=null),ha(x),m=m.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(gt,m,void 0,(m.current.flags&128)===128)}catch{}if(E!==null){m=q.T,L=Z.p,Z.p=2,q.T=null;try{for(var z=A.onRecoverableError,le=0;le<E.length;le++){var be=E[le];z(be.value,{componentStack:be.stack})}}finally{q.T=m,Z.p=L}}(Eg&3)!==0&&D2(),Jd(A),L=A.pendingLanes,(x&4194090)!==0&&(L&42)!==0?A===ok?k1++:(k1=0,ok=A):k1=0,B1(0)}}function P8(A,m){(A.pooledCacheLanes&=m)===0&&(m=A.pooledCache,m!=null&&(A.pooledCache=null,gm(m)))}function D2(A){return F8(),O8(),D8(),R8()}function R8(){if(Zi!==5)return!1;var A=Rh,m=sk;sk=0;var x=ha(Eg),E=q.T,L=Z.p;try{Z.p=32>x?32:x,q.T=null,x=ik,ik=null;var z=Rh,le=Eg;if(Zi=0,wg=Rh=null,Eg=0,(ia&6)!==0)throw Error(n(331));var be=ia;if(ia|=4,b8(z.current),g8(z,z.current,le,x),ia=be,B1(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(gt,z)}catch{}return!0}finally{Z.p=L,q.T=E,P8(A,m)}}function L8(A,m,x){m=an(x,m),m=M4(A.stateNode,m,2),A=Nt(A,m,2),A!==null&&(ra(A,2),Jd(A))}function wa(A,m,x){if(A.tag===3)L8(A,A,x);else for(;m!==null;){if(m.tag===3){L8(m,A,x);break}else if(m.tag===1){var E=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ph===null||!Ph.has(E))){A=an(x,A),x=HL(2),E=Nt(m,x,2),E!==null&&(VL(x,E,m,A),ra(E,2),Jd(E));break}}m=m.return}}function dk(A,m,x){var E=A.pingCache;if(E===null){E=A.pingCache=new Gce;var L=new Set;E.set(m,L)}else L=E.get(m),L===void 0&&(L=new Set,E.set(m,L));L.has(x)||(tk=!0,L.add(x),A=Jce.bind(null,A,m,x),m.then(A,A))}function Jce(A,m,x){var E=A.pingCache;E!==null&&E.delete(m),A.pingedLanes|=A.suspendedLanes&x,A.warmLanes&=~x,ka===A&&(kn&x)===x&&(fs===4||fs===3&&(kn&62914560)===kn&&300>je()-ak?(ia&2)===0&&Cg(A,0):rk|=x,yg===kn&&(yg=0)),Jd(A)}function M8(A,m){m===0&&(m=Vr()),A=Uu(A,m),A!==null&&(ra(A,m),Jd(A))}function Zce(A){var m=A.memoizedState,x=0;m!==null&&(x=m.retryLane),M8(A,x)}function eue(A,m){var x=0;switch(A.tag){case 13:var E=A.stateNode,L=A.memoizedState;L!==null&&(x=L.retryLane);break;case 19:E=A.stateNode;break;case 22:E=A.stateNode._retryCache;break;default:throw Error(n(314))}E!==null&&E.delete(m),M8(A,x)}function tue(A,m){return Se(A,m)}var P2=null,Sg=null,Ak=!1,R2=!1,fk=!1,jm=0;function Jd(A){A!==Sg&&A.next===null&&(Sg===null?P2=Sg=A:Sg=Sg.next=A),R2=!0,Ak||(Ak=!0,nue())}function B1(A,m){if(!fk&&R2){fk=!0;do for(var x=!1,E=P2;E!==null;){if(A!==0){var L=E.pendingLanes;if(L===0)var z=0;else{var le=E.suspendedLanes,be=E.pingedLanes;z=(1<<31-Re(42|A)+1)-1,z&=L&~(le&~be),z=z&201326741?z&201326741|1:z?z|2:0}z!==0&&(x=!0,V8(E,z))}else z=kn,z=Ut(E,E===ka?z:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(z&3)===0||Ur(E,z)||(x=!0,V8(E,z));E=E.next}while(x);fk=!1}}function rue(){U8()}function U8(){R2=Ak=!1;var A=0;jm!==0&&(due()&&(A=jm),jm=0);for(var m=je(),x=null,E=P2;E!==null;){var L=E.next,z=Q8(E,m);z===0?(E.next=null,x===null?P2=L:x.next=L,L===null&&(Sg=x)):(x=E,(A!==0||(z&3)!==0)&&(R2=!0)),E=L}B1(A)}function Q8(A,m){for(var x=A.suspendedLanes,E=A.pingedLanes,L=A.expirationTimes,z=A.pendingLanes&-62914561;0<z;){var le=31-Re(z),be=1<<le,Le=L[le];Le===-1?((be&x)===0||(be&E)!==0)&&(L[le]=Ar(be,m)):Le<=m&&(A.expiredLanes|=be),z&=~be}if(m=ka,x=kn,x=Ut(A,A===m?x:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),E=A.callbackNode,x===0||A===m&&(oa===2||oa===9)||A.cancelPendingCommit!==null)return E!==null&&E!==null&&Pe(E),A.callbackNode=null,A.callbackPriority=0;if((x&3)===0||Ur(A,x)){if(m=x&-x,m===A.callbackPriority)return m;switch(E!==null&&Pe(E),ha(x)){case 2:case 8:x=ye;break;case 32:x=Oe;break;case 268435456:x=Ye;break;default:x=Oe}return E=H8.bind(null,A),x=Se(x,E),A.callbackPriority=m,A.callbackNode=x,m}return E!==null&&E!==null&&Pe(E),A.callbackPriority=2,A.callbackNode=null,2}function H8(A,m){if(Zi!==0&&Zi!==5)return A.callbackNode=null,A.callbackPriority=0,null;var x=A.callbackNode;if(D2()&&A.callbackNode!==x)return null;var E=kn;return E=Ut(A,A===ka?E:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),E===0?null:(C8(A,E,m),Q8(A,je()),A.callbackNode!=null&&A.callbackNode===x?H8.bind(null,A):null)}function V8(A,m){if(D2())return null;C8(A,m,!0)}function nue(){fue(function(){(ia&6)!==0?Se(Ze,rue):U8()})}function hk(){return jm===0&&(jm=wn()),jm}function z8(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:Wl(""+A)}function $8(A,m){var x=m.ownerDocument.createElement("input");return x.name=m.name,x.value=m.value,A.id&&x.setAttribute("form",A.id),m.parentNode.insertBefore(x,m),A=new FormData(A),x.parentNode.removeChild(x),A}function aue(A,m,x,E,L){if(m==="submit"&&x&&x.stateNode===L){var z=z8((L[hn]||null).action),le=E.submitter;le&&(m=(m=le[hn]||null)?z8(m.formAction):le.getAttribute("formAction"),m!==null&&(z=m,le=null));var be=new Lc("action","action",null,E,L);A.push({event:be,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(jm!==0){var Le=le?$8(L,le):new FormData(L);Jc(x,{pending:!0,data:Le,method:L.method,action:z},null,Le)}}else typeof z=="function"&&(be.preventDefault(),Le=le?$8(L,le):new FormData(L),Jc(x,{pending:!0,data:Le,method:L.method,action:z},z,Le))},currentTarget:L}]})}}for(var mk=0;mk<YA.length;mk++){var pk=YA[mk],sue=pk.toLowerCase(),iue=pk[0].toUpperCase()+pk.slice(1);Ua(sue,"on"+iue)}Ua(vh,"onAnimationEnd"),Ua(Dd,"onAnimationIteration"),Ua(Pd,"onAnimationStart"),Ua("dblclick","onDoubleClick"),Ua("focusin","onFocus"),Ua("focusout","onBlur"),Ua(Rd,"onTransitionRun"),Ua(XA,"onTransitionStart"),Ua(xh,"onTransitionCancel"),Ua(Ld,"onTransitionEnd"),Mt("onMouseEnter",["mouseout","mouseover"]),Mt("onMouseLeave",["mouseout","mouseover"]),Mt("onPointerEnter",["pointerout","pointerover"]),Mt("onPointerLeave",["pointerout","pointerover"]),Bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var T1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oue=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(T1));function K8(A,m){m=(m&4)!==0;for(var x=0;x<A.length;x++){var E=A[x],L=E.event;E=E.listeners;e:{var z=void 0;if(m)for(var le=E.length-1;0<=le;le--){var be=E[le],Le=be.instance,lt=be.currentTarget;if(be=be.listener,Le!==z&&L.isPropagationStopped())break e;z=be,L.currentTarget=lt;try{z(L)}catch(Et){C2(Et)}L.currentTarget=null,z=Le}else for(le=0;le<E.length;le++){if(be=E[le],Le=be.instance,lt=be.currentTarget,be=be.listener,Le!==z&&L.isPropagationStopped())break e;z=be,L.currentTarget=lt;try{z(L)}catch(Et){C2(Et)}L.currentTarget=null,z=Le}}}}function pn(A,m){var x=m[na];x===void 0&&(x=m[na]=new Set);var E=A+"__bubble";x.has(E)||(G8(m,A,2,!1),x.add(E))}function gk(A,m,x){var E=0;m&&(E|=4),G8(x,A,E,m)}var L2="_reactListening"+Math.random().toString(36).slice(2);function vk(A){if(!A[L2]){A[L2]=!0,nt.forEach(function(x){x!=="selectionchange"&&(oue.has(x)||gk(x,!1,A),gk(x,!0,A))});var m=A.nodeType===9?A:A.ownerDocument;m===null||m[L2]||(m[L2]=!0,gk("selectionchange",!1,m))}}function G8(A,m,x,E){switch(gM(m)){case 2:var L=Oue;break;case 8:L=Due;break;default:L=jk}x=L.bind(null,m,x,A),L=void 0,!qi||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(L=!0),E?L!==void 0?A.addEventListener(m,x,{capture:!0,passive:L}):A.addEventListener(m,x,!0):L!==void 0?A.addEventListener(m,x,{passive:L}):A.addEventListener(m,x,!1)}function xk(A,m,x,E,L){var z=E;if((m&1)===0&&(m&2)===0&&E!==null)e:for(;;){if(E===null)return;var le=E.tag;if(le===3||le===4){var be=E.stateNode.containerInfo;if(be===L)break;if(le===4)for(le=E.return;le!==null;){var Le=le.tag;if((Le===3||Le===4)&&le.stateNode.containerInfo===L)return;le=le.return}for(;be!==null;){if(le=Ne(be),le===null)return;if(Le=le.tag,Le===5||Le===6||Le===26||Le===27){E=z=le;continue e}be=be.parentNode}}E=E.return}fh(function(){var lt=z,Et=aa(x),Tt=[];e:{var ft=Mu.get(A);if(ft!==void 0){var mt=Lc,Lr=A;switch(A){case"keypress":if(vo(x)===0)break e;case"keydown":case"keyup":mt=Zl;break;case"focusin":Lr="focus",mt=Uc;break;case"focusout":Lr="blur",mt=Uc;break;case"beforeblur":case"afterblur":mt=Uc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Bd;break;case vh:case Dd:case Pd:mt=Sd;break;case Ld:mt=de;break;case"scroll":case"scrollend":mt=zA;break;case"wheel":mt=Qe;break;case"copy":case"cut":case"paste":mt=Nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Ru;break;case"toggle":case"beforetoggle":mt=vt}var kr=(m&4)!==0,xa=!kr&&(A==="scroll"||A==="scrollend"),Je=kr?ft!==null?ft+"Capture":null:ft;kr=[];for(var ze=lt,at;ze!==null;){var _t=ze;if(at=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||at===null||Je===null||(_t=Ni(ze,Je),_t!=null&&kr.push(I1(ze,_t,at))),xa)break;ze=ze.return}0<kr.length&&(ft=new mt(ft,Lr,null,x,Et),Tt.push({event:ft,listeners:kr}))}}if((m&7)===0){e:{if(ft=A==="mouseover"||A==="pointerover",mt=A==="mouseout"||A==="pointerout",ft&&x!==gl&&(Lr=x.relatedTarget||x.fromElement)&&(Ne(Lr)||Lr[$n]))break e;if((mt||ft)&&(ft=Et.window===Et?Et:(ft=Et.ownerDocument)?ft.defaultView||ft.parentWindow:window,mt?(Lr=x.relatedTarget||x.toElement,mt=lt,Lr=Lr?Ne(Lr):null,Lr!==null&&(xa=s(Lr),kr=Lr.tag,Lr!==xa||kr!==5&&kr!==27&&kr!==6)&&(Lr=null)):(mt=null,Lr=lt),mt!==Lr)){if(kr=cs,_t="onMouseLeave",Je="onMouseEnter",ze="mouse",(A==="pointerout"||A==="pointerover")&&(kr=Ru,_t="onPointerLeave",Je="onPointerEnter",ze="pointer"),xa=mt==null?ft:et(mt),at=Lr==null?ft:et(Lr),ft=new kr(_t,ze+"leave",mt,x,Et),ft.target=xa,ft.relatedTarget=at,_t=null,Ne(Et)===lt&&(kr=new kr(Je,ze+"enter",Lr,x,Et),kr.target=at,kr.relatedTarget=xa,_t=kr),xa=_t,mt&&Lr)t:{for(kr=mt,Je=Lr,ze=0,at=kr;at;at=Ng(at))ze++;for(at=0,_t=Je;_t;_t=Ng(_t))at++;for(;0<ze-at;)kr=Ng(kr),ze--;for(;0<at-ze;)Je=Ng(Je),at--;for(;ze--;){if(kr===Je||Je!==null&&kr===Je.alternate)break t;kr=Ng(kr),Je=Ng(Je)}kr=null}else kr=null;mt!==null&&q8(Tt,ft,mt,kr,!1),Lr!==null&&xa!==null&&q8(Tt,xa,Lr,kr,!0)}}e:{if(ft=lt?et(lt):window,mt=ft.nodeName&&ft.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ft.type==="file")var ur=ph;else if(Wn(ft))if(KA)ur=rg;else{ur=n1;var un=bo}else mt=ft.nodeName,!mt||mt.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?lt&&HA(lt.elementType)&&(ur=ph):ur=dm;if(ur&&(ur=ur(A,lt))){El(Tt,ur,x,Et);break e}un&&un(A,ft,lt),A==="focusout"&&lt&&ft.type==="number"&&lt.memoizedProps.value!=null&&Dc(ft,"number",ft.value)}switch(un=lt?et(lt):window,A){case"focusin":(Wn(un)||un.contentEditable==="true")&&(yo=un,ec=lt,$c=null);break;case"focusout":$c=ec=yo=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,Ma(Tt,x,Et);break;case"selectionchange":if(Od)break;case"keydown":case"keyup":Ma(Tt,x,Et)}var pr;if(qt)e:{switch(A){case"compositionstart":var Br="onCompositionStart";break e;case"compositionend":Br="onCompositionEnd";break e;case"compositionupdate":Br="onCompositionUpdate";break e}Br=void 0}else Nr?ot(A,x)&&(Br="onCompositionEnd"):A==="keydown"&&x.keyCode===229&&(Br="onCompositionStart");Br&&(se&&x.locale!=="ko"&&(Nr||Br!=="onCompositionStart"?Br==="onCompositionEnd"&&Nr&&(pr=VA()):(go=Et,Rc="value"in go?go.value:go.textContent,Nr=!0)),un=M2(lt,Br),0<un.length&&(Br=new Ou(Br,A,null,x,Et),Tt.push({event:Br,listeners:un}),pr?Br.data=pr:(pr=Pt(x),pr!==null&&(Br.data=pr)))),(pr=ee?cn(A,x):Qr(A,x))&&(Br=M2(lt,"onBeforeInput"),0<Br.length&&(un=new Ou("onBeforeInput","beforeinput",null,x,Et),Tt.push({event:un,listeners:Br}),un.data=pr)),aue(Tt,A,lt,x,Et)}K8(Tt,m)})}function I1(A,m,x){return{instance:A,listener:m,currentTarget:x}}function M2(A,m){for(var x=m+"Capture",E=[];A!==null;){var L=A,z=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||z===null||(L=Ni(A,x),L!=null&&E.unshift(I1(A,L,z)),L=Ni(A,m),L!=null&&E.push(I1(A,L,z))),A.tag===3)return E;A=A.return}return[]}function Ng(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function q8(A,m,x,E,L){for(var z=m._reactName,le=[];x!==null&&x!==E;){var be=x,Le=be.alternate,lt=be.stateNode;if(be=be.tag,Le!==null&&Le===E)break;be!==5&&be!==26&&be!==27||lt===null||(Le=lt,L?(lt=Ni(x,z),lt!=null&&le.unshift(I1(x,lt,Le))):L||(lt=Ni(x,z),lt!=null&&le.push(I1(x,lt,Le)))),x=x.return}le.length!==0&&A.push({event:m,listeners:le})}var lue=/\r\n?/g,cue=/\u0000|\uFFFD/g;function W8(A){return(typeof A=="string"?A:""+A).replace(lue,`
`).replace(cue,"")}function X8(A,m){return m=W8(m),W8(A)===m}function U2(){}function va(A,m,x,E,L,z){switch(x){case"children":typeof E=="string"?m==="body"||m==="textarea"&&E===""||mo(A,E):(typeof E=="number"||typeof E=="bigint")&&m!=="body"&&mo(A,""+E);break;case"className":Yr(A,"class",E);break;case"tabIndex":Yr(A,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(A,x,E);break;case"style":QA(A,E,z);break;case"data":if(m!=="object"){Yr(A,"data",E);break}case"src":case"href":if(E===""&&(m!=="a"||x!=="href")){A.removeAttribute(x);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){A.removeAttribute(x);break}E=Wl(""+E),A.setAttribute(x,E);break;case"action":case"formAction":if(typeof E=="function"){A.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof z=="function"&&(x==="formAction"?(m!=="input"&&va(A,m,"name",L.name,L,null),va(A,m,"formEncType",L.formEncType,L,null),va(A,m,"formMethod",L.formMethod,L,null),va(A,m,"formTarget",L.formTarget,L,null)):(va(A,m,"encType",L.encType,L,null),va(A,m,"method",L.method,L,null),va(A,m,"target",L.target,L,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){A.removeAttribute(x);break}E=Wl(""+E),A.setAttribute(x,E);break;case"onClick":E!=null&&(A.onclick=U2);break;case"onScroll":E!=null&&pn("scroll",A);break;case"onScrollEnd":E!=null&&pn("scrollend",A);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(L.children!=null)throw Error(n(60));A.innerHTML=x}}break;case"multiple":A.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":A.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){A.removeAttribute("xlink:href");break}x=Wl(""+E),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?A.setAttribute(x,""+E):A.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?A.setAttribute(x,""):A.removeAttribute(x);break;case"capture":case"download":E===!0?A.setAttribute(x,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?A.setAttribute(x,E):A.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?A.setAttribute(x,E):A.removeAttribute(x);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?A.removeAttribute(x):A.setAttribute(x,E);break;case"popover":pn("beforetoggle",A),pn("toggle",A),Xr(A,"popover",E);break;case"xlinkActuate":rn(A,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":rn(A,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":rn(A,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":rn(A,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":rn(A,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":rn(A,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":rn(A,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":rn(A,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":rn(A,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":Xr(A,"is",E);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=ql.get(x)||x,Xr(A,x,E))}}function bk(A,m,x,E,L,z){switch(x){case"style":QA(A,E,z);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(L.children!=null)throw Error(n(60));A.innerHTML=x}}break;case"children":typeof E=="string"?mo(A,E):(typeof E=="number"||typeof E=="bigint")&&mo(A,""+E);break;case"onScroll":E!=null&&pn("scroll",A);break;case"onScrollEnd":E!=null&&pn("scrollend",A);break;case"onClick":E!=null&&(A.onclick=U2);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!it.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(L=x.endsWith("Capture"),m=x.slice(2,L?x.length-7:void 0),z=A[hn]||null,z=z!=null?z[x]:null,typeof z=="function"&&A.removeEventListener(m,z,L),typeof E=="function")){typeof z!="function"&&z!==null&&(x in A?A[x]=null:A.hasAttribute(x)&&A.removeAttribute(x)),A.addEventListener(m,E,L);break e}x in A?A[x]=E:E===!0?A.setAttribute(x,""):Xr(A,x,E)}}}function eo(A,m,x){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pn("error",A),pn("load",A);var E=!1,L=!1,z;for(z in x)if(x.hasOwnProperty(z)){var le=x[z];if(le!=null)switch(z){case"src":E=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:va(A,m,z,le,x,null)}}L&&va(A,m,"srcSet",x.srcSet,x,null),E&&va(A,m,"src",x.src,x,null);return;case"input":pn("invalid",A);var be=z=le=L=null,Le=null,lt=null;for(E in x)if(x.hasOwnProperty(E)){var Et=x[E];if(Et!=null)switch(E){case"name":L=Et;break;case"type":le=Et;break;case"checked":Le=Et;break;case"defaultChecked":lt=Et;break;case"value":z=Et;break;case"defaultValue":be=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(n(137,m));break;default:va(A,m,E,Et,x,null)}}Oc(A,z,be,Le,lt,le,L,!1),Fc(A);return;case"select":pn("invalid",A),E=le=z=null;for(L in x)if(x.hasOwnProperty(L)&&(be=x[L],be!=null))switch(L){case"value":z=be;break;case"defaultValue":le=be;break;case"multiple":E=be;default:va(A,m,L,be,x,null)}m=z,x=le,A.multiple=!!E,m!=null?pl(A,!!E,m,!1):x!=null&&pl(A,!!E,x,!0);return;case"textarea":pn("invalid",A),z=L=E=null;for(le in x)if(x.hasOwnProperty(le)&&(be=x[le],be!=null))switch(le){case"value":E=be;break;case"defaultValue":L=be;break;case"children":z=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(n(91));break;default:va(A,m,le,be,x,null)}Pc(A,E,L,z),Fc(A);return;case"option":for(Le in x)if(x.hasOwnProperty(Le)&&(E=x[Le],E!=null))switch(Le){case"selected":A.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:va(A,m,Le,E,x,null)}return;case"dialog":pn("beforetoggle",A),pn("toggle",A),pn("cancel",A),pn("close",A);break;case"iframe":case"object":pn("load",A);break;case"video":case"audio":for(E=0;E<T1.length;E++)pn(T1[E],A);break;case"image":pn("error",A),pn("load",A);break;case"details":pn("toggle",A);break;case"embed":case"source":case"link":pn("error",A),pn("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(lt in x)if(x.hasOwnProperty(lt)&&(E=x[lt],E!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:va(A,m,lt,E,x,null)}return;default:if(HA(m)){for(Et in x)x.hasOwnProperty(Et)&&(E=x[Et],E!==void 0&&bk(A,m,Et,E,x,void 0));return}}for(be in x)x.hasOwnProperty(be)&&(E=x[be],E!=null&&va(A,m,be,E,x,null))}function uue(A,m,x,E){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,z=null,le=null,be=null,Le=null,lt=null,Et=null;for(mt in x){var Tt=x[mt];if(x.hasOwnProperty(mt)&&Tt!=null)switch(mt){case"checked":break;case"value":break;case"defaultValue":Le=Tt;default:E.hasOwnProperty(mt)||va(A,m,mt,null,E,Tt)}}for(var ft in E){var mt=E[ft];if(Tt=x[ft],E.hasOwnProperty(ft)&&(mt!=null||Tt!=null))switch(ft){case"type":z=mt;break;case"name":L=mt;break;case"checked":lt=mt;break;case"defaultChecked":Et=mt;break;case"value":le=mt;break;case"defaultValue":be=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(n(137,m));break;default:mt!==Tt&&va(A,m,ft,mt,E,Tt)}}hi(A,le,be,Le,lt,Et,z,L);return;case"select":mt=le=be=ft=null;for(z in x)if(Le=x[z],x.hasOwnProperty(z)&&Le!=null)switch(z){case"value":break;case"multiple":mt=Le;default:E.hasOwnProperty(z)||va(A,m,z,null,E,Le)}for(L in E)if(z=E[L],Le=x[L],E.hasOwnProperty(L)&&(z!=null||Le!=null))switch(L){case"value":ft=z;break;case"defaultValue":be=z;break;case"multiple":le=z;default:z!==Le&&va(A,m,L,z,E,Le)}m=be,x=le,E=mt,ft!=null?pl(A,!!x,ft,!1):!!E!=!!x&&(m!=null?pl(A,!!x,m,!0):pl(A,!!x,x?[]:"",!1));return;case"textarea":mt=ft=null;for(be in x)if(L=x[be],x.hasOwnProperty(be)&&L!=null&&!E.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:va(A,m,be,null,E,L)}for(le in E)if(L=E[le],z=x[le],E.hasOwnProperty(le)&&(L!=null||z!=null))switch(le){case"value":ft=L;break;case"defaultValue":mt=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(n(91));break;default:L!==z&&va(A,m,le,L,E,z)}Dn(A,ft,mt);return;case"option":for(var Lr in x)if(ft=x[Lr],x.hasOwnProperty(Lr)&&ft!=null&&!E.hasOwnProperty(Lr))switch(Lr){case"selected":A.selected=!1;break;default:va(A,m,Lr,null,E,ft)}for(Le in E)if(ft=E[Le],mt=x[Le],E.hasOwnProperty(Le)&&ft!==mt&&(ft!=null||mt!=null))switch(Le){case"selected":A.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:va(A,m,Le,ft,E,mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kr in x)ft=x[kr],x.hasOwnProperty(kr)&&ft!=null&&!E.hasOwnProperty(kr)&&va(A,m,kr,null,E,ft);for(lt in E)if(ft=E[lt],mt=x[lt],E.hasOwnProperty(lt)&&ft!==mt&&(ft!=null||mt!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(n(137,m));break;default:va(A,m,lt,ft,E,mt)}return;default:if(HA(m)){for(var xa in x)ft=x[xa],x.hasOwnProperty(xa)&&ft!==void 0&&!E.hasOwnProperty(xa)&&bk(A,m,xa,void 0,E,ft);for(Et in E)ft=E[Et],mt=x[Et],!E.hasOwnProperty(Et)||ft===mt||ft===void 0&&mt===void 0||bk(A,m,Et,ft,E,mt);return}}for(var Je in x)ft=x[Je],x.hasOwnProperty(Je)&&ft!=null&&!E.hasOwnProperty(Je)&&va(A,m,Je,null,E,ft);for(Tt in E)ft=E[Tt],mt=x[Tt],!E.hasOwnProperty(Tt)||ft===mt||ft==null&&mt==null||va(A,m,Tt,ft,E,mt)}var yk=null,wk=null;function Q2(A){return A.nodeType===9?A:A.ownerDocument}function Y8(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J8(A,m){if(A===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&m==="foreignObject"?0:A}function Ek(A,m){return A==="textarea"||A==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Ck=null;function due(){var A=window.event;return A&&A.type==="popstate"?A===Ck?!1:(Ck=A,!0):(Ck=null,!1)}var Z8=typeof setTimeout=="function"?setTimeout:void 0,Aue=typeof clearTimeout=="function"?clearTimeout:void 0,eM=typeof Promise=="function"?Promise:void 0,fue=typeof queueMicrotask=="function"?queueMicrotask:typeof eM<"u"?function(A){return eM.resolve(null).then(A).catch(hue)}:Z8;function hue(A){setTimeout(function(){throw A})}function Mh(A){return A==="head"}function tM(A,m){var x=m,E=0,L=0;do{var z=x.nextSibling;if(A.removeChild(x),z&&z.nodeType===8)if(x=z.data,x==="/$"){if(0<E&&8>E){x=E;var le=A.ownerDocument;if(x&1&&j1(le.documentElement),x&2&&j1(le.body),x&4)for(x=le.head,j1(x),le=x.firstChild;le;){var be=le.nextSibling,Le=le.nodeName;le[Ee]||Le==="SCRIPT"||Le==="STYLE"||Le==="LINK"&&le.rel.toLowerCase()==="stylesheet"||x.removeChild(le),le=be}}if(L===0){A.removeChild(z),U1(m);return}L--}else x==="$"||x==="$?"||x==="$!"?L++:E=x.charCodeAt(0)-48;else E=0;x=z}while(x);U1(m)}function _k(A){var m=A.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var x=m;switch(m=m.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":_k(x),Ce(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}A.removeChild(x)}}function mue(A,m,x,E){for(;A.nodeType===1;){var L=x;if(A.nodeName.toLowerCase()!==m.toLowerCase()){if(!E&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(E){if(!A[Ee])switch(m){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(z=A.getAttribute("rel"),z==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(z!==L.rel||A.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||A.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||A.getAttribute("title")!==(L.title==null?null:L.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(z=A.getAttribute("src"),(z!==(L.src==null?null:L.src)||A.getAttribute("type")!==(L.type==null?null:L.type)||A.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&z&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(m==="input"&&A.type==="hidden"){var z=L.name==null?null:""+L.name;if(L.type==="hidden"&&A.getAttribute("name")===z)return A}else return A;if(A=Zu(A.nextSibling),A===null)break}return null}function pue(A,m,x){if(m==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!x||(A=Zu(A.nextSibling),A===null))return null;return A}function Sk(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState==="complete"}function gue(A,m){var x=A.ownerDocument;if(A.data!=="$?"||x.readyState==="complete")m();else{var E=function(){m(),x.removeEventListener("DOMContentLoaded",E)};x.addEventListener("DOMContentLoaded",E),A._reactRetry=E}}function Zu(A){for(;A!=null;A=A.nextSibling){var m=A.nodeType;if(m===1||m===3)break;if(m===8){if(m=A.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return A}var Nk=null;function rM(A){A=A.previousSibling;for(var m=0;A;){if(A.nodeType===8){var x=A.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return A;m--}else x==="/$"&&m++}A=A.previousSibling}return null}function nM(A,m,x){switch(m=Q2(x),A){case"html":if(A=m.documentElement,!A)throw Error(n(452));return A;case"head":if(A=m.head,!A)throw Error(n(453));return A;case"body":if(A=m.body,!A)throw Error(n(454));return A;default:throw Error(n(451))}}function j1(A){for(var m=A.attributes;m.length;)A.removeAttributeNode(m[0]);Ce(A)}var tu=new Map,aM=new Set;function H2(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var mf=Z.d;Z.d={f:vue,r:xue,D:bue,C:yue,L:wue,m:Eue,X:_ue,S:Cue,M:Sue};function vue(){var A=mf.f(),m=F2();return A||m}function xue(A){var m=Ie(A);m!==null&&m.tag===5&&m.type==="form"?Nm(m):mf.r(A)}var kg=typeof document>"u"?null:document;function sM(A,m,x){var E=kg;if(E&&typeof m=="string"&&m){var L=Cn(m);L='link[rel="'+A+'"][href="'+L+'"]',typeof x=="string"&&(L+='[crossorigin="'+x+'"]'),aM.has(L)||(aM.add(L),A={rel:A,crossOrigin:x,href:m},E.querySelector(L)===null&&(m=E.createElement("link"),eo(m,"link",A),qe(m),E.head.appendChild(m)))}}function bue(A){mf.D(A),sM("dns-prefetch",A,null)}function yue(A,m){mf.C(A,m),sM("preconnect",A,m)}function wue(A,m,x){mf.L(A,m,x);var E=kg;if(E&&A&&m){var L='link[rel="preload"][as="'+Cn(m)+'"]';m==="image"&&x&&x.imageSrcSet?(L+='[imagesrcset="'+Cn(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(L+='[imagesizes="'+Cn(x.imageSizes)+'"]')):L+='[href="'+Cn(A)+'"]';var z=L;switch(m){case"style":z=Bg(A);break;case"script":z=Tg(A)}tu.has(z)||(A=d({rel:"preload",href:m==="image"&&x&&x.imageSrcSet?void 0:A,as:m},x),tu.set(z,A),E.querySelector(L)!==null||m==="style"&&E.querySelector(F1(z))||m==="script"&&E.querySelector(O1(z))||(m=E.createElement("link"),eo(m,"link",A),qe(m),E.head.appendChild(m)))}}function Eue(A,m){mf.m(A,m);var x=kg;if(x&&A){var E=m&&typeof m.as=="string"?m.as:"script",L='link[rel="modulepreload"][as="'+Cn(E)+'"][href="'+Cn(A)+'"]',z=L;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":z=Tg(A)}if(!tu.has(z)&&(A=d({rel:"modulepreload",href:A},m),tu.set(z,A),x.querySelector(L)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(O1(z)))return}E=x.createElement("link"),eo(E,"link",A),qe(E),x.head.appendChild(E)}}}function Cue(A,m,x){mf.S(A,m,x);var E=kg;if(E&&A){var L=At(E).hoistableStyles,z=Bg(A);m=m||"default";var le=L.get(z);if(!le){var be={loading:0,preload:null};if(le=E.querySelector(F1(z)))be.loading=5;else{A=d({rel:"stylesheet",href:A,"data-precedence":m},x),(x=tu.get(z))&&kk(A,x);var Le=le=E.createElement("link");qe(Le),eo(Le,"link",A),Le._p=new Promise(function(lt,Et){Le.onload=lt,Le.onerror=Et}),Le.addEventListener("load",function(){be.loading|=1}),Le.addEventListener("error",function(){be.loading|=2}),be.loading|=4,V2(le,m,E)}le={type:"stylesheet",instance:le,count:1,state:be},L.set(z,le)}}}function _ue(A,m){mf.X(A,m);var x=kg;if(x&&A){var E=At(x).hoistableScripts,L=Tg(A),z=E.get(L);z||(z=x.querySelector(O1(L)),z||(A=d({src:A,async:!0},m),(m=tu.get(L))&&Bk(A,m),z=x.createElement("script"),qe(z),eo(z,"link",A),x.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},E.set(L,z))}}function Sue(A,m){mf.M(A,m);var x=kg;if(x&&A){var E=At(x).hoistableScripts,L=Tg(A),z=E.get(L);z||(z=x.querySelector(O1(L)),z||(A=d({src:A,async:!0,type:"module"},m),(m=tu.get(L))&&Bk(A,m),z=x.createElement("script"),qe(z),eo(z,"link",A),x.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},E.set(L,z))}}function iM(A,m,x,E){var L=(L=ie.current)?H2(L):null;if(!L)throw Error(n(446));switch(A){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(m=Bg(x.href),x=At(L).hoistableStyles,E=x.get(m),E||(E={type:"style",instance:null,count:0,state:null},x.set(m,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){A=Bg(x.href);var z=At(L).hoistableStyles,le=z.get(A);if(le||(L=L.ownerDocument||L,le={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},z.set(A,le),(z=L.querySelector(F1(A)))&&!z._p&&(le.instance=z,le.state.loading=5),tu.has(A)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},tu.set(A,x),z||Nue(L,A,x,le.state))),m&&E===null)throw Error(n(528,""));return le}if(m&&E!==null)throw Error(n(529,""));return null;case"script":return m=x.async,x=x.src,typeof x=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Tg(x),x=At(L).hoistableScripts,E=x.get(m),E||(E={type:"script",instance:null,count:0,state:null},x.set(m,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,A))}}function Bg(A){return'href="'+Cn(A)+'"'}function F1(A){return'link[rel="stylesheet"]['+A+"]"}function oM(A){return d({},A,{"data-precedence":A.precedence,precedence:null})}function Nue(A,m,x,E){A.querySelector('link[rel="preload"][as="style"]['+m+"]")?E.loading=1:(m=A.createElement("link"),E.preload=m,m.addEventListener("load",function(){return E.loading|=1}),m.addEventListener("error",function(){return E.loading|=2}),eo(m,"link",x),qe(m),A.head.appendChild(m))}function Tg(A){return'[src="'+Cn(A)+'"]'}function O1(A){return"script[async]"+A}function lM(A,m,x){if(m.count++,m.instance===null)switch(m.type){case"style":var E=A.querySelector('style[data-href~="'+Cn(x.href)+'"]');if(E)return m.instance=E,qe(E),E;var L=d({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return E=(A.ownerDocument||A).createElement("style"),qe(E),eo(E,"style",L),V2(E,x.precedence,A),m.instance=E;case"stylesheet":L=Bg(x.href);var z=A.querySelector(F1(L));if(z)return m.state.loading|=4,m.instance=z,qe(z),z;E=oM(x),(L=tu.get(L))&&kk(E,L),z=(A.ownerDocument||A).createElement("link"),qe(z);var le=z;return le._p=new Promise(function(be,Le){le.onload=be,le.onerror=Le}),eo(z,"link",E),m.state.loading|=4,V2(z,x.precedence,A),m.instance=z;case"script":return z=Tg(x.src),(L=A.querySelector(O1(z)))?(m.instance=L,qe(L),L):(E=x,(L=tu.get(z))&&(E=d({},x),Bk(E,L)),A=A.ownerDocument||A,L=A.createElement("script"),qe(L),eo(L,"link",E),A.head.appendChild(L),m.instance=L);case"void":return null;default:throw Error(n(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(E=m.instance,m.state.loading|=4,V2(E,x.precedence,A));return m.instance}function V2(A,m,x){for(var E=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=E.length?E[E.length-1]:null,z=L,le=0;le<E.length;le++){var be=E[le];if(be.dataset.precedence===m)z=be;else if(z!==L)break}z?z.parentNode.insertBefore(A,z.nextSibling):(m=x.nodeType===9?x.head:x,m.insertBefore(A,m.firstChild))}function kk(A,m){A.crossOrigin==null&&(A.crossOrigin=m.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=m.referrerPolicy),A.title==null&&(A.title=m.title)}function Bk(A,m){A.crossOrigin==null&&(A.crossOrigin=m.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=m.referrerPolicy),A.integrity==null&&(A.integrity=m.integrity)}var z2=null;function cM(A,m,x){if(z2===null){var E=new Map,L=z2=new Map;L.set(x,E)}else L=z2,E=L.get(x),E||(E=new Map,L.set(x,E));if(E.has(A))return E;for(E.set(A,null),x=x.getElementsByTagName(A),L=0;L<x.length;L++){var z=x[L];if(!(z[Ee]||z[En]||A==="link"&&z.getAttribute("rel")==="stylesheet")&&z.namespaceURI!=="http://www.w3.org/2000/svg"){var le=z.getAttribute(m)||"";le=A+le;var be=E.get(le);be?be.push(z):E.set(le,[z])}}return E}function uM(A,m,x){A=A.ownerDocument||A,A.head.insertBefore(x,m==="title"?A.querySelector("head > title"):null)}function kue(A,m,x){if(x===1||m.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return A=m.disabled,typeof m.precedence=="string"&&A==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function dM(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}var D1=null;function Bue(){}function Tue(A,m,x){if(D1===null)throw Error(n(475));var E=D1;if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var L=Bg(x.href),z=A.querySelector(F1(L));if(z){A=z._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(E.count++,E=$2.bind(E),A.then(E,E)),m.state.loading|=4,m.instance=z,qe(z);return}z=A.ownerDocument||A,x=oM(x),(L=tu.get(L))&&kk(x,L),z=z.createElement("link"),qe(z);var le=z;le._p=new Promise(function(be,Le){le.onload=be,le.onerror=Le}),eo(z,"link",x),m.instance=z}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(m,A),(A=m.state.preload)&&(m.state.loading&3)===0&&(E.count++,m=$2.bind(E),A.addEventListener("load",m),A.addEventListener("error",m))}}function Iue(){if(D1===null)throw Error(n(475));var A=D1;return A.stylesheets&&A.count===0&&Tk(A,A.stylesheets),0<A.count?function(m){var x=setTimeout(function(){if(A.stylesheets&&Tk(A,A.stylesheets),A.unsuspend){var E=A.unsuspend;A.unsuspend=null,E()}},6e4);return A.unsuspend=m,function(){A.unsuspend=null,clearTimeout(x)}}:null}function $2(){if(this.count--,this.count===0){if(this.stylesheets)Tk(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var K2=null;function Tk(A,m){A.stylesheets=null,A.unsuspend!==null&&(A.count++,K2=new Map,m.forEach(jue,A),K2=null,$2.call(A))}function jue(A,m){if(!(m.state.loading&4)){var x=K2.get(A);if(x)var E=x.get(null);else{x=new Map,K2.set(A,x);for(var L=A.querySelectorAll("link[data-precedence],style[data-precedence]"),z=0;z<L.length;z++){var le=L[z];(le.nodeName==="LINK"||le.getAttribute("media")!=="not all")&&(x.set(le.dataset.precedence,le),E=le)}E&&x.set(null,E)}L=m.instance,le=L.getAttribute("data-precedence"),z=x.get(le)||E,z===E&&x.set(null,L),x.set(le,L),this.count++,E=$2.bind(this),L.addEventListener("load",E),L.addEventListener("error",E),z?z.parentNode.insertBefore(L,z.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(L,A.firstChild)),m.state.loading|=4}}var P1={$$typeof:S,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Fue(A,m,x,E,L,z,le,be){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=E,this.onUncaughtError=L,this.onCaughtError=z,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function AM(A,m,x,E,L,z,le,be,Le,lt,Et,Tt){return A=new Fue(A,m,x,le,be,Le,lt,Tt),m=1,z===!0&&(m|=24),z=Ii(3,null,null,m),A.current=z,z.stateNode=A,m=s1(),m.refCount++,A.pooledCache=m,m.refCount++,z.memoizedState={element:E,isDehydrated:x,cache:m},Ve(z),A}function fM(A){return A?(A=Js,A):Js}function hM(A,m,x,E,L,z){L=fM(L),E.context===null?E.context=L:E.pendingContext=L,E=yt(m),E.payload={element:x},z=z===void 0?null:z,z!==null&&(E.callback=z),x=Nt(A,E,m),x!==null&&(cc(x,A,m),Ct(x,A,m))}function mM(A,m){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var x=A.retryLane;A.retryLane=x!==0&&x<m?x:m}}function Ik(A,m){mM(A,m),(A=A.alternate)&&mM(A,m)}function pM(A){if(A.tag===13){var m=Uu(A,67108864);m!==null&&cc(m,A,67108864),Ik(A,67108864)}}var G2=!0;function Oue(A,m,x,E){var L=q.T;q.T=null;var z=Z.p;try{Z.p=2,jk(A,m,x,E)}finally{Z.p=z,q.T=L}}function Due(A,m,x,E){var L=q.T;q.T=null;var z=Z.p;try{Z.p=8,jk(A,m,x,E)}finally{Z.p=z,q.T=L}}function jk(A,m,x,E){if(G2){var L=Fk(E);if(L===null)xk(A,m,E,q2,x),vM(A,E);else if(Rue(L,A,m,x,E))E.stopPropagation();else if(vM(A,E),m&4&&-1<Pue.indexOf(A)){for(;L!==null;){var z=Ie(L);if(z!==null)switch(z.tag){case 3:if(z=z.stateNode,z.current.memoizedState.isDehydrated){var le=Kt(z.pendingLanes);if(le!==0){var be=z;for(be.pendingLanes|=2,be.entangledLanes|=2;le;){var Le=1<<31-Re(le);be.entanglements[1]|=Le,le&=~Le}Jd(z),(ia&6)===0&&(I2=je()+500,B1(0))}}break;case 13:be=Uu(z,2),be!==null&&cc(be,z,2),F2(),Ik(z,2)}if(z=Fk(E),z===null&&xk(A,m,E,q2,x),z===L)break;L=z}L!==null&&E.stopPropagation()}else xk(A,m,E,null,x)}}function Fk(A){return A=aa(A),Ok(A)}var q2=null;function Ok(A){if(q2=null,A=Ne(A),A!==null){var m=s(A);if(m===null)A=null;else{var x=m.tag;if(x===13){if(A=i(m),A!==null)return A;A=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;A=null}else m!==A&&(A=null)}}return q2=A,null}function gM(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($e()){case Ze:return 2;case ye:return 8;case Oe:case Me:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Dk=!1,Uh=null,Qh=null,Hh=null,R1=new Map,L1=new Map,Vh=[],Pue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vM(A,m){switch(A){case"focusin":case"focusout":Uh=null;break;case"dragenter":case"dragleave":Qh=null;break;case"mouseover":case"mouseout":Hh=null;break;case"pointerover":case"pointerout":R1.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":L1.delete(m.pointerId)}}function M1(A,m,x,E,L,z){return A===null||A.nativeEvent!==z?(A={blockedOn:m,domEventName:x,eventSystemFlags:E,nativeEvent:z,targetContainers:[L]},m!==null&&(m=Ie(m),m!==null&&pM(m)),A):(A.eventSystemFlags|=E,m=A.targetContainers,L!==null&&m.indexOf(L)===-1&&m.push(L),A)}function Rue(A,m,x,E,L){switch(m){case"focusin":return Uh=M1(Uh,A,m,x,E,L),!0;case"dragenter":return Qh=M1(Qh,A,m,x,E,L),!0;case"mouseover":return Hh=M1(Hh,A,m,x,E,L),!0;case"pointerover":var z=L.pointerId;return R1.set(z,M1(R1.get(z)||null,A,m,x,E,L)),!0;case"gotpointercapture":return z=L.pointerId,L1.set(z,M1(L1.get(z)||null,A,m,x,E,L)),!0}return!1}function xM(A){var m=Ne(A.target);if(m!==null){var x=s(m);if(x!==null){if(m=x.tag,m===13){if(m=i(x),m!==null){A.blockedOn=m,di(A.priority,function(){if(x.tag===13){var E=lc();E=qs(E);var L=Uu(x,E);L!==null&&cc(L,x,E),Ik(x,E)}});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){A.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}A.blockedOn=null}function W2(A){if(A.blockedOn!==null)return!1;for(var m=A.targetContainers;0<m.length;){var x=Fk(A.nativeEvent);if(x===null){x=A.nativeEvent;var E=new x.constructor(x.type,x);gl=E,x.target.dispatchEvent(E),gl=null}else return m=Ie(x),m!==null&&pM(m),A.blockedOn=x,!1;m.shift()}return!0}function bM(A,m,x){W2(A)&&x.delete(m)}function Lue(){Dk=!1,Uh!==null&&W2(Uh)&&(Uh=null),Qh!==null&&W2(Qh)&&(Qh=null),Hh!==null&&W2(Hh)&&(Hh=null),R1.forEach(bM),L1.forEach(bM)}function X2(A,m){A.blockedOn===m&&(A.blockedOn=null,Dk||(Dk=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lue)))}var Y2=null;function yM(A){Y2!==A&&(Y2=A,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Y2===A&&(Y2=null);for(var m=0;m<A.length;m+=3){var x=A[m],E=A[m+1],L=A[m+2];if(typeof E!="function"){if(Ok(E||x)===null)continue;break}var z=Ie(x);z!==null&&(A.splice(m,3),m-=3,Jc(z,{pending:!0,data:L,method:x.method,action:E},E,L))}}))}function U1(A){function m(Le){return X2(Le,A)}Uh!==null&&X2(Uh,A),Qh!==null&&X2(Qh,A),Hh!==null&&X2(Hh,A),R1.forEach(m),L1.forEach(m);for(var x=0;x<Vh.length;x++){var E=Vh[x];E.blockedOn===A&&(E.blockedOn=null)}for(;0<Vh.length&&(x=Vh[0],x.blockedOn===null);)xM(x),x.blockedOn===null&&Vh.shift();if(x=(A.ownerDocument||A).$$reactFormReplay,x!=null)for(E=0;E<x.length;E+=3){var L=x[E],z=x[E+1],le=L[hn]||null;if(typeof z=="function")le||yM(x);else if(le){var be=null;if(z&&z.hasAttribute("formAction")){if(L=z,le=z[hn]||null)be=le.formAction;else if(Ok(L)!==null)continue}else be=le.action;typeof be=="function"?x[E+1]=be:(x.splice(E,3),E-=3),yM(x)}}}function Pk(A){this._internalRoot=A}J2.prototype.render=Pk.prototype.render=function(A){var m=this._internalRoot;if(m===null)throw Error(n(409));var x=m.current,E=lc();hM(x,E,A,m,null,null)},J2.prototype.unmount=Pk.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var m=A.containerInfo;hM(A.current,2,null,A,null,null),F2(),m[$n]=null}};function J2(A){this._internalRoot=A}J2.prototype.unstable_scheduleHydration=function(A){if(A){var m=Ga();A={blockedOn:null,target:A,priority:m};for(var x=0;x<Vh.length&&m!==0&&m<Vh[x].priority;x++);Vh.splice(x,0,A),x===0&&xM(A)}};var wM=t.version;if(wM!=="19.1.1")throw Error(n(527,wM,"19.1.1"));Z.findDOMNode=function(A){var m=A._reactInternals;if(m===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=l(m),A=A!==null?u(A):null,A=A===null?null:A.stateNode,A};var Mue={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Z2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Z2.isDisabled&&Z2.supportsFiber)try{gt=Z2.inject(Mue),kt=Z2}catch{}}return H1.createRoot=function(A,m){if(!a(A))throw Error(n(299));var x=!1,E="",L=LL,z=ML,le=UL,be=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(L=m.onUncaughtError),m.onCaughtError!==void 0&&(z=m.onCaughtError),m.onRecoverableError!==void 0&&(le=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(be=m.unstable_transitionCallbacks)),m=AM(A,1,!1,null,null,x,E,L,z,le,be,null),A[$n]=m.current,vk(A),new Pk(m)},H1.hydrateRoot=function(A,m,x){if(!a(A))throw Error(n(299));var E=!1,L="",z=LL,le=ML,be=UL,Le=null,lt=null;return x!=null&&(x.unstable_strictMode===!0&&(E=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onUncaughtError!==void 0&&(z=x.onUncaughtError),x.onCaughtError!==void 0&&(le=x.onCaughtError),x.onRecoverableError!==void 0&&(be=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(Le=x.unstable_transitionCallbacks),x.formState!==void 0&&(lt=x.formState)),m=AM(A,1,!0,m,x??null,E,L,z,le,be,Le,lt),m.context=fM(null),x=m.current,E=lc(),E=qs(E),L=yt(E),L.callback=null,Nt(x,L,E),x=E,m.current.lanes=x,ra(m,x),Jd(m),A[$n]=m.current,vk(A),new J2(m)},H1.version="19.1.1",H1}var jM;function Zue(){if(jM)return Uk.exports;jM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Uk.exports=Jue(),Uk.exports}var ede=Zue();const tde=hl(ede),rde=()=>{};var FM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},nde=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[r++];t[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[r++],i=e[r++],o=e[r++],l=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const s=e[r++],i=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63)}}return t.join("")},tW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const s=e[a],i=a+1<e.length,o=i?e[a+1]:0,l=a+2<e.length,u=l?e[a+2]:0,d=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;l||(p=64,i||(h=64)),n.push(r[d],r[f],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eW(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nde(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const s=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const u=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,s==null||o==null||u==null||f==null)throw new ade;const h=s<<2|o>>4;if(n.push(h),u!==64){const p=o<<4&240|u>>2;if(n.push(p),f!==64){const v=u<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ade extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sde=function(e){const t=eW(e);return tW.encodeByteArray(t,!0)},v_=function(e){return sde(e).replace(/\./g,"")},rW=function(e){try{return tW.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ide(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ode=()=>ide().__FIREBASE_DEFAULTS__,lde=()=>{if(typeof process>"u"||typeof FM>"u")return;const e=FM.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cde=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&rW(e[1]);return t&&JSON.parse(t)},y5=()=>{try{return rde()||ode()||lde()||cde()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},nW=e=>{var t,r;return(r=(t=y5())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},T6=e=>{const t=nW(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},aW=()=>{var e;return(e=y5())==null?void 0:e.config},sW=e=>{var t;return(t=y5())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ude{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w5(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[v_(JSON.stringify(r)),v_(JSON.stringify(i)),""].join(".")}const Lb={};function dde(){const e={prod:[],emulator:[]};for(const t of Object.keys(Lb))Lb[t]?e.emulator.push(t):e.prod.push(t);return e}function Ade(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let OM=!1;function E5(e,t){if(typeof window>"u"||typeof document>"u"||!th(window.location.host)||Lb[e]===t||Lb[e]||OM)return;Lb[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",s=dde().prod.length>0;function i(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{OM=!0,i()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Ade(n),p=r("text"),v=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),b=document.getElementById(g)||document.createElement("a"),y=r("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;o(S),d(b,g);const B=u();l(_,y),S.append(_,v,b,B),document.body.appendChild(S)}s?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fde(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ko())}function hde(){var t;const e=(t=y5())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mde(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pde(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function gde(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vde(){const e=Ko();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function xde(){return!hde()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bde(){try{return typeof indexedDB=="object"}catch{return!1}}function yde(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;t(((s=a.error)==null?void 0:s.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wde="FirebaseError";class gd extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=wde,Object.setPrototypeOf(this,gd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iw.prototype.create)}}class iw{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,s=this.errors[t],i=s?Ede(s,n):"Error",o=`${this.serviceName}: ${i} (${a}).`;return new gd(a,o,n)}}function Ede(e,t){return e.replace(Cde,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const Cde=/\{\$([^}]+)}/g;function _de(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function O0(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const s=e[a],i=t[a];if(DM(s)&&DM(i)){if(!O0(s,i))return!1}else if(s!==i)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function DM(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function mb(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(s)}}),t}function pb(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function Sde(e,t){const r=new Nde(e,t);return r.subscribe.bind(r)}class Nde{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");kde(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=zk),a.error===void 0&&(a.error=zk),a.complete===void 0&&(a.complete=zk);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kde(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function zk(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(e){return e&&e._delegate?e._delegate:e}class Lf{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bde=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new ude;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ide(t))try{this.getOrInitializeService({instanceIdentifier:Pm})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(t=Pm){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pm){return this.instances.has(t)}getOptions(t=Pm){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&i.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const s=this.instances.get(n);return s&&t(s,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Tde(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Pm){return this.component?this.component.multipleInstances?t:Pm:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Tde(e){return e===Pm?void 0:e}function Ide(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Bde(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(vn||(vn={}));const Fde={debug:vn.DEBUG,verbose:vn.VERBOSE,info:vn.INFO,warn:vn.WARN,error:vn.ERROR,silent:vn.SILENT},Ode=vn.INFO,Dde={[vn.DEBUG]:"log",[vn.VERBOSE]:"log",[vn.INFO]:"info",[vn.WARN]:"warn",[vn.ERROR]:"error"},Pde=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=Dde[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let I6=class{constructor(t){this.name=t,this._logLevel=Ode,this._logHandler=Pde,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Fde[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vn.DEBUG,...t),this._logHandler(this,vn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vn.VERBOSE,...t),this._logHandler(this,vn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vn.INFO,...t),this._logHandler(this,vn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vn.WARN,...t),this._logHandler(this,vn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vn.ERROR,...t),this._logHandler(this,vn.ERROR,...t)}};const Rde=(e,t)=>t.some(r=>e instanceof r);let PM,RM;function Lde(){return PM||(PM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mde(){return RM||(RM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oW=new WeakMap,BI=new WeakMap,lW=new WeakMap,$k=new WeakMap,j6=new WeakMap;function Ude(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{r(y0(e.result)),a()},i=()=>{n(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(r=>{r instanceof IDBCursor&&oW.set(r,e)}).catch(()=>{}),j6.set(t,e),t}function Qde(e){if(BI.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{r(),a()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});BI.set(e,t)}let TI={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return BI.get(e);if(t==="objectStoreNames")return e.objectStoreNames||lW.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return y0(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Hde(e){TI=e(TI)}function Vde(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Kk(this),t,...r);return lW.set(n,t.sort?t.sort():[t]),y0(n)}:Mde().includes(e)?function(...t){return e.apply(Kk(this),t),y0(oW.get(this))}:function(...t){return y0(e.apply(Kk(this),t))}}function zde(e){return typeof e=="function"?Vde(e):(e instanceof IDBTransaction&&Qde(e),Rde(e,Lde())?new Proxy(e,TI):e)}function y0(e){if(e instanceof IDBRequest)return Ude(e);if($k.has(e))return $k.get(e);const t=zde(e);return t!==e&&($k.set(e,t),j6.set(t,e)),t}const Kk=e=>j6.get(e);function $de(e,t,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const i=indexedDB.open(e,t),o=y0(i);return n&&i.addEventListener("upgradeneeded",l=>{n(y0(i.result),l.oldVersion,l.newVersion,y0(i.transaction),l)}),r&&i.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Kde=["get","getKey","getAll","getAllKeys","count"],Gde=["put","add","delete","clear"],Gk=new Map;function LM(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Gk.get(t))return Gk.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Gde.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Kde.includes(r)))return;const s=async function(i,...o){const l=this.transaction(i,a?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),a&&l.done]))[0]};return Gk.set(t,s),s}Hde(e=>({...e,get:(t,r,n)=>LM(t,r)||e.get(t,r,n),has:(t,r)=>!!LM(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Wde(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Wde(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const II="@firebase/app",MM="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new I6("@firebase/app"),Xde="@firebase/app-compat",Yde="@firebase/analytics-compat",Jde="@firebase/analytics",Zde="@firebase/app-check-compat",eAe="@firebase/app-check",tAe="@firebase/auth",rAe="@firebase/auth-compat",nAe="@firebase/database",aAe="@firebase/data-connect",sAe="@firebase/database-compat",iAe="@firebase/functions",oAe="@firebase/functions-compat",lAe="@firebase/installations",cAe="@firebase/installations-compat",uAe="@firebase/messaging",dAe="@firebase/messaging-compat",AAe="@firebase/performance",fAe="@firebase/performance-compat",hAe="@firebase/remote-config",mAe="@firebase/remote-config-compat",pAe="@firebase/storage",gAe="@firebase/storage-compat",vAe="@firebase/firestore",xAe="@firebase/ai",bAe="@firebase/firestore-compat",yAe="firebase",wAe="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="[DEFAULT]",EAe={[II]:"fire-core",[Xde]:"fire-core-compat",[Jde]:"fire-analytics",[Yde]:"fire-analytics-compat",[eAe]:"fire-app-check",[Zde]:"fire-app-check-compat",[tAe]:"fire-auth",[rAe]:"fire-auth-compat",[nAe]:"fire-rtdb",[aAe]:"fire-data-connect",[sAe]:"fire-rtdb-compat",[iAe]:"fire-fn",[oAe]:"fire-fn-compat",[lAe]:"fire-iid",[cAe]:"fire-iid-compat",[uAe]:"fire-fcm",[dAe]:"fire-fcm-compat",[AAe]:"fire-perf",[fAe]:"fire-perf-compat",[hAe]:"fire-rc",[mAe]:"fire-rc-compat",[pAe]:"fire-gcs",[gAe]:"fire-gcs-compat",[vAe]:"fire-fst",[bAe]:"fire-fst-compat",[xAe]:"fire-vertex","fire-js":"fire-js",[yAe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map,CAe=new Map,FI=new Map;function UM(e,t){try{e.container.addComponent(t)}catch(r){Mf.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function D0(e){const t=e.name;if(FI.has(t))return Mf.debug(`There were multiple attempts to register component ${t}.`),!1;FI.set(t,e);for(const r of dy.values())UM(r,e);for(const r of CAe.values())UM(r,e);return!0}function lw(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function gc(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Ae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},w0=new iw("app","Firebase",_Ae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SAe{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Lf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw w0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=wAe;function F6(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:jI,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw w0.create("bad-app-name",{appName:String(a)});if(r||(r=aW()),!r)throw w0.create("no-options");const s=dy.get(a);if(s){if(O0(r,s.options)&&O0(n,s.config))return s;throw w0.create("duplicate-app",{appName:a})}const i=new jde(a);for(const l of FI.values())i.addComponent(l);const o=new SAe(r,n,i);return dy.set(a,o),o}function C5(e=jI){const t=dy.get(e);if(!t&&e===jI&&aW())return F6();if(!t)throw w0.create("no-app",{appName:e});return t}function QM(){return Array.from(dy.values())}function Eu(e,t,r){let n=EAe[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const i=[`Unable to register library "${n}" with version "${t}":`];a&&i.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&s&&i.push("and"),s&&i.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mf.warn(i.join(" "));return}D0(new Lf(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NAe="firebase-heartbeat-database",kAe=1,Ay="firebase-heartbeat-store";let qk=null;function cW(){return qk||(qk=$de(NAe,kAe,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ay)}catch(r){console.warn(r)}}}}).catch(e=>{throw w0.create("idb-open",{originalErrorMessage:e.message})})),qk}async function BAe(e){try{const r=(await cW()).transaction(Ay),n=await r.objectStore(Ay).get(uW(e));return await r.done,n}catch(t){if(t instanceof gd)Mf.warn(t.message);else{const r=w0.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mf.warn(r.message)}}}async function HM(e,t){try{const n=(await cW()).transaction(Ay,"readwrite");await n.objectStore(Ay).put(t,uW(e)),await n.done}catch(r){if(r instanceof gd)Mf.warn(r.message);else{const n=w0.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Mf.warn(n.message)}}}function uW(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TAe=1024,IAe=30;class jAe{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new OAe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VM();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>IAe){const i=DAe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Mf.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=VM(),{heartbeatsToSend:n,unsentEntries:a}=FAe(this._heartbeatsCache.heartbeats),s=v_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Mf.warn(r),""}}}function VM(){return new Date().toISOString().substring(0,10)}function FAe(e,t=TAe){const r=[];let n=e.slice();for(const a of e){const s=r.find(i=>i.agent===a.agent);if(s){if(s.dates.push(a.date),zM(r)>t){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),zM(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class OAe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bde()?yde().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await BAe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return HM(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return HM(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function zM(e){return v_(JSON.stringify({version:2,heartbeats:e})).length}function DAe(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PAe(e){D0(new Lf("platform-logger",t=>new qde(t),"PRIVATE")),D0(new Lf("heartbeat",t=>new jAe(t),"PRIVATE")),Eu(II,MM,e),Eu(II,MM,"esm2020"),Eu("fire-js","")}PAe("");function dW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RAe=dW,AW=new iw("auth","Firebase",dW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new I6("@firebase/auth");function LAe(e,...t){x_.logLevel<=vn.WARN&&x_.warn(`Auth (${Mp}): ${e}`,...t)}function BC(e,...t){x_.logLevel<=vn.ERROR&&x_.error(`Auth (${Mp}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(e,...t){throw O6(e,...t)}function xA(e,...t){return O6(e,...t)}function fW(e,t,r){const n={...RAe(),[t]:r};return new iw("auth","Firebase",n).create(t,{appName:e.name})}function E0(e){return fW(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O6(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return AW.create(e,...t)}function Pr(e,t,...r){if(!e)throw O6(t,...r)}function Ef(e){const t="INTERNAL ASSERTION FAILED: "+e;throw BC(t),new Error(t)}function Uf(e,t){e||Ef(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function MAe(){return $M()==="http:"||$M()==="https:"}function $M(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UAe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MAe()||pde()||"connection"in navigator)?navigator.onLine:!0}function QAe(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,r){this.shortDelay=t,this.longDelay=r,Uf(r>t,"Short delay should be less than long delay!"),this.isMobile=fde()||gde()}get(){return UAe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(e,t){Uf(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ef("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ef("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ef("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HAe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VAe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zAe=new cw(3e4,6e4);function J0(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function rh(e,t,r,n,a={}){return mW(e,a,async()=>{let s={},i={};n&&(t==="GET"?i=n:s={body:JSON.stringify(n)});const o=ow({key:e.config.apiKey,...i}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...s};return mde()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&th(e.emulatorConfig.host)&&(u.credentials="include"),hW.fetch()(await pW(e,e.config.apiHost,r,o),u)})}async function mW(e,t,r){e._canInitEmulator=!1;const n={...HAe,...t};try{const a=new KAe(e),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw eE(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const o=s.ok?i.errorMessage:i.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw eE(e,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw eE(e,"email-already-in-use",i);if(l==="USER_DISABLED")throw eE(e,"user-disabled",i);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fW(e,d,u);md(e,d)}}catch(a){if(a instanceof gd)throw a;md(e,"network-request-failed",{message:String(a)})}}async function _5(e,t,r,n,a={}){const s=await rh(e,t,r,n,a);return"mfaPendingCredential"in s&&md(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function pW(e,t,r,n){const a=`${t}${r}?${n}`,s=e,i=s.config.emulator?D6(e.config,a):`${e.config.apiScheme}://${a}`;return VAe.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(i).toString():i}function $Ae(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KAe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(xA(this.auth,"network-request-failed")),zAe.get())})}}function eE(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=xA(e,t,n);return a.customData._tokenResponse=r,a}function KM(e){return e!==void 0&&e.enterprise!==void 0}class GAe{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return $Ae(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qAe(e,t){return rh(e,"GET","/v2/recaptchaConfig",J0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WAe(e,t){return rh(e,"POST","/v1/accounts:delete",t)}async function b_(e,t){return rh(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XAe(e,t=!1){const r=fa(e),n=await r.getIdToken(t),a=P6(n);Pr(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:a,token:n,authTime:Mb(Wk(a.auth_time)),issuedAtTime:Mb(Wk(a.iat)),expirationTime:Mb(Wk(a.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wk(e){return Number(e)*1e3}function P6(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return BC("JWT malformed, contained fewer than 3 sections"),null;try{const a=rW(r);return a?JSON.parse(a):(BC("Failed to decode base64 JWT payload"),null)}catch(a){return BC("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function GM(e){const t=P6(e);return Pr(t,"internal-error"),Pr(typeof t.exp<"u","internal-error"),Pr(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fy(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof gd&&YAe(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function YAe({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JAe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mb(this.lastLoginAt),this.creationTime=Mb(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y_(e){var f;const t=e.auth,r=await e.getIdToken(),n=await fy(e,b_(t,{idToken:r}));Pr(n==null?void 0:n.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const s=(f=a.providerUserInfo)!=null&&f.length?gW(a.providerUserInfo):[],i=efe(e.providerData,s),o=e.isAnonymous,l=!(e.email&&a.passwordHash)&&!(i!=null&&i.length),u=o?l:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new DI(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function ZAe(e){const t=fa(e);await y_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function efe(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function gW(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tfe(e,t){const r=await mW(e,{},async()=>{const n=ow({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:s}=e.config,i=await pW(e,a,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&th(e.emulatorConfig.host)&&(l.credentials="include"),hW.fetch()(i,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function rfe(e,t){return rh(e,"POST","/v2/accounts:revokeToken",J0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Pr(t.idToken,"internal-error"),Pr(typeof t.idToken<"u","internal-error"),Pr(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):GM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){Pr(t.length!==0,"internal-error");const r=GM(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Pr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await tfe(t,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,i=new _v;return n&&(Pr(typeof n=="string","internal-error",{appName:t}),i.refreshToken=n),a&&(Pr(typeof a=="string","internal-error",{appName:t}),i.accessToken=a),s&&(Pr(typeof s=="number","internal-error",{appName:t}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _v,this.toJSON())}_performRefresh(){return Ef("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e,t){Pr(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class cd{constructor({uid:t,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new JAe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new DI(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await fy(this,this.stsTokenManager.getToken(this.auth,t));return Pr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return XAe(this,t)}reload(){return ZAe(this)}_assign(t){this!==t&&(Pr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new cd({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){Pr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await y_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gc(this.auth.app))return Promise.reject(E0(this.auth));const t=await this.getIdToken();return await fy(this,WAe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,a=r.email??void 0,s=r.phoneNumber??void 0,i=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:g}=r;Pr(f&&g,t,"internal-error");const b=_v.fromJSON(this.name,g);Pr(typeof f=="string",t,"internal-error"),$h(n,t.name),$h(a,t.name),Pr(typeof h=="boolean",t,"internal-error"),Pr(typeof p=="boolean",t,"internal-error"),$h(s,t.name),$h(i,t.name),$h(o,t.name),$h(l,t.name),$h(u,t.name),$h(d,t.name);const y=new cd({uid:f,auth:t,email:a,emailVerified:h,displayName:n,isAnonymous:p,photoURL:i,phoneNumber:s,tenantId:o,stsTokenManager:b,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(y.providerData=v.map(_=>({..._}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(t,r,n=!1){const a=new _v;a.updateFromServerResponse(r);const s=new cd({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await y_(s),s}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];Pr(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?gW(a.providerUserInfo):[],i=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),o=new _v;o.updateFromIdToken(n);const l=new cd({uid:a.localId,auth:t,stsTokenManager:o,isAnonymous:i}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new DI(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new Map;function Cf(e){Uf(e instanceof Function,"Expected a class definition");let t=qM.get(e);return t?(Uf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qM.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}vW.type="NONE";const WM=vW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(e,t,r){return`firebase:${e}:${t}:${r}`}class Sv{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=TC(this.userKey,a.apiKey,s),this.fullPersistenceKey=TC("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await b_(this.auth,{idToken:t}).catch(()=>{});return r?cd._fromGetAccountInfoResponse(this.auth,r,t):null}return cd._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Sv(Cf(WM),t,n);const a=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=a[0]||Cf(WM);const i=TC(n,t.config.apiKey,t.name);let o=null;for(const u of r)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const h=await b_(t,{idToken:d}).catch(()=>{});if(!h)break;f=await cd._fromGetAccountInfoResponse(t,h,d)}else f=cd._fromJSON(t,d);u!==s&&(o=f),s=u;break}}catch{}const l=a.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sv(s,t,n):(s=l[0],o&&await s._set(i,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(i)}catch{}})),new Sv(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CW(t))return"Blackberry";if(_W(t))return"Webos";if(bW(t))return"Safari";if((t.includes("chrome/")||yW(t))&&!t.includes("edge/"))return"Chrome";if(EW(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function xW(e=Ko()){return/firefox\//i.test(e)}function bW(e=Ko()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yW(e=Ko()){return/crios\//i.test(e)}function wW(e=Ko()){return/iemobile/i.test(e)}function EW(e=Ko()){return/android/i.test(e)}function CW(e=Ko()){return/blackberry/i.test(e)}function _W(e=Ko()){return/webos/i.test(e)}function R6(e=Ko()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nfe(e=Ko()){var t;return R6(e)&&!!((t=window.navigator)!=null&&t.standalone)}function afe(){return vde()&&document.documentMode===10}function SW(e=Ko()){return R6(e)||EW(e)||_W(e)||CW(e)||/windows phone/i.test(e)||wW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(e,t=[]){let r;switch(e){case"Browser":r=XM(Ko());break;case"Worker":r=`${XM(Ko())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Mp}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=s=>new Promise((i,o)=>{try{const l=t(s);i(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ife(e,t={}){return rh(e,"GET","/v2/passwordPolicy",J0(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ofe=6;class lfe{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??ofe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cfe{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YM(this),this.idTokenSubscription=new YM(this),this.beforeStateQueue=new sfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Cf(r)),this._initializationPromise=this.queue(async()=>{var n,a,s;if(!this._deleted&&(this.persistenceManager=await Sv.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await b_(this,{idToken:t}),n=await cd._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(gc(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(t);(!i||i===o)&&(l!=null&&l.user)&&(n=l.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Pr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await y_(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QAe()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(gc(this.app))return Promise.reject(E0(this));const r=t?fa(t):null;return r&&Pr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&Pr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return gc(this.app)?Promise.reject(E0(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return gc(this.app)?Promise.reject(E0(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cf(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ife(this),r=new lfe(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new iw("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await rfe(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Cf(t)||this._popupRedirectResolver;Pr(r,this,"argument-error"),this.redirectPersistenceManager=await Sv.create(this,[Cf(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pr(o,this,"internal-error"),o.then(()=>{i||s(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,a);return()=>{i=!0,l()}}else{const l=t.addObserver(r);return()=>{i=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Pr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=NW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(gc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&LAe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Up(e){return fa(e)}class YM{constructor(t){this.auth=t,this.observer=null,this.addObserver=Sde(r=>this.observer=r)}get next(){return Pr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ufe(e){S5=e}function kW(e){return S5.loadJS(e)}function dfe(){return S5.recaptchaEnterpriseScript}function Afe(){return S5.gapiScript}function ffe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class hfe{constructor(){this.enterprise=new mfe}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class mfe{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const pfe="recaptcha-enterprise",BW="NO_RECAPTCHA";class gfe{constructor(t){this.type=pfe,this.auth=Up(t)}async verify(t="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(i,o)=>{qAe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new GAe(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,i(u.siteKey)}}).catch(l=>{o(l)})})}function a(s,i,o){const l=window.grecaptcha;KM(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{i(u)}).catch(()=>{i(BW)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hfe().execute("siteKey",{action:"verify"}):new Promise((s,i)=>{n(this.auth).then(o=>{if(!r&&KM(window.grecaptcha))a(o,s,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=dfe();l.length!==0&&(l+=o),kW(l).then(()=>{a(o,s,i)}).catch(u=>{i(u)})}}).catch(o=>{i(o)})})}}async function JM(e,t,r,n=!1,a=!1){const s=new gfe(e);let i;if(a)i=BW;else try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function PI(e,t,r,n,a){var s;if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await JM(e,t,r,r==="getOobCode");return n(e,i)}else return n(e,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await JM(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vfe(e,t){const r=lw(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(O0(s,t??{}))return a;md(a,"already-initialized")}return r.initialize({options:t})}function xfe(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Cf);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function bfe(e,t,r){const n=Up(e);Pr(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,s=TW(t),{host:i,port:o}=yfe(t),l=o===null?"":`:${o}`,u={url:`${s}//${i}${l}/`},d=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Pr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Pr(O0(u,n.config.emulator)&&O0(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,th(i)?(w5(`${s}//${i}${l}`),E5("Auth",!0)):wfe()}function TW(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yfe(e){const t=TW(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:ZM(n.substr(s.length+1))}}else{const[s,i]=n.split(":");return{host:s,port:ZM(i)}}}function ZM(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function wfe(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Ef("not implemented")}_getIdTokenResponse(t){return Ef("not implemented")}_linkToIdToken(t,r){return Ef("not implemented")}_getReauthenticationResolver(t){return Ef("not implemented")}}async function Efe(e,t){return rh(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cfe(e,t){return _5(e,"POST","/v1/accounts:signInWithPassword",J0(e,t))}async function _fe(e,t){return rh(e,"POST","/v1/accounts:sendOobCode",J0(e,t))}async function Sfe(e,t){return _fe(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nfe(e,t){return _5(e,"POST","/v1/accounts:signInWithEmailLink",J0(e,t))}async function kfe(e,t){return _5(e,"POST","/v1/accounts:signInWithEmailLink",J0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy extends L6{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new hy(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new hy(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PI(t,r,"signInWithPassword",Cfe);case"emailLink":return Nfe(t,{email:this._email,oobCode:this._password});default:md(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PI(t,n,"signUpPassword",Efe);case"emailLink":return kfe(t,{idToken:r,email:this._email,oobCode:this._password});default:md(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nv(e,t){return _5(e,"POST","/v1/accounts:signInWithIdp",J0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bfe="http://localhost";class yp extends L6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new yp(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):md("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a,...s}=r;if(!n||!a)return null;const i=new yp(n,a);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(t){const r=this.buildRequest();return Nv(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Nv(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Nv(t,r)}buildRequest(){const t={requestUri:Bfe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=ow(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tfe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ife(e){const t=mb(pb(e)).link,r=t?mb(pb(t)).deep_link_id:null,n=mb(pb(e)).deep_link_id;return(n?mb(pb(n)).link:null)||n||r||t||e}class M6{constructor(t){const r=mb(pb(t)),n=r.apiKey??null,a=r.oobCode??null,s=Tfe(r.mode??null);Pr(n&&a&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=Ife(t);try{return new M6(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.providerId=Nx.PROVIDER_ID}static credential(t,r){return hy._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=M6.parseLink(r);return Pr(n,"argument-error"),hy._fromEmailAndCode(t,n.code,n.tenantId)}}Nx.PROVIDER_ID="password";Nx.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends IW{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends uw{constructor(){super("facebook.com")}static credential(t){return yp._fromParams({providerId:i0.PROVIDER_ID,signInMethod:i0.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return i0.credentialFromTaggedObject(t)}static credentialFromError(t){return i0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return i0.credential(t.oauthAccessToken)}catch{return null}}}i0.FACEBOOK_SIGN_IN_METHOD="facebook.com";i0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends uw{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return yp._fromParams({providerId:o0.PROVIDER_ID,signInMethod:o0.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return o0.credentialFromTaggedObject(t)}static credentialFromError(t){return o0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return o0.credential(r,n)}catch{return null}}}o0.GOOGLE_SIGN_IN_METHOD="google.com";o0.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends uw{constructor(){super("github.com")}static credential(t){return yp._fromParams({providerId:l0.PROVIDER_ID,signInMethod:l0.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return l0.credentialFromTaggedObject(t)}static credentialFromError(t){return l0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return l0.credential(t.oauthAccessToken)}catch{return null}}}l0.GITHUB_SIGN_IN_METHOD="github.com";l0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends uw{constructor(){super("twitter.com")}static credential(t,r){return yp._fromParams({providerId:c0.PROVIDER_ID,signInMethod:c0.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return c0.credentialFromTaggedObject(t)}static credentialFromError(t){return c0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return c0.credential(r,n)}catch{return null}}}c0.TWITTER_SIGN_IN_METHOD="twitter.com";c0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const s=await cd._fromIdTokenResponse(t,n,a),i=eU(n);return new qv({user:s,providerId:i,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=eU(n);return new qv({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function eU(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends gd{constructor(t,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,w_.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new w_(t,r,n,a)}}function jW(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?w_._fromErrorAndOperation(e,s,t,n):s})}async function jfe(e,t,r=!1){const n=await fy(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return qv._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ffe(e,t,r=!1){const{auth:n}=e;if(gc(n.app))return Promise.reject(E0(n));const a="reauthenticate";try{const s=await fy(e,jW(n,a,t,e),r);Pr(s.idToken,n,"internal-error");const i=P6(s.idToken);Pr(i,n,"internal-error");const{sub:o}=i;return Pr(e.uid===o,n,"user-mismatch"),qv._forOperation(e,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&md(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW(e,t,r=!1){if(gc(e.app))return Promise.reject(E0(e));const n="signIn",a=await jW(e,n,t),s=await qv._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(s.user),s}async function Ofe(e,t){return FW(Up(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dfe(e){const t=Up(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Pfe(e,t,r){const n=Up(e);await PI(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Sfe)}function Rfe(e,t,r){return gc(e.app)?Promise.reject(E0(e)):Ofe(fa(e),Nx.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Dfe(e),n})}function Lfe(e,t,r,n){return fa(e).onIdTokenChanged(t,r,n)}function Mfe(e,t,r){return fa(e).beforeAuthStateChanged(t,r)}function OW(e,t,r,n){return fa(e).onAuthStateChanged(t,r,n)}function Ufe(e){return fa(e).signOut()}const E_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(E_,"1"),this.storage.removeItem(E_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qfe=1e3,Hfe=10;class PW extends DW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((i,o,l)=>{this.notifyListeners(i,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const i=this.storage.getItem(n);!r&&this.localCache[n]===i||this.notifyListeners(n,i)},s=this.storage.getItem(n);afe()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,Hfe):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},Qfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}PW.type="LOCAL";const Vfe=PW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW extends DW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}RW.type="SESSION";const LW=RW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zfe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new N5(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:s}=r.data,i=this.handlersMap[a];if(!(i!=null&&i.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(i).map(async u=>u(r.origin,s)),l=await zfe(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}N5.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,i;return new Promise((o,l)=>{const u=U6("",20);a.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);i={messageChannel:a,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){return window}function Kfe(e){bA().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(){return typeof bA().WorkerGlobalScope<"u"&&typeof bA().importScripts=="function"}async function Gfe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qfe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Wfe(){return MW()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW="firebaseLocalStorageDb",Xfe=1,C_="firebaseLocalStorage",QW="fbase_key";class dw{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function k5(e,t){return e.transaction([C_],t?"readwrite":"readonly").objectStore(C_)}function Yfe(){const e=indexedDB.deleteDatabase(UW);return new dw(e).toPromise()}function RI(){const e=indexedDB.open(UW,Xfe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(C_,{keyPath:QW})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(C_)?t(n):(n.close(),await Yfe(),t(await RI()))})})}async function tU(e,t,r){const n=k5(e,!0).put({[QW]:t,value:r});return new dw(n).toPromise()}async function Jfe(e,t){const r=k5(e,!1).get(t),n=await new dw(r).toPromise();return n===void 0?null:n.value}function rU(e,t){const r=k5(e,!0).delete(t);return new dw(r).toPromise()}const Zfe=800,ehe=3;class HW{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await RI(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>ehe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MW()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=N5._getInstance(Wfe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Gfe(),!this.activeServiceWorker)return;this.sender=new $fe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qfe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await RI();return await tU(t,E_,"1"),await rU(t,E_),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>tU(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>Jfe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>rU(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const s=k5(a,!1).getAll();return new dw(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:s}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HW.type="LOCAL";const the=HW;new cw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rhe(e,t){return t?Cf(t):(Pr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6 extends L6{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nv(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Nv(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Nv(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function nhe(e){return FW(e.auth,new Q6(e),e.bypassAuthState)}function ahe(e){const{auth:t,user:r}=e;return Pr(r,t,"internal-error"),Ffe(r,new Q6(e),e.bypassAuthState)}async function she(e){const{auth:t,user:r}=e;return Pr(r,t,"internal-error"),jfe(r,new Q6(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(t,r,n,a,s=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:i,type:o}=t;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nhe;case"linkViaPopup":case"linkViaRedirect":return she;case"reauthViaPopup":case"reauthViaRedirect":return ahe;default:md(this.auth,"internal-error")}}resolve(t){Uf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Uf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ihe=new cw(2e3,1e4);class dv extends VW{constructor(t,r,n,a,s){super(t,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,dv.currentPopupAction&&dv.currentPopupAction.cancel(),dv.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Pr(t,this.auth,"internal-error"),t}async onExecution(){Uf(this.filter.length===1,"Popup operations only handle one event");const t=U6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(xA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(xA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dv.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ihe.get())};t()}}dv.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ohe="pendingRedirect",IC=new Map;class lhe extends VW{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=IC.get(this.auth._key());if(!t){try{const n=await che(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}IC.set(this.auth._key(),t)}return this.bypassAuthState||IC.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function che(e,t){const r=Ahe(t),n=dhe(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function uhe(e,t){IC.set(e._key(),t)}function dhe(e){return Cf(e._redirectPersistence)}function Ahe(e){return TC(ohe,e.config.apiKey,e.name)}async function fhe(e,t,r=!1){if(gc(e.app))return Promise.reject(E0(e));const n=Up(e),a=rhe(n,t),i=await new lhe(n,a,r).execute();return i&&!r&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,t)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hhe=600*1e3;class mhe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!phe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!zW(t)){const a=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(xA(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hhe&&this.cachedEventUids.clear(),this.cachedEventUids.has(nU(t))}saveEventToCache(t){this.cachedEventUids.add(nU(t)),this.lastProcessedEventTime=Date.now()}}function nU(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function zW({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function phe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zW(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ghe(e,t={}){return rh(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xhe=/^https?/;async function bhe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ghe(e);for(const r of t)try{if(yhe(r))return}catch{}md(e,"unauthorized-domain")}function yhe(e){const t=OI(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return i.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&i.hostname===n}if(!xhe.test(r))return!1;if(vhe.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe=new cw(3e4,6e4);function aU(){const e=bA().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function Ehe(e){return new Promise((t,r)=>{var a,s,i;function n(){aU(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aU(),r(xA(e,"network-request-failed"))},timeout:whe.get()})}if((s=(a=bA().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((i=bA().gapi)!=null&&i.load)n();else{const o=ffe("iframefcb");return bA()[o]=()=>{gapi.load?n():r(xA(e,"network-request-failed"))},kW(`${Afe()}?onload=${o}`).catch(l=>r(l))}}).catch(t=>{throw jC=null,t})}let jC=null;function Che(e){return jC=jC||Ehe(e),jC}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _he=new cw(5e3,15e3),She="__/auth/iframe",Nhe="emulator/auth/iframe",khe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bhe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function The(e){const t=e.config;Pr(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?D6(t,Nhe):`https://${e.config.authDomain}/${She}`,n={apiKey:t.apiKey,appName:e.name,v:Mp},a=Bhe.get(e.config.apiHost);a&&(n.eid=a);const s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${ow(n).slice(1)}`}async function Ihe(e){const t=await Che(e),r=bA().gapi;return Pr(r,e,"internal-error"),t.open({where:document.body,url:The(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:khe,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const i=xA(e,"network-request-failed"),o=bA().setTimeout(()=>{s(i)},_he.get());function l(){bA().clearTimeout(o),a(n)}n.ping(l).then(l,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fhe=500,Ohe=600,Dhe="_blank",Phe="http://localhost";class sU{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rhe(e,t,r,n=Fhe,a=Ohe){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...jhe,width:n.toString(),height:a.toString(),top:s,left:i},u=Ko().toLowerCase();r&&(o=yW(u)?Dhe:r),xW(u)&&(t=t||Phe,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(nfe(u)&&o!=="_self")return Lhe(t||"",o),new sU(null);const f=window.open(t||"",o,d);Pr(f,e,"popup-blocked");try{f.focus()}catch{}return new sU(f)}function Lhe(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mhe="__/auth/handler",Uhe="emulator/auth/handler",Qhe=encodeURIComponent("fac");async function iU(e,t,r,n,a,s){Pr(e.config.authDomain,e,"auth-domain-config-required"),Pr(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Mp,eventId:a};if(t instanceof IW){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",_de(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))i[d]=f}if(t instanceof uw){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}e.tenantId&&(i.tid=e.tenantId);const o=i;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await e._getAppCheckToken(),u=l?`#${Qhe}=${encodeURIComponent(l)}`:"";return`${Hhe(e)}?${ow(o).slice(1)}${u}`}function Hhe({config:e}){return e.emulator?D6(e,Uhe):`https://${e.authDomain}/${Mhe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="webStorageSupport";class Vhe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LW,this._completeRedirectFn=fhe,this._overrideRedirectResult=uhe}async _openPopup(t,r,n,a){var i;Uf((i=this.eventManagers[t._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await iU(t,r,n,OI(),a);return Rhe(t,s,U6())}async _openRedirect(t,r,n,a){await this._originValidation(t);const s=await iU(t,r,n,OI(),a);return Kfe(s),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(Uf(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await Ihe(t),n=new mhe(t);return r.register("authEvent",a=>(Pr(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(Xk,{type:Xk},a=>{var i;const s=(i=a==null?void 0:a[0])==null?void 0:i[Xk];s!==void 0&&r(!!s),md(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=bhe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return SW()||bW()||R6()}}const zhe=Vhe;var oU="@firebase/auth",lU="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Pr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Khe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ghe(e){D0(new Lf("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=n.options;Pr(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:i,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NW(e)},u=new cfe(n,a,s,l);return xfe(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),D0(new Lf("auth-internal",t=>{const r=Up(t.getProvider("auth").getImmediate());return(n=>new $he(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Eu(oU,lU,Khe(e)),Eu(oU,lU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qhe=300,Whe=sW("authIdTokenMaxAge")||qhe;let cU=null;const Xhe=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Whe)return;const a=r==null?void 0:r.token;cU!==a&&(cU=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $W(e=C5()){const t=lw(e,"auth");if(t.isInitialized())return t.getImmediate();const r=vfe(e,{popupRedirectResolver:zhe,persistence:[the,Vfe,LW]}),n=sW("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const i=Xhe(s.toString());Mfe(r,i,()=>i(r.currentUser)),Lfe(r,o=>i(o))}}const a=nW("auth");return a&&bfe(r,`http://${a}`),r}function Yhe(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}ufe({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const s=xA("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",Yhe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ghe("Browser");var Jhe="firebase",Zhe="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eu(Jhe,Zhe,"app");var uU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C0,KW;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(w,C){function N(){}N.prototype=C.prototype,w.D=C.prototype,w.prototype=new N,w.prototype.constructor=w,w.C=function(P,j,F){for(var M=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)M[Q-2]=arguments[Q];return C.prototype[j].apply(P,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(w,C,N){N||(N=0);var P=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)P[j]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(j=0;16>j;++j)P[j]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=w.g[0],N=w.g[1],j=w.g[2];var F=w.g[3],M=C+(F^N&(j^F))+P[0]+3614090360&4294967295;C=N+(M<<7&4294967295|M>>>25),M=F+(j^C&(N^j))+P[1]+3905402710&4294967295,F=C+(M<<12&4294967295|M>>>20),M=j+(N^F&(C^N))+P[2]+606105819&4294967295,j=F+(M<<17&4294967295|M>>>15),M=N+(C^j&(F^C))+P[3]+3250441966&4294967295,N=j+(M<<22&4294967295|M>>>10),M=C+(F^N&(j^F))+P[4]+4118548399&4294967295,C=N+(M<<7&4294967295|M>>>25),M=F+(j^C&(N^j))+P[5]+1200080426&4294967295,F=C+(M<<12&4294967295|M>>>20),M=j+(N^F&(C^N))+P[6]+2821735955&4294967295,j=F+(M<<17&4294967295|M>>>15),M=N+(C^j&(F^C))+P[7]+4249261313&4294967295,N=j+(M<<22&4294967295|M>>>10),M=C+(F^N&(j^F))+P[8]+1770035416&4294967295,C=N+(M<<7&4294967295|M>>>25),M=F+(j^C&(N^j))+P[9]+2336552879&4294967295,F=C+(M<<12&4294967295|M>>>20),M=j+(N^F&(C^N))+P[10]+4294925233&4294967295,j=F+(M<<17&4294967295|M>>>15),M=N+(C^j&(F^C))+P[11]+2304563134&4294967295,N=j+(M<<22&4294967295|M>>>10),M=C+(F^N&(j^F))+P[12]+1804603682&4294967295,C=N+(M<<7&4294967295|M>>>25),M=F+(j^C&(N^j))+P[13]+4254626195&4294967295,F=C+(M<<12&4294967295|M>>>20),M=j+(N^F&(C^N))+P[14]+2792965006&4294967295,j=F+(M<<17&4294967295|M>>>15),M=N+(C^j&(F^C))+P[15]+1236535329&4294967295,N=j+(M<<22&4294967295|M>>>10),M=C+(j^F&(N^j))+P[1]+4129170786&4294967295,C=N+(M<<5&4294967295|M>>>27),M=F+(N^j&(C^N))+P[6]+3225465664&4294967295,F=C+(M<<9&4294967295|M>>>23),M=j+(C^N&(F^C))+P[11]+643717713&4294967295,j=F+(M<<14&4294967295|M>>>18),M=N+(F^C&(j^F))+P[0]+3921069994&4294967295,N=j+(M<<20&4294967295|M>>>12),M=C+(j^F&(N^j))+P[5]+3593408605&4294967295,C=N+(M<<5&4294967295|M>>>27),M=F+(N^j&(C^N))+P[10]+38016083&4294967295,F=C+(M<<9&4294967295|M>>>23),M=j+(C^N&(F^C))+P[15]+3634488961&4294967295,j=F+(M<<14&4294967295|M>>>18),M=N+(F^C&(j^F))+P[4]+3889429448&4294967295,N=j+(M<<20&4294967295|M>>>12),M=C+(j^F&(N^j))+P[9]+568446438&4294967295,C=N+(M<<5&4294967295|M>>>27),M=F+(N^j&(C^N))+P[14]+3275163606&4294967295,F=C+(M<<9&4294967295|M>>>23),M=j+(C^N&(F^C))+P[3]+4107603335&4294967295,j=F+(M<<14&4294967295|M>>>18),M=N+(F^C&(j^F))+P[8]+1163531501&4294967295,N=j+(M<<20&4294967295|M>>>12),M=C+(j^F&(N^j))+P[13]+2850285829&4294967295,C=N+(M<<5&4294967295|M>>>27),M=F+(N^j&(C^N))+P[2]+4243563512&4294967295,F=C+(M<<9&4294967295|M>>>23),M=j+(C^N&(F^C))+P[7]+1735328473&4294967295,j=F+(M<<14&4294967295|M>>>18),M=N+(F^C&(j^F))+P[12]+2368359562&4294967295,N=j+(M<<20&4294967295|M>>>12),M=C+(N^j^F)+P[5]+4294588738&4294967295,C=N+(M<<4&4294967295|M>>>28),M=F+(C^N^j)+P[8]+2272392833&4294967295,F=C+(M<<11&4294967295|M>>>21),M=j+(F^C^N)+P[11]+1839030562&4294967295,j=F+(M<<16&4294967295|M>>>16),M=N+(j^F^C)+P[14]+4259657740&4294967295,N=j+(M<<23&4294967295|M>>>9),M=C+(N^j^F)+P[1]+2763975236&4294967295,C=N+(M<<4&4294967295|M>>>28),M=F+(C^N^j)+P[4]+1272893353&4294967295,F=C+(M<<11&4294967295|M>>>21),M=j+(F^C^N)+P[7]+4139469664&4294967295,j=F+(M<<16&4294967295|M>>>16),M=N+(j^F^C)+P[10]+3200236656&4294967295,N=j+(M<<23&4294967295|M>>>9),M=C+(N^j^F)+P[13]+681279174&4294967295,C=N+(M<<4&4294967295|M>>>28),M=F+(C^N^j)+P[0]+3936430074&4294967295,F=C+(M<<11&4294967295|M>>>21),M=j+(F^C^N)+P[3]+3572445317&4294967295,j=F+(M<<16&4294967295|M>>>16),M=N+(j^F^C)+P[6]+76029189&4294967295,N=j+(M<<23&4294967295|M>>>9),M=C+(N^j^F)+P[9]+3654602809&4294967295,C=N+(M<<4&4294967295|M>>>28),M=F+(C^N^j)+P[12]+3873151461&4294967295,F=C+(M<<11&4294967295|M>>>21),M=j+(F^C^N)+P[15]+530742520&4294967295,j=F+(M<<16&4294967295|M>>>16),M=N+(j^F^C)+P[2]+3299628645&4294967295,N=j+(M<<23&4294967295|M>>>9),M=C+(j^(N|~F))+P[0]+4096336452&4294967295,C=N+(M<<6&4294967295|M>>>26),M=F+(N^(C|~j))+P[7]+1126891415&4294967295,F=C+(M<<10&4294967295|M>>>22),M=j+(C^(F|~N))+P[14]+2878612391&4294967295,j=F+(M<<15&4294967295|M>>>17),M=N+(F^(j|~C))+P[5]+4237533241&4294967295,N=j+(M<<21&4294967295|M>>>11),M=C+(j^(N|~F))+P[12]+1700485571&4294967295,C=N+(M<<6&4294967295|M>>>26),M=F+(N^(C|~j))+P[3]+2399980690&4294967295,F=C+(M<<10&4294967295|M>>>22),M=j+(C^(F|~N))+P[10]+4293915773&4294967295,j=F+(M<<15&4294967295|M>>>17),M=N+(F^(j|~C))+P[1]+2240044497&4294967295,N=j+(M<<21&4294967295|M>>>11),M=C+(j^(N|~F))+P[8]+1873313359&4294967295,C=N+(M<<6&4294967295|M>>>26),M=F+(N^(C|~j))+P[15]+4264355552&4294967295,F=C+(M<<10&4294967295|M>>>22),M=j+(C^(F|~N))+P[6]+2734768916&4294967295,j=F+(M<<15&4294967295|M>>>17),M=N+(F^(j|~C))+P[13]+1309151649&4294967295,N=j+(M<<21&4294967295|M>>>11),M=C+(j^(N|~F))+P[4]+4149444226&4294967295,C=N+(M<<6&4294967295|M>>>26),M=F+(N^(C|~j))+P[11]+3174756917&4294967295,F=C+(M<<10&4294967295|M>>>22),M=j+(C^(F|~N))+P[2]+718787259&4294967295,j=F+(M<<15&4294967295|M>>>17),M=N+(F^(j|~C))+P[9]+3951481745&4294967295,w.g[0]=w.g[0]+C&4294967295,w.g[1]=w.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,w.g[2]=w.g[2]+j&4294967295,w.g[3]=w.g[3]+F&4294967295}n.prototype.u=function(w,C){C===void 0&&(C=w.length);for(var N=C-this.blockSize,P=this.B,j=this.h,F=0;F<C;){if(j==0)for(;F<=N;)a(this,w,F),F+=this.blockSize;if(typeof w=="string"){for(;F<C;)if(P[j++]=w.charCodeAt(F++),j==this.blockSize){a(this,P),j=0;break}}else for(;F<C;)if(P[j++]=w[F++],j==this.blockSize){a(this,P),j=0;break}}this.h=j,this.o+=C},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var C=1;C<w.length-8;++C)w[C]=0;var N=8*this.o;for(C=w.length-8;C<w.length;++C)w[C]=N&255,N/=256;for(this.u(w),w=Array(16),C=N=0;4>C;++C)for(var P=0;32>P;P+=8)w[N++]=this.g[C]>>>P&255;return w};function s(w,C){var N=o;return Object.prototype.hasOwnProperty.call(N,w)?N[w]:N[w]=C(w)}function i(w,C){this.h=C;for(var N=[],P=!0,j=w.length-1;0<=j;j--){var F=w[j]|0;P&&F==C||(N[j]=F,P=!1)}this.g=N}var o={};function l(w){return-128<=w&&128>w?s(w,function(C){return new i([C|0],0>C?-1:0)}):new i([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return b(u(-w));for(var C=[],N=1,P=0;w>=N;P++)C[P]=w/N|0,N*=4294967296;return new i(C,0)}function d(w,C){if(w.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w.charAt(0)=="-")return b(d(w.substring(1),C));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(C,8)),P=f,j=0;j<w.length;j+=8){var F=Math.min(8,w.length-j),M=parseInt(w.substring(j,j+F),C);8>F?(F=u(Math.pow(C,F)),P=P.j(F).add(u(M))):(P=P.j(N),P=P.add(u(M)))}return P}var f=l(0),h=l(1),p=l(16777216);e=i.prototype,e.m=function(){if(g(this))return-b(this).m();for(var w=0,C=1,N=0;N<this.g.length;N++){var P=this.i(N);w+=(0<=P?P:4294967296+P)*C,C*=4294967296}return w},e.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(v(this))return"0";if(g(this))return"-"+b(this).toString(w);for(var C=u(Math.pow(w,6)),N=this,P="";;){var j=B(N,C).g;N=y(N,j.j(C));var F=((0<N.g.length?N.g[0]:N.h)>>>0).toString(w);if(N=j,v(N))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},e.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function v(w){if(w.h!=0)return!1;for(var C=0;C<w.g.length;C++)if(w.g[C]!=0)return!1;return!0}function g(w){return w.h==-1}e.l=function(w){return w=y(this,w),g(w)?-1:v(w)?0:1};function b(w){for(var C=w.g.length,N=[],P=0;P<C;P++)N[P]=~w.g[P];return new i(N,~w.h).add(h)}e.abs=function(){return g(this)?b(this):this},e.add=function(w){for(var C=Math.max(this.g.length,w.g.length),N=[],P=0,j=0;j<=C;j++){var F=P+(this.i(j)&65535)+(w.i(j)&65535),M=(F>>>16)+(this.i(j)>>>16)+(w.i(j)>>>16);P=M>>>16,F&=65535,M&=65535,N[j]=M<<16|F}return new i(N,N[N.length-1]&-2147483648?-1:0)};function y(w,C){return w.add(b(C))}e.j=function(w){if(v(this)||v(w))return f;if(g(this))return g(w)?b(this).j(b(w)):b(b(this).j(w));if(g(w))return b(this.j(b(w)));if(0>this.l(p)&&0>w.l(p))return u(this.m()*w.m());for(var C=this.g.length+w.g.length,N=[],P=0;P<2*C;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var j=0;j<w.g.length;j++){var F=this.i(P)>>>16,M=this.i(P)&65535,Q=w.i(j)>>>16,J=w.i(j)&65535;N[2*P+2*j]+=M*J,_(N,2*P+2*j),N[2*P+2*j+1]+=F*J,_(N,2*P+2*j+1),N[2*P+2*j+1]+=M*Q,_(N,2*P+2*j+1),N[2*P+2*j+2]+=F*Q,_(N,2*P+2*j+2)}for(P=0;P<C;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=C;P<2*C;P++)N[P]=0;return new i(N,0)};function _(w,C){for(;(w[C]&65535)!=w[C];)w[C+1]+=w[C]>>>16,w[C]&=65535,C++}function S(w,C){this.g=w,this.h=C}function B(w,C){if(v(C))throw Error("division by zero");if(v(w))return new S(f,f);if(g(w))return C=B(b(w),C),new S(b(C.g),b(C.h));if(g(C))return C=B(w,b(C)),new S(b(C.g),C.h);if(30<w.g.length){if(g(w)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var N=h,P=C;0>=P.l(w);)N=k(N),P=k(P);var j=O(N,1),F=O(P,1);for(P=O(P,2),N=O(N,2);!v(P);){var M=F.add(P);0>=M.l(w)&&(j=j.add(N),F=M),P=O(P,1),N=O(N,1)}return C=y(w,j.j(C)),new S(j,C)}for(j=f;0<=w.l(C);){for(N=Math.max(1,Math.floor(w.m()/C.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=u(N),M=F.j(C);g(M)||0<M.l(w);)N-=P,F=u(N),M=F.j(C);v(F)&&(F=h),j=j.add(F),w=y(w,M)}return new S(j,w)}e.A=function(w){return B(this,w).h},e.and=function(w){for(var C=Math.max(this.g.length,w.g.length),N=[],P=0;P<C;P++)N[P]=this.i(P)&w.i(P);return new i(N,this.h&w.h)},e.or=function(w){for(var C=Math.max(this.g.length,w.g.length),N=[],P=0;P<C;P++)N[P]=this.i(P)|w.i(P);return new i(N,this.h|w.h)},e.xor=function(w){for(var C=Math.max(this.g.length,w.g.length),N=[],P=0;P<C;P++)N[P]=this.i(P)^w.i(P);return new i(N,this.h^w.h)};function k(w){for(var C=w.g.length+1,N=[],P=0;P<C;P++)N[P]=w.i(P)<<1|w.i(P-1)>>>31;return new i(N,w.h)}function O(w,C){var N=C>>5;C%=32;for(var P=w.g.length-N,j=[],F=0;F<P;F++)j[F]=0<C?w.i(F+N)>>>C|w.i(F+N+1)<<32-C:w.i(F+N);return new i(j,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,KW=n,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,C0=i}).apply(typeof uU<"u"?uU:typeof self<"u"?self:typeof window<"u"?window:{});var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GW,gb,qW,FC,LI,WW,XW,YW;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(D,ee,se){return D==Array.prototype||D==Object.prototype||(D[ee]=se.value),D};function r(D){D=[typeof globalThis=="object"&&globalThis,D,typeof window=="object"&&window,typeof self=="object"&&self,typeof tE=="object"&&tE];for(var ee=0;ee<D.length;++ee){var se=D[ee];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var n=r(this);function a(D,ee){if(ee)e:{var se=n;D=D.split(".");for(var xe=0;xe<D.length-1;xe++){var Ge=D[xe];if(!(Ge in se))break e;se=se[Ge]}D=D[D.length-1],xe=se[D],ee=ee(xe),ee!=xe&&ee!=null&&t(se,D,{configurable:!0,writable:!0,value:ee})}}function s(D,ee){D instanceof String&&(D+="");var se=0,xe=!1,Ge={next:function(){if(!xe&&se<D.length){var ot=se++;return{value:ee(ot,D[ot]),done:!1}}return xe=!0,{done:!0,value:void 0}}};return Ge[Symbol.iterator]=function(){return Ge},Ge}a("Array.prototype.values",function(D){return D||function(){return s(this,function(ee,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(D){var ee=typeof D;return ee=ee!="object"?ee:D?Array.isArray(D)?"array":ee:"null",ee=="array"||ee=="object"&&typeof D.length=="number"}function u(D){var ee=typeof D;return ee=="object"&&D!=null||ee=="function"}function d(D,ee,se){return D.call.apply(D.bind,arguments)}function f(D,ee,se){if(!D)throw Error();if(2<arguments.length){var xe=Array.prototype.slice.call(arguments,2);return function(){var Ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ge,xe),D.apply(ee,Ge)}}return function(){return D.apply(ee,arguments)}}function h(D,ee,se){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(D,ee){var se=Array.prototype.slice.call(arguments,1);return function(){var xe=se.slice();return xe.push.apply(xe,arguments),D.apply(this,xe)}}function v(D,ee){function se(){}se.prototype=ee.prototype,D.aa=ee.prototype,D.prototype=new se,D.prototype.constructor=D,D.Qb=function(xe,Ge,ot){for(var Pt=Array(arguments.length-2),Nr=2;Nr<arguments.length;Nr++)Pt[Nr-2]=arguments[Nr];return ee.prototype[Ge].apply(xe,Pt)}}function g(D){const ee=D.length;if(0<ee){const se=Array(ee);for(let xe=0;xe<ee;xe++)se[xe]=D[xe];return se}return[]}function b(D,ee){for(let se=1;se<arguments.length;se++){const xe=arguments[se];if(l(xe)){const Ge=D.length||0,ot=xe.length||0;D.length=Ge+ot;for(let Pt=0;Pt<ot;Pt++)D[Ge+Pt]=xe[Pt]}else D.push(xe)}}class y{constructor(ee,se){this.i=ee,this.j=se,this.h=0,this.g=null}get(){let ee;return 0<this.h?(this.h--,ee=this.g,this.g=ee.next,ee.next=null):ee=this.i(),ee}}function _(D){return/^[\s\xa0]*$/.test(D)}function S(){var D=o.navigator;return D&&(D=D.userAgent)?D:""}function B(D){return B[" "](D),D}B[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(D,ee,se){for(const xe in D)ee.call(se,D[xe],xe,D)}function w(D,ee){for(const se in D)ee.call(void 0,D[se],se,D)}function C(D){const ee={};for(const se in D)ee[se]=D[se];return ee}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(D,ee){let se,xe;for(let Ge=1;Ge<arguments.length;Ge++){xe=arguments[Ge];for(se in xe)D[se]=xe[se];for(let ot=0;ot<N.length;ot++)se=N[ot],Object.prototype.hasOwnProperty.call(xe,se)&&(D[se]=xe[se])}}function j(D){var ee=1;D=D.split(":");const se=[];for(;0<ee&&D.length;)se.push(D.shift()),ee--;return D.length&&se.push(D.join(":")),se}function F(D){o.setTimeout(()=>{throw D},0)}function M(){var D=V;let ee=null;return D.g&&(ee=D.g,D.g=D.g.next,D.g||(D.h=null),ee.next=null),ee}class Q{constructor(){this.h=this.g=null}add(ee,se){const xe=J.get();xe.set(ee,se),this.h?this.h.next=xe:this.g=xe,this.h=xe}}var J=new y(()=>new q,D=>D.reset());class q{constructor(){this.next=this.g=this.h=null}set(ee,se){this.h=ee,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,H=!1,V=new Q,G=()=>{const D=o.Promise.resolve(void 0);Z=()=>{D.then(ne)}};var ne=()=>{for(var D;D=M();){try{D.h.call(D.g)}catch(se){F(se)}var ee=J;ee.j(D),100>ee.h&&(ee.h++,D.next=ee.g,ee.g=D)}H=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(D,ee){this.type=D,this.g=this.target=ee,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var D=!1,ee=Object.defineProperty({},"passive",{get:function(){D=!0}});try{const se=()=>{};o.addEventListener("test",se,ee),o.removeEventListener("test",se,ee)}catch{}return D}();function te(D,ee){if(W.call(this,D?D.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,D){var se=this.type=D.type,xe=D.changedTouches&&D.changedTouches.length?D.changedTouches[0]:null;if(this.target=D.target||D.srcElement,this.g=ee,ee=D.relatedTarget){if(k){e:{try{B(ee.nodeName);var Ge=!0;break e}catch{}Ge=!1}Ge||(ee=null)}}else se=="mouseover"?ee=D.fromElement:se=="mouseout"&&(ee=D.toElement);this.relatedTarget=ee,xe?(this.clientX=xe.clientX!==void 0?xe.clientX:xe.pageX,this.clientY=xe.clientY!==void 0?xe.clientY:xe.pageY,this.screenX=xe.screenX||0,this.screenY=xe.screenY||0):(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0),this.button=D.button,this.key=D.key||"",this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.pointerId=D.pointerId||0,this.pointerType=typeof D.pointerType=="string"?D.pointerType:ie[D.pointerType]||"",this.state=D.state,this.i=D,D.defaultPrevented&&te.aa.h.call(this)}}v(te,W);var ie={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var D=this.i;D.preventDefault?D.preventDefault():D.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ce(D,ee,se,xe,Ge){this.listener=D,this.proxy=null,this.src=ee,this.type=se,this.capture=!!xe,this.ha=Ge,this.key=++oe,this.da=this.fa=!1}function ge(D){D.da=!0,D.listener=null,D.proxy=null,D.src=null,D.ha=null}function De(D){this.src=D,this.g={},this.h=0}De.prototype.add=function(D,ee,se,xe,Ge){var ot=D.toString();D=this.g[ot],D||(D=this.g[ot]=[],this.h++);var Pt=Se(D,ee,xe,Ge);return-1<Pt?(ee=D[Pt],se||(ee.fa=!1)):(ee=new ce(ee,this.src,ot,!!xe,Ge),ee.fa=se,D.push(ee)),ee};function re(D,ee){var se=ee.type;if(se in D.g){var xe=D.g[se],Ge=Array.prototype.indexOf.call(xe,ee,void 0),ot;(ot=0<=Ge)&&Array.prototype.splice.call(xe,Ge,1),ot&&(ge(ee),D.g[se].length==0&&(delete D.g[se],D.h--))}}function Se(D,ee,se,xe){for(var Ge=0;Ge<D.length;++Ge){var ot=D[Ge];if(!ot.da&&ot.listener==ee&&ot.capture==!!se&&ot.ha==xe)return Ge}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),_e={};function Ae(D,ee,se,xe,Ge){if(Array.isArray(ee)){for(var ot=0;ot<ee.length;ot++)Ae(D,ee[ot],se,xe,Ge);return null}return se=ct(se),D&&D[me]?D.K(ee,se,u(xe)?!!xe.capture:!1,Ge):je(D,ee,se,!1,xe,Ge)}function je(D,ee,se,xe,Ge,ot){if(!ee)throw Error("Invalid event type");var Pt=u(Ge)?!!Ge.capture:!!Ge,Nr=Ye(D);if(Nr||(D[Pe]=Nr=new De(D)),se=Nr.add(ee,se,xe,Pt,ot),se.proxy)return se;if(xe=$e(),se.proxy=xe,xe.src=D,xe.listener=se,D.addEventListener)Y||(Ge=Pt),Ge===void 0&&(Ge=!1),D.addEventListener(ee.toString(),xe,Ge);else if(D.attachEvent)D.attachEvent(Oe(ee.toString()),xe);else if(D.addListener&&D.removeListener)D.addListener(xe);else throw Error("addEventListener and attachEvent are unavailable.");return se}function $e(){function D(se){return ee.call(D.src,D.listener,se)}const ee=Me;return D}function Ze(D,ee,se,xe,Ge){if(Array.isArray(ee))for(var ot=0;ot<ee.length;ot++)Ze(D,ee[ot],se,xe,Ge);else xe=u(xe)?!!xe.capture:!!xe,se=ct(se),D&&D[me]?(D=D.i,ee=String(ee).toString(),ee in D.g&&(ot=D.g[ee],se=Se(ot,se,xe,Ge),-1<se&&(ge(ot[se]),Array.prototype.splice.call(ot,se,1),ot.length==0&&(delete D.g[ee],D.h--)))):D&&(D=Ye(D))&&(ee=D.g[ee.toString()],D=-1,ee&&(D=Se(ee,se,xe,Ge)),(se=-1<D?ee[D]:null)&&ye(se))}function ye(D){if(typeof D!="number"&&D&&!D.da){var ee=D.src;if(ee&&ee[me])re(ee.i,D);else{var se=D.type,xe=D.proxy;ee.removeEventListener?ee.removeEventListener(se,xe,D.capture):ee.detachEvent?ee.detachEvent(Oe(se),xe):ee.addListener&&ee.removeListener&&ee.removeListener(xe),(se=Ye(ee))?(re(se,D),se.h==0&&(se.src=null,ee[Pe]=null)):ge(D)}}}function Oe(D){return D in _e?_e[D]:_e[D]="on"+D}function Me(D,ee){if(D.da)D=!0;else{ee=new te(ee,this);var se=D.listener,xe=D.ha||D.src;D.fa&&ye(D),D=se.call(xe,ee)}return D}function Ye(D){return D=D[Pe],D instanceof De?D:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(D){return typeof D=="function"?D:(D[tt]||(D[tt]=function(ee){return D.handleEvent(ee)}),D[tt])}function gt(){R.call(this),this.i=new De(this),this.M=this,this.F=null}v(gt,R),gt.prototype[me]=!0,gt.prototype.removeEventListener=function(D,ee,se,xe){Ze(this,D,ee,se,xe)};function kt(D,ee){var se,xe=D.F;if(xe)for(se=[];xe;xe=xe.F)se.push(xe);if(D=D.M,xe=ee.type||ee,typeof ee=="string")ee=new W(ee,D);else if(ee instanceof W)ee.target=ee.target||D;else{var Ge=ee;ee=new W(xe,D),P(ee,Ge)}if(Ge=!0,se)for(var ot=se.length-1;0<=ot;ot--){var Pt=ee.g=se[ot];Ge=Dt(Pt,xe,!0,ee)&&Ge}if(Pt=ee.g=D,Ge=Dt(Pt,xe,!0,ee)&&Ge,Ge=Dt(Pt,xe,!1,ee)&&Ge,se)for(ot=0;ot<se.length;ot++)Pt=ee.g=se[ot],Ge=Dt(Pt,xe,!1,ee)&&Ge}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var D=this.i,ee;for(ee in D.g){for(var se=D.g[ee],xe=0;xe<se.length;xe++)ge(se[xe]);delete D.g[ee],D.h--}}this.F=null},gt.prototype.K=function(D,ee,se,xe){return this.i.add(String(D),ee,!1,se,xe)},gt.prototype.L=function(D,ee,se,xe){return this.i.add(String(D),ee,!0,se,xe)};function Dt(D,ee,se,xe){if(ee=D.i.g[String(ee)],!ee)return!0;ee=ee.concat();for(var Ge=!0,ot=0;ot<ee.length;++ot){var Pt=ee[ot];if(Pt&&!Pt.da&&Pt.capture==se){var Nr=Pt.listener,cn=Pt.ha||Pt.src;Pt.fa&&re(D.i,Pt),Ge=Nr.call(cn,xe)!==!1&&Ge}}return Ge&&!xe.defaultPrevented}function Re(D,ee,se){if(typeof D=="function")se&&(D=h(D,se));else if(D&&typeof D.handleEvent=="function")D=h(D.handleEvent,D);else throw Error("Invalid listener argument");return 2147483647<Number(ee)?-1:o.setTimeout(D,ee||0)}function Ue(D){D.g=Re(()=>{D.g=null,D.i&&(D.i=!1,Ue(D))},D.l);const ee=D.h;D.h=null,D.m.apply(null,ee)}class Be extends R{constructor(ee,se){super(),this.m=ee,this.l=se,this.h=null,this.i=!1,this.g=null}j(ee){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(D){R.call(this),this.h=D,this.g={}}v(ht,R);var wt=[];function ir(D){O(D.g,function(ee,se){this.g.hasOwnProperty(se)&&ye(ee)},D),D.g={}}ht.prototype.N=function(){ht.aa.N.call(this),ir(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=o.JSON.stringify,Ut=o.JSON.parse,Ur=class{stringify(D){return o.JSON.stringify(D,void 0)}parse(D){return o.JSON.parse(D,void 0)}};function Ar(){}Ar.prototype.h=null;function wn(D){return D.h||(D.h=D.i())}function Vr(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ra(){W.call(this,"d")}v(ra,W);function cr(){W.call(this,"c")}v(cr,W);var er={},qr=null;function qs(){return qr=qr||new gt}er.La="serverreachability";function ha(D){W.call(this,er.La,D)}v(ha,W);function Ga(D){const ee=qs();kt(ee,new ha(ee))}er.STAT_EVENT="statevent";function di(D,ee){W.call(this,er.STAT_EVENT,D),this.stat=ee}v(di,W);function Yt(D){const ee=qs();kt(ee,new di(ee,D))}er.Ma="timingevent";function En(D,ee){W.call(this,er.Ma,D),this.size=ee}v(En,W);function hn(D,ee){if(typeof D!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){D()},ee)}function $n(){this.g=!0}$n.prototype.xa=function(){this.g=!1};function na(D,ee,se,xe,Ge,ot){D.info(function(){if(D.g)if(ot)for(var Pt="",Nr=ot.split("&"),cn=0;cn<Nr.length;cn++){var Qr=Nr[cn].split("=");if(1<Qr.length){var Pn=Qr[0];Qr=Qr[1];var Wn=Pn.split("_");Pt=2<=Wn.length&&Wn[1]=="type"?Pt+(Pn+"="+Qr+"&"):Pt+(Pn+"=redacted&")}}else Pt=null;else Pt=ot;return"XMLHTTP REQ ("+xe+") [attempt "+Ge+"]: "+ee+`
`+se+`
`+Pt})}function ma(D,ee,se,xe,Ge,ot,Pt){D.info(function(){return"XMLHTTP RESP ("+xe+") [ attempt "+Ge+"]: "+ee+`
`+se+`
`+ot+" "+Pt})}function fe(D,ee,se,xe){D.info(function(){return"XMLHTTP TEXT ("+ee+"): "+Ee(D,se)+(xe?" "+xe:"")})}function Te(D,ee){D.info(function(){return"TIMEOUT: "+ee})}$n.prototype.info=function(){};function Ee(D,ee){if(!D.g)return ee;if(!ee)return null;try{var se=JSON.parse(ee);if(se){for(D=0;D<se.length;D++)if(Array.isArray(se[D])){var xe=se[D];if(!(2>xe.length)){var Ge=xe[1];if(Array.isArray(Ge)&&!(1>Ge.length)){var ot=Ge[0];if(ot!="noop"&&ot!="stop"&&ot!="close")for(var Pt=1;Pt<Ge.length;Pt++)Ge[Pt]=""}}}}return Kt(se)}catch{return ee}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function et(){}v(et,Ar),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},Ie=new et;function At(D,ee,se,xe){this.j=D,this.i=ee,this.l=se,this.R=xe||1,this.U=new ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}var nt={},it={};function Bt(D,ee,se){D.L=1,D.v=Pc(hi(ee)),D.m=se,D.P=!0,Mt(D,null)}function Mt(D,ee){D.F=Date.now(),Qt(D),D.A=hi(D.v);var se=D.A,xe=D.R;Array.isArray(xe)||(xe=[String(xe)]),Sr(se.i,"t",xe),D.C=0,se=D.j.J,D.h=new qe,D.g=de(D.j,se?ee:null,!D.m),0<D.O&&(D.M=new Be(h(D.Y,D,D.g),D.O)),ee=D.U,se=D.g,xe=D.ca;var Ge="readystatechange";Array.isArray(Ge)||(Ge&&(wt[0]=Ge.toString()),Ge=wt);for(var ot=0;ot<Ge.length;ot++){var Pt=Ae(se,Ge[ot],xe||ee.handleEvent,!1,ee.h||ee);if(!Pt)break;ee.g[Pt.key]=Pt}ee=D.H?C(D.H):{},D.m?(D.u||(D.u="POST"),ee["Content-Type"]="application/x-www-form-urlencoded",D.g.ea(D.A,D.u,D.m,ee)):(D.u="GET",D.g.ea(D.A,D.u,null,ee)),Ga(),na(D.i,D.u,D.A,D.l,D.R,D.m)}At.prototype.ca=function(D){D=D.target;const ee=this.M;ee&&cs(D)==3?ee.j():this.Y(D)},At.prototype.Y=function(D){try{if(D==this.g)e:{const Wn=cs(this.g);var ee=this.g.Ba();const El=this.g.Z();if(!(3>Wn)&&(Wn!=3||this.g&&(this.h.h||this.g.oa()||hh(this.g)))){this.J||Wn!=4||ee==7||(ee==8||0>=El?Ga(3):Ga(2)),Xr(this);var se=this.g.Z();this.X=se;t:if(Gt(this)){var xe=hh(this.g);D="";var Ge=xe.length,ot=cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Yr(this);var Pt="";break t}this.h.i=new o.TextDecoder}for(ee=0;ee<Ge;ee++)this.h.h=!0,D+=this.h.i.decode(xe[ee],{stream:!(ot&&ee==Ge-1)});xe.length=0,this.h.g+=D,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=se==200,ma(this.i,this.u,this.A,this.l,this.R,Wn,se),this.o){if(this.T&&!this.K){t:{if(this.g){var Nr,cn=this.g;if((Nr=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Nr)){var Qr=Nr;break t}}Qr=null}if(se=Qr)fe(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,is(this,se);else{this.o=!1,this.s=3,Yt(12),rn(this),Yr(this);break e}}if(this.P){se=!0;let qa;for(;!this.J&&this.C<Pt.length;)if(qa=Lt(this,Pt),qa==it){Wn==4&&(this.s=4,Yt(14),se=!1),fe(this.i,this.l,null,"[Incomplete Response]");break}else if(qa==nt){this.s=4,Yt(15),fe(this.i,this.l,Pt,"[Invalid Chunk]"),se=!1;break}else fe(this.i,this.l,qa,null),is(this,qa);if(Gt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wn!=4||Pt.length!=0||this.h.h||(this.s=1,Yt(16),se=!1),this.o=this.o&&se,!se)fe(this.i,this.l,Pt,"[Invalid Chunked Response]"),rn(this),Yr(this);else if(0<Pt.length&&!this.W){this.W=!0;var Pn=this.j;Pn.g==this&&Pn.ba&&!Pn.M&&(Pn.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),Hc(Pn),Pn.M=!0,Yt(11))}}else fe(this.i,this.l,Pt,null),is(this,Pt);Wn==4&&rn(this),this.o&&!this.J&&(Wn==4?Vc(this.j,this):(this.o=!1,Qt(this)))}else Mc(this.g),se==400&&0<Pt.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),rn(this),Yr(this)}}}catch{}finally{}};function Gt(D){return D.g?D.u=="GET"&&D.L!=2&&D.j.Ca:!1}function Lt(D,ee){var se=D.C,xe=ee.indexOf(`
`,se);return xe==-1?it:(se=Number(ee.substring(se,xe)),isNaN(se)?nt:(xe+=1,xe+se>ee.length?it:(ee=ee.slice(xe,xe+se),D.C=xe+se,ee)))}At.prototype.cancel=function(){this.J=!0,rn(this)};function Qt(D){D.S=Date.now()+D.I,Er(D,D.I)}function Er(D,ee){if(D.B!=null)throw Error("WatchDog timer not null");D.B=hn(h(D.ba,D),ee)}function Xr(D){D.B&&(o.clearTimeout(D.B),D.B=null)}At.prototype.ba=function(){this.B=null;const D=Date.now();0<=D-this.S?(Te(this.i,this.A),this.L!=2&&(Ga(),Yt(17)),rn(this),this.s=2,Yr(this)):Er(this,this.S-D)};function Yr(D){D.j.G==0||D.J||Vc(D.j,D)}function rn(D){Xr(D);var ee=D.M;ee&&typeof ee.ma=="function"&&ee.ma(),D.M=null,ir(D.U),D.g&&(ee=D.g,D.g=null,ee.abort(),ee.ma())}function is(D,ee){try{var se=D.j;if(se.G!=0&&(se.g==D||Ai(se.h,D))){if(!D.K&&Ai(se.h,D)&&se.G==3){try{var xe=se.Da.g.parse(ee)}catch{xe=null}if(Array.isArray(xe)&&xe.length==3){var Ge=xe;if(Ge[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<D.F)Zl(se),Sd(se);else break e;Pu(se),Yt(18)}}else se.za=Ge[1],0<se.za-se.T&&37500>Ge[2]&&se.F&&se.v==0&&!se.C&&(se.C=hn(h(se.Za,se),6e3));if(1>=Ns(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else Ti(se,11)}else if((D.K||se.g==D)&&Zl(se),!_(ee))for(Ge=se.Da.g.parse(ee),ee=0;ee<Ge.length;ee++){let Qr=Ge[ee];if(se.T=Qr[0],Qr=Qr[1],se.G==2)if(Qr[0]=="c"){se.K=Qr[1],se.ia=Qr[2];const Pn=Qr[3];Pn!=null&&(se.la=Pn,se.j.info("VER="+se.la));const Wn=Qr[4];Wn!=null&&(se.Aa=Wn,se.j.info("SVER="+se.Aa));const El=Qr[5];El!=null&&typeof El=="number"&&0<El&&(xe=1.5*El,se.L=xe,se.j.info("backChannelRequestTimeoutMs_="+xe)),xe=se;const qa=D.g;if(qa){const xo=qa.g?qa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var ot=xe.h;ot.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(ot.j=ot.l,ot.g=new Set,ot.h&&(pa(ot,ot.h),ot.h=null))}if(xe.D){const zc=qa.g?qa.g.getResponseHeader("X-HTTP-Session-Id"):null;zc&&(xe.ya=zc,Dn(xe.I,xe.D,zc))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-D.F,se.j.info("Handshake RTT: "+se.R+"ms")),xe=se;var Pt=D;if(xe.qa=K(xe,xe.J?xe.ia:null,xe.W),Pt.K){Xs(xe.h,Pt);var Nr=Pt,cn=xe.L;cn&&(Nr.I=cn),Nr.B&&(Xr(Nr),Qt(Nr)),xe.g=Pt}else kd(xe);0<se.i.length&&Nd(se)}else Qr[0]!="stop"&&Qr[0]!="close"||Ti(se,7);else se.G==3&&(Qr[0]=="stop"||Qr[0]=="close"?Qr[0]=="stop"?Ti(se,7):Jl(se):Qr[0]!="noop"&&se.l&&se.l.ta(Qr),se.v=0)}}Ga(4)}catch{}}var ho=class{constructor(D,ee){this.g=D,this.map=ee}};function os(D){this.l=D||10,o.PerformanceNavigationTiming?(D=o.performance.getEntriesByType("navigation"),D=0<D.length&&(D[0].nextHopProtocol=="hq"||D[0].nextHopProtocol=="h2")):D=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=D?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ws(D){return D.h?!0:D.g?D.g.size>=D.j:!1}function Ns(D){return D.h?1:D.g?D.g.size:0}function Ai(D,ee){return D.h?D.h==ee:D.g?D.g.has(ee):!1}function pa(D,ee){D.g?D.g.add(ee):D.h=ee}function Xs(D,ee){D.h&&D.h==ee?D.h=null:D.g&&D.g.has(ee)&&D.g.delete(ee)}os.prototype.cancel=function(){if(this.i=Ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const D of this.g.values())D.cancel();this.g.clear()}};function Ed(D){if(D.h!=null)return D.i.concat(D.h.D);if(D.g!=null&&D.g.size!==0){let ee=D.i;for(const se of D.g.values())ee=ee.concat(se.D);return ee}return g(D.i)}function dh(D){if(D.V&&typeof D.V=="function")return D.V();if(typeof Map<"u"&&D instanceof Map||typeof Set<"u"&&D instanceof Set)return Array.from(D.values());if(typeof D=="string")return D.split("");if(l(D)){for(var ee=[],se=D.length,xe=0;xe<se;xe++)ee.push(D[xe]);return ee}ee=[],se=0;for(xe in D)ee[se++]=D[xe];return ee}function Fc(D){if(D.na&&typeof D.na=="function")return D.na();if(!D.V||typeof D.V!="function"){if(typeof Map<"u"&&D instanceof Map)return Array.from(D.keys());if(!(typeof Set<"u"&&D instanceof Set)){if(l(D)||typeof D=="string"){var ee=[];D=D.length;for(var se=0;se<D;se++)ee.push(se);return ee}ee=[],se=0;for(const xe in D)ee[se++]=xe;return ee}}}function UA(D,ee){if(D.forEach&&typeof D.forEach=="function")D.forEach(ee,void 0);else if(l(D)||typeof D=="string")Array.prototype.forEach.call(D,ee,void 0);else for(var se=Fc(D),xe=dh(D),Ge=xe.length,ot=0;ot<Ge;ot++)ee.call(void 0,xe[ot],se&&se[ot],D)}var fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cd(D,ee){if(D){D=D.split("&");for(var se=0;se<D.length;se++){var xe=D[se].indexOf("="),Ge=null;if(0<=xe){var ot=D[se].substring(0,xe);Ge=D[se].substring(xe+1)}else ot=D[se];ee(ot,Ge?decodeURIComponent(Ge.replace(/\+/g," ")):"")}}}function Cn(D){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,D instanceof Cn){this.h=D.h,Oc(this,D.j),this.o=D.o,this.g=D.g,Dc(this,D.s),this.l=D.l;var ee=D.i,se=new gl;se.i=ee.i,ee.g&&(se.g=new Map(ee.g),se.h=ee.h),pl(this,se),this.m=D.m}else D&&(ee=String(D).match(fi))?(this.h=!1,Oc(this,ee[1]||"",!0),this.o=mo(ee[2]||""),this.g=mo(ee[3]||"",!0),Dc(this,ee[4]),this.l=mo(ee[5]||"",!0),pl(this,ee[6]||"",!0),this.m=mo(ee[7]||"")):(this.h=!1,this.i=new gl(null,this.h))}Cn.prototype.toString=function(){var D=[],ee=this.j;ee&&D.push(Gl(ee,QA,!0),":");var se=this.g;return(se||ee=="file")&&(D.push("//"),(ee=this.o)&&D.push(Gl(ee,QA,!0),"@"),D.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&D.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&D.push("/"),D.push(Gl(se,se.charAt(0)=="/"?ql:HA,!0))),(se=this.i.toString())&&D.push("?",se),(se=this.m)&&D.push("#",Gl(se,Wl)),D.join("")};function hi(D){return new Cn(D)}function Oc(D,ee,se){D.j=se?mo(ee,!0):ee,D.j&&(D.j=D.j.replace(/:$/,""))}function Dc(D,ee){if(ee){if(ee=Number(ee),isNaN(ee)||0>ee)throw Error("Bad port number "+ee);D.s=ee}else D.s=null}function pl(D,ee,se){ee instanceof gl?(D.i=ee,fh(D.i,D.h)):(se||(ee=Gl(ee,_d)),D.i=new gl(ee,D.h))}function Dn(D,ee,se){D.i.set(ee,se)}function Pc(D){return Dn(D,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),D}function mo(D,ee){return D?ee?decodeURI(D.replace(/%25/g,"%2525")):decodeURIComponent(D):""}function Gl(D,ee,se){return typeof D=="string"?(D=encodeURI(D).replace(ee,Ah),se&&(D=D.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D):null}function Ah(D){return D=D.charCodeAt(0),"%"+(D>>4&15).toString(16)+(D&15).toString(16)}var QA=/[#\/\?@]/g,HA=/[#\?:]/g,ql=/[#\?]/g,_d=/[#\?@]/g,Wl=/#/g;function gl(D,ee){this.h=this.g=null,this.i=D||null,this.j=!!ee}function aa(D){D.g||(D.g=new Map,D.h=0,D.i&&Cd(D.i,function(ee,se){D.add(decodeURIComponent(ee.replace(/\+/g," ")),se)}))}e=gl.prototype,e.add=function(D,ee){aa(this),this.i=null,D=xl(this,D);var se=this.g.get(D);return se||this.g.set(D,se=[]),se.push(ee),this.h+=1,this};function Xl(D,ee){aa(D),ee=xl(D,ee),D.g.has(ee)&&(D.i=null,D.h-=D.g.get(ee).length,D.g.delete(ee))}function vl(D,ee){return aa(D),ee=xl(D,ee),D.g.has(ee)}e.forEach=function(D,ee){aa(this),this.g.forEach(function(se,xe){se.forEach(function(Ge){D.call(ee,Ge,xe,this)},this)},this)},e.na=function(){aa(this);const D=Array.from(this.g.values()),ee=Array.from(this.g.keys()),se=[];for(let xe=0;xe<ee.length;xe++){const Ge=D[xe];for(let ot=0;ot<Ge.length;ot++)se.push(ee[xe])}return se},e.V=function(D){aa(this);let ee=[];if(typeof D=="string")vl(this,D)&&(ee=ee.concat(this.g.get(xl(this,D))));else{D=Array.from(this.g.values());for(let se=0;se<D.length;se++)ee=ee.concat(D[se])}return ee},e.set=function(D,ee){return aa(this),this.i=null,D=xl(this,D),vl(this,D)&&(this.h-=this.g.get(D).length),this.g.set(D,[ee]),this.h+=1,this},e.get=function(D,ee){return D?(D=this.V(D),0<D.length?String(D[0]):ee):ee};function Sr(D,ee,se){Xl(D,ee),0<se.length&&(D.i=null,D.g.set(xl(D,ee),g(se)),D.h+=se.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const D=[],ee=Array.from(this.g.keys());for(var se=0;se<ee.length;se++){var xe=ee[se];const ot=encodeURIComponent(String(xe)),Pt=this.V(xe);for(xe=0;xe<Pt.length;xe++){var Ge=ot;Pt[xe]!==""&&(Ge+="="+encodeURIComponent(String(Pt[xe]))),D.push(Ge)}}return this.i=D.join("&")};function xl(D,ee){return ee=String(ee),D.j&&(ee=ee.toLowerCase()),ee}function fh(D,ee){ee&&!D.j&&(aa(D),D.i=null,D.g.forEach(function(se,xe){var Ge=xe.toLowerCase();xe!=Ge&&(Xl(this,xe),Sr(this,Ge,se))},D)),D.j=ee}function Ni(D,ee){const se=new $n;if(o.Image){const xe=new Image;xe.onload=p(qi,se,"TestLoadImage: loaded",!0,ee,xe),xe.onerror=p(qi,se,"TestLoadImage: error",!1,ee,xe),xe.onabort=p(qi,se,"TestLoadImage: abort",!1,ee,xe),xe.ontimeout=p(qi,se,"TestLoadImage: timeout",!1,ee,xe),o.setTimeout(function(){xe.ontimeout&&xe.ontimeout()},1e4),xe.src=D}else ee(!1)}function po(D,ee){const se=new $n,xe=new AbortController,Ge=setTimeout(()=>{xe.abort(),qi(se,"TestPingServer: timeout",!1,ee)},1e4);fetch(D,{signal:xe.signal}).then(ot=>{clearTimeout(Ge),ot.ok?qi(se,"TestPingServer: ok",!0,ee):qi(se,"TestPingServer: server error",!1,ee)}).catch(()=>{clearTimeout(Ge),qi(se,"TestPingServer: error",!1,ee)})}function qi(D,ee,se,xe,Ge){try{Ge&&(Ge.onload=null,Ge.onerror=null,Ge.onabort=null,Ge.ontimeout=null),xe(se)}catch{}}function bl(){this.g=new Ur}function go(D,ee,se){const xe=se||"";try{UA(D,function(Ge,ot){let Pt=Ge;u(Ge)&&(Pt=Kt(Ge)),ee.push(xe+ot+"="+encodeURIComponent(Pt))})}catch(Ge){throw ee.push(xe+"type="+encodeURIComponent("_badmap")),Ge}}function Rc(D){this.l=D.Ub||null,this.j=D.eb||!1}v(Rc,Ar),Rc.prototype.g=function(){return new Yl(this.l,this.j)},Rc.prototype.i=function(D){return function(){return D}}({});function Yl(D,ee){gt.call(this),this.D=D,this.o=ee,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Yl,gt),e=Yl.prototype,e.open=function(D,ee){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=D,this.A=ee,this.readyState=1,ki(this)},e.send=function(D){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ee={headers:this.u,method:this.B,credentials:this.m,cache:void 0};D&&(ee.body=D),(this.D||o).fetch(new Request(this.A,ee)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},e.Sa=function(D){if(this.g&&(this.l=D,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=D.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")D.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in D){if(this.j=D.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;VA(this)}else D.text().then(this.Ra.bind(this),this.ga.bind(this))};function VA(D){D.j.read().then(D.Pa.bind(D)).catch(D.ga.bind(D))}e.Pa=function(D){if(this.g){if(this.o&&D.value)this.response.push(D.value);else if(!this.o){var ee=D.value?D.value:new Uint8Array(0);(ee=this.v.decode(ee,{stream:!D.done}))&&(this.response=this.responseText+=ee)}D.done?vo(this):ki(this),this.readyState==3&&VA(this)}},e.Ra=function(D){this.g&&(this.response=this.responseText=D,vo(this))},e.Qa=function(D){this.g&&(this.response=D,vo(this))},e.ga=function(){this.g&&vo(this)};function vo(D){D.readyState=4,D.l=null,D.j=null,D.v=null,ki(D)}e.setRequestHeader=function(D,ee){this.u.append(D,ee)},e.getResponseHeader=function(D){return this.h&&this.h.get(D.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const D=[],ee=this.h.entries();for(var se=ee.next();!se.done;)se=se.value,D.push(se[0]+": "+se[1]),se=ee.next();return D.join(`\r
`)};function ki(D){D.onreadystatechange&&D.onreadystatechange.call(D)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(D){this.m=D?"include":"same-origin"}});function yl(D){let ee="";return O(D,function(se,xe){ee+=xe,ee+=":",ee+=se,ee+=`\r
`}),ee}function ls(D,ee,se){e:{for(xe in se){var xe=!1;break e}xe=!0}xe||(se=yl(se),typeof D=="string"?se!=null&&encodeURIComponent(String(se)):Dn(D,ee,se))}function ln(D){gt.call(this),this.headers=new Map,this.o=D||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ln,gt);var Lc=/^https?$/i,wl=["POST","PUT"];e=ln.prototype,e.Ha=function(D){this.J=D},e.ea=function(D,ee,se,xe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+D);ee=ee?ee.toUpperCase():"GET",this.D=D,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?wn(this.o):wn(Ie),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(ee,String(D),!0),this.B=!1}catch(ot){zA(this,ot);return}if(D=se||"",se=new Map(this.headers),xe)if(Object.getPrototypeOf(xe)===Object.prototype)for(var Ge in xe)se.set(Ge,xe[Ge]);else if(typeof xe.keys=="function"&&typeof xe.get=="function")for(const ot of xe.keys())se.set(ot,xe.get(ot));else throw Error("Unknown input type for opt_headers: "+String(xe));xe=Array.from(se.keys()).find(ot=>ot.toLowerCase()=="content-type"),Ge=o.FormData&&D instanceof o.FormData,!(0<=Array.prototype.indexOf.call(wl,ee,void 0))||xe||Ge||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ot,Pt]of se)this.g.setRequestHeader(ot,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bi(this),this.u=!0,this.g.send(D),this.u=!1}catch(ot){zA(this,ot)}};function zA(D,ee){D.h=!1,D.g&&(D.j=!0,D.g.abort(),D.j=!1),D.l=ee,D.m=5,Iu(D),Yo(D)}function Iu(D){D.A||(D.A=!0,kt(D,"complete"),kt(D,"error"))}e.abort=function(D){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=D||7,kt(this,"complete"),kt(this,"abort"),Yo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yo(this,!0)),ln.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ju(this):this.bb())},e.bb=function(){ju(this)};function ju(D){if(D.h&&typeof i<"u"&&(!D.v[1]||cs(D)!=4||D.Z()!=2)){if(D.u&&cs(D)==4)Re(D.Ea,0,D);else if(kt(D,"readystatechange"),cs(D)==4){D.h=!1;try{const Pt=D.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ee=!0;break e;default:ee=!1}var se;if(!(se=ee)){var xe;if(xe=Pt===0){var Ge=String(D.D).match(fi)[1]||null;!Ge&&o.self&&o.self.location&&(Ge=o.self.location.protocol.slice(0,-1)),xe=!Lc.test(Ge?Ge.toLowerCase():"")}se=xe}if(se)kt(D,"complete"),kt(D,"success");else{D.m=6;try{var ot=2<cs(D)?D.g.statusText:""}catch{ot=""}D.l=ot+" ["+D.Z()+"]",Iu(D)}}finally{Yo(D)}}}}function Yo(D,ee){if(D.g){Bi(D);const se=D.g,xe=D.v[0]?()=>{}:null;D.g=null,D.v=null,ee||kt(D,"ready");try{se.onreadystatechange=xe}catch{}}}function Bi(D){D.I&&(o.clearTimeout(D.I),D.I=null)}e.isActive=function(){return!!this.g};function cs(D){return D.g?D.g.readyState:0}e.Z=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(D){if(this.g){var ee=this.g.responseText;return D&&ee.indexOf(D)==0&&(ee=ee.substring(D.length)),Ut(ee)}};function hh(D){try{if(!D.g)return null;if("response"in D.g)return D.g.response;switch(D.H){case"":case"text":return D.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in D.g)return D.g.mozResponseArrayBuffer}return null}catch{return null}}function Mc(D){const ee={};D=(D.g&&2<=cs(D)&&D.g.getAllResponseHeaders()||"").split(`\r
`);for(let xe=0;xe<D.length;xe++){if(_(D[xe]))continue;var se=j(D[xe]);const Ge=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const ot=ee[Ge]||[];ee[Ge]=ot,ot.push(se)}w(ee,function(xe){return xe.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(D,ee,se){return se&&se.internalChannelParams&&se.internalChannelParams[D]||ee}function Uc(D){this.Aa=0,this.i=[],this.j=new $n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mi("failFast",!1,D),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mi("baseRetryDelayMs",5e3,D),this.cb=mi("retryDelaySeedMs",1e4,D),this.Wa=mi("forwardChannelMaxRetries",2,D),this.wa=mi("forwardChannelRequestTimeoutMs",2e4,D),this.pa=D&&D.xmlHttpFactory||void 0,this.Xa=D&&D.Tb||void 0,this.Ca=D&&D.useFetchStreams||!1,this.L=void 0,this.J=D&&D.supportsCrossDomainXhr||!1,this.K="",this.h=new os(D&&D.concurrentRequestLimit),this.Da=new bl,this.P=D&&D.fastHandshake||!1,this.O=D&&D.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=D&&D.Rb||!1,D&&D.xa&&this.j.xa(),D&&D.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&D&&D.detectBufferingProxy||!1,this.ja=void 0,D&&D.longPollingTimeout&&0<D.longPollingTimeout&&(this.ja=D.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Uc.prototype,e.la=8,e.G=1,e.connect=function(D,ee,se,xe){Yt(0),this.W=D,this.H=ee||{},se&&xe!==void 0&&(this.H.OSID=se,this.H.OAID=xe),this.F=this.X,this.I=K(this,null,this.W),Nd(this)};function Jl(D){if(Fu(D),D.G==3){var ee=D.U++,se=hi(D.I);if(Dn(se,"SID",D.K),Dn(se,"RID",ee),Dn(se,"TYPE","terminate"),Qc(D,se),ee=new At(D,D.j,ee),ee.L=2,ee.v=Pc(hi(se)),se=!1,o.navigator&&o.navigator.sendBeacon)try{se=o.navigator.sendBeacon(ee.v.toString(),"")}catch{}!se&&o.Image&&(new Image().src=ee.v,se=!0),se||(ee.g=de(ee.j,null),ee.g.ea(ee.v)),ee.F=Date.now(),Qt(ee)}Bd(D)}function Sd(D){D.g&&(Hc(D),D.g.cancel(),D.g=null)}function Fu(D){Sd(D),D.u&&(o.clearTimeout(D.u),D.u=null),Zl(D),D.h.cancel(),D.s&&(typeof D.s=="number"&&o.clearTimeout(D.s),D.s=null)}function Nd(D){if(!Ws(D.h)&&!D.s){D.s=!0;var ee=D.Ga;Z||G(),H||(Z(),H=!0),V.add(ee,D),D.B=0}}function $A(D,ee){return Ns(D.h)>=D.h.j-(D.s?1:0)?!1:D.s?(D.i=ee.D.concat(D.i),!0):D.G==1||D.G==2||D.B>=(D.Va?0:D.Wa)?!1:(D.s=hn(h(D.Ga,D,ee),Ru(D,D.B)),D.B++,!0)}e.Ga=function(D){if(this.s)if(this.s=null,this.G==1){if(!D){this.U=Math.floor(1e5*Math.random()),D=this.U++;const Ge=new At(this,this.j,D);let ot=this.o;if(this.S&&(ot?(ot=C(ot),P(ot,this.S)):ot=this.S),this.m!==null||this.O||(Ge.H=ot,ot=null),this.P)e:{for(var ee=0,se=0;se<this.i.length;se++){t:{var xe=this.i[se];if("__data__"in xe.map&&(xe=xe.map.__data__,typeof xe=="string")){xe=xe.length;break t}xe=void 0}if(xe===void 0)break;if(ee+=xe,4096<ee){ee=se;break e}if(ee===4096||se===this.i.length-1){ee=se+1;break e}}ee=1e3}else ee=1e3;ee=Du(this,Ge,ee),se=hi(this.I),Dn(se,"RID",D),Dn(se,"CVER",22),this.D&&Dn(se,"X-HTTP-Session-Id",this.D),Qc(this,se),ot&&(this.O?ee="headers="+encodeURIComponent(String(yl(ot)))+"&"+ee:this.m&&ls(se,this.m,ot)),pa(this.h,Ge),this.Ua&&Dn(se,"TYPE","init"),this.P?(Dn(se,"$req",ee),Dn(se,"SID","null"),Ge.T=!0,Bt(Ge,se,null)):Bt(Ge,se,ee),this.G=2}}else this.G==3&&(D?Ou(this,D):this.i.length==0||Ws(this.h)||Ou(this))};function Ou(D,ee){var se;ee?se=ee.l:se=D.U++;const xe=hi(D.I);Dn(xe,"SID",D.K),Dn(xe,"RID",se),Dn(xe,"AID",D.T),Qc(D,xe),D.m&&D.o&&ls(xe,D.m,D.o),se=new At(D,D.j,se,D.B+1),D.m===null&&(se.H=D.o),ee&&(D.i=ee.D.concat(D.i)),ee=Du(D,se,1e3),se.I=Math.round(.5*D.wa)+Math.round(.5*D.wa*Math.random()),pa(D.h,se),Bt(se,xe,ee)}function Qc(D,ee){D.H&&O(D.H,function(se,xe){Dn(ee,xe,se)}),D.l&&UA({},function(se,xe){Dn(ee,xe,se)})}function Du(D,ee,se){se=Math.min(D.i.length,se);var xe=D.l?h(D.l.Na,D.l,D):null;e:{var Ge=D.i;let ot=-1;for(;;){const Pt=["count="+se];ot==-1?0<se?(ot=Ge[0].g,Pt.push("ofs="+ot)):ot=0:Pt.push("ofs="+ot);let Nr=!0;for(let cn=0;cn<se;cn++){let Qr=Ge[cn].g;const Pn=Ge[cn].map;if(Qr-=ot,0>Qr)ot=Math.max(0,Ge[cn].g-100),Nr=!1;else try{go(Pn,Pt,"req"+Qr+"_")}catch{xe&&xe(Pn)}}if(Nr){xe=Pt.join("&");break e}}}return D=D.i.splice(0,se),ee.D=D,xe}function kd(D){if(!D.g&&!D.u){D.Y=1;var ee=D.Fa;Z||G(),H||(Z(),H=!0),V.add(ee,D),D.v=0}}function Pu(D){return D.g||D.u||3<=D.v?!1:(D.Y++,D.u=hn(h(D.Fa,D),Ru(D,D.v)),D.v++,!0)}e.Fa=function(){if(this.u=null,mh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var D=2*this.R;this.j.info("BP detection timer enabled: "+D),this.A=hn(h(this.ab,this),D)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Sd(this),mh(this))};function Hc(D){D.A!=null&&(o.clearTimeout(D.A),D.A=null)}function mh(D){D.g=new At(D,D.j,"rpc",D.Y),D.m===null&&(D.g.H=D.o),D.g.O=0;var ee=hi(D.qa);Dn(ee,"RID","rpc"),Dn(ee,"SID",D.K),Dn(ee,"AID",D.T),Dn(ee,"CI",D.F?"0":"1"),!D.F&&D.ja&&Dn(ee,"TO",D.ja),Dn(ee,"TYPE","xmlhttp"),Qc(D,ee),D.m&&D.o&&ls(ee,D.m,D.o),D.L&&(D.g.I=D.L);var se=D.g;D=D.ia,se.L=1,se.v=Pc(hi(ee)),se.m=null,se.P=!0,Mt(se,D)}e.Za=function(){this.C!=null&&(this.C=null,Sd(this),Pu(this),Yt(19))};function Zl(D){D.C!=null&&(o.clearTimeout(D.C),D.C=null)}function Vc(D,ee){var se=null;if(D.g==ee){Zl(D),Hc(D),D.g=null;var xe=2}else if(Ai(D.h,ee))se=ee.D,Xs(D.h,ee),xe=1;else return;if(D.G!=0){if(ee.o)if(xe==1){se=ee.m?ee.m.length:0,ee=Date.now()-ee.F;var Ge=D.B;xe=qs(),kt(xe,new En(xe,se)),Nd(D)}else kd(D);else if(Ge=ee.s,Ge==3||Ge==0&&0<ee.X||!(xe==1&&$A(D,ee)||xe==2&&Pu(D)))switch(se&&0<se.length&&(ee=D.h,ee.i=ee.i.concat(se)),Ge){case 1:Ti(D,5);break;case 4:Ti(D,10);break;case 3:Ti(D,6);break;default:Ti(D,2)}}}function Ru(D,ee){let se=D.Ta+Math.floor(Math.random()*D.cb);return D.isActive()||(se*=2),se*ee}function Ti(D,ee){if(D.j.info("Error code "+ee),ee==2){var se=h(D.fb,D),xe=D.Xa;const Ge=!xe;xe=new Cn(xe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Oc(xe,"https"),Pc(xe),Ge?Ni(xe.toString(),se):po(xe.toString(),se)}else Yt(2);D.G=0,D.l&&D.l.sa(ee),Bd(D),Fu(D)}e.fb=function(D){D?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Bd(D){if(D.G=0,D.ka=[],D.l){const ee=Ed(D.h);(ee.length!=0||D.i.length!=0)&&(b(D.ka,ee),b(D.ka,D.i),D.h.i.length=0,g(D.i),D.i.length=0),D.l.ra()}}function K(D,ee,se){var xe=se instanceof Cn?hi(se):new Cn(se);if(xe.g!="")ee&&(xe.g=ee+"."+xe.g),Dc(xe,xe.s);else{var Ge=o.location;xe=Ge.protocol,ee=ee?ee+"."+Ge.hostname:Ge.hostname,Ge=+Ge.port;var ot=new Cn(null);xe&&Oc(ot,xe),ee&&(ot.g=ee),Ge&&Dc(ot,Ge),se&&(ot.l=se),xe=ot}return se=D.D,ee=D.ya,se&&ee&&Dn(xe,se,ee),Dn(xe,"VER",D.la),Qc(D,xe),xe}function de(D,ee,se){if(ee&&!D.J)throw Error("Can't create secondary domain capable XhrIo object.");return ee=D.Ca&&!D.pa?new ln(new Rc({eb:se})):new ln(D.pa),ee.Ha(D.J),ee}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fe(){}e=Fe.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Qe(){}Qe.prototype.g=function(D,ee){return new We(D,ee)};function We(D,ee){gt.call(this),this.g=new Uc(ee),this.l=D,this.h=ee&&ee.messageUrlParams||null,D=ee&&ee.messageHeaders||null,ee&&ee.clientProtocolHeaderRequired&&(D?D["X-Client-Protocol"]="webchannel":D={"X-Client-Protocol":"webchannel"}),this.g.o=D,D=ee&&ee.initMessageHeaders||null,ee&&ee.messageContentType&&(D?D["X-WebChannel-Content-Type"]=ee.messageContentType:D={"X-WebChannel-Content-Type":ee.messageContentType}),ee&&ee.va&&(D?D["X-WebChannel-Client-Profile"]=ee.va:D={"X-WebChannel-Client-Profile":ee.va}),this.g.S=D,(D=ee&&ee.Sb)&&!_(D)&&(this.g.m=D),this.v=ee&&ee.supportsCrossDomainXhr||!1,this.u=ee&&ee.sendRawJson||!1,(ee=ee&&ee.httpSessionIdParam)&&!_(ee)&&(this.g.D=ee,D=this.h,D!==null&&ee in D&&(D=this.h,ee in D&&delete D[ee])),this.j=new qt(this)}v(We,gt),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Jl(this.g)},We.prototype.o=function(D){var ee=this.g;if(typeof D=="string"){var se={};se.__data__=D,D=se}else this.u&&(se={},se.__data__=Kt(D),D=se);ee.i.push(new ho(ee.Ya++,D)),ee.G==3&&Nd(ee)},We.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,We.aa.N.call(this)};function vt(D){ra.call(this),D.__headers__&&(this.headers=D.__headers__,this.statusCode=D.__status__,delete D.__headers__,delete D.__status__);var ee=D.__sm__;if(ee){e:{for(const se in ee){D=se;break e}D=void 0}(this.i=D)&&(D=this.i,ee=ee!==null&&D in ee?ee[D]:void 0),this.data=ee}else this.data=D}v(vt,ra);function Ot(){cr.call(this),this.status=1}v(Ot,cr);function qt(D){this.g=D}v(qt,Fe),qt.prototype.ua=function(){kt(this.g,"a")},qt.prototype.ta=function(D){kt(this.g,new vt(D))},qt.prototype.sa=function(D){kt(this.g,new Ot)},qt.prototype.ra=function(){kt(this.g,"b")},Qe.prototype.createWebChannel=Qe.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,YW=function(){return new Qe},XW=function(){return qs()},WW=er,LI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,FC=Ce,Ne.COMPLETE="complete",qW=Ne,Vr.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,gb=Vr,ln.prototype.listenOnce=ln.prototype.L,ln.prototype.getLastError=ln.prototype.Ka,ln.prototype.getLastErrorCode=ln.prototype.Ba,ln.prototype.getStatus=ln.prototype.Z,ln.prototype.getResponseJson=ln.prototype.Oa,ln.prototype.getResponseText=ln.prototype.oa,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Ha,GW=ln}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});const dU="@firebase/firestore",AU="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Oo.UNAUTHENTICATED=new Oo(null),Oo.GOOGLE_CREDENTIALS=new Oo("google-credentials-uid"),Oo.FIRST_PARTY=new Oo("first-party-uid"),Oo.MOCK_USER=new Oo("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kx="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=new I6("@firebase/firestore");function rv(){return wp.logLevel}function sr(e,...t){if(wp.logLevel<=vn.DEBUG){const r=t.map(H6);wp.debug(`Firestore (${kx}): ${e}`,...r)}}function Qf(e,...t){if(wp.logLevel<=vn.ERROR){const r=t.map(H6);wp.error(`Firestore (${kx}): ${e}`,...r)}}function Wv(e,...t){if(wp.logLevel<=vn.WARN){const r=t.map(H6);wp.warn(`Firestore (${kx}): ${e}`,...r)}}function H6(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,JW(e,n,r)}function JW(e,t,r){let n=`FIRESTORE (${kx}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Qf(n),new Error(n)}function ea(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||JW(t,a,n)}function Kr(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $t extends gd{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class e0e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Oo.UNAUTHENTICATED))}shutdown(){}}class t0e{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class r0e{constructor(t){this.t=t,this.currentUser=Oo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){ea(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Tf;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tf,t.enqueueRetryable(()=>a(this.currentUser))};const i=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{sr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(sr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tf)}},0),i()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(sr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ea(typeof n.accessToken=="string",31837,{l:n}),new ZW(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ea(t===null||typeof t=="string",2055,{h:t}),new Oo(t)}}class n0e{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Oo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a0e{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new n0e(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Oo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fU{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s0e{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gc(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){ea(this.o===void 0,3512);const n=s=>{s.error!=null&&sr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.m;return this.m=s.token,sr("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?r(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};const a=s=>{sr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):sr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fU(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(ea(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new fU(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0e(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=i0e(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=t.charAt(a[s]%62))}return n}}function xn(e,t){return e<t?-1:e>t?1:0}function MI(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const a=e.charAt(n),s=t.charAt(n);if(a!==s)return Yk(a)===Yk(s)?xn(a,s):Yk(a)?1:-1}return xn(e.length,t.length)}const o0e=55296,l0e=57343;function Yk(e){const t=e.charCodeAt(0);return t>=o0e&&t<=l0e}function Xv(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="__name__";class sA{constructor(t,r,n){r===void 0?r=0:r>t.length&&Rr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Rr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return sA.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof sA?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const s=sA.compareSegments(t.get(a),r.get(a));if(s!==0)return s}return xn(t.length,r.length)}static compareSegments(t,r){const n=sA.isNumericId(t),a=sA.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?sA.extractNumericId(t).compare(sA.extractNumericId(r)):MI(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return C0.fromString(t.substring(4,t.length-2))}}class Ca extends sA{construct(t,r,n){return new Ca(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new $t(bt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Ca(r)}static emptyPath(){return new Ca([])}}const c0e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lo extends sA{construct(t,r,n){return new lo(t,r,n)}static isValidIdentifier(t){return c0e.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hU}static keyField(){return new lo([hU])}static fromServerFormat(t){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new $t(bt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let i=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new $t(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $t(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(i=!i,a++):o!=="."||i?(n+=o,a++):(s(),a++)}if(s(),i)throw new $t(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new lo(r)}static emptyPath(){return new lo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this.path=t}static fromPath(t){return new gr(Ca.fromString(t))}static fromName(t){return new gr(Ca.fromString(t).popFirst(5))}static empty(){return new gr(Ca.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ca.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ca.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gr(new Ca(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(e,t,r){if(!r)throw new $t(bt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function u0e(e,t,r,n){if(t===!0&&n===!0)throw new $t(bt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function mU(e){if(!gr.isDocumentKey(e))throw new $t(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function pU(e){if(gr.isDocumentKey(e))throw new $t(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tX(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function B5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Rr(12329,{type:typeof e})}function cl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $t(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=B5(e);throw new $t(bt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function d0e(e,t){if(t<=0)throw new $t(bt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t){const r={typeString:e};return t&&(r.value=t),r}function Aw(e,t){if(!tX(e))throw new $t(bt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,s="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const i=e[n];if(a&&typeof i!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(s!==void 0&&i!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new $t(bt.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=-62135596800,vU=1e6;class mr{static now(){return mr.fromMillis(Date.now())}static fromDate(t){return mr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*vU);return new mr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new $t(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new $t(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<gU)throw new $t(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $t(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vU}_compareTo(t){return this.seconds===t.seconds?xn(this.nanoseconds,t.nanoseconds):xn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Aw(t,mr._jsonSchema))return new mr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-gU;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mr._jsonSchemaVersion="firestore/timestamp/1.0",mr._jsonSchema={type:li("string",mr._jsonSchemaVersion),seconds:li("number"),nanoseconds:li("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{static fromTimestamp(t){return new zr(t)}static min(){return new zr(new mr(0,0))}static max(){return new zr(new mr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-1;function A0e(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=zr.fromTimestamp(n===1e9?new mr(r+1,0):new mr(r,n));return new P0(a,gr.empty(),t)}function f0e(e){return new P0(e.readTime,e.key,my)}class P0{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new P0(zr.min(),gr.empty(),my)}static max(){return new P0(zr.max(),gr.empty(),my)}}function h0e(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=gr.comparator(e.documentKey,t.documentKey),r!==0?r:xn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p0e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(e){if(e.code!==bt.FAILED_PRECONDITION||e.message!==m0e)throw e;sr("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Rr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new It((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof It?r:It.resolve(r)}catch(r){return It.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):It.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):It.reject(r)}static resolve(t){return new It((r,n)=>{r(t)})}static reject(t){return new It((r,n)=>{n(t)})}static waitFor(t){return new It((r,n)=>{let a=0,s=0,i=!1;t.forEach(o=>{++a,o.next(()=>{++s,i&&s===a&&r()},l=>n(l))}),i=!0,s===a&&r()})}static or(t){let r=It.resolve(!1);for(const n of t)r=r.next(a=>a?It.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,s)=>{n.push(r.call(this,a,s))}),this.waitFor(n)}static mapArray(t,r){return new It((n,a)=>{const s=t.length,i=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(t[u]).next(d=>{i[u]=d,++o,o===s&&n(i)},d=>a(d))}})}static doWhile(t,r){return new It((n,a)=>{const s=()=>{t()===!0?r().next(()=>{s()},a):n()};s()})}}function g0e(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Tx(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}T5.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=-1;function I5(e){return e==null}function __(e){return e===0&&1/e==-1/0}function v0e(e){return typeof e=="number"&&Number.isInteger(e)&&!__(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX="";function x0e(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=xU(t)),t=b0e(e.get(r),t);return xU(t)}function b0e(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const s=e.charAt(a);switch(s){case"\0":r+="";break;case rX:r+="";break;default:r+=s}}return r}function xU(e){return e+rX+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Z0(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function nX(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,r){this.comparator=t,this.root=r||so.EMPTY}insert(t,r){return new rs(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,so.BLACK,null,null))}remove(t){return new rs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,so.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rE(this.root,t,this.comparator,!1)}getReverseIterator(){return new rE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rE(this.root,t,this.comparator,!0)}}class rE{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=r?n(t.key,r):1,r&&a&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class so{constructor(t,r,n,a,s){this.key=t,this.value=r,this.color=n??so.RED,this.left=a??so.EMPTY,this.right=s??so.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,s){return new so(t??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const s=n(t,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(t,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return so.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return so.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,so.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,so.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rr(27949);return t+(this.isRed()?0:1)}}so.EMPTY=null,so.RED=!0,so.BLACK=!1;so.EMPTY=new class{constructor(){this.size=0}get key(){throw Rr(57766)}get value(){throw Rr(16141)}get color(){throw Rr(16727)}get left(){throw Rr(29726)}get right(){throw Rr(36894)}copy(t,r,n,a,s){return this}insert(t,r,n){return new so(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.comparator=t,this.data=new rs(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new yU(this.data.getIterator())}getIteratorFrom(t){return new yU(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof yi)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new yi(this.comparator);return r.data=t,r}}class yU{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t){this.fields=t,t.sort(lo.comparator)}static empty(){return new yc([])}unionWith(t){let r=new yi(lo.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new yc(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Xv(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aX("Invalid base64 string: "+s):s}}(t);return new Ao(r)}static fromUint8Array(t){const r=function(a){let s="";for(let i=0;i<a.length;++i)s+=String.fromCharCode(a[i]);return s}(t);return new Ao(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ao.EMPTY_BYTE_STRING=new Ao("");const y0e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function R0(e){if(ea(!!e,39018),typeof e=="string"){let t=0;const r=y0e.exec(e);if(ea(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Ls(e.seconds),nanos:Ls(e.nanos)}}function Ls(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function L0(e){return typeof e=="string"?Ao.fromBase64String(e):Ao.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sX="server_timestamp",iX="__type__",oX="__previous_value__",lX="__local_write_time__";function j5(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[iX])==null?void 0:n.stringValue)===sX}function F5(e){const t=e.mapValue.fields[oX];return j5(t)?F5(t):t}function py(e){const t=R0(e.mapValue.fields[lX].timestampValue);return new mr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0e{constructor(t,r,n,a,s,i,o,l,u,d){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const S_="(default)";class gy{constructor(t,r){this.projectId=t,this.database=r||S_}static empty(){return new gy("","")}get isDefaultDatabase(){return this.database===S_}isEqual(t){return t instanceof gy&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX="__type__",E0e="__max__",nE={mapValue:{}},uX="__vector__",N_="value";function M0(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?j5(e)?4:_0e(e)?9007199254740991:C0e(e)?10:11:Rr(28295,{value:e})}function BA(e,t){if(e===t)return!0;const r=M0(e);if(r!==M0(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return py(e).isEqual(py(t));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const i=R0(a.timestampValue),o=R0(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,s){return L0(a.bytesValue).isEqual(L0(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,s){return Ls(a.geoPointValue.latitude)===Ls(s.geoPointValue.latitude)&&Ls(a.geoPointValue.longitude)===Ls(s.geoPointValue.longitude)}(e,t);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return Ls(a.integerValue)===Ls(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const i=Ls(a.doubleValue),o=Ls(s.doubleValue);return i===o?__(i)===__(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return Xv(e.arrayValue.values||[],t.arrayValue.values||[],BA);case 10:case 11:return function(a,s){const i=a.mapValue.fields||{},o=s.mapValue.fields||{};if(bU(i)!==bU(o))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(o[l]===void 0||!BA(i[l],o[l])))return!1;return!0}(e,t);default:return Rr(52216,{left:e})}}function vy(e,t){return(e.values||[]).find(r=>BA(r,t))!==void 0}function Yv(e,t){if(e===t)return 0;const r=M0(e),n=M0(t);if(r!==n)return xn(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xn(e.booleanValue,t.booleanValue);case 2:return function(s,i){const o=Ls(s.integerValue||s.doubleValue),l=Ls(i.integerValue||i.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return wU(e.timestampValue,t.timestampValue);case 4:return wU(py(e),py(t));case 5:return MI(e.stringValue,t.stringValue);case 6:return function(s,i){const o=L0(s),l=L0(i);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const o=s.split("/"),l=i.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=xn(o[u],l[u]);if(d!==0)return d}return xn(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const o=xn(Ls(s.latitude),Ls(i.latitude));return o!==0?o:xn(Ls(s.longitude),Ls(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return EU(e.arrayValue,t.arrayValue);case 10:return function(s,i){var h,p,v,g;const o=s.fields||{},l=i.fields||{},u=(h=o[N_])==null?void 0:h.arrayValue,d=(p=l[N_])==null?void 0:p.arrayValue,f=xn(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:EU(u,d)}(e.mapValue,t.mapValue);case 11:return function(s,i){if(s===nE.mapValue&&i===nE.mapValue)return 0;if(s===nE.mapValue)return 1;if(i===nE.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=i.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=MI(l[f],d[f]);if(h!==0)return h;const p=Yv(o[l[f]],u[d[f]]);if(p!==0)return p}return xn(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Rr(23264,{he:r})}}function wU(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return xn(e,t);const r=R0(e),n=R0(t),a=xn(r.seconds,n.seconds);return a!==0?a:xn(r.nanos,n.nanos)}function EU(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=Yv(r[a],n[a]);if(s)return s}return xn(r.length,n.length)}function Jv(e){return UI(e)}function UI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=R0(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return L0(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return gr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=UI(s);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const i of n)s?s=!1:a+=",",a+=`${i}:${UI(r.fields[i])}`;return a+"}"}(e.mapValue):Rr(61005,{value:e})}function OC(e){switch(M0(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=F5(e);return t?16+OC(t):16;case 5:return 2*e.stringValue.length;case 6:return L0(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,s)=>a+OC(s),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Z0(n.fields,(s,i)=>{a+=s.length+OC(i)}),a}(e.mapValue);default:throw Rr(13486,{value:e})}}function k_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function QI(e){return!!e&&"integerValue"in e}function $6(e){return!!e&&"arrayValue"in e}function CU(e){return!!e&&"nullValue"in e}function _U(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function DC(e){return!!e&&"mapValue"in e}function C0e(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[cX])==null?void 0:n.stringValue)===uX}function Ub(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Z0(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Ub(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ub(e.arrayValue.values[r]);return t}return{...e}}function _0e(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===E0e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t){this.value=t}static empty(){return new Rl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!DC(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ub(r)}setAll(t){let r=lo.emptyPath(),n={},a=[];t.forEach((i,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}i?n[o.lastSegment()]=Ub(i):a.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(t){const r=this.field(t.popLast());DC(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return BA(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];DC(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Z0(r,(a,s)=>t[a]=s);for(const a of n)delete t[a]}clone(){return new Rl(Ub(this.value))}}function dX(e){const t=[];return Z0(e.fields,(r,n)=>{const a=new lo([r]);if(DC(n)){const s=dX(n.mapValue).fields;if(s.length===0)t.push(a);else for(const i of s)t.push(a.child(i))}else t.push(a)}),new yc(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,r,n,a,s,i,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=i,this.documentState=o}static newInvalidDocument(t){return new Lo(t,0,zr.min(),zr.min(),zr.min(),Rl.empty(),0)}static newFoundDocument(t,r,n,a){return new Lo(t,1,r,zr.min(),n,a,0)}static newNoDocument(t,r){return new Lo(t,2,r,zr.min(),zr.min(),Rl.empty(),0)}static newUnknownDocument(t,r){return new Lo(t,3,r,zr.min(),zr.min(),Rl.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(zr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Lo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Lo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t,r){this.position=t,this.inclusive=r}}function SU(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const s=t[a],i=e.position[a];if(s.field.isKeyField()?n=gr.comparator(gr.fromName(i.referenceValue),r.key):n=Yv(i,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function NU(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!BA(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(t,r="asc"){this.field=t,this.dir=r}}function S0e(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{}class oi extends AX{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new k0e(t,r,n):r==="array-contains"?new I0e(t,n):r==="in"?new j0e(t,n):r==="not-in"?new F0e(t,n):r==="array-contains-any"?new O0e(t,n):new oi(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new B0e(t,n):new T0e(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Yv(r,this.value)):r!==null&&M0(this.value)===M0(r)&&this.matchesComparison(Yv(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pd extends AX{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new pd(t,r)}matches(t){return fX(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fX(e){return e.op==="and"}function hX(e){return N0e(e)&&fX(e)}function N0e(e){for(const t of e.filters)if(t instanceof pd)return!1;return!0}function HI(e){if(e instanceof oi)return e.field.canonicalString()+e.op.toString()+Jv(e.value);if(hX(e))return e.filters.map(t=>HI(t)).join(",");{const t=e.filters.map(r=>HI(r)).join(",");return`${e.op}(${t})`}}function mX(e,t){return e instanceof oi?function(n,a){return a instanceof oi&&n.op===a.op&&n.field.isEqual(a.field)&&BA(n.value,a.value)}(e,t):e instanceof pd?function(n,a){return a instanceof pd&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,i,o)=>s&&mX(i,a.filters[o]),!0):!1}(e,t):void Rr(19439)}function pX(e){return e instanceof oi?function(r){return`${r.field.canonicalString()} ${r.op} ${Jv(r.value)}`}(e):e instanceof pd?function(r){return r.op.toString()+" {"+r.getFilters().map(pX).join(" ,")+"}"}(e):"Filter"}class k0e extends oi{constructor(t,r,n){super(t,r,n),this.key=gr.fromName(n.referenceValue)}matches(t){const r=gr.comparator(t.key,this.key);return this.matchesComparison(r)}}class B0e extends oi{constructor(t,r){super(t,"in",r),this.keys=gX("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class T0e extends oi{constructor(t,r){super(t,"not-in",r),this.keys=gX("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function gX(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>gr.fromName(n.referenceValue))}class I0e extends oi{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return $6(r)&&vy(r.arrayValue,this.value)}}class j0e extends oi{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&vy(this.value.arrayValue,r)}}class F0e extends oi{constructor(t,r){super(t,"not-in",r)}matches(t){if(vy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!vy(this.value.arrayValue,r)}}class O0e extends oi{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!$6(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>vy(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0e{constructor(t,r=null,n=[],a=[],s=null,i=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=i,this.endAt=o,this.Te=null}}function kU(e,t=null,r=[],n=[],a=null,s=null,i=null){return new D0e(e,t,r,n,a,s,i)}function K6(e){const t=Kr(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>HI(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),I5(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>Jv(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>Jv(n)).join(",")),t.Te=r}return t.Te}function G6(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!S0e(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!mX(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!NU(e.startAt,t.startAt)&&NU(e.endAt,t.endAt)}function VI(e){return gr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,r=null,n=[],a=[],s=null,i="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P0e(e,t,r,n,a,s,i,o){return new Qp(e,t,r,n,a,s,i,o)}function O5(e){return new Qp(e)}function BU(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function q6(e){return e.collectionGroup!==null}function kv(e){const t=Kr(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),r.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new yi(lo.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new xy(s,n))}),r.has(lo.keyField().canonicalString())||t.Ie.push(new xy(lo.keyField(),n))}return t.Ie}function yA(e){const t=Kr(e);return t.Ee||(t.Ee=R0e(t,kv(e))),t.Ee}function R0e(e,t){if(e.limitType==="F")return kU(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new xy(a.field,s)});const r=e.endAt?new Zv(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Zv(e.startAt.position,e.startAt.inclusive):null;return kU(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function zI(e,t){const r=e.filters.concat([t]);return new Qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function B_(e,t,r){return new Qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function D5(e,t){return G6(yA(e),yA(t))&&e.limitType===t.limitType}function vX(e){return`${K6(yA(e))}|lt:${e.limitType}`}function nv(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>pX(a)).join(", ")}]`),I5(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Jv(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Jv(a)).join(",")),`Target(${n})`}(yA(e))}; limitType=${e.limitType})`}function P5(e,t){return t.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):gr.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,a){for(const s of kv(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(i,o,l){const u=SU(i,o,l);return i.inclusive?u<=0:u<0}(n.startAt,kv(n),a)||n.endAt&&!function(i,o,l){const u=SU(i,o,l);return i.inclusive?u>=0:u>0}(n.endAt,kv(n),a))}(e,t)}function L0e(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xX(e){return(t,r)=>{let n=!1;for(const a of kv(e)){const s=M0e(a,t,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function M0e(e,t,r){const n=e.field.isKeyField()?gr.comparator(t.key,r.key):function(s,i,o){const l=i.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Yv(l,u):Rr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Rr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,t))return s}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],t))return void(a[s]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Z0(this.inner,(r,n)=>{for(const[a,s]of n)t(a,s)})}isEmpty(){return nX(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0e=new rs(gr.comparator);function Hf(){return U0e}const bX=new rs(gr.comparator);function vb(...e){let t=bX;for(const r of e)t=t.insert(r.key,r);return t}function yX(e){let t=bX;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Gm(){return Qb()}function wX(){return Qb()}function Qb(){return new Hp(e=>e.toString(),(e,t)=>e.isEqual(t))}const Q0e=new rs(gr.comparator),H0e=new yi(gr.comparator);function bn(...e){let t=H0e;for(const r of e)t=t.add(r);return t}const V0e=new yi(xn);function z0e(){return V0e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__(t)?"-0":t}}function EX(e){return{integerValue:""+e}}function $0e(e,t){return v0e(t)?EX(t):W6(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this._=void 0}}function K0e(e,t,r){return e instanceof by?function(a,s){const i={fields:{[iX]:{stringValue:sX},[lX]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&j5(s)&&(s=F5(s)),s&&(i.fields[oX]=s),{mapValue:i}}(r,t):e instanceof ex?_X(e,t):e instanceof yy?SX(e,t):function(a,s){const i=CX(a,s),o=TU(i)+TU(a.Ae);return QI(i)&&QI(a.Ae)?EX(o):W6(a.serializer,o)}(e,t)}function G0e(e,t,r){return e instanceof ex?_X(e,t):e instanceof yy?SX(e,t):r}function CX(e,t){return e instanceof T_?function(n){return QI(n)||function(s){return!!s&&"doubleValue"in s}(n)}(t)?t:{integerValue:0}:null}class by extends R5{}class ex extends R5{constructor(t){super(),this.elements=t}}function _X(e,t){const r=NX(t);for(const n of e.elements)r.some(a=>BA(a,n))||r.push(n);return{arrayValue:{values:r}}}class yy extends R5{constructor(t){super(),this.elements=t}}function SX(e,t){let r=NX(t);for(const n of e.elements)r=r.filter(a=>!BA(a,n));return{arrayValue:{values:r}}}class T_ extends R5{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function TU(e){return Ls(e.integerValue||e.doubleValue)}function NX(e){return $6(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(t,r){this.field=t,this.transform=r}}function q0e(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof ex&&a instanceof ex||n instanceof yy&&a instanceof yy?Xv(n.elements,a.elements,BA):n instanceof T_&&a instanceof T_?BA(n.Ae,a.Ae):n instanceof by&&a instanceof by}(e.transform,t.transform)}class W0e{constructor(t,r){this.version=t,this.transformResults=r}}class ul{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new ul}static exists(t){return new ul(void 0,t)}static updateTime(t){return new ul(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function PC(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class L5{}function BX(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new M5(e.key,ul.none()):new fw(e.key,e.data,ul.none());{const r=e.data,n=Rl.empty();let a=new yi(lo.comparator);for(let s of t.fields)if(!a.has(s)){let i=r.field(s);i===null&&s.length>1&&(s=s.popLast(),i=r.field(s)),i===null?n.delete(s):n.set(s,i),a=a.add(s)}return new em(e.key,n,new yc(a.toArray()),ul.none())}}function X0e(e,t,r){e instanceof fw?function(a,s,i){const o=a.value.clone(),l=jU(a.fieldTransforms,s,i.transformResults);o.setAll(l),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,r):e instanceof em?function(a,s,i){if(!PC(a.precondition,s))return void s.convertToUnknownDocument(i.version);const o=jU(a.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(TX(a)),l.setAll(o),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(e,t,r):function(a,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,r)}function Hb(e,t,r,n){return e instanceof fw?function(s,i,o,l){if(!PC(s.precondition,i))return o;const u=s.value.clone(),d=FU(s.fieldTransforms,l,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof em?function(s,i,o,l){if(!PC(s.precondition,i))return o;const u=FU(s.fieldTransforms,l,i),d=i.data;return d.setAll(TX(s)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(s,i,o){return PC(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(e,t,r)}function Y0e(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),s=CX(n.transform,a||null);s!=null&&(r===null&&(r=Rl.empty()),r.set(n.field,s))}return r||null}function IU(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Xv(n,a,(s,i)=>q0e(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fw extends L5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class em extends L5{constructor(t,r,n,a,s=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TX(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function jU(e,t,r){const n=new Map;ea(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const s=e[a],i=s.transform,o=t.data.field(s.field);n.set(s.field,G0e(i,o,r[a]))}return n}function FU(e,t,r){const n=new Map;for(const a of e){const s=a.transform,i=r.data.field(a.field);n.set(a.field,K0e(s,i,t))}return n}class M5 extends L5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J0e extends L5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0e{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(t.key)&&X0e(s,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Hb(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Hb(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=wX();return this.mutations.forEach(a=>{const s=t.get(a.key),i=s.overlayedDocument;let o=this.applyToLocalView(i,s.mutatedFields);o=r.has(a.key)?null:o;const l=BX(i,o);l!==null&&n.set(a.key,l),i.isValidDocument()||i.convertToNoDocument(zr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),bn())}isEqual(t){return this.batchId===t.batchId&&Xv(this.mutations,t.mutations,(r,n)=>IU(r,n))&&Xv(this.baseMutations,t.baseMutations,(r,n)=>IU(r,n))}}class X6{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){ea(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let a=function(){return Q0e}();const s=t.mutations;for(let i=0;i<s.length;i++)a=a.insert(s[i].key,n[i].version);return new X6(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tme{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri,Bn;function rme(e){switch(e){case bt.OK:return Rr(64938);case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0;default:return Rr(15467,{code:e})}}function IX(e){if(e===void 0)return Qf("GRPC error has no .code"),bt.UNKNOWN;switch(e){case ri.OK:return bt.OK;case ri.CANCELLED:return bt.CANCELLED;case ri.UNKNOWN:return bt.UNKNOWN;case ri.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case ri.INTERNAL:return bt.INTERNAL;case ri.UNAVAILABLE:return bt.UNAVAILABLE;case ri.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case ri.NOT_FOUND:return bt.NOT_FOUND;case ri.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case ri.ABORTED:return bt.ABORTED;case ri.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case ri.DATA_LOSS:return bt.DATA_LOSS;default:return Rr(39323,{code:e})}}(Bn=ri||(ri={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nme(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ame=new C0([4294967295,4294967295],0);function OU(e){const t=nme().encode(e),r=new KW;return r.update(t),new Uint8Array(r.digest())}function DU(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new C0([r,n],0),new C0([a,s],0)]}class Y6{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new xb(`Invalid padding: ${r}`);if(n<0)throw new xb(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new xb(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new xb(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=C0.fromNumber(this.ge)}ye(t,r,n){let a=t.add(r.multiply(C0.fromNumber(n)));return a.compare(ame)===1&&(a=new C0([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=OU(t),[n,a]=DU(r);for(let s=0;s<this.hashCount;s++){const i=this.ye(n,a,s);if(!this.we(i))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),i=new Y6(s,a,r);return n.forEach(o=>i.insert(o)),i}insert(t){if(this.ge===0)return;const r=OU(t),[n,a]=DU(r);for(let s=0;s<this.hashCount;s++){const i=this.ye(n,a,s);this.Se(i)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class xb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(t,r,n,a,s){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,hw.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new U5(zr.min(),a,new rs(xn),Hf(),bn())}}class hw{constructor(t,r,n,a,s){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new hw(n,r,bn(),bn(),bn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t,r,n,a){this.be=t,this.removedTargetIds=r,this.key=n,this.De=a}}class jX{constructor(t,r){this.targetId=t,this.Ce=r}}class FX{constructor(t,r,n=Ao.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class PU{constructor(){this.ve=0,this.Fe=RU(),this.Me=Ao.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=bn(),r=bn(),n=bn();return this.Fe.forEach((a,s)=>{switch(s){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Rr(38017,{changeType:s})}}),new hw(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=RU()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ea(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sme{constructor(t){this.Ge=t,this.ze=new Map,this.je=Hf(),this.Je=aE(),this.He=aE(),this.Ye=new rs(xn)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:Rr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(t){const r=t.targetId,n=t.Ce.count,a=this.ot(r);if(a){const s=a.target;if(VI(s))if(n===0){const i=new gr(s.path);this.et(r,i,Lo.newNoDocument(i,zr.min()))}else ea(n===1,20013,{expectedCount:n});else{const i=this._t(r);if(i!==n){const o=this.ut(t),l=o?this.ct(o,t,i):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:s=0}=r;let i,o;try{i=L0(n).toUint8Array()}catch(l){if(l instanceof aX)return Wv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Y6(i,a,s)}catch(l){return Wv(l instanceof xb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(s=>{const i=this.Ge.ht(),o=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.et(r,s,null),a++)}),a}Tt(t){const r=new Map;this.ze.forEach((s,i)=>{const o=this.ot(i);if(o){if(s.current&&VI(o.target)){const l=new gr(o.target.path);this.It(l).has(i)||this.Et(i,l)||this.et(i,l,Lo.newNoDocument(l,t))}s.Be&&(r.set(i,s.ke()),s.qe())}});let n=bn();this.He.forEach((s,i)=>{let o=!0;i.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.je.forEach((s,i)=>i.setReadTime(t));const a=new U5(t,r,this.Ye,this.je,n);return this.je=Hf(),this.Je=aE(),this.He=aE(),this.Ye=new rs(xn),a}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new PU,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new yi(xn),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new yi(xn),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||sr("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new PU),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function aE(){return new rs(gr.comparator)}function RU(){return new rs(gr.comparator)}const ime={asc:"ASCENDING",desc:"DESCENDING"},ome={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lme={and:"AND",or:"OR"};class cme{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function $I(e,t){return e.useProto3Json||I5(t)?t:{value:t}}function I_(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OX(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ume(e,t){return I_(e,t.toTimestamp())}function wA(e){return ea(!!e,49232),zr.fromTimestamp(function(r){const n=R0(r);return new mr(n.seconds,n.nanos)}(e))}function J6(e,t){return KI(e,t).canonicalString()}function KI(e,t){const r=function(a){return new Ca(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function DX(e){const t=Ca.fromString(e);return ea(UX(t),10190,{key:t.toString()}),t}function GI(e,t){return J6(e.databaseId,t.path)}function Jk(e,t){const r=DX(t);if(r.get(1)!==e.databaseId.projectId)throw new $t(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new $t(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new gr(RX(r))}function PX(e,t){return J6(e.databaseId,t)}function dme(e){const t=DX(e);return t.length===4?Ca.emptyPath():RX(t)}function qI(e){return new Ca(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function RX(e){return ea(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function LU(e,t,r){return{name:GI(e,t),fields:r.value.mapValue.fields}}function Ame(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Rr(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ea(d===void 0||typeof d=="string",58123),Ao.fromBase64String(d||"")):(ea(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ao.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&function(u){const d=u.code===void 0?bt.UNKNOWN:IX(u.code);return new $t(d,u.message||"")}(i);r=new FX(n,a,s,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=Jk(e,n.document.name),s=wA(n.document.updateTime),i=n.document.createTime?wA(n.document.createTime):zr.min(),o=new Rl({mapValue:{fields:n.document.fields}}),l=Lo.newFoundDocument(a,s,i,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new RC(u,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=Jk(e,n.document),s=n.readTime?wA(n.readTime):zr.min(),i=Lo.newNoDocument(a,s),o=n.removedTargetIds||[];r=new RC([],o,i.key,i)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=Jk(e,n.document),s=n.removedTargetIds||[];r=new RC([],s,a,null)}else{if(!("filter"in t))return Rr(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:s}=n,i=new tme(a,s),o=n.targetId;r=new jX(o,i)}}return r}function fme(e,t){let r;if(t instanceof fw)r={update:LU(e,t.key,t.value)};else if(t instanceof M5)r={delete:GI(e,t.key)};else if(t instanceof em)r={update:LU(e,t.key,t.data),updateMask:wme(t.fieldMask)};else{if(!(t instanceof J0e))return Rr(16599,{Vt:t.type});r={verify:GI(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(s,i){const o=i.transform;if(o instanceof by)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ex)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof yy)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof T_)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw Rr(20930,{transform:i.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:ume(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Rr(27497)}(e,t.precondition)),r}function hme(e,t){return e&&e.length>0?(ea(t!==void 0,14353),e.map(r=>function(a,s){let i=a.updateTime?wA(a.updateTime):wA(s);return i.isEqual(zr.min())&&(i=wA(s)),new W0e(i,a.transformResults||[])}(r,t))):[]}function mme(e,t){return{documents:[PX(e,t.path)]}}function pme(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=PX(e,a);const s=function(u){if(u.length!==0)return MX(pd.create(u,"and"))}(t.filters);s&&(r.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:av(h.field),direction:xme(h.dir)}}(d))}(t.orderBy);i&&(r.structuredQuery.orderBy=i);const o=$I(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:a}}function gme(e){let t=dme(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){ea(n===1,65062);const d=r.from[0];d.allDescendants?a=d.collectionId:t=t.child(d.collectionId)}let s=[];r.where&&(s=function(f){const h=LX(f);return h instanceof pd&&hX(h)?h.getFilters():[h]}(r.where));let i=[];r.orderBy&&(i=function(f){return f.map(h=>function(v){return new xy(sv(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,I5(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Zv(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new Zv(p,h)}(r.endAt)),P0e(t,a,i,s,o,"F",l,u)}function vme(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function LX(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=sv(r.unaryFilter.field);return oi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=sv(r.unaryFilter.field);return oi.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sv(r.unaryFilter.field);return oi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=sv(r.unaryFilter.field);return oi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rr(61313);default:return Rr(60726)}}(e):e.fieldFilter!==void 0?function(r){return oi.create(sv(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rr(58110);default:return Rr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return pd.create(r.compositeFilter.filters.map(n=>LX(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Rr(1026)}}(r.compositeFilter.op))}(e):Rr(30097,{filter:e})}function xme(e){return ime[e]}function bme(e){return ome[e]}function yme(e){return lme[e]}function av(e){return{fieldPath:e.canonicalString()}}function sv(e){return lo.fromServerFormat(e.fieldPath)}function MX(e){return e instanceof oi?function(r){if(r.op==="=="){if(_U(r.value))return{unaryFilter:{field:av(r.field),op:"IS_NAN"}};if(CU(r.value))return{unaryFilter:{field:av(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(_U(r.value))return{unaryFilter:{field:av(r.field),op:"IS_NOT_NAN"}};if(CU(r.value))return{unaryFilter:{field:av(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:av(r.field),op:bme(r.op),value:r.value}}}(e):e instanceof pd?function(r){const n=r.getFilters().map(a=>MX(a));return n.length===1?n[0]:{compositeFilter:{op:yme(r.op),filters:n}}}(e):Rr(54877,{filter:e})}function wme(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function UX(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,r,n,a,s=zr.min(),i=zr.min(),o=Ao.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new h0(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new h0(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new h0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new h0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eme{constructor(t){this.yt=t}}function Cme(e){const t=gme({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?B_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _me{constructor(){this.Cn=new Sme}addToCollectionParentIndex(t,r){return this.Cn.add(r),It.resolve()}getCollectionParents(t,r){return It.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return It.resolve()}deleteFieldIndex(t,r){return It.resolve()}deleteAllFieldIndexes(t){return It.resolve()}createTargetIndexes(t,r){return It.resolve()}getDocumentsMatchingTarget(t,r){return It.resolve(null)}getIndexType(t,r){return It.resolve(0)}getFieldIndexes(t,r){return It.resolve([])}getNextCollectionGroupToUpdate(t){return It.resolve(null)}getMinOffset(t,r){return It.resolve(P0.min())}getMinOffsetFromCollectionGroup(t,r){return It.resolve(P0.min())}updateCollectionGroup(t,r,n){return It.resolve()}updateIndexEntries(t,r){return It.resolve()}}class Sme{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new yi(Ca.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new yi(Ca.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QX=41943040;class Fl{static withCacheSize(t){return new Fl(t,Fl.DEFAULT_COLLECTION_PERCENTILE,Fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fl.DEFAULT_COLLECTION_PERCENTILE=10,Fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fl.DEFAULT=new Fl(QX,Fl.DEFAULT_COLLECTION_PERCENTILE,Fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fl.DISABLED=new Fl(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tx(0)}static cr(){return new tx(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="LruGarbageCollector",Nme=1048576;function QU([e,t],[r,n]){const a=xn(e,r);return a===0?xn(t,n):a}class kme{constructor(t){this.Ir=t,this.buffer=new yi(QU),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();QU(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Bme{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){sr(UU,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Tx(r)?sr(UU,"Ignoring IndexedDB error during garbage collection: ",r):await Bx(r)}await this.Vr(3e5)})}}class Tme{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return It.resolve(T5.ce);const n=new kme(r);return this.mr.forEachTarget(t,a=>n.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>n.Ar(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(sr("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(MU)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(sr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MU):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,a,s,i,o,l,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(sr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,i=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(u=Date.now(),rv()<=vn.DEBUG&&sr("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${a} in `+(o-i)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),It.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:f})))}}function Ime(e,t){return new Tme(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jme{constructor(){this.changes=new Hp(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Lo.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?It.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fme{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ome{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Hb(n.mutation,a,yc.empty(),mr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,bn()).next(()=>n))}getLocalViewOfDocuments(t,r,n=bn()){const a=Gm();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(s=>{let i=vb();return s.forEach((o,l)=>{i=i.insert(o,l.overlayedDocument)}),i}))}getOverlayedDocuments(t,r){const n=Gm();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,bn()))}populateOverlays(t,r,n){const a=[];return n.forEach(s=>{r.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(t,a).next(s=>{s.forEach((i,o)=>{r.set(i,o)})})}computeViews(t,r,n,a){let s=Hf();const i=Qb(),o=function(){return Qb()}();return r.forEach((l,u)=>{const d=n.get(u.key);a.has(u.key)&&(d===void 0||d.mutation instanceof em)?s=s.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),Hb(d.mutation,u,d.mutation.getFieldMask(),mr.now())):i.set(u.key,yc.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,d)=>i.set(u,d)),r.forEach((u,d)=>o.set(u,new Fme(d,i.get(u)??null))),o))}recalculateAndSaveOverlays(t,r){const n=Qb();let a=new rs((i,o)=>i-o),s=bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(i=>{for(const o of i)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||yc.empty();d=o.applyToLocalView(u,d),n.set(l,d);const f=(a.get(o.batchId)||bn()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const i=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,f=wX();d.forEach(h=>{if(!s.has(h)){const p=BX(r.get(h),n.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),i.push(this.documentOverlayCache.saveOverlays(t,u,f))}return It.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(i){return gr.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):q6(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(s=>{const i=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-s.size):It.resolve(Gm());let o=my,l=s;return i.next(u=>It.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(d)?It.resolve():this.remoteDocumentCache.getEntry(t,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,bn())).next(d=>({batchId:o,changes:yX(d)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new gr(r)).next(n=>{let a=vb();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const s=r.collectionGroup;let i=vb();return this.indexManager.getCollectionParents(t,s).next(o=>It.forEach(o,l=>{const u=function(f,h){return new Qp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,n,a).next(d=>{d.forEach((f,h)=>{i=i.insert(f,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,s,a))).next(i=>{s.forEach((l,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,Lo.newInvalidDocument(d)))});let o=vb();return i.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Hb(d.mutation,u,yc.empty(),mr.now()),P5(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dme{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return It.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:wA(a.createTime)}}(r)),It.resolve()}getNamedQuery(t,r){return It.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(a){return{name:a.name,query:Cme(a.bundledQuery),readTime:wA(a.readTime)}}(r)),It.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{constructor(){this.overlays=new rs(gr.comparator),this.qr=new Map}getOverlay(t,r){return It.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Gm();return It.forEach(r,a=>this.getOverlay(t,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,s)=>{this.St(t,r,s)}),It.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),It.resolve()}getOverlaysForCollection(t,r,n){const a=Gm(),s=r.length+1,i=new gr(r.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&a.set(l.getKey(),l)}return It.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let s=new rs((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=Gm(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Gm(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=a)););return It.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const i=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new eme(r,n));let s=this.qr.get(r);s===void 0&&(s=bn(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rme{constructor(){this.sessionToken=Ao.EMPTY_BYTE_STRING}getSessionToken(t){return It.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,It.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.Qr=new yi(Ri.$r),this.Ur=new yi(Ri.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Ri(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Ri(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new gr(new Ca([])),n=new Ri(r,t),a=new Ri(r,t+1),s=[];return this.Ur.forEachInRange([n,a],i=>{this.Gr(i),s.push(i.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new gr(new Ca([])),n=new Ri(r,t),a=new Ri(r,t+1);let s=bn();return this.Ur.forEachInRange([n,a],i=>{s=s.add(i.key)}),s}containsKey(t){const r=new Ri(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ri{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return gr.comparator(t.key,r.key)||xn(t.Yr,r.Yr)}static Kr(t,r){return xn(t.Yr,r.Yr)||gr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lme{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new yi(Ri.$r)}checkEmpty(t){return It.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Z0e(s,r,n,a);this.mutationQueue.push(i);for(const o of a)this.Zr=this.Zr.add(new Ri(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return It.resolve(i)}lookupMutationBatch(t,r){return It.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.ei(n),s=a<0?0:a;return It.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return It.resolve(this.mutationQueue.length===0?z6:this.tr-1)}getAllMutationBatches(t){return It.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ri(r,0),a=new Ri(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,a],i=>{const o=this.Xr(i.Yr);s.push(o)}),It.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new yi(xn);return r.forEach(a=>{const s=new Ri(a,0),i=new Ri(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,i],o=>{n=n.add(o.Yr)})}),It.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let s=n;gr.isDocumentKey(s)||(s=s.child(""));const i=new Ri(new gr(s),0);let o=new yi(xn);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===a&&(o=o.add(l.Yr)),!0)},i),It.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const a=this.Xr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){ea(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return It.forEach(r.mutations,a=>{const s=new Ri(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Ri(r,0),a=this.Zr.firstAfterOrEqual(n);return It.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,It.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mme{constructor(t){this.ri=t,this.docs=function(){return new rs(gr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,i=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return It.resolve(n?n.document.mutableCopy():Lo.newInvalidDocument(r))}getEntries(t,r){let n=Hf();return r.forEach(a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():Lo.newInvalidDocument(a))}),It.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let s=Hf();const i=r.path,o=new gr(i.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||h0e(f0e(d),n)<=0||(a.has(d.key)||P5(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return It.resolve(s)}getAllFromCollectionGroup(t,r,n,a){Rr(9500)}ii(t,r){return It.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Ume(this)}getSize(t){return It.resolve(this.size)}}class Ume extends jme{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(n)}),It.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qme{constructor(t){this.persistence=t,this.si=new Hp(r=>K6(r),G6),this.lastRemoteSnapshotVersion=zr.min(),this.highestTargetId=0,this.oi=0,this._i=new Z6,this.targetCount=0,this.ai=tx.ur()}forEachTarget(t,r){return this.si.forEach((n,a)=>r(a)),It.resolve()}getLastRemoteSnapshotVersion(t){return It.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return It.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),It.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),It.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new tx(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,It.resolve()}updateTargetData(t,r){return this.Pr(r),It.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,It.resolve()}removeTargets(t,r,n){let a=0;const s=[];return this.si.forEach((i,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),It.waitFor(s).next(()=>a)}getTargetCount(t){return It.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return It.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),It.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(i=>{s.push(a.markPotentiallyOrphaned(t,i))}),It.waitFor(s)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),It.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return It.resolve(n)}containsKey(t,r){return It.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(t,r){this.ui={},this.overlays={},this.ci=new T5(0),this.li=!1,this.li=!0,this.hi=new Rme,this.referenceDelegate=t(this),this.Pi=new Qme(this),this.indexManager=new _me,this.remoteDocumentCache=function(a){return new Mme(a)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Eme(r),this.Ii=new Dme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Pme,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new Lme(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){sr("MemoryPersistence","Starting transaction:",t);const a=new Hme(this.ci.next());return this.referenceDelegate.Ei(),n(a).next(s=>this.referenceDelegate.di(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ai(t,r){return It.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class Hme extends p0e{constructor(t){super(),this.currentSequenceNumber=t}}class eO{constructor(t){this.persistence=t,this.Ri=new Z6,this.Vi=null}static mi(t){return new eO(t)}get fi(){if(this.Vi)return this.Vi;throw Rr(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),It.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),It.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),It.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(a=>this.fi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return It.forEach(this.fi,n=>{const a=gr.fromPath(n);return this.gi(t,a).next(s=>{s||r.removeEntry(a,zr.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return It.or([()=>It.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class j_{constructor(t,r){this.persistence=t,this.pi=new Hp(n=>x0e(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Ime(this,r)}static mi(t,r){return new j_(t,r)}Ei(){}di(t){return It.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return It.forEach(this.pi,(n,a)=>this.br(t,n,a).next(s=>s?It.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(t,i=>this.br(t,i,r).next(o=>{o||(n++,s.removeEntry(i,zr.min()))})).next(()=>s.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),It.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),It.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),It.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),It.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=OC(t.data.value)),r}br(t,r,n){return It.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.pi.get(r);return It.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=a}static As(t,r){let n=bn(),a=bn();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new tO(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vme{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zme{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return xde()?8:g0e(Ko())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,a){const s={result:null};return this.ys(t,r).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ws(t,r,a,n).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new Vme;return this.Ss(t,r,i).next(o=>{if(s.result=o,this.Vs)return this.bs(t,r,i,o.size)})}).next(()=>s.result)}bs(t,r,n,a){return n.documentReadCount<this.fs?(rv()<=vn.DEBUG&&sr("QueryEngine","SDK will not create cache indexes for query:",nv(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),It.resolve()):(rv()<=vn.DEBUG&&sr("QueryEngine","Query:",nv(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(rv()<=vn.DEBUG&&sr("QueryEngine","The SDK decides to create cache indexes for query:",nv(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yA(r))):It.resolve())}ys(t,r){if(BU(r))return It.resolve(null);let n=yA(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=B_(r,null,"F"),n=yA(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{const i=bn(...s);return this.ps.getDocuments(t,i).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,i,l.readTime)?this.ys(t,B_(r,null,"F")):this.vs(t,u,r,l)}))})))}ws(t,r,n,a){return BU(r)||a.isEqual(zr.min())?It.resolve(null):this.ps.getDocuments(t,n).next(s=>{const i=this.Ds(r,s);return this.Cs(r,i,n,a)?It.resolve(null):(rv()<=vn.DEBUG&&sr("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nv(r)),this.vs(t,i,r,A0e(a,my)).next(o=>o))})}Ds(t,r){let n=new yi(xX(t));return r.forEach((a,s)=>{P5(t,s)&&(n=n.add(s))}),n}Cs(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const s=t.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(t,r,n){return rv()<=vn.DEBUG&&sr("QueryEngine","Using full collection scan to execute query:",nv(r)),this.ps.getDocumentsMatchingQuery(t,r,P0.min(),n)}vs(t,r,n,a){return this.ps.getDocumentsMatchingQuery(t,n,a).next(s=>(r.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="LocalStore",$me=3e8;class Kme{constructor(t,r,n,a){this.persistence=t,this.Fs=r,this.serializer=a,this.Ms=new rs(xn),this.xs=new Hp(s=>K6(s),G6),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ome(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function Gme(e,t,r,n){return new Kme(e,t,r,n)}async function VX(e,t){const r=Kr(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(s=>(a=s,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const i=[],o=[];let l=bn();for(const u of a){i.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:o}))})})}function qme(e,t){const r=Kr(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const f=u.batch,h=f.keys();let p=It.resolve();return h.forEach(v=>{p=p.next(()=>d.getEntry(l,v)).next(g=>{const b=u.docVersions.get(v);ea(b!==null,48541),g.version.compareTo(b)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=bn();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function zX(e){const t=Kr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function Wme(e,t){const r=Kr(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const o=[];t.targetChanges.forEach((d,f)=>{const h=a.get(f);if(!h)return;o.push(r.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(s,d.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(Ao.EMPTY_BYTE_STRING,zr.min()).withLastLimboFreeSnapshotVersion(zr.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),a=a.insert(f,p),function(g,b,y){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=$me?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,d)&&o.push(r.Pi.updateTargetData(s,p))});let l=Hf(),u=bn();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(Xme(s,i,t.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!n.isEqual(zr.min())){const d=r.Pi.getLastRemoteSnapshotVersion(s).next(f=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(d)}return It.waitFor(o).next(()=>i.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.Ms=a,s))}function Xme(e,t,r){let n=bn(),a=bn();return r.forEach(s=>n=n.add(s)),t.getEntries(e,n).next(s=>{let i=Hf();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(zr.min())?(t.removeEntry(o,l.readTime),i=i.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),i=i.insert(o,l)):sr(rO,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:i,qs:a}})}function Yme(e,t){const r=Kr(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=z6),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Jme(e,t){const r=Kr(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Pi.getTargetData(n,t).next(s=>s?(a=s,It.resolve(a)):r.Pi.allocateTargetId(n).next(i=>(a=new h0(t,i,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function WI(e,t,r){const n=Kr(e),a=n.Ms.get(t),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,i=>n.persistence.referenceDelegate.removeTarget(i,a))}catch(i){if(!Tx(i))throw i;sr(rO,`Failed to update sequence numbers for target ${t}: ${i}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function HU(e,t,r){const n=Kr(e);let a=zr.min(),s=bn();return n.persistence.runTransaction("Execute query","readwrite",i=>function(l,u,d){const f=Kr(l),h=f.xs.get(d);return h!==void 0?It.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(n,i,yA(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(i,o.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(i,t,r?a:zr.min(),r?s:bn())).next(o=>(Zme(n,L0e(t),o),{documents:o,Qs:s})))}function Zme(e,t,r){let n=e.Os.get(t)||zr.min();r.forEach((a,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),e.Os.set(t,n)}class VU{constructor(){this.activeTargetIds=z0e()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class epe{constructor(){this.Mo=new VU,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new VU,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tpe{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="ConnectivityMonitor";class $U{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){sr(zU,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){sr(zU,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sE=null;function XI(){return sE===null?sE=function(){return 268435456+Math.round(2147483648*Math.random())}():sE++,"0x"+sE.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="RestConnection",rpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class npe{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===S_?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(t,r,n,a,s){const i=XI(),o=this.zo(t,r.toUriEncodedString());sr(Zk,`Sending RPC '${t}' ${i}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,a,s);const{host:u}=new URL(o),d=th(u);return this.Jo(t,o,l,n,d).then(f=>(sr(Zk,`Received RPC '${t}' ${i}: `,f),f),f=>{throw Wv(Zk,`RPC '${t}' ${i} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,a,s,i){return this.Go(t,r,n,a,s)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kx}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>t[s]=a),n&&n.headers.forEach((a,s)=>t[s]=a)}zo(t,r){const n=rpe[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ape{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="WebChannelConnection";class spe extends npe{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,a,s){const i=XI();return new Promise((o,l)=>{const u=new GW;u.setWithCredentials(!0),u.listenOnce(qW.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case FC.NO_ERROR:const f=u.getResponseJson();sr(So,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(f)),o(f);break;case FC.TIMEOUT:sr(So,`RPC '${t}' ${i} timed out`),l(new $t(bt.DEADLINE_EXCEEDED,"Request time out"));break;case FC.HTTP_ERROR:const h=u.getStatus();if(sr(So,`RPC '${t}' ${i} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(_)>=0?_:bt.UNKNOWN}(v.status);l(new $t(g,v.message))}else l(new $t(bt.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new $t(bt.UNAVAILABLE,"Connection failed."));break;default:Rr(9055,{l_:t,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{sr(So,`RPC '${t}' ${i} completed.`)}});const d=JSON.stringify(a);sr(So,`RPC '${t}' ${i} sending request:`,a),u.send(r,"POST",d,n,15)})}T_(t,r,n){const a=XI(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=YW(),o=XW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=s.join("");sr(So,`Creating RPC '${t}' stream ${a}: ${d}`,l);const f=i.createWebChannel(d,l);this.I_(f);let h=!1,p=!1;const v=new ape({Yo:b=>{p?sr(So,`Not sending because RPC '${t}' stream ${a} is closed:`,b):(h||(sr(So,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),sr(So,`RPC '${t}' stream ${a} sending:`,b),f.send(b))},Zo:()=>f.close()}),g=(b,y,_)=>{b.listen(y,S=>{try{_(S)}catch(B){setTimeout(()=>{throw B},0)}})};return g(f,gb.EventType.OPEN,()=>{p||(sr(So,`RPC '${t}' stream ${a} transport opened.`),v.o_())}),g(f,gb.EventType.CLOSE,()=>{p||(p=!0,sr(So,`RPC '${t}' stream ${a} transport closed`),v.a_(),this.E_(f))}),g(f,gb.EventType.ERROR,b=>{p||(p=!0,Wv(So,`RPC '${t}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),v.a_(new $t(bt.UNAVAILABLE,"The operation could not be completed")))}),g(f,gb.EventType.MESSAGE,b=>{var y;if(!p){const _=b.data[0];ea(!!_,16349);const S=_,B=(S==null?void 0:S.error)||((y=S[0])==null?void 0:y.error);if(B){sr(So,`RPC '${t}' stream ${a} received error:`,B);const k=B.status;let O=function(N){const P=ri[N];if(P!==void 0)return IX(P)}(k),w=B.message;O===void 0&&(O=bt.INTERNAL,w="Unknown error status: "+k+" with message "+B.message),p=!0,v.a_(new $t(O,w)),f.close()}else sr(So,`RPC '${t}' stream ${a} received:`,_),v.u_(_)}}),g(o,WW.STAT_EVENT,b=>{b.stat===LI.PROXY?sr(So,`RPC '${t}' stream ${a} detected buffering proxy`):b.stat===LI.NOPROXY&&sr(So,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function eB(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(e){return new cme(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(t,r,n=1e3,a=1.5,s=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&sr("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="PersistentStream";class KX{constructor(t,r,n,a,s,i,o,l){this.Mi=t,this.S_=n,this.b_=a,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $X(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===bt.RESOURCE_EXHAUSTED?(Qf(r.toString()),Qf("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{t(()=>{const a=new $t(bt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return sr(KU,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(sr(KU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ipe extends KX{constructor(t,r,n,a,s,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,i),this.serializer=s}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=Ame(this.serializer,t),n=function(s){if(!("targetChange"in s))return zr.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?zr.min():i.readTime?wA(i.readTime):zr.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=qI(this.serializer),r.addTarget=function(s,i){let o;const l=i.target;if(o=VI(l)?{documents:mme(s,l)}:{query:pme(s,l).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=OX(s,i.resumeToken);const u=$I(s,i.expectedCount);u!==null&&(o.expectedCount=u)}else if(i.snapshotVersion.compareTo(zr.min())>0){o.readTime=I_(s,i.snapshotVersion.toTimestamp());const u=$I(s,i.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=vme(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=qI(this.serializer),r.removeTarget=t,this.q_(r)}}class ope extends KX{constructor(t,r,n,a,s,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return ea(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ea(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ea(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=hme(t.writeResults,t.commitTime),n=wA(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=qI(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>fme(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lpe{}class cpe extends lpe{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new $t(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Go(t,KI(r,n),a,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $t(bt.UNKNOWN,s.toString())})}Ho(t,r,n,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Ho(t,KI(r,n),a,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $t(bt.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class upe{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qf(r),this.aa=!1):sr("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="RemoteStore";class dpe{constructor(t,r,n,a,s){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(i=>{n.enqueueAndForget(async()=>{Vp(this)&&(sr(Ep,"Restarting streams for network reachability change."),await async function(l){const u=Kr(l);u.Ea.add(4),await mw(u),u.Ra.set("Unknown"),u.Ea.delete(4),await H5(u)}(this))})}),this.Ra=new upe(n,a)}}async function H5(e){if(Vp(e))for(const t of e.da)await t(!0)}async function mw(e){for(const t of e.da)await t(!1)}function GX(e,t){const r=Kr(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),iO(r)?sO(r):Ix(r).O_()&&aO(r,t))}function nO(e,t){const r=Kr(e),n=Ix(r);r.Ia.delete(t),n.O_()&&qX(r,t),r.Ia.size===0&&(n.O_()?n.L_():Vp(r)&&r.Ra.set("Unknown"))}function aO(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Ix(e).Y_(t)}function qX(e,t){e.Va.Ue(t),Ix(e).Z_(t)}function sO(e){e.Va=new sme({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ix(e).start(),e.Ra.ua()}function iO(e){return Vp(e)&&!Ix(e).x_()&&e.Ia.size>0}function Vp(e){return Kr(e).Ea.size===0}function WX(e){e.Va=void 0}async function Ape(e){e.Ra.set("Online")}async function fpe(e){e.Ia.forEach((t,r)=>{aO(e,t)})}async function hpe(e,t){WX(e),iO(e)?(e.Ra.ha(t),sO(e)):e.Ra.set("Unknown")}async function mpe(e,t,r){if(e.Ra.set("Online"),t instanceof FX&&t.state===2&&t.cause)try{await async function(a,s){const i=s.cause;for(const o of s.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,i),a.Ia.delete(o),a.Va.removeTarget(o))}(e,t)}catch(n){sr(Ep,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await F_(e,n)}else if(t instanceof RC?e.Va.Ze(t):t instanceof jX?e.Va.st(t):e.Va.tt(t),!r.isEqual(zr.min()))try{const n=await zX(e.localStore);r.compareTo(n)>=0&&await function(s,i){const o=s.Va.Tt(i);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,i))}}),o.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(Ao.EMPTY_BYTE_STRING,d.snapshotVersion)),qX(s,l);const f=new h0(d.target,l,u,d.sequenceNumber);aO(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){sr(Ep,"Failed to raise snapshot:",n),await F_(e,n)}}async function F_(e,t,r){if(!Tx(t))throw t;e.Ea.add(1),await mw(e),e.Ra.set("Offline"),r||(r=()=>zX(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{sr(Ep,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await H5(e)})}function XX(e,t){return t().catch(r=>F_(e,r,t))}async function V5(e){const t=Kr(e),r=U0(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:z6;for(;ppe(t);)try{const a=await Yme(t.localStore,n);if(a===null){t.Ta.length===0&&r.L_();break}n=a.batchId,gpe(t,a)}catch(a){await F_(t,a)}YX(t)&&JX(t)}function ppe(e){return Vp(e)&&e.Ta.length<10}function gpe(e,t){e.Ta.push(t);const r=U0(e);r.O_()&&r.X_&&r.ea(t.mutations)}function YX(e){return Vp(e)&&!U0(e).x_()&&e.Ta.length>0}function JX(e){U0(e).start()}async function vpe(e){U0(e).ra()}async function xpe(e){const t=U0(e);for(const r of e.Ta)t.ea(r.mutations)}async function bpe(e,t,r){const n=e.Ta.shift(),a=X6.from(n,t,r);await XX(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await V5(e)}async function ype(e,t){t&&U0(e).X_&&await async function(n,a){if(function(i){return rme(i)&&i!==bt.ABORTED}(a.code)){const s=n.Ta.shift();U0(n).B_(),await XX(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await V5(n)}}(e,t),YX(e)&&JX(e)}async function GU(e,t){const r=Kr(e);r.asyncQueue.verifyOperationInProgress(),sr(Ep,"RemoteStore received new credentials");const n=Vp(r);r.Ea.add(3),await mw(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await H5(r)}async function wpe(e,t){const r=Kr(e);t?(r.Ea.delete(2),await H5(r)):t||(r.Ea.add(2),await mw(r),r.Ra.set("Unknown"))}function Ix(e){return e.ma||(e.ma=function(r,n,a){const s=Kr(r);return s.sa(),new ipe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Xo:Ape.bind(null,e),t_:fpe.bind(null,e),r_:hpe.bind(null,e),H_:mpe.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),iO(e)?sO(e):e.Ra.set("Unknown")):(await e.ma.stop(),WX(e))})),e.ma}function U0(e){return e.fa||(e.fa=function(r,n,a){const s=Kr(r);return s.sa(),new ope(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:vpe.bind(null,e),r_:ype.bind(null,e),ta:xpe.bind(null,e),na:bpe.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await V5(e)):(await e.fa.stop(),e.Ta.length>0&&(sr(Ep,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,r,n,a,s){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new Tf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,s){const i=Date.now()+n,o=new oO(t,r,i,a,s);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $t(bt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lO(e,t){if(Qf("AsyncQueue",`${t}: ${e}`),Tx(e))return new $t(bt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{static emptySet(t){return new Bv(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||gr.comparator(r.key,n.key):(r,n)=>gr.comparator(r.key,n.key),this.keyedMap=vb(),this.sortedSet=new rs(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Bv)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new Bv;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.ga=new rs(gr.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Rr(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class rx{constructor(t,r,n,a,s,i,o,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,a,s){const i=[];return r.forEach(o=>{i.push({type:0,doc:o})}),new rx(t,r,Bv.emptySet(r),i,n,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&D5(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class Cpe{constructor(){this.queries=WU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=Kr(r),s=a.queries;a.queries=WU(),s.forEach((i,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new $t(bt.ABORTED,"Firestore shutting down"))}}function WU(){return new Hp(e=>vX(e),D5)}async function cO(e,t){const r=Kr(e);let n=3;const a=t.query;let s=r.queries.get(a);s?!s.ba()&&t.Da()&&(n=2):(s=new Epe,n=t.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(a,!0);break;case 1:s.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(i){const o=lO(i,`Initialization of query '${nv(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,s),s.Sa.push(t),t.va(r.onlineState),s.wa&&t.Fa(s.wa)&&dO(r)}async function uO(e,t){const r=Kr(e),n=t.query;let a=3;const s=r.queries.get(n);if(s){const i=s.Sa.indexOf(t);i>=0&&(s.Sa.splice(i,1),s.Sa.length===0?a=t.Da()?0:1:!s.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function _pe(e,t){const r=Kr(e);let n=!1;for(const a of t){const s=a.query,i=r.queries.get(s);if(i){for(const o of i.Sa)o.Fa(a)&&(n=!0);i.wa=a}}n&&dO(r)}function Spe(e,t,r){const n=Kr(e),a=n.queries.get(t);if(a)for(const s of a.Sa)s.onError(r);n.queries.delete(t)}function dO(e){e.Ca.forEach(t=>{t.next()})}var YI,XU;(XU=YI||(YI={})).Ma="default",XU.Cache="cache";class AO{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new rx(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=rx.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==YI.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(t){this.key=t}}class eY{constructor(t){this.key=t}}class Npe{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=bn(),this.mutatedKeys=bn(),this.eu=xX(t),this.tu=new Bv(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new qU,a=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,i=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,u=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((d,f)=>{const h=a.get(d),p=P5(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?v!==g&&(n.track({type:3,doc:p}),b=!0):this.su(h,p)||(n.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),b=!0):h&&!p&&(n.track({type:1,doc:h}),b=!0,(l||u)&&(o=!0)),b&&(p?(i=i.add(p),s=g?s.add(d):s.delete(d)):(i=i.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{tu:i,iu:n,Cs:o,mutatedKeys:s}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const i=t.iu.ya();i.sort((d,f)=>function(p,v){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rr(20277,{Rt:b})}};return g(p)-g(v)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(n),a=a??!1;const o=r&&!a?this._u():[],l=this.Xa.size===0&&this.current&&!a?1:0,u=l!==this.Za;return this.Za=l,i.length!==0||u?{snapshot:new rx(this.query,t.tu,s,i,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qU,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=bn(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new eY(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new ZX(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=bn();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return rx.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fO="SyncEngine";class kpe{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Bpe{constructor(t){this.key=t,this.hu=!1}}class Tpe{constructor(t,r,n,a,s,i){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Hp(o=>vX(o),D5),this.Iu=new Map,this.Eu=new Set,this.du=new rs(gr.comparator),this.Au=new Map,this.Ru=new Z6,this.Vu={},this.mu=new Map,this.fu=tx.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ipe(e,t,r=!0){const n=iY(e);let a;const s=n.Tu.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await tY(n,t,r,!0),a}async function jpe(e,t){const r=iY(e);await tY(r,t,!0,!1)}async function tY(e,t,r,n){const a=await Jme(e.localStore,yA(t)),s=a.targetId,i=e.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await Fpe(e,t,s,i==="current",a.resumeToken)),e.isPrimaryClient&&r&&GX(e.remoteStore,a),o}async function Fpe(e,t,r,n,a){e.pu=(f,h,p)=>async function(g,b,y,_){let S=b.view.ru(y);S.Cs&&(S=await HU(g.localStore,b.query,!1).then(({documents:w})=>b.view.ru(w,S)));const B=_&&_.targetChanges.get(b.targetId),k=_&&_.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(S,g.isPrimaryClient,B,k);return JU(g,b.targetId,O.au),O.snapshot}(e,f,h,p);const s=await HU(e.localStore,t,!0),i=new Npe(t,s.Qs),o=i.ru(s.documents),l=hw.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),u=i.applyChanges(o,e.isPrimaryClient,l);JU(e,r,u.au);const d=new kpe(t,r,i);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function Ope(e,t,r){const n=Kr(e),a=n.Tu.get(t),s=n.Iu.get(a.targetId);if(s.length>1)return n.Iu.set(a.targetId,s.filter(i=>!D5(i,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await WI(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&nO(n.remoteStore,a.targetId),JI(n,a.targetId)}).catch(Bx)):(JI(n,a.targetId),await WI(n.localStore,a.targetId,!0))}async function Dpe(e,t){const r=Kr(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),nO(r.remoteStore,n.targetId))}async function Ppe(e,t,r){const n=Vpe(e);try{const a=await function(i,o){const l=Kr(i),u=mr.now(),d=o.reduce((p,v)=>p.add(v.key),bn());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Hf(),g=bn();return l.Ns.getEntries(p,d).next(b=>{v=b,v.forEach((y,_)=>{_.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(b=>{f=b;const y=[];for(const _ of o){const S=Y0e(_,f.get(_.key).overlayedDocument);S!=null&&y.push(new em(_.key,S,dX(S.value.mapValue),ul.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,o)}).next(b=>{h=b;const y=b.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,b.batchId,y)})}).then(()=>({batchId:h.batchId,changes:yX(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(i,o,l){let u=i.Vu[i.currentUser.toKey()];u||(u=new rs(xn)),u=u.insert(o,l),i.Vu[i.currentUser.toKey()]=u}(n,a.batchId,r),await pw(n,a.changes),await V5(n.remoteStore)}catch(a){const s=lO(a,"Failed to persist write");r.reject(s)}}async function rY(e,t){const r=Kr(e);try{const n=await Wme(r.localStore,t);t.targetChanges.forEach((a,s)=>{const i=r.Au.get(s);i&&(ea(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?i.hu=!0:a.modifiedDocuments.size>0?ea(i.hu,14607):a.removedDocuments.size>0&&(ea(i.hu,42227),i.hu=!1))}),await pw(r,n,t)}catch(n){await Bx(n)}}function YU(e,t,r){const n=Kr(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((s,i)=>{const o=i.view.va(t);o.snapshot&&a.push(o.snapshot)}),function(i,o){const l=Kr(i);l.onlineState=o;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(o)&&(u=!0)}),u&&dO(l)}(n.eventManager,t),a.length&&n.Pu.H_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Rpe(e,t,r){const n=Kr(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),s=a&&a.key;if(s){let i=new rs(gr.comparator);i=i.insert(s,Lo.newNoDocument(s,zr.min()));const o=bn().add(s),l=new U5(zr.min(),new Map,new rs(xn),i,o);await rY(n,l),n.du=n.du.remove(s),n.Au.delete(t),hO(n)}else await WI(n.localStore,t,!1).then(()=>JI(n,t,r)).catch(Bx)}async function Lpe(e,t){const r=Kr(e),n=t.batch.batchId;try{const a=await qme(r.localStore,t);aY(r,n,null),nY(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await pw(r,a)}catch(a){await Bx(a)}}async function Mpe(e,t,r){const n=Kr(e);try{const a=await function(i,o){const l=Kr(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(ea(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(n.localStore,t);aY(n,t,r),nY(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await pw(n,a)}catch(a){await Bx(a)}}function nY(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function aY(e,t,r){const n=Kr(e);let a=n.Vu[n.currentUser.toKey()];if(a){const s=a.get(t);s&&(r?s.reject(r):s.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function JI(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||sY(e,n)})}function sY(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(nO(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),hO(e))}function JU(e,t,r){for(const n of r)n instanceof ZX?(e.Ru.addReference(n.key,t),Upe(e,n)):n instanceof eY?(sr(fO,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||sY(e,n.key)):Rr(19791,{wu:n})}function Upe(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(sr(fO,"New document in limbo: "+r),e.Eu.add(n),hO(e))}function hO(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new gr(Ca.fromString(t)),n=e.fu.next();e.Au.set(n,new Bpe(r)),e.du=e.du.insert(r,n),GX(e.remoteStore,new h0(yA(O5(r.path)),n,"TargetPurposeLimboResolution",T5.ce))}}async function pw(e,t,r){const n=Kr(e),a=[],s=[],i=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{i.push(n.pu(l,t,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){a.push(u);const f=tO.As(l.targetId,u);s.push(f)}}))}),await Promise.all(i),n.Pu.H_(a),await async function(l,u){const d=Kr(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>It.forEach(u,h=>It.forEach(h.Es,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>It.forEach(h.ds,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Tx(f))throw f;sr(rO,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.Ms.get(h),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(h,g)}}}(n.localStore,s))}async function Qpe(e,t){const r=Kr(e);if(!r.currentUser.isEqual(t)){sr(fO,"User change. New user:",t.toKey());const n=await VX(r.localStore,t);r.currentUser=t,function(s,i){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new $t(bt.CANCELLED,i))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await pw(r,n.Ls)}}function Hpe(e,t){const r=Kr(e),n=r.Au.get(t);if(n&&n.hu)return bn().add(n.key);{let a=bn();const s=r.Iu.get(t);if(!s)return a;for(const i of s){const o=r.Tu.get(i);a=a.unionWith(o.view.nu)}return a}}function iY(e){const t=Kr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rY.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hpe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rpe.bind(null,t),t.Pu.H_=_pe.bind(null,t.eventManager),t.Pu.yu=Spe.bind(null,t.eventManager),t}function Vpe(e){const t=Kr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lpe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mpe.bind(null,t),t}class O_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Q5(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return Gme(this.persistence,new zme,t.initialUser,this.serializer)}Cu(t){return new HX(eO.mi,this.serializer)}Du(t){return new epe}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}O_.provider={build:()=>new O_};class zpe extends O_{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){ea(this.persistence.referenceDelegate instanceof j_,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Bme(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Fl.withCacheSize(this.cacheSizeBytes):Fl.DEFAULT;return new HX(n=>j_.mi(n,r),this.serializer)}}class ZI{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>YU(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qpe.bind(null,this.syncEngine),await wpe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Cpe}()}createDatastore(t){const r=Q5(t.databaseInfo.databaseId),n=function(s){return new spe(s)}(t.databaseInfo);return function(s,i,o,l){return new cpe(s,i,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,s,i,o){return new dpe(n,a,s,i,o)}(this.localStore,this.datastore,t.asyncQueue,r=>YU(this.syncEngine,r,0),function(){return $U.v()?new $U:new tpe}())}createSyncEngine(t,r){return function(a,s,i,o,l,u,d){const f=new Tpe(a,s,i,o,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const s=Kr(a);sr(Ep,"RemoteStore shutting down."),s.Ea.add(5),await mw(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}ZI.provider={build:()=>new ZI};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qf("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="FirestoreClient";class $pe{constructor(t,r,n,a,s){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Oo.UNAUTHENTICATED,this.clientId=V6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async i=>{sr(Q0,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(n,i=>(sr(Q0,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Tf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=lO(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function tB(e,t){e.asyncQueue.verifyOperationInProgress(),sr(Q0,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await VX(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ZU(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Kpe(e);sr(Q0,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>GU(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>GU(t.remoteStore,a)),e._onlineComponents=t}async function Kpe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){sr(Q0,"Using user provided OfflineComponentProvider");try{await tB(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===bt.FAILED_PRECONDITION||a.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Wv("Error using user provided cache. Falling back to memory cache: "+r),await tB(e,new O_)}}else sr(Q0,"Using default OfflineComponentProvider"),await tB(e,new zpe(void 0));return e._offlineComponents}async function oY(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sr(Q0,"Using user provided OnlineComponentProvider"),await ZU(e,e._uninitializedComponentsProvider._online)):(sr(Q0,"Using default OnlineComponentProvider"),await ZU(e,new ZI))),e._onlineComponents}function Gpe(e){return oY(e).then(t=>t.syncEngine)}async function D_(e){const t=await oY(e),r=t.eventManager;return r.onListen=Ipe.bind(null,t.syncEngine),r.onUnlisten=Ope.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=jpe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Dpe.bind(null,t.syncEngine),r}function qpe(e,t,r={}){const n=new Tf;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,l,u){const d=new mO({next:h=>{d.Nu(),i.enqueueAndForget(()=>uO(s,f));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new $t(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new $t(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new AO(O5(o.path),d,{includeMetadataChanges:!0,qa:!0});return cO(s,f)}(await D_(e),e.asyncQueue,t,r,n)),n.promise}function Wpe(e,t,r={}){const n=new Tf;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,l,u){const d=new mO({next:h=>{d.Nu(),i.enqueueAndForget(()=>uO(s,f)),h.fromCache&&l.source==="server"?u.reject(new $t(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new AO(o,d,{includeMetadataChanges:!0,qa:!0});return cO(s,f)}(await D_(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lY(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY="firestore.googleapis.com",t7=!0;class r7{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new $t(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cY,this.ssl=t7}else this.host=t.host,this.ssl=t.ssl??t7;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QX;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Nme)throw new $t(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}u0e("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lY(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new $t(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new $t(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new $t(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class z5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r7({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $t(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new $t(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r7(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new e0e;switch(n.type){case"firstParty":return new a0e(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $t(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=e7.get(r);n&&(sr("ComponentProvider","Removing Datastore"),e7.delete(r),n.terminate())}(this),Promise.resolve()}}function Xpe(e,t,r,n={}){var u;e=cl(e,z5);const a=th(t),s=e._getSettings(),i={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;a&&(w5(`https://${o}`),E5("Firestore",!0)),s.host!==cY&&s.host!==o&&Wv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:a,emulatorOptions:n};if(!O0(l,i)&&(e._setSettings(l),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=Oo.MOCK_USER;else{d=iW(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new $t(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Oo(h)}e._authCredentials=new t0e(new ZW(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new FA(this.firestore,t,this._query)}}class xs{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _0(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xs(this.firestore,t,this._key)}toJSON(){return{type:xs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Aw(r,xs._jsonSchema))return new xs(t,n||null,new gr(Ca.fromString(r.referencePath)))}}xs._jsonSchemaVersion="firestore/documentReference/1.0",xs._jsonSchema={type:li("string",xs._jsonSchemaVersion),referencePath:li("string")};class _0 extends FA{constructor(t,r,n){super(t,r,O5(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xs(this.firestore,null,new gr(t))}withConverter(t){return new _0(this.firestore,t,this._path)}}function Rt(e,t,...r){if(e=fa(e),eX("collection","path",t),e instanceof z5){const n=Ca.fromString(t,...r);return pU(n),new _0(e,null,n)}{if(!(e instanceof xs||e instanceof _0))throw new $t(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ca.fromString(t,...r));return pU(n),new _0(e.firestore,null,n)}}function vr(e,t,...r){if(e=fa(e),arguments.length===1&&(t=V6.newId()),eX("doc","path",t),e instanceof z5){const n=Ca.fromString(t,...r);return mU(n),new xs(e,null,new gr(n))}{if(!(e instanceof xs||e instanceof _0))throw new $t(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ca.fromString(t,...r));return mU(n),new xs(e.firestore,e instanceof _0?e.converter:null,new gr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="AsyncQueue";class a7{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $X(this,"async_queue_retry"),this._c=()=>{const n=eB();n&&sr(n7,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=eB();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=eB();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Tf;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Tx(t))throw t;sr(n7,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,Qf("INTERNAL UNHANDLED ERROR: ",s7(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=oO.createAndSchedule(this,t,r,n,s=>this.hc(s));return this.tc.push(a),a}uc(){this.nc&&Rr(47125,{Pc:s7(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function s7(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const s of n)if(s in a&&typeof a[s]=="function")return!0;return!1}(e,["next","error","complete"])}class TA extends z5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new a7,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a7(t),this._firestoreClient=void 0,await t}}}function uY(e,t){const r=typeof e=="object"?e:C5(),n=typeof e=="string"?e:S_,a=lw(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=T6("firestore");s&&Xpe(a,...s)}return a}function gw(e){if(e._terminated)throw new $t(bt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ype(e),e._firestoreClient}function Ype(e){var n,a,s;const t=e._freezeSettings(),r=function(o,l,u,d){return new w0e(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lY(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new $pe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mu(Ao.fromBase64String(t))}catch(r){throw new $t(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new mu(Ao.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:mu._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Aw(t,mu._jsonSchema))return mu.fromBase64String(t.bytes)}}mu._jsonSchemaVersion="firestore/bytes/1.0",mu._jsonSchema={type:li("string",mu._jsonSchemaVersion),bytes:li("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new $t(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new $t(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new $t(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xn(this._lat,t._lat)||xn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:EA._jsonSchemaVersion}}static fromJSON(t){if(Aw(t,EA._jsonSchema))return new EA(t.latitude,t.longitude)}}EA._jsonSchemaVersion="firestore/geoPoint/1.0",EA._jsonSchema={type:li("string",EA._jsonSchemaVersion),latitude:li("number"),longitude:li("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:CA._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Aw(t,CA._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new CA(t.vectorValues);throw new $t(bt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}CA._jsonSchemaVersion="firestore/vectorValue/1.0",CA._jsonSchema={type:li("string",CA._jsonSchemaVersion),vectorValues:li("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe=/^__.*__$/;class Zpe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new em(t,this.data,this.fieldMask,r,this.fieldTransforms):new fw(t,this.data,r,this.fieldTransforms)}}class dY{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new em(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function AY(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rr(40011,{Ac:e})}}class $5{constructor(t,r,n,a,s,i){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new $5({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return P_(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(AY(this.Ac)&&Jpe.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ege{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Q5(t)}Cc(t,r,n,a=!1){return new $5({Ac:t,methodName:r,Dc:n,path:lo.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jx(e){const t=e._freezeSettings(),r=Q5(e._databaseId);return new ege(e._databaseId,!!t.ignoreUndefinedProperties,r)}function pO(e,t,r,n,a,s={}){const i=e.Cc(s.merge||s.mergeFields?2:0,t,r,a);xO("Data must be an object, but it was:",i,n);const o=pY(n,i);let l,u;if(s.merge)l=new yc(i.fieldMask),u=i.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=ej(t,f,r);if(!i.contains(h))throw new $t(bt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);vY(d,h)||d.push(h)}l=new yc(d),u=i.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=i.fieldTransforms;return new Zpe(new Rl(o),l,u)}class K5 extends xw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof K5}}function tge(e,t,r){return new $5({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class gO extends xw{_toFieldTransform(t){return new kX(t.path,new by)}isEqual(t){return t instanceof gO}}class vO extends xw{constructor(t,r){super(t),this.vc=r}_toFieldTransform(t){const r=tge(this,t,!0),n=this.vc.map(s=>Fx(s,r)),a=new ex(n);return new kX(t.path,a)}isEqual(t){return t instanceof vO&&O0(this.vc,t.vc)}}function fY(e,t,r,n){const a=e.Cc(1,t,r);xO("Data must be an object, but it was:",a,n);const s=[],i=Rl.empty();Z0(n,(l,u)=>{const d=bO(t,l,r);u=fa(u);const f=a.yc(d);if(u instanceof K5)s.push(d);else{const h=Fx(u,f);h!=null&&(s.push(d),i.set(d,h))}});const o=new yc(s);return new dY(i,o,a.fieldTransforms)}function hY(e,t,r,n,a,s){const i=e.Cc(1,t,r),o=[ej(t,n,r)],l=[a];if(s.length%2!=0)throw new $t(bt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(ej(t,s[h])),l.push(s[h+1]);const u=[],d=Rl.empty();for(let h=o.length-1;h>=0;--h)if(!vY(u,o[h])){const p=o[h];let v=l[h];v=fa(v);const g=i.yc(p);if(v instanceof K5)u.push(p);else{const b=Fx(v,g);b!=null&&(u.push(p),d.set(p,b))}}const f=new yc(u);return new dY(d,f,i.fieldTransforms)}function mY(e,t,r,n=!1){return Fx(r,e.Cc(n?4:3,t))}function Fx(e,t){if(gY(e=fa(e)))return xO("Unsupported field value:",t,e),pY(e,t);if(e instanceof xw)return function(n,a){if(!AY(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,a){const s=[];let i=0;for(const o of n){let l=Fx(o,a.wc(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(e,t)}return function(n,a){if((n=fa(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $0e(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=mr.fromDate(n);return{timestampValue:I_(a.serializer,s)}}if(n instanceof mr){const s=new mr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:I_(a.serializer,s)}}if(n instanceof EA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mu)return{bytesValue:OX(a.serializer,n._byteString)};if(n instanceof xs){const s=a.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw a.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:J6(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof CA)return function(i,o){return{mapValue:{fields:{[cX]:{stringValue:uX},[N_]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return W6(o.serializer,u)})}}}}}}(n,a);throw a.Sc(`Unsupported field value: ${B5(n)}`)}(e,t)}function pY(e,t){const r={};return nX(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Z0(e,(n,a)=>{const s=Fx(a,t.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function gY(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof mr||e instanceof EA||e instanceof mu||e instanceof xs||e instanceof xw||e instanceof CA)}function xO(e,t,r){if(!gY(r)||!tX(r)){const n=B5(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function ej(e,t,r){if((t=fa(t))instanceof vw)return t._internalPath;if(typeof t=="string")return bO(e,t);throw P_("Field path arguments must be of type string or ",e,!1,void 0,r)}const rge=new RegExp("[~\\*/\\[\\]]");function bO(e,t,r){if(t.search(rge)>=0)throw P_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new vw(...t.split("."))._internalPath}catch{throw P_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function P_(e,t,r,n,a){const s=n&&!n.isEmpty(),i=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${n}`),i&&(l+=` in document ${a}`),l+=")"),new $t(bt.INVALID_ARGUMENT,o+e+l)}function vY(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t,r,n,a,s){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(G5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class nge extends yO{data(){return super.data()}}function G5(e,t){return typeof t=="string"?bO(e,t):t instanceof vw?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new $t(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wO{}class q5 extends wO{}function Zt(e,t,...r){let n=[];t instanceof wO&&n.push(t),n=n.concat(r),function(s){const i=s.filter(l=>l instanceof EO).length,o=s.filter(l=>l instanceof W5).length;if(i>1||i>0&&o>0)throw new $t(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class W5 extends q5{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new W5(t,r,n)}_apply(t){const r=this._parse(t);return bY(t._query,r),new FA(t.firestore,t.converter,zI(t._query,r))}_parse(t){const r=jx(t.firestore);return function(s,i,o,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $t(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){l7(f,d);const v=[];for(const g of f)v.push(o7(l,s,g));h={arrayValue:{values:v}}}else h=o7(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||l7(f,d),h=mY(o,i,f,d==="in"||d==="not-in");return oi.create(u,d,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Fn(e,t,r){const n=t,a=G5("where",e);return W5._create(a,n,r)}class EO extends wO{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new EO(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:pd.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,s){let i=a;const o=s.getFlattenedFilters();for(const l of o)bY(i,l),i=zI(i,l)}(t._query,r),new FA(t.firestore,t.converter,zI(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CO extends q5{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new CO(t,r)}_apply(t){const r=function(a,s,i){if(a.startAt!==null)throw new $t(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new $t(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xy(s,i)}(t._query,this._field,this._direction);return new FA(t.firestore,t.converter,function(a,s){const i=a.explicitOrderBy.concat([s]);return new Qp(a.path,a.collectionGroup,i,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Gr(e,t="asc"){const r=t,n=G5("orderBy",e);return CO._create(n,r)}class _O extends q5{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new _O(t,r,n)}_apply(t){return new FA(t.firestore,t.converter,B_(t._query,this._limit,this._limitType))}}function _A(e){return d0e("limit",e),_O._create("limit",e,"F")}class SO extends q5{constructor(t,r,n){super(),this.type=t,this._docOrFields=r,this._inclusive=n}static _create(t,r,n){return new SO(t,r,n)}_apply(t){const r=sge(t,this.type,this._docOrFields,this._inclusive);return new FA(t.firestore,t.converter,function(a,s){return new Qp(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,s,a.endAt)}(t._query,r))}}function age(...e){return SO._create("startAfter",e,!1)}function sge(e,t,r,n){if(r[0]=fa(r[0]),r[0]instanceof yO)return function(s,i,o,l,u){if(!l)throw new $t(bt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const f of kv(s))if(f.field.isKeyField())d.push(k_(i,l.key));else{const h=l.data.field(f.field);if(j5(h))throw new $t(bt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new $t(bt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}d.push(h)}return new Zv(d,u)}(e._query,e.firestore._databaseId,t,r[0]._document,n);{const a=jx(e.firestore);return function(i,o,l,u,d,f){const h=i.explicitOrderBy;if(d.length>h.length)throw new $t(bt.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<d.length;v++){const g=d[v];if(h[v].field.isKeyField()){if(typeof g!="string")throw new $t(bt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!q6(i)&&g.indexOf("/")!==-1)throw new $t(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const b=i.path.child(Ca.fromString(g));if(!gr.isDocumentKey(b))throw new $t(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const y=new gr(b);p.push(k_(o,y))}else{const b=mY(l,u,g);p.push(b)}}return new Zv(p,f)}(e._query,e.firestore._databaseId,a,t,r,n)}}function o7(e,t,r){if(typeof(r=fa(r))=="string"){if(r==="")throw new $t(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q6(t)&&r.indexOf("/")!==-1)throw new $t(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Ca.fromString(r));if(!gr.isDocumentKey(n))throw new $t(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return k_(e,new gr(n))}if(r instanceof xs)return k_(e,r._key);throw new $t(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${B5(r)}.`)}function l7(e,t){if(!Array.isArray(e)||e.length===0)throw new $t(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bY(e,t){const r=function(a,s){for(const i of a)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new $t(bt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new $t(bt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class ige{convertValue(t,r="none"){switch(M0(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ls(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(L0(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Rr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Z0(t,(a,s)=>{n[a]=this.convertValue(s,r)}),n}convertVectorValue(t){var n,a,s;const r=(s=(a=(n=t.fields)==null?void 0:n[N_].arrayValue)==null?void 0:a.values)==null?void 0:s.map(i=>Ls(i.doubleValue));return new CA(r)}convertGeoPoint(t){return new EA(Ls(t.latitude),Ls(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=F5(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(py(t));default:return null}}convertTimestamp(t){const r=R0(t);return new mr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Ca.fromString(t);ea(UX(n),9688,{name:t});const a=new gy(n.get(1),n.get(3)),s=new gr(n.popFirst(5));return a.isEqual(r)||Qf(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class bb{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class np extends yO{constructor(t,r,n,a,s,i){super(t,r,n,a,i),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new LC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(G5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $t(bt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=np._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}np._jsonSchemaVersion="firestore/documentSnapshot/1.0",np._jsonSchema={type:li("string",np._jsonSchemaVersion),bundleSource:li("string","DocumentSnapshot"),bundleName:li("string"),bundle:li("string")};class LC extends np{data(t={}){return super.data(t)}}class ap{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new bb(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new LC(this._firestore,this._userDataWriter,n.key,n,new bb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new $t(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let i=0;return a._snapshot.docChanges.map(o=>{const l=new LC(a._firestore,a._userDataWriter,o.doc.key,o.doc,new bb(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new LC(a._firestore,a._userDataWriter,o.doc.key,o.doc,new bb(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let u=-1,d=-1;return o.type!==0&&(u=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:oge(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $t(bt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ap._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=V6.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function oge(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(e){e=cl(e,xs);const t=cl(e.firestore,TA);return qpe(gw(t),e._key).then(r=>yY(t,e,r))}ap._jsonSchemaVersion="firestore/querySnapshot/1.0",ap._jsonSchema={type:li("string",ap._jsonSchemaVersion),bundleSource:li("string","QuerySnapshot"),bundleName:li("string"),bundle:li("string")};class kO extends ige{constructor(t){super(),this.firestore=t}convertBytes(t){return new mu(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new xs(this.firestore,null,r)}}function Hs(e){e=cl(e,FA);const t=cl(e.firestore,TA),r=gw(t),n=new kO(t);return xY(e._query),Wpe(r,e._query).then(a=>new ap(t,n,e,a))}function fo(e,t,r){e=cl(e,xs);const n=cl(e.firestore,TA),a=NO(e.converter,t,r);return yw(n,[pO(jx(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,ul.none())])}function zp(e,t,r,...n){e=cl(e,xs);const a=cl(e.firestore,TA),s=jx(a);let i;return i=typeof(t=fa(t))=="string"||t instanceof vw?hY(s,"updateDoc",e._key,t,r,n):fY(s,"updateDoc",e._key,t),yw(a,[i.toMutation(e._key,ul.exists(!0))])}function $s(e){return yw(cl(e.firestore,TA),[new M5(e._key,ul.none())])}function qn(e,t){const r=cl(e.firestore,TA),n=vr(e),a=NO(e.converter,t);return yw(r,[pO(jx(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,ul.exists(!1))]).then(()=>n)}function wr(e,...t){var l,u,d;e=fa(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||i7(t[n])||(r=t[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(i7(t[n])){const f=t[n];t[n]=(l=f.next)==null?void 0:l.bind(f),t[n+1]=(u=f.error)==null?void 0:u.bind(f),t[n+2]=(d=f.complete)==null?void 0:d.bind(f)}let s,i,o;if(e instanceof xs)i=cl(e.firestore,TA),o=O5(e._key.path),s={next:f=>{t[n]&&t[n](yY(i,e,f))},error:t[n+1],complete:t[n+2]};else{const f=cl(e,FA);i=cl(f.firestore,TA),o=f._query;const h=new kO(i);s={next:p=>{t[n]&&t[n](new ap(i,h,f,p))},error:t[n+1],complete:t[n+2]},xY(e._query)}return function(h,p,v,g){const b=new mO(g),y=new AO(p,b,v);return h.asyncQueue.enqueueAndForget(async()=>cO(await D_(h),y)),()=>{b.Nu(),h.asyncQueue.enqueueAndForget(async()=>uO(await D_(h),y))}}(gw(i),o,a,s)}function yw(e,t){return function(n,a){const s=new Tf;return n.asyncQueue.enqueueAndForget(async()=>Ppe(await Gpe(n),a,s)),s.promise}(gw(e),t)}function yY(e,t,r){const n=r.docs.get(t._key),a=new kO(e);return new np(e,a,t._key,n,new bb(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lge{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=jx(t)}set(t,r,n){this._verifyNotCommitted();const a=rB(t,this._firestore),s=NO(a.converter,r,n),i=pO(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,n);return this._mutations.push(i.toMutation(a._key,ul.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const s=rB(t,this._firestore);let i;return i=typeof(r=fa(r))=="string"||r instanceof vw?hY(this._dataReader,"WriteBatch.update",s._key,r,n,a):fY(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(i.toMutation(s._key,ul.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=rB(t,this._firestore);return this._mutations=this._mutations.concat(new M5(r._key,ul.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $t(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rB(e,t){if((e=fa(e)).firestore!==t)throw new $t(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Cp(){return new gO("serverTimestamp")}function cge(...e){return new vO("arrayUnion",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(e){return gw(e=cl(e,TA)),new lge(e,t=>yw(e,t))}(function(t,r=!0){(function(a){kx=a})(Mp),D0(new Lf("firestore",(n,{instanceIdentifier:a,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new TA(new r0e(n.getProvider("auth-internal")),new s0e(i,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $t(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gy(u.options.projectId,d)}(i,a),i);return s={useFetchStreams:r,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Eu(dU,AU,t),Eu(dU,AU,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY="firebasestorage.googleapis.com",EY="storageBucket",uge=120*1e3,dge=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends gd{constructor(t,r,n=0){super(nB(t),`Firebase Storage: ${r} (${nB(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ss.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return nB(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Es;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Es||(Es={}));function nB(e){return"storage/"+e}function TO(){const e="An unknown error occurred, please check the error payload for server response.";return new Ss(Es.UNKNOWN,e)}function Age(e){return new Ss(Es.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function fge(e){return new Ss(Es.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hge(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ss(Es.UNAUTHENTICATED,e)}function mge(){return new Ss(Es.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pge(e){return new Ss(Es.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function gge(){return new Ss(Es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vge(){return new Ss(Es.CANCELED,"User canceled the upload/download.")}function xge(e){return new Ss(Es.INVALID_URL,"Invalid URL '"+e+"'.")}function bge(e){return new Ss(Es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function yge(){return new Ss(Es.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+EY+"' property when initializing the app?")}function wge(){return new Ss(Es.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ege(){return new Ss(Es.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Cge(e){return new Ss(Es.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function tj(e){return new Ss(Es.INVALID_ARGUMENT,e)}function CY(){return new Ss(Es.APP_DELETED,"The Firebase app was deleted.")}function _ge(e){return new Ss(Es.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vb(e,t){return new Ss(Es.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function V1(e){throw new Ss(Es.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=wc.makeFromUrl(t,r)}catch{return new wc(t,"")}if(n.path==="")return n;throw bge(t)}static makeFromUrl(t,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const i="(/(.*))?$",o=new RegExp("^gs://"+a+i,"i"),l={bucket:1,path:3};function u(B){B.path_=decodeURIComponent(B.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${a}/o${h}`,"i"),v={bucket:1,path:3},g=r===wY?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",y=new RegExp(`^https?://${g}/${a}/${b}`,"i"),S=[{regex:o,indices:l,postModify:s},{regex:p,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let B=0;B<S.length;B++){const k=S[B],O=k.regex.exec(t);if(O){const w=O[k.indices.bucket];let C=O[k.indices.path];C||(C=""),n=new wc(w,C),k.postModify(n);break}}if(n==null)throw xge(t);return n}}class Sge{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nge(e,t,r){let n=1,a=null,s=null,i=!1,o=0;function l(){return o===2}let u=!1;function d(...b){u||(u=!0,t.apply(null,b))}function f(b){a=setTimeout(()=>{a=null,e(p,l())},b)}function h(){s&&clearTimeout(s)}function p(b,...y){if(u){h();return}if(b){h(),d.call(null,b,...y);return}if(l()||i){h(),d.call(null,b,...y);return}n<64&&(n*=2);let S;o===1?(o=2,S=0):S=(n+Math.random())*1e3,f(S)}let v=!1;function g(b){v||(v=!0,h(),!u&&(a!==null?(b||(o=2),clearTimeout(a),f(0)):b||(o=1)))}return f(0),s=setTimeout(()=>{i=!0,g(!0)},r),g}function kge(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bge(e){return e!==void 0}function Tge(e){return typeof e=="object"&&!Array.isArray(e)}function IO(e){return typeof e=="string"||e instanceof String}function c7(e){return jO()&&e instanceof Blob}function jO(){return typeof Blob<"u"}function u7(e,t,r,n){if(n<t)throw tj(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw tj(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function _Y(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const a=t(n)+"="+t(e[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var sp;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(sp||(sp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ige(e,t){const r=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return r||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jge{constructor(t,r,n,a,s,i,o,l,u,d,f,h=!0,p=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const t=(n,a)=>{if(a){n(!1,new iE(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const i=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(i),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(i),this.pendingConnection_=null;const o=s.getErrorCode()===sp.NO_ERROR,l=s.getStatus();if(!o||Ige(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===sp.ABORT;n(!1,new iE(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new iE(u,s))})},r=(n,a)=>{const s=this.resolve_,i=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Bge(l)?s(l):s()}catch(l){i(l)}else if(o!==null){const l=TO();l.serverResponse=o.getErrorText(),this.errorCallback_?i(this.errorCallback_(o,l)):i(l)}else if(a.canceled){const l=this.appDelete_?CY():vge();i(l)}else{const l=gge();i(l)}};this.canceled_?r(!1,new iE(!1,null,!0)):this.backoffId_=Nge(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&kge(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class iE{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function Fge(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Oge(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Dge(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Pge(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Rge(e,t,r,n,a,s,i=!0,o=!1){const l=_Y(e.urlParams),u=e.url+l,d=Object.assign({},e.headers);return Dge(d,t),Fge(d,r),Oge(d,s),Pge(d,n),new jge(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lge(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Mge(...e){const t=Lge();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(jO())return new Blob(e);throw new Ss(Es.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Uge(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qge(e){if(typeof atob>"u")throw Cge("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aB{constructor(t,r){this.data=t,this.contentType=r||null}}function Hge(e,t){switch(e){case fA.RAW:return new aB(SY(t));case fA.BASE64:case fA.BASE64URL:return new aB(NY(e,t));case fA.DATA_URL:return new aB(zge(t),$ge(t))}throw TO()}function SY(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const s=n,i=e.charCodeAt(++r);n=65536|(s&1023)<<10|i&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function Vge(e){let t;try{t=decodeURIComponent(e)}catch{throw Vb(fA.DATA_URL,"Malformed data URL.")}return SY(t)}function NY(e,t){switch(e){case fA.BASE64:{const a=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(a||s)throw Vb(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case fA.BASE64URL:{const a=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(a||s)throw Vb(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Qge(t)}catch(a){throw a.message.includes("polyfill")?a:Vb(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class kY{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw Vb(fA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Kge(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function zge(e){const t=new kY(e);return t.base64?NY(fA.BASE64,t.rest):Vge(t.rest)}function $ge(e){return new kY(e).contentType}function Kge(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,r){let n=0,a="";c7(t)?(this.data_=t,n=t.size,a=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,r){if(c7(this.data_)){const n=this.data_,a=Uge(n,t,r);return a===null?null:new u0(a)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new u0(n,!0)}}static getBlob(...t){if(jO()){const r=t.map(n=>n instanceof u0?n.data_:n);return new u0(Mge.apply(null,r))}else{const r=t.map(i=>IO(i)?Hge(fA.RAW,i).data:i.data_);let n=0;r.forEach(i=>{n+=i.byteLength});const a=new Uint8Array(n);let s=0;return r.forEach(i=>{for(let o=0;o<i.length;o++)a[s++]=i[o]}),new u0(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(e){let t;try{t=JSON.parse(e)}catch{return null}return Tge(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gge(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function qge(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function TY(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wge(e,t){return t}class tl{constructor(t,r,n,a){this.server=t,this.local=r||t,this.writable=!!n,this.xform=a||Wge}}let oE=null;function Xge(e){return!IO(e)||e.length<2?e:TY(e)}function IY(){if(oE)return oE;const e=[];e.push(new tl("bucket")),e.push(new tl("generation")),e.push(new tl("metageneration")),e.push(new tl("name","fullPath",!0));function t(s,i){return Xge(i)}const r=new tl("name");r.xform=t,e.push(r);function n(s,i){return i!==void 0?Number(i):i}const a=new tl("size");return a.xform=n,e.push(a),e.push(new tl("timeCreated")),e.push(new tl("updated")),e.push(new tl("md5Hash",null,!0)),e.push(new tl("cacheControl",null,!0)),e.push(new tl("contentDisposition",null,!0)),e.push(new tl("contentEncoding",null,!0)),e.push(new tl("contentLanguage",null,!0)),e.push(new tl("contentType",null,!0)),e.push(new tl("metadata","customMetadata",!0)),oE=e,oE}function Yge(e,t){function r(){const n=e.bucket,a=e.fullPath,s=new wc(n,a);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:r})}function Jge(e,t,r){const n={};n.type="file";const a=r.length;for(let s=0;s<a;s++){const i=r[s];n[i.local]=i.xform(n,t[i.server])}return Yge(n,e),n}function jY(e,t,r){const n=BY(t);return n===null?null:Jge(e,n,r)}function Zge(e,t,r,n){const a=BY(t);if(a===null||!IO(a.downloadTokens))return null;const s=a.downloadTokens;if(s.length===0)return null;const i=encodeURIComponent;return s.split(",").map(u=>{const d=e.bucket,f=e.fullPath,h="/b/"+i(d)+"/o/"+i(f),p=FO(h,r,n),v=_Y({alt:"media",token:u});return p+v})[0]}function eve(e,t){const r={},n=t.length;for(let a=0;a<n;a++){const s=t[a];s.writable&&(r[s.server]=e[s.local])}return JSON.stringify(r)}class FY{constructor(t,r,n,a){this.url=t,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(e){if(!e)throw TO()}function tve(e,t){function r(n,a){const s=jY(e,a,t);return OY(s!==null),s}return r}function rve(e,t){function r(n,a){const s=jY(e,a,t);return OY(s!==null),Zge(s,a,e.host,e._protocol)}return r}function DY(e){function t(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=mge():a=hge():r.getStatus()===402?a=fge(e.bucket):r.getStatus()===403?a=pge(e.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return t}function nve(e){const t=DY(e);function r(n,a){let s=t(n,a);return n.getStatus()===404&&(s=Age(e.path)),s.serverResponse=a.serverResponse,s}return r}function ave(e,t,r){const n=t.fullServerUrl(),a=FO(n,e.host,e._protocol),s="GET",i=e.maxOperationRetryTime,o=new FY(a,s,rve(e,r),i);return o.errorHandler=nve(t),o}function sve(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function ive(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=sve(null,t)),n}function ove(e,t,r,n,a){const s=t.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function o(){let S="";for(let B=0;B<2;B++)S=S+Math.random().toString().slice(2);return S}const l=o();i["Content-Type"]="multipart/related; boundary="+l;const u=ive(t,n,a),d=eve(u,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=u0.getBlob(f,n,h);if(p===null)throw wge();const v={name:u.fullPath},g=FO(s,e.host,e._protocol),b="POST",y=e.maxUploadRetryTime,_=new FY(g,b,tve(e,r),y);return _.urlParams=v,_.headers=i,_.body=p.uploadData(),_.errorHandler=DY(t),_}class lve{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,a,s){if(this.sent_)throw V1("cannot .send() more than once");if(th(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw V1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw V1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw V1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw V1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class cve extends lve{initXhr(){this.xhr_.responseType="text"}}function PY(){return new cve}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,r){this._service=t,r instanceof wc?this._location=r:this._location=wc.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new _p(t,r)}get root(){const t=new wc(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TY(this._location.path)}get storage(){return this._service}get parent(){const t=Gge(this._location.path);if(t===null)return null;const r=new wc(this._location.bucket,t);return new _p(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw _ge(t)}}function uve(e,t,r){e._throwIfRoot("uploadBytes");const n=ove(e.storage,e._location,IY(),new u0(t,!0),r);return e.storage.makeRequestWithTokens(n,PY).then(a=>({metadata:a,ref:e}))}function dve(e){e._throwIfRoot("getDownloadURL");const t=ave(e.storage,e._location,IY());return e.storage.makeRequestWithTokens(t,PY).then(r=>{if(r===null)throw Ege();return r})}function Ave(e,t){const r=qge(e._location.path,t),n=new wc(e._location.bucket,r);return new _p(e.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fve(e){return/^[A-Za-z]+:\/\//.test(e)}function hve(e,t){return new _p(e,t)}function RY(e,t){if(e instanceof OO){const r=e;if(r._bucket==null)throw yge();const n=new _p(r,r._bucket);return t!=null?RY(n,t):n}else return t!==void 0?Ave(e,t):e}function mve(e,t){if(t&&fve(t)){if(e instanceof OO)return hve(e,t);throw tj("To use ref(service, url), the first argument must be a Storage instance.")}else return RY(e,t)}function d7(e,t){const r=t==null?void 0:t[EY];return r==null?null:wc.makeFromBucketSpec(r,e)}function pve(e,t,r,n={}){e.host=`${t}:${r}`;const a=th(t);a&&(w5(`https://${e.host}/b`),E5("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:s}=n;s&&(e._overrideAuthToken=typeof s=="string"?s:iW(s,e.app.options.projectId))}class OO{constructor(t,r,n,a,s,i=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=i,this._bucket=null,this._host=wY,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uge,this._maxUploadRetryTime=dge,this._requests=new Set,a!=null?this._bucket=wc.makeFromBucketSpec(a,this._host):this._bucket=d7(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=wc.makeFromBucketSpec(this._url,t):this._bucket=d7(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){u7("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){u7("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(gc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new _p(this,t)}_makeRequest(t,r,n,a,s=!0){if(this._deleted)return new Sge(CY());{const i=Rge(t,this._appId,n,a,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,a).getPromise()}}const A7="@firebase/storage",f7="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY="storage";function MY(e,t,r){return e=fa(e),uve(e,t,r)}function UY(e){return e=fa(e),dve(e)}function QY(e,t){return e=fa(e),mve(e,t)}function HY(e=C5(),t){e=fa(e);const n=lw(e,LY).getImmediate({identifier:t}),a=T6("storage");return a&&gve(n,...a),n}function gve(e,t,r,n={}){pve(e,t,r,n)}function vve(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new OO(r,n,a,t,Mp)}function xve(){D0(new Lf(LY,vve,"PUBLIC").setMultipleInstances(!0)),Eu(A7,f7,""),Eu(A7,f7,"esm2020")}xve();const bve={apiKey:"AIzaSyAfL9dpeLfpWQPg4orpFSh3X5dzXrSsBwc",authDomain:"planificador-145df.firebaseapp.com",projectId:"planificador-145df",storageBucket:"planificador-145df.appspot.com",messagingSenderId:"1022861144167",appId:"1:1022861144167:web:7c277dd701dad5986864c2",measurementId:"G-LKJRFMVC9F"},DO=F6(bve),ww=$W(DO),jr=uY(DO),VY=HY(DO),yve=Object.freeze(Object.defineProperty({__proto__:null,auth:ww,db:jr,storage:VY},Symbol.toStringTag,{value:"Module"})),wve=async(e,t)=>{try{return(await Rfe(ww,e,t)).user}catch(r){throw console.error("Error en loginUser helper:",r),r}},sB=async()=>{try{await Ufe(ww)}catch(e){throw console.error("Error en logoutUser helper:",e),e}},Eve=async e=>{try{await Pfe(ww,e)}catch(t){throw console.error("Error en resetPassword helper:",t),t}},zY=async e=>{try{const t=vr(jr,"usuarios",e),r=await bw(t);return r.exists()?{id:r.id,...r.data()}:(console.warn(`No se encontr perfil en Firestore para: ${e}`),null)}catch(t){throw console.error("Error en getUserProfile helper:",t),t}};var Xt=(e=>(e.SUBDIRECCION="SUBDIRECCION",e.PROFESORADO="PROFESORADO",e.COORDINACION_TP="COORDINACION_TP",e.ESTUDIANTE="ESTUDIANTE",e))(Xt||{}),tn=(e=>(e.EVALUACION="Evaluacin",e.ACTO="Acto",e.ACTIVIDAD_FOCALIZADA="Actividad Focalizada",e.SALIDA_PEDAGOGICA="Salida Pedaggica",e))(tn||{}),Hm=(e=>(e.PRUEBA_PARCIAL="Prueba parcial",e.GUIA_APRENDIZAJE="Gua de Aprendizaje",e.RUBRICA="Rbrica",e.PAUTA_COTEJO="Pauta de Cotejo",e))(Hm||{});const Cve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m-1 4h1m5-4h1m-1 4h1"})}),ui="w-6 h-6",X5="w-24 h-24",PO=()=>c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo Gestin Pedaggica LIR",className:"w-32 h-32 object-contain"}),_ve=()=>c.jsxs("svg",{className:"w-10 h-10 text-amber-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M9 18h6"}),c.jsx("path",{d:"M10 22h4"}),c.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 3 2 5 2 7h10c0-2 2-4 2-7a7 7 0 0 0-7-7z"})]}),Sve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Nve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),yb=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),wb=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),$Y=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),kve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:X5,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125z"})}),Bve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:X5,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),Tve=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:X5,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 010 1.255c-.008.378.137.75.43.99l1.004.828c.421.346.564.95.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.68 6.68 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.68 6.68 0 01-.22-.127c-.325-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.369-.491l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 010-1.255c.008-.378-.137-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Ive=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:X5,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-2.072-1.036A48.257 48.257 0 0112 10.045a48.258 48.258 0 0110.332-1.036l-2.072 1.036m-16.425 0a48.27 48.27 0 00-2.223 2.218c.958.056 1.91.118 2.857.185m16.425 0c.947-.067 1.9-.129 2.857-.185a48.27 48.27 0 00-2.223-2.218m-12.182 0A11.947 11.947 0 0112 8.636a11.947 11.947 0 014.09 1.511"})}),jve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),h7=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),lE=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),iB=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),cE=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),oB=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),m7=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Fve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})}),Ove=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),Dve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Pve=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),p7=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l9-5-9-5-9 5 9 5z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14v6"})]}),Rve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),lB=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m0 18a9 9 0 009-9m-9 9a9 9 0 00-9-9"})}),Lve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:ui,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.528-1.036.94-2.197 1.088-3.386l-.7M11.42 15.17l-1.06-1.06a4.5 4.5 0 01-5.656-5.656l-1.06 1.06c-1.37.66-2.58 1.6-3.58 2.75a4.5 4.5 0 00-1.06 5.656l1.06 1.06c1.15.998 2.52 1.93 3.99 2.58l1.06-1.06a4.5 4.5 0 015.656-5.656l3.032 2.496m-3.582-2.58a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06m-3.032-2.496a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06"})}),Mve=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:ui,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),g7=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:ui,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-1.125 0-2.25 1.125-2.25 2.25v15c0 1.125 1.125 2.25 2.25 2.25h11.25c1.125 0 2.25-1.125 2.25-2.25v-9.75M10.125 2.25c.621 0 1.125.504 1.125 1.125v3.375c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125v-3.375c0-.621.504-1.125 1.125-1.125h1.5zM17.25 10.5h.375c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125h-.375m0-3.75V6.375c0-.621-.504-1.125-1.125-1.125h-1.5c-.621 0-1.125.504-1.125 1.125v3.375c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-1.5m-6.375 5.25v-1.5c0-.621.504-1.125 1.125-1.125h.375c.621 0 1.125.504 1.125 1.125v1.5m0 3.75V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5m6.375 0V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5"})}),Uve=[{id:Xt.SUBDIRECCION,label:"Subdireccin Pedaggica",icon:c.jsx(kve,{})},{id:Xt.PROFESORADO,label:"Profesorado",icon:c.jsx(Bve,{})},{id:Xt.COORDINACION_TP,label:"Coordinacin TP",icon:c.jsx(Tve,{})},{id:Xt.ESTUDIANTE,label:"Estudiantes",icon:c.jsx(Ive,{})}],Qve={[Xt.SUBDIRECCION]:[{name:"Dashboard",icon:c.jsx(jve,{})},{name:"Administracin",icon:c.jsx(Pve,{})},{name:"Seguimiento Curricular",icon:c.jsx(Mve,{})},{name:"Acompaamiento docente",icon:c.jsx(Dve,{})},{name:"Anlisis Taxonmico",icon:c.jsx(g7,{})},{name:"Interdisciplinario",icon:c.jsx(lB,{})},{name:"Registro de inasistencias y reemplazos docentes",icon:c.jsx(h7,{})},{name:"Crear horarios",icon:c.jsx(iB,{})},{name:"Seguimiento de acciones pedaggicas",icon:c.jsx(cE,{})},{name:"Inclusin",icon:c.jsx(p7,{})},{name:"Calendario Acadmico",icon:c.jsx(lE,{})},{name:"Muro de Anuncios",icon:c.jsx(yb,{})},{name:"Mensajera Interna",icon:c.jsx(wb,{})},{name:"Generador de Actas",icon:c.jsx(oB,{})}],[Xt.PROFESORADO]:[{name:"Planificacin",icon:c.jsx(m7,{})},{name:"Mis Acompaamientos",icon:c.jsx(Rve,{})},{name:"Recursos de Aprendizaje",icon:c.jsx(Fve,{})},{name:"Anlisis Taxonmico",icon:c.jsx(g7,{})},{name:"Interdisciplinario",icon:c.jsx(lB,{})},{name:"Inclusin",icon:c.jsx(p7,{})},{name:"Actividades Remotas",icon:c.jsx(Ove,{})},{name:"Evaluacin de Aprendizajes",icon:c.jsx(oB,{})},{name:"Evaluaciones Formativas",icon:c.jsx(cE,{})},{name:"Calendario Acadmico",icon:c.jsx(lE,{})},{name:"Muro de Anuncios",icon:c.jsx(yb,{})},{name:"Mensajera Interna",icon:c.jsx(wb,{})},{name:"Generador de Actas",icon:c.jsx(h7,{})}],[Xt.COORDINACION_TP]:[{name:"Seguimiento Dual",icon:c.jsx(cE,{})},{name:"Asistencia Dual",icon:c.jsx(iB,{})},{name:"Paol",icon:c.jsx(Lve,{})},{name:"Gestin de Empresas",icon:c.jsx(Cve,{})},{name:"Calendario Acadmico",icon:c.jsx(lE,{})},{name:"Muro de Anuncios",icon:c.jsx(yb,{})},{name:"Mensajera Interna",icon:c.jsx(wb,{})},{name:"Alternancia TP",icon:""},{name:"Generador de Actas",icon:c.jsx(oB,{})}],[Xt.ESTUDIANTE]:[{name:"Auto-aprendizaje",icon:c.jsx(m7,{})},{name:"Evaluacin Formativa",icon:c.jsx(cE,{})},{name:"Tareas Interdisciplinarias",icon:c.jsx(lB,{})},{name:"Asistencia a Empresa",icon:c.jsx(iB,{})},{name:"Calendario Acadmico",icon:c.jsx(lE,{})},{name:"Muro de Anuncios",icon:c.jsx(yb,{})},{name:"Mensajera Interna",icon:c.jsx(wb,{})}]},v7=["Currculum y Evaluacin","Convivencia Escolar","Orientacin","Gestin Pedaggica General"],uE=["Pendiente","En Proceso","Cumplida"],Av=["1 Medio","2 Medio","3 Medio","4 Medio"],Hi=["Lengua y Literatura","Matemtica","Ingls","Filosofa","Historia y Geografa","Educacin Ciudadana","Ciencias","Ciencias para la Ciudadana","Artes","Msica","Educacin Fsica","Orientacin","Mecnica Industrial","Mecnica Automotriz","Emprendimiento","Tecnologa","Pensamiento Lgico","Competencia Lectora"],Za=["1A","1B","1C","1D","1E","2A","2B","2C","2D","3A","3B","3C","3D","4A","4B","4C","4D"],rj=["Nelson Laubreaux","Julian Seguel","Martin Moya","Leonel Moya","Miguel Becerra"],MC=["Lunes","Martes","Mircoles","Jueves","Viernes"],nj=[{bloque:1,inicio:"08:00",fin:"08:40"},{bloque:2,inicio:"08:40",fin:"09:20"},{bloque:3,inicio:"09:35",fin:"10:15"},{bloque:4,inicio:"10:15",fin:"10:55"},{bloque:5,inicio:"11:10",fin:"11:50"},{bloque:6,inicio:"11:50",fin:"12:30"},{bloque:7,inicio:"12:30",fin:"13:10"},{bloque:8,inicio:"13:10",fin:"13:50"},{bloque:9,inicio:"14:30",fin:"15:10"},{bloque:10,inicio:"15:10",fin:"15:50"},{bloque:11,inicio:"16:00",fin:"16:40"},{bloque:12,inicio:"16:40",fin:"17:20"}],Hve={"1 y 2 medio":{"Lengua y Literatura":6,Matemtica:6,Ingls:3,"Historia y Geografa":4,"Educacin Fsica":2,Ciencias:4,"Artes/Msica":2,Tecnologa:2,Orientacin:1},"3 y 4 medio (Humanista-Cientfico)":{"Lengua y Literatura":4,Matemtica:4,Ingls:2,"Historia y Geografa":3,"Educacin Ciudadana":2,Filosofa:3,"Ciencias para la Ciudadana":2,"Educacin Fsica":2},"3 y 4 medio (Tcnico-Profesional)":{"Lengua y Literatura":2,Matemtica:2,Ingls:2,"Historia y Geografa":2,Filosofa:2,"Educacin Fsica":2,"Mdulo TP":18}},Tv={[tn.EVALUACION]:{label:"Evaluacin",icon:"",color:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"},[tn.ACTO]:{label:"Acto",icon:"",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"},[tn.ACTIVIDAD_FOCALIZADA]:{label:"Act. Focalizada",icon:"",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},[tn.SALIDA_PEDAGOGICA]:{label:"Salida Pedaggica",icon:"",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}},Vve=Object.values(Hm),cB=["Humanidades","TP","Ciencias","Interdisciplinario","Gestin Pedaggica","Equipo Directivo","Equipo de Gestin","Consejo Escolar"],uB=["Vinculado","Desvinculado","En proceso","Empresa"],ip=["3A","3B","3C","3D","4A","4B","4C","4D"],zve=["Quiz","Comprensin de Lectura","Trminos Pareados","Desarrollo"],R_=["Discapacidad Intelectual Leve","Funcionamiento Intelectual Limtrofe","Trastorno Dficit Atencional (TDA)","Trastorno Dficit Atencional con Hiperactividad (TDAH)","Trastorno del Lenguaje","Dificultad Especfica del Aprendizaje","Dificultad Especfica de Aprendizaje en Matemticas","Dificultades de Aprendizaje","Problemas de Idioma y de Escolarizacin"],zb=[{domain:"Dominio A: Preparacin de la Enseanza",criteria:[{name:"Conocimiento de la disciplina",levels:["Demuestra conocimiento parcial por la disciplina que ensea, evidenciando manejo poco preciso y confuso de los conceptos centrales en los que se articula la clase.","Conoce los principios centrales de la disciplina que ensea, no obstante evidencia falencias en el tratamiento conceptual a la luz de actualizaciones epistemolgicas o metodolgicas en su rea.","Conoce y comprende los principios y conceptos centrales de las disciplinas que ensea, atendiendo a la permanente actualizacin curricular en su rea.","Conoce, comprende y cuestiona los principios centrales de la disciplina que ensea a la luz de nuevos paradigmas epistemolgicos o tericos, permitiendo que el trabajo o la exposicin conceptual invite al desarrollo del pensamiento crtico o la investigacin continua."]},{name:"Conocimiento de los estudiantes",levels:["No conoce las fortalezas y debilidades de sus estudiantes, evidenciando una planificacin o gestin de la clase estndar, sin atender a particularidades.","Conoce las fortalezas y debilidades de sus estudiantes de manera parcial en relacin al contexto y caractersticas del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que ensea en consonancia con el contexto y caractersticas propias del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que ensea en consonancia con el contexto y caractersticas propias del medio, siendo capaz de desarrollar diversas explicaciones y/o actividades para un mismo objetivo."]},{name:"Seleccin de recursos de aprendizaje",levels:["Los recursos de aprendizaje seleccionados demuestran desconocimiento respecto a las caractersticas de sus estudiantes y a la relacin con el contenido y objetivo de la clase.","Conoce parcialmente distintos recursos didcticos de aprendizaje, siendo congruentes al contenido pero no a las caractersticas de sus estudiantes, o bien, siendo pertinentes a sus particularidades pero alejndose de los objetivos y contenidos de la clase.","Conoce y selecciona distintos recursos didcticos de aprendizaje congruentes con la complejidad de los contenidos y las caractersticas de sus alumnos.","Conoce y selecciona distintos recursos didcticos de aprendizaje que promueven el desarrollo de habilidades transversales y permiten asegurar la adquisicin de aprendizajes profundos, todo en consonancia con las particularidades de sus estudiantes."]},{name:"Estrategias de evaluacin",levels:["Establece estrategias de evaluacin incongruentes con los contenidos o el desarrollo cognitivo de sus estudiantes, omitiendo adems, las metodologas empleadas previamente en clases.","Establece estrategias de evaluacin coherentes con los contenidos pero no con la complejidad, o bien, con una complejidad adecuada al desarrollo cognitivo de los estudiantes, pero no necesariamente a los contenidos y objetivos desarrollados previamente en clases.","Establece estrategias de evaluacin coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases.","Establece estrategias de evaluacin coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases. Dichas estrategias promueven la reflexin, y, la retroalimentacin descriptiva."]},{name:"Estrategias de enseanza-aprendizaje",levels:["*Los docentes establecen estrategias generales de apoyo sin considerar los distintos niveles de dominio de las competencias ni tampoco, las necesidades de los estudiantes","*Los docentes disean e implementan estrategias de enseanza- aprendizaje efectivas, pero sin considerar las competencias involucradas en el perfil de egreso, o los recursos disponibles, o los espacios dentro fuera y del aula.","*Los docentes disean e implementan estrategias efectivas de enseanza-aprendizaje para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula.","*Los docentes disean e implementan estrategias avanzadas de enseanza-aprendizaje tales como (ABP, ABD, Gamificacin, Aprendizaje basado en juegos) para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula."]}]},{domain:"Dominio B: Creacin de ambiente propicio para el aprendizaje",criteria:[{name:"Clima de respeto y empata",levels:["Establece un clima centrado exclusivamente en las normas, pero no da cuenta de vnculos fundados en el respeto y/o en la empata.","Establece un clima de relaciones interpersonales respetuosas y empticas con la mayora de sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empticas con todos sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empticas con todos sus alumnos, generando situaciones concretas de cooperacin y ayuda mutua entre l/ella y los/las estudiantes, o entre los/las propios estudiantes."]},{name:"Inters por las especialidades",levels:["No transmite inters por las especialidades, centrndose exclusivamente en su rea de desempeo.","Transmite inters general por las especialidades, no obstante no es capaz de acercarse a las caractersticas concretas de los mdulos.","Transmite inters por los contenidos y actividades de las asignaturas, mdulos y especialidades.","Transmite inters por los contenidos y actividades de las asignaturas, mdulos y especialidades, ejemplificando o relacionando de manera concreta, con situaciones reales en dicha rea de desempeo."]},{name:"Actitudes de compromiso y solidaridad",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Promueve implcitamente actitudes de compromiso y solidaridad entre los alumnos.","Promueve explcitamente actitudes de compromiso y solidaridad entre los alumnos, a travs de estrategias, instrucciones o anlisis que tiendan a ello.","Promueve explcitamente actitudes de compromiso y solidaridad entre los alumnos, a travs de estrategias, instrucciones o anlisis que tiendan a ello, generando experiencias concretas para desarrollar estas habilidades y valores."]},{name:"Situaciones de aprendizaje",levels:["Presenta situaciones de aprendizaje estndar que implican un desarrollo mecnico y que no tienden hacia la consolidacin de aprendizajes esperados o no movilizan a los estudiantes.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, no obstante no atiende a sus caractersticas personales y/o motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus caractersticas personales y motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus caractersticas personales y motivacionales, integrando a sus clases actividades que complementan o profundizan aprendizajes en los casos que sean necesarios."]},{name:"Motivacin por el aprendizaje",levels:["No transmite motivacin por el aprendizaje, la bsqueda o la indagacin.","Transmite una motivacin positiva por el aprendizaje, no obstante no insta a los estudiantes a indagar o buscar de manera autnoma","Transmite una motivacin positiva por el aprendizaje, la indagacin y la bsqueda.","Transmite una motivacin positiva por el aprendizaje, la indagacin y la bsqueda, ejemplificando o comunicando experiencias reales que permitan valorar estas actitudes."]},{name:"Normas de comportamiento",levels:["No establece normas de comportamento para sus estudiantes.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, no obstante, no es sistemtico en su cumplimiento.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado, permitiendo altos niveles de participacin."]},{name:"Respuestas frente al quiebre de normas",levels:["No genera respuestas frente al quiebre de las normas de convivencia.","Genera respuestas efectivas frente al quiebre de las normas de convivencia, pero debe mejorar la asertividad.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia, que entregan sentido de la importancia de los acuerdos y las normas previamente comunicadas."]}]},{domain:"Dominio C: Enseanza para el aprendizaje de todos los estudiantes",criteria:[{name:"Presentacin de objetivos",levels:["Al iniciar las clases no presenta el objetivo o slo lo enuncia sin profundizar en l.","Al iniciar las clases presenta el objetivo de aprendizaje y el propsito, pero no logra dar cuenta de la relacin con el futuro laboral de los estudiantes o con otras reas del conocimiento.","Al iniciar las clases presentan el objetivo de aprendizaje, relacionndolo con el propsito que posee desde la disciplina, otras reas del conocimiento o para su desempeo laboral futuro.","Al iniciar las clases presentan el objetivo de aprendizaje involucrando a los estudiantes a travs de la relacin con el propsito que posee desde la disciplina, otras reas del conocimiento o para su desempeo laboral futuro."]},{name:"Clase en funcin de objetivos",levels:["No realiza su clase en funcin de los objetivos de aprendizaje estipulados en las bases curriculares, o bien, los incorpora pero sin mantener coherencia con las habilidades, contenidos o competencias del currculum nacional","Realiza sus clases en funcin de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando slo uno de los siguientes elementos: desarrollo de competencias, habilidades, conocimientos o actitudes establecidos en el currculum nacional.","Realiza sus clases en funcin de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currculum nacional.","Realiza sus clases en funcin de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currculum nacional y en el PEI."]},{name:"Introduccin de nueva informacin",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Los docentes introducen a los estudiantes a nueva informacin, sin considerar el desarrollo de habilidades y actitudes.","Los docentes introducen a sus estudiantes a nueva informacin y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos.","Los docentes introducen a sus estudiantes a nueva informacin y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos y su realidad inmediata."]},{name:"Desarrollo de contenidos",levels:["Desarrolla los contenidos de la clase sin precisin conceptual ni claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual, pero sin una extrapolacin que permita entregar claridad a los estudiantes.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad, recurriendo al ejemplo y a la vida cotidiana para anclar el conocimiento."]},{name:"Retroalimentacin",levels:["No retroalimenta a los estudiantes","Retroalimentan constantemente a sus estudiantes slo de modo general.","Retroalimentan constantemente a sus estudiantes sobre su desempeo, de manera individual o grupal.","Retroalimentan constantemente a sus estudiantes sobre su desempeo, de manera individual o grupal, a travs de preguntas o instancias que permiten modelar su aprendizaje."]},{name:"Monitoreo del aprendizaje",levels:["No monitorea el grado de comprensin y desempeo de sus estudiantes.","Monitorea parcialmente el grado de comprensin y desempeo de sus estudiantes, no siempre a travs de evidencia.","Monitorea constantemente el grado de comprensin y el desempeo de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que estn aprendiendo.","Monitorea constantemente y en diferentes instancias el grado de comprensin y el desempeo de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que estn aprendiendo."]},{name:"Orientacin a objetivos transversales",levels:["No enuncia o enuncia de modo incorrecto elementos ligados hacia los objetivos transversales.","Orienta a sus estudiantes hacia temticas ligadas a los objetivos transversales, no obstante, la orientacin es superficial y no predispone la construccin de valores.","Orienta a sus estudiantes hacia temticas ligadas a los objetivos transversales del currculum, con el fin de favorecer su proceso de construccin de valores.","Orienta a sus estudiantes hacia temticas ligadas a los objetivos transversales del currculum, con el fin de favorecer su proceso de construccin de valores en consonancia a elementos propios del PEI."]},{name:"Conclusin de la clase",levels:["El docente concluye la clase sin actividad o reactivo hacia los estudiantes.*","El docente concluye la clase con una explicacin que resume los contenidos fundamentales, no obstante, no moviliza acciones en los estudiantes, que permitan activar contenidos.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido. Incorpora adems preguntas de metacognicin y/o autoevaluacin."]},{name:"Abordaje de errores",levels:["No aborda los errores, nicamente los seala.","Aborda los errores no como fracasos, sino que corrige oportunamente, no obstante no entrega nuevas herramientas para construir de mejor forma nuevos aprendizajes.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje a travs de estrategias o precisiones claves en virtud de las habilidades o contenidos tratados."]},{name:"Apoyo a todos los estudiantes",levels:["El docente se centra en un grupo objetivo y homogneo, descuidando la diversidad y las caractersticas particulares de todos sus estudiantes.","El docente apoya parcialmente a todos los estudiantes en sus procesos educativos, no obstante no consideran diversas estrategias segn nivel de dominio por parte de los estudiantes.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos segn el nivel de dominio de las competencias definidas en el perfil de egreso.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos segn el nivel de dominio de las competencias definidas en el perfil de egreso y en consonancia con el PEI."]}]}],KY=["Lder de Proyecto","Secretario/a","Encargado/a de Materiales","Expositor/a","Investigador/a","Editor/a"],dE=[{nombre:"Aprendiz Emergente",emoji:"",promedioMin:1,promedioMax:3.9,mensaje:"Ests comenzando tu viaje de aprendizaje! Sigue esforzndote."},{nombre:"Explorador del Conocimiento",emoji:"",promedioMin:4,promedioMax:4.9,mensaje:"Buen trabajo! Ests construyendo una base slida."},{nombre:"Arquitecto de Ideas",emoji:"",promedioMin:5,promedioMax:5.9,mensaje:"Excelente! Demuestras un gran dominio de los temas."},{nombre:"Maestro del Saber",emoji:"",promedioMin:6,promedioMax:6.5,mensaje:"Impresionante! Tu dedicacin te lleva a la excelencia."},{nombre:"Sabio Luminar",emoji:"",promedioMin:6.6,promedioMax:7,mensaje:"Extraordinario! Eres una inspiracin para tus compaeros."}],$ve=["Mecnica Industrial","Mecnica Automotriz"],Kve=["INACAP","UNAB","DUOC","Universidad de Las Amricas"],Gve=["Tercero Medio","Cuarto Medio"],qve={"Mecnica Automotriz":["3A","3B","4A","4B"],"Mecnica Industrial":["3C","3D","4C","4D"]},Wve=["Pasanta","Visita","Certificacin","Formacin en empresa"],Xve={"Mecnica Industrial":{"Tercero Medio":["Soldadura industrial","Mantenimiento de herramientas","Medicin y verificacin","Mecnica de banco","Torneado de piezas y conjuntos mecnicos"],"Cuarto Medio":["Fresado de piezas mecnicas","Taladrado de piezas mecnicas","Rectificado de piezas mecnicas","Fabricacin asistida por computador (CNC)"]},"Mecnica Automotriz":{"Tercero Medio":["Ajuste de motores","Lectura de planos y manuales tcnicos","Manejo de residuos y desechos automotrices","Mantenimiento de sistemas de seguridad y confortabilidad","Mantenimiento de sistemas elctricos y electrnicos"],"Cuarto Medio":["Mantenimiento de motores","Mantenimiento de sistemas hidrulicos y neumticos","Mantenimiento de los sistemas de transmisin y frenos","Mantenimiento de sistemas de direccin y suspensin","Emprendimiento y empleabilidad"]}},Yve=({onLoginAttempt:e,onForgotPasswordRequest:t,error:r})=>{const[n,a]=I.useState(""),[s,i]=I.useState(""),[o,l]=I.useState("login"),u=h=>{h.preventDefault(),e(n,s)},d=h=>{h.preventDefault(),t(n),l("forgot_sent")},f=()=>o==="forgot"?c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrnico Registrado"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:h=>a(h.target.value),placeholder:"Ingrese su correo",className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm"})})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700",children:"Enviar Enlace de Recuperacin"})}),c.jsx("div",{className:"text-sm text-center",children:c.jsx("button",{type:"button",onClick:()=>l("login"),className:"font-medium text-amber-600 hover:text-amber-500",children:"Volver a Iniciar Sesin"})})]}):o==="forgot_sent"?c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Revise su Correo"}),c.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Si existe una cuenta asociada a ",c.jsx("strong",{children:n}),", hemos enviado un enlace para restablecer su contrasea."]}),c.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"(Para esta simulacin, revise la consola del navegador para ver el enlace)."}),c.jsx("button",{type:"button",onClick:()=>{l("login"),a("")},className:"mt-6 font-medium text-amber-600 hover:text-amber-500",children:" Volver a Iniciar Sesin"})]}):c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrnico"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:h=>a(h.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contrasea"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:h=>i(h.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),r&&c.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:c.jsx("p",{children:r})}),c.jsx("div",{className:"text-sm text-center",children:c.jsx("button",{type:"button",onClick:()=>l("forgot"),className:"font-medium text-amber-600 hover:text-amber-500",children:"Olvid su contrasea?"})}),c.jsx("div",{children:c.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Ingresar"})})]});return c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"mb-4 flex justify-center items-center",children:c.jsx(PO,{})}),c.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestin Pedaggica LIR"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:o==="login"?"Bienvenido/a, por favor inicie sesin":"Recuperacin de Contrasea"})]}),c.jsx("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:f()}),c.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:[" ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]})},AE=({trigger:e,children:t,onOpen:r})=>{const[n,a]=I.useState(!1),s=I.useRef(null),i=()=>{const l=!n;a(l),l&&r&&r()},o=l=>{s.current&&!s.current.contains(l.target)&&a(!1)};return I.useEffect(()=>(document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}),[]),c.jsxs("div",{className:"relative",ref:s,children:[c.jsx("div",{onClick:i,children:e}),n&&c.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-700 rounded-lg shadow-xl border border-slate-200 dark:border-slate-600 z-50 animate-fade-in-up",onClick:()=>a(!1),children:t})]})},x7="usuariosLiceo",Jve=({user:e,onClose:t,onSave:r})=>{const[n,a]=I.useState({nombreCompleto:e.nombreCompleto,email:e.email,fotoUrl:e.fotoUrl||""}),s=o=>{a({...n,[o.target.name]:o.target.value})},i=o=>{o.preventDefault();const l={...e,...n};try{const u=localStorage.getItem(x7);let d=u?JSON.parse(u):[];const f=d.findIndex(h=>h.id===e.id);f>-1?d[f]=l:d.push(l),localStorage.setItem(x7,JSON.stringify(d)),r(l),t()}catch(u){console.error("Failed to save user profile:",u),alert("No se pudo guardar el perfil.")}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:o=>o.stopPropagation(),children:c.jsxs("form",{onSubmit:i,children:[c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Editar Perfil"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fotoUrl",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"URL de la Foto de Perfil"}),c.jsx("input",{type:"url",id:"fotoUrl",name:"fotoUrl",value:n.fotoUrl,onChange:s,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"https://ejemplo.com/foto.jpg"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"nombreCompleto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),c.jsx("input",{type:"text",id:"nombreCompleto",name:"nombreCompleto",value:n.nombreCompleto,onChange:s,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Correo Electrnico"}),c.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:s,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Funcin"}),c.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:e.profile})]})]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Guardar Cambios"})]})]})})})},b7="usuariosLiceo",Zve=({user:e,onClose:t,onSave:r})=>{const[n,a]=I.useState(""),[s,i]=I.useState(""),[o,l]=I.useState(null),u=d=>{if(d.preventDefault(),l(null),!n){l("La contrasea no puede estar en blanco.");return}if(n!==s){l("Las contraseas no coinciden.");return}const f={...e,password:n};try{const h=localStorage.getItem(b7);let p=h?JSON.parse(h):[];const v=p.findIndex(g=>g.id===e.id);v>-1?p[v]=f:p.push(f),localStorage.setItem(b7,JSON.stringify(p)),r(f),t()}catch(h){console.error("Failed to save new password:",h),l("No se pudo guardar la nueva contrasea.")}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:d=>d.stopPropagation(),children:c.jsxs("form",{onSubmit:u,children:[c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Configuracin de Cuenta"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Usuario"}),c.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:e.email})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nueva Contrasea"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:n,onChange:d=>a(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Confirmar Nueva Contrasea"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:s,onChange:d=>i(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),o&&c.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 text-sm",role:"alert",children:c.jsx("p",{children:o})})]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Cambiar Contrasea"})]})]})})})};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const exe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),txe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),y7=e=>{const t=txe(e);return t.charAt(0).toUpperCase()+t.slice(1)},GY=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),rxe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nxe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const axe=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>I.createElement("svg",{ref:l,...nxe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:GY("lucide",a),...!s&&!rxe(o)&&{"aria-hidden":"true"},...o},[...i.map(([u,d])=>I.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=(e,t)=>{const r=I.forwardRef(({className:n,...a},s)=>I.createElement(axe,{ref:s,iconNode:t,className:GY(`lucide-${exe(y7(e))}`,`lucide-${e}`,n),...a}));return r.displayName=y7(e),r};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sxe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ixe=zn("book-open",sxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oxe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],lxe=zn("briefcase",oxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cxe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],uxe=zn("building",cxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dxe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Axe=zn("calendar-check",dxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fxe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hxe=zn("chart-column",fxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mxe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pxe=zn("chevron-left",mxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gxe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vxe=zn("chevron-right",gxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xxe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],bxe=zn("clipboard-list",xxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yxe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wxe=zn("clock",yxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Exe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qY=zn("download",Exe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cxe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_xe=zn("funnel",Cxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sxe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Nxe=zn("hash",Sxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Bxe=zn("info",kxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Txe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ixe=zn("layout-dashboard",Txe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jxe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Fxe=zn("mail",jxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oxe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aj=zn("map-pin",Oxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dxe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Pxe=zn("megaphone",Dxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rxe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Lxe=zn("message-square",Rxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mxe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],WY=zn("pencil",Mxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uxe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XY=zn("plus",Uxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qxe=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Hxe=zn("puzzle",Qxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vxe=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],zxe=zn("route",Vxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $xe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YY=zn("save",$xe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kxe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],sj=zn("square-plus",Kxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gxe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qxe=zn("star",Gxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Xxe=zn("target",Wxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yxe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ew=zn("trash-2",Yxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jxe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zxe=zn("upload",Jxe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],w7=zn("user",e1e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],r1e=zn("users",t1e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1e=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],a1e=zn("video",n1e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],E7=zn("x",s1e);async function i1e(e){const t={...e,docenteEmailLower:e.docenteEmail?e.docenteEmail.toLowerCase():e.docenteEmailLower,leida:!1,createdAt:Cp()};return Object.keys(t).forEach(n=>t[n]===void 0&&delete t[n]),(await qn(Rt(jr,"notificaciones"),t)).id}function o1e(e,t){const r=[];let n=[],a=[];const s=()=>{const i=new Map;[...n,...a].forEach(l=>{l.id&&(i.has(l.id)||i.set(l.id,l))});const o=Array.from(i.values()).sort((l,u)=>{var h,p;const d=(h=l.createdAt)!=null&&h.toDate?l.createdAt.toDate().getTime():0;return((p=u.createdAt)!=null&&p.toDate?u.createdAt.toDate().getTime():0)-d});t(o)};if(e.email){const i=Zt(Rt(jr,"notificaciones"),Fn("docenteEmailLower","==",e.email.toLowerCase()),Gr("createdAt","desc"));r.push(wr(i,o=>{n=o.docs.map(l=>({id:l.id,...l.data()})),s()}))}if(e.nombreCompleto){const i=Zt(Rt(jr,"notificaciones"),Fn("docenteNombre","==",e.nombreCompleto),Gr("createdAt","desc"));r.push(wr(i,o=>{a=o.docs.map(l=>({id:l.id,...l.data()})),s()}))}return()=>r.forEach(i=>i())}async function l1e(e){const t=vr(jr,"notificaciones",e);await zp(t,{leida:!0})}async function c1e(e){const t=vr(jr,"notificaciones",e);await $s(t)}const C7="anunciosMuro",_7="mensajesInternos",S7="lir-read-status",u1e=({user:e})=>{if(e.fotoUrl)return c.jsx("img",{src:e.fotoUrl,alt:e.nombreCompleto||"Avatar de usuario",className:"h-9 w-9 rounded-full object-cover"});const t=e.nombreCompleto||"",r=String(t).split(" ").filter(n=>n).map(n=>n[0]).join("").toUpperCase();return c.jsx("div",{className:"h-9 w-9 rounded-full bg-amber-500 text-white flex items-center justify-center font-bold",children:r.substring(0,2)})},d1e=({currentUser:e,onLogout:t,onNavigate:r,onUserUpdate:n,onChangeProfile:a,canChangeProfile:s,toggleSidebar:i,unreadMessagesCount:o,refreshUnreadCount:l})=>{const[u,d]=I.useState([]),[f,h]=I.useState([]),[p,v]=I.useState(!1),[g,b]=I.useState(!1),[y,_]=I.useState([]),S=I.useCallback(()=>{try{const N=localStorage.getItem(`${S7}-${e.id}`);return N?JSON.parse(N):{announcements:[],messages:[]}}catch{return{announcements:[],messages:[]}}},[e.id]),B=I.useCallback(N=>{try{localStorage.setItem(`${S7}-${e.id}`,JSON.stringify(N))}catch(P){console.error("Failed to set read status:",P)}},[e.id]);I.useEffect(()=>{const N=JSON.parse(localStorage.getItem(C7)||"[]"),P=S();d(N.filter(F=>!P.announcements.includes(F.id)));const j=JSON.parse(localStorage.getItem(_7)||"[]");h(j.filter(F=>F.para===e.email).sort((F,M)=>new Date(M.fecha).getTime()-new Date(F.fecha).getTime()).slice(0,5))},[e.id,S,o]),I.useEffect(()=>{if(!(e!=null&&e.email))return;const N=o1e({email:e.email,nombreCompleto:e.nombreCompleto},P=>{const j=P.filter(F=>F.tipo&&(F.tipo.toLowerCase()==="pie"||F.tipo==="nueva_intervencion"));_(j)});return()=>N()},[e==null?void 0:e.email,e==null?void 0:e.nombreCompleto]);const k=()=>{const N=S(),P=JSON.parse(localStorage.getItem(C7)||"[]").map(j=>j.id);N.announcements=P,B(N),d([])},O=()=>{const N=S(),j=JSON.parse(localStorage.getItem(_7)||"[]").filter(F=>F.para===e.email).map(F=>F.id);N.messages=[...new Set([...N.messages,...j])],B(N),l()},w=y.filter(N=>!N.leida).length,C=N=>{var P;try{const j=(P=N.createdAt)!=null&&P.toDate?N.createdAt.toDate():new Date(N.createdAt);return j?j.toLocaleString("es-CL"):""}catch{return""}};return c.jsxs(c.Fragment,{children:[c.jsx("header",{className:"bg-white shadow-md sticky top-0 z-40 h-16",children:c.jsxs("div",{className:"container mx-auto px-4 h-full flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"text-slate-600 dark:text-slate-300 md:hidden mr-2",onClick:i,children:c.jsx(Sve,{})}),c.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r("Dashboard"),children:[c.jsxs("svg",{className:"w-8 h-8 text-slate-700 dark:text-slate-200",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6.5A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v13Z",stroke:"currentColor",strokeWidth:"1.5"}),c.jsx("path",{d:"M16 4.5V17",stroke:"currentColor",strokeWidth:"1.5"})]}),c.jsx("span",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 hidden sm:block",children:"Gestin LIR"})]})]}),c.jsx("div",{className:"flex-1 flex justify-center",children:c.jsx("button",{onClick:()=>r("Calendario Acadmico"),className:"p-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300",title:"Calendario Acadmico",children:c.jsx(Nve,{})})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754153206/ChatGPT_Image_2_ago_2025_12_46_35_p.m._qsqj5e.png",alt:"Logo LIR",className:"h-10 w-10 object-contain"})}),c.jsx(AE,{onOpen:k,trigger:c.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Anuncios",children:[c.jsx(yb,{}),u.length>0&&c.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:u.length})]}),children:c.jsxs("div",{className:"p-2",children:[c.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Anuncios Recientes"}),c.jsxs("ul",{className:"mt-1",children:[u.slice(0,3).map(N=>c.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[c.jsx("p",{className:"font-bold dark:text-slate-200",children:N.titulo}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:N.mensaje})]},N.id)),u.length===0&&c.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay anuncios nuevos."})]}),c.jsx("button",{onClick:()=>r("Muro de Anuncios"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ver todo"})]})}),c.jsx(AE,{trigger:c.jsxs("button",{className:"relative p-2 rounded-full bg-sky-100 hover:bg-sky-200 text-sky-700 dark:bg-sky-900/30 dark:hover:bg-sky-900/40 dark:text-sky-300 transition-colors",title:"Notificaciones PIE",children:[c.jsx(Hxe,{className:"w-5 h-5"}),w>0&&c.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:w})]}),children:c.jsxs("div",{className:"p-2 w-80",children:[c.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Notificaciones PIE"}),c.jsxs("ul",{className:"mt-1 max-h-80 overflow-y-auto divide-y dark:divide-slate-700",children:[y.length===0&&c.jsx("li",{className:"p-3 text-sm text-slate-500 dark:text-slate-400",children:"No hay notificaciones."}),y.map(N=>c.jsx("li",{className:"p-2 text-sm",children:c.jsxs("div",{className:"flex justify-between items-start gap-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:N.titulo}),c.jsx("div",{className:"text-slate-600 dark:text-slate-400 whitespace-pre-line",children:N.mensaje}),N.estudianteNombre&&c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Estudiante: ",c.jsx("b",{children:N.estudianteNombre})]}),c.jsx("div",{className:"text-[11px] text-slate-400 mt-1",children:C(N)})]}),c.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-1",children:[!N.leida&&c.jsx("button",{onClick:()=>N.id&&l1e(N.id),className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded hover:bg-green-200",children:"Marcar leda"}),c.jsx("button",{onClick:()=>N.id&&c1e(N.id),className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded hover:bg-red-200",children:"Eliminar"})]})]})},N.id))]})]})}),c.jsx(AE,{onOpen:O,trigger:c.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Mensajes",children:[c.jsx(wb,{}),o>0&&c.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:o})]}),children:c.jsxs("div",{className:"p-2",children:[c.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Mensajes"}),c.jsxs("ul",{className:"mt-1",children:[f.slice(0,3).map(N=>c.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[c.jsxs("p",{className:"font-bold dark:text-slate-200",children:["De: ",N.de]}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:N.asunto})]},N.id)),f.length===0&&c.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay mensajes recientes."})]}),c.jsx("button",{onClick:()=>r("Mensajera Interna"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ir a la bandeja"})]})}),c.jsx(AE,{trigger:c.jsx("button",{className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:c.jsx(u1e,{user:e})}),children:c.jsxs("div",{className:"p-2",children:[c.jsxs("div",{className:"px-2 py-2 border-b dark:border-slate-600",children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:e.nombreCompleto}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.profile})]}),c.jsxs("ul",{className:"mt-2 text-slate-700 dark:text-slate-300",children:[c.jsx("li",{children:c.jsx("button",{onClick:()=>v(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Editar Perfil"})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>b(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Configuracin"})}),s&&c.jsx("li",{children:c.jsx("button",{onClick:a,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:" Cambiar Vista"})}),c.jsx("li",{children:c.jsx("button",{onClick:t,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Cerrar Sesin"})})]})]})})]})]})}),p&&c.jsx(Jve,{user:e,onClose:()=>v(!1),onSave:n}),g&&c.jsx(Zve,{user:e,onClose:()=>b(!1),onSave:n})]})};var Fm={};const A1e={apiKey:Fm.NEXT_PUBLIC_FIREBASE_API_KEY||"tu-api-key",authDomain:Fm.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"tu-proyecto.firebaseapp.com",projectId:Fm.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"tu-proyecto-id",storageBucket:Fm.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"tu-proyecto.appspot.com",messagingSenderId:Fm.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"123456789",appId:Fm.NEXT_PUBLIC_FIREBASE_APP_ID||"1:123456789:web:abcdef",measurementId:Fm.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-XXXXXXXXXX"},JY=QM().length===0?F6(A1e):QM()[0],jt=uY(JY),f1e=$W(JY),Cw="reemplazos_docentes",h1e="usuarios",RO=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,fechaActualizacion:((s=(a=t.fechaActualizacion)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString())||t.fechaActualizacion}},m1e=e=>{const t=e.data();return{id:e.id,...t}},p1e=async(e,t)=>{try{const r={...e,userId:t,fechaCreacion:mr.fromDate(new Date),fechaActualizacion:mr.fromDate(new Date)};return(await qn(Rt(jt,Cw),r)).id}catch(r){throw console.error("Error al guardar reemplazo:",r),new Error("No se pudo guardar el reemplazo")}},g1e=async(e,t)=>{try{const r=vr(jt,Cw,e),n=await bw(r);if(!n.exists()||n.data().userId!==t)throw new Error("No tienes permisos para eliminar este reemplazo");await $s(r)}catch(r){throw console.error("Error al eliminar reemplazo:",r),new Error("No se pudo eliminar el reemplazo")}},v1e=(e,t,r=50)=>{try{const n=Zt(Rt(jt,Cw),Fn("userId","==",e),Gr("diaAusencia","desc"),_A(r));return wr(n,a=>{const s=a.docs.map(RO);t(s)},a=>{console.error("Error en suscripcin a reemplazos:",a),t([])})}catch(n){return console.error("Error al crear la suscripcin de reemplazos:",n),()=>{}}},x1e=e=>{try{const t=Zt(Rt(jt,h1e),Fn("profile","==",Xt.PROFESORADO));return wr(t,n=>{const a=n.docs.map(m1e);e(a)},n=>{console.error("Error al obtener la lista de profesores:",n),e([])})}catch(t){return console.error("Error al crear la suscripcin de profesores:",t),()=>{}}},b1e=async e=>{try{const t=Zt(Rt(jt,Cw),Fn("userId","==",e)),n=(await Hs(t)).docs.map(RO),a=n.length,s=n.filter(o=>o.resultado==="Hora realizada").length,i=n.filter(o=>o.resultado==="Hora cubierta, no realizada").length;return{totalReemplazos:a,horasRealizadas:s,horasCubiertas:i,porcentajeRealizadas:a>0?s/a*100:0}}catch(t){throw console.error("Error al obtener estadsticas:",t),new Error("No se pudieron obtener las estadsticas")}},y1e=async(e,t)=>{try{if(!t.trim())return[];const r=Zt(Rt(jt,Cw),Fn("userId","==",e),Gr("diaAusencia","desc"),_A(100)),a=(await Hs(r)).docs.map(RO),s=t.toLowerCase();return a.filter(i=>i.docenteAusente.toLowerCase().includes(s)||i.docenteReemplazante.toLowerCase().includes(s)||i.curso.toLowerCase().includes(s)||i.diaAusencia.includes(s)||i.asignaturaAusente.toLowerCase().includes(s)||i.asignaturaReemplazante.toLowerCase().includes(s))}catch(r){return console.error("Error en bsqueda de reemplazos:",r),[]}},w1e=Array.from({length:12},(e,t)=>t+1),N7={docenteAusente:"",asignaturaAusente:"",curso:"",diaAusencia:"",bloquesAfectados:[],docenteReemplazante:"",asignaturaReemplazante:""},E1e=e=>{const[t,r]=I.useState([]),[n,a]=I.useState(!0),[s,i]=I.useState(null);I.useEffect(()=>e?v1e(e,f=>{r(f),a(!1)}):void 0,[e]);const o=I.useCallback(async d=>{try{return i(null),await p1e(d,e)}catch(f){throw i(f instanceof Error?f.message:"Error al guardar"),f}},[e]),l=I.useCallback(async d=>{try{i(null),await g1e(d,e)}catch(f){throw i(f instanceof Error?f.message:"Error al eliminar"),f}},[e]),u=I.useCallback(async d=>{try{return i(null),d.trim()?await y1e(e,d):t}catch(f){return i(f instanceof Error?f.message:"Error en la bsqueda"),[]}},[e,t]);return{reemplazos:t,loading:n,error:s,save:o,remove:l,search:u}},C1e=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!0);I.useEffect(()=>x1e(i=>{t(i),n(!1)}),[]);const a=I.useMemo(()=>e.map(s=>s.nombreCompleto).sort(),[e]);return{profesores:e,profesorNames:a,loading:r}},_1e=({selectedBlocks:e,onChange:t,legend:r,disabled:n=!1})=>c.jsxs("fieldset",{children:[c.jsx("legend",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:r}),c.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:w1e.map(a=>c.jsxs("label",{className:`flex items-center space-x-2 p-2 border rounded-lg transition-colors ${n?"opacity-50 cursor-not-allowed":"hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-700"}`,children:[c.jsx("input",{type:"checkbox",value:a,checked:e.includes(a),onChange:t,disabled:n,className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500 disabled:opacity-50"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:a})]},a))})]}),S1e=({userId:e})=>{const[t,r]=I.useState(null),[n,a]=I.useState(!1),s=I.useCallback(async()=>{try{a(!0);const i=new Date,o=(i.getMonth()+1).toString(),l=i.getFullYear().toString(),u=await b1e(e);r(u)}catch(i){console.error("Error al cargar estadsticas:",i)}finally{a(!1)}},[e]);return I.useEffect(()=>{e&&s()},[e,s]),n?c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:c.jsx("div",{className:"animate-pulse flex justify-center",children:c.jsx("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"})})}):t?c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:[c.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Estadsticas del Mes"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:t.totalReemplazos}),c.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Total"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.horasRealizadas}),c.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Realizadas"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:t.horasCubiertas}),c.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Cubiertas"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[t.porcentajeRealizadas.toFixed(1),"%"]}),c.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Efectividad"})]})]})]}):null},N1e=({currentUser:e})=>{const t=e.email||e.id||"",{reemplazos:r,save:n,remove:a,search:s,loading:i,error:o}=E1e(t),{profesorNames:l,loading:u}=C1e(),[d,f]=I.useState(N7),[h,p]=I.useState(""),[v,g]=I.useState([]),[b,y]=I.useState(null),[_,S]=I.useState(!1),[B,k]=I.useState(!1);I.useEffect(()=>{(async()=>{if(!h.trim()){g(r);return}k(!0);try{const F=await s(h);g(F)}catch(F){console.error("Error en bsqueda:",F),g(r)}finally{k(!1)}})()},[r,h,s]);const O=I.useCallback(j=>{const{name:F,value:M}=j.target;f(Q=>({...Q,[F]:M}))},[]),w=I.useCallback(j=>{const F=parseInt(j.target.value,10);f(M=>{const Q=M.bloquesAfectados,J=Q.includes(F)?Q.filter(q=>q!==F):[...Q,F].sort((q,Z)=>q-Z);return{...M,bloquesAfectados:J}})},[]),C=I.useCallback(async j=>{j.preventDefault(),y(null),S(!0);const{docenteAusente:F,asignaturaAusente:M,curso:Q,diaAusencia:J,bloquesAfectados:q,docenteReemplazante:Z,asignaturaReemplazante:H}=d;if(!F||!M||!Q||!J||!Z||!H||q.length===0){y("Todos los campos son obligatorios y debe seleccionar al menos un bloque."),S(!1);return}if(F===Z){y("El docente ausente y el reemplazante no pueden ser la misma persona."),S(!1);return}const V=new Date(J),G=new Date;if(G.setHours(0,0,0,0),V<G&&!window.confirm("La fecha seleccionada es anterior a hoy. Desea continuar?")){S(!1);return}try{const ne=M.trim().toLowerCase()===H.trim().toLowerCase()?"Hora realizada":"Hora cubierta, no realizada",R={...d,resultado:ne};await n(R),f(N7);const W=ne==="Hora realizada"?" Reemplazo registrado - Hora realizada":" Reemplazo registrado - Hora cubierta, no realizada",Y=document.createElement("div");Y.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",Y.textContent=W,document.body.appendChild(Y),setTimeout(()=>{document.body.contains(Y)&&document.body.removeChild(Y)},3e3)}catch(ne){console.error("Error al guardar reemplazo:",ne),y("Error al guardar el reemplazo. Por favor, intente nuevamente.")}finally{S(!1)}},[d,n]),N=I.useCallback(async j=>{if(window.confirm("Est seguro de que desea eliminar este registro?"))try{await a(j)}catch(F){console.error("Error al eliminar reemplazo:",F),alert("Error al eliminar el reemplazo. Por favor, intente nuevamente.")}},[a]),P="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400 disabled:opacity-50 disabled:cursor-not-allowed";return!e||!e.email&&!e.id?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-2",children:"Error: Usuario no autenticado"}),c.jsxs("p",{className:"text-sm text-slate-400",children:["Datos recibidos: ",JSON.stringify(e)]})]})}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx(S1e,{userId:t}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Registro de Inasistencias y Reemplazos"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete el formulario para registrar una nueva suplencia."}),u?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-3 text-slate-600 dark:text-slate-400",children:"Cargando profesores..."})]}):c.jsxs("form",{onSubmit:C,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Ausente"}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"docenteAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),c.jsxs("select",{name:"docenteAusente",value:d.docenteAusente,onChange:O,className:P,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un docente"}),l.map(j=>c.jsx("option",{value:j,children:j},j))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignaturaAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{name:"asignaturaAusente",value:d.asignaturaAusente,onChange:O,className:P,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione una asignatura"}),Hi.map(j=>c.jsx("option",{value:j,children:j},j))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{name:"curso",value:d.curso,onChange:O,className:P,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un curso"}),Za.map(j=>c.jsx("option",{value:j,children:j},j))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"diaAusencia",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Da Ausencia"}),c.jsx("input",{type:"date",name:"diaAusencia",value:d.diaAusencia,onChange:O,className:P,disabled:_,required:!0})]}),c.jsx(_1e,{legend:"Bloques Afectados",selectedBlocks:d.bloquesAfectados,onChange:w,disabled:_})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Reemplazante"}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"docenteReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),c.jsxs("select",{name:"docenteReemplazante",value:d.docenteReemplazante,onChange:O,className:P,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un docente"}),l.map(j=>c.jsx("option",{value:j,children:j},j))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignaturaReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{name:"asignaturaReemplazante",value:d.asignaturaReemplazante,onChange:O,className:P,disabled:_,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione una asignatura"}),Hi.map(j=>c.jsx("option",{value:j,children:j},j))]})]}),d.asignaturaAusente&&d.asignaturaReemplazante&&c.jsxs("div",{className:"mt-6 p-4 rounded-lg border-2 border-dashed border-slate-300 dark:border-slate-600",children:[c.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Vista Previa del Resultado:"}),c.jsx("div",{className:`px-3 py-2 rounded-full text-sm font-semibold inline-flex ${d.asignaturaAusente.toLowerCase()===d.asignaturaReemplazante.toLowerCase()?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}`,children:d.asignaturaAusente.toLowerCase()===d.asignaturaReemplazante.toLowerCase()?" Hora realizada":" Hora cubierta, no realizada"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:d.asignaturaAusente.toLowerCase()===d.asignaturaReemplazante.toLowerCase()?"Las asignaturas coinciden - se considera hora realizada":"Las asignaturas no coinciden - se considera hora cubierta pero no realizada"})]})]})]}),(b||o)&&c.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-red-600 dark:text-red-400",children:b||o})}),c.jsx("div",{className:"pt-4 text-right",children:c.jsxs("button",{type:"submit",disabled:_||u,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[_&&c.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),_?"Registrando...":"Registrar Reemplazo"]})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Reemplazos"}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Buscar por docente, curso o fecha (YYYY-MM-DD)...",value:h,onChange:j=>p(j.target.value),className:`${P} md:w-1/2 pl-10`,disabled:B}),c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B?c.jsx("div",{className:"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}):c.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),h&&c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:B?"Buscando...":`${v.length} resultado(s) encontrado(s)`})]}),i?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-3 text-slate-600 dark:text-slate-400",children:"Cargando reemplazos..."})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fecha"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Curso"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Ausente"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Reemplazante"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Bloques"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Resultado"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:v.length>0?v.map(j=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:new Date(j.diaAusencia+"T12:00:00").toLocaleDateString("es-CL")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:j.curso}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[j.docenteAusente,c.jsx("br",{}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:j.asignaturaAusente})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[j.docenteReemplazante,c.jsx("br",{}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:j.asignaturaReemplazante})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:j.bloquesAfectados.join(", ")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:c.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${j.resultado==="Hora realizada"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}`,children:j.resultado})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:c.jsx("button",{onClick:()=>N(j.id),title:"Eliminar registro",className:"p-1 text-red-600 hover:text-red-800 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors disabled:opacity-50",disabled:_,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},j.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:h?"No se encontraron registros que coincidan con la bsqueda.":"No hay registros de reemplazos."})})})]})}),v.length>0&&!h&&c.jsxs("div",{className:"mt-4 text-sm text-slate-500 dark:text-slate-400 text-center",children:["Mostrando los ltimos ",v.length," registros"]})]})]})},k1e=e=>{console.log(" Iniciando suscripcin a todos los reemplazos...");try{const t=Rt(jr,"reemplazos"),r=Zt(t,Gr("fecha","desc"));return wr(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log(" Reemplazos cargados para dashboard:",s.length),e(s)},a=>{throw console.error(" Error al cargar reemplazos:",a),a})}catch(t){throw console.error(" Error al configurar suscripcin a reemplazos:",t),t}},B1e=e=>{console.log(" Iniciando suscripcin a todos los acompaamientos...");try{const t=Rt(jr,"acompanamientos"),r=Zt(t,Gr("fecha","desc"));return wr(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log(" Acompaamientos cargados para dashboard:",s.length),e(s)},a=>{throw console.error(" Error al cargar acompaamientos:",a),a})}catch(t){throw console.error(" Error al configurar suscripcin a acompaamientos:",t),t}},T1e=e=>{console.log(" Iniciando suscripcin a todos los eventos del calendario...");try{const t=Rt(jr,"calendar_events"),r=Zt(t,Gr("date","asc"));return wr(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log(" Eventos del calendario cargados para dashboard:",s.length),e(s)},a=>{throw console.error(" Error al cargar eventos del calendario:",a),a})}catch(t){throw console.error(" Error al configurar suscripcin a eventos del calendario:",t),t}},Zd=({title:e,value:t,description:r,isLoading:n=!1})=>c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),n?c.jsxs("div",{className:"flex items-center mt-2",children:[c.jsx("div",{className:"w-8 h-8 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-2 text-slate-500 dark:text-slate-400",children:"Cargando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:t}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r})]})]}),Om=({title:e,data:t,colorClass:r,valueFormatter:n=s=>String(s),isLoading:a=!1})=>{const s=I.useMemo(()=>t.map(o=>typeof o.value=="number"?o.value:parseFloat(String(o.value))||0),[t]),i=I.useMemo(()=>Math.max(...s,1),[s]);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:e}),a?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-2 text-slate-500 dark:text-slate-400",children:"Cargando datos..."})]}):c.jsx("div",{className:"space-y-4",children:t.length>0?t.sort((o,l)=>(typeof l.value=="number"?l.value:0)-(typeof o.value=="number"?o.value:0)).map((o,l)=>{const u=typeof o.value=="number"?o.value:parseFloat(String(o.value))||0;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:o.label}),c.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:n(o.value)})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:c.jsx("div",{className:`${r} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${u/i*100}%`}})})]},o.label+l)}):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay datos para mostrar."})})]})},I1e=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[a,s]=I.useState([]),[i,o]=I.useState(!0),[l,u]=I.useState(null);return I.useEffect(()=>{console.log(" Iniciando carga de datos del dashboard...");let d=0;const f=3,h=()=>{d++,d>=f&&(o(!1),console.log(" Todos los datos del dashboard cargados"))};try{const p=k1e(b=>{t(b),h()}),v=B1e(b=>{n(b),h()}),g=T1e(b=>{s(b),h()});return()=>{p(),v(),g()}}catch(p){console.error(" Error al configurar suscripciones del dashboard:",p),u(p instanceof Error?p.message:"Error al cargar datos del dashboard"),o(!1)}},[]),{registros:e,acompanamientos:r,calendarEvents:a,loading:i,error:l}},j1e=({currentUser:e})=>{var f,h;console.log("=== DASHBOARD SUBDIRECCION DEBUG ==="),console.log(" Dashboard - currentUser completo:",e),console.log(" Dashboard - currentUser.profile:",e==null?void 0:e.profile),console.log(" Dashboard - Verificacin de perfil:",(e==null?void 0:e.profile)==="SUBDIRECCION"),console.log(" Dashboard - Typeof profile:",typeof(e==null?void 0:e.profile)),console.log(" Dashboard - Profile length:",(f=e==null?void 0:e.profile)==null?void 0:f.length),console.log(" Dashboard - Profile con comillas:",`"${e==null?void 0:e.profile}"`),console.log(" Dashboard - Comparacin con trim:",((h=e==null?void 0:e.profile)==null?void 0:h.trim())==="SUBDIRECCION"),console.log("=====================================");const{registros:t,acompanamientos:r,calendarEvents:n,loading:a,error:s}=I1e(),[i,o]=I.useState(zb);if(console.log(" Dashboard - Datos recibidos:",{registros:t.length,acompanamientos:r.length,calendarEvents:n.length,loading:a,error:s,currentUser:e==null?void 0:e.profile}),I.useEffect(()=>{try{const p=localStorage.getItem("acompanamientoDocenteCustomRubrica");o(p?JSON.parse(p):zb)}catch(p){console.error("Error al leer rbrica personalizada",p),o(zb)}},[]),console.log(" Dashboard - Verificando permisos..."),console.log(" Dashboard - currentUser existe:",!!e),console.log(" Dashboard - profile value:",`"${e==null?void 0:e.profile}"`),console.log(" Dashboard - comparacin exacta:",(e==null?void 0:e.profile)==="SUBDIRECCION"),!e)return console.log(" Dashboard - currentUser es null/undefined"),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Cargando usuario..."}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md",children:"Esperando datos del usuario autenticado..."})]});if(e.profile!=="SUBDIRECCION")return console.log(" Dashboard - Perfil no autorizado:",e.profile),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("span",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Acceso Restringido"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md mb-4",children:"Este dashboard est disponible solo para usuarios con perfil de Subdireccin."}),c.jsxs("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700 rounded text-xs text-slate-600 dark:text-slate-400",children:[c.jsx("p",{children:c.jsx("strong",{children:"Debug Info:"})}),c.jsxs("p",{children:['Su perfil actual: "',e.profile,'"']}),c.jsx("p",{children:'Perfil requerido: "SUBDIRECCION"'}),c.jsxs("p",{children:["Usuario: ",e.email||e.nombreCompleto]})]})]});if(console.log(" Dashboard - Permisos verificados correctamente"),s)return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("span",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Error al Cargar Datos"}),c.jsx("p",{className:"text-red-500 dark:text-red-400 text-lg max-w-md mb-4",children:s}),c.jsx("button",{onClick:()=>window.location.reload(),className:"bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 transition-colors",children:"Recargar Pgina"})]});const l=I.useMemo(()=>{const p=t.length;if(p===0)return{totalInasistencias:0,horasRealizadas:0,horasCubiertas:0,tasaCobertura:"0%",inasistenciasPorDocente:[],reemplazosPorDocente:[],distribucionResultados:[],inasistenciasPorCurso:[]};const v=t.filter(k=>k.resultado==="Hora realizada").length,g=p-v,b=`${(v/p*100).toFixed(1)}%`,y=(k,O)=>k.reduce((w,C)=>{const N=C[O];return typeof N=="string"&&(w[N]=(w[N]||0)+1),w},{}),_=y(t,"docenteAusente"),S=y(t,"docenteReemplazante"),B=y(t,"curso");return{totalInasistencias:p,horasRealizadas:v,horasCubiertas:g,tasaCobertura:b,inasistenciasPorDocente:Object.entries(_).map(([k,O])=>({label:k,value:O})),reemplazosPorDocente:Object.entries(S).map(([k,O])=>({label:k,value:O})),inasistenciasPorCurso:Object.entries(B).map(([k,O])=>({label:k,value:O})),distribucionResultados:[{label:"Hora Realizada",value:v},{label:"Hora Cubierta",value:g}]}},[t]),u=I.useMemo(()=>{const p=r.length;if(p===0)return{totalAcompanamientos:0,promedioGeneral:"N/A",desempenoPorDocente:[],desempenoPorDominio:[]};const v=new Map;i.forEach(O=>{O.criteria.forEach(w=>{v.set(w.name,O.domain)})});let g=0,b=0;const y={},_={};r.forEach(O=>{y[O.docente]||(y[O.docente]={total:0,count:0}),Object.entries(O.rubricaResultados).forEach(([w,C])=>{g+=C,b++,y[O.docente].total+=C,y[O.docente].count++;const N=v.get(w);N&&(_[N]||(_[N]={total:0,count:0}),_[N].total+=C,_[N].count++)})});const S=b>0?(g/b).toFixed(2):"N/A",B=Object.entries(y).map(([O,w])=>({label:O,value:w.count>0?(w.total/w.count).toFixed(2):0})),k=Object.entries(_).map(([O,w])=>({label:O,value:w.count>0?(w.total/w.count).toFixed(2):0}));return{totalAcompanamientos:p,promedioGeneral:S,desempenoPorDocente:B,desempenoPorDominio:k}},[r,i]),d=I.useMemo(()=>{const p={[tn.EVALUACION]:0,[tn.ACTO]:0,[tn.ACTIVIDAD_FOCALIZADA]:0,[tn.SALIDA_PEDAGOGICA]:0};for(const g of n)p.hasOwnProperty(g.type)&&p[g.type]++;const v=Object.entries(p).map(([g,b])=>({label:Tv[g].label,value:b}));return{totalEvaluaciones:p[tn.EVALUACION],totalActos:p[tn.ACTO],totalActividadesFocalizadas:p[tn.ACTIVIDAD_FOCALIZADA],totalSalidasPedagogicas:p[tn.SALIDA_PEDAGOGICA],distribucionEventos:v}},[n]);return a?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Cargando Dashboard"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md",children:"Obteniendo datos desde la base de datos..."})]}):l.totalInasistencias===0&&u.totalAcompanamientos===0&&n.length===0?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsx("span",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Dashboard de Subdireccin"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md mb-4",children:"An no hay datos para mostrar. Comience por aadir registros en los mdulos correspondientes."}),c.jsxs("div",{className:"text-sm text-slate-400 dark:text-slate-500",children:[c.jsx("p",{children:" Mdulo de Inasistencias y Reemplazos"}),c.jsx("p",{children:" Mdulo de Acompaamiento Docente"}),c.jsx("p",{children:" Calendario Acadmico"})]})]}):c.jsxs("div",{className:"space-y-12 animate-fade-in",children:[c.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 dark:from-amber-600 dark:to-amber-700 text-white p-6 rounded-xl shadow-lg",children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard de Subdireccin"}),c.jsx("p",{className:"text-amber-100",children:"Vista consolidada de datos institucionales"}),c.jsxs("p",{className:"text-sm text-amber-200 mt-2",children:["ltima actualizacin: ",new Date().toLocaleString("es-CL")]})]}),t.length>0&&c.jsxs("div",{className:"space-y-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700 pb-2",children:" Dashboard de Inasistencias y Reemplazos"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Zd,{title:"Total Inasistencias",value:l.totalInasistencias,description:"Registros totales",isLoading:a}),c.jsx(Zd,{title:"Horas Realizadas",value:l.horasRealizadas,description:"Reemplazo con misma asignatura",isLoading:a}),c.jsx(Zd,{title:"Horas Cubiertas",value:l.horasCubiertas,description:"Reemplazo con otra asignatura",isLoading:a}),c.jsx(Zd,{title:"Tasa de Cobertura Efectiva",value:l.tasaCobertura,description:"% de horas realizadas",isLoading:a})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx(Om,{title:"Inasistencias por Docente",data:l.inasistenciasPorDocente,colorClass:"bg-red-400",isLoading:a}),c.jsx(Om,{title:"Reemplazos por Docente",data:l.reemplazosPorDocente,colorClass:"bg-sky-400",isLoading:a}),c.jsx(Om,{title:"Inasistencias por Curso",data:l.inasistenciasPorCurso,colorClass:"bg-amber-400",isLoading:a}),c.jsx(Om,{title:"Distribucin de Resultados",data:l.distribucionResultados,colorClass:"bg-green-400",isLoading:a})]})]}),r.length>0&&c.jsxs("div",{className:"space-y-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700 pb-2",children:" Dashboard de Acompaamiento Docente"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Zd,{title:"Total Acompaamientos",value:u.totalAcompanamientos,description:"Registros realizados",isLoading:a}),c.jsx(Zd,{title:"Promedio General",value:u.promedioGeneral,description:"Calificacin promedio (1-4)",isLoading:a})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx(Om,{title:"Desempeo Promedio por Docente",data:u.desempenoPorDocente,colorClass:"bg-indigo-400",valueFormatter:p=>Number(p).toFixed(2),isLoading:a}),c.jsx(Om,{title:"Desempeo Promedio por Dominio",data:u.desempenoPorDominio,colorClass:"bg-teal-400",valueFormatter:p=>Number(p).toFixed(2),isLoading:a})]})]}),n.length>0&&c.jsxs("div",{className:"space-y-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700 pb-2",children:" Resumen del Calendario Acadmico"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Zd,{title:"Evaluaciones",value:d.totalEvaluaciones,description:"Eventos registrados",isLoading:a}),c.jsx(Zd,{title:"Actos",value:d.totalActos,description:"Eventos registrados",isLoading:a}),c.jsx(Zd,{title:"Act. Focalizadas",value:d.totalActividadesFocalizadas,description:"Eventos registrados",isLoading:a}),c.jsx(Zd,{title:"Salidas Pedaggicas",value:d.totalSalidasPedagogicas,description:"Eventos registrados",isLoading:a})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx(Om,{title:"Distribucin de Eventos del Calendario",data:d.distribucionEventos,colorClass:"bg-violet-400",isLoading:a}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Prximos Eventos"}),a?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"ml-2 text-slate-500 dark:text-slate-400",children:"Cargando eventos..."})]}):c.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[n.filter(p=>new Date(p.date)>=new Date).slice(0,5).map((p,v)=>{var g,b;return c.jsx("div",{className:"p-3 border dark:border-slate-600 rounded-md",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:p.responsables||"Evento sin ttulo"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(p.date).toLocaleDateString("es-CL")}),p.ubicacion&&c.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:[" ",p.ubicacion]})]}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${((g=Tv[p.type])==null?void 0:g.color)||"bg-gray-100 text-gray-800"}`,children:((b=Tv[p.type])==null?void 0:b.label)||p.type})]})},p.id||v)}),n.filter(p=>new Date(p.date)>=new Date).length===0&&c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-4",children:"No hay eventos prximos programados"})]})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 p-6 rounded-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:" Resumen Ejecutivo"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:t.length+r.length+n.length}),c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Total de registros en el sistema"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:new Set([...t.map(p=>p.docenteAusente),...r.map(p=>p.docente)]).size}),c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Docentes con registros"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[Math.round(t.filter(p=>p.resultado==="Hora realizada").length/Math.max(t.length,1)*100),"%"]}),c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Efectividad en cobertura"})]})]})]}),c.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400 border-t border-slate-200 dark:border-slate-700 pt-6",children:[c.jsx("p",{children:"Dashboard de Subdireccin - Sistema de Gestin Pedaggica"}),c.jsx("p",{children:"Los datos se actualizan en tiempo real desde la base de datos"})]})]})};var k7;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(k7||(k7={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B7;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(B7||(B7={}));var T7;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(T7||(T7={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=["user","model","function","system"];var j7;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(j7||(j7={}));var F7;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(F7||(F7={}));var O7;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(O7||(O7={}));var D7;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(D7||(D7={}));var $b;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})($b||($b={}));var P7;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(P7||(P7={}));var R7;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(R7||(R7={}));var L7;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(L7||(L7={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Ig extends Ho{constructor(t,r){super(t),this.response=r}}class ZY extends Ho{constructor(t,r,n,a){super(t),this.status=r,this.statusText=n,this.errorDetails=a}}class S0 extends Ho{}class eJ extends Ho{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1e="https://generativelanguage.googleapis.com",O1e="v1beta",D1e="0.24.1",P1e="genai-js";var Sp;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Sp||(Sp={}));class R1e{constructor(t,r,n,a,s){this.model=t,this.task=r,this.apiKey=n,this.stream=a,this.requestOptions=s}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||O1e;let s=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||F1e}/${n}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function L1e(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${P1e}/${D1e}`),t.join(" ")}async function M1e(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",L1e(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(a){throw new S0(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${a.message}`)}for(const[a,s]of n.entries()){if(a==="x-goog-api-key")throw new S0(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new S0(`Header name ${a} can only be set using the apiClient field`);r.append(a,s)}}return r}async function U1e(e,t,r,n,a,s){const i=new R1e(e,t,r,n,s);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},z1e(s)),{method:"POST",headers:await M1e(i),body:a})}}async function _w(e,t,r,n,a,s={},i=fetch){const{url:o,fetchOptions:l}=await U1e(e,t,r,n,a,s);return Q1e(o,l,i)}async function Q1e(e,t,r=fetch){let n;try{n=await r(e,t)}catch(a){H1e(a,e)}return n.ok||await V1e(n,e),n}function H1e(e,t){let r=e;throw r.name==="AbortError"?(r=new eJ(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof ZY||e instanceof S0||(r=new Ho(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function V1e(e,t){let r="",n;try{const a=await e.json();r=a.error.message,a.error.details&&(r+=` ${JSON.stringify(a.error.details)}`,n=a.error.details)}catch{}throw new ZY(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function z1e(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),UC(e.candidates[0]))throw new Ig(`${r0(e)}`,e);return $1e(e)}else if(e.promptFeedback)throw new Ig(`Text not available. ${r0(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),UC(e.candidates[0]))throw new Ig(`${r0(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),M7(e)[0]}else if(e.promptFeedback)throw new Ig(`Function call not available. ${r0(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),UC(e.candidates[0]))throw new Ig(`${r0(e)}`,e);return M7(e)}else if(e.promptFeedback)throw new Ig(`Function call not available. ${r0(e)}`,e)},e}function $1e(e){var t,r,n,a;const s=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.text&&s.push(i.text),i.executableCode&&s.push("\n```"+i.executableCode.language+`
`+i.executableCode.code+"\n```\n"),i.codeExecutionResult&&s.push("\n```\n"+i.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function M7(e){var t,r,n,a;const s=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.functionCall&&s.push(i.functionCall);if(s.length>0)return s}const K1e=[$b.RECITATION,$b.SAFETY,$b.LANGUAGE];function UC(e){return!!e.finishReason&&K1e.includes(e.finishReason)}function r0(e){var t,r,n;let a="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)a+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const s=e.candidates[0];UC(s)&&(a+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(a+=`: ${s.finishMessage}`))}return a}function wy(e){return this instanceof wy?(this.v=e,this):new wy(e)}function G1e(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(h){n[h]&&(a[h]=function(p){return new Promise(function(v,g){s.push([h,p,v,g])>1||o(h,p)})})}function o(h,p){try{l(n[h](p))}catch(v){f(s[0][3],v)}}function l(h){h.value instanceof wy?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){o("next",h)}function d(h){o("throw",h)}function f(h,p){h(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function q1e(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=Y1e(t),[n,a]=r.tee();return{stream:X1e(n),response:W1e(a)}}async function W1e(e){const t=[],r=e.getReader();for(;;){const{done:n,value:a}=await r.read();if(n)return LO(J1e(t));t.push(a)}}function X1e(e){return G1e(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:a}=yield wy(r.read());if(a)break;yield yield wy(LO(n))}})}function Y1e(e){const t=e.getReader();return new ReadableStream({start(n){let a="";return s();function s(){return t.read().then(({value:i,done:o})=>{if(o){if(a.trim()){n.error(new Ho("Failed to parse stream"));return}n.close();return}a+=i;let l=a.match(U7),u;for(;l;){try{u=JSON.parse(l[1])}catch{n.error(new Ho(`Error parsing JSON response: "${l[1]}"`));return}n.enqueue(u),a=a.substring(l[0].length),l=a.match(U7)}return s()}).catch(i=>{let o=i;throw o.stack=i.stack,o.name==="AbortError"?o=new eJ("Request aborted when reading from the stream"):o=new Ho("Error reading from the stream"),o})}}})}function J1e(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let a=0;for(const s of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[a]||(r.candidates[a]={index:a}),r.candidates[a].citationMetadata=s.citationMetadata,r.candidates[a].groundingMetadata=s.groundingMetadata,r.candidates[a].finishReason=s.finishReason,r.candidates[a].finishMessage=s.finishMessage,r.candidates[a].safetyRatings=s.safetyRatings,s.content&&s.content.parts){r.candidates[a].content||(r.candidates[a].content={role:s.content.role||"user",parts:[]});const i={};for(const o of s.content.parts)o.text&&(i.text=o.text),o.functionCall&&(i.functionCall=o.functionCall),o.executableCode&&(i.executableCode=o.executableCode),o.codeExecutionResult&&(i.codeExecutionResult=o.codeExecutionResult),Object.keys(i).length===0&&(i.text=""),r.candidates[a].content.parts.push(i)}a++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tJ(e,t,r,n){const a=await _w(t,Sp.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return q1e(a)}async function rJ(e,t,r,n){const s=await(await _w(t,Sp.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:LO(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Ey(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return Z1e(t)}function Z1e(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,a=!1;for(const s of e)"functionResponse"in s?(r.parts.push(s),a=!0):(t.parts.push(s),n=!0);if(n&&a)throw new Ho("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!a)throw new Ho("No content is provided for sending chat message.");return n?t:r}function ebe(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const a=e.generateContentRequest!=null;if(e.contents){if(a)throw new S0("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(a)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const s=Ey(e);n.contents=[s]}return{generateContentRequest:n}}function Q7(e){let t;return e.contents?t=e:t={contents:[Ey(e)]},e.systemInstruction&&(t.systemInstruction=nJ(e.systemInstruction)),t}function tbe(e){return typeof e=="string"||Array.isArray(e)?{content:Ey(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],rbe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function nbe(e){let t=!1;for(const r of e){const{role:n,parts:a}=r;if(!t&&n!=="user")throw new Ho(`First content should be with role 'user', got ${n}`);if(!I7.includes(n))throw new Ho(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(I7)}`);if(!Array.isArray(a))throw new Ho("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Ho("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of a)for(const l of H7)l in o&&(s[l]+=1);const i=rbe[n];for(const o of H7)if(!i.includes(o)&&s[o]>0)throw new Ho(`Content with role '${n}' can't contain '${o}' part`);t=!0}}function V7(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="SILENT_ERROR";class abe{constructor(t,r,n,a={}){this.model=r,this.params=n,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(nbe(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,a,s,i,o,l;await this._sendPromise;const u=Ey(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),r);let h;return this._sendPromise=this._sendPromise.then(()=>rJ(this._apiKey,this.model,d,f)).then(p=>{var v;if(V7(p.response)){this._history.push(u);const g=Object.assign({parts:[],role:"model"},(v=p.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(g)}else{const g=r0(p.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}h=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,h}async sendMessageStream(t,r={}){var n,a,s,i,o,l;await this._sendPromise;const u=Ey(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),r),h=tJ(this._apiKey,this.model,d,f);return this._sendPromise=this._sendPromise.then(()=>h).catch(p=>{throw new Error(z7)}).then(p=>p.response).then(p=>{if(V7(p)){this._history.push(u);const v=Object.assign({},p.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=r0(p);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(p=>{p.message!==z7&&console.error(p)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sbe(e,t,r,n){return(await _w(t,Sp.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ibe(e,t,r,n){return(await _w(t,Sp.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function obe(e,t,r,n){const a=r.requests.map(i=>Object.assign(Object.assign({},i),{model:t}));return(await _w(t,Sp.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=nJ(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const a=Q7(t),s=Object.assign(Object.assign({},this._requestOptions),r);return rJ(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),s)}async generateContentStream(t,r={}){var n;const a=Q7(t),s=Object.assign(Object.assign({},this._requestOptions),r);return tJ(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),s)}startChat(t){var r;return new abe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=ebe(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),r);return sbe(this.apiKey,this.model,n,a)}async embedContent(t,r={}){const n=tbe(t),a=Object.assign(Object.assign({},this._requestOptions),r);return ibe(this.apiKey,this.model,n,a)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return obe(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new Ho("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new $7(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new S0("Cached content must contain a `name` field.");if(!t.model)throw new S0("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const i of a)if(r!=null&&r[i]&&t[i]&&(r==null?void 0:r[i])!==t[i]){if(i==="model"){const o=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===l)continue}throw new S0(`Different value for "${i}" specified in modelParams (${r[i]}) and cachedContent (${t[i]})`)}const s=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new $7(this.apiKey,s,n)}}const MO="horario_asignaciones",aJ="horarios_generados",lbe="usuarios",sJ=e=>{const t=e.data();return{id:e.id,...t}},cbe=e=>{const t=Zt(Rt(jt,MO));return wr(t,n=>{const a=n.docs.map(s=>sJ(s));e(a)},n=>{console.error("Error al suscribirse a las asignaciones:",n),e([])})},ube=async e=>{try{return(await qn(Rt(jt,MO),e)).id}catch(t){throw console.error("Error al agregar asignacin:",t),new Error("No se pudo agregar la asignacin.")}},dbe=async e=>{try{const t=vr(jt,MO,e);await $s(t)}catch(t){throw console.error("Error al eliminar asignacin:",t),new Error("No se pudo eliminar la asignacin.")}},K7=async e=>{try{const t=vr(jt,aJ,"global");await fo(t,{data:e})}catch(t){throw console.error("Error al guardar los horarios:",t),new Error("No se pudieron guardar los horarios generados.")}},Abe=e=>{const t=vr(jt,aJ,"global");return wr(t,n=>{n.exists()?e(n.data().data||{}):e({})},n=>{console.error("Error al suscribirse a los horarios:",n),e({})})},fbe=e=>{const t=Zt(Rt(jt,lbe),Fn("profile","==",Xt.PROFESORADO));return wr(t,n=>{const a=n.docs.map(s=>sJ(s));e(a)},n=>{console.error("Error al suscribirse a los profesores:",n),e([])})},hbe=({horarios:e})=>Object.keys(e).length===0?c.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-800 rounded-lg",children:c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:'An no se ha generado ningn horario. Utilice la pestaa de "Configuracin" para generar uno.'})}):c.jsx("div",{className:"overflow-x-auto border border-slate-300 dark:border-slate-700 rounded-lg",children:c.jsxs("table",{className:"min-w-full border-collapse",children:[c.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 sticky top-0 z-10",children:c.jsxs("tr",{children:[c.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-16",children:"BLOQUE"}),c.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-24",children:"HORARIO"}),Za.map(t=>c.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs whitespace-nowrap min-w-[120px]",children:t},t))]})}),c.jsx("tbody",{children:MC.map(t=>c.jsxs(ut.Fragment,{children:[c.jsx("tr",{className:"bg-slate-200 dark:bg-slate-800",children:c.jsx("th",{colSpan:2+Za.length,className:"text-center font-bold text-slate-700 dark:text-slate-200 p-2 border-b border-slate-300 dark:border-slate-600",children:t.toUpperCase()})}),nj.map(({bloque:r,inicio:n,fin:a})=>c.jsxs("tr",{className:"even:bg-white odd:bg-slate-50 dark:even:bg-slate-800/50 dark:odd:bg-slate-900/50",children:[c.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center font-bold text-slate-700 dark:text-slate-300 text-sm",children:r}),c.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center text-xs text-slate-500 dark:text-slate-400",children:`${n} - ${a}`}),Za.map(s=>{var o,l;const i=(l=(o=e[s])==null?void 0:o[t])==null?void 0:l[r];return c.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center h-16",children:i!=null&&i.asignatura?c.jsxs("div",{className:"flex flex-col justify-center h-full",children:[c.jsx("p",{className:"font-semibold text-[11px] leading-tight text-slate-800 dark:text-slate-200 whitespace-normal",children:i.asignatura}),c.jsxs("p",{className:"text-[10px] leading-tight text-slate-500 dark:text-slate-400 whitespace-normal mt-0.5",children:["(",i.profesor,")"]})]}):c.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-xs",children:"Libre"})},`${s}-${t}-${r}`)})]},`${t}-${r}`))]},t))})]})}),mbe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState({curso:"",asignatura:"",profesor:""}),[a,s]=I.useState([]),[i,o]=I.useState({}),[l,u]=I.useState(Za[0]),[d,f]=I.useState(!1),[h,p]=I.useState(!0),[v,g]=I.useState(null),[b,y]=I.useState(null),[_,S]=I.useState(null),[B,k]=I.useState({asignatura:"",profesor:""}),[O,w]=I.useState("edicion"),[C,N]=I.useState("");I.useEffect(()=>{p(!0);const H=cbe(t),V=Abe(o),G=fbe(ne=>{const R=ne.map(W=>W.nombreCompleto).sort();s(R),p(!1)});return()=>{H(),V(),G()}},[]);const P=async H=>{if(H.preventDefault(),g(null),!r.curso||!r.asignatura||!r.profesor){g("Todos los campos de la asignacin son obligatorios.");return}try{await ube({curso:r.curso,asignatura:r.asignatura,profesor:r.profesor}),n({curso:"",asignatura:"",profesor:""})}catch(V){g(V instanceof Error?V.message:"Error al guardar la asignacin.")}},j=async H=>{try{await dbe(H)}catch(V){g(V instanceof Error?V.message:"Error al eliminar la asignacin.")}},F=async()=>{if(e.length===0){g("Debe agregar al menos una asignacin de profesor antes de generar el horario.");return}f(!0),g(null),y(null);try{const H="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",V=new Cs(H),G=`
                Eres un asistente experto en planificacin de horarios escolares para un liceo tcnico en Chile. 
                Tu tarea es generar un horario semanal completo (Lunes a Viernes) para todos los cursos proporcionados, siguiendo un conjunto estricto de reglas.

                **Contexto:**
                - Das de la semana: ${MC.join(", ")}
                - Bloques horarios por da: 10 bloques con los siguientes horarios: ${JSON.stringify(nj,null,2)}
                - Cursos del liceo: ${Za.join(", ")}

                **Contexto Adicional de Especialidades (3 y 4 Medio):**
                - Los cursos que terminan en 'A' y 'B' pertenecen a la especialidad 'Mecnica Automotriz'.
                - Los cursos que terminan en 'C' y 'D' pertenecen a la especialidad 'Mecnica Industrial'.
                Utiliza este contexto para aplicar las reglas de "3/4 Medio Automotriz" y "3/4 Medio Industrial" correctamente.

                **Reglas de Asignacin de Bloques por Asignatura:**
                Debes asignar la siguiente cantidad de bloques semanales para cada asignatura segn el nivel del curso:
                ${JSON.stringify(Hve,null,2)}
                Notas sobre las reglas:
                - '1 y 2 medio' aplica a cursos que empiezan con '1' o '2'.
                - '3 y 4 medio' aplica a cursos que empiezan con '3' o '4'.
                - Algunas reglas aplican a cursos especficos (ej. Mecnica).

                **Asignaciones de Profesores (Input):**
                Aqu est la lista de profesores asignados a cada curso y asignatura. Debes usar esta lista para poblar el horario.
                ${JSON.stringify(e,null,2)}

                **REGLA CRTICA INVIOLABLE:**
                La restriccin ms importante que NUNCA debe romperse es que un mismo profesor no puede ser asignado a dos cursos diferentes en el mismo da y mismo bloque horario. Es fsicamente imposible para un profesor estar en dos lugares a la vez. Prioriza esta regla sobre todas las dems. No deben existir topes de horario para ningn profesor.

                **Instrucciones Adicionales del Usuario:**
                Considera las siguientes preferencias al organizar el horario: "${C||"No se proporcionaron instrucciones adicionales."}"

                **Objetivo Adicional:**
                Distribuye las asignaturas de la forma ms balanceada posible durante la semana para cada curso. Evita agrupar todas las horas de una misma materia en un solo da si es posible, a menos que las instrucciones del usuario indiquen lo contrario.

                **Formato de Salida (Output):**
                Tu respuesta DEBE ser un nico objeto JSON vlido, sin texto adicional, explicaciones, ni el bloque \`\`\`json. La estructura del JSON debe ser la siguiente:
                {
                  "1A": {
                    "Lunes": { "1": { "asignatura": "Matemtica", "profesor": "Nombre Profesor" }, "2": { "asignatura": "Matemtica", "profesor": "Nombre Profesor" } },
                    "Martes": { ... },
                    ...
                  },
                  "1B": { ... }
                }
                Cada clave de primer nivel es un curso. Cada curso tiene claves para cada da de la semana. Cada da tiene claves para cada bloque del 1 al 10. Si un bloque est vaco, usa \`{ "asignatura": null, "profesor": null }\`.
            `,te=(await(await V.getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(G)).response).text().replace(/^```json\s*|```\s*$/g,""),ie=JSON.parse(te);await K7(ie),y("Horario generado y guardado con xito!")}catch(H){console.error("Error al generar horario con IA:",H),g("Ocurri un error al contactar con la IA o al procesar la respuesta. Revisa la consola para ms detalles.")}finally{f(!1)}},M=(H,V,G)=>{S({dia:H,bloque:V}),k({asignatura:(G==null?void 0:G.asignatura)||"",profesor:(G==null?void 0:G.profesor)||""})},Q=async()=>{if(!_)return;const{dia:H,bloque:V}=_,G=JSON.parse(JSON.stringify(i));G[l]||(G[l]={}),G[l][H]||(G[l][H]={}),G[l][H][V]={asignatura:B.asignatura||null,profesor:B.profesor||null};try{await K7(G),S(null)}catch(ne){g(ne instanceof Error?ne.message:"Error al guardar la edicin.")}},J="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",q=()=>{const H=i[l]||{};return c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border-collapse border border-slate-300 dark:border-slate-700",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-700",children:[c.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:"Bloque"}),MC.map(V=>c.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:V},V))]})}),c.jsx("tbody",{children:nj.map(({bloque:V,inicio:G,fin:ne})=>c.jsxs("tr",{className:"text-center dark:bg-slate-800",children:[c.jsxs("td",{className:"border border-slate-300 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:V}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:`${G} - ${ne}`})]}),MC.map(R=>{var te;const W=(_==null?void 0:_.dia)===R&&(_==null?void 0:_.bloque)===V,Y=(te=H[R])==null?void 0:te[V];return c.jsx("td",{className:"border border-slate-300 dark:border-slate-700 p-1 h-24 relative hover:bg-amber-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>!W&&M(R,V,Y),children:W?c.jsxs("div",{className:"flex flex-col p-1 bg-white dark:bg-slate-800 h-full justify-center",children:[c.jsx("input",{type:"text",placeholder:"Asignatura",value:B.asignatura,onChange:ie=>k(me=>({...me,asignatura:ie.target.value})),className:J+" text-xs mb-1"}),c.jsx("input",{type:"text",placeholder:"Profesor",value:B.profesor,onChange:ie=>k(me=>({...me,profesor:ie.target.value})),className:J+" text-xs"}),c.jsxs("div",{className:"flex justify-end mt-1 space-x-1",children:[c.jsx("button",{onClick:()=>S(null),className:"text-xs bg-slate-200 dark:bg-slate-600 px-1 rounded",children:"Cancelar"}),c.jsx("button",{onClick:Q,className:"text-xs bg-amber-500 text-white px-1 rounded",children:"Guardar"})]})]}):Y!=null&&Y.asignatura?c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-sm text-slate-800 dark:text-slate-200",children:Y.asignatura}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",Y.profesor,")"]})]}):c.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"Libre"})},`${R}-${V}`)})]},V))})]})})},Z=()=>c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Crear Horarios"}),c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:" 1. Configuracin de Asignaciones"}),c.jsxs("form",{onSubmit:P,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{name:"curso",value:r.curso,onChange:H=>n(V=>({...V,curso:H.target.value})),className:J,children:[c.jsx("option",{value:"",children:"Seleccione"}),Za.map(H=>c.jsx("option",{value:H,children:H},H))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{name:"asignatura",value:r.asignatura,onChange:H=>n(V=>({...V,asignatura:H.target.value})),className:J,children:[c.jsx("option",{value:"",children:"Seleccione"}),Hi.map(H=>c.jsx("option",{value:H,children:H},H))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"profesor",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor"}),c.jsxs("select",{name:"profesor",value:r.profesor,onChange:H=>n(V=>({...V,profesor:H.target.value})),className:J,children:[c.jsx("option",{value:"",children:"Seleccione"}),a.map(H=>c.jsx("option",{value:H,children:H},H))]})]}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600 h-10",children:"Agregar"})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto pr-2",children:c.jsx("ul",{className:"space-y-2",children:e.map(H=>c.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded-md",children:[c.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[H.curso," - ",H.asignatura," - ",c.jsx("strong",{children:H.profesor})]}),c.jsx("button",{onClick:()=>j(H.id),className:"text-red-500 hover:text-red-700 font-bold text-xl",children:""})]},H.id))})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:" 2. Generacin Automtica con IA"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"aiInstructions",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Instrucciones para la IA (Opcional)"}),c.jsx("textarea",{id:"aiInstructions",name:"aiInstructions",value:C,onChange:H=>N(H.target.value),rows:3,placeholder:"Ej: Dejar los mdulos tericos en la maana y los prcticos en la tarde. Evitar poner 2 bloques de matemtica seguidos.",className:J})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:F,disabled:d,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center",children:[d&&c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d?"Generando...":"Generar Horario Completo"]}),v&&c.jsx("p",{className:"text-red-600",children:v}),b&&c.jsx("p",{className:"text-green-600",children:b})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:" 3. Visualizacin y Edicin por Curso"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"selectCurso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Seleccione un curso para visualizar y editar:"}),c.jsx("select",{id:"selectCurso",value:l,onChange:H=>u(H.target.value),className:J+" md:w-1/3",children:Za.map(H=>c.jsx("option",{value:H,children:H},H))})]}),Object.keys(i).length>0?q():c.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"An no se ha generado ningn horario. Utilice el botn de generacin con IA."})})]})]});return h?c.jsx("div",{className:"text-center py-10",children:"Cargando datos..."}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>w("edicion"),className:`${O==="edicion"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Configuracin y Edicin por Curso"}),c.jsx("button",{onClick:()=>w("global"),className:`${O==="global"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Horario Global"})]})}),O==="edicion"?Z():c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Horario Global de Cursos"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Vista consolidada de todos los horarios generados. La tabla es desplazable horizontalmente."}),c.jsx(hbe,{horarios:i})]})]})},Y5="acciones",pbe=async()=>{try{const e=Zt(Rt(jr,Y5),Gr("fechaRegistro","desc"));return(await Hs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener acciones:",e),new Error("No se pudieron cargar las acciones pedaggicas")}},gbe=async e=>{try{return{id:(await qn(Rt(jr,Y5),{...e,fechaRegistro:e.fechaRegistro||new Date().toISOString().split("T")[0],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear accin:",t),new Error("No se pudo crear la accin pedaggica")}},G7=async(e,t)=>{try{const r=vr(jr,Y5,e);await zp(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar accin:",r,"ID:",e),new Error("No se pudo actualizar la accin pedaggica")}},vbe=async e=>{try{const t=vr(jr,Y5,e);await $s(t)}catch(t){throw console.error("Error al eliminar accin:",t,"ID:",e),new Error("No se pudo eliminar la accin pedaggica")}},q7={fechaRegistro:new Date().toISOString().split("T")[0],responsable:"",area:"",descripcion:"",fechaCumplimiento:"",estado:"Pendiente",enlaceDocumento:""},xbe={Pendiente:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En Proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Cumplida:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300"},bbe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!1),[a,s]=I.useState(null),[i,o]=I.useState(q7),[l,u]=I.useState(null),[d,f]=I.useState(""),[h,p]=I.useState(""),[v,g]=I.useState(""),b=I.useCallback(async()=>{n(!0);try{const N=await pbe();t(N),s(null)}catch(N){console.error("Error al cargar acciones:",N),s("No se pudieron cargar las acciones pedaggicas.")}finally{n(!1)}},[]);I.useEffect(()=>{b()},[b]);const y=I.useCallback(N=>{const{name:P,value:j}=N.target;o(F=>({...F,[P]:j}))},[]),_=I.useCallback(()=>{o(q7),u(null),s(null)},[]),S=I.useCallback(async N=>{if(N.preventDefault(),!i.responsable||!i.area||!i.descripcion||!i.fechaCumplimiento){s("Los campos responsables, rea, descripcin y fecha de cumplimiento son obligatorios.");return}try{l?await G7(l,i):await gbe(i),await b(),_()}catch(P){console.error("Error al guardar accin:",P),s("Error al guardar la accin.")}},[i,l,b,_]),B=I.useCallback(N=>{window.scrollTo({top:0,behavior:"smooth"}),u(N.id),o({...N,enlaceDocumento:N.enlaceDocumento||""})},[]),k=I.useCallback(async N=>{if(window.confirm("Est seguro de que desea eliminar esta accin?"))try{await vbe(N),await b()}catch(P){console.error("Error al eliminar accin:",P),s("No se pudo eliminar la accin.")}},[b]),O=I.useCallback(async N=>{try{const P=e.find(j=>j.id===N);if(P){const F=(uE.indexOf(P.estado)+1)%uE.length,M=uE[F];await G7(N,{estado:M}),await b()}}catch(P){console.error("Error al cambiar estado:",P),s("No se pudo cambiar el estado de la accin.")}},[e,b]),w=I.useMemo(()=>e.filter(N=>{const P=d===""||N.responsable.toLowerCase().includes(d.toLowerCase())||N.descripcion.toLowerCase().includes(d.toLowerCase()),j=h===""||N.area===h,F=v===""||N.estado===v;return P&&j&&F}),[e,d,h,v]),C="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seguimiento de Acciones Pedaggicas"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:l?"Editando accin existente.":"Registre una nueva accin de seguimiento."}),a&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:a}),c.jsxs("form",{onSubmit:S,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fechaRegistro",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Registro"}),c.jsx("input",{type:"date",name:"fechaRegistro",value:i.fechaRegistro,onChange:y,className:C})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsable"}),c.jsx("input",{type:"text",name:"responsable",value:i.responsable,onChange:y,placeholder:"Nombre del responsable",className:C})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"area",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"rea Vinculada"}),c.jsxs("select",{name:"area",value:i.area,onChange:y,className:C,children:[c.jsx("option",{value:"",children:"Seleccione un rea"}),v7.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Descripcin de la Accin"}),c.jsx("textarea",{name:"descripcion",value:i.descripcion,onChange:y,rows:3,placeholder:"Detalle de la accin a realizar...",className:C})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fechaCumplimiento",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Cumplimiento"}),c.jsx("input",{type:"date",name:"fechaCumplimiento",value:i.fechaCumplimiento,onChange:y,className:C})]}),c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx("label",{htmlFor:"enlaceDocumento",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace a Documento (Opcional)"}),c.jsx("input",{type:"url",name:"enlaceDocumento",value:i.enlaceDocumento||"",onChange:y,placeholder:"https://ejemplo.com/documento",className:C})]})]}),c.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4",children:[l&&c.jsx("button",{type:"button",onClick:_,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:l?"Actualizar Accin":"Registrar Accin"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Tabla de Seguimiento"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsx("input",{type:"text",placeholder:"Buscar por responsable o palabra clave...",value:d,onChange:N=>f(N.target.value),className:C+" md:col-span-1"}),c.jsxs("select",{value:h,onChange:N=>p(N.target.value),className:C,children:[c.jsx("option",{value:"",children:"Filtrar por rea"}),v7.map(N=>c.jsx("option",{value:N,children:N},N))]}),c.jsxs("select",{value:v,onChange:N=>g(N.target.value),className:C,children:[c.jsx("option",{value:"",children:"Filtrar por Estado"}),uE.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Responsable"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Descripcin"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fechas"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r?c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-10",children:"Cargando..."})}):w.length>0?w.map(N=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:N.responsable}),c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:N.area})]}),c.jsx("td",{className:"px-4 py-4 text-sm text-slate-600 dark:text-slate-300 max-w-sm whitespace-normal",children:N.descripcion}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:[c.jsxs("div",{children:["Reg: ",N.fechaRegistro]}),c.jsxs("div",{className:"font-semibold",children:["Comp: ",N.fechaCumplimiento]})]}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm",children:c.jsx("button",{onClick:()=>O(N.id),className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${xbe[N.estado]}`,children:N.estado})}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[N.enlaceDocumento&&c.jsx("a",{href:N.enlaceDocumento,target:"_blank",rel:"noopener noreferrer",title:"Ver Documento",className:"text-indigo-600 hover:text-indigo-800 p-1 rounded-full hover:bg-indigo-100 dark:hover:bg-indigo-900/40 inline-block align-middle",children:""}),c.jsx("button",{onClick:()=>B(N),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:""}),c.jsx("button",{onClick:()=>k(N.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]},N.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-10 text-slate-500",children:"No se encontraron acciones."})})})]})})]})]})},J5="planificaciones",iJ="actividades_calendario",oJ=e=>{var r,n,a;const t=e.data();return{id:e.id,...t,fechaCreacion:((a=(n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r))==null?void 0:a.toISOString())||t.fechaCreacion}},ybe=async(e,t)=>{try{const r={...e,userId:t,fechaCreacion:mr.fromDate(new Date),fechaActualizacion:mr.fromDate(new Date)};return(await qn(Rt(jt,J5),r)).id}catch(r){throw console.error("Error al guardar planificacin:",r),new Error("No se pudo guardar la planificacin")}},wbe=async(e,t,r)=>{try{const n=vr(jt,J5,e),a=await bw(n);if(!a.exists()||a.data().userId!==r)throw new Error("No tienes permisos para actualizar esta planificacin");await zp(n,{...t,fechaActualizacion:mr.fromDate(new Date)})}catch(n){throw console.error("Error al actualizar planificacin:",n),new Error("No se pudo actualizar la planificacin")}},Ebe=async(e,t)=>{try{const r=vr(jt,J5,e),n=await bw(r);if(!n.exists()||n.data().userId!==t)throw new Error("No tienes permisos para eliminar esta planificacin");await $s(r)}catch(r){throw console.error("Error al eliminar planificacin:",r),new Error("No se pudo eliminar la planificacin")}},Cbe=(e,t)=>{const r=Zt(Rt(jt,J5),Fn("userId","==",e),Gr("fechaCreacion","desc"));return wr(r,n=>{const a=n.docs.map(oJ);t(a)},n=>{console.error("Error en suscripcin a planificaciones:",n)})},_be=async(e,t)=>{try{const r={...e,userId:t,fechaCreacion:mr.fromDate(new Date),fechaActualizacion:mr.fromDate(new Date)};return(await qn(Rt(jt,iJ),r)).id}catch(r){throw console.error("Error al guardar actividad:",r),new Error("No se pudo guardar la actividad")}},Sbe=(e,t)=>{const r=Zt(Rt(jt,iJ),Fn("userId","==",e),Gr("fecha","desc"));return wr(r,n=>{const a=n.docs.map(oJ);t(a)},n=>{console.error("Error en suscripcin a actividades:",n)})},Nbe=e=>{const[t,r]=I.useState([]),[n,a]=I.useState(!0),[s,i]=I.useState(null);return I.useEffect(()=>e?(a(!0),Cbe(e,f=>{r(f),a(!1)})):void 0,[e]),{planificaciones:t,loading:n,error:s,save:async d=>{try{return i(null),await ybe(d,e)}catch(f){throw i(f.message||"Error al guardar planificacin"),f}},update:async(d,f)=>{try{i(null),await wbe(d,f,e)}catch(h){throw i(h.message||"Error al actualizar planificacin"),h}},remove:async d=>{try{i(null),await Ebe(d,e)}catch(f){throw i(f.message||"Error al eliminar planificacin"),f}}}},ij=e=>{const t=new Date().toISOString();console.log(`[${t}] API Call: ${e}`)},kbe=e=>{const[t,r]=I.useState([]),[n,a]=I.useState(!0),[s,i]=I.useState(null);I.useEffect(()=>e?Sbe(e,u=>{r(u),a(!1)}):void 0,[e]);const o=I.useCallback(async l=>{try{return i(null),await _be(l,e)}catch(u){throw i(u instanceof Error?u.message:"Error al guardar actividad"),u}},[e]);return{actividades:t,loading:n,error:s,save:o}},Bbe=({lesson:e,onClose:t,onSave:r,isLoading:n=!1})=>{const[a,s]=I.useState(e),i=l=>{s({...a,[l.target.name]:l.target.value})},o=async()=>{try{await r(a),t()}catch(l){console.error("Error al guardar leccin:",l)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:l=>l.stopPropagation(),children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 p-6 border-b dark:border-slate-700",children:"Editar Detalle de Leccin"}),c.jsx("div",{className:"p-6 space-y-4 overflow-y-auto",children:Object.entries(a).map(([l,u])=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 capitalize mb-1",children:l.replace(/([A-Z])/g," $1")}),c.jsx("textarea",{name:l,value:u,onChange:i,rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",disabled:n})]},l))}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[c.jsx("button",{onClick:t,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 disabled:opacity-50",disabled:n,children:"Cancelar"}),c.jsxs("button",{onClick:o,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 disabled:opacity-50 flex items-center gap-2",disabled:n,children:[n&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardar Cambios"]})]})]})})},Tbe=({plan:e,onEditLesson:t,onUseLesson:r,isLoading:n=!1,onUpdatePlan:a})=>{const[s,i]=I.useState(e.progreso??0),[o,l]=I.useState(!1),u=async d=>{const f=parseInt(d.target.value,10);i(f),l(!0);try{e.id&&a&&(await a(e.id,{progreso:f}),console.log(" Progreso actualizado exitosamente"))}catch(h){console.error(" Error completo:",h),alert(`Error al guardar el avance: ${h.message}`),i(e.progreso??0)}finally{l(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",e.objetivosAprendizaje]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Indicadores de Evaluacin:"})," ",e.indicadoresEvaluacion]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Avance de la Unidad"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"range",min:0,max:100,value:s,onChange:u,disabled:o||n}),c.jsxs("span",{className:"font-bold w-12",children:[s,"%"]}),o&&c.jsx("span",{className:"text-xs text-slate-400",children:"Guardando..."})]})]})]}),c.jsx("div",{className:"space-y-4",children:e.detallesLeccion.map((d,f)=>c.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[c.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:["Clase ",f+1,": ",d.actividades]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 mt-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Objetivo:"})," ",d.objetivosAprendizaje]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Contenidos:"})," ",d.contenidosConceptuales]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Habilidad (Bloom):"})," ",d.habilidadesBloom]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Perfil de Egreso:"})," ",d.perfilEgreso]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Interdisciplinariedad:"})," ",d.asignaturasInterdisciplinariedad]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsx("button",{onClick:()=>t(f,d),className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md hover:bg-slate-300 disabled:opacity-50",disabled:n,children:"Editar"}),c.jsx("button",{onClick:()=>r(d,e),className:"text-sm font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 py-1 px-3 rounded-md hover:bg-blue-200 disabled:opacity-50",disabled:n,children:"Usar para Plan de Clase"})]})]},f))})]})},Ibe=({plan:e,onBack:t,onSave:r,onDelete:n,isLoading:a=!1})=>{const[s,i]=I.useState(e),[o,l]=I.useState(!1),u=f=>{const{name:h,value:p}=f.target,[v,g]=h.split(".");i(v==="momentosClase"?b=>({...b,momentosClase:{...b.momentosClase,[g]:p}}):b=>({...b,[h]:p}))},d=async()=>{l(!0);try{await r(s)}catch(f){console.error("Error al guardar plan de clase:",f)}finally{l(!1)}};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:e.nombreClase}),c.jsx("button",{onClick:t,className:"text-slate-600 hover:text-slate-900 font-semibold disabled:opacity-50",disabled:a||o,children:" Volver"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Inicio"}),c.jsx("textarea",{name:"momentosClase.inicio",value:s.momentosClase.inicio,onChange:u,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700",disabled:a||o})]}),c.jsxs("div",{children:[c.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Desarrollo"}),c.jsx("textarea",{name:"momentosClase.desarrollo",value:s.momentosClase.desarrollo,onChange:u,rows:8,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700",disabled:a||o})]}),c.jsxs("div",{children:[c.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Cierre"}),c.jsx("textarea",{name:"momentosClase.cierre",value:s.momentosClase.cierre,onChange:u,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700",disabled:a||o})]})]}),c.jsx("div",{className:"text-right mt-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{onClick:()=>n(e.id),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",disabled:a||o,children:" Eliminar Plan"}),c.jsxs("button",{onClick:d,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:opacity-50 flex items-center gap-2",disabled:a||o,children:[o&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardar Cambios"]})]})})]})},jbe=({userId:e})=>{const{actividades:t,save:r}=kbe(e),[n,a]=I.useState("list"),[s,i]=I.useState(null),[o,l]=I.useState(!1),[u,d]=I.useState(!1),f={nombre:"",fecha:"",hora:"",descripcion:"",ubicacion:"",participantes:"",recursosGenerales:"",tareas:[{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]},[h,p]=I.useState(f);I.useEffect(()=>{n==="summary"&&s&&v()},[n,s,e]);const v=async()=>{if(s)try{d(!1)}catch(O){console.error("Error al verificar evento en calendario:",O)}},g=O=>{const{name:w,value:C}=O.target;p(N=>({...N,[w]:C}))},b=(O,w,C)=>{p(N=>({...N,tareas:N.tareas.map(P=>P.id===O?{...P,[w]:C}:P)}))},y=()=>{p(O=>({...O,tareas:[...O.tareas,{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]}))},_=O=>{p(w=>({...w,tareas:w.tareas.filter(C=>C.id!==O)}))},S=async O=>{O.preventDefault(),l(!0);const w=`Basado en la siguiente informacin de una actividad, genera un objetivo claro y conciso para esta.
    - Nombre: ${h.nombre}
    - Descripcin: ${h.descripcion}
    - Tareas: ${h.tareas.map(C=>C.descripcion).join(", ")}
    El objetivo debe ser breve, empezar con un verbo en infinitivo y enfocarse en el propsito principal de la actividad.`;try{ij("Planificacin - Actividad Calendario");const C="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",M=(await(await new Cs(C).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(w)).response).text(),Q={...h,objetivo:M.replace(/(\*\*|\*)/g,"")},J=await r(Q),q={...Q,id:J};i(q),a("summary")}catch(C){console.error("Error al generar objetivo con IA:",C),alert("Hubo un error al generar el objetivo. La actividad se guardar sin l.");try{const N={...h,objetivo:"No generado"},P=await r(N),j={...N,id:P};i(j),a("summary")}catch(N){console.error("Error al guardar actividad:",N),alert("Error al guardar la actividad. Por favor, intente nuevamente.")}}finally{l(!1)}},B=async O=>{if(O)try{d(!0),alert("Actividad marcada como aadida al calendario (funcionalidad en desarrollo).")}catch(w){console.error("Error adding to calendar:",w),alert("Hubo un error al agregar la actividad al calendario.")}},k="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white";return n==="form"?c.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:c.jsxs("form",{onSubmit:S,className:"space-y-8",children:[c.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Informacin General"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{name:"nombre",value:h.nombre,onChange:g,placeholder:"Nombre de la Actividad",className:k,required:!0,disabled:o}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("input",{name:"fecha",type:"date",value:h.fecha,onChange:g,className:k,required:!0,disabled:o}),c.jsx("input",{name:"hora",type:"time",value:h.hora,onChange:g,className:k,required:!0,disabled:o})]}),c.jsx("textarea",{name:"descripcion",value:h.descripcion,onChange:g,placeholder:"Descripcin (objetivos, contenidos, metodologa)",rows:4,className:k,required:!0,disabled:o}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("input",{name:"ubicacion",value:h.ubicacion,onChange:g,placeholder:"Ubicacin",className:k,required:!0,disabled:o}),c.jsx("input",{name:"participantes",value:h.participantes,onChange:g,placeholder:"Participantes",className:k,required:!0,disabled:o})]}),c.jsx("textarea",{name:"recursosGenerales",value:h.recursosGenerales,onChange:g,placeholder:"Recursos Generales Necesarios",rows:2,className:k,disabled:o})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-bold",children:"Tareas Asociadas"}),c.jsx("button",{type:"button",onClick:y,className:"bg-slate-200 dark:bg-slate-600 text-sm font-semibold px-3 py-1 rounded-md disabled:opacity-50",disabled:o,children:"+ Agregar Tarea"})]}),c.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:h.tareas.map((O,w)=>c.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md relative",children:[c.jsx("button",{type:"button",onClick:()=>_(O.id),className:"absolute top-1 right-1 text-red-500 text-lg disabled:opacity-50",disabled:o,children:""}),c.jsx("textarea",{value:O.descripcion,onChange:C=>b(O.id,"descripcion",C.target.value),placeholder:`Descripcin de la Tarea ${w+1}`,rows:2,className:k,required:!0,disabled:o}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[c.jsx("input",{value:O.responsable,onChange:C=>b(O.id,"responsable",C.target.value),placeholder:"Responsable",className:k,required:!0,disabled:o}),c.jsx("input",{value:O.recursos,onChange:C=>b(O.id,"recursos",C.target.value),placeholder:"Recursos Necesarios",className:k,disabled:o})]})]},O.id))})]}),c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-center",children:[c.jsx("h3",{className:"font-bold",children:"Objetivo de la Actividad"}),c.jsx("p",{className:"text-sm",children:"Este objetivo se generar automticamente a partir de la descripcin y las tareas ingresadas. Una vez guardada la actividad, podr revisar y ajustar el objetivo propuesto por el sistema."})]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:()=>a("list"),className:"bg-slate-200 dark:bg-slate-600 font-semibold px-6 py-2 rounded-lg disabled:opacity-50",disabled:o,children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white font-bold px-6 py-2 rounded-lg flex items-center min-w-[150px] justify-center disabled:opacity-50",children:o?c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Guardar Actividad"})]})]})}):n==="summary"&&s?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg flex items-center gap-4",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-lg",children:"Actividad Planificada con xito!"}),c.jsx("p",{className:"text-sm",children:"La actividad ha sido creada. Revisa los detalles a continuacin."})]})]}),c.jsxs("div",{className:"border rounded-lg p-6 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"Resumen de la Actividad"}),c.jsxs("div",{className:"space-y-4 text-sm",children:[c.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[c.jsx("strong",{className:"text-slate-500",children:"Nombre:"}),c.jsx("span",{children:s.nombre})]}),c.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[c.jsx("strong",{className:"text-slate-500",children:"Fecha y Hora:"}),c.jsx("span",{children:new Date(`${s.fecha}T${s.hora}`).toLocaleString("es-CL")})]}),c.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[c.jsx("p",{className:"font-bold text-slate-500",children:"Descripcin:"}),c.jsx("p",{children:s.descripcion})]}),c.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[c.jsx("strong",{className:"text-slate-500",children:"Ubicacin:"}),c.jsx("span",{children:s.ubicacion})]}),c.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[c.jsx("strong",{className:"text-slate-500",children:"Participantes:"}),c.jsx("span",{children:s.participantes})]}),c.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[c.jsx("p",{className:"font-bold text-slate-500",children:"Recursos Necesarios:"}),c.jsx("p",{children:s.recursosGenerales})]}),c.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[c.jsx("p",{className:"font-bold text-slate-500",children:"Objetivo (Generado por IA):"}),c.jsx("p",{children:s.objetivo})]})]}),c.jsxs("div",{className:"mt-6 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[c.jsx("p",{className:"text-sm",children:"Quieres agregar esta actividad a tu calendario para recibir recordatorios?"}),c.jsx("button",{onClick:()=>B(s),disabled:u,className:`font-bold px-4 py-2 rounded-lg transition-colors ${u?"bg-green-600 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,children:u?" Aadido al Calendario":"Aadir al Calendario"})]})]}),c.jsx("button",{onClick:()=>{a("list"),i(null)},className:"w-full text-center font-semibold text-blue-600 hover:underline",children:"Volver al panel de actividades"})]}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Actividades del Calendario"}),c.jsx("button",{onClick:()=>{a("form"),p(f)},className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Planificar Actividad"})]}),c.jsx("div",{className:"space-y-3",children:t.length>0?t.map(O=>c.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700",children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:O.nombre}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[new Date(O.fecha+"T12:00:00").toLocaleDateString("es-CL")," - ",O.ubicacion]})]},O.id)):c.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades planificadas."})})]})},Fbe=({currentUser:e})=>{const t=e.uid||e.email||e.id||"",{planificaciones:r,save:n,update:a,remove:s,loading:i}=Nbe(t),o={asignatura:"",nivel:"",nombreUnidad:"",contenidos:"",cantidadClases:8,observaciones:"",ideasParaUnidad:""},[l,u]=I.useState(o),[d,f]=I.useState(null),[h,p]=I.useState(!1),[v,g]=I.useState(null),[b,y]=I.useState("unidad"),[_,S]=I.useState(null),[B,k]=I.useState(null),O=I.useMemo(()=>e.asignaturas||[],[e.asignaturas]),w=I.useMemo(()=>{const G=e.cursos||[],ne=new Set;return G.forEach(R=>{R.startsWith("1")?ne.add("1 Medio"):R.startsWith("2")?ne.add("2 Medio"):R.startsWith("3")?ne.add("3 Medio"):R.startsWith("4")&&ne.add("4 Medio")}),Array.from(ne)},[e.cursos]);I.useEffect(()=>{u(G=>({...G,asignatura:O[0]||"",nivel:w[0]||""})),console.log(" Debug datos usuario y planificaciones:",{currentUser:{uid:e.uid,email:e.email,id:e.id,nombreCompleto:e.nombreCompleto},userId:t,planificacionesCount:r.length,planificacionesAutores:r.map(G=>({id:G.id,autor:G.autor,tipo:G.tipo,coincideConUserId:G.autor===t}))})},[O,w,e,t,r]);const C=G=>{const{name:ne,value:R}=G.target;u(W=>({...W,[ne]:ne==="cantidadClases"?parseInt(R,10):R}))},N=()=>{const{asignatura:G,nivel:ne,nombreUnidad:R,contenidos:W,cantidadClases:Y,observaciones:te,ideasParaUnidad:ie}=l;return`Eres un experto diseador curricular para la educacin media tcnico profesional en Chile. Tu tarea es generar una planificacin de unidad didctica completa en formato JSON estructurado, basndote en la informacin proporcionada.

    **Informacin Base:**
    - Asignatura: ${G}
    - Nivel: ${ne}
    - Nombre de la Unidad: "${R}"
    - Contenidos clave a trabajar (insumo principal): "${W}"
    - Cantidad de clases para la unidad: ${Y}
    - Ideas y perspectiva del docente para la unidad: "${ie||"Ninguna. S creativo."}"
    - Observaciones y nfasis del docente: "${te||"Ninguna"}"

    Debes generar un objeto JSON que se ajuste al esquema proporcionado. El JSON debe contener:
    1.  **objetivosAprendizaje**: Un objetivo de aprendizaje general y conciso para la unidad.
    2.  **indicadoresEvaluacion**: Un indicador de evaluacin general y observable para la unidad.
    3.  **detallesLeccion**: Un array con EXACTAMENTE ${Y} objetos, donde cada objeto representa una clase o sub-tema de la unidad. Cada objeto en el array debe tener:
        - **objetivosAprendizaje**: Un objetivo de aprendizaje especfico para la leccin, redactado en infinitivo.
        - **contenidosConceptuales**: Los conceptos clave que se abordarn en la leccin.
        - **habilidadesBloom**: La habilidad principal de la Taxonoma de Bloom que se trabajar (ej: Analizar, Crear, Evaluar).
        - **perfilEgreso**: Conecta la leccin con una habilidad del perfil de egreso (ej: "Pensamiento crtico", "Colaboracin").
        - **actividades**: Sugiere 1 o 2 actividades concretas, indicando el nmero de clase entre parntesis (ej: "Debate grupal (Clase 1)").
        - **asignaturasInterdisciplinariedad**: Sugiere una asignatura con la que se podra realizar un trabajo interdisciplinario.

    Asegrate de que el contenido generado sea coherente, pedaggicamente slido y est directamente relacionado con los contenidos clave proporcionados por el docente. El nombre de la unidad debe ser exactamente el proporcionado.`},P=async G=>{if(G.preventDefault(),p(!0),g(null),!l.contenidos||!l.nombreUnidad){g("Los campos 'Nombre de Unidad' y 'Contenidos Clave' son obligatorios."),p(!1);return}try{ij("Planificacin - Unidad");const ne="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",W=new Cs(ne).getGenerativeModel({model:"gemini-1.5-flash-latest"}),Y=N(),te={type:"object",properties:{objetivosAprendizaje:{type:"string"},indicadoresEvaluacion:{type:"string"},detallesLeccion:{type:"array",items:{type:"object",properties:{objetivosAprendizaje:{type:"string"},contenidosConceptuales:{type:"string"},habilidadesBloom:{type:"string"},perfilEgreso:{type:"string"},actividades:{type:"string"},asignaturasInterdisciplinariedad:{type:"string"}},required:["objetivosAprendizaje","contenidosConceptuales","habilidadesBloom","perfilEgreso","actividades","asignaturasInterdisciplinariedad"]}}},required:["objetivosAprendizaje","indicadoresEvaluacion","detallesLeccion"]},oe=(await(await W.generateContent({contents:[{parts:[{text:Y}]}],generationConfig:{responseMimeType:"application/json",responseSchema:te}})).response).text(),ce=JSON.parse(oe),ge={fechaCreacion:new Date().toISOString(),autor:e.nombreCompleto,tipo:"Unidad",asignatura:l.asignatura,nivel:l.nivel,nombreUnidad:l.nombreUnidad,contenidos:l.contenidos,cantidadClases:l.cantidadClases,observaciones:l.observaciones,ideasParaUnidad:l.ideasParaUnidad,objetivosAprendizaje:ce.objetivosAprendizaje,indicadoresEvaluacion:ce.indicadoresEvaluacion,detallesLeccion:ce.detallesLeccion};if(d)await a(d.id,ge),f({...ge,id:d.id});else{const De=await n(ge);f({...ge,id:De})}}catch(ne){console.error("Error al generar planificacin con IA",ne),g("Ocurri un error al contactar con la IA. Verifique la configuracin y reintente.")}finally{p(!1)}},j=async(G,ne)=>{p(!0),g(null);const R=`A partir de la siguiente informacin de una clase dentro de una unidad, genera un plan de clase detallado con momentos de inicio, desarrollo y cierre. La clase debe durar 80 minutos.
    
    - Asignatura: ${ne.asignatura}
    - Nivel: ${ne.nivel}
    - Objetivo de la clase: ${G.objetivosAprendizaje}
    - Contenidos: ${G.contenidosConceptuales}
    - Actividades sugeridas: ${G.actividades}
    
    Responde SLO con un objeto JSON que contenga las claves "inicio", "desarrollo" y "cierre", con las actividades detalladas para cada momento.`;try{ij("Planificacin - Utilizar Clase");const W="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",te=new Cs(W).getGenerativeModel({model:"gemini-1.5-flash-latest"}),ie={type:"object",properties:{inicio:{type:"string"},desarrollo:{type:"string"},cierre:{type:"string"}},required:["inicio","desarrollo","cierre"]},ce=(await(await te.generateContent({contents:[{parts:[{text:R}]}],generationConfig:{responseMimeType:"application/json",responseSchema:ie}})).response).text(),ge=JSON.parse(ce),De={fechaCreacion:new Date().toISOString(),autor:e.nombreCompleto,tipo:"Clase",asignatura:ne.asignatura,nivel:ne.nivel,contenidos:G.contenidosConceptuales,observaciones:"",nombreClase:G.actividades,duracionClase:80,momentosClase:ge,detalleLeccionOrigen:G};await n(De),alert('Plan de clase generado y guardado en la pestaa "Clase"!'),y("clase")}catch(W){console.error("Error al generar plan de clase con IA",W),g("No se pudo generar el plan de clase. Intntelo de nuevo.")}finally{p(!1)}},F=G=>{G.tipo==="Unidad"&&(u({asignatura:G.asignatura,nivel:G.nivel,nombreUnidad:G.nombreUnidad,contenidos:G.contenidos,cantidadClases:G.cantidadClases,observaciones:G.observaciones,ideasParaUnidad:G.ideasParaUnidad||""}),f(G),window.scrollTo({top:0,behavior:"smooth"}))},M=async G=>{if(window.confirm("Est seguro de que desea eliminar esta planificacin?"))try{await s(G),(d==null?void 0:d.id)===G&&(f(null),u(o))}catch(ne){console.error("Error al eliminar planificacin:",ne),alert("Error al eliminar la planificacin. Por favor, intente nuevamente.")}},Q=async G=>{if(window.confirm("Est seguro de que desea eliminar este plan de clase?"))try{await s(G),(_==null?void 0:_.id)===G&&S(null),console.log(" Plan de clase eliminado exitosamente")}catch(ne){console.error("Error al eliminar plan de clase:",ne),alert("Error al eliminar el plan de clase. Por favor, intente nuevamente.")}},J=(G,ne)=>{d&&k({planId:d.id,lessonIndex:G,lessonData:ne})},q=async G=>{if(B)try{const{planId:ne,lessonIndex:R}=B,W=r.find(ie=>ie.id===ne&&ie.tipo==="Unidad");if(!W)return;const Y=[...W.detallesLeccion];Y[R]=G;const te={...W,detallesLeccion:Y};await a(ne,te),f(te),k(null)}catch(ne){console.error("Error al actualizar leccin:",ne),alert("Error al actualizar la leccin. Por favor, intente nuevamente.")}},Z="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",H=()=>c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Generador de Planificaciones de Unidad"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete los campos y use la IA para crear una planificacin de unidad estructurada."}),i?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):c.jsxs("form",{onSubmit:P,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsx("select",{name:"asignatura",value:l.asignatura,onChange:C,className:Z,disabled:h,children:O.length>0?O.map(G=>c.jsx("option",{value:G,children:G},G)):c.jsx("option",{disabled:!0,children:"No tiene asignaturas asignadas"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"nivel",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),c.jsx("select",{name:"nivel",value:l.nivel,onChange:C,className:Z,disabled:h,children:w.length>0?w.map(G=>c.jsx("option",{value:G,children:G},G)):c.jsx("option",{disabled:!0,children:"No tiene cursos/niveles asignados"})})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"nombreUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Nombre de Unidad ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"nombreUnidad",value:l.nombreUnidad,onChange:C,className:Z,placeholder:"Ej: La Clula y sus procesos",disabled:h})]}),c.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[c.jsxs("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Contenidos Clave ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"contenidos",value:l.contenidos,onChange:C,rows:3,placeholder:"Ingrese los temas, conceptos clave o unidades que la planificacin debe abordar.",className:Z,disabled:h})]}),c.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[c.jsx("label",{htmlFor:"ideasParaUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ideas para la unidad"}),c.jsx("textarea",{name:"ideasParaUnidad",value:l.ideasParaUnidad,onChange:C,rows:3,placeholder:"Plantea tus ideas y perspectiva para que la IA construya una mejor planificacin (ej: enfocar en trabajo colaborativo, usar casos prcticos, conectar con la actualidad).",className:Z,disabled:h})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"cantidadClases",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cantidad de Clases"}),c.jsx("input",{type:"number",name:"cantidadClases",value:l.cantidadClases,onChange:C,className:Z,min:"1",max:"20",disabled:h})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones (nfasis)"}),c.jsx("textarea",{name:"observaciones",value:l.observaciones,onChange:C,rows:1,placeholder:"Ej: clase prctica, modelo ABP, juego, reforzamiento...",className:Z,disabled:h})]})]}),c.jsx("div",{className:"pt-4 text-right",children:c.jsx("button",{type:"submit",disabled:h||i,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[150px] dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:h?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d?"Regenerar":"Generar Plan"})}),v&&c.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:v})]})]}),d&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Revisin y Edicin"}),c.jsx(Tbe,{plan:d,onEditLesson:J,onUseLesson:j,onUpdatePlan:a,isLoading:h})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Planificaciones de Unidad"}),i?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):c.jsx("div",{className:"space-y-4",children:r.filter(G=>G.tipo==="Unidad").length>0?r.filter(G=>G.tipo==="Unidad").map(G=>c.jsx("div",{className:`p-4 border rounded-lg ${(d==null?void 0:d.id)===G.id?"bg-amber-50 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700"}`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:G.nombreUnidad}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(G.fechaCreacion).toLocaleString("es-CL")]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",G.contenidos]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>F(G),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm disabled:opacity-50",disabled:h,children:"Ver y Editar"}),c.jsx("button",{onClick:()=>M(G.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 disabled:opacity-50",disabled:h,children:""})]})]})},G.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No hay planificaciones de unidad guardadas."})})]})]}),V=()=>{const G=r.filter(ne=>ne.tipo==="Clase").sort((ne,R)=>new Date(R.fechaCreacion).getTime()-new Date(ne.fechaCreacion).getTime());return _?c.jsx(Ibe,{plan:_,onBack:()=>S(null),onDelete:Q,onSave:async ne=>{try{await a(ne.id,ne),S(ne)}catch(R){console.error("Error al actualizar plan de clase:",R),alert("Error al actualizar el plan de clase. Por favor, intente nuevamente.")}},isLoading:h}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Planes de Clase Guardados"}),i?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):c.jsx("div",{className:"space-y-4",children:G.length>0?G.map(ne=>c.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:ne.nombreClase}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(ne.fechaCreacion).toLocaleString("es-CL")]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",ne.contenidos]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("button",{onClick:()=>S(ne),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver Plan de Clase"})})]},ne.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-6",children:"No hay planes de clase guardados. Puede generarlos desde una unidad en la pestaa 'Unidad'."})})]})};return!e||!e.email&&!e.id?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-2",children:"Error: Usuario no autenticado"}),c.jsxs("p",{className:"text-sm text-slate-400",children:["Datos recibidos: ",JSON.stringify(e)]})]})}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Planificacin"}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>y("unidad"),className:`${b==="unidad"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Unidad"}),c.jsx("button",{onClick:()=>y("clase"),className:`${b==="clase"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Clase"}),c.jsx("button",{onClick:()=>y("calendario"),className:`${b==="calendario"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Actividades Calendario"})]})}),b==="unidad"&&H(),b==="clase"&&V(),b==="calendario"&&c.jsx(jbe,{userId:t}),B&&c.jsx(Bbe,{lesson:B.lessonData,onClose:()=>k(null),onSave:q,isLoading:h})]})},Z5="events",Obe=async()=>{try{const e=Zt(Rt(jr,Z5),Gr("date","asc"));return(await Hs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener eventos:",e),new Error("No se pudieron cargar los eventos del calendario")}},Dbe=async e=>{try{return{id:(await qn(Rt(jr,Z5),{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear evento:",t),new Error("No se pudo crear el evento del calendario")}},Pbe=async(e,t)=>{try{const r=vr(jr,Z5,e);await zp(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar evento:",r,"ID:",e),new Error("No se pudo actualizar el evento del calendario")}},Rbe=async e=>{try{const t=vr(jr,Z5,e);await $s(t)}catch(t){throw console.error("Error al eliminar evento:",t,"ID:",e),new Error("No se pudo eliminar el evento del calendario")}},Lbe=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],W7={[tn.EVALUACION]:c.jsx(ixe,{className:"h-4 w-4"}),[tn.ACTO]:c.jsx(Pxe,{className:"h-4 w-4"}),[tn.ACTIVIDAD_FOCALIZADA]:c.jsx(Xxe,{className:"h-4 w-4"}),[tn.SALIDA_PEDAGOGICA]:c.jsx(zxe,{className:"h-4 w-4"})},Mbe=e=>{switch(e.type){case tn.EVALUACION:return`${e.subtype} - ${e.asignatura}`;case tn.ACTO:return`Acto: ${e.ubicacion}`;case tn.ACTIVIDAD_FOCALIZADA:return"Actividad Focalizada";case tn.SALIDA_PEDAGOGICA:return`Salida: ${e.ubicacion}`;default:return"Evento"}},Ube=({isOpen:e,onClose:t,onSave:r,onDelete:n,event:a,date:s,isLoading:i})=>{const[o,l]=I.useState({});I.useEffect(()=>{l(a||{type:tn.EVALUACION,subtype:Hm.PRUEBA_PARCIAL,asignatura:Hi[0],curso:Za[0],contenidos:"",enlace:"",responsables:"",ubicacion:"",horario:"",responsable:"",cursos:[]})},[a,e]);const u="w-full rounded-md border border-white/30 bg-white/10 dark:bg-white/5 text-slate-800 dark:text-slate-100 placeholder-slate-400 backdrop-blur-md shadow-sm focus:outline-none focus:ring-4 focus:ring-yellow-400/30 focus:border-blue-300 dark:border-white/10 dark:focus:border-blue-400",d=g=>{const{name:b,value:y}=g.target;l(_=>({..._,[b]:y}))},f=g=>{l(b=>{if(b.type===tn.SALIDA_PEDAGOGICA){const y=b.cursos||[],_=y.includes(g)?y.filter(S=>S!==g):[...y,g];return{...b,cursos:_.sort()}}return b})},h=g=>{var y;g.preventDefault();let b;switch(o.type){case tn.EVALUACION:{const _={date:s,type:tn.EVALUACION,subtype:o.subtype,asignatura:o.asignatura,curso:o.curso,contenidos:o.contenidos};(o.subtype===Hm.RUBRICA||o.subtype===Hm.PAUTA_COTEJO)&&((y=o.enlace)!=null&&y.trim())&&(_.enlace=o.enlace.trim()),b=_;break}case tn.ACTO:b={date:s,type:tn.ACTO,responsables:o.responsables,ubicacion:o.ubicacion,horario:o.horario};break;case tn.ACTIVIDAD_FOCALIZADA:b={date:s,type:tn.ACTIVIDAD_FOCALIZADA,responsables:o.responsables,ubicacion:o.ubicacion,horario:o.horario};break;case tn.SALIDA_PEDAGOGICA:b={date:s,type:tn.SALIDA_PEDAGOGICA,responsable:o.responsable,ubicacion:o.ubicacion,cursos:o.cursos};break;default:console.error("Tipo de evento no reconocido");return}r(b)};if(!e)return null;const p=new Date(`${s}T12:00:00`).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),v=()=>{switch(o.type){case tn.EVALUACION:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subtype",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subtipo"}),c.jsx("select",{id:"subtype",name:"subtype",value:o.subtype,onChange:d,required:!0,className:u,children:Vve.map(g=>c.jsx("option",{value:g,children:g},g))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsx("select",{id:"asignatura",name:"asignatura",value:o.asignatura,onChange:d,required:!0,className:u,children:Hi.map(g=>c.jsx("option",{value:g,children:g},g))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Curso"}),c.jsx("select",{id:"curso",name:"curso",value:o.curso,onChange:d,required:!0,className:u,children:Za.map(g=>c.jsx("option",{value:g,children:g},g))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contenidos"}),c.jsx("textarea",{id:"contenidos",name:"contenidos",value:o.contenidos||"",onChange:d,required:!0,rows:3,className:u})]}),(o.subtype===Hm.RUBRICA||o.subtype===Hm.PAUTA_COTEJO)&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"enlace",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Enlace al Documento (URL)"}),c.jsx("input",{id:"enlace",name:"enlace",type:"url",value:o.enlace||"",onChange:d,placeholder:"https://...",className:u})]})]});case tn.ACTO:case tn.ACTIVIDAD_FOCALIZADA:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"responsables",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Responsables"}),c.jsx("input",{id:"responsables",name:"responsables",type:"text",value:o.responsables||"",onChange:d,required:!0,className:u})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ubicacin"}),c.jsxs("div",{className:"relative",children:[c.jsx(aj,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-500"}),c.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:o.ubicacion||"",onChange:d,required:!0,className:`${u} pl-9`})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"horario",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Horario"}),c.jsxs("div",{className:"relative",children:[c.jsx(wxe,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-500"}),c.jsx("input",{id:"horario",name:"horario",type:"text",value:o.horario||"",onChange:d,required:!0,className:`${u} pl-9`})]})]})]});case tn.SALIDA_PEDAGOGICA:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Responsable"}),c.jsx("input",{id:"responsable",name:"responsable",type:"text",value:o.responsable||"",onChange:d,required:!0,className:u})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ubicacin/Destino"}),c.jsxs("div",{className:"relative",children:[c.jsx(aj,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-500"}),c.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:o.ubicacion||"",onChange:d,required:!0,className:`${u} pl-9`})]})]}),c.jsxs("fieldset",{children:[c.jsx("legend",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cursos Involucrados"}),c.jsx("div",{className:"max-h-32 overflow-y-auto grid grid-cols-3 sm:grid-cols-4 gap-2 border border-white/30 dark:border-white/10 p-2 rounded-md text-slate-700 dark:text-slate-300 bg-white/5 backdrop-blur-md",children:Za.map(g=>c.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[c.jsx("input",{type:"checkbox",checked:(o.cursos||[]).includes(g),onChange:()=>f(g),className:"h-4 w-4 rounded text-yellow-500 focus:ring-yellow-400"}),c.jsx("span",{children:g})]},g))})]})]});default:return null}};return c.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center p-4",onClick:t,style:{background:"rgba(2, 6, 23, 0.55)"},children:c.jsx("div",{className:"relative w-full max-w-lg overflow-hidden rounded-2xl border border-white/20 bg-gradient-to-br from-blue-50/70 via-white/50 to-yellow-50/70 dark:from-slate-900/70 dark:via-slate-900/60 dark:to-slate-900/70 backdrop-blur-2xl shadow-2xl",onClick:g=>g.stopPropagation(),children:c.jsxs("form",{onSubmit:h,children:[c.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:a?"Editar Evento":"Agregar Evento"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-300/90 font-semibold",children:p})]}),c.jsx("button",{type:"button",onClick:t,className:"rounded-full p-2 hover:bg-white/20 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-4 focus:ring-yellow-400/30",children:c.jsx(E7,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tipo de Evento"}),c.jsx("select",{id:"type",name:"type",value:o.type,onChange:d,className:u,children:Object.values(tn).map(g=>c.jsx("option",{value:g,children:g},g))})]}),v()]})]}),c.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-100/60 to-yellow-100/60 dark:from-slate-800/60 dark:to-slate-800/60 border-t border-white/20 flex justify-between items-center",children:[c.jsx("div",{children:a&&n&&c.jsxs("button",{type:"button",onClick:n,disabled:i,className:"inline-flex items-center gap-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 font-semibold disabled:opacity-50",children:[c.jsx(Ew,{className:"h-4 w-4"}),i?"Eliminando...":"Eliminar"]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{type:"button",onClick:t,disabled:i,className:"inline-flex items-center gap-2 rounded-lg bg-white/20 px-4 py-2 font-semibold text-slate-800 hover:bg-white/30 backdrop-blur-md dark:bg-white/10 dark:text-slate-100 dark:hover:bg-white/20 disabled:opacity-50 focus:outline-none focus:ring-4 focus:ring-yellow-400/30",children:[c.jsx(E7,{className:"h-4 w-4"}),"Cancelar"]}),c.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-yellow-500 px-4 py-2 font-bold text-white hover:opacity-95 disabled:opacity-50 focus:outline-none focus:ring-4 focus:ring-yellow-300/40",children:[c.jsx(YY,{className:"h-4 w-4"}),i?"Guardando...":"Guardar"]})]})]})]})})})},Qbe=({profile:e})=>{const[t,r]=I.useState(new Date),[n,a]=I.useState([]),[s,i]=I.useState(!1),[o,l]=I.useState(null),[u,d]=I.useState(!1),[f,h]=I.useState(Object.values(tn)),[p,v]=I.useState(!1),[g,b]=I.useState(null),[y,_]=I.useState(null),S=I.useCallback(async()=>{i(!0);try{const j=await Obe();a(j),l(null)}catch(j){console.error("Error al cargar eventos desde Firestore",j),l("No se pudieron cargar los eventos desde la nube.")}finally{i(!1)}},[]);I.useEffect(()=>{S()},[S]);const B=I.useMemo(()=>{const j=t.getFullYear(),F=t.getMonth(),M=new Date(j,F,1).getDay(),Q=new Date(j,F+1,0).getDate(),J=[];let q=1;for(let Z=0;Z<6;Z++){const H=[];for(let V=0;V<7;V++)Z===0&&V<M||q>Q?H.push(null):(H.push(new Date(j,F,q)),q++);if(J.push(H),q>Q)break}return J},[t]),k=j=>{h(F=>F.includes(j)?F.filter(M=>M!==j):[...F,j])},O=()=>{f.length===Object.values(tn).length?h([]):h(Object.values(tn))},w=j=>{e!==Xt.ESTUDIANTE&&(b(j.toISOString().split("T")[0]),_(null),v(!0))},C=(j,F)=>{F.stopPropagation(),e!==Xt.ESTUDIANTE&&(b(j.date),_(j),v(!0))},N=async j=>{d(!0);try{y?await Pbe(y.id,j):await Dbe(j),await S(),v(!1)}catch(F){console.error("Error al guardar evento:",F);const M=F instanceof Error?F.message:"Error desconocido";l(`Error al guardar el evento: ${M}`)}finally{d(!1)}},P=async()=>{if(y){d(!0);try{await Rbe(y.id),await S(),v(!1)}catch(j){console.error("Error al eliminar evento:",j);const F=j instanceof Error?j.message:"Error desconocido";l(`No se pudo eliminar el evento: ${F}`)}finally{d(!1)}}};return c.jsxs("div",{className:`relative overflow-hidden rounded-xl p-6 md:p-8 shadow-md space-y-6 animate-fade-in
                    bg-gradient-to-br from-blue-50 via-white to-yellow-50 dark:from-slate-900 dark:via-slate-950 dark:to-black`,children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[c.jsx("div",{className:"absolute -top-20 -left-16 h-64 w-64 rounded-full blur-3xl opacity-40 bg-gradient-to-tr from-yellow-300 to-yellow-200 dark:from-yellow-500/15 dark:to-yellow-400/10"}),c.jsx("div",{className:"absolute bottom-0 right-0 h-72 w-72 rounded-full blur-3xl opacity-40 bg-gradient-to-tr from-sky-300 to-blue-300 dark:from-sky-500/15 dark:to-blue-500/15"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 drop-shadow-sm",children:"Calendario Acadmico"}),c.jsx("div",{className:"text-slate-600 dark:text-slate-300 text-sm",children:s&&c.jsx("span",{className:"px-2 py-1 rounded bg-white/30 dark:bg-white/10 backdrop-blur-md",children:"Cargando"})})]}),o&&c.jsx("div",{className:"text-red-700 dark:text-red-400 bg-red-100/70 dark:bg-red-900/30 border border-red-300/50 dark:border-red-800/40 p-3 rounded-lg",children:o}),!s&&n.length===0&&c.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-yellow-400/40 bg-yellow-50/70 p-4 text-yellow-900 dark:bg-yellow-900/20 dark:text-yellow-300 backdrop-blur-md",children:[c.jsx(Bxe,{className:"h-5 w-5 mt-0.5"}),c.jsx("p",{children:"No hay eventos registrados en la nube."})]}),c.jsxs("div",{className:"mb-2 rounded-xl border border-white/30 bg-white/30 dark:bg-white/10 backdrop-blur-xl p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200 mb-2",children:[c.jsx(_xe,{className:"h-4 w-4"}),c.jsx("h2",{className:"text-lg font-semibold",children:"Filtrar por tipo de evento:"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsx("button",{onClick:O,className:"text-sm font-semibold px-3 py-1.5 rounded-full bg-gradient-to-r from-blue-600 to-yellow-500 text-white hover:opacity-95 transition-colors",children:f.length===Object.values(tn).length?"Deseleccionar Todos":"Seleccionar Todos"}),Object.values(tn).map(j=>c.jsxs("label",{className:`cursor-pointer text-sm font-medium px-3 py-1.5 rounded-full transition-all duration-200 flex items-center gap-2
                ${f.includes(j)?`shadow-sm ${Tv[j].color}`:"bg-white/40 text-slate-700 hover:bg-white/60 dark:bg-white/10 dark:text-slate-300 dark:hover:bg-white/20"}`,children:[c.jsx("input",{type:"checkbox",checked:f.includes(j),onChange:()=>k(j),className:"hidden"}),c.jsx("span",{className:"shrink-0",children:W7[j]}),c.jsx("span",{children:Tv[j].label})]},j))]})]}),c.jsxs("div",{className:"rounded-xl overflow-hidden border border-white/30 dark:border-white/10 backdrop-blur-xl bg-white/30 dark:bg-white/5",children:[c.jsxs("header",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-100/60 to-yellow-100/60 dark:from-slate-800/60 dark:to-slate-800/60 border-b border-white/20",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>r(new Date(t.setMonth(t.getMonth()-1))),className:"p-2 rounded-full hover:bg-white/40 dark:hover:bg-white/10 text-slate-700 dark:text-slate-200",children:c.jsx(pxe,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>r(new Date(t.setMonth(t.getMonth()+1))),className:"p-2 rounded-full hover:bg-white/40 dark:hover:bg-white/10 text-slate-700 dark:text-slate-200",children:c.jsx(vxe,{className:"h-5 w-5"})})]}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 capitalize",children:t.toLocaleString("es-CL",{month:"long",year:"numeric"})}),c.jsx("button",{onClick:()=>r(new Date),className:"ml-4 bg-gradient-to-r from-blue-600 to-yellow-500 text-white text-sm font-bold py-1.5 px-3 rounded-lg hover:opacity-95",children:"Hoy"})]}),c.jsx("div",{className:"grid grid-cols-7 border-t border-l border-slate-200/80 dark:border-slate-700/70",children:Lbe.map(j=>c.jsx("div",{className:`text-center font-semibold text-slate-600 dark:text-slate-300 text-sm py-3
                         bg-white/40 dark:bg-white/10
                         border-b border-r border-slate-200/80 dark:border-slate-700/70`,children:j},j))}),c.jsx("div",{className:"grid grid-cols-7 grid-rows-6 border-t border-l border-slate-200/80 dark:border-slate-700/70",children:B.flat().map((j,F)=>{const M=j&&j.toDateString()===new Date().toDateString(),Q=j==null?void 0:j.toISOString().split("T")[0],J=Q?n.filter(q=>q.date===Q&&f.includes(q.type)):[];return c.jsx("div",{onClick:()=>j&&w(j),className:`border-b border-r border-slate-200/80 dark:border-slate-700/70
                            p-2 h-36 flex flex-col overflow-hidden relative group 
                            ${j?e!==Xt.ESTUDIANTE?"cursor-pointer hover:bg-white/40 dark:hover:bg-white/10":"":"bg-white/30 dark:bg-white/5"}`,children:j&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:`self-end text-sm font-semibold ${M?"bg-gradient-to-r from-blue-600 to-yellow-500 text-white rounded-full h-6 w-6 flex items-center justify-center":"text-slate-700 dark:text-slate-300"}`,children:j.getDate()}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 mt-1 pr-1",children:J.map(q=>c.jsxs("div",{onClick:Z=>C(q,Z),className:`text-xs font-medium p-1 rounded-md flex items-center gap-1.5 truncate ${Tv[q.type].color}`,children:[c.jsx("span",{className:"shrink-0",children:W7[q.type]}),c.jsx("span",{className:"truncate",children:Mbe(q)})]},q.id))}),e!==Xt.ESTUDIANTE&&c.jsx("button",{className:`absolute bottom-1 right-1 rounded-full h-7 w-7 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity 
                                   bg-gradient-to-r from-blue-600 to-yellow-500 text-white shadow`,"aria-label":"Agregar evento",children:c.jsx(XY,{className:"h-4 w-4"})})]})},F)})})]}),p&&c.jsx(Ube,{isOpen:p,onClose:()=>v(!1),onSave:N,onDelete:P,event:y,date:g,isLoading:u})]})},eN="anuncios",Hbe=async()=>{try{const e=Zt(Rt(jr,eN),Gr("fechaPublicacion","desc"));return(await Hs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener anuncios:",e),new Error("No se pudieron cargar los anuncios")}},Vbe=async e=>{try{return{id:(await qn(Rt(jr,eN),{...e,fechaPublicacion:e.fechaPublicacion||new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear anuncio:",t),new Error("No se pudo crear el anuncio")}},zbe=async(e,t)=>{try{const r=vr(jr,eN,e);await zp(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar anuncio:",r,"ID:",e),new Error("No se pudo actualizar el anuncio")}},$be=async e=>{try{const t=vr(jr,eN,e);await $s(t)}catch(t){throw console.error("Error al eliminar anuncio:",t,"ID:",e),new Error("No se pudo eliminar el anuncio")}},X7=[{bg:"bg-yellow-200 dark:bg-yellow-800/50",rotate:"transform -rotate-2"},{bg:"bg-lime-200 dark:bg-lime-800/50",rotate:"transform rotate-1"},{bg:"bg-sky-200 dark:bg-sky-800/50",rotate:"transform rotate-2"},{bg:"bg-red-200 dark:bg-red-800/50",rotate:"transform -rotate-1"},{bg:"bg-violet-200 dark:bg-violet-800/50",rotate:"transform rotate-1"}],Kbe=({currentUser:e})=>{const[t,r]=I.useState([]),[n,a]=I.useState(!1),[s,i]=I.useState(null),[o,l]=I.useState({titulo:"",mensaje:"",adjunto:""}),[u,d]=I.useState({tipo:"Todos",cursos:[]}),f=I.useCallback(async()=>{a(!0);try{const w=await Hbe();r(w),i(null)}catch(w){console.error("Error al cargar anuncios desde Firestore",w),i("No se pudieron cargar los anuncios desde la nube.")}finally{a(!1)}},[]);I.useEffect(()=>{f()},[f]);const h=w=>{const{name:C,value:N}=w.target;l(P=>({...P,[C]:N}))},p=w=>{d({tipo:w,cursos:w==="Cursos"?[]:void 0})},v=w=>{d(C=>{var P;if(C.tipo!=="Cursos")return C;const N=(P=C.cursos)!=null&&P.includes(w)?C.cursos.filter(j=>j!==w):[...C.cursos||[],w];return{...C,cursos:N}})},g=async w=>{if(w.preventDefault(),!o.titulo||!o.mensaje){alert("Ttulo y mensaje son obligatorios.");return}if(u.tipo==="Cursos"&&(!u.cursos||u.cursos.length===0)){alert('Debe seleccionar al menos un curso para el destinatario "Cursos".');return}try{const C={fechaPublicacion:new Date().toISOString(),destacado:!1,autor:e.nombreCompleto,profileCreador:e.profile,destinatarios:u,...o};await Vbe(C),await f(),l({titulo:"",mensaje:"",adjunto:""}),d({tipo:"Todos",cursos:[]})}catch(C){console.error("Error al crear anuncio:",C),i("Error al publicar el anuncio en la nube.")}},b=async w=>{if(window.confirm("Est seguro de que desea eliminar este anuncio?"))try{await $be(w),await f()}catch(C){console.error("Error al eliminar anuncio:",C),i("No se pudo eliminar el anuncio en la nube.")}},y=async w=>{try{const C=t.find(N=>N.id===w);C&&(await zbe(w,{destacado:!C.destacado}),await f())}catch(C){console.error("Error al actualizar anuncio:",C),i("No se pudo actualizar el estado del anuncio en la nube.")}},_=I.useMemo(()=>[...t].sort((w,C)=>w.destacado&&!C.destacado?-1:!w.destacado&&C.destacado?1:new Date(C.fechaPublicacion).getTime()-new Date(w.fechaPublicacion).getTime()),[t]),S=I.useMemo(()=>{const w=e.profile,C=e.curso;return _.filter(N=>{if(w===Xt.SUBDIRECCION)return!0;if(!N.destinatarios)return w!==Xt.ESTUDIANTE;const{tipo:P,cursos:j}=N.destinatarios;return P==="Todos"||P==="Profesores"&&w===Xt.PROFESORADO||P==="Coordinacin TP"&&w===Xt.COORDINACION_TP?!0:P==="Cursos"?w===Xt.ESTUDIANTE?j==null?void 0:j.includes(C||""):!0:!1})},[_,e]),B=w=>e.profile===Xt.ESTUDIANTE?!1:e.profile===Xt.SUBDIRECCION||e.profile===w.profileCreador,k=()=>e.profile===Xt.SUBDIRECCION||e.profile===Xt.PROFESORADO,O="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Muro de Anuncios"}),n&&c.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando anuncios desde la nube..."}),s&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:s}),e.profile!==Xt.ESTUDIANTE?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Publique un nuevo anuncio para toda la comunidad escolar."}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"titulo",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ttulo"}),c.jsx("input",{type:"text",name:"titulo",value:o.titulo,onChange:h,required:!0,className:O})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"mensaje",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mensaje"}),c.jsx("textarea",{name:"mensaje",value:o.mensaje,onChange:h,required:!0,rows:4,className:O})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Destinatarios"}),c.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:["Todos","Cursos","Profesores","Coordinacin TP"].map(w=>c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"destinatarioTipo",value:w,checked:u.tipo===w,onChange:()=>p(w),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-slate-300"}),c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:w.replace("Coordinacin TP","Coord. TP")})]},w))})]}),u.tipo==="Cursos"&&c.jsxs("div",{className:"p-4 border rounded-md bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Cursos"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-48 overflow-y-auto",children:Za.map(w=>{var C;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(C=u.cursos)==null?void 0:C.includes(w),onChange:()=>v(w),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300 bg-slate-100"}),c.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w})]},w)})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"adjunto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace adjunto (Opcional)"}),c.jsx("input",{type:"url",name:"adjunto",value:o.adjunto,onChange:h,placeholder:"https://ejemplo.com/documento.pdf",className:O})]}),c.jsx("div",{className:"pt-2 text-right",children:c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Publicar Anuncio"})})]})]}):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Anuncios de la comunidad escolar. Este mdulo es de solo lectura."})]}),!n&&S.length===0&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg",children:"No hay anuncios para mostrar en la nube."}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 py-4",children:!n&&S.length>0&&S.map((w,C)=>{const N=X7[C%X7.length];return c.jsxs("div",{className:`font-handwritten text-slate-800 dark:text-slate-200 shadow-xl p-4 flex flex-col relative transition-transform duration-300 ease-in-out hover:scale-105 hover:rotate-0 hover:z-10 ${N.bg} ${N.rotate}`,children:[w.destacado&&c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:c.jsx("span",{className:"text-5xl",role:"img","aria-label":"Anuncio destacado",children:""})}),c.jsx("h2",{className:"text-3xl font-bold border-b-2 border-slate-500/30 dark:border-slate-400/30 pb-2 mb-4 break-words",children:w.titulo}),c.jsx("p",{className:"flex-grow text-2xl whitespace-pre-wrap mb-4 break-words min-h-[100px]",children:w.mensaje}),w.adjunto&&c.jsx("div",{className:"font-sans text-sm mb-4",children:c.jsxs("a",{href:w.adjunto,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 font-semibold text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Ver Adjunto"]})}),c.jsxs("div",{className:"font-sans text-xs mt-auto pt-2 border-t border-slate-500/30 dark:border-slate-400/30 flex justify-between items-end",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:w.autor}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:new Date(w.fechaPublicacion).toLocaleString("es-CL")})]}),c.jsxs("div",{className:"flex items-center",children:[k()&&c.jsx("button",{onClick:()=>y(w.id),title:w.destacado?"Desfijar":"Fijar",className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:c.jsx("span",{className:`text-xl transition-opacity ${w.destacado?"opacity-100":"opacity-30"}`,children:""})}),B(w)&&c.jsx("button",{onClick:()=>b(w.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},w.id)})})]})},lJ="api_logs",Gbe=async(e,t)=>{try{const r={module:e,userId:t.id,userEmail:t.email,userName:t.nombreCompleto,timestamp:mr.fromDate(new Date)};await qn(Rt(jt,lJ),r)}catch(r){console.error("Error al registrar la llamada a la API en Firestore:",r)}},qbe=e=>{const t=Zt(Rt(jt,lJ),Gr("timestamp","desc"));return wr(t,n=>{const a=n.docs.map(s=>{var o,l;const i=s.data();return{id:s.id,...i,timestamp:((l=(o=i.timestamp)==null?void 0:o.toDate)==null?void 0:l.call(o).toISOString())||i.timestamp}});e(a)},n=>{console.error("Error al suscribirse a los logs de API:",n),e([])})},H0=(e,t)=>{if(!t||!t.id||!t.email){console.warn("No se pudo registrar la llamada a la API: el objeto de usuario es invlido o no est en sesin.");return}Gbe(e,t)},UO="actas_de_reunion",Wbe=e=>{var r,n;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion}},Xbe=e=>{const t=Zt(Rt(jt,UO),Gr("fechaCreacion","desc"));return wr(t,n=>{const a=n.docs.map(s=>Wbe(s));e(a)},n=>{console.error("Error al suscribirse a las actas:",n),e([])})},Ybe=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,fechaCreacion:mr.fromDate(new Date(e.fechaCreacion))};return(await qn(Rt(jt,UO),r)).id}catch(r){throw console.error("Error al crear el acta:",r),new Error("No se pudo crear el acta.")}},Jbe=async e=>{try{const t=vr(jt,UO,e);await $s(t)}catch(t){throw console.error("Error al eliminar el acta:",t),new Error("No se pudo eliminar el acta.")}},cJ=window.SpeechRecognition||window.webkitSpeechRecognition,Y7=!!cJ,Zbe=({isListening:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}):c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),eye=({currentUser:e})=>{const[t,r]=I.useState([]),[n,a]=I.useState(null),[s,i]=I.useState({tipoReunion:cB[0],asistentes:"",textoReunion:""}),[o,l]=I.useState(!1),[u,d]=I.useState(!1),[f,h]=I.useState(!0),[p,v]=I.useState(null),g=I.useRef(null);I.useEffect(()=>{h(!0);const w=Xbe(C=>{r(C),!n&&C.length>0&&a(C[0]),h(!1)});return()=>w()},[n]);const b=w=>{const{name:C,value:N}=w.target;i(P=>({...P,[C]:N}))},y=I.useCallback(()=>{var w;if(!Y7){v("El reconocimiento de voz no es compatible con este navegador.");return}o?(w=g.current)==null||w.stop():(g.current=new cJ,g.current.lang="es-CL",g.current.continuous=!0,g.current.interimResults=!0,g.current.onresult=C=>{let N="";for(let P=C.resultIndex;P<C.results.length;++P)C.results[P].isFinal&&(N+=C.results[P][0].transcript+". ");i(P=>({...P,textoReunion:P.textoReunion+N}))},g.current.onstart=()=>l(!0),g.current.onend=()=>l(!1),g.current.onerror=C=>{console.error("Speech recognition error",C.error),v(`Error de reconocimiento: ${C.error}`),l(!1)},g.current.start())},[o]),_=async w=>{w.preventDefault();const{tipoReunion:C,asistentes:N,textoReunion:P}=s;if(!C||!N.trim()||!P.trim()){v("Todos los campos son obligatorios.");return}d(!0),v(null);try{H0("Generador de Actas");const j="",M=new globalThis.GoogleGenerativeAI(j).getGenerativeModel({model:"gemini-pro"}),Q=`
                Analiza el siguiente texto de un acta de reunin y extrae la informacin clave.
                El texto es una transcripcin de lo hablado.
                - Identifica los temas principales discutidos.
                - Extrae un resumen de los acuerdos o decisiones especficas tomadas.
                - Lista cualquier plazo o fecha lmite mencionada.
                - Identifica los nombres de las personas a las que se les asignaron responsabilidades o tareas.
                
                Texto del acta:
                "${P}"
                
                Asistentes a la reunin para referencia de nombres: ${N}
            `,H=(await(await M.generateContent(Q)).response).text().replace(/^```json\s*|```\s*$/g,""),V=JSON.parse(H),G={fechaCreacion:new Date().toISOString(),...s,...V},ne=await Ybe(G,e);i({tipoReunion:cB[0],asistentes:"",textoReunion:""})}catch(j){console.error("Error al analizar acta con IA:",j),v("Ocurri un error al procesar el acta con la IA. Por favor, revise el texto e intntelo de nuevo.")}finally{d(!1)}},S=async w=>{if(window.confirm("Est seguro de que desea eliminar esta acta?"))try{await Jbe(w),(n==null?void 0:n.id)===w&&a(t.length>1?t[1]:null)}catch(C){console.error("Error deleting acta:",C),alert("No se pudo eliminar el acta.")}},B=w=>{a(w)},k=w=>w.temas||w.acuerdos||w.plazos||w.responsables?c.jsxs("div",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Anlisis con IA"}),w.temas&&w.temas.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Temas Tratados"}),c.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:w.temas.map((N,P)=>c.jsx("li",{children:N},P))})]}),w.acuerdos&&w.acuerdos.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Acuerdos"}),c.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:w.acuerdos.map((N,P)=>c.jsx("li",{children:N},P))})]}),w.plazos&&w.plazos.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Plazos"}),c.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:w.plazos.map((N,P)=>c.jsx("li",{children:N},P))})]}),w.responsables&&w.responsables.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Responsables"}),c.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:w.responsables.map((N,P)=>c.jsx("li",{children:N},P))})]})]}):null,O="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return f?c.jsx("div",{className:"text-center py-10",children:"Cargando actas..."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 animate-fade-in",children:[c.jsxs("div",{className:"md:col-span-1 space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generador de Actas"}),c.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsxs("p",{className:"text-sm",children:["Recuerda que las actas debes subirlas por intranet en ",c.jsx("strong",{className:"font-semibold",children:"www.industrialderecoleta.cl"}),". Esta es slo una herramienta para agilizar redaccin."]})})]})}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"tipoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Reunin"}),c.jsx("select",{name:"tipoReunion",value:s.tipoReunion,onChange:b,required:!0,className:O,children:cB.map(w=>c.jsx("option",{value:w,children:w},w))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asistentes",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asistentes"}),c.jsx("textarea",{name:"asistentes",value:s.asistentes,onChange:b,required:!0,rows:3,placeholder:"Nombres, separados por comas...",className:O})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"textoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Texto de la Reunin"}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{name:"textoReunion",value:s.textoReunion,onChange:b,required:!0,rows:6,placeholder:"Escriba o use el micrfono para dictar...",className:O}),Y7&&c.jsx("button",{type:"button",onClick:y,title:o?"Detener grabacin":"Iniciar grabacin",className:`absolute top-2 right-2 p-2 rounded-full transition-colors ${o?"bg-red-500 text-white animate-pulse":"bg-slate-200 hover:bg-slate-300 text-slate-700 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500"}`,children:c.jsx(Zbe,{isListening:o})})]})]}),p&&c.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:p}),c.jsx("div",{className:"pt-2 text-right",children:c.jsx("button",{type:"submit",disabled:u,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 flex items-center justify-center min-w-[120px] disabled:bg-slate-400 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:u?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Crear Acta"})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Actas"}),c.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2 pr-2",children:t.length>0?t.map(w=>c.jsxs("button",{onClick:()=>B(w),className:`w-full text-left p-3 rounded-lg border transition-colors ${(n==null?void 0:n.id)===w.id?"bg-amber-100 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 hover:bg-slate-100 border-transparent dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:w.tipoReunion}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(w.fechaCreacion).toLocaleDateString("es-CL")})]},w.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay actas guardadas."})})]})]}),c.jsx("div",{className:"md:col-span-2 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:n?c.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h1",{className:"text-3xl font-bold mt-0",children:`Acta de Reunin: ${n.tipoReunion}`}),c.jsx("button",{onClick:()=>S(n.id),title:"Eliminar Acta",className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 -mt-2 -mr-2",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[c.jsx("strong",{children:"Fecha:"})," ",new Date(n.fechaCreacion).toLocaleString("es-CL")]}),c.jsx("h2",{children:"Asistentes"}),c.jsx("ul",{className:"list-disc pl-5",children:String(n.asistentes||"").split(",").map((w,C)=>w.trim()&&c.jsx("li",{children:w.trim()},C))}),k(n),c.jsx("h2",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:"Transcripcin Original"}),c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-md whitespace-pre-wrap",children:c.jsx("p",{children:n.textoReunion})})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[c.jsx("span",{className:"text-6xl mb-4 text-slate-400",children:""}),c.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:"Seleccione un Acta"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Elija un acta del historial para ver sus detalles aqu, o cree una nueva usando el formulario."})]})})]})},tye="modulepreload",rye=function(e){return"/"+e},J7={},L_=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let i=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=i(r.map(u=>{if(u=rye(u),u in J7)return;J7[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":tye,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function da(e){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(e)}var Vo=Uint8Array,Ec=Uint16Array,QO=Int32Array,tN=new Vo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rN=new Vo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oj=new Vo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uJ=function(e,t){for(var r=new Ec(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new QO(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},dJ=uJ(tN,2),AJ=dJ.b,lj=dJ.r;AJ[28]=258,lj[258]=28;var fJ=uJ(rN,0),nye=fJ.b,Z7=fJ.r,cj=new Ec(32768);for(var Pa=0;Pa<32768;++Pa){var Kh=(Pa&43690)>>1|(Pa&21845)<<1;Kh=(Kh&52428)>>2|(Kh&13107)<<2,Kh=(Kh&61680)>>4|(Kh&3855)<<4,cj[Pa]=((Kh&65280)>>8|(Kh&255)<<8)>>1}var SA=function(e,t,r){for(var n=e.length,a=0,s=new Ec(t);a<n;++a)e[a]&&++s[e[a]-1];var i=new Ec(t);for(a=1;a<t;++a)i[a]=i[a-1]+s[a-1]<<1;var o;if(r){o=new Ec(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=i[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[cj[f]>>l]=u}else for(o=new Ec(n),a=0;a<n;++a)e[a]&&(o[a]=cj[i[e[a]-1]++]>>15-e[a]);return o},V0=new Vo(288);for(var Pa=0;Pa<144;++Pa)V0[Pa]=8;for(var Pa=144;Pa<256;++Pa)V0[Pa]=9;for(var Pa=256;Pa<280;++Pa)V0[Pa]=7;for(var Pa=280;Pa<288;++Pa)V0[Pa]=8;var Cy=new Vo(32);for(var Pa=0;Pa<32;++Pa)Cy[Pa]=5;var aye=SA(V0,9,0),sye=SA(V0,9,1),iye=SA(Cy,5,0),oye=SA(Cy,5,1),dB=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ed=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},AB=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},HO=function(e){return(e+7)/8|0},hJ=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Vo(e.subarray(t,r))},lye=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ad=function(e,t,r){var n=new Error(t||lye[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ad),!r)throw n;return n},cye=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new Vo(0);var i=!r,o=i||t.i!=2,l=t.i;i&&(r=new Vo(a*3));var u=function(De){var re=r.length;if(De>re){var Se=new Vo(Math.max(re*2,De));Se.set(r),r=Se}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,v=t.d,g=t.m,b=t.n,y=a*8;do{if(!p){d=ed(e,f,1);var _=ed(e,f+1,3);if(f+=3,_)if(_==1)p=sye,v=oye,g=9,b=5;else if(_==2){var O=ed(e,f,31)+257,w=ed(e,f+10,15)+4,C=O+ed(e,f+5,31)+1;f+=14;for(var N=new Vo(C),P=new Vo(19),j=0;j<w;++j)P[oj[j]]=ed(e,f+j*3,7);f+=w*3;for(var F=dB(P),M=(1<<F)-1,Q=SA(P,F,1),j=0;j<C;){var J=Q[ed(e,f,M)];f+=J&15;var S=J>>4;if(S<16)N[j++]=S;else{var q=0,Z=0;for(S==16?(Z=3+ed(e,f,3),f+=2,q=N[j-1]):S==17?(Z=3+ed(e,f,7),f+=3):S==18&&(Z=11+ed(e,f,127),f+=7);Z--;)N[j++]=q}}var H=N.subarray(0,O),V=N.subarray(O);g=dB(H),b=dB(V),p=SA(H,g,1),v=SA(V,b,1)}else ad(1);else{var S=HO(f)+4,B=e[S-4]|e[S-3]<<8,k=S+B;if(k>a){l&&ad(0);break}o&&u(h+B),r.set(e.subarray(S,k),h),t.b=h+=B,t.p=f=k*8,t.f=d;continue}if(f>y){l&&ad(0);break}}o&&u(h+131072);for(var G=(1<<g)-1,ne=(1<<b)-1,R=f;;R=f){var q=p[AB(e,f)&G],W=q>>4;if(f+=q&15,f>y){l&&ad(0);break}if(q||ad(2),W<256)r[h++]=W;else if(W==256){R=f,p=null;break}else{var Y=W-254;if(W>264){var j=W-257,te=tN[j];Y=ed(e,f,(1<<te)-1)+AJ[j],f+=te}var ie=v[AB(e,f)&ne],me=ie>>4;ie||ad(3),f+=ie&15;var V=nye[me];if(me>3){var te=rN[me];V+=AB(e,f)&(1<<te)-1,f+=te}if(f>y){l&&ad(0);break}o&&u(h+131072);var oe=h+Y;if(h<V){var ce=s-V,ge=Math.min(V,oe);for(ce+h<0&&ad(3);h<ge;++h)r[h]=n[ce+h]}for(;h<oe;++h)r[h]=r[h-V]}}t.l=p,t.p=R,t.b=h,t.f=d,p&&(d=1,t.m=g,t.d=v,t.n=b)}while(!d);return h!=r.length&&i?hJ(r,0,h):r.subarray(0,h)},pf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},z1=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},fB=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:pJ,l:0};if(a==1){var i=new Vo(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(k,O){return k.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=s[0].s,n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var p=new Ec(h+1),v=uj(r[d-1],p,0);if(v>t){var n=0,g=0,b=v-t,y=1<<b;for(s.sort(function(O,w){return p[w.s]-p[O.s]||O.f-w.f});n<a;++n){var _=s[n].s;if(p[_]>t)g+=y-(1<<v-p[_]),p[_]=t;else break}for(g>>=b;g>0;){var S=s[n].s;p[S]<t?g-=1<<t-p[S]++-1:++n}for(;n>=0&&g;--n){var B=s[n].s;p[B]==t&&(--p[B],++g)}v=t}return{t:new Vo(p),l:v}},uj=function(e,t,r){return e.s==-1?Math.max(uj(e.l,t,r+1),uj(e.r,t,r+1)):t[e.s]=r},e9=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ec(++t),n=0,a=e[0],s=1,i=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[o]}return{c:r.subarray(0,n),n:t}},$1=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},mJ=function(e,t,r){var n=r.length,a=HO(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},t9=function(e,t,r,n,a,s,i,o,l,u,d){pf(t,d++,r),++a[256];for(var f=fB(a,15),h=f.t,p=f.l,v=fB(s,15),g=v.t,b=v.l,y=e9(h),_=y.c,S=y.n,B=e9(g),k=B.c,O=B.n,w=new Ec(19),C=0;C<_.length;++C)++w[_[C]&31];for(var C=0;C<k.length;++C)++w[k[C]&31];for(var N=fB(w,7),P=N.t,j=N.l,F=19;F>4&&!P[oj[F-1]];--F);var M=u+5<<3,Q=$1(a,V0)+$1(s,Cy)+i,J=$1(a,h)+$1(s,g)+i+14+3*F+$1(w,P)+2*w[16]+3*w[17]+7*w[18];if(l>=0&&M<=Q&&M<=J)return mJ(t,d,e.subarray(l,l+u));var q,Z,H,V;if(pf(t,d,1+(J<Q)),d+=2,J<Q){q=SA(h,p,0),Z=h,H=SA(g,b,0),V=g;var G=SA(P,j,0);pf(t,d,S-257),pf(t,d+5,O-1),pf(t,d+10,F-4),d+=14;for(var C=0;C<F;++C)pf(t,d+3*C,P[oj[C]]);d+=3*F;for(var ne=[_,k],R=0;R<2;++R)for(var W=ne[R],C=0;C<W.length;++C){var Y=W[C]&31;pf(t,d,G[Y]),d+=P[Y],Y>15&&(pf(t,d,W[C]>>5&127),d+=W[C]>>12)}}else q=aye,Z=V0,H=iye,V=Cy;for(var C=0;C<o;++C){var te=n[C];if(te>255){var Y=te>>18&31;z1(t,d,q[Y+257]),d+=Z[Y+257],Y>7&&(pf(t,d,te>>23&31),d+=tN[Y]);var ie=te&31;z1(t,d,H[ie]),d+=V[ie],ie>3&&(z1(t,d,te>>5&8191),d+=rN[ie])}else z1(t,d,q[te]),d+=Z[te]}return z1(t,d,q[256]),d+Z[256]},uye=new QO([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pJ=new Vo(0),dye=function(e,t,r,n,a,s){var i=s.z||e.length,o=new Vo(n+i+5*(1+Math.ceil(i/7e3))+a),l=o.subarray(n,o.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(l[0]=s.r>>3);for(var f=uye[t-1],h=f>>13,p=f&8191,v=(1<<r)-1,g=s.p||new Ec(32768),b=s.h||new Ec(v+1),y=Math.ceil(r/3),_=2*y,S=function(Pe){return(e[Pe]^e[Pe+1]<<y^e[Pe+2]<<_)&v},B=new QO(25e3),k=new Ec(288),O=new Ec(32),w=0,C=0,N=s.i||0,P=0,j=s.w||0,F=0;N+2<i;++N){var M=S(N),Q=N&32767,J=b[M];if(g[Q]=J,b[M]=Q,j<=N){var q=i-N;if((w>7e3||P>24576)&&(q>423||!u)){d=t9(e,l,0,B,k,O,C,P,F,N-F,d),P=w=C=0,F=N;for(var Z=0;Z<286;++Z)k[Z]=0;for(var Z=0;Z<30;++Z)O[Z]=0}var H=2,V=0,G=p,ne=Q-J&32767;if(q>2&&M==S(N-ne))for(var R=Math.min(h,q)-1,W=Math.min(32767,N),Y=Math.min(258,q);ne<=W&&--G&&Q!=J;){if(e[N+H]==e[N+H-ne]){for(var te=0;te<Y&&e[N+te]==e[N+te-ne];++te);if(te>H){if(H=te,V=ne,te>R)break;for(var ie=Math.min(ne,te-2),me=0,Z=0;Z<ie;++Z){var oe=N-ne+Z&32767,ce=g[oe],ge=oe-ce&32767;ge>me&&(me=ge,J=oe)}}}Q=J,J=g[Q],ne+=Q-J&32767}if(V){B[P++]=268435456|lj[H]<<18|Z7[V];var De=lj[H]&31,re=Z7[V]&31;C+=tN[De]+rN[re],++k[257+De],++O[re],j=N+H,++w}else B[P++]=e[N],++k[e[N]]}}for(N=Math.max(N,j);N<i;++N)B[P++]=e[N],++k[e[N]];d=t9(e,l,u,B,k,O,C,P,F,N-F,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=b,s.p=g,s.i=N,s.w=j)}else{for(var N=s.w||0;N<i+u;N+=65535){var Se=N+65535;Se>=i&&(l[d/8|0]=u,Se=i),d=mJ(l,d+1,e.subarray(N,Se))}s.i=i}return hJ(o,0,n+HO(d)+a)},gJ=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Aye=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new Vo(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return dye(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},vJ=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},fye=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=gJ();a.p(t.dictionary),vJ(e,2,a.d())}},hye=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ad(6,"invalid zlib data"),(e[1]>>5&1)==1&&ad(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function dj(e,t){t||(t={});var r=gJ();r.p(e);var n=Aye(e,t,t.dictionary?6:2,4);return fye(n,t),vJ(n,n.length-4,r.d()),n}function mye(e,t){return cye(e.subarray(hye(e),-4),{i:2},t,t)}var pye=typeof TextDecoder<"u"&&new TextDecoder,gye=0;try{pye.decode(pJ,{stream:!0}),gye=1}catch{}var Or=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hB(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var Ea={log:hB,warn:function(e){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):hB.call(null,arguments))},error:function(e){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):hB(e))}};function mB(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Rm(n.response,t,r)},n.onerror=function(){Ea.error("could not download file")},n.send()}function r9(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function fE(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Kb,Aj,Rm=Or.saveAs||((typeof window>"u"?"undefined":da(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Or.URL||Or.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?r9(a.href)?mB(e,t,r):fE(a,a.target="_blank"):fE(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){fE(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(r9(e))mB(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){fE(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:da(s)!=="object"&&(Ea.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return mB(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(Or.HTMLElement)||Or.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":da(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var l=Or.URL||Or.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xJ(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pB(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=No(r,n,a,s,t[0],7,-680876936),s=No(s,r,n,a,t[1],12,-389564586),a=No(a,s,r,n,t[2],17,606105819),n=No(n,a,s,r,t[3],22,-1044525330),r=No(r,n,a,s,t[4],7,-176418897),s=No(s,r,n,a,t[5],12,1200080426),a=No(a,s,r,n,t[6],17,-1473231341),n=No(n,a,s,r,t[7],22,-45705983),r=No(r,n,a,s,t[8],7,1770035416),s=No(s,r,n,a,t[9],12,-1958414417),a=No(a,s,r,n,t[10],17,-42063),n=No(n,a,s,r,t[11],22,-1990404162),r=No(r,n,a,s,t[12],7,1804603682),s=No(s,r,n,a,t[13],12,-40341101),a=No(a,s,r,n,t[14],17,-1502002290),r=ko(r,n=No(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=ko(s,r,n,a,t[6],9,-1069501632),a=ko(a,s,r,n,t[11],14,643717713),n=ko(n,a,s,r,t[0],20,-373897302),r=ko(r,n,a,s,t[5],5,-701558691),s=ko(s,r,n,a,t[10],9,38016083),a=ko(a,s,r,n,t[15],14,-660478335),n=ko(n,a,s,r,t[4],20,-405537848),r=ko(r,n,a,s,t[9],5,568446438),s=ko(s,r,n,a,t[14],9,-1019803690),a=ko(a,s,r,n,t[3],14,-187363961),n=ko(n,a,s,r,t[8],20,1163531501),r=ko(r,n,a,s,t[13],5,-1444681467),s=ko(s,r,n,a,t[2],9,-51403784),a=ko(a,s,r,n,t[7],14,1735328473),r=Bo(r,n=ko(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Bo(s,r,n,a,t[8],11,-2022574463),a=Bo(a,s,r,n,t[11],16,1839030562),n=Bo(n,a,s,r,t[14],23,-35309556),r=Bo(r,n,a,s,t[1],4,-1530992060),s=Bo(s,r,n,a,t[4],11,1272893353),a=Bo(a,s,r,n,t[7],16,-155497632),n=Bo(n,a,s,r,t[10],23,-1094730640),r=Bo(r,n,a,s,t[13],4,681279174),s=Bo(s,r,n,a,t[0],11,-358537222),a=Bo(a,s,r,n,t[3],16,-722521979),n=Bo(n,a,s,r,t[6],23,76029189),r=Bo(r,n,a,s,t[9],4,-640364487),s=Bo(s,r,n,a,t[12],11,-421815835),a=Bo(a,s,r,n,t[15],16,530742520),r=To(r,n=Bo(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=To(s,r,n,a,t[7],10,1126891415),a=To(a,s,r,n,t[14],15,-1416354905),n=To(n,a,s,r,t[5],21,-57434055),r=To(r,n,a,s,t[12],6,1700485571),s=To(s,r,n,a,t[3],10,-1894986606),a=To(a,s,r,n,t[10],15,-1051523),n=To(n,a,s,r,t[1],21,-2054922799),r=To(r,n,a,s,t[8],6,1873313359),s=To(s,r,n,a,t[15],10,-30611744),a=To(a,s,r,n,t[6],15,-1560198380),n=To(n,a,s,r,t[13],21,1309151649),r=To(r,n,a,s,t[4],6,-145523070),s=To(s,r,n,a,t[11],10,-1120210379),a=To(a,s,r,n,t[2],15,718787259),n=To(n,a,s,r,t[9],21,-343485551),e[0]=m0(r,e[0]),e[1]=m0(n,e[1]),e[2]=m0(a,e[2]),e[3]=m0(s,e[3])}function nN(e,t,r,n,a,s){return t=m0(m0(t,e),m0(n,s)),m0(t<<a|t>>>32-a,r)}function No(e,t,r,n,a,s,i){return nN(t&r|~t&n,e,t,a,s,i)}function ko(e,t,r,n,a,s,i){return nN(t&n|r&~n,e,t,a,s,i)}function Bo(e,t,r,n,a,s,i){return nN(t^r^n,e,t,a,s,i)}function To(e,t,r,n,a,s,i){return nN(r^(t|~n),e,t,a,s,i)}function bJ(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)pB(n,vye(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(pB(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,pB(n,a),n}function vye(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Kb=Or.atob.bind(Or),Aj=Or.btoa.bind(Or);var n9="0123456789abcdef".split("");function xye(e){for(var t="",r=0;r<4;r++)t+=n9[e>>8*r+4&15]+n9[e>>8*r&15];return t}function bye(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function fj(e){return bJ(e).map(bye).join("")}var yye=function(e){for(var t=0;t<e.length;t++)e[t]=xye(e[t]);return e.join("")}(bJ("hello"))!="5d41402abc4b2a76b9719d911017c592";function m0(e,t){if(yye){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function hj(e,t){var r,n,a,s;if(e!==r){for(var i=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+i.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=e,n=o}else o=n;var f=t.length,h=0,p=0,v="";for(l=0;l<f;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,i=o[(o[h]+o[p])%256],v+=String.fromCharCode(t.charCodeAt(l)^i);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var a9={print:4,modify:8,copy:16,"annot-forms":32};function iv(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(a9.perm!==void 0)throw new Error("Invalid permission: "+o);a+=a9[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=fj(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=hj(this.encryptionKey,this.padding)}function ov(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function s9(e){if(da(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var i=t[r][s];try{i[0].apply(e,n)}catch(o){Or.console&&Ea.error("jsPDF PubSub Error",o.message,o)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function M_(e){if(!(this instanceof M_))return new M_(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function yJ(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Vm(e,t,r,n,a){if(!(this instanceof Vm))return new Vm(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,yJ.call(this,n,a)}function fv(e,t,r,n,a){if(!(this instanceof fv))return new fv(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,yJ.call(this,n,a)}function hr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,l=16,u="S",d=null;da(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),i=e.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=s9;var v="1.3",g=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(K){v=K};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var y=p.__private__.getPageFormat=function(K){return b[K]};a=a||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},S=_.COMPAT;function B(){this.saveGraphicsState(),Ae(new Yt(Be,0,0,-Be,0,Ti()*Be).toString()+" cm"),this.setFontSize(this.getFontSize()/Be),u="n",S=_.ADVANCED}function k(){this.restoreGraphicsState(),u="S",S=_.COMPAT}var O=p.__private__.combineFontStyleAndFontWeight=function(K,de){if(K=="bold"&&de=="normal"||K=="bold"&&de==400||K=="normal"&&de=="italic"||K=="bold"&&de=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return de&&(K=de==400||de==="normal"?K==="italic"?"italic":"normal":de!=700&&de!=="bold"||K!=="normal"?(de==700?"bold":de)+""+K:"bold"),K};p.advancedAPI=function(K){var de=S===_.COMPAT;return de&&B.call(this),typeof K!="function"||(K(this),de&&k.call(this)),this},p.compatAPI=function(K){var de=S===_.ADVANCED;return de&&k.call(this),typeof K!="function"||(K(this),de&&B.call(this)),this},p.isAdvancedAPI=function(){return S===_.ADVANCED};var w,C=function(K){if(S!==_.ADVANCED)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=p.roundToPrecision=p.__private__.roundToPrecision=function(K,de){var Fe=t||de;if(isNaN(K)||isNaN(Fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(Fe).replace(/0+$/,"")};w=p.hpf=p.__private__.hpf=typeof l=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return N(K,l)}:l==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return N(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return N(K,16)};var P=p.f2=p.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return N(K,2)},j=p.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return N(K,3)},F=p.scale=p.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return S===_.COMPAT?K*Be:S===_.ADVANCED?K:void 0},M=function(K){return S===_.COMPAT?Ti()-K:S===_.ADVANCED?K:void 0},Q=function(K){return F(M(K))};p.__private__.setPrecision=p.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(t=parseInt(K,10))};var J,q="00000000000000000000000000000000",Z=p.__private__.getFileId=function(){return q},H=p.__private__.setFileId=function(K){return q=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(aa=new iv(d.userPermissions,d.userPassword,d.ownerPassword,q)),q};p.setFileId=function(K){return H(K),this},p.getFileId=function(){return Z()};var V=p.__private__.convertDateToPDFDate=function(K){var de=K.getTimezoneOffset(),Fe=de<0?"+":"-",Qe=Math.floor(Math.abs(de/60)),We=Math.abs(de%60),vt=[Fe,Y(Qe),"'",Y(We),"'"].join("");return["D:",K.getFullYear(),Y(K.getMonth()+1),Y(K.getDate()),Y(K.getHours()),Y(K.getMinutes()),Y(K.getSeconds()),vt].join("")},G=p.__private__.convertPDFDateToDate=function(K){var de=parseInt(K.substr(2,4),10),Fe=parseInt(K.substr(6,2),10)-1,Qe=parseInt(K.substr(8,2),10),We=parseInt(K.substr(10,2),10),vt=parseInt(K.substr(12,2),10),Ot=parseInt(K.substr(14,2),10);return new Date(de,Fe,Qe,We,vt,Ot,0)},ne=p.__private__.setCreationDate=function(K){var de;if(K===void 0&&(K=new Date),K instanceof Date)de=V(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");de=K}return J=de},R=p.__private__.getCreationDate=function(K){var de=J;return K==="jsDate"&&(de=G(J)),de};p.setCreationDate=function(K){return ne(K),this},p.getCreationDate=function(K){return R(K)};var W,Y=p.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},te=p.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},ie=0,me=[],oe=[],ce=0,ge=[],De=[],re=!1,Se=oe,Pe=function(){ie=0,ce=0,oe=[],me=[],ge=[],Ee=ma(),Ce=ma()};p.__private__.setCustomOutputDestination=function(K){re=!0,Se=K};var _e=function(K){re||(Se=K)};p.__private__.resetCustomOutputDestination=function(){re=!1,Se=oe};var Ae=p.__private__.out=function(K){return K=K.toString(),ce+=K.length+1,Se.push(K),Se},je=p.__private__.write=function(K){return Ae(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},$e=p.__private__.getArrayBuffer=function(K){for(var de=K.length,Fe=new ArrayBuffer(de),Qe=new Uint8Array(Fe);de--;)Qe[de]=K.charCodeAt(de);return Fe},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ze};var ye=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(K){return ye=S===_.ADVANCED?K/Be:K,this};var Oe,Me=p.__private__.getFontSize=p.getFontSize=function(){return S===_.COMPAT?ye:ye*Be},Ye=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(K){return Ye=K,this},p.__private__.getR2L=p.getR2L=function(){return Ye};var tt,ct=p.__private__.setZoomMode=function(K){var de=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))Oe=K;else if(isNaN(K)){if(de.indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');Oe=K}else Oe=parseInt(K,10)};p.__private__.getZoomMode=function(){return Oe};var gt,kt=p.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');tt=K};p.__private__.getPageMode=function(){return tt};var Dt=p.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');gt=K};p.__private__.getLayoutMode=function(){return gt},p.__private__.setDisplayMode=p.setDisplayMode=function(K,de,Fe){return ct(K),Dt(de),kt(Fe),this};var Re={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(K){if(Object.keys(Re).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Re[K]},p.__private__.getDocumentProperties=function(){return Re},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(K){for(var de in Re)Re.hasOwnProperty(de)&&K[de]&&(Re[de]=K[de]);return this},p.__private__.setDocumentProperty=function(K,de){if(Object.keys(Re).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Re[K]=de};var Ue,Be,ht,wt,ir,Kt={},Ut={},Ur=[],Ar={},wn={},Vr={},Tn={},ra=null,cr=0,er=[],qr=new s9(p),qs=e.hotfixes||[],ha={},Ga={},di=[],Yt=function K(de,Fe,Qe,We,vt,Ot){if(!(this instanceof K))return new K(de,Fe,Qe,We,vt,Ot);isNaN(de)&&(de=1),isNaN(Fe)&&(Fe=0),isNaN(Qe)&&(Qe=0),isNaN(We)&&(We=1),isNaN(vt)&&(vt=0),isNaN(Ot)&&(Ot=0),this._matrix=[de,Fe,Qe,We,vt,Ot]};Object.defineProperty(Yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(Yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(Yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(Yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(Yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(Yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(Yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(Yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(Yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(Yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(Yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(Yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(Yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Yt.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(w).join(K)},Yt.prototype.multiply=function(K){var de=K.sx*this.sx+K.shy*this.shx,Fe=K.sx*this.shy+K.shy*this.sy,Qe=K.shx*this.sx+K.sy*this.shx,We=K.shx*this.shy+K.sy*this.sy,vt=K.tx*this.sx+K.ty*this.shx+this.tx,Ot=K.tx*this.shy+K.ty*this.sy+this.ty;return new Yt(de,Fe,Qe,We,vt,Ot)},Yt.prototype.decompose=function(){var K=this.sx,de=this.shy,Fe=this.shx,Qe=this.sy,We=this.tx,vt=this.ty,Ot=Math.sqrt(K*K+de*de),qt=(K/=Ot)*Fe+(de/=Ot)*Qe;Fe-=K*qt,Qe-=de*qt;var D=Math.sqrt(Fe*Fe+Qe*Qe);return qt/=D,K*(Qe/=D)<de*(Fe/=D)&&(K=-K,de=-de,qt=-qt,Ot=-Ot),{scale:new Yt(Ot,0,0,D,0,0),translate:new Yt(1,0,0,1,We,vt),rotate:new Yt(K,de,-de,K,0,0),skew:new Yt(1,0,qt,1,0,0)}},Yt.prototype.toString=function(K){return this.join(" ")},Yt.prototype.inversed=function(){var K=this.sx,de=this.shy,Fe=this.shx,Qe=this.sy,We=this.tx,vt=this.ty,Ot=1/(K*Qe-de*Fe),qt=Qe*Ot,D=-de*Ot,ee=-Fe*Ot,se=K*Ot;return new Yt(qt,D,ee,se,-qt*We-ee*vt,-D*We-se*vt)},Yt.prototype.applyToPoint=function(K){var de=K.x*this.sx+K.y*this.shx+this.tx,Fe=K.x*this.shy+K.y*this.sy+this.ty;return new Du(de,Fe)},Yt.prototype.applyToRectangle=function(K){var de=this.applyToPoint(K),Fe=this.applyToPoint(new Du(K.x+K.w,K.y+K.h));return new kd(de.x,de.y,Fe.x-de.x,Fe.y-de.y)},Yt.prototype.clone=function(){var K=this.sx,de=this.shy,Fe=this.shx,Qe=this.sy,We=this.tx,vt=this.ty;return new Yt(K,de,Fe,Qe,We,vt)},p.Matrix=Yt;var En=p.matrixMult=function(K,de){return de.multiply(K)},hn=new Yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=hn;var $n=function(K,de){if(!wn[K]){var Fe=(de instanceof Vm?"Sh":"P")+(Object.keys(Ar).length+1).toString(10);de.id=Fe,wn[K]=Fe,Ar[Fe]=de,qr.publish("addPattern",de)}};p.ShadingPattern=Vm,p.TilingPattern=fv,p.addShadingPattern=function(K,de){return C("addShadingPattern()"),$n(K,de),this},p.beginTilingPattern=function(K){C("beginTilingPattern()"),Hc(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},p.endTilingPattern=function(K,de){C("endTilingPattern()"),de.stream=De[W].join(`
`),$n(K,de),qr.publish("endTilingPattern",de),di.pop().restore()};var na=p.__private__.newObject=function(){var K=ma();return fe(K,!0),K},ma=p.__private__.newObjectDeferred=function(){return ie++,me[ie]=function(){return ce},ie},fe=function(K,de){return de=typeof de=="boolean"&&de,me[K]=ce,de&&Ae(K+" 0 obj"),K},Te=p.__private__.newAdditionalObject=function(){var K={objId:ma(),content:""};return ge.push(K),K},Ee=ma(),Ce=ma(),Ne=p.__private__.decodeColorString=function(K){var de=K.split(" ");if(de.length!==2||de[1]!=="g"&&de[1]!=="G")de.length===5&&(de[4]==="k"||de[4]==="K")&&(de=[(1-de[0])*(1-de[3]),(1-de[1])*(1-de[3]),(1-de[2])*(1-de[3]),"r"]);else{var Fe=parseFloat(de[0]);de=[Fe,Fe,Fe,"r"]}for(var Qe="#",We=0;We<3;We++)Qe+=("0"+Math.floor(255*parseFloat(de[We])).toString(16)).slice(-2);return Qe},Ie=p.__private__.encodeColorString=function(K){var de;typeof K=="string"&&(K={ch1:K});var Fe=K.ch1,Qe=K.ch2,We=K.ch3,vt=K.ch4,Ot=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Fe=="string"&&Fe.charAt(0)!=="#"){var qt=new xJ(Fe);if(qt.ok)Fe=qt.toHex();else if(!/^\d*\.?\d*$/.test(Fe))throw new Error('Invalid color "'+Fe+'" passed to jsPDF.encodeColorString.')}if(typeof Fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Fe)&&(Fe="#"+Fe[1]+Fe[1]+Fe[2]+Fe[2]+Fe[3]+Fe[3]),typeof Fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Fe)){var D=parseInt(Fe.substr(1),16);Fe=D>>16&255,Qe=D>>8&255,We=255&D}if(Qe===void 0||vt===void 0&&Fe===Qe&&Qe===We)if(typeof Fe=="string")de=Fe+" "+Ot[0];else switch(K.precision){case 2:de=P(Fe/255)+" "+Ot[0];break;case 3:default:de=j(Fe/255)+" "+Ot[0]}else if(vt===void 0||da(vt)==="object"){if(vt&&!isNaN(vt.a)&&vt.a===0)return de=["1.","1.","1.",Ot[1]].join(" ");if(typeof Fe=="string")de=[Fe,Qe,We,Ot[1]].join(" ");else switch(K.precision){case 2:de=[P(Fe/255),P(Qe/255),P(We/255),Ot[1]].join(" ");break;default:case 3:de=[j(Fe/255),j(Qe/255),j(We/255),Ot[1]].join(" ")}}else if(typeof Fe=="string")de=[Fe,Qe,We,vt,Ot[2]].join(" ");else switch(K.precision){case 2:de=[P(Fe),P(Qe),P(We),P(vt),Ot[2]].join(" ");break;case 3:default:de=[j(Fe),j(Qe),j(We),j(vt),Ot[2]].join(" ")}return de},et=p.__private__.getFilters=function(){return i},At=p.__private__.putStream=function(K){var de=(K=K||{}).data||"",Fe=K.filters||et(),Qe=K.alreadyAppliedFilters||[],We=K.addLength1||!1,vt=de.length,Ot=K.objectId,qt=function(Nr){return Nr};if(d!==null&&Ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qt=aa.encryptor(Ot,0));var D={};Fe===!0&&(Fe=["FlateEncode"]);var ee=K.additionalKeyValues||[],se=(D=hr.API.processDataByFilters!==void 0?hr.API.processDataByFilters(de,Fe):{data:de,reverseChain:[]}).reverseChain+(Array.isArray(Qe)?Qe.join(" "):Qe.toString());if(D.data.length!==0&&(ee.push({key:"Length",value:D.data.length}),We===!0&&ee.push({key:"Length1",value:vt})),se.length!=0)if(se.split("/").length-1==1)ee.push({key:"Filter",value:se});else{ee.push({key:"Filter",value:"["+se+"]"});for(var xe=0;xe<ee.length;xe+=1)if(ee[xe].key==="DecodeParms"){for(var Ge=[],ot=0;ot<D.reverseChain.split("/").length-1;ot+=1)Ge.push("null");Ge.push(ee[xe].value),ee[xe].value="["+Ge.join(" ")+"]"}}Ae("<<");for(var Pt=0;Pt<ee.length;Pt++)Ae("/"+ee[Pt].key+" "+ee[Pt].value);Ae(">>"),D.data.length!==0&&(Ae("stream"),Ae(qt(D.data)),Ae("endstream"))},qe=p.__private__.putPage=function(K){var de=K.number,Fe=K.data,Qe=K.objId,We=K.contentsObjId;fe(Qe,!0),Ae("<</Type /Page"),Ae("/Parent "+K.rootDictionaryObjId+" 0 R"),Ae("/Resources "+K.resourceDictionaryObjId+" 0 R"),Ae("/MediaBox ["+parseFloat(w(K.mediaBox.bottomLeftX))+" "+parseFloat(w(K.mediaBox.bottomLeftY))+" "+w(K.mediaBox.topRightX)+" "+w(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&Ae("/CropBox ["+w(K.cropBox.bottomLeftX)+" "+w(K.cropBox.bottomLeftY)+" "+w(K.cropBox.topRightX)+" "+w(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&Ae("/BleedBox ["+w(K.bleedBox.bottomLeftX)+" "+w(K.bleedBox.bottomLeftY)+" "+w(K.bleedBox.topRightX)+" "+w(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&Ae("/TrimBox ["+w(K.trimBox.bottomLeftX)+" "+w(K.trimBox.bottomLeftY)+" "+w(K.trimBox.topRightX)+" "+w(K.trimBox.topRightY)+"]"),K.artBox!==null&&Ae("/ArtBox ["+w(K.artBox.bottomLeftX)+" "+w(K.artBox.bottomLeftY)+" "+w(K.artBox.topRightX)+" "+w(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&Ae("/UserUnit "+K.userUnit),qr.publish("putPage",{objId:Qe,pageContext:er[de],pageNumber:de,page:Fe}),Ae("/Contents "+We+" 0 R"),Ae(">>"),Ae("endobj");var vt=Fe.join(`
`);return S===_.ADVANCED&&(vt+=`
Q`),fe(We,!0),At({data:vt,filters:et(),objectId:We}),Ae("endobj"),Qe},nt=p.__private__.putPages=function(){var K,de,Fe=[];for(K=1;K<=cr;K++)er[K].objId=ma(),er[K].contentsObjId=ma();for(K=1;K<=cr;K++)Fe.push(qe({number:K,data:De[K],objId:er[K].objId,contentsObjId:er[K].contentsObjId,mediaBox:er[K].mediaBox,cropBox:er[K].cropBox,bleedBox:er[K].bleedBox,trimBox:er[K].trimBox,artBox:er[K].artBox,userUnit:er[K].userUnit,rootDictionaryObjId:Ee,resourceDictionaryObjId:Ce}));fe(Ee,!0),Ae("<</Type /Pages");var Qe="/Kids [";for(de=0;de<cr;de++)Qe+=Fe[de]+" 0 R ";Ae(Qe+"]"),Ae("/Count "+cr),Ae(">>"),Ae("endobj"),qr.publish("postPutPages")},it=function(K){qr.publish("putFont",{font:K,out:Ae,newObject:na,putStream:At}),K.isAlreadyPutted!==!0&&(K.objectNumber=na(),Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+ov(K.postScriptName)),Ae("/Subtype /Type1"),typeof K.encoding=="string"&&Ae("/Encoding /"+K.encoding),Ae("/FirstChar 32"),Ae("/LastChar 255"),Ae(">>"),Ae("endobj"))},Bt=function(){for(var K in Kt)Kt.hasOwnProperty(K)&&(f===!1||f===!0&&h.hasOwnProperty(K))&&it(Kt[K])},Mt=function(K){K.objectNumber=na();var de=[];de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Form"}),de.push({key:"BBox",value:"["+[w(K.x),w(K.y),w(K.x+K.width),w(K.y+K.height)].join(" ")+"]"}),de.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var Fe=K.pages[1].join(`
`);At({data:Fe,additionalKeyValues:de,objectId:K.objectNumber}),Ae("endobj")},Gt=function(){for(var K in ha)ha.hasOwnProperty(K)&&Mt(ha[K])},Lt=function(K,de){var Fe,Qe=[],We=1/(de-1);for(Fe=0;Fe<1;Fe+=We)Qe.push(Fe);if(Qe.push(1),K[0].offset!=0){var vt={offset:0,color:K[0].color};K.unshift(vt)}if(K[K.length-1].offset!=1){var Ot={offset:1,color:K[K.length-1].color};K.push(Ot)}for(var qt="",D=0,ee=0;ee<Qe.length;ee++){for(Fe=Qe[ee];Fe>K[D+1].offset;)D++;var se=K[D].offset,xe=(Fe-se)/(K[D+1].offset-se),Ge=K[D].color,ot=K[D+1].color;qt+=te(Math.round((1-xe)*Ge[0]+xe*ot[0]).toString(16))+te(Math.round((1-xe)*Ge[1]+xe*ot[1]).toString(16))+te(Math.round((1-xe)*Ge[2]+xe*ot[2]).toString(16))}return qt.trim()},Qt=function(K,de){de||(de=21);var Fe=na(),Qe=Lt(K.colors,de),We=[];We.push({key:"FunctionType",value:"0"}),We.push({key:"Domain",value:"[0.0 1.0]"}),We.push({key:"Size",value:"["+de+"]"}),We.push({key:"BitsPerSample",value:"8"}),We.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),At({data:Qe,additionalKeyValues:We,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Fe}),Ae("endobj"),K.objectNumber=na(),Ae("<< /ShadingType "+K.type),Ae("/ColorSpace /DeviceRGB");var vt="/Coords ["+w(parseFloat(K.coords[0]))+" "+w(parseFloat(K.coords[1]))+" ";K.type===2?vt+=w(parseFloat(K.coords[2]))+" "+w(parseFloat(K.coords[3])):vt+=w(parseFloat(K.coords[2]))+" "+w(parseFloat(K.coords[3]))+" "+w(parseFloat(K.coords[4]))+" "+w(parseFloat(K.coords[5])),Ae(vt+="]"),K.matrix&&Ae("/Matrix ["+K.matrix.toString()+"]"),Ae("/Function "+Fe+" 0 R"),Ae("/Extend [true true]"),Ae(">>"),Ae("endobj")},Er=function(K,de){var Fe=ma(),Qe=na();de.push({resourcesOid:Fe,objectOid:Qe}),K.objectNumber=Qe;var We=[];We.push({key:"Type",value:"/Pattern"}),We.push({key:"PatternType",value:"1"}),We.push({key:"PaintType",value:"1"}),We.push({key:"TilingType",value:"1"}),We.push({key:"BBox",value:"["+K.boundingBox.map(w).join(" ")+"]"}),We.push({key:"XStep",value:w(K.xStep)}),We.push({key:"YStep",value:w(K.yStep)}),We.push({key:"Resources",value:Fe+" 0 R"}),K.matrix&&We.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),At({data:K.stream,additionalKeyValues:We,objectId:K.objectNumber}),Ae("endobj")},Xr=function(K){var de;for(de in Ar)Ar.hasOwnProperty(de)&&(Ar[de]instanceof Vm?Qt(Ar[de]):Ar[de]instanceof fv&&Er(Ar[de],K))},Yr=function(K){for(var de in K.objectNumber=na(),Ae("<<"),K)switch(de){case"opacity":Ae("/ca "+P(K[de]));break;case"stroke-opacity":Ae("/CA "+P(K[de]))}Ae(">>"),Ae("endobj")},rn=function(){var K;for(K in Vr)Vr.hasOwnProperty(K)&&Yr(Vr[K])},is=function(){for(var K in Ae("/XObject <<"),ha)ha.hasOwnProperty(K)&&ha[K].objectNumber>=0&&Ae("/"+K+" "+ha[K].objectNumber+" 0 R");qr.publish("putXobjectDict"),Ae(">>")},ho=function(){aa.oid=na(),Ae("<<"),Ae("/Filter /Standard"),Ae("/V "+aa.v),Ae("/R "+aa.r),Ae("/U <"+aa.toHexString(aa.U)+">"),Ae("/O <"+aa.toHexString(aa.O)+">"),Ae("/P "+aa.P),Ae(">>"),Ae("endobj")},os=function(){for(var K in Ae("/Font <<"),Kt)Kt.hasOwnProperty(K)&&(f===!1||f===!0&&h.hasOwnProperty(K))&&Ae("/"+K+" "+Kt[K].objectNumber+" 0 R");Ae(">>")},Ws=function(){if(Object.keys(Ar).length>0){for(var K in Ae("/Shading <<"),Ar)Ar.hasOwnProperty(K)&&Ar[K]instanceof Vm&&Ar[K].objectNumber>=0&&Ae("/"+K+" "+Ar[K].objectNumber+" 0 R");qr.publish("putShadingPatternDict"),Ae(">>")}},Ns=function(K){if(Object.keys(Ar).length>0){for(var de in Ae("/Pattern <<"),Ar)Ar.hasOwnProperty(de)&&Ar[de]instanceof p.TilingPattern&&Ar[de].objectNumber>=0&&Ar[de].objectNumber<K&&Ae("/"+de+" "+Ar[de].objectNumber+" 0 R");qr.publish("putTilingPatternDict"),Ae(">>")}},Ai=function(){if(Object.keys(Vr).length>0){var K;for(K in Ae("/ExtGState <<"),Vr)Vr.hasOwnProperty(K)&&Vr[K].objectNumber>=0&&Ae("/"+K+" "+Vr[K].objectNumber+" 0 R");qr.publish("putGStateDict"),Ae(">>")}},pa=function(K){fe(K.resourcesOid,!0),Ae("<<"),Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),os(),Ws(),Ns(K.objectOid),Ai(),is(),Ae(">>"),Ae("endobj")},Xs=function(){var K=[];Bt(),rn(),Gt(),Xr(K),qr.publish("putResources"),K.forEach(pa),pa({resourcesOid:Ce,objectOid:Number.MAX_SAFE_INTEGER}),qr.publish("postPutResources")},Ed=function(){qr.publish("putAdditionalObjects");for(var K=0;K<ge.length;K++){var de=ge[K];fe(de.objId,!0),Ae(de.content),Ae("endobj")}qr.publish("postPutAdditionalObjects")},dh=function(K){Ut[K.fontName]=Ut[K.fontName]||{},Ut[K.fontName][K.fontStyle]=K.id},Fc=function(K,de,Fe,Qe,We){var vt={id:"F"+(Object.keys(Kt).length+1).toString(10),postScriptName:K,fontName:de,fontStyle:Fe,encoding:Qe,isStandardFont:We||!1,metadata:{}};return qr.publish("addFont",{font:vt,instance:this}),Kt[vt.id]=vt,dh(vt),vt.id},UA=function(K){for(var de=0,Fe=Ze.length;de<Fe;de++){var Qe=Fc.call(this,K[de][0],K[de][1],K[de][2],Ze[de][3],!0);f===!1&&(h[Qe]=!0);var We=K[de][0].split("-");dh({id:Qe,fontName:We[0],fontStyle:We[1]||""})}qr.publish("addFonts",{fonts:Kt,dictionary:Ut})},fi=function(K){return K.foo=function(){try{return K.apply(this,arguments)}catch(Qe){var de=Qe.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Fe="Error in function "+de.split(`
`)[0].split("<")[0]+": "+Qe.message;if(!Or.console)throw new Error(Fe);Or.console.error(Fe,Qe),Or.alert&&alert(Fe)}},K.foo.bar=K,K.foo},Cd=function(K,de){var Fe,Qe,We,vt,Ot,qt,D,ee,se;if(We=(de=de||{}).sourceEncoding||"Unicode",Ot=de.outputEncoding,(de.autoencode||Ot)&&Kt[Ue].metadata&&Kt[Ue].metadata[We]&&Kt[Ue].metadata[We].encoding&&(vt=Kt[Ue].metadata[We].encoding,!Ot&&Kt[Ue].encoding&&(Ot=Kt[Ue].encoding),!Ot&&vt.codePages&&(Ot=vt.codePages[0]),typeof Ot=="string"&&(Ot=vt[Ot]),Ot)){for(D=!1,qt=[],Fe=0,Qe=K.length;Fe<Qe;Fe++)(ee=Ot[K.charCodeAt(Fe)])?qt.push(String.fromCharCode(ee)):qt.push(K[Fe]),qt[Fe].charCodeAt(0)>>8&&(D=!0);K=qt.join("")}for(Fe=K.length;D===void 0&&Fe!==0;)K.charCodeAt(Fe-1)>>8&&(D=!0),Fe--;if(!D)return K;for(qt=de.noBOM?[]:[254,255],Fe=0,Qe=K.length;Fe<Qe;Fe++){if((se=(ee=K.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(se),qt.push(ee-(se<<8))}return String.fromCharCode.apply(void 0,qt)},Cn=p.__private__.pdfEscape=p.pdfEscape=function(K,de){return Cd(K,de).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hi=p.__private__.beginPage=function(K){De[++cr]=[],er[cr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},pl(cr),_e(De[W])},Oc=function(K,de){var Fe,Qe,We;switch(r=de||r,typeof K=="string"&&(Fe=y(K.toLowerCase()),Array.isArray(Fe)&&(Qe=Fe[0],We=Fe[1])),Array.isArray(K)&&(Qe=K[0]*Be,We=K[1]*Be),isNaN(Qe)&&(Qe=a[0],We=a[1]),(Qe>14400||We>14400)&&(Ea.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Qe=Math.min(14400,Qe),We=Math.min(14400,We)),a=[Qe,We],r.substr(0,1)){case"l":We>Qe&&(a=[We,Qe]);break;case"p":Qe>We&&(a=[We,Qe])}hi(a),zA(Lc),Ae(mi),$A!==0&&Ae($A+" J"),Ou!==0&&Ae(Ou+" j"),qr.publish("addPage",{pageNumber:cr})},Dc=function(K){K>0&&K<=cr&&(De.splice(K,1),er.splice(K,1),cr--,W>cr&&(W=cr),this.setPage(W))},pl=function(K){K>0&&K<=cr&&(W=K)},Dn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},Pc=function(K,de,Fe){var Qe,We=void 0;return Fe=Fe||{},K=K!==void 0?K:Kt[Ue].fontName,de=de!==void 0?de:Kt[Ue].fontStyle,Qe=K.toLowerCase(),Ut[Qe]!==void 0&&Ut[Qe][de]!==void 0?We=Ut[Qe][de]:Ut[K]!==void 0&&Ut[K][de]!==void 0?We=Ut[K][de]:Fe.disableWarning===!1&&Ea.warn("Unable to look up font label for font '"+K+"', '"+de+"'. Refer to getFontList() for available fonts."),We||Fe.noFallback||(We=Ut.times[de])==null&&(We=Ut.times.normal),We},mo=p.__private__.putInfo=function(){var K=na(),de=function(Qe){return Qe};for(var Fe in d!==null&&(de=aa.encryptor(K,0)),Ae("<<"),Ae("/Producer ("+Cn(de("jsPDF "+hr.version))+")"),Re)Re.hasOwnProperty(Fe)&&Re[Fe]&&Ae("/"+Fe.substr(0,1).toUpperCase()+Fe.substr(1)+" ("+Cn(de(Re[Fe]))+")");Ae("/CreationDate ("+Cn(de(J))+")"),Ae(">>"),Ae("endobj")},Gl=p.__private__.putCatalog=function(K){var de=(K=K||{}).rootDictionaryObjId||Ee;switch(na(),Ae("<<"),Ae("/Type /Catalog"),Ae("/Pages "+de+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":Ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ae("/OpenAction [3 0 R /Fit]");break;case"original":Ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Fe=""+Oe;Fe.substr(Fe.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&Ae("/OpenAction [3 0 R /XYZ null null "+P(Oe)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":Ae("/PageLayout /OneColumn");break;case"single":Ae("/PageLayout /SinglePage");break;case"two":case"twoleft":Ae("/PageLayout /TwoColumnLeft");break;case"tworight":Ae("/PageLayout /TwoColumnRight")}tt&&Ae("/PageMode /"+tt),qr.publish("putCatalog"),Ae(">>"),Ae("endobj")},Ah=p.__private__.putTrailer=function(){Ae("trailer"),Ae("<<"),Ae("/Size "+(ie+1)),Ae("/Root "+ie+" 0 R"),Ae("/Info "+(ie-1)+" 0 R"),d!==null&&Ae("/Encrypt "+aa.oid+" 0 R"),Ae("/ID [ <"+q+"> <"+q+"> ]"),Ae(">>")},QA=p.__private__.putHeader=function(){Ae("%PDF-"+v),Ae("%")},HA=p.__private__.putXRef=function(){var K="0000000000";Ae("xref"),Ae("0 "+(ie+1)),Ae("0000000000 65535 f ");for(var de=1;de<=ie;de++)typeof me[de]=="function"?Ae((K+me[de]()).slice(-10)+" 00000 n "):me[de]!==void 0?Ae((K+me[de]).slice(-10)+" 00000 n "):Ae("0000000000 00000 n ")},ql=p.__private__.buildDocument=function(){Pe(),_e(oe),qr.publish("buildDocument"),QA(),nt(),Ed(),Xs(),d!==null&&ho(),mo(),Gl();var K=ce;return HA(),Ah(),Ae("startxref"),Ae(""+K),Ae("%%EOF"),_e(De[W]),oe.join(`
`)},_d=p.__private__.getBlob=function(K){return new Blob([$e(K)],{type:"application/pdf"})},Wl=p.output=p.__private__.output=fi(function(K,de){switch(typeof(de=de||{})=="string"?de={filename:de}:de.filename=de.filename||"generated.pdf",K){case void 0:return ql();case"save":p.save(de.filename);break;case"arraybuffer":return $e(ql());case"blob":return _d(ql());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(_d(ql()))||void 0;Ea.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Fe="",Qe=ql();try{Fe=Aj(Qe)}catch{Fe=Aj(unescape(encodeURIComponent(Qe)))}return"data:application/pdf;filename="+de.filename+";base64,"+Fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var We="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",vt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';de.pdfObjectUrl&&(We=de.pdfObjectUrl,vt="");var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+We+'"'+vt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(de)+");<\/script></body></html>",qt=Or.open();return qt!==null&&qt.document.write(Ot),qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var D='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(de.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+de.filename+'" width="500px" height="400px" /></body></html>',ee=Or.open();if(ee!==null){ee.document.write(D);var se=this;ee.document.documentElement.querySelector("#pdfViewer").onload=function(){ee.document.title=de.filename,ee.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(se.output("bloburl"))}}return ee}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",de)+'"></iframe></body></html>',Ge=Or.open();if(Ge!==null&&(Ge.document.write(xe),Ge.document.title=de.filename),Ge||typeof safari>"u")return Ge;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",de);default:return null}}),gl=function(K){return Array.isArray(qs)===!0&&qs.indexOf(K)>-1};switch(n){case"pt":Be=1;break;case"mm":Be=72/25.4;break;case"cm":Be=72/2.54;break;case"in":Be=72;break;case"px":Be=gl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Be=12;break;case"ex":Be=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Be=n}var aa=null;ne(),H();var Xl=function(K){return d!==null?aa.encryptor(K,0):function(de){return de}},vl=p.__private__.getPageInfo=p.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:er[K].objId,pageNumber:K,pageContext:er[K]}},Sr=p.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var de in er)if(er[de].objId===K)break;return vl(de)},xl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:er[W].objId,pageNumber:W,pageContext:er[W]}};p.addPage=function(){return Oc.apply(this,arguments),this},p.setPage=function(){return pl.apply(this,arguments),_e.call(this,De[W]),this},p.insertPage=function(K){return this.addPage(),this.movePage(W,K),this},p.movePage=function(K,de){var Fe,Qe;if(K>de){Fe=De[K],Qe=er[K];for(var We=K;We>de;We--)De[We]=De[We-1],er[We]=er[We-1];De[de]=Fe,er[de]=Qe,this.setPage(de)}else if(K<de){Fe=De[K],Qe=er[K];for(var vt=K;vt<de;vt++)De[vt]=De[vt+1],er[vt]=er[vt+1];De[de]=Fe,er[de]=Qe,this.setPage(de)}return this},p.deletePage=function(){return Dc.apply(this,arguments),this},p.__private__.text=p.text=function(K,de,Fe,Qe,We){var vt,Ot,qt,D,ee,se,xe,Ge,ot,Pt=(Qe=Qe||{}).scope||this;if(typeof K=="number"&&typeof de=="number"&&(typeof Fe=="string"||Array.isArray(Fe))){var Nr=Fe;Fe=de,de=K,K=Nr}if(arguments[3]instanceof Yt?(C("The transform parameter of text() with a Matrix value"),ot=We):(qt=arguments[4],D=arguments[5],da(xe=arguments[3])==="object"&&xe!==null||(typeof qt=="string"&&(D=qt,qt=null),typeof xe=="string"&&(D=xe,xe=null),typeof xe=="number"&&(qt=xe,xe=null),Qe={flags:xe,angle:qt,align:D})),isNaN(de)||isNaN(Fe)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return Pt;var cn="",Qr=!1,Pn=typeof Qe.lineHeightFactor=="number"?Qe.lineHeightFactor:ln,Wn=Pt.internal.scaleFactor;function El(an){return an=an.split("	").join(Array(Qe.TabLen||9).join(" ")),Cn(an,xe)}function qa(an){for(var sn,ga=an.concat(),Wa=[],_l=ga.length;_l--;)typeof(sn=ga.shift())=="string"?Wa.push(sn):Array.isArray(an)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?Wa.push(sn[0]):Wa.push([sn[0],sn[1],sn[2]]);return Wa}function xo(an,sn){var ga;if(typeof an=="string")ga=sn(an)[0];else if(Array.isArray(an)){for(var Wa,_l,Md=an.concat(),Ud=[],Uu=Md.length;Uu--;)typeof(Wa=Md.shift())=="string"?Ud.push(sn(Wa)[0]):Array.isArray(Wa)&&typeof Wa[0]=="string"&&(_l=sn(Wa[0],Wa[1],Wa[2]),Ud.push([_l[0],_l[1],_l[2]]));ga=Ud}return ga}var zc=!1,Td=!0;if(typeof K=="string")zc=!0;else if(Array.isArray(K)){var ph=K.concat();Ot=[];for(var KA,ks=ph.length;ks--;)(typeof(KA=ph.shift())!="string"||Array.isArray(KA)&&typeof KA[0]!="string")&&(Td=!1);zc=Td}if(zc===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var Id=ye/Pt.internal.scaleFactor,GA=Id*(Pn-1);switch(Qe.baseline){case"bottom":Fe-=GA;break;case"top":Fe+=Id-GA;break;case"hanging":Fe+=Id-2*GA;break;case"middle":Fe+=Id/2-GA}if((se=Qe.maxWidth||0)>0&&(typeof K=="string"?K=Pt.splitTextToSize(K,se):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(an,sn){return an.concat(Pt.splitTextToSize(sn,se))},[]))),vt={text:K,x:de,y:Fe,options:Qe,mutex:{pdfEscape:Cn,activeFontKey:Ue,fonts:Kt,activeFontSize:ye}},qr.publish("preProcessText",vt),K=vt.text,qt=(Qe=vt.options).angle,!(ot instanceof Yt)&&qt&&typeof qt=="number"){qt*=Math.PI/180,Qe.rotationDirection===0&&(qt=-qt),S===_.ADVANCED&&(qt=-qt);var qA=Math.cos(qt),gh=Math.sin(qt);ot=new Yt(qA,gh,-gh,qA,0,0)}else qt&&qt instanceof Yt&&(ot=qt);S!==_.ADVANCED||ot||(ot=hn),(ee=Qe.charSpace||Fu)!==void 0&&(cn+=w(F(ee))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ge=Qe.horizontalScale)!==void 0&&(cn+=w(100*Ge)+` Tz
`),Qe.lang;var bo=-1,n1=Qe.renderingMode!==void 0?Qe.renderingMode:Qe.stroke,dm=Pt.internal.getCurrentPageInfo().pageContext;switch(n1){case 0:case!1:case"fill":bo=0;break;case 1:case!0:case"stroke":bo=1;break;case 2:case"fillThenStroke":bo=2;break;case 3:case"invisible":bo=3;break;case 4:case"fillAndAddForClipping":bo=4;break;case 5:case"strokeAndAddPathForClipping":bo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":bo=6;break;case 7:case"addToPathForClipping":bo=7}var rg=dm.usedRenderingMode!==void 0?dm.usedRenderingMode:-1;bo!==-1?cn+=bo+` Tr
`:rg!==-1&&(cn+=`0 Tr
`),bo!==-1&&(dm.usedRenderingMode=bo),D=Qe.align||"left";var Cl,Ys=ye*Pn,jd=Pt.internal.pageSize.getWidth(),Am=Kt[Ue];ee=Qe.charSpace||Fu,se=Qe.maxWidth||0,xe=Object.assign({autoencode:!0,noBOM:!0},Qe.flags);var Lu=[],Fd=function(an){return Pt.getStringUnitWidth(an,{font:Am,charSpace:ee,fontSize:ye,doKerning:!1})*ye/Wn};if(Object.prototype.toString.call(K)==="[object Array]"){var Wi;Ot=qa(K),D!=="left"&&(Cl=Ot.map(Fd));var pi,Od=0;if(D==="right"){de-=Cl[0],K=[],ks=Ot.length;for(var yo=0;yo<ks;yo++)yo===0?(pi=Bi(de),Wi=cs(Fe)):(pi=F(Od-Cl[yo]),Wi=-Ys),K.push([Ot[yo],pi,Wi]),Od=Cl[yo]}else if(D==="center"){de-=Cl[0]/2,K=[],ks=Ot.length;for(var ec=0;ec<ks;ec++)ec===0?(pi=Bi(de),Wi=cs(Fe)):(pi=F((Od-Cl[ec])/2),Wi=-Ys),K.push([Ot[ec],pi,Wi]),Od=Cl[ec]}else if(D==="left"){K=[],ks=Ot.length;for(var $c=0;$c<ks;$c++)K.push(Ot[$c])}else if(D==="justify"&&Am.encoding==="Identity-H"){K=[],ks=Ot.length,se=se!==0?se:jd;for(var tc=0,Ma=0;Ma<ks;Ma++)if(Wi=Ma===0?cs(Fe):-Ys,pi=Ma===0?Bi(de):tc,Ma<ks-1){var rc=F((se-Cl[Ma])/(Ot[Ma].split(" ").length-1)),us=Ot[Ma].split(" ");K.push([us[0]+" ",pi,Wi]),tc=0;for(var wo=1;wo<us.length;wo++){var WA=(Fd(us[wo-1]+" "+us[wo])-Fd(us[wo]))*Wn+rc;wo==us.length-1?K.push([us[wo],WA,0]):K.push([us[wo]+" ",WA,0]),tc-=WA}}else K.push([Ot[Ma],pi,Wi]);K.push(["",tc,0])}else{if(D!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],ks=Ot.length,se=se!==0?se:jd,Ma=0;Ma<ks;Ma++)Wi=Ma===0?cs(Fe):-Ys,pi=Ma===0?Bi(de):0,Ma<ks-1?Lu.push(w(F((se-Cl[Ma])/(Ot[Ma].split(" ").length-1)))):Lu.push(0),K.push([Ot[Ma],pi,Wi])}}var Kc=typeof Qe.R2L=="boolean"?Qe.R2L:Ye;Kc===!0&&(K=xo(K,function(an,sn,ga){return[an.split("").reverse().join(""),sn,ga]})),vt={text:K,x:de,y:Fe,options:Qe,mutex:{pdfEscape:Cn,activeFontKey:Ue,fonts:Kt,activeFontSize:ye}},qr.publish("postProcessText",vt),K=vt.text,Qr=vt.mutex.isHex||!1;var vh=Kt[Ue].encoding;vh!=="WinAnsiEncoding"&&vh!=="StandardEncoding"||(K=xo(K,function(an,sn,ga){return[El(an),sn,ga]})),Ot=qa(K),K=[];for(var Dd,Pd,Rd,XA=0,xh=1,Ld=Array.isArray(Ot[0])?xh:XA,Mu="",YA=function(an,sn,ga){var Wa="";return ga instanceof Yt?(ga=typeof Qe.angle=="number"?En(ga,new Yt(1,0,0,1,an,sn)):En(new Yt(1,0,0,1,an,sn),ga),S===_.ADVANCED&&(ga=En(new Yt(1,0,0,-1,0,0),ga)),Wa=ga.join(" ")+` Tm
`):Wa=w(an)+" "+w(sn)+` Td
`,Wa},Ua=0;Ua<Ot.length;Ua++){switch(Mu="",Ld){case xh:Rd=(Qr?"<":"(")+Ot[Ua][0]+(Qr?">":")"),Dd=parseFloat(Ot[Ua][1]),Pd=parseFloat(Ot[Ua][2]);break;case XA:Rd=(Qr?"<":"(")+Ot[Ua]+(Qr?">":")"),Dd=Bi(de),Pd=cs(Fe)}Lu!==void 0&&Lu[Ua]!==void 0&&(Mu=Lu[Ua]+` Tw
`),Ua===0?K.push(Mu+YA(Dd,Pd,ot)+Rd):Ld===XA?K.push(Mu+Rd):Ld===xh&&K.push(Mu+YA(Dd,Pd,ot)+Rd)}K=Ld===XA?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var Jo=`BT
/`;return Jo+=Ue+" "+ye+` Tf
`,Jo+=w(ye*Pn)+` TL
`,Jo+=Jl+`
`,Jo+=cn,Jo+=K,Ae(Jo+="ET"),h[Ue]=!0,Pt};var fh=p.__private__.clip=p.clip=function(K){return Ae(K==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return fh("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Ae("n"),this};var Ni=p.__private__.isValidStyle=function(K){var de=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(de=!0),de};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(K){return Ni(K)&&(u=K),this};var po=p.__private__.getStyle=p.getStyle=function(K){var de=u;switch(K){case"D":case"S":de="S";break;case"F":de="f";break;case"FD":case"DF":de="B";break;case"f":case"f*":case"B":case"B*":de=K}return de},qi=p.close=function(){return Ae("h"),this};p.stroke=function(){return Ae("S"),this},p.fill=function(K){return bl("f",K),this},p.fillEvenOdd=function(K){return bl("f*",K),this},p.fillStroke=function(K){return bl("B",K),this},p.fillStrokeEvenOdd=function(K){return bl("B*",K),this};var bl=function(K,de){da(de)==="object"?Yl(de,K):Ae(K)},go=function(K){K===null||S===_.ADVANCED&&K===void 0||(K=po(K),Ae(K))};function Rc(K,de,Fe,Qe,We){var vt=new fv(de||this.boundingBox,Fe||this.xStep,Qe||this.yStep,this.gState,We||this.matrix);vt.stream=this.stream;var Ot=K+"$$"+this.cloneIndex+++"$$";return $n(Ot,vt),vt}var Yl=function(K,de){var Fe=wn[K.key],Qe=Ar[Fe];if(Qe instanceof Vm)Ae("q"),Ae(VA(de)),Qe.gState&&p.setGState(Qe.gState),Ae(K.matrix.toString()+" cm"),Ae("/"+Fe+" sh"),Ae("Q");else if(Qe instanceof fv){var We=new Yt(1,0,0,-1,0,Ti());K.matrix&&(We=We.multiply(K.matrix||hn),Fe=Rc.call(Qe,K.key,K.boundingBox,K.xStep,K.yStep,We).id),Ae("q"),Ae("/Pattern cs"),Ae("/"+Fe+" scn"),Qe.gState&&p.setGState(Qe.gState),Ae(de),Ae("Q")}},VA=function(K){switch(K){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},vo=p.moveTo=function(K,de){return Ae(w(F(K))+" "+w(Q(de))+" m"),this},ki=p.lineTo=function(K,de){return Ae(w(F(K))+" "+w(Q(de))+" l"),this},yl=p.curveTo=function(K,de,Fe,Qe,We,vt){return Ae([w(F(K)),w(Q(de)),w(F(Fe)),w(Q(Qe)),w(F(We)),w(Q(vt)),"c"].join(" ")),this};p.__private__.line=p.line=function(K,de,Fe,Qe,We){if(isNaN(K)||isNaN(de)||isNaN(Fe)||isNaN(Qe)||!Ni(We))throw new Error("Invalid arguments passed to jsPDF.line");return S===_.COMPAT?this.lines([[Fe-K,Qe-de]],K,de,[1,1],We||"S"):this.lines([[Fe-K,Qe-de]],K,de,[1,1]).stroke()},p.__private__.lines=p.lines=function(K,de,Fe,Qe,We,vt){var Ot,qt,D,ee,se,xe,Ge,ot,Pt,Nr,cn,Qr;if(typeof K=="number"&&(Qr=Fe,Fe=de,de=K,K=Qr),Qe=Qe||[1,1],vt=vt||!1,isNaN(de)||isNaN(Fe)||!Array.isArray(K)||!Array.isArray(Qe)||!Ni(We)||typeof vt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vo(de,Fe),Ot=Qe[0],qt=Qe[1],ee=K.length,Nr=de,cn=Fe,D=0;D<ee;D++)(se=K[D]).length===2?(Nr=se[0]*Ot+Nr,cn=se[1]*qt+cn,ki(Nr,cn)):(xe=se[0]*Ot+Nr,Ge=se[1]*qt+cn,ot=se[2]*Ot+Nr,Pt=se[3]*qt+cn,Nr=se[4]*Ot+Nr,cn=se[5]*qt+cn,yl(xe,Ge,ot,Pt,Nr,cn));return vt&&qi(),go(We),this},p.path=function(K){for(var de=0;de<K.length;de++){var Fe=K[de],Qe=Fe.c;switch(Fe.op){case"m":vo(Qe[0],Qe[1]);break;case"l":ki(Qe[0],Qe[1]);break;case"c":yl.apply(this,Qe);break;case"h":qi()}}return this},p.__private__.rect=p.rect=function(K,de,Fe,Qe,We){if(isNaN(K)||isNaN(de)||isNaN(Fe)||isNaN(Qe)||!Ni(We))throw new Error("Invalid arguments passed to jsPDF.rect");return S===_.COMPAT&&(Qe=-Qe),Ae([w(F(K)),w(Q(de)),w(F(Fe)),w(F(Qe)),"re"].join(" ")),go(We),this},p.__private__.triangle=p.triangle=function(K,de,Fe,Qe,We,vt,Ot){if(isNaN(K)||isNaN(de)||isNaN(Fe)||isNaN(Qe)||isNaN(We)||isNaN(vt)||!Ni(Ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Fe-K,Qe-de],[We-Fe,vt-Qe],[K-We,de-vt]],K,de,[1,1],Ot,!0),this},p.__private__.roundedRect=p.roundedRect=function(K,de,Fe,Qe,We,vt,Ot){if(isNaN(K)||isNaN(de)||isNaN(Fe)||isNaN(Qe)||isNaN(We)||isNaN(vt)||!Ni(Ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qt=4/3*(Math.SQRT2-1);return We=Math.min(We,.5*Fe),vt=Math.min(vt,.5*Qe),this.lines([[Fe-2*We,0],[We*qt,0,We,vt-vt*qt,We,vt],[0,Qe-2*vt],[0,vt*qt,-We*qt,vt,-We,vt],[2*We-Fe,0],[-We*qt,0,-We,-vt*qt,-We,-vt],[0,2*vt-Qe],[0,-vt*qt,We*qt,-vt,We,-vt]],K+We,de,[1,1],Ot,!0),this},p.__private__.ellipse=p.ellipse=function(K,de,Fe,Qe,We){if(isNaN(K)||isNaN(de)||isNaN(Fe)||isNaN(Qe)||!Ni(We))throw new Error("Invalid arguments passed to jsPDF.ellipse");var vt=4/3*(Math.SQRT2-1)*Fe,Ot=4/3*(Math.SQRT2-1)*Qe;return vo(K+Fe,de),yl(K+Fe,de-Ot,K+vt,de-Qe,K,de-Qe),yl(K-vt,de-Qe,K-Fe,de-Ot,K-Fe,de),yl(K-Fe,de+Ot,K-vt,de+Qe,K,de+Qe),yl(K+vt,de+Qe,K+Fe,de+Ot,K+Fe,de),go(We),this},p.__private__.circle=p.circle=function(K,de,Fe,Qe){if(isNaN(K)||isNaN(de)||isNaN(Fe)||!Ni(Qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,de,Fe,Fe,Qe)},p.setFont=function(K,de,Fe){return Fe&&(de=O(de,Fe)),Ue=Pc(K,de,{disableWarning:!1}),this};var ls=p.__private__.getFont=p.getFont=function(){return Kt[Pc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var K,de,Fe={};for(K in Ut)if(Ut.hasOwnProperty(K))for(de in Fe[K]=[],Ut[K])Ut[K].hasOwnProperty(de)&&Fe[K].push(de);return Fe},p.addFont=function(K,de,Fe,Qe,We){var vt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&vt.indexOf(arguments[3])!==-1?We=arguments[3]:arguments[3]&&vt.indexOf(arguments[3])==-1&&(Fe=O(Fe,Qe)),We=We||"Identity-H",Fc.call(this,K,de,Fe,We)};var ln,Lc=e.lineWidth||.200025,wl=p.__private__.getLineWidth=p.getLineWidth=function(){return Lc},zA=p.__private__.setLineWidth=p.setLineWidth=function(K){return Lc=K,Ae(w(F(K))+" w"),this};p.__private__.setLineDash=hr.API.setLineDash=hr.API.setLineDashPattern=function(K,de){if(K=K||[],de=de||0,isNaN(de)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(Fe){return w(F(Fe))}).join(" "),de=w(F(de)),Ae("["+K+"] "+de+" d"),this};var Iu=p.__private__.getLineHeight=p.getLineHeight=function(){return ye*ln};p.__private__.getLineHeight=p.getLineHeight=function(){return ye*ln};var ju=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(ln=K),this},Yo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ln};ju(e.lineHeight);var Bi=p.__private__.getHorizontalCoordinate=function(K){return F(K)},cs=p.__private__.getVerticalCoordinate=function(K){return S===_.ADVANCED?K:er[W].mediaBox.topRightY-er[W].mediaBox.bottomLeftY-F(K)},hh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(K){return w(Bi(K))},Mc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(K){return w(cs(K))},mi=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ne(mi)},p.__private__.setStrokeColor=p.setDrawColor=function(K,de,Fe,Qe){return mi=Ie({ch1:K,ch2:de,ch3:Fe,ch4:Qe,pdfColorType:"draw",precision:2}),Ae(mi),this};var Uc=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ne(Uc)},p.__private__.setFillColor=p.setFillColor=function(K,de,Fe,Qe){return Uc=Ie({ch1:K,ch2:de,ch3:Fe,ch4:Qe,pdfColorType:"fill",precision:2}),Ae(Uc),this};var Jl=e.textColor||"0 g",Sd=p.__private__.getTextColor=p.getTextColor=function(){return Ne(Jl)};p.__private__.setTextColor=p.setTextColor=function(K,de,Fe,Qe){return Jl=Ie({ch1:K,ch2:de,ch3:Fe,ch4:Qe,pdfColorType:"text",precision:3}),this};var Fu=e.charSpace,Nd=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Fu||0)};p.__private__.setCharSpace=p.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fu=K,this};var $A=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(K){var de=p.CapJoinStyles[K];if(de===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $A=de,Ae(de+" J"),this};var Ou=0;p.__private__.setLineJoin=p.setLineJoin=function(K){var de=p.CapJoinStyles[K];if(de===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ou=de,Ae(de+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ae(w(F(K))+" M"),this},p.GState=M_,p.setGState=function(K){(K=typeof K=="string"?Vr[Tn[K]]:Qc(null,K)).equals(ra)||(Ae("/"+K.id+" gs"),ra=K)};var Qc=function(K,de){if(!K||!Tn[K]){var Fe=!1;for(var Qe in Vr)if(Vr.hasOwnProperty(Qe)&&Vr[Qe].equals(de)){Fe=!0;break}if(Fe)de=Vr[Qe];else{var We="GS"+(Object.keys(Vr).length+1).toString(10);Vr[We]=de,de.id=We}return K&&(Tn[K]=de.id),qr.publish("addGState",de),de}};p.addGState=function(K,de){return Qc(K,de),this},p.saveGraphicsState=function(){return Ae("q"),Ur.push({key:Ue,size:ye,color:Jl}),this},p.restoreGraphicsState=function(){Ae("Q");var K=Ur.pop();return Ue=K.key,ye=K.size,Jl=K.color,ra=null,this},p.setCurrentTransformationMatrix=function(K){return Ae(K.toString()+" cm"),this},p.comment=function(K){return Ae("#"+K),this};var Du=function(K,de){var Fe=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Fe},set:function(vt){isNaN(vt)||(Fe=parseFloat(vt))}});var Qe=de||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Qe},set:function(vt){isNaN(vt)||(Qe=parseFloat(vt))}});var We="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return We},set:function(vt){We=vt.toString()}}),this},kd=function(K,de,Fe,Qe){Du.call(this,K,de),this.type="rect";var We=Fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return We},set:function(Ot){isNaN(Ot)||(We=parseFloat(Ot))}});var vt=Qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return vt},set:function(Ot){isNaN(Ot)||(vt=parseFloat(Ot))}}),this},Pu=function(){this.page=cr,this.currentPage=W,this.pages=De.slice(0),this.pagesContext=er.slice(0),this.x=ht,this.y=wt,this.matrix=ir,this.width=Vc(W),this.height=Ti(W),this.outputDestination=Se,this.id="",this.objectNumber=-1};Pu.prototype.restore=function(){cr=this.page,W=this.currentPage,er=this.pagesContext,De=this.pages,ht=this.x,wt=this.y,ir=this.matrix,Ru(W,this.width),Bd(W,this.height),Se=this.outputDestination};var Hc=function(K,de,Fe,Qe,We){di.push(new Pu),cr=W=0,De=[],ht=K,wt=de,ir=We,hi([Fe,Qe])},mh=function(K){if(Ga[K])di.pop().restore();else{var de=new Pu,Fe="Xo"+(Object.keys(ha).length+1).toString(10);de.id=Fe,Ga[K]=Fe,ha[Fe]=de,qr.publish("addFormObject",de),di.pop().restore()}};for(var Zl in p.beginFormObject=function(K,de,Fe,Qe,We){return Hc(K,de,Fe,Qe,We),this},p.endFormObject=function(K){return mh(K),this},p.doFormObject=function(K,de){var Fe=ha[Ga[K]];return Ae("q"),Ae(de.toString()+" cm"),Ae("/"+Fe.id+" Do"),Ae("Q"),this},p.getFormObject=function(K){var de=ha[Ga[K]];return{x:de.x,y:de.y,width:de.width,height:de.height,matrix:de.matrix}},p.save=function(K,de){return K=K||"generated.pdf",(de=de||{}).returnPromise=de.returnPromise||!1,de.returnPromise===!1?(Rm(_d(ql()),K),typeof Rm.unload=="function"&&Or.setTimeout&&setTimeout(Rm.unload,911),this):new Promise(function(Fe,Qe){try{var We=Rm(_d(ql()),K);typeof Rm.unload=="function"&&Or.setTimeout&&setTimeout(Rm.unload,911),Fe(We)}catch(vt){Qe(vt.message)}})},hr.API)hr.API.hasOwnProperty(Zl)&&(Zl==="events"&&hr.API.events.length?function(K,de){var Fe,Qe,We;for(We=de.length-1;We!==-1;We--)Fe=de[We][0],Qe=de[We][1],K.subscribe.apply(K,[Fe].concat(typeof Qe=="function"?[Qe]:Qe))}(qr,hr.API.events):p[Zl]=hr.API[Zl]);var Vc=p.getPageWidth=function(K){return(er[K=K||W].mediaBox.topRightX-er[K].mediaBox.bottomLeftX)/Be},Ru=p.setPageWidth=function(K,de){er[K].mediaBox.topRightX=de*Be+er[K].mediaBox.bottomLeftX},Ti=p.getPageHeight=function(K){return(er[K=K||W].mediaBox.topRightY-er[K].mediaBox.bottomLeftY)/Be},Bd=p.setPageHeight=function(K,de){er[K].mediaBox.topRightY=de*Be+er[K].mediaBox.bottomLeftY};return p.internal={pdfEscape:Cn,getStyle:po,getFont:ls,getFontSize:Me,getCharSpace:Nd,getTextColor:Sd,getLineHeight:Iu,getLineHeightFactor:Yo,getLineWidth:wl,write:je,getHorizontalCoordinate:Bi,getVerticalCoordinate:cs,getCoordinateString:hh,getVerticalCoordinateString:Mc,collections:{},newObject:na,newAdditionalObject:Te,newObjectDeferred:ma,newObjectDeferredBegin:fe,getFilters:et,putStream:At,events:qr,scaleFactor:Be,pageSize:{getWidth:function(){return Vc(W)},setWidth:function(K){Ru(W,K)},getHeight:function(){return Ti(W)},setHeight:function(K){Bd(W,K)}},encryptionOptions:d,encryption:aa,getEncryptor:Xl,output:Wl,getNumberOfPages:Dn,pages:De,out:Ae,f2:P,f3:j,getPageInfo:vl,getPageInfoByObjId:Sr,getCurrentPageInfo:xl,getPDFVersion:g,Point:Du,Rectangle:kd,Matrix:Yt,hasHotfix:gl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Vc(W)},set:function(K){Ru(W,K)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ti(W)},set:function(K){Bd(W,K)},enumerable:!0,configurable:!0}),UA.call(p,Ze),Ue="F1",Oc(a,r),qr.publish("initialized"),p}iv.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},iv.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},iv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},iv.prototype.processOwnerPassword=function(e,t){return hj(fj(t).substr(0,5),e)},iv.prototype.encryptor=function(e,t){var r=fj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return hj(r,n)}},M_.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||da(e)!==da(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},hr.API={events:[]},hr.version="2.5.2";var ps=hr.API,VO=1,$p=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$r=function(e){return e.toFixed(2)},Gh=function(e){return e.toFixed(5)};ps.__acroform__={};var $l=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},i9=function(e){return e*VO},rA=function(e){var t=new EJ,r=dr.internal.getHeight(e)||0,n=dr.internal.getWidth(e)||0;return t.BBox=[0,0,Number($r(n)),Number($r(r))],t},wye=ps.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Eye=ps.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Cye=ps.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Ms=ps.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Cye(e,t-1)},Us=ps.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wye(e,t-1)},Qs=ps.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Eye(e,t-1)},_ye=ps.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(a+i)||0,l.upperRight_Y=n(s)||0,[Number($r(l.lowerLeft_X)),Number($r(l.lowerLeft_Y)),Number($r(l.upperRight_X)),Number($r(l.upperRight_Y))]},Sye=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=mj(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+$r(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=rA(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},mj=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(j){return j.split(`
`)}):a.map(function(j){return[j]});var s=r,i=dr.internal.getHeight(e)||0;i=i<0?-i:i;var o=dr.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(j,F,M){if(j+1<a.length){var Q=F+" "+a[j+1][0];return hE(Q,e,M).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=hE("3",e,s).height,h=e.multiline?i-s:(i-f)/2,p=h+=2,v=0,g=0,b=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+hE(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",_=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var B=!1;if(a[S].length!==1&&b!==a[S].length-1){if((f+2)*(_+2)+2>i)continue e;y+=a[S][b],B=!0,g=S,S--}else{y=(y+=a[S][b]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var k=parseInt(S),O=l(k,y,s),w=S>=a.length-1;if(O&&!w){y+=" ",b=0;continue}if(O||w){if(w)g=k;else if(e.multiline&&(f+2)*(_+2)+2>i)continue e}else{if(!e.multiline||(f+2)*(_+2)+2>i)continue e;g=k}}for(var C="",N=v;N<=g;N++){var P=a[N];if(e.multiline){if(N===g){C+=P[b]+" ",b=(b+1)%P.length;continue}if(N===v){C+=P[P.length-1]+" ";continue}}C+=P[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,d=hE(C,e,s).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=$r(u)+" "+$r(p)+` Td
`,t+="("+$p(C)+`) Tj
`,t+=-$r(u)+` 0 Td
`,p=-(s+2),d=0,v=B?g:g+1,_++,y=""}break}return n.text=t,n.fontSize=s,n},hE=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Nye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kye=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Bye=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),da(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},Tye=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(vd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Nye)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");VO=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new CJ,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&kye(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],l=[],u=o.Rect;if(o.Rect&&(o.Rect=_ye(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=dr.createDefaultAppearanceStream(o),da(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=Sye(o);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var v=p[i];typeof v=="function"&&(v=v.call(a,o)),f+="/"+i+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(a,o)),f+="/"+i+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}s&&Bye(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},wJ=ps.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),da(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+$p(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gB=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+$p(n(e))+")"},hA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hA.prototype.toString=function(){return this.objId+" 0 R"},hA.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},hA.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:wJ(a,this.objId,this.scope)}):a instanceof hA?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var EJ=function(){hA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};$l(EJ,hA);var CJ=function(){hA.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+$p(r(e))+")"}},set:function(r){e=r}})};$l(CJ,hA);var vd=function e(){hA.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ms(t,3)},set:function(y){y?this.F=Us(t,3):this.F=Qs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof U_)return;s="FieldObject"+e.FieldNum++}var y=function(_){return _};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+$p(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(y){i=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/VO:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof U_||this instanceof op))return gB(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ui?h:gB(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Ui?y:y.substr(0,1)==="("?jg(y.substr(1,y.length-2)):jg(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui?jg(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ui?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ui?p:gB(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Ui?y:y.substr(0,1)==="("?jg(y.substr(1,y.length-2)):jg(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui?jg(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ui?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,1)},set:function(y){y?this.Ff=Us(this.Ff,1):this.Ff=Qs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,2)},set:function(y){y?this.Ff=Us(this.Ff,2):this.Ff=Qs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,3)},set:function(y){y?this.Ff=Us(this.Ff,3):this.Ff=Qs(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');b=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(b){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};$l(vd,hA);var Iv=function(){vd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wJ(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,i,o){o||(o=1);for(var l,u=[];l=i.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,18)},set:function(r){r?this.Ff=Us(this.Ff,18):this.Ff=Qs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Us(this.Ff,19):this.Ff=Qs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,20)},set:function(r){r?(this.Ff=Us(this.Ff,20),t.sort()):this.Ff=Qs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,22)},set:function(r){r?this.Ff=Us(this.Ff,22):this.Ff=Qs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,23)},set:function(r){r?this.Ff=Us(this.Ff,23):this.Ff=Qs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,27)},set:function(r){r?this.Ff=Us(this.Ff,27):this.Ff=Qs(this.Ff,27)}}),this.hasAppearanceStream=!1};$l(Iv,vd);var jv=function(){Iv.call(this),this.fontName="helvetica",this.combo=!1};$l(jv,Iv);var Fv=function(){jv.call(this),this.combo=!0};$l(Fv,jv);var QC=function(){Fv.call(this),this.edit=!0};$l(QC,Fv);var Ui=function(){vd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,15)},set:function(r){r?this.Ff=Us(this.Ff,15):this.Ff=Qs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,16)},set:function(r){r?this.Ff=Us(this.Ff,16):this.Ff=Qs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,17)},set:function(r){r?this.Ff=Us(this.Ff,17):this.Ff=Qs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,26)},set:function(r){r?this.Ff=Us(this.Ff,26):this.Ff=Qs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+$p(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){da(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};$l(Ui,vd);var HC=function(){Ui.call(this),this.pushButton=!0};$l(HC,Ui);var Ov=function(){Ui.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};$l(Ov,Ui);var U_=function(){var e,t;vd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+$p(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){da(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$l(U_,vd),Ov.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ov.prototype.createOption=function(e){var t=new U_;return t.Parent=this,t.optionName=e,this.Kids.push(t),Iye.call(this.scope,t),t};var VC=function(){Ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dr.CheckBox.createAppearanceStream()};$l(VC,Ui);var op=function(){vd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,13)},set:function(t){t?this.Ff=Us(this.Ff,13):this.Ff=Qs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,21)},set:function(t){t?this.Ff=Us(this.Ff,21):this.Ff=Qs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,23)},set:function(t){t?this.Ff=Us(this.Ff,23):this.Ff=Qs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,24)},set:function(t){t?this.Ff=Us(this.Ff,24):this.Ff=Qs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,25)},set:function(t){t?this.Ff=Us(this.Ff,25):this.Ff=Qs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,26)},set:function(t){t?this.Ff=Us(this.Ff,26):this.Ff=Qs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$l(op,vd);var zC=function(){op.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,14)},set:function(e){e?this.Ff=Us(this.Ff,14):this.Ff=Qs(this.Ff,14)}}),this.password=!0};$l(zC,op);var dr={CheckBox:{createAppearanceStream:function(){return{N:{On:dr.CheckBox.YesNormal},D:{On:dr.CheckBox.YesPushDown,Off:dr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=rA(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=mj(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+$r(dr.internal.getWidth(e))+" "+$r(dr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+$r(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=rA(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=dr.internal.getHeight(e),i=dr.internal.getWidth(e),o=mj(e,e.caption);return a.push("1 g"),a.push("0 0 "+$r(i)+" "+$r(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+$r(i-1)+" "+$r(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+$r(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=rA(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+$r(dr.internal.getWidth(e))+" "+$r(dr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:dr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=dr.RadioButton.Circle.YesNormal,t.D[e]=dr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=rA(e);t.scope=e.scope;var r=[],n=dr.internal.getWidth(e)<=dr.internal.getHeight(e)?dr.internal.getWidth(e)/4:dr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=dr.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Gh(dr.internal.getWidth(e)/2)+" "+Gh(dr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=rA(e);t.scope=e.scope;var r=[],n=dr.internal.getWidth(e)<=dr.internal.getHeight(e)?dr.internal.getWidth(e)/4:dr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*dr.internal.Bezier_C).toFixed(5)),i=Number((n*dr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gh(dr.internal.getWidth(e)/2)+" "+Gh(dr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Gh(dr.internal.getWidth(e)/2)+" "+Gh(dr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=rA(e);t.scope=e.scope;var r=[],n=dr.internal.getWidth(e)<=dr.internal.getHeight(e)?dr.internal.getWidth(e)/4:dr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*dr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gh(dr.internal.getWidth(e)/2)+" "+Gh(dr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:dr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=dr.RadioButton.Cross.YesNormal,t.D[e]=dr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=rA(e);t.scope=e.scope;var r=[],n=dr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+$r(dr.internal.getWidth(e)-2)+" "+$r(dr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push($r(n.x1.x)+" "+$r(n.x1.y)+" m"),r.push($r(n.x2.x)+" "+$r(n.x2.y)+" l"),r.push($r(n.x4.x)+" "+$r(n.x4.y)+" m"),r.push($r(n.x3.x)+" "+$r(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=rA(e);t.scope=e.scope;var r=dr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+$r(dr.internal.getWidth(e))+" "+$r(dr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+$r(dr.internal.getWidth(e)-2)+" "+$r(dr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push($r(r.x1.x)+" "+$r(r.x1.y)+" m"),n.push($r(r.x2.x)+" "+$r(r.x2.y)+" l"),n.push($r(r.x4.x)+" "+$r(r.x4.y)+" m"),n.push($r(r.x3.x)+" "+$r(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=rA(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+$r(dr.internal.getWidth(e))+" "+$r(dr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};dr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=dr.internal.getWidth(e),r=dr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},dr.internal.getWidth=function(e){var t=0;return da(e)==="object"&&(t=i9(e.Rect[2])),t},dr.internal.getHeight=function(e){var t=0;return da(e)==="object"&&(t=i9(e.Rect[3])),t};var Iye=ps.addField=function(e){if(Tye(this,e),!(e instanceof vd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ps.AcroFormChoiceField=Iv,ps.AcroFormListBox=jv,ps.AcroFormComboBox=Fv,ps.AcroFormEditBox=QC,ps.AcroFormButton=Ui,ps.AcroFormPushButton=HC,ps.AcroFormRadioButton=Ov,ps.AcroFormCheckBox=VC,ps.AcroFormTextField=op,ps.AcroFormPasswordField=zC,ps.AcroFormAppearance=dr,ps.AcroForm={ChoiceField:Iv,ListBox:jv,ComboBox:Fv,EditBox:QC,Button:Ui,PushButton:HC,RadioButton:Ov,CheckBox:VC,TextField:op,PasswordField:zC,Appearance:dr},hr.AcroForm={ChoiceField:Iv,ListBox:jv,ComboBox:Fv,EditBox:QC,Button:Ui,PushButton:HC,RadioButton:Ov,CheckBox:VC,TextField:op,PasswordField:zC,Appearance:dr};hr.AcroForm;function _J(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(j,F){var M,Q,J,q,Z,H=t;if((F=F||t)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(O(j))for(Z in r)for(J=r[Z],M=0;M<J.length;M+=1){for(q=!0,Q=0;Q<J[M].length;Q+=1)if(J[M][Q]!==void 0&&J[M][Q]!==j[Q]){q=!1;break}if(q===!0){H=Z;break}}else for(Z in r)for(J=r[Z],M=0;M<J.length;M+=1){for(q=!0,Q=0;Q<J[M].length;Q+=1)if(J[M][Q]!==void 0&&J[M][Q]!==j.charCodeAt(Q)){q=!1;break}if(q===!0){H=Z;break}}return H===t&&F!==t&&(H=F),H},a=function j(F){for(var M=this.internal.write,Q=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:F.width}),q.push({key:"Height",value:F.height}),F.colorSpace===b.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===b.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var Z="",H=0,V=F.transparency.length;H<V;H++)Z+=F.transparency[H]+" "+F.transparency[H]+" ";q.push({key:"Mask",value:"["+Z+"]"})}F.sMask!==void 0&&q.push({key:"SMask",value:F.objectId+1+" 0 R"});var G=F.filter!==void 0?["/"+F.filter]:void 0;if(Q({data:F.data,additionalKeyValues:q,alreadyAppliedFilters:G,objectId:F.objectId}),M("endobj"),"sMask"in F&&F.sMask!==void 0){var ne="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,R={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:ne,data:F.sMask};"filter"in F&&(R.filter=F.filter),j.call(this,R)}if(F.colorSpace===b.INDEXED){var W=this.internal.newObject();Q({data:C(new Uint8Array(F.palette)),objectId:W}),M("endobj")}},s=function(){var j=this.internal.collections.addImage_images;for(var F in j)a.call(this,j[F])},i=function(){var j,F=this.internal.collections.addImage_images,M=this.internal.write;for(var Q in F)M("/I"+(j=F[Q]).index,j.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var j=this.internal.collections.addImage_images;return o.call(this),j},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(j){return typeof e["process"+j.toUpperCase()]=="function"},f=function(j){return da(j)==="object"&&j.nodeType===1},h=function(j,F){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var M=""+j.getAttribute("src");if(M.indexOf("data:image/")===0)return Kb(unescape(M).split("base64,").pop());var Q=e.loadFile(M,!0);if(Q!==void 0)return Q}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var J;switch(F){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;case"JPEG":case"JPG":default:J="image/jpeg"}return Kb(j.toDataURL(J,1).split("base64,").pop())}},p=function(j){var F=this.internal.collections.addImage_images;if(F){for(var M in F)if(j===F[M].alias)return F[M]}},v=function(j,F,M){return j||F||(j=-96,F=-96),j<0&&(j=-1*M.width*72/j/this.internal.scaleFactor),F<0&&(F=-1*M.height*72/F/this.internal.scaleFactor),j===0&&(j=F*M.width/M.height),F===0&&(F=j*M.height/M.width),[j,F]},g=function(j,F,M,Q,J,q){var Z=v.call(this,M,Q,J),H=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,G=l.call(this);if(M=Z[0],Q=Z[1],G[J.index]=J,q){q*=Math.PI/180;var ne=Math.cos(q),R=Math.sin(q),W=function(te){return te.toFixed(4)},Y=[W(ne),W(R),W(-1*R),W(ne),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,H(j),V(F+Q),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([H(M),"0","0",H(Q),"0","0","cm"].join(" "))):this.internal.write([H(M),"0","0",H(Q),H(j),V(F+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(j){var F,M,Q=0;if(typeof j=="string")for(M=j.length,F=0;F<M;F++)Q=(Q<<5)-Q+j.charCodeAt(F),Q|=0;else if(O(j))for(M=j.byteLength/2,F=0;F<M;F++)Q=(Q<<5)-Q+j[F],Q|=0;return Q},S=e.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var F=!0;return j.length===0&&(F=!1),j.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(F=!1),F},B=e.__addimage__.extractImageFromDataUrl=function(j){var F=(j=j||"").split("base64,"),M=null;if(F.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray(Q)&&(M={mimeType:Q[1],charset:Q[2],data:F[1]})}return M},k=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(j){return k()&&j instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(j){return k()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},w=e.__addimage__.binaryStringToUint8Array=function(j){for(var F=j.length,M=new Uint8Array(F),Q=0;Q<F;Q++)M[Q]=j.charCodeAt(Q);return M},C=e.__addimage__.arrayBufferToBinaryString=function(j){for(var F="",M=O(j)?j:new Uint8Array(j),Q=0;Q<M.length;Q+=8192)F+=String.fromCharCode.apply(null,M.subarray(Q,Q+8192));return F};e.addImage=function(){var j,F,M,Q,J,q,Z,H,V;if(typeof arguments[1]=="number"?(F=t,M=arguments[1],Q=arguments[2],J=arguments[3],q=arguments[4],Z=arguments[5],H=arguments[6],V=arguments[7]):(F=arguments[1],M=arguments[2],Q=arguments[3],J=arguments[4],q=arguments[5],Z=arguments[6],H=arguments[7],V=arguments[8]),da(j=arguments[0])==="object"&&!f(j)&&"imageData"in j){var G=j;j=G.imageData,F=G.format||F||t,M=G.x||M||0,Q=G.y||Q||0,J=G.w||G.width||J,q=G.h||G.height||q,Z=G.alias||Z,H=G.compression||H,V=G.rotation||G.angle||V}var ne=this.internal.getFilters();if(H===void 0&&ne.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(M)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var R=N.call(this,j,F,Z,H);return g.call(this,M,Q,J,q,R,V),this};var N=function(j,F,M,Q){var J,q,Z;if(typeof j=="string"&&n(j)===t){j=unescape(j);var H=P(j,!1);(H!==""||(H=e.loadFile(j,!0))!==void 0)&&(j=H)}if(f(j)&&(j=h(j,F)),F=n(j,F),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((Z=M)==null||Z.length===0)&&(M=function(V){return typeof V=="string"||O(V)?_(V):O(V.data)?_(V.data):null}(j)),(J=p.call(this,M))||(k()&&(j instanceof Uint8Array||F==="RGBA"||(q=j,j=w(j))),J=this["process"+F.toUpperCase()](j,u.call(this),M,function(V){return V&&typeof V=="string"&&(V=V.toUpperCase()),V in e.image_compression?V:y.NONE}(Q),q)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},P=e.__addimage__.convertBase64ToBinaryString=function(j,F){var M;F=typeof F!="boolean"||F;var Q,J="";if(typeof j=="string"){Q=(M=B(j))!==null?M.data:j;try{J=Kb(Q)}catch(q){if(F)throw S(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(j){var F,M,Q="";if(f(j)&&(j=h(j)),typeof j=="string"&&n(j)===t&&((Q=P(j,!1))===""&&(Q=e.loadFile(j)||""),j=Q),M=n(j),!d(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!k()||j instanceof Uint8Array||(j=w(j)),!(F=this["process"+M.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=M,F}})(hr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};hr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),_=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(y(_))+") >>",g.content=s;var S=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var B=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,i){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+s)},options:i,type:"link"})},e.textWithLink=function(r,n,a,s){var i,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;i=Math.ceil(u*d)}else o=l,i=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,a-u,o,i,s),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(hr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var b=0,y=r,_="",S=0;for(b=0;b<g.length;b+=1)y[g.charCodeAt(b)]!==void 0?(S++,typeof(y=y[g.charCodeAt(b)])=="number"&&(_+=String.fromCharCode(y),y=r,S=0),b===g.length-1&&(y=r,_+=g.charAt(b-(S-1)),b-=S-1,S=0)):(y=r,_+=g.charAt(b-S),b-=S,S=0);return _};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,b,y){return i(g)?s(g)===!1?-1:!u(g)||!i(b)&&!i(y)||!i(y)&&o(b)||o(g)&&!i(b)||o(g)&&l(b)||o(g)&&o(b)?0:d(g)&&i(b)&&!o(b)&&i(y)&&u(y)?3:o(g)||!i(y)?1:2:-1},p=function(g){var b=0,y=0,_=0,S="",B="",k="",O=(g=g||"").split("\\s+"),w=[];for(b=0;b<O.length;b+=1){for(w.push(""),y=0;y<O[b].length;y+=1)S=O[b][y],B=O[b][y-1],k=O[b][y+1],i(S)?(_=h(S,B,k),w[b]+=_!==-1?String.fromCharCode(t[S.charCodeAt(0)][_]):S):w[b]+=S;w[b]=f(w[b])}return w.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(b)){var _=0;for(y=[],_=0;_<b.length;_+=1)Array.isArray(b[_])?y.push([p(b[_][0]),b[_][1],b[_][2]]):y.push([p(b[_])]);g=y}else g=p(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(hr.API),hr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(hr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,g=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,B){return S.concat(b.splitTextToSize(B,y))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)p<(g=this.getStringUnitWidth(l[_],{font:f})*d)&&(p=g);return p!==0&&(v=l.length),{w:p/=h,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,v,g,b,y=[],_=[],S=[],B={},k={},O=[],w=[],C=(h=h||{}).autoSize||!1,N=h.printHeaders!==!1,P=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,j=h.margins||Object.assign({width:this.getPageWidth()},t),F=typeof h.padding=="number"?h.padding:3,M=h.headerBackgroundColor||"#c8c8c8",Q=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=Q,this.setFontSize(P),f==null)_=y=Object.keys(d[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&da(f[0])==="object")for(y=f.map(function(G){return G.name}),_=f.map(function(G){return G.prompt||G.name||""}),S=f.map(function(G){return G.align||"left"}),p=0;p<f.length;p+=1)k[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(_=y=f,S=y.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(B[b=y[p]]=d.map(function(G){return G[b]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(_[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=B[b],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)O.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[b]=Math.max.apply(null,O)+F+F,O=[]}if(N){var J={};for(p=0;p<y.length;p+=1)J[y[p]]={},J[y[p]].text=_[p],J[y[p]].align=S[p];var q=o.call(this,J,k);w=y.map(function(G){return new s(l,u,k[G],q,J[G].text,void 0,J[G].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var Z=f.reduce(function(G,ne){return G[ne.name]=ne.align,G},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var H=o.call(this,d[p],k);for(g=0;g<y.length;g+=1){var V=d[p][y[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:g,data:V},this),i.call(this,new s(l,u,k[y[g]],H,V,p+2,Z[y[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var v=l[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(hr.API);var SJ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},NJ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],pj=_J(NJ),kJ=[100,200,300,400,500,600,700,800,900],jye=_J(kJ);function gj(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return SJ[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof pj[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function o9(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var Fye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},l9={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function c9(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Oye(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Fye,r.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=gj(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+c9(s)+"' and default family '"+n+"'.");if(i=function(l,u){if(u[l])return u[l];var d=pj[l],f=d<=pj.normal?-1:1,h=o9(u,NJ,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(s.stretch,i),i=function(l,u){if(u[l])return u[l];for(var d=SJ[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,i),!(i=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=jye[l],f=o9(u,kJ,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+c9(s)+"'.");return i}function u9(e){return e.trimLeft()}function Dye(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Pye(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var mE,d9,A9,vB=["times"];(function(e){var t,r,n,a,s,i,o,l,u,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new i,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new i,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=R;Object.defineProperty(this,"pdf",{get:function(){return W}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(_e){Y=!!_e}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(_e){te=!!_e}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(_e){isNaN(_e)||(ie=_e)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(_e){isNaN(_e)||(me=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var Ae;typeof _e=="number"?Ae=[_e,_e,_e,_e]:((Ae=new Array(4))[0]=_e[0],Ae[1]=_e.length>=2?_e[1]:Ae[0],Ae[2]=_e.length>=3?_e[2]:Ae[0],Ae[3]=_e.length>=4?_e[3]:Ae[1]),u.margin=Ae}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(_e){oe=_e}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(_e){ce=_e}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(_e){ge=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof d&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(_e){De=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var Ae;Ae=h(_e),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var Ae=h(_e);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var re=null;function Se(_e,Ae){if(re===null){var je=function($e){var Ze=[];return Object.keys($e).forEach(function(ye){$e[ye].forEach(function(Oe){var Me=null;switch(Oe){case"bold":Me={family:ye,weight:"bold"};break;case"italic":Me={family:ye,style:"italic"};break;case"bolditalic":Me={family:ye,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:ye}}Me!==null&&(Me.ref={name:ye,style:Oe},Ze.push(Me))})}),Ze}(_e.getFontList());re=function($e){for(var Ze={},ye=0;ye<$e.length;++ye){var Oe=gj($e[ye]),Me=Oe.family,Ye=Oe.stretch,tt=Oe.style,ct=Oe.weight;Ze[Me]=Ze[Me]||{},Ze[Me][Ye]=Ze[Me][Ye]||{},Ze[Me][Ye][tt]=Ze[Me][Ye][tt]||{},Ze[Me][Ye][tt][ct]=Oe}return Ze}(je.concat(Ae))}return re}var Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(_e){re=null,Pe=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var Ae;if(this.ctx.font=_e,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var je=Ae[1],$e=(Ae[2],Ae[3]),Ze=Ae[4],ye=(Ae[5],Ae[6]),Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(Oe==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var Me=function(Re){var Ue,Be,ht=[],wt=Re.trim();if(wt==="")return vB;if(wt in l9)return[l9[wt]];for(;wt!=="";){switch(Be=null,Ue=(wt=u9(wt)).charAt(0)){case'"':case"'":Be=Dye(wt.substring(1),Ue);break;default:Be=Pye(wt)}if(Be===null||(ht.push(Be[0]),(wt=u9(Be[1]))!==""&&wt.charAt(0)!==","))return vB;wt=wt.replace(/^,/,"")}return ht}(ye);if(this.fontFaces){var Ye=Oye(Se(this.pdf,this.fontFaces),Me.map(function(Re){return{family:Re,stretch:"normal",weight:$e,style:je}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var tt="";($e==="bold"||parseInt($e,10)>=700||je==="bold")&&(tt="bold"),je==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var ct="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<Me.length;kt++){if(this.pdf.internal.getFont(Me[kt],tt,{noFallback:!0,disableWarning:!0})!==void 0){ct=Me[kt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Me[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=Me[kt],tt="bold";else if(this.pdf.internal.getFont(Me[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=Me[kt],tt="normal";break}}if(ct===""){for(var Dt=0;Dt<Me.length;Dt++)if(gt[Me[Dt]]){ct=gt[Me[Dt]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};f.prototype.setLineDash=function(R){this.lineDash=R},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){B.call(this,"fill",!1)},f.prototype.stroke=function(){B.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(R,W){if(isNaN(R)||isNaN(W))throw Ea.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new i(R,W));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new i(R,W)},f.prototype.closePath=function(){var R=new i(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&da(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){R=new i(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(R.x,R.y)},f.prototype.lineTo=function(R,W){if(isNaN(R)||isNaN(W))throw Ea.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new i(R,W));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new i(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},f.prototype.quadraticCurveTo=function(R,W,Y,te){if(isNaN(Y)||isNaN(te)||isNaN(R)||isNaN(W))throw Ea.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new i(Y,te)),me=this.ctx.transform.applyToPoint(new i(R,W));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new i(ie.x,ie.y)},f.prototype.bezierCurveTo=function(R,W,Y,te,ie,me){if(isNaN(ie)||isNaN(me)||isNaN(R)||isNaN(W)||isNaN(Y)||isNaN(te))throw Ea.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new i(ie,me)),ce=this.ctx.transform.applyToPoint(new i(R,W)),ge=this.ctx.transform.applyToPoint(new i(Y,te));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:ge.x,y2:ge.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new i(oe.x,oe.y)},f.prototype.arc=function(R,W,Y,te,ie,me){if(isNaN(R)||isNaN(W)||isNaN(Y)||isNaN(te)||isNaN(ie))throw Ea.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new i(R,W));R=oe.x,W=oe.y;var ce=this.ctx.transform.applyToPoint(new i(0,Y)),ge=this.ctx.transform.applyToPoint(new i(0,0));Y=Math.sqrt(Math.pow(ce.x-ge.x,2)+Math.pow(ce.y-ge.y,2))}Math.abs(ie-te)>=2*Math.PI&&(te=0,ie=2*Math.PI),this.path.push({type:"arc",x:R,y:W,radius:Y,startAngle:te,endAngle:ie,counterclockwise:me})},f.prototype.arcTo=function(R,W,Y,te,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(R,W,Y,te){if(isNaN(R)||isNaN(W)||isNaN(Y)||isNaN(te))throw Ea.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,W),this.lineTo(R+Y,W),this.lineTo(R+Y,W+te),this.lineTo(R,W+te),this.lineTo(R,W),this.lineTo(R+Y,W),this.lineTo(R,W)},f.prototype.fillRect=function(R,W,Y,te){if(isNaN(R)||isNaN(W)||isNaN(Y)||isNaN(te))throw Ea.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,W,Y,te),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(R,W,Y,te){if(isNaN(R)||isNaN(W)||isNaN(Y)||isNaN(te))throw Ea.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(R,W,Y,te),this.stroke())},f.prototype.clearRect=function(R,W,Y,te){if(isNaN(R)||isNaN(W)||isNaN(Y)||isNaN(te))throw Ea.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,W,Y,te))},f.prototype.save=function(R){R=typeof R!="boolean"||R;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(W),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(R){var W,Y,te,ie;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))W=0,Y=0,te=0,ie=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(me!==null)W=parseInt(me[1]),Y=parseInt(me[2]),te=parseInt(me[3]),ie=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)W=parseInt(me[1]),Y=parseInt(me[2]),te=parseInt(me[3]),ie=parseFloat(me[4]);else{if(ie=1,typeof R=="string"&&R.charAt(0)!=="#"){var oe=new xJ(R);R=oe.ok?oe.toHex():"#000000"}R.length===4?(W=R.substring(1,2),W+=W,Y=R.substring(2,3),Y+=Y,te=R.substring(3,4),te+=te):(W=R.substring(1,3),Y=R.substring(3,5),te=R.substring(5,7)),W=parseInt(W,16),Y=parseInt(Y,16),te=parseInt(te,16)}}return{r:W,g:Y,b:te,a:ie,style:R}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(R,W,Y,te){if(isNaN(W)||isNaN(Y)||typeof R!="string")throw Ea.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var ie=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;F.call(this,{text:R,x:W,y:Y,scale:me,angle:ie,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(R,W,Y,te){if(isNaN(W)||isNaN(Y)||typeof R!="string")throw Ea.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){te=isNaN(te)?void 0:te;var ie=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;F.call(this,{text:R,x:W,y:Y,scale:me,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(R){if(typeof R!="string")throw Ea.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Y=this.pdf.internal.scaleFactor,te=W.internal.getFontSize(),ie=W.getStringUnitWidth(R)*te/W.internal.scaleFactor,me=function(oe){var ce=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new me({width:ie*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(R,W){if(isNaN(R)||isNaN(W))throw Ea.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(R,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(R){if(isNaN(R))throw Ea.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(R,W){if(isNaN(R)||isNaN(W))throw Ea.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,R,W);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(R,W,Y,te,ie,me){if(isNaN(R)||isNaN(W)||isNaN(Y)||isNaN(te)||isNaN(ie)||isNaN(me))throw Ea.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new l(R,W,Y,te,ie,me);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.setTransform=function(R,W,Y,te,ie,me){R=isNaN(R)?1:R,W=isNaN(W)?0:W,Y=isNaN(Y)?0:Y,te=isNaN(te)?1:te,ie=isNaN(ie)?0:ie,me=isNaN(me)?0:me,this.ctx.transform=new l(R,W,Y,te,ie,me)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(R,W,Y,te,ie,me,oe,ce,ge){var De=this.pdf.getImageProperties(R),re=1,Se=1,Pe=1,_e=1;te!==void 0&&ce!==void 0&&(Pe=ce/te,_e=ge/ie,re=De.width/te*ce/te,Se=De.height/ie*ge/ie),me===void 0&&(me=W,oe=Y,W=0,Y=0),te!==void 0&&ce===void 0&&(ce=te,ge=ie),te===void 0&&ce===void 0&&(ce=De.width,ge=De.height);for(var Ae,je=this.ctx.transform.decompose(),$e=H(je.rotate.shx),Ze=new l,ye=(Ze=(Ze=(Ze=Ze.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new o(me-W*Pe,oe-Y*_e,te*re,ie*Se)),Oe=b.call(this,ye),Me=[],Ye=0;Ye<Oe.length;Ye+=1)Me.indexOf(Oe[Ye])===-1&&Me.push(Oe[Ye]);if(S(Me),this.autoPaging)for(var tt=Me[0],ct=Me[Me.length-1],gt=tt;gt<ct+1;gt++){this.pdf.setPage(gt);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=gt===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=gt===1?0:Re+(gt-2)*Ue;if(this.ctx.clip_path.length!==0){var ht=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ae,this.posX+this.margin[3],-Be+Dt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=ht}var wt=JSON.parse(JSON.stringify(ye));wt=_([wt],this.posX+this.margin[3],-Be+Dt+this.ctx.prevPageLastElemOffset)[0];var ir=(gt>tt||gt<ct)&&g.call(this);ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,Ue,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,$e),ir&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,$e)};var b=function(R,W,Y){var te=[];W=W||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":te.push(Math.floor((R.y+ie)/Y)+1);break;case"arc":te.push(Math.floor((R.y+ie-R.radius)/Y)+1),te.push(Math.floor((R.y+ie+R.radius)/Y)+1);break;case"qct":var me=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);te.push(Math.floor((me.y+ie)/Y)+1),te.push(Math.floor((me.y+me.h+ie)/Y)+1);break;case"bct":var oe=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);te.push(Math.floor((oe.y+ie)/Y)+1),te.push(Math.floor((oe.y+oe.h+ie)/Y)+1);break;case"rect":te.push(Math.floor((R.y+ie)/Y)+1),te.push(Math.floor((R.y+R.h+ie)/Y)+1)}for(var ce=0;ce<te.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<te[ce];)y.call(this);return te},y=function(){var R=this.fillStyle,W=this.strokeStyle,Y=this.font,te=this.lineCap,ie=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=W,this.font=Y,this.lineCap=te,this.lineWidth=ie,this.lineJoin=me},_=function(R,W,Y){for(var te=0;te<R.length;te++)switch(R[te].type){case"bct":R[te].x2+=W,R[te].y2+=Y;case"qct":R[te].x1+=W,R[te].y1+=Y;case"mt":case"lt":case"arc":default:R[te].x+=W,R[te].y+=Y}return R},S=function(R){return R.sort(function(W,Y){return W-Y})},B=function(R,W){for(var Y,te,ie=this.fillStyle,me=this.strokeStyle,oe=this.lineCap,ce=this.lineWidth,ge=Math.abs(ce*this.ctx.transform.scaleX),De=this.lineJoin,re=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),Pe=[],_e=0;_e<Se.length;_e++)if(Se[_e].x!==void 0)for(var Ae=b.call(this,Se[_e]),je=0;je<Ae.length;je+=1)Pe.indexOf(Ae[je])===-1&&Pe.push(Ae[je]);for(var $e=0;$e<Pe.length;$e++)for(;this.pdf.internal.getNumberOfPages()<Pe[$e];)y.call(this);if(S(Pe),this.autoPaging)for(var Ze=Pe[0],ye=Pe[Pe.length-1],Oe=Ze;Oe<ye+1;Oe++){this.pdf.setPage(Oe),this.fillStyle=ie,this.strokeStyle=me,this.lineCap=oe,this.lineWidth=ge,this.lineJoin=De;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Oe===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Oe===1?0:tt+(Oe-2)*ct;if(this.ctx.clip_path.length!==0){var kt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Y,this.posX+this.margin[3],-gt+Ye+this.ctx.prevPageLastElemOffset),k.call(this,R,!0),this.path=kt}if(te=JSON.parse(JSON.stringify(re)),this.path=_(te,this.posX+this.margin[3],-gt+Ye+this.ctx.prevPageLastElemOffset),W===!1||Oe===0){var Dt=(Oe>Ze||Oe<ye)&&g.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,ct,null).clip().discardPath()),k.call(this,R,W),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=ge,k.call(this,R,W),this.lineWidth=ce;this.path=re},k=function(R,W){if((R!=="stroke"||W||!v.call(this))&&(R==="stroke"||W||!p.call(this))){for(var Y,te,ie=[],me=this.path,oe=0;oe<me.length;oe++){var ce=me[oe];switch(ce.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:ce,deltas:[],abs:[]});break;case"lt":var ge=ie.length;if(me[oe-1]&&!isNaN(me[oe-1].x)&&(Y=[ce.x-me[oe-1].x,ce.y-me[oe-1].y],ge>0)){for(;ge>=0;ge--)if(ie[ge-1].close!==!0&&ie[ge-1].begin!==!0){ie[ge-1].deltas.push(Y),ie[ge-1].abs.push(ce);break}}break;case"bct":Y=[ce.x1-me[oe-1].x,ce.y1-me[oe-1].y,ce.x2-me[oe-1].x,ce.y2-me[oe-1].y,ce.x-me[oe-1].x,ce.y-me[oe-1].y],ie[ie.length-1].deltas.push(Y);break;case"qct":var De=me[oe-1].x+2/3*(ce.x1-me[oe-1].x),re=me[oe-1].y+2/3*(ce.y1-me[oe-1].y),Se=ce.x+2/3*(ce.x1-ce.x),Pe=ce.y+2/3*(ce.y1-ce.y),_e=ce.x,Ae=ce.y;Y=[De-me[oe-1].x,re-me[oe-1].y,Se-me[oe-1].x,Pe-me[oe-1].y,_e-me[oe-1].x,Ae-me[oe-1].y],ie[ie.length-1].deltas.push(Y);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(ce)}}te=W?null:R==="stroke"?"stroke":"fill";for(var je=!1,$e=0;$e<ie.length;$e++)if(ie[$e].arc)for(var Ze=ie[$e].abs,ye=0;ye<Ze.length;ye++){var Oe=Ze[ye];Oe.type==="arc"?C.call(this,Oe.x,Oe.y,Oe.radius,Oe.startAngle,Oe.endAngle,Oe.counterclockwise,void 0,W,!je):M.call(this,Oe.x,Oe.y),je=!0}else if(ie[$e].close===!0)this.pdf.internal.out("h"),je=!1;else if(ie[$e].begin!==!0){var Me=ie[$e].start.x,Ye=ie[$e].start.y;Q.call(this,ie[$e].deltas,Me,Ye),je=!0}te&&N.call(this,te),W&&P.call(this)}},O=function(R){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-Y;case"top":return R+W-Y;case"hanging":return R+W-2*Y;case"middle":return R+W/2-Y;case"ideographic":return R;case"alphabetic":default:return R}},w=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(W,Y){this.colorStops.push([W,Y])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(R,W,Y,te,ie,me,oe,ce,ge){for(var De=q.call(this,Y,te,ie,me),re=0;re<De.length;re++){var Se=De[re];re===0&&(ge?j.call(this,Se.x1+R,Se.y1+W):M.call(this,Se.x1+R,Se.y1+W)),J.call(this,R,W,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}ce?P.call(this):N.call(this,oe)},N=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(R,W){this.pdf.internal.out(r(R)+" "+n(W)+" m")},F=function(R){var W;switch(R.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Y=this.pdf.getTextDimensions(R.text),te=O.call(this,R.y),ie=w.call(this,te)-Y.h,me=this.ctx.transform.applyToPoint(new i(R.x,te)),oe=this.ctx.transform.decompose(),ce=new l;ce=(ce=(ce=ce.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var ge,De,re,Se=this.ctx.transform.applyToRectangle(new o(R.x,te,Y.w,Y.h)),Pe=ce.applyToRectangle(new o(R.x,ie,Y.w,Y.h)),_e=b.call(this,Pe),Ae=[],je=0;je<_e.length;je+=1)Ae.indexOf(_e[je])===-1&&Ae.push(_e[je]);if(S(Ae),this.autoPaging)for(var $e=Ae[0],Ze=Ae[Ae.length-1],ye=$e;ye<Ze+1;ye++){this.pdf.setPage(ye);var Oe=ye===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],tt=Ye-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],gt=ct-this.margin[3],kt=ye===1?0:Me+(ye-2)*tt;if(this.ctx.clip_path.length!==0){var Dt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ge,this.posX+this.margin[3],-1*kt+Oe),k.call(this,"fill",!0),this.path=Dt}var Re=_([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-kt+Oe+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*R.scale),re=this.lineWidth,this.lineWidth=re*R.scale);var Ue=this.autoPaging!=="text";if(Ue||Re.y+Re.h<=Ye){if(Ue||Re.y>=Oe&&Re.x<=ct){var Be=Ue?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||ct-Re.x)[0],ht=_([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-kt+Oe+this.ctx.prevPageLastElemOffset)[0],wt=Ue&&(ye>$e||ye<Ze)&&g.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,tt,null).clip().discardPath()),this.pdf.text(Be,ht.x,ht.y,{angle:R.angle,align:W,renderingMode:R.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else Re.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-Re.y);R.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=re)}else R.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*R.scale),re=this.lineWidth,this.lineWidth=re*R.scale),this.pdf.text(R.text,me.x+this.posX,me.y+this.posY,{angle:R.angle,align:W,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=re)},M=function(R,W,Y,te){Y=Y||0,te=te||0,this.pdf.internal.out(r(R+Y)+" "+n(W+te)+" l")},Q=function(R,W,Y){return this.pdf.lines(R,W,Y,null,null)},J=function(R,W,Y,te,ie,me,oe,ce){this.pdf.internal.out([t(a(Y+R)),t(s(te+W)),t(a(ie+R)),t(s(me+W)),t(a(oe+R)),t(s(ce+W)),"c"].join(" "))},q=function(R,W,Y,te){for(var ie=2*Math.PI,me=Math.PI/2;W>Y;)W-=ie;var oe=Math.abs(Y-W);oe<ie&&te&&(oe=ie-oe);for(var ce=[],ge=te?-1:1,De=W;oe>1e-5;){var re=De+ge*Math.min(oe,me);ce.push(Z.call(this,R,De,re)),oe-=Math.abs(re-De),De=re}return ce},Z=function(R,W,Y){var te=(Y-W)/2,ie=R*Math.cos(te),me=R*Math.sin(te),oe=ie,ce=-me,ge=oe*oe+ce*ce,De=ge+oe*ie+ce*me,re=4/3*(Math.sqrt(2*ge*De)-De)/(oe*me-ce*ie),Se=oe-re*ce,Pe=ce+re*oe,_e=Se,Ae=-Pe,je=te+W,$e=Math.cos(je),Ze=Math.sin(je);return{x1:R*Math.cos(W),y1:R*Math.sin(W),x2:Se*$e-Pe*Ze,y2:Se*Ze+Pe*$e,x3:_e*$e-Ae*Ze,y3:_e*Ze+Ae*$e,x4:R*Math.cos(Y),y4:R*Math.sin(Y)}},H=function(R){return 180*R/Math.PI},V=function(R,W,Y,te,ie,me){var oe=R+.5*(Y-R),ce=W+.5*(te-W),ge=ie+.5*(Y-ie),De=me+.5*(te-me),re=Math.min(R,ie,oe,ge),Se=Math.max(R,ie,oe,ge),Pe=Math.min(W,me,ce,De),_e=Math.max(W,me,ce,De);return new o(re,Pe,Se-re,_e-Pe)},G=function(R,W,Y,te,ie,me,oe,ce){var ge,De,re,Se,Pe,_e,Ae,je,$e,Ze,ye,Oe,Me,Ye,tt=Y-R,ct=te-W,gt=ie-Y,kt=me-te,Dt=oe-ie,Re=ce-me;for(De=0;De<41;De++)$e=(Ae=(re=R+(ge=De/40)*tt)+ge*((Pe=Y+ge*gt)-re))+ge*(Pe+ge*(ie+ge*Dt-Pe)-Ae),Ze=(je=(Se=W+ge*ct)+ge*((_e=te+ge*kt)-Se))+ge*(_e+ge*(me+ge*Re-_e)-je),De==0?(ye=$e,Oe=Ze,Me=$e,Ye=Ze):(ye=Math.min(ye,$e),Oe=Math.min(Oe,Ze),Me=Math.max(Me,$e),Ye=Math.max(Ye,Ze));return new o(Math.round(ye),Math.round(Oe),Math.round(Me-ye),Math.round(Ye-Oe))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,W,Y=(R=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:W}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(hr.API),function(e){var t=function(s){var i,o,l,u,d,f,h,p,v,g;for(o=[],l=0,u=(s+=i="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(v=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,o.push(f+33,h+33,p+33,v+33,g+33)):o.push(122);return function(b,y){for(var _=y;_>0;_--)b.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var i,o,l,u,d,f=String,h="length",p=255,v="charCodeAt",g="slice",b="replace";for(s[g](-2),s=s[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],u=0,d=(s+=i="uuuuu"[g](s[h]%5||5))[h];d>u;u+=5)o=52200625*(s[v](u)-33)+614125*(s[v](u+1)-33)+7225*(s[v](u+2)-33)+85*(s[v](u+3)-33)+(s[v](u+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,_){for(var S=_;S>0;S--)y.pop()}(l,i[h]),f.fromCharCode.apply(f,l)},n=function(s){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),i.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},a=function(s){for(var i=new Uint8Array(s.length),o=s.length;o--;)i[o]=s.charCodeAt(o);return s=(i=dj(i)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,i){var o=0,l=s||"",u=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(hr.API),function(e){e.loadFile=function(t,r,n){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(l,u,d){var f=new XMLHttpRequest,h=0,p=function(v){var g=v.length,b=[],y=String.fromCharCode;for(h=0;h<g;h+=1)b.push(y(255&v.charCodeAt(h)));return b.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,s,i)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(hr.API),function(e){function t(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):L_(()=>Promise.resolve().then(()=>IRe),void 0)).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):L_(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=da(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(i,o){var l=document.createElement(i);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function i(o){var l=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),u=i.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,i,1,[i])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(i,o){return i.__proto__=o||s.prototype,i},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:i,dompurify:l})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},s.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],v=p.src.find(function(g){return g.format==="truetype"});v&&l.addFont(v.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(i,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},s.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},s.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},s.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=i[l]};switch(l){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[l]=i[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(i,o){return this.then(function(){var l=i in s.template.prop?this.prop[i]:this.opt[i];return o?o(l):l})},s.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},s.prototype.setPageSize=function(i){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(i=i||hr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},s.prototype.setProgress=function(i,o,l,u){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(i,o,l,u){return this.setProgress(i?this.progress.val+i:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(i,o){var l=this;return this.thenCore(i,o,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(i,o,l){l=l||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(u,i,o);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},s.prototype.thenList=function(i){var o=this;return i.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return s.convert(o,this)},s.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},s.prototype.error=function(i){return this.then(function(){throw new Error(i)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,hr.getPageSize=function(i,o,l){if(da(i)==="object"){var u=i;i=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",i=(""+(i||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,v=0,g=0;if(h.hasOwnProperty(f))v=h[f][1]/d,g=h[f][0]/d;else try{v=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(i==="p"||i==="portrait")i="p",g>v&&(p=g,g=v,v=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",v>g&&(p=g,g=v,v=p)}return{width:g,height:v,unit:o,k:d,orientation:i}},e.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(gj):null;var l=new s(o);return o.worker?l:l.from(i).doCallback()}}(hr.API),hr.API.addJS=function(e){return A9=e,this.internal.events.subscribe("postPutResources",function(){mE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mE+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),d9=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+A9+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){mE!==void 0&&d9!==void 0&&this.internal.out("/Names <</JavaScript "+mE+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],o=n.exec(i);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var l=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(hr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,i,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=p,t.indexOf(f.charCodeAt(b+1))!==-1){h=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:h,numcomponents:f.charCodeAt(b+9)};break}p=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(hr.API);var Fg,pE,f9,h9,m9,Rye=function(){var e,t,r;function n(s){var i,o,l,u,d,f,h,p,v,g,b,y,_,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(i=this.readUInt32(),v=(function(){var B,k;for(k=[],B=0;B<4;++B)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,i-=4),s=(f!=null?f.data:void 0)||this.imgData,y=0;0<=i?y<i:y>i;0<=i?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(_=0;0<=g?_<g:_>g;0<=g?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":h=(b=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,b.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,b.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var i,o;for(o=[],i=0;0<=s?i<s:i>s;0<=s?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,h,p,v){var g,b,y,_,S,B,k,O,w,C,N,P,j,F,M,Q,J,q,Z,H,V,G=Math.ceil((u.width-f)/p),ne=Math.ceil((u.height-h)/v),R=u.width==G&&u.height==ne;for(F=i*G,P=R?o:new Uint8Array(F*ne),B=s.length,j=0,b=0;j<ne&&l<B;){switch(s[l++]){case 0:for(_=J=0;J<F;_=J+=1)P[b++]=s[l++];break;case 1:for(_=q=0;q<F;_=q+=1)g=s[l++],S=_<i?0:P[b-i],P[b++]=(g+S)%256;break;case 2:for(_=Z=0;Z<F;_=Z+=1)g=s[l++],y=(_-_%i)/i,M=j&&P[(j-1)*F+y*i+_%i],P[b++]=(M+g)%256;break;case 3:for(_=H=0;H<F;_=H+=1)g=s[l++],y=(_-_%i)/i,S=_<i?0:P[b-i],M=j&&P[(j-1)*F+y*i+_%i],P[b++]=(g+Math.floor((S+M)/2))%256;break;case 4:for(_=V=0;V<F;_=V+=1)g=s[l++],y=(_-_%i)/i,S=_<i?0:P[b-i],j===0?M=Q=0:(M=P[(j-1)*F+y*i+_%i],Q=y&&P[(j-1)*F+(y-1)*i+_%i]),k=S+M-Q,O=Math.abs(k-S),C=Math.abs(k-M),N=Math.abs(k-Q),w=O<=C&&O<=N?S:C<=N?M:Q,P[b++]=(g+w)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!R){var W=((h+j*v)*u.width+f)*i,Y=j*F;for(_=0;_<G;_+=1){for(var te=0;te<i;te+=1)o[W++]=P[Y++];W+=(p-1)*i}}j++}}return s=mye(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var s,i,o,l,u,d,f,h,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),l=0,s=0,i=f=0,h=o.length;f<h;i=f+=3)u[l++]=o[i],u[l++]=o[i+1],u[l++]=o[i+2],u[l++]=(p=d[s++])!=null?p:255;return u},n.prototype.copyToImageData=function(s,i){var o,l,u,d,f,h,p,v,g,b,y;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),v=(u=s.data||s).length,f=g||i,d=h=0,l===1)for(;d<v;)p=g?4*i[d/4]:h,b=f[p++],u[d++]=b,u[d++]=b,u[d++]=b,u[d++]=o?f[p++]:255,h=p;else for(;d<v;)p=g?4*i[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(Or)==="[object Window]"){try{t=Or.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var i;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var i,o,l,u,d,f,h,p;if(this.animation){for(p=[],o=d=0,f=(h=this.animation.frames).length;d<f;o=++d)i=h[o],l=s.createImageData(i.width,i.height),u=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(l,u),i.imageData=l,p.push(i.image=e(l));return p}},n.prototype.renderFrame=function(s,i){var o,l,u;return o=(l=this.animation.frames)[i],u=l[i-1],i===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var i,o,l,u,d,f,h=this;return o=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(i=function(){var p,v;if(p=o++%u,v=l[p],h.renderFrame(s,p),u>1&&o/u<d)return h.animation._timeout=setTimeout(i,v.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var i,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,i=s.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Lye(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;s&&(o=t,l=i,t+=3*i);var u=!0,d=[],f=0,h=null,p=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],(1&g)==0&&(h=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,B=e[t++],k=B>>6&1,O=1<<(7&B)+1,w=o,C=l,N=!1;B>>7&&(N=!0,w=t,C=O,t+=3*O);var P=t;for(t++;;){var j;if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}d.push({x:b,y,width:_,height:S,has_local_palette:N,palette_offset:w,palette_size:C,data_offset:P,data_length:t-P,transparent_index:h,interlaced:!!k,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,M){var Q=this.frameInfo(F),J=Q.width*Q.height,q=new Uint8Array(J);p9(e,Q.data_offset,q,J);var Z=Q.palette_offset,H=Q.transparent_index;H===null&&(H=256);var V=Q.width,G=r-V,ne=V,R=4*(Q.y*r+Q.x),W=4*((Q.y+Q.height)*r+Q.x),Y=R,te=4*G;Q.interlaced===!0&&(te+=4*r*7);for(var ie=8,me=0,oe=q.length;me<oe;++me){var ce=q[me];if(ne===0&&(ne=V,(Y+=te)>=W&&(te=4*G+4*r*(ie-1),Y=R+(V+G)*(ie<<1),ie>>=1)),ce===H)Y+=4;else{var ge=e[Z+3*ce],De=e[Z+3*ce+1],re=e[Z+3*ce+2];M[Y++]=re,M[Y++]=De,M[Y++]=ge,M[Y++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(F,M){var Q=this.frameInfo(F),J=Q.width*Q.height,q=new Uint8Array(J);p9(e,Q.data_offset,q,J);var Z=Q.palette_offset,H=Q.transparent_index;H===null&&(H=256);var V=Q.width,G=r-V,ne=V,R=4*(Q.y*r+Q.x),W=4*((Q.y+Q.height)*r+Q.x),Y=R,te=4*G;Q.interlaced===!0&&(te+=4*r*7);for(var ie=8,me=0,oe=q.length;me<oe;++me){var ce=q[me];if(ne===0&&(ne=V,(Y+=te)>=W&&(te=4*G+4*r*(ie-1),Y=R+(V+G)*(ie<<1),ie>>=1)),ce===H)Y+=4;else{var ge=e[Z+3*ce],De=e[Z+3*ce+1],re=e[Z+3*ce+2];M[Y++]=ge,M[Y++]=De,M[Y++]=re,M[Y++]=255}--ne}}}function p9(e,t,r,n){for(var a=e[t++],s=1<<a,i=s+1,o=i+1,l=a+1,u=(1<<l)-1,d=0,f=0,h=0,p=e[t++],v=new Int32Array(4096),g=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<l)break;var b=f&u;if(f>>=l,d-=l,b!==s){if(b===i)break;for(var y=b<o?b:g,_=0,S=y;S>s;)S=v[S]>>8,++_;var B=S;if(h+_+(y!==b?1:0)>n)return void Ea.log("Warning, gif stream longer than expected.");r[h++]=B;var k=h+=_;for(y!==b&&(r[h++]=B),S=y;_--;)S=v[S],r[--k]=255&S,S>>=8;g!==null&&o<4096&&(v[o++]=g<<8|B,o>=u+1&&l<12&&(++l,u=u<<1|1)),g=b}else o=i+1,u=(1<<(l=a+1))-1,g=null}return h!==n&&Ea.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xB(e){var t,r,n,a,s,i=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),v=new Array(64),g=[],b=0,y=7,_=new Array(64),S=new Array(64),B=new Array(64),k=new Array(256),O=new Array(2048),w=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(R,W){for(var Y=0,te=0,ie=new Array,me=1;me<=16;me++){for(var oe=1;oe<=R[me];oe++)ie[W[te]]=[],ie[W[te]][0]=Y,ie[W[te]][1]=me,te++,Y++;Y*=2}return ie}function Z(R){for(var W=R[0],Y=R[1]-1;Y>=0;)W&1<<Y&&(b|=1<<y),Y--,--y<0&&(b==255?(H(255),H(0)):H(b),y=7,b=0)}function H(R){g.push(R)}function V(R){H(R>>8&255),H(255&R)}function G(R,W,Y,te,ie){for(var me,oe=ie[0],ce=ie[240],ge=function(Ze,ye){var Oe,Me,Ye,tt,ct,gt,kt,Dt,Re,Ue,Be=0;for(Re=0;Re<8;++Re){Oe=Ze[Be],Me=Ze[Be+1],Ye=Ze[Be+2],tt=Ze[Be+3],ct=Ze[Be+4],gt=Ze[Be+5],kt=Ze[Be+6];var ht=Oe+(Dt=Ze[Be+7]),wt=Oe-Dt,ir=Me+kt,Kt=Me-kt,Ut=Ye+gt,Ur=Ye-gt,Ar=tt+ct,wn=tt-ct,Vr=ht+Ar,Tn=ht-Ar,ra=ir+Ut,cr=ir-Ut;Ze[Be]=Vr+ra,Ze[Be+4]=Vr-ra;var er=.707106781*(cr+Tn);Ze[Be+2]=Tn+er,Ze[Be+6]=Tn-er;var qr=.382683433*((Vr=wn+Ur)-(cr=Kt+wt)),qs=.5411961*Vr+qr,ha=1.306562965*cr+qr,Ga=.707106781*(ra=Ur+Kt),di=wt+Ga,Yt=wt-Ga;Ze[Be+5]=Yt+qs,Ze[Be+3]=Yt-qs,Ze[Be+1]=di+ha,Ze[Be+7]=di-ha,Be+=8}for(Be=0,Re=0;Re<8;++Re){Oe=Ze[Be],Me=Ze[Be+8],Ye=Ze[Be+16],tt=Ze[Be+24],ct=Ze[Be+32],gt=Ze[Be+40],kt=Ze[Be+48];var En=Oe+(Dt=Ze[Be+56]),hn=Oe-Dt,$n=Me+kt,na=Me-kt,ma=Ye+gt,fe=Ye-gt,Te=tt+ct,Ee=tt-ct,Ce=En+Te,Ne=En-Te,Ie=$n+ma,et=$n-ma;Ze[Be]=Ce+Ie,Ze[Be+32]=Ce-Ie;var At=.707106781*(et+Ne);Ze[Be+16]=Ne+At,Ze[Be+48]=Ne-At;var qe=.382683433*((Ce=Ee+fe)-(et=na+hn)),nt=.5411961*Ce+qe,it=1.306562965*et+qe,Bt=.707106781*(Ie=fe+na),Mt=hn+Bt,Gt=hn-Bt;Ze[Be+40]=Gt+nt,Ze[Be+24]=Gt-nt,Ze[Be+8]=Mt+it,Ze[Be+56]=Mt-it,Be++}for(Re=0;Re<64;++Re)Ue=Ze[Re]*ye[Re],p[Re]=Ue>0?Ue+.5|0:Ue-.5|0;return p}(R,W),De=0;De<64;++De)v[w[De]]=ge[De];var re=v[0]-Y;Y=v[0],re==0?Z(te[0]):(Z(te[h[me=32767+re]]),Z(f[me]));for(var Se=63;Se>0&&v[Se]==0;)Se--;if(Se==0)return Z(oe),Y;for(var Pe,_e=1;_e<=Se;){for(var Ae=_e;v[_e]==0&&_e<=Se;)++_e;var je=_e-Ae;if(je>=16){Pe=je>>4;for(var $e=1;$e<=Pe;++$e)Z(ce);je&=15}me=32767+v[_e],Z(ie[(je<<4)+h[me]]),Z(f[me]),_e++}return Se!=63&&Z(oe),Y}function ne(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(W){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ie=i((Y[te]*W+50)/100);ie=Math.min(Math.max(ie,1),255),o[w[te]]=ie}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var ce=i((me[oe]*W+50)/100);ce=Math.min(Math.max(ce,1),255),l[w[oe]]=ce}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,re=0;re<8;re++)for(var Se=0;Se<8;Se++)u[De]=1/(o[w[De]]*ge[re]*ge[Se]*8),d[De]=1/(l[w[De]]*ge[re]*ge[Se]*8),De++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,W){W&&ne(W),g=new Array,b=0,y=7,V(65496),V(65504),V(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),V(1),V(1),H(0),H(0),function(){V(65499),V(132),H(0);for(var Me=0;Me<64;Me++)H(o[Me]);H(1);for(var Ye=0;Ye<64;Ye++)H(l[Ye])}(),function(Me,Ye){V(65472),V(17),H(8),V(Ye),V(Me),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(R.width,R.height),function(){V(65476),V(418),H(0);for(var Me=0;Me<16;Me++)H(C[Me+1]);for(var Ye=0;Ye<=11;Ye++)H(N[Ye]);H(16);for(var tt=0;tt<16;tt++)H(P[tt+1]);for(var ct=0;ct<=161;ct++)H(j[ct]);H(1);for(var gt=0;gt<16;gt++)H(F[gt+1]);for(var kt=0;kt<=11;kt++)H(M[kt]);H(17);for(var Dt=0;Dt<16;Dt++)H(Q[Dt+1]);for(var Re=0;Re<=161;Re++)H(J[Re])}(),V(65498),V(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var Y=0,te=0,ie=0;b=0,y=7,this.encode.displayName="_encode_";for(var me,oe,ce,ge,De,re,Se,Pe,_e,Ae=R.data,je=R.width,$e=R.height,Ze=4*je,ye=0;ye<$e;){for(me=0;me<Ze;){for(De=Ze*ye+me,Se=-1,Pe=0,_e=0;_e<64;_e++)re=De+(Pe=_e>>3)*Ze+(Se=4*(7&_e)),ye+Pe>=$e&&(re-=Ze*(ye+1+Pe-$e)),me+Se>=Ze&&(re-=me+Se-Ze+4),oe=Ae[re++],ce=Ae[re++],ge=Ae[re++],_[_e]=(O[oe]+O[ce+256>>0]+O[ge+512>>0]>>16)-128,S[_e]=(O[oe+768>>0]+O[ce+1024>>0]+O[ge+1280>>0]>>16)-128,B[_e]=(O[oe+1280>>0]+O[ce+1536>>0]+O[ge+1792>>0]>>16)-128;Y=G(_,u,Y,t,n),te=G(S,d,te,r,a),ie=G(B,d,ie,r,a),me+=32}ye+=8}if(y>=0){var Oe=[];Oe[1]=y+1,Oe[0]=(1<<y+1)-1,Z(Oe)}return V(65497),new Uint8Array(g)},e=e||50,function(){for(var R=String.fromCharCode,W=0;W<256;W++)k[W]=R(W)}(),t=q(C,N),r=q(F,M),n=q(P,j),a=q(Q,J),function(){for(var R=1,W=2,Y=1;Y<=15;Y++){for(var te=R;te<W;te++)h[32767+te]=Y,f[32767+te]=[],f[32767+te][1]=Y,f[32767+te][0]=te;for(var ie=-(W-1);ie<=-R;ie++)h[32767+ie]=Y,f[32767+ie]=[],f[32767+ie][1]=Y,f[32767+ie][0]=W-1+ie;R<<=1,W<<=1}}(),function(){for(var R=0;R<256;R++)O[R]=19595*R,O[R+256>>0]=38470*R,O[R+512>>0]=7471*R+32768,O[R+768>>0]=-11059*R,O[R+1024>>0]=-21709*R,O[R+1280>>0]=32768*R+8421375,O[R+1536>>0]=-27439*R,O[R+1792>>0]=-5329*R}(),ne(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function td(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function g9(e){function t(C){if(!C)throw Error("assert :P")}function r(C,N,P){for(var j=0;4>j;j++)if(C[N+j]!=P.charCodeAt(j))return!0;return!1}function n(C,N,P,j,F){for(var M=0;M<F;M++)C[N+M]=P[j+M]}function a(C,N,P,j){for(var F=0;F<j;F++)C[N+F]=P}function s(C){return new Int32Array(C)}function i(C,N){for(var P=[],j=0;j<C;j++)P.push(new N);return P}function o(C,N){var P=[];return function j(F,M,Q){for(var J=Q[M],q=0;q<J&&(F.push(Q.length>M+1?[]:new N),!(Q.length<M+1));q++)j(F[q],M+1,Q)}(P,0,C),P}var l=function(){var C=this;function N(T,U){for(var X=1<<U-1>>>0;T&X;)X>>>=1;return X?(T&X-1)+X:T}function P(T,U,X,ae,ue){t(!(ae%X));do T[U+(ae-=X)]=ue;while(0<ae)}function j(T,U,X,ae,ue){if(t(2328>=ue),512>=ue)var he=s(512);else if((he=s(ue))==null)return 0;return function(pe,ve,we,ke,He,st){var rt,Xe,St=ve,pt=1<<we,Ve=s(16),Ke=s(16);for(t(He!=0),t(ke!=null),t(pe!=null),t(0<we),Xe=0;Xe<He;++Xe){if(15<ke[Xe])return 0;++Ve[ke[Xe]]}if(Ve[0]==He)return 0;for(Ke[1]=0,rt=1;15>rt;++rt){if(Ve[rt]>1<<rt)return 0;Ke[rt+1]=Ke[rt]+Ve[rt]}for(Xe=0;Xe<He;++Xe)rt=ke[Xe],0<ke[Xe]&&(st[Ke[rt]++]=Xe);if(Ke[15]==1)return(ke=new F).g=0,ke.value=st[0],P(pe,St,1,pt,ke),pt;var yt,Nt=-1,Ct=pt-1,Jt=0,zt=1,fr=1,Wt=1<<we;for(Xe=0,rt=1,He=2;rt<=we;++rt,He<<=1){if(zt+=fr<<=1,0>(fr-=Ve[rt]))return 0;for(;0<Ve[rt];--Ve[rt])(ke=new F).g=rt,ke.value=st[Xe++],P(pe,St+Jt,He,Wt,ke),Jt=N(Jt,rt)}for(rt=we+1,He=2;15>=rt;++rt,He<<=1){if(zt+=fr<<=1,0>(fr-=Ve[rt]))return 0;for(;0<Ve[rt];--Ve[rt]){if(ke=new F,(Jt&Ct)!=Nt){for(St+=Wt,yt=1<<(Nt=rt)-we;15>Nt&&!(0>=(yt-=Ve[Nt]));)++Nt,yt<<=1;pt+=Wt=1<<(yt=Nt-we),pe[ve+(Nt=Jt&Ct)].g=yt+we,pe[ve+Nt].value=St-ve-Nt}ke.g=rt-we,ke.value=st[Xe++],P(pe,St+(Jt>>we),He,Wt,ke),Jt=N(Jt,rt)}}return zt!=2*Ke[15]-1?0:pt}(T,U,X,ae,ue,he)}function F(){this.value=this.g=0}function M(){this.value=this.g=0}function Q(){this.G=i(5,F),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(ks,M)}function J(T,U,X,ae){t(T!=null),t(U!=null),t(2147483648>ae),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=U,T.pa=X,T.Jd=U,T.Yc=X+ae,T.Zc=4<=ae?X+ae-4+1:X,me(T)}function q(T,U){for(var X=0;0<U--;)X|=ce(T,128)<<U;return X}function Z(T,U){var X=q(T,U);return oe(T)?-X:X}function H(T,U,X,ae){var ue,he=0;for(t(T!=null),t(U!=null),t(4294967288>ae),T.Sb=ae,T.Ra=0,T.u=0,T.h=0,4<ae&&(ae=4),ue=0;ue<ae;++ue)he+=U[X+ue]<<8*ue;T.Ra=he,T.bb=ae,T.oa=U,T.pa=X}function V(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<qA-8>>>0,++T.bb,T.u-=8;Y(T)&&(T.h=1,T.u=0)}function G(T,U){if(t(0<=U),!T.h&&U<=GA){var X=W(T)&Id[U];return T.u+=U,V(T),X}return T.h=1,T.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(T){return T.Ra>>>(T.u&qA-1)>>>0}function Y(T){return t(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>qA}function te(T,U){T.u=U,T.h=Y(T)}function ie(T){T.u>=gh&&(t(T.u>=gh),V(T))}function me(T){t(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(t(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function oe(T){return q(T,1)}function ce(T,U){var X=T.Ca;0>T.b&&me(T);var ae=T.b,ue=X*U>>>8,he=(T.I>>>ae>ue)+0;for(he?(X-=ue,T.I-=ue+1<<ae>>>0):X=ue+1,ae=X,ue=0;256<=ae;)ue+=8,ae>>=8;return ae=7^ue+bo[ae],T.b-=ae,T.Ca=(X<<ae)-1,he}function ge(T,U,X){T[U+0]=X>>24&255,T[U+1]=X>>16&255,T[U+2]=X>>8&255,T[U+3]=X>>0&255}function De(T,U){return T[U+0]<<0|T[U+1]<<8}function re(T,U){return De(T,U)|T[U+2]<<16}function Se(T,U){return De(T,U)|De(T,U+2)<<16}function Pe(T,U){var X=1<<U;return t(T!=null),t(0<U),T.X=s(X),T.X==null?0:(T.Mb=32-U,T.Xa=U,1)}function _e(T,U){t(T!=null),t(U!=null),t(T.Xa==U.Xa),n(U.X,0,T.X,0,1<<U.Xa)}function Ae(){this.X=[],this.Xa=this.Mb=0}function je(T,U,X,ae){t(X!=null),t(ae!=null);var ue=X[0],he=ae[0];return ue==0&&(ue=(T*he+U/2)/U),he==0&&(he=(U*ue+T/2)/T),0>=ue||0>=he?0:(X[0]=ue,ae[0]=he,1)}function $e(T,U){return T+(1<<U)-1>>>U}function Ze(T,U){return((4278255360&T)+(4278255360&U)>>>0&4278255360)+((16711935&T)+(16711935&U)>>>0&16711935)>>>0}function ye(T,U){C[U]=function(X,ae,ue,he,pe,ve,we){var ke;for(ke=0;ke<pe;++ke){var He=C[T](ve[we+ke-1],ue,he+ke);ve[we+ke]=Ze(X[ae+ke],He)}}}function Oe(){this.ud=this.hd=this.jd=0}function Me(T,U){return((4278124286&(T^U))>>>1)+(T&U)>>>0}function Ye(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function tt(T,U){return Ye(T+(T-U+.5>>1))}function ct(T,U,X){return Math.abs(U-X)-Math.abs(T-X)}function gt(T,U,X,ae,ue,he,pe){for(ae=he[pe-1],X=0;X<ue;++X)he[pe+X]=ae=Ze(T[U+X],ae)}function kt(T,U,X,ae,ue){var he;for(he=0;he<X;++he){var pe=T[U+he],ve=pe>>8&255,we=16711935&(we=(we=16711935&pe)+((ve<<16)+ve));ae[ue+he]=(4278255360&pe)+we>>>0}}function Dt(T,U){U.jd=T>>0&255,U.hd=T>>8&255,U.ud=T>>16&255}function Re(T,U,X,ae,ue,he){var pe;for(pe=0;pe<ae;++pe){var ve=U[X+pe],we=ve>>>8,ke=ve,He=255&(He=(He=ve>>>16)+((T.jd<<24>>24)*(we<<24>>24)>>>5));ke=255&(ke=(ke=ke+((T.hd<<24>>24)*(we<<24>>24)>>>5))+((T.ud<<24>>24)*(He<<24>>24)>>>5)),ue[he+pe]=(4278255360&ve)+(He<<16)+ke}}function Ue(T,U,X,ae,ue){C[U]=function(he,pe,ve,we,ke,He,st,rt,Xe){for(we=st;we<rt;++we)for(st=0;st<Xe;++st)ke[He++]=ue(ve[ae(he[pe++])])},C[T]=function(he,pe,ve,we,ke,He,st){var rt=8>>he.b,Xe=he.Ea,St=he.K[0],pt=he.w;if(8>rt)for(he=(1<<he.b)-1,pt=(1<<rt)-1;pe<ve;++pe){var Ve,Ke=0;for(Ve=0;Ve<Xe;++Ve)Ve&he||(Ke=ae(we[ke++])),He[st++]=ue(St[Ke&pt]),Ke>>=rt}else C["VP8LMapColor"+X](we,ke,St,pt,He,st,pe,ve,Xe)}}function Be(T,U,X,ae,ue){for(X=U+X;U<X;){var he=T[U++];ae[ue++]=he>>16&255,ae[ue++]=he>>8&255,ae[ue++]=he>>0&255}}function ht(T,U,X,ae,ue){for(X=U+X;U<X;){var he=T[U++];ae[ue++]=he>>16&255,ae[ue++]=he>>8&255,ae[ue++]=he>>0&255,ae[ue++]=he>>24&255}}function wt(T,U,X,ae,ue){for(X=U+X;U<X;){var he=(pe=T[U++])>>16&240|pe>>12&15,pe=pe>>0&240|pe>>28&15;ae[ue++]=he,ae[ue++]=pe}}function ir(T,U,X,ae,ue){for(X=U+X;U<X;){var he=(pe=T[U++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;ae[ue++]=he,ae[ue++]=pe}}function Kt(T,U,X,ae,ue){for(X=U+X;U<X;){var he=T[U++];ae[ue++]=he>>0&255,ae[ue++]=he>>8&255,ae[ue++]=he>>16&255}}function Ut(T,U,X,ae,ue,he){if(he==0)for(X=U+X;U<X;)ge(ae,((he=T[U++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),ue+=32;else n(ae,ue,T,U,X)}function Ur(T,U){C[U][0]=C[T+"0"],C[U][1]=C[T+"1"],C[U][2]=C[T+"2"],C[U][3]=C[T+"3"],C[U][4]=C[T+"4"],C[U][5]=C[T+"5"],C[U][6]=C[T+"6"],C[U][7]=C[T+"7"],C[U][8]=C[T+"8"],C[U][9]=C[T+"9"],C[U][10]=C[T+"10"],C[U][11]=C[T+"11"],C[U][12]=C[T+"12"],C[U][13]=C[T+"13"],C[U][14]=C[T+"0"],C[U][15]=C[T+"0"]}function Ar(T){return T==hm||T==Qd||T==Hu||T==yh}function wn(){this.eb=[],this.size=this.A=this.fb=0}function Vr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wn,this.f.kb=new Vr,this.sd=null}function ra(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function er(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function qr(T,U){var X=T.T,ae=U.ba.f.RGBA,ue=ae.eb,he=ae.fb+T.ka*ae.A,pe=Zs[U.ba.S],ve=T.y,we=T.O,ke=T.f,He=T.N,st=T.ea,rt=T.W,Xe=U.cc,St=U.dc,pt=U.Mc,Ve=U.Nc,Ke=T.ka,yt=T.ka+T.T,Nt=T.U,Ct=Nt+1>>1;for(Ke==0?pe(ve,we,null,null,ke,He,st,rt,ke,He,st,rt,ue,he,null,null,Nt):(pe(U.ec,U.fc,ve,we,Xe,St,pt,Ve,ke,He,st,rt,ue,he-ae.A,ue,he,Nt),++X);Ke+2<yt;Ke+=2)Xe=ke,St=He,pt=st,Ve=rt,He+=T.Rc,rt+=T.Rc,he+=2*ae.A,pe(ve,(we+=2*T.fa)-T.fa,ve,we,Xe,St,pt,Ve,ke,He,st,rt,ue,he-ae.A,ue,he,Nt);return we+=T.fa,T.j+yt<T.o?(n(U.ec,U.fc,ve,we,Nt),n(U.cc,U.dc,ke,He,Ct),n(U.Mc,U.Nc,st,rt,Ct),X--):1&yt||pe(ve,we,null,null,ke,He,st,rt,ke,He,st,rt,ue,he+ae.A,null,null,Nt),X}function qs(T,U,X){var ae=T.F,ue=[T.J];if(ae!=null){var he=T.U,pe=U.ba.S,ve=pe==ZA||pe==Hu;U=U.ba.f.RGBA;var we=[0],ke=T.ka;we[0]=T.T,T.Kb&&(ke==0?--we[0]:(--ke,ue[0]-=T.width),T.j+T.ka+T.T==T.o&&(we[0]=T.o-T.j-ke));var He=U.eb;ke=U.fb+ke*U.A,T=sn(ae,ue[0],T.width,he,we,He,ke+(ve?0:3),U.A),t(X==we),T&&Ar(pe)&&Jo(He,ke,ve,he,we,U.A)}return 0}function ha(T){var U=T.ma,X=U.ba.S,ae=11>X,ue=X==bh||X==fm||X==ZA||X==Qu||X==12||Ar(X);if(U.memory=null,U.Ib=null,U.Jb=null,U.Nd=null,!Td(U.Oa,T,ue?11:12))return 0;if(ue&&Ar(X)&&Ot(),T.da)alert("todo:use_scaling");else{if(ae){if(U.Ib=er,T.Kb){if(X=T.U+1>>1,U.memory=s(T.U+2*X),U.memory==null)return 0;U.ec=U.memory,U.fc=0,U.cc=U.ec,U.dc=U.fc+T.U,U.Mc=U.cc,U.Nc=U.dc+X,U.Ib=qr,Ot()}}else alert("todo:EmitYUV");ue&&(U.Jb=qs,ae&&We())}if(ae&&!i2){for(T=0;256>T;++T)F4[T]=89858*(T-128)+Ts>>Yc,gm[T]=-22014*(T-128)+Ts,s1[T]=-45773*(T-128),Is[T]=113618*(T-128)+Ts>>Yc;for(T=zd;T<cg;++T)U=76283*(T-16)+Ts>>Yc,vm[T-zd]=Pn(U,255),i1[T-zd]=Pn(U+8>>4,15);i2=1}return 1}function Ga(T){var U=T.ma,X=T.U,ae=T.T;return t(!(1&T.ka)),0>=X||0>=ae?0:(X=U.Ib(T,U),U.Jb!=null&&U.Jb(T,U,X),U.Dc+=X,1)}function di(T){T.ma.memory=null}function Yt(T,U,X,ae){return G(T,8)!=47?0:(U[0]=G(T,14)+1,X[0]=G(T,14)+1,ae[0]=G(T,1),G(T,3)!=0?0:!T.h)}function En(T,U){if(4>T)return T+1;var X=T-2>>1;return(2+(1&T)<<X)+G(U,X)+1}function hn(T,U){return 120<U?U-120:1<=(X=((X=zu[U-1])>>4)*T+(8-(15&X)))?X:1;var X}function $n(T,U,X){var ae=W(X),ue=T[U+=255&ae].g-8;return 0<ue&&(te(X,X.u+8),ae=W(X),U+=T[U].value,U+=ae&(1<<ue)-1),te(X,X.u+T[U].g),T[U].value}function na(T,U,X){return X.g+=T.g,X.value+=T.value<<U>>>0,t(8>=X.g),T.g}function ma(T,U,X){var ae=T.xc;return t((U=ae==0?0:T.vc[T.md*(X>>ae)+(U>>ae)])<T.Wb),T.Ya[U]}function fe(T,U,X,ae){var ue=T.ab,he=T.c*U,pe=T.C;U=pe+U;var ve=X,we=ae;for(ae=T.Ta,X=T.Ua;0<ue--;){var ke=T.gc[ue],He=pe,st=U,rt=ve,Xe=we,St=(we=ae,ve=X,ke.Ea);switch(t(He<st),t(st<=ke.nc),ke.hc){case 2:rg(rt,Xe,(st-He)*St,we,ve);break;case 0:var pt=He,Ve=st,Ke=we,yt=ve,Nt=(Wt=ke).Ea;pt==0&&(n1(rt,Xe,null,null,1,Ke,yt),gt(rt,Xe+1,0,0,Nt-1,Ke,yt+1),Xe+=Nt,yt+=Nt,++pt);for(var Ct=1<<Wt.b,Jt=Ct-1,zt=$e(Nt,Wt.b),fr=Wt.K,Wt=Wt.w+(pt>>Wt.b)*zt;pt<Ve;){var Sn=fr,Rn=Wt,nn=1;for(dm(rt,Xe,Ke,yt-Nt,1,Ke,yt);nn<Nt;){var Jr=(nn&~Jt)+Ct;Jr>Nt&&(Jr=Nt),(0,Lu[Sn[Rn++]>>8&15])(rt,Xe+ +nn,Ke,yt+nn-Nt,Jr-nn,Ke,yt+nn),nn=Jr}Xe+=Nt,yt+=Nt,++pt&Jt||(Wt+=zt)}st!=ke.nc&&n(we,ve-St,we,ve+(st-He-1)*St,St);break;case 1:for(St=rt,Ve=Xe,Nt=(rt=ke.Ea)-(yt=rt&~(Ke=(Xe=1<<ke.b)-1)),pt=$e(rt,ke.b),Ct=ke.K,ke=ke.w+(He>>ke.b)*pt;He<st;){for(Jt=Ct,zt=ke,fr=new Oe,Wt=Ve+yt,Sn=Ve+rt;Ve<Wt;)Dt(Jt[zt++],fr),Fd(fr,St,Ve,Xe,we,ve),Ve+=Xe,ve+=Xe;Ve<Sn&&(Dt(Jt[zt++],fr),Fd(fr,St,Ve,Nt,we,ve),Ve+=Nt,ve+=Nt),++He&Ke||(ke+=pt)}break;case 3:if(rt==we&&Xe==ve&&0<ke.b){for(Ve=we,rt=St=ve+(st-He)*St-(yt=(st-He)*$e(ke.Ea,ke.b)),Xe=we,Ke=ve,pt=[],yt=(Nt=yt)-1;0<=yt;--yt)pt[yt]=Xe[Ke+yt];for(yt=Nt-1;0<=yt;--yt)Ve[rt+yt]=pt[yt];Cl(ke,He,st,we,St,we,ve)}else Cl(ke,He,st,rt,Xe,we,ve)}ve=ae,we=X}we!=X&&n(ae,X,ve,we,he)}function Te(T,U){var X=T.V,ae=T.Ba+T.c*T.C,ue=U-T.C;if(t(U<=T.l.o),t(16>=ue),0<ue){var he=T.l,pe=T.Ta,ve=T.Ua,we=he.width;if(fe(T,ue,X,ae),ue=ve=[ve],t((X=T.C)<(ae=U)),t(he.v<he.va),ae>he.o&&(ae=he.o),X<he.j){var ke=he.j-X;X=he.j,ue[0]+=ke*we}if(X>=ae?X=0:(ue[0]+=4*he.v,he.ka=X-he.j,he.U=he.va-he.v,he.T=ae-X,X=1),X){if(ve=ve[0],11>(X=T.ca).S){var He=X.f.RGBA,st=(ae=X.S,ue=he.U,he=he.T,ke=He.eb,He.A),rt=he;for(He=He.fb+T.Ma*He.A;0<rt--;){var Xe=pe,St=ve,pt=ue,Ve=ke,Ke=He;switch(ae){case Ii:Wi(Xe,St,pt,Ve,Ke);break;case bh:pi(Xe,St,pt,Ve,Ke);break;case hm:pi(Xe,St,pt,Ve,Ke),Jo(Ve,Ke,0,pt,1,0);break;case Gc:ec(Xe,St,pt,Ve,Ke);break;case fm:Ut(Xe,St,pt,Ve,Ke,1);break;case Qd:Ut(Xe,St,pt,Ve,Ke,1),Jo(Ve,Ke,0,pt,1,0);break;case ZA:Ut(Xe,St,pt,Ve,Ke,0);break;case Hu:Ut(Xe,St,pt,Ve,Ke,0),Jo(Ve,Ke,1,pt,1,0);break;case Qu:Od(Xe,St,pt,Ve,Ke);break;case yh:Od(Xe,St,pt,Ve,Ke),an(Ve,Ke,pt,1,0);break;case ag:yo(Xe,St,pt,Ve,Ke);break;default:t(0)}ve+=we,He+=st}T.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");t(T.Ma<=X.height)}}T.C=U,t(T.C<=T.i)}function Ee(T){var U;if(0<T.ua)return 0;for(U=0;U<T.Wb;++U){var X=T.Ya[U].G,ae=T.Ya[U].H;if(0<X[1][ae[1]+0].g||0<X[2][ae[2]+0].g||0<X[3][ae[3]+0].g)return 0}return 1}function Ce(T,U,X,ae,ue,he){if(T.Z!=0){var pe=T.qd,ve=T.rd;for(t(Wc[T.Z]!=null);U<X;++U)Wc[T.Z](pe,ve,ae,ue,ae,ue,he),pe=ae,ve=ue,ue+=he;T.qd=pe,T.rd=ve}}function Ne(T,U){var X=T.l.ma,ae=X.Z==0||X.Z==1?T.l.j:T.C;if(ae=T.C<ae?ae:T.C,t(U<=T.l.o),U>ae){var ue=T.l.width,he=X.ca,pe=X.tb+ue*ae,ve=T.V,we=T.Ba+T.c*ae,ke=T.gc;t(T.ab==1),t(ke[0].hc==3),jd(ke[0],ae,U,ve,we,he,pe),Ce(X,ae,U,he,pe,ue)}T.C=T.Ma=U}function Ie(T,U,X,ae,ue,he,pe){var ve=T.$/ae,we=T.$%ae,ke=T.m,He=T.s,st=X+T.$,rt=st;ue=X+ae*ue;var Xe=X+ae*he,St=280+He.ua,pt=T.Pb?ve:16777216,Ve=0<He.ua?He.Wa:null,Ke=He.wc,yt=st<Xe?ma(He,we,ve):null;t(T.C<he),t(Xe<=ue);var Nt=!1;e:for(;;){for(;Nt||st<Xe;){var Ct=0;if(ve>=pt){var Jt=st-X;t((pt=T).Pb),pt.wd=pt.m,pt.xd=Jt,0<pt.s.ua&&_e(pt.s.Wa,pt.s.vb),pt=ve+n2}if(we&Ke||(yt=ma(He,we,ve)),t(yt!=null),yt.Qb&&(U[st]=yt.qb,Nt=!0),!Nt)if(ie(ke),yt.jc){Ct=ke,Jt=U;var zt=st,fr=yt.pd[W(Ct)&ks-1];t(yt.jc),256>fr.g?(te(Ct,Ct.u+fr.g),Jt[zt]=fr.value,Ct=0):(te(Ct,Ct.u+fr.g-256),t(256<=fr.value),Ct=fr.value),Ct==0&&(Nt=!0)}else Ct=$n(yt.G[0],yt.H[0],ke);if(ke.h)break;if(Nt||256>Ct){if(!Nt)if(yt.nd)U[st]=(yt.qb|Ct<<8)>>>0;else{if(ie(ke),Nt=$n(yt.G[1],yt.H[1],ke),ie(ke),Jt=$n(yt.G[2],yt.H[2],ke),zt=$n(yt.G[3],yt.H[3],ke),ke.h)break;U[st]=(zt<<24|Nt<<16|Ct<<8|Jt)>>>0}if(Nt=!1,++st,++we>=ae&&(we=0,++ve,pe!=null&&ve<=he&&!(ve%16)&&pe(T,ve),Ve!=null))for(;rt<st;)Ct=U[rt++],Ve.X[(506832829*Ct&4294967295)>>>Ve.Mb]=Ct}else if(280>Ct){if(Ct=En(Ct-256,ke),Jt=$n(yt.G[4],yt.H[4],ke),ie(ke),Jt=hn(ae,Jt=En(Jt,ke)),ke.h)break;if(st-X<Jt||ue-st<Ct)break e;for(zt=0;zt<Ct;++zt)U[st+zt]=U[st+zt-Jt];for(st+=Ct,we+=Ct;we>=ae;)we-=ae,++ve,pe!=null&&ve<=he&&!(ve%16)&&pe(T,ve);if(t(st<=ue),we&Ke&&(yt=ma(He,we,ve)),Ve!=null)for(;rt<st;)Ct=U[rt++],Ve.X[(506832829*Ct&4294967295)>>>Ve.Mb]=Ct}else{if(!(Ct<St))break e;for(Nt=Ct-280,t(Ve!=null);rt<st;)Ct=U[rt++],Ve.X[(506832829*Ct&4294967295)>>>Ve.Mb]=Ct;Ct=st,t(!(Nt>>>(Jt=Ve).Xa)),U[Ct]=Jt.X[Nt],Nt=!0}Nt||t(ke.h==Y(ke))}if(T.Pb&&ke.h&&st<ue)t(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&_e(T.s.vb,T.s.Wa);else{if(ke.h)break e;pe!=null&&pe(T,ve>he?he:ve),T.a=0,T.$=st-X}return 1}return T.a=3,0}function et(T){t(T!=null),T.vc=null,T.yc=null,T.Ya=null;var U=T.Wa;U!=null&&(U.X=null),T.vb=null,t(T!=null)}function At(){var T=new mh;return T==null?null:(T.a=0,T.xb=wh,Ur("Predictor","VP8LPredictors"),Ur("Predictor","VP8LPredictors_C"),Ur("PredictorAdd","VP8LPredictorsAdd"),Ur("PredictorAdd","VP8LPredictorsAdd_C"),rg=kt,Fd=Re,Wi=Be,pi=ht,Od=wt,yo=ir,ec=Kt,C.VP8LMapColor32b=Ys,C.VP8LMapColor8b=Am,T)}function qe(T,U,X,ae,ue){var he=1,pe=[T],ve=[U],we=ae.m,ke=ae.s,He=null,st=0;e:for(;;){if(X)for(;he&&G(we,1);){var rt=pe,Xe=ve,St=ae,pt=1,Ve=St.m,Ke=St.gc[St.ab],yt=G(Ve,2);if(St.Oc&1<<yt)he=0;else{switch(St.Oc|=1<<yt,Ke.hc=yt,Ke.Ea=rt[0],Ke.nc=Xe[0],Ke.K=[null],++St.ab,t(4>=St.ab),yt){case 0:case 1:Ke.b=G(Ve,3)+2,pt=qe($e(Ke.Ea,Ke.b),$e(Ke.nc,Ke.b),0,St,Ke.K),Ke.K=Ke.K[0];break;case 3:var Nt,Ct=G(Ve,8)+1,Jt=16<Ct?0:4<Ct?1:2<Ct?2:3;if(rt[0]=$e(Ke.Ea,Jt),Ke.b=Jt,Nt=pt=qe(Ct,1,0,St,Ke.K)){var zt,fr=Ct,Wt=Ke,Sn=1<<(8>>Wt.b),Rn=s(Sn);if(Rn==null)Nt=0;else{var nn=Wt.K[0],Jr=Wt.w;for(Rn[0]=Wt.K[0][0],zt=1;zt<1*fr;++zt)Rn[zt]=Ze(nn[Jr+zt],Rn[zt-1]);for(;zt<4*Sn;++zt)Rn[zt]=0;Wt.K[0]=null,Wt.K[0]=Rn,Nt=1}}pt=Nt;break;case 2:break;default:t(0)}he=pt}}if(pe=pe[0],ve=ve[0],he&&G(we,1)&&!(he=1<=(st=G(we,4))&&11>=st)){ae.a=3;break e}var Xn;if(Xn=he)t:{var Ln,Hr,sa,Cr=ae,Fr=pe,_n=ve,Nn=st,ei=X,js=Cr.m,Xa=Cr.s,Ya=[null],ds=1,kl=0,Mn=tf[Nn];r:for(;;){if(ei&&G(js,1)){var As=G(js,3)+2,nc=$e(Fr,As),$d=$e(_n,As),af=nc*$d;if(!qe(nc,$d,0,Cr,Ya))break r;for(Ya=Ya[0],Xa.xc=As,Ln=0;Ln<af;++Ln){var Kd=Ya[Ln]>>8&65535;Ya[Ln]=Kd,Kd>=ds&&(ds=Kd+1)}}if(js.h)break r;for(Hr=0;5>Hr;++Hr){var Na=Zo[Hr];!Hr&&0<Nn&&(Na+=1<<Nn),kl<Na&&(kl=Na)}var xm=i(ds*Mn,F),ug=ds,Yi=i(ug,Q);if(Yi==null)var Fa=null;else t(65536>=ug),Fa=Yi;var sf=s(kl);if(Fa==null||sf==null||xm==null){Cr.a=1;break r}var Gd=xm;for(Ln=sa=0;Ln<ds;++Ln){var Eo=Fa[Ln],qd=Eo.G,Co=Eo.H,bm=0,Ch=1,dg=0;for(Hr=0;5>Hr;++Hr){Na=Zo[Hr],qd[Hr]=Gd,Co[Hr]=sa,!Hr&&0<Nn&&(Na+=1<<Nn);a:{var ym,Ag=Na,wm=Cr,_h=sf,c2=Gd,u2=sa,Em=0,qu=wm.m,D4=G(qu,1);if(a(_h,0,0,Ag),D4){var d2=G(qu,1)+1,A2=G(qu,1),o1=G(qu,A2==0?1:8);_h[o1]=1,d2==2&&(_h[o1=G(qu,8)]=1);var Sh=1}else{var l1=s(19),c1=G(qu,4)+4;if(19<c1){wm.a=3;var Cm=0;break a}for(ym=0;ym<c1;++ym)l1[Vu[ym]]=G(qu,3);var fg=void 0,Nh=void 0,f2=wm,h2=l1,Wu=Ag,_m=_h,hg=0,ac=f2.m,kh=8,u1=i(128,F);n:for(;j(u1,0,7,h2,19);){if(G(ac,1)){var m2=2+2*G(ac,3);if((fg=2+G(ac,m2))>Wu)break n}else fg=Wu;for(Nh=0;Nh<Wu&&fg--;){ie(ac);var d1=u1[0+(127&W(ac))];te(ac,ac.u+d1.g);var of=d1.value;if(16>of)_m[Nh++]=of,of!=0&&(kh=of);else{var p2=of==16,A1=of-16,f1=Nl[A1],h1=G(ac,sg[A1])+f1;if(Nh+h1>Wu)break n;for(var g2=p2?kh:0;0<h1--;)_m[Nh++]=g2}}hg=1;break n}hg||(f2.a=3),Sh=hg}(Sh=Sh&&!qu.h)&&(Em=j(c2,u2,8,_h,Ag)),Sh&&Em!=0?Cm=Em:(wm.a=3,Cm=0)}if(Cm==0)break r;if(Ch&&ef[Hr]==1&&(Ch=Gd[sa].g==0),bm+=Gd[sa].g,sa+=Cm,3>=Hr){var lf,mg=sf[0];for(lf=1;lf<Na;++lf)sf[lf]>mg&&(mg=sf[lf]);dg+=mg}}if(Eo.nd=Ch,Eo.Qb=0,Ch&&(Eo.qb=(qd[3][Co[3]+0].value<<24|qd[1][Co[1]+0].value<<16|qd[2][Co[2]+0].value)>>>0,bm==0&&256>qd[0][Co[0]+0].value&&(Eo.Qb=1,Eo.qb+=qd[0][Co[0]+0].value<<8)),Eo.jc=!Eo.Qb&&6>dg,Eo.jc){var Sm,Xu=Eo;for(Sm=0;Sm<ks;++Sm){var Jc=Sm,Yu=Xu.pd[Jc],Nm=Xu.G[0][Xu.H[0]+Jc];256<=Nm.value?(Yu.g=Nm.g+256,Yu.value=Nm.value):(Yu.g=0,Yu.value=0,Jc>>=na(Nm,8,Yu),Jc>>=na(Xu.G[1][Xu.H[1]+Jc],16,Yu),Jc>>=na(Xu.G[2][Xu.H[2]+Jc],0,Yu),na(Xu.G[3][Xu.H[3]+Jc],24,Yu))}}}Xa.vc=Ya,Xa.Wb=ds,Xa.Ya=Fa,Xa.yc=xm,Xn=1;break t}Xn=0}if(!(he=Xn)){ae.a=3;break e}if(0<st){if(ke.ua=1<<st,!Pe(ke.Wa,st)){ae.a=1,he=0;break e}}else ke.ua=0;var km=ae,m1=pe,v2=ve,p1=km.s,g1=p1.xc;if(km.c=m1,km.i=v2,p1.md=$e(m1,g1),p1.wc=g1==0?-1:(1<<g1)-1,X){ae.xb=s2;break e}if((He=s(pe*ve))==null){ae.a=1,he=0;break e}he=(he=Ie(ae,He,0,pe,ve,ve,null))&&!we.h;break e}return he?(ue!=null?ue[0]=He:(t(He==null),t(X)),ae.$=0,X||et(ke)):et(ke),he}function nt(T,U){var X=T.c*T.i,ae=X+U+16*U;return t(T.c<=U),T.V=s(ae),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+X+U,1)}function it(T,U){var X=T.C,ae=U-X,ue=T.V,he=T.Ba+T.c*X;for(t(U<=T.l.o);0<ae;){var pe=16<ae?16:ae,ve=T.l.ma,we=T.l.width,ke=we*pe,He=ve.ca,st=ve.tb+we*X,rt=T.Ta,Xe=T.Ua;fe(T,pe,ue,he),ga(rt,Xe,He,st,ke),Ce(ve,X,X+pe,He,st,we),ae-=pe,ue+=pe*T.c,X+=pe}t(X==U),T.C=T.Ma=U}function Bt(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Lt(){this.Yb=function(){var T=[];return function U(X,ae,ue){for(var he=ue[ae],pe=0;pe<he&&(X.push(ue.length>ae+1?[]:0),!(ue.length<ae+1));pe++)U(X[pe],ae+1,ue)}(T,0,[3,11]),T}()}function Qt(){this.jb=s(3),this.Wc=o([4,8],Lt),this.Xc=o([4,17],Lt)}function Er(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Xr(){this.ld=this.La=this.dd=this.tc=0}function Yr(){this.Na=this.la=0}function rn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function is(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ho(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xr),this.Y=0,this.ya=Array(new is),this.aa=0,this.l=new Ns}function os(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ws(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new Bt,this.Kc=new Mt,this.ed=new Er,this.Qa=new Gt,this.Ic=this.$c=this.Aa=0,this.D=new ho,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,ne),this.ia=0,this.pb=i(4,rn),this.Pa=new Qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new os),this.Hd=0,this.rb=Array(new Yr),this.sb=0,this.wa=Array(new Xr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new is),this.L=this.aa=0,this.gd=o([4,2],Xr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ns(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ai(){var T=new Ws;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,Bs||(Bs=dh)),T}function pa(T,U,X){return T.a==0&&(T.a=U,T.sc=X,T.cb=0),0}function Xs(T,U,X){return 3<=X&&T[U+0]==157&&T[U+1]==1&&T[U+2]==42}function Ed(T,U){if(T==null)return 0;if(T.a=0,T.sc="OK",U==null)return pa(T,2,"null VP8Io passed to VP8GetHeaders()");var X=U.data,ae=U.w,ue=U.ha;if(4>ue)return pa(T,7,"Truncated header.");var he=X[ae+0]|X[ae+1]<<8|X[ae+2]<<16,pe=T.Od;if(pe.Rb=!(1&he),pe.td=he>>1&7,pe.yd=he>>4&1,pe.ub=he>>5,3<pe.td)return pa(T,3,"Incorrect keyframe parameters.");if(!pe.yd)return pa(T,4,"Frame not displayable.");ae+=3,ue-=3;var ve=T.Kc;if(pe.Rb){if(7>ue)return pa(T,7,"cannot parse picture header");if(!Xs(X,ae,ue))return pa(T,3,"Bad code word");ve.c=16383&(X[ae+4]<<8|X[ae+3]),ve.Td=X[ae+4]>>6,ve.i=16383&(X[ae+6]<<8|X[ae+5]),ve.Ud=X[ae+6]>>6,ae+=7,ue-=7,T.za=ve.c+15>>4,T.Ub=ve.i+15>>4,U.width=ve.c,U.height=ve.i,U.Da=0,U.j=0,U.v=0,U.va=U.width,U.o=U.height,U.da=0,U.ib=U.width,U.hb=U.height,U.U=U.width,U.T=U.height,a((he=T.Pa).jb,0,255,he.jb.length),t((he=T.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,a(he.Zb,0,0,he.Zb.length),a(he.Lb,0,0,he.Lb)}if(pe.ub>ue)return pa(T,7,"bad partition length");J(he=T.m,X,ae,pe.ub),ae+=pe.ub,ue-=pe.ub,pe.Rb&&(ve.Ld=oe(he),ve.Kd=oe(he)),ve=T.Qa;var we,ke=T.Pa;if(t(he!=null),t(ve!=null),ve.Cb=oe(he),ve.Cb){if(ve.Bb=oe(he),oe(he)){for(ve.Fb=oe(he),we=0;4>we;++we)ve.Zb[we]=oe(he)?Z(he,7):0;for(we=0;4>we;++we)ve.Lb[we]=oe(he)?Z(he,6):0}if(ve.Bb)for(we=0;3>we;++we)ke.jb[we]=oe(he)?q(he,8):255}else ve.Bb=0;if(he.Ka)return pa(T,3,"cannot parse segment header");if((ve=T.ed).zd=oe(he),ve.Tb=q(he,6),ve.wb=q(he,3),ve.Pc=oe(he),ve.Pc&&oe(he)){for(ke=0;4>ke;++ke)oe(he)&&(ve.vd[ke]=Z(he,6));for(ke=0;4>ke;++ke)oe(he)&&(ve.od[ke]=Z(he,6))}if(T.L=ve.Tb==0?0:ve.zd?1:2,he.Ka)return pa(T,3,"cannot parse filter header");var He=ue;if(ue=we=ae,ae=we+He,ve=He,T.Xb=(1<<q(T.m,2))-1,He<3*(ke=T.Xb))X=7;else{for(we+=3*ke,ve-=3*ke,He=0;He<ke;++He){var st=X[ue+0]|X[ue+1]<<8|X[ue+2]<<16;st>ve&&(st=ve),J(T.Jc[+He],X,we,st),we+=st,ve-=st,ue+=3}J(T.Jc[+ke],X,we,ve),X=we<ae?0:5}if(X!=0)return pa(T,X,"cannot parse partitions");for(X=q(we=T.m,7),ue=oe(we)?Z(we,4):0,ae=oe(we)?Z(we,4):0,ve=oe(we)?Z(we,4):0,ke=oe(we)?Z(we,4):0,we=oe(we)?Z(we,4):0,He=T.Qa,st=0;4>st;++st){if(He.Cb){var rt=He.Zb[st];He.Fb||(rt+=X)}else{if(0<st){T.pb[st]=T.pb[0];continue}rt=X}var Xe=T.pb[st];Xe.Sc[0]=mm[Pn(rt+ue,127)],Xe.Sc[1]=pm[Pn(rt+0,127)],Xe.Eb[0]=2*mm[Pn(rt+ae,127)],Xe.Eb[1]=101581*pm[Pn(rt+ve,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=mm[Pn(rt+ke,117)],Xe.Qc[1]=pm[Pn(rt+we,127)],Xe.lc=rt+we}if(!pe.Rb)return pa(T,4,"Not a key frame.");for(oe(he),pe=T.Pa,X=0;4>X;++X){for(ue=0;8>ue;++ue)for(ae=0;3>ae;++ae)for(ve=0;11>ve;++ve)ke=ce(he,rf[X][ue][ae][ve])?q(he,8):qc[X][ue][ae][ve],pe.Wc[X][ue].Yb[ae][ve]=ke;for(ue=0;17>ue;++ue)pe.Xc[X][ue]=pe.Wc[X][a2[ue]]}return T.kc=oe(he),T.kc&&(T.Bd=q(he,8)),T.cb=1}function dh(T,U,X,ae,ue,he,pe){var ve=U[ue].Yb[X];for(X=0;16>ue;++ue){if(!ce(T,ve[X+0]))return ue;for(;!ce(T,ve[X+1]);)if(ve=U[++ue].Yb[0],X=0,ue==16)return 16;var we=U[ue+1].Yb;if(ce(T,ve[X+2])){var ke=T,He=0;if(ce(ke,(rt=ve)[(st=X)+3]))if(ce(ke,rt[st+6])){for(ve=0,st=2*(He=ce(ke,rt[st+8]))+(rt=ce(ke,rt[st+9+He])),He=0,rt=Qa[st];rt[ve];++ve)He+=He+ce(ke,rt[ve]);He+=3+(8<<st)}else ce(ke,rt[st+7])?(He=7+2*ce(ke,165),He+=ce(ke,145)):He=5+ce(ke,159);else He=ce(ke,rt[st+4])?3+ce(ke,rt[st+5]):2;ve=we[2]}else He=1,ve=we[1];we=pe+In[ue],0>(ke=T).b&&me(ke);var st,rt=ke.b,Xe=(st=ke.Ca>>1)-(ke.I>>rt)>>31;--ke.b,ke.Ca+=Xe,ke.Ca|=1,ke.I-=(st+1&Xe)<<rt,he[we]=((He^Xe)-Xe)*ae[(0<ue)+0]}return 16}function Fc(T){var U=T.rb[T.sb-1];U.la=0,U.Na=0,a(T.zc,0,0,T.zc.length),T.ja=0}function UA(T,U){if(T==null)return 0;if(U==null)return pa(T,2,"NULL VP8Io parameter in VP8Decode().");if(!T.cb&&!Ed(T,U))return 0;if(t(T.cb),U.ac==null||U.ac(U)){U.ob&&(T.L=0);var X=Gu[T.L];if(T.L==2?(T.yb=0,T.zb=0):(T.yb=U.v-X>>4,T.zb=U.j-X>>4,0>T.yb&&(T.yb=0),0>T.zb&&(T.zb=0)),T.Va=U.o+15+X>>4,T.Hb=U.va+15+X>>4,T.Hb>T.za&&(T.Hb=T.za),T.Va>T.Ub&&(T.Va=T.Ub),0<T.L){var ae=T.ed;for(X=0;4>X;++X){var ue;if(T.Qa.Cb){var he=T.Qa.Lb[X];T.Qa.Fb||(he+=ae.Tb)}else he=ae.Tb;for(ue=0;1>=ue;++ue){var pe=T.gd[X][ue],ve=he;if(ae.Pc&&(ve+=ae.vd[0],ue&&(ve+=ae.od[0])),0<(ve=0>ve?0:63<ve?63:ve)){var we=ve;0<ae.wb&&(we=4<ae.wb?we>>2:we>>1)>9-ae.wb&&(we=9-ae.wb),1>we&&(we=1),pe.dd=we,pe.tc=2*ve+we,pe.ld=40<=ve?2:15<=ve?1:0}else pe.tc=0;pe.La=ue}}}X=0}else pa(T,6,"Frame setup failed"),X=T.a;if(X=X==0){if(X){T.$c=0,0<T.Aa||(T.Ic=o2);e:{X=T.Ic,ae=4*(we=T.za);var ke=32*we,He=we+1,st=0<T.L?we*(0<T.Aa?2:1):0,rt=(T.Aa==2?2:1)*we;if((pe=ae+832+(ue=3*(16*X+Gu[T.L])/2*ke)+(he=T.Fa!=null&&0<T.Fa.length?T.Kc.c*T.Kc.i:0))!=pe)X=0;else{if(pe>T.Vb){if(T.Vb=0,T.Ec=s(pe),T.Fc=0,T.Ec==null){X=pa(T,1,"no memory during frame initialization.");break e}T.Vb=pe}pe=T.Ec,ve=T.Fc,T.Ac=pe,T.Bc=ve,ve+=ae,T.Gd=i(ke,os),T.Hd=0,T.rb=i(He+1,Yr),T.sb=1,T.wa=st?i(st,Xr):null,T.Y=0,T.D.Nb=0,T.D.wa=T.wa,T.D.Y=T.Y,0<T.Aa&&(T.D.Y+=we),t(!0),T.oc=pe,T.pc=ve,ve+=832,T.ya=i(rt,is),T.aa=0,T.D.ya=T.ya,T.D.aa=T.aa,T.Aa==2&&(T.D.aa+=we),T.R=16*we,T.B=8*we,we=(ke=Gu[T.L])*T.R,ke=ke/2*T.B,T.sa=pe,T.ta=ve+we,T.qa=T.sa,T.ra=T.ta+16*X*T.R+ke,T.Ha=T.qa,T.Ia=T.ra+8*X*T.B+ke,T.$c=0,ve+=ue,T.mb=he?pe:null,T.nb=he?ve:null,t(ve+he<=T.Fc+T.Vb),Fc(T),a(T.Ac,T.Bc,0,ae),X=1}}if(X){if(U.ka=0,U.y=T.sa,U.O=T.ta,U.f=T.qa,U.N=T.ra,U.ea=T.Ha,U.Vd=T.Ia,U.fa=T.R,U.Rc=T.B,U.F=null,U.J=0,!Uu){for(X=-255;255>=X;++X)Wa[255+X]=0>X?-X:X;for(X=-1020;1020>=X;++X)_l[1020+X]=-128>X?-128:127<X?127:X;for(X=-112;112>=X;++X)Md[112+X]=-16>X?-16:15<X?15:X;for(X=-255;510>=X;++X)Ud[255+X]=0>X?0:255<X?255:X;Uu=1}$c=mo,tc=Dc,rc=pl,us=Dn,wo=Pc,Ma=Oc,WA=Uc,Kc=Jl,vh=Nd,Dd=$A,Pd=Sd,Rd=Fu,XA=Ou,xh=Qc,Ld=Yo,Mu=Bi,YA=cs,Ua=hh,Xi[0]=Ni,Xi[1]=Ah,Xi[2]=xl,Xi[3]=fh,Xi[4]=po,Xi[5]=bl,Xi[6]=qi,Xi[7]=go,Xi[8]=Yl,Xi[9]=Rc,$u[0]=gl,$u[1]=HA,$u[2]=ql,$u[3]=_d,$u[4]=aa,$u[5]=Xl,$u[6]=vl,el[0]=yl,el[1]=QA,el[2]=VA,el[3]=vo,el[4]=ln,el[5]=ls,el[6]=Lc,X=1}else X=0}X&&(X=function(Xe,St){for(Xe.M=0;Xe.M<Xe.Va;++Xe.M){var pt,Ve=Xe.Jc[Xe.M&Xe.Xb],Ke=Xe.m,yt=Xe;for(pt=0;pt<yt.za;++pt){var Nt=Ke,Ct=yt,Jt=Ct.Ac,zt=Ct.Bc+4*pt,fr=Ct.zc,Wt=Ct.ya[Ct.aa+pt];if(Ct.Qa.Bb?Wt.$b=ce(Nt,Ct.Pa.jb[0])?2+ce(Nt,Ct.Pa.jb[2]):ce(Nt,Ct.Pa.jb[1]):Wt.$b=0,Ct.kc&&(Wt.Ad=ce(Nt,Ct.Bd)),Wt.Za=!ce(Nt,145)+0,Wt.Za){var Sn=Wt.Ob,Rn=0;for(Ct=0;4>Ct;++Ct){var nn,Jr=fr[0+Ct];for(nn=0;4>nn;++nn){Jr=a1[Jt[zt+nn]][Jr];for(var Xn=Hd[ce(Nt,Jr[0])];0<Xn;)Xn=Hd[2*Xn+ce(Nt,Jr[Xn])];Jr=-Xn,Jt[zt+nn]=Jr}n(Sn,Rn,Jt,zt,4),Rn+=4,fr[0+Ct]=Jr}}else Jr=ce(Nt,156)?ce(Nt,128)?1:3:ce(Nt,163)?2:0,Wt.Ob[0]=Jr,a(Jt,zt,Jr,4),a(fr,0,Jr,4);Wt.Dd=ce(Nt,142)?ce(Nt,114)?ce(Nt,183)?1:3:2:0}if(yt.m.Ka)return pa(Xe,7,"Premature end-of-partition0 encountered.");for(;Xe.ja<Xe.za;++Xe.ja){if(yt=Ve,Nt=(Ke=Xe).rb[Ke.sb-1],Jt=Ke.rb[Ke.sb+Ke.ja],pt=Ke.ya[Ke.aa+Ke.ja],zt=Ke.kc?pt.Ad:0)Nt.la=Jt.la=0,pt.Za||(Nt.Na=Jt.Na=0),pt.Hc=0,pt.Gc=0,pt.ia=0;else{var Ln,Hr;if(Nt=Jt,Jt=yt,zt=Ke.Pa.Xc,fr=Ke.ya[Ke.aa+Ke.ja],Wt=Ke.pb[fr.$b],Ct=fr.ad,Sn=0,Rn=Ke.rb[Ke.sb-1],Jr=nn=0,a(Ct,Sn,0,384),fr.Za)var sa=0,Cr=zt[3];else{Xn=s(16);var Fr=Nt.Na+Rn.Na;if(Fr=Bs(Jt,zt[1],Fr,Wt.Eb,0,Xn,0),Nt.Na=Rn.Na=(0<Fr)+0,1<Fr)$c(Xn,0,Ct,Sn);else{var _n=Xn[0]+3>>3;for(Xn=0;256>Xn;Xn+=16)Ct[Sn+Xn]=_n}sa=1,Cr=zt[0]}var Nn=15&Nt.la,ei=15&Rn.la;for(Xn=0;4>Xn;++Xn){var js=1&ei;for(_n=Hr=0;4>_n;++_n)Nn=Nn>>1|(js=(Fr=Bs(Jt,Cr,Fr=js+(1&Nn),Wt.Sc,sa,Ct,Sn))>sa)<<7,Hr=Hr<<2|(3<Fr?3:1<Fr?2:Ct[Sn+0]!=0),Sn+=16;Nn>>=4,ei=ei>>1|js<<7,nn=(nn<<8|Hr)>>>0}for(Cr=Nn,sa=ei>>4,Ln=0;4>Ln;Ln+=2){for(Hr=0,Nn=Nt.la>>4+Ln,ei=Rn.la>>4+Ln,Xn=0;2>Xn;++Xn){for(js=1&ei,_n=0;2>_n;++_n)Fr=js+(1&Nn),Nn=Nn>>1|(js=0<(Fr=Bs(Jt,zt[2],Fr,Wt.Qc,0,Ct,Sn)))<<3,Hr=Hr<<2|(3<Fr?3:1<Fr?2:Ct[Sn+0]!=0),Sn+=16;Nn>>=2,ei=ei>>1|js<<5}Jr|=Hr<<4*Ln,Cr|=Nn<<4<<Ln,sa|=(240&ei)<<Ln}Nt.la=Cr,Rn.la=sa,fr.Hc=nn,fr.Gc=Jr,fr.ia=43690&Jr?0:Wt.ia,zt=!(nn|Jr)}if(0<Ke.L&&(Ke.wa[Ke.Y+Ke.ja]=Ke.gd[pt.$b][pt.Za],Ke.wa[Ke.Y+Ke.ja].La|=!zt),yt.Ka)return pa(Xe,7,"Premature end-of-file encountered.")}if(Fc(Xe),Ke=St,yt=1,pt=(Ve=Xe).D,Nt=0<Ve.L&&Ve.M>=Ve.zb&&Ve.M<=Ve.Va,Ve.Aa==0)e:{if(pt.M=Ve.M,pt.uc=Nt,xo(Ve,pt),yt=1,pt=(Hr=Ve.D).Nb,Nt=(Jr=Gu[Ve.L])*Ve.R,Jt=Jr/2*Ve.B,Xn=16*pt*Ve.R,_n=8*pt*Ve.B,zt=Ve.sa,fr=Ve.ta-Nt+Xn,Wt=Ve.qa,Ct=Ve.ra-Jt+_n,Sn=Ve.Ha,Rn=Ve.Ia-Jt+_n,ei=(Nn=Hr.M)==0,nn=Nn>=Ve.Va-1,Ve.Aa==2&&xo(Ve,Hr),Hr.uc)for(js=(Fr=Ve).D.M,t(Fr.D.uc),Hr=Fr.yb;Hr<Fr.Hb;++Hr){sa=Hr,Cr=js;var Xa=(Ya=(Na=Fr).D).Nb;Ln=Na.R;var Ya=Ya.wa[Ya.Y+sa],ds=Na.sa,kl=Na.ta+16*Xa*Ln+16*sa,Mn=Ya.dd,As=Ya.tc;if(As!=0)if(t(3<=As),Na.L==1)0<sa&&Mu(ds,kl,Ln,As+4),Ya.La&&Ua(ds,kl,Ln,As),0<Cr&&Ld(ds,kl,Ln,As+4),Ya.La&&YA(ds,kl,Ln,As);else{var nc=Na.B,$d=Na.qa,af=Na.ra+8*Xa*nc+8*sa,Kd=Na.Ha,Na=Na.Ia+8*Xa*nc+8*sa;Xa=Ya.ld,0<sa&&(Kc(ds,kl,Ln,As+4,Mn,Xa),Dd($d,af,Kd,Na,nc,As+4,Mn,Xa)),Ya.La&&(Rd(ds,kl,Ln,As,Mn,Xa),xh($d,af,Kd,Na,nc,As,Mn,Xa)),0<Cr&&(WA(ds,kl,Ln,As+4,Mn,Xa),vh($d,af,Kd,Na,nc,As+4,Mn,Xa)),Ya.La&&(Pd(ds,kl,Ln,As,Mn,Xa),XA($d,af,Kd,Na,nc,As,Mn,Xa))}}if(Ve.ia&&alert("todo:DitherRow"),Ke.put!=null){if(Hr=16*Nn,Nn=16*(Nn+1),ei?(Ke.y=Ve.sa,Ke.O=Ve.ta+Xn,Ke.f=Ve.qa,Ke.N=Ve.ra+_n,Ke.ea=Ve.Ha,Ke.W=Ve.Ia+_n):(Hr-=Jr,Ke.y=zt,Ke.O=fr,Ke.f=Wt,Ke.N=Ct,Ke.ea=Sn,Ke.W=Rn),nn||(Nn-=Jr),Nn>Ke.o&&(Nn=Ke.o),Ke.F=null,Ke.J=null,Ve.Fa!=null&&0<Ve.Fa.length&&Hr<Nn&&(Ke.J=Bd(Ve,Ke,Hr,Nn-Hr),Ke.F=Ve.mb,Ke.F==null&&Ke.F.length==0)){yt=pa(Ve,3,"Could not decode alpha data.");break e}Hr<Ke.j&&(Jr=Ke.j-Hr,Hr=Ke.j,t(!(1&Jr)),Ke.O+=Ve.R*Jr,Ke.N+=Ve.B*(Jr>>1),Ke.W+=Ve.B*(Jr>>1),Ke.F!=null&&(Ke.J+=Ke.width*Jr)),Hr<Nn&&(Ke.O+=Ke.v,Ke.N+=Ke.v>>1,Ke.W+=Ke.v>>1,Ke.F!=null&&(Ke.J+=Ke.v),Ke.ka=Hr-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=Nn-Hr,yt=Ke.put(Ke))}pt+1!=Ve.Ic||nn||(n(Ve.sa,Ve.ta-Nt,zt,fr+16*Ve.R,Nt),n(Ve.qa,Ve.ra-Jt,Wt,Ct+8*Ve.B,Jt),n(Ve.Ha,Ve.Ia-Jt,Sn,Rn+8*Ve.B,Jt))}if(!yt)return pa(Xe,6,"Output aborted.")}return 1}(T,U)),U.bc!=null&&U.bc(U),X&=1}return X?(T.cb=0,X):0}function fi(T,U,X,ae,ue){ue=T[U+X+32*ae]+(ue>>3),T[U+X+32*ae]=-256&ue?0>ue?0:255:ue}function Cd(T,U,X,ae,ue,he){fi(T,U,0,X,ae+ue),fi(T,U,1,X,ae+he),fi(T,U,2,X,ae-he),fi(T,U,3,X,ae-ue)}function Cn(T){return(20091*T>>16)+T}function hi(T,U,X,ae){var ue,he=0,pe=s(16);for(ue=0;4>ue;++ue){var ve=T[U+0]+T[U+8],we=T[U+0]-T[U+8],ke=(35468*T[U+4]>>16)-Cn(T[U+12]),He=Cn(T[U+4])+(35468*T[U+12]>>16);pe[he+0]=ve+He,pe[he+1]=we+ke,pe[he+2]=we-ke,pe[he+3]=ve-He,he+=4,U++}for(ue=he=0;4>ue;++ue)ve=(T=pe[he+0]+4)+pe[he+8],we=T-pe[he+8],ke=(35468*pe[he+4]>>16)-Cn(pe[he+12]),fi(X,ae,0,0,ve+(He=Cn(pe[he+4])+(35468*pe[he+12]>>16))),fi(X,ae,1,0,we+ke),fi(X,ae,2,0,we-ke),fi(X,ae,3,0,ve-He),he++,ae+=32}function Oc(T,U,X,ae){var ue=T[U+0]+4,he=35468*T[U+4]>>16,pe=Cn(T[U+4]),ve=35468*T[U+1]>>16;Cd(X,ae,0,ue+pe,T=Cn(T[U+1]),ve),Cd(X,ae,1,ue+he,T,ve),Cd(X,ae,2,ue-he,T,ve),Cd(X,ae,3,ue-pe,T,ve)}function Dc(T,U,X,ae,ue){hi(T,U,X,ae),ue&&hi(T,U+16,X,ae+4)}function pl(T,U,X,ae){tc(T,U+0,X,ae,1),tc(T,U+32,X,ae+128,1)}function Dn(T,U,X,ae){var ue;for(T=T[U+0]+4,ue=0;4>ue;++ue)for(U=0;4>U;++U)fi(X,ae,U,ue,T)}function Pc(T,U,X,ae){T[U+0]&&us(T,U+0,X,ae),T[U+16]&&us(T,U+16,X,ae+4),T[U+32]&&us(T,U+32,X,ae+128),T[U+48]&&us(T,U+48,X,ae+128+4)}function mo(T,U,X,ae){var ue,he=s(16);for(ue=0;4>ue;++ue){var pe=T[U+0+ue]+T[U+12+ue],ve=T[U+4+ue]+T[U+8+ue],we=T[U+4+ue]-T[U+8+ue],ke=T[U+0+ue]-T[U+12+ue];he[0+ue]=pe+ve,he[8+ue]=pe-ve,he[4+ue]=ke+we,he[12+ue]=ke-we}for(ue=0;4>ue;++ue)pe=(T=he[0+4*ue]+3)+he[3+4*ue],ve=he[1+4*ue]+he[2+4*ue],we=he[1+4*ue]-he[2+4*ue],ke=T-he[3+4*ue],X[ae+0]=pe+ve>>3,X[ae+16]=ke+we>>3,X[ae+32]=pe-ve>>3,X[ae+48]=ke-we>>3,ae+=64}function Gl(T,U,X){var ae,ue=U-32,he=Js,pe=255-T[ue-1];for(ae=0;ae<X;++ae){var ve,we=he,ke=pe+T[U-1];for(ve=0;ve<X;++ve)T[U+ve]=we[ke+T[ue+ve]];U+=32}}function Ah(T,U){Gl(T,U,4)}function QA(T,U){Gl(T,U,8)}function HA(T,U){Gl(T,U,16)}function ql(T,U){var X;for(X=0;16>X;++X)n(T,U+32*X,T,U-32,16)}function _d(T,U){var X;for(X=16;0<X;--X)a(T,U,T[U-1],16),U+=32}function Wl(T,U,X){var ae;for(ae=0;16>ae;++ae)a(U,X+32*ae,T,16)}function gl(T,U){var X,ae=16;for(X=0;16>X;++X)ae+=T[U-1+32*X]+T[U+X-32];Wl(ae>>5,T,U)}function aa(T,U){var X,ae=8;for(X=0;16>X;++X)ae+=T[U-1+32*X];Wl(ae>>4,T,U)}function Xl(T,U){var X,ae=8;for(X=0;16>X;++X)ae+=T[U+X-32];Wl(ae>>4,T,U)}function vl(T,U){Wl(128,T,U)}function Sr(T,U,X){return T+2*U+X+2>>2}function xl(T,U){var X,ae=U-32;for(ae=new Uint8Array([Sr(T[ae-1],T[ae+0],T[ae+1]),Sr(T[ae+0],T[ae+1],T[ae+2]),Sr(T[ae+1],T[ae+2],T[ae+3]),Sr(T[ae+2],T[ae+3],T[ae+4])]),X=0;4>X;++X)n(T,U+32*X,ae,0,ae.length)}function fh(T,U){var X=T[U-1],ae=T[U-1+32],ue=T[U-1+64],he=T[U-1+96];ge(T,U+0,16843009*Sr(T[U-1-32],X,ae)),ge(T,U+32,16843009*Sr(X,ae,ue)),ge(T,U+64,16843009*Sr(ae,ue,he)),ge(T,U+96,16843009*Sr(ue,he,he))}function Ni(T,U){var X,ae=4;for(X=0;4>X;++X)ae+=T[U+X-32]+T[U-1+32*X];for(ae>>=3,X=0;4>X;++X)a(T,U+32*X,ae,4)}function po(T,U){var X=T[U-1+0],ae=T[U-1+32],ue=T[U-1+64],he=T[U-1-32],pe=T[U+0-32],ve=T[U+1-32],we=T[U+2-32],ke=T[U+3-32];T[U+0+96]=Sr(ae,ue,T[U-1+96]),T[U+1+96]=T[U+0+64]=Sr(X,ae,ue),T[U+2+96]=T[U+1+64]=T[U+0+32]=Sr(he,X,ae),T[U+3+96]=T[U+2+64]=T[U+1+32]=T[U+0+0]=Sr(pe,he,X),T[U+3+64]=T[U+2+32]=T[U+1+0]=Sr(ve,pe,he),T[U+3+32]=T[U+2+0]=Sr(we,ve,pe),T[U+3+0]=Sr(ke,we,ve)}function qi(T,U){var X=T[U+1-32],ae=T[U+2-32],ue=T[U+3-32],he=T[U+4-32],pe=T[U+5-32],ve=T[U+6-32],we=T[U+7-32];T[U+0+0]=Sr(T[U+0-32],X,ae),T[U+1+0]=T[U+0+32]=Sr(X,ae,ue),T[U+2+0]=T[U+1+32]=T[U+0+64]=Sr(ae,ue,he),T[U+3+0]=T[U+2+32]=T[U+1+64]=T[U+0+96]=Sr(ue,he,pe),T[U+3+32]=T[U+2+64]=T[U+1+96]=Sr(he,pe,ve),T[U+3+64]=T[U+2+96]=Sr(pe,ve,we),T[U+3+96]=Sr(ve,we,we)}function bl(T,U){var X=T[U-1+0],ae=T[U-1+32],ue=T[U-1+64],he=T[U-1-32],pe=T[U+0-32],ve=T[U+1-32],we=T[U+2-32],ke=T[U+3-32];T[U+0+0]=T[U+1+64]=he+pe+1>>1,T[U+1+0]=T[U+2+64]=pe+ve+1>>1,T[U+2+0]=T[U+3+64]=ve+we+1>>1,T[U+3+0]=we+ke+1>>1,T[U+0+96]=Sr(ue,ae,X),T[U+0+64]=Sr(ae,X,he),T[U+0+32]=T[U+1+96]=Sr(X,he,pe),T[U+1+32]=T[U+2+96]=Sr(he,pe,ve),T[U+2+32]=T[U+3+96]=Sr(pe,ve,we),T[U+3+32]=Sr(ve,we,ke)}function go(T,U){var X=T[U+0-32],ae=T[U+1-32],ue=T[U+2-32],he=T[U+3-32],pe=T[U+4-32],ve=T[U+5-32],we=T[U+6-32],ke=T[U+7-32];T[U+0+0]=X+ae+1>>1,T[U+1+0]=T[U+0+64]=ae+ue+1>>1,T[U+2+0]=T[U+1+64]=ue+he+1>>1,T[U+3+0]=T[U+2+64]=he+pe+1>>1,T[U+0+32]=Sr(X,ae,ue),T[U+1+32]=T[U+0+96]=Sr(ae,ue,he),T[U+2+32]=T[U+1+96]=Sr(ue,he,pe),T[U+3+32]=T[U+2+96]=Sr(he,pe,ve),T[U+3+64]=Sr(pe,ve,we),T[U+3+96]=Sr(ve,we,ke)}function Rc(T,U){var X=T[U-1+0],ae=T[U-1+32],ue=T[U-1+64],he=T[U-1+96];T[U+0+0]=X+ae+1>>1,T[U+2+0]=T[U+0+32]=ae+ue+1>>1,T[U+2+32]=T[U+0+64]=ue+he+1>>1,T[U+1+0]=Sr(X,ae,ue),T[U+3+0]=T[U+1+32]=Sr(ae,ue,he),T[U+3+32]=T[U+1+64]=Sr(ue,he,he),T[U+3+64]=T[U+2+64]=T[U+0+96]=T[U+1+96]=T[U+2+96]=T[U+3+96]=he}function Yl(T,U){var X=T[U-1+0],ae=T[U-1+32],ue=T[U-1+64],he=T[U-1+96],pe=T[U-1-32],ve=T[U+0-32],we=T[U+1-32],ke=T[U+2-32];T[U+0+0]=T[U+2+32]=X+pe+1>>1,T[U+0+32]=T[U+2+64]=ae+X+1>>1,T[U+0+64]=T[U+2+96]=ue+ae+1>>1,T[U+0+96]=he+ue+1>>1,T[U+3+0]=Sr(ve,we,ke),T[U+2+0]=Sr(pe,ve,we),T[U+1+0]=T[U+3+32]=Sr(X,pe,ve),T[U+1+32]=T[U+3+64]=Sr(ae,X,pe),T[U+1+64]=T[U+3+96]=Sr(ue,ae,X),T[U+1+96]=Sr(he,ue,ae)}function VA(T,U){var X;for(X=0;8>X;++X)n(T,U+32*X,T,U-32,8)}function vo(T,U){var X;for(X=0;8>X;++X)a(T,U,T[U-1],8),U+=32}function ki(T,U,X){var ae;for(ae=0;8>ae;++ae)a(U,X+32*ae,T,8)}function yl(T,U){var X,ae=8;for(X=0;8>X;++X)ae+=T[U+X-32]+T[U-1+32*X];ki(ae>>4,T,U)}function ls(T,U){var X,ae=4;for(X=0;8>X;++X)ae+=T[U+X-32];ki(ae>>3,T,U)}function ln(T,U){var X,ae=4;for(X=0;8>X;++X)ae+=T[U-1+32*X];ki(ae>>3,T,U)}function Lc(T,U){ki(128,T,U)}function wl(T,U,X){var ae=T[U-X],ue=T[U+0],he=3*(ue-ae)+ng[1020+T[U-2*X]-T[U+X]],pe=JA[112+(he+4>>3)];T[U-X]=Js[255+ae+JA[112+(he+3>>3)]],T[U+0]=Js[255+ue-pe]}function zA(T,U,X,ae){var ue=T[U+0],he=T[U+X];return Sl[255+T[U-2*X]-T[U-X]]>ae||Sl[255+he-ue]>ae}function Iu(T,U,X,ae){return 4*Sl[255+T[U-X]-T[U+0]]+Sl[255+T[U-2*X]-T[U+X]]<=ae}function ju(T,U,X,ae,ue){var he=T[U-3*X],pe=T[U-2*X],ve=T[U-X],we=T[U+0],ke=T[U+X],He=T[U+2*X],st=T[U+3*X];return 4*Sl[255+ve-we]+Sl[255+pe-ke]>ae?0:Sl[255+T[U-4*X]-he]<=ue&&Sl[255+he-pe]<=ue&&Sl[255+pe-ve]<=ue&&Sl[255+st-He]<=ue&&Sl[255+He-ke]<=ue&&Sl[255+ke-we]<=ue}function Yo(T,U,X,ae){var ue=2*ae+1;for(ae=0;16>ae;++ae)Iu(T,U+ae,X,ue)&&wl(T,U+ae,X)}function Bi(T,U,X,ae){var ue=2*ae+1;for(ae=0;16>ae;++ae)Iu(T,U+ae*X,1,ue)&&wl(T,U+ae*X,1)}function cs(T,U,X,ae){var ue;for(ue=3;0<ue;--ue)Yo(T,U+=4*X,X,ae)}function hh(T,U,X,ae){var ue;for(ue=3;0<ue;--ue)Bi(T,U+=4,X,ae)}function Mc(T,U,X,ae,ue,he,pe,ve){for(he=2*he+1;0<ue--;){if(ju(T,U,X,he,pe))if(zA(T,U,X,ve))wl(T,U,X);else{var we=T,ke=U,He=X,st=we[ke-2*He],rt=we[ke-He],Xe=we[ke+0],St=we[ke+He],pt=we[ke+2*He],Ve=27*(yt=ng[1020+3*(Xe-rt)+ng[1020+st-St]])+63>>7,Ke=18*yt+63>>7,yt=9*yt+63>>7;we[ke-3*He]=Js[255+we[ke-3*He]+yt],we[ke-2*He]=Js[255+st+Ke],we[ke-He]=Js[255+rt+Ve],we[ke+0]=Js[255+Xe-Ve],we[ke+He]=Js[255+St-Ke],we[ke+2*He]=Js[255+pt-yt]}U+=ae}}function mi(T,U,X,ae,ue,he,pe,ve){for(he=2*he+1;0<ue--;){if(ju(T,U,X,he,pe))if(zA(T,U,X,ve))wl(T,U,X);else{var we=T,ke=U,He=X,st=we[ke-He],rt=we[ke+0],Xe=we[ke+He],St=JA[112+((pt=3*(rt-st))+4>>3)],pt=JA[112+(pt+3>>3)],Ve=St+1>>1;we[ke-2*He]=Js[255+we[ke-2*He]+Ve],we[ke-He]=Js[255+st+pt],we[ke+0]=Js[255+rt-St],we[ke+He]=Js[255+Xe-Ve]}U+=ae}}function Uc(T,U,X,ae,ue,he){Mc(T,U,X,1,16,ae,ue,he)}function Jl(T,U,X,ae,ue,he){Mc(T,U,1,X,16,ae,ue,he)}function Sd(T,U,X,ae,ue,he){var pe;for(pe=3;0<pe;--pe)mi(T,U+=4*X,X,1,16,ae,ue,he)}function Fu(T,U,X,ae,ue,he){var pe;for(pe=3;0<pe;--pe)mi(T,U+=4,1,X,16,ae,ue,he)}function Nd(T,U,X,ae,ue,he,pe,ve){Mc(T,U,ue,1,8,he,pe,ve),Mc(X,ae,ue,1,8,he,pe,ve)}function $A(T,U,X,ae,ue,he,pe,ve){Mc(T,U,1,ue,8,he,pe,ve),Mc(X,ae,1,ue,8,he,pe,ve)}function Ou(T,U,X,ae,ue,he,pe,ve){mi(T,U+4*ue,ue,1,8,he,pe,ve),mi(X,ae+4*ue,ue,1,8,he,pe,ve)}function Qc(T,U,X,ae,ue,he,pe,ve){mi(T,U+4,1,ue,8,he,pe,ve),mi(X,ae+4,1,ue,8,he,pe,ve)}function Du(){this.ba=new Tn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hc(){this.ua=0,this.Wa=new Ae,this.vb=new Ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new F}function mh(){this.xb=this.a=0,this.l=new Ns,this.ca=new Tn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hc,this.ab=0,this.gc=i(4,Pu),this.Oc=0}function Zl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ns,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vc(T,U,X,ae,ue,he,pe){for(T=T==null?0:T[U+0],U=0;U<pe;++U)ue[he+U]=T+X[ae+U]&255,T=ue[he+U]}function Ru(T,U,X,ae,ue,he,pe){var ve;if(T==null)Vc(null,null,X,ae,ue,he,pe);else for(ve=0;ve<pe;++ve)ue[he+ve]=T[U+ve]+X[ae+ve]&255}function Ti(T,U,X,ae,ue,he,pe){if(T==null)Vc(null,null,X,ae,ue,he,pe);else{var ve,we=T[U+0],ke=we,He=we;for(ve=0;ve<pe;++ve)ke=He+(we=T[U+ve])-ke,He=X[ae+ve]+(-256&ke?0>ke?0:255:ke)&255,ke=we,ue[he+ve]=He}}function Bd(T,U,X,ae){var ue=U.width,he=U.o;if(t(T!=null&&U!=null),0>X||0>=ae||X+ae>he)return null;if(!T.Cc){if(T.ga==null){var pe;if(T.ga=new Zl,(pe=T.ga==null)||(pe=U.width*U.o,t(T.Gb.length==0),T.Gb=s(pe),T.Uc=0,T.Gb==null?pe=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,pe=1),pe=!pe),!pe){pe=T.ga;var ve=T.Fa,we=T.P,ke=T.qc,He=T.mb,st=T.nb,rt=we+1,Xe=ke-1,St=pe.l;if(t(ve!=null&&He!=null&&U!=null),Wc[0]=null,Wc[1]=Vc,Wc[2]=Ru,Wc[3]=Ti,pe.ca=He,pe.tb=st,pe.c=U.width,pe.i=U.height,t(0<pe.c&&0<pe.i),1>=ke)U=0;else if(pe.$a=ve[we+0]>>0&3,pe.Z=ve[we+0]>>2&3,pe.Lc=ve[we+0]>>4&3,we=ve[we+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||we)U=0;else if(St.put=Ga,St.ac=ha,St.bc=di,St.ma=pe,St.width=U.width,St.height=U.height,St.Da=U.Da,St.v=U.v,St.va=U.va,St.j=U.j,St.o=U.o,pe.$a)e:{t(pe.$a==1),U=At();t:for(;;){if(U==null){U=0;break e}if(t(pe!=null),pe.mc=U,U.c=pe.c,U.i=pe.i,U.l=pe.l,U.l.ma=pe,U.l.width=pe.c,U.l.height=pe.i,U.a=0,H(U.m,ve,rt,Xe),!qe(pe.c,pe.i,1,U,null)||(U.ab==1&&U.gc[0].hc==3&&Ee(U.s)?(pe.ic=1,ve=U.c*U.i,U.Ta=null,U.Ua=0,U.V=s(ve),U.Ba=0,U.V==null?(U.a=1,U=0):U=1):(pe.ic=0,U=nt(U,pe.c)),!U))break t;U=1;break e}pe.mc=null,U=0}else U=Xe>=pe.c*pe.i;pe=!U}if(pe)return null;T.ga.Lc!=1?T.Ga=0:ae=he-X}t(T.ga!=null),t(X+ae<=he);e:{if(U=(ve=T.ga).c,he=ve.l.o,ve.$a==0){if(rt=T.rc,Xe=T.Vc,St=T.Fa,we=T.P+1+X*U,ke=T.mb,He=T.nb+X*U,t(we<=T.P+T.qc),ve.Z!=0)for(t(Wc[ve.Z]!=null),pe=0;pe<ae;++pe)Wc[ve.Z](rt,Xe,St,we,ke,He,U),rt=ke,Xe=He,He+=U,we+=U;else for(pe=0;pe<ae;++pe)n(ke,He,St,we,U),rt=ke,Xe=He,He+=U,we+=U;T.rc=rt,T.Vc=Xe}else{if(t(ve.mc!=null),U=X+ae,t((pe=ve.mc)!=null),t(U<=pe.i),pe.C>=U)U=1;else if(ve.ic||We(),ve.ic){ve=pe.V,rt=pe.Ba,Xe=pe.c;var pt=pe.i,Ve=(St=1,we=pe.$/Xe,ke=pe.$%Xe,He=pe.m,st=pe.s,pe.$),Ke=Xe*pt,yt=Xe*U,Nt=st.wc,Ct=Ve<yt?ma(st,ke,we):null;t(Ve<=Ke),t(U<=pt),t(Ee(st));t:for(;;){for(;!He.h&&Ve<yt;){if(ke&Nt||(Ct=ma(st,ke,we)),t(Ct!=null),ie(He),256>(pt=$n(Ct.G[0],Ct.H[0],He)))ve[rt+Ve]=pt,++Ve,++ke>=Xe&&(ke=0,++we<=U&&!(we%16)&&Ne(pe,we));else{if(!(280>pt)){St=0;break t}pt=En(pt-256,He);var Jt,zt=$n(Ct.G[4],Ct.H[4],He);if(ie(He),!(Ve>=(zt=hn(Xe,zt=En(zt,He)))&&Ke-Ve>=pt)){St=0;break t}for(Jt=0;Jt<pt;++Jt)ve[rt+Ve+Jt]=ve[rt+Ve+Jt-zt];for(Ve+=pt,ke+=pt;ke>=Xe;)ke-=Xe,++we<=U&&!(we%16)&&Ne(pe,we);Ve<yt&&ke&Nt&&(Ct=ma(st,ke,we))}t(He.h==Y(He))}Ne(pe,we>U?U:we);break t}!St||He.h&&Ve<Ke?(St=0,pe.a=He.h?5:3):pe.$=Ve,U=St}else U=Ie(pe,pe.V,pe.Ba,pe.c,pe.i,U,it);if(!U){ae=0;break e}}X+ae>=he&&(T.Cc=1),ae=1}if(!ae)return null;if(T.Cc&&((ae=T.ga)!=null&&(ae.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+X*ue}function K(T,U,X,ae,ue,he){for(;0<ue--;){var pe,ve=T,we=U+(X?1:0),ke=T,He=U+(X?0:3);for(pe=0;pe<ae;++pe){var st=ke[He+4*pe];st!=255&&(st*=32897,ve[we+4*pe+0]=ve[we+4*pe+0]*st>>23,ve[we+4*pe+1]=ve[we+4*pe+1]*st>>23,ve[we+4*pe+2]=ve[we+4*pe+2]*st>>23)}U+=he}}function de(T,U,X,ae,ue){for(;0<ae--;){var he;for(he=0;he<X;++he){var pe=T[U+2*he+0],ve=15&(ke=T[U+2*he+1]),we=4369*ve,ke=(240&ke|ke>>4)*we>>16;T[U+2*he+0]=(240&pe|pe>>4)*we>>16&240|(15&pe|pe<<4)*we>>16>>4&15,T[U+2*he+1]=240&ke|ve}U+=ue}}function Fe(T,U,X,ae,ue,he,pe,ve){var we,ke,He=255;for(ke=0;ke<ue;++ke){for(we=0;we<ae;++we){var st=T[U+we];he[pe+4*we]=st,He&=st}U+=X,pe+=ve}return He!=255}function Qe(T,U,X,ae,ue){var he;for(he=0;he<ue;++he)X[ae+he]=T[U+he]>>8}function We(){Jo=K,an=de,sn=Fe,ga=Qe}function vt(T,U,X){C[T]=function(ae,ue,he,pe,ve,we,ke,He,st,rt,Xe,St,pt,Ve,Ke,yt,Nt){var Ct,Jt=Nt-1>>1,zt=ve[we+0]|ke[He+0]<<16,fr=st[rt+0]|Xe[St+0]<<16;t(ae!=null);var Wt=3*zt+fr+131074>>2;for(U(ae[ue+0],255&Wt,Wt>>16,pt,Ve),he!=null&&(Wt=3*fr+zt+131074>>2,U(he[pe+0],255&Wt,Wt>>16,Ke,yt)),Ct=1;Ct<=Jt;++Ct){var Sn=ve[we+Ct]|ke[He+Ct]<<16,Rn=st[rt+Ct]|Xe[St+Ct]<<16,nn=zt+Sn+fr+Rn+524296,Jr=nn+2*(Sn+fr)>>3;Wt=Jr+zt>>1,zt=(nn=nn+2*(zt+Rn)>>3)+Sn>>1,U(ae[ue+2*Ct-1],255&Wt,Wt>>16,pt,Ve+(2*Ct-1)*X),U(ae[ue+2*Ct-0],255&zt,zt>>16,pt,Ve+(2*Ct-0)*X),he!=null&&(Wt=nn+fr>>1,zt=Jr+Rn>>1,U(he[pe+2*Ct-1],255&Wt,Wt>>16,Ke,yt+(2*Ct-1)*X),U(he[pe+2*Ct+0],255&zt,zt>>16,Ke,yt+(2*Ct+0)*X)),zt=Sn,fr=Rn}1&Nt||(Wt=3*zt+fr+131074>>2,U(ae[ue+Nt-1],255&Wt,Wt>>16,pt,Ve+(Nt-1)*X),he!=null&&(Wt=3*fr+zt+131074>>2,U(he[pe+Nt-1],255&Wt,Wt>>16,Ke,yt+(Nt-1)*X)))}}function Ot(){Zs[Ii]=Ku,Zs[bh]=Xc,Zs[Gc]=Vd,Zs[fm]=ig,Zs[ZA]=og,Zs[Qu]=Eh,Zs[ag]=lg,Zs[hm]=Xc,Zs[Qd]=ig,Zs[Hu]=og,Zs[yh]=Eh}function qt(T){return T&-16384?0>T?0:255:T>>j4}function D(T,U){return qt((19077*T>>8)+(26149*U>>8)-14234)}function ee(T,U,X){return qt((19077*T>>8)-(6419*U>>8)-(13320*X>>8)+8708)}function se(T,U){return qt((19077*T>>8)+(33050*U>>8)-17685)}function xe(T,U,X,ae,ue){ae[ue+0]=D(T,X),ae[ue+1]=ee(T,U,X),ae[ue+2]=se(T,U)}function Ge(T,U,X,ae,ue){ae[ue+0]=se(T,U),ae[ue+1]=ee(T,U,X),ae[ue+2]=D(T,X)}function ot(T,U,X,ae,ue){var he=ee(T,U,X);U=he<<3&224|se(T,U)>>3,ae[ue+0]=248&D(T,X)|he>>5,ae[ue+1]=U}function Pt(T,U,X,ae,ue){var he=240&se(T,U)|15;ae[ue+0]=240&D(T,X)|ee(T,U,X)>>4,ae[ue+1]=he}function Nr(T,U,X,ae,ue){ae[ue+0]=255,xe(T,U,X,ae,ue+1)}function cn(T,U,X,ae,ue){Ge(T,U,X,ae,ue),ae[ue+3]=255}function Qr(T,U,X,ae,ue){xe(T,U,X,ae,ue),ae[ue+3]=255}function Pn(T,U){return 0>T?0:T>U?U:T}function Wn(T,U,X){C[T]=function(ae,ue,he,pe,ve,we,ke,He,st){for(var rt=He+(-2&st)*X;He!=rt;)U(ae[ue+0],he[pe+0],ve[we+0],ke,He),U(ae[ue+1],he[pe+0],ve[we+0],ke,He+X),ue+=2,++pe,++we,He+=2*X;1&st&&U(ae[ue+0],he[pe+0],ve[we+0],ke,He)}}function El(T,U,X){return X==0?T==0?U==0?6:5:U==0?4:0:X}function qa(T,U,X,ae,ue){switch(T>>>30){case 3:tc(U,X,ae,ue,0);break;case 2:Ma(U,X,ae,ue);break;case 1:us(U,X,ae,ue)}}function xo(T,U){var X,ae,ue=U.M,he=U.Nb,pe=T.oc,ve=T.pc+40,we=T.oc,ke=T.pc+584,He=T.oc,st=T.pc+600;for(X=0;16>X;++X)pe[ve+32*X-1]=129;for(X=0;8>X;++X)we[ke+32*X-1]=129,He[st+32*X-1]=129;for(0<ue?pe[ve-1-32]=we[ke-1-32]=He[st-1-32]=129:(a(pe,ve-32-1,127,21),a(we,ke-32-1,127,9),a(He,st-32-1,127,9)),ae=0;ae<T.za;++ae){var rt=U.ya[U.aa+ae];if(0<ae){for(X=-1;16>X;++X)n(pe,ve+32*X-4,pe,ve+32*X+12,4);for(X=-1;8>X;++X)n(we,ke+32*X-4,we,ke+32*X+4,4),n(He,st+32*X-4,He,st+32*X+4,4)}var Xe=T.Gd,St=T.Hd+ae,pt=rt.ad,Ve=rt.Hc;if(0<ue&&(n(pe,ve-32,Xe[St].y,0,16),n(we,ke-32,Xe[St].f,0,8),n(He,st-32,Xe[St].ea,0,8)),rt.Za){var Ke=pe,yt=ve-32+16;for(0<ue&&(ae>=T.za-1?a(Ke,yt,Xe[St].y[15],4):n(Ke,yt,Xe[St+1].y,0,4)),X=0;4>X;X++)Ke[yt+128+X]=Ke[yt+256+X]=Ke[yt+384+X]=Ke[yt+0+X];for(X=0;16>X;++X,Ve<<=2)Ke=pe,yt=ve+nf[X],Xi[rt.Ob[X]](Ke,yt),qa(Ve,pt,16*+X,Ke,yt)}else if(Ke=El(ae,ue,rt.Ob[0]),$u[Ke](pe,ve),Ve!=0)for(X=0;16>X;++X,Ve<<=2)qa(Ve,pt,16*+X,pe,ve+nf[X]);for(X=rt.Gc,Ke=El(ae,ue,rt.Dd),el[Ke](we,ke),el[Ke](He,st),Ve=pt,Ke=we,yt=ke,255&(rt=X>>0)&&(170&rt?rc(Ve,256,Ke,yt):wo(Ve,256,Ke,yt)),rt=He,Ve=st,255&(X>>=8)&&(170&X?rc(pt,320,rt,Ve):wo(pt,320,rt,Ve)),ue<T.Ub-1&&(n(Xe[St].y,0,pe,ve+480,16),n(Xe[St].f,0,we,ke+224,8),n(Xe[St].ea,0,He,st+224,8)),X=8*he*T.B,Xe=T.sa,St=T.ta+16*ae+16*he*T.R,pt=T.qa,rt=T.ra+8*ae+X,Ve=T.Ha,Ke=T.Ia+8*ae+X,X=0;16>X;++X)n(Xe,St+X*T.R,pe,ve+32*X,16);for(X=0;8>X;++X)n(pt,rt+X*T.B,we,ke+32*X,8),n(Ve,Ke+X*T.B,He,st+32*X,8)}}function zc(T,U,X,ae,ue,he,pe,ve,we){var ke=[0],He=[0],st=0,rt=we!=null?we.kd:0,Xe=we??new kd;if(T==null||12>X)return 7;Xe.data=T,Xe.w=U,Xe.ha=X,U=[U],X=[X],Xe.gb=[Xe.gb];e:{var St=U,pt=X,Ve=Xe.gb;if(t(T!=null),t(pt!=null),t(Ve!=null),Ve[0]=0,12<=pt[0]&&!r(T,St[0],"RIFF")){if(r(T,St[0]+8,"WEBP")){Ve=3;break e}var Ke=Se(T,St[0]+4);if(12>Ke||4294967286<Ke){Ve=3;break e}if(rt&&Ke>pt[0]-8){Ve=7;break e}Ve[0]=Ke,St[0]+=12,pt[0]-=12}Ve=0}if(Ve!=0)return Ve;for(Ke=0<Xe.gb[0],X=X[0];;){e:{var yt=T;pt=U,Ve=X;var Nt=ke,Ct=He,Jt=St=[0];if((Wt=st=[st])[0]=0,8>Ve[0])Ve=7;else{if(!r(yt,pt[0],"VP8X")){if(Se(yt,pt[0]+4)!=10){Ve=3;break e}if(18>Ve[0]){Ve=7;break e}var zt=Se(yt,pt[0]+8),fr=1+re(yt,pt[0]+12);if(2147483648<=fr*(yt=1+re(yt,pt[0]+15))){Ve=3;break e}Jt!=null&&(Jt[0]=zt),Nt!=null&&(Nt[0]=fr),Ct!=null&&(Ct[0]=yt),pt[0]+=18,Ve[0]-=18,Wt[0]=1}Ve=0}}if(st=st[0],St=St[0],Ve!=0)return Ve;if(pt=!!(2&St),!Ke&&st)return 3;if(he!=null&&(he[0]=!!(16&St)),pe!=null&&(pe[0]=pt),ve!=null&&(ve[0]=0),pe=ke[0],St=He[0],st&&pt&&we==null){Ve=0;break}if(4>X){Ve=7;break}if(Ke&&st||!Ke&&!st&&!r(T,U[0],"ALPH")){X=[X],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{zt=T,Ve=U,Ke=X;var Wt=Xe.gb;Nt=Xe.na,Ct=Xe.P,Jt=Xe.Sa,fr=22,t(zt!=null),t(Ke!=null),yt=Ve[0];var Sn=Ke[0];for(t(Nt!=null),t(Jt!=null),Nt[0]=null,Ct[0]=null,Jt[0]=0;;){if(Ve[0]=yt,Ke[0]=Sn,8>Sn){Ve=7;break e}var Rn=Se(zt,yt+4);if(4294967286<Rn){Ve=3;break e}var nn=8+Rn+1&-2;if(fr+=nn,0<Wt&&fr>Wt){Ve=3;break e}if(!r(zt,yt,"VP8 ")||!r(zt,yt,"VP8L")){Ve=0;break e}if(Sn[0]<nn){Ve=7;break e}r(zt,yt,"ALPH")||(Nt[0]=zt,Ct[0]=yt+8,Jt[0]=Rn),yt+=nn,Sn-=nn}}if(X=X[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],Ve!=0)break}X=[X],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(Wt=T,Ve=U,Ke=X,Nt=Xe.gb[0],Ct=Xe.Ja,Jt=Xe.xa,zt=Ve[0],yt=!r(Wt,zt,"VP8 "),fr=!r(Wt,zt,"VP8L"),t(Wt!=null),t(Ke!=null),t(Ct!=null),t(Jt!=null),8>Ke[0])Ve=7;else{if(yt||fr){if(Wt=Se(Wt,zt+4),12<=Nt&&Wt>Nt-12){Ve=3;break e}if(rt&&Wt>Ke[0]-8){Ve=7;break e}Ct[0]=Wt,Ve[0]+=8,Ke[0]-=8,Jt[0]=fr}else Jt[0]=5<=Ke[0]&&Wt[zt+0]==47&&!(Wt[zt+4]>>5),Ct[0]=Ke[0];Ve=0}if(X=X[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],U=U[0],Ve!=0)break;if(4294967286<Xe.Ja)return 3;if(ve==null||pt||(ve[0]=Xe.xa?2:1),pe=[pe],St=[St],Xe.xa){if(5>X){Ve=7;break}ve=pe,rt=St,pt=he,T==null||5>X?T=0:5<=X&&T[U+0]==47&&!(T[U+4]>>5)?(Ke=[0],Wt=[0],Nt=[0],H(Ct=new R,T,U,X),Yt(Ct,Ke,Wt,Nt)?(ve!=null&&(ve[0]=Ke[0]),rt!=null&&(rt[0]=Wt[0]),pt!=null&&(pt[0]=Nt[0]),T=1):T=0):T=0}else{if(10>X){Ve=7;break}ve=St,T==null||10>X||!Xs(T,U+3,X-3)?T=0:(rt=T[U+0]|T[U+1]<<8|T[U+2]<<16,pt=16383&(T[U+7]<<8|T[U+6]),T=16383&(T[U+9]<<8|T[U+8]),1&rt||3<(rt>>1&7)||!(rt>>4&1)||rt>>5>=Xe.Ja||!pt||!T?T=0:(pe&&(pe[0]=pt),ve&&(ve[0]=T),T=1))}if(!T||(pe=pe[0],St=St[0],st&&(ke[0]!=pe||He[0]!=St)))return 3;we!=null&&(we[0]=Xe,we.offset=U-we.w,t(4294967286>U-we.w),t(we.offset==we.ha-X));break}return Ve==0||Ve==7&&st&&we==null?(he!=null&&(he[0]|=Xe.na!=null&&0<Xe.na.length),ae!=null&&(ae[0]=pe),ue!=null&&(ue[0]=St),0):Ve}function Td(T,U,X){var ae=U.width,ue=U.height,he=0,pe=0,ve=ae,we=ue;if(U.Da=T!=null&&0<T.Da,U.Da&&(ve=T.cd,we=T.bd,he=T.v,pe=T.j,11>X||(he&=-2,pe&=-2),0>he||0>pe||0>=ve||0>=we||he+ve>ae||pe+we>ue))return 0;if(U.v=he,U.j=pe,U.va=he+ve,U.o=pe+we,U.U=ve,U.T=we,U.da=T!=null&&0<T.da,U.da){if(!je(ve,we,X=[T.ib],he=[T.hb]))return 0;U.ib=X[0],U.hb=he[0]}return U.ob=T!=null&&T.ob,U.Kb=T==null||!T.Sd,U.da&&(U.ob=U.ib<3*ae/4&&U.hb<3*ue/4,U.Kb=0),1}function ph(T){if(T==null)return 2;if(11>T.S){var U=T.f.RGBA;U.fb+=(T.height-1)*U.A,U.A=-U.A}else U=T.f.kb,T=T.height,U.O+=(T-1)*U.fa,U.fa=-U.fa,U.N+=(T-1>>1)*U.Ab,U.Ab=-U.Ab,U.W+=(T-1>>1)*U.Db,U.Db=-U.Db,U.F!=null&&(U.J+=(T-1)*U.lb,U.lb=-U.lb);return 0}function KA(T,U,X,ae){if(ae==null||0>=T||0>=U)return 2;if(X!=null){if(X.Da){var ue=X.cd,he=X.bd,pe=-2&X.v,ve=-2&X.j;if(0>pe||0>ve||0>=ue||0>=he||pe+ue>T||ve+he>U)return 2;T=ue,U=he}if(X.da){if(!je(T,U,ue=[X.ib],he=[X.hb]))return 2;T=ue[0],U=he[0]}}ae.width=T,ae.height=U;e:{var we=ae.width,ke=ae.height;if(T=ae.S,0>=we||0>=ke||!(T>=Ii&&13>T))T=2;else{if(0>=ae.Rd&&ae.sd==null){pe=he=ue=U=0;var He=(ve=we*l2[T])*ke;if(11>T||(he=(ke+1)/2*(U=(we+1)/2),T==12&&(pe=(ue=we)*ke)),(ke=s(He+2*he+pe))==null){T=1;break e}ae.sd=ke,11>T?((we=ae.f.RGBA).eb=ke,we.fb=0,we.A=ve,we.size=He):((we=ae.f.kb).y=ke,we.O=0,we.fa=ve,we.Fd=He,we.f=ke,we.N=0+He,we.Ab=U,we.Cd=he,we.ea=ke,we.W=0+He+he,we.Db=U,we.Ed=he,T==12&&(we.F=ke,we.J=0+He+2*he),we.Tc=pe,we.lb=ue)}if(U=1,ue=ae.S,he=ae.width,pe=ae.height,ue>=Ii&&13>ue)if(11>ue)T=ae.f.RGBA,U&=(ve=Math.abs(T.A))*(pe-1)+he<=T.size,U&=ve>=he*l2[ue],U&=T.eb!=null;else{T=ae.f.kb,ve=(he+1)/2,He=(pe+1)/2,we=Math.abs(T.fa),ke=Math.abs(T.Ab);var st=Math.abs(T.Db),rt=Math.abs(T.lb),Xe=rt*(pe-1)+he;U&=we*(pe-1)+he<=T.Fd,U&=ke*(He-1)+ve<=T.Cd,U=(U&=st*(He-1)+ve<=T.Ed)&we>=he&ke>=ve&st>=ve,U&=T.y!=null,U&=T.f!=null,U&=T.ea!=null,ue==12&&(U&=rt>=he,U&=Xe<=T.Tc,U&=T.F!=null)}else U=0;T=U?0:2}}return T!=0||X!=null&&X.fd&&(T=ph(ae)),T}var ks=64,Id=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],GA=24,qA=32,gh=8,bo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ye("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(T){return T},C.Predictor2=function(T,U,X){return U[X+0]},C.Predictor3=function(T,U,X){return U[X+1]},C.Predictor4=function(T,U,X){return U[X-1]},C.Predictor5=function(T,U,X){return Me(Me(T,U[X+1]),U[X+0])},C.Predictor6=function(T,U,X){return Me(T,U[X-1])},C.Predictor7=function(T,U,X){return Me(T,U[X+0])},C.Predictor8=function(T,U,X){return Me(U[X-1],U[X+0])},C.Predictor9=function(T,U,X){return Me(U[X+0],U[X+1])},C.Predictor10=function(T,U,X){return Me(Me(T,U[X-1]),Me(U[X+0],U[X+1]))},C.Predictor11=function(T,U,X){var ae=U[X+0];return 0>=ct(ae>>24&255,T>>24&255,(U=U[X-1])>>24&255)+ct(ae>>16&255,T>>16&255,U>>16&255)+ct(ae>>8&255,T>>8&255,U>>8&255)+ct(255&ae,255&T,255&U)?ae:T},C.Predictor12=function(T,U,X){var ae=U[X+0];return(Ye((T>>24&255)+(ae>>24&255)-((U=U[X-1])>>24&255))<<24|Ye((T>>16&255)+(ae>>16&255)-(U>>16&255))<<16|Ye((T>>8&255)+(ae>>8&255)-(U>>8&255))<<8|Ye((255&T)+(255&ae)-(255&U)))>>>0},C.Predictor13=function(T,U,X){var ae=U[X-1];return(tt((T=Me(T,U[X+0]))>>24&255,ae>>24&255)<<24|tt(T>>16&255,ae>>16&255)<<16|tt(T>>8&255,ae>>8&255)<<8|tt(T>>0&255,ae>>0&255))>>>0};var n1=C.PredictorAdd0;C.PredictorAdd1=gt,ye("Predictor2","PredictorAdd2"),ye("Predictor3","PredictorAdd3"),ye("Predictor4","PredictorAdd4"),ye("Predictor5","PredictorAdd5"),ye("Predictor6","PredictorAdd6"),ye("Predictor7","PredictorAdd7"),ye("Predictor8","PredictorAdd8"),ye("Predictor9","PredictorAdd9"),ye("Predictor10","PredictorAdd10"),ye("Predictor11","PredictorAdd11"),ye("Predictor12","PredictorAdd12"),ye("Predictor13","PredictorAdd13");var dm=C.PredictorAdd2;Ue("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),Ue("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var rg,Cl=C.ColorIndexInverseTransform,Ys=C.MapARGB,jd=C.VP8LColorIndexInverseTransformAlpha,Am=C.MapAlpha,Lu=C.VP8LPredictorsAdd=[];Lu.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Fd,Wi,pi,Od,yo,ec,$c,tc,Ma,rc,us,wo,WA,Kc,vh,Dd,Pd,Rd,XA,xh,Ld,Mu,YA,Ua,Jo,an,sn,ga,Wa=s(511),_l=s(2041),Md=s(225),Ud=s(767),Uu=0,ng=_l,JA=Md,Js=Ud,Sl=Wa,Ii=0,bh=1,Gc=2,fm=3,ZA=4,Qu=5,ag=6,hm=7,Qd=8,Hu=9,yh=10,sg=[2,3,7],Nl=[3,3,11],Zo=[280,256,256,256,40],ef=[0,1,1,1,0],Vu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],n2=8,mm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bs=null,Qa=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],In=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Hd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],a1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],a2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$u=[],Xi=[],el=[],s2=1,wh=2,Wc=[],Zs=[];vt("UpsampleRgbLinePair",xe,3),vt("UpsampleBgrLinePair",Ge,3),vt("UpsampleRgbaLinePair",Qr,4),vt("UpsampleBgraLinePair",cn,4),vt("UpsampleArgbLinePair",Nr,4),vt("UpsampleRgba4444LinePair",Pt,2),vt("UpsampleRgb565LinePair",ot,2);var Ku=C.UpsampleRgbLinePair,Vd=C.UpsampleBgrLinePair,Xc=C.UpsampleRgbaLinePair,ig=C.UpsampleBgraLinePair,og=C.UpsampleArgbLinePair,Eh=C.UpsampleRgba4444LinePair,lg=C.UpsampleRgb565LinePair,Yc=16,Ts=1<<Yc-1,zd=-227,cg=482,j4=6,i2=0,F4=s(256),Is=s(256),s1=s(256),gm=s(256),vm=s(cg-zd),i1=s(cg-zd);Wn("YuvToRgbRow",xe,3),Wn("YuvToBgrRow",Ge,3),Wn("YuvToRgbaRow",Qr,4),Wn("YuvToBgraRow",cn,4),Wn("YuvToArgbRow",Nr,4),Wn("YuvToRgba4444Row",Pt,2),Wn("YuvToRgb565Row",ot,2);var nf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gu=[0,2,8],O4=[8,7,6,4,4,2,2,2,1,1,1,1],o2=1;this.WebPDecodeRGBA=function(T,U,X,ae,ue){var he=bh,pe=new Du,ve=new Tn;pe.ba=ve,ve.S=he,ve.width=[ve.width],ve.height=[ve.height];var we=ve.width,ke=ve.height,He=new ra;if(He==null||T==null)var st=2;else t(He!=null),st=zc(T,U,X,He.width,He.height,He.Pd,He.Qd,He.format,null);if(st!=0?we=0:(we!=null&&(we[0]=He.width[0]),ke!=null&&(ke[0]=He.height[0]),we=1),we){ve.width=ve.width[0],ve.height=ve.height[0],ae!=null&&(ae[0]=ve.width),ue!=null&&(ue[0]=ve.height);e:{if(ae=new Ns,(ue=new kd).data=T,ue.w=U,ue.ha=X,ue.kd=1,U=[0],t(ue!=null),((T=zc(ue.data,ue.w,ue.ha,null,null,null,U,null,ue))==0||T==7)&&U[0]&&(T=4),(U=T)==0){if(t(pe!=null),ae.data=ue.data,ae.w=ue.w+ue.offset,ae.ha=ue.ha-ue.offset,ae.put=Ga,ae.ac=ha,ae.bc=di,ae.ma=pe,ue.xa){if((T=At())==null){pe=1;break e}if(function(rt,Xe){var St=[0],pt=[0],Ve=[0];t:for(;;){if(rt==null)return 0;if(Xe==null)return rt.a=2,0;if(rt.l=Xe,rt.a=0,H(rt.m,Xe.data,Xe.w,Xe.ha),!Yt(rt.m,St,pt,Ve)){rt.a=3;break t}if(rt.xb=wh,Xe.width=St[0],Xe.height=pt[0],!qe(St[0],pt[0],1,rt,null))break t;return 1}return t(rt.a!=0),0}(T,ae)){if(ae=(U=KA(ae.width,ae.height,pe.Oa,pe.ba))==0){t:{ae=T;r:for(;;){if(ae==null){ae=0;break t}if(t(ae.s.yc!=null),t(ae.s.Ya!=null),t(0<ae.s.Wb),t((X=ae.l)!=null),t((ue=X.ma)!=null),ae.xb!=0){if(ae.ca=ue.ba,ae.tb=ue.tb,t(ae.ca!=null),!Td(ue.Oa,X,fm)){ae.a=2;break r}if(!nt(ae,X.width)||X.da)break r;if((X.da||Ar(ae.ca.S))&&We(),11>ae.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ae.ca.f.kb.F!=null&&We()),ae.Pb&&0<ae.s.ua&&ae.s.vb.X==null&&!Pe(ae.s.vb,ae.s.Wa.Xa)){ae.a=1;break r}ae.xb=0}if(!Ie(ae,ae.V,ae.Ba,ae.c,ae.i,X.o,Te))break r;ue.Dc=ae.Ma,ae=1;break t}t(ae.a!=0),ae=0}ae=!ae}ae&&(U=T.a)}else U=T.a}else{if((T=new Ai)==null){pe=1;break e}if(T.Fa=ue.na,T.P=ue.P,T.qc=ue.Sa,Ed(T,ae)){if((U=KA(ae.width,ae.height,pe.Oa,pe.ba))==0){if(T.Aa=0,X=pe.Oa,t((ue=T)!=null),X!=null){if(0<(we=0>(we=X.Md)?0:100<we?255:255*we/100)){for(ke=He=0;4>ke;++ke)12>(st=ue.pb[ke]).lc&&(st.ia=we*O4[0>st.lc?0:st.lc]>>3),He|=st.ia;He&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=X.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}UA(T,ae)||(U=T.a)}}else U=T.a}U==0&&pe.Oa!=null&&pe.Oa.fd&&(U=ph(pe.ba))}pe=U}he=pe!=0?null:11>he?ve.f.RGBA.eb:ve.f.kb.y}else he=null;return he};var l2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,N){for(var P="",j=0;j<4;j++)P+=String.fromCharCode(C[N++]);return P}function d(C,N){return(C[N+0]<<0|C[N+1]<<8|C[N+2]<<16)>>>0}function f(C,N){return(C[N+0]<<0|C[N+1]<<8|C[N+2]<<16|C[N+3]<<24)>>>0}new l;var h=[0],p=[0],v=[],g=new l,b=e,y=function(C,N){var P={},j=0,F=!1,M=0,Q=0;if(P.frames=[],!function(W,Y,te,ie){for(var me=0;me<ie;me++)if(W[Y+me]!=te.charCodeAt(me))return!0;return!1}(C,N,"RIFF",4)){var J,q;for(f(C,N+=4),N+=8;N<C.length;){var Z=u(C,N),H=f(C,N+=4);N+=4;var V=H+(1&H);switch(Z){case"VP8 ":case"VP8L":P.frames[j]===void 0&&(P.frames[j]={}),(R=P.frames[j]).src_off=F?Q:N-8,R.src_size=M+H+8,j++,F&&(F=!1,M=0,Q=0);break;case"VP8X":(R=P.header={}).feature_flags=C[N];var G=N+4;R.canvas_width=1+d(C,G),G+=3,R.canvas_height=1+d(C,G),G+=3;break;case"ALPH":F=!0,M=V+8,Q=N-8;break;case"ANIM":(R=P.header).bgcolor=f(C,N),G=N+4,R.loop_count=(J=C)[(q=G)+0]<<0|J[q+1]<<8,G+=2;break;case"ANMF":var ne,R;(R=P.frames[j]={}).offset_x=2*d(C,N),N+=3,R.offset_y=2*d(C,N),N+=3,R.width=1+d(C,N),N+=3,R.height=1+d(C,N),N+=3,R.duration=d(C,N),N+=3,ne=C[N++],R.dispose=1&ne,R.blend=ne>>1&1}Z!="ANMF"&&(N+=V)}return P}}(b,0);y.response=b,y.rgbaoutput=!0,y.dataurl=!1;var _=y.header?y.header:null,S=y.frames?y.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],p=[_.canvas_width];for(var B=0;B<S.length&&S[B].blend!=0;B++);}var k=S[0],O=g.WebPDecodeRGBA(b,k.src_off,k.src_size,p,h);k.rgba=O,k.imgwidth=p[0],k.imgheight=h[0];for(var w=0;w<p[0]*h[0]*4;w++)v[w]=O[w];return this.width=p,this.height=h,this.data=v,this}(function(e){var t=function(){return typeof dj=="function"},r=function(h,p,v,g){var b=4,y=i;switch(g){case e.image_compression.FAST:b=1,y=s;break;case e.image_compression.MEDIUM:b=6,y=o;break;case e.image_compression.SLOW:b=9,y=l}h=n(h,p,v,y);var _=dj(h,{level:b});return e.__addimage__.arrayBufferToBinaryString(_)},n=function(h,p,v,g){for(var b,y,_,S=h.length/p,B=new Uint8Array(h.length+S),k=d(),O=0;O<S;O+=1){if(_=O*p,b=h.subarray(_,_+p),g)B.set(g(b,v,y),_+O);else{for(var w,C=k.length,N=[];w<C;w+=1)N[w]=k[w](b,v,y);var P=f(N.concat());B.set(N[P],_+O)}y=b}return B},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},s=function(h,p){var v,g=[],b=h.length;g[0]=1;for(var y=0;y<b;y+=1)v=h[y-p]||0,g[y+1]=h[y]-v+256&255;return g},i=function(h,p,v){var g,b=[],y=h.length;b[0]=2;for(var _=0;_<y;_+=1)g=v&&v[_]||0,b[_+1]=h[_]-g+256&255;return b},o=function(h,p,v){var g,b,y=[],_=h.length;y[0]=3;for(var S=0;S<_;S+=1)g=h[S-p]||0,b=v&&v[S]||0,y[S+1]=h[S]+256-(g+b>>>1)&255;return y},l=function(h,p,v){var g,b,y,_,S=[],B=h.length;S[0]=4;for(var k=0;k<B;k+=1)g=h[k-p]||0,b=v&&v[k]||0,y=v&&v[k-p]||0,_=u(g,b,y),S[k+1]=h[k]-_+256&255;return S},u=function(h,p,v){if(h===p&&p===v)return h;var g=Math.abs(p-v),b=Math.abs(h-v),y=Math.abs(h+p-v-v);return g<=b&&g<=y?h:b<=y?p:v},d=function(){return[a,s,i,o,l]},f=function(h){var p=h.map(function(v){return v.reduce(function(g,b){return g+Math.abs(b)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,v,g){var b,y,_,S,B,k,O,w,C,N,P,j,F,M,Q,J=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(_=new Rye(h)).imgData,y=_.bits,b=_.colorSpace,B=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){C=(w=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,P=new Uint8Array(C*_.colors),N=new Uint8Array(C);var Z,H=_.pixelBitlength-_.bits;for(M=0,Q=0;M<C;M++){for(F=w[M],Z=0;Z<H;)P[Q++]=F>>>Z&255,Z+=_.bits;N[M]=F>>>Z&255}}if(_.bits===16){C=(w=new Uint32Array(_.decodePixels().buffer)).length,P=new Uint8Array(C*(32/_.pixelBitlength)*_.colors),N=new Uint8Array(C*(32/_.pixelBitlength)),j=_.colors>1,M=0,Q=0;for(var V=0;M<C;)F=w[M++],P[Q++]=F>>>0&255,j&&(P[Q++]=F>>>16&255,F=w[M++],P[Q++]=F>>>0&255),N[V++]=F>>>16&255;y=8}g!==e.image_compression.NONE&&t()?(h=r(P,_.width*_.colors,_.colors,g),O=r(N,_.width,1,g)):(h=P,O=N,J=void 0)}if(_.colorType===3&&(b=this.color_spaces.INDEXED,k=_.palette,_.transparency.indexed)){var G=_.transparency.indexed,ne=0;for(M=0,C=G.length;M<C;++M)ne+=G[M];if((ne/=255)===C-1&&G.indexOf(0)!==-1)S=[G.indexOf(0)];else if(ne!==C){for(w=_.decodePixels(),N=new Uint8Array(w.length),M=0,C=w.length;M<C;M++)N[M]=G[w[M]];O=r(N,_.width,1)}}var R=function(W){var Y;switch(W){case e.image_compression.FAST:Y=11;break;case e.image_compression.MEDIUM:Y=13;break;case e.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(g);return J===this.decode.FLATE_DECODE&&(q="/Predictor "+R+" "),q+="/Colors "+B+" /BitsPerComponent "+y+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:v,data:h,index:p,filter:J,decodeParameters:q,transparency:S,palette:k,sMask:O,predictor:R,width:_.width,height:_.height,bitsPerComponent:y,colorSpace:b}}}})(hr.API),function(e){e.processGIF89A=function(t,r,n,a){var s=new Lye(t),i=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:i,height:o},d=new xB(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(hr.API),td.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},td.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ea.log("bit decode error:"+r)}},td.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},td.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},td.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},td.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=u}this.pos+=e}},td.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&r)/r*255|0,u=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},td.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},td.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=i}},td.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new td(t,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},u=new xB(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(hr.API),g9.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new g9(t),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},u=new xB(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(hr.API),hr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,l=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];s[o++]=d,s[o++]=f,s[o++]=h,i[l++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},hr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fg=hr.API,pE=Fg.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,v=0,g=o[0]||l,b=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(h=f&&da(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,b.push((o[n]||g)/l+h)),v=n;return b},f9=Fg.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Fg.processArabic&&(e=Fg.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:pE.apply(this,arguments).reduce(function(s,i){return s+i},0)},h9=function(e,t,r,n){for(var a=[],s=0,i=e.length,o=0;s!==i&&o+t[s]<r;)o+=t[s],s++;a.push(e.slice(0,s));var l=s;for(o=0;s!==i;)o+t[s]>n&&(a.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&a.push(e.slice(l,s)),a},m9=function(e,t,r){r||(r={});var n,a,s,i,o,l,u,d=[],f=[d],h=r.textIndent||0,p=0,v=0,g=e.split(" "),b=pE.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),_=[];g.map(function(B){(B=B.split(/\s*\n/)).length>1?_=_.concat(B.map(function(k,O){return(O&&k.length?`
`:"")+k})):_.push(B[0])}),g=_,l=f9.apply(this,[y,r])}for(s=0,i=g.length;s<i;s++){var S=0;if(n=g[s],l&&n[0]==`
`&&(n=n.substr(1),S=1),h+p+(v=(a=pE.apply(this,[n,r])).reduce(function(B,k){return B+k},0))>t||S){if(v>t){for(o=h9.apply(this,[n,a,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(B,k){return B+k},0)}else d=[n];f.push(d),h=v+l,p=b}else d.push(n),h+=p+v,p=b}return u=l?function(B,k){return(k?y:"")+B.join(" ")}:function(B){return B.join(" ")},f.map(u)},Fg.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(m9.apply(this,[n[o],i,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},i=e.__fontmetrics__.compress=function(f){var h,p,v,g,b=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=s(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(v=s(h).slice(3),g="-"):(v=s(h).slice(2),g=""),v=g+v.slice(0,-1)+n[v.slice(-1)];else{if(da(h)!=="object")throw new Error("Don't know what to do with value type "+da(h)+".");v=i(h)}b.push(p+v)}return b.push("}"),b.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,v,g,b={},y=1,_=b,S=[],B="",k="",O=f.length-1,w=1;w<O;w+=1)(g=f[w])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(S.push([_,v]),_={},v=void 0):g=="}"?((p=S.pop())[0][p[1]]=_,v=void 0,_=p[0]):g=="-"?y=-1:v===void 0?r.hasOwnProperty(g)?(B+=r[g],v=parseInt(B,16)*y,y=1,B=""):B+=g:r.hasOwnProperty(g)?(k+=r[g],_[v]=parseInt(k,16)*y,y=1,v=void 0,k=""):k+=g;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(hr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Kb(o)),i.metadata=e.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(hr),function(e){function t(){return(Or.canvg?Promise.resolve(Or.canvg):L_(()=>import("./index.es-CpeH86ok.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}hr.API.addSvgAsImage=function(r,n,a,s,i,o,l,u){if(isNaN(n)||isNaN(a))throw Ea.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw Ea.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=i;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(v){return v.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,s,i,l,u)})}}(),hr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},hr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],u=0,d=0,f=0;function h(v,g){var b,y=!1;for(b=0;b<v.length;b+=1)v[b]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(da(e)==="object"){for(a in e)if(s=e[a],h(o,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&h(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(hr.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,i){for(var o,l=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=s.length;f<h;++f){if(o=i.metadata.characterToGlyph(s.charCodeAt(f)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(s){var i,o,l,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(s).sort(function(p,v){return p-v})).length;f<h;f++)i=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),l.push("<"+i+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(i){var o=i.font,l=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",v=0;v<h.length;v++)p+=String.fromCharCode(h[v]);var g=u();d({data:p,addLength1:!0,objectId:g}),l("endobj");var b=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ov(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+ov(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+ov(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(i){var o=i.font,l=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var v=u();d({data:h,addLength1:!0,objectId:v}),l("endobj");var g=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ov(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ov(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,o=s.text||"",l=s.x,u=s.y,d=s.options||{},f=s.mutex||{},h=f.pdfEscape,p=f.activeFontKey,v=f.fonts,g=p,b="",y=0,_="",S=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:f};for(_=o,g=p,Array.isArray(o)&&(_=o[0]),y=0;y<_.length;y+=1)v[g].metadata.hasOwnProperty("cmap")&&(i=v[g].metadata.cmap.unicode.codeMap[_[y].charCodeAt(0)]),i||_[y].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?b+=_[y]:b+="";var B="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?B=h(b,g).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(B=r(b,v[g])),f.isHex=!0,{text:B,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var i=s.text||"",o=[],l={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?o.push([a(Object.assign({},l,{text:i[u][0]})).text,i[u][1],i[u][2]]):o.push(a(Object.assign({},l,{text:i[u]})).text);s.text=o}else s.text=a(Object.assign({},l,{text:i})).text}])}(hr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(hr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,i,o,l,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,S=0;this.__bidiEngine__={};var B=function(j){var F=j.charCodeAt(),M=F>>8,Q=g[M];return Q!==void 0?f[256*Q+(255&F)]:M===252||M===253?"AL":y.test(M)?"L":M===8?"R":"N"},k=function(j){for(var F,M=0;M<j.length;M++){if((F=B(j.charAt(M)))==="L")return!1;if(F==="R")return!0}return!1},O=function(j,F,M,Q){var J,q,Z,H,V=F[Q];switch(V){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(V="AN");break;case"AL":_=!0,V="R";break;case"WS":V="N";break;case"CS":Q<1||Q+1>=F.length||(J=M[Q-1])!=="EN"&&J!=="AN"||(q=F[Q+1])!=="EN"&&q!=="AN"?V="N":_&&(q="AN"),V=q===J?q:"N";break;case"ES":V=(J=Q>0?M[Q-1]:"B")==="EN"&&Q+1<F.length&&F[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&M[Q-1]==="EN"){V="EN";break}if(_){V="N";break}for(Z=Q+1,H=F.length;Z<H&&F[Z]==="ET";)Z++;V=Z<H&&F[Z]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(H=F.length,Z=Q+1;Z<H&&F[Z]==="NSM";)Z++;if(Z<H){var G=j[Q],ne=G>=1425&&G<=2303||G===64286;if(J=F[Z],ne&&(J==="R"||J==="AL")){V="R";break}}}V=Q<1||(J=F[Q-1])==="B"?"N":M[Q-1];break;case"B":_=!1,a=!0,V=S;break;case"S":s=!0,V="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":V="N"}return V},w=function(j,F,M){var Q=j.split("");return M&&C(Q,M,{hiLevel:S}),Q.reverse(),F&&F.reverse(),Q.join("")},C=function(j,F,M){var Q,J,q,Z,H,V=-1,G=j.length,ne=0,R=[],W=S?p:h,Y=[];for(_=!1,a=!1,s=!1,J=0;J<G;J++)Y[J]=B(j[J]);for(q=0;q<G;q++){if(H=ne,R[q]=O(j,Y,R,q),Q=240&(ne=W[H][v[R[q]]]),ne&=15,F[q]=Z=W[ne][5],Q>0)if(Q===16){for(J=V;J<q;J++)F[J]=1;V=-1}else V=-1;if(W[ne][6])V===-1&&(V=q);else if(V>-1){for(J=V;J<q;J++)F[J]=Z;V=-1}Y[q]==="B"&&(F[q]=0),M.hiLevel|=Z}s&&function(te,ie,me){for(var oe=0;oe<me;oe++)if(te[oe]==="S"){ie[oe]=S;for(var ce=oe-1;ce>=0&&te[ce]==="WS";ce--)ie[ce]=S}}(Y,F,G)},N=function(j,F,M,Q,J){if(!(J.hiLevel<j)){if(j===1&&S===1&&!a)return F.reverse(),void(M&&M.reverse());for(var q,Z,H,V,G=F.length,ne=0;ne<G;){if(Q[ne]>=j){for(H=ne+1;H<G&&Q[H]>=j;)H++;for(V=ne,Z=H-1;V<Z;V++,Z--)q=F[V],F[V]=F[Z],F[Z]=q,M&&(q=M[V],M[V]=M[Z],M[Z]=q);ne=H}ne++}}},P=function(j,F,M){var Q=j.split(""),J={hiLevel:S};return M||(M=[]),C(Q,M,J),function(q,Z,H){if(H.hiLevel!==0&&d)for(var V,G=0;G<q.length;G++)Z[G]===1&&(V=b.indexOf(q[G]))>=0&&(q[G]=b[V+1])}(Q,M,J),N(2,Q,F,M,J),N(1,Q,F,M,J),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(j,F,M){if(function(J,q){if(q)for(var Z=0;Z<J.length;Z++)q[Z]=Z;o===void 0&&(o=k(J)),u===void 0&&(u=k(J))}(j,F),i||!l||u)if(i&&l&&o^u)S=o?1:0,j=w(j,F,M);else if(!i&&l&&u)S=o?1:0,j=P(j,F,M),j=w(j,F);else if(!i||o||l||u){if(i&&!l&&o^u)j=w(j,F),o?(S=0,j=P(j,F,M)):(S=1,j=P(j,F,M),j=w(j,F));else if(i&&o&&!l&&u)S=1,j=P(j,F,M),j=w(j,F);else if(!i&&!l&&o^u){var Q=d;o?(S=1,j=P(j,F,M),S=0,d=!1,j=P(j,F,M),d=Q):(S=0,j=P(j,F,M),j=w(j,F),S=1,d=!1,j=P(j,F,M),d=Q,j=w(j,F))}}else S=0,j=P(j,F,M);else S=o?1:0,j=P(j,F,M);return j},this.__bidiEngine__.setOptions=function(j){j&&(i=j.isInputVisual,l=j.isOutputVisual,o=j.isInputRtl,u=j.isOutputRtl,d=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),i=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(i=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?i.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):i.push([r.doBidiReorder(a[o])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(hr),hr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new z0(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Zye(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Mye(this.contents),this.head=new Qye(this),this.name=new Kye(this),this.cmap=new BJ(this),this.toUnicode={},this.hhea=new Hye(this),this.maxp=new Gye(this),this.hmtx=new qye(this),this.post=new zye(this),this.os2=new Vye(this),this.loca=new Jye(this),this.glyf=new Wye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,l,u;for(u=[],i=0,o=(l=this.bbox).length;i<o;i++)t=l[i],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,i,o;for(i=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)a=t.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var xd,z0=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,i,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*i+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),Mye=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,i,o,l,u,d,f,h,p,v,g;for(g in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),i=Math.floor(f/l),d=16*p-f,(a=new z0).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(i),a.writeShort(d),s=16*p,u=a.pos+s,o=null,v=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),v=v.concat(h),g==="head"&&(o=u),u+=h.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,i;for(r=TJ.call(r);r.length%4;)r.push(0);for(s=new z0(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),Uye={}.hasOwnProperty,OA=function(e,t){for(var r in t)Uye.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};xd=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Qye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new z0).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),v9=function(){function e(t,r){var n,a,s,i,o,l,u,d,f,h,p,v,g,b,y,_,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,s=function(){var B,k;for(k=[],l=B=0;0<=h?B<h:B>h;l=0<=h?++B:--B)k.push(t.readUInt16());return k}(),t.pos+=2,g=function(){var B,k;for(k=[],l=B=0;0<=h?B<h:B>h;l=0<=h?++B:--B)k.push(t.readUInt16());return k}(),u=function(){var B,k;for(k=[],l=B=0;0<=h?B<h:B>h;l=0<=h?++B:--B)k.push(t.readUInt16());return k}(),d=function(){var B,k;for(k=[],l=B=0;0<=h?B<h:B>h;l=0<=h?++B:--B)k.push(t.readUInt16());return k}(),a=(this.length-t.pos+this.offset)/2,o=function(){var B,k;for(k=[],l=B=0;0<=a?B<a:B>a;l=0<=a?++B:--B)k.push(t.readUInt16());return k}(),l=y=0,S=s.length;y<S;l=++y)for(b=s[l],n=_=v=g[l];v<=b?_<=b:_>=b;n=v<=b?++_:--_)d[l]===0?i=n+u[l]:(i=o[d[l]/2+(n-v)-(h-l)]||0)!==0&&(i+=u[l]),this.codeMap[n]=65535&i}t.pos=f}return e.encode=function(t,r){var n,a,s,i,o,l,u,d,f,h,p,v,g,b,y,_,S,B,k,O,w,C,N,P,j,F,M,Q,J,q,Z,H,V,G,ne,R,W,Y,te,ie,me,oe,ce,ge,De,re;switch(Q=new z0,i=Object.keys(t).sort(function(Se,Pe){return Se-Pe}),r){case"macroman":for(g=0,b=function(){var Se=[];for(v=0;v<256;++v)Se.push(0);return Se}(),_={0:0},s={},J=0,V=i.length;J<V;J++)_[ce=t[a=i[J]]]==null&&(_[ce]=++g),s[a]={old:t[a],new:_[t[a]]},b[a]=_[t[a]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(b),{charMap:s,subtable:Q.data,maxGlyphID:g+1};case"unicode":for(F=[],f=[],S=0,_={},n={},y=u=null,q=0,G=i.length;q<G;q++)_[k=t[a=i[q]]]==null&&(_[k]=++S),n[a]={old:k,new:_[k]},o=_[k]-a,y!=null&&o===u||(y&&f.push(y),F.push(a),u=o),y=a;for(y&&f.push(y),f.push(65535),F.push(65535),P=2*(N=F.length),C=2*Math.pow(Math.log(N)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,w=2*N-C,l=[],O=[],p=[],v=Z=0,ne=F.length;Z<ne;v=++Z){if(j=F[v],d=f[v],j===65535){l.push(0),O.push(0);break}if(j-(M=n[j].new)>=32768)for(l.push(0),O.push(2*(p.length+N-v)),a=H=j;j<=d?H<=d:H>=d;a=j<=d?++H:--H)p.push(n[a].new);else l.push(M-j),O.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*N+2*p.length),Q.writeUInt16(0),Q.writeUInt16(P),Q.writeUInt16(C),Q.writeUInt16(h),Q.writeUInt16(w),me=0,R=f.length;me<R;me++)a=f[me],Q.writeUInt16(a);for(Q.writeUInt16(0),oe=0,W=F.length;oe<W;oe++)a=F[oe],Q.writeUInt16(a);for(ge=0,Y=l.length;ge<Y;ge++)o=l[ge],Q.writeUInt16(o);for(De=0,te=O.length;De<te;De++)B=O[De],Q.writeUInt16(B);for(re=0,ie=p.length;re<ie;re++)g=p[re],Q.writeUInt16(g);return{charMap:n,subtable:Q.data,maxGlyphID:S+1}}},e}(),BJ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new v9(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=v9.encode(r,n),(s=new z0).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),Hye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Vye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),zye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),$ye=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Kye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,i,o,l,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},i=f=0,h=a.length;f<h;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),o=new $ye(d,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),Gye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),qye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,i,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)i=h[d],p.push(i.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),TJ=[].slice,Wye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,i,o,l,u,d,f,h;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new z0(n.read(s))).readShort(),d=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new Yye(l,d,h,u,f):new Xye(l,o,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,i,o,l,u;for(o=[],i=[],l=0,u=n.length;l<u;l++)s=r[n[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},t}(),Xye=function(){function e(t,r,n,a,s,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Yye=function(){function e(t,r,n,a,s){var i,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new z0(TJ.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Jye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return OA(t,xd),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<n.length&&n[i]==o){++i,a[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),Zye=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,i,o,l;for(a={},i=0,o=t.length;i<o;i++)a[s=t[i]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,i,o,l,u,d,f,h,p,v,g,b,y;for(a in n=BJ.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(v in h=n.maxGlyphID,i)v in p||(p[v]=h++);return d=function(_){var S,B;for(S in B={},_)B[_[S]]=S;return B}(p),f=Object.keys(d).sort(function(_,S){return _-S}),g=function(){var _,S,B;for(B=[],_=0,S=f.length;_<S;_++)o=f[_],B.push(d[o]);return B}(),s=this.font.glyf.encode(i,g,p),u=this.font.loca.encode(s.offsets,g),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();hr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,i;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)i=r[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join(`
`)}return""+r},t}();function IJ(e,t,r,n,a){n=n||{};var s=1.15,i=a.internal.scaleFactor,o=a.internal.getFontSize()/i,l=a.getLineHeightFactor?a.getLineHeightFactor():s,u=o*l,d=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,h=f.length||1),r+=o*(2-s),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var v=0;v<f.length;v++)a.text(f[v],t-a.getStringUnitWidth(f[v])*p,r),r+=u;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var x9={},Dv=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:x9=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return x9||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),vj=function(e,t){return vj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},vj(e,t)};function jJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vj(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var FJ=function(e){jJ(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function ewe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function twe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Q_(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,i){return Math.max(s,i)},0);return a}function OJ(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var i=DJ(a,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function DJ(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function aN(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function PJ(e,t){var r=aN(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function rwe(e,t,r,n,a){var s={},i=1.3333333333333333,o=bB(t,function(S){return a.getComputedStyle(S).backgroundColor});o!=null&&(s.fillColor=o);var l=bB(t,function(S){return a.getComputedStyle(S).color});l!=null&&(s.textColor=l);var u=awe(n,r);u&&(s.cellPadding=u);var d="borderTopColor",f=i*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var v=bB(t,function(S){return a.getComputedStyle(S)[d]});v!=null&&(s.lineColor=v);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var b=parseInt(n.fontSize||"");isNaN(b)||(s.fontSize=b/i);var y=nwe(n);y&&(s.fontStyle=y);var _=(n.fontFamily||"").toLowerCase();return e.indexOf(_)!==-1&&(s.font=_),s}function nwe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function bB(e,t){var r=RJ(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function RJ(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:RJ(e.parentElement,t):r}function awe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(o){return parseInt(o||"0")/n}),i=aN(s,0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}function LJ(e,t,r,n,a){var s,i;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:h};for(var p=0;p<o.rows.length;p++){var v=o.rows[p],g=(i=(s=v==null?void 0:v.parentElement)===null||s===void 0?void 0:s.tagName)===null||i===void 0?void 0:i.toLowerCase(),b=swe(l,u,r,v,n,a);b&&(g==="thead"?d.push(b):g==="tfoot"?h.push(b):f.push(b))}return{head:d,body:f,foot:h}}function swe(e,t,r,n,a,s){for(var i=new FJ(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(a||u.display!=="none"){var d=void 0;s&&(d=rwe(e,l,t,u,r)),i.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:iwe(l)})}}var f=r.getComputedStyle(n);if(i.length>0&&(a||f.display!=="none"))return i}function iwe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function owe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function _f(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function MJ(e,t){var r=new Dv(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();owe(a,n,t);var s=_f({},a,n,t),i;typeof window<"u"&&(i=window);var o=lwe(a,n,t),l=cwe(a,n,t),u=uwe(r,s),d=Awe(r,s,i);return{id:t.tableId,content:d,hooks:l,styles:o,settings:u}}function lwe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var u=e[l],d=t[l],f=r[l];n.columnStyles=_f({},u,d,f)}else{var h=[e,t,r],p=h.map(function(v){return v[l]||{}});n[l]=_f({},p[0],p[1],p[2])}},s=0,i=Object.keys(n);s<i.length;s++){var o=i[s];a(o)}return n}function cwe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,i=n;s<i.length;s++){var o=i[s];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function uwe(e,t){var r,n,a,s,i,o,l,u,d,f,h,p,v=aN(t.margin,40/e.scaleFactor()),g=(r=dwe(e,t.startY))!==null&&r!==void 0?r:v.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var _=(s=t.useCss)!==null&&s!==void 0?s:!1,S=t.theme||(_?"plain":"striped"),B=!!t.horizontalPageBreak,k=(i=t.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:_,theme:S,startY:g,margin:v,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:y,showFoot:b,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:B,horizontalPageBreakRepeat:k,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function dwe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;s=i===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Awe(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var o=LJ(e,t.html,r,i,t.useCss)||{};n=o.head||n,a=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||fwe(n,a,s);return{columns:l,head:n,body:a,foot:s}}function fwe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var i=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(i=(o==null?void 0:o.colSpan)||1);for(var l=0;l<i;l++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(l>0?"_".concat(l):"");var d={dataKey:u};a.push(d)}}),a}var xj=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),hwe=function(e){jJ(t,e);function t(r,n,a,s,i,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=s,l.column=i,l.section=s.section,l}return t}(xj),mwe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,i){for(var o=0,l=r;o<l.length;o++){var u=l[o],d=new hwe(t,this,n,a,s,i),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new xj(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new xj(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),UJ=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof FJ&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var i=n.cells[s.index];if(!i)return 0;var o=r.getLineHeight(i.styles.fontSize),l=i.padding("vertical"),u=l+o;return u>a?u:a},0)},e}(),QJ=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var i=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=i.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=aN(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),pwe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],i=s.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},e}();function gwe(e,t){vwe(e,t);var r=[],n=0;t.columns.forEach(function(s){var i=s.getMaxCustomCellWidth(t);i?s.width=i:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=bj(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=bj(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),bwe(t),ywe(t,e),xwe(t)}function vwe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=PJ(e,t);t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var l=o[i],u=s.cells[l.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,s,l,null);var f=u.padding("horizontal");u.contentWidth=Q_(u.text,u.styles,e)+f;var h=Q_(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var l=o[i],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function bj(e,t,r){for(var n=t,a=e.reduce(function(p,v){return p+v.wrappedWidth},0),s=0;s<e.length;s++){var i=e[s],o=i.wrappedWidth/a,l=n*o,u=i.width+l,d=r(i),f=u<d?d:u;t-=f-i.width,i.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=bj(h,t,r))}return t}function xwe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],i=0,o=e.columns;i<o.length;i++){var l=o[i],u=t[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var d=s.cells[l.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var f=n.length-a,h=d.rowSpan>f?f:d.rowSpan;t[l.index]={cell:d,left:h,row:s}}}}}function bwe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,i=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(i-=1,i>1&&e.columns[o+1])s+=l.width,delete n.cells[l.index];else if(a){var u=a;delete n.cells[l.index],a=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(i=u.colSpan,s=0,u.colSpan>1){a=u,s+=l.width;continue}u.width=l.width+s}}}function ywe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],i=0,o=e.columns;i<o.length;i++){var l=o[i],u=s.cells[l.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=b9(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=b9(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>s.height&&(s.height=h)}}r.count--}}function b9(e,t,r,n,a){return e.map(function(s){return wwe(s,t,r,n,a)})}function wwe(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Q_(e,r,n))return e;for(;t<Q_(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function HJ(e,t){var r=new Dv(e),n=Ewe(t,r.scaleFactor()),a=new mwe(t,n);return gwe(r,a),r.applyStyles(r.userStyles),a}function Ewe(e,t){var r=e.content,n=_we(r.columns);if(r.head.length===0){var a=y9(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=y9(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,i=e.styles;return{columns:n,head:yB("head",r.head,n,i,s,t),body:yB("body",r.body,n,i,s,t),foot:yB("foot",r.foot,n,i,s,t)}}function yB(e,t,r,n,a,s){var i={},o=t.map(function(l,u){for(var d=0,f={},h=0,p=0,v=0,g=r;v<g.length;v++){var b=g[v];if(i[b.index]==null||i[b.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[b.index-h-d]:y=l[b.dataKey];var _={};typeof y=="object"&&!Array.isArray(y)&&(_=(y==null?void 0:y.styles)||{});var S=Swe(e,b,u,a,n,s,_),B=new QJ(y,S,e);f[b.dataKey]=B,f[b.index]=B,p=B.colSpan-1,i[b.index]={left:B.rowSpan-1,times:p}}else p--,h++;else i[b.index].left--,p=i[b.index].times,d++}return new UJ(l,u,e,f)});return o}function y9(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=Cwe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Cwe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function _we(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new pwe(a,t,r)})}function Swe(e,t,r,n,a,s,i){var o=twe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var u=_f({},o.table,o[e],a.styles,l),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},h=e==="body"&&r%2===0?_f({},o.alternateRow,a.alternateRowStyles):{},p=ewe(s),v=_f({},p,u,h,f);return _f(v,i)}function Nwe(e,t,r){var n;r===void 0&&(r={});var a=PJ(e,t),s=new Map,i=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(v){return v.dataKey===h||v.index===h});p&&!s.has(p.index)&&(s.set(p.index,!0),i.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(s.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,i.push(d),o.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function kwe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=Nwe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function VJ(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+i;if(r.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(h,p){return h+p.height},0);o+=u}var d=new Dv(e);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&($J(d),s.y=a.top),t.callWillDrawPageHooks(d,s);var f=_f({},s);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Bwe(d,t,f,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Vf(d,t,h,s,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,p){var v=p===t.body.length-1;H_(d,t,h,v,f,s,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Vf(d,t,h,s,t.columns)})),OJ(d,t,f,s),t.callEndPageHooks(d,s),t.finalY=s.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function Bwe(e,t,r,n){var a=kwe(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Gb(e,t,r,n,u.columns,!0):w9(e,t,n,u.columns),Twe(e,t,r,n,u.columns),wB(e,t,n,u.columns)});else for(var i=-1,o=a[0],l=function(){var u=i;if(o){e.applyStyles(e.userStyles);var d=o.columns;i>=0?Gb(e,t,r,n,d,!0):w9(e,t,n,d),u=E9(e,t,i+1,n,d),wB(e,t,n,d)}var f=u-i;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Gb(e,t,r,n,h.columns,!0),E9(e,t,i+1,n,h.columns,f),wB(e,t,n,h.columns)}),i=u};i<t.body.length-1;)l()}function w9(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return Vf(e,t,s,r,n)})}function Twe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,i){var o=i===t.body.length-1;H_(e,t,s,o,r,n,a)})}function E9(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var i=Math.min(r+s,t.body.length),o=-1;return t.body.slice(r,i).forEach(function(l,u){var d=r+u===t.body.length-1,f=zJ(e,t,d,n);l.canEntireRowFit(f,a)&&(Vf(e,t,l,n,a),o=r+u)}),o}function wB(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return Vf(e,t,s,r,n)})}function Iwe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function jwe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,i=0,o=r.columns;i<o.length;i++){var l=o[i],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new QJ(u.raw,u.styles,u.section);d=_f(d,u),d.text=[];var f=Iwe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,p),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,p),d.contentHeight>s&&(s=d.contentHeight),a[l.index]=d}}var v=new UJ(e.raw,-1,e.section,a,!0);v.height=s;for(var g=0,b=r.columns;g<b.length;g++){var l=b[g],d=v.cells[l.index];d&&(d.height=v.height);var u=e.cells[l.index];u&&(u.height=e.height)}return v}function Fwe(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,i=s.top+s.bottom,o=a-i;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),u=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function H_(e,t,r,n,a,s,i){var o=zJ(e,t,n,s);if(r.canEntireRowFit(o,i))Vf(e,t,r,s,i);else if(Fwe(e,r,o,t)){var l=jwe(r,o,t,e);Vf(e,t,r,s,i),Gb(e,t,a,s,i),H_(e,t,l,n,a,s,i)}else Gb(e,t,a,s,i),H_(e,t,r,n,a,s,i)}function Vf(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,i=a;s<i.length;s++){var o=i[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}Owe(e,l,n);var d=l.getTextPos();IJ(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function Owe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=DJ(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),Dwe(e,t,r,n.lineWidth))}function Dwe(e,t,r,n){var a,s,i,o;n.top&&(a=r.x,s=r.y,i=r.x+t.width,o=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,s,i,o)),n.bottom&&(a=r.x,s=r.y+t.height,i=r.x+t.width,o=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,s,i,o)),n.left&&(a=r.x,s=r.y,i=r.x,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,s,i,o)),n.right&&(a=r.x+t.width,s=r.y,i=r.x+t.width,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,s,i,o));function l(u,d,f,h,p){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,h,p,"S")}}function zJ(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Gb(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(o){return Vf(e,t,o,n,a)}),t.callEndPageHooks(e,n);var i=t.settings.margin;OJ(e,t,r,n),$J(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Vf(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function $J(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function Pwe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=MJ(this,n),s=HJ(this,a);return VJ(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){IJ(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Dv.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Dv.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Dv(this),s=LJ(a,t,window,r,!1),i=s.head,o=s.body,l=((n=i[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var EB;function dl(e,t){var r=MJ(e,t),n=HJ(e,r);VJ(e,n)}try{if(typeof window<"u"&&window){var C9=window,_9=C9.jsPDF||((EB=C9.jspdf)===null||EB===void 0?void 0:EB.jsPDF);_9&&Pwe(_9)}}catch(e){console.error("Could not apply autoTable plugin",e)}const zO="evaluaciones_pruebas",$O="evaluaciones_rubricas_estaticas",KO="evaluaciones_rubricas_interactivas",Rwe="usuarios",sN=e=>{var r,n;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion}},Lwe=e=>{const t=Zt(Rt(jt,zO),Gr("fechaCreacion","desc"));return wr(t,n=>{e(n.docs.map(a=>sN(a)))},n=>{console.error("Error al suscribirse a las pruebas:",n),e([])})},Mwe=async e=>{try{const{id:t,...r}=e,n=vr(jt,zO,t);await fo(n,{...r,fechaCreacion:mr.fromDate(new Date(r.fechaCreacion))})}catch(t){throw console.error("Error al guardar la prueba:",t),new Error("No se pudo guardar la prueba.")}},Uwe=async e=>{try{await $s(vr(jt,zO,e))}catch(t){throw console.error("Error al eliminar la prueba:",t),new Error("No se pudo eliminar la prueba.")}},Qwe=e=>{const t=Zt(Rt(jt,$O),Gr("fechaCreacion","desc"));return wr(t,n=>{e(n.docs.map(a=>sN(a)))},n=>{console.error("Error al suscribirse a las rbricas estticas:",n),e([])})},Hwe=async e=>{try{const{id:t,...r}=e,n=vr(jt,$O,t);await fo(n,{...r,fechaCreacion:mr.fromDate(new Date(r.fechaCreacion))})}catch(t){throw console.error("Error al guardar la rbrica esttica:",t),new Error("No se pudo guardar la rbrica.")}},Vwe=async e=>{try{await $s(vr(jt,$O,e))}catch(t){throw console.error("Error al eliminar la rbrica esttica:",t),new Error("No se pudo eliminar la rbrica.")}},zwe=e=>{const t=Zt(Rt(jt,KO));return wr(t,n=>{e(n.docs.map(a=>sN(a)))},n=>{console.error("Error al suscribirse a las rbricas interactivas:",n),e([])})},$we=async e=>{try{const{id:t,...r}=e,n=vr(jt,KO,t);await fo(n,r)}catch(t){throw console.error("Error al guardar la rbrica interactiva:",t),new Error("No se pudo guardar la rbrica interactiva.")}},Kwe=async e=>{try{return(await qn(Rt(jt,KO),e)).id}catch(t){throw console.error("Error al crear la rbrica interactiva:",t),new Error("No se pudo crear la rbrica interactiva.")}},Gwe=e=>{const t=Zt(Rt(jt,Rwe));return wr(t,n=>{e(n.docs.map(a=>sN(a)))},n=>{console.error("Error al suscribirse a los usuarios:",n),e([])})},qwe=["Seleccin mltiple","Verdadero o Falso","Desarrollo","Trminos pareados","Comprensin de lectura"],S9={"Seleccin mltiple":[5,10,15],"Verdadero o Falso":[5,10,15],"Trminos pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensin de lectura":[1,2,3]},$C=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(//g,""),t=t.replace(/\s+(medio|bsico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),t=t.replace(/^(\d)(?![])/,"$1"),t=t.replace(/\s+/g,"").toUpperCase(),t},Wwe=({open:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59"}):c.jsxs(c.Fragment,{children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),Xwe=({item:e,index:t,showAnswers:r})=>{const n=I.useMemo(()=>e.tipo==="Trminos pareados"?[...e.pares.map(a=>a.definicion)].sort(()=>Math.random()-.5):[],[e]);return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[t+1,". ",e.pregunta," (",e.puntaje," pts)"]}),e.habilidadBloom&&c.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:e.habilidadBloom})]}),e.tipo==="Seleccin mltiple"&&c.jsx("div",{className:"ml-4 mt-2 space-y-2",children:e.opciones.map((a,s)=>{const i=r&&s===e.respuestaCorrecta;return c.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${i?"bg-green-100 dark:bg-green-900/50":""}`,children:[c.jsx("div",{className:"w-5 h-5 border rounded-full"}),c.jsxs("span",{children:[String.fromCharCode(65+s),") ",a]})]},s)})}),e.tipo==="Desarrollo"&&c.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"}),e.tipo==="Verdadero o Falso"&&c.jsxs("div",{className:"mt-2 ml-4 flex items-center gap-4",children:[c.jsx("span",{children:"V ___ F ___"}),r&&c.jsxs("span",{className:"font-bold p-1 rounded bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",children:["Respuesta: ",e.respuestaCorrecta?"VERDADERO":"FALSO"]})]}),e.tipo==="Trminos pareados"&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna A: Concepto"}),c.jsx("div",{className:"space-y-2",children:e.pares.map((a,s)=>c.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg min-h-[50px] flex items-center",children:[s+1,". ",a.concepto]},s))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna B: Definicin"}),c.jsx("div",{className:"space-y-2",children:n.map((a,s)=>c.jsx("div",{className:"bg-sky-100 dark:bg-sky-900/50 p-3 rounded-lg min-h-[50px] flex items-center",children:a},s))})]})]}),r&&c.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-700",children:[c.jsx("h4",{className:"font-bold text-green-800 dark:text-green-200",children:"Respuestas Correctas:"}),c.jsx("ul",{className:"list-disc list-inside mt-2 text-sm text-slate-700 dark:text-slate-300",children:e.pares.map((a,s)=>c.jsxs("li",{children:[c.jsx("strong",{children:a.concepto}),"  ",a.definicion]},s))})]})]}),e.tipo==="Comprensin de lectura"&&c.jsxs("div",{className:"ml-4 mt-2 space-y-4",children:[c.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-md whitespace-pre-wrap",children:e.texto}),e.preguntas.map((a,s)=>{if(a.tipo==="Seleccin mltiple"){const i=a;return c.jsxs("div",{className:"pt-2",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[s+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&c.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),c.jsx("div",{className:"ml-4 mt-2 space-y-2",children:i.opciones.map((o,l)=>{const u=r&&l===i.respuestaCorrecta;return c.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${u?"bg-green-100 dark:bg-green-900/50":""}`,children:[c.jsx("div",{className:"w-5 h-5 border rounded-full"}),c.jsxs("span",{children:[String.fromCharCode(65+l),") ",o]})]},l)})})]},a.id)}if(a.tipo==="Desarrollo"){const i=a;return c.jsxs("div",{className:"pt-2",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[s+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&c.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),c.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"})]},a.id)}return null})]})]},e.id)},Ywe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(null),[a,s]=I.useState(!1),[i,o]=I.useState(!1),[l,u]=I.useState(null),[d,f]=I.useState(!1),h={nombre:"",asignatura:Hi[0],nivel:Av[0],contenido:"",tiposActividad:{},dificultad:"Intermedio",isNee:!1,selectedNee:[]},[p,v]=I.useState(h);I.useEffect(()=>{const w=Lwe(t);return()=>w()},[]);const g=w=>{const{name:C,value:N}=w.target;v(P=>({...P,[C]:N}))},b=w=>{v(C=>{const N={...C.tiposActividad};return N[w]?delete N[w]:N[w]=S9[w][0],{...C,tiposActividad:N}})},y=(w,C)=>{v(N=>({...N,tiposActividad:{...N.tiposActividad,[w]:C}}))},_=w=>{v(C=>{const N=C.selectedNee.includes(w)?C.selectedNee.filter(P=>P!==w):[...C.selectedNee,w];return{...C,selectedNee:N}})},S=async w=>{if(w.preventDefault(),!p.nombre.trim()||!p.contenido.trim()||Object.keys(p.tiposActividad).length===0){u("Nombre, Contenido y al menos un tipo de actividad son obligatorios.");return}s(!0),u(null);const C=Object.entries(p.tiposActividad).map(([j,F])=>`- ${F} tem(s) de tipo '${j}'`).join(`
`),N=p.isNee&&p.selectedNee.length>0?`
            **Adaptacin CRTICA para Necesidades Educativas Especiales (NEE):**
            Adapta esta prueba para estudiantes con las siguientes caractersticas: ${p.selectedNee.join(", ")}.
            Esto implica las siguientes modificaciones OBLIGATORIAS:
            - Usa un lenguaje claro, simple y directo en todas las preguntas e instrucciones.
            - Evita preguntas con doble negacin o estructuras gramaticales complejas.
            - En preguntas de desarrollo, desglosa la pregunta en partes ms pequeas si es posible.
            - Para 'Comprensin de Lectura', usa textos ms cortos (100-150 palabras) y con vocabulario accesible.
            - Para 'Seleccin Mltiple', asegrate de que los distractores sean claramente incorrectos y no ambiguos.`:"",P=`
            Eres un experto en evaluacin educativa para la educacin media en Chile.
            Genera una prueba o gua de trabajo completa en formato JSON estructurado.
            
            Informacin base:
            - Nombre de la prueba: ${p.nombre}
            - Asignatura: ${p.asignatura}
            - Nivel: ${p.nivel}
            - Contenido a evaluar: "${p.contenido}"
            - Tipos y cantidad de tems solicitados:
              ${C}
            - Nivel de Dificultad General: ${p.dificultad}. 'Fcil' implica preguntas directas y de recuerdo. 'Intermedio' incluye aplicacin y anlisis simple. 'Avanzado' requiere sntesis, evaluacin y resolucin de problemas complejos.
            
            ${N}

            Tu respuesta DEBE ser un nico objeto JSON vlido sin texto introductorio, explicaciones, ni el bloque \`\`\`json. El objeto debe contener:
            1. 'objetivo': Un objetivo de aprendizaje claro para la evaluacin.
            2. 'instruccionesGenerales': Instrucciones claras para el estudiante.
            3. 'actividades': Un array de objetos, donde cada objeto es una actividad por cada tipo de tem solicitado. Cada actividad debe tener:
               - 'id': Un UUID generado por ti.
               - 'titulo': Un ttulo descriptivo (ej: "Actividad 1: Seleccin Mltiple").
               - 'instrucciones': Instrucciones para esa actividad especfica.
               - 'items': Un array de preguntas con la cantidad exacta solicitada. Cada pregunta (item) debe tener:
                   - 'id': Un UUID generado por ti.
                   - 'tipo': El tipo de tem.
                   - 'pregunta': El enunciado de la pregunta.
                   - 'puntaje': Un puntaje numrico.
                   - 'habilidadBloom': La habilidad principal de la Taxonoma de Bloom que se trabaja (ej: Analizar, Crear, Evaluar).
                   - Campos adicionales segn el tipo:
                       - Para 'Seleccin mltiple': 'opciones' (array de EXACTAMENTE 4 strings sin la letra de la alternativa) y 'respuestaCorrecta' (ndice numrico de la respuesta correcta, de 0 a 3).
                       - Para 'Verdadero o Falso': 'respuestaCorrecta' (booleano).
                       - Para 'Trminos pareados': 'pares' (array de objetos con 'concepto' y 'definicion').
                       - Para 'Comprensin de lectura': 'texto' (un string que DEBE contener un texto original y coherente de 150 a 250 palabras, generado por ti, sobre el contenido a evaluar) y 'preguntas' (un array de sub-preguntas basadas en el texto que acabas de generar, las cuales pueden ser 'Seleccin mltiple' o 'Desarrollo', y cada una debe tener su propia 'id', 'pregunta', 'puntaje', 'habilidadBloom', etc.).
                       - Para 'Desarrollo': no necesita campos adicionales.
        `;try{H0("Evaluacin - Pruebas");const j="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",Z=(await(await new Cs(j).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(P)).response).text().replace(/^```json\s*|```\s*$/g,""),H=JSON.parse(Z);let V=0;H.actividades.forEach(ne=>{ne.items.forEach(R=>{V+=R.puntaje||0,R.tipo==="Comprensin de lectura"&&R.preguntas&&R.preguntas.forEach(W=>{V+=W.puntaje||0})})});const G={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),nombre:p.nombre,asignatura:p.asignatura,nivel:p.nivel,contenidoOriginal:p.contenido,tiposActividadOriginal:p.tiposActividad,objetivo:H.objetivo,instruccionesGenerales:H.instruccionesGenerales,puntajeIdeal:V,actividades:H.actividades,dificultad:p.dificultad,...p.isNee&&{adaptacionNEE:p.selectedNee}};n(G),f(!1)}catch(j){console.error(j),u("Error al generar la prueba con IA. Revisa la consola para ms detalles.")}finally{s(!1)}},B=async()=>{if(r)try{await Mwe(r),alert("Prueba guardada con xito.")}catch(w){console.error(w),alert("No se pudo guardar la prueba.")}},k=async w=>{if(window.confirm("Eliminar esta prueba?"))try{await Uwe(w),(r==null?void 0:r.id)===w&&n(null)}catch(C){console.error(C),alert("No se pudo eliminar la prueba.")}},O=async w=>{o(!0);const C=new hr("p","mm","a4"),N=20,P=C.internal.pageSize.getHeight(),j=C.internal.pageSize.getWidth(),F=j-N*2;let M=N;const Q=Z=>{Z.setFillColor(230,230,230),Z.rect(0,0,j,25,"F"),Z.setFontSize(9),Z.setTextColor(0,0,0),Z.text("LICEO INDUSTRIAL DE RECOLETA",N,15,{align:"left"}),Z.text("SUBDIRECCIN DE GESTIN PEDAGGICA",j-N,15,{align:"right"})};Q(C),M=30,C.setTextColor(0,0,0),C.setFont("helvetica","bold"),C.setFontSize(16),C.text(w.nombre,j/2,M,{align:"center"}),M+=10,dl(C,{startY:M,body:[[{content:"Asignatura:",styles:{fontStyle:"bold"}},w.asignatura,{content:"Puntaje Ideal:",styles:{fontStyle:"bold"}},w.puntajeIdeal.toString()],[{content:"Nivel:",styles:{fontStyle:"bold"}},w.nivel,"",""],[{content:"OA:",styles:{fontStyle:"bold",valign:"top"}},{content:w.objetivo,colSpan:3}],[{content:"Instrucciones:",styles:{fontStyle:"bold",valign:"top"}},{content:w.instruccionesGenerales,colSpan:3}]],theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},columnStyles:{0:{cellWidth:30},2:{cellWidth:30}},didDrawPage:Z=>{Q(C)}}),M=C.lastAutoTable.finalY+10;const J=Z=>{M+Z>P-N&&(C.addPage(),Q(C),M=N+15,C.setTextColor(0,0,0))},q=(Z,H)=>{C.setFont("helvetica",H.isBold?"bold":"normal"),C.setFontSize(H.fontSize);const V=Array.isArray(Z)?Z.join(`
`):Z;return C.getTextDimensions(V,{maxWidth:H.width}).h};for(const Z of w.actividades){let H=q(Z.titulo,{fontSize:12,width:F,isBold:!0})+q(Z.instrucciones,{fontSize:10,width:F})+12;J(H),C.setFont("helvetica","bold"),C.setFontSize(12),C.setTextColor(0,0,0),C.text(Z.titulo,N,M),M+=8,C.setFont("helvetica","normal"),C.setFontSize(10);const V=C.splitTextToSize(Z.instrucciones,F);C.text(V,N,M),M+=V.length*(10*.35*1.15)+4;for(const[G,ne]of Z.items.entries()){let R=0;const W=`${G+1}. ${ne.pregunta} (${ne.puntaje} pts)`;switch(R+=q(W,{fontSize:10,width:F,isBold:!0}),ne.tipo){case"Seleccin mltiple":ne.opciones.forEach(ie=>{R+=q(ie,{fontSize:10,width:F-5})+3}),R+=7;break;case"Verdadero o Falso":R+=10;break;case"Desarrollo":R+=30;break;case"Trminos pareados":R+=ne.pares.length*12+20;break;case"Comprensin de lectura":const te=ne;R+=q(te.texto,{fontSize:10,width:F-10})+10,te.preguntas.forEach(ie=>{const me=`${ie.pregunta} (${ie.puntaje} pts)`;R+=q(me,{fontSize:10,width:F-5,isBold:!0}),ie.tipo==="Seleccin mltiple"?(ie.opciones.forEach(oe=>{R+=q(oe,{fontSize:10,width:F-10})+3}),R+=7):ie.tipo==="Desarrollo"&&(R+=30),R+=5}),R+=15;break}J(R),C.setFont("helvetica","bold"),C.setFontSize(10),C.setTextColor(0,0,0);const Y=C.splitTextToSize(W,F);if(C.text(Y,N,M),M+=Y.length*5+4,C.setFont("helvetica","normal"),ne.tipo==="Seleccin mltiple")ne.opciones.forEach((te,ie)=>{C.text(`${String.fromCharCode(65+ie)}) ${te}`,N+5,M),M+=7});else if(ne.tipo==="Verdadero o Falso")C.text("V ______    F ______",N+5,M),M+=10;else if(ne.tipo==="Desarrollo")C.setDrawColor(200,200,200),C.setFillColor(245,245,245),C.rect(N,M,F,25,"FD"),M+=30;else if(ne.tipo==="Trminos pareados"){const te=[...ne.pares.map(me=>me.definicion)].sort(()=>Math.random()-.5),ie=ne.pares.map((me,oe)=>[`${oe+1}. ${me.concepto}`,`(   ) ${te[oe]}`]);dl(C,{startY:M,head:[["Columna A: Concepto","Columna B: Definicin"]],body:ie,theme:"grid",styles:{fontSize:9,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},headStyles:{fontStyle:"bold",fillColor:[230,230,230],textColor:[0,0,0]},didDrawPage:me=>Q(C)}),M=C.lastAutoTable.finalY+10}else if(ne.tipo==="Comprensin de lectura"){const te=ne;C.setFillColor(240,240,240),C.setDrawColor(200,200,200);const ie=C.splitTextToSize(te.texto,F-10),me=ie.length*(10*.35*1.15)+8;C.rect(N,M,F,me,"FD"),M+=4,C.setFont("helvetica","normal"),C.setFontSize(10),C.setTextColor(0,0,0),C.text(ie,N+5,M),M+=me;for(const[oe,ce]of te.preguntas.entries()){const ge=`${oe+1}. ${ce.pregunta} (${ce.puntaje} pts)`;C.setFont("helvetica","bold");const De=C.splitTextToSize(ge,F-5);C.text(De,N+5,M),M+=De.length*5+4,C.setFont("helvetica","normal"),ce.tipo==="Seleccin mltiple"?ce.opciones.forEach((re,Se)=>{C.text(`${String.fromCharCode(65+Se)}) ${re}`,N+10,M),M+=7}):ce.tipo==="Desarrollo"&&(C.setDrawColor(200,200,200),C.setFillColor(245,245,245),C.rect(N+5,M,F-5,25,"FD"),M+=30)}}M+=5}}C.save(`${w.nombre.replace(/\s/g,"_")}.pdf`),o(!1)};return r?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("button",{onClick:()=>n(null),className:"text-sm font-semibold text-slate-500 hover:underline",children:" Volver"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>f(!d),className:"bg-slate-100 text-slate-700 font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",children:[c.jsx(Wwe,{open:!d})," ",c.jsxs("span",{children:[d?"Ocultar":"Mostrar"," Respuestas"]})]}),c.jsx("button",{onClick:B,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Guardar Prueba"}),c.jsxs("button",{onClick:()=>O(r),disabled:i,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:[i?"...":c.jsx($Y,{})," PDF"]})]})]}),c.jsxs("div",{className:"border rounded-lg p-8 bg-slate-50 dark:bg-slate-900/50",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-600 dark:text-slate-400",children:[c.jsx("span",{children:"LICEO INDUSTRIAL DE RECOLETA"}),c.jsx("span",{children:"SUBDIRECCIN DE GESTIN PEDAGGICA"})]}),c.jsx("h2",{className:"text-center text-2xl font-bold my-4 text-slate-800 dark:text-slate-200",children:r.nombre}),c.jsxs("div",{className:"space-y-4 text-sm text-slate-700 dark:text-slate-300 border p-4 rounded-lg bg-white dark:bg-slate-800",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Asignatura:"})," ",r.asignatura]}),c.jsxs("p",{className:"text-right",children:[c.jsx("strong",{children:"Puntaje Ideal:"})," ",r.puntajeIdeal]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Nivel:"})," ",r.nivel]})]}),c.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 pt-2",children:[c.jsxs("span",{className:"font-semibold bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-200 px-2 py-1 rounded-full text-xs",children:["Dificultad: ",r.dificultad||"Intermedio"]}),r.adaptacionNEE&&r.adaptacionNEE.length>0&&c.jsxs("span",{className:"font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:["Adaptado para NEE: ",r.adaptacionNEE.join(", ")]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",r.objetivo]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Instrucciones Generales:"})," ",r.instruccionesGenerales]})]}),r.actividades.map(w=>c.jsxs("div",{className:"mt-8 bg-white dark:bg-slate-800 p-6 rounded-lg border dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-bold border-b pb-2 mb-4 dark:border-slate-600",children:w.titulo}),c.jsx("p",{className:"italic text-sm mb-4",children:w.instrucciones}),c.jsx("div",{className:"space-y-6",children:w.items.map((C,N)=>c.jsx(Xwe,{item:C,index:N,showAnswers:d},C.id))})]},w.id))]})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generar Nueva Prueba o Gua"}),c.jsxs("form",{onSubmit:S,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1 block",children:["Nombre de la Prueba/Gua ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"nombre",value:p.nombre,onChange:g,placeholder:"Ej: Gua N1 - La Clula",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0})]}),c.jsx("div",{}),c.jsx("select",{name:"asignatura",value:p.asignatura,onChange:g,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:Hi.map(w=>c.jsx("option",{children:w},w))}),c.jsx("select",{name:"nivel",value:p.nivel,onChange:g,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:Av.map(w=>c.jsx("option",{children:w},w))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-2 block",children:"Dificultad de la Prueba"}),c.jsx("div",{className:"flex rounded-lg shadow-sm",children:["Fcil","Intermedio","Avanzado"].map((w,C)=>c.jsx("button",{type:"button",onClick:()=>v(N=>({...N,dificultad:w})),className:`w-1/3 px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-opacity-50
                                            ${C===0?"rounded-l-lg":""} ${C===2?"rounded-r-lg":""}
                                            ${p.dificultad===w?"bg-amber-500 text-white z-10":"bg-slate-200 hover:bg-slate-300 text-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200"}`,children:w},w))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:p.isNee,onChange:w=>v(C=>({...C,isNee:w.target.checked,selectedNee:w.target.checked?C.selectedNee:[]})),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 border-slate-300 dark:bg-slate-600 dark:border-slate-500"}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Adaptar para Necesidades Educativas Especiales (NEE)"})]}),p.isNee&&c.jsxs("div",{className:"p-3 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Dificultades de Aprendizaje"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:R_.map(w=>c.jsxs("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:p.selectedNee.includes(w),onChange:()=>_(w),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:w})]},w))})]})]})]}),c.jsx("textarea",{name:"contenido",value:p.contenido,onChange:g,placeholder:"Contenido a evaluar...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("div",{className:"space-y-3",children:qwe.map(w=>c.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300 dark:border-slate-700 dark:has-[:checked]:bg-amber-900/20 dark:has-[:checked]:border-amber-700",children:[c.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:!!p.tiposActividad[w],onChange:()=>b(w),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500"}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 flex-grow",children:w})]}),p.tiposActividad[w]&&c.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cantidad:"}),S9[w].map(C=>c.jsx("button",{type:"button",onClick:()=>y(w,C),className:`px-3 py-1 rounded-full font-semibold text-xs transition-colors ${p.tiposActividad[w]===C?"bg-amber-500 text-white":"bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:hover:bg-slate-500"}`,children:C},C))]})]},w))}),l&&c.jsx("p",{className:"text-red-500 text-sm",children:l}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"submit",disabled:a,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:a?"Generando...":"Generar Prueba"})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Pruebas Guardadas"}),c.jsx("div",{className:"space-y-2",children:e.length>0?e.map(w=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:w.nombre}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[w.asignatura," - ",w.nivel," (",new Date(w.fechaCreacion).toLocaleDateString(),")"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>n(w),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Ver"}),c.jsx("button",{onClick:()=>k(w.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},w.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-4",children:"No hay pruebas guardadas."})})]})]})},Jwe=({rubricas:e,onSave:t,onDelete:r,onCreate:n})=>{const[a,s]=I.useState(null),[i,o]=I.useState("list"),[l,u]=I.useState(!1),[d,f]=I.useState(""),h=async(k,O)=>{if(!k.trim()||!O.trim()){alert("El ttulo y la descripcin son obligatorios.");return}u(!0);const w=`Crea una rbrica de evaluacin detallada sobre "${k}" con el propsito de "${O}". Genera entre 3 y 5 dimensiones de evaluacin. Para cada dimensin, crea un descriptor para 4 niveles: Insuficiente, Suficiente, Competente, y Avanzado. Tu respuesta DEBE ser un nico objeto JSON vlido sin texto introductorio, explicaciones, ni el bloque \`\`\`json.`,C={type:"ARRAY",items:{type:"OBJECT",properties:{dimension:{type:"STRING"},insuficiente:{type:"STRING"},suficiente:{type:"STRING"},competente:{type:"STRING"},avanzado:{type:"STRING"}},required:["dimension","insuficiente","suficiente","competente","avanzado"]}};try{H0("Evaluacin - Rbricas");const N="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",Q=(await(await new Cs(N).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent({contents:[{parts:[{text:w}]}],generationConfig:{responseMimeType:"application/json",responseSchema:C}})).response).text(),J=JSON.parse(Q),q={id:crypto.randomUUID(),titulo:k,descripcion:O,fechaCreacion:new Date().toISOString(),dimensiones:J.map(Z=>({id:crypto.randomUUID(),nombre:Z.dimension,niveles:{insuficiente:Z.insuficiente,suficiente:Z.suficiente,competente:Z.competente,avanzado:Z.avanzado}}))};s(q)}catch(N){console.error(N),alert("Error al generar la rbrica con IA.")}finally{u(!1)}},p=async()=>{if(!d.trim()||!a)return;const k=crypto.randomUUID(),O={id:k,nombre:d,niveles:{insuficiente:"",suficiente:"",competente:"",avanzado:""},isLoading:!0};s(N=>N?{...N,dimensiones:[...N.dimensiones,O]}:null),f("");const w=`Para una rbrica sobre "${a.titulo}", genera los descriptores para los 4 niveles de logro (Insuficiente, Suficiente, Competente, Avanzado) para la nueva dimensin: "${d}". Considera las dimensiones existentes como contexto: ${a.dimensiones.map(N=>N.nombre).join(", ")}. Tu respuesta DEBE ser un nico objeto JSON vlido sin texto introductorio, explicaciones, ni el bloque \`\`\`json.`,C={type:"OBJECT",properties:{insuficiente:{type:"STRING"},suficiente:{type:"STRING"},competente:{type:"STRING"},avanzado:{type:"STRING"}},required:["insuficiente","suficiente","competente","avanzado"]};try{H0("Evaluacin - Rbricas (Aadir Dimensin)");const N="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",Q=(await(await new Cs(N).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent({contents:[{parts:[{text:w}]}],generationConfig:{responseMimeType:"application/json",responseSchema:C}})).response).text(),J=JSON.parse(Q);s(q=>q?{...q,dimensiones:q.dimensiones.map(Z=>Z.id===k?{...Z,niveles:J,isLoading:!1}:Z)}:null)}catch(N){console.error("Error generating dimension descriptors:",N),alert("No se pudieron generar los descriptores."),s(P=>P?{...P,dimensiones:P.dimensiones.filter(j=>j.id!==k)}:null)}},v=()=>{if(!a)return;e.some(O=>O.id===a.id)?t(a):n(a),o("list"),s(null)},g=k=>{s(k),o("form")},b=()=>{s({id:crypto.randomUUID(),titulo:"",descripcion:"",fechaCreacion:new Date().toISOString(),dimensiones:[]}),o("form")},y=(k,O,w)=>{a&&s(C=>C?{...C,dimensiones:C.dimensiones.map(N=>N.id!==k?N:O==="nombre"?{...N,nombre:w}:{...N,niveles:{...N.niveles,[O]:w}})}:null)},_=(k,O)=>{s(w=>w?{...w,[k]:O}:null)},S=k=>{a&&s(O=>O?{...O,dimensiones:O.dimensiones.filter(w=>w.id!==k)}:null)},B=()=>{if(!a)return null;const k="w-full p-2 border border-slate-300 rounded-lg shadow-sm focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-700 dark:border-slate-600",O=`${k} resize-none text-sm`;return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Crear Rbrica de Aprendizaje"}),c.jsx("button",{onClick:()=>o("list"),className:"text-sm font-semibold text-slate-500 hover:underline",children:" Volver"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Ttulo de la Rbrica"}),c.jsx("input",{value:a.titulo,onChange:w=>_("titulo",w.target.value),placeholder:"Ej. Rbrica de Presentaciones Orales",className:`${k} mt-1`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Descripcin de la Rbrica"}),c.jsx("textarea",{value:a.descripcion,onChange:w=>_("descripcion",w.target.value),placeholder:"Describe el propsito y los criterios de evaluacin de esta rbrica.",rows:3,className:`${k} mt-1`})]})]}),a.dimensiones.length===0&&c.jsx("div",{className:"text-center py-4",children:c.jsx("button",{onClick:()=>h(a.titulo,a.descripcion),disabled:l||!a.titulo||!a.descripcion,className:"bg-sky-500 text-white font-semibold py-2 px-5 rounded-lg disabled:bg-slate-400 flex items-center gap-2 mx-auto",children:l?"Generando...":" Generar Rbrica con IA"})}),a.dimensiones.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Dimensiones a Evaluar"}),c.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:c.jsx("tr",{children:["Dimensin","Insuficiente","Suficiente","Competente","Avanzado",""].map(w=>c.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:w},w))})}),c.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.dimensiones.map(w=>c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 w-1/5",children:c.jsx("textarea",{value:w.nombre,onChange:C=>y(w.id,"nombre",C.target.value),rows:4,className:O})}),Object.keys(w.niveles).map(C=>c.jsx("td",{className:"p-2 w-1/5",children:w.isLoading?c.jsx("div",{className:"flex justify-center items-center h-full",children:c.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 border-t-amber-500 rounded-full animate-spin"})}):c.jsx("textarea",{value:w.niveles[C],onChange:N=>y(w.id,C,N.target.value),rows:4,className:O})},C)),c.jsx("td",{className:"p-2 w-[5%] text-center align-middle",children:c.jsx("button",{onClick:()=>S(w.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full text-lg",children:""})})]},w.id))})]})}),c.jsxs("div",{className:"flex items-end gap-2 pt-2",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("label",{className:"text-sm font-medium",children:"Aadir Dimensin"}),c.jsx("input",{value:d,onChange:w=>f(w.target.value),placeholder:"Escribe el nombre de la nueva dimensin...",className:`${k} mt-1`})]}),c.jsx("button",{onClick:p,disabled:!d.trim(),className:"bg-slate-200 dark:bg-slate-600 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 h-10 disabled:opacity-50",children:"Generar con IA"})]})]}),c.jsx("div",{className:"flex justify-end pt-6 border-t dark:border-slate-700",children:c.jsx("button",{onClick:v,className:"bg-amber-500 text-white font-bold py-2.5 px-6 rounded-lg hover:bg-amber-600",children:"Guardar Rbrica"})})]})};return i==="list"?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Rbricas"}),c.jsx("button",{onClick:b,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:"Crear Nueva"})]}),e.length>0?e.map(k=>c.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:k.titulo}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-lg",children:k.descripcion})]}),c.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[c.jsx("button",{onClick:()=>g(k),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Editar"}),c.jsx("button",{onClick:()=>r(k.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},k.id)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No hay rbricas guardadas."})]}):B()},Zwe=({allUsers:e,rubricasEstaticas:t})=>{const[r,n]=I.useState([]),[a,s]=I.useState(null),[i,o]=I.useState(null),[l,u]=I.useState({rubricaEstaticaId:"",curso:""}),[d,f]=I.useState(null);I.useEffect(()=>{const _=zwe(n);return()=>_()},[]);const h=async _=>{_.preventDefault();const S=t.find(k=>k.id===l.rubricaEstaticaId);if(!S||!l.curso){alert("Debe seleccionar una rbrica y un curso.");return}const B={nombre:S.titulo,curso:l.curso,asignatura:"N/A",rubricaEstaticaId:S.id,resultados:{}};try{await Kwe(B),u({rubricaEstaticaId:"",curso:""})}catch(k){console.error(k),alert("No se pudo crear la evaluacin con rbrica.")}},p=_=>{s(_),o(JSON.parse(JSON.stringify(_)))},v=(_,S,B)=>{i&&o(k=>{if(!k)return null;const O=JSON.parse(JSON.stringify(k));return O.resultados[_]||(O.resultados[_]={puntajes:{},feedback:""}),O.resultados[_].puntajes[S]=B,O})},g=async()=>{if(i)try{await $we(i),s(i),alert("Cambios guardados.")}catch(_){console.error(_),alert("No se pudieron guardar los cambios.")}},b=I.useCallback(_=>{const S=i,B=t.find(P=>P.id===(S==null?void 0:S.rubricaEstaticaId));if(!S||!B)return{score:0,maxScore:0,grade:"N/A"};const k=B.dimensiones.length*4,O=S.resultados[_];if(!O)return{score:0,maxScore:k,grade:"1.0"};const w=Object.values(O.puntajes).reduce((P,j)=>P+j,0),C=1+6*(w/k),N=k>0?C.toFixed(1):"1.0";return{score:w,maxScore:k,grade:N}},[i,t]),y=async _=>{if(!i)return;const S=t.find(w=>w.id===i.rubricaEstaticaId),B=i.resultados[_];if(!S||!B||Object.keys(B.puntajes).length===0){alert("El estudiante no tiene puntajes para generar feedback.");return}f(_);const O=`Genera una retroalimentacin constructiva para un estudiante basada en estos puntajes de rbrica (de 1 a 4): ${S.dimensiones.map(w=>`${w.nombre}: ${B.puntajes[w.id]||"N/A"}/4`).join("; ")}. El nombre de la evaluacin es "${S.titulo}". Destaca fortalezas y sugiere 1-2 reas de mejora concretas. S breve y motivador.`;try{H0("Evaluacin - Rbricas Interactivas (Feedback)");const w="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",F=(await(await new Cs(w).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(O)).response).text();o(M=>{if(!M)return null;const Q=JSON.parse(JSON.stringify(M));return Q.resultados[_].feedback=F.replace(/(\*\*|\*)/g,""),Q})}catch(w){console.error(w),alert("Error al generar feedback.")}finally{f(null)}};if(a&&i){const _=t.find(B=>B.id===a.rubricaEstaticaId),S=e.filter(B=>B.profile===Xt.ESTUDIANTE&&$C(B.curso||"")===a.curso).map(B=>B.nombreCompleto).sort();return _?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:a.nombre}),c.jsx("p",{className:"text-slate-500",children:a.curso})]}),c.jsx("button",{onClick:()=>s(null),className:"font-semibold text-slate-600",children:" Volver"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border-collapse",children:[c.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 border dark:border-slate-600 sticky left-0 bg-slate-100 dark:bg-slate-700 z-10 w-48",children:"Estudiante"}),_.dimensiones.map(B=>c.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:B.nombre},B.id)),c.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Puntaje"}),c.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Nota"}),c.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm w-64",children:"Retroalimentacin"})]})}),c.jsx("tbody",{children:S.map(B=>{var C;const{score:k,maxScore:O,grade:w}=b(B);return c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"p-2 border dark:border-slate-600 font-semibold sticky left-0 bg-white dark:bg-slate-800 w-48",children:B}),_.dimensiones.map(N=>c.jsx("td",{className:"p-2 border dark:border-slate-600 text-center",children:c.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4].map(P=>{var j;return c.jsx("button",{onClick:()=>v(B,N.id,P),className:`w-7 h-7 rounded-md font-semibold transition-colors ${((j=i.resultados[B])==null?void 0:j.puntajes[N.id])===P?"bg-amber-400 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300"}`,children:P},P)})})},N.id)),c.jsxs("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:[k,"/",O]}),c.jsx("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:w}),c.jsx("td",{className:"p-2 border dark:border-slate-600 text-sm",children:c.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[c.jsx("p",{className:"text-xs w-full",children:((C=i.resultados[B])==null?void 0:C.feedback)||"Sin generar"}),c.jsx("button",{onClick:()=>y(B),disabled:d===B,className:"text-xs bg-sky-100 text-sky-700 font-semibold px-2 py-1 rounded-md w-full disabled:opacity-50",children:d===B?"...":"Generar IA"})]})})]},B)})})]})}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:g,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})})]}):c.jsxs("div",{children:["Error: Rbrica base no encontrada. ",c.jsx("button",{onClick:()=>s(null),children:"Volver"})]})}return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear Evaluacin con Rbrica"}),c.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[c.jsxs("select",{value:l.rubricaEstaticaId,onChange:_=>u({...l,rubricaEstaticaId:_.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[c.jsx("option",{value:"",children:"Seleccione una Rbrica Guardada"}),t.map(_=>c.jsx("option",{value:_.id,children:_.titulo},_.id))]}),c.jsxs("select",{value:l.curso,onChange:_=>u({...l,curso:_.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un Curso"}),Za.map(_=>c.jsx("option",{value:_,children:_},_))]}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear Evaluacin"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Evaluaciones Creadas"}),c.jsx("div",{className:"space-y-2",children:r.map(_=>c.jsxs("button",{onClick:()=>p(_),className:"w-full text-left p-3 rounded-md bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600",children:[c.jsx("p",{className:"font-semibold",children:_.nombre}),c.jsx("p",{className:"text-sm text-slate-500",children:_.curso})]},_.id))})]})]})},e2e=({allUsers:e})=>{const[t,r]=I.useState(""),n=I.useMemo(()=>Array.from(new Set(e.filter(s=>s.profile===Xt.ESTUDIANTE&&s.curso).map(s=>$C(s.curso)))).sort(),[e]),a=I.useMemo(()=>{const s=e.filter(i=>i.profile===Xt.ESTUDIANTE);return t?s.filter(i=>$C(i.curso||"")===t).sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto)):s.sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto))},[e,t]);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Nminas de Cursos"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Este es un visor de las nminas de estudiantes. Para agregar, editar o eliminar estudiantes, utilice el mdulo de ",c.jsx("strong",{className:"font-semibold",children:"Administracin"}),"."]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Curso"}),c.jsxs("select",{id:"curso-filter",value:t,onChange:s=>r(s.target.value),className:"w-full max-w-xs border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Mostrar Todos los Estudiantes"}),n.map(s=>c.jsx("option",{value:s,children:s},s))]})]}),c.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-slate-700 max-h-[60vh]",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nombre Completo"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Curso"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Email"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:a.length>0?a.map(s=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:s.nombreCompleto}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:$C(s.curso||"")}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.email})]},s.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No hay estudiantes que coincidan con el filtro."})})})]})})]})},t2e=()=>{const[e,t]=I.useState("pruebas"),[r,n]=I.useState([]),[a,s]=I.useState([]),[i,o]=I.useState(!0);I.useEffect(()=>{o(!0);const f=Gwe(n),h=Qwe(p=>{s(p),o(!1)});return()=>{f(),h()}},[]);const l=async f=>{try{await Hwe(f)}catch(h){console.error(h),alert("No se pudo guardar la rbrica.")}},u=async f=>{try{await Vwe(f)}catch(h){console.error(h),alert("No se pudo eliminar la rbrica.")}},d=({tabName:f,label:h})=>c.jsx("button",{onClick:()=>t(f),className:`${e===f?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:h});return i?c.jsx("div",{className:"text-center py-10",children:"Cargando mdulo de evaluaciones..."}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluacin de Aprendizajes"}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx(d,{tabName:"pruebas",label:"Pruebas y Guas"}),c.jsx(d,{tabName:"rubricas",label:"Generador de Rbricas"}),c.jsx(d,{tabName:"rubricasInteractivas",label:"Rbricas Interactivas"}),c.jsx(d,{tabName:"nominas",label:"Gestin de Nminas"})]})}),c.jsxs("div",{className:"mt-6",children:[e==="pruebas"&&c.jsx(Ywe,{}),e==="rubricas"&&c.jsx(Jwe,{rubricas:a,onSave:l,onDelete:u,onCreate:l}),e==="rubricasInteractivas"&&c.jsx(Zwe,{allUsers:r,rubricasEstaticas:a}),e==="nominas"&&c.jsx(e2e,{allUsers:r})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var V_={};V_.version="0.18.5";var KJ=1252,r2e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],GO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},qO=function(e){r2e.indexOf(e)!=-1&&(KJ=GO[0]=e)};function n2e(){qO(1252)}var ud=function(e){qO(e)};function WO(){ud(1200),n2e()}function N9(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function a2e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function GJ(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Eb=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?a2e(e.slice(2)):t==254&&r==255?GJ(e.slice(2)):t==65279?e.slice(1):e},gE=function(t){return String.fromCharCode(t)},k9=function(t){return String.fromCharCode(t)},_y,p0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Sy(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=p0.charAt(s)+p0.charAt(i)+p0.charAt(o)+p0.charAt(l);return t}function Sc(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=p0.indexOf(e.charAt(u++)),i=p0.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=p0.indexOf(e.charAt(u++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=p0.indexOf(e.charAt(u++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var on=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),nh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function $0(e){return on?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function B9(e){return on?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var vc=function(t){return on?nh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function iN(e){if(typeof ArrayBuffer>"u")return vc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function tm(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function s2e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function XO(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return XO(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Qi=on?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:nh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function i2e(e){for(var t=[],r=0,n=e.length+250,a=$0(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=$0(65535),n=65530)}return t.push(a.slice(0,r)),Qi(t)}var Al=/\u0000/g,Cb=/[\u0001-\u0006]/g;function Pv(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function dd(e,t){var r=""+e;return r.length>=t?r:gs("0",t-r.length)+r}function YO(e,t){var r=""+e;return r.length>=t?r:gs(" ",t-r.length)+r}function z_(e,t){var r=""+e;return r.length>=t?r:r+gs(" ",t-r.length)}function o2e(e,t){var r=""+Math.round(e);return r.length>=t?r:gs("0",t-r.length)+r}function l2e(e,t){var r=""+e;return r.length>=t?r:gs("0",t-r.length)+r}var T9=Math.pow(2,32);function Og(e,t){if(e>T9||e<-T9)return o2e(e,t);var r=Math.round(e);return l2e(r,t)}function $_(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var I9=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],CB=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function c2e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ir={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},j9={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},u2e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function K_(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*i+s,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,l=u,u=d;if(d>t&&(u>t?(d=l,o=s):(d=u,o=i)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function qm(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=p2e(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var qJ=new Date(1899,11,31,0,0,0),d2e=qJ.getTime(),A2e=new Date(1900,2,1,0,0,0);function WJ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=A2e&&(r+=1440*60*1e3),(r-(d2e+(e.getTimezoneOffset()-qJ.getTimezoneOffset())*6e4))/(1440*60*1e3)}function JO(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function f2e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function h2e(e){var t=e<0?12:11,r=JO(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function m2e(e){var t=JO(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Ny(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=h2e(e):t===10?r=e.toFixed(10).substr(0,12):r=m2e(e),JO(f2e(r.toUpperCase()))}function Np(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Ny(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return _u(14,WJ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function p2e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function g2e(e,t,r,n){var a="",s=0,i=0,o=r.y,l,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return CB[r.m-1][1];case 5:return CB[r.m-1][0];default:return CB[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return I9[r.q][0];default:return I9[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?dd(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=dd(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?dd(l,u):"";return d}function g0(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var XJ=/%/g;function v2e(e,t,r){var n=t.replace(XJ,""),a=t.length-n.length;return If(e,n,r*Math.pow(10,2*a))+gs("%",a)}function x2e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return If(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function YJ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+YJ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var JJ=/# (\?+)( ?)\/( ?)(\d+)/;function b2e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?gs(" ",e[1].length+1+e[4].length):YO(i,e[1].length)+e[2]+"/"+e[3]+dd(o,e[4].length))}function y2e(e,t,r){return r+(t===0?"":""+t)+gs(" ",e[1].length+2+e[4].length)}var ZJ=/^#*0*\.([0#]+)/,eZ=/\).*[0#]/,tZ=/\(###\) ###\\?-####/;function al(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function F9(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function O9(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function w2e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function E2e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function iu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(eZ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?iu("n",n,r):"("+iu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return x2e(e,t,r);if(t.indexOf("%")!==-1)return v2e(e,t,r);if(t.indexOf("E")!==-1)return YJ(t,r);if(t.charCodeAt(0)===36)return"$"+iu(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Og(l,t.length);if(t.match(/^[#?]+$/))return a=Og(r,0),a==="0"&&(a=""),a.length>t.length?a:al(t.substr(0,t.length-a.length))+a;if(s=t.match(JJ))return b2e(s,l,u);if(t.match(/^#+0+$/))return u+Og(l,t.length-t.indexOf("0"));if(s=t.match(ZJ))return a=F9(r,s[1].length).replace(/^([^\.]+)$/,"$1."+al(s[1])).replace(/\.$/,"."+al(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+gs("0",al(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+F9(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+g0(Og(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+iu(e,t,-r):g0(""+(Math.floor(r)+w2e(r,s[1].length)))+"."+dd(O9(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return iu(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Pv(iu(e,t.replace(/[\\-]/g,""),r)),i=0,Pv(Pv(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<a.length?a.charAt(i++):v==="0"?"0":""}));if(t.match(tZ))return a=iu(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=K_(l,Math.pow(10,i)-1,!1),a=""+u,d=If("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=z_(o[2],i),d.length<s[4].length&&(d=al(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=K_(l,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?YO(o[1],i)+s[2]+"/"+s[3]+z_(o[2],i):gs(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Og(r,0),t.length<=a.length?a:al(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return al(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=O9(r,s[1].length),r<0?"-"+iu(e,t,-r):g0(E2e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?dd(0,3-v.length):"")+v})+"."+dd(i,s[1].length);switch(t){case"###,##0.00":return iu(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=g0(Og(l,0));return p!=="0"?u+p:"";case"###,###.00":return iu(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return iu(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function C2e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return If(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _2e(e,t,r){var n=t.replace(XJ,""),a=t.length-n.length;return If(e,n,r*Math.pow(10,2*a))+gs("%",a)}function rZ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+rZ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function nA(e,t,r){if(e.charCodeAt(0)===40&&!t.match(eZ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?nA("n",n,r):"("+nA("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return C2e(e,t,r);if(t.indexOf("%")!==-1)return _2e(e,t,r);if(t.indexOf("E")!==-1)return rZ(t,r);if(t.charCodeAt(0)===36)return"$"+nA(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+dd(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:al(t.substr(0,t.length-a.length))+a;if(s=t.match(JJ))return y2e(s,l,u);if(t.match(/^#+0+$/))return u+dd(l,t.length-t.indexOf("0"));if(s=t.match(ZJ))return a=(""+r).replace(/^([^\.]+)$/,"$1."+al(s[1])).replace(/\.$/,"."+al(s[1])),a=a.replace(/\.(\d*)$/,function(v,g){return"."+g+gs("0",al(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+g0(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+nA(e,t,-r):g0(""+r)+"."+gs("0",s[1].length);if(s=t.match(/^#,#*,#0/))return nA(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Pv(nA(e,t.replace(/[\\-]/g,""),r)),i=0,Pv(Pv(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<a.length?a.charAt(i++):v==="0"?"0":""}));if(t.match(tZ))return a=nA(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=K_(l,Math.pow(10,i)-1,!1),a=""+u,d=If("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=z_(o[2],i),d.length<s[4].length&&(d=al(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=K_(l,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?YO(o[1],i)+s[2]+"/"+s[3]+z_(o[2],i):gs(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:al(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return al(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+nA(e,t,-r):g0(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?dd(0,3-v.length):"")+v})+"."+dd(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=g0(""+l);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return nA(e,t.slice(0,t.lastIndexOf(".")),r)+al(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function If(e,t,r){return(r|0)===r?nA(e,t,r):iu(e,t,r)}function S2e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var nZ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ox(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":$_(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(nZ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function N2e(e,t,r,n){for(var a=[],s="",i=0,o="",l="t",u,d,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!$_(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var p=e.charAt(++i),v=p==="("||p===")"?p:"t";a[a.length]={t:v,v:p},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=qm(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=qm(t,r),u==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(u==null&&(u=qm(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",i+=5,h="h"):(g.t="t",++i),u==null&&g.t==="T")return"";a[a.length]=g,l=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(nZ)){if(u==null&&(u=qm(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ox(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},l=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var b=0,y=0,_;for(i=a.length-1,l="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,l="h",b<1&&(b=1);break;case"s":(_=a[i].v.match(/\.0+$/))&&(y=Math.max(y,_[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":l=a[i].t;break;case"m":l==="s"&&(a[i].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[i].v.match(/[Hh]/)&&(b=1),b<2&&a[i].v.match(/[Mm]/)&&(b=2),b<3&&a[i].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",B;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=g2e(a[i].t.charCodeAt(0),a[i].v,u,y),a[i].t="t";break;case"n":case"?":for(B=i+1;a[B]!=null&&((o=a[B].t)==="?"||o==="D"||(o===" "||o==="t")&&a[B+1]!=null&&(a[B+1].t==="?"||a[B+1].t==="t"&&a[B+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[B].v==="/"||a[B].v===" "&&a[B+1]!=null&&a[B+1].t=="?"));)a[i].v+=a[B].v,a[B]={v:"",t:";"},++B;S+=a[i].v,i=B-1;break;case"G":a[i].t="t",a[i].v=Np(t,r);break}var k="",O,w;if(S.length>0){S.charCodeAt(0)==40?(O=t<0&&S.charCodeAt(0)===45?-t:t,w=If("n",S,O)):(O=t<0&&n>1?-t:t,w=If("n",S,O),O<0&&a[0]&&a[0].t=="t"&&(w=w.substr(1),a[0].v="-"+a[0].v)),B=w.length-1;var C=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){C=i;break}var N=a.length;if(C===a.length&&w.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(B>=a[i].v.length-1?(B-=a[i].v.length,a[i].v=w.substr(B+1,a[i].v.length)):B<0?a[i].v="":(a[i].v=w.substr(0,B+1),B=-1),a[i].t="t",N=i);B>=0&&N<a.length&&(a[N].v=w.substr(0,B+1)+a[N].v)}else if(C!==a.length&&w.indexOf("E")===-1){for(B=w.indexOf(".")-1,i=C;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")-1:a[i].v.length-1,k=a[i].v.substr(d+1);d>=0;--d)B>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(k=w.charAt(B--)+k);a[i].v=k,a[i].t="t",N=i}for(B>=0&&N<a.length&&(a[N].v=w.substr(0,B+1)+a[N].v),B=w.indexOf(".")+1,i=C;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==C)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")+1:0,k=a[i].v.substr(0,d);d<a[i].v.length;++d)B<w.length&&(k+=w.charAt(B++));a[i].v=k,a[i].t="t",N=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(O=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=If(a[i].t,a[i].v,O),a[i].t="t");var P="";for(i=0;i!==a.length;++i)a[i]!=null&&(P+=a[i].v);return P}var D9=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function P9(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function k2e(e,t){var r=S2e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(D9),o=r[1].match(D9);return P9(t,i)?[n,r[0]]:P9(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function _u(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ir)[e],n==null&&(n=r.table&&r.table[j9[e]]||Ir[j9[e]]),n==null&&(n=u2e[e]||"General");break}if($_(n,0))return Np(t,r);t instanceof Date&&(t=WJ(t,r.date1904));var a=k2e(n,t);if($_(a[1]))return Np(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return N2e(a[1],t,r,a[0])}function jf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ir[r]==null){t<0&&(t=r);continue}if(Ir[r]==e){t=r;break}}t<0&&(t=391)}return Ir[t]=e,t}function oN(e){for(var t=0;t!=392;++t)e[t]!==void 0&&jf(e[t],t)}function Dx(){Ir=c2e()}var B2e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},aZ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function T2e(e){var t=typeof e=="number"?Ir[e]:e;return t=t.replace(aZ,"(\\d+)"),new RegExp("^"+t+"$")}function I2e(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(aZ)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":i=p;break;case"s":l=p;break;case"m":i>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var j2e=function(){var e={};e.version="1.2.0";function t(){for(var w=0,C=new Array(256),N=0;N!=256;++N)w=N,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,C[N]=w;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(w){var C=0,N=0,P=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)j[P]=w[P];for(P=0;P!=256;++P)for(N=w[P],C=256+P;C<4096;C+=256)N=j[C]=N>>>8^w[N&255];var F=[];for(P=1;P!=16;++P)F[P-1]=typeof Int32Array<"u"?j.subarray(P*256,P*256+256):j.slice(P*256,P*256+256);return F}var a=n(r),s=a[0],i=a[1],o=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],v=a[9],g=a[10],b=a[11],y=a[12],_=a[13],S=a[14];function B(w,C){for(var N=C^-1,P=0,j=w.length;P<j;)N=N>>>8^r[(N^w.charCodeAt(P++))&255];return~N}function k(w,C){for(var N=C^-1,P=w.length-15,j=0;j<P;)N=S[w[j++]^N&255]^_[w[j++]^N>>8&255]^y[w[j++]^N>>16&255]^b[w[j++]^N>>>24]^g[w[j++]]^v[w[j++]]^p[w[j++]]^h[w[j++]]^f[w[j++]]^d[w[j++]]^u[w[j++]]^l[w[j++]]^o[w[j++]]^i[w[j++]]^s[w[j++]]^r[w[j++]];for(P+=15;j<P;)N=N>>>8^r[(N^w[j++])&255];return~N}function O(w,C){for(var N=C^-1,P=0,j=w.length,F=0,M=0;P<j;)F=w.charCodeAt(P++),F<128?N=N>>>8^r[(N^F)&255]:F<2048?(N=N>>>8^r[(N^(192|F>>6&31))&255],N=N>>>8^r[(N^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,M=w.charCodeAt(P++)&1023,N=N>>>8^r[(N^(240|F>>8&7))&255],N=N>>>8^r[(N^(128|F>>2&63))&255],N=N>>>8^r[(N^(128|M>>6&15|(F&3)<<4))&255],N=N>>>8^r[(N^(128|M&63))&255]):(N=N>>>8^r[(N^(224|F>>12&15))&255],N=N>>>8^r[(N^(128|F>>6&63))&255],N=N>>>8^r[(N^(128|F&63))&255]);return~N}return e.table=r,e.bstr=B,e.buf=k,e.str=O,e}(),yr=function(){var t={};t.version="1.2.1";function r(fe,Te){for(var Ee=fe.split("/"),Ce=Te.split("/"),Ne=0,Ie=0,et=Math.min(Ee.length,Ce.length);Ne<et;++Ne){if(Ie=Ee[Ne].length-Ce[Ne].length)return Ie;if(Ee[Ne]!=Ce[Ne])return Ee[Ne]<Ce[Ne]?-1:1}return Ee.length-Ce.length}function n(fe){if(fe.charAt(fe.length-1)=="/")return fe.slice(0,-1).indexOf("/")===-1?fe:n(fe.slice(0,-1));var Te=fe.lastIndexOf("/");return Te===-1?fe:fe.slice(0,Te+1)}function a(fe){if(fe.charAt(fe.length-1)=="/")return a(fe.slice(0,-1));var Te=fe.lastIndexOf("/");return Te===-1?fe:fe.slice(Te+1)}function s(fe,Te){typeof Te=="string"&&(Te=new Date(Te));var Ee=Te.getHours();Ee=Ee<<6|Te.getMinutes(),Ee=Ee<<5|Te.getSeconds()>>>1,fe.write_shift(2,Ee);var Ce=Te.getFullYear()-1980;Ce=Ce<<4|Te.getMonth()+1,Ce=Ce<<5|Te.getDate(),fe.write_shift(2,Ce)}function i(fe){var Te=fe.read_shift(2)&65535,Ee=fe.read_shift(2)&65535,Ce=new Date,Ne=Ee&31;Ee>>>=5;var Ie=Ee&15;Ee>>>=4,Ce.setMilliseconds(0),Ce.setFullYear(Ee+1980),Ce.setMonth(Ie-1),Ce.setDate(Ne);var et=Te&31;Te>>>=5;var At=Te&63;return Te>>>=6,Ce.setHours(Te),Ce.setMinutes(At),Ce.setSeconds(et<<1),Ce}function o(fe){oo(fe,0);for(var Te={},Ee=0;fe.l<=fe.length-4;){var Ce=fe.read_shift(2),Ne=fe.read_shift(2),Ie=fe.l+Ne,et={};switch(Ce){case 21589:Ee=fe.read_shift(1),Ee&1&&(et.mtime=fe.read_shift(4)),Ne>5&&(Ee&2&&(et.atime=fe.read_shift(4)),Ee&4&&(et.ctime=fe.read_shift(4))),et.mtime&&(et.mt=new Date(et.mtime*1e3));break}fe.l=Ie,Te[Ce]=et}return Te}var l;function u(){return l||(l={})}function d(fe,Te){if(fe[0]==80&&fe[1]==75)return Vr(fe,Te);if((fe[0]|32)==109&&(fe[1]|32)==105)return di(fe,Te);if(fe.length<512)throw new Error("CFB file size "+fe.length+" < 512");var Ee=3,Ce=512,Ne=0,Ie=0,et=0,At=0,qe=0,nt=[],it=fe.slice(0,512);oo(it,0);var Bt=f(it);switch(Ee=Bt[0],Ee){case 3:Ce=512;break;case 4:Ce=4096;break;case 0:if(Bt[1]==0)return Vr(fe,Te);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ee)}Ce!==512&&(it=fe.slice(0,Ce),oo(it,28));var Mt=fe.slice(0,Ce);h(it,Ee);var Gt=it.read_shift(4,"i");if(Ee===3&&Gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Gt);it.l+=4,et=it.read_shift(4,"i"),it.l+=4,it.chk("00100000","Mini Stream Cutoff Size: "),At=it.read_shift(4,"i"),Ne=it.read_shift(4,"i"),qe=it.read_shift(4,"i"),Ie=it.read_shift(4,"i");for(var Lt=-1,Qt=0;Qt<109&&(Lt=it.read_shift(4,"i"),!(Lt<0));++Qt)nt[Qt]=Lt;var Er=p(fe,Ce);b(qe,Ie,Er,Ce,nt);var Xr=_(Er,et,nt,Ce);Xr[et].name="!Directory",Ne>0&&At!==M&&(Xr[At].name="!MiniFAT"),Xr[nt[0]].name="!FAT",Xr.fat_addrs=nt,Xr.ssz=Ce;var Yr={},rn=[],is=[],ho=[];S(et,Xr,Er,rn,Ne,Yr,is,At),v(is,ho,rn),rn.shift();var os={FileIndex:is,FullPaths:ho};return Te&&Te.raw&&(os.raw={header:Mt,sectors:Er}),os}function f(fe){if(fe[fe.l]==80&&fe[fe.l+1]==75)return[0,0];fe.chk(Q,"Header Signature: "),fe.l+=16;var Te=fe.read_shift(2,"u");return[fe.read_shift(2,"u"),Te]}function h(fe,Te){var Ee=9;switch(fe.l+=2,Ee=fe.read_shift(2)){case 9:if(Te!=3)throw new Error("Sector Shift: Expected 9 saw "+Ee);break;case 12:if(Te!=4)throw new Error("Sector Shift: Expected 12 saw "+Ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ee)}fe.chk("0600","Mini Sector Shift: "),fe.chk("000000000000","Reserved: ")}function p(fe,Te){for(var Ee=Math.ceil(fe.length/Te)-1,Ce=[],Ne=1;Ne<Ee;++Ne)Ce[Ne-1]=fe.slice(Ne*Te,(Ne+1)*Te);return Ce[Ee-1]=fe.slice(Ee*Te),Ce}function v(fe,Te,Ee){for(var Ce=0,Ne=0,Ie=0,et=0,At=0,qe=Ee.length,nt=[],it=[];Ce<qe;++Ce)nt[Ce]=it[Ce]=Ce,Te[Ce]=Ee[Ce];for(;At<it.length;++At)Ce=it[At],Ne=fe[Ce].L,Ie=fe[Ce].R,et=fe[Ce].C,nt[Ce]===Ce&&(Ne!==-1&&nt[Ne]!==Ne&&(nt[Ce]=nt[Ne]),Ie!==-1&&nt[Ie]!==Ie&&(nt[Ce]=nt[Ie])),et!==-1&&(nt[et]=Ce),Ne!==-1&&Ce!=nt[Ce]&&(nt[Ne]=nt[Ce],it.lastIndexOf(Ne)<At&&it.push(Ne)),Ie!==-1&&Ce!=nt[Ce]&&(nt[Ie]=nt[Ce],it.lastIndexOf(Ie)<At&&it.push(Ie));for(Ce=1;Ce<qe;++Ce)nt[Ce]===Ce&&(Ie!==-1&&nt[Ie]!==Ie?nt[Ce]=nt[Ie]:Ne!==-1&&nt[Ne]!==Ne&&(nt[Ce]=nt[Ne]));for(Ce=1;Ce<qe;++Ce)if(fe[Ce].type!==0){if(At=Ce,At!=nt[At])do At=nt[At],Te[Ce]=Te[At]+"/"+Te[Ce];while(At!==0&&nt[At]!==-1&&At!=nt[At]);nt[Ce]=-1}for(Te[0]+="/",Ce=1;Ce<qe;++Ce)fe[Ce].type!==2&&(Te[Ce]+="/")}function g(fe,Te,Ee){for(var Ce=fe.start,Ne=fe.size,Ie=[],et=Ce;Ee&&Ne>0&&et>=0;)Ie.push(Te.slice(et*F,et*F+F)),Ne-=F,et=zm(Ee,et*4);return Ie.length===0?xt(0):Qi(Ie).slice(0,fe.size)}function b(fe,Te,Ee,Ce,Ne){var Ie=M;if(fe===M){if(Te!==0)throw new Error("DIFAT chain shorter than expected")}else if(fe!==-1){var et=Ee[fe],At=(Ce>>>2)-1;if(!et)return;for(var qe=0;qe<At&&(Ie=zm(et,qe*4))!==M;++qe)Ne.push(Ie);b(zm(et,Ce-4),Te-1,Ee,Ce,Ne)}}function y(fe,Te,Ee,Ce,Ne){var Ie=[],et=[];Ne||(Ne=[]);var At=Ce-1,qe=0,nt=0;for(qe=Te;qe>=0;){Ne[qe]=!0,Ie[Ie.length]=qe,et.push(fe[qe]);var it=Ee[Math.floor(qe*4/Ce)];if(nt=qe*4&At,Ce<4+nt)throw new Error("FAT boundary crossed: "+qe+" 4 "+Ce);if(!fe[it])break;qe=zm(fe[it],nt)}return{nodes:Ie,data:q9([et])}}function _(fe,Te,Ee,Ce){var Ne=fe.length,Ie=[],et=[],At=[],qe=[],nt=Ce-1,it=0,Bt=0,Mt=0,Gt=0;for(it=0;it<Ne;++it)if(At=[],Mt=it+Te,Mt>=Ne&&(Mt-=Ne),!et[Mt]){qe=[];var Lt=[];for(Bt=Mt;Bt>=0;){Lt[Bt]=!0,et[Bt]=!0,At[At.length]=Bt,qe.push(fe[Bt]);var Qt=Ee[Math.floor(Bt*4/Ce)];if(Gt=Bt*4&nt,Ce<4+Gt)throw new Error("FAT boundary crossed: "+Bt+" 4 "+Ce);if(!fe[Qt]||(Bt=zm(fe[Qt],Gt),Lt[Bt]))break}Ie[Mt]={nodes:At,data:q9([qe])}}return Ie}function S(fe,Te,Ee,Ce,Ne,Ie,et,At){for(var qe=0,nt=Ce.length?2:0,it=Te[fe].data,Bt=0,Mt=0,Gt;Bt<it.length;Bt+=128){var Lt=it.slice(Bt,Bt+128);oo(Lt,64),Mt=Lt.read_shift(2),Gt=sD(Lt,0,Mt-nt),Ce.push(Gt);var Qt={name:Gt,type:Lt.read_shift(1),color:Lt.read_shift(1),L:Lt.read_shift(4,"i"),R:Lt.read_shift(4,"i"),C:Lt.read_shift(4,"i"),clsid:Lt.read_shift(16),state:Lt.read_shift(4,"i"),start:0,size:0},Er=Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2);Er!==0&&(Qt.ct=B(Lt,Lt.l-8));var Xr=Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2);Xr!==0&&(Qt.mt=B(Lt,Lt.l-8)),Qt.start=Lt.read_shift(4,"i"),Qt.size=Lt.read_shift(4,"i"),Qt.size<0&&Qt.start<0&&(Qt.size=Qt.type=0,Qt.start=M,Qt.name=""),Qt.type===5?(qe=Qt.start,Ne>0&&qe!==M&&(Te[qe].name="!StreamData")):Qt.size>=4096?(Qt.storage="fat",Te[Qt.start]===void 0&&(Te[Qt.start]=y(Ee,Qt.start,Te.fat_addrs,Te.ssz)),Te[Qt.start].name=Qt.name,Qt.content=Te[Qt.start].data.slice(0,Qt.size)):(Qt.storage="minifat",Qt.size<0?Qt.size=0:qe!==M&&Qt.start!==M&&Te[qe]&&(Qt.content=g(Qt,Te[qe].data,(Te[At]||{}).data))),Qt.content&&oo(Qt.content,0),Ie[Gt]=Qt,et.push(Qt)}}function B(fe,Te){return new Date((pc(fe,Te+4)/1e7*Math.pow(2,32)+pc(fe,Te)/1e7-11644473600)*1e3)}function k(fe,Te){return u(),d(l.readFileSync(fe),Te)}function O(fe,Te){var Ee=Te&&Te.type;switch(Ee||on&&Buffer.isBuffer(fe)&&(Ee="buffer"),Ee||"base64"){case"file":return k(fe,Te);case"base64":return d(vc(Sc(fe)),Te);case"binary":return d(vc(fe),Te)}return d(fe,Te)}function w(fe,Te){var Ee=Te||{},Ce=Ee.root||"Root Entry";if(fe.FullPaths||(fe.FullPaths=[]),fe.FileIndex||(fe.FileIndex=[]),fe.FullPaths.length!==fe.FileIndex.length)throw new Error("inconsistent CFB structure");fe.FullPaths.length===0&&(fe.FullPaths[0]=Ce+"/",fe.FileIndex[0]={name:Ce,type:5}),Ee.CLSID&&(fe.FileIndex[0].clsid=Ee.CLSID),C(fe)}function C(fe){var Te="Sh33tJ5";if(!yr.find(fe,"/"+Te)){var Ee=xt(4);Ee[0]=55,Ee[1]=Ee[3]=50,Ee[2]=54,fe.FileIndex.push({name:Te,type:2,content:Ee,size:4,L:69,R:69,C:69}),fe.FullPaths.push(fe.FullPaths[0]+Te),N(fe)}}function N(fe,Te){w(fe);for(var Ee=!1,Ce=!1,Ne=fe.FullPaths.length-1;Ne>=0;--Ne){var Ie=fe.FileIndex[Ne];switch(Ie.type){case 0:Ce?Ee=!0:(fe.FileIndex.pop(),fe.FullPaths.pop());break;case 1:case 2:case 5:Ce=!0,isNaN(Ie.R*Ie.L*Ie.C)&&(Ee=!0),Ie.R>-1&&Ie.L>-1&&Ie.R==Ie.L&&(Ee=!0);break;default:Ee=!0;break}}if(!(!Ee&&!Te)){var et=new Date(1987,1,19),At=0,qe=Object.create?Object.create(null):{},nt=[];for(Ne=0;Ne<fe.FullPaths.length;++Ne)qe[fe.FullPaths[Ne]]=!0,fe.FileIndex[Ne].type!==0&&nt.push([fe.FullPaths[Ne],fe.FileIndex[Ne]]);for(Ne=0;Ne<nt.length;++Ne){var it=n(nt[Ne][0]);Ce=qe[it],Ce||(nt.push([it,{name:a(it).replace("/",""),type:1,clsid:q,ct:et,mt:et,content:null}]),qe[it]=!0)}for(nt.sort(function(Gt,Lt){return r(Gt[0],Lt[0])}),fe.FullPaths=[],fe.FileIndex=[],Ne=0;Ne<nt.length;++Ne)fe.FullPaths[Ne]=nt[Ne][0],fe.FileIndex[Ne]=nt[Ne][1];for(Ne=0;Ne<nt.length;++Ne){var Bt=fe.FileIndex[Ne],Mt=fe.FullPaths[Ne];if(Bt.name=a(Mt).replace("/",""),Bt.L=Bt.R=Bt.C=-(Bt.color=1),Bt.size=Bt.content?Bt.content.length:0,Bt.start=0,Bt.clsid=Bt.clsid||q,Ne===0)Bt.C=nt.length>1?1:-1,Bt.size=0,Bt.type=5;else if(Mt.slice(-1)=="/"){for(At=Ne+1;At<nt.length&&n(fe.FullPaths[At])!=Mt;++At);for(Bt.C=At>=nt.length?-1:At,At=Ne+1;At<nt.length&&n(fe.FullPaths[At])!=n(Mt);++At);Bt.R=At>=nt.length?-1:At,Bt.type=1}else n(fe.FullPaths[Ne+1]||"")==n(Mt)&&(Bt.R=Ne+1),Bt.type=2}}}function P(fe,Te){var Ee=Te||{};if(Ee.fileType=="mad")return Yt(fe,Ee);switch(N(fe),Ee.fileType){case"zip":return ra(fe,Ee)}var Ce=function(Gt){for(var Lt=0,Qt=0,Er=0;Er<Gt.FileIndex.length;++Er){var Xr=Gt.FileIndex[Er];if(Xr.content){var Yr=Xr.content.length;Yr>0&&(Yr<4096?Lt+=Yr+63>>6:Qt+=Yr+511>>9)}}for(var rn=Gt.FullPaths.length+3>>2,is=Lt+7>>3,ho=Lt+127>>7,os=is+Qt+rn+ho,Ws=os+127>>7,Ns=Ws<=109?0:Math.ceil((Ws-109)/127);os+Ws+Ns+127>>7>Ws;)Ns=++Ws<=109?0:Math.ceil((Ws-109)/127);var Ai=[1,Ns,Ws,ho,rn,Qt,Lt,0];return Gt.FileIndex[0].size=Lt<<6,Ai[7]=(Gt.FileIndex[0].start=Ai[0]+Ai[1]+Ai[2]+Ai[3]+Ai[4]+Ai[5])+(Ai[6]+7>>3),Ai}(fe),Ne=xt(Ce[7]<<9),Ie=0,et=0;{for(Ie=0;Ie<8;++Ie)Ne.write_shift(1,J[Ie]);for(Ie=0;Ie<8;++Ie)Ne.write_shift(2,0);for(Ne.write_shift(2,62),Ne.write_shift(2,3),Ne.write_shift(2,65534),Ne.write_shift(2,9),Ne.write_shift(2,6),Ie=0;Ie<3;++Ie)Ne.write_shift(2,0);for(Ne.write_shift(4,0),Ne.write_shift(4,Ce[2]),Ne.write_shift(4,Ce[0]+Ce[1]+Ce[2]+Ce[3]-1),Ne.write_shift(4,0),Ne.write_shift(4,4096),Ne.write_shift(4,Ce[3]?Ce[0]+Ce[1]+Ce[2]-1:M),Ne.write_shift(4,Ce[3]),Ne.write_shift(-4,Ce[1]?Ce[0]-1:M),Ne.write_shift(4,Ce[1]),Ie=0;Ie<109;++Ie)Ne.write_shift(-4,Ie<Ce[2]?Ce[1]+Ie:-1)}if(Ce[1])for(et=0;et<Ce[1];++et){for(;Ie<236+et*127;++Ie)Ne.write_shift(-4,Ie<Ce[2]?Ce[1]+Ie:-1);Ne.write_shift(-4,et===Ce[1]-1?M:et+1)}var At=function(Gt){for(et+=Gt;Ie<et-1;++Ie)Ne.write_shift(-4,Ie+1);Gt&&(++Ie,Ne.write_shift(-4,M))};for(et=Ie=0,et+=Ce[1];Ie<et;++Ie)Ne.write_shift(-4,Z.DIFSECT);for(et+=Ce[2];Ie<et;++Ie)Ne.write_shift(-4,Z.FATSECT);At(Ce[3]),At(Ce[4]);for(var qe=0,nt=0,it=fe.FileIndex[0];qe<fe.FileIndex.length;++qe)it=fe.FileIndex[qe],it.content&&(nt=it.content.length,!(nt<4096)&&(it.start=et,At(nt+511>>9)));for(At(Ce[6]+7>>3);Ne.l&511;)Ne.write_shift(-4,Z.ENDOFCHAIN);for(et=Ie=0,qe=0;qe<fe.FileIndex.length;++qe)it=fe.FileIndex[qe],it.content&&(nt=it.content.length,!(!nt||nt>=4096)&&(it.start=et,At(nt+63>>6)));for(;Ne.l&511;)Ne.write_shift(-4,Z.ENDOFCHAIN);for(Ie=0;Ie<Ce[4]<<2;++Ie){var Bt=fe.FullPaths[Ie];if(!Bt||Bt.length===0){for(qe=0;qe<17;++qe)Ne.write_shift(4,0);for(qe=0;qe<3;++qe)Ne.write_shift(4,-1);for(qe=0;qe<12;++qe)Ne.write_shift(4,0);continue}it=fe.FileIndex[Ie],Ie===0&&(it.start=it.size?it.start-1:M);var Mt=Ie===0&&Ee.root||it.name;if(nt=2*(Mt.length+1),Ne.write_shift(64,Mt,"utf16le"),Ne.write_shift(2,nt),Ne.write_shift(1,it.type),Ne.write_shift(1,it.color),Ne.write_shift(-4,it.L),Ne.write_shift(-4,it.R),Ne.write_shift(-4,it.C),it.clsid)Ne.write_shift(16,it.clsid,"hex");else for(qe=0;qe<4;++qe)Ne.write_shift(4,0);Ne.write_shift(4,it.state||0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,it.start),Ne.write_shift(4,it.size),Ne.write_shift(4,0)}for(Ie=1;Ie<fe.FileIndex.length;++Ie)if(it=fe.FileIndex[Ie],it.size>=4096)if(Ne.l=it.start+1<<9,on&&Buffer.isBuffer(it.content))it.content.copy(Ne,Ne.l,0,it.size),Ne.l+=it.size+511&-512;else{for(qe=0;qe<it.size;++qe)Ne.write_shift(1,it.content[qe]);for(;qe&511;++qe)Ne.write_shift(1,0)}for(Ie=1;Ie<fe.FileIndex.length;++Ie)if(it=fe.FileIndex[Ie],it.size>0&&it.size<4096)if(on&&Buffer.isBuffer(it.content))it.content.copy(Ne,Ne.l,0,it.size),Ne.l+=it.size+63&-64;else{for(qe=0;qe<it.size;++qe)Ne.write_shift(1,it.content[qe]);for(;qe&63;++qe)Ne.write_shift(1,0)}if(on)Ne.l=Ne.length;else for(;Ne.l<Ne.length;)Ne.write_shift(1,0);return Ne}function j(fe,Te){var Ee=fe.FullPaths.map(function(qe){return qe.toUpperCase()}),Ce=Ee.map(function(qe){var nt=qe.split("/");return nt[nt.length-(qe.slice(-1)=="/"?2:1)]}),Ne=!1;Te.charCodeAt(0)===47?(Ne=!0,Te=Ee[0].slice(0,-1)+Te):Ne=Te.indexOf("/")!==-1;var Ie=Te.toUpperCase(),et=Ne===!0?Ee.indexOf(Ie):Ce.indexOf(Ie);if(et!==-1)return fe.FileIndex[et];var At=!Ie.match(Cb);for(Ie=Ie.replace(Al,""),At&&(Ie=Ie.replace(Cb,"!")),et=0;et<Ee.length;++et)if((At?Ee[et].replace(Cb,"!"):Ee[et]).replace(Al,"")==Ie||(At?Ce[et].replace(Cb,"!"):Ce[et]).replace(Al,"")==Ie)return fe.FileIndex[et];return null}var F=64,M=-2,Q="d0cf11e0a1b11ae1",J=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:Q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(fe,Te,Ee){u();var Ce=P(fe,Ee);l.writeFileSync(Te,Ce)}function V(fe){for(var Te=new Array(fe.length),Ee=0;Ee<fe.length;++Ee)Te[Ee]=String.fromCharCode(fe[Ee]);return Te.join("")}function G(fe,Te){var Ee=P(fe,Te);switch(Te&&Te.type||"buffer"){case"file":return u(),l.writeFileSync(Te.filename,Ee),Ee;case"binary":return typeof Ee=="string"?Ee:V(Ee);case"base64":return Sy(typeof Ee=="string"?Ee:V(Ee));case"buffer":if(on)return Buffer.isBuffer(Ee)?Ee:nh(Ee);case"array":return typeof Ee=="string"?vc(Ee):Ee}return Ee}var ne;function R(fe){try{var Te=fe.InflateRaw,Ee=new Te;if(Ee._processChunk(new Uint8Array([3,0]),Ee._finishFlushFlag),Ee.bytesRead)ne=fe;else throw new Error("zlib does not expose bytesRead")}catch(Ce){console.error("cannot use native zlib: "+(Ce.message||Ce))}}function W(fe,Te){if(!ne)return Ar(fe,Te);var Ee=ne.InflateRaw,Ce=new Ee,Ne=Ce._processChunk(fe.slice(fe.l),Ce._finishFlushFlag);return fe.l+=Ce.bytesRead,Ne}function Y(fe){return ne?ne.deflateRawSync(fe):Ue(fe)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function oe(fe){var Te=(fe<<1|fe<<11)&139536|(fe<<5|fe<<15)&558144;return(Te>>16|Te>>8|Te)&255}for(var ce=typeof Uint8Array<"u",ge=ce?new Uint8Array(256):[],De=0;De<256;++De)ge[De]=oe(De);function re(fe,Te){var Ee=ge[fe&255];return Te<=8?Ee>>>8-Te:(Ee=Ee<<8|ge[fe>>8&255],Te<=16?Ee>>>16-Te:(Ee=Ee<<8|ge[fe>>16&255],Ee>>>24-Te))}function Se(fe,Te){var Ee=Te&7,Ce=Te>>>3;return(fe[Ce]|(Ee<=6?0:fe[Ce+1]<<8))>>>Ee&3}function Pe(fe,Te){var Ee=Te&7,Ce=Te>>>3;return(fe[Ce]|(Ee<=5?0:fe[Ce+1]<<8))>>>Ee&7}function _e(fe,Te){var Ee=Te&7,Ce=Te>>>3;return(fe[Ce]|(Ee<=4?0:fe[Ce+1]<<8))>>>Ee&15}function Ae(fe,Te){var Ee=Te&7,Ce=Te>>>3;return(fe[Ce]|(Ee<=3?0:fe[Ce+1]<<8))>>>Ee&31}function je(fe,Te){var Ee=Te&7,Ce=Te>>>3;return(fe[Ce]|(Ee<=1?0:fe[Ce+1]<<8))>>>Ee&127}function $e(fe,Te,Ee){var Ce=Te&7,Ne=Te>>>3,Ie=(1<<Ee)-1,et=fe[Ne]>>>Ce;return Ee<8-Ce||(et|=fe[Ne+1]<<8-Ce,Ee<16-Ce)||(et|=fe[Ne+2]<<16-Ce,Ee<24-Ce)||(et|=fe[Ne+3]<<24-Ce),et&Ie}function Ze(fe,Te,Ee){var Ce=Te&7,Ne=Te>>>3;return Ce<=5?fe[Ne]|=(Ee&7)<<Ce:(fe[Ne]|=Ee<<Ce&255,fe[Ne+1]=(Ee&7)>>8-Ce),Te+3}function ye(fe,Te,Ee){var Ce=Te&7,Ne=Te>>>3;return Ee=(Ee&1)<<Ce,fe[Ne]|=Ee,Te+1}function Oe(fe,Te,Ee){var Ce=Te&7,Ne=Te>>>3;return Ee<<=Ce,fe[Ne]|=Ee&255,Ee>>>=8,fe[Ne+1]=Ee,Te+8}function Me(fe,Te,Ee){var Ce=Te&7,Ne=Te>>>3;return Ee<<=Ce,fe[Ne]|=Ee&255,Ee>>>=8,fe[Ne+1]=Ee&255,fe[Ne+2]=Ee>>>8,Te+16}function Ye(fe,Te){var Ee=fe.length,Ce=2*Ee>Te?2*Ee:Te+5,Ne=0;if(Ee>=Te)return fe;if(on){var Ie=B9(Ce);if(fe.copy)fe.copy(Ie);else for(;Ne<fe.length;++Ne)Ie[Ne]=fe[Ne];return Ie}else if(ce){var et=new Uint8Array(Ce);if(et.set)et.set(fe);else for(;Ne<Ee;++Ne)et[Ne]=fe[Ne];return et}return fe.length=Ce,fe}function tt(fe){for(var Te=new Array(fe),Ee=0;Ee<fe;++Ee)Te[Ee]=0;return Te}function ct(fe,Te,Ee){var Ce=1,Ne=0,Ie=0,et=0,At=0,qe=fe.length,nt=ce?new Uint16Array(32):tt(32);for(Ie=0;Ie<32;++Ie)nt[Ie]=0;for(Ie=qe;Ie<Ee;++Ie)fe[Ie]=0;qe=fe.length;var it=ce?new Uint16Array(qe):tt(qe);for(Ie=0;Ie<qe;++Ie)nt[Ne=fe[Ie]]++,Ce<Ne&&(Ce=Ne),it[Ie]=0;for(nt[0]=0,Ie=1;Ie<=Ce;++Ie)nt[Ie+16]=At=At+nt[Ie-1]<<1;for(Ie=0;Ie<qe;++Ie)At=fe[Ie],At!=0&&(it[Ie]=nt[At+16]++);var Bt=0;for(Ie=0;Ie<qe;++Ie)if(Bt=fe[Ie],Bt!=0)for(At=re(it[Ie],Ce)>>Ce-Bt,et=(1<<Ce+4-Bt)-1;et>=0;--et)Te[At|et<<Bt]=Bt&15|Ie<<4;return Ce}var gt=ce?new Uint16Array(512):tt(512),kt=ce?new Uint16Array(32):tt(32);if(!ce){for(var Dt=0;Dt<512;++Dt)gt[Dt]=0;for(Dt=0;Dt<32;++Dt)kt[Dt]=0}(function(){for(var fe=[],Te=0;Te<32;Te++)fe.push(5);ct(fe,kt,32);var Ee=[];for(Te=0;Te<=143;Te++)Ee.push(8);for(;Te<=255;Te++)Ee.push(9);for(;Te<=279;Te++)Ee.push(7);for(;Te<=287;Te++)Ee.push(8);ct(Ee,gt,288)})();var Re=function(){for(var Te=ce?new Uint8Array(32768):[],Ee=0,Ce=0;Ee<me.length-1;++Ee)for(;Ce<me[Ee+1];++Ce)Te[Ce]=Ee;for(;Ce<32768;++Ce)Te[Ce]=29;var Ne=ce?new Uint8Array(259):[];for(Ee=0,Ce=0;Ee<ie.length-1;++Ee)for(;Ce<ie[Ee+1];++Ce)Ne[Ce]=Ee;function Ie(At,qe){for(var nt=0;nt<At.length;){var it=Math.min(65535,At.length-nt),Bt=nt+it==At.length;for(qe.write_shift(1,+Bt),qe.write_shift(2,it),qe.write_shift(2,~it&65535);it-- >0;)qe[qe.l++]=At[nt++]}return qe.l}function et(At,qe){for(var nt=0,it=0,Bt=ce?new Uint16Array(32768):[];it<At.length;){var Mt=Math.min(65535,At.length-it);if(Mt<10){for(nt=Ze(qe,nt,+(it+Mt==At.length)),nt&7&&(nt+=8-(nt&7)),qe.l=nt/8|0,qe.write_shift(2,Mt),qe.write_shift(2,~Mt&65535);Mt-- >0;)qe[qe.l++]=At[it++];nt=qe.l*8;continue}nt=Ze(qe,nt,+(it+Mt==At.length)+2);for(var Gt=0;Mt-- >0;){var Lt=At[it];Gt=(Gt<<5^Lt)&32767;var Qt=-1,Er=0;if((Qt=Bt[Gt])&&(Qt|=it&-32768,Qt>it&&(Qt-=32768),Qt<it))for(;At[Qt+Er]==At[it+Er]&&Er<250;)++Er;if(Er>2){Lt=Ne[Er],Lt<=22?nt=Oe(qe,nt,ge[Lt+1]>>1)-1:(Oe(qe,nt,3),nt+=5,Oe(qe,nt,ge[Lt-23]>>5),nt+=3);var Xr=Lt<8?0:Lt-4>>2;Xr>0&&(Me(qe,nt,Er-ie[Lt]),nt+=Xr),Lt=Te[it-Qt],nt=Oe(qe,nt,ge[Lt]>>3),nt-=3;var Yr=Lt<4?0:Lt-2>>1;Yr>0&&(Me(qe,nt,it-Qt-me[Lt]),nt+=Yr);for(var rn=0;rn<Er;++rn)Bt[Gt]=it&32767,Gt=(Gt<<5^At[it])&32767,++it;Mt-=Er-1}else Lt<=143?Lt=Lt+48:nt=ye(qe,nt,1),nt=Oe(qe,nt,ge[Lt]),Bt[Gt]=it&32767,++it}nt=Oe(qe,nt,0)-1}return qe.l=(nt+7)/8|0,qe.l}return function(qe,nt){return qe.length<8?Ie(qe,nt):et(qe,nt)}}();function Ue(fe){var Te=xt(50+Math.floor(fe.length*1.1)),Ee=Re(fe,Te);return Te.slice(0,Ee)}var Be=ce?new Uint16Array(32768):tt(32768),ht=ce?new Uint16Array(32768):tt(32768),wt=ce?new Uint16Array(128):tt(128),ir=1,Kt=1;function Ut(fe,Te){var Ee=Ae(fe,Te)+257;Te+=5;var Ce=Ae(fe,Te)+1;Te+=5;var Ne=_e(fe,Te)+4;Te+=4;for(var Ie=0,et=ce?new Uint8Array(19):tt(19),At=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qe=1,nt=ce?new Uint8Array(8):tt(8),it=ce?new Uint8Array(8):tt(8),Bt=et.length,Mt=0;Mt<Ne;++Mt)et[te[Mt]]=Ie=Pe(fe,Te),qe<Ie&&(qe=Ie),nt[Ie]++,Te+=3;var Gt=0;for(nt[0]=0,Mt=1;Mt<=qe;++Mt)it[Mt]=Gt=Gt+nt[Mt-1]<<1;for(Mt=0;Mt<Bt;++Mt)(Gt=et[Mt])!=0&&(At[Mt]=it[Gt]++);var Lt=0;for(Mt=0;Mt<Bt;++Mt)if(Lt=et[Mt],Lt!=0){Gt=ge[At[Mt]]>>8-Lt;for(var Qt=(1<<7-Lt)-1;Qt>=0;--Qt)wt[Gt|Qt<<Lt]=Lt&7|Mt<<3}var Er=[];for(qe=1;Er.length<Ee+Ce;)switch(Gt=wt[je(fe,Te)],Te+=Gt&7,Gt>>>=3){case 16:for(Ie=3+Se(fe,Te),Te+=2,Gt=Er[Er.length-1];Ie-- >0;)Er.push(Gt);break;case 17:for(Ie=3+Pe(fe,Te),Te+=3;Ie-- >0;)Er.push(0);break;case 18:for(Ie=11+je(fe,Te),Te+=7;Ie-- >0;)Er.push(0);break;default:Er.push(Gt),qe<Gt&&(qe=Gt);break}var Xr=Er.slice(0,Ee),Yr=Er.slice(Ee);for(Mt=Ee;Mt<286;++Mt)Xr[Mt]=0;for(Mt=Ce;Mt<30;++Mt)Yr[Mt]=0;return ir=ct(Xr,Be,286),Kt=ct(Yr,ht,30),Te}function Ur(fe,Te){if(fe[0]==3&&!(fe[1]&3))return[$0(Te),2];for(var Ee=0,Ce=0,Ne=B9(Te||1<<18),Ie=0,et=Ne.length>>>0,At=0,qe=0;(Ce&1)==0;){if(Ce=Pe(fe,Ee),Ee+=3,Ce>>>1)Ce>>1==1?(At=9,qe=5):(Ee=Ut(fe,Ee),At=ir,qe=Kt);else{Ee&7&&(Ee+=8-(Ee&7));var nt=fe[Ee>>>3]|fe[(Ee>>>3)+1]<<8;if(Ee+=32,nt>0)for(!Te&&et<Ie+nt&&(Ne=Ye(Ne,Ie+nt),et=Ne.length);nt-- >0;)Ne[Ie++]=fe[Ee>>>3],Ee+=8;continue}for(;;){!Te&&et<Ie+32767&&(Ne=Ye(Ne,Ie+32767),et=Ne.length);var it=$e(fe,Ee,At),Bt=Ce>>>1==1?gt[it]:Be[it];if(Ee+=Bt&15,Bt>>>=4,(Bt>>>8&255)===0)Ne[Ie++]=Bt;else{if(Bt==256)break;Bt-=257;var Mt=Bt<8?0:Bt-4>>2;Mt>5&&(Mt=0);var Gt=Ie+ie[Bt];Mt>0&&(Gt+=$e(fe,Ee,Mt),Ee+=Mt),it=$e(fe,Ee,qe),Bt=Ce>>>1==1?kt[it]:ht[it],Ee+=Bt&15,Bt>>>=4;var Lt=Bt<4?0:Bt-2>>1,Qt=me[Bt];for(Lt>0&&(Qt+=$e(fe,Ee,Lt),Ee+=Lt),!Te&&et<Gt&&(Ne=Ye(Ne,Gt+100),et=Ne.length);Ie<Gt;)Ne[Ie]=Ne[Ie-Qt],++Ie}}}return Te?[Ne,Ee+7>>>3]:[Ne.slice(0,Ie),Ee+7>>>3]}function Ar(fe,Te){var Ee=fe.slice(fe.l||0),Ce=Ur(Ee,Te);return fe.l+=Ce[1],Ce[0]}function wn(fe,Te){if(fe)typeof console<"u"&&console.error(Te);else throw new Error(Te)}function Vr(fe,Te){var Ee=fe;oo(Ee,0);var Ce=[],Ne=[],Ie={FileIndex:Ce,FullPaths:Ne};w(Ie,{root:Te.root});for(var et=Ee.length-4;(Ee[et]!=80||Ee[et+1]!=75||Ee[et+2]!=5||Ee[et+3]!=6)&&et>=0;)--et;Ee.l=et+4,Ee.l+=4;var At=Ee.read_shift(2);Ee.l+=6;var qe=Ee.read_shift(4);for(Ee.l=qe,et=0;et<At;++et){Ee.l+=20;var nt=Ee.read_shift(4),it=Ee.read_shift(4),Bt=Ee.read_shift(2),Mt=Ee.read_shift(2),Gt=Ee.read_shift(2);Ee.l+=8;var Lt=Ee.read_shift(4),Qt=o(Ee.slice(Ee.l+Bt,Ee.l+Bt+Mt));Ee.l+=Bt+Mt+Gt;var Er=Ee.l;Ee.l=Lt+4,Tn(Ee,nt,it,Ie,Qt),Ee.l=Er}return Ie}function Tn(fe,Te,Ee,Ce,Ne){fe.l+=2;var Ie=fe.read_shift(2),et=fe.read_shift(2),At=i(fe);if(Ie&8257)throw new Error("Unsupported ZIP encryption");for(var qe=fe.read_shift(4),nt=fe.read_shift(4),it=fe.read_shift(4),Bt=fe.read_shift(2),Mt=fe.read_shift(2),Gt="",Lt=0;Lt<Bt;++Lt)Gt+=String.fromCharCode(fe[fe.l++]);if(Mt){var Qt=o(fe.slice(fe.l,fe.l+Mt));(Qt[21589]||{}).mt&&(At=Qt[21589].mt),((Ne||{})[21589]||{}).mt&&(At=Ne[21589].mt)}fe.l+=Mt;var Er=fe.slice(fe.l,fe.l+nt);switch(et){case 8:Er=W(fe,it);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+et)}var Xr=!1;Ie&8&&(qe=fe.read_shift(4),qe==134695760&&(qe=fe.read_shift(4),Xr=!0),nt=fe.read_shift(4),it=fe.read_shift(4)),nt!=Te&&wn(Xr,"Bad compressed size: "+Te+" != "+nt),it!=Ee&&wn(Xr,"Bad uncompressed size: "+Ee+" != "+it),hn(Ce,Gt,Er,{unsafe:!0,mt:At})}function ra(fe,Te){var Ee=Te||{},Ce=[],Ne=[],Ie=xt(1),et=Ee.compression?8:0,At=0,qe=0,nt=0,it=0,Bt=0,Mt=fe.FullPaths[0],Gt=Mt,Lt=fe.FileIndex[0],Qt=[],Er=0;for(qe=1;qe<fe.FullPaths.length;++qe)if(Gt=fe.FullPaths[qe].slice(Mt.length),Lt=fe.FileIndex[qe],!(!Lt.size||!Lt.content||Gt=="Sh33tJ5")){var Xr=it,Yr=xt(Gt.length);for(nt=0;nt<Gt.length;++nt)Yr.write_shift(1,Gt.charCodeAt(nt)&127);Yr=Yr.slice(0,Yr.l),Qt[Bt]=j2e.buf(Lt.content,0);var rn=Lt.content;et==8&&(rn=Y(rn)),Ie=xt(30),Ie.write_shift(4,67324752),Ie.write_shift(2,20),Ie.write_shift(2,At),Ie.write_shift(2,et),Lt.mt?s(Ie,Lt.mt):Ie.write_shift(4,0),Ie.write_shift(-4,Qt[Bt]),Ie.write_shift(4,rn.length),Ie.write_shift(4,Lt.content.length),Ie.write_shift(2,Yr.length),Ie.write_shift(2,0),it+=Ie.length,Ce.push(Ie),it+=Yr.length,Ce.push(Yr),it+=rn.length,Ce.push(rn),Ie=xt(46),Ie.write_shift(4,33639248),Ie.write_shift(2,0),Ie.write_shift(2,20),Ie.write_shift(2,At),Ie.write_shift(2,et),Ie.write_shift(4,0),Ie.write_shift(-4,Qt[Bt]),Ie.write_shift(4,rn.length),Ie.write_shift(4,Lt.content.length),Ie.write_shift(2,Yr.length),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(4,0),Ie.write_shift(4,Xr),Er+=Ie.l,Ne.push(Ie),Er+=Yr.length,Ne.push(Yr),++Bt}return Ie=xt(22),Ie.write_shift(4,101010256),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,Bt),Ie.write_shift(2,Bt),Ie.write_shift(4,Er),Ie.write_shift(4,it),Ie.write_shift(2,0),Qi([Qi(Ce),Qi(Ne),Ie])}var cr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function er(fe,Te){if(fe.ctype)return fe.ctype;var Ee=fe.name||"",Ce=Ee.match(/\.([^\.]+)$/);return Ce&&cr[Ce[1]]||Te&&(Ce=(Ee=Te).match(/[\.\\]([^\.\\])+$/),Ce&&cr[Ce[1]])?cr[Ce[1]]:"application/octet-stream"}function qr(fe){for(var Te=Sy(fe),Ee=[],Ce=0;Ce<Te.length;Ce+=76)Ee.push(Te.slice(Ce,Ce+76));return Ee.join(`\r
`)+`\r
`}function qs(fe){var Te=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(nt){var it=nt.charCodeAt(0).toString(16).toUpperCase();return"="+(it.length==1?"0"+it:it)});Te=Te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Te.charAt(0)==`
`&&(Te="=0D"+Te.slice(1)),Te=Te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ee=[],Ce=Te.split(`\r
`),Ne=0;Ne<Ce.length;++Ne){var Ie=Ce[Ne];if(Ie.length==0){Ee.push("");continue}for(var et=0;et<Ie.length;){var At=76,qe=Ie.slice(et,et+At);qe.charAt(At-1)=="="?At--:qe.charAt(At-2)=="="?At-=2:qe.charAt(At-3)=="="&&(At-=3),qe=Ie.slice(et,et+At),et+=At,et<Ie.length&&(qe+="="),Ee.push(qe)}}return Ee.join(`\r
`)}function ha(fe){for(var Te=[],Ee=0;Ee<fe.length;++Ee){for(var Ce=fe[Ee];Ee<=fe.length&&Ce.charAt(Ce.length-1)=="=";)Ce=Ce.slice(0,Ce.length-1)+fe[++Ee];Te.push(Ce)}for(var Ne=0;Ne<Te.length;++Ne)Te[Ne]=Te[Ne].replace(/[=][0-9A-Fa-f]{2}/g,function(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))});return vc(Te.join(`\r
`))}function Ga(fe,Te,Ee){for(var Ce="",Ne="",Ie="",et,At=0;At<10;++At){var qe=Te[At];if(!qe||qe.match(/^\s*$/))break;var nt=qe.match(/^(.*?):\s*([^\s].*)$/);if(nt)switch(nt[1].toLowerCase()){case"content-location":Ce=nt[2].trim();break;case"content-type":Ie=nt[2].trim();break;case"content-transfer-encoding":Ne=nt[2].trim();break}}switch(++At,Ne.toLowerCase()){case"base64":et=vc(Sc(Te.slice(At).join("")));break;case"quoted-printable":et=ha(Te.slice(At));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ne)}var it=hn(fe,Ce.slice(Ee.length),et,{unsafe:!0});Ie&&(it.ctype=Ie)}function di(fe,Te){if(V(fe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ee=Te&&Te.root||"",Ce=(on&&Buffer.isBuffer(fe)?fe.toString("binary"):V(fe)).split(`\r
`),Ne=0,Ie="";for(Ne=0;Ne<Ce.length;++Ne)if(Ie=Ce[Ne],!!/^Content-Location:/i.test(Ie)&&(Ie=Ie.slice(Ie.indexOf("file")),Ee||(Ee=Ie.slice(0,Ie.lastIndexOf("/")+1)),Ie.slice(0,Ee.length)!=Ee))for(;Ee.length>0&&(Ee=Ee.slice(0,Ee.length-1),Ee=Ee.slice(0,Ee.lastIndexOf("/")+1),Ie.slice(0,Ee.length)!=Ee););var et=(Ce[1]||"").match(/boundary="(.*?)"/);if(!et)throw new Error("MAD cannot find boundary");var At="--"+(et[1]||""),qe=[],nt=[],it={FileIndex:qe,FullPaths:nt};w(it);var Bt,Mt=0;for(Ne=0;Ne<Ce.length;++Ne){var Gt=Ce[Ne];Gt!==At&&Gt!==At+"--"||(Mt++&&Ga(it,Ce.slice(Bt,Ne),Ee),Bt=Ne)}return it}function Yt(fe,Te){var Ee=Te||{},Ce=Ee.boundary||"SheetJS";Ce="------="+Ce;for(var Ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ce.slice(2)+'"',"","",""],Ie=fe.FullPaths[0],et=Ie,At=fe.FileIndex[0],qe=1;qe<fe.FullPaths.length;++qe)if(et=fe.FullPaths[qe].slice(Ie.length),At=fe.FileIndex[qe],!(!At.size||!At.content||et=="Sh33tJ5")){et=et.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Er){return"_x"+Er.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Er){return"_u"+Er.charCodeAt(0).toString(16)+"_"});for(var nt=At.content,it=on&&Buffer.isBuffer(nt)?nt.toString("binary"):V(nt),Bt=0,Mt=Math.min(1024,it.length),Gt=0,Lt=0;Lt<=Mt;++Lt)(Gt=it.charCodeAt(Lt))>=32&&Gt<128&&++Bt;var Qt=Bt>=Mt*4/5;Ne.push(Ce),Ne.push("Content-Location: "+(Ee.root||"file:///C:/SheetJS/")+et),Ne.push("Content-Transfer-Encoding: "+(Qt?"quoted-printable":"base64")),Ne.push("Content-Type: "+er(At,et)),Ne.push(""),Ne.push(Qt?qs(it):qr(it))}return Ne.push(Ce+`--\r
`),Ne.join(`\r
`)}function En(fe){var Te={};return w(Te,fe),Te}function hn(fe,Te,Ee,Ce){var Ne=Ce&&Ce.unsafe;Ne||w(fe);var Ie=!Ne&&yr.find(fe,Te);if(!Ie){var et=fe.FullPaths[0];Te.slice(0,et.length)==et?et=Te:(et.slice(-1)!="/"&&(et+="/"),et=(et+Te).replace("//","/")),Ie={name:a(Te),type:2},fe.FileIndex.push(Ie),fe.FullPaths.push(et),Ne||yr.utils.cfb_gc(fe)}return Ie.content=Ee,Ie.size=Ee?Ee.length:0,Ce&&(Ce.CLSID&&(Ie.clsid=Ce.CLSID),Ce.mt&&(Ie.mt=Ce.mt),Ce.ct&&(Ie.ct=Ce.ct)),Ie}function $n(fe,Te){w(fe);var Ee=yr.find(fe,Te);if(Ee){for(var Ce=0;Ce<fe.FileIndex.length;++Ce)if(fe.FileIndex[Ce]==Ee)return fe.FileIndex.splice(Ce,1),fe.FullPaths.splice(Ce,1),!0}return!1}function na(fe,Te,Ee){w(fe);var Ce=yr.find(fe,Te);if(Ce){for(var Ne=0;Ne<fe.FileIndex.length;++Ne)if(fe.FileIndex[Ne]==Ce)return fe.FileIndex[Ne].name=a(Ee),fe.FullPaths[Ne]=Ee,!0}return!1}function ma(fe){N(fe,!0)}return t.find=j,t.read=O,t.parse=d,t.write=G,t.writeFile=H,t.utils={cfb_new:En,cfb_add:hn,cfb_del:$n,cfb_mov:na,cfb_gc:ma,ReadShift:qb,CheckField:SZ,prep_blob:oo,bconcat:Qi,use_zlib:R,_deflateRaw:Ue,_inflateRaw:Ar,consts:Z},t}();function F2e(e){return typeof e=="string"?iN(e):Array.isArray(e)?s2e(e):e}function Sw(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=iN(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?mA(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([F2e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=tm(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function O2e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function _s(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function R9(e,t){for(var r=[],n=_s(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function lN(e){for(var t=[],r=_s(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function cN(e){for(var t=[],r=_s(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function D2e(e){for(var t=[],r=_s(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var G_=new Date(1899,11,30,0,0,0);function wi(e,t){var r=e.getTime(),n=G_.getTime()+(e.getTimezoneOffset()-G_.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var sZ=new Date,P2e=G_.getTime()+(sZ.getTimezoneOffset()-G_.getTimezoneOffset())*6e4,L9=sZ.getTimezoneOffset();function uN(e){var t=new Date;return t.setTime(e*24*60*60*1e3+P2e),t.getTimezoneOffset()!==L9&&t.setTime(t.getTime()+(t.getTimezoneOffset()-L9)*6e4),t}function R2e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var M9=new Date("2017-02-19T19:06:09.000Z"),iZ=isNaN(M9.getFullYear())?new Date("2/19/17"):M9,L2e=iZ.getFullYear()==2017;function Ra(e,t){var r=new Date(e);if(L2e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(iZ.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function kp(e,t){if(on&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return mA(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return mA(GJ(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return mA(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return mA(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function La(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=La(e[r]));return t}function gs(e,t){for(var r="";r.length<t;)r+=e;return r}function Ad(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var M2e=["january","february","march","april","may","june","july","august","september","october","november","december"];function nx(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&M2e.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var U2e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function oZ(e){return e?e.content&&e.type?kp(e.content,!0):e.data?Eb(e.data):e.asNodeBuffer&&on?Eb(e.asNodeBuffer().toString("binary")):e.asBinary?Eb(e.asBinary()):e._data&&e._data.getContent?Eb(kp(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function lZ(e){if(!e)return null;if(e.data)return N9(e.data);if(e.asNodeBuffer&&on)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?N9(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Q2e(e){return e&&e.name.slice(-4)===".bin"?lZ(e):oZ(e)}function uu(e,t){for(var r=e.FullPaths||_s(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function ZO(e,t){var r=uu(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ni(e,t,r){if(!r)return Q2e(ZO(e,t));if(!t)return null;try{return ni(e,t)}catch{return null}}function xc(e,t,r){if(!r)return oZ(ZO(e,t));if(!t)return null;try{return xc(e,t)}catch{return null}}function H2e(e,t,r){return lZ(ZO(e,t))}function U9(e){for(var t=e.FullPaths||_s(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function en(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return on?n=nh(r):n=i2e(r),yr.utils.cfb_add(e,t,n)}yr.utils.cfb_add(e,t,r)}else e.file(t,r)}function eD(){return yr.utils.cfb_new()}function cZ(e,t){switch(t.type){case"base64":return yr.read(e,{type:"base64"});case"binary":return yr.read(e,{type:"binary"});case"buffer":case"array":return yr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function _b(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Ks=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,V2e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Q9=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,z2e=/<[^>]*>/g,Wo=Ks.match(Q9)?Q9:z2e,$2e=/<\w*:/,K2e=/<(\/?)\w+:/;function Mr(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(V2e),o=0,l="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var p=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[p]&&d.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function DA(e){return e.replace(K2e,"<$1")}var uZ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},tD=lN(uZ),jn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,l){return uZ[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),rD=/[&<>'"]/g,G2e=/[\u0000-\u0008\u000b-\u001f]/g;function Aa(e){var t=e+"";return t.replace(rD,function(r){return tD[r]}).replace(G2e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function H9(e){return Aa(e).replace(/ /g,"_x0020_")}var dZ=/[\u0000-\u001f]/g;function nD(e){var t=e+"";return t.replace(rD,function(r){return tD[r]}).replace(/\n/g,"<br/>").replace(dZ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function q2e(e){var t=e+"";return t.replace(rD,function(r){return tD[r]}).replace(dZ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var V9=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function W2e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Da(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _B(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function z9(e){var t=$0(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function $9(e){return nh(e,"binary").toString("utf8")}var vE="foo bar baz",ya=on&&($9(vE)==_B(vE)&&$9||z9(vE)==_B(vE)&&z9)||_B,mA=on?function(e){return nh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},ky=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),AZ=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),X2e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Y2e=/<\/?(?:vt:)?variant>/g,J2e=/<(?:vt:)([^>]*)>([\s\S]*)</;function K9(e,t){var r=Mr(e),n=e.match(X2e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(Y2e,"").match(J2e);i&&a.push({v:ya(i[2]),t:i[1]})}),a}var fZ=/(^\s|\s$|\n)/;function co(e,t){return"<"+e+(t.match(fZ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function By(e){return _s(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ht(e,t,r){return"<"+e+(r!=null?By(r):"")+(t!=null?(t.match(fZ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function yj(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Z2e(e,t){switch(typeof e){case"string":var r=Ht("vt:lpwstr",Aa(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ht((e|0)==e?"vt:i4":"vt:r8",Aa(String(e)));case"boolean":return Ht("vt:bool",e?"true":"false")}if(e instanceof Date)return Ht("vt:filetime",yj(e));throw new Error("Unable to serialize "+e)}function aD(e){if(on&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ya(tm(XO(e)));throw new Error("Bad input format: expected Buffer or string")}var Ty=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,bi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Kp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],mc={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function eEe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function tEe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var G9=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},q9=on?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:nh(t)})):G9(e)}:G9,W9=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Sf(e,a)));return n.join("").replace(Al,"")},sD=on?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Al,""):W9(e,t,r)}:W9,X9=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},hZ=on?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):X9(e,t,r)}:X9,Y9=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(lv(e,a)));return n.join("")},Nw=on?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):Y9(t,r,n)}:Y9,mZ=function(e,t){var r=pc(e,t);return r>0?Nw(e,t+4,t+4+r-1):""},pZ=mZ,gZ=function(e,t){var r=pc(e,t);return r>0?Nw(e,t+4,t+4+r-1):""},vZ=gZ,xZ=function(e,t){var r=2*pc(e,t);return r>0?Nw(e,t+4,t+4+r-1):""},bZ=xZ,yZ=function(t,r){var n=pc(t,r);return n>0?sD(t,r+4,r+4+n):""},wZ=yZ,EZ=function(e,t){var r=pc(e,t);return r>0?Nw(e,t+4,t+4+r):""},CZ=EZ,_Z=function(e,t){return eEe(e,t)},q_=_Z,iD=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};on&&(pZ=function(t,r){if(!Buffer.isBuffer(t))return mZ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},vZ=function(t,r){if(!Buffer.isBuffer(t))return gZ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},bZ=function(t,r){if(!Buffer.isBuffer(t))return xZ(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},wZ=function(t,r){if(!Buffer.isBuffer(t))return yZ(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},CZ=function(t,r){if(!Buffer.isBuffer(t))return EZ(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},q_=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):_Z(t,r)},iD=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var lv=function(e,t){return e[t]},Sf=function(e,t){return e[t+1]*256+e[t]},rEe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},pc=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},zm=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},nEe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function qb(e,t){var r="",n,a,s=[],i,o,l,u;switch(t){case"dbcs":if(u=this.l,on&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Sf(this,u)),u+=2;e*=2;break;case"utf8":r=Nw(this,this.l,this.l+e);break;case"utf16le":e*=2,r=sD(this,this.l,this.l+e);break;case"wstr":return qb.call(this,e,"dbcs");case"lpstr-ansi":r=pZ(this,this.l),e=4+pc(this,this.l);break;case"lpstr-cp":r=vZ(this,this.l),e=4+pc(this,this.l);break;case"lpwstr":r=bZ(this,this.l),e=4+2*pc(this,this.l);break;case"lpp4":e=4+pc(this,this.l),r=wZ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+pc(this,this.l),r=CZ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=lv(this,this.l+e++))!==0;)s.push(gE(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=Sf(this,this.l+e))!==0;)s.push(gE(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return i=lv(this,u),this.l=u+1,o=qb.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(gE(Sf(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return i=lv(this,u),this.l=u+1,o=qb.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(gE(lv(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=lv(this,this.l),this.l++,n;case 2:return n=(t==="i"?rEe:Sf)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?zm:nEe)(this,this.l),this.l+=4,n):(a=pc(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=q_(this,this.l):a=q_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=hZ(this,this.l,e);break}}return this.l+=e,r}var aEe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},sEe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},iEe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function oEe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)iEe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,aEe(this,t,this.l);break;case 8:if(n=8,r==="f"){tEe(this,t,this.l);break}case 16:break;case-4:n=4,sEe(this,t,this.l);break}return this.l+=n,this}function SZ(e,t){var r=hZ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function oo(e,t){e.l=t,e.read_shift=qb,e.chk=SZ,e.write_shift=oEe}function Go(e,t){e.l+=t}function xt(e){var t=$0(e);return oo(t,0),t}function ah(e,t,r){if(e){var n,a,s;oo(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=Py[o]||Py[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;l=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=l,t(d,u,o))return}}}function Ql(){var e=[],t=on?256:2048,r=function(u){var d=xt(u);return oo(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),Qi(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function Ft(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=Py[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&iD(r)&&e.push(r)}}function Wb(e,t,r){var n=La(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function J9(e,t,r){var n=La(e);return n.s=Wb(n.s,t.s,r),n.e=Wb(n.e,t.s,r),n}function Xb(e,t){if(e.cRel&&e.c<0)for(e=La(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=La(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Dr(e);return!e.cRel&&e.cRel!=null&&(r=uEe(r)),!e.rRel&&e.rRel!=null&&(r=lEe(r)),r}function SB(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+es(e.s.c)+":"+(e.e.cRel?"":"$")+es(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Vs(e.s.r)+":"+(e.e.rRel?"":"$")+Vs(e.e.r):Xb(e.s,t.biff)+":"+Xb(e.e,t.biff)}function oD(e){return parseInt(cEe(e),10)-1}function Vs(e){return""+(e+1)}function lEe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cEe(e){return e.replace(/\$(\d+)$/,"$1")}function lD(e){for(var t=dEe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function es(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function uEe(e){return e.replace(/^([A-Z])/,"$$$1")}function dEe(e){return e.replace(/^\$([A-Z])/,"$1")}function AEe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ts(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Dr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Vl(e){var t=e.indexOf(":");return t==-1?{s:ts(e),e:ts(e)}:{s:ts(e.slice(0,t)),e:ts(e.slice(t+1))}}function Wr(e,t){return typeof t>"u"||typeof t=="number"?Wr(e.s,e.e):(typeof e!="string"&&(e=Dr(e)),typeof t!="string"&&(t=Dr(t)),e==t?e:e+":"+t)}function On(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function Z9(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=_u(e.z,r?wi(t):t)}catch{}try{return e.w=_u((e.XF||{}).numFmtId||(r?14:0),r?wi(t):t)}catch{return""+t}}function zf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?sh[e.v]||e.v:t==null?Z9(e,e.v):Z9(e,t))}function rm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function NZ(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?ts(n.origin):n.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=On(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},v=i+f,g=o+h;if(u.s.r>v&&(u.s.r=v),u.s.c>g&&(u.s.c=g),u.e.r<v&&(u.e.r=v),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Ir[14],n.cellDates?(p.t="d",p.w=_u(p.z,wi(p.v))):(p.t="n",p.v=wi(p.v),p.w=_u(p.z,p.v))):p.t="s";if(a)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(p.z=s[v][g].z),s[v][g]=p;else{var b=Dr({c:g,r:v});s[b]&&s[b].z&&(p.z=s[b].z),s[b]=p}}}return u.s.c<1e7&&(s["!ref"]=Wr(u)),s}function Px(e,t){return NZ(null,e,t)}function fEe(e){return e.read_shift(4,"i")}function fd(e,t){return t||(t=xt(4)),t.write_shift(4,e),t}function $o(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Vi(e,t){var r=!1;return t==null&&(r=!0,t=xt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function hEe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function mEe(e,t){return t||(t=xt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function cD(e,t){var r=e.l,n=e.read_shift(1),a=$o(e),s=[],i={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(hEe(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function pEe(e,t){var r=!1;return t==null&&(r=!0,t=xt(15+4*e.t.length)),t.write_shift(1,0),Vi(e.t,t),r?t.slice(0,t.l):t}var gEe=cD;function vEe(e,t){var r=!1;return t==null&&(r=!0,t=xt(23+4*e.t.length)),t.write_shift(1,1),Vi(e.t,t),t.write_shift(4,1),mEe({},t),r?t.slice(0,t.l):t}function ku(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Gp(e,t){return t==null&&(t=xt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function qp(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Wp(e,t){return t==null&&(t=xt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var xEe=$o,kZ=Vi;function uD(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function W_(e,t){var r=!1;return t==null&&(r=!0,t=xt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var bEe=$o,wj=uD,dD=W_;function AD(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?q_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):zm(t,0)>>2;return r?a/100:a}function BZ(e,t){t==null&&(t=xt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function TZ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function yEe(e,t){return t||(t=xt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Xp=TZ,Rx=yEe;function zo(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Bp(e,t){return(t||xt(8)).write_shift(8,e,"f")}function wEe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=lp[a];u&&(t.rgb=jy(u));break;case 2:t.rgb=jy([i,o,l]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function X_(e,t){if(t||(t=xt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function EEe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function CEe(e,t){t||(t=xt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function IZ(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function _Ee(e){return IZ(e,1)}function SEe(e){return IZ(e,2)}var fD=2,Il=3,xE=11,eQ=12,Y_=19,bE=64,NEe=65,kEe=71,BEe=4108,TEe=4126,Li=80,jZ=81,IEe=[Li,jZ],Ej={1:{n:"CodePage",t:fD},2:{n:"Category",t:Li},3:{n:"PresentationFormat",t:Li},4:{n:"ByteCount",t:Il},5:{n:"LineCount",t:Il},6:{n:"ParagraphCount",t:Il},7:{n:"SlideCount",t:Il},8:{n:"NoteCount",t:Il},9:{n:"HiddenCount",t:Il},10:{n:"MultimediaClipCount",t:Il},11:{n:"ScaleCrop",t:xE},12:{n:"HeadingPairs",t:BEe},13:{n:"TitlesOfParts",t:TEe},14:{n:"Manager",t:Li},15:{n:"Company",t:Li},16:{n:"LinksUpToDate",t:xE},17:{n:"CharacterCount",t:Il},19:{n:"SharedDoc",t:xE},22:{n:"HyperlinksChanged",t:xE},23:{n:"AppVersion",t:Il,p:"version"},24:{n:"DigSig",t:NEe},26:{n:"ContentType",t:Li},27:{n:"ContentStatus",t:Li},28:{n:"Language",t:Li},29:{n:"Version",t:Li},255:{},2147483648:{n:"Locale",t:Y_},2147483651:{n:"Behavior",t:Y_},1919054434:{}},Cj={1:{n:"CodePage",t:fD},2:{n:"Title",t:Li},3:{n:"Subject",t:Li},4:{n:"Author",t:Li},5:{n:"Keywords",t:Li},6:{n:"Comments",t:Li},7:{n:"Template",t:Li},8:{n:"LastAuthor",t:Li},9:{n:"RevNumber",t:Li},10:{n:"EditTime",t:bE},11:{n:"LastPrinted",t:bE},12:{n:"CreatedDate",t:bE},13:{n:"ModifiedDate",t:bE},14:{n:"PageCount",t:Il},15:{n:"WordCount",t:Il},16:{n:"CharCount",t:Il},17:{n:"Thumbnail",t:kEe},18:{n:"Application",t:Li},19:{n:"DocSecurity",t:Il},255:{},2147483648:{n:"Locale",t:Y_},2147483651:{n:"Behavior",t:Y_},1919054434:{}},tQ={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},jEe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function FEe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var OEe=FEe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),lp=La(OEe),sh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},FZ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},_j={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},yE={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function hD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function DEe(e){var t=hD();if(!e||!e.match)return t;var r={};if((e.match(Wo)||[]).forEach(function(n){var a=Mr(n);switch(a[0].replace($2e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[_j[a.ContentType]]!==void 0&&t[_j[a.ContentType]].push(a.PartName);break}}),t.xmlns!==bi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function OZ(e,t){var r=D2e(_j),n=[],a;n[n.length]=Ks,n[n.length]=Ht("Types",null,{xmlns:bi.CT,"xmlns:xsd":bi.xsd,"xmlns:xsi":bi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Ht("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=Ht("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:yE[l][t.bookType]||yE[l].xlsx}))},i=function(l){(e[l]||[]).forEach(function(u){n[n.length]=Ht("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:yE[l][t.bookType]||yE[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=Ht("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var An={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Iy(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Yb(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Wo)||[]).forEach(function(a){var s=Mr(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:_b(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}function Rv(e){var t=[Ks,Ht("Relationships",null,{xmlns:bi.RELS})];return _s(e["!id"]).forEach(function(r){t[t.length]=Ht("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ca(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[An.HLINK,An.XPATH,An.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var PEe="application/vnd.oasis.opendocument.spreadsheet";function REe(e,t){for(var r=aD(e),n,a;n=Ty.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Mr(n[0],!1),a.path=="/"&&a.type!==PEe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function LEe(e){var t=[Ks];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function rQ(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function MEe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function UEe(e){var t=[Ks];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(rQ(e[r][0],e[r][1])),t.push(MEe("",e[r][0]));return t.push(rQ("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function DZ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+V_.version+"</meta:generator></office:meta></office:document-meta>"}var Cu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],QEe=function(){for(var e=new Array(Cu.length),t=0;t<Cu.length;++t){var r=Cu[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function PZ(e){var t={};e=ya(e);for(var r=0;r<Cu.length;++r){var n=Cu[r],a=e.match(QEe[r]);a!=null&&a.length>0&&(t[n[1]]=jn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ra(t[n[1]]))}return t}function NB(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Aa(t),n[n.length]=r?Ht(e,t,r):co(e,t))}function RZ(e,t){var r=t||{},n=[Ks,Ht("cp:coreProperties",null,{"xmlns:cp":bi.CORE_PROPS,"xmlns:dc":bi.dc,"xmlns:dcterms":bi.dcterms,"xmlns:dcmitype":bi.dcmitype,"xmlns:xsi":bi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&NB("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:yj(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&NB("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:yj(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=Cu.length;++s){var i=Cu[s],o=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&NB(i[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var cp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],LZ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function MZ(e,t,r,n){var a=[];if(typeof e=="string")a=K9(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?K9(t,n).map(function(d){return d.v}):t,o=0,l=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l);break}o+=l}}function HEe(e,t,r){var n={};return t||(t={}),e=ya(e),cp.forEach(function(a){var s=(e.match(ky(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=jn(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&MZ(n.HeadingPairs,n.TitlesOfParts,t,r),t}function UZ(e){var t=[],r=Ht;return e||(e={}),e.Application="SheetJS",t[t.length]=Ks,t[t.length]=Ht("Properties",null,{xmlns:bi.EXT_PROPS,"xmlns:vt":bi.vt}),cp.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Aa(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Aa(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var VEe=/<[^>]+>[^<]*/g;function zEe(e,t){var r={},n="",a=e.match(VEe);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=Mr(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=jn(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=jn(d);break;case"bool":r[n]=Da(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Ra(d);break;case"cy":case"error":r[n]=jn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,l)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}function QZ(e){var t=[Ks,Ht("Properties",null,{xmlns:bi.CUST_PROPS,"xmlns:vt":bi.vt})];if(!e)return t.join("");var r=1;return _s(e).forEach(function(a){++r,t[t.length]=Ht("property",Z2e(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Aa(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Sj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},kB;function $Ee(e,t,r){kB||(kB=lN(Sj)),t=kB[t]||t,e[t]=r}function KEe(e,t){var r=[];return _s(Sj).map(function(n){for(var a=0;a<Cu.length;++a)if(Cu[a][1]==n)return Cu[a];for(a=0;a<cp.length;++a)if(cp[a][1]==n)return cp[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(co(Sj[n[1]]||n[1],a))}}),Ht("DocumentProperties",r.join(""),{xmlns:mc.o})}function GEe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&_s(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var i=0;i<Cu.length;++i)if(s==Cu[i][1])return;for(i=0;i<cp.length;++i)if(s==cp[i][1])return;for(i=0;i<r.length;++i)if(s==r[i])return;var o=e[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(Ht(H9(s),o,{"dt:dt":l}))}}),t&&_s(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var i=t[s],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),a.push(Ht(H9(s),i,{"dt:dt":o}))}}),"<"+n+' xmlns="'+mc.o+'">'+a.join("")+"</"+n+">"}function mD(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function qEe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=xt(8);return i.write_shift(4,n),i.write_shift(4,a),i}function HZ(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function VZ(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function zZ(e,t,r){return t===31?VZ(e):HZ(e,t,r)}function Nj(e,t,r){return zZ(e,t,r===!1?0:4)}function WEe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return zZ(e,t,0)}function XEe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Al,""),e.l-a&2&&(e.l+=2)}return r}function YEe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Al,"");return r}function JEe(e){var t=e.l,r=J_(e,jZ);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=J_(e,Il);return[r,n]}function ZEe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(JEe(e));return r}function nQ(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Al,"").replace(Cb,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function $Z(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function eCe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function J_(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==eQ&&n!==t&&IEe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===eQ?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return HZ(e,n,4).replace(Al,"");case 31:return VZ(e);case 64:return mD(e);case 65:return $Z(e);case 71:return eCe(e);case 80:return Nj(e,n,!s.raw).replace(Al,"");case 81:return WEe(e,n).replace(Al,"");case 4108:return ZEe(e);case 4126:case 4127:return n==4127?XEe(e):YEe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function aQ(e,t){var r=xt(4),n=xt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=xt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=qEe(t);break;case 31:case 80:for(n=xt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Qi([r,n])}function sQ(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(_,S){return _[1]-S[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var p=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(p=!1,e.l=s[i][1]),p)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var v=t[s[i][0]];if(h[v.n]=J_(e,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ud(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[i][0]===1){if(o=h.CodePage=J_(e,fD),ud(o),l!==-1){var g=e.l;e.l=s[l][1],u=nQ(e,o),e.l=g}}else if(s[i][0]===0){if(o===0){l=i,e.l=s[i+1][1];continue}u=nQ(e,o)}else{var b=u[s[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=$Z(e);break;case 30:e.l+=4,y=Nj(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=Nj(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Ds(e,4);break;case 64:e.l+=4,y=Ra(mD(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[b]=y}}return e.l=r+n,h}var KZ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function tCe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function iQ(e,t,r){var n=xt(8),a=[],s=[],i=8,o=0,l=xt(8),u=xt(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),a.push(u),i+=8+l.length,!t){u=xt(8),u.write_shift(4,0),a.unshift(u);var d=[xt(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=xt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Qi(d),s.unshift(l),i+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(KZ.indexOf(e[o][0])>-1||LZ.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var v=r[p];if(v.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=aQ(v.t,h)}else{var b=tCe(h);b==-1&&(b=31,h=String(h)),l=aQ(b,h)}s.push(l),u=xt(8),u.write_shift(4,t?p:2+o),a.push(u),i+=8+l.length}var y=8*(s.length+1);for(o=0;o<s.length;++o)a[o].write_shift(4,y),y+=s[o].length;return n.write_shift(4,i),n.write_shift(4,s.length),Qi([n].concat(a).concat(s))}function oQ(e,t,r){var n=e.content;if(!n)return{};oo(n,0);var a,s,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==yr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),l=n.read_shift(4));var f=sQ(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=s,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var v;try{v=sQ(n,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[s,i],h}function lQ(e,t,r,n,a,s){var i=xt(a?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,yr.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var l=iQ(e,r,n);if(o.push(l),a){var u=iQ(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+l.length),o.push(u)}return Qi(o)}function qh(e,t){return e.read_shift(t),null}function rCe(e,t){t||(t=xt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function nCe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ds(e,t){return e.read_shift(t)===1}function sl(e,t){return t||(t=xt(2)),t.write_shift(2,+!!e),t}function ai(e){return e.read_shift(2,"u")}function Au(e,t){return t||(t=xt(2)),t.write_shift(2,e),t}function GZ(e,t){return nCe(e,t,ai)}function aCe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function qZ(e,t,r){return r||(r=xt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function kw(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function sCe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,l={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=o),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function iCe(e){var t=e.t||"",r=xt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=xt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Qi(a)}function Tp(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Bw(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Tp(e,n,r)}function Yp(e,t,r){if(r.biff>5)return Bw(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function WZ(e,t,r){return r||(r=xt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function oCe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function lCe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Al,"");return n&&(e.l+=24),a}function cCe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(Al,"");return r+i}function uCe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return lCe(e);case"0303000000000000c000000000000046":return cCe(e);default:throw new Error("Unsupported Moniker "+r)}}function wE(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Al,""):"";return r}function cQ(e,t){t||(t=xt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function dCe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,l,u="",d,f;a&16&&(s=wE(e,r-e.l)),a&128&&(i=wE(e,r-e.l)),(a&257)===257&&(o=wE(e,r-e.l)),(a&257)===1&&(l=uCe(e,r-e.l)),a&8&&(u=wE(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=mD(e)),e.l=r;var h=i||o||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),s&&(p.Tooltip=s),p}function ACe(e){var t=xt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(s==28)n=n.slice(1),cQ(n,t);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),s&8&&cQ(a>-1?n.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function XZ(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function YZ(e,t){var r=XZ(e);return r[3]=0,r}function PA(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Ip(e,t,r,n){return n||(n=xt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function fCe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function hCe(e,t,r){return t===0?"":Yp(e,t,r)}function mCe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function JZ(e){var t=e.read_shift(2),r=AD(e);return[t,r]}function pCe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=kw(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function dN(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function ZZ(e,t){return t||(t=xt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function eee(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var gCe=eee;function tee(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function vCe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function xCe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Io(e){e.l+=2,e.l+=e.read_shift(2)}var bCe={0:Io,4:Io,5:Io,6:Io,7:xCe,8:Io,9:Io,10:Io,11:Io,12:Io,13:vCe,14:Io,15:Io,16:Io,17:Io,18:Io,19:Io,20:Io,21:tee};function yCe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(bCe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function EE(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function pD(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=xt(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function wCe(e,t){return t===0||e.read_shift(2),1200}function ECe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Yp(e,0,r);return e.read_shift(t+n-e.l),a}function CCe(e,t){var r=!t||t.biff==8,n=xt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function _Ce(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function SCe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=kw(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function NCe(e,t){var r=!t||t.biff>=8?2:1,n=xt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function kCe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(sCe(e));return s.Count=n,s.Unique=a,s}function BCe(e,t){var r=xt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=iCe(e[a]);var s=Qi([r].concat(n));return s.parts=[r.length].concat(n.map(function(i){return i.length})),s}function TCe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function ICe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function jCe(e){var t=fCe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function FCe(e){return e.read_shift(2),e.read_shift(4)}function uQ(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function OCe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:l,TabRatio:u}}function DCe(){var e=xt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function PCe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function RCe(e){var t=xt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function LCe(){}function MCe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=kw(e,0,r),n}function UCe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=xt(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function QCe(e){var t=PA(e);return t.isst=e.read_shift(4),t}function HCe(e,t,r,n){var a=xt(10);return Ip(e,t,n,a),a.write_shift(4,r),a}function VCe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=PA(e);r.biff==2&&e.l++;var s=Bw(e,n-e.l,r);return a.val=s,a}function zCe(e,t,r,n,a){var s=!a||a.biff==8,i=xt(8+ +s+(1+s)*r.length);return Ip(e,t,n,i),i.write_shift(2,r.length),s&&i.write_shift(1,1),i.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),i}function $Ce(e,t,r){var n=e.read_shift(2),a=Yp(e,0,r);return[n,a]}function KCe(e,t,r,n){var a=r&&r.biff==5;n||(n=xt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var GCe=Yp;function dQ(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c:l}}}function qCe(e,t){var r=t.biff==8||!t.biff?4:2,n=xt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function WCe(e){var t=e.read_shift(2),r=e.read_shift(2),n=JZ(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function XCe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(JZ(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function YCe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function JCe(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=jEe[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function ZCe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=JCe(e,t,n.fStyle,r),n}function AQ(e,t,r,n){var a=r&&r.biff==5;n||(n=xt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function e_e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function t_e(e){var t=xt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function fQ(e,t,r){var n=PA(e);(r.biff==2||t==9)&&++e.l;var a=aCe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function r_e(e,t,r,n,a,s){var i=xt(8);return Ip(e,t,n,i),qZ(r,s,i),i}function n_e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=PA(e),a=zo(e);return n.val=a,n}function a_e(e,t,r,n){var a=xt(14);return Ip(e,t,n,a),Bp(r,a),a}var hQ=hCe;function s_e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=Tp(e,s),o=[];n>e.l;)o.push(Bw(e));return[s,a,i,o]}function mQ(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=pCe(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var i_e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function pQ(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Tp(e,i,r);a&32&&(u=i_e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:y4e(e,d,r,o);return{chKey:s,Name:u,itab:l,rgce:f}}function ree(e,t,r){if(r.biff<8)return o_e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(mCe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function o_e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=kw(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function l_e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=Tp(e,n,r),i=Tp(e,a,r);return[s,i]}function c_e(e,t,r){var n=eee(e);e.l++;var a=e.read_shift(1);return t-=8,[w4e(e,t,r),a,n]}function gQ(e,t,r){var n=gCe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,x4e(e,t,r)]}function u_e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function d_e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=Yp(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function A_e(e,t,r){return d_e(e,t,r)}function f_e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(dN(e));return r}function h_e(e){var t=xt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)ZZ(e[r],t);return t}function m_e(e,t,r){if(r&&r.biff<8)return g_e(e,t,r);var n=tee(e),a=yCe(e,t-22,n[1]);return{cmo:n,ft:a}}var p_e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function g_e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((p_e[n]||Go)(e,t,r)),{cmo:[a,n,s],ft:i}}function v_e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=oCe(e,6,r);var o=e.read_shift(2);e.read_shift(2),ai(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Tp(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function x_e(e,t){var r=dN(e);e.l+=16;var n=dCe(e,t-24);return[r,n]}function b_e(e){var t=xt(24),r=ts(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Qi([t,ACe(e[1])])}function y_e(e,t){e.read_shift(2);var r=dN(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Al,""),[r,n]}function w_e(e){var t=e[1].Tooltip,r=xt(10+2*(t.length+1));r.write_shift(2,2048);var n=ts(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function E_e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=tQ[r]||r,r=e.read_shift(2),t[1]=tQ[r]||r,t}function C_e(e){return e||(e=xt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function __e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(YZ(e));return r}function S_e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(YZ(e));return r}function N_e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function nee(e,t,r){if(!r.cellStyles)return Go(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function k_e(e,t){var r=xt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function B_e(e,t){var r={};return t<32||(e.l+=16,r.header=zo(e),r.footer=zo(e),e.l+=2),r}function T_e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function I_e(e){for(var t=xt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var j_e=PA,F_e=GZ,O_e=Bw;function D_e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function P_e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=PA(e);++e.l;var a=Yp(e,t-7,r);return n.t="str",n.val=a,n}function R_e(e){var t=PA(e);++e.l;var r=zo(e);return t.t="n",t.val=r,t}function L_e(e,t,r){var n=xt(15);return Fw(n,e,t),n.write_shift(8,r,"f"),n}function M_e(e){var t=PA(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function U_e(e,t,r){var n=xt(9);return Fw(n,e,t),n.write_shift(2,r),n}function Q_e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function H_e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function V_e(e,t,r){var n=e.l+t,a=PA(e),s=e.read_shift(2),i=Tp(e,s,r);return e.l=n,a.t="str",a.val=i,a}var z_e=[2,3,48,49,131,139,140,245],kj=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=lN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=$0(1);switch(l.type){case"base64":d=vc(Sc(o));break;case"binary":d=vc(o);break;case"buffer":case"array":d=o;break}oo(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,b=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(b=d.read_shift(2));var y=d.read_shift(2),_=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(_=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var S=[],B={},k=Math.min(d.length,f==2?521:b-10-(p?264:0)),O=v?32:11;d.l<k&&d[d.l]!=13;)switch(B={},B.name=_y.utils.decode(_,d.slice(d.l,d.l+O)).replace(/[\u0000\r\n].*$/g,""),d.l+=O,B.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(B.offset=d.read_shift(4)),B.len=d.read_shift(1),f==2&&(B.offset=d.read_shift(2)),B.dec=d.read_shift(1),B.name.length&&S.push(B),f!=2&&(d.l+=v?13:14),B.type){case"B":(!p||B.len!=8)&&l.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+B.type)}if(d[d.l]!==13&&(d.l=b-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=b;var w=0,C=0;for(u[0]=[],C=0;C!=S.length;++C)u[0][C]=S[C].name;for(;g-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++w]=[],C=0,C=0;C!=S.length;++C){var N=d.slice(d.l,d.l+S[C].len);d.l+=S[C].len,oo(N,0);var P=_y.utils.decode(_,N);switch(S[C].type){case"C":P.trim().length&&(u[w][C]=P.replace(/\s+$/,""));break;case"D":P.length===8?u[w][C]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):u[w][C]=P;break;case"F":u[w][C]=parseFloat(P.trim());break;case"+":case"I":u[w][C]=v?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":u[w][C]=!0;break;case"N":case"F":u[w][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[w][C]="##MEMO##"+(v?parseInt(P.trim(),10):N.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(u[w][C]=+P||0);break;case"@":u[w][C]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":u[w][C]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":u[w][C]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[w][C]=-N.read_shift(-8,"f");break;case"B":if(p&&S[C].len==8){u[w][C]=N.read_shift(8,"f");break}case"G":case"P":N.l+=S[C].len;break;case"0":if(S[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[C].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=S,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Px(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,l){try{return rm(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var u=l||{};if(+u.codepage>=0&&ud(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Ql(),f=tS(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],g=0,b=0,y=0,_=1;for(g=0;g<h.length;++g){if(((v[g]||{}).DBF||{}).name){h[g]=v[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(b=0;b<1024;++b)if(h.indexOf(h[g]+"_"+b)==-1){h[g]+="_"+b;break}}}}var S=On(o["!ref"]),B=[],k=[],O=[];for(g=0;g<=S.e.c-S.s.c;++g){var w="",C="",N=0,P=[];for(b=0;b<p.length;++b)p[b][g]!=null&&P.push(p[b][g]);if(P.length==0||h[g]==null){B[g]="?";continue}for(b=0;b<P.length;++b){switch(typeof P[b]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=P[b]instanceof Date?"D":"C";break;default:C="C"}N=Math.max(N,String(P[b]).length),w=w&&w!=C?"C":C}N>250&&(N=250),C=((v[g]||{}).DBF||{}).type,C=="C"&&v[g].DBF.len>N&&(N=v[g].DBF.len),w=="B"&&C=="N"&&(w="N",O[g]=v[g].DBF.dec,N=v[g].DBF.len),k[g]=w=="C"||C=="N"?N:s[w]||0,_+=k[g],B[g]=w}var j=d.next(32);for(j.write_shift(4,318902576),j.write_shift(4,p.length),j.write_shift(2,296+32*y),j.write_shift(2,_),g=0;g<4;++g)j.write_shift(4,0);for(j.write_shift(4,0|(+t[KJ]||3)<<8),g=0,b=0;g<h.length;++g)if(h[g]!=null){var F=d.next(32),M=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,M,"sbcs"),F.write_shift(1,B[g]=="?"?"C":B[g],"sbcs"),F.write_shift(4,b),F.write_shift(1,k[g]||s[B[g]]||0),F.write_shift(1,O[g]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),b+=k[g]||s[B[g]]||0}var Q=d.next(264);for(Q.write_shift(4,13),g=0;g<65;++g)Q.write_shift(4,0);for(g=0;g<p.length;++g){var J=d.next(_);for(J.write_shift(1,0),b=0;b<h.length;++b)if(h[b]!=null)switch(B[b]){case"L":J.write_shift(1,p[g][b]==null?63:p[g][b]?84:70);break;case"B":J.write_shift(8,p[g][b]||0,"f");break;case"N":var q="0";for(typeof p[g][b]=="number"&&(q=p[g][b].toFixed(O[b]||0)),y=0;y<k[b]-q.length;++y)J.write_shift(1,32);J.write_shift(1,q,"sbcs");break;case"D":p[g][b]?(J.write_shift(4,("0000"+p[g][b].getFullYear()).slice(-4),"sbcs"),J.write_shift(2,("00"+(p[g][b].getMonth()+1)).slice(-2),"sbcs"),J.write_shift(2,("00"+p[g][b].getDate()).slice(-2),"sbcs")):J.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(p[g][b]!=null?p[g][b]:"").slice(0,k[b]);for(J.write_shift(1,Z,"sbcs"),y=0;y<k[b]-Z.length;++y)J.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),aee=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+_s(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var v=e[p];return typeof v=="number"?k9(v):v},n=function(h,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?h:k9(g)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(Sc(h),p);case"binary":return s(h,p);case"buffer":return s(on&&Buffer.isBuffer(h)?h.toString("binary"):tm(h),p);case"array":return s(kp(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var v=h.split(/[\n\r]+/),g=-1,b=-1,y=0,_=0,S=[],B=[],k=null,O={},w=[],C=[],N=[],P=0,j;for(+p.codepage>=0&&ud(+p.codepage);y!==v.length;++y){P=0;var F=v[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),M=F.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),Q=M[0],J;if(F.length>0)switch(Q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&B.push(F.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,Z=!1,H=!1,V=!1,G=-1,ne=-1;for(_=1;_<M.length;++_)switch(M[_].charAt(0)){case"A":break;case"X":b=parseInt(M[_].slice(1))-1,Z=!0;break;case"Y":for(g=parseInt(M[_].slice(1))-1,Z||(b=0),j=S.length;j<=g;++j)S[j]=[];break;case"K":J=M[_].slice(1),J.charAt(0)==='"'?J=J.slice(1,J.length-1):J==="TRUE"?J=!0:J==="FALSE"?J=!1:isNaN(Ad(J))?isNaN(nx(J).getDate())||(J=Ra(J)):(J=Ad(J),k!==null&&Ox(k)&&(J=uN(J))),q=!0;break;case"E":V=!0;var R=Lv(M[_].slice(1),{r:g,c:b});S[g][b]=[S[g][b],R];break;case"S":H=!0,S[g][b]=[S[g][b],"S5S"];break;case"G":break;case"R":G=parseInt(M[_].slice(1))-1;break;case"C":ne=parseInt(M[_].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+F)}if(q&&(S[g][b]&&S[g][b].length==2?S[g][b][0]=J:S[g][b]=J,k=null),H){if(V)throw new Error("SYLK shared formula cannot have own formula");var W=G>-1&&S[G][ne];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");S[g][b][1]=wee(W[1],{r:g-G,c:b-ne})}break;case"F":var Y=0;for(_=1;_<M.length;++_)switch(M[_].charAt(0)){case"X":b=parseInt(M[_].slice(1))-1,++Y;break;case"Y":for(g=parseInt(M[_].slice(1))-1,j=S.length;j<=g;++j)S[j]=[];break;case"M":P=parseInt(M[_].slice(1))/20;break;case"F":break;case"G":break;case"P":k=B[parseInt(M[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=M[_].slice(1).split(" "),j=parseInt(N[0],10);j<=parseInt(N[1],10);++j)P=parseInt(N[2],10),C[j-1]=P===0?{hidden:!0}:{wch:P},K0(C[j-1]);break;case"C":b=parseInt(M[_].slice(1))-1,C[b]||(C[b]={});break;case"R":g=parseInt(M[_].slice(1))-1,w[g]||(w[g]={}),P>0?(w[g].hpt=P,w[g].hpx=sx(P)):P===0&&(w[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+F)}Y<1&&(k=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+F)}}return w.length>0&&(O["!rows"]=w),C.length>0&&(O["!cols"]=C),p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),[S,O]}function i(h,p){var v=a(h,p),g=v[0],b=v[1],y=Px(g,p);return _s(b).forEach(function(_){y[_]=b[_]}),y}function o(h,p){return rm(i(h,p),p)}function l(h,p,v,g){var b="C;Y"+(v+1)+";X"+(g+1)+";K";switch(h.t){case"n":b+=h.v||0,h.f&&!h.F&&(b+=";E"+wD(h.f,{r:v,c:g}));break;case"b":b+=h.v?"TRUE":"FALSE";break;case"e":b+=h.w||h.v;break;case"d":b+='"'+(h.w||h.v)+'"';break;case"s":b+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function u(h,p){p.forEach(function(v,g){var b="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?b+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Fy(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=Oy(v.wpx)),typeof v.wch=="number"&&(b+=Math.round(v.wch))),b.charAt(b.length-1)!=" "&&h.push(b)})}function d(h,p){p.forEach(function(v,g){var b="F;";v.hidden?b+="M0;":v.hpt?b+="M"+20*v.hpt+";":v.hpx&&(b+="M"+20*Dy(v.hpx)+";"),b.length>2&&h.push(b+"R"+(g+1))})}function f(h,p){var v=["ID;PWXL;N;E"],g=[],b=On(h["!ref"]),y,_=Array.isArray(h),S=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&u(v,h["!cols"]),h["!rows"]&&d(v,h["!rows"]),v.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var B=b.s.r;B<=b.e.r;++B)for(var k=b.s.c;k<=b.e.c;++k){var O=Dr({r:B,c:k});y=_?(h[B]||[])[k]:h[O],!(!y||y.v==null&&(!y.f||y.F))&&g.push(l(y,h,B,k))}return v.join(S)+S+g.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),see=function(){function e(s,i){switch(i.type){case"base64":return t(Sc(s),i);case"binary":return t(s,i);case"buffer":return t(on&&Buffer.isBuffer(s)?s.toString("binary"):tm(s),i);case"array":return t(kp(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),l=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[d].trim().split(","),p=h[0],v=h[1];++d;for(var g=o[d]||"";(g.match(/["]/g)||[]).length&1&&d<o.length-1;)g+=`
`+o[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN(Ad(v))?isNaN(nx(v).getDate())?f[l][u]=v:f[l][u]=Ra(v):f[l][u]=Ad(v),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return Px(e(s,i),i)}function n(s,i){return rm(r(s,i),i)}var a=function(){var s=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},i=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=On(l["!ref"]),f,h=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){i(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var g=Dr({r:p,c:v});if(f=h?(l[p]||[])[v]:l[g],!f){i(u,1,0,"");continue}switch(f.t){case"n":var b=f.w;!b&&f.v!=null&&(b=f.v),b==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,b,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=_u(f.z||Ir[14],wi(Ra(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var y=`\r
`,_=u.join(y);return _}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),iee=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),v=-1,g=-1,b=0,y=[];b!==p.length;++b){var _=p[b].trim().split(":");if(_[0]==="cell"){var S=ts(_[1]);if(y.length<=S.r)for(v=y.length;v<=S.r;++v)y[v]||(y[v]=[]);switch(v=S.r,g=S.c,_[2]){case"t":y[v][g]=e(_[3]);break;case"v":y[v][g]=+_[3];break;case"vtf":var B=_[_.length-1];case"vtc":switch(_[3]){case"nl":y[v][g]=!!+_[4];break;default:y[v][g]=+_[4];break}_[2]=="vtf"&&(y[v][g]=[y[v][g],B])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Px(r(f,h),h)}function a(f,h){return rm(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,g="",b=Vl(f["!ref"]),y=Array.isArray(f),_=b.s.r;_<=b.e.r;++_)for(var S=b.s.c;S<=b.e.c;++S)if(g=Dr({r:_,c:S}),v=y?(f[_]||[])[S]:f[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(t(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=t(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var B=wi(Ra(v.v));p[2]="vtc",p[3]="nd",p[4]=""+B,p[5]=v.w||_u(v.z||Ir[14],B);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,o,i,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),ax=function(){function e(d,f,h,p,v){v.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Ad(d))?isNaN(nx(d).getDate())?f[h][p]=d:f[h][p]=Ra(d):f[h][p]=Ad(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var v=d.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var b=10,y=0,_=0;_<=g;++_)y=v[_].indexOf(" "),y==-1?y=v[_].length:y++,b=Math.max(b,y);for(_=0;_<=g;++_){p[_]=[];var S=0;for(e(v[_].slice(0,b).trim(),p,_,S,h),S=1;S<=(v[_].length-b)/10+1;++S)e(v[_].slice(b+(S-1)*10,b+S*10).trim(),p,_,S,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,v=0;p<d.length;++p)(v=d.charCodeAt(p))==34?h=!h:!h&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(g,b){return g[0]-b[0]||n[g[1]]-n[b[1]]}),r[v.pop()[1]]||44}function s(d,f){var h=f||{},p="",v=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var b=0,y=0,_=0,S=0,B=0,k=p.charCodeAt(0),O=!1,w=0,C=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var N=h.dateNF!=null?T2e(h.dateNF):null;function P(){var j=d.slice(S,B),F={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)F.t="z";else if(h.raw)F.t="s",F.v=j;else if(j.trim().length===0)F.t="s",F.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(F.t="s",F.v=j.slice(2,-1).replace(/""/g,'"')):sNe(j)?(F.t="n",F.f=j.slice(1)):(F.t="s",F.v=j);else if(j=="TRUE")F.t="b",F.v=!0;else if(j=="FALSE")F.t="b",F.v=!1;else if(!isNaN(_=Ad(j)))F.t="n",h.cellText!==!1&&(F.w=j),F.v=_;else if(!isNaN(nx(j).getDate())||N&&j.match(N)){F.z=h.dateNF||Ir[14];var M=0;N&&j.match(N)&&(j=I2e(j,h.dateNF,j.match(N)||[]),M=1),h.cellDates?(F.t="d",F.v=Ra(j,M)):(F.t="n",F.v=wi(Ra(j,M))),h.cellText!==!1&&(F.w=_u(F.z,F.v instanceof Date?wi(F.v):F.v)),h.cellNF||delete F.z}else F.t="s",F.v=j;if(F.t=="z"||(h.dense?(v[b]||(v[b]=[]),v[b][y]=F):v[Dr({c:y,r:b})]=F),S=B+1,C=d.charCodeAt(S),g.e.c<y&&(g.e.c=y),g.e.r<b&&(g.e.r=b),w==k)++y;else if(y=0,++b,h.sheetRows&&h.sheetRows<=b)return!0}e:for(;B<d.length;++B)switch(w=d.charCodeAt(B)){case 34:C===34&&(O=!O);break;case k:case 10:case 13:if(!O&&P())break e;break}return B-S>0&&P(),v["!ref"]=Wr(g),v}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Px(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:TD(d,f);switch(f.type){case"base64":h=Sc(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof _y<"u"||(h=on&&Buffer.isBuffer(d)?d.toString("binary"):tm(d));break;case"array":h=kp(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=ya(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=ya(h):f.type=="binary"&&typeof _y<"u",h.slice(0,19)=="socialcalc:version:"?iee.to_sheet(f.type=="string"?h:ya(h),f):i(h,f)}function l(d,f){return rm(o(d,f),f)}function u(d){for(var f=[],h=On(d["!ref"]),p,v=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var b=[],y=h.s.c;y<=h.e.c;++y){var _=Dr({r:g,c:y});if(p=v?(d[g]||[])[y]:d[_],!p||p.v==null){b.push("          ");continue}for(var S=(p.w||(zf(p),p.w)||"").slice(0,10);S.length<10;)S+=" ";b.push(S+(y===0?" ":""))}f.push(b.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}();function $_e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=aee.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return ax.to_workbook(e,t)}}var up=function(){function e(R,W,Y){if(R){oo(R,R.l||0);for(var te=Y.Enum||G;R.l<R.length;){var ie=R.read_shift(2),me=te[ie]||te[65535],oe=R.read_shift(2),ce=R.l+oe,ge=me.f&&me.f(R,oe,Y);if(R.l=ce,W(ge,me,ie))return}}}function t(R,W){switch(W.type){case"base64":return r(vc(Sc(R)),W);case"binary":return r(vc(R),W);case"buffer":case"array":return r(R,W)}throw"Unsupported type "+W.type}function r(R,W){if(!R)return R;var Y=W||{},te=Y.dense?[]:{},ie="Sheet1",me="",oe=0,ce={},ge=[],De=[],re={s:{r:0,c:0},e:{r:0,c:0}},Se=Y.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)Y.Enum=G,e(R,function(je,$e,Ze){switch(Ze){case 0:Y.vers=je,je>=4096&&(Y.qpro=!0);break;case 6:re=je;break;case 204:je&&(me=je);break;case 222:me=je;break;case 15:case 51:Y.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:Ze==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=Y.dateNF||Ir[14],Y.cellDates&&(je[1].t="d",je[1].v=uN(je[1].v))),Y.qpro&&je[3]>oe&&(te["!ref"]=Wr(re),ce[ie]=te,ge.push(ie),te=Y.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},oe=je[3],ie=me||"Sheet"+(oe+1),me="");var ye=Y.dense?(te[je[0].r]||[])[je[0].c]:te[Dr(je[0])];if(ye){ye.t=je[1].t,ye.v=je[1].v,je[1].z!=null&&(ye.z=je[1].z),je[1].f!=null&&(ye.f=je[1].f);break}Y.dense?(te[je[0].r]||(te[je[0].r]=[]),te[je[0].r][je[0].c]=je[1]):te[Dr(je[0])]=je[1];break}},Y);else if(R[2]==26||R[2]==14)Y.Enum=ne,R[2]==14&&(Y.qpro=!0,R.l=0),e(R,function(je,$e,Ze){switch(Ze){case 204:ie=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>oe&&(te["!ref"]=Wr(re),ce[ie]=te,ge.push(ie),te=Y.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},oe=je[3],ie="Sheet"+(oe+1)),Se>0&&je[0].r>=Se)break;Y.dense?(te[je[0].r]||(te[je[0].r]=[]),te[je[0].r][je[0].c]=je[1]):te[Dr(je[0])]=je[1],re.e.c<je[0].c&&(re.e.c=je[0].c),re.e.r<je[0].r&&(re.e.r=je[0].r);break;case 27:je[14e3]&&(De[je[14e3][0]]=je[14e3][1]);break;case 1537:De[je[0]]=je[1],je[0]==oe&&(ie=je[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(te["!ref"]=Wr(re),ce[me||ie]=te,ge.push(me||ie),!De.length)return{SheetNames:ge,Sheets:ce};for(var Pe={},_e=[],Ae=0;Ae<De.length;++Ae)ce[ge[Ae]]?(_e.push(De[Ae]||ge[Ae]),Pe[De[Ae]]=ce[De[Ae]]||ce[ge[Ae]]):(_e.push(De[Ae]),Pe[De[Ae]]={"!ref":"A1"});return{SheetNames:_e,Sheets:Pe}}function n(R,W){var Y=W||{};if(+Y.codepage>=0&&ud(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var te=Ql(),ie=On(R["!ref"]),me=Array.isArray(R),oe=[];Vt(te,0,s(1030)),Vt(te,6,l(ie));for(var ce=Math.min(ie.e.r,8191),ge=ie.s.r;ge<=ce;++ge)for(var De=Vs(ge),re=ie.s.c;re<=ie.e.c;++re){ge===ie.s.r&&(oe[re]=es(re));var Se=oe[re]+De,Pe=me?(R[ge]||[])[re]:R[Se];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")(Pe.v|0)==Pe.v&&Pe.v>=-32768&&Pe.v<=32767?Vt(te,13,p(ge,re,Pe.v)):Vt(te,14,g(ge,re,Pe.v));else{var _e=zf(Pe);Vt(te,15,f(ge,re,_e.slice(0,239)))}}return Vt(te,1),te.end()}function a(R,W){var Y=W||{};if(+Y.codepage>=0&&ud(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var te=Ql();Vt(te,0,i(R));for(var ie=0,me=0;ie<R.SheetNames.length;++ie)(R.Sheets[R.SheetNames[ie]]||{})["!ref"]&&Vt(te,27,V(R.SheetNames[ie],me++));var oe=0;for(ie=0;ie<R.SheetNames.length;++ie){var ce=R.Sheets[R.SheetNames[ie]];if(!(!ce||!ce["!ref"])){for(var ge=On(ce["!ref"]),De=Array.isArray(ce),re=[],Se=Math.min(ge.e.r,8191),Pe=ge.s.r;Pe<=Se;++Pe)for(var _e=Vs(Pe),Ae=ge.s.c;Ae<=ge.e.c;++Ae){Pe===ge.s.r&&(re[Ae]=es(Ae));var je=re[Ae]+_e,$e=De?(ce[Pe]||[])[Ae]:ce[je];if(!(!$e||$e.t=="z"))if($e.t=="n")Vt(te,23,P(Pe,Ae,oe,$e.v));else{var Ze=zf($e);Vt(te,22,w(Pe,Ae,oe,Ze.slice(0,239)))}}++oe}}return Vt(te,1),te.end()}function s(R){var W=xt(2);return W.write_shift(2,R),W}function i(R){var W=xt(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var Y=0,te=0,ie=0,me=0;me<R.SheetNames.length;++me){var oe=R.SheetNames[me],ce=R.Sheets[oe];if(!(!ce||!ce["!ref"])){++ie;var ge=Vl(ce["!ref"]);Y<ge.e.r&&(Y=ge.e.r),te<ge.e.c&&(te=ge.e.c)}}return Y>8191&&(Y=8191),W.write_shift(2,Y),W.write_shift(1,ie),W.write_shift(1,te),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(R,W,Y){var te={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&Y.qpro?(te.s.c=R.read_shift(1),R.l++,te.s.r=R.read_shift(2),te.e.c=R.read_shift(1),R.l++,te.e.r=R.read_shift(2),te):(te.s.c=R.read_shift(2),te.s.r=R.read_shift(2),W==12&&Y.qpro&&(R.l+=2),te.e.c=R.read_shift(2),te.e.r=R.read_shift(2),W==12&&Y.qpro&&(R.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function l(R){var W=xt(8);return W.write_shift(2,R.s.c),W.write_shift(2,R.s.r),W.write_shift(2,R.e.c),W.write_shift(2,R.e.r),W}function u(R,W,Y){var te=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(te[0].c=R.read_shift(1),te[3]=R.read_shift(1),te[0].r=R.read_shift(2),R.l+=2):(te[2]=R.read_shift(1),te[0].c=R.read_shift(2),te[0].r=R.read_shift(2)),te}function d(R,W,Y){var te=R.l+W,ie=u(R,W,Y);if(ie[1].t="s",Y.vers==20768){R.l++;var me=R.read_shift(1);return ie[1].v=R.read_shift(me,"utf8"),ie}return Y.qpro&&R.l++,ie[1].v=R.read_shift(te-R.l,"cstr"),ie}function f(R,W,Y){var te=xt(7+Y.length);te.write_shift(1,255),te.write_shift(2,W),te.write_shift(2,R),te.write_shift(1,39);for(var ie=0;ie<te.length;++ie){var me=Y.charCodeAt(ie);te.write_shift(1,me>=128?95:me)}return te.write_shift(1,0),te}function h(R,W,Y){var te=u(R,W,Y);return te[1].v=R.read_shift(2,"i"),te}function p(R,W,Y){var te=xt(7);return te.write_shift(1,255),te.write_shift(2,W),te.write_shift(2,R),te.write_shift(2,Y,"i"),te}function v(R,W,Y){var te=u(R,W,Y);return te[1].v=R.read_shift(8,"f"),te}function g(R,W,Y){var te=xt(13);return te.write_shift(1,255),te.write_shift(2,W),te.write_shift(2,R),te.write_shift(8,Y,"f"),te}function b(R,W,Y){var te=R.l+W,ie=u(R,W,Y);if(ie[1].v=R.read_shift(8,"f"),Y.qpro)R.l=te;else{var me=R.read_shift(2);B(R.slice(R.l,R.l+me),ie),R.l+=me}return ie}function y(R,W,Y){var te=W&32768;return W&=-32769,W=(te?R:0)+(W>=8192?W-16384:W),(te?"":"$")+(Y?es(W):Vs(W))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function B(R,W){oo(R,0);for(var Y=[],te=0,ie="",me="",oe="",ce="";R.l<R.length;){var ge=R[R.l++];switch(ge){case 0:Y.push(R.read_shift(8,"f"));break;case 1:me=y(W[0].c,R.read_shift(2),!0),ie=y(W[0].r,R.read_shift(2),!1),Y.push(me+ie);break;case 2:{var De=y(W[0].c,R.read_shift(2),!0),re=y(W[0].r,R.read_shift(2),!1);me=y(W[0].c,R.read_shift(2),!0),ie=y(W[0].r,R.read_shift(2),!1),Y.push(De+re+":"+me+ie)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(R.read_shift(2));break;case 6:{for(var Se="";ge=R[R.l++];)Se+=String.fromCharCode(ge);Y.push('"'+Se.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:ce=Y.pop(),oe=Y.pop(),Y.push(["AND","OR"][ge-20]+"("+oe+","+ce+")");break;default:if(ge<32&&S[ge])ce=Y.pop(),oe=Y.pop(),Y.push(oe+S[ge]+ce);else if(_[ge]){if(te=_[ge][1],te==69&&(te=R[R.l++]),te>Y.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+Y.join("|")+"|");return}var Pe=Y.slice(-te);Y.length-=te,Y.push(_[ge][0]+"("+Pe.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}Y.length==1?W[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function k(R){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=R.read_shift(2),W[3]=R[R.l++],W[0].c=R[R.l++],W}function O(R,W){var Y=k(R);return Y[1].t="s",Y[1].v=R.read_shift(W-4,"cstr"),Y}function w(R,W,Y,te){var ie=xt(6+te.length);ie.write_shift(2,R),ie.write_shift(1,Y),ie.write_shift(1,W),ie.write_shift(1,39);for(var me=0;me<te.length;++me){var oe=te.charCodeAt(me);ie.write_shift(1,oe>=128?95:oe)}return ie.write_shift(1,0),ie}function C(R,W){var Y=k(R);Y[1].v=R.read_shift(2);var te=Y[1].v>>1;if(Y[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return Y[1].v=te,Y}function N(R,W){var Y=k(R),te=R.read_shift(4),ie=R.read_shift(4),me=R.read_shift(2);if(me==65535)return te===0&&ie===3221225472?(Y[1].t="e",Y[1].v=15):te===0&&ie===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var oe=me&32768;return me=(me&32767)-16446,Y[1].v=(1-oe*2)*(ie*Math.pow(2,me+32)+te*Math.pow(2,me)),Y}function P(R,W,Y,te){var ie=xt(14);if(ie.write_shift(2,R),ie.write_shift(1,Y),ie.write_shift(1,W),te==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var me=0,oe=0,ce=0,ge=0;return te<0&&(me=1,te=-te),oe=Math.log2(te)|0,te/=Math.pow(2,oe-31),ge=te>>>0,(ge&2147483648)==0&&(te/=2,++oe,ge=te>>>0),te-=ge,ge|=2147483648,ge>>>=0,te*=Math.pow(2,32),ce=te>>>0,ie.write_shift(4,ce),ie.write_shift(4,ge),oe+=16383+(me?32768:0),ie.write_shift(2,oe),ie}function j(R,W){var Y=N(R);return R.l+=W-14,Y}function F(R,W){var Y=k(R),te=R.read_shift(4);return Y[1].v=te>>6,Y}function M(R,W){var Y=k(R),te=R.read_shift(8,"f");return Y[1].v=te,Y}function Q(R,W){var Y=M(R);return R.l+=W-10,Y}function J(R,W){return R[R.l+W-1]==0?R.read_shift(W,"cstr"):""}function q(R,W){var Y=R[R.l++];Y>W-1&&(Y=W-1);for(var te="";te.length<Y;)te+=String.fromCharCode(R[R.l++]);return te}function Z(R,W,Y){if(!(!Y.qpro||W<21)){var te=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var ie=R.read_shift(W-21,"cstr");return[te,ie]}}function H(R,W){for(var Y={},te=R.l+W;R.l<te;){var ie=R.read_shift(2);if(ie==14e3){for(Y[ie]=[0,""],Y[ie][0]=R.read_shift(2);R[R.l];)Y[ie][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return Y}function V(R,W){var Y=xt(5+R.length);Y.write_shift(2,14e3),Y.write_shift(2,W);for(var te=0;te<R.length;++te){var ie=R.charCodeAt(te);Y[Y.l++]=ie>127?95:ie}return Y[Y.l++]=0,Y}var G={0:{n:"BOF",f:ai},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:J},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:Q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:J},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function K_e(e){var t={},r=e.match(Wo),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Mr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=GO[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var G_e=function(){var e=ky("t"),t=ky("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:jn(i[1])},l=s.match(t);return l&&(o.s=K_e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),q_e=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),W_e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,X_e=/<(?:\w+:)?r>/,Y_e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function gD(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=jn(ya(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ya(e),r&&(n.h=nD(n.t))):e.match(X_e)&&(n.r=ya(e),n.t=jn(ya((e.replace(Y_e,"").match(W_e)||[]).join("").replace(Wo,""))),r&&(n.h=q_e(G_e(n.r)))),n):{t:""}}var J_e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Z_e=/<(?:\w+:)?(?:si|sstItem)>/g,eSe=/<\/(?:\w+:)?(?:si|sstItem)>/;function tSe(e,t){var r=[],n="";if(!e)return r;var a=e.match(J_e);if(a){n=a[2].replace(Z_e,"").split(eSe);for(var s=0;s!=n.length;++s){var i=gD(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Mr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var rSe=/^\s|\s$|[\t\n\r]/;function oee(e,t){if(!t.bookSST)return"";var r=[Ks];r[r.length]=Ht("sst",null,{xmlns:Kp[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(rSe)&&(s+=' xml:space="preserve"'),s+=">"+Aa(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function nSe(e){return[e.read_shift(4),e.read_shift(4)]}function aSe(e,t){var r=[],n=!1;return ah(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function sSe(e,t){return t||(t=xt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var iSe=pEe;function oSe(e){var t=Ql();Ft(t,159,sSe(e));for(var r=0;r<e.length;++r)Ft(t,19,iSe(e[r]));return Ft(t,160),t.end()}function lee(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Ff(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function lSe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Ff(e,4),t.U=Ff(e,4),t.W=Ff(e,4),t}function cSe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function uSe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(cSe(e));return t}function dSe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function ASe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Ff(e,4),t.U=Ff(e,4),t.W=Ff(e,4),t}function fSe(e){var t=ASe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function cee(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function uee(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function hSe(e){var t=Ff(e);switch(t.Minor){case 2:return[t.Minor,mSe(e)];case 3:return[t.Minor,pSe()];case 4:return[t.Minor,gSe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function mSe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=cee(e,r),a=uee(e,e.length-e.l);return{t:"Std",h:n,v:a}}function pSe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function gSe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Wo,function(s){var i=Mr(s);switch(DA(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function vSe(e,t){var r={},n=r.EncryptionVersionInfo=Ff(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=cee(e,a),t-=a,r.EncryptionVerifier=uee(e,t),r}function xSe(e){var t={},r=t.EncryptionVersionInfo=Ff(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function vD(e){var t=0,r,n=lee(e),a=n.length+1,s,i,o,l,u;for(r=$0(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=(t&16384)===0?0:1,l=t<<1&32767,u=o|l,t=u^i;return t^52811}var dee=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],l=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(o^=r[l]),d*=2,--l;return o};return function(i){for(var o=lee(i),l=s(o),u=o.length,d=$0(16),f=0;f!=16;++f)d[f]=0;var h,p,v;for((u&1)===1&&(h=l>>8,d[u]=a(e[0],h),--u,h=l&255,p=o[o.length-1],d[u]=a(p,h));u>0;)--u,h=l>>8,d[u]=a(o[u],h),--u,h=l&255,d[u]=a(o[u],h);for(u=15,v=15-o.length;v>0;)h=l>>8,d[u]=a(e[v],h),--u,--v,h=l&255,d[u]=a(o[u],h),--u,--v;return d}}(),bSe=function(e,t,r,n,a){a||(a=t),n||(n=dee(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},ySe=function(e){var t=0,r=dee(e);return function(n){var a=bSe("",n,t,r);return t=a[1],a[0]}};function wSe(e,t,r,n){var a={key:ai(e),verificationBytes:ai(e)};return r.password&&(a.verifier=vD(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=ySe(r.password)),a}function ESe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=xSe(e):n.Data=vSe(e,t),n}function CSe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?ESe(e,t-2,n):wSe(e,r.biff>=8?t:t-2,r,n),n}var Aee=function(){function e(a,s){switch(s.type){case"base64":return t(Sc(a),s);case"binary":return t(a,s);case"buffer":return t(on&&Buffer.isBuffer(a)?a.toString("binary"):tm(a),s);case"array":return t(kp(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,g=-1;v=h.exec(d);){switch(v[0]){case"\\cell":var b=d.slice(p,h.lastIndex-v[0].length);if(b[0]==" "&&(b=b.slice(1)),++g,b.length){var y={v:b,t:"s"};Array.isArray(o)?o[f][g]=y:o[Dr({r:f,c:g})]=y}break}p=h.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=Wr(u),o}function r(a,s){return rm(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=On(a["!ref"]),o,l=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Dr({r:u,c:d});o=l?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(zf(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function _Se(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function jy(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function SSe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,l=0,u=a+s;switch(l=i/(u>1?2-u:u),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,l,u/2]}function NSe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,i[0]+=a,i[1]+=l;break;case 1:l=a*(2-o),i[0]+=l,i[1]+=a;break;case 2:l=a*(o-2),i[1]+=a,i[2]+=l;break;case 3:l=a*(4-o),i[1]+=l,i[2]+=a;break;case 4:l=a*(o-4),i[2]+=a,i[0]+=l;break;case 5:l=a*(6-o),i[2]+=l,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function Z_(e,t){if(t===0)return e;var r=SSe(_Se(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),jy(NSe(r))}var fee=6,kSe=15,BSe=1,Mo=fee;function Fy(e){return Math.floor((e+Math.round(128/Mo)/256)*Mo)}function Oy(e){return Math.floor((e-5)/Mo*100+.5)/100}function eS(e){return Math.round((e*Mo+5)/Mo*256)/256}function BB(e){return eS(Oy(Fy(e)))}function xD(e){var t=Math.abs(e-BB(e)),r=Mo;if(t>.005)for(Mo=BSe;Mo<kSe;++Mo)Math.abs(e-BB(e))<=t&&(t=Math.abs(e-BB(e)),r=Mo);Mo=r}function K0(e){e.width?(e.wpx=Fy(e.width),e.wch=Oy(e.wpx),e.MDW=Mo):e.wpx?(e.wch=Oy(e.wpx),e.width=eS(e.wch),e.MDW=Mo):typeof e.wch=="number"&&(e.width=eS(e.wch),e.wpx=Fy(e.width),e.MDW=Mo),e.customWidth&&delete e.customWidth}var TSe=96,hee=TSe;function Dy(e){return e*96/hee}function sx(e){return e*hee/96}var ISe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function jSe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Wo)||[]).forEach(function(i){var o=Mr(i);switch(DA(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Da(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Da(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function FSe(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Wo)||[]).forEach(function(i){var o=Mr(i);switch(DA(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function OSe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Wo)||[]).forEach(function(i){var o=Mr(i);switch(DA(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=ya(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Da(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Da(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Da(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Da(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Da(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Da(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Da(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=GO[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Da(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=lp[a.color.index];a.color.index==81&&(l=lp[1]),l||(l=lp[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Z_(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function DSe(e,t,r){t.NumberFmt=[];for(var n=_s(Ir),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ir[n[a]];var s=e[0].match(Wo);if(s)for(a=0;a<s.length;++a){var i=Mr(s[a]);switch(DA(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=jn(ya(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}jf(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function PSe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ht("numFmt",null,{numFmtId:n,formatCode:Aa(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ht("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var CE=["numFmtId","fillId","fontId","borderId","xfId"],_E=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function RSe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Wo)||[]).forEach(function(s){var i=Mr(s),o=0;switch(DA(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<CE.length;++o)n[CE[o]]&&(n[CE[o]]=parseInt(n[CE[o]],10));for(o=0;o<_E.length;++o)n[_E[o]]&&(n[_E[o]]=Da(n[_E[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=Da(i.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function LSe(e){var t=[];return t[t.length]=Ht("cellXfs",null),e.forEach(function(r){t[t.length]=Ht("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ht("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var MSe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&DSe(f,d,u),(f=o.match(a))&&OSe(f,d,l,u),(f=o.match(n))&&FSe(f,d,l,u),(f=o.match(s))&&jSe(f,d,l,u),(f=o.match(r))&&RSe(f,d,u),d}}();function mee(e,t){var r=[Ks,Ht("styleSheet",null,{xmlns:Kp[0],"xmlns:vt":bi.vt})],n;return e.SSF&&(n=PSe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=LSe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function USe(e,t){var r=e.read_shift(2),n=$o(e);return[r,n]}function QSe(e,t,r){r||(r=xt(6+4*t.length)),r.write_shift(2,e),Vi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function HSe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=EEe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=wEe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=$o(e),n}function VSe(e,t){t||(t=xt(153)),t.write_shift(2,e.sz*20),CEe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),X_(e.color,t);var n=0;return n=2,t.write_shift(1,n),Vi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var zSe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],TB,$Se=Go;function vQ(e,t){t||(t=xt(84)),TB||(TB=lN(zSe));var r=TB[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(X_({auto:1},t),X_({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function KSe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function pee(e,t,r){r||(r=xt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function K1(e,t){return t||(t=xt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var GSe=Go;function qSe(e,t){return t||(t=xt(51)),t.write_shift(1,0),K1(null,t),K1(null,t),K1(null,t),K1(null,t),K1(null,t),t.length>t.l?t.slice(0,t.l):t}function WSe(e,t){return t||(t=xt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),W_(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function XSe(e,t,r){var n=xt(2052);return n.write_shift(4,e),W_(t,n),W_(r,n),n.length>n.l?n.slice(0,n.l):n}function YSe(e,t,r){var n={};n.NumberFmt=[];for(var a in Ir)n.NumberFmt[a]=Ir[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return ah(e,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],jf(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Z_(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function JSe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Ft(e,615,fd(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ft(e,44,QSe(a,t[a]))}),Ft(e,616))}}function ZSe(e){var t=1;Ft(e,611,fd(t)),Ft(e,43,VSe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ft(e,612)}function e5e(e){var t=2;Ft(e,603,fd(t)),Ft(e,45,vQ({patternType:"none"})),Ft(e,45,vQ({patternType:"gray125"})),Ft(e,604)}function t5e(e){var t=1;Ft(e,613,fd(t)),Ft(e,46,qSe()),Ft(e,614)}function r5e(e){var t=1;Ft(e,626,fd(t)),Ft(e,47,pee({numFmtId:0},65535)),Ft(e,627)}function n5e(e,t){Ft(e,617,fd(t.length)),t.forEach(function(r){Ft(e,47,pee(r,0))}),Ft(e,618)}function a5e(e){var t=1;Ft(e,619,fd(t)),Ft(e,48,WSe({xfId:0,name:"Normal"})),Ft(e,620)}function s5e(e){var t=0;Ft(e,505,fd(t)),Ft(e,506)}function i5e(e){var t=0;Ft(e,508,XSe(t,"TableStyleMedium9","PivotStyleMedium4")),Ft(e,509)}function o5e(e,t){var r=Ql();return Ft(r,278),JSe(r,e.SSF),ZSe(r),e5e(r),t5e(r),r5e(r),n5e(r,t.cellXfs),a5e(r),s5e(r),i5e(r),Ft(r,279),r.end()}var l5e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function c5e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Wo)||[]).forEach(function(a){var s=Mr(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[l5e.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function u5e(){}function d5e(){}var A5e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,f5e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,h5e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function m5e(e,t,r){t.themeElements={};var n;[["clrScheme",A5e,c5e],["fontScheme",f5e,u5e],["fmtScheme",h5e,d5e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var p5e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function gee(e,t){(!e||e.length===0)&&(e=bD());var r,n={};if(!(r=e.match(p5e)))throw new Error("themeElements not found in theme");return m5e(r[0],n,t),n.raw=e,n}function bD(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ks];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function g5e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=cZ(s,{type:"array"})}catch{return}var o=xc(i,"theme/theme/theme1.xml",!0);if(o)return gee(o,r)}}function v5e(e){return e.read_shift(4)}function x5e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=b5e(e,4);break;case 2:t.xclrValue=XZ(e);break;case 3:t.xclrValue=v5e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function b5e(e,t){return Go(e,t)}function y5e(e,t){return Go(e,t)}function w5e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=x5e(e);break;case 6:n[1]=y5e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function E5e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(w5e(e,r-e.l));return{ixfe:n,ext:s}}function C5e(e,t){t.forEach(function(r){r[0]})}function _5e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:$o(e)}}function S5e(e){var t=xt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Vi(e.name,t),t.slice(0,t.l)}function N5e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function k5e(e){var t=xt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function B5e(e,t){var r=xt(8+2*t.length);return r.write_shift(4,e),Vi(t,r),r.slice(0,r.l)}function T5e(e){return e.l+=4,e.read_shift(4)!=0}function I5e(e,t){var r=xt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function j5e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return ah(e,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function F5e(){var e=Ql();return Ft(e,332),Ft(e,334,fd(1)),Ft(e,335,S5e({name:"XLDAPR",version:12e4,flags:3496657072})),Ft(e,336),Ft(e,339,B5e(1,"XLDAPR")),Ft(e,52),Ft(e,35,fd(514)),Ft(e,4096,fd(0)),Ft(e,4097,Au(1)),Ft(e,36),Ft(e,53),Ft(e,340),Ft(e,337,I5e(1)),Ft(e,51,k5e([[1,0]])),Ft(e,338),Ft(e,333),e.end()}function O5e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Wo,function(o){var l=Mr(o);switch(DA(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function vee(){var e=[Ks];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function D5e(e){var t=[];if(!e)return t;var r=1;return(e.match(Wo)||[]).forEach(function(n){var a=Mr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function P5e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Dr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function R5e(e,t,r){var n=[];return ah(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function L5e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;ah(e,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function M5e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var hv=1024;function xee(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ht("xml",null,{"xmlns:v":mc.v,"xmlns:o":mc.o,"xmlns:x":mc.x,"xmlns:mv":mc.mv}).replace(/\/>/,">"),Ht("o:shapelayout",Ht("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ht("v:shapetype",[Ht("v:stroke",null,{joinstyle:"miter"}),Ht("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];hv<e*1e3;)hv+=1e3;return t.forEach(function(s){var i=ts(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Ht("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ht("v:fill",l,o),d={on:"t",obscured:"t"};++hv,a=a.concat(["<v:shape"+By({id:"_x0000_s"+hv,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ht("v:shadow",null,d),Ht("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",co("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),co("x:AutoFill","False"),co("x:Row",String(i.r)),co("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function xQ(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=ts(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var l=On(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=Wr(l);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function U5e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Mr(o[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=ts(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&gD(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function bee(e){var t=[Ks,Ht("comments",null,{xmlns:Kp[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Aa(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(Aa(l.a))),s.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(co("t",Aa(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)i+=`Reply:
    `+s[o]+`
`;t.push(co("t",Aa(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Q5e(e,t){var r=[],n=!1,a={},s=0;return e.replace(Wo,function(o,l){var u=Mr(o);switch(DA(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":a.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function H5e(e,t,r){var n=[Ks,Ht("ThreadedComments",null,{xmlns:bi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,i.ID=l.id,i.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(Ht("threadedComment",co("text",i.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function V5e(e,t){var r=[],n=!1;return e.replace(Wo,function(s){var i=Mr(s);switch(DA(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function z5e(e){var t=[Ks,Ht("personList",null,{xmlns:bi.TCMNT,"xmlns:x":Kp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ht("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function $5e(e){var t={};t.iauthor=e.read_shift(4);var r=Xp(e);return t.rfx=r.s,t.ref=Dr(r.s),e.l+=16,t}function K5e(e,t){return t==null&&(t=xt(36)),t.write_shift(4,e[1].iauthor),Rx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var G5e=$o;function q5e(e){return Vi(e.slice(0,54))}function W5e(e,t){var r=[],n=[],a={},s=!1;return ah(e,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function X5e(e){var t=Ql(),r=[];return Ft(t,628),Ft(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ft(t,632,q5e(a.a)))})}),Ft(t,631),Ft(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:ts(n[0]),e:ts(n[0])};Ft(t,635,K5e([s,a])),a.t&&a.t.length>0&&Ft(t,637,vEe(a)),Ft(t,636),delete a.iauthor})}),Ft(t,634),Ft(t,629),t.end()}var Y5e="application/vnd.ms-office.vbaProject";function J5e(e){var t=yr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");yr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),yr.write(t)}function Z5e(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&yr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var yee=["xlsb","xlsm","xlam","biff8","xla"];function eNe(){return{"!type":"dialog"}}function tNe(){return{"!type":"dialog"}}function rNe(){return{"!type":"macro"}}function nNe(){return{"!type":"macro"}}var Lv=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=t.c:--d,l?u+=t.r:--u,a+(o?"":"$")+es(d)+(l?"":"$")+Vs(u)}return function(a,s){return t=s,a.replace(e,r)}}(),yD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,wD=function(){return function(t,r){return t.replace(yD,function(n,a,s,i,o,l){var u=lD(i)-(s?0:r.c),d=oD(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function wee(e,t){return e.replace(yD,function(r,n,a,s,i,o){return n+(a=="$"?a+s:es(lD(s)+t.c))+(i=="$"?i+o:Vs(oD(o)+t.r))})}function aNe(e,t,r){var n=Vl(t),a=n.s,s=ts(r),i={r:s.r-a.r,c:s.c-a.c};return wee(e,i)}function sNe(e){return e.length!=1}function bQ(e){return e.replace(/_xlfn\./g,"")}function ti(e){e.l+=1}function G0(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Eee(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Cee(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=G0(e),o=G0(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function Cee(e){var t=G0(e),r=G0(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function iNe(e,t,r){if(r.biff<8)return Cee(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=G0(e),i=G0(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function _ee(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return oNe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=G0(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function oNe(e){var t=G0(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function lNe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function cNe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return uNe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function uNe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function dNe(e,t,r){var n=(e[e.l++]&96)>>5,a=Eee(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function ANe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=Eee(e,s,r);return[n,a,i]}function fNe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function hNe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function mNe(e,t,r){var n=(e[e.l++]&96)>>5,a=iNe(e,t-1,r);return[n,a]}function pNe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function yQ(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function gNe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function vNe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function xNe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function bNe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function yNe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function See(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function wNe(e){return e.read_shift(2),See(e)}function ENe(e){return e.read_shift(2),See(e)}function CNe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=_ee(e,0,r);return[n,a]}function _Ne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=cNe(e,0,r);return[n,a]}function SNe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=_ee(e,0,r);return[n,a,s]}function NNe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[T4e[a],Bee[a],n]}function kNe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:BNe(e);return[a,(s[0]===0?Bee:B4e)[s[1]]]}function BNe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function TNe(e,t,r){e.l+=r&&r.biff==2?3:4}function INe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function jNe(e){return e.l++,sh[e.read_shift(1)]}function FNe(e){return e.l++,e.read_shift(2)}function ONe(e){return e.l++,e.read_shift(1)!==0}function DNe(e){return e.l++,zo(e)}function PNe(e,t,r){return e.l++,kw(e,t-1,r)}function RNe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ds(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=sh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=zo(e);break;case 2:r[1]=Yp(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function LNe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Xp:dN)(e));return a}function MNe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=RNe(e,r.biff);return i}function UNe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function QNe(e,t,r){if(r.biff==5)return HNe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function HNe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function VNe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function zNe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function $Ne(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function KNe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var GNe=Go,qNe=Go,WNe=Go;function Tw(e,t,r){return e.l+=2,[lNe(e)]}function ED(e){return e.l+=6,[]}var XNe=Tw,YNe=ED,JNe=ED,ZNe=Tw;function Nee(e){return e.l+=2,[ai(e),e.read_shift(2)&1]}var e4e=Tw,t4e=Nee,r4e=ED,n4e=Tw,a4e=Tw,s4e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function i4e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=s4e[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function o4e(e){return e.l+=2,[e.read_shift(4)]}function l4e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function c4e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function u4e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function d4e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function A4e(e){return e.l+=4,[0,0]}var wQ={1:{n:"PtgExp",f:INe},2:{n:"PtgTbl",f:WNe},3:{n:"PtgAdd",f:ti},4:{n:"PtgSub",f:ti},5:{n:"PtgMul",f:ti},6:{n:"PtgDiv",f:ti},7:{n:"PtgPower",f:ti},8:{n:"PtgConcat",f:ti},9:{n:"PtgLt",f:ti},10:{n:"PtgLe",f:ti},11:{n:"PtgEq",f:ti},12:{n:"PtgGe",f:ti},13:{n:"PtgGt",f:ti},14:{n:"PtgNe",f:ti},15:{n:"PtgIsect",f:ti},16:{n:"PtgUnion",f:ti},17:{n:"PtgRange",f:ti},18:{n:"PtgUplus",f:ti},19:{n:"PtgUminus",f:ti},20:{n:"PtgPercent",f:ti},21:{n:"PtgParen",f:ti},22:{n:"PtgMissArg",f:ti},23:{n:"PtgStr",f:PNe},26:{n:"PtgSheet",f:l4e},27:{n:"PtgEndSheet",f:c4e},28:{n:"PtgErr",f:jNe},29:{n:"PtgBool",f:ONe},30:{n:"PtgInt",f:FNe},31:{n:"PtgNum",f:DNe},32:{n:"PtgArray",f:pNe},33:{n:"PtgFunc",f:NNe},34:{n:"PtgFuncVar",f:kNe},35:{n:"PtgName",f:UNe},36:{n:"PtgRef",f:CNe},37:{n:"PtgArea",f:dNe},38:{n:"PtgMemArea",f:VNe},39:{n:"PtgMemErr",f:GNe},40:{n:"PtgMemNoMem",f:qNe},41:{n:"PtgMemFunc",f:zNe},42:{n:"PtgRefErr",f:$Ne},43:{n:"PtgAreaErr",f:fNe},44:{n:"PtgRefN",f:_Ne},45:{n:"PtgAreaN",f:mNe},46:{n:"PtgMemAreaN",f:u4e},47:{n:"PtgMemNoMemN",f:d4e},57:{n:"PtgNameX",f:QNe},58:{n:"PtgRef3d",f:SNe},59:{n:"PtgArea3d",f:ANe},60:{n:"PtgRefErr3d",f:KNe},61:{n:"PtgAreaErr3d",f:hNe},255:{}},f4e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},h4e={1:{n:"PtgElfLel",f:Nee},2:{n:"PtgElfRw",f:n4e},3:{n:"PtgElfCol",f:XNe},6:{n:"PtgElfRwV",f:a4e},7:{n:"PtgElfColV",f:ZNe},10:{n:"PtgElfRadical",f:e4e},11:{n:"PtgElfRadicalS",f:r4e},13:{n:"PtgElfColS",f:YNe},15:{n:"PtgElfColSV",f:JNe},16:{n:"PtgElfRadicalLel",f:t4e},25:{n:"PtgList",f:i4e},29:{n:"PtgSxName",f:o4e},255:{}},m4e={0:{n:"PtgAttrNoop",f:A4e},1:{n:"PtgAttrSemi",f:yNe},2:{n:"PtgAttrIf",f:xNe},4:{n:"PtgAttrChoose",f:gNe},8:{n:"PtgAttrGoto",f:vNe},16:{n:"PtgAttrSum",f:TNe},32:{n:"PtgAttrBaxcel",f:yQ},33:{n:"PtgAttrBaxcel",f:yQ},64:{n:"PtgAttrSpace",f:wNe},65:{n:"PtgAttrSpaceSemi",f:ENe},128:{n:"PtgAttrIfError",f:bNe},255:{}};function Iw(e,t,r,n){if(n.biff<8)return Go(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=MNe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=LNe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Go(e,t)),s}function jw(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=wQ[s]||wQ[f4e[s]],(s===24||s===25)&&(a=(s===24?h4e:m4e)[e[e.l+1]]),!a||!a.f?Go(e,t):i.push([a.n,a.f(e,t,r)]);return i}function p4e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var g4e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function v4e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function kee(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function EQ(e,t,r){var n=kee(e,t,r);return n=="#REF"?n:v4e(n,r)}function Po(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},o=[],l,u,d,f=0,h=0,p,v="";if(!e[0]||!e[0][0])return"";for(var g=-1,b="",y=0,_=e[0].length;y<_;++y){var S=e[0][y];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:b=gs(" ",e[0][g][1][1]);break;case 1:b=gs("\r",e[0][g][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+b,g=-1}o.push(u+g4e[S[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Wb(S[1][1],i,a),o.push(Xb(d,s));break;case"PtgRefN":d=r?Wb(S[1][1],r,a):S[1][1],o.push(Xb(d,s));break;case"PtgRef3d":f=S[1][1],d=Wb(S[1][2],i,a),v=EQ(n,f,a),o.push(v+"!"+Xb(d,s));break;case"PtgFunc":case"PtgFuncVar":var B=S[1][0],k=S[1][1];B||(B=0),B&=127;var O=B==0?[]:o.slice(-B);o.length-=B,k==="User"&&(k=O.shift()),o.push(k+"("+O.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":p=J9(S[1][1],r?{s:r}:i,a),o.push(SB(p,a));break;case"PtgArea":p=J9(S[1][1],i,a),o.push(SB(p,a));break;case"PtgArea3d":f=S[1][1],p=S[1][2],v=EQ(n,f,a),o.push(v+"!"+SB(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=S[1][2];var w=(n.names||[])[h-1]||(n[0]||[])[h],C=w?w.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var N=S[1][1];h=S[1][2];var P;if(a.biff<=5)N<0&&(N=-N),n[N]&&(P=n[N][h]);else{var j="";if(((n[N]||[])[0]||[])[0]==14849||(((n[N]||[])[0]||[])[0]==1025?n[N][h]&&n[N][h].itab>0&&(j=n.SheetNames[n[N][h].itab-1]+"!"):j=n.SheetNames[h-1]+"!"),n[N]&&n[N][h])j+=n[N][h].Name;else if(n[0]&&n[0][h])j+=n[0][h].Name;else{var F=(kee(n,N,a)||"").split(";;");F[h-1]?j=F[h-1]:j+="SH33TJSERRX"}o.push(j);break}P||(P={Name:"SH33TJSERRY"}),o.push(P.Name);break;case"PtgParen":var M="(",Q=")";if(g>=0){switch(b="",e[0][g][1][0]){case 2:M=gs(" ",e[0][g][1][1])+M;break;case 3:M=gs("\r",e[0][g][1][1])+M;break;case 4:Q=gs(" ",e[0][g][1][1])+Q;break;case 5:Q=gs("\r",e[0][g][1][1])+Q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(M+o.pop()+Q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:S[1][1],r:S[1][0]};var J={c:r.c,r:r.r};if(n.sharedf[Dr(d)]){var q=n.sharedf[Dr(d)];o.push(Po(q,i,J,n,a))}else{var Z=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Po(u[1],i,J,n,a)),Z=!0;break}Z||o.push(S[1])}break;case"PtgArray":o.push("{"+p4e(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&H.indexOf(e[0][y][0])==-1){S=e[0][g];var V=!0;switch(S[1][0]){case 4:V=!1;case 0:b=gs(" ",S[1][1]);break;case 5:V=!1;case 1:b=gs("\r",S[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((V?b:"")+o.pop()+(V?"":b)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function x4e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Go(e,t-2)];var o=jw(e,i,r);return t!==i+a&&(s=Iw(e,t-i-a,o,r)),e.l=n,[o,s]}function b4e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Go(e,t-2)];var o=jw(e,i,r);return t!==i+a&&(s=Iw(e,t-i-a,o,r)),e.l=n,[o,s]}function y4e(e,t,r,n){var a=e.l+t,s=jw(e,n,r),i;return a!==e.l&&(i=Iw(e,a-e.l,s,r)),[s,i]}function w4e(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=jw(e,s,r);return s==65535?[[],Go(e,t-2)]:(t!==s+2&&(a=Iw(e,n-s-2,i,r)),[i,a])}function E4e(e){var t;if(Sf(e,e.l+6)!==65535)return[zo(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function C4e(e){if(e==null){var t=xt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Bp(e);return Bp(0)}function IB(e,t,r){var n=e.l+t,a=PA(e);r.biff==2&&++e.l;var s=E4e(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=b4e(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function _4e(e,t,r,n,a){var s=Ip(t,r,a),i=C4e(e.v),o=xt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=xt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Qi([s,i,o,u]);return f}function AN(e,t,r){var n=e.read_shift(4),a=jw(e,n,r),s=e.read_shift(4),i=s>0?Iw(e,s,a,r):null;return[a,i]}var S4e=AN,fN=AN,N4e=AN,k4e=AN,B4e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Bee={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},T4e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function CQ(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function I4e(e){var t="of:="+e.replace(yD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function jB(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function j4e(e){return e.replace(/\./,"!")}var Jb={},Mv={},Zb=typeof Map<"u";function CD(e,t,r){var n=0,a=e.length;if(r){if(Zb?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Zb?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Zb?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function hN(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Mo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Oy(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=eS(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function dp(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function nm(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){jf(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Tee(e,t,r,n,a,s){try{n.cellNF&&(e.z=Ir[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ra(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ir[t]==null&&jf(B2e[t]||"General",t),e.t==="e")e.w=e.w||sh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ny(e.v);else if(e.t==="d"){var i=wi(e.v);(i|0)===i?e.w=i.toString(10):e.w=Ny(i)}else{if(e.v===void 0)return"";e.w=Np(e.v,Mv)}else e.t==="d"?e.w=_u(t,wi(e.v),Mv):e.w=_u(t,e.v,Mv)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Z_(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Z_(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function F4e(e,t,r){if(e&&e["!ref"]){var n=On(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function O4e(e,t){var r=On(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Wr(r))}var D4e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,P4e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,R4e=/<(?:\w:)?hyperlink [^>]*>/mg,L4e=/"(\w*:\w*)"/,M4e=/<(?:\w:)?col\b[^>]*[\/]?>/g,U4e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Q4e=/<(?:\w:)?pageMargins[^>]*\/>/g,Iee=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,H4e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,V4e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function z4e(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(P4e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(Iee);h?_D(h[0],o,a,r):(h=u.match(H4e))&&K4e(h[0],h[1]||"",o,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=u.slice(p,p+50).match(L4e);v&&O4e(o,v[1])}var g=u.match(V4e);g&&g[1]&&ske(g[1],a);var b=[];if(t.cellStyles){var y=u.match(M4e);y&&eke(b,y)}f&&lke(f[1],o,t,l,s,i);var _=d.match(U4e);_&&(o["!autofilter"]=rke(_[0]));var S=[],B=d.match(D4e);if(B)for(p=0;p!=B.length;++p)S[p]=On(B[p].slice(B[p].indexOf('"')+1));var k=d.match(R4e);k&&Y4e(o,k,n);var O=d.match(Q4e);if(O&&(o["!margins"]=J4e(Mr(O[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Wr(l)),t.sheetRows>0&&o["!ref"]){var w=On(o["!ref"]);t.sheetRows<=+w.e.r&&(w.e.r=t.sheetRows-1,w.e.r>l.e.r&&(w.e.r=l.e.r),w.e.r<w.s.r&&(w.s.r=w.e.r),w.e.c>l.e.c&&(w.e.c=l.e.c),w.e.c<w.s.c&&(w.s.c=w.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Wr(w))}return b.length>0&&(o["!cols"]=b),S.length>0&&(o["!merges"]=S),o}function $4e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Wr(e[r])+'"/>';return t+"</mergeCells>"}function _D(e,t,r,n){var a=Mr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=jn(ya(a.codeName)))}function K4e(e,t,r,n,a){_D(e.slice(0,e.indexOf(">")),r,n,a)}function G4e(e,t,r,n,a){var s=!1,i={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,i.codeName=mA(Aa(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+Ht("outlinePr",null,u)}!s&&!o||(a[a.length]=Ht("sheetPr",o,i))}var q4e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],W4e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function X4e(e){var t={sheet:1};return q4e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),W4e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=vD(e.password).toString(16).toUpperCase()),Ht("sheetProtection",null,t)}function Y4e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Mr(ya(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+jn(s.location))):(s.Target="#"+jn(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=On(s.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var d=Dr({c:u,r:l});n?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function J4e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Z4e(e){return dp(e),Ht("pageMargins",null,e)}function eke(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Mr(t[n],!0);a.hidden&&(a.hidden=Da(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,xD(a.width)),K0(a);s<=i;)e[s++]=La(a)}}function tke(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Ht("col",null,hN(a,n)));return r[r.length]="</cols>",r.join("")}function rke(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function nke(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Wr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,i=Vl(a);i.s.r==i.e.r&&(i.e.r=Vl(t["!ref"]).e.r,a=Wr(i));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ht("autoFilter",null,{ref:a})}var ake=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ske(e,t){t.Views||(t.Views=[{}]),(e.match(ake)||[]).forEach(function(r,n){var a=Mr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Da(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function ike(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ht("sheetViews",Ht("sheetView",null,a),{})}function oke(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=sh[e.v];break;case"d":n&&n.cellDates?a=Ra(e.v,-1).toISOString():(e=La(e),e.t="n",a=""+(e.v=wi(Ra(e.v)))),typeof e.z>"u"&&(e.z=Ir[14]);break;default:a=e.v;break}var o=co("v",Aa(a)),l={r:t},u=nm(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=co("v",""+CD(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=s&&(e.t=s,e.v=i),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Ht("f",Aa(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),Ht("c",o,l)}var lke=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=ky("v"),i=ky("f");return function(l,u,d,f,h,p){for(var v=0,g="",b=[],y=[],_=0,S=0,B=0,k="",O,w,C=0,N=0,P,j,F=0,M=0,Q=Array.isArray(p.CellXf),J,q=[],Z=[],H=Array.isArray(u),V=[],G={},ne=!1,R=!!d.sheetStubs,W=l.split(t),Y=0,te=W.length;Y!=te;++Y){g=W[Y].trim();var ie=g.length;if(ie!==0){var me=0;e:for(v=0;v<ie;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(d&&d.cellStyles){if(w=Mr(g.slice(me,v),!0),C=w.r!=null?parseInt(w.r,10):C+1,N=-1,d.sheetRows&&d.sheetRows<C)continue;G={},ne=!1,w.ht&&(ne=!0,G.hpt=parseFloat(w.ht),G.hpx=sx(G.hpt)),w.hidden=="1"&&(ne=!0,G.hidden=!0),w.outlineLevel!=null&&(ne=!0,G.level=+w.outlineLevel),ne&&(V[C-1]=G)}break;case"<":me=v;break}if(me>=v)break;if(w=Mr(g.slice(me,v),!0),C=w.r!=null?parseInt(w.r,10):C+1,N=-1,!(d.sheetRows&&d.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),d&&d.cellStyles&&(G={},ne=!1,w.ht&&(ne=!0,G.hpt=parseFloat(w.ht),G.hpx=sx(G.hpt)),w.hidden=="1"&&(ne=!0,G.hidden=!0),w.outlineLevel!=null&&(ne=!0,G.level=+w.outlineLevel),ne&&(V[C-1]=G)),b=g.slice(v).split(e);for(var oe=0;oe!=b.length&&b[oe].trim().charAt(0)=="<";++oe);for(b=b.slice(oe),v=0;v!=b.length;++v)if(g=b[v].trim(),g.length!==0){if(y=g.match(r),_=v,S=0,B=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(_=0,k=y[1],S=0;S!=k.length&&!((B=k.charCodeAt(S)-64)<1||B>26);++S)_=26*_+B;--_,N=_}else++N;for(S=0;S!=g.length&&g.charCodeAt(S)!==62;++S);if(++S,w=Mr(g.slice(0,S),!0),w.r||(w.r=Dr({r:C-1,c:N})),k=g.slice(S),O={t:""},(y=k.match(s))!=null&&y[1]!==""&&(O.v=jn(y[1])),d.cellFormula){if((y=k.match(i))!=null&&y[1]!==""){if(O.f=jn(ya(y[1])).replace(/\r\n/g,`
`),d.xlfn||(O.f=bQ(O.f)),y[0].indexOf('t="array"')>-1)O.F=(k.match(a)||[])[1],O.F.indexOf(":")>-1&&q.push([On(O.F),O.F]);else if(y[0].indexOf('t="shared"')>-1){j=Mr(y[0]);var ce=jn(ya(y[1]));d.xlfn||(ce=bQ(ce)),Z[parseInt(j.si,10)]=[j,ce,w.r]}}else(y=k.match(/<f[^>]*\/>/))&&(j=Mr(y[0]),Z[j.si]&&(O.f=aNe(Z[j.si][1],Z[j.si][2],w.r)));var ge=ts(w.r);for(S=0;S<q.length;++S)ge.r>=q[S][0].s.r&&ge.r<=q[S][0].e.r&&ge.c>=q[S][0].s.c&&ge.c<=q[S][0].e.c&&(O.F=q[S][1])}if(w.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(R)O.t="z";else continue;else O.t=w.t||"n";switch(f.s.c>N&&(f.s.c=N),f.e.c<N&&(f.e.c=N),O.t){case"n":if(O.v==""||O.v==null){if(!R)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!R)continue;O.t="z"}else P=Jb[parseInt(O.v,10)],O.v=P.t,O.r=P.r,d.cellHTML&&(O.h=P.h);break;case"str":O.t="s",O.v=O.v!=null?ya(O.v):"",d.cellHTML&&(O.h=nD(O.v));break;case"inlineStr":y=k.match(n),O.t="s",y!=null&&(P=gD(y[1]))?(O.v=P.t,d.cellHTML&&(O.h=P.h)):O.v="";break;case"b":O.v=Da(O.v);break;case"d":d.cellDates?O.v=Ra(O.v,1):(O.v=wi(Ra(O.v,1)),O.t="n");break;case"e":(!d||d.cellText!==!1)&&(O.w=O.v),O.v=FZ[O.v];break}if(F=M=0,J=null,Q&&w.s!==void 0&&(J=p.CellXf[w.s],J!=null&&(J.numFmtId!=null&&(F=J.numFmtId),d.cellStyles&&J.fillId!=null&&(M=J.fillId))),Tee(O,F,M,d,h,p),d.cellDates&&Q&&O.t=="n"&&Ox(Ir[F])&&(O.t="d",O.v=uN(O.v)),w.cm&&d.xlmeta){var De=(d.xlmeta.Cell||[])[+w.cm-1];De&&De.type=="XLDAPR"&&(O.D=!0)}if(H){var re=ts(w.r);u[re.r]||(u[re.r]=[]),u[re.r][re.c]=O}else u[w.r]=O}}}}V.length>0&&(u["!rows"]=V)}}();function cke(e,t,r,n){var a=[],s=[],i=On(e["!ref"]),o="",l,u="",d=[],f=0,h=0,p=e["!rows"],v=Array.isArray(e),g={r:u},b,y=-1;for(h=i.s.c;h<=i.e.c;++h)d[h]=es(h);for(f=i.s.r;f<=i.e.r;++f){for(s=[],u=Vs(f),h=i.s.c;h<=i.e.c;++h){l=d[h]+u;var _=v?(e[f]||[])[h]:e[l];_!==void 0&&(o=oke(_,l,e,t))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(g={r:u},p&&p[f]&&(b=p[f],b.hidden&&(g.hidden=1),y=-1,b.hpx?y=Dy(b.hpx):b.hpt&&(y=b.hpt),y>-1&&(g.ht=y,g.customHeight=1),b.level&&(g.outlineLevel=b.level)),a[a.length]=Ht("row",s.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},b=p[f],b.hidden&&(g.hidden=1),y=-1,b.hpx?y=Dy(b.hpx):b.hpt&&(y=b.hpt),y>-1&&(g.ht=y,g.customHeight=1),b.level&&(g.outlineLevel=b.level),a[a.length]=Ht("row","",g));return a.join("")}function jee(e,t,r,n){var a=[Ks,Ht("worksheet",null,{xmlns:Kp[0],"xmlns:r":bi.r})],s=r.SheetNames[e],i=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",d=On(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Wr(d)}n||(n={}),l["!comments"]=[];var f=[];G4e(l,r,e,t,a),a[a.length]=Ht("dimension",null,{ref:u}),a[a.length]=ike(l,t,e,r),t.sheetFormat&&(a[a.length]=Ht("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=tke(l,l["!cols"])),a[i=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=cke(l,t),o.length>0&&(a[a.length]=o)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),l["!protect"]&&(a[a.length]=X4e(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=nke(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=$4e(l["!merges"]));var h=-1,p,v=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=ca(n,-1,Aa(g[1].Target).replace(/#.*$/,""),An.HLINK),p["r:id"]="rId"+v),(h=g[1].Target.indexOf("#"))>-1&&(p.location=Aa(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=Aa(g[1].Tooltip)),a[a.length]=Ht("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=Z4e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=co("ignoredErrors",Ht("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(v=ca(n,-1,"../drawings/drawing"+(e+1)+".xml",An.DRAW),a[a.length]=Ht("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=ca(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",An.VML),a[a.length]=Ht("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function uke(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function dke(e,t,r){var n=xt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=Dy(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var v=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Dr(u)];v&&(f<0&&(f=p),h=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function Ake(e,t,r,n){var a=dke(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Ft(e,0,a)}var fke=Xp,hke=Rx;function mke(){}function pke(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=xEe(e),r}function gke(e,t,r){r==null&&(r=xt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return X_({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),kZ(e,r),r.slice(0,r.l)}function vke(e){var t=ku(e);return[t]}function xke(e,t,r){return r==null&&(r=xt(8)),Gp(t,r)}function bke(e){var t=qp(e);return[t]}function yke(e,t,r){return r==null&&(r=xt(4)),Wp(t,r)}function wke(e){var t=ku(e),r=e.read_shift(1);return[t,r,"b"]}function Eke(e,t,r){return r==null&&(r=xt(9)),Gp(t,r),r.write_shift(1,e.v?1:0),r}function Cke(e){var t=qp(e),r=e.read_shift(1);return[t,r,"b"]}function _ke(e,t,r){return r==null&&(r=xt(5)),Wp(t,r),r.write_shift(1,e.v?1:0),r}function Ske(e){var t=ku(e),r=e.read_shift(1);return[t,r,"e"]}function Nke(e,t,r){return r==null&&(r=xt(9)),Gp(t,r),r.write_shift(1,e.v),r}function kke(e){var t=qp(e),r=e.read_shift(1);return[t,r,"e"]}function Bke(e,t,r){return r==null&&(r=xt(8)),Wp(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Tke(e){var t=ku(e),r=e.read_shift(4);return[t,r,"s"]}function Ike(e,t,r){return r==null&&(r=xt(12)),Gp(t,r),r.write_shift(4,t.v),r}function jke(e){var t=qp(e),r=e.read_shift(4);return[t,r,"s"]}function Fke(e,t,r){return r==null&&(r=xt(8)),Wp(t,r),r.write_shift(4,t.v),r}function Oke(e){var t=ku(e),r=zo(e);return[t,r,"n"]}function Dke(e,t,r){return r==null&&(r=xt(16)),Gp(t,r),Bp(e.v,r),r}function Fee(e){var t=qp(e),r=zo(e);return[t,r,"n"]}function Pke(e,t,r){return r==null&&(r=xt(12)),Wp(t,r),Bp(e.v,r),r}function Rke(e){var t=ku(e),r=AD(e);return[t,r,"n"]}function Lke(e,t,r){return r==null&&(r=xt(12)),Gp(t,r),BZ(e.v,r),r}function Mke(e){var t=qp(e),r=AD(e);return[t,r,"n"]}function Uke(e,t,r){return r==null&&(r=xt(8)),Wp(t,r),BZ(e.v,r),r}function Qke(e){var t=ku(e),r=cD(e);return[t,r,"is"]}function Hke(e){var t=ku(e),r=$o(e);return[t,r,"str"]}function Vke(e,t,r){return r==null&&(r=xt(12+4*e.v.length)),Gp(t,r),Vi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function zke(e){var t=qp(e),r=$o(e);return[t,r,"str"]}function $ke(e,t,r){return r==null&&(r=xt(8+4*e.v.length)),Wp(t,r),Vi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Kke(e,t,r){var n=e.l+t,a=ku(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=fN(e,n-e.l,r);i[3]=Po(o,null,a,r.supbooks,r)}else e.l=n;return i}function Gke(e,t,r){var n=e.l+t,a=ku(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=fN(e,n-e.l,r);i[3]=Po(o,null,a,r.supbooks,r)}else e.l=n;return i}function qke(e,t,r){var n=e.l+t,a=ku(e);a.r=r["!row"];var s=zo(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=fN(e,n-e.l,r);i[3]=Po(o,null,a,r.supbooks,r)}else e.l=n;return i}function Wke(e,t,r){var n=e.l+t,a=ku(e);a.r=r["!row"];var s=$o(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=fN(e,n-e.l,r);i[3]=Po(o,null,a,r.supbooks,r)}else e.l=n;return i}var Xke=Xp,Yke=Rx;function Jke(e,t){return t==null&&(t=xt(4)),t.write_shift(4,e),t}function Zke(e,t){var r=e.l+t,n=Xp(e),a=uD(e),s=$o(e),i=$o(e),o=$o(e);e.l=r;var l={rfx:n,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}function eBe(e,t){var r=xt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Rx({s:ts(e[0]),e:ts(e[0])},r),dD("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Vi(a||"",r),Vi(e[1].Tooltip||"",r),Vi("",r),r.slice(0,r.l)}function tBe(){}function rBe(e,t,r){var n=e.l+t,a=TZ(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=S4e(e,n-e.l,r);i[1]=o}else e.l=n;return i}function nBe(e,t,r){var n=e.l+t,a=Xp(e),s=[a];if(r.cellFormula){var i=k4e(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}function aBe(e,t,r){r==null&&(r=xt(18));var n=hN(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Oee=["left","right","top","bottom","header","footer"];function sBe(e){var t={};return Oee.forEach(function(r){t[r]=zo(e)}),t}function iBe(e,t){return t==null&&(t=xt(48)),dp(e),Oee.forEach(function(r){Bp(e[r],t)}),t}function oBe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function lBe(e,t,r){r==null&&(r=xt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function cBe(e){var t=xt(24);return t.write_shift(4,4),t.write_shift(4,1),Rx(e,t),t}function uBe(e,t){return t==null&&(t=xt(66)),t.write_shift(2,e.password?vD(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function dBe(){}function ABe(){}function fBe(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,g,b,y,_,S,B,k,O=[];o.biff=12,o["!row"]=0;var w=0,C=!1,N=[],P={},j=o.supbooks||a.supbooks||[[]];if(j.sharedf=P,j.arrayf=N,j.SheetNames=a.SheetNames||a.Sheets.map(function(H){return H.name}),!o.supbooks&&(o.supbooks=j,a.Names))for(var F=0;F<a.Names.length;++F)j[0][F+1]=a.Names[F];var M=[],Q=[],J=!1;Py[16]={n:"BrtShortReal",f:Fee};var q;if(ah(e,function(V,G,ne){if(!h)switch(ne){case 148:u=V;break;case 0:p=V,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),B=Vs(b=p.r),o["!row"]=p.r,(V.hidden||V.hpt||V.level!=null)&&(V.hpt&&(V.hpx=sx(V.hpt)),Q[V.r]=V);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:V[2]},V[2]){case"n":v.v=V[1];break;case"s":S=Jb[V[1]],v.v=S.t,v.r=S.r;break;case"b":v.v=!!V[1];break;case"e":v.v=V[1],o.cellText!==!1&&(v.w=sh[v.v]);break;case"str":v.t="s",v.v=V[1];break;case"is":v.t="s",v.v=V[1].t;break}if((g=i.CellXf[V[0].iStyleRef])&&Tee(v,g.numFmtId,null,o,s,i),y=V[0].c==-1?y+1:V[0].c,o.dense?(l[b]||(l[b]=[]),l[b][y]=v):l[es(y)+B]=v,o.cellFormula){for(C=!1,w=0;w<N.length;++w){var R=N[w];p.r>=R[0].s.r&&p.r<=R[0].e.r&&y>=R[0].s.c&&y<=R[0].e.c&&(v.F=Wr(R[0]),C=!0)}!C&&V.length>3&&(v.f=V[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),o.cellDates&&g&&v.t=="n"&&Ox(Ir[g.numFmtId])){var W=qm(v.v);W&&(v.t="d",v.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}q&&(q.type=="XLDAPR"&&(v.D=!0),q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},y=V[0].c==-1?y+1:V[0].c,o.dense?(l[b]||(l[b]=[]),l[b][y]=v):l[es(y)+B]=v,d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),q&&(q.type=="XLDAPR"&&(v.D=!0),q=void 0);break;case 176:O.push(V);break;case 49:q=((o.xlmeta||{}).Cell||[])[V-1];break;case 494:var Y=n["!id"][V.relId];for(Y?(V.Target=Y.Target,V.loc&&(V.Target+="#"+V.loc),V.Rel=Y):V.relId==""&&(V.Target="#"+V.loc),b=V.rfx.s.r;b<=V.rfx.e.r;++b)for(y=V.rfx.s.c;y<=V.rfx.e.c;++y)o.dense?(l[b]||(l[b]=[]),l[b][y]||(l[b][y]={t:"z",v:void 0}),l[b][y].l=V):(_=Dr({c:y,r:b}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=V);break;case 426:if(!o.cellFormula)break;N.push(V),k=o.dense?l[b][y]:l[es(y)+B],k.f=Po(V[1],d,{r:p.r,c:y},j,o),k.F=Wr(V[0]);break;case 427:if(!o.cellFormula)break;P[Dr(V[0].s)]=V[1],k=o.dense?l[b][y]:l[es(y)+B],k.f=Po(V[1],d,{r:p.r,c:y},j,o);break;case 60:if(!o.cellStyles)break;for(;V.e>=V.s;)M[V.e--]={width:V.w/256,hidden:!!(V.flags&1),level:V.level},J||(J=!0,xD(V.w/256)),K0(M[V.e+1]);break;case 161:l["!autofilter"]={ref:Wr(V)};break;case 476:l["!margins"]=V;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),V.name&&(a.Sheets[r].CodeName=V.name),(V.above||V.left)&&(l["!outline"]={above:V.above,left:V.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),V.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!G.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=Wr(u||d)),o.sheetRows&&l["!ref"]){var Z=On(l["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>d.e.r&&(Z.e.r=d.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>d.e.c&&(Z.e.c=d.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Wr(Z))}return O.length>0&&(l["!merges"]=O),M.length>0&&(l["!cols"]=M),Q.length>0&&(l["!rows"]=Q),l}function hBe(e,t,r,n,a,s,i){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=La(t),t.z=t.z||Ir[14],t.v=wi(Ra(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=nm(a.cellXfs,t,a),t.l&&s["!links"].push([Dr(l),t.l]),t.c&&s["!comments"].push([Dr(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=CD(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,i?Ft(e,18,Fke(t,l)):Ft(e,7,Ike(t,l))):(l.t="str",i?Ft(e,17,$ke(t,l)):Ft(e,6,Vke(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?Ft(e,13,Uke(t,l)):Ft(e,2,Lke(t,l)):i?Ft(e,16,Pke(t,l)):Ft(e,5,Dke(t,l)),!0;case"b":return l.t="b",i?Ft(e,15,_ke(t,l)):Ft(e,4,Eke(t,l)),!0;case"e":return l.t="e",i?Ft(e,14,Bke(t,l)):Ft(e,3,Nke(t,l)),!0}return i?Ft(e,12,yke(t,l)):Ft(e,1,xke(t,l)),!0}function mBe(e,t,r,n){var a=On(t["!ref"]||"A1"),s,i="",o=[];Ft(e,145);var l=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){i=Vs(d),Ake(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=es(h)),s=o[h]+i;var p=l?(t[d]||[])[h]:t[s];if(!p){f=!1;continue}f=hBe(e,p,d,h,n,t,f)}}Ft(e,146)}function pBe(e,t){!t||!t["!merges"]||(Ft(e,177,Jke(t["!merges"].length)),t["!merges"].forEach(function(r){Ft(e,176,Yke(r))}),Ft(e,178))}function gBe(e,t){!t||!t["!cols"]||(Ft(e,390),t["!cols"].forEach(function(r,n){r&&Ft(e,60,aBe(n,r))}),Ft(e,391))}function vBe(e,t){!t||!t["!ref"]||(Ft(e,648),Ft(e,649,cBe(On(t["!ref"]))),Ft(e,650))}function xBe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=ca(r,-1,n[1].Target.replace(/#.*$/,""),An.HLINK);Ft(e,494,eBe(n,a))}}),delete t["!links"]}function bBe(e,t,r,n){if(t["!comments"].length>0){var a=ca(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",An.VML);Ft(e,551,dD("rId"+a)),t["!legacy"]=a}}function yBe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:Wr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Vl(s);o.s.r==o.e.r&&(o.e.r=Vl(t["!ref"]).e.r,s=Wr(o));for(var l=0;l<i.length;++l){var u=i[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ft(e,161,Rx(On(s))),Ft(e,162)}}function wBe(e,t,r){Ft(e,133),Ft(e,137,lBe(t,r)),Ft(e,138),Ft(e,134)}function EBe(e,t){t["!protect"]&&Ft(e,535,uBe(t["!protect"]))}function CBe(e,t,r,n){var a=Ql(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=On(i["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Ft(a,129),(r.vbaraw||i["!outline"])&&Ft(a,147,gke(o,i["!outline"])),Ft(a,148,hke(l)),wBe(a,i,r.Workbook),gBe(a,i),mBe(a,i,e,t),EBe(a,i),yBe(a,i,r,e),pBe(a,i),xBe(a,i,n),i["!margins"]&&Ft(a,476,iBe(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&vBe(a,i),bBe(a,i,e,n),Ft(a,130),a.end()}function _Be(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=jn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function SBe(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=_Be(f);d.s.r=d.s.c=0,d.e.c=o,u=es(o),h[0].forEach(function(p,v){i[u+Vs(v)]={t:"n",v:p,z:h[1]},l=v}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(i["!ref"]=Wr(d)),i}function NBe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(Iee);return o&&_D(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function kBe(e,t){e.l+=10;var r=$o(e);return{name:r}}function BBe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return ah(e,function(l,u,d){switch(d){case 550:s["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var SD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],TBe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],IBe=[],jBe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function _Q(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Da(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function SQ(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Da(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Dee(e){SQ(e.WBProps,SD),SQ(e.CalcPr,jBe),_Q(e.WBView,TBe),_Q(e.Sheets,IBe),Mv.date1904=Da(e.WBProps.date1904)}function FBe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Da(e.Workbook.WBProps.date1904)?"true":"false"}var OBe="][*?/\\".split("");function Pee(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return OBe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function DBe(e,t,r){e.forEach(function(n,a){Pee(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[a]&&t[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function PBe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];DBe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)F4e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var RBe=/<\w+:workbook/;function LBe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Wo,function(l,u){var d=Mr(l);switch(DA(d[0])){case"<?xml":break;case"<workbook":l.match(RBe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":SD.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Da(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=ya(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=jn(ya(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=ya(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Da(d.hidden||"0")&&(s.Hidden=!0),i=u+l.length;break;case"</definedName>":s.Ref=jn(ya(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Kp.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Dee(r),r}function Ree(e){var t=[Ks];t[t.length]=Ht("workbook",null,{xmlns:Kp[0],"xmlns:r":bi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(SD.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ht("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:Aa(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=Ht("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=Ht("definedName",Aa(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function MBe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=wj(e),r.name=$o(e),r}function UBe(e,t){return t||(t=xt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),dD(e.strRelID,t),Vi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function QBe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?$o(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function HBe(e,t){t||(t=xt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),kZ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function VBe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function zBe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=bEe(e),i=N4e(e,0,r),o=uD(e);e.l=n;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function $Be(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],Py[16]={n:"BrtFRTArchID$",f:VBe},ah(e,function(l,u,d){switch(d){case 156:i.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Po(l.Ptg,null,null,i,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,l]):i[0]=[d,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Dee(r),r.Names=s,r.supbooks=i,r}function KBe(e,t){Ft(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ft(e,156,UBe(a))}Ft(e,144)}function GBe(e,t){t||(t=xt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Vi("SheetJS",t),Vi(V_.version,t),Vi(V_.version,t),Vi("7262",t),t.length>t.l?t.slice(0,t.l):t}function qBe(e,t){t||(t=xt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function WBe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Ft(e,135),Ft(e,158,qBe(a)),Ft(e,136))}}function XBe(e,t){var r=Ql();return Ft(r,131),Ft(r,128,GBe()),Ft(r,153,HBe(e.Workbook&&e.Workbook.WBProps||null)),WBe(r,e),KBe(r,e),Ft(r,132),r.end()}function YBe(e,t,r){return t.slice(-4)===".bin"?$Be(e,r):LBe(e,r)}function JBe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?fBe(e,n,r,a,s,i,o):z4e(e,n,r,a,s,i,o)}function ZBe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?BBe(e,n,r,a,s):NBe(e,n,r,a,s)}function eTe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?rNe():nNe()}function tTe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?eNe():tNe()}function rTe(e,t,r,n){return t.slice(-4)===".bin"?YSe(e,r,n):MSe(e,r,n)}function nTe(e,t,r){return gee(e,r)}function aTe(e,t,r){return t.slice(-4)===".bin"?aSe(e,r):tSe(e,r)}function sTe(e,t,r){return t.slice(-4)===".bin"?W5e(e,r):U5e(e,r)}function iTe(e,t,r){return t.slice(-4)===".bin"?R5e(e):D5e(e)}function oTe(e,t,r,n){return r.slice(-4)===".bin"?L5e(e,t,r,n):void 0}function lTe(e,t,r){return t.slice(-4)===".bin"?j5e(e,t,r):O5e(e,t,r)}function cTe(e,t,r){return(t.slice(-4)===".bin"?XBe:Ree)(e)}function uTe(e,t,r,n,a){return(t.slice(-4)===".bin"?CBe:jee)(e,r,n,a)}function dTe(e,t,r){return(t.slice(-4)===".bin"?o5e:mee)(e,r)}function ATe(e,t,r){return(t.slice(-4)===".bin"?oSe:oee)(e,r)}function fTe(e,t,r){return(t.slice(-4)===".bin"?X5e:bee)(e)}function hTe(e){return(e.slice(-4)===".bin"?F5e:vee)()}var Lee=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Mee=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function rd(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Lee),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(Mee),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function mTe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Lee),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(Mee),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var ey;function pTe(e,t){var r=ey[e]||jn(e);return r==="General"?Np(t):_u(r,t)}function gTe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Da(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ra(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[jn(t)]=a}function vTe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||sh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ny(e.v):e.w=Np(e.v):e.w=pTe(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=ey[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Ox(n)){var a=qm(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function xTe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=ISe[n.Pattern]||n.Pattern)}e[t.ID]=t}function bTe(e,t,r,n,a,s,i,o,l,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Da(e);break;case"String":n.t="s",n.r=V9(jn(e)),n.v=e.indexOf("<")>-1?jn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ra(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=jn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=FZ[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=V9(t||e));break}if(vTe(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=jn(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Lv(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Lv("RC:RC",a):n.ArrayRange&&(n.F=Lv(n.ArrayRange,a),l.push([On(n.F),n.F]))}else for(v=0;v<l.length;++v)a.r>=l[v][0].s.r&&a.r<=l[v][0].e.r&&a.c>=l[v][0].s.c&&a.c<=l[v][0].e.c&&(n.F=l[v][1]);u.cellStyles&&(p.forEach(function(b){!h.patternType&&b.patternType&&(h.patternType=b.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function yTe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function FB(e,t){var r=t||{};Dx();var n=Eb(aD(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ya(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=La(r);return i.type="string",ax.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function($e){a.indexOf("<"+$e)>=0&&(s=!0)}),s)return i3e(n,r);ey={"General Number":"General","General Date":Ir[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ir[15],"Short Date":Ir[14],"Long Time":Ir[19],"Medium Time":Ir[18],"Short Time":Ir[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ir[2],Standard:Ir[4],Percent:Ir[10],Scientific:Ir[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,d={},f=[],h=r.dense?[]:{},p="",v={},g={},b=rd('<Data ss:Type="String">'),y=0,_=0,S=0,B={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},O={},w="",C=0,N=[],P={},j={},F=0,M=[],Q=[],J={},q=[],Z,H=!1,V=[],G=[],ne={},R=0,W=0,Y={Sheets:[],WBProps:{date1904:!1}},te={};Ty.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";o=Ty.exec(n);)switch(o[3]=(ie=o[3]).toLowerCase()){case"data":if(ie=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?bTe(n.slice(y,o.index),w,b,l[l.length-1][0]=="comment"?J:v,{c:_,r:S},k,q[_],g,V,r):(w="",b=rd(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(Q.length>0&&(v.c=Q),(!r.sheetRows||r.sheetRows>S)&&v.v!==void 0&&(r.dense?(h[S]||(h[S]=[]),h[S][_]=v):h[es(_)+Vs(S)]=v),v.HRef&&(v.l={Target:jn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(R=_+(parseInt(v.MergeAcross,10)|0),W=S+(parseInt(v.MergeDown,10)|0),N.push({s:{c:_,r:S},e:{c:R,r:W}})),!r.sheetStubs)v.MergeAcross?_=R+1:++_;else if(v.MergeAcross||v.MergeDown){for(var me=_;me<=R;++me)for(var oe=S;oe<=W;++oe)(me>_||oe>S)&&(r.dense?(h[oe]||(h[oe]=[]),h[oe][me]={t:"z"}):h[es(me)+Vs(oe)]={t:"z"});_=R+1}else++_;else v=mTe(o[0]),v.Index&&(_=+v.Index-1),_<B.s.c&&(B.s.c=_),_>B.e.c&&(B.e.c=_),o[0].slice(-2)==="/>"&&++_,Q=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(S<B.s.r&&(B.s.r=S),S>B.e.r&&(B.e.r=S),o[0].slice(-2)==="/>"&&(g=rd(o[0]),g.Index&&(S=+g.Index-1)),_=0,++S):(g=rd(o[0]),g.Index&&(S=+g.Index-1),ne={},(g.AutoFitHeight=="0"||g.Height)&&(ne.hpx=parseInt(g.Height,10),ne.hpt=Dy(ne.hpx),G[S]=ne),g.Hidden=="1"&&(ne.hidden=!0,G[S]=ne));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(p),B.s.r<=B.e.r&&B.s.c<=B.e.c&&(h["!ref"]=Wr(B),r.sheetRows&&r.sheetRows<=B.e.r&&(h["!fullref"]=h["!ref"],B.e.r=r.sheetRows-1,h["!ref"]=Wr(B))),N.length&&(h["!merges"]=N),q.length>0&&(h["!cols"]=q),G.length>0&&(h["!rows"]=G),d[p]=h}else B={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=_=0,l.push([o[3],!1]),u=rd(o[0]),p=jn(u.Name),h=r.dense?[]:{},N=[],V=[],G=[],te={name:p,Hidden:0},Y.Sheets.push(te);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),q=[],H=!1}break;case"style":o[1]==="/"?xTe(k,O,r):O=rd(o[0]);break;case"numberformat":O.nf=jn(rd(o[0]).Format||"General"),ey[O.nf]&&(O.nf=ey[O.nf]);for(var ce=0;ce!=392&&Ir[ce]!=O.nf;++ce);if(ce==392){for(ce=57;ce!=392;++ce)if(Ir[ce]==null){jf(O.nf,ce);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Z=rd(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!H&&Z.wpx>10){H=!0,Mo=fee;for(var ge=0;ge<q.length;++ge)q[ge]&&K0(q[ge])}H&&K0(Z),q[Z.Index-1||q.length]=Z;for(var De=0;De<+Z.Span;++De)q[q.length]=La(Z);break;case"namedrange":if(o[1]==="/")break;Y.Names||(Y.Names=[]);var re=Mr(o[0]),Se={Name:re.Name,Ref:Lv(re.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(Se.Sheet=Y.Sheets.length-1),Y.Names.push(Se);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?w+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=rd(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?$Ee(P,ie,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));yTe(J),Q.push(J)}else l.push([o[3],!1]),u=rd(o[0]),J={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Pe=rd(o[0]);h["!autofilter"]={ref:Lv(Pe.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return IQ(n,r);var _e=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_e=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_e=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_e=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:_e=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":te.Hidden=1;break;case"SheetVeryHidden":te.Hidden=2;break}else F=o.index+o[0].length;break;case"header":h["!margins"]||dp(h["!margins"]={},"xlml"),isNaN(+Mr(o[0]).Margin)||(h["!margins"].header=+Mr(o[0]).Margin);break;case"footer":h["!margins"]||dp(h["!margins"]={},"xlml"),isNaN(+Mr(o[0]).Margin)||(h["!margins"].footer=+Mr(o[0]).Margin);break;case"pagemargins":var Ae=Mr(o[0]);h["!margins"]||dp(h["!margins"]={},"xlml"),isNaN(+Ae.Top)||(h["!margins"].top=+Ae.Top),isNaN(+Ae.Left)||(h["!margins"].left=+Ae.Left),isNaN(+Ae.Right)||(h["!margins"].right=+Ae.Right),isNaN(+Ae.Bottom)||(h["!margins"].bottom=+Ae.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_e=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_e=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_e=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_e=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_e=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_e=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_e=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_e=!1}break;case"smarttags":break;default:_e=!1;break}if(_e||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?gTe(j,ie,M,n.slice(F,o.index)):(M=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var je={};return!r.bookSheets&&!r.bookProps&&(je.Sheets=d),je.SheetNames=f,je.Workbook=Y,je.SSF=La(Ir),je.Props=P,je.Custprops=j,je}function Bj(e,t){switch(kD(t=t||{}),t.type||"base64"){case"base64":return FB(Sc(e),t);case"binary":case"buffer":case"file":return FB(e,t);case"array":return FB(tm(e),t)}}function wTe(e,t){var r=[];return e.Props&&r.push(KEe(e.Props,t)),e.Custprops&&r.push(GEe(e.Props,e.Custprops)),r.join("")}function ETe(){return""}function CTe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(Ht("NumberFormat",null,{"ss:Format":Aa(Ir[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};r.push(Ht("Style",s.join(""),i))}),Ht("Styles",r.join(""))}function Uee(e){return Ht("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+wD(e.Ref,{r:0,c:0})})}function _Te(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Uee(a)))}return Ht("Names",r.join(""))}function STe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var o=a[i];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(Uee(o)))}return s.join("")}function NTe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ht("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ht("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ht("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ht("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(co("ProtectContents","True")),e["!protect"].objects&&a.push(co("ProtectObjects","True")),e["!protect"].scenarios&&a.push(co("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(co("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(co("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":Ht("WorksheetOptions",a.join(""),{xmlns:mc.x})}function kTe(e){return e.map(function(t){var r=W2e(t.t||""),n=Ht("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ht("Comment",n,{"ss:Author":t.a})}).join("")}function BTe(e,t,r,n,a,s,i){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Aa(wD(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var l=ts(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Aa(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Aa(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=i.c||u[d].s.r!=i.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=sh[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ir[14]);break;case"s":f="String",h=q2e(e.v||"");break}var p=nm(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=i.c+1;var v=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(e.c||[]).length>0&&(g+=kTe(e.c)),Ht("Cell",g,o)}function TTe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=sx(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function ITe(e,t,r,n){if(!e["!ref"])return"";var a=On(e["!ref"]),s=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,y){K0(b);var _=!!b.width,S=hN(y,b),B={"ss:Index":y+1};_&&(B["ss:Width"]=Fy(S.width)),b.hidden&&(B["ss:Hidden"]="1"),o.push(Ht("Column",null,B))});for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[TTe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>f)&&!(s[i].s.r>u)&&!(s[i].e.c<f)&&!(s[i].e.r<u)){(s[i].s.c!=f||s[i].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},v=Dr(p),g=l?(e[u]||[])[f]:e[v];d.push(BTe(g,v,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function jTe(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],i=s?STe(s,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?ITe(s,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(NTe(s,t,e,r)),n.join("")}function FTe(e,t){t||(t={}),e.SSF||(e.SSF=La(Ir)),e.SSF&&(Dx(),oN(e.SSF),t.revssf=cN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],nm(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(wTe(e,t)),r.push(ETe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ht("Worksheet",jTe(n,t,e),{"ss:Name":Aa(e.SheetNames[n])}));return r[2]=CTe(e,t),r[3]=_Te(e),Ks+Ht("Workbook",r.join(""),{xmlns:mc.ss,"xmlns:o":mc.o,"xmlns:x":mc.x,"xmlns:ss":mc.ss,"xmlns:dt":mc.dt,"xmlns:html":mc.html})}function OTe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=_Ee(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=SEe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var DTe=[60,1084,2066,2165,2175];function PTe(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var l=Sf(r,r.l),u=Tj[l],d=0;u!=null&&DTe.indexOf(l)>-1;)s=Sf(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=r.slice(d,r.l+4+s),i.push(o),r.l+=4+s,u=Tj[l=Sf(r,r.l)];var f=Qi(i);oo(f,0);var h=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(h),h+=i[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function eA(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ir[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||sh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ny(e.v):e.w=Np(e.v):e.w=_u(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Ox(Ir[n]||String(n))){var a=qm(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function SE(e,t,r){return{v:e,ixfe:t,t:r}}function RTe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,l=[],u="",d={},f,h="",p,v,g,b,y={},_=[],S,B,k=[],O=[],w={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},N=function(Ue){return Ue<8?lp[Ue]:Ue<64&&O[Ue-8]||lp[Ue]},P=function(Ue,Be,ht){var wt=Be.XF.data;if(!(!wt||!wt.patternType||!ht||!ht.cellStyles)){Be.s={},Be.s.patternType=wt.patternType;var ir;(ir=jy(N(wt.icvFore)))&&(Be.s.fgColor={rgb:ir}),(ir=jy(N(wt.icvBack)))&&(Be.s.bgColor={rgb:ir})}},j=function(Ue,Be,ht){if(!(ne>1)&&!(ht.sheetRows&&Ue.r>=ht.sheetRows)){if(ht.cellStyles&&Be.XF&&Be.XF.data&&P(Ue,Be,ht),delete Be.ixfe,delete Be.XF,f=Ue,h=Dr(Ue),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Ue.r<i.s.r&&(i.s.r=Ue.r),Ue.c<i.s.c&&(i.s.c=Ue.c),Ue.r+1>i.e.r&&(i.e.r=Ue.r+1),Ue.c+1>i.e.c&&(i.e.c=Ue.c+1),ht.cellFormula&&Be.f){for(var wt=0;wt<_.length;++wt)if(!(_[wt][0].s.c>Ue.c||_[wt][0].s.r>Ue.r)&&!(_[wt][0].e.c<Ue.c||_[wt][0].e.r<Ue.r)){Be.F=Wr(_[wt][0]),(_[wt][0].s.c!=Ue.c||_[wt][0].s.r!=Ue.r)&&delete Be.f,Be.f&&(Be.f=""+Po(_[wt][1],i,Ue,V,F));break}}ht.dense?(a[Ue.r]||(a[Ue.r]=[]),a[Ue.r][Ue.c]=Be):a[h]=Be}},F={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var M,Q=[],J=[],q=[],Z=[],H=!1,V=[];V.SheetNames=F.snames,V.sharedf=F.sharedf,V.arrayf=F.arrayf,V.names=[],V.XTI=[];var G=0,ne=0,R=0,W=[],Y=[],te;F.codepage=1200,ud(1200);for(var ie=!1;e.l<e.length-1;){var me=e.l,oe=e.read_shift(2);if(oe===0&&G===10)break;var ce=e.l===e.length?0:e.read_shift(2),ge=Tj[oe];if(ge&&ge.f){if(t.bookSheets&&G===133&&oe!==133)break;if(G=oe,ge.r===2||ge.r==12){var De=e.read_shift(2);if(ce-=2,!F.enc&&De!==oe&&((De&255)<<8|De>>8)!==oe)throw new Error("rt mismatch: "+De+"!="+oe);ge.r==12&&(e.l+=10,ce-=10)}var re={};if(oe===10?re=ge.f(e,ce,F):re=PTe(oe,ge,e,ce,F),ne==0&&[9,521,1033,2057].indexOf(G)===-1)continue;switch(oe){case 34:r.opts.Date1904=w.WBProps.date1904=re;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=re,!t.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=re;break;case 66:var Se=Number(re);switch(Se){case 21010:Se=1200;break;case 32768:Se=1e4;break;case 32769:Se=1252;break}ud(F.codepage=Se),ie=!0;break;case 317:F.rrtabid=re;break;case 25:F.winlocked=re;break;case 439:r.opts.RefreshAll=re;break;case 12:r.opts.CalcCount=re;break;case 16:r.opts.CalcDelta=re;break;case 17:r.opts.CalcIter=re;break;case 13:r.opts.CalcMode=re;break;case 14:r.opts.CalcPrecision=re;break;case 95:r.opts.CalcSaveRecalc=re;break;case 15:F.CalcRefMode=re;break;case 2211:r.opts.FullCalc=re;break;case 129:re.fDialog&&(a["!type"]="dialog"),re.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),re.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:k.push(re);break;case 430:V.push([re]),V[V.length-1].XTI=[];break;case 35:case 547:V[V.length-1].push(re);break;case 24:case 536:te={Name:re.Name,Ref:Po(re.rgce,i,null,V,F)},re.itab>0&&(te.Sheet=re.itab-1),V.names.push(te),V[0]||(V[0]=[],V[0].XTI=[]),V[V.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(Y[re.itab-1]={ref:Wr(re.rgce[0][0][1][2])});break;case 22:F.ExternCount=re;break;case 23:V.length==0&&(V[0]=[],V[0].XTI=[]),V[V.length-1].XTI=V[V.length-1].XTI.concat(re),V.XTI=V.XTI.concat(re);break;case 2196:if(F.biff<8)break;te!=null&&(te.Comment=re[1]);break;case 18:a["!protect"]=re;break;case 19:re!==0&&F.WTF&&console.error("Password verifier: "+re);break;case 133:s[re.pos]=re,F.snames.push(re.name);break;case 10:{if(--ne)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Wr(i),t.sheetRows&&t.sheetRows<=i.e.r){var Pe=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Wr(i),i.e.r=Pe}i.e.r++,i.e.c++}Q.length>0&&(a["!merges"]=Q),J.length>0&&(a["!objects"]=J),q.length>0&&(a["!cols"]=q),Z.length>0&&(a["!rows"]=Z),w.Sheets.push(C)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[oe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),F.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(F.biff=5,ie=!0,ud(F.codepage=28591)),F.biff==8&&re.BIFFVer==0&&re.dt==16&&(F.biff=2),ne++)break;if(a=t.dense?[]:{},F.biff<8&&!ie&&(ie=!0,ud(F.codepage=t.codepage||1252)),F.biff<5||re.BIFFVer==0&&re.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var _e={pos:e.l-ce,name:u};s[_e.pos]=_e,F.snames.push(u)}else u=(s[me]||{name:""}).name;re.dt==32&&(a["!type"]="chart"),re.dt==64&&(a["!type"]="macro"),Q=[],J=[],F.arrayf=_=[],q=[],Z=[],H=!1,C={Hidden:(s[me]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[re.r]||[])[re.c]:a[Dr({c:re.c,r:re.r})])&&++re.c,S={ixfe:re.ixfe,XF:k[re.ixfe]||{},v:re.val,t:"n"},R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j({c:re.c,r:re.r},S,t);break;case 5:case 517:S={ixfe:re.ixfe,XF:k[re.ixfe],v:re.val,t:re.t},R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j({c:re.c,r:re.r},S,t);break;case 638:S={ixfe:re.ixfe,XF:k[re.ixfe],v:re.rknum,t:"n"},R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j({c:re.c,r:re.r},S,t);break;case 189:for(var Ae=re.c;Ae<=re.C;++Ae){var je=re.rkrec[Ae-re.c][0];S={ixfe:je,XF:k[je],v:re.rkrec[Ae-re.c][1],t:"n"},R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j({c:Ae,r:re.r},S,t)}break;case 6:case 518:case 1030:{if(re.val=="String"){o=re;break}if(S=SE(re.val,re.cell.ixfe,re.tt),S.XF=k[S.ixfe],t.cellFormula){var $e=re.formula;if($e&&$e[0]&&$e[0][0]&&$e[0][0][0]=="PtgExp"){var Ze=$e[0][0][1][0],ye=$e[0][0][1][1],Oe=Dr({r:Ze,c:ye});y[Oe]?S.f=""+Po(re.formula,i,re.cell,V,F):S.F=((t.dense?(a[Ze]||[])[ye]:a[Oe])||{}).F}else S.f=""+Po(re.formula,i,re.cell,V,F)}R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j(re.cell,S,t),o=re}break;case 7:case 519:if(o)o.val=re,S=SE(re,o.cell.ixfe,"s"),S.XF=k[S.ixfe],t.cellFormula&&(S.f=""+Po(o.formula,i,o.cell,V,F)),R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j(o.cell,S,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(re);var Me=Dr(re[0].s);if(p=t.dense?(a[re[0].s.r]||[])[re[0].s.c]:a[Me],t.cellFormula&&p){if(!o||!Me||!p)break;p.f=""+Po(re[1],i,re[0],V,F),p.F=Wr(re[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Dr(o.cell)]=re[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Dr(o.cell)],(p||{}).f=""+Po(re[0],i,f,V,F)}}break;case 253:S=SE(l[re.isst].t,re.ixfe,"s"),l[re.isst].h&&(S.h=l[re.isst].h),S.XF=k[S.ixfe],R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j({c:re.c,r:re.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:re.ixfe,XF:k[re.ixfe],t:"z"},R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j({c:re.c,r:re.r},S,t));break;case 190:if(t.sheetStubs)for(var Ye=re.c;Ye<=re.C;++Ye){var tt=re.ixfe[Ye-re.c];S={ixfe:tt,XF:k[tt],t:"z"},R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j({c:Ye,r:re.r},S,t)}break;case 214:case 516:case 4:S=SE(re.val,re.ixfe,"s"),S.XF=k[S.ixfe],R>0&&(S.z=W[S.ixfe>>8&63]),eA(S,t,r.opts.Date1904),j({c:re.c,r:re.r},S,t);break;case 0:case 512:ne===1&&(i=re);break;case 252:l=re;break;case 1054:if(F.biff==4){W[R++]=re[1];for(var ct=0;ct<R+163&&Ir[ct]!=re[1];++ct);ct>=163&&jf(re[1],R+163)}else jf(re[1],re[0]);break;case 30:{W[R++]=re;for(var gt=0;gt<R+163&&Ir[gt]!=re;++gt);gt>=163&&jf(re,R+163)}break;case 229:Q=Q.concat(re);break;case 93:J[re.cmo[0]]=F.lastobj=re;break;case 438:F.lastobj.TxO=re;break;case 127:F.lastobj.ImData=re;break;case 440:for(b=re[0].s.r;b<=re[0].e.r;++b)for(g=re[0].s.c;g<=re[0].e.c;++g)p=t.dense?(a[b]||[])[g]:a[Dr({c:g,r:b})],p&&(p.l=re[1]);break;case 2048:for(b=re[0].s.r;b<=re[0].e.r;++b)for(g=re[0].s.c;g<=re[0].e.c;++g)p=t.dense?(a[b]||[])[g]:a[Dr({c:g,r:b})],p&&p.l&&(p.l.Tooltip=re[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;p=t.dense?(a[re[0].r]||[])[re[0].c]:a[Dr(re[0])];var kt=J[re[2]];p||(t.dense?(a[re[0].r]||(a[re[0].r]=[]),p=a[re[0].r][re[0].c]={t:"z"}):p=a[Dr(re[0])]={t:"z"},i.e.r=Math.max(i.e.r,re[0].r),i.s.r=Math.min(i.s.r,re[0].r),i.e.c=Math.max(i.e.c,re[0].c),i.s.c=Math.min(i.s.c,re[0].c)),p.c||(p.c=[]),v={a:re[1],t:kt.TxO.t},p.c.push(v)}break;case 2173:C5e(k[re.ixfe],re.ext);break;case 125:{if(!F.cellStyles)break;for(;re.e>=re.s;)q[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},H||(H=!0,xD(re.w/256)),K0(q[re.e+1])}break;case 520:{var Dt={};re.level!=null&&(Z[re.r]=Dt,Dt.level=re.level),re.hidden&&(Z[re.r]=Dt,Dt.hidden=!0),re.hpt&&(Z[re.r]=Dt,Dt.hpt=re.hpt,Dt.hpx=sx(re.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||dp(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[oe]]=re;break;case 161:a["!margins"]||dp(a["!margins"]={}),a["!margins"].header=re.header,a["!margins"].footer=re.footer;break;case 574:re.RTL&&(w.Views[0].RTL=!0);break;case 146:O=re;break;case 2198:M=re;break;case 140:B=re;break;case 442:u?C.CodeName=re||C.name:w.WBProps.CodeName=re||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+oe.toString(16)),e.l+=ce}return r.SheetNames=_s(s).sort(function(Re,Ue){return Number(Re)-Number(Ue)}).map(function(Re){return s[Re].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&Y.forEach(function(Re,Ue){r.Sheets[r.SheetNames[Ue]]["!autofilter"]=Re}),r.Strings=l,r.SSF=La(Ir),F.enc&&(r.Encryption=F.enc),M&&(r.Themes=M),r.Metadata={},B!==void 0&&(r.Metadata.Country=B),V.names.length>0&&(w.Names=V.names),r.Workbook=w,r}var ty={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function LTe(e,t,r){var n=yr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=oQ(n,Ej,ty.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=yr.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=oQ(i,Cj,ty.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(MZ(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function MTe(e,t){var r=[],n=[],a=[],s=0,i,o=R9(Ej,"n"),l=R9(Cj,"n");if(e.Props)for(i=_s(e.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(l,i[s])?n:a).push([i[s],e.Props[i[s]]]);if(e.Custprops)for(i=_s(e.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(l,i[s])?n:a).push([i[s],e.Custprops[i[s]]]);var u=[];for(s=0;s<a.length;++s)KZ.indexOf(a[s][0])>-1||LZ.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&yr.utils.cfb_add(t,"/SummaryInformation",lQ(n,ty.SI,l,Cj)),(r.length||u.length)&&yr.utils.cfb_add(t,"/DocumentSummaryInformation",lQ(r,ty.DSI,o,Ej,u.length?u:null,ty.UDI))}function Qee(e,t){t||(t={}),kD(t),WO(),t.codepage&&qO(t.codepage);var r,n;if(e.FullPaths){if(yr.find(e,"/encryption"))throw new Error("File is password-protected");r=yr.find(e,"!CompObj"),n=yr.find(e,"/Workbook")||yr.find(e,"/Book")}else{switch(t.type){case"base64":e=vc(Sc(e));break;case"binary":e=vc(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}oo(e,0),n={content:e}}var a,s;if(r&&OTe(r),t.bookProps&&!t.bookSheets)a={};else{var i=on?"buffer":"array";if(n&&n.content)a=RTe(n.content,t);else if((s=yr.find(e,"PerfectOffice_MAIN"))&&s.content)a=up.to_workbook(s.content,(t.type=i,t));else if((s=yr.find(e,"NativeContent_MAIN"))&&s.content)a=up.to_workbook(s.content,(t.type=i,t));else throw(s=yr.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&yr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=J5e(e))}var o={};return e.FullPaths&&LTe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function UTe(e,t){var r=t||{},n=yr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return yr.utils.cfb_add(n,a,Hee(e,r)),r.biff==8&&(e.Props||e.Custprops)&&MTe(e,n),r.biff==8&&e.vbaraw&&Z5e(n,yr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Py={0:{f:uke},1:{f:vke},2:{f:Rke},3:{f:Ske},4:{f:wke},5:{f:Oke},6:{f:Hke},7:{f:Tke},8:{f:Wke},9:{f:qke},10:{f:Kke},11:{f:Gke},12:{f:bke},13:{f:Mke},14:{f:kke},15:{f:Cke},16:{f:Fee},17:{f:zke},18:{f:jke},19:{f:cD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:zBe},40:{},42:{},43:{f:HSe},44:{f:USe},45:{f:$Se},46:{f:GSe},47:{f:KSe},48:{},49:{f:fEe},50:{},51:{f:N5e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:nee},62:{f:Qke},63:{f:P5e},64:{f:dBe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Go,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:oBe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:pke},148:{f:fke,p:16},151:{f:tBe},152:{},153:{f:QBe},154:{},155:{},156:{f:MBe},157:{},158:{},159:{T:1,f:nSe},160:{T:-1},161:{T:1,f:Xp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Xke},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_5e},336:{T:-1},337:{f:T5e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:wj},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ree},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:rBe},427:{f:nBe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:sBe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:mke},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Zke},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:wj},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:G5e},633:{T:1},634:{T:-1},635:{T:1,f:$5e},636:{T:-1},637:{f:gEe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kBe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ABe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Tj={6:{f:IB},10:{f:qh},12:{f:ai},13:{f:ai},14:{f:Ds},15:{f:Ds},16:{f:zo},17:{f:Ds},18:{f:Ds},19:{f:ai},20:{f:hQ},21:{f:hQ},23:{f:ree},24:{f:pQ},25:{f:Ds},26:{},27:{},28:{f:A_e},29:{},34:{f:Ds},35:{f:mQ},38:{f:zo},39:{f:zo},40:{f:zo},41:{f:zo},42:{f:Ds},43:{f:Ds},47:{f:CSe},49:{f:MCe},51:{f:ai},60:{},61:{f:OCe},64:{f:Ds},65:{f:LCe},66:{f:ai},77:{},80:{},81:{},82:{},85:{f:ai},89:{},90:{},91:{},92:{f:ECe},93:{f:m_e},94:{},95:{f:Ds},96:{},97:{},99:{f:Ds},125:{f:nee},128:{f:e_e},129:{f:_Ce},130:{f:ai},131:{f:Ds},132:{f:Ds},133:{f:SCe},134:{},140:{f:E_e},141:{f:ai},144:{},146:{f:S_e},151:{},152:{},153:{},154:{},155:{},156:{f:ai},157:{},158:{},160:{f:F_e},161:{f:B_e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:XCe},190:{f:YCe},193:{f:qh},197:{},198:{},199:{},200:{},201:{},202:{f:Ds},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ai},220:{},221:{f:Ds},222:{},224:{f:ZCe},225:{f:wCe},226:{f:qh},227:{},229:{f:f_e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:kCe},253:{f:QCe},255:{f:TCe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:GZ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ds},353:{f:qh},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:s_e},431:{f:Ds},432:{},433:{},434:{},437:{},438:{f:v_e},439:{f:Ds},440:{f:x_e},441:{},442:{f:Bw},443:{},444:{f:ai},445:{},446:{},448:{f:qh},449:{f:FCe,r:2},450:{f:qh},512:{f:dQ},513:{f:j_e},515:{f:n_e},516:{f:VCe},517:{f:fQ},519:{f:O_e},520:{f:ICe},523:{},545:{f:gQ},549:{f:uQ},566:{},574:{f:PCe},638:{f:WCe},659:{},1048:{},1054:{f:$Ce},1084:{},1212:{f:c_e},2048:{f:y_e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:EE},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:qh},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:N_e,r:12},2173:{f:E5e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ds,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:l_e,r:12},2197:{},2198:{f:g5e,r:12},2199:{},2200:{},2201:{},2202:{f:u_e,r:12},2203:{f:qh},2204:{},2205:{},2206:{},2207:{},2211:{f:jCe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ai},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:T_e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:__e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:dQ},1:{},2:{f:M_e},3:{f:R_e},4:{f:P_e},5:{f:fQ},7:{f:Q_e},8:{},9:{f:EE},11:{},22:{f:ai},30:{f:GCe},31:{},32:{},33:{f:gQ},36:{},37:{f:uQ},50:{f:H_e},62:{},52:{},67:{},68:{f:ai},69:{},86:{},126:{},127:{f:D_e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:V_e},223:{},234:{},354:{},421:{},518:{f:IB},521:{f:EE},536:{f:pQ},547:{f:mQ},561:{},579:{},1030:{f:IB},1033:{f:EE},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Vt(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&iD(r)&&e.push(r)}}function QTe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Vt(e,t,r,a);var s=t;if(!isNaN(s)){for(var i=r.parts||[],o=0,l=0,u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function Fw(e,t,r){return e||(e=xt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function HTe(e,t,r,n){var a=xt(9);return Fw(a,e,t),qZ(r,n||"b",a),a}function VTe(e,t,r){var n=xt(8+2*r.length);return Fw(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function zTe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?wi(Ra(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Vt(e,2,U_e(r,n,a)):Vt(e,3,L_e(r,n,a));return;case"b":case"e":Vt(e,5,HTe(r,n,t.v,t.t));return;case"s":case"str":Vt(e,4,VTe(r,n,(t.v||"").slice(0,255)));return}Vt(e,1,Fw(null,r,n))}function $Te(e,t,r,n){var a=Array.isArray(t),s=On(t["!ref"]||"A1"),i,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=Wr(s)}for(var u=s.s.r;u<=s.e.r;++u){o=Vs(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(l[d]=es(d)),i=l[d]+o;var f=a?(t[u]||[])[d]:t[i];f&&zTe(e,f,u,d)}}}function KTe(e,t){for(var r=t||{},n=Ql(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Vt(n,r.biff==4?1033:r.biff==3?521:9,pD(e,16,r)),$Te(n,e.Sheets[e.SheetNames[a]],a,r),Vt(n,10),n.end()}function GTe(e,t,r){Vt(e,49,UCe({sz:12,name:"Arial"},r))}function qTe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Vt(e,1054,KCe(a,t[a],r))})}function WTe(e,t){var r=xt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Vt(e,2151,r),r=xt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),ZZ(On(t["!ref"]||"A1"),r),r.write_shift(4,4),Vt(e,2152,r)}function XTe(e,t){for(var r=0;r<16;++r)Vt(e,224,AQ({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Vt(e,224,AQ(n,0,t))})}function YTe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Vt(e,440,b_e(n)),n[1].Tooltip&&Vt(e,2048,w_e(n))}delete t["!links"]}function JTe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Vt(e,125,k_e(hN(a,n),a))})}}function ZTe(e,t,r,n,a){var s=16+nm(a.cellXfs,t,a);if(t.v==null&&!t.bf){Vt(e,513,Ip(r,n,s));return}if(t.bf)Vt(e,6,_4e(t,r,n,a,s));else switch(t.t){case"d":case"n":var i=t.t=="d"?wi(Ra(t.v)):t.v;Vt(e,515,a_e(r,n,i,s));break;case"b":case"e":Vt(e,517,r_e(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var o=CD(a.Strings,t.v,a.revStrings);Vt(e,253,HCe(r,n,o,s))}else Vt(e,516,zCe(r,n,(t.v||"").slice(0,255),s,a));break;default:Vt(e,513,Ip(r,n,s))}}function e3e(e,t,r){var n=Ql(),a=r.SheetNames[e],s=r.Sheets[a]||{},i=(r||{}).Workbook||{},o=(i.Sheets||[])[e]||{},l=Array.isArray(s),u=t.biff==8,d,f="",h=[],p=On(s["!ref"]||"A1"),v=u?65536:16384;if(p.e.c>255||p.e.r>=v){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}Vt(n,2057,pD(r,16,t)),Vt(n,13,Au(1)),Vt(n,12,Au(100)),Vt(n,15,sl(!0)),Vt(n,17,sl(!1)),Vt(n,16,Bp(.001)),Vt(n,95,sl(!0)),Vt(n,42,sl(!1)),Vt(n,43,sl(!1)),Vt(n,130,Au(1)),Vt(n,128,t_e()),Vt(n,131,sl(!1)),Vt(n,132,sl(!1)),u&&JTe(n,s["!cols"]),Vt(n,512,qCe(p,t)),u&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Vs(g);for(var b=p.s.c;b<=p.e.c;++b){g===p.s.r&&(h[b]=es(b)),d=h[b]+f;var y=l?(s[g]||[])[b]:s[d];y&&(ZTe(n,y,g,b,t),u&&y.l&&s["!links"].push([d,y.l]))}}var _=o.CodeName||o.name||a;return u&&Vt(n,574,RCe((i.Views||[])[0])),u&&(s["!merges"]||[]).length&&Vt(n,229,h_e(s["!merges"])),u&&YTe(n,s),Vt(n,442,WZ(_)),u&&WTe(n,s),Vt(n,10),n.end()}function t3e(e,t,r){var n=Ql(),a=(e||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(Vt(n,2057,pD(e,5,r)),r.bookType=="xla"&&Vt(n,135),Vt(n,225,o?Au(1200):null),Vt(n,193,rCe(2)),l&&Vt(n,191),l&&Vt(n,192),Vt(n,226),Vt(n,92,CCe("SheetJS",r)),Vt(n,66,Au(o?1200:1252)),o&&Vt(n,353,Au(0)),o&&Vt(n,448),Vt(n,317,I_e(e.SheetNames.length)),o&&e.vbaraw&&Vt(n,211),o&&e.vbaraw){var u=i.CodeName||"ThisWorkbook";Vt(n,442,WZ(u))}Vt(n,156,Au(17)),Vt(n,25,sl(!1)),Vt(n,18,sl(!1)),Vt(n,19,Au(0)),o&&Vt(n,431,sl(!1)),o&&Vt(n,444,Au(0)),Vt(n,61,DCe()),Vt(n,64,sl(!1)),Vt(n,141,Au(0)),Vt(n,34,sl(FBe(e)=="true")),Vt(n,14,sl(!0)),o&&Vt(n,439,sl(!1)),Vt(n,218,Au(0)),GTe(n,e,r),qTe(n,e.SSF,r),XTe(n,r),o&&Vt(n,352,sl(!1));var d=n.end(),f=Ql();o&&Vt(f,140,C_e()),o&&r.Strings&&QTe(f,252,BCe(r.Strings)),Vt(f,10);var h=f.end(),p=Ql(),v=0,g=0;for(g=0;g<e.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var b=d.length+v+h.length;for(g=0;g<e.SheetNames.length;++g){var y=s[g]||{};Vt(p,133,NCe({pos:b,hs:y.Hidden||0,dt:0,name:e.SheetNames[g]},r)),b+=t[g].length}var _=p.end();if(v!=_.length)throw new Error("BS8 "+v+" != "+_.length);var S=[];return d.length&&S.push(d),_.length&&S.push(_),h.length&&S.push(h),Qi(S)}function r3e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=La(Ir)),e&&e.SSF&&(Dx(),oN(e.SSF),r.revssf=cN(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,BD(r),r.cellXfs=[],nm(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=e3e(a,r,e);return n.unshift(t3e(e,n,r)),Qi(n)}function Hee(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Vl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return r3e(e,t);case 4:case 3:case 2:return KTe(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function NQ(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=U2e(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(i=0;i<l.length;++i){var g=l[i].trim(),b=g.slice(0,3).toLowerCase();if(b=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(b!="<td"&&b!="<th")){var y=g.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var _=y[o].trim();if(_.match(/<t[dh]/i)){for(var S=_,B=0;S.charAt(0)=="<"&&(B=S.indexOf(">"))>-1;)S=S.slice(B+1);for(var k=0;k<v.length;++k){var O=v[k];O.s.c==d&&O.s.r<u&&u<=O.e.r&&(d=O.e.c+1,k=-1)}var w=Mr(_.slice(0,_.indexOf(">")));h=w.colspan?+w.colspan:1,((f=+w.rowspan)>1||h>1)&&v.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var C=w.t||w["data-t"]||"";if(!S.length){d+=h;continue}if(S=AZ(S),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!S.length){d+=h;continue}var N={t:"s",v:S};r.raw||!S.trim().length||C=="s"||(S==="TRUE"?N={t:"b",v:!0}:S==="FALSE"?N={t:"b",v:!1}:isNaN(Ad(S))?isNaN(nx(S).getDate())||(N={t:"d",v:Ra(S)},r.cellDates||(N={t:"n",v:wi(N.v)}),N.z=r.dateNF||Ir[14]):N={t:"n",v:Ad(S)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=N):n[Dr({r:u,c:d})]=N,d+=h}}}}return n["!ref"]=Wr(p),v.length&&(n["!merges"]=v),n}function n3e(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){o=-1;break}o=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=Dr({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||nD(f.w||(zf(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(Ht("td",h,p))}}var v="<tr>";return v+s.join("")+"</tr>"}var a3e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',s3e="</body></html>";function i3e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return rm(NQ(r[0],t),t);var n=FD();return r.forEach(function(a,s){OD(n,NQ(a,t),"Sheet"+(s+1))}),n}function o3e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Vee(e,t){var r=t||{},n=r.header!=null?r.header:a3e,a=r.footer!=null?r.footer:s3e,s=[n],i=Vl(e["!ref"]);r.dense=Array.isArray(e),s.push(o3e(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(n3e(e,i,o,r));return s.push("</table>"+a),s.join("")}function zee(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?ts(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Vl(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),v=0,g=0,b=0,y=0,_=0,S=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&g<l;++v){var B=o[v];if(kQ(B)){if(n.display)continue;p[g]={hidden:!0}}var k=B.children;for(b=y=0;b<k.length;++b){var O=k[b];if(!(n.display&&kQ(O))){var w=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):AZ(O.innerHTML),C=O.getAttribute("data-z")||O.getAttribute("z");for(h=0;h<f.length;++h){var N=f[h];N.s.c==y+s&&N.s.r<g+a&&g+a<=N.e.r&&(y=N.e.c+1-s,h=-1)}S=+O.getAttribute("colspan")||1,((_=+O.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:g+a,c:y+s},e:{r:g+a+(_||1)-1,c:y+s+(S||1)-1}});var P={t:"s",v:w},j=O.getAttribute("data-t")||O.getAttribute("t")||"";w!=null&&(w.length==0?P.t=j||"z":n.raw||w.trim().length==0||j=="s"||(w==="TRUE"?P={t:"b",v:!0}:w==="FALSE"?P={t:"b",v:!1}:isNaN(Ad(w))?isNaN(nx(w).getDate())||(P={t:"d",v:Ra(w)},n.cellDates||(P={t:"n",v:wi(P.v)}),P.z=n.dateNF||Ir[14]):P={t:"n",v:Ad(w)})),P.z===void 0&&C!=null&&(P.z=C);var F="",M=O.getElementsByTagName("A");if(M&&M.length)for(var Q=0;Q<M.length&&!(M[Q].hasAttribute("href")&&(F=M[Q].getAttribute("href"),F.charAt(0)!="#"));++Q);F&&F.charAt(0)!="#"&&(P.l={Target:F}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+s]=P):e[Dr({c:y+s,r:g+a})]=P,u.e.c<y+s&&(u.e.c=y+s),y+=S}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Wr(u),g>=l&&(e["!fullref"]=Wr((u.e.r=o.length-v+g-1+a,u))),e}function $ee(e,t){var r=t||{},n=r.dense?[]:{};return zee(n,e,t)}function l3e(e,t){return rm($ee(e,t),t)}function kQ(e){var t="",r=c3e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function c3e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function u3e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=jn(t.replace(/<[^>]*>/g,""));return[r]}var BQ={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Kee(e,t){var r=t||{},n=aD(e),a=[],s,i,o={name:""},l="",u=0,d,f,h={},p=[],v=r.dense?[]:{},g,b,y={value:""},_="",S=0,B=[],k=-1,O=-1,w={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,N={},P=[],j={},F=0,M=0,Q=[],J=1,q=1,Z=[],H={Names:[]},V={},G=["",""],ne=[],R={},W="",Y=0,te=!1,ie=!1,me=0;for(Ty.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Ty.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(w.e.c>=w.s.c&&w.e.r>=w.s.r?v["!ref"]=Wr(w):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=w.e.r&&(v["!fullref"]=v["!ref"],w.e.r=r.sheetRows-1,v["!ref"]=Wr(w)),P.length&&(v["!merges"]=P),Q.length&&(v["!rows"]=Q),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=v,ie=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=Mr(g[0],!1),k=O=-1,w.s.r=w.s.c=1e7,w.e.r=w.e.c=0,v=r.dense?[]:{},P=[],Q=[],ie=!0);break;case"table-row-group":g[1]==="/"?--C:++C;break;case"table-row":case"":if(g[1]==="/"){k+=J,J=1;break}if(f=Mr(g[0],!1),f.?k=f.-1:k==-1&&(k=0),J=+f["number-rows-repeated"]||1,J<10)for(me=0;me<J;++me)C>0&&(Q[k+me]={level:C});O=-1;break;case"covered-table-cell":g[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(v[k]||(v[k]=[]),v[k][O]={t:"z"}):v[Dr({r:k,c:O})]={t:"z"}),_="",B=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++O,y=Mr(g[0],!1),q=parseInt(y["number-columns-repeated"]||"1",10),b={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(b.f=CQ(jn(y.formula))),(y.||y["value-type"])=="string"&&(b.t="s",b.v=jn(y["string-value"]||""),r.dense?(v[k]||(v[k]=[]),v[k][O]=b):v[Dr({r:k,c:O})]=b),O+=q-1;else if(g[1]!=="/"){++O,_="",S=0,B=[],q=1;var oe=J?k+J-1:k;if(O>w.e.c&&(w.e.c=O),O<w.s.c&&(w.s.c=O),k<w.s.r&&(w.s.r=k),oe>w.e.r&&(w.e.r=oe),y=Mr(g[0],!1),ne=[],R={},b={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=jn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(F=parseInt(y["number-matrix-rows-spanned"],10)||0,M=parseInt(y["number-matrix-columns-spanned"],10)||0,j={s:{r:k,c:O},e:{r:k+F-1,c:O+M-1}},b.F=Wr(j),Z.push([j,b.F])),y.formula)b.f=CQ(y.formula);else for(me=0;me<Z.length;++me)k>=Z[me][0].s.r&&k<=Z[me][0].e.r&&O>=Z[me][0].s.c&&O<=Z[me][0].e.c&&(b.F=Z[me][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(F=parseInt(y["number-rows-spanned"],10)||0,M=parseInt(y["number-columns-spanned"],10)||0,j={s:{r:k,c:O},e:{r:k+F-1,c:O+M-1}},P.push(j)),y["number-columns-repeated"]&&(q=parseInt(y["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=Da(y["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(y.value);break;case"percentage":b.t="n",b.v=parseFloat(y.value);break;case"currency":b.t="n",b.v=parseFloat(y.value);break;case"date":b.t="d",b.v=Ra(y["date-value"]),r.cellDates||(b.t="n",b.v=wi(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=R2e(y["time-value"])/86400,r.cellDates&&(b.t="d",b.v=uN(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(y.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",y["string-value"]!=null&&(_=jn(y["string-value"]),B=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(te=!1,b.t==="s"&&(b.v=_||"",B.length&&(b.R=B),te=S==0),V.Target&&(b.l=V),ne.length>0&&(b.c=ne,ne=[]),_&&r.cellText!==!1&&(b.w=_),te&&(b.t="z",delete b.v),(!te||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var ce=0;ce<J;++ce){if(q=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(v[k+ce]||(v[k+ce]=[]),v[k+ce][O]=ce==0?b:La(b);--q>0;)v[k+ce][O+q]=La(b);else for(v[Dr({r:k+ce,c:O})]=b;--q>0;)v[Dr({r:k+ce,c:O+q})]=La(b);w.e.c<=O&&(w.e.c=O)}q=parseInt(y["number-columns-repeated"]||"1",10),O+=q-1,q=0,b={},_="",B=[]}V={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s;R.t=_,B.length&&(R.R=B),R.a=W,ne.push(R)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);W="",Y=0,_="",S=0,B=[];break;case"creator":g[1]==="/"?W=n.slice(Y,g.index):Y=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);_="",S=0,B=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(N[o.name]=l,(s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=Mr(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Mr(g[0],!1),l+=BQ[g[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Mr(g[0],!1),l+=BQ[g[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":i=Mr(g[0],!1),G=jB(i["cell-range-address"]);var ge={Name:i.name,Ref:G[0]+"!"+G[1]};ie&&(ge.Sheet=p.length),H.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var De=u3e(n.slice(S,g.index));_=(_.length>0?_+`
`:"")+De[0]}else Mr(g[0],!1),S=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{G=jB(Mr(g[0])["target-range-address"]),h[G[0]]["!autofilter"]={ref:G[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(V=Mr(g[0],!1),!V.href)break;V.Target=jn(V.href),delete V.href,V.Target.charAt(0)=="#"&&V.Target.indexOf(".")>-1?(G=jB(V.Target.slice(1)),V.Target="#"+G[0]+"!"+G[1]):V.Target.match(/^\.\.[\\\/]/)&&(V.Target=V.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var re={Sheets:h,SheetNames:p,Workbook:H};return r.bookSheets&&delete re.Sheets,re}function TQ(e,t){t=t||{},uu(e,"META-INF/manifest.xml")&&REe(ni(e,"META-INF/manifest.xml"),t);var r=xc(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Kee(ya(r),t);return uu(e,"meta.xml")&&(n.Props=PZ(ni(e,"meta.xml"))),n}function IQ(e,t){return Kee(e,t)}var d3e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+By({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ks+t}}(),jQ=function(){var e=function(s){return Aa(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,i,o){var l=[];l.push('      <table:table table:name="'+Aa(i.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=Vl(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,v=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",b=s["!rows"]||[];for(u=0;u<f.s.r;++u)g=b[u]?' table:style-name="ro'+b[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=b[u]?' table:style-name="ro'+b[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var y=!1,_={},S="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(y=!0),_["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,_["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(y){l.push(r);continue}var B=Dr({r:u,c:d}),k=v?(s[u]||[])[d]:s[B];if(k&&k.f&&(_["table:formula"]=Aa(I4e(k.f)),k.F&&k.F.slice(0,B.length)==B)){var O=Vl(k.F);_["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,_["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!k){l.push(t);continue}switch(k.t){case"b":S=k.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=k.v?"true":"false";break;case"n":S=k.w||String(k.v||0),_["office:value-type"]="float",_["office:value"]=k.v||0;break;case"s":case"str":S=k.v==null?"":k.v,_["office:value-type"]="string";break;case"d":S=k.w||Ra(k.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=Ra(k.v).toISOString(),_["table:style-name"]="ce1";break;default:l.push(t);continue}var w=e(S);if(k.l&&k.l.Target){var C=k.l.Target;C=C.charAt(0)=="#"?"#"+j4e(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),w=Ht("text:a",w,{"xlink:href":C.replace(/&/g,"&amp;")})}l.push("          "+Ht("table:table-cell",Ht("text:p",w,{}),_)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;K0(f),f.ods=o;var h=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,o){var l=[Ks],u=By({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=By({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(DZ().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),a(l,i),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=i.SheetNames.length;++f)l.push(n(i.Sheets[i.SheetNames[f]],i,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function Gee(e,t){if(t.bookType=="fods")return jQ(e,t);var r=eD(),n="",a=[],s=[];return n="mimetype",en(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",en(r,n,jQ(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",en(r,n,d3e(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",en(r,n,Ks+DZ()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",en(r,n,UEe(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",en(r,n,LEe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function jp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ij(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ya(tm(e))}function A3e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):vc(mA(e))}function f3e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function q0(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function FQ(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function h3e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function m3e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function Ry(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function la(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ys(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Qn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Ry(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=Ry(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function to(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(la(n*8+a.type)),a.type==2&&t.push(la(a.data.length)),t.push(a.data))})}),q0(t)}function ND(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function ou(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Ry(e,n),s=Qn(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:ys(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Qn(o.data),u=ys(l[3][0].data);i.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=ys(s[3][0].data)>>>0>0),r.push(i)}return r}function Dg(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:la(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:la(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:la(i.data.length)}],n[2].push({data:to(i.meta),type:2})});var s=to(n);t.push(la(s.length)),t.push(s),a.forEach(function(i){return t.push(i)})}),q0(t)}function p3e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Ry(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var l=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[q0(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=q0(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function lu(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(p3e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return q0(t)}function Pg(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=la(n),i=s.length;t.push(s),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,r+=n}return q0(t)}function g3e(e,t,r,n){var a=jp(e),s=a.getUint32(4,!0),i=(n>1?12:8)+FQ(s&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,d=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=FQ(s&(n>1?12288:4096))*4,s&16&&(l=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function v3e(e,t,r){var n=jp(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,l=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(l=h3e(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function OB(e,t){var r=new Uint8Array(32),n=jp(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,m3e(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function DB(e,t){var r=new Uint8Array(32),n=jp(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function x3e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return g3e(e,t,r,e[0]);case 5:return v3e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Do(e){var t=Qn(e);return Ry(t[1][0].data)}function OQ(e,t){var r=Qn(t.data),n=ys(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=Qn(i.data),l=ys(o[1][0].data)>>>0;switch(n){case 1:s[l]=Ij(o[3][0].data);break;case 8:{var u=e[Do(o[9][0].data)][0],d=Qn(u.data),f=e[Do(d[1][0].data)][0],h=ys(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Qn(f.data);s[l]=p[3].map(function(v){return Ij(v.data)}).join("")}break}}),s}function b3e(e,t){var r,n,a,s,i,o,l,u,d,f,h,p,v,g,b=Qn(e),y=ys(b[1][0].data)>>>0,_=ys(b[2][0].data)>>>0,S=((n=(r=b[8])==null?void 0:r[0])==null?void 0:n.data)&&ys(b[8][0].data)>0||!1,B,k;if((s=(a=b[7])==null?void 0:a[0])!=null&&s.data&&t!=0)B=(o=(i=b[7])==null?void 0:i[0])==null?void 0:o.data,k=(u=(l=b[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=b[4])==null?void 0:d[0])!=null&&f.data&&t!=1)B=(p=(h=b[4])==null?void 0:h[0])==null?void 0:p.data,k=(g=(v=b[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=S?4:1,w=jp(B),C=[],N=0;N<B.length/2;++N){var P=w.getUint16(N*2,!0);P<65535&&C.push([N,P])}if(C.length!=_)throw"Expected ".concat(_," cells, found ").concat(C.length);var j=[];for(N=0;N<C.length-1;++N)j[C[N][0]]=k.subarray(C[N][1]*O,C[N+1][1]*O);return C.length>=1&&(j[C[C.length-1][0]]=k.subarray(C[C.length-1][1]*O)),{R:y,cells:j}}function y3e(e,t){var r,n=Qn(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ys(n[7][0].data)>>>0>0?1:0:-1,s=ND(n[5],function(i){return b3e(i,a)});return{nrows:ys(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,u){if(i[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));i[o.R][u]=l}),i},[])}}function w3e(e,t,r){var n,a=Qn(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(ys(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(ys(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Wr(s);var i=Qn(a[4][0].data),o=OQ(e,e[Do(i[4][0].data)][0]),l=(n=i[17])!=null&&n[0]?OQ(e,e[Do(i[17][0].data)][0]):[],u=Qn(i[3][0].data),d=0;u[1].forEach(function(f){var h=Qn(f.data),p=e[Do(h[2][0].data)][0],v=ys(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=y3e(e,p);g.data.forEach(function(b,y){b.forEach(function(_,S){var B=Dr({r:d+y,c:S}),k=x3e(_,o,l);k&&(r[B]=k)})}),d+=g.nrows})}function E3e(e,t){var r=Qn(t.data),n={"!ref":"A1"},a=e[Do(r[2][0].data)],s=ys(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return w3e(e,a[0],n),n}function C3e(e,t){var r,n=Qn(t.data),a={name:(r=n[1])!=null&&r[0]?Ij(n[1][0].data):"",sheets:[]},s=ND(n[2],Do);return s.forEach(function(i){e[i].forEach(function(o){var l=ys(o.meta[1][0].data);l==6e3&&a.sheets.push(E3e(e,o))})}),a}function _3e(e,t){var r=FD(),n=Qn(t.data),a=ND(n[1],Do);if(a.forEach(function(s){e[s].forEach(function(i){var o=ys(i.meta[1][0].data);if(o==2){var l=C3e(e,i);l.sheets.forEach(function(u,d){OD(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function PB(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=lu(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=ou(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ys(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(l){s[l].forEach(function(u){var d=ys(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return _3e(s,o)}function S3e(e,t,r){var n,a,s,i;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((i=(s=e[8])==null?void 0:s[0])==null?void 0:i.data)&&ys(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=jp(e[7][0].data),d=0,f=[],h=jp(e[4][0].data),p=0,v=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),h.setUint16(g*2,p,!0);var b,y;switch(typeof t[g]){case"string":b=OB({t:"s",v:t[g]},r),y=DB({t:"s",v:t[g]},r);break;case"number":b=OB({t:"n",v:t[g]},r),y=DB({t:"n",v:t[g]},r);break;case"boolean":b=OB({t:"b",v:t[g]},r),y=DB({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(b),d+=b.length,v.push(y),p+=y.length,++l}for(e[2][0].data=la(l);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=q0(f),e[3][0].data=q0(v),l}function N3e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Vl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Wr(n)));var s=tS(r,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(W){return W.forEach(function(Y){typeof Y=="string"&&i.push(Y)})});var o={},l=[],u=yr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(W,Y){return[W,u.FullPaths[Y]]}).forEach(function(W){var Y=W[0],te=W[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var ie=Y.content,me=lu(ie),oe=ou(me);oe.forEach(function(ce){l.push(ce.id),o[ce.id]={deps:[],location:te,type:ys(ce.messages[0].meta[1][0].data)}})}}),l.sort(function(W,Y){return W-Y});var d=l.filter(function(W){return W>1}).map(function(W){return[W,la(W)]});u.FileIndex.map(function(W,Y){return[W,u.FullPaths[Y]]}).forEach(function(W){var Y=W[0];if(W[1],!!Y.name.match(/\.iwa/)){var te=ou(lu(Y.content));te.forEach(function(ie){ie.messages.forEach(function(me){d.forEach(function(oe){ie.messages.some(function(ce){return ys(ce.meta[1][0].data)!=11006&&f3e(ce.data,oe[1])})&&o[oe[0]].deps.push(ie.id)})})})}});for(var f=yr.find(u,o[1].location),h=ou(lu(f.content)),p,v=0;v<h.length;++v){var g=h[v];g.id==1&&(p=g)}var b=Do(Qn(p.messages[0].data)[1][0].data);for(f=yr.find(u,o[b].location),h=ou(lu(f.content)),v=0;v<h.length;++v)g=h[v],g.id==b&&(p=g);for(b=Do(Qn(p.messages[0].data)[2][0].data),f=yr.find(u,o[b].location),h=ou(lu(f.content)),v=0;v<h.length;++v)g=h[v],g.id==b&&(p=g);for(b=Do(Qn(p.messages[0].data)[2][0].data),f=yr.find(u,o[b].location),h=ou(lu(f.content)),v=0;v<h.length;++v)g=h[v],g.id==b&&(p=g);var y=Qn(p.messages[0].data);{y[6][0].data=la(n.e.r+1),y[7][0].data=la(n.e.c+1);var _=Do(y[46][0].data),S=yr.find(u,o[_].location),B=ou(lu(S.content));{for(var k=0;k<B.length&&B[k].id!=_;++k);if(B[k].id!=_)throw"Bad ColumnRowUIDMapArchive";var O=Qn(B[k].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var w=0;w<=n.e.c;++w){var C=[];C[1]=C[2]=[{type:0,data:la(w+420690)}],O[1].push({type:2,data:to(C)}),O[2].push({type:0,data:la(w)}),O[3].push({type:0,data:la(w)})}O[4]=[],O[5]=[],O[6]=[];for(var N=0;N<=n.e.r;++N)C=[],C[1]=C[2]=[{type:0,data:la(N+726270)}],O[4].push({type:2,data:to(C)}),O[5].push({type:0,data:la(N)}),O[6].push({type:0,data:la(N)});B[k].messages[0].data=to(O)}S.content=Pg(Dg(B)),S.size=S.content.length,delete y[46];var P=Qn(y[4][0].data);{P[7][0].data=la(n.e.r+1);var j=Qn(P[1][0].data),F=Do(j[2][0].data);S=yr.find(u,o[F].location),B=ou(lu(S.content));{if(B[0].id!=F)throw"Bad HeaderStorageBucket";var M=Qn(B[0].messages[0].data);for(N=0;N<s.length;++N){var Q=Qn(M[2][0].data);Q[1][0].data=la(N),Q[4][0].data=la(s[N].length),M[2][N]={type:M[2][0].type,data:to(Q)}}B[0].messages[0].data=to(M)}S.content=Pg(Dg(B)),S.size=S.content.length;var J=Do(P[2][0].data);S=yr.find(u,o[J].location),B=ou(lu(S.content));{if(B[0].id!=J)throw"Bad HeaderStorageBucket";for(M=Qn(B[0].messages[0].data),w=0;w<=n.e.c;++w)Q=Qn(M[2][0].data),Q[1][0].data=la(w),Q[4][0].data=la(n.e.r+1),M[2][w]={type:M[2][0].type,data:to(Q)};B[0].messages[0].data=to(M)}S.content=Pg(Dg(B)),S.size=S.content.length;var q=Do(P[4][0].data);(function(){for(var W=yr.find(u,o[q].location),Y=ou(lu(W.content)),te,ie=0;ie<Y.length;++ie){var me=Y[ie];me.id==q&&(te=me)}var oe=Qn(te.messages[0].data);{oe[3]=[];var ce=[];i.forEach(function(re,Se){ce[1]=[{type:0,data:la(Se)}],ce[2]=[{type:0,data:la(1)}],ce[3]=[{type:2,data:A3e(re)}],oe[3].push({type:2,data:to(ce)})})}te.messages[0].data=to(oe);var ge=Dg(Y),De=Pg(ge);W.content=De,W.size=W.content.length})();var Z=Qn(P[3][0].data);{var H=Z[1][0];delete Z[2];var V=Qn(H.data);{var G=Do(V[2][0].data);(function(){for(var W=yr.find(u,o[G].location),Y=ou(lu(W.content)),te,ie=0;ie<Y.length;++ie){var me=Y[ie];me.id==G&&(te=me)}var oe=Qn(te.messages[0].data);{delete oe[6],delete Z[7];var ce=new Uint8Array(oe[5][0].data);oe[5]=[];for(var ge=0,De=0;De<=n.e.r;++De){var re=Qn(ce);ge+=S3e(re,s[De],i),re[1][0].data=la(De),oe[5].push({data:to(re),type:2})}oe[1]=[{type:0,data:la(n.e.c+1)}],oe[2]=[{type:0,data:la(n.e.r+1)}],oe[3]=[{type:0,data:la(ge)}],oe[4]=[{type:0,data:la(n.e.r+1)}]}te.messages[0].data=to(oe);var Se=Dg(Y),Pe=Pg(Se);W.content=Pe,W.size=W.content.length})()}H.data=to(V)}P[3][0].data=to(Z)}y[4][0].data=to(P)}p.messages[0].data=to(y);var ne=Dg(h),R=Pg(ne);return f.content=R,f.size=f.content.length,u}function qee(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function kD(e){qee([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function BD(e){qee([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function k3e(e){return An.WS.indexOf(e)>-1?"sheet":e==An.CS?"chart":e==An.DS?"dialog":e==An.MS?"macro":e&&e.length?e:"sheet"}function B3e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,k3e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function T3e(e,t,r,n,a,s,i,o,l,u,d,f){try{s[n]=Yb(xc(e,r,!0),t);var h=ni(e,t),p;switch(o){case"sheet":p=JBe(h,t,a,l,s[n],u,d,f);break;case"chart":if(p=ZBe(h,t,a,l,s[n],u,d,f),!p||!p["!drawel"])break;var v=_b(p["!drawel"].Target,t),g=Iy(v),b=M5e(xc(e,v,!0),Yb(xc(e,g,!0),v)),y=_b(b,v),_=Iy(y);p=SBe(xc(e,y,!0),y,l,Yb(xc(e,_,!0),y),u,p);break;case"macro":p=eTe(h,t,a,l,s[n],u,d,f);break;case"dialog":p=tTe(h,t,a,l,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=p;var S=[];s&&s[n]&&_s(s[n]).forEach(function(B){var k="";if(s[n][B].Type==An.CMNT){k=_b(s[n][B].Target,t);var O=sTe(ni(e,k,!0),k,l);if(!O||!O.length)return;xQ(p,O,!1)}s[n][B].Type==An.TCMNT&&(k=_b(s[n][B].Target,t),S=S.concat(Q5e(ni(e,k,!0),l)))}),S&&S.length&&xQ(p,S,!0,l.people||[])}catch(B){if(l.WTF)throw B}}function ru(e){return e.charAt(0)=="/"?e.slice(1):e}function I3e(e,t){if(Dx(),t=t||{},kD(t),uu(e,"META-INF/manifest.xml")||uu(e,"objectdata.xml"))return TQ(e,t);if(uu(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof PB<"u"){if(e.FileIndex)return PB(e);var r=yr.utils.cfb_new();return U9(e).forEach(function(Q){en(r,Q,H2e(e,Q))}),PB(r)}throw new Error("Unsupported NUMBERS file")}if(!uu(e,"[Content_Types].xml"))throw uu(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):uu(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=U9(e),a=DEe(xc(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ni(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ni(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(Jb=[],a.sst)try{Jb=aTe(ni(e,ru(a.sst)),a.sst,t)}catch(Q){if(t.WTF)throw Q}t.cellStyles&&a.themes.length&&(l=nTe(xc(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=rTe(ni(e,ru(a.style)),a.style,l,t))}a.links.map(function(Q){try{var J=Yb(xc(e,Iy(ru(Q))),Q);return oTe(ni(e,ru(Q)),J,Q,t)}catch{}});var d=YBe(ni(e,ru(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ni(e,ru(a.coreprops[0]),!0),h&&(f=PZ(h)),a.extprops.length!==0&&(h=ni(e,ru(a.extprops[0]),!0),h&&HEe(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=xc(e,ru(a.custprops[0]),!0),h&&(p=zEe(h,t)));var v={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(J){return J.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=p),t.bookSheets&&typeof i<"u"&&(v.SheetNames=i),t.bookSheets?v.SheetNames:t.bookProps))return v;i={};var g={};t.bookDeps&&a.calcchain&&(g=iTe(ni(e,ru(a.calcchain)),a.calcchain));var b=0,y={},_,S;{var B=d.Sheets;f.Worksheets=B.length,f.SheetNames=[];for(var k=0;k!=B.length;++k)f.SheetNames[k]=B[k].name}var O=s?"bin":"xml",w=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,w+1)+"_rels/"+a.workbooks[0].slice(w+1)+".rels").replace(/^\//,"");uu(e,C)||(C="xl/_rels/workbook."+O+".rels");var N=Yb(xc(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=lTe(ni(e,ru(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=V5e(ni(e,ru(a.people[0])),t)),N&&(N=B3e(N,d.Sheets));var P=ni(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=f.Worksheets;++b){var j="sheet";if(N&&N[b]?(_="xl/"+N[b][1].replace(/[\/]?xl\//,""),uu(e,_)||(_=N[b][1]),uu(e,_)||(_=C.replace(/_rels\/.*$/,"")+N[b][1]),j=N[b][2]):(_="xl/worksheets/sheet"+(b+1-P)+"."+O,_=_.replace(/sheet0\./,"sheet.")),S=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(f.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,M=0;M!=t.sheets.length;++M)typeof t.sheets[M]=="number"&&t.sheets[M]==b&&(F=1),typeof t.sheets[M]=="string"&&t.sheets[M].toLowerCase()==f.SheetNames[b].toLowerCase()&&(F=1);if(!F)continue e}}T3e(e,_,S,f.SheetNames[b],b,y,i,j,t,d,l,u)}return v={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:g,Sheets:i,SheetNames:f.SheetNames,Strings:Jb,Styles:u,Themes:l,SSF:La(Ir)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(Q,J){Q=Q.replace(/^Root Entry[\/]/,""),v.keys.push(Q),v.files[Q]=e.FileIndex[J]}))),t&&t.bookVBA&&(a.vba.length>0?v.vbaraw=ni(e,ru(a.vba[0]),!0):a.defaults&&a.defaults.bin===Y5e&&(v.vbaraw=ni(e,"xl/vbaProject.bin",!0))),v}function j3e(e,t){var r=t||{},n="Workbook",a=yr.find(e,n);try{if(n="/!DataSpaces/Version",a=yr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(lSe(a.content),n="/!DataSpaces/DataSpaceMap",a=yr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=uSe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=yr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=dSe(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=yr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);fSe(a.content)}catch{}if(n="/EncryptionInfo",a=yr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=hSe(a.content);if(n="/EncryptedPackage",a=yr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function F3e(e,t){return t.bookType=="ods"?Gee(e,t):t.bookType=="numbers"?N3e(e,t):t.bookType=="xlsb"?O3e(e,t):D3e(e,t)}function O3e(e,t){hv=1024,e&&!e.SSF&&(e.SSF=La(Ir)),e&&e.SSF&&(Dx(),oN(e.SSF),t.revssf=cN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Zb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=yee.indexOf(t.bookType)>-1,a=hD();BD(t=t||{});var s=eD(),i="",o=0;if(t.cellXfs=[],nm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",en(s,i,RZ(e.Props,t)),a.coreprops.push(i),ca(t.rels,2,i,An.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,en(s,i,UZ(e.Props)),a.extprops.push(i),ca(t.rels,3,i,An.EXT_PROPS),e.Custprops!==e.Props&&_s(e.Custprops||{}).length>0&&(i="docProps/custom.xml",en(s,i,QZ(e.Custprops)),a.custprops.push(i),ca(t.rels,4,i,An.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,en(s,i,uTe(o-1,i,t,e,d)),a.sheets.push(i),ca(t.wbrels,-1,"worksheets/sheet"+o+"."+r,An.WS[0])}if(f){var p=f["!comments"],v=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+r,en(s,g,fTe(p,g)),a.comments.push(g),ca(d,-1,"../comments"+o+"."+r,An.CMNT),v=!0),f["!legacy"]&&v&&en(s,"xl/drawings/vmlDrawing"+o+".vml",xee(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&en(s,Iy(i),Rv(d))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,en(s,i,ATe(t.Strings,i,t)),a.strs.push(i),ca(t.wbrels,-1,"sharedStrings."+r,An.SST)),i="xl/workbook."+r,en(s,i,cTe(e,i)),a.workbooks.push(i),ca(t.rels,1,i,An.WB),i="xl/theme/theme1.xml",en(s,i,bD(e.Themes,t)),a.themes.push(i),ca(t.wbrels,-1,"theme/theme1.xml",An.THEME),i="xl/styles."+r,en(s,i,dTe(e,i,t)),a.styles.push(i),ca(t.wbrels,-1,"styles."+r,An.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",en(s,i,e.vbaraw),a.vba.push(i),ca(t.wbrels,-1,"vbaProject.bin",An.VBA)),i="xl/metadata."+r,en(s,i,hTe(i)),a.metadata.push(i),ca(t.wbrels,-1,"metadata."+r,An.XLMETA),en(s,"[Content_Types].xml",OZ(a,t)),en(s,"_rels/.rels",Rv(t.rels)),en(s,"xl/_rels/workbook."+r+".rels",Rv(t.wbrels)),delete t.revssf,delete t.ssf,s}function D3e(e,t){hv=1024,e&&!e.SSF&&(e.SSF=La(Ir)),e&&e.SSF&&(Dx(),oN(e.SSF),t.revssf=cN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Zb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=yee.indexOf(t.bookType)>-1,a=hD();BD(t=t||{});var s=eD(),i="",o=0;if(t.cellXfs=[],nm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",en(s,i,RZ(e.Props,t)),a.coreprops.push(i),ca(t.rels,2,i,An.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,en(s,i,UZ(e.Props)),a.extprops.push(i),ca(t.rels,3,i,An.EXT_PROPS),e.Custprops!==e.Props&&_s(e.Custprops||{}).length>0&&(i="docProps/custom.xml",en(s,i,QZ(e.Custprops)),a.custprops.push(i),ca(t.rels,4,i,An.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,en(s,i,jee(o-1,t,e,f)),a.sheets.push(i),ca(t.wbrels,-1,"worksheets/sheet"+o+"."+r,An.WS[0])}if(h){var v=h["!comments"],g=!1,b="";if(v&&v.length>0){var y=!1;v.forEach(function(_){_[1].forEach(function(S){S.T==!0&&(y=!0)})}),y&&(b="xl/threadedComments/threadedComment"+o+"."+r,en(s,b,H5e(v,d,t)),a.threadedcomments.push(b),ca(f,-1,"../threadedComments/threadedComment"+o+"."+r,An.TCMNT)),b="xl/comments"+o+"."+r,en(s,b,bee(v)),a.comments.push(b),ca(f,-1,"../comments"+o+"."+r,An.CMNT),g=!0}h["!legacy"]&&g&&en(s,"xl/drawings/vmlDrawing"+o+".vml",xee(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&en(s,Iy(i),Rv(f))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,en(s,i,oee(t.Strings,t)),a.strs.push(i),ca(t.wbrels,-1,"sharedStrings."+r,An.SST)),i="xl/workbook."+r,en(s,i,Ree(e)),a.workbooks.push(i),ca(t.rels,1,i,An.WB),i="xl/theme/theme1.xml",en(s,i,bD(e.Themes,t)),a.themes.push(i),ca(t.wbrels,-1,"theme/theme1.xml",An.THEME),i="xl/styles."+r,en(s,i,mee(e,t)),a.styles.push(i),ca(t.wbrels,-1,"styles."+r,An.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",en(s,i,e.vbaraw),a.vba.push(i),ca(t.wbrels,-1,"vbaProject.bin",An.VBA)),i="xl/metadata."+r,en(s,i,vee()),a.metadata.push(i),ca(t.wbrels,-1,"metadata."+r,An.XLMETA),d.length>1&&(i="xl/persons/person.xml",en(s,i,z5e(d)),a.people.push(i),ca(t.wbrels,-1,"persons/person.xml",An.PEOPLE)),en(s,"[Content_Types].xml",OZ(a,t)),en(s,"_rels/.rels",Rv(t.rels)),en(s,"xl/_rels/workbook."+r+".rels",Rv(t.wbrels)),delete t.revssf,delete t.ssf,s}function TD(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Sc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function P3e(e,t){return yr.find(e,"EncryptedPackage")?j3e(e,t):Qee(e,t)}function R3e(e,t){var r,n=e,a=t||{};return a.type||(a.type=on&&Buffer.isBuffer(e)?"buffer":"base64"),r=cZ(n,a),I3e(r,a)}function Wee(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Bj(e.slice(r),t);default:break e}return ax.to_workbook(e,t)}function L3e(e,t){var r="",n=TD(e,t);switch(t.type){case"base64":r=Sc(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=kp(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ya(r)),t.type="binary",Wee(r,t)}function M3e(e,t){var r=e;return t.type=="base64"&&(r=Sc(r)),r=_y.utils.decode(1200,r.slice(2),"str"),t.type="binary",Wee(r,t)}function U3e(e){return e.match(/[^\x00-\x7F]/)?mA(e):e}function RB(e,t,r,n){return n?(r.type="string",ax.to_workbook(e,r)):ax.to_workbook(t,r)}function Ly(e,t){WO();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Ly(new Uint8Array(e),(r=La(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Mv={},r.dateNF&&(Mv.dateNF=r.dateNF),r.type||(r.type=on&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=on?"buffer":"binary",n=O2e(e),typeof Uint8Array<"u"&&!on&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=U3e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=La(r),r.type="array",Ly(XO(n),r)}switch((a=TD(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return P3e(yr.read(n,r),r);break;case 9:if(a[1]<=8)return Qee(n,r);break;case 60:return Bj(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return $_e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return see.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?R3e(n,r):RB(e,n,r,s);case 239:return a[3]===60?Bj(n,r):RB(e,n,r,s);case 255:if(a[1]===254)return M3e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return up.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return up.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return kj.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Aee.to_workbook(n,r);break;case 10:case 13:case 32:return L3e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return z_e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?kj.to_workbook(n,r):RB(e,n,r,s)}function Xee(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Sw(t.file,yr.write(e,{type:on?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return yr.write(e,t)}function Q3e(e,t){var r=La(t||{}),n=F3e(e,r);return H3e(n,r)}function H3e(e,t){var r={},n=on?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?yr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(iN(a))}return t.password&&typeof encrypt_agile<"u"?Xee(encrypt_agile(a,t.password),t):t.type==="file"?Sw(t.file,a):t.type=="string"?ya(a):a}function V3e(e,t){var r=t||{},n=UTe(e,r);return Xee(n,r)}function aA(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Sy(mA(n));case"binary":return mA(n);case"string":return e;case"file":return Sw(t.file,n,"utf8");case"buffer":return on?nh(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):aA(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function z3e(e,t){switch(t.type){case"base64":return Sy(e);case"binary":return e;case"string":return e;case"file":return Sw(t.file,e,"binary");case"buffer":return on?nh(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function NE(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Sy(r):t.type=="string"?ya(r):r;case"file":return Sw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Yee(e,t){WO(),PBe(e);var r=La(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Yee(e,r);return r.type="array",iN(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return aA(FTe(e,r),r);case"slk":case"sylk":return aA(aee.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return aA(Vee(e.Sheets[e.SheetNames[a]],r),r);case"txt":return z3e(Jee(e.Sheets[e.SheetNames[a]],r),r);case"csv":return aA(jD(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return aA(see.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return NE(kj.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return aA(ax.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return aA(Aee.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return aA(iee.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return aA(Gee(e,r),r);case"wk1":return NE(up.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return NE(up.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),NE(Hee(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),V3e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Q3e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function $3e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function ID(e,t,r){var n={};return n.type="file",n.file=t,$3e(n),Yee(e,n)}function K3e(e,t,r,n,a,s,i,o){var l=Vs(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var v=i?e[r][p]:e[n[p]+l];if(v===void 0||v.t===void 0){if(u===void 0)continue;s[p]!=null&&(h[s[p]]=u);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[p]!=null){if(g==null)if(v.t=="e"&&g===null)h[s[p]]=null;else if(u!==void 0)h[s[p]]=u;else if(d&&g===null)h[s[p]]=null;else continue;else h[s[p]]=d&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:zf(v,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function tS(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=On(d);break;case"number":l=On(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Vs(l.s.r),h=[],p=[],v=0,g=0,b=Array.isArray(e),y=l.s.r,_=0,S={};b&&!e[y]&&(e[y]=[]);var B=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(B[_]||{}).hidden)switch(h[_]=es(_),r=b?e[y][_]:e[h[_]+f],n){case 1:s[_]=_-l.s.c;break;case 2:s[_]=h[_];break;case 3:s[_]=u.header[_-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=zf(r,null,u),g=S[i]||0,!g)S[i]=1;else{do o=i+"_"+g++;while(S[o]);S[i]=g,S[o]=1}s[_]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(k[y]||{}).hidden){var O=K3e(e,l,y,h,n,s,b,u);(O.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[v++]=O.row)}return p.length=v,p}var DQ=/"/g;function G3e(e,t,r,n,a,s,i,o){for(var l=!0,u=[],d="",f=Vs(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:zf(p,null,o));for(var v=0,g=0;v!==d.length;++v)if((g=d.charCodeAt(v))===a||g===s||g===34||o.forceQuotes){d='"'+d.replace(DQ,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(DQ,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(i)}function jD(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=On(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(h[v]||{}).hidden||(f[v]=es(v));for(var g=0,b=a.s.r;b<=a.e.r;++b)(p[b]||{}).hidden||(d=G3e(e,a,b,f,i,l,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?o:"")+d)));return delete n.dense,r.join("")}function Jee(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=jD(e,t);return r}function q3e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=On(e["!ref"]),s="",i=[],o,l=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=es(o);for(var d=a.s.r;d<=a.e.r;++d)for(s=Vs(d),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Zee(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?ts(n.origin):n.origin;i=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=On(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(g,b){_s(g).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var _=g[y],S="z",B="",k=Dr({c:o+p,r:i+b+a});u=My(s,k),_&&typeof _=="object"&&!(_ instanceof Date)?s[k]=_:(typeof _=="number"?S="n":typeof _=="boolean"?S="b":typeof _=="string"?S="s":_ instanceof Date?(S="d",n.cellDates||(S="n",_=wi(_)),B=n.dateNF||Ir[14]):_===null&&n.nullError&&(S="e",_=0),u?(u.t=S,u.v=_,delete u.w,delete u.R,B&&(u.z=B)):s[k]=u={t:S,v:_},B&&(u.z=B))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var v=Vs(i);if(a)for(p=0;p<h.length;++p)s[es(p+o)+v]={t:"s",v:h[p]};return s["!ref"]=Wr(d),s}function W3e(e,t){return Zee(null,e,t)}function My(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ts(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?My(e,Dr(t)):My(e,Dr({r:t,c:r||0}))}function X3e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function FD(){return{SheetNames:[],Sheets:{}}}function OD(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(Pee(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Y3e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=X3e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function J3e(e,t){return e.z=t,e}function ete(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Z3e(e,t,r){return ete(e,"#"+t,r)}function eIe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function tIe(e,t,r,n){for(var a=typeof t!="string"?t:On(t),s=typeof t=="string"?t:Wr(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=My(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var vu={encode_col:es,encode_row:Vs,encode_cell:Dr,encode_range:Wr,decode_col:lD,decode_row:oD,split_cell:AEe,decode_cell:ts,decode_range:Vl,format_cell:zf,sheet_add_aoa:NZ,sheet_add_json:Zee,sheet_add_dom:zee,aoa_to_sheet:Px,json_to_sheet:W3e,table_to_sheet:$ee,table_to_book:l3e,sheet_to_csv:jD,sheet_to_txt:Jee,sheet_to_json:tS,sheet_to_html:Vee,sheet_to_formulae:q3e,sheet_to_row_object_array:tS,sheet_get_cell:My,book_new:FD,book_append_sheet:OD,book_set_sheet_visibility:Y3e,cell_set_number_format:J3e,cell_set_hyperlink:ete,cell_set_internal_link:Z3e,cell_add_comment:eIe,sheet_set_array_formula:tIe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const rIe=async()=>{try{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=["usuarios","acompanamientos","anuncios","acciones","analisis","apiLogs"];let n=0,a=0;const s=[];for(const l of r)try{const u=Rt(jr,l),d=await Hs(u),f=d.size;n+=f,s.push({label:l.charAt(0).toUpperCase()+l.slice(1),value:f});let h=0;d.docs.forEach(p=>{const v=p.data();v.createdAt&&new Date(v.createdAt)>=t&&h++}),a+=h}catch(u){console.warn(`Error accediendo a coleccin ${l}:`,u),s.push({label:l.charAt(0).toUpperCase()+l.slice(1),value:0})}const i=[];try{const l=Rt(jr,"apiLogs"),u=new Date(e.getTime()-10080*60*1e3),d=Zt(l,Fn("timestamp",">=",u.toISOString()),Gr("timestamp","desc")),f=await Hs(d),h={};f.docs.forEach(p=>{const v=p.data(),g=new Date(v.timestamp).toLocaleDateString("es-CL");h[g]=(h[g]||0)+1}),Object.entries(h).sort(([p],[v])=>new Date(p).getTime()-new Date(v).getTime()).forEach(([p,v])=>{i.push({label:p,value:v})})}catch(l){console.warn("Error calculando actividad diaria:",l)}const o=Math.floor(a*2.5);return{documentsCreatedToday:a,readsToday:o,writesToday:a,totalDocuments:n,collectionsActivity:s.sort((l,u)=>u.value-l.value),dailyActivity:i}}catch(e){return console.error("Error al obtener estadsticas de Firestore:",e),{documentsCreatedToday:0,readsToday:0,writesToday:0,totalDocuments:0,collectionsActivity:[],dailyActivity:[]}}},PQ=500,Rg=({title:e,value:t,description:r,alert:n})=>c.jsxs("div",{className:`p-5 rounded-xl border ${n?"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),c.jsx("p",{className:`text-3xl font-bold mt-2 ${n?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}`,children:t}),r&&c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r})]}),LB=({title:e,data:t,colorClass:r})=>{const n=I.useMemo(()=>Math.max(...t.map(a=>a.value),1),[t]);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md h-full",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:e}),c.jsx("div",{className:"space-y-4",children:t.length>0?t.map(a=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:a.label}),c.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:a.value})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:c.jsx("div",{className:`${r} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${a.value/n*100}%`}})})]},a.label)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-8",children:"No hay datos para mostrar."})})]})},nIe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!0),[a,s]=I.useState(null),[i,o]=I.useState({documentsCreatedToday:0,readsToday:0,writesToday:0,totalDocuments:0,collectionsActivity:[],dailyActivity:[]});I.useEffect(()=>{n(!0);const f=qbe(v=>{t(v),n(!1)}),h=async()=>{try{const v=await rIe();o(v)}catch(v){console.error("Error al cargar estadsticas de Firestore:",v)}};h();const p=setInterval(h,300*1e3);return()=>{f(),clearInterval(p)}},[]);const{stats:l,userStats:u,moduleStats:d}=I.useMemo(()=>{const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),f.getDate()).getTime(),p=h-f.getDay()*24*60*60*1e3,v=new Date(f.getFullYear(),f.getMonth(),1).getTime(),g={today:0,week:0,month:0},b={},y={};e.forEach(B=>{const k=new Date(B.timestamp).getTime();k>=h&&g.today++,k>=p&&g.week++,k>=v&&g.month++;const O=B.userEmail||"Desconocido";b[O]||(b[O]={email:O,today:0,month:0,total:0}),b[O].total++,k>=h&&b[O].today++,k>=v&&b[O].month++,y[B.module]=(y[B.module]||0)+1});const _=Object.values(b).sort((B,k)=>k.total-B.total),S=Object.entries(y).map(([B,k])=>({label:B,value:k})).sort((B,k)=>k.value-B.value);return{stats:g,userStats:_,moduleStats:S}},[e]);return c.jsxs("div",{className:"space-y-8",children:[a&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:a}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Llamadas a la API de IA"}),r&&c.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando estadsticas..."}),!r&&e.length===0&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg mb-6",children:"No hay registros de llamadas a la API en la nube."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsx(Rg,{title:"Llamadas Hoy",value:r?"--":l.today,description:`Lmite recomendado: ${PQ}`,alert:l.today>PQ}),c.jsx(Rg,{title:"Llamadas esta Semana",value:r?"--":l.week}),c.jsx(Rg,{title:"Llamadas este Mes",value:r?"--":l.month})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[c.jsx(LB,{title:"Uso por Mdulo",data:d,colorClass:"bg-sky-500"}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Uso por Usuario"}),c.jsx("div",{className:"overflow-x-auto max-h-96",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Usuario"}),c.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Hoy"}),c.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Mes"}),c.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Total"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:!r&&u.length>0?u.map(f=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:f.email}),c.jsx("td",{className:"px-4 py-2 text-center text-sm",children:f.today}),c.jsx("td",{className:"px-4 py-2 text-center text-sm",children:f.month}),c.jsx("td",{className:"px-4 py-2 text-center text-sm font-bold",children:f.total})]},f.email)):c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"text-center py-6 text-slate-500",children:r?"Cargando...":"No hay registros."})})})]})})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Almacenamiento Firestore"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Estadsticas de uso de Firestore (simuladas)."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(Rg,{title:"Documentos Creados (Hoy)",value:i.documentsCreatedToday,description:"Nuevos documentos"}),c.jsx(Rg,{title:"Lecturas de Firestore (Hoy)",value:i.readsToday,description:"Operaciones de lectura"}),c.jsx(Rg,{title:"Total de Documentos",value:i.totalDocuments,description:"En todas las colecciones"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[c.jsx(LB,{title:"Actividad por Coleccin",data:i.collectionsActivity,colorClass:"bg-green-500"}),c.jsx(LB,{title:"Actividad Diaria (ltimos 7 das)",data:i.dailyActivity,colorClass:"bg-purple-500"})]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aIe="type.googleapis.com/google.protobuf.Int64Value",sIe="type.googleapis.com/google.protobuf.UInt64Value";function tte(e,t){const r={};for(const n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}function rS(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>rS(t));if(typeof e=="function"||typeof e=="object")return tte(e,t=>rS(t));throw new Error("Data cannot be encoded in JSON: "+e)}function ix(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case aIe:case sIe:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>ix(t)):typeof e=="function"||typeof e=="object"?tte(e,t=>ix(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ll extends gd{constructor(t,r,n){super(`${DD}/${t}`,r||""),this.details=n,Object.setPrototypeOf(this,Ll.prototype)}}function iIe(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function nS(e,t){let r=iIe(e),n=r,a;try{const s=t&&t.error;if(s){const i=s.status;if(typeof i=="string"){if(!RQ[i])return new Ll("internal","internal");r=RQ[i],n=i}const o=s.message;typeof o=="string"&&(n=o),a=s.details,a!==void 0&&(a=ix(a))}}catch{}return r==="ok"?null:new Ll(r,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oIe{constructor(t,r,n,a){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,gc(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||a==null||a.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(t){const r=await this.getAuthToken(),n=await this.getMessagingToken(),a=await this.getAppCheckToken(t);return{authToken:r,messagingToken:n,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="us-central1",lIe=/^data: (.*?)(?:\n|$)/;function cIe(e){let t=null;return{promise:new Promise((r,n)=>{t=setTimeout(()=>{n(new Ll("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class uIe{constructor(t,r,n,a,s=jj,i=(...o)=>fetch(...o)){this.app=t,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new oIe(t,r,n,a),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=jj}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${r}.cloudfunctions.net/${t}`}}function dIe(e,t,r){const n=th(t);e.emulatorOrigin=`http${n?"s":""}://${t}:${r}`,n&&(w5(e.emulatorOrigin),E5("Functions",!0))}function AIe(e,t,r){const n=a=>hIe(e,t,a,{});return n.stream=(a,s)=>pIe(e,t,a,s),n}async function fIe(e,t,r,n){r["Content-Type"]="application/json";let a;try{a=await n(e,{method:"POST",body:JSON.stringify(t),headers:r})}catch{return{status:0,json:null}}let s=null;try{s=await a.json()}catch{}return{status:a.status,json:s}}async function rte(e,t){const r={},n=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return n.authToken&&(r.Authorization="Bearer "+n.authToken),n.messagingToken&&(r["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=n.appCheckToken),r}function hIe(e,t,r,n){const a=e._url(t);return mIe(e,a,r,n)}async function mIe(e,t,r,n){r=rS(r);const a={data:r},s=await rte(e,n),i=n.timeout||7e4,o=cIe(i),l=await Promise.race([fIe(t,a,s,e.fetchImpl),o.promise,e.cancelAllRequests]);if(o.cancel(),!l)throw new Ll("cancelled","Firebase Functions instance was deleted.");const u=nS(l.status,l.json);if(u)throw u;if(!l.json)throw new Ll("internal","Response is not valid JSON object.");let d=l.json.data;if(typeof d>"u"&&(d=l.json.result),typeof d>"u")throw new Ll("internal","Response is missing data field.");return{data:ix(d)}}function pIe(e,t,r,n){const a=e._url(t);return gIe(e,a,r,n||{})}async function gIe(e,t,r,n){var h;r=rS(r);const a={data:r},s=await rte(e,n);s["Content-Type"]="application/json",s.Accept="text/event-stream";let i;try{i=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(a),headers:s,signal:n==null?void 0:n.signal})}catch(p){if(p instanceof Error&&p.name==="AbortError"){const g=new Ll("cancelled","Request was cancelled.");return{data:Promise.reject(g),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(g)}}}}}}const v=nS(0,null);return{data:Promise.reject(v),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(v)}}}}}}let o,l;const u=new Promise((p,v)=>{o=p,l=v});(h=n==null?void 0:n.signal)==null||h.addEventListener("abort",()=>{const p=new Ll("cancelled","Request was cancelled.");l(p)});const d=i.body.getReader(),f=vIe(d,o,l,n==null?void 0:n.signal);return{stream:{[Symbol.asyncIterator](){const p=f.getReader();return{async next(){const{value:v,done:g}=await p.read();return{value:v,done:g}},async return(){return await p.cancel(),{done:!0,value:void 0}}}}},data:u}}function vIe(e,t,r,n){const a=(i,o)=>{const l=i.match(lIe);if(!l)return;const u=l[1];try{const d=JSON.parse(u);if("result"in d){t(ix(d.result));return}if("message"in d){o.enqueue(ix(d.message));return}if("error"in d){const f=nS(0,d);o.error(f),r(f);return}}catch(d){if(d instanceof Ll){o.error(d),r(d);return}}},s=new TextDecoder;return new ReadableStream({start(i){let o="";return l();async function l(){if(n!=null&&n.aborted){const u=new Ll("cancelled","Request was cancelled");return i.error(u),r(u),Promise.resolve()}try{const{value:u,done:d}=await e.read();if(d){o.trim()&&a(o.trim(),i),i.close();return}if(n!=null&&n.aborted){const h=new Ll("cancelled","Request was cancelled");i.error(h),r(h),await e.cancel();return}o+=s.decode(u,{stream:!0});const f=o.split(`
`);o=f.pop()||"";for(const h of f)h.trim()&&a(h.trim(),i);return l()}catch(u){const d=u instanceof Ll?u:nS(0,null);i.error(d),r(d)}}},cancel(){return e.cancel()}})}const LQ="@firebase/functions",MQ="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xIe="auth-internal",bIe="app-check-internal",yIe="messaging-internal";function wIe(e){const t=(r,{instanceIdentifier:n})=>{const a=r.getProvider("app").getImmediate(),s=r.getProvider(xIe),i=r.getProvider(yIe),o=r.getProvider(bIe);return new uIe(a,s,i,o,n)};D0(new Lf(DD,t,"PUBLIC").setMultipleInstances(!0)),Eu(LQ,MQ,e),Eu(LQ,MQ,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(e=C5(),t=jj){const n=lw(fa(e),DD).getImmediate({identifier:t}),a=T6("functions");return a&&EIe(n,...a),n}function EIe(e,t,r){dIe(fa(e),t,r)}function Lg(e,t,r){return AIe(fa(e),t)}wIe();const UQ=Rt(jr,"usuarios");async function nte(){try{console.log(" [DEBUG] Obteniendo usuarios de Firestore..."),console.log(" [DEBUG] Collection ref:",UQ);const e=await Hs(UQ);if(console.log(` [DEBUG] Encontrados ${e.docs.length} documentos en la coleccin usuarios`),e.empty)return console.log("  [DEBUG] La coleccin usuarios est vaca"),[];const t=e.docs.map(r=>{const n=r.data();return console.log(" [DEBUG] Usuario encontrado:",{id:r.id,...n}),{id:r.id,...n}});return console.log(" [DEBUG] Usuarios procesados correctamente:",t.length),console.log(" [DEBUG] Lista completa de usuarios:",t),t}catch(e){throw console.error(" [DEBUG] Error al obtener usuarios:",e),console.error(" [DEBUG] Error details:",{code:e.code,message:e.message,stack:e.stack}),e}}const QQ=Object.values(Xt),MB=e=>e?e.trim().toLowerCase().replace(//g,"").replace(/\s+(medio|bsico|basico)/g,"").replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1").replace(/^(\d)(?![])/,"$1").replace(/\s+/g,"").toUpperCase():"",CIe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!1),[a,s]=I.useState("Usuarios"),[i,o]=I.useState({nombreCompleto:"",email:"",rut:"",profile:Xt.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),[l,u]=I.useState(null),[d,f]=I.useState(""),[h,p]=I.useState(""),[v,g]=I.useState(""),[b,y]=I.useState(null),[_,S]=I.useState(null),[B,k]=I.useState(null),O=I.useCallback(async()=>{n(!0);try{const H=await nte();t(H)}catch(H){console.error("Error al cargar usuarios",H),y("No se pudieron cargar los usuarios.")}finally{n(!1)}},[]);I.useEffect(()=>{O()},[O]);const w=I.useCallback(H=>{const{name:V,value:G}=H.target;o(ne=>({...ne,[V]:G,curso:V==="profile"&&G!==Xt.ESTUDIANTE?"":ne.curso,cursos:V==="profile"&&G!==Xt.PROFESORADO?[]:ne.cursos,asignaturas:V==="profile"&&G!==Xt.PROFESORADO?[]:ne.asignaturas}))},[]),C=I.useCallback((H,V)=>{o(G=>{const ne=G[H]||[],R=ne.includes(V)?ne.filter(W=>W!==V):[...ne,V];return{...G,[H]:R}})},[]),N=I.useCallback(()=>{o({nombreCompleto:"",email:"",rut:"",profile:Xt.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),u(null),y(null)},[]),P=I.useCallback(async H=>{H.preventDefault(),y(null);const{nombreCompleto:V,email:G,profile:ne,curso:R,password:W}=i;if(!V.trim()||!G.trim()){y("Nombre Completo y Email son obligatorios.");return}if(ne===Xt.ESTUDIANTE&&!R){y('El campo "Curso" es obligatorio para Estudiantes.');return}if(!l&&!(W!=null&&W.trim())){y("La contrasea es obligatoria al crear un nuevo usuario.");return}const Y=G1();try{if(l){const te=Lg(Y,"updateUser"),ie={...i,password:(W==null?void 0:W.trim())||void 0,curso:ne===Xt.ESTUDIANTE?MB(R||""):void 0};await te(ie)}else{const te=Lg(Y,"createUser"),ie={...i,curso:ne===Xt.ESTUDIANTE?MB(R||""):void 0};await te(ie)}await O(),N()}catch(te){console.error("Error al guardar usuario:",te),y(te.message||"Error al guardar el usuario.")}},[i,l,O,N]),j=I.useCallback(H=>{u(H.email),o({nombreCompleto:H.nombreCompleto,email:H.email,rut:H.rut||"",profile:H.profile,password:"",curso:H.curso||"",cursos:H.cursos||[],asignaturas:H.asignaturas||[]}),setTimeout(()=>{const V=document.querySelector("form");V&&V.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},[]),F=I.useCallback(async H=>{if(window.confirm(`Est seguro de que desea eliminar al usuario ${H}? Esta accin es irreversible.`))try{const V=G1();await Lg(V,"deleteUser")({email:H}),await O()}catch(V){console.error("Error al eliminar usuario:",V),y(V.message||"No se pudo borrar el usuario.")}},[O]),M=async H=>{var W;const V=(W=H.target.files)==null?void 0:W[0];if(!V)return;S({message:"Procesando archivo...",isError:!1});const G=G1(),ne=Lg(G,"createUser"),R=new FileReader;R.onload=async Y=>{var te;try{const ie=new Uint8Array((te=Y.target)==null?void 0:te.result),me=Ly(ie,{type:"array"}),oe=me.Sheets[me.SheetNames[0]],ce=vu.sheet_to_json(oe);if(ce.length===0){S({message:"El archivo est vaco o no tiene el formato correcto.",isError:!0});return}const ge=ce.map(_e=>{const Ae=_e.Nombre||_e.nombre,je=_e.Correo||_e.correo||_e.Email||_e.email,$e=_e.Curso||_e.curso,Ze=_e.RUT||_e.rut;return!Ae||!je||!$e?Promise.resolve({email:je||"Sin email",error:"Datos incompletos"}):ne({nombreCompleto:String(Ae).trim(),email:String(je).trim(),profile:Xt.ESTUDIANTE,curso:MB(String($e).trim()),rut:Ze?String(Ze).trim():"",password:"recoleta"}).catch(ye=>({email:je,error:ye.message}))}),De=await Promise.all(ge),re=De.filter(_e=>!_e.error).length,Se=De.filter(_e=>_e.error);let Pe=`Carga completada. ${re} estudiantes agregados.`;Se.length>0&&(Pe+=` ${Se.length} fallaron.`,console.error("Errores en carga masiva:",Se)),S({message:Pe,isError:Se.length>0}),await O()}catch(ie){S({message:`Error: ${ie.message}`,isError:!0})}},R.readAsArrayBuffer(V),H.target.value=""},Q=async H=>{var W;const V=(W=H.target.files)==null?void 0:W[0];if(!V)return;k({message:"Procesando archivo...",isError:!1});const G=G1(),ne=Lg(G,"createUser"),R=new FileReader;R.onload=async Y=>{var te;try{const ie=new Uint8Array((te=Y.target)==null?void 0:te.result),me=Ly(ie,{type:"array"}),oe=me.Sheets[me.SheetNames[0]],ce=vu.sheet_to_json(oe);if(ce.length===0){k({message:"El archivo est vaco o no tiene el formato correcto.",isError:!0});return}const ge=ce.map(_e=>{const Ae=_e.Nombre||_e.nombre,je=_e.Correo||_e.correo||_e.Email||_e.email,$e=_e.Perfil||_e.perfil||_e.Profile||_e.profile,Ze=_e.RUT||_e.rut;return!Ae||!je||!$e?Promise.resolve({email:je||"Sin email",error:"Datos incompletos"}):ne({nombreCompleto:String(Ae).trim(),email:String(je).trim(),profile:$e,rut:Ze?String(Ze).trim():"",password:"recoleta"}).catch(ye=>({email:je,error:ye.message}))}),De=await Promise.all(ge),re=De.filter(_e=>!_e.error).length,Se=De.filter(_e=>_e.error);let Pe=`Carga completada. ${re} usuarios agregados.`;Se.length>0&&(Pe+=` ${Se.length} fallaron.`,console.error("Errores en carga masiva:",Se)),k({message:Pe,isError:Se.length>0}),await O()}catch(ie){k({message:`Error: ${ie.message}`,isError:!0})}},R.readAsArrayBuffer(V),H.target.value=""},J="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",q=I.useMemo(()=>Array.from(new Set(e.filter(H=>H.profile===Xt.ESTUDIANTE&&H.curso).map(H=>H.curso))).sort(),[e]),Z=I.useMemo(()=>e.filter(H=>(d===""||H.nombreCompleto.toLowerCase().includes(d.toLowerCase())||H.email.toLowerCase().includes(d.toLowerCase()))&&(h===""||H.profile===h)&&(v===""||H.curso===v)),[e,d,h,v]);return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Administracin"}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>s("Usuarios"),className:`${a==="Usuarios"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Gestin de Usuarios"}),c.jsx("button",{onClick:()=>s("Monitor de Uso"),className:`${a==="Monitor de Uso"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Monitor de Uso"})]})}),a==="Usuarios"&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Carga Masiva"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Cargar Estudiantes (Excel)"}),c.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:M,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100 dark:file:bg-amber-900 dark:file:text-amber-300"}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Columnas requeridas: Nombre, Correo, Curso"}),_&&c.jsx("p",{className:`text-sm mt-2 ${_.isError?"text-red-600":"text-green-600"}`,children:_.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Cargar Personal (Excel)"}),c.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Q,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100 dark:file:bg-amber-900 dark:file:text-amber-300"}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Columnas requeridas: Nombre, Correo, Perfil"}),B&&c.jsx("p",{className:`text-sm mt-2 ${B.isError?"text-red-600":"text-green-600"}`,children:B.message})]})]})]}),c.jsxs("div",{id:"formulario-usuario",className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:l?"Editando usuario":"Agregar nuevo usuario"}),c.jsxs("form",{onSubmit:P,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),c.jsx("input",{type:"text",name:"nombreCompleto",value:i.nombreCompleto,onChange:w,className:J,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:i.email,onChange:w,className:J,required:!0,readOnly:!!l})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contrasea"}),c.jsx("input",{type:"password",name:"password",value:i.password||"",onChange:w,placeholder:l?"Dejar en blanco para no cambiar":"Contrasea temporal",className:J})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT (Opcional)"}),c.jsx("input",{type:"text",name:"rut",value:i.rut||"",onChange:w,placeholder:"12.345.678-9",className:J})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Perfil de Usuario"}),c.jsx("select",{name:"profile",value:i.profile,onChange:w,className:J,required:!0,children:QQ.map(H=>c.jsx("option",{value:H,children:H},H))})]}),i.profile===Xt.ESTUDIANTE&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{name:"curso",value:i.curso,onChange:w,className:J,required:!0,children:[c.jsx("option",{value:"",children:"Seleccione un curso"}),Za.map(H=>c.jsx("option",{value:H,children:H},H))]})]})]}),i.profile===Xt.PROFESORADO&&c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border-l-4 border-blue-400",children:[c.jsxs("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[c.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm mr-2",children:""}),"Asignacin de Cursos"]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Za.map(H=>{var V;return c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer bg-white dark:bg-slate-700 p-2 rounded border hover:bg-blue-50 dark:hover:bg-blue-800/20",children:[c.jsx("input",{type:"checkbox",checked:((V=i.cursos)==null?void 0:V.includes(H))||!1,onChange:()=>C("cursos",H),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),c.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium",children:H})]},H)})})]}),i.profile===Xt.PROFESORADO&&c.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border-l-4 border-green-400",children:[c.jsxs("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[c.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-sm mr-2",children:""}),"Asignacin de Asignaturas"]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Hi.map(H=>{var V;return c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer bg-white dark:bg-slate-700 p-2 rounded border hover:bg-green-50 dark:hover:bg-green-800/20",children:[c.jsx("input",{type:"checkbox",checked:((V=i.asignaturas)==null?void 0:V.includes(H))||!1,onChange:()=>C("asignaturas",H),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),c.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium",children:H})]},H)})})]}),b&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:b}),c.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4 flex-wrap",children:[l&&c.jsx("button",{type:"button",onClick:N,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"button",onClick:async()=>{try{console.log(" Agregando custom claim...");const H=G1(),G=await Lg(H,"addCustomClaim")({email:"fernando.sagredo@industrialderecoleta.cl",profile:"SUBDIRECCION"});console.log(" Custom claim agregado:",G),y(" Custom claim agregado exitosamente")}catch(H){console.error(" Error al agregar custom claim:",H),y(`Error: ${H.message}`)}},className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 text-sm",children:" Claim"}),c.jsx("button",{type:"button",onClick:async()=>{var H,V,G,ne,R;try{const{auth:W}=await L_(async()=>{const{auth:ie}=await Promise.resolve().then(()=>yve);return{auth:ie}},void 0);console.log(" Usuario actual:",(H=W.currentUser)==null?void 0:H.email);const Y=await((V=W.currentUser)==null?void 0:V.getIdToken(!0));console.log(" Token refreshed:",!!Y);const te=await((G=W.currentUser)==null?void 0:G.getIdTokenResult());console.log(" Claims completos:",te==null?void 0:te.claims),console.log(" Profile claim:",(ne=te==null?void 0:te.claims)==null?void 0:ne.profile),((R=te==null?void 0:te.claims)==null?void 0:R.profile)==="SUBDIRECCION"?y(" Custom claim FUNCIONANDO - Ya puedes crear/editar usuarios"):y(` Custom claim faltante. Claims: ${JSON.stringify(te==null?void 0:te.claims)}`)}catch(W){console.error(" Error verificando token:",W),y(`Error verificando token: ${W.message}`)}},className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 text-sm",children:" Token"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:l?"Actualizar Usuario":"Agregar Usuario"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Listado de Usuarios"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx("div",{children:c.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",value:d,onChange:H=>f(H.target.value),className:J})}),c.jsx("div",{children:c.jsxs("select",{value:h,onChange:H=>p(H.target.value),className:J,children:[c.jsx("option",{value:"",children:"Todos los perfiles"}),QQ.map(H=>c.jsx("option",{value:H,children:H},H))]})}),c.jsx("div",{children:c.jsxs("select",{value:v,onChange:H=>g(H.target.value),className:J,children:[c.jsx("option",{value:"",children:"Todos los cursos"}),q.map(H=>c.jsx("option",{value:H,children:H},H))]})})]}),r?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-slate-500",children:"Cargando usuarios..."})}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Nombre"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Perfil"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Curso/Asignaciones"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:Z.map(H=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",children:H.nombreCompleto}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-300",children:H.email}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-300",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${H.profile===Xt.ESTUDIANTE?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":H.profile===Xt.PROFESORADO?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"}`,children:H.profile})}),c.jsxs("td",{className:"px-4 py-4 text-sm text-slate-500 dark:text-slate-300",children:[H.profile===Xt.ESTUDIANTE&&c.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-slate-100 text-slate-700 rounded dark:bg-slate-600 dark:text-slate-300",children:H.curso||"Sin curso"}),H.profile===Xt.PROFESORADO&&c.jsxs("div",{className:"space-y-1",children:[H.cursos&&H.cursos.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Cursos:"}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[H.cursos.slice(0,3).map(V=>c.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded dark:bg-blue-900 dark:text-blue-300",children:V},V)),H.cursos.length>3&&c.jsxs("span",{className:"inline-flex px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded dark:bg-slate-600 dark:text-slate-400",children:["+",H.cursos.length-3]})]})]}),H.asignaturas&&H.asignaturas.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Asignaturas:"}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[H.asignaturas.slice(0,2).map(V=>c.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-green-100 text-green-700 rounded dark:bg-green-900 dark:text-green-300",children:V},V)),H.asignaturas.length>2&&c.jsxs("span",{className:"inline-flex px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded dark:bg-slate-600 dark:text-slate-400",children:["+",H.asignaturas.length-2]})]})]}),(!H.cursos||H.cursos.length===0)&&(!H.asignaturas||H.asignaturas.length===0)&&c.jsx("span",{className:"text-xs text-slate-400 italic",children:"Sin asignaciones"})]}),H.profile!==Xt.ESTUDIANTE&&H.profile!==Xt.PROFESORADO&&c.jsx("span",{className:"text-xs text-slate-400",children:"-"})]}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[c.jsx("button",{onClick:()=>j(H),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:""}),c.jsx("button",{onClick:()=>F(H.email),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]},H.email))})]}),Z.length===0&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:e.length===0?"No hay usuarios registrados.":"No se encontraron usuarios con los filtros aplicados."})})]})]})]}),a==="Monitor de Uso"&&c.jsx(nIe,{})]})},ox="seguimiento_dual_records",_Ie=e=>{const t=e.data(),r=n=>n&&typeof n.toDate=="function"?n.toDate().toISOString().split("T")[0]:n;return{id:e.id,...t,fechaDesvinculacion:r(t.fechaDesvinculacion),fecha1raSupervision1erSemestre:r(t.fecha1raSupervision1erSemestre),fecha2daSupervision1erSemestre:r(t.fecha2daSupervision1erSemestre),fecha1raSupervision2doSemestre:r(t.fecha1raSupervision2doSemestre),fecha2daSupervision2doSemestre:r(t.fecha2daSupervision2doSemestre),fechaSupervisionExcepcional:r(t.fechaSupervisionExcepcional)}},SIe=e=>{const t=Zt(Rt(jt,ox),Gr("nombreEstudiante","asc"));return wr(t,n=>{const a=n.docs.map(s=>_Ie(s));e(a)},n=>{console.error("Error al suscribirse a los registros de seguimiento:",n),e([])})},aS=e=>{const t={...e};return["fechaDesvinculacion","fecha1raSupervision1erSemestre","fecha2daSupervision1erSemestre","fecha1raSupervision2doSemestre","fecha2daSupervision2doSemestre","fechaSupervisionExcepcional"].forEach(n=>{t[n]&&typeof t[n]=="string"&&(t[n]=mr.fromDate(new Date(t[n]+"T00:00:00")))}),t},NIe=async e=>{try{const t=aS(e);return(await qn(Rt(jt,ox),t)).id}catch(t){throw console.error("Error al crear el registro:",t),new Error("No se pudo crear el registro de seguimiento.")}},HQ=async(e,t)=>{try{const r=vr(jt,ox,e),n=aS(t);await fo(r,n,{merge:!0})}catch(r){throw console.error("Error al actualizar el registro:",r),new Error("No se pudo actualizar el registro.")}},kIe=async e=>{try{const t=vr(jt,ox,e);await $s(t)}catch(t){throw console.error("Error al eliminar el registro:",t),new Error("No se pudo eliminar el registro.")}},BIe=async e=>{const t=BO(jt),r=Rt(jt,ox);let n=0,a=0;for(const s of e){const i=Zt(r,Fn("rutEstudiante","==",s.rutEstudiante)),o=await Hs(i);if(o.empty){const l=vr(r);t.set(l,aS(s)),a++}else{const l=o.docs[0].id,u=vr(jt,ox,l);t.set(u,aS(s),{merge:!0}),n++}}return await t.commit(),{updated:n,created:a}},TIe={Vinculado:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300",Desvinculado:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Empresa:"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300"},IIe=e=>{if(!e||e===""||e==="N/A"||e==="Pendiente")return null;try{if(typeof e=="number"){const t=new Date(1900,0,1),r=new Date(t.getTime()+(e-2)*24*60*60*1e3);return isNaN(r.getTime())?null:r.toISOString().split("T")[0]}if(e instanceof Date)return isNaN(e.getTime())?null:e.toISOString().split("T")[0];if(typeof e=="string"){const t=e.trim();if(t==="")return null;const r=new Date(t);return isNaN(r.getTime())?null:r.toISOString().split("T")[0]}return null}catch(t){return console.warn("Error parsing date:",e,t),null}},jIe=e=>{if(typeof e=="boolean")return e;if(typeof e=="string"){const t=e.toLowerCase().trim();return["true","verdadero","s","si","yes","1","x"].includes(t)}return typeof e=="number"?e===1:!1},FIe=({record:e,onSave:t,onClose:r})=>{const[n,a]=I.useState(e),s="w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 dark:text-white",i=l=>{const{name:u,value:d,type:f,checked:h}=l.target;a(p=>({...p,[u]:f==="checkbox"?h:d}))},o=()=>{t(n)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:r,children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl animate-fade-in-up",onClick:l=>l.stopPropagation(),children:[c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo LIR",className:"w-12 h-12 object-contain"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento de Supervisin"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e.nombreEstudiante})]})]}),c.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-4 text-slate-700 dark:text-slate-300",children:[c.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[c.jsx("legend",{className:"font-semibold text-lg px-2",children:"1er Semestre"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`f1s1-${e.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisin"}),c.jsx("input",{id:`f1s1-${e.id}`,type:"date",name:"fecha1raSupervision1erSemestre",value:n.fecha1raSupervision1erSemestre||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizada1raSupervision1erSemestre",checked:!!n.realizada1raSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`f2s1-${e.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisin"}),c.jsx("input",{id:`f2s1-${e.id}`,type:"date",name:"fecha2daSupervision1erSemestre",value:n.fecha2daSupervision1erSemestre||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizada2daSupervision1erSemestre",checked:!!n.realizada2daSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]})]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[c.jsx("legend",{className:"font-semibold text-lg px-2",children:"2do Semestre"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`f1s2-${e.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisin"}),c.jsx("input",{id:`f1s2-${e.id}`,type:"date",name:"fecha1raSupervision2doSemestre",value:n.fecha1raSupervision2doSemestre||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizada1raSupervision2doSemestre",checked:!!n.realizada1raSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`f2s2-${e.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisin"}),c.jsx("input",{id:`f2s2-${e.id}`,type:"date",name:"fecha2daSupervision2doSemestre",value:n.fecha2daSupervision2doSemestre||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizada2daSupervision2doSemestre",checked:!!n.realizada2daSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]})]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[c.jsx("legend",{className:"font-semibold text-lg px-2",children:"Supervisin Excepcional"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{htmlFor:`fex-${e.id}`,className:"text-sm font-medium",children:"Fecha Supervisin"}),c.jsx("input",{id:`fex-${e.id}`,type:"date",name:"fechaSupervisionExcepcional",value:n.fechaSupervisionExcepcional||"",onChange:i,className:s})]}),c.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",name:"realizadaSupervisionExcepcional",checked:!!n.realizadaSupervisionExcepcional,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),c.jsx("span",{children:"Realizada"})]})]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[c.jsx("legend",{className:"font-semibold text-lg px-2",children:"Maestro Gua (Empresa)"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`mg-nombre-${e.id}`,className:"text-sm font-medium",children:"Nombre Maestro Gua"}),c.jsx("input",{id:`mg-nombre-${e.id}`,type:"text",name:"nombreMaestroGuia",value:n.nombreMaestroGuia||"",onChange:i,className:s+" mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`mg-contacto-${e.id}`,className:"text-sm font-medium",children:"Contacto (Email/Telfono)"}),c.jsx("input",{id:`mg-contacto-${e.id}`,type:"text",name:"contactoMaestroGuia",value:n.contactoMaestroGuia||"",onChange:i,className:s+" mt-1"})]})]})]})]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:r,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cerrar"}),c.jsx("button",{type:"button",onClick:o,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},OIe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!0),a=I.useMemo(()=>({nombreEstudiante:"",rutEstudiante:"",curso:ip[0],profesorTutorEmpresa:"",rutEmpresa:"",nombreEmpresa:"",direccionEmpresa:"",comuna:"",estado:uB[0],fechaDesvinculacion:"",motivoDesvinculacion:""}),[]),[s,i]=I.useState(a),[o,l]=I.useState(null),[u,d]=I.useState(""),[f,h]=I.useState({curso:"",empresa:"",estado:"",comuna:"",profesor:""}),[p,v]=I.useState(null),[g,b]=I.useState(null),[y,_]=I.useState(!1),[S,B]=I.useState(null);I.useEffect(()=>{n(!0);const H=SIe(V=>{t(V),n(!1)});return()=>H()},[]);const k=I.useCallback(H=>{const{name:V,value:G}=H.target;i(ne=>({...ne,[V]:G}))},[]),O=I.useCallback(H=>{const{name:V,value:G}=H.target;h(ne=>({...ne,[V]:G}))},[]),w=I.useCallback(()=>{i(a),l(null),v(null)},[a]),C=async H=>{H.preventDefault(),v(null);const G=["nombreEstudiante","rutEstudiante","nombreEmpresa"].find(ne=>{var R;return!((R=s[ne])!=null&&R.trim())});if(G){v(`El campo '${G}' es obligatorio.`);return}try{o?await HQ(o,s):await NIe(s),w()}catch(ne){console.error(ne),v("No se pudo guardar el registro.")}},N=I.useCallback(H=>{window.scrollTo({top:0,behavior:"smooth"}),l(H.id),i(H)},[]),P=async H=>{if(window.confirm("Est seguro de que desea eliminar este registro?"))try{await kIe(H)}catch(V){console.error(V),v("No se pudo eliminar el registro.")}},j=H=>{B(H),_(!0)},F=()=>{B(null),_(!1)},M=async H=>{try{await HQ(H.id,H),F()}catch(V){console.error(V),alert("No se pudieron guardar los cambios de supervisin.")}},Q=()=>{const H=["Nombre","RUT","Curso 2025","Profesor Tutor","1 Visita 1 Semestre","Realizada 1 Visita S1","2 Visita 1 Semestre","Realizada 2 Visita S1","Visita Emergencia 1 Semestre","3 Visita","Realizada 3 Visita S2","4 Visita","Realizada 4 Visita S2","Empresa","RUT-Empresa","Direccin","Comuna","Estado","Fecha de Desvinculacin","Motivo Desvinculacin","Maestro Gua","Correo maestro gua"],V=vu.aoa_to_sheet([H]),G=vu.book_new();vu.book_append_sheet(G,V,"Plantilla"),ID(G,"Plantilla_Seguimiento_Dual.xlsx")},J=H=>{var ne;const V=(ne=H.target.files)==null?void 0:ne[0];if(!V)return;b({message:"Procesando archivo...",isError:!1});const G=new FileReader;G.onload=async R=>{var W;try{const Y=new Uint8Array((W=R.target)==null?void 0:W.result),te=Ly(Y,{type:"array",cellDates:!0,dateNF:"yyyy-mm-dd"}),ie=te.SheetNames[0],me=te.Sheets[ie],oe=vu.sheet_to_json(me,{raw:!1,dateNF:"yyyy-mm-dd"});if(oe.length===0)throw new Error("El archivo est vaco.");const ce={nombre:"nombreEstudiante",rut:"rutEstudiante","curso 2025":"curso","profesor tutor":"profesorTutorEmpresa","1 visita 1 semestre":"fecha1raSupervision1erSemestre","realizada 1 visita s1":"realizada1raSupervision1erSemestre","2 visita 1 semestre":"fecha2daSupervision1erSemestre","realizada 2 visita s1":"realizada2daSupervision1erSemestre","visita emergencia 1 semestre":"fechaSupervisionExcepcional","3 visita":"fecha1raSupervision2doSemestre","realizada 3 visita s2":"realizada1raSupervision2doSemestre","4 visita":"fecha2daSupervision2doSemestre","realizada 4 visita s2":"realizada2daSupervision2doSemestre",empresa:"nombreEmpresa","rut-empresa":"rutEmpresa",direccin:"direccionEmpresa",comuna:"comuna",estado:"estado","fecha de desvinculacin":"fechaDesvinculacion","motivo desvinculacin":"motivoDesvinculacion","maestro gua":"nombreMaestroGuia","correo maestro gua":"contactoMaestroGuia"},ge=Object.keys(oe[0]).map(Pe=>Pe.trim().toLowerCase()),re=["nombre","rut","curso 2025","empresa","estado"].find(Pe=>!ge.includes(Pe));if(re)throw new Error(`Falta la columna requerida: '${re}'`);const Se=oe.map((Pe,_e)=>{try{const Ae={};for(const je in Pe){const $e=ce[je.trim().toLowerCase()];if($e){let Ze=Pe[je];["fecha1raSupervision1erSemestre","fecha2daSupervision1erSemestre","fechaSupervisionExcepcional","fecha1raSupervision2doSemestre","fecha2daSupervision2doSemestre","fechaDesvinculacion"].includes($e)?(Ze=IIe(Ze),Ze&&(Ae[$e]=Ze)):$e.includes("realizada")?Ae[$e]=jIe(Ze):Ze!=null&&Ze!==""&&(Ae[$e]=String(Ze).trim())}}return!Ae.nombreEstudiante||!Ae.rutEstudiante?(console.warn(`Fila ${_e+2}: Faltan campos requeridos`),null):Ae}catch(Ae){return console.error(`Error procesando fila ${_e+2}:`,Ae),null}}).filter(Pe=>Pe!==null);if(console.log("Registros procesados:",Se),Se.length>0){const{updated:Pe,created:_e}=await BIe(Se);b({message:`Carga exitosa. ${_e} registros creados, ${Pe} actualizados.`,isError:!1})}else b({message:"No se encontraron registros vlidos para procesar. Verifique el formato del archivo.",isError:!0})}catch(Y){console.error("Error completo:",Y),b({message:`Error al procesar el archivo: ${Y.message}. Verifique que las fechas estn en formato correcto.`,isError:!0})}},G.readAsArrayBuffer(V)},q="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",Z=I.useMemo(()=>e.filter(H=>(u===""||H.nombreEstudiante.toLowerCase().includes(u.toLowerCase())||H.nombreEmpresa.toLowerCase().includes(u.toLowerCase())||H.rutEstudiante.includes(u))&&(f.curso===""||H.curso===f.curso)&&(f.empresa===""||H.nombreEmpresa===f.empresa)&&(f.estado===""||H.estado===f.estado)&&(f.comuna===""||H.comuna===f.comuna)&&(f.profesor===""||H.profesorTutorEmpresa===f.profesor)).sort((H,V)=>H.nombreEstudiante.localeCompare(V.nombreEstudiante)),[e,u,f]);return I.useMemo(()=>{const H=new Set,V=new Set;return e.forEach(G=>{G.nombreEmpresa&&H.add(G.nombreEmpresa),G.comuna&&V.add(G.comuna)}),{empresas:Array.from(H).sort(),comunas:Array.from(V).sort()}},[e]),r?c.jsx("div",{className:"text-center py-10",children:"Cargando registros..."}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo Gestin Pedaggica LIR",className:"w-12 h-12 object-contain"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento de Prctica Dual"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:o?"Editando registro existente.":"Registre un nuevo estudiante en prctica."})]})]}),c.jsxs("form",{onSubmit:C,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Estudiante"}),c.jsx("input",{type:"text",name:"nombreEstudiante",value:s.nombreEstudiante,onChange:k,className:q,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Estudiante"}),c.jsx("input",{type:"text",name:"rutEstudiante",value:s.rutEstudiante,onChange:k,className:q,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsx("select",{name:"curso",value:s.curso,onChange:k,className:q,required:!0,children:ip.map(H=>c.jsx("option",{value:H,children:H},H))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor Tutor"}),c.jsxs("select",{name:"profesorTutorEmpresa",value:s.profesorTutorEmpresa,onChange:k,className:q,children:[c.jsx("option",{value:"",children:"Seleccione un profesor"}),rj.map(H=>c.jsx("option",{value:H,children:H},H))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Empresa"}),c.jsx("input",{type:"text",name:"nombreEmpresa",value:s.nombreEmpresa,onChange:k,className:q,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Empresa"}),c.jsx("input",{type:"text",name:"rutEmpresa",value:s.rutEmpresa,onChange:k,className:q})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Direccin Empresa"}),c.jsx("input",{type:"text",name:"direccionEmpresa",value:s.direccionEmpresa,onChange:k,className:q})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Comuna"}),c.jsx("input",{type:"text",name:"comuna",value:s.comuna,onChange:k,className:q})]}),c.jsxs("div",{className:"lg:col-span-4",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estado"}),c.jsx("select",{name:"estado",value:s.estado,onChange:k,className:q,children:uB.map(H=>c.jsx("option",{value:H,children:H},H))})]})]}),s.estado==="Desvinculado"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border border-red-200 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Fecha de Desvinculacin"}),c.jsx("input",{type:"date",name:"fechaDesvinculacion",value:s.fechaDesvinculacion||"",onChange:k,className:`${q} border-red-300`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Motivo de Desvinculacin"}),c.jsx("input",{type:"text",name:"motivoDesvinculacion",value:s.motivoDesvinculacion||"",onChange:k,className:`${q} border-red-300`})]})]}),p&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:p}),c.jsxs("div",{className:"flex justify-end items-center gap-4",children:[o&&c.jsx("button",{type:"button",onClick:w,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:o?"Actualizar":"Agregar"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo LIR",className:"w-8 h-8 object-contain"}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Carga Masiva"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[c.jsx("button",{onClick:Q,className:"bg-green-100 text-green-700 font-semibold py-2 px-4 rounded-lg hover:bg-green-200",children:"Descargar Plantilla Excel"}),c.jsx("input",{type:"file",onChange:J,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]}),g&&c.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${g.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:g.message})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo LIR",className:"w-8 h-8 object-contain"}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Registros de Estudiantes"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[c.jsx("input",{type:"text",placeholder:"Buscar por estudiante, empresa o RUT...",value:u,onChange:H=>d(H.target.value),className:`${q} md:col-span-2 lg:col-span-1`}),c.jsxs("select",{name:"curso",value:f.curso,onChange:O,className:q,children:[c.jsx("option",{value:"",children:"Todos los Cursos"}),ip.map(H=>c.jsx("option",{children:H},H))]}),c.jsxs("select",{name:"estado",value:f.estado,onChange:O,className:q,children:[c.jsx("option",{value:"",children:"Todos los Estados"}),uB.map(H=>c.jsx("option",{children:H},H))]}),c.jsxs("select",{name:"profesor",value:f.profesor,onChange:O,className:q,children:[c.jsx("option",{value:"",children:"Todos los Profesores"}),rj.map(H=>c.jsx("option",{children:H},H))]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estudiante"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Empresa"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Profesor Tutor"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estado"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:Z.map(H=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:H.nombreEstudiante}),c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:H.curso})]}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:H.nombreEmpresa}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:H.profesorTutorEmpresa}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${TIe[H.estado]}`,children:H.estado})}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm space-x-2",children:[c.jsx("button",{onClick:()=>j(H),className:"text-blue-600 hover:underline",children:"Supervisin"}),c.jsx("button",{onClick:()=>N(H),className:"text-yellow-600 hover:underline",children:"Editar"}),c.jsx("button",{onClick:()=>P(H.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},H.id))})]})})]}),y&&S&&c.jsx(FIe,{record:S,onClose:F,onSave:M})]})},ate="actividades_remotas",DIe="respuestas_actividades",ste="pruebas_estandarizadas",PIe="usuarios",PD=e=>{var r,n,a,s,i,o;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,plazoEntrega:((s=(a=t.plazoEntrega)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.plazoEntrega,fechaCompletado:((o=(i=t.fechaCompletado)==null?void 0:i.toDate)==null?void 0:o.call(i).toISOString())||t.fechaCompletado}},RIe=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,plazoEntrega:((s=(a=t.plazoEntrega)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.plazoEntrega}},LIe=e=>{const t=Zt(Rt(jt,ate),Gr("fechaCreacion","desc"));return wr(t,n=>{const a=n.docs.map(s=>PD(s));e(a)},n=>{console.error("Error al suscribirse a las actividades:",n),e([])})},MIe=async e=>{try{const t={...e,fechaCreacion:mr.fromDate(new Date),plazoEntrega:mr.fromDate(new Date(e.plazoEntrega+"T00:00:00"))};return(await qn(Rt(jt,ate),t)).id}catch(t){throw console.error("Error al crear la actividad:",t),new Error("No se pudo crear la actividad.")}},UIe=e=>{const t=Zt(Rt(jt,ste),Gr("fechaCreacion","desc"));return wr(t,n=>{const a=n.docs.map(s=>RIe(s));e(a)},n=>{console.error("Error al suscribirse a las pruebas estandarizadas:",n),e([])})},QIe=async e=>{try{const t={...e,fechaCreacion:mr.fromDate(new Date),plazoEntrega:mr.fromDate(new Date(e.plazoEntrega+"T00:00:00"))};return(await qn(Rt(jt,ste),t)).id}catch(t){throw console.error("Error al crear la prueba estandarizada:",t),new Error("No se pudo crear la prueba estandarizada.")}},HIe=e=>{const t=Zt(Rt(jt,DIe));return wr(t,n=>{const a=n.docs.map(s=>PD(s));e(a)},n=>{console.error("Error al suscribirse a las respuestas:",n),e([])})},VIe=e=>{const t=Zt(Rt(jt,PIe));return wr(t,n=>{const a=n.docs.map(s=>PD(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},UB={Quiz:[5,10,15],"Trminos Pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensin de Lectura":[1,2,3]},QB=["Localizar informacin","Interpretar y relacionar","Reflexionar","Extraer informacin explcita","Realizar inferencias","Interpretar el sentido global del texto","Evaluar contenido y forma"],zIe=e=>new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=a=>r(a)}),$Ie=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[a,s]=I.useState([]),[i,o]=I.useState([]),[l,u]=I.useState(null),[d,f]=I.useState(null),[h,p]=I.useState(!1),[v,g]=I.useState(!1),[b,y]=I.useState(!1),[_,S]=I.useState(!0),[B,k]=I.useState(null),[O,w]=I.useState(""),[C,N]=I.useState(null),[P,j]=I.useState(null),[F,M]=I.useState([]),[Q,J]=I.useState("actividades"),q={asignatura:Hi[0],nivel:Av[0],contenido:"",plazoEntrega:new Date().toISOString().split("T")[0],tipos:[],cantidadPreguntas:{},cursosDestino:[],estudiantesDestino:[],recursos:{instrucciones:"",enlaces:"",archivos:[]}},Z={asignatura:Hi[0],nivel:Av[0],contenido:"",objetivosAprendizaje:"",plazoEntrega:new Date().toISOString().split("T")[0],cursosDestino:[],estudiantesDestino:[],duracionMinutos:90},[H,V]=I.useState(q),[G,ne]=I.useState(Z);I.useEffect(()=>{S(!0);const Re=LIe(t),Ue=UIe(n),Be=HIe(s),ht=VIe(wt=>{o(wt),S(!1)});return()=>{Re(),Ue(),Be(),ht()}},[]);const R=Re=>{V(Ue=>({...Ue,[Re.target.name]:Re.target.value}))},W=Re=>{ne(Ue=>({...Ue,[Re.target.name]:Re.target.value}))},Y=Re=>{V(Ue=>({...Ue,recursos:{...Ue.recursos,[Re.target.name]:Re.target.value}}))},te=Re=>{Re.target.files&&M(Array.from(Re.target.files))},ie=Re=>{V(Ue=>{const Be=Ue.tipos.includes(Re)?Ue.tipos.filter(wt=>wt!==Re):[...Ue.tipos,Re],ht={...Ue.cantidadPreguntas};return Be.includes(Re)?ht[Re]||(ht[Re]=UB[Re][0]):delete ht[Re],{...Ue,tipos:Be,cantidadPreguntas:ht}})},me=(Re,Ue)=>{V(Be=>({...Be,cantidadPreguntas:{...Be.cantidadPreguntas,[Re]:Ue}}))},oe=(Re,Ue=!1)=>{(Ue?ne:V)(ht=>{const wt=ht.cursosDestino||[],ir=wt.includes(Re)?wt.filter(Kt=>Kt!==Re):[...wt,Re];return{...ht,cursosDestino:ir}})},ce=(Re,Ue=!1)=>{(Ue?ne:V)(ht=>{const wt=ht.estudiantesDestino||[],ir=wt.includes(Re)?wt.filter(Kt=>Kt!==Re):[...wt,Re];return{...ht,estudiantesDestino:ir}})},ge=()=>{const{tipos:Re,contenido:Ue,asignatura:Be,nivel:ht,cantidadPreguntas:wt}=H;let ir=`Eres un experto diseador de actividades pedaggicas. Genera un objeto JSON que se ajuste al esquema, sin texto adicional.

Contenido base: "${Ue}"
Asignatura: ${Be}
Nivel: ${ht}

Genera los siguientes elementos:
- **introduccion**: Una breve introduccin motivadora para el estudiante sobre el tema: "${Ue}".
- **actividades**: Un objeto que contiene las actividades. Cada actividad es una propiedad con su nombre como clave:
`;return Re.forEach(Kt=>{const Ut=wt[Kt]||UB[Kt][0];switch(Kt){case"Quiz":ir+=`- **Quiz**: Un array de ${Ut} objetos. Cada objeto debe tener: "pregunta" (string), "opciones" (array de 4 strings), "respuestaCorrecta" (string), y "puntaje" (number, usualmente 1).
`;break;case"Comprensin de Lectura":ir+=`- **Comprensin de Lectura**: Un objeto que debe tener "texto" (string de 150-200 palabras) y "preguntas" (un array de ${Ut} objetos, cada uno con "pregunta", "opciones", "respuestaCorrecta" y "puntaje").
`;break;case"Trminos Pareados":ir+=`- **Trminos Pareados**: Un array de ${Ut} objetos. Cada objeto debe tener "concepto" (string) y "definicion" (string).
`;break;case"Desarrollo":ir+=`- **Desarrollo**: Un array de ${Ut} objetos. Cada objeto debe tener una clave "pregunta" (string con la pregunta) y una clave "rubrica" (string con la rbrica de evaluacin).
`;break}}),ir},De=()=>{const{contenido:Re,objetivosAprendizaje:Ue,asignatura:Be,nivel:ht}=G;return`Eres un experto en evaluacin educativa y diseo de pruebas SIMCE. 

IMPORTANTE: Responde NICAMENTE con un objeto JSON vlido, sin comentarios, sin texto adicional, sin explicaciones.

INFORMACIN DE LA PRUEBA:
- Asignatura: ${Be}
- Nivel: ${ht}
- Contenido: ${Re}
- Objetivos: ${Ue}

RESPONDE SOLO CON ESTE JSON (sin comentarios, sin texto extra):
{
  "titulo": "Ttulo descriptivo de la prueba",
  "instrucciones": "Instrucciones claras para el estudiante",
  "textos": [
    {
      "id": 1,
      "titulo": "Ttulo del texto",
      "contenido": "Texto completo de 200-300 palabras",
      "tipo": "narrativo",
      "palabras": 250
    }
  ],
  "preguntas": [
    {
      "numero": 1,
      "pregunta": "Texto de la pregunta",
      "opciones": ["Opcin A completa", "Opcin B completa", "Opcin C completa", "Opcin D completa"],
      "respuestaCorrecta": "A",
      "habilidad": "Localizar informacin",
      "justificacion": "Explicacin breve de por qu es correcta",
      "textoId": 1
    }
  ]
}

REGLAS OBLIGATORIAS:
- ${Be==="Lenguaje y Comunicacin"||Be==="Lengua y Literatura"?"3-4 textos de lectura de diferentes tipos":"2-3 textos informativos"}
- Exactamente 30 preguntas numeradas del 1 al 30
- Cada pregunta con exactamente 4 opciones completas y especficas
- Respuesta correcta: solo "A", "B", "C" o "D"
- Habilidades: ${QB.join(", ")}
- Para preguntas basadas en textos: incluir "textoId"
- Sin comentarios en el JSON
- Texto tipo debe ser: "narrativo", "informativo", "argumentativo" o "poetico"

JSON vlido sin comentarios:`};function re(Re,Ue){if(Re==="Desarrollo"){if(Array.isArray(Ue))return Ue.map(Be=>{if(typeof Be=="string"){const ht=Be.match(/^(.*?)(?:R[u]brica:|RUBRICA:|Rubrica:)(.*)$/is);return ht?{pregunta:ht[1].trim(),rubrica:ht[2].trim()}:{pregunta:Be.trim(),rubrica:""}}return Be&&typeof Be=="object"?{pregunta:Be.pregunta||Be.Pregunta||Be.texto||"",rubrica:Be.rubrica||Be.Rubrica||Be.rbrica||Be.Rbrica||""}:{pregunta:String(Be),rubrica:""}});if(typeof Ue=="string")return Ue.split(/\n\n|\n- |\d+\. /).map(Be=>{const ht=Be.match(/^(.*?)(?:R[u]brica:|RUBRICA:|Rubrica:)(.*)$/is);return ht?{pregunta:ht[1].trim(),rubrica:ht[2].trim()}:{pregunta:Be.trim(),rubrica:""}}).filter(Be=>Be.pregunta)}if(Re==="Trminos Pareados"){if(Array.isArray(Ue))return Ue.map((Be,ht)=>{if(typeof Be=="string"){const wt=Be.match(/^(.+?)[\s:-]+(.+)$/);return wt?{id:ht,concepto:wt[1].trim(),definicion:wt[2].trim()}:{id:ht,concepto:Be.trim(),definicion:""}}return Be&&typeof Be=="object"?{id:ht,concepto:Be.concepto||Be.termino||"",definicion:Be.definicion||Be.significado||""}:{id:ht,concepto:String(Be),definicion:""}});if(typeof Ue=="object"&&Ue!==null)return Object.entries(Ue).map(([Be,ht],wt)=>({id:wt,concepto:Be,definicion:String(ht)}));if(typeof Ue=="string")return Ue.split(/\n|;/).map((Be,ht)=>{const wt=Be.match(/^(.+?)[\s:-]+(.+)$/);return wt?{id:ht,concepto:wt[1].trim(),definicion:wt[2].trim()}:{id:ht,concepto:Be.trim(),definicion:""}}).filter(Be=>Be.concepto)}if(Re==="Comprensin de Lectura"){if(Ue&&typeof Ue=="object"&&Array.isArray(Ue.preguntas))return{texto:Ue.texto||"",preguntas:Ue.preguntas.map(Be=>({pregunta:Be.pregunta||Be.Pregunta||"",opciones:Be.opciones||Be.Opciones||[],respuestaCorrecta:Be.respuestaCorrecta||Be.respuesta||"",puntaje:Be.puntaje||1}))};if(Array.isArray(Ue)){const Be=Ue.find(ht=>ht&&typeof ht=="object"&&"texto"in ht&&"preguntas"in ht);return Be?{texto:Be.texto||"",preguntas:(Be.preguntas||[]).map(ht=>({pregunta:ht.pregunta||ht.Pregunta||"",opciones:ht.opciones||ht.Opciones||[],respuestaCorrecta:ht.respuestaCorrecta||ht.respuesta||"",puntaje:ht.puntaje||1}))}:{texto:Ue.map(ht=>typeof ht=="string"?ht:JSON.stringify(ht)).join(`
`),preguntas:[]}}if(typeof Ue=="string"){const[Be,ht]=Ue.split(/Preguntas:|\nPreguntas:/i);let wt=[];return ht&&(wt=ht.split(/\n- |\n\d+\. /).filter(Boolean).map(ir=>{const Kt=ir.split(/Opciones:|\nOpciones:/i),Ut=Kt[0].trim();let Ur=[],Ar="";Kt[1]&&(Ur=Kt[1].split(/;|\n|,/).map(Vr=>Vr.trim()).filter(Boolean));const wn=ir.match(/Respuesta\s*correcta\s*:?\s*(.*)/i);return wn&&(Ar=wn[1].trim()),{pregunta:Ut,opciones:Ur,respuestaCorrecta:Ar,puntaje:1}})),{texto:(Be==null?void 0:Be.trim())||Ue,preguntas:wt}}}return Re==="Quiz"&&Array.isArray(Ue)?Ue.map(Be=>({...Be,puntaje:Be.puntaje||1})):Ue}const Se=async Re=>{var Ue;if(Re.preventDefault(),!H.contenido.trim()||H.tipos.length===0){k("Contenido y al menos un tipo de actividad son obligatorios.");return}y(!0),k(null);try{const Be=await Promise.all(F.map(async er=>({nombre:er.name,url:await zIe(er)}))),ht="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",ir=new Cs(ht).getGenerativeModel({model:"gemini-1.5-flash-latest"}),Kt=ge();let Ar=await(await(await ir.generateContent(Kt)).response).text();console.log("Respuesta cruda de la IA (actividad):",Ar),Ar=Ar.replace(/```json\s*/gi,"").replace(/```\s*$/g,"");const wn=Ar.match(/\{[\s\S]*\}/);if(!wn)throw new Error("No se encontr un objeto JSON vlido en la respuesta de la IA");const Vr=wn[0];console.log("JSON extrado (actividad):",Vr);const Tn=JSON.parse(Vr),ra={};for(const er of H.tipos)ra[er]=re(er,(Ue=Tn.actividades)==null?void 0:Ue[er]);const cr={id:"",fechaCreacion:new Date().toISOString(),...H,recursos:{...H.recursos,archivos:Be},introduccion:Tn.introduccion||"Actividad generada para reforzar el aprendizaje.",generatedContent:ra};N(cr)}catch(Be){console.error("Error al generar actividad con IA",Be);const ht=Be instanceof Error?Be.message:"Error desconocido";k(`Error al generar la actividad: ${ht}. Por favor, intntelo de nuevo.`)}finally{y(!1)}},Pe=async Re=>{if(Re.preventDefault(),!G.contenido.trim()||!G.objetivosAprendizaje.trim()){k("Contenido y objetivos de aprendizaje son obligatorios.");return}y(!0),k(null);try{const Ue="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",ht=new Cs(Ue).getGenerativeModel({model:"gemini-1.5-flash-latest"}),wt=De();let Ut=await(await(await ht.generateContent(wt)).response).text();console.log("Respuesta cruda de la IA:",Ut),Ut=Ut.replace(/```json\s*/gi,"").replace(/```\s*$/g,""),Ut=Ut.replace(/\/\/.*$/gm,""),Ut=Ut.replace(/\/\*[\s\S]*?\*\//g,""),Ut=Ut.trim();const Ur=Ut.match(/\{[\s\S]*\}/);if(!Ur)throw new Error("No se encontr un objeto JSON vlido en la respuesta de la IA");let Ar=Ur[0];console.log("JSON extrado:",Ar),Ar=Ar.replace(/,(\s*[}\]])/g,"$1"),console.log("JSON limpio:",Ar);const wn=JSON.parse(Ar);if(!wn.preguntas||!Array.isArray(wn.preguntas))throw new Error("La respuesta de la IA no contiene un array de preguntas vlido");wn.preguntas.length!==30&&console.warn(`Se esperaban 30 preguntas, pero se recibieron ${wn.preguntas.length}`);const Vr=(wn.textos||[]).map((cr,er)=>{var qr;return{id:cr.id||er+1,titulo:cr.titulo||`Texto ${er+1}`,contenido:cr.contenido||"Contenido del texto no disponible",tipo:["narrativo","informativo","argumentativo","poetico"].includes(cr.tipo)?cr.tipo:"informativo",palabras:cr.palabras||((qr=cr.contenido)==null?void 0:qr.split(" ").length)||0}}),Tn=wn.preguntas.slice(0,30).map((cr,er)=>({numero:cr.numero||er+1,pregunta:cr.pregunta||`Pregunta ${er+1}`,opciones:Array.isArray(cr.opciones)&&cr.opciones.length>=4?cr.opciones.slice(0,4):["Opcin A","Opcin B","Opcin C","Opcin D"],respuestaCorrecta:["A","B","C","D"].includes(cr.respuestaCorrecta)?cr.respuestaCorrecta:"A",habilidad:QB.includes(cr.habilidad)?cr.habilidad:QB[0],justificacion:cr.justificacion||"Justificacin no disponible",...cr.textoId&&typeof cr.textoId=="number"?{textoId:cr.textoId}:{}}));console.log("Textos procesados:",Vr),console.log("Preguntas procesadas:",Tn.slice(0,2));const ra={id:"",fechaCreacion:new Date().toISOString(),...G,titulo:wn.titulo||`Prueba ${G.asignatura} - ${G.nivel}`,instrucciones:wn.instrucciones||"Lee cada pregunta cuidadosamente y selecciona la mejor respuesta.",textos:Vr,preguntas:Tn};j(ra)}catch(Ue){console.error("Error al generar prueba con IA",Ue);const Be=Ue instanceof Error?Ue.message:"Error desconocido";Be.includes("JSON")?k("Error al procesar la respuesta de la IA. El formato de respuesta no es vlido. Intntalo de nuevo."):k(`Error al generar la prueba estandarizada: ${Be}. Por favor, intntelo de nuevo.`)}finally{y(!1)}},_e=async()=>{if(C)try{await MIe(C),V(q),M([]),p(!1),N(null)}catch(Re){console.error("Error al guardar la actividad:",Re),k("No se pudo guardar la actividad en la base de datos.")}},Ae=async()=>{if(P)try{const Re={...P,cursosDestino:P.cursosDestino||[],estudiantesDestino:P.estudiantesDestino||[],textos:P.textos||[],preguntas:P.preguntas.map(Ue=>({...Ue,textoId:Ue.textoId||null}))};await QIe(Re),ne(Z),g(!1),j(null)}catch(Re){console.error("Error al guardar la prueba:",Re),k("No se pudo guardar la prueba en la base de datos.")}},je=I.useMemo(()=>{var Be,ht,wt,ir;const Re=l||d;if(!Re||!i.length)return[];const Ue=new Map;if(!((Be=Re.cursosDestino)!=null&&Be.length)&&!((ht=Re.estudiantesDestino)!=null&&ht.length)){const Kt=Re.nivel.charAt(0);i.filter(Ut=>{var Ur;return Ut.profile===Xt.ESTUDIANTE&&((Ur=Ut.curso)==null?void 0:Ur.startsWith(Kt))}).forEach(Ut=>Ue.set(Ut.id,Ut))}else(wt=Re.cursosDestino)!=null&&wt.length&&i.filter(Ut=>Ut.profile===Xt.ESTUDIANTE&&Re.cursosDestino.includes(Ut.curso||"")).forEach(Ut=>Ue.set(Ut.id,Ut)),(ir=Re.estudiantesDestino)!=null&&ir.length&&i.filter(Ut=>Ut.profile===Xt.ESTUDIANTE&&Re.estudiantesDestino.includes(Ut.nombreCompleto)).forEach(Ut=>Ue.set(Ut.id,Ut));return Array.from(Ue.values()).sort((Kt,Ut)=>Kt.nombreCompleto.localeCompare(Ut.nombreCompleto))},[l,d,i]),$e=I.useMemo(()=>{const Re=(l==null?void 0:l.id)||(d==null?void 0:d.id);return a.filter(Ue=>Ue.actividadId===Re)},[a,l,d]),Ze=I.useMemo(()=>i.filter(Re=>Re.profile===Xt.ESTUDIANTE).sort((Re,Ue)=>Re.nombreCompleto.localeCompare(Ue.nombreCompleto)),[i]),ye=I.useMemo(()=>O.trim()?Ze.filter(Re=>Re.nombreCompleto.toLowerCase().includes(O.toLowerCase())):Ze,[Ze,O]),Oe=()=>c.jsxs("div",{className:"flex space-x-1 mb-6",children:[c.jsx("button",{onClick:()=>J("actividades"),className:`px-4 py-2 rounded-lg font-semibold ${Q==="actividades"?"bg-amber-500 text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:"Actividades Remotas"}),c.jsx("button",{onClick:()=>J("pruebas"),className:`px-4 py-2 rounded-lg font-semibold ${Q==="pruebas"?"bg-amber-500 text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:"Pruebas Estandarizadas"})]}),Me=()=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nueva Prueba Estandarizada SIMCE"}),c.jsx("button",{onClick:()=>g(!1),className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver al listado"})]}),c.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"La IA generar una prueba de 30 preguntas con estndar SIMCE, indicando qu habilidad se mide en cada pregunta."}),c.jsxs("form",{onSubmit:Pe,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asignatura"}),c.jsx("select",{name:"asignatura",value:G.asignatura,onChange:W,className:"w-full border-slate-300 rounded-md shadow-sm",children:Hi.map(Re=>c.jsx("option",{value:Re,children:Re},Re))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nivel"}),c.jsx("select",{name:"nivel",value:G.nivel,onChange:W,className:"w-full border-slate-300 rounded-md shadow-sm",children:Av.map(Re=>c.jsx("option",{value:Re,children:Re},Re))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"duracionMinutos",className:"block text-sm font-medium text-slate-600 mb-1",children:"Duracin (minutos)"}),c.jsx("input",{type:"number",name:"duracionMinutos",value:G.duracionMinutos,onChange:W,min:"30",max:"180",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"plazoEntrega",className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha lmite"}),c.jsx("input",{type:"date",name:"plazoEntrega",value:G.plazoEntrega,onChange:W,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Destinatarios"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Seleccione cursos o estudiantes. Si no selecciona ninguno, la prueba ser visible para todo el nivel."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Cursos"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:Za.map(Re=>{var Ue;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(Ue=G.cursosDestino)==null?void 0:Ue.includes(Re),onChange:()=>oe(Re,!0),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700",children:Re})]},Re)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Estudiantes"}),c.jsx("input",{type:"text",placeholder:"Buscar...",value:O,onChange:Re=>w(Re.target.value),className:"w-full border-slate-300 rounded-md shadow-sm mb-2"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:ye.map(Re=>{var Ue;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(Ue=G.estudiantesDestino)==null?void 0:Ue.includes(Re.nombreCompleto),onChange:()=>ce(Re.nombreCompleto,!0),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",title:Re.nombreCompleto,children:Re.nombreCompleto})]},Re.id)})})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 mb-1",children:["Contenido a evaluar ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"contenido",value:G.contenido,onChange:W,required:!0,rows:4,placeholder:"Describa los contenidos que se evaluarn en la prueba...",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("label",{htmlFor:"objetivosAprendizaje",className:"block text-sm font-medium text-slate-600 mb-1",children:["Objetivos de Aprendizaje ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"objetivosAprendizaje",value:G.objetivosAprendizaje,onChange:W,required:!0,rows:4,placeholder:"Liste los objetivos de aprendizaje que se evaluarn...",className:"w-full border-slate-300 rounded-md shadow-sm"})]})]}),B&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:B}),c.jsx("div",{className:"pt-4 text-right",children:c.jsx("button",{type:"submit",disabled:b,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:b?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Generar y Previsualizar"})})]})]}),Ye=()=>{var Re,Ue;return c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Previsualizacin de la Prueba Estandarizada"}),c.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Revisa las preguntas generadas. Si todo est correcto, confirma para asignar la prueba."}),c.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto p-4 bg-slate-50 rounded-lg border",children:[c.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:P==null?void 0:P.titulo}),c.jsxs("p",{className:"text-slate-700 mb-2",children:[c.jsx("strong",{children:"Duracin:"})," ",P==null?void 0:P.duracionMinutos," minutos"]}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:P==null?void 0:P.instrucciones})]}),(P==null?void 0:P.textos)&&P.textos.length>0&&c.jsxs("div",{className:"p-4 bg-emerald-50 border-l-4 border-emerald-400 rounded-r-lg",children:[c.jsxs("h3",{className:"font-bold text-emerald-800 mb-4",children:["Textos de Lectura (",P.textos.length,")"]}),c.jsx("div",{className:"space-y-4",children:P.textos.map(Be=>c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-emerald-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("h4",{className:"font-semibold text-slate-800",children:["Texto ",Be.id,": ",Be.titulo]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full",children:Be.tipo}),c.jsxs("span",{className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded-full",children:[Be.palabras," palabras"]})]})]}),c.jsx("div",{className:"text-sm text-slate-700 leading-relaxed whitespace-pre-wrap bg-slate-50 p-3 rounded border",children:Be.contenido})]},Be.id))})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[c.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Preguntas (",((Re=P==null?void 0:P.preguntas)==null?void 0:Re.length)||0,"/30)"]}),c.jsx("div",{className:"space-y-6",children:(Ue=P==null?void 0:P.preguntas)==null?void 0:Ue.map((Be,ht)=>{var wt;return c.jsxs("div",{className:"border-t pt-4 first:border-t-0 first:pt-0",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("p",{className:"font-semibold text-slate-800",children:[Be.numero,". ",Be.pregunta,Be.textoId&&c.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:["Basada en Texto ",Be.textoId]})]}),c.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium",children:Be.habilidad})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-3 mb-3",children:(wt=Be.opciones)==null?void 0:wt.map((ir,Kt)=>{const Ut=String.fromCharCode(65+Kt),Ur=Be.respuestaCorrecta===Ut;return c.jsxs("div",{className:`p-2 rounded border ${Ur?"bg-green-50 border-green-300 text-green-800":"bg-slate-50 border-slate-200"}`,children:[c.jsxs("strong",{children:[Ut,"."]})," ",ir,Ur&&c.jsx("span",{className:"ml-2 text-xs",children:""})]},Kt)})}),Be.justificacion&&c.jsxs("p",{className:"text-xs text-slate-600 bg-slate-100 p-2 rounded mt-2",children:[c.jsx("strong",{children:"Justificacin:"})," ",Be.justificacion]})]},ht)})})]})]}),c.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[c.jsx("button",{onClick:()=>j(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300",children:"Cancelar"}),c.jsx("button",{onClick:Ae,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"Confirmar y Asignar Prueba"})]})]})},tt=()=>c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Pruebas Estandarizadas"}),c.jsx("button",{onClick:()=>g(!0),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nueva Prueba"})]}),c.jsx("div",{className:"space-y-4",children:r.length>0?r.map(Re=>{var ht,wt,ir;const Ue=[];(ht=Re.cursosDestino)!=null&&ht.length&&Ue.push(`Cursos: ${Re.cursosDestino.join(", ")}`),(wt=Re.estudiantesDestino)!=null&&wt.length&&Ue.push(`Estudiantes: ${Re.estudiantesDestino.length}`);const Be=Ue.length?Ue.join(" | "):`Todo ${Re.nivel}`;return c.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800",children:Re.titulo||`${Re.asignatura} - Prueba SIMCE`}),c.jsxs("p",{className:"text-sm text-slate-500",children:[Re.nivel," | ",Re.duracionMinutos," min | Destino: ",Be]}),c.jsxs("p",{className:"text-xs text-slate-400",children:["Creado: ",new Date(Re.fechaCreacion).toLocaleDateString("es-CL")," | Preguntas: ",((ir=Re.preguntas)==null?void 0:ir.length)||0]})]}),c.jsx("button",{onClick:()=>f(Re),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Resultados"})]})},Re.id)}):c.jsx("p",{className:"text-slate-500 text-center py-6",children:'No hay pruebas estandarizadas creadas. Haga clic en "Crear Nueva Prueba" para comenzar.'})})]}),ct=()=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:l?`${l.asignatura} - ${l.tipos.join(", ")}`:`${(d==null?void 0:d.titulo)||"Prueba Estandarizada"}`}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Nivel: ",(l==null?void 0:l.nivel)||(d==null?void 0:d.nivel)," | Plazo: ",(l==null?void 0:l.plazoEntrega)||(d==null?void 0:d.plazoEntrega),d&&` | Duracin: ${d.duracionMinutos} min`]})]}),c.jsx("button",{onClick:()=>{u(null),f(null)},className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver al listado"})]}),c.jsxs("div",{className:"mt-6 border-t dark:border-slate-700 pt-6",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 mb-4",children:"Resultados de Estudiantes"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estudiante"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estado"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Puntaje"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Nota"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha Completado"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:je.map(Re=>{const Ue=$e.find(Be=>Be.estudianteId===Re.id);return c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:Re.nombreCompleto}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:Ue?c.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-green-100 text-green-800",children:"Completado"}):c.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-yellow-100 text-yellow-800",children:"Pendiente"})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:Ue?`${Ue.puntaje}/${Ue.puntajeMaximo}`:"-"}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-bold text-slate-600",children:Ue?c.jsx("span",{className:parseFloat(Ue.nota)>=4?"text-green-600":"text-red-600",children:Ue.nota}):"-"}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:Ue?new Date(Ue.fechaCompletado).toLocaleString("es-CL"):"-"})]},Re.id)})})]})})]})]}),gt=()=>{var Re,Ue;return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nueva Actividad Remota"}),c.jsx("button",{onClick:()=>p(!1),className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver al listado"})]}),c.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Complete el formulario y la IA generar una actividad interactiva para sus estudiantes."}),c.jsxs("form",{onSubmit:Se,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asignatura"}),c.jsx("select",{name:"asignatura",value:H.asignatura,onChange:R,className:"w-full border-slate-300 rounded-md shadow-sm",children:Hi.map(Be=>c.jsx("option",{value:Be,children:Be},Be))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nivel"}),c.jsx("select",{name:"nivel",value:H.nivel,onChange:R,className:"w-full border-slate-300 rounded-md shadow-sm",children:Av.map(Be=>c.jsx("option",{value:Be,children:Be},Be))})]}),c.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Recursos de Aprendizaje (Opcional)"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Instrucciones de estudio"}),c.jsx("textarea",{name:"instrucciones",value:(Re=H.recursos)==null?void 0:Re.instrucciones,onChange:Y,placeholder:"Ej: Lee el siguiente texto y luego responde...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Enlaces (videos, documentos, etc.)"}),c.jsx("textarea",{name:"enlaces",value:(Ue=H.recursos)==null?void 0:Ue.enlaces,onChange:Y,placeholder:"Pega un enlace por lnea...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adjuntar archivos (PDF, imgenes, etc.)"}),c.jsx("input",{type:"file",multiple:!0,onChange:te,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]})]}),c.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Destinatarios"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Seleccione cursos o estudiantes. Si no selecciona ninguno, la actividad ser visible para todo el nivel."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Cursos"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:Za.map(Be=>{var ht;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(ht=H.cursosDestino)==null?void 0:ht.includes(Be),onChange:()=>oe(Be),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700",children:Be})]},Be)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Estudiantes"}),c.jsx("input",{type:"text",placeholder:"Buscar...",value:O,onChange:Be=>w(Be.target.value),className:"w-full border-slate-300 rounded-md shadow-sm mb-2"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:ye.map(Be=>{var ht;return c.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:(ht=H.estudiantesDestino)==null?void 0:ht.includes(Be.nombreCompleto),onChange:()=>ce(Be.nombreCompleto),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",title:Be.nombreCompleto,children:Be.nombreCompleto})]},Be.id)})})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Tipos de Actividad"}),c.jsx("div",{className:"space-y-3",children:zve.map(Be=>c.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300",children:[c.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:H.tipos.includes(Be),onChange:()=>ie(Be),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-700 flex-grow",children:Be})]}),H.tipos.includes(Be)&&c.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-slate-500",children:"Cantidad:"}),UB[Be].map(ht=>c.jsx("button",{type:"button",onClick:()=>me(Be,ht),className:`px-3 py-1 rounded-full font-semibold text-xs ${H.cantidadPreguntas[Be]===ht?"bg-amber-500 text-white":"bg-slate-200"}`,children:ht},ht))]})]},Be))})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 mb-1",children:["Contenido ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"contenido",value:H.contenido,onChange:R,required:!0,rows:4,placeholder:"Ingrese los temas, conceptos clave o el texto base...",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"plazoEntrega",className:"block text-sm font-medium text-slate-600 mb-1",children:"Plazo de Entrega"}),c.jsx("input",{type:"date",name:"plazoEntrega",value:H.plazoEntrega,onChange:R,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]})]}),B&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:B}),c.jsx("div",{className:"pt-4 text-right",children:c.jsx("button",{type:"submit",disabled:b,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:b?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Generar y Previsualizar"})})]})]})},kt=()=>{var Re;return c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Previsualizacin de la Actividad"}),c.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Revisa el contenido generado. Si todo est correcto, confirma para asignar la actividad."}),c.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-4 bg-slate-50 rounded-lg border",children:[c.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-sky-800 mb-2",children:"Introduccin para el Estudiante"}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:C==null?void 0:C.introduccion})]}),(C==null?void 0:C.recursos)&&(C.recursos.instrucciones||C.recursos.enlaces||((Re=C.recursos.archivos)==null?void 0:Re.length))&&c.jsxs("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg",children:[c.jsx("h3",{className:"font-bold text-indigo-800 mb-2",children:"Recursos de Aprendizaje"}),c.jsxs("div",{className:"space-y-3",children:[C.recursos.instrucciones&&c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:C.recursos.instrucciones}),C.recursos.enlaces&&c.jsx("div",{children:C.recursos.enlaces.split(`
`).map((Ue,Be)=>Ue.trim()&&c.jsx("a",{href:Ue,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-600 hover:underline truncate",children:Ue},Be))}),C.recursos.archivos&&C.recursos.archivos.length>0&&c.jsx("ul",{className:"list-disc list-inside",children:C.recursos.archivos.map(Ue=>c.jsx("li",{className:"text-slate-700",children:Ue.nombre},Ue.nombre))})]})]}),C==null?void 0:C.tipos.map(Ue=>{const Be=C.generatedContent[Ue];return Be?c.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:Ue}),c.jsxs("div",{className:"space-y-4 text-sm",children:[Ue==="Quiz"&&Array.isArray(Be)&&Be.map((ht,wt)=>c.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[c.jsxs("p",{className:"font-semibold",children:[wt+1,". ",ht.pregunta]}),c.jsx("ul",{className:"list-none pl-5 mt-2 space-y-1",children:ht.opciones.map((ir,Kt)=>c.jsxs("li",{children:[c.jsxs("strong",{children:[String.fromCharCode(65+Kt),"."]})," ",ir]},Kt))}),c.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-2 p-1 bg-green-50 rounded inline-block",children:["R: ",ht.respuestaCorrecta]})]},wt)),Ue==="Comprensin de Lectura"&&Be&&typeof Be=="object"&&"preguntas"in Be&&Array.isArray(Be.preguntas)&&c.jsxs("div",{children:[c.jsx("p",{className:"whitespace-pre-wrap bg-slate-100 p-3 rounded-md mb-4",children:Be.texto}),Be.preguntas.map((ht,wt)=>c.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[c.jsxs("p",{className:"font-semibold",children:[wt+1,". ",ht.pregunta]}),c.jsx("ul",{className:"list-none pl-5 mt-2 space-y-1",children:ht.opciones.map((ir,Kt)=>c.jsxs("li",{children:[c.jsxs("strong",{children:[String.fromCharCode(65+Kt),"."]})," ",ir]},Kt))}),c.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-2 p-1 bg-green-50 rounded inline-block",children:["R: ",ht.respuestaCorrecta]})]},wt))]}),Ue==="Trminos Pareados"&&Array.isArray(Be)&&c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border border-slate-200",children:[c.jsx("thead",{className:"bg-slate-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left font-semibold p-2 border-b",children:"Concepto"}),c.jsx("th",{className:"text-left font-semibold p-2 border-b",children:"Definicin"})]})}),c.jsx("tbody",{children:Be.map(ht=>c.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-slate-50",children:[c.jsx("td",{className:"p-2 align-top font-semibold text-slate-800",children:ht.concepto}),c.jsx("td",{className:"p-2 align-top text-slate-700",children:ht.definicion})]},ht.id))})]})}),Ue==="Desarrollo"&&Array.isArray(Be)&&Be.map((ht,wt)=>c.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[c.jsxs("p",{className:"font-semibold",children:[wt+1,". ",ht.pregunta]}),c.jsxs("p",{className:"text-sm text-slate-600 mt-2 p-2 bg-slate-100 rounded-md",children:[c.jsx("strong",{className:"font-semibold",children:"Rbrica:"})," ",ht.rubrica]})]},wt)),(Ue==="Quiz"||Ue==="Trminos Pareados"||Ue==="Desarrollo")&&!Array.isArray(Be)&&c.jsxs("div",{className:"text-red-600 text-sm p-3 bg-red-50 border border-red-200 rounded-md",children:['El contenido generado para "',c.jsx("strong",{children:Ue}),'" no tiene el formato de array esperado. La IA pudo haber devuelto una respuesta en un formato no vlido.']}),Ue==="Comprensin de Lectura"&&(!Be||typeof Be!="object"||!Array.isArray(Be.preguntas))&&c.jsxs("div",{className:"text-red-600 text-sm p-3 bg-red-50 border border-red-200 rounded-md",children:['El contenido generado para "',c.jsx("strong",{children:"Comprensin de Lectura"}),'" no tiene el formato de objeto con preguntas esperado.']})]})]},Ue):null})]}),c.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[c.jsx("button",{onClick:()=>N(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300",children:"Cancelar"}),c.jsx("button",{onClick:_e,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"Confirmar y Asignar"})]})]})},Dt=()=>c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Actividades Remotas"}),c.jsx("button",{onClick:()=>p(!0),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nueva"})]}),c.jsx("div",{className:"space-y-4",children:e.length>0?e.map(Re=>{var ht,wt;const Ue=[];(ht=Re.cursosDestino)!=null&&ht.length&&Ue.push(`Cursos: ${Re.cursosDestino.join(", ")}`),(wt=Re.estudiantesDestino)!=null&&wt.length&&Ue.push(`Estudiantes: ${Re.estudiantesDestino.length}`);const Be=Ue.length?Ue.join(" | "):`Todo ${Re.nivel}`;return c.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-slate-800",children:[Re.asignatura," - ",Re.tipos.join(", ")]}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Destino: ",Be," | Creado: ",new Date(Re.fechaCreacion).toLocaleDateString("es-CL")]})]}),c.jsx("button",{onClick:()=>u(Re),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Resultados"})]})},Re.id)}):c.jsx("p",{className:"text-slate-500 text-center py-6",children:'No hay actividades creadas. Haga clic en "Crear Nueva" para comenzar.'})})]});return _?c.jsx("div",{className:"text-center py-10",children:"Cargando datos..."}):c.jsxs("div",{className:"animate-fade-in",children:[Oe(),P?Ye():C?kt():l||d?ct():Q==="pruebas"?v?Me():tt():h?gt():Dt()]})},KIe="actividades_remotas",GIe="respuestas_actividades",qIe=e=>{var r,n,a,s,i,o;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,plazoEntrega:((s=(a=t.plazoEntrega)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.plazoEntrega,fechaCompletado:((o=(i=t.fechaCompletado)==null?void 0:i.toDate)==null?void 0:o.call(i).toISOString())||t.fechaCompletado}},WIe=(e,t)=>{const r=Zt(Rt(jt,KIe),Gr("fechaCreacion","desc"));return wr(r,a=>{const i=a.docs.map(o=>qIe(o)).filter(o=>{var l,u,d,f,h;if(!((l=o.cursosDestino)!=null&&l.length)&&!((u=o.estudiantesDestino)!=null&&u.length)){const p=o.nivel.charAt(0);return(d=e.curso)==null?void 0:d.startsWith(p)}return!!((f=o.cursosDestino)!=null&&f.includes(e.curso||"")||(h=o.estudiantesDestino)!=null&&h.includes(e.nombreCompleto))});t(i)},a=>{console.error("Error al suscribirse a las actividades disponibles:",a),t([])})},XIe=async e=>{try{const t={...e,fechaCompletado:mr.fromDate(new Date(e.fechaCompletado))};return(await qn(Rt(jt,GIe),t)).id}catch(t){throw console.error("Error al guardar la respuesta de actividad:",t),new Error("No se pudo guardar la respuesta de la actividad.")}},YIe=(e,t)=>{if(t===0)return"1.0";const n=t*.6;let a=1;return e>=n?a=4+(e-n)*3/(t-n):a=1+e*3/n,a=Math.max(1,Math.min(7,a)),a.toFixed(1)},Fj=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),JIe=({actividad:e,onComplete:t,currentUser:r})=>{const[n,a]=I.useState({}),[s,i]=I.useState(!1),[o,l]=I.useState(!1),[u,d]=I.useState(!1),f=`progress-${r.id}-${e.id}`;I.useEffect(()=>{const g=localStorage.getItem(f);g&&a(JSON.parse(g))},[f]);const h=(g,b)=>{a(y=>{const _={...y,[g]:b};return localStorage.setItem(f,JSON.stringify(_)),_})},p=()=>{l(!0),localStorage.setItem(f,JSON.stringify(n)),setTimeout(()=>{l(!1),d(!0),setTimeout(()=>d(!1),2e3)},1e3)},v=async()=>{i(!0);let g=0,b=0;const y={items:[]};e.tipos.forEach(S=>{const B=e.generatedContent[S],k=n[S];(S==="Quiz"||S==="Comprensin de Lectura")&&(S==="Quiz"?B:B.preguntas).forEach((w,C)=>{const N=k==null?void 0:k[C],P=N===w.respuestaCorrecta,j=P?w.puntaje||1:0;g+=j,b+=w.puntaje||1,y.items.push({pregunta:w.pregunta,respuestaUsuario:N||"No respondida",respuestaCorrecta:w.respuestaCorrecta,esCorrecta:P,puntajeObtenido:j,tipo:S})})});const _={puntaje:g,puntajeMaximo:b,respuestas:n,nota:YIe(g,b)};localStorage.removeItem(f),t(_,y)};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[c.jsx("h2",{className:"text-2xl font-bold text-sky-800 mb-2",children:e.asignatura}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:e.introduccion})]}),e.tipos.map(g=>{const b=e.generatedContent[g];if(!b)return null;switch(g){case"Quiz":case"Comprensin de Lectura":{const y=g==="Quiz",_=y?b:b.preguntas;return c.jsxs("div",{className:"p-6 border rounded-lg bg-white shadow-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-700",children:g}),!y&&c.jsx("div",{className:"mb-6 p-4 rounded bg-slate-50 border whitespace-pre-wrap text-slate-800 leading-relaxed",children:b.texto}),c.jsx("div",{className:"space-y-6",children:_.map((S,B)=>c.jsxs("div",{className:"border-t pt-4 first:border-t-0 first:pt-0",children:[c.jsx("p",{className:"font-semibold text-slate-800",children:`${B+1}. ${S.pregunta}`}),c.jsx("div",{className:"mt-2 space-y-2",children:S.opciones.map((k,O)=>{var w;return c.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-amber-50 cursor-pointer transition-colors has-[:checked]:bg-amber-100 has-[:checked]:font-semibold",children:[c.jsx("input",{type:"radio",name:`q-${g}-${B}`,value:k,checked:((w=n[g])==null?void 0:w[B])===k,onChange:()=>h(g,{...n[g]||{},[B]:k}),className:"h-5 w-5 text-amber-500 focus:ring-amber-400 border-slate-300"}),c.jsx("span",{children:k})]},O)})})]},B))})]},g)}default:return null}}),c.jsxs("div",{className:"text-right mt-8 flex justify-end gap-4",children:[c.jsx("button",{onClick:p,disabled:s||o||u,className:"bg-sky-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-sky-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px] transition-all",children:o?c.jsxs(c.Fragment,{children:[c.jsx(Fj,{})," Guardando..."]}):u?" Guardado":"Guardar Progreso"}),c.jsx("button",{onClick:v,disabled:s||o,className:"bg-slate-800 text-white font-bold py-3 px-8 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:s?c.jsxs(c.Fragment,{children:[c.jsx(Fj,{})," Evaluando..."]}):"Entregar Actividad"})]})]})},ZIe=({currentUser:e})=>{const[t,r]=I.useState(!0),[n,a]=I.useState("list"),[s,i]=I.useState([]),[o,l]=I.useState(null),[u,d]=I.useState(null),[f,h]=I.useState(null);I.useEffect(()=>{r(!0);const g=WIe(e,b=>{i(b),r(!1)});return()=>g()},[e]);const p=g=>{l(g),a("activity")},v=I.useCallback(async(g,b)=>{if(!o)return;const y={actividadId:o.id,estudianteId:e.id,fechaCompletado:new Date().toISOString(),...g,retroalimentacionDetallada:b};try{await XIe(y),d({id:"",...y}),a("result")}catch(_){console.error("Error al guardar la respuesta:",_),h("Hubo un problema al guardar tu actividad. Por favor, intntalo de nuevo.")}},[o,e.id]);if(t)return c.jsxs("div",{className:"flex justify-center items-center h-64",children:[c.jsx(Fj,{})," ",c.jsx("span",{className:"ml-2",children:"Cargando actividades..."})]});if(n==="activity"&&o)return c.jsx(JIe,{actividad:o,onComplete:v,currentUser:e});if(n==="result"&&u){const g=u.nota;return c.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Resultados de la Actividad"}),c.jsxs("div",{className:"flex items-baseline gap-4 mb-6 p-4 bg-slate-50 rounded-lg border",children:[c.jsxs("p",{className:"text-lg text-slate-600",children:["Puntaje: ",c.jsxs("span",{className:"font-bold text-2xl text-slate-800",children:[u.puntaje," / ",u.puntajeMaximo]})]}),c.jsxs("p",{className:"text-lg text-slate-600",children:["Nota: ",c.jsx("span",{className:`font-bold text-2xl ${parseFloat(g)>=4?"text-green-600":"text-red-600"}`,children:g})]})]}),u.retroalimentacionDetallada&&u.retroalimentacionDetallada.items.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-2xl font-semibold text-slate-700 mt-6 mb-4",children:"Revisin de Respuestas"}),u.retroalimentacionDetallada.items.map((b,y)=>c.jsxs("div",{className:`p-4 border-l-4 rounded-r-lg ${b.esCorrecta?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("p",{className:"font-semibold text-slate-800 flex-1 pr-4",children:[y+1,". ",b.pregunta]}),c.jsx("span",{className:"font-bold text-lg",children:b.esCorrecta?"":""})]}),c.jsxs("div",{className:"mt-2 text-sm pl-4",children:[c.jsxs("p",{className:"text-slate-700",children:["Tu respuesta: ",c.jsx("span",{className:"font-medium",children:b.respuestaUsuario})]}),!b.esCorrecta&&c.jsxs("p",{className:"text-slate-700",children:["Respuesta correcta: ",c.jsx("span",{className:"font-medium text-green-700",children:b.respuestaCorrecta})]})]})]},y))]}),c.jsx("button",{onClick:()=>{a("list"),l(null),d(null)},className:"mt-8 w-full bg-slate-800 text-white font-bold py-3 rounded-lg hover:bg-slate-700 transition-colors",children:"Volver a la Lista de Actividades"})]})}return c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Auto-aprendizaje"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Completa las actividades asignadas por tus profesores."}),f&&c.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:f}),c.jsx("div",{className:"space-y-4",children:s.length>0?s.map(g=>c.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 flex flex-col sm:flex-row justify-between sm:items-center gap-4 hover:bg-slate-100 transition-colors",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-slate-800",children:[g.asignatura," - ",g.tipos.join(", ")]}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Plazo: ",g.plazoEntrega]})]}),c.jsx("button",{onClick:()=>p(g),className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 w-full sm:w-auto",children:"Comenzar"})]},g.id)):c.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Todo al da!"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"No hay actividades nuevas disponibles en este momento."})]})})]})},mN="estudiantes_inclusion",eje="usuarios",ite=e=>{const t=e.data();return{id:e.id,...t}},tje=e=>{const t=Zt(Rt(jt,mN));return wr(t,n=>{const a=n.docs.map(s=>ite(s));e(a)},n=>{console.error("Error al suscribirse a estudiantes de inclusin:",n),e([])})},rje=e=>{const t=Zt(Rt(jt,eje));return wr(t,n=>{const a=n.docs.map(s=>ite(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},nje=async e=>{try{return(await qn(Rt(jt,mN),e)).id}catch(t){throw console.error("Error al agregar estudiante a inclusin:",t),new Error("No se pudo agregar al estudiante.")}},aje=async(e,t)=>{try{const{id:r,...n}=t,a=vr(jt,mN,e);await fo(a,n)}catch(r){throw console.error("Error al actualizar estudiante de inclusin:",r),new Error("No se pudo actualizar la ficha del estudiante.")}},sje=async e=>{try{const t=vr(jt,mN,e);await $s(t)}catch(t){throw console.error("Error al eliminar estudiante de inclusin:",t),new Error("No se pudo eliminar al estudiante.")}},ije=({estudiantes:e})=>{const t=I.useMemo(()=>{const o=e.reduce((l,u)=>(l[u.curso]=(l[u.curso]||0)+1,l),{});return Object.entries(o).map(([l,u])=>({curso:l,cantidad:u})).sort((l,u)=>l.curso.localeCompare(u.curso))},[e]),r=I.useMemo(()=>{const o=e.reduce((l,u)=>{var f;const d=((f=u.curso.match(/\d+/))==null?void 0:f[0])||"Sin nivel";return l[d]=(l[d]||0)+1,l},{});return Object.entries(o).map(([l,u])=>({nivel:l,cantidad:u})).sort((l,u)=>l.nivel==="Sin nivel"?1:u.nivel==="Sin nivel"?-1:parseInt(l.nivel)-parseInt(u.nivel))},[e]),n=I.useMemo(()=>{const o=e.reduce((l,u)=>(l[u.dificultad]=(l[u.dificultad]||0)+1,l),{});return Object.entries(o).map(([l,u])=>({diagnostico:l,cantidad:u})).sort((l,u)=>u.cantidad-l.cantidad)},[e]),a=I.useMemo(()=>{const o=e.reduce((u,d)=>{var f;return u+(((f=d.intervenciones)==null?void 0:f.length)||0)},0),l=e.length>0?(o/e.length).toFixed(1):"0";return{total:o,promedio:l}},[e]),s=I.useMemo(()=>e.reduce((o,l)=>o+(l.alertas||[]).filter(u=>!u.resuelta).length,0),[e]),i=Math.max(0,...t.map(o=>o.cantidad),...r.map(o=>o.cantidad),...n.map(o=>o.cantidad));return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Dashboard PIE"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.length}),c.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Total Estudiantes"})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:a.total}),c.jsx("div",{className:"text-sm text-green-800 dark:text-green-300",children:"Intervenciones"})]}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:s}),c.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"Alertas Pendientes"})]}),c.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:a.promedio}),c.jsx("div",{className:"text-sm text-purple-800 dark:text-purple-300",children:"Promedio Intervenciones"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Por Curso"}),c.jsx("div",{className:"space-y-2",children:t.map(({curso:o,cantidad:l})=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 w-12",children:o}),c.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden",children:c.jsx("div",{className:"bg-blue-500 h-full transition-all duration-500",style:{width:`${i?l/i*100:0}%`}})}),c.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 w-6",children:l})]},o))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Por Nivel"}),c.jsx("div",{className:"space-y-2",children:r.map(({nivel:o,cantidad:l})=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 w-12",children:[o,""]}),c.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden",children:c.jsx("div",{className:"bg-green-500 h-full transition-all duration-500",style:{width:`${i?l/i*100:0}%`}})}),c.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 w-6",children:l})]},o))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Por Diagnstico"}),c.jsx("div",{className:"space-y-2",children:n.map(({diagnostico:o,cantidad:l})=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 w-16 text-right truncate",title:o,children:o}),c.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden",children:c.jsx("div",{className:"bg-purple-500 h-full transition-all duration-500",style:{width:`${i?l/i*100:0}%`}})}),c.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 w-6",children:l})]},o))})]})]})]})},VQ=({estudiantesDisponibles:e,onSelect:t})=>{const[r,n]=I.useState(""),[a,s]=I.useState(""),[i,o]=I.useState(!1),l=I.useMemo(()=>e.filter(f=>{const h=f.nombreCompleto.toLowerCase().includes(r.toLowerCase()),p=a===""||f.curso===a;return h&&p}).sort((f,h)=>f.nombreCompleto.localeCompare(h.nombreCompleto)),[e,r,a]),u=I.useMemo(()=>[...new Set(e.map(h=>h.curso).filter(Boolean))].sort(),[e]),d=f=>{t(f),n(""),s(""),o(!1)};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Agregar Estudiante al PIE"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Buscar por nombre"}),c.jsx("input",{type:"text",placeholder:"Escriba el nombre del estudiante...",value:r,onChange:f=>{n(f.target.value),o(f.target.value.length>0||a!=="")},onFocus:()=>o(r.length>0||a!==""),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filtrar por curso"}),c.jsxs("select",{value:a,onChange:f=>{s(f.target.value),o(r.length>0||f.target.value!=="")},className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todos los cursos"}),u.map(f=>c.jsx("option",{value:f,children:f},f))]})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-600 dark:text-slate-400",children:[c.jsxs("span",{children:["Estudiantes disponibles: ",e.length]}),c.jsxs("span",{children:["Resultados filtrados: ",l.length]})]}),c.jsx("button",{onClick:()=>o(!i),className:"w-full bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 py-2 px-4 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:i?"Ocultar resultados":`Ver ${l.length} estudiantes disponibles`}),i&&c.jsx("div",{className:"border dark:border-slate-600 rounded-lg max-h-80 overflow-y-auto",children:l.length===0?c.jsx("div",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:r||a?"No se encontraron estudiantes con los criterios de bsqueda.":"No hay estudiantes disponibles."}):c.jsx("div",{className:"divide-y dark:divide-slate-600",children:l.map(f=>c.jsx("div",{className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors",onClick:()=>d(f),children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:f.nombreCompleto}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:f.curso})]}),c.jsx("button",{className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 text-xl",children:""})]})},f.id))})}),r&&l.length===1&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[c.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:" Solo hay un resultado! Haga clic para agregarlo directamente:"}),c.jsxs("button",{onClick:()=>d(l[0]),className:"text-sm bg-blue-500 text-white px-3 py-1.5 rounded-md hover:bg-blue-600 transition-colors",children:["Agregar a ",l[0].nombreCompleto]})]})]})]})},oje=({student:e,onClose:t,onConfirm:r})=>{const[n,a]=I.useState(R_[0]),s=()=>r(e,n);return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg p-6 animate-fade-in-up",onClick:i=>i.stopPropagation(),children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:["Agregar a ",e.nombreCompleto," al PIE"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Por favor, seleccione la dificultad de aprendizaje principal para este estudiante."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"dificultad",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Dificultad de Aprendizaje"}),c.jsx("select",{id:"dificultad",value:n,onChange:i=>a(i.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:R_.map(i=>c.jsx("option",{value:i,children:i},i))})]}),c.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancelar"}),c.jsx("button",{type:"button",onClick:s,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 transition-colors",children:"Confirmar e Ingresar"})]})]})})},lje=({student:e,onClose:t,onSave:r,profesores:n,getDocenteEmail:a})=>{const[s,i]=I.useState("intervenciones"),[o,l]=I.useState(e);I.useEffect(()=>l(e),[e]);const[u,d]=I.useState(null),f={responsable:"",accion:"",observaciones:""},[h,p]=I.useState(f),[v,g]=I.useState({trimestre:"T1",meta:""}),[b,y]=I.useState({titulo:"",fecha:new Date().toISOString().split("T")[0]}),[_,S]=I.useState(null),[B,k]=I.useState(!1),O={motivo:"",acuerdos:"",asistentes:""},[w,C]=I.useState(O),N=()=>{r(o),t()},P=async()=>{var _e;if(!h.responsable||!h.accion){alert("Responsable y Accin son campos obligatorios.");return}let re,Se=!1;u?re=(o.intervenciones||[]).map(Ae=>Ae.id===u.id?{...Ae,...h}:Ae):(Se=!0,re=[{id:crypto.randomUUID(),fecha:new Date().toISOString(),...h},...o.intervenciones||[]]);const Pe=re.sort((Ae,je)=>new Date(je.fecha).getTime()-new Date(Ae.fecha).getTime());if(l(Ae=>({...Ae,intervenciones:Pe})),Se)try{await i1e({docenteNombre:h.responsable,docenteEmail:a?a(h.responsable):void 0,docenteEmailLower:(_e=a?a(h.responsable):void 0)==null?void 0:_e.toLowerCase(),tipo:"nueva_intervencion",titulo:" Nueva Intervencin Asignada",mensaje:`Se te ha asignado una nueva intervencin para el estudiante ${o.nombre}. Accin: ${h.accion}`,estudianteNombre:o.nombre,estudianteId:o.id,accionRequerida:h.accion}),alert(` Intervencin registrada y notificacin enviada a ${h.responsable}`)}catch(Ae){console.error("Error al crear notificacin:",Ae),alert(" Intervencin guardada, pero no se pudo enviar la notificacin al docente.")}p(f),d(null)},j=re=>{d(re),p({responsable:re.responsable,accion:re.accion,observaciones:re.observaciones})},F=re=>{window.confirm("Eliminar esta intervencin?")&&l(Se=>({...Se,intervenciones:(Se.intervenciones||[]).filter(Pe=>Pe.id!==re)}))},M=re=>{const{name:Se,value:Pe}=re.target;l(_e=>({..._e,[Se]:Pe,fechaActualizacionApoyos:new Date().toISOString()}))},Q=()=>{if(!v.meta.trim())return;const re={...v,id:crypto.randomUUID(),cumplida:!1};l(Se=>({...Se,metasProgreso:[...Se.metasProgreso||[],re]})),g({trimestre:"T1",meta:""})},J=re=>{l(Se=>({...Se,metasProgreso:(Se.metasProgreso||[]).map(Pe=>Pe.id===re?{...Pe,cumplida:!Pe.cumplida}:Pe)}))},q=re=>{l(Se=>({...Se,metasProgreso:(Se.metasProgreso||[]).filter(Pe=>Pe.id!==re)}))},Z=I.useMemo(()=>{const re=o.metasProgreso||[];if(re.length===0)return{percent:0,color:"bg-slate-300"};const Se=re.filter(Ae=>Ae.cumplida).length,Pe=Math.round(Se/re.length*100),_e=Pe<40?"bg-red-500":Pe<75?"bg-yellow-500":"bg-green-500";return{percent:Pe,color:_e}},[o.metasProgreso]),H=I.useMemo(()=>{if(!o.fechaActualizacionApoyos)return!0;const re=new Date(o.fechaActualizacionApoyos),Se=new Date;return Se.setMonth(Se.getMonth()-3),re<Se},[o.fechaActualizacionApoyos]),V=()=>{if(!b.titulo.trim()||!b.fecha)return;const re={...b,id:crypto.randomUUID(),resuelta:!1};l(Se=>({...Se,alertas:[...Se.alertas||[],re].sort((Pe,_e)=>new Date(Pe.fecha).getTime()-new Date(_e.fecha).getTime())})),y({titulo:"",fecha:new Date().toISOString()})},G=re=>{l(Se=>({...Se,alertas:(Se.alertas||[]).map(Pe=>Pe.id===re?{...Pe,resuelta:!Pe.resuelta}:Pe)}))},ne=re=>{l(Se=>({...Se,alertas:(Se.alertas||[]).filter(Pe=>Pe.id!==re)}))},R=re=>{re.target.files&&re.target.files[0]&&S(re.target.files[0])},W=()=>{if(!_)return;k(!0);const re=new FileReader;re.readAsDataURL(_),re.onloadend=()=>{const Se={id:crypto.randomUUID(),nombre:_.name,url:re.result,fechaSubida:new Date().toISOString()};l(Pe=>({...Pe,archivos:[Se,...Pe.archivos||[]]})),S(null),k(!1)},re.onerror=()=>{alert("Error al leer el archivo."),k(!1)}},Y=re=>{window.confirm("Eliminar este archivo?")&&l(Se=>({...Se,archivos:(Se.archivos||[]).filter(Pe=>Pe.id!==re)}))},te=()=>{if(!w.motivo.trim()||!w.asistentes.trim()){alert("Motivo y asistentes son obligatorios.");return}const re={...w,id:crypto.randomUUID(),fecha:new Date().toISOString()};l(Se=>({...Se,reuniones:[re,...Se.reuniones||[]].sort((Pe,_e)=>new Date(_e.fecha).getTime()-new Date(Pe.fecha).getTime())})),C(O)},ie=re=>{window.confirm("Eliminar este registro de reunin?")&&l(Se=>({...Se,reuniones:(Se.reuniones||[]).filter(Pe=>Pe.id!==re)}))},me=()=>{var ye,Oe,Me;const re=new hr("p","mm","a4"),Se=20,Pe=re.internal.pageSize.getWidth(),_e=re.internal.pageSize.getHeight();let Ae=Se;const je=Ye=>{Ye.setFontSize(10),Ye.setTextColor(100),Ye.text("Ficha de Seguimiento - Mdulo Inclusin",Se,15)};je(re),re.setFontSize(18),re.setFont("helvetica","bold"),re.setTextColor(40),re.text(o.nombre,Se,Ae+10),Ae+=15,re.setFontSize(11),re.setFont("helvetica","normal"),re.setTextColor(80),re.text(`Curso: ${o.curso}`,Se,Ae),re.text(`Dificultad: ${o.dificultad}`,Se,Ae+6),Ae+=15;const $e=Ye=>{Ae+Ye>_e-Se&&(re.addPage(),je(re),Ae=Se)},Ze=Ye=>{$e(15),re.setFontSize(14),re.setFont("helvetica","bold"),re.text(Ye,Se,Ae),Ae+=10};if((ye=o.intervenciones)!=null&&ye.length&&(Ze("Historial de Intervenciones"),dl(re,{startY:Ae,head:[["Fecha","Responsable","Accin","Observaciones"]],body:o.intervenciones.map(Ye=>[new Date(Ye.fecha).toLocaleDateString("es-CL"),Ye.responsable,Ye.accion,Ye.observaciones||""]),theme:"grid",didDrawPage:()=>je(re)}),Ae=re.lastAutoTable.finalY+10),o.adaptacionesCurriculares||o.apoyosRecibidos){$e(30),Ze("Seguimiento y Apoyos"),re.setFontSize(11),re.setFont("helvetica","normal");const Ye=`Adaptaciones: ${o.adaptacionesCurriculares||"No registradas."}
Apoyos: ${o.apoyosRecibidos||"No registrados."}`,tt=re.splitTextToSize(Ye,Pe-Se*2);re.text(tt,Se,Ae),Ae+=tt.length*5+10}(Oe=o.metasProgreso)!=null&&Oe.length&&($e(30),Ze("Metas de Progreso"),dl(re,{startY:Ae,head:[["Trimestre","Meta","Estado"]],body:o.metasProgreso.map(Ye=>[Ye.trimestre,Ye.meta,Ye.cumplida?"Cumplida":"Pendiente"]),theme:"grid",didDrawPage:()=>je(re)}),Ae=re.lastAutoTable.finalY+10),(Me=o.reuniones)!=null&&Me.length&&(Ze("Reuniones con Apoderados"),dl(re,{startY:Ae,head:[["Fecha","Motivo","Acuerdos","Asistentes"]],body:o.reuniones.map(Ye=>[new Date(Ye.fecha).toLocaleDateString("es-CL"),Ye.motivo,Ye.acuerdos||"",Ye.asistentes]),theme:"grid",didDrawPage:()=>je(re)})),re.save(`Ficha_Inclusion_${o.nombre.replace(/\s/g,"_")}.pdf`)},oe=()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:u?"Editando Intervencin":"Registrar Nueva Intervencin"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Responsable ",!u&&"(Se enviar notificacin automtica)"]}),c.jsxs("select",{value:h.responsable,onChange:re=>p(Se=>({...Se,responsable:re.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione Responsable..."}),n.map(re=>c.jsx("option",{value:re,children:re},re))]}),h.responsable&&!u&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-sm text-blue-800 dark:text-blue-200",children:[" Se enviar una notificacin a ",h.responsable," cuando se guarde la intervencin"]})]}),c.jsx("textarea",{value:h.accion,onChange:re=>p(Se=>({...Se,accion:re.target.value})),placeholder:"Accin realizada...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{value:h.observaciones,onChange:re=>p(Se=>({...Se,observaciones:re.target.value})),placeholder:"Observaciones adicionales...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsxs("div",{className:"flex justify-end gap-2",children:[u&&c.jsx("button",{onClick:()=>{d(null),p(f)},className:"text-sm bg-slate-200 dark:bg-slate-600 px-3 py-1 rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancelar Edicin"}),c.jsx("button",{onClick:P,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md hover:bg-amber-600 transition-colors",disabled:!h.responsable||!h.accion,children:u?"Actualizar":"Guardar y Notificar"})]})]}),c.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[(o.intervenciones||[]).map(re=>c.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:re.accion}),re.observaciones&&c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:re.observaciones}),c.jsxs("div",{className:"flex items-center justify-between mt-2",children:[c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[new Date(re.fecha).toLocaleString("es-CL")," - ",re.responsable]}),c.jsx("span",{className:"text-xs bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300 px-2 py-1 rounded-full",children:" Notificado"})]})]}),c.jsxs("div",{className:"flex-shrink-0 ml-4 flex gap-2",children:[c.jsx("button",{onClick:()=>j(re),className:"text-blue-500 hover:text-blue-700 p-1 rounded transition-colors",title:"Editar intervencin",children:""}),c.jsx("button",{onClick:()=>F(re.id),className:"text-red-500 hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar intervencin",children:""})]})]})},re.id)),(!o.intervenciones||o.intervenciones.length===0)&&c.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-4xl mb-2",children:""}),c.jsx("p",{children:"No hay intervenciones registradas"}),c.jsx("p",{className:"text-sm",children:"Registra la primera intervencin arriba"})]})]})]}),ce=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Adaptaciones y Apoyos"}),H&&c.jsx("span",{title:"Informacin no actualizada en los ltimos 3 meses",className:"text-yellow-500 text-xl cursor-help",children:""})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Adaptaciones Curriculares Implementadas"}),c.jsx("textarea",{name:"adaptacionesCurriculares",value:o.adaptacionesCurriculares||"",onChange:M,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",placeholder:"Describe las adaptaciones curriculares implementadas..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Apoyos Recibidos (PIE, dupla, etc.)"}),c.jsx("textarea",{name:"apoyosRecibidos",value:o.apoyosRecibidos||"",onChange:M,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",placeholder:"Describe los apoyos que recibe el estudiante..."})]})]}),c.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicadores de Progreso"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Progreso Anual de Metas: ",Z.percent,"%"]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4 dark:bg-slate-700",children:c.jsx("div",{className:`${Z.color} h-4 rounded-full transition-all duration-500`,style:{width:`${Z.percent}%`}})})]}),c.jsxs("div",{className:"flex gap-2 items-end pt-2",children:[c.jsxs("select",{value:v.trimestre,onChange:re=>g(Se=>({...Se,trimestre:re.target.value})),className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"T1",children:"T1"}),c.jsx("option",{value:"T2",children:"T2"}),c.jsx("option",{value:"T3",children:"T3"})]}),c.jsx("input",{value:v.meta,onChange:re=>g(Se=>({...Se,meta:re.target.value})),placeholder:"Definir nueva meta trimestral...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:Q,className:"bg-slate-200 dark:bg-slate-600 px-3 py-2 rounded-md font-semibold text-sm hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",disabled:!v.meta.trim(),children:"Agregar"})]}),c.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(o.metasProgreso||[]).map(re=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[c.jsx("input",{type:"checkbox",checked:re.cumplida,onChange:()=>J(re.id),className:"h-5 w-5 rounded text-amber-500"}),c.jsxs("span",{className:`flex-grow text-sm ${re.cumplida?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[c.jsxs("strong",{children:[re.trimestre,":"]})," ",re.meta]}),c.jsx("button",{onClick:()=>q(re.id),className:"text-red-500 text-sm hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar meta",children:""})]},re.id)),(!o.metasProgreso||o.metasProgreso.length===0)&&c.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-3xl mb-2",children:""}),c.jsx("p",{children:"No hay metas definidas"}),c.jsx("p",{className:"text-sm",children:"Agrega la primera meta trimestral"})]})]})]})]}),ge=()=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Alertas y Recordatorios"}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h5",{className:"font-medium",children:"Agendar Nueva Alerta"}),c.jsx("input",{type:"text",value:b.titulo,onChange:re=>y(Se=>({...Se,titulo:re.target.value})),placeholder:"Ttulo de la alerta",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),c.jsx("input",{type:"date",value:new Date(b.fecha).toISOString().slice(0,10),onChange:re=>y(Se=>({...Se,fecha:re.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),c.jsx("button",{onClick:V,className:"w-full text-sm bg-amber-500 text-white font-semibold px-3 py-1.5 rounded-md hover:bg-amber-600 transition-colors",disabled:!b.titulo.trim()||!b.fecha,children:"Agendar"})]}),c.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[(o.alertas||[]).map(re=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[c.jsx("input",{type:"checkbox",checked:re.resuelta,onChange:()=>G(re.id),className:"h-5 w-5 rounded text-amber-500"}),c.jsxs("span",{className:`flex-grow text-sm ${re.resuelta?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[re.titulo," (",new Date(re.fecha+"T12:00:00").toLocaleDateString("es-CL"),")"]}),c.jsx("button",{onClick:()=>ne(re.id),className:"text-red-500 text-sm hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar alerta",children:""})]},re.id)),(!o.alertas||o.alertas.length===0)&&c.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-3xl mb-2",children:""}),c.jsx("p",{children:"No hay alertas programadas"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Archivos Adjuntos"}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h5",{className:"font-medium",children:"Subir Nuevo Archivo"}),c.jsx("input",{type:"file",onChange:R,className:"w-full text-sm",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt"}),c.jsx("button",{onClick:W,disabled:!_||B,className:"w-full text-sm bg-blue-500 text-white font-semibold px-3 py-1.5 rounded-md disabled:bg-slate-400 hover:bg-blue-600 transition-colors",children:B?"Subiendo...":"Subir"}),_&&c.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Archivo seleccionado: ",_.name]})]}),c.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[(o.archivos||[]).map(re=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[c.jsxs("a",{href:re.url,download:re.nombre,className:"text-sm text-blue-600 hover:underline truncate flex-grow",title:re.nombre,children:[" ",re.nombre]}),c.jsx("button",{onClick:()=>Y(re.id),className:"text-red-500 text-sm ml-2 hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar archivo",children:""})]},re.id)),(!o.archivos||o.archivos.length===0)&&c.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-3xl mb-2",children:""}),c.jsx("p",{children:"No hay archivos adjuntos"})]})]})]})]}),De=()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Registrar Nueva Reunin"}),c.jsx("input",{value:w.motivo,onChange:re=>C(Se=>({...Se,motivo:re.target.value})),placeholder:"Motivo de la reunin...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{value:w.acuerdos,onChange:re=>C(Se=>({...Se,acuerdos:re.target.value})),placeholder:"Acuerdos tomados en la reunin...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{value:w.asistentes,onChange:re=>C(Se=>({...Se,asistentes:re.target.value})),placeholder:"Asistentes (separados por coma)...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("div",{className:"text-right",children:c.jsx("button",{onClick:te,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md hover:bg-amber-600 transition-colors",disabled:!w.motivo.trim()||!w.asistentes.trim(),children:"Guardar Reunin"})})]}),c.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[(o.reuniones||[]).map(re=>c.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:re.motivo}),re.acuerdos&&c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:[c.jsx("strong",{children:"Acuerdos:"})," ",re.acuerdos]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[new Date(re.fecha).toLocaleString("es-CL")," - Asistentes: ",re.asistentes]})]}),c.jsx("button",{onClick:()=>ie(re.id),className:"text-red-500 flex-shrink-0 ml-4 hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar reunin",children:""})]})},re.id)),(!o.reuniones||o.reuniones.length===0)&&c.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-4xl mb-2",children:""}),c.jsx("p",{children:"No hay reuniones registradas"}),c.jsx("p",{className:"text-sm",children:"Registra la primera reunin con apoderados"})]})]})]});return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:re=>re.stopPropagation(),children:[c.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Ficha de Seguimiento: ",e.nombre]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.curso," - ",e.dificultad]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:me,className:"text-sm bg-red-100 text-red-700 font-semibold px-3 py-1.5 rounded-md hover:bg-red-200 transition-colors",children:" Exportar PDF"}),c.jsx("button",{onClick:t,className:"text-2xl text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",children:""})]})]}),c.jsx("div",{className:"border-b dark:border-slate-700 px-4",children:c.jsx("nav",{className:"-mb-px flex space-x-6",children:["intervenciones","seguimiento","reuniones","alertas"].map(re=>c.jsx("button",{onClick:()=>i(re),className:`${s===re?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm capitalize transition-colors`,children:re==="alertas"?"Alertas y Archivos":re==="seguimiento"?"Seguimiento y Metas":re},re))})}),c.jsxs("div",{className:"p-6 overflow-y-auto flex-grow bg-slate-50 dark:bg-slate-900/50",children:[s==="intervenciones"&&oe(),s==="seguimiento"&&ce(),s==="reuniones"&&De(),s==="alertas"&&ge()]}),c.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[c.jsx("button",{onClick:t,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors",children:"Cerrar"}),c.jsx("button",{onClick:N,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 transition-colors",children:"Guardar Cambios y Cerrar"})]})]})})},zQ=({currentUser:e})=>{const[t,r]=I.useState([]),[n,a]=I.useState([]),[s,i]=I.useState(!0),[o,l]=I.useState(null),[u,d]=I.useState(null),[f,h]=I.useState(""),[p,v]=I.useState(""),[g,b]=I.useState(""),[y,_]=I.useState("dashboard");I.useEffect(()=>{i(!0);const P=tje(F=>{r(F),i(!1)}),j=rje(F=>a(F));return()=>{P(),j()}},[]);const S=async(P,j)=>{if(t.some(M=>M.nombre===P.nombreCompleto)){alert("Este estudiante ya est en el programa de inclusin.");return}const F={nombre:P.nombreCompleto,curso:P.curso||"",dificultad:j,intervenciones:[],metasProgreso:[],alertas:[],archivos:[],reuniones:[],adaptacionesCurriculares:"",apoyosRecibidos:"",fechaActualizacionApoyos:new Date().toISOString()};try{await nje(F),alert(` ${P.nombreCompleto} ha sido agregado exitosamente al programa PIE`)}catch(M){console.error("Error al agregar estudiante:",M),alert("Hubo un error al agregar al estudiante al programa.")}},B=async P=>{try{await aje(P.id,P)}catch(j){console.error("Error al actualizar la ficha:",j),alert("Hubo un error al guardar los cambios en la ficha.")}},k=async P=>{if(window.confirm("Est seguro de que desea eliminar a este estudiante del programa de inclusin? Esta accin es irreversible."))try{await sje(P),(o==null?void 0:o.id)===P&&l(null),alert(" Estudiante eliminado del programa PIE")}catch(j){console.error("Error al eliminar estudiante:",j),alert("Hubo un error al eliminar al estudiante.")}},O=P=>{const j=C;if(j.length===0){alert("No hay datos para exportar.");return}const F=j.map(M=>{var Q;return{Nombre:M.nombre,Curso:M.curso,Dificultad:M.dificultad,"N Intervenciones":((Q=M.intervenciones)==null?void 0:Q.length)||0,"Alertas Pendientes":(M.alertas||[]).filter(J=>!J.resuelta).length,"Metas Cumplidas":(M.metasProgreso||[]).filter(J=>J.cumplida).length,"Total Metas":(M.metasProgreso||[]).length,"ltima Actualizacin":M.fechaActualizacionApoyos?new Date(M.fechaActualizacionApoyos).toLocaleDateString("es-CL"):"No registrada"}});if(P==="xlsx"){const M=vu.json_to_sheet(F),Q=vu.book_new();vu.book_append_sheet(Q,M,"Estudiantes_Inclusion"),ID(Q,"Estudiantes_Inclusion.xlsx"),alert(" Archivo Excel exportado exitosamente")}else{const M=new hr;M.text("Listado de Estudiantes - Programa de Inclusin",14,15),dl(M,{startY:20,head:[Object.keys(F[0])],body:F.map(Object.values)}),M.save("Estudiantes_Inclusion.pdf"),alert(" Archivo PDF exportado exitosamente")}},w=I.useMemo(()=>n.filter(P=>{var j;return P.profile===Xt.ESTUDIANTE&&(((j=e.cursos)==null?void 0:j.includes(P.curso||""))||e.profile===Xt.SUBDIRECCION)}).filter(P=>!t.some(j=>j.nombre===P.nombreCompleto)),[n,t,e]),C=I.useMemo(()=>t.filter(P=>P.nombre.toLowerCase().includes(f.toLowerCase())&&(p===""||P.curso===p)&&(g===""||P.dificultad===g)).sort((P,j)=>P.nombre.localeCompare(j.nombre)),[t,f,p,g]),N=I.useMemo(()=>n.filter(P=>P.profile===Xt.PROFESORADO).map(P=>P.nombreCompleto).sort(),[n]);return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Programa de Inclusin Escolar (PIE)"}),c.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>_("dashboard"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${y==="dashboard"?"bg-white dark:bg-slate-600 text-slate-800 dark:text-slate-200 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:" Dashboard"}),c.jsx("button",{onClick:()=>_("lista"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${y==="lista"?"bg-white dark:bg-slate-600 text-slate-800 dark:text-slate-200 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:" Lista de Estudiantes"})]})]}),s?c.jsxs("div",{className:"text-center py-10",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"}),c.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Cargando datos del programa..."})]}):c.jsxs(c.Fragment,{children:[y==="dashboard"&&c.jsxs("div",{className:"space-y-8",children:[c.jsx(ije,{estudiantes:t}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:["Estudiantes Recientes (",Math.min(5,t.length),")"]}),c.jsx("button",{onClick:()=>_("lista"),className:"text-sm text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Ver todos "})]}),c.jsxs("div",{className:"space-y-3",children:[t.slice(0,5).map(P=>c.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700 flex justify-between items-center hover:shadow-sm transition-shadow",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:P.nombre}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[P.curso," - ",P.dificultad]})]}),c.jsx("button",{onClick:()=>l(P),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm transition-colors",children:"Ver Ficha"})]},P.id)),t.length===0&&c.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("p",{className:"text-lg font-medium mb-2",children:"No hay estudiantes en el programa PIE"}),c.jsx("p",{className:"text-sm",children:"Comienza agregando estudiantes desde la nmina"})]})]})]}),c.jsx(VQ,{estudiantesDisponibles:w,onSelect:P=>d(P)})]})]}),y==="lista"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:["Estudiantes en PIE (",C.length,")"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>O("xlsx"),className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg hover:bg-green-200 transition-colors",children:" Excel"}),c.jsx("button",{onClick:()=>O("pdf"),className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg hover:bg-red-200 transition-colors",children:" PDF"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Buscar estudiante"}),c.jsx("input",{type:"text",placeholder:"Nombre del estudiante...",value:f,onChange:P=>h(P.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por curso"}),c.jsxs("select",{value:p,onChange:P=>v(P.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todos los Cursos"}),Za.map(P=>c.jsx("option",{value:P,children:P},P))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por diagnstico"}),c.jsxs("select",{value:g,onChange:P=>b(P.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todas las Dificultades"}),R_.map(P=>c.jsx("option",{value:P,children:P},P))]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4 text-xs",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-center",children:[c.jsx("div",{className:"font-bold text-blue-600",children:C.length}),c.jsx("div",{className:"text-blue-800 dark:text-blue-300",children:"Mostrando"})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded text-center",children:[c.jsx("div",{className:"font-bold text-green-600",children:t.length}),c.jsx("div",{className:"text-green-800 dark:text-green-300",children:"Total"})]}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-center",children:[c.jsx("div",{className:"font-bold text-yellow-600",children:t.reduce((P,j)=>P+(j.alertas||[]).filter(F=>!F.resuelta).length,0)}),c.jsx("div",{className:"text-yellow-800 dark:text-yellow-300",children:"Alertas"})]}),c.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded text-center",children:[c.jsx("div",{className:"font-bold text-purple-600",children:new Set(t.map(P=>P.curso)).size}),c.jsx("div",{className:"text-purple-800 dark:text-purple-300",children:"Cursos"})]})]}),c.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:[C.map(P=>{var j;return c.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:P.nombre}),(P.alertas||[]).filter(F=>!F.resuelta).length>0&&c.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:[(P.alertas||[]).filter(F=>!F.resuelta).length," alertas"]})]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:[P.curso," - ",P.dificultad]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-600 dark:text-slate-300",children:[c.jsxs("span",{children:[((j=P.intervenciones)==null?void 0:j.length)||0," intervenciones"]}),c.jsxs("span",{children:[(P.metasProgreso||[]).filter(F=>F.cumplida).length," metas cumplidas"]}),P.fechaActualizacionApoyos&&c.jsxs("span",{children:["lt. actualizacin: ",new Date(P.fechaActualizacionApoyos).toLocaleDateString("es-CL")]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[c.jsx("button",{onClick:()=>l(P),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm px-3 py-1 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:"Ver Ficha"}),c.jsx("button",{onClick:()=>k(P.id),title:"Eliminar del programa",className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",children:""})]})]})},P.id)}),C.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400 mb-2",children:f||p||g?"No se encontraron estudiantes con esos criterios":"No hay estudiantes en el programa PIE"}),(f||p||g)&&c.jsx("button",{onClick:()=>{h(""),v(""),b("")},className:"text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Limpiar filtros"})]})]})]}),c.jsx(VQ,{estudiantesDisponibles:w,onSelect:P=>d(P)})]})]}),u&&c.jsx(oje,{student:u,onClose:()=>d(null),onConfirm:(P,j)=>{S(P,j),d(null)}}),o&&c.jsx(lje,{student:o,onClose:()=>l(null),onSave:B,profesores:N})]})},ote="asistencia_dual",cje=e=>{var r,n;const t=e.data();return{id:e.id,...t,fechaHora:((n=(r=t.fechaHora)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaHora}},uje=(e,t)=>{const r=Zt(Rt(jt,ote),Fn("emailEstudiante","==",e),Gr("fechaHora","desc"));return wr(r,a=>{const s=a.docs.map(i=>cje(i));t(s)},a=>{console.error("Error subscribing to personal attendance:",a),t([])})},dje=async e=>{try{const t={...e,fechaHora:mr.fromDate(new Date(e.fechaHora))};await qn(Rt(jt,ote),t)}catch(t){throw console.error("Error adding attendance record:",t),new Error("Could not save the attendance record.")}},Aje=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"})}),fje=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm-3.707-4.293a1 1 0 001.414 1.414L10 12.414l2.293 2.293a1 1 0 001.414-1.414L11.414 11l2.293-2.293a1 1 0 00-1.414-1.414L10 9.586 7.707 7.293a1 1 0 00-1.414 1.414L8.586 11 6.293 13.293a1 1 0 000 1.414z",clipRule:"evenodd"})}),hje=({currentUser:e})=>{const[t,r]=I.useState(e.curso||""),[n,a]=I.useState([]),[s,i]=I.useState(!1),[o,l]=I.useState(!0),[u,d]=I.useState(null);I.useEffect(()=>{if(!e.email){l(!1);return}l(!0);const h=uje(e.email,p=>{a(p),l(!1)});return()=>h()},[e.email]);const f=h=>{if(!t){d({text:"Por favor, seleccione su curso antes de marcar.",type:"error"});return}i(!0),d(null),navigator.geolocation.getCurrentPosition(async p=>{const v={nombreEstudiante:e.nombreCompleto,emailEstudiante:e.email,curso:t,tipo:h,fechaHora:new Date().toISOString(),ubicacion:{latitud:p.coords.latitude,longitud:p.coords.longitude}};try{await dje(v),d({text:`Marca de ${h} registrada con xito!`,type:"success"})}catch(g){console.error("Error saving record to Firestore:",g),d({text:"No se pudo guardar el registro en la nube.",type:"error"})}finally{i(!1)}},p=>{console.error("Geolocation error:",p);let v="No se pudo obtener la ubicacin.";switch(p.code){case p.PERMISSION_DENIED:v="Permiso de ubicacin denegado. Por favor, habilite la ubicacin en su navegador y dispositivo.";break;case p.POSITION_UNAVAILABLE:v="La informacin de ubicacin no est disponible en este momento. Verifique su conexin y GPS.";break;case p.TIMEOUT:v="La solicitud de ubicacin ha tardado demasiado. Intntelo de nuevo en un lugar con mejor seal.";break;default:v=`Ocurri un error desconocido al obtener la ubicacin (cdigo: ${p.code}).`;break}d({text:v,type:"error"}),i(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Asistencia a Empresa"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Registre su entrada y salida de la empresa de prctica."}),c.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Seleccione su curso"}),c.jsxs("select",{id:"curso",value:t,onChange:h=>r(h.target.value),className:"w-full border-slate-300 rounded-md shadow-sm text-lg p-2 dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"-- Mi curso --"}),ip.map(h=>c.jsx("option",{value:h,children:h},h))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[c.jsx("button",{onClick:()=>f("Entrada"),disabled:s||!t,className:"bg-green-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-green-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Entrada"}),c.jsx("button",{onClick:()=>f("Salida"),disabled:s||!t,className:"bg-red-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-red-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Salida"})]}),s&&c.jsxs("div",{className:"text-center text-slate-600 dark:text-slate-400 pt-4 flex items-center justify-center gap-2",children:[c.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{children:"Obteniendo ubicacin..."})]}),u&&c.jsx("div",{className:`text-center p-3 rounded-md mt-4 ${u.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.text})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Mi Historial de Asistencia"}),c.jsx("div",{className:"overflow-x-auto max-h-96",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fecha y Hora"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Tipo"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Curso"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:o?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500",children:"Cargando historial..."})}):n.length>0?n.map(h=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:new Date(h.fechaHora).toLocaleString("es-CL")}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:c.jsxs("span",{className:`px-3 py-1 inline-flex items-center gap-1.5 text-xs leading-5 font-semibold rounded-full ${h.tipo==="Entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[h.tipo==="Entrada"?c.jsx(Aje,{}):c.jsx(fje,{}),h.tipo]})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:h.curso})]},h.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500",children:"No tienes marcas de asistencia registradas."})})})]})})]})]})},mje=async()=>{try{console.log(" Debugging users collection...");const e=Rt(jr,"users"),t=Zt(e,_A(10)),r=await Hs(t),n={exists:!0,totalDocs:r.size,sampleDocs:[],fieldAnalysis:{}},a=new Set;return r.forEach((s,i)=>{const o=s.data(),l={id:s.id,data:o,fields:Object.keys(o)};n.sampleDocs.push(l),Object.keys(o).forEach(u=>a.add(u))}),n.fieldAnalysis={allFields:Array.from(a),commonFields:Array.from(a).filter(s=>n.sampleDocs.filter(o=>s in o.data).length>n.sampleDocs.length*.5)},console.log("Users collection debug result:",n),n}catch(e){return console.error("Error debugging users collection:",e),{exists:!1,error:e instanceof Error?e.message:"Unknown error"}}},pje=async(e,t)=>{var l,u,d;const r=new Date(e,t,1),n=new Date(e,t+1,0,23,59,59,999),a=mr.fromDate(r),s=mr.fromDate(n),i=["asistenciaDual","asistenciaEmpresa","asistencia","attendance","checkins"],o={};for(const f of i)try{const h=Rt(jr,f);try{const p=Zt(h,Fn("fechaHora",">=",a),Fn("fechaHora","<=",s)),v=await Hs(p);o[f]={exists:!0,hasDateField:!0,count:v.size,sampleDoc:((l=v.docs[0])==null?void 0:l.data())||null}}catch{const v=["fecha","timestamp","createdAt"];let g=!1;for(const b of v)try{const y=Zt(h,Fn(b,">=",a),Fn(b,"<=",s)),_=await Hs(y);o[f]={exists:!0,hasDateField:b,count:_.size,sampleDoc:((u=_.docs[0])==null?void 0:u.data())||null},g=!0;break}catch{continue}if(!g){const b=Zt(h,Gr("__name__"),_A(5)),y=await Hs(b);o[f]={exists:!0,hasDateField:!1,count:y.size,sampleDoc:((d=y.docs[0])==null?void 0:d.data())||null,note:"No date field found for filtering"}}}}catch(h){o[f]={exists:!1,error:h instanceof Error?h.message:"Unknown error"}}return console.log("Debug Asistencia Collections:",o),o},gje=(e,t,r,n)=>{try{const a=new Date(e,t,1);a.setHours(0,0,0,0);const s=new Date(e,t+1,0);s.setHours(23,59,59,999),console.log(` Buscando registros entre: ${a.toISOString()} y ${s.toISOString()}`),console.log(` Mes actual: ${e}-${(t+1).toString().padStart(2,"0")}`);const i=mr.fromDate(a),o=mr.fromDate(s),l=[],u=new Map,d=()=>{const h=Array.from(u.values());console.log(` Total registros encontrados: ${h.length}`),h.length>0&&console.log(" Registros por da:",h.reduce((p,v)=>{let g;v.fechaHora instanceof Date?g=v.fechaHora:typeof v.fechaHora=="string"?g=new Date(v.fechaHora):g=new Date;const b=g.getDate();return p[b]=(p[b]||0)+1,p},{})),r(h)};return["asistencia_dual","asistenciaEmpresa","asistencia_empresa","asistenciaDual","asistencia"].forEach(h=>{try{console.log(` Configurando suscripcin para: ${h}`);const p=Rt(jr,h),v=Zt(p,Fn("fechaHora",">=",i),Fn("fechaHora","<=",o),Gr("fechaHora","desc")),g=wr(v,b=>{console.log(` ${h}: ${b.size} documentos encontrados con filtro`),b.size>0?(console.log(` Registros encontrados en ${h}:`),Array.from(u.keys()).filter(_=>_.startsWith(`${h}_`)).forEach(_=>u.delete(_)),b.docs.forEach((_,S)=>{var B;if(S<5){const k=_.data();let O;(B=k.fechaHora)!=null&&B.toDate?O=k.fechaHora.toDate():typeof k.fechaHora=="string"?O=new Date(k.fechaHora):O=new Date,console.log(`   ${S+1}. ${k.emailEstudiante} - ${O.toLocaleString()} - ${k.tipo}`),console.log(`       Fecha original: ${k.fechaHora} (tipo: ${typeof k.fechaHora})`)}}),b.forEach(_=>{var w;const S=_.data();let B;(w=S.fechaHora)!=null&&w.toDate?B=S.fechaHora.toDate():typeof S.fechaHora=="string"?B=new Date(S.fechaHora):S.fechaHora instanceof Date?B=S.fechaHora:S.fechaHora?B=new Date(S.fechaHora):B=new Date;const k={id:_.id,emailEstudiante:S.emailEstudiante||S.email||"",nombreEstudiante:S.nombreEstudiante||S.nombre||"",curso:S.curso||"",fechaHora:B,tipo:S.tipo,ubicacion:S.ubicacion||null,observaciones:S.observaciones||"",...S},O=`${h}_${_.id}`;u.set(O,k)}),d()):console.log(` ${h}: vaca, manteniendo datos existentes`)},b=>{console.warn(` Error con filtro en ${h}:`,b),console.log(` Intentando estrategia alternativa en ${h}...`);const y=Zt(p,_A(200)),_=wr(y,B=>{if(console.log(` ${h} (sin filtro): ${B.size} documentos`),B.size>0){const O=B.docs[0].data();console.log(` Estructura en ${h}:`,Object.keys(O)),console.log(" Primer documento:",O)}const k=B.docs.filter(O=>{var N;const w=O.data();if(!w.fechaHora)return!1;let C;return(N=w.fechaHora)!=null&&N.toDate?C=w.fechaHora.toDate():typeof w.fechaHora=="string"?C=new Date(w.fechaHora):w.fechaHora instanceof Date?C=w.fechaHora:C=new Date(w.fechaHora),C>=a&&C<=s});console.log(` ${h}: ${k.length} registros despus de filtro manual`),k.length>0&&(Array.from(u.keys()).filter(w=>w.startsWith(`${h}_`)).forEach(w=>u.delete(w)),k.forEach(w=>{var F;const C=w.data();let N;(F=C.fechaHora)!=null&&F.toDate?N=C.fechaHora.toDate():typeof C.fechaHora=="string"?N=new Date(C.fechaHora):C.fechaHora instanceof Date?N=C.fechaHora:N=new Date(C.fechaHora);const P={id:w.id,emailEstudiante:C.emailEstudiante||C.email||"",nombreEstudiante:C.nombreEstudiante||C.nombre||"",curso:C.curso||"",fechaHora:N,tipo:C.tipo,ubicacion:C.ubicacion||null,observaciones:C.observaciones||"",...C},j=`${h}_${w.id}`;u.set(j,P)}),d())}),S=l.findIndex(B=>B===g);S>=0?l[S]=_:l.push(_)});l.push(g)}catch(p){console.warn(` Error configurando ${h}:`,p)}}),()=>{l.forEach(h=>{try{h()}catch(p){console.warn("Error unsubscribing:",p)}})}}catch(a){return console.error("Error setting up subscribeToAsistenciaByMonth:",a),n&&n(new Error(`Error al configurar suscripcin: ${a instanceof Error?a.message:"Error desconocido"}`)),()=>{}}},vje=(e,t)=>{try{console.log(" Buscando usuarios en mltiples colecciones...");const r=["usuarios","users"],n=[],a=new Map,s=()=>{const o=Array.from(a.values());console.log(` Total usuarios encontrados: ${o.length}`);const l=o.reduce((d,f)=>(d[f.profile]=(d[f.profile]||0)+1,d),{});console.log(" Usuarios por perfil:",l);const u=o.filter(d=>d.profile===Xt.ESTUDIANTE);console.log(` Estudiantes encontrados: ${u.length}`),u.forEach(d=>{console.log(`   - ${d.nombreCompleto} (${d.curso}) - ${d.email}`)}),e(o)};let i=!1;return r.forEach(o=>{try{const l=Rt(jr,o),u=Zt(l),d=wr(u,f=>{f.size>0?(console.log(` Encontrados ${f.size} usuarios en coleccin: ${o}`),i=!0,Array.from(a.keys()).filter(p=>p.startsWith(`${o}_`)).forEach(p=>a.delete(p)),f.forEach(p=>{var v,g,b,y;try{const _=p.data(),S=_.email||_.userEmail||_.mail||_.correo||"",B=_.nombreCompleto||_.displayName||_.name||_.nombre||_.fullName||"",k=_.curso||_.course||_.class||_.grade||"";let O=_.profile||_.role||_.tipo||_.userType||Xt.ESTUDIANTE;if(typeof O=="string"){const N=O.toLowerCase();N.includes("estudiante")||N.includes("student")||N.includes("alumno")?O=Xt.ESTUDIANTE:N.includes("coordinador")||N.includes("coordinator")?O=Xt.COORDINADOR_TP:N.includes("profesor")||N.includes("teacher")||N.includes("docente")?O=Xt.PROFESOR:(N.includes("subdireccion")||N.includes("subdir"))&&(O=Xt.COORDINADOR_TP)}const w={id:p.id,email:S,nombreCompleto:B,curso:k,profile:O,activo:_.activo!==!1,fechaCreacion:((g=(v=_.fechaCreacion)==null?void 0:v.toDate)==null?void 0:g.call(v))||new Date(_.fechaCreacion)||new Date,ultimaActividad:((y=(b=_.ultimaActividad)==null?void 0:b.toDate)==null?void 0:y.call(b))||new Date(_.ultimaActividad)||new Date,..._},C=`${o}_${p.id}`;a.set(C,w)}catch(_){console.warn(`Error procesando documento ${p.id} en ${o}:`,_)}}),s()):console.log(` Coleccin ${o}: vaca`)},f=>{console.warn(` Error en coleccin ${o}:`,f)});n.push(d)}catch(l){console.warn(` Error configurando ${o}:`,l)}}),setTimeout(()=>{i||(console.error(" No se encontraron usuarios en ninguna coleccin"),t&&t(new Error("No se encontraron colecciones de usuarios con datos")))},3e3),()=>{n.forEach(o=>{try{o()}catch(l){console.warn("Error unsubscribing:",l)}})}}catch(r){return console.error("Error setting up multi-collection users subscription:",r),t&&t(new Error(`Error al configurar suscripcin multi-coleccin: ${r instanceof Error?r.message:"Error desconocido"}`)),()=>{}}},xje=(e,t)=>{try{console.log("Setting up users subscription...");const r=Rt(jr,"users"),n=Zt(r);return wr(n,s=>{console.log(`Raw users snapshot size: ${s.size}`);const i=[];s.forEach(d=>{var f,h,p,v;try{const g=d.data();console.log(`Processing user doc ${d.id}:`,g);const b=g.email||g.userEmail||g.mail||"",y=g.nombreCompleto||g.displayName||g.name||g.nombre||"",_=g.curso||g.course||g.class||"";let S=g.profile||g.role||g.tipo||Xt.ESTUDIANTE;if(typeof S=="string"){const k=S.toLowerCase();k.includes("estudiante")||k.includes("student")||k.includes("alumno")?S=Xt.ESTUDIANTE:k.includes("coordinador")||k.includes("coordinator")?S=Xt.COORDINADOR_TP:k.includes("profesor")||k.includes("teacher")||k.includes("docente")?S=Xt.PROFESOR:(k.includes("subdireccion")||k.includes("subdir"))&&(S=Xt.COORDINADOR_TP)}const B={id:d.id,email:b,nombreCompleto:y,curso:_,profile:S,activo:g.activo!==!1,fechaCreacion:((h=(f=g.fechaCreacion)==null?void 0:f.toDate)==null?void 0:h.call(f))||new Date(g.fechaCreacion)||new Date,ultimaActividad:((v=(p=g.ultimaActividad)==null?void 0:p.toDate)==null?void 0:v.call(p))||new Date(g.ultimaActividad)||new Date,...g};i.push(B)}catch(g){console.warn(`Error processing user document ${d.id}:`,g)}}),i.sort((d,f)=>d.nombreCompleto.localeCompare(f.nombreCompleto)),console.log(`Processed ${i.length} users successfully`);const o=i.reduce((d,f)=>(d[f.profile]=(d[f.profile]||0)+1,d),{});console.log("Users by profile:",o);const l=i.filter(d=>d.profile===Xt.ESTUDIANTE);console.log(`Estudiantes: ${l.length}`);const u=l.filter(d=>d.curso);console.log(`Estudiantes con curso: ${u.length}`),e(i)},s=>{console.error("Error in subscribeToAllUsers:",s),t&&t(new Error(`Error al cargar usuarios: ${s.message}`))})}catch(r){return console.error("Error setting up subscribeToAllUsers:",r),t&&t(new Error(`Error al configurar suscripcin de usuarios: ${r instanceof Error?r.message:"Error desconocido"}`)),()=>{}}},kE=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(//g,""),t=t.replace(/\s+(medio|bsico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),t=t.replace(/^(\d)(?![])/,"$1"),t=t.replace(/\s+/g,"").toUpperCase(),t},bje=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),yje=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H9.5l3.5 3.5L11.59 18 6 12.41 11.59 7 13 8.41 9.5 11H17v2z"})}),wje=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[a,s]=I.useState(!0),[i,o]=I.useState(null),[l,u]=I.useState(new Date),[d,f]=I.useState("todos"),[h,p]=I.useState("");I.useEffect(()=>{s(!0),o(null);const O=l.getFullYear(),w=l.getMonth();console.log("=== INICIANDO CARGA DE DATOS ==="),console.log("Ao:",O,"Mes:",w);let C=!1,N=!1;const P=()=>{C&&N&&(console.log("=== CARGA COMPLETA ==="),s(!1))};(async()=>{console.log(" INICIANDO PRUEBA DIRECTA SIMPLE...");try{const F=Rt(jr,"asistencia_dual"),M=Zt(F,_A(5)),Q=await Hs(M);if(console.log(` asistencia_dual - Documentos encontrados: ${Q.size}`),Q.size>0)Q.docs.forEach((J,q)=>{const Z=J.data();console.log(`   ${q+1}. ${J.id.slice(0,8)} - ${Z.emailEstudiante} - ${Z.tipo}`),console.log("      Fecha original:",Z.fechaHora),console.log("      Todos los campos:",Object.keys(Z))});else{console.log(" No se encontraron documentos en asistencia_dual");const J=["asistenciaEmpresa","asistencia_empresa"];for(const q of J)try{const Z=Rt(jr,q),H=Zt(Z,_A(3)),V=await Hs(H);if(console.log(` ${q}: ${V.size} documentos`),V.size>0){const G=V.docs[0].data();console.log("   Estructura:",Object.keys(G)),console.log("   Email:",G.emailEstudiante||G.email),console.log("   Fecha:",G.fechaHora||G.fecha)}}catch(Z){console.log(` ${q}: ${Z instanceof Error?Z.message:"Error"}`)}}}catch(F){console.error(" Error en prueba directa:",F),F.code==="permission-denied"?(console.log(" PROBLEMA: Permisos de Firestore denegados"),console.log(" Ve a Firebase Console  Firestore  Rules y verifica los permisos")):F.code==="failed-precondition"&&(console.log(" PROBLEMA: Faltan ndices en Firestore"),console.log(" Ve a Firebase Console  Firestore  Indexes"))}})(),pje(O,w).then(F=>{console.log(" Debug info for collections:",F),Object.entries(F).forEach(([M,Q])=>{if(Q.exists&&Q.totalDocs>0){if(console.log(`
 COLECCIN ${M.toUpperCase()}:`),console.log(`    Total documentos: ${Q.totalDocs}`),console.log(`    Documentos del perodo: ${Q.count}`),console.log(`    Campo de fecha: ${Q.hasDateField}`),Q.sampleDoc){console.log("    Documento ejemplo:",Q.sampleDoc);const J=Q.sampleDoc,q=J.emailEstudiante||J.email||J.userEmail||J.correo||"NO ENCONTRADO",Z=J.tipo||J.type||J.action||J.tipoRegistro||"NO ENCONTRADO",H=J.fechaHora||J.fecha||J.timestamp||J.createdAt||"NO ENCONTRADO";console.log(`    Email estudiante: ${q}`),console.log(`    Tipo registro: ${Z}`),console.log(`    Fecha: ${H}`),console.log("    Todos los campos:",Object.keys(J))}Q.filteredDocs&&Q.filteredDocs.length>0&&(console.log("    Registros del perodo encontrados:",Q.filteredDocs.length),Q.filteredDocs.forEach((J,q)=>{q<3&&console.log(`      ${q+1}. ID: ${J.id}`,J.data)}))}else Q.exists?console.log(` Coleccin ${M}: vaca`):console.log(` Coleccin ${M}: no existe`)})}).catch(F=>{console.error("Debug error:",F)}),mje().then(F=>{console.log(" Debug info for users:",F),(!F.exists||F.totalDocs===0)&&(console.log(' Coleccin "users" vaca o no existe. Buscando alternativas...'),["usuarios","estudiantes","profiles","accounts","members"].forEach(async Q=>{var J;try{const q=Rt(jr,Q),Z=Zt(q,_A(5)),H=await Hs(Z);H.size>0?(console.log(` Encontrada coleccin alternativa: ${Q} con ${H.size} documentos`),console.log("Documento muestra:",(J=H.docs[0])==null?void 0:J.data())):console.log(` Coleccin ${Q}: vaca`)}catch{console.log(` Coleccin ${Q}: no existe`)}}))}).catch(F=>{console.error("Users debug error:",F)});try{console.log("Configurando suscripcin a asistencia...");const F=gje(O,w,Q=>{if(console.log(" Received registros:",Q.length),Q.length>0){console.log(" ANLISIS DE REGISTROS RECIBIDOS:"),console.log("Sample registro:",Q[0]);const J=[...new Set(Q.map(ne=>ne.emailEstudiante).filter(Boolean))];console.log(" Emails de estudiantes en registros:",J);const q=[...new Set(Q.map(ne=>ne.tipo).filter(Boolean))];console.log(" Tipos de registro encontrados:",q);const Z=Q.reduce((ne,R)=>{const W=new Date(R.fechaHora).getDate();return ne[W]||(ne[W]=[]),ne[W].push(R),ne},{});console.log(" Registros por da del mes:",Object.keys(Z).map(ne=>({dia:parseInt(ne),cantidad:Z[parseInt(ne)].length})));const H=r.map(ne=>ne.email).filter(Boolean);console.log(" Emails de estudiantes cargados:",H);const V=J.filter(ne=>H.includes(ne)),G=J.filter(ne=>!H.includes(ne));console.log(" Emails que coinciden:",V),console.log(" Emails que NO coinciden:",G)}else console.log(" No se encontraron registros de asistencia para el perodo");t(Q),C=!0,P()},Q=>{console.error(" Error fetching asistencia:",Q),o("Error al cargar datos de asistencia: "+Q.message),C=!0,P()});console.log("Configurando suscripcin a usuarios...");const M=vje(Q=>{if(console.log(" Received users (multi-collection):",Q.length),Q.length>0){console.log("Sample user:",Q[0]);const J=Q.filter(q=>q.profile===Xt.ESTUDIANTE&&q.curso);console.log("Dual students found:",J.length),J.forEach(q=>{console.log(`- ${q.nombreCompleto} (${q.curso}) - ${q.email}`)})}n(Q),N=!0,P()},Q=>{console.error(" Error fetching users (multi-collection):",Q),console.log(" Intentando con funcin original de usuarios...");const J=xje(q=>{console.log(" Received users (fallback):",q.length),n(q),N=!0,P()},q=>{console.error(" Error en fallback tambin:",q),o("Error al cargar estudiantes: "+Q.message),N=!0,P()})});return()=>{console.log("Limpiando suscripciones..."),F&&F(),M&&M()}}catch(F){console.error(" Error setting up subscriptions:",F),o("Error al inicializar conexiones: "+(F instanceof Error?F.message:"Error desconocido")),s(!1)}},[l]);const{monthDays:v,monthName:g,year:b}=I.useMemo(()=>{const O=l.getFullYear(),w=l.getMonth();return{monthDays:new Date(O,w+1,0).getDate(),monthName:l.toLocaleString("es-CL",{month:"long"}),year:O}},[l]),y=I.useMemo(()=>{let O=r.filter(w=>w.profile===Xt.ESTUDIANTE&&w.curso&&ip.includes(kE(w.curso)));if(d!=="todos"&&(O=O.filter(w=>kE(w.curso||"")===d)),h&&(O=O.filter(w=>w.nombreCompleto.toLowerCase().includes(h.toLowerCase()))),e.length>0){const w=[...new Set(e.map(P=>P.emailEstudiante).filter(Boolean))],C=O.map(P=>P.email),N=w.filter(P=>!C.includes(P));if(N.length>0){console.log(" Agregando estudiantes faltantes con registros:",N);const j=N.map(F=>{const M=e.find(Q=>Q.emailEstudiante===F);return{id:F,email:F,nombreCompleto:(M==null?void 0:M.nombreEstudiante)||F.split("@")[0],curso:(M==null?void 0:M.curso)||"3C",profile:Xt.ESTUDIANTE,activo:!0,fechaCreacion:new Date,ultimaActividad:new Date}}).filter(F=>{const M=d==="todos"||kE(F.curso)===d,Q=!h||F.nombreCompleto.toLowerCase().includes(h.toLowerCase());return M&&Q&&ip.includes(kE(F.curso))});O=[...O,...j]}}return console.log(` Estudiantes filtrados para mostrar: ${O.length}`),O.forEach(w=>{console.log(`   - ${w.nombreCompleto} (${w.curso}) - ${w.email}`)}),O.sort((w,C)=>w.nombreCompleto.localeCompare(C.nombreCompleto))},[r,d,h,e]),_=I.useMemo(()=>{console.log(" Procesando datos de asistencia para la tabla..."),console.log(` Total registros a procesar: ${e.length}`),console.log(` Estudiantes disponibles: ${y.length}`);const O=new Map;return e.length===0?(console.log(" No hay registros para procesar an"),O):(e.forEach((w,C)=>{const N=w.emailEstudiante;if(!N)return;let P;if(w.fechaHora instanceof Date)P=w.fechaHora;else if(w.fechaHora&&typeof w.fechaHora=="object"&&"toDate"in w.fechaHora)P=w.fechaHora.toDate();else if(typeof w.fechaHora=="string")P=new Date(w.fechaHora);else{console.warn("Fecha no vlida en registro:",w);return}const j=P.getDate(),F=P.getMonth(),M=P.getFullYear();C<3&&console.log(` Registro ${C+1}:`,{email:N,tipo:w.tipo,fechaOriginal:w.fechaHora,fechaProcesada:P.toLocaleString(),ao:M,mes:F,da:j}),O.has(N)||O.set(N,new Map);const Q=O.get(N);Q.has(j)||Q.set(j,{});const J=Q.get(j);w.tipo==="Entrada"?(!J.entrada||P<new Date(J.entrada.fechaHora))&&(J.entrada=w):w.tipo==="Salida"&&(!J.salida||P>new Date(J.salida.fechaHora))&&(J.salida=w)}),console.log(" Datos de asistencia procesados:",{estudiantesConRegistros:O.size,estudiantes:Array.from(O.keys()),registrosPorEstudiante:Array.from(O.entries()).map(([w,C])=>({email:w,dias:Array.from(C.keys()),totalRegistros:Array.from(C.values()).reduce((N,P)=>N+(P.entrada?1:0)+(P.salida?1:0),0)}))}),O)},[e]),S=O=>{u(w=>{const C=new Date(w);return C.setMonth(C.getMonth()+O),C})},B=O=>{O!=null&&O.latitud&&(O!=null&&O.longitud)&&window.open(`https://www.google.com/maps?q=${O.latitud},${O.longitud}`,"_blank")},k=["D","L","M","M","J","V","S"];return i?c.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:c.jsx("div",{className:"text-red-600 bg-red-100 dark:bg-red-900/30 p-4 rounded-md",children:i})}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Asistencia Dual Mensual"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[c.jsx("button",{onClick:()=>S(-1),disabled:a,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Mes anterior",children:""}),c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize w-48 text-center",children:`${g} ${b}`}),c.jsx("button",{onClick:()=>S(1),disabled:a,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Mes siguiente",children:""})]}),c.jsxs("select",{value:d,onChange:O=>f(O.target.value),disabled:a,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 disabled:opacity-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"todos",children:"Todos los Cursos"}),ip.map(O=>c.jsx("option",{value:O,children:O},O))]}),c.jsx("input",{type:"text",placeholder:"Buscar estudiante...",value:h,onChange:O=>p(O.target.value),disabled:a,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 disabled:opacity-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a?c.jsxs("div",{className:"text-center text-amber-600 py-10",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mb-4"}),c.jsx("div",{children:"Cargando datos de asistencia..."})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border-collapse border border-slate-200 dark:border-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"sticky left-0 bg-slate-100 dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-semibold w-48",children:"Estudiante"}),Array.from({length:v},(O,w)=>{const N=new Date(b,l.getMonth(),w+1).getDay(),P=N===0||N===6;return c.jsxs("th",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-xs w-16 ${P?"bg-slate-100 dark:bg-slate-700/50":""}`,children:[c.jsx("div",{className:"font-semibold",children:k[N]}),c.jsx("div",{children:w+1})]},w)})]})}),c.jsx("tbody",{children:y.length>0?y.map(O=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[c.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-medium whitespace-nowrap",children:O.nombreCompleto}),Array.from({length:v},(w,C)=>{var M;const N=C+1,P=(M=_.get(O.email))==null?void 0:M.get(N),j=new Date(b,l.getMonth(),C+1),F=j.getDay()===0||j.getDay()===6;return O.email==="alexis.robles@industrialderecoleta.cl"&&N===2&&console.log(" Verificando da 2 para Alexis:",{email:O.email,day:N,hasDataForStudent:_.has(O.email),studentDayRecords:P,allAttendanceKeys:Array.from(_.keys()),daysForStudent:_.get(O.email)?Array.from(_.get(O.email).keys()):[]}),c.jsx("td",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-center align-middle ${F?"bg-slate-100 dark:bg-slate-700/50":""}`,children:c.jsxs("div",{className:"flex justify-center items-center gap-1.5 h-full",children:[(P==null?void 0:P.entrada)&&c.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var Q;return B((Q=P.entrada)==null?void 0:Q.ubicacion)},children:[c.jsx(bje,{}),c.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(P.entrada.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),(P==null?void 0:P.salida)&&c.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var Q;return B((Q=P.salida)==null?void 0:Q.ubicacion)},children:[c.jsx(yje,{}),c.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(P.salida.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]})]})},N)})]},O.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:v+1,className:"text-center p-8 text-slate-500",children:"No hay estudiantes en el curso seleccionado o que coincidan con la bsqueda."})})})]})})]})},pN="evaluaciones_formativas",gN="calificaciones_formativas",RD="trabajos_grupales_formativos",Eje="usuarios",LD=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fecha:((n=(r=t.fecha)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString().split("T")[0])||t.fecha,fechaPresentacion:((s=(a=t.fechaPresentacion)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.fechaPresentacion}},Cje=(e,t,r)=>{const n=Zt(Rt(jt,pN),Fn("curso","==",e),Fn("asignatura","==",t),Gr("fecha","asc"));return wr(n,a=>{r(a.docs.map(s=>LD(s)))},a=>{console.error("Error al suscribirse a evaluaciones:",a),r([])})},_je=async(e,t)=>{const r=BO(jt),n=vr(Rt(jt,pN));r.set(n,{...e,fecha:mr.fromDate(new Date(e.fecha+"T00:00:00"))});const a=vr(jt,gN,n.id);return r.set(a,t),await r.commit(),n.id},Sje=async(e,t)=>{const r=vr(jt,pN,e);await fo(r,t,{merge:!0})},Nje=async e=>{const t=BO(jt);t.delete(vr(jt,pN,e)),t.delete(vr(jt,gN,e)),await t.commit()},kje=(e,t)=>{if(e.length===0)return t({}),()=>{};const r=e.map(n=>{const a=vr(jt,gN,n);return wr(a,s=>{s.exists()&&t({[n]:s.data()})})});return()=>r.forEach(n=>n())},Bje=async(e,t)=>{const r=vr(jt,gN,e);await fo(r,t,{merge:!0})},Tje=(e,t,r)=>{const n=Zt(Rt(jt,RD),Fn("curso","==",e),Fn("asignatura","==",t),Gr("fechaPresentacion","desc"));return wr(n,a=>{r(a.docs.map(s=>LD(s)))},a=>{console.error("Error al suscribirse a trabajos grupales:",a),r([])})},Ije=async e=>{const t={...e,fechaPresentacion:mr.fromDate(new Date(e.fechaPresentacion+"T00:00:00"))};await qn(Rt(jt,RD),t)},jje=async(e,t)=>{const r=vr(jt,RD,e);await fo(r,t,{merge:!0})},Fje=e=>{const t=Zt(Rt(jt,Eje));return wr(t,r=>{e(r.docs.map(n=>LD(n)))},r=>{console.error("Error al suscribirse a usuarios:",r),e([])})},lte=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(//g,""),t=t.replace(/\s+(medio|bsico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),t=t.replace(/^(\d)(?![])/,"$1"),t=t.replace(/\s+/g,"").toUpperCase(),t},mv={"Lengua y Literatura":"",Matemtica:"",Ingls:"",Filosofa:"","Historia y Geografa":"","Educacin Ciudadana":"",Ciencias:"","Ciencias para la Ciudadana":"",Artes:"",Msica:"","Educacin Fsica":"",Orientacin:"","Mecnica Industrial":"","Mecnica Automotriz":"",Emprendimiento:"",Tecnologa:"","Pensamiento Lgico":"","Competencia Lectora":"",Default:""},cte=e=>e.startsWith("1")?{bg:"bg-blue-500",text:"text-white",border:"border-blue-700",spine:"bg-blue-800"}:e.startsWith("2")?{bg:"bg-green-500",text:"text-white",border:"border-green-700",spine:"bg-green-800"}:e.startsWith("3")?{bg:"bg-yellow-400",text:"text-yellow-900",border:"border-yellow-600",spine:"bg-yellow-700"}:e.startsWith("4")?{bg:"bg-red-500",text:"text-white",border:"border-red-700",spine:"bg-red-800"}:{bg:"bg-slate-500",text:"text-white",border:"border-slate-700",spine:"bg-slate-800"},Oje=({cursos:e,onSelect:t})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione un Libro de Clases"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Cada libro representa un curso y contiene sus evaluaciones formativas."}),e.length>0?c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:e.map(r=>{const n=cte(r);return c.jsxs("div",{className:"space-y-2 text-center",children:[c.jsxs("button",{onClick:()=>t(r),className:`relative w-full h-48 rounded-md shadow-lg ${n.bg} ${n.border} border-b-4 transform hover:-translate-y-2 transition-transform duration-300 group`,children:[c.jsx("div",{className:`absolute top-0 left-0 w-6 h-full ${n.spine} rounded-l-md`}),c.jsxs("div",{className:`flex flex-col items-center justify-center h-full p-2 ${n.text}`,children:[c.jsx("span",{className:"font-bold text-2xl drop-shadow-sm",children:r.slice(0,2)}),c.jsx("span",{className:"font-black text-5xl drop-shadow-md",children:r.slice(2)})]})]}),c.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:r})]},r)})}):c.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[c.jsx("p",{className:"text-slate-500",children:"No tiene cursos asignados."}),c.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador para que le asigne cursos a su perfil."})]})]}),Dje=({curso:e,asignaturas:t,onSelect:r,onBack:n})=>{const a=cte(e);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800 dark:hover:text-slate-200",children:" Volver a Cursos"}),c.jsxs("div",{className:`p-2 rounded-md ${a.bg} ${a.text} font-bold`,children:["Libro de Clases: ",e]})]}),c.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione una Asignatura"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Elija la asignatura para ver o agregar calificaciones."}),t.length>0?c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map(s=>c.jsxs("button",{onClick:()=>r(s),className:"flex items-center gap-3 p-4 rounded-lg bg-slate-100 hover:bg-amber-100 dark:bg-slate-700 dark:hover:bg-amber-900/50 transition-colors",children:[c.jsx("span",{className:"text-2xl",children:mv[s]||mv.Default}),c.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200 text-left",children:s})]},s))}):c.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[c.jsx("p",{className:"text-slate-500",children:"No tiene asignaturas asignadas."}),c.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador."})]})]})},Pje=({curso:e,asignatura:t,allUsers:r,onBack:n})=>{const[a,s]=I.useState([]),[i,o]=I.useState({}),[l,u]=I.useState({fecha:new Date().toISOString().split("T")[0],nombreActividad:""}),[d,f]=I.useState(null),[h,p]=I.useState(null),[v,g]=I.useState(!0),b=I.useMemo(()=>r.filter(C=>C.profile===Xt.ESTUDIANTE&&lte(C.curso||"")===e).map(C=>C.nombreCompleto).sort((C,N)=>C.localeCompare(N)),[r,e]);I.useEffect(()=>{g(!0);const C=Cje(e,t,N=>{s(N);const P=N.map(F=>F.id),j=kje(P,F=>{o(M=>({...M,...F}))});return g(!1),()=>j()});return()=>C()},[e,t]);const y=C=>{const{name:N,value:P}=C.target;d?f(j=>j?{...j,[N]:P}:null):u(j=>({...j,[N]:P}))},_=async C=>{if(C.preventDefault(),p(null),!l.nombreActividad.trim()){p("El nombre de la actividad es obligatorio.");return}const N={asignatura:t,curso:e,...l},P=b.reduce((j,F)=>(j[F]="trabajado",j),{});try{await _je(N,P),u({fecha:new Date().toISOString().split("T")[0],nombreActividad:""})}catch(j){console.error(j),p("No se pudo crear la evaluacin.")}},S=(C,N)=>{var M;const P=((M=i[C])==null?void 0:M[N])||"trabajado";let j;P==="trabajado"?j="no trabajado":P==="no trabajado"?j="ausente":j="trabajado";const F={...i,[C]:{...i[C]||{},[N]:j}};o(F),Bje(C,{[N]:j}).catch(Q=>{console.error("Error updating grade:",Q)})},B=C=>f(C),k=async()=>{if(d)try{await Sje(d.id,{nombreActividad:d.nombreActividad,fecha:d.fecha}),f(null)}catch(C){console.error(C),p("No se pudo guardar la edicin.")}},O=async C=>{if(window.confirm("Eliminar esta evaluacin y todas sus calificaciones?"))try{await Nje(C)}catch(N){console.error(N),p("No se pudo eliminar la evaluacin.")}},w=I.useCallback(C=>{if(a.length===0)return"-";let N=0,P=0;return a.forEach(j=>{var M;const F=(M=i[j.id])==null?void 0:M[C];F==="trabajado"?(N+=7,P++):F==="no trabajado"&&(N+=2,P++)}),P===0?"-":(N/P).toFixed(1)},[i,a]);return v?c.jsx("div",{className:"text-center py-10",children:"Cargando calificaciones..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800",children:" Volver a Asignaturas"}),c.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[e," / ",t]})]}),c.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold col-span-full text-slate-700 dark:text-slate-200",children:"Crear Nueva Evaluacin"}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"nombreActividad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Actividad"}),c.jsx("input",{id:"nombreActividad",type:"text",name:"nombreActividad",value:l.nombreActividad,onChange:y,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"fecha",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha"}),c.jsx("input",{id:"fecha",type:"date",name:"fecha",value:l.fecha,onChange:y,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("div",{className:"w-full",children:c.jsx("button",{type:"submit",className:"w-full bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear"})}),h&&c.jsx("p",{className:"text-red-500 text-sm col-span-full",children:h})]}),c.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"sticky left-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-48",children:"Estudiante"}),a.map(C=>c.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase w-36",children:(d==null?void 0:d.id)===C.id?c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("input",{type:"text",name:"nombreActividad",value:d.nombreActividad,onChange:y,className:"text-xs p-1 w-full dark:bg-slate-600"}),c.jsx("input",{type:"date",name:"fecha",value:d.fecha,onChange:y,className:"text-xs p-1 w-full dark:bg-slate-600"}),c.jsx("button",{onClick:k,className:"text-xs bg-green-200 text-green-800 rounded px-1",children:""})]}):c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"font-semibold",children:C.nombreActividad}),c.jsx("span",{className:"font-normal text-slate-500",children:C.fecha}),c.jsxs("div",{className:"flex gap-2 mt-1",children:[c.jsx("button",{onClick:()=>B(C),className:"text-blue-500 hover:text-blue-700",children:""}),c.jsx("button",{onClick:()=>O(C.id),className:"text-red-500 hover:text-red-700",children:""})]})]})},C.id)),c.jsx("th",{scope:"col",className:"sticky right-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-24",children:"Promedio"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-700",children:b.map(C=>c.jsxs("tr",{children:[c.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200 w-48",children:C}),a.map(N=>{var F;const P=(F=i[N.id])==null?void 0:F[C];let j;return P==="trabajado"?j=mv[t]||mv.Default:P==="no trabajado"?j="":P==="ausente"?j="A":j=mv[t]||mv.Default,c.jsx("td",{className:"px-2 py-1 whitespace-nowrap w-36 text-center",children:c.jsx("button",{onClick:()=>S(N.id,C),className:`text-3xl transition-opacity duration-200 ${P==="trabajado"?"opacity-100":P==="no trabajado"?"opacity-40":P==="ausente"?"opacity-100 text-red-500 font-bold":"opacity-100"}`,children:j})},N.id)}),c.jsx("td",{className:"sticky right-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-bold text-slate-800 dark:text-slate-200 w-24 text-center",children:w(C)})]},C))})]})})]})},Rje=({curso:e,asignatura:t,allUsers:r,onBack:n})=>{const[a,s]=I.useState([]),[i,o]=I.useState(null),[l,u]=I.useState({nombre:"",fecha:new Date().toISOString().split("T")[0]}),[d,f]=I.useState({}),[h,p]=I.useState(2),v=I.useMemo(()=>r.filter(B=>B.profile===Xt.ESTUDIANTE&&lte(B.curso||"")===e).sort((B,k)=>B.nombreCompleto.localeCompare(k.nombreCompleto)),[r,e]);I.useEffect(()=>{const B=Tje(e,t,s);return()=>B()},[e,t]),I.useEffect(()=>{if(i){const B={};i.grupos.forEach(k=>{k.integrantes.forEach(O=>{B[O.nombre]={groupNumber:String(k.numero),role:O.rol||""}})}),f(B)}else f({})},[i]);const g=async B=>{if(B.preventDefault(),!l.nombre.trim())return;const k={curso:e,asignatura:t,nombreActividad:l.nombre,fechaPresentacion:l.fecha,grupos:[]};try{await Ije(k),u({nombre:"",fecha:new Date().toISOString().split("T")[0]})}catch(O){console.error(O),alert("No se pudo crear la actividad grupal.")}},b=async()=>{if(!i)return;const B=new Map;for(const O of v){const w=d[O.nombreCompleto];if(w&&w.groupNumber){const C=parseInt(w.groupNumber,10);isNaN(C)||(B.has(C)||B.set(C,[]),B.get(C).push({nombre:O.nombreCompleto,rol:w.role||""}))}}const k=Array.from(B.entries()).map(([O,w])=>({numero:O,integrantes:w})).sort((O,w)=>O.numero-w.numero);try{await jje(i.id,{grupos:k}),alert("Grupos guardados con xito.")}catch(O){console.error(O),alert("No se pudieron guardar los grupos.")}},y=()=>{if(h<2){alert("Debe haber al menos 2 grupos.");return}const B=[...v].sort(()=>Math.random()-.5),k={};B.forEach((O,w)=>{var C;k[O.nombreCompleto]={groupNumber:String(w%h+1),role:((C=d[O.nombreCompleto])==null?void 0:C.role)||""}}),f(k)},_=(B,k,O)=>{f(w=>({...w,[B]:{...w[B]||{groupNumber:"",role:""},[k]:O}}))},S=I.useMemo(()=>{const B=new Map;return Object.entries(d).forEach(([k,O])=>{O.groupNumber&&(B.has(O.groupNumber)||B.set(O.groupNumber,[]),B.get(O.groupNumber).push({nombre:k,rol:O.role}))}),Array.from(B.entries()).sort((k,O)=>parseInt(k[0])-parseInt(O[0]))},[d]);return i?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("button",{onClick:()=>o(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:" Volver a Actividades"}),c.jsx("h2",{className:"text-2xl font-bold",children:i.nombreActividad})]}),c.jsx("button",{onClick:b,className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Guardar Grupos"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-4",children:[c.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Auto-asignacin"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:h,onChange:B=>p(parseInt(B.target.value,10)),min:"2",className:"w-20 border-slate-300 rounded"}),c.jsx("button",{onClick:y,className:"flex-1 bg-slate-200 font-semibold py-2 px-3 rounded",children:"Asignar"})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg h-[60vh] overflow-y-auto",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Nmina del Curso"}),c.jsx("table",{className:"w-full text-sm",children:c.jsx("tbody",{children:v.map(B=>{var k;return c.jsxs("tr",{children:[c.jsx("td",{className:"py-1 pr-2",children:B.nombreCompleto}),c.jsx("td",{className:"py-1",children:c.jsx("input",{type:"number",value:((k=d[B.nombreCompleto])==null?void 0:k.groupNumber)||"",onChange:O=>_(B.nombreCompleto,"groupNumber",O.target.value),className:"w-16 p-1 border rounded text-center",placeholder:"N"})})]},B.id)})})})]})]}),c.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg h-[70vh] overflow-y-auto",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Grupos Formados"}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:S.map(([B,k])=>c.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[c.jsxs("h4",{className:"font-bold border-b pb-1 mb-2",children:["Grupo ",B]}),c.jsx("ul",{className:"space-y-2",children:k.map(O=>c.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"flex-1 truncate",children:O.nombre}),c.jsxs("select",{value:O.rol||"",onChange:w=>_(O.nombre,"role",w.target.value),className:"p-1 border rounded text-xs w-32",children:[c.jsx("option",{value:"",children:"-- Asignar Rol --"}),KY.map(w=>c.jsx("option",{value:w,children:w},w))]})]},O.nombre))})]},B))})]})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800",children:" Volver a Asignaturas"}),c.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[e," / ",t]})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Crear Actividad Grupal"}),c.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[c.jsx("input",{value:l.nombre,onChange:B=>u({...l,nombre:B.target.value}),placeholder:"Nombre de la actividad",className:"w-full border-slate-300 rounded-md",required:!0}),c.jsx("input",{type:"date",value:l.fecha,onChange:B=>u({...l,fecha:B.target.value}),className:"w-full border-slate-300 rounded-md",required:!0}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Crear"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Actividades Creadas"}),a.map(B=>c.jsxs("button",{onClick:()=>o(B),className:"w-full text-left p-3 bg-white dark:bg-slate-700 hover:bg-slate-100 rounded-md border",children:[c.jsx("p",{className:"font-bold",children:B.nombreActividad}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Fecha: ",B.fechaPresentacion]})]},B.id))]})]})},Lje=({currentUser:e})=>{const[t,r]=I.useState("calificaciones"),[n,a]=I.useState(null),[s,i]=I.useState(null),[o,l]=I.useState([]),[u,d]=I.useState(!0);I.useEffect(()=>{d(!0);const g=Fje(b=>{l(b),d(!1)});return()=>g()},[]);const f=I.useMemo(()=>e.cursos||[],[e.cursos]),h=I.useMemo(()=>e.asignaturas||[],[e.asignaturas]),p=({tab:g,label:b})=>c.jsx("button",{onClick:()=>r(g),className:`${t===g?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:b}),v=()=>{if(u)return c.jsx("div",{className:"text-center py-10",children:"Cargando datos de usuario..."});if(!n)return c.jsx(Oje,{cursos:f,onSelect:a});if(!s)return c.jsx(Dje,{curso:n,asignaturas:h,onSelect:i,onBack:()=>a(null)});if(t==="calificaciones")return c.jsx(Pje,{curso:n,asignatura:s,allUsers:o,onBack:()=>i(null)});if(t==="grupos")return c.jsx(Rje,{curso:n,asignatura:s,allUsers:o,onBack:()=>i(null)})};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluaciones Formativas"}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx(p,{tab:"calificaciones",label:"Calificaciones"}),c.jsx(p,{tab:"grupos",label:"Trabajos Grupales"})]})}),c.jsx("div",{className:"mt-6",children:v()})]})},Lx="acompanamientos",Mje="ciclosOPR",Uje="configuracion",Qje=async()=>{try{const e=Zt(Rt(jr,Lx),Gr("fecha","desc"));return(await Hs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener acompaamientos:",e),new Error("No se pudieron cargar los registros de acompaamiento")}},Hje=async e=>{try{return{id:(await qn(Rt(jr,Lx),{...e,fecha:e.fecha||new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear acompaamiento:",t),new Error("No se pudo crear el registro de acompaamiento")}},Vje=async(e,t)=>{try{const r=vr(jr,Lx,e);await zp(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar acompaamiento:",r,"ID:",e),new Error("No se pudo actualizar el registro de acompaamiento")}},zje=async e=>{try{const t=vr(jr,Lx,e);await $s(t)}catch(t){throw console.error("Error al eliminar acompaamiento:",t,"ID:",e),new Error("No se pudo eliminar el registro de acompaamiento")}},$je=async(e,t)=>{try{const r=Rt(jr,Lx,e,Mje);return{id:(await qn(r,{...t,createdAt:new Date().toISOString()})).id,...t}}catch(r){throw console.error(`Error al crear ciclo OPR para ${e}:`,r),new Error("No se pudo crear el ciclo OPR")}},Kje=async(e,t)=>{try{const r=HY(),n=QY(r,t),a=await MY(n,e);return await UY(a.ref)}catch(r){throw console.error(`Error al subir archivo a ${t}:`,r),new Error("No se pudo subir el archivo")}},Gje=async e=>{try{const t=Zt(Rt(jr,Lx),Fn("docente","==",e),Gr("fecha","desc"));return(await Hs(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error al obtener acompaamientos por docente:",t),new Error("No se pudieron cargar los acompaamientos del docente")}},qje=async()=>{try{const e=vr(jr,Uje,"rubricaAcompanamiento"),t=await bw(e);return t.exists()?t.data().rubrica:null}catch(e){return console.error("Error al obtener rbrica personalizada:",e),null}},Wje=async()=>await nte(),Xje=({label:e,onFileChange:t,uploadedUrl:r,onRemove:n,isUploading:a,accept:s="video/mp4,video/quicktime"})=>{const i=`file-upload-${e.replace(/\s+/g,"-")}`;return c.jsxs("div",{className:"w-full",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:e}),r?c.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700",children:[c.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-700 dark:text-green-300 hover:underline truncate",children:"Ver video cargado"}),c.jsx("button",{type:"button",onClick:n,className:"text-red-500 hover:text-red-700 ml-auto",children:c.jsx(Ew,{className:"w-4 h-4"})})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{id:i,type:"file",onChange:o=>o.target.files&&t(o.target.files[0]),className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100",disabled:a,accept:s}),a&&c.jsx("div",{className:"text-sm text-amber-600",children:"Cargando..."})]})]})},Yje=({acompanamiento:e,cicloToEdit:t,onSave:r,onCancel:n,profesores:a})=>{const[s,i]=I.useState(!1),[o,l]=I.useState({docente:e.docente||"",curso:e.curso||"",asignatura:e.asignatura||""}),u=I.useMemo(()=>({registroN:1,nombreCiclo:"",fecha:new Date().toISOString().split("T")[0],horaInicio:"",horaTermino:"",videoObservacionUrl:"",detallesObservacion:[{id:`row_${Date.now()}`,minuto:"0-5",accionesDocente:"",accionesEstudiantes:"",actividades:""}],retroalimentacion:{exito:"",modelo:"",videoModeloUrl:"",foco:"",elementosIdentificar:"",brecha:{videoUrl:"",minutoInicial:"",minutoFinal:"",preguntas:"",indicadores:""}},planificacion:{preparacion:"",objetivo:"",actividad:"",tiempo:""},seguimiento:{fecha:"",curso:o.curso||"",profesor:o.docente||"",firma:""},acompanamientoId:e.id&&!e.id.startsWith("temp-")?e.id:""}),[e,o]),[d,f]=I.useState(t||u),[h,p]=I.useState({}),v=C=>{const{name:N,value:P}=C.target,j=N.split(".");j.length>1?f(F=>{const M=JSON.parse(JSON.stringify(F));let Q=M;for(let J=0;J<j.length-1;J++)Q=Q[j[J]];return Q[j[j.length-1]]=P,M}):f(F=>({...F,[N]:P}))},g=(C,N,P)=>{f(j=>({...j,detallesObservacion:j.detallesObservacion.map(F=>F.id===C?{...F,[N]:P}:F)}))},b=()=>{const C=d.detallesObservacion[d.detallesObservacion.length-1],N=C&&parseInt(C.minuto.split("-")[1],10)||0,P=`${N+1}-${N+5}`;f(j=>({...j,detallesObservacion:[...j.detallesObservacion,{id:`row_${Date.now()}`,minuto:P,accionesDocente:"",accionesEstudiantes:"",actividades:""}]}))},y=C=>{f(N=>({...N,detallesObservacion:N.detallesObservacion.filter(P=>P.id!==C)}))},_=async(C,N)=>{p(P=>({...P,[C]:!0}));try{const P=`${Date.now()}-${N.name}`,j=e.id||"independent",F=d.id||"temp",M=`videos_opr/${j}/${F}/${P}`,Q=await Kje(N,M),J=C.split(".");J.length>1?f(q=>{const Z=JSON.parse(JSON.stringify(q));let H=Z;for(let V=0;V<J.length-1;V++)H=H[J[V]];return H[J[J.length-1]]=Q,Z}):f(q=>({...q,[C]:Q}))}catch(P){console.error("Error al subir archivo:",P),alert("No se pudo subir el archivo. Revise los permisos de Storage.")}finally{p(P=>({...P,[C]:!1}))}},S=C=>{const N=C.split(".");N.length>1?f(P=>{const j=JSON.parse(JSON.stringify(P));let F=j;for(let M=0;M<N.length-1;M++)F=F[N[M]];return F[N[N.length-1]]="",j}):f(P=>({...P,[C]:""}))},B=async(C,N,P)=>{if(!P||!P.trim())return P;const j=`Mejora la redaccin del siguiente texto con un tono tcnico-pedaggico propio de informes educativos. Mantn el sentido original y NO agregues informacin nueva ni ejemplos inventados. Devulvelo como un texto breve, claro y directo. Texto (${N}):

"""${P}"""`;try{return(await C.generateContent(j)).response.text()}catch(F){return console.error(`Error improving text for ${N}:`,F),P}},k=async()=>{var C,N;i(!0);try{const P="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE";await H0("Acompaamiento - Mejorar Ciclo OPR");const F=new Cs(P).getGenerativeModel({model:"gemini-1.5-flash-latest"}),M=d.retroalimentacion,Q=d.planificacion,J=await Promise.all([B(F,"xito",M.exito),B(F,"Modelo",M.modelo),B(F,"Foco",M.foco),B(F,"Elementos a identificar",M.elementosIdentificar),B(F,"Brecha - Preguntas",((C=M.brecha)==null?void 0:C.preguntas)||""),B(F,"Brecha - Indicadores",((N=M.brecha)==null?void 0:N.indicadores)||""),B(F,"Planificacin - Preparacin",Q.preparacion),B(F,"Planificacin - Objetivo",Q.objetivo),B(F,"Planificacin - Actividad",Q.actividad),B(F,"Planificacin - Tiempo",Q.tiempo)]);f(q=>({...q,retroalimentacion:{...q.retroalimentacion,exito:J[0],modelo:J[1],foco:J[2],elementosIdentificar:J[3],brecha:{...q.retroalimentacion.brecha,preguntas:J[4],indicadores:J[5]}},planificacion:{...q.planificacion,preparacion:J[6],objetivo:J[7],actividad:J[8],tiempo:J[9]}}))}catch(P){console.error(P),alert("No se pudo mejorar la redaccin. Intenta nuevamente.")}finally{i(!1)}},O=()=>{const C=new hr,N=C.internal.pageSize.getWidth(),P=15,j=N-P*2;let F=20;const M=Z=>{F>260&&(C.addPage(),F=20),C.setFontSize(14),C.setFont("helvetica","bold"),C.text(Z,P,F),F+=10},Q=(Z,H="")=>{if(!Z)return;F>270&&(C.addPage(),F=20),C.setFontSize(10),C.setFont("helvetica","bold"),C.text(H,P,F),C.setFont("helvetica","normal");const V=C.splitTextToSize(Z,j-(H?15:0));C.text(V,P+(H?15:0),F),F+=V.length*5+4};C.setFontSize(18),C.setFont("helvetica","bold"),C.text("Informe de Ciclo OPR",N/2,F,{align:"center"}),F+=15,M("1. Datos Generales");const J=[["Docente:",o.docente],["Curso:",o.curso],["Asignatura:",o.asignatura],["Fecha:",new Date(d.fecha).toLocaleDateString("es-CL")],["Hora:",`${d.horaInicio} - ${d.horaTermino}`],["Ciclo:",d.nombreCiclo]];dl(C,{body:J,startY:F,theme:"plain",styles:{fontSize:10},columnStyles:{0:{fontStyle:"bold"}}}),F=C.lastAutoTable.finalY+10,M("2. Registro Detallado de Observacin");const q=d.detallesObservacion.map(Z=>[Z.minuto,Z.accionesDocente,Z.accionesEstudiantes,Z.actividades]);dl(C,{head:[["Minuto","Acciones del Docente","Acciones de Estudiantes","Actividades"]],body:q,startY:F,theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255},styles:{fontSize:9,cellPadding:2},didDrawPage:Z=>{var H;F=((H=Z.cursor)==null?void 0:H.y)||20}}),F=C.lastAutoTable.finalY+10,M("3. Retroalimentacin Docente"),Q(d.retroalimentacion.exito,"xito:"),Q(d.retroalimentacion.modelo,"Modelo:"),Q(d.retroalimentacion.foco,"Foco:"),Q(d.retroalimentacion.elementosIdentificar,"Elementos a Identificar:"),F+=5,C.setFontSize(11),C.setFont("helvetica","bold"),C.text("Anlisis de Brecha",P,F),F+=7,Q(`${d.retroalimentacion.brecha.minutoInicial} a ${d.retroalimentacion.brecha.minutoFinal}`,"Minutos:"),Q(d.retroalimentacion.brecha.preguntas,"Preguntas:"),Q(d.retroalimentacion.brecha.indicadores,"Indicadores:"),M("4. Planificacin de Prctica"),Q(d.planificacion.preparacion,"Preparacin:"),Q(d.planificacion.objetivo,"Objetivo:"),Q(d.planificacion.actividad,"Actividad:"),Q(d.planificacion.tiempo,"Tiempo:"),M("5. Seguimiento"),Q(new Date(d.seguimiento.fecha).toLocaleDateString("es-CL"),"Fecha:"),Q(d.seguimiento.firma,"Firma (Registrado por):"),C.save(`Informe_OPR_${o.docente}_${d.fecha}.pdf`)},w=async C=>{C.preventDefault();const N={...d,docenteInfo:o.docente,cursoInfo:o.curso,asignaturaInfo:o.asignatura,seguimiento:{...d.seguimiento,profesor:o.docente,curso:o.curso}};await r(N)};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-lg animate-fade-in",children:[(!e.id||e.id.startsWith("temp-"))&&c.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-slate-50 dark:bg-slate-900/30",children:[c.jsx("h4",{className:"text-lg font-semibold mb-3 text-slate-700 dark:text-slate-300",children:"Datos Bsicos del Ciclo OPR"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Docente"}),c.jsxs("select",{value:o.docente,onChange:C=>l(N=>({...N,docente:C.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione un docente"}),a.map(C=>c.jsx("option",{value:C,children:C},C))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{value:o.curso,onChange:C=>l(N=>({...N,curso:C.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione un curso"}),Za.map(C=>c.jsx("option",{value:C,children:C},C))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{value:o.asignatura,onChange:C=>l(N=>({...N,asignatura:C.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione una asignatura"}),Hi.map(C=>c.jsx("option",{value:C,children:C},C))]})]})]})]}),c.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-blue-50 dark:bg-blue-900/30",children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-blue-700 dark:text-blue-300",children:"Asistente IA del Ciclo OPR"}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[c.jsxs("button",{type:"button",onClick:k,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md flex items-center gap-2",disabled:s,children:[c.jsx(WY,{className:"w-4 h-4"}),s?"Mejorando redaccin...":"Mejorar Redaccin del Ciclo"]}),c.jsxs("button",{type:"button",onClick:O,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center gap-2",children:[c.jsx(qY,{className:"w-4 h-4"}),"Descargar Informe PDF"]})]}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-2",children:"Usa la IA para mejorar la redaccin de los textos ya escritos. Luego, descarga el informe completo en PDF."})]}),c.jsxs("form",{onSubmit:w,className:"space-y-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:[t?"Editando":"Nuevo"," Ciclo OPR"]}),c.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[c.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[c.jsx(a1e,{className:"w-5 h-5 text-amber-500"})," Datos Generales"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx("input",{type:"text",name:"nombreCiclo",value:d.nombreCiclo,onChange:v,placeholder:"Nombre o N del Ciclo",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"date",name:"fecha",value:d.fecha,onChange:v,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"number",name:"registroN",value:d.registroN,onChange:v,placeholder:"Registro de Observacin N",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"time",name:"horaInicio",value:d.horaInicio,onChange:v,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"time",name:"horaTermino",value:d.horaTermino,onChange:v,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx(Xje,{label:"Subir video de observacin de clase",onFileChange:C=>_("videoObservacionUrl",C),uploadedUrl:d.videoObservacionUrl,onRemove:()=>S("videoObservacionUrl"),isUploading:!!h.videoObservacionUrl})]}),c.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[c.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[c.jsx(bxe,{className:"w-5 h-5 text-blue-500"})," Registro Detallado de Observacin"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b dark:border-slate-600",children:[c.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Minuto"}),c.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Acciones del Docente"}),c.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Acciones de Estudiantes"}),c.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Actividades"}),c.jsx("th",{className:"p-2"})]})}),c.jsx("tbody",{children:d.detallesObservacion.map(C=>c.jsxs("tr",{className:"border-b dark:border-slate-700",children:[c.jsx("td",{children:c.jsx("input",{type:"text",value:C.minuto,onChange:N=>g(C.id,"minuto",N.target.value),className:"w-24 border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})}),c.jsx("td",{children:c.jsx("textarea",{value:C.accionesDocente,onChange:N=>g(C.id,"accionesDocente",N.target.value),rows:2,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})}),c.jsx("td",{children:c.jsx("textarea",{value:C.accionesEstudiantes,onChange:N=>g(C.id,"accionesEstudiantes",N.target.value),rows:2,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})}),c.jsx("td",{children:c.jsx("textarea",{value:C.actividades,onChange:N=>g(C.id,"actividades",N.target.value),rows:2,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})}),c.jsx("td",{children:d.detallesObservacion.length>1&&c.jsx("button",{type:"button",onClick:()=>y(C.id),className:"text-red-500 p-1",children:c.jsx(Ew,{className:"w-4 h-4"})})})]},C.id))})]})}),c.jsxs("button",{type:"button",onClick:b,className:"text-sm bg-slate-200 dark:bg-slate-600 px-3 py-1 rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 flex items-center gap-1",children:[c.jsx(sj,{className:"w-4 h-4"})," Agregar Fila"]})]}),c.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[c.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[c.jsx(Lxe,{className:"w-5 h-5 text-green-600"})," Retroalimentacin Docente"]}),c.jsx("textarea",{name:"retroalimentacion.exito",value:d.retroalimentacion.exito,onChange:v,placeholder:"xito",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"retroalimentacion.modelo",value:d.retroalimentacion.modelo,onChange:v,placeholder:"Modelo",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"retroalimentacion.foco",value:d.retroalimentacion.foco,onChange:v,placeholder:"Foco",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"retroalimentacion.elementosIdentificar",value:d.retroalimentacion.elementosIdentificar,onChange:v,placeholder:"Elementos a Identificar",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsxs("div",{className:"p-3 border rounded-md dark:border-slate-600 space-y-3",children:[c.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Brecha"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"text",name:"retroalimentacion.brecha.minutoInicial",value:d.retroalimentacion.brecha.minutoInicial,onChange:v,placeholder:"Minuto inicial",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"text",name:"retroalimentacion.brecha.minutoFinal",value:d.retroalimentacion.brecha.minutoFinal,onChange:v,placeholder:"Minuto final",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("textarea",{name:"retroalimentacion.brecha.preguntas",value:d.retroalimentacion.brecha.preguntas,onChange:v,placeholder:"Preguntas",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"retroalimentacion.brecha.indicadores",value:d.retroalimentacion.brecha.indicadores,onChange:v,placeholder:"Indicadores",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]}),c.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[c.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[c.jsx(Axe,{className:"w-5 h-5 text-purple-600"})," Planificacin de Prctica y Seguimiento"]}),c.jsx("textarea",{name:"planificacion.preparacion",value:d.planificacion.preparacion,onChange:v,placeholder:"Preparacin",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"planificacion.objetivo",value:d.planificacion.objetivo,onChange:v,placeholder:"Objetivo",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("textarea",{name:"planificacion.actividad",value:d.planificacion.actividad,onChange:v,placeholder:"Actividad",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"text",name:"planificacion.tiempo",value:d.planificacion.tiempo,onChange:v,placeholder:"Tiempo",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsxs("div",{className:"p-3 border rounded-md dark:border-slate-600 space-y-3",children:[c.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Seguimiento"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("input",{type:"date",name:"seguimiento.fecha",value:d.seguimiento.fecha,onChange:v,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"text",name:"seguimiento.firma",value:d.seguimiento.firma,onChange:v,placeholder:"Firma (Nombre de quien registra)",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[c.jsx("button",{type:"button",onClick:n,className:"bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Ciclo OPR"})]})]})]})},Jje=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[a,s]=I.useState(!0),[i,o]=I.useState(!0),[l,u]=I.useState(null),[d,f]=I.useState("list"),[h,p]=I.useState(null),[v,g]=I.useState("general"),[b,y]=I.useState(!1),_=zb,S=I.useMemo(()=>({fecha:new Date().toISOString().split("T")[0],docente:"",curso:"",asignatura:"",bloques:"",rubricaResultados:{},observacionesGenerales:"",retroalimentacionConsolidada:""}),[]),[B,k]=I.useState(S),O=I.useCallback(async()=>{s(!0);try{const H=await Qje();t(H)}catch(H){u("No se pudieron cargar los registros."),console.error(H)}finally{s(!1)}},[]),w=I.useCallback(async()=>{o(!0);try{const V=(await Wje()).filter(G=>G.profile==="PROFESORADO").map(G=>G.nombreCompleto).sort();n(V)}catch(H){u("No se pudo cargar la lista de profesores."),console.error(H)}finally{o(!1)}},[]);I.useEffect(()=>{O(),w()},[O,w]);const C=async()=>{if(!("docente"in B)||!B.docente){alert('Por favor, complete al menos el campo "Docente" antes de generar la retroalimentacin.');return}y(!0),u(null);try{const H="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE";await H0("Acompaamiento - Feedback General");const G=new Cs(H).getGenerativeModel({model:"gemini-1.5-flash-latest"}),ne=Object.entries(B.rubricaResultados||{}).map(([te,ie])=>`- ${te}: Nivel ${ie}`).join(`
`),R=`
            Eres un asesor pedaggico experto. Redacta una retroalimentacin consolidada y constructiva para un docente.
            Contexto de la observacin:
            - Docente: ${B.docente}
            - Asignatura: ${B.asignatura}
            - Curso: ${B.curso}
            - Resultados de la pauta de observacin (rbrica):
            ${ne||"No se complet la pauta."}
            - Observaciones adicionales del evaluador:
            ${B.observacionesGenerales||"Sin observaciones adicionales."}

            Basado en esta informacin, tu texto debe:
            1. Iniciar con un reconocimiento positivo.
            2. Mencionar 1 o 2 fortalezas clave observadas.
            3. Identificar 1 o 2 reas de mejora concretas, con un tono de sugerencia.
            4. Concluir con una frase motivadora.
            La respuesta debe ser solo el texto de la retroalimentacin.
        `,Y=(await G.generateContent(R)).response.text();k(te=>({...te,retroalimentacionConsolidada:Y})),alert("Retroalimentacin generada con xito.")}catch(H){console.error("Error al generar retroalimentacin:",H),u("No se pudo generar la retroalimentacin. Revisa la consola para ms detalles.")}finally{y(!1)}},N=async H=>{if(H.preventDefault(),!("docente"in B)||!B.docente||!B.curso||!B.asignatura){alert("Docente, curso y asignatura son campos obligatorios.");return}try{if(h)await Vje(h,B),alert("Actualizado correctamente!");else{const V=await Hje(B);p(V.id),k(V),alert("Guardado correctamente! Ahora puedes agregar Ciclos OPR.")}await O()}catch(V){u("Error al guardar el registro."),console.error(V)}},P=()=>{k(S),p(null),f("form"),g("general"),u(null)},j=H=>{k(H),p(H.id),f("form"),g("general"),u(null)},F=async H=>{if(window.confirm("Est seguro de que desea eliminar este registro?"))try{await zje(H),await O()}catch(V){u("No se pudo eliminar el registro."),console.error(V)}},M=(H,V)=>{k(G=>({...G,rubricaResultados:{...G.rubricaResultados,[H]:V}}))},Q=()=>{if(!("docente"in B)||!B.docente){alert('Por favor, complete al menos el campo "Docente" antes de generar el PDF.');return}const H=new hr,V=H.internal.pageSize.getWidth(),G=15,ne=V-G*2;let R=20;H.setFontSize(18),H.setFont("helvetica","bold"),H.text("INFORME DE ACOMPAAMIENTO DOCENTE",V/2,R,{align:"center"}),R+=5,H.setLineWidth(.5),H.line(G,R,V-G,R),R+=10;const W=[["Docente:",B.docente],["Curso:",B.curso],["Asignatura:",B.asignatura],["Fecha:",new Date(B.fecha).toLocaleDateString("es-CL")],["Bloques horarios:",B.bloques||"No especificado"]];if(dl(H,{body:W,startY:R,theme:"plain",styles:{fontSize:10},columnStyles:{0:{fontStyle:"bold"}}}),R=H.lastAutoTable.finalY+10,Object.keys(B.rubricaResultados||{}).length>0){H.setFontSize(12),H.setFont("helvetica","bold"),H.text("RESULTADOS DE EVALUACIN",G,R),R+=8;const ie=Object.entries(B.rubricaResultados).map(([me,oe])=>[me,`Nivel ${oe}`,oe===1?"Dbil":oe===2?"Incipiente":oe===3?"Satisfactorio":"Avanzado"]);dl(H,{startY:R,head:[["Criterio","Nivel","Descripcin"]],body:ie,theme:"grid",headStyles:{fillColor:[245,158,11],textColor:255},margin:{left:G,right:G},styles:{fontSize:9}}),R=H.lastAutoTable.finalY+10}const Y=(ie,me)=>{if(!me||me.trim()==="")return;R>250&&(H.addPage(),R=20),H.setFontSize(12),H.setFont("helvetica","bold"),H.text(ie,G,R),R+=8,H.setFontSize(10),H.setFont("helvetica","normal");const oe=H.splitTextToSize(me,ne);H.text(oe,G,R),R+=oe.length*5+10};Y("OBSERVACIONES GENERALES",B.observacionesGenerales),Y("RETROALIMENTACIN PEDAGGICA",B.retroalimentacionConsolidada);const te=H.getNumberOfPages();for(let ie=1;ie<=te;ie++)H.setPage(ie),H.setFontSize(8),H.setFont("helvetica","italic"),H.text(`Generado el ${new Date().toLocaleDateString("es-CL")} - Pgina ${ie} de ${te}`,V/2,H.internal.pageSize.getHeight()-10,{align:"center"});H.save(`Informe_Acompaamiento_${B.docente}_${B.curso}_${new Date().toISOString().split("T")[0]}.pdf`)},J=H=>{k(V=>({...V,[H.target.name]:H.target.value}))},q=()=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Mdulo de Acompaamiento Docente"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>{P(),g("general")},className:"bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 flex items-center gap-2",children:[c.jsx(sj,{className:"w-5 h-5"})," Acompaamiento"]}),c.jsxs("button",{onClick:()=>{k(S),p(null),f("form"),g("opr"),u(null)},className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 flex items-center gap-2",children:[c.jsx(sj,{className:"w-5 h-5"})," Ciclo OPR"]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-slate-700 dark:text-slate-300 mb-3",children:[c.jsx(hxe,{className:"w-6 h-6 text-amber-500"})," Acompaamientos Generales"]}),c.jsxs("div",{className:"space-y-3",children:[a&&c.jsx("p",{children:"Cargando..."}),!a&&e.filter(H=>H.id).length>0?e.filter(H=>H.id).map(H=>c.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 shadow-sm flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:H.docente}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[H.curso," - ",H.asignatura]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(H.fecha).toLocaleDateString("es-CL")]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{j(H),g("general")},className:"text-green-600 hover:text-green-800 font-semibold text-sm",children:"Ver/Editar"}),c.jsx("button",{onClick:()=>{j(H),g("opr")},className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Agregar OPR"}),c.jsx("button",{onClick:()=>F(H.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(Ew,{className:"w-4 h-4"})})]})]},H.id)):!a&&c.jsx("p",{className:"text-slate-500 italic p-4 bg-slate-100 dark:bg-slate-800 rounded-md",children:"No hay acompaamientos registrados."})]})]})]}),Z=()=>{const H=h?e.find(G=>G.id===h):null,V={id:"temp-"+Date.now(),fecha:new Date().toISOString(),docente:"docente"in B&&B.docente||"",curso:"curso"in B&&B.curso||"",asignatura:"asignatura"in B&&B.asignatura||"",bloques:"bloques"in B&&B.bloques||"",rubricaResultados:{},observacionesGenerales:"",retroalimentacionConsolidada:""};return c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:v==="general"?h?"Editando Acompaamiento":"Nuevo Acompaamiento":"Gestin de Ciclo OPR"}),c.jsx("button",{type:"button",onClick:()=>f("list"),className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold",children:" Volver al listado"})]}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>g("general"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${v==="general"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Acompaamiento General"}),c.jsx("button",{onClick:()=>g("opr"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${v==="opr"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Ciclo OPR"})]})}),l&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:l}),v==="general"&&c.jsxs("form",{onSubmit:N,className:"space-y-8",children:[c.jsxs("div",{className:"p-4 border rounded-lg bg-green-50 dark:bg-green-900/30",children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-700 dark:text-green-300",children:"Asistente IA - Informe General"}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[c.jsxs("button",{type:"button",onClick:C,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md flex items-center gap-2",disabled:b,children:[c.jsx(WY,{className:"w-4 h-4"}),b?"Generando...":"Generar Retroalimentacin con IA"]}),c.jsxs("button",{type:"button",onClick:()=>Q(),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md flex items-center gap-2",children:[c.jsx(qY,{className:"w-4 h-4"}),"Crear Informe PDF"]})]}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-2",children:"Genera automticamente la retroalimentacin. Luego, crea el informe en PDF."}),"retroalimentacionConsolidada"in B&&B.retroalimentacionConsolidada&&c.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-slate-800 rounded-md shadow",children:[c.jsx("h5",{className:"font-semibold text-sm mb-2",children:"Retroalimentacin Consolidada (guardada):"}),c.jsx("textarea",{readOnly:!0,rows:8,value:B.retroalimentacionConsolidada,className:"w-full text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap bg-transparent border-none p-0 focus:ring-0"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-800/50 dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"docente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Docente"}),c.jsxs("select",{name:"docente",value:"docente"in B?B.docente:"",onChange:J,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",disabled:i,children:[c.jsx("option",{value:"",children:i?"Cargando...":"Seleccione"}),r.map(G=>c.jsx("option",{value:G,children:G},G))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),c.jsxs("select",{name:"curso",value:"curso"in B?B.curso:"",onChange:J,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione"}),Za.map(G=>c.jsx("option",{value:G,children:G},G))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{name:"asignatura",value:"asignatura"in B?B.asignatura:"",onChange:J,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione"}),Hi.map(G=>c.jsx("option",{value:G,children:G},G))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"bloques",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bloques Horarios"}),c.jsx("input",{type:"text",name:"bloques",value:"bloques"in B?B.bloques:"",onChange:J,placeholder:"Ej: 3-4",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"observacionesGenerales",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones Generales"}),c.jsx("textarea",{name:"observacionesGenerales",value:"observacionesGenerales"in B?B.observacionesGenerales:"",onChange:J,rows:4,placeholder:"Ingrese sus observaciones sobre la clase...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-1/12",children:"Dominio"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-3/12",children:"Criterio"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Dbil (1)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Incipiente (2)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Satisfactorio (3)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Avanzado (4)"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:_.map(G=>c.jsx(ut.Fragment,{children:G.criteria.map((ne,R)=>c.jsxs("tr",{children:[R===0&&c.jsx("td",{rowSpan:G.criteria.length,className:"px-3 py-4 align-top text-sm font-semibold text-slate-800 dark:text-slate-200 border-r dark:border-slate-600",children:G.domain}),c.jsx("td",{className:"px-3 py-4 align-top text-sm font-medium text-slate-700 dark:text-slate-300 border-r dark:border-slate-600",children:ne.name}),ne.levels.map((W,Y)=>{const te=Y+1,ie="rubricaResultados"in B&&B.rubricaResultados[ne.name]===te;return c.jsx("td",{onClick:()=>M(ne.name,te),className:`px-3 py-4 align-top text-sm text-slate-600 dark:text-slate-300 border-r dark:border-slate-600 cursor-pointer transition-colors ${ie?"bg-amber-100 dark:bg-amber-900/30":"hover:bg-amber-50 dark:hover:bg-slate-700"}`,children:W},te)})]},ne.name))},G.domain))})]})}),c.jsx("div",{className:"flex justify-end gap-4",children:c.jsxs("button",{type:"submit",className:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-md",children:[h?"Actualizar":"Guardar"," Acompaamiento"]})})]}),v==="opr"&&c.jsx(Yje,{acompanamiento:H||V,cicloToEdit:null,profesores:r,onSave:async G=>{try{const ne={...G,acompanamientoId:(H==null?void 0:H.id)||null};await $je(ne),alert("Ciclo OPR guardado exitosamente"),f("list")}catch(ne){console.error("Error al guardar ciclo OPR:",ne),alert("Error al guardar el ciclo OPR")}},onCancel:()=>f("list")})]})};return a||i?c.jsx("div",{className:"text-center p-8",children:"Cargando..."}):c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 py-8",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d==="list"?q():Z()})})},MD="mensajes_internos",Zje="usuarios",ute="mensajes_read_status",dte=e=>{var r,n;const t=e.data();return{id:e.id,...t,fecha:((n=(r=t.fecha)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fecha}},eFe=(e,t)=>{const r=Zt(Rt(jt,MD),Fn("participants","array-contains",e),Gr("fecha","desc"));return wr(r,a=>{const s=a.docs.map(i=>dte(i));t(s)},a=>{console.error("Error al suscribirse a los mensajes:",a),t([])})},tFe=async e=>{try{const t={...e,participants:[e.de,e.para],fecha:mr.fromDate(new Date)};await qn(Rt(jt,MD),t)}catch(t){throw console.error("Error al enviar el mensaje:",t),new Error("No se pudo enviar el mensaje.")}},rFe=async e=>{try{const t=vr(jt,MD,e);await $s(t)}catch(t){throw console.error("Error al eliminar el mensaje:",t),new Error("No se pudo eliminar el mensaje.")}},nFe=(e,t)=>{const r=vr(jt,ute,e);return wr(r,a=>{a.exists()?t(a.data()):t({announcements:[],messages:[]})},a=>{console.error("Error al suscribirse al estado de lectura:",a),t({announcements:[],messages:[]})})},aFe=async(e,t)=>{try{const r=vr(jt,ute,e);await fo(r,{messages:cge(t)},{merge:!0})}catch(r){throw console.error("Error al marcar mensaje como ledo:",r),new Error("No se pudo actualizar el estado de lectura.")}},sFe=e=>{const t=Zt(Rt(jt,Zje),Gr("nombreCompleto","asc"));return wr(t,n=>{const a=n.docs.map(s=>dte(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},iFe=({currentUser:e,refreshUnreadCount:t})=>{const[r,n]=I.useState("inbox"),[a,s]=I.useState([]),[i,o]=I.useState([]),[l,u]=I.useState(null),[d,f]=I.useState({announcements:[],messages:[]}),[h,p]=I.useState(!0),v={para:"",asunto:"",cuerpo:""},[g,b]=I.useState(v);I.useEffect(()=>{if(!e.id||!e.email){p(!1);return}p(!0);const w=eFe(e.email,P=>{s(P),p(!1)}),C=sFe(o),N=nFe(e.id,P=>{f(P),t()});return()=>{w(),C(),N()}},[e.id,e.email,t]);const y=w=>{u(w),r==="inbox"&&!d.messages.includes(w.id)&&aFe(e.id,w.id).catch(C=>{console.error("Failed to mark message as read:",C)})},_=async w=>{if(w.preventDefault(),!g.para||!g.asunto.trim()||!g.cuerpo.trim()){alert("Destinatario, asunto y cuerpo son obligatorios.");return}const C={de:e.email,para:g.para,asunto:g.asunto,cuerpo:g.cuerpo};try{await tFe(C),b(v),n("sent")}catch(N){console.error("Error sending message:",N),alert("No se pudo enviar el mensaje. Intntelo de nuevo.")}},S=async w=>{if(window.confirm("Est seguro de que desea eliminar este mensaje? Esta accin es irreversible."))try{await rFe(w),u(null)}catch(C){console.error("Error deleting message:",C),alert("No se pudo eliminar el mensaje.")}},B=w=>{b({para:w.de,asunto:`Re: ${w.asunto}`,cuerpo:`

--- Mensaje Original ---
De: ${w.de}
Fecha: ${new Date(w.fecha).toLocaleString("es-CL")}

${w.cuerpo}`}),n("compose")},k=I.useMemo(()=>a.filter(w=>w.para===e.email),[a,e.email]),O=I.useMemo(()=>a.filter(w=>w.de===e.email),[a,e.email]);return h?c.jsx("div",{className:"flex items-center justify-center h-full",children:"Cargando mensajera..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-md flex overflow-hidden min-h-[75vh]",children:[c.jsxs("aside",{className:"w-1/4 md:w-1/5 border-r bg-slate-50 dark:bg-slate-800 flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-slate-700",children:c.jsx("button",{onClick:()=>{n("compose"),u(null),b(v)},className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Redactar"})}),c.jsxs("nav",{className:"p-2 space-y-1",children:[c.jsx("button",{onClick:()=>{n("inbox"),u(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${r==="inbox"?"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:"Recibidos"}),c.jsx("button",{onClick:()=>{n("sent"),u(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${r==="sent"?"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:"Enviados"})]})]}),r!=="compose"&&c.jsx("div",{className:"w-1/3 md:w-2/5 border-r dark:border-slate-700 overflow-y-auto",children:(r==="inbox"?k:O).map(w=>{const C=r==="inbox"&&!d.messages.includes(w.id);return c.jsxs("div",{onClick:()=>y(w),className:`p-4 border-b dark:border-slate-700 cursor-pointer ${(l==null?void 0:l.id)===w.id?"bg-amber-50 dark:bg-amber-900/20":"hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:`font-bold truncate ${C?"text-slate-800 dark:text-slate-200":"text-slate-600 dark:text-slate-400"}`,children:r==="inbox"?w.de:`Para: ${w.para}`}),C&&c.jsx("span",{className:"h-2.5 w-2.5 bg-blue-500 rounded-full flex-shrink-0 ml-2 mt-1"})]}),c.jsx("p",{className:`truncate text-sm ${C?"text-slate-700 dark:text-slate-300 font-semibold":"text-slate-500 dark:text-slate-400"}`,children:w.asunto}),c.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:new Date(w.fecha).toLocaleString("es-CL")})]},w.id)})}),c.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:r==="compose"?c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Nuevo Mensaje"}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"para",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Para:"}),c.jsxs("select",{id:"para",value:g.para,onChange:w=>b({...g,para:w.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione un destinatario..."}),i.filter(w=>w.email!==e.email).map(w=>c.jsxs("option",{value:w.email,children:[w.nombreCompleto," (",w.email,")"]},w.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"asunto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asunto:"}),c.jsx("input",{type:"text",id:"asunto",value:g.asunto,onChange:w=>b({...g,asunto:w.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"cuerpo",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cuerpo del Mensaje:"}),c.jsx("textarea",{id:"cuerpo",value:g.cuerpo,onChange:w=>b({...g,cuerpo:w.target.value}),required:!0,rows:12,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Enviar Mensaje"})})]})]}):l?c.jsxs("div",{children:[c.jsxs("div",{className:"border-b dark:border-slate-700 pb-4 mb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:l.asunto}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:[c.jsx("strong",{children:"De:"})," ",l.de," ",c.jsx("br",{}),c.jsx("strong",{children:"Para:"})," ",l.para," ",c.jsx("br",{}),c.jsx("strong",{children:"Fecha:"})," ",new Date(l.fecha).toLocaleString("es-CL")]})]}),c.jsx("div",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300",children:l.cuerpo}),c.jsxs("div",{className:"mt-8 pt-4 border-t dark:border-slate-700 flex gap-2",children:[r==="inbox"&&c.jsx("button",{onClick:()=>B(l),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Responder"}),c.jsx("button",{onClick:()=>S(l.id),className:"bg-red-100 text-red-700 font-semibold py-2 px-4 rounded-lg hover:bg-red-200 dark:bg-red-900/40 dark:text-red-300 dark:hover:bg-red-900/60",children:"Eliminar"})]})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-center text-slate-500 dark:text-slate-400",children:c.jsx("p",{children:"Seleccione un mensaje para leerlo."})})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Oj=function(e,t){return Oj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Oj(e,t)};function bd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Oj(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Dj=function(){return Dj=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Dj.apply(this,arguments)};function rl(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((n=n.apply(e,[])).next())})}function jo(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function BE(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||t)}var $f=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),vN=function(e,t){return $f.fromClientRect(e,t.getBoundingClientRect())},oFe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new $f(0,0,n,a)},xN=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},Rs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},$Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lFe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var TE=0;TE<$Q.length;TE++)lFe[$Q.charCodeAt(TE)]=TE;var KQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var IE=0;IE<KQ.length;IE++)Sb[KQ.charCodeAt(IE)]=IE;var cFe=function(e){var t=e.length*.75,r=e.length,n,a=0,s,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=Sb[e.charCodeAt(n)],i=Sb[e.charCodeAt(n+1)],o=Sb[e.charCodeAt(n+2)],l=Sb[e.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|o>>2,d[a++]=(o&3)<<6|l&63;return u},uFe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},dFe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ap=5,UD=11,HB=2,AFe=UD-Ap,Ate=65536>>Ap,fFe=1<<Ap,VB=fFe-1,hFe=1024>>Ap,mFe=Ate+hFe,pFe=mFe,gFe=32,vFe=pFe+gFe,xFe=65536>>UD,bFe=1<<AFe,yFe=bFe-1,GQ=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},wFe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},EFe=function(e,t){var r=cFe(e),n=Array.isArray(r)?dFe(r):new Uint32Array(r),a=Array.isArray(r)?uFe(r):new Uint16Array(r),s=24,i=GQ(a,s/2,n[4]/2),o=n[5]===2?GQ(a,(s+n[4])/2):wFe(n,Math.ceil((s+n[4])/4));return new CFe(n[0],n[1],n[2],n[3],i,o)},CFe=function(){function e(t,r,n,a,s,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Ap],r=(r<<HB)+(t&VB),this.data[r];if(t<=65535)return r=this.index[Ate+(t-55296>>Ap)],r=(r<<HB)+(t&VB),this.data[r];if(t<this.highStart)return r=vFe-xFe+(t>>UD),r=this.index[r],r+=t>>Ap&yFe,r=this.index[r],r=(r<<HB)+(t&VB),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),qQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_Fe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jE=0;jE<qQ.length;jE++)_Fe[qQ.charCodeAt(jE)]=jE;var SFe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",WQ=50,NFe=1,fte=2,hte=3,kFe=4,BFe=5,XQ=7,mte=8,YQ=9,v0=10,Pj=11,JQ=12,Rj=13,TFe=14,Nb=15,Lj=16,FE=17,q1=18,IFe=19,ZQ=20,Mj=21,W1=22,zB=23,Mg=24,dc=25,kb=26,Bb=27,Ug=28,jFe=29,$m=30,FFe=31,OE=32,DE=33,Uj=34,Qj=35,Hj=36,Uy=37,Vj=38,KC=39,GC=40,$B=41,pte=42,OFe=43,DFe=[9001,65288],gte="!",gn="",PE="",zj=EFe(SFe),gf=[$m,Hj],$j=[NFe,fte,hte,BFe],vte=[v0,mte],eH=[Bb,kb],PFe=$j.concat(vte),tH=[Vj,KC,GC,Uj,Qj],RFe=[Nb,Rj],LFe=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(s,i){var o=zj.get(s);if(o>WQ?(a.push(!0),o-=WQ):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),r.push(Lj);if(o===kFe||o===Pj){if(i===0)return n.push(i),r.push($m);var l=r[i-1];return PFe.indexOf(l)===-1?(n.push(n[i-1]),r.push(l)):(n.push(i),r.push($m))}if(n.push(i),o===FFe)return r.push(t==="strict"?Mj:Uy);if(o===pte||o===jFe)return r.push($m);if(o===OFe)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Uy):r.push($m);r.push(o)}),[n,r,a]},KB=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var s=r;s<=n.length;){s++;var i=n[s];if(i===t)return!0;if(i!==v0)break}if(a===v0)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=r;l<=n.length;){l++;var i=n[l];if(i===t)return!0;if(i!==v0)break}if(o!==v0)break}return!1},rH=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===v0)r--;else return n}return 0},MFe=function(e,t,r,n,a){if(r[n]===0)return gn;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return gn;var i=s-1,o=s+1,l=t[s],u=i>=0?t[i]:0,d=t[o];if(l===fte&&d===hte)return gn;if($j.indexOf(l)!==-1)return gte;if($j.indexOf(d)!==-1||vte.indexOf(d)!==-1)return gn;if(rH(s,t)===mte)return PE;if(zj.get(e[s])===Pj||(l===OE||l===DE)&&zj.get(e[o])===Pj||l===XQ||d===XQ||l===YQ||[v0,Rj,Nb].indexOf(l)===-1&&d===YQ||[FE,q1,IFe,Mg,Ug].indexOf(d)!==-1||rH(s,t)===W1||KB(zB,W1,s,t)||KB([FE,q1],Mj,s,t)||KB(JQ,JQ,s,t))return gn;if(l===v0)return PE;if(l===zB||d===zB)return gn;if(d===Lj||l===Lj)return PE;if([Rj,Nb,Mj].indexOf(d)!==-1||l===TFe||u===Hj&&RFe.indexOf(l)!==-1||l===Ug&&d===Hj||d===ZQ||gf.indexOf(d)!==-1&&l===dc||gf.indexOf(l)!==-1&&d===dc||l===Bb&&[Uy,OE,DE].indexOf(d)!==-1||[Uy,OE,DE].indexOf(l)!==-1&&d===kb||gf.indexOf(l)!==-1&&eH.indexOf(d)!==-1||eH.indexOf(l)!==-1&&gf.indexOf(d)!==-1||[Bb,kb].indexOf(l)!==-1&&(d===dc||[W1,Nb].indexOf(d)!==-1&&t[o+1]===dc)||[W1,Nb].indexOf(l)!==-1&&d===dc||l===dc&&[dc,Ug,Mg].indexOf(d)!==-1)return gn;if([dc,Ug,Mg,FE,q1].indexOf(d)!==-1)for(var f=s;f>=0;){var h=t[f];if(h===dc)return gn;if([Ug,Mg].indexOf(h)!==-1)f--;else break}if([Bb,kb].indexOf(d)!==-1)for(var f=[FE,q1].indexOf(l)!==-1?i:s;f>=0;){var h=t[f];if(h===dc)return gn;if([Ug,Mg].indexOf(h)!==-1)f--;else break}if(Vj===l&&[Vj,KC,Uj,Qj].indexOf(d)!==-1||[KC,Uj].indexOf(l)!==-1&&[KC,GC].indexOf(d)!==-1||[GC,Qj].indexOf(l)!==-1&&d===GC||tH.indexOf(l)!==-1&&[ZQ,kb].indexOf(d)!==-1||tH.indexOf(d)!==-1&&l===Bb||gf.indexOf(l)!==-1&&gf.indexOf(d)!==-1||l===Mg&&gf.indexOf(d)!==-1||gf.concat(dc).indexOf(l)!==-1&&d===W1&&DFe.indexOf(e[o])===-1||gf.concat(dc).indexOf(d)!==-1&&l===q1)return gn;if(l===$B&&d===$B){for(var p=r[s],v=1;p>0&&(p--,t[p]===$B);)v++;if(v%2!==0)return gn}return l===OE&&d===DE?gn:PE},UFe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=LFe(e,t.lineBreak),n=r[0],a=r[1],s=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(o){return[dc,$m,pte].indexOf(o)!==-1?Uy:o}));var i=t.wordBreak==="keep-all"?s.map(function(o,l){return o&&e[l]>=19968&&e[l]<=40959}):void 0;return[n,a,i]},QFe=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===gte,this.start=n,this.end=a}return e.prototype.slice=function(){return Rs.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),HFe=function(e,t){var r=xN(e),n=UFe(r,t),a=n[0],s=n[1],i=n[2],o=r.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=gn;u<o&&(d=MFe(r,s,a,++u,i))===gn;);if(d!==gn||u===o){var f=new QFe(r,d,l,u);return l=u,{value:f,done:!1}}return{done:!0,value:null}}}},VFe=1,zFe=2,Ow=4,nH=8,sS=10,aH=47,ry=92,$Fe=9,KFe=32,RE=34,X1=61,GFe=35,qFe=36,WFe=37,LE=39,ME=40,Y1=41,XFe=95,Ol=45,YFe=33,JFe=60,ZFe=62,e6e=64,t6e=91,r6e=93,n6e=61,a6e=123,UE=63,s6e=125,sH=124,i6e=126,o6e=128,iH=65533,GB=42,Wm=43,l6e=44,c6e=58,u6e=59,Qy=46,d6e=0,A6e=8,f6e=11,h6e=14,m6e=31,p6e=127,tA=-1,xte=48,bte=97,yte=101,g6e=102,v6e=117,x6e=122,wte=65,Ete=69,Cte=70,b6e=85,y6e=90,Ro=function(e){return e>=xte&&e<=57},w6e=function(e){return e>=55296&&e<=57343},Qg=function(e){return Ro(e)||e>=wte&&e<=Cte||e>=bte&&e<=g6e},E6e=function(e){return e>=bte&&e<=x6e},C6e=function(e){return e>=wte&&e<=y6e},_6e=function(e){return E6e(e)||C6e(e)},S6e=function(e){return e>=o6e},QE=function(e){return e===sS||e===$Fe||e===KFe},iS=function(e){return _6e(e)||S6e(e)||e===XFe},oH=function(e){return iS(e)||Ro(e)||e===Ol},N6e=function(e){return e>=d6e&&e<=A6e||e===f6e||e>=h6e&&e<=m6e||e===p6e},n0=function(e,t){return e!==ry?!1:t!==sS},HE=function(e,t,r){return e===Ol?iS(t)||n0(t,r):iS(e)?!0:!!(e===ry&&n0(e,t))},qB=function(e,t,r){return e===Wm||e===Ol?Ro(t)?!0:t===Qy&&Ro(r):Ro(e===Qy?t:e)},k6e=function(e){var t=0,r=1;(e[t]===Wm||e[t]===Ol)&&(e[t]===Ol&&(r=-1),t++);for(var n=[];Ro(e[t]);)n.push(e[t++]);var a=n.length?parseInt(Rs.apply(void 0,n),10):0;e[t]===Qy&&t++;for(var s=[];Ro(e[t]);)s.push(e[t++]);var i=s.length,o=i?parseInt(Rs.apply(void 0,s),10):0;(e[t]===Ete||e[t]===yte)&&t++;var l=1;(e[t]===Wm||e[t]===Ol)&&(e[t]===Ol&&(l=-1),t++);for(var u=[];Ro(e[t]);)u.push(e[t++]);var d=u.length?parseInt(Rs.apply(void 0,u),10):0;return r*(a+o*Math.pow(10,-i))*Math.pow(10,l*d)},B6e={type:2},T6e={type:3},I6e={type:4},j6e={type:13},F6e={type:8},O6e={type:21},D6e={type:9},P6e={type:10},R6e={type:11},L6e={type:12},M6e={type:14},VE={type:23},U6e={type:1},Q6e={type:25},H6e={type:24},V6e={type:26},z6e={type:27},$6e={type:28},K6e={type:29},G6e={type:31},Kj={type:32},_te=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(xN(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==Kj;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case RE:return this.consumeStringToken(RE);case GFe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(oH(r)||n0(n,a)){var s=HE(r,n,a)?zFe:VFe,i=this.consumeName();return{type:5,value:i,flags:s}}break;case qFe:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),j6e;break;case LE:return this.consumeStringToken(LE);case ME:return B6e;case Y1:return T6e;case GB:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),M6e;break;case Wm:if(qB(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case l6e:return I6e;case Ol:var o=t,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(qB(o,l,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(HE(o,l,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Ol&&u===ZFe)return this.consumeCodePoint(),this.consumeCodePoint(),H6e;break;case Qy:if(qB(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case aH:if(this.peekCodePoint(0)===GB)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===GB&&(d=this.consumeCodePoint(),d===aH))return this.consumeToken();if(d===tA)return this.consumeToken()}break;case c6e:return V6e;case u6e:return z6e;case JFe:if(this.peekCodePoint(0)===YFe&&this.peekCodePoint(1)===Ol&&this.peekCodePoint(2)===Ol)return this.consumeCodePoint(),this.consumeCodePoint(),Q6e;break;case e6e:var f=this.peekCodePoint(0),h=this.peekCodePoint(1),p=this.peekCodePoint(2);if(HE(f,h,p)){var i=this.consumeName();return{type:7,value:i}}break;case t6e:return $6e;case ry:if(n0(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case r6e:return K6e;case n6e:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),F6e;break;case a6e:return R6e;case s6e:return L6e;case v6e:case b6e:var v=this.peekCodePoint(0),g=this.peekCodePoint(1);return v===Wm&&(Qg(g)||g===UE)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case sH:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),D6e;if(this.peekCodePoint(0)===sH)return this.consumeCodePoint(),O6e;break;case i6e:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),P6e;break;case tA:return Kj}return QE(t)?(this.consumeWhiteSpace(),G6e):Ro(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):iS(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Rs(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Qg(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===UE&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Rs.apply(void 0,t.map(function(l){return l===UE?xte:l})),16),s=parseInt(Rs.apply(void 0,t.map(function(l){return l===UE?Cte:l})),16);return{type:30,start:a,end:s}}var i=parseInt(Rs.apply(void 0,t),16);if(this.peekCodePoint(0)===Ol&&Qg(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];Qg(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Rs.apply(void 0,o),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===ME?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ME?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===tA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===LE||r===RE){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===tA||this.peekCodePoint(0)===Y1)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),VE)}for(;;){var a=this.consumeCodePoint();if(a===tA||a===Y1)return{type:22,value:Rs.apply(void 0,t)};if(QE(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===tA||this.peekCodePoint(0)===Y1?(this.consumeCodePoint(),{type:22,value:Rs.apply(void 0,t)}):(this.consumeBadUrlRemnants(),VE);if(a===RE||a===LE||a===ME||N6e(a))return this.consumeBadUrlRemnants(),VE;if(a===ry)if(n0(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),VE;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;QE(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Y1||t===tA)return;n0(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=Rs.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===tA||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===sS)return this._value.splice(0,n),U6e;if(a===ry){var s=this._value[n+1];s!==tA&&s!==void 0&&(s===sS?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):n0(a,s)&&(r+=this.consumeStringSlice(n),r+=Rs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Ow,n=this.peekCodePoint(0);for((n===Wm||n===Ol)&&t.push(this.consumeCodePoint());Ro(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Qy&&Ro(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=nH;Ro(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Ete||n===yte)&&((a===Wm||a===Ol)&&Ro(s)||Ro(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=nH;Ro(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[k6e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(HE(a,s,i)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return a===WFe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Qg(t)){for(var r=Rs(t);Qg(this.peekCodePoint(0))&&r.length<6;)r+=Rs(this.consumeCodePoint());QE(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||w6e(n)||n>1114111?iH:n}return t===tA?iH:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(oH(r))t+=Rs(r);else if(n0(r,this.peekCodePoint(0)))t+=Rs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),Ste=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new _te;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||W6e(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Kj:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Dw=function(e){return e.type===15},Mx=function(e){return e.type===17},ba=function(e){return e.type===20},q6e=function(e){return e.type===0},Gj=function(e,t){return ba(e)&&e.value===t},Nte=function(e){return e.type!==31},lx=function(e){return e.type!==31&&e.type!==4},RA=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},W6e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},W0=function(e){return e.type===17||e.type===15},si=function(e){return e.type===16||W0(e)},kte=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},uo={type:17,number:0,flags:Ow},QD={type:16,number:50,flags:Ow},x0={type:16,number:100,flags:Ow},Tb=function(e,t,r){var n=e[0],a=e[1];return[Ia(n,t),Ia(typeof a<"u"?a:n,r)]},Ia=function(e,t){if(e.type===16)return e.number/100*t;if(Dw(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Bte="deg",Tte="grad",Ite="rad",jte="turn",bN={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Bte:return Math.PI*t.number/180;case Tte:return Math.PI/200*t.number;case Ite:return t.number;case jte:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Fte=function(e){return e.type===15&&(e.unit===Bte||e.unit===Tte||e.unit===Ite||e.unit===jte)},Ote=function(e){var t=e.filter(ba).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[uo,uo];case"to top":case"bottom":return xu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[uo,x0];case"to right":case"left":return xu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[x0,x0];case"to bottom":case"top":return xu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[x0,uo];case"to left":case"right":return xu(270)}return 0},xu=function(e){return Math.PI*e/180},N0={name:"color",parse:function(e,t){if(t.type===18){var r=X6e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3);return b0(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3),i=t.value.substring(3,4);return b0(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6);return b0(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6),i=t.value.substring(6,8);return b0(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(i,16)/255)}}if(t.type===20){var o=Of[t.value.toUpperCase()];if(typeof o<"u")return o}return Of.TRANSPARENT}},k0=function(e){return(255&e)===0},Di=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},b0=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},lH=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},cH=function(e,t){var r=t.filter(lx);if(r.length===3){var n=r.map(lH),a=n[0],s=n[1],i=n[2];return b0(a,s,i,1)}if(r.length===4){var o=r.map(lH),a=o[0],s=o[1],i=o[2],l=o[3];return b0(a,s,i,l)}return 0};function WB(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var uH=function(e,t){var r=t.filter(lx),n=r[0],a=r[1],s=r[2],i=r[3],o=(n.type===17?xu(n.number):bN.parse(e,n))/(Math.PI*2),l=si(a)?a.number/100:0,u=si(s)?s.number/100:0,d=typeof i<"u"&&si(i)?Ia(i,1):1;if(l===0)return b0(u*255,u*255,u*255,1);var f=u<=.5?u*(l+1):u+l-u*l,h=u*2-f,p=WB(h,f,o+1/3),v=WB(h,f,o),g=WB(h,f,o-1/3);return b0(p*255,v*255,g*255,d)},X6e={hsl:uH,hsla:uH,rgb:cH,rgba:cH},ny=function(e,t){return N0.parse(e,Ste.create(t).parseComponentValue())},Of={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Y6e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(ba(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},J6e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yN=function(e,t){var r=N0.parse(e,t[0]),n=t[1];return n&&si(n)?{color:r,stop:n}:{color:r,stop:null}},dH=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=uo),n.stop===null&&(n.stop=x0);for(var a=[],s=0,i=0;i<e.length;i++){var o=e[i].stop;if(o!==null){var l=Ia(o,t);l>s?a.push(l):a.push(s),s=l}else a.push(null)}for(var u=null,i=0;i<a.length;i++){var d=a[i];if(d===null)u===null&&(u=i);else if(u!==null){for(var f=i-u,h=a[u-1],p=(d-h)/(f+1),v=1;v<=f;v++)a[u+v-1]=p*v;u=null}}return e.map(function(g,b){var y=g.color;return{color:y,stop:Math.max(Math.min(1,a[b]/t),0)}})},Z6e=function(e,t,r){var n=t/2,a=r/2,s=Ia(e[0],t)-n,i=a-Ia(e[1],r);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},eOe=function(e,t,r){var n=typeof e=="number"?e:Z6e(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),s=t/2,i=r/2,o=a/2,l=Math.sin(n-Math.PI/2)*o,u=Math.cos(n-Math.PI/2)*o;return[a,s-u,s+u,i-l,i+l]},nd=function(e,t){return Math.sqrt(e*e+t*t)},AH=function(e,t,r,n,a){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(i,o){var l=o[0],u=o[1],d=nd(r-l,n-u);return(a?d<i.optimumDistance:d>i.optimumDistance)?{optimumCorner:o,optimumDistance:d}:i},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},tOe=function(e,t,r,n,a){var s=0,i=0;switch(e.size){case 0:e.shape===0?s=i=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-n)),i=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)s=i=Math.min(nd(t,r),nd(t,r-a),nd(t-n,r),nd(t-n,r-a));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),l=AH(n,a,t,r,!0),u=l[0],d=l[1];s=nd(u-t,(d-r)/o),i=o*s}break;case 1:e.shape===0?s=i=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-n)),i=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)s=i=Math.max(nd(t,r),nd(t,r-a),nd(t-n,r),nd(t-n,r-a));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),f=AH(n,a,t,r,!1),u=f[0],d=f[1];s=nd(u-t,(d-r)/o),i=o*s}break}return Array.isArray(e.size)&&(s=Ia(e.size[0],n),i=e.size.length===2?Ia(e.size[1],a):s),[s,i]},rOe=function(e,t){var r=xu(180),n=[];return RA(t).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&i.value==="to"){r=Ote(a);return}else if(Fte(i)){r=bN.parse(e,i);return}}var o=yN(e,a);n.push(o)}),{angle:r,stops:n,type:1}},zE=function(e,t){var r=xu(180),n=[];return RA(t).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){r=Ote(a);return}else if(Fte(i)){r=(bN.parse(e,i)+xu(270))%xu(360);return}}var o=yN(e,a);n.push(o)}),{angle:r,stops:n,type:1}},nOe=function(e,t){var r=xu(180),n=[],a=1,s=0,i=3,o=[];return RA(t).forEach(function(l,u){var d=l[0];if(u===0){if(ba(d)&&d.value==="linear"){a=1;return}else if(ba(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var f=N0.parse(e,d.values[0]);n.push({stop:uo,color:f})}else if(d.name==="to"){var f=N0.parse(e,d.values[0]);n.push({stop:x0,color:f})}else if(d.name==="color-stop"){var h=d.values.filter(lx);if(h.length===2){var f=N0.parse(e,h[1]),p=h[0];Mx(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:f})}}}}),a===1?{angle:(r+xu(180))%xu(360),stops:n,type:a}:{size:i,shape:s,stops:n,position:o,type:a}},Dte="closest-side",Pte="farthest-side",Rte="closest-corner",Lte="farthest-corner",Mte="circle",Ute="ellipse",Qte="cover",Hte="contain",aOe=function(e,t){var r=0,n=3,a=[],s=[];return RA(t).forEach(function(i,o){var l=!0;if(o===0){var u=!1;l=i.reduce(function(f,h){if(u)if(ba(h))switch(h.value){case"center":return s.push(QD),f;case"top":case"left":return s.push(uo),f;case"right":case"bottom":return s.push(x0),f}else(si(h)||W0(h))&&s.push(h);else if(ba(h))switch(h.value){case Mte:return r=0,!1;case Ute:return r=1,!1;case"at":return u=!0,!1;case Dte:return n=0,!1;case Qte:case Pte:return n=1,!1;case Hte:case Rte:return n=2,!1;case Lte:return n=3,!1}else if(W0(h)||si(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return f},l)}if(l){var d=yN(e,i);a.push(d)}}),{size:n,shape:r,stops:a,position:s,type:2}},$E=function(e,t){var r=0,n=3,a=[],s=[];return RA(t).forEach(function(i,o){var l=!0;if(o===0?l=i.reduce(function(d,f){if(ba(f))switch(f.value){case"center":return s.push(QD),!1;case"top":case"left":return s.push(uo),!1;case"right":case"bottom":return s.push(x0),!1}else if(si(f)||W0(f))return s.push(f),!1;return d},l):o===1&&(l=i.reduce(function(d,f){if(ba(f))switch(f.value){case Mte:return r=0,!1;case Ute:return r=1,!1;case Hte:case Dte:return n=0,!1;case Pte:return n=1,!1;case Rte:return n=2,!1;case Qte:case Lte:return n=3,!1}else if(W0(f)||si(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},l)),l){var u=yN(e,i);a.push(u)}}),{size:n,shape:r,stops:a,position:s,type:2}},sOe=function(e){return e.type===1},iOe=function(e){return e.type===2},HD={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Vte[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function oOe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Vte[e.name])}var Vte={"linear-gradient":rOe,"-moz-linear-gradient":zE,"-ms-linear-gradient":zE,"-o-linear-gradient":zE,"-webkit-linear-gradient":zE,"radial-gradient":aOe,"-moz-radial-gradient":$E,"-ms-radial-gradient":$E,"-o-radial-gradient":$E,"-webkit-radial-gradient":$E,"-webkit-gradient":nOe},lOe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return lx(n)&&oOe(n)}).map(function(n){return HD.parse(e,n)})}},cOe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(ba(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uOe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return RA(t).map(function(r){return r.filter(si)}).map(kte)}},dOe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return RA(t).map(function(r){return r.filter(ba).map(function(n){return n.value}).join(" ")}).map(AOe)}},AOe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Uv;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Uv||(Uv={}));var fOe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return RA(t).map(function(r){return r.filter(hOe)})}},hOe=function(e){return ba(e)||si(e)},wN=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},mOe=wN("top"),pOe=wN("right"),gOe=wN("bottom"),vOe=wN("left"),EN=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return kte(r.filter(si))}}},xOe=EN("top-left"),bOe=EN("top-right"),yOe=EN("bottom-right"),wOe=EN("bottom-left"),CN=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},EOe=CN("top"),COe=CN("right"),_Oe=CN("bottom"),SOe=CN("left"),_N=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Dw(r)?r.number:0}}},NOe=_N("top"),kOe=_N("right"),BOe=_N("bottom"),TOe=_N("left"),IOe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jOe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},FOe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(ba).reduce(function(r,n){return r|OOe(n.value)},0)}},OOe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},DOe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},POe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},oS;(function(e){e.NORMAL="normal",e.STRICT="strict"})(oS||(oS={}));var ROe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return oS.STRICT;case"normal":default:return oS.NORMAL}}},LOe={name:"line-height",initialValue:"normal",prefix:!1,type:4},fH=function(e,t){return ba(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:si(e)?Ia(e,t):t},MOe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:HD.parse(e,t)}},UOe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},qj={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},SN=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},QOe=SN("top"),HOe=SN("right"),VOe=SN("bottom"),zOe=SN("left"),$Oe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(ba).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},KOe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},NN=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},GOe=NN("top"),qOe=NN("right"),WOe=NN("bottom"),XOe=NN("left"),YOe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},JOe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ZOe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Gj(t[0],"none")?[]:RA(t).map(function(r){for(var n={color:Of.TRANSPARENT,offsetX:uo,offsetY:uo,blur:uo},a=0,s=0;s<r.length;s++){var i=r[s];W0(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:n.blur=i,a++):n.color=N0.parse(e,i)}return n})}},eDe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},tDe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=aDe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},rDe=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},nDe=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,a,s,i,o]:null},aDe={matrix:rDe,matrix3d:nDe},hH={type:16,number:50,flags:Ow},sDe=[hH,hH],iDe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(si);return r.length!==2?sDe:[r[0],r[1]]}},oDe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ay;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(ay||(ay={}));var lDe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return ay.BREAK_ALL;case"keep-all":return ay.KEEP_ALL;case"normal":default:return ay.NORMAL}}},cDe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Mx(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},zte={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},uDe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Mx(t)?t.number:1}},dDe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ADe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(ba).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},fDe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},hDe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},mDe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Mx(t))return t.number;if(ba(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},pDe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(ba).map(function(r){return r.value})}},gDe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},xi=function(e,t){return(e&t)!==0},vDe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},xDe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(Nte),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(i.type===20){var l=o&&Mx(o)?o.number:1;n.push({counter:i.value,increment:l})}}return n}},bDe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(Nte),a=0;a<n.length;a++){var s=n[a],i=n[a+1];if(ba(s)&&s.value!=="none"){var o=i&&Mx(i)?i.number:0;r.push({counter:s.value,reset:o})}}return r}},yDe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Dw).map(function(r){return zte.parse(e,r)})}},wDe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(q6e);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var i=a[s].value,o=a[s+1].value;n.push({open:i,close:o})}return n}},mH=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},EDe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Gj(t[0],"none")?[]:RA(t).map(function(r){for(var n={color:255,offsetX:uo,offsetY:uo,blur:uo,spread:uo,inset:!1},a=0,s=0;s<r.length;s++){var i=r[s];Gj(i,"inset")?n.inset=!0:W0(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:a===2?n.blur=i:n.spread=i,a++):n.color=N0.parse(e,i)}return n})}},CDe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(ba).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},_De={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},SDe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Dw(t)?t.number:0}},NDe=function(){function e(t,r){var n,a;this.animationDuration=rr(t,yDe,r.animationDuration),this.backgroundClip=rr(t,Y6e,r.backgroundClip),this.backgroundColor=rr(t,J6e,r.backgroundColor),this.backgroundImage=rr(t,lOe,r.backgroundImage),this.backgroundOrigin=rr(t,cOe,r.backgroundOrigin),this.backgroundPosition=rr(t,uOe,r.backgroundPosition),this.backgroundRepeat=rr(t,dOe,r.backgroundRepeat),this.backgroundSize=rr(t,fOe,r.backgroundSize),this.borderTopColor=rr(t,mOe,r.borderTopColor),this.borderRightColor=rr(t,pOe,r.borderRightColor),this.borderBottomColor=rr(t,gOe,r.borderBottomColor),this.borderLeftColor=rr(t,vOe,r.borderLeftColor),this.borderTopLeftRadius=rr(t,xOe,r.borderTopLeftRadius),this.borderTopRightRadius=rr(t,bOe,r.borderTopRightRadius),this.borderBottomRightRadius=rr(t,yOe,r.borderBottomRightRadius),this.borderBottomLeftRadius=rr(t,wOe,r.borderBottomLeftRadius),this.borderTopStyle=rr(t,EOe,r.borderTopStyle),this.borderRightStyle=rr(t,COe,r.borderRightStyle),this.borderBottomStyle=rr(t,_Oe,r.borderBottomStyle),this.borderLeftStyle=rr(t,SOe,r.borderLeftStyle),this.borderTopWidth=rr(t,NOe,r.borderTopWidth),this.borderRightWidth=rr(t,kOe,r.borderRightWidth),this.borderBottomWidth=rr(t,BOe,r.borderBottomWidth),this.borderLeftWidth=rr(t,TOe,r.borderLeftWidth),this.boxShadow=rr(t,EDe,r.boxShadow),this.color=rr(t,IOe,r.color),this.direction=rr(t,jOe,r.direction),this.display=rr(t,FOe,r.display),this.float=rr(t,DOe,r.cssFloat),this.fontFamily=rr(t,fDe,r.fontFamily),this.fontSize=rr(t,hDe,r.fontSize),this.fontStyle=rr(t,gDe,r.fontStyle),this.fontVariant=rr(t,pDe,r.fontVariant),this.fontWeight=rr(t,mDe,r.fontWeight),this.letterSpacing=rr(t,POe,r.letterSpacing),this.lineBreak=rr(t,ROe,r.lineBreak),this.lineHeight=rr(t,LOe,r.lineHeight),this.listStyleImage=rr(t,MOe,r.listStyleImage),this.listStylePosition=rr(t,UOe,r.listStylePosition),this.listStyleType=rr(t,qj,r.listStyleType),this.marginTop=rr(t,QOe,r.marginTop),this.marginRight=rr(t,HOe,r.marginRight),this.marginBottom=rr(t,VOe,r.marginBottom),this.marginLeft=rr(t,zOe,r.marginLeft),this.opacity=rr(t,uDe,r.opacity);var s=rr(t,$Oe,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=rr(t,KOe,r.overflowWrap),this.paddingTop=rr(t,GOe,r.paddingTop),this.paddingRight=rr(t,qOe,r.paddingRight),this.paddingBottom=rr(t,WOe,r.paddingBottom),this.paddingLeft=rr(t,XOe,r.paddingLeft),this.paintOrder=rr(t,CDe,r.paintOrder),this.position=rr(t,JOe,r.position),this.textAlign=rr(t,YOe,r.textAlign),this.textDecorationColor=rr(t,dDe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=rr(t,ADe,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=rr(t,ZOe,r.textShadow),this.textTransform=rr(t,eDe,r.textTransform),this.transform=rr(t,tDe,r.transform),this.transformOrigin=rr(t,iDe,r.transformOrigin),this.visibility=rr(t,oDe,r.visibility),this.webkitTextStrokeColor=rr(t,_De,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=rr(t,SDe,r.webkitTextStrokeWidth),this.wordBreak=rr(t,lDe,r.wordBreak),this.zIndex=rr(t,cDe,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return k0(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return xi(this.display,4)||xi(this.display,33554432)||xi(this.display,268435456)||xi(this.display,536870912)||xi(this.display,67108864)||xi(this.display,134217728)},e}(),kDe=function(){function e(t,r){this.content=rr(t,vDe,r.content),this.quotes=rr(t,wDe,r.quotes)}return e}(),pH=function(){function e(t,r){this.counterIncrement=rr(t,xDe,r.counterIncrement),this.counterReset=rr(t,bDe,r.counterReset)}return e}(),rr=function(e,t,r){var n=new _te,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var s=new Ste(n.read());switch(t.type){case 2:var i=s.parseComponentValue();return t.parse(e,ba(i)?i.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return bN.parse(e,s.parseComponentValue());case"color":return N0.parse(e,s.parseComponentValue());case"image":return HD.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return W0(o)?o:uo;case"length-percentage":var l=s.parseComponentValue();return si(l)?l:uo;case"time":return zte.parse(e,s.parseComponentValue())}break}},BDe="data-html2canvas-debug",TDe=function(e){var t=e.getAttribute(BDe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Wj=function(e,t){var r=TDe(e);return r===1||t===r},LA=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Wj(r,3))debugger;this.styles=new NDe(t,window.getComputedStyle(r,null)),Jj(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=vN(this.context,r),Wj(r,4)&&(this.flags|=16)}return e}(),IDe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",gH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ib=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var KE=0;KE<gH.length;KE++)Ib[gH.charCodeAt(KE)]=KE;var jDe=function(e){var t=e.length*.75,r=e.length,n,a=0,s,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=Ib[e.charCodeAt(n)],i=Ib[e.charCodeAt(n+1)],o=Ib[e.charCodeAt(n+2)],l=Ib[e.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|o>>2,d[a++]=(o&3)<<6|l&63;return u},FDe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},ODe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},fp=5,VD=11,XB=2,DDe=VD-fp,$te=65536>>fp,PDe=1<<fp,YB=PDe-1,RDe=1024>>fp,LDe=$te+RDe,MDe=LDe,UDe=32,QDe=MDe+UDe,HDe=65536>>VD,VDe=1<<DDe,zDe=VDe-1,vH=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},$De=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},KDe=function(e,t){var r=jDe(e),n=Array.isArray(r)?ODe(r):new Uint32Array(r),a=Array.isArray(r)?FDe(r):new Uint16Array(r),s=24,i=vH(a,s/2,n[4]/2),o=n[5]===2?vH(a,(s+n[4])/2):$De(n,Math.ceil((s+n[4])/4));return new GDe(n[0],n[1],n[2],n[3],i,o)},GDe=function(){function e(t,r,n,a,s,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>fp],r=(r<<XB)+(t&YB),this.data[r];if(t<=65535)return r=this.index[$te+(t-55296>>fp)],r=(r<<XB)+(t&YB),this.data[r];if(t<this.highStart)return r=QDe-HDe+(t>>VD),r=this.index[r],r+=t>>fp&zDe,r=this.index[r],r=(r<<XB)+(t&YB),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),xH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qDe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var GE=0;GE<xH.length;GE++)qDe[xH.charCodeAt(GE)]=GE;var WDe=1,JB=2,ZB=3,bH=4,yH=5,XDe=7,wH=8,eT=9,tT=10,EH=11,CH=12,_H=13,SH=14,rT=15,YDe=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},JDe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},ZDe=KDe(IDe),du="",nT="",ePe=function(e){return ZDe.get(e)},tPe=function(e,t,r){var n=r-2,a=t[n],s=t[r-1],i=t[r];if(s===JB&&i===ZB)return du;if(s===JB||s===ZB||s===bH||i===JB||i===ZB||i===bH)return nT;if(s===wH&&[wH,eT,EH,CH].indexOf(i)!==-1||(s===EH||s===eT)&&(i===eT||i===tT)||(s===CH||s===tT)&&i===tT||i===_H||i===yH||i===XDe||s===WDe)return du;if(s===_H&&i===SH){for(;a===yH;)a=t[--n];if(a===SH)return du}if(s===rT&&i===rT){for(var o=0;a===rT;)o++,a=t[--n];if(o%2===0)return du}return nT},rPe=function(e){var t=YDe(e),r=t.length,n=0,a=0,s=t.map(ePe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var i=du;n<r&&(i=tPe(t,s,++n))===du;);if(i!==du||n===r){var o=JDe.apply(null,t.slice(a,n));return a=n,{value:o,done:!1}}return{done:!0,value:null}}}},nPe=function(e){for(var t=rPe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},aPe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),s=Math.round(a.height);if(e.body.removeChild(n),s===t)return!0}}return!1},sPe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=xN(n.data).map(function(l){return Rs(l)}),s=0,i={},o=a.every(function(l,u){r.setStart(n,s),r.setEnd(n,s+l.length);var d=r.getBoundingClientRect();s+=l.length;var f=d.x>i.x||d.y>i.y;return i=d,u===0?!0:f});return e.body.removeChild(t),o},iPe=function(){return typeof new Image().crossOrigin<"u"},oPe=function(){return typeof new XMLHttpRequest().responseType=="string"},lPe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},NH=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},cPe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,s=t.toDataURL();a.src=s;var i=Xj(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),kH(i).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=r+"px",NH(l)?kH(Xj(r,r,0,0,u)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),NH(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Xj=function(e,t,r,n,a){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(a),i},kH=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ao={get SUPPORT_RANGE_BOUNDS(){var e=aPe(document);return Object.defineProperty(ao,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ao.SUPPORT_RANGE_BOUNDS&&sPe(document);return Object.defineProperty(ao,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=lPe(document);return Object.defineProperty(ao,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?cPe(document):Promise.resolve(!1);return Object.defineProperty(ao,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=iPe();return Object.defineProperty(ao,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=oPe();return Object.defineProperty(ao,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ao,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ao,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},sy=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),uPe=function(e,t,r,n){var a=fPe(t,r),s=[],i=0;return a.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(ao.SUPPORT_RANGE_BOUNDS){var l=BH(n,i,o.length).getClientRects();if(l.length>1){var u=zD(o),d=0;u.forEach(function(h){s.push(new sy(h,$f.fromDOMRectList(e,BH(n,d+i,h.length).getClientRects()))),d+=h.length})}else s.push(new sy(o,$f.fromDOMRectList(e,l)))}else{var f=n.splitText(o.length);s.push(new sy(o,dPe(e,n))),n=f}else ao.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));i+=o.length}),s},dPe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var s=vN(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return $f.EMPTY},BH=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},zD=function(e){if(ao.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return nPe(e)},APe=function(e,t){if(ao.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return mPe(e,t)},fPe=function(e,t){return t.letterSpacing!==0?zD(e):APe(e,t)},hPe=[32,160,4961,65792,65793,4153,4241],mPe=function(e,t){for(var r=HFe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,s=function(){if(a.value){var i=a.value.slice(),o=xN(i),l="";o.forEach(function(u){hPe.indexOf(u)===-1?l+=Rs(u):(l.length&&n.push(l),n.push(Rs(u)),l="")}),l.length&&n.push(l)}};!(a=r.next()).done;)s();return n},pPe=function(){function e(t,r,n){this.text=gPe(r.data,n.textTransform),this.textBounds=uPe(t,this.text,n,r)}return e}(),gPe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(vPe,xPe);case 2:return e.toUpperCase();default:return e}},vPe=/(^|\s|:|-|\(|\))([a-z])/g,xPe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Kte=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(LA),Gte=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(LA),qte=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=new XMLSerializer,i=vN(r,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(LA),Wte=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(LA),Yj=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(LA),bPe=[{type:15,flags:0,unit:"px",number:3}],yPe=[{type:16,flags:0,number:50}],wPe=function(e){return e.width>e.height?new $f(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new $f(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},EPe=function(e){var t=e.type===CPe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},lS="checkbox",cS="radio",CPe="password",TH=707406591,$D=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=EPe(n),(a.type===lS||a.type===cS)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=wPe(a.bounds)),a.type){case lS:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=bPe;break;case cS:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=yPe;break}return a}return t}(LA),Xte=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return t}(LA),Yte=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(LA),Jte=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=ere(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ny(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Of.TRANSPARENT,i=n.contentWindow.document.body?ny(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Of.TRANSPARENT;a.backgroundColor=k0(s)?k0(i)?a.styles.backgroundColor:i:s}}catch{}return a}return t}(LA),_Pe=["OL","UL","MENU"],qC=function(e,t,r,n){for(var a=t.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,tre(a)&&a.data.trim().length>0)r.textNodes.push(new pPe(e,a,r.styles));else if(pv(a))if(sre(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return qC(e,o,r,n)});else{var i=Zte(e,a);i.styles.isVisible()&&(SPe(a,i,n)?i.flags|=4:NPe(i.styles)&&(i.flags|=2),_Pe.indexOf(a.tagName)!==-1&&(i.flags|=8),r.elements.push(i),a.slot,a.shadowRoot?qC(e,a.shadowRoot,i,n):!uS(a)&&!rre(a)&&!dS(a)&&qC(e,a,i,n))}},Zte=function(e,t){return Zj(t)?new Kte(e,t):nre(t)?new Gte(e,t):rre(t)?new qte(e,t):kPe(t)?new Wte(e,t):BPe(t)?new Yj(e,t):TPe(t)?new $D(e,t):dS(t)?new Xte(e,t):uS(t)?new Yte(e,t):are(t)?new Jte(e,t):new LA(e,t)},ere=function(e,t){var r=Zte(e,t);return r.flags|=4,qC(e,t,r,r),r},SPe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||KD(e)&&r.styles.isTransparent()},NPe=function(e){return e.isPositioned()||e.isFloating()},tre=function(e){return e.nodeType===Node.TEXT_NODE},pv=function(e){return e.nodeType===Node.ELEMENT_NODE},Jj=function(e){return pv(e)&&typeof e.style<"u"&&!WC(e)},WC=function(e){return typeof e.className=="object"},kPe=function(e){return e.tagName==="LI"},BPe=function(e){return e.tagName==="OL"},TPe=function(e){return e.tagName==="INPUT"},IPe=function(e){return e.tagName==="HTML"},rre=function(e){return e.tagName==="svg"},KD=function(e){return e.tagName==="BODY"},nre=function(e){return e.tagName==="CANVAS"},IH=function(e){return e.tagName==="VIDEO"},Zj=function(e){return e.tagName==="IMG"},are=function(e){return e.tagName==="IFRAME"},jH=function(e){return e.tagName==="STYLE"},jPe=function(e){return e.tagName==="SCRIPT"},uS=function(e){return e.tagName==="TEXTAREA"},dS=function(e){return e.tagName==="SELECT"},sre=function(e){return e.tagName==="SLOT"},FH=function(e){return e.tagName.indexOf("-")>0},FPe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,s=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var i=[];return s&&a.forEach(function(o){var l=r.counters[o.counter];i.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),i},e}(),OH={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},DH={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},OPe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},DPe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Hg=function(e,t,r,n,a,s){return e<t||e>r?Hy(e,a,s.length>0):n.integers.reduce(function(i,o,l){for(;e>=o;)e-=o,i+=n.values[l];return i},"")+s},ire=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},Os=function(e,t,r,n,a){var s=r-t+1;return(e<0?"-":"")+(ire(Math.abs(e),s,n,function(i){return Rs(Math.floor(i%s)+t)})+a)},Dm=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return ire(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},cv=1,e0=2,t0=4,jb=8,vf=function(e,t,r,n,a,s){if(e<-9999||e>9999)return Hy(e,4,a.length>0);var i=Math.abs(e),o=a;if(i===0)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var u=i%10;u===0&&xi(s,cv)&&o!==""?o=t[u]+o:u>1||u===1&&l===0||u===1&&l===1&&xi(s,e0)||u===1&&l===1&&xi(s,t0)&&e>100||u===1&&l>1&&xi(s,jb)?o=t[u]+(l>0?r[l-1]:"")+o:u===1&&l>0&&(o=r[l-1]+o),i=Math.floor(i/10)}return(e<0?n:"")+o},PH="",RH="",LH="",aT="",Hy=function(e,t,r){var n=r?". ":"",a=r?"":"",s=r?", ":"",i=r?" ":"";switch(t){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var o=Os(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Dm(e,"",a);case 6:return Hg(e,1,3999,OH,3,n).toLowerCase();case 7:return Hg(e,1,3999,OH,3,n);case 8:return Os(e,945,969,!1,n);case 9:return Os(e,97,122,!1,n);case 10:return Os(e,65,90,!1,n);case 11:return Os(e,1632,1641,!0,n);case 12:case 49:return Hg(e,1,9999,DH,3,n);case 35:return Hg(e,1,9999,DH,3,n).toLowerCase();case 13:return Os(e,2534,2543,!0,n);case 14:case 30:return Os(e,6112,6121,!0,n);case 15:return Dm(e,"",a);case 16:return Dm(e,"",a);case 17:case 48:return vf(e,"",PH,"",a,e0|t0|jb);case 47:return vf(e,"",RH,"",a,cv|e0|t0|jb);case 42:return vf(e,"",PH,"",a,e0|t0|jb);case 41:return vf(e,"",RH,"",a,cv|e0|t0|jb);case 26:return vf(e,"","",LH,a,0);case 25:return vf(e,"","",LH,a,cv|e0|t0);case 31:return vf(e,"","",aT,s,cv|e0|t0);case 33:return vf(e,"","",aT,s,0);case 32:return vf(e,"","",aT,s,cv|e0|t0);case 18:return Os(e,2406,2415,!0,n);case 20:return Hg(e,1,19999,DPe,3,n);case 21:return Os(e,2790,2799,!0,n);case 22:return Os(e,2662,2671,!0,n);case 22:return Hg(e,1,10999,OPe,3,n);case 23:return Dm(e,"");case 24:return Dm(e,"");case 27:return Os(e,3302,3311,!0,n);case 28:return Dm(e,"",a);case 29:return Dm(e,"",a);case 34:return Os(e,3792,3801,!0,n);case 37:return Os(e,6160,6169,!0,n);case 38:return Os(e,4160,4169,!0,n);case 39:return Os(e,2918,2927,!0,n);case 40:return Os(e,1776,1785,!0,n);case 43:return Os(e,3046,3055,!0,n);case 44:return Os(e,3174,3183,!0,n);case 45:return Os(e,3664,3673,!0,n);case 46:return Os(e,3872,3881,!0,n);case 3:default:return Os(e,48,57,!0,n)}},ore="data-html2canvas-ignore",MH=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new FPe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=PPe(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,i=t.defaultView.pageYOffset,o=a.contentWindow,l=o.document,u=MPe(a).then(function(){return rl(n,void 0,void 0,function(){var d,f;return jo(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(VPe),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,LPe(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,f)}).then(function(){return a})]:[2,a]}})})});return l.open(),l.write(QPe(document.doctype)+"<html></html>"),HPe(this.referenceElement.ownerDocument,s,i),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},e.prototype.createElementClone=function(t){if(Wj(t,2))debugger;if(nre(t))return this.createCanvasClone(t);if(IH(t))return this.createVideoClone(t);if(jH(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return Zj(r)&&(Zj(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),FH(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return sT(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var s=t.getContext("2d"),i=a.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!pv(r)||!jPe(r)&&!r.hasAttribute(ore)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!pv(r)||!jH(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(pv(s)&&sre(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(o){return a.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},e.prototype.cloneNode=function(t,r){if(tre(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&pv(t)&&(Jj(t)||WC(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var s=n.getComputedStyle(t),i=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&Jj(a)&&(this.clonedReferenceElement=a),KD(a)&&KPe(a);var l=this.counters.parse(new pH(this.context,s)),u=this.resolvePseudoContent(t,a,i,iy.BEFORE);FH(t)&&(r=!0),IH(t)||this.cloneChildNodes(t,a,r),u&&a.insertBefore(u,a.firstChild);var d=this.resolvePseudoContent(t,a,o,iy.AFTER);return d&&a.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||WC(t))&&!are(t)||r)&&sT(s,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(uS(t)||dS(t))&&(uS(a)||dS(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var s=this;if(n){var i=n.content,o=r.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new pH(this.context,n));var l=new kDe(this.context,n),u=o.createElement("html2canvaspseudoelement");sT(n,u),l.content.forEach(function(f){if(f.type===0)u.appendChild(o.createTextNode(f.value));else if(f.type===22){var h=o.createElement("img");h.src=f.value,h.style.opacity="1",u.appendChild(h)}else if(f.type===18){if(f.name==="attr"){var p=f.values.filter(ba);p.length&&u.appendChild(o.createTextNode(t.getAttribute(p[0].value)||""))}else if(f.name==="counter"){var v=f.values.filter(lx),g=v[0],b=v[1];if(g&&ba(g)){var y=s.counters.getCounterValue(g.value),_=b&&ba(b)?qj.parse(s.context,b.value):3;u.appendChild(o.createTextNode(Hy(y,_,!1)))}}else if(f.name==="counters"){var S=f.values.filter(lx),g=S[0],B=S[1],b=S[2];if(g&&ba(g)){var k=s.counters.getCounterValues(g.value),O=b&&ba(b)?qj.parse(s.context,b.value):3,w=B&&B.type===0?B.value:"",C=k.map(function(j){return Hy(j,O,!1)}).join(w);u.appendChild(o.createTextNode(C))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(o.createTextNode(mH(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(mH(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(f.value))}}),u.className=eF+" "+tF;var d=a===iy.BEFORE?" "+eF:" "+tF;return WC(r)?r.className.baseValue+=d:r.className+=d,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),iy;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(iy||(iy={}));var PPe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(ore,"true"),e.body.appendChild(r),r},RPe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},LPe=function(e){return Promise.all([].slice.call(e.images,0).map(RPe))},MPe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},UPe=["all","d","content"],sT=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);UPe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},QPe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},HPe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},VPe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},zPe=":before",$Pe=":after",eF="___html2canvas___pseudoelement_before",tF="___html2canvas___pseudoelement_after",UH=`{
    content: "" !important;
    display: none !important;
}`,KPe=function(e){GPe(e,"."+eF+zPe+UH+`
         .`+tF+$Pe+UH)},GPe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},lre=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),qPe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(oT(t)||JPe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return rl(this,void 0,void 0,function(){var r,n,a,s,i=this;return jo(this,function(o){switch(o.label){case 0:return r=lre.isSameOrigin(t),n=!iT(t)&&this._options.useCORS===!0&&ao.SUPPORT_CORS_IMAGES&&!r,a=!iT(t)&&!r&&!oT(t)&&typeof this._options.proxy=="string"&&ao.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!iT(t)&&!oT(t)&&!a&&!n?[2]:(s=t,a?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(ZPe(s)||n)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(s,i){var o=ao.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(h){return i(h)},!1),f.readAsDataURL(l.response)}else i("Failed to proxy resource "+a+" with status code "+l.status)},l.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var d=r._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return i("Timed out ("+d+"ms) proxying "+a)}}l.send()})},e}(),WPe=/^data:image\/svg\+xml/i,XPe=/^data:image\/.*;base64,/i,YPe=/^data:image\/.*/i,JPe=function(e){return ao.SUPPORT_SVG_DRAWING||!eRe(e)},iT=function(e){return YPe.test(e)},ZPe=function(e){return XPe.test(e)},oT=function(e){return e.substr(0,4)==="blob"},eRe=function(e){return e.substr(-3).toLowerCase()==="svg"||WPe.test(e)},tr=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Vg=function(e,t,r){return new tr(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},qE=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=Vg(this.start,this.startControl,t),a=Vg(this.startControl,this.endControl,t),s=Vg(this.endControl,this.end,t),i=Vg(n,a,t),o=Vg(a,s,t),l=Vg(i,o,t);return r?new e(this.start,n,i,l):new e(l,o,s,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),fu=function(e){return e.type===1},tRe=function(){function e(t){var r=t.styles,n=t.bounds,a=Tb(r.borderTopLeftRadius,n.width,n.height),s=a[0],i=a[1],o=Tb(r.borderTopRightRadius,n.width,n.height),l=o[0],u=o[1],d=Tb(r.borderBottomRightRadius,n.width,n.height),f=d[0],h=d[1],p=Tb(r.borderBottomLeftRadius,n.width,n.height),v=p[0],g=p[1],b=[];b.push((s+l)/n.width),b.push((v+f)/n.width),b.push((i+g)/n.height),b.push((u+h)/n.height);var y=Math.max.apply(Math,b);y>1&&(s/=y,i/=y,l/=y,u/=y,f/=y,h/=y,v/=y,g/=y);var _=n.width-l,S=n.height-h,B=n.width-f,k=n.height-g,O=r.borderTopWidth,w=r.borderRightWidth,C=r.borderBottomWidth,N=r.borderLeftWidth,P=Ia(r.paddingTop,t.bounds.width),j=Ia(r.paddingRight,t.bounds.width),F=Ia(r.paddingBottom,t.bounds.width),M=Ia(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?Va(n.left+N/3,n.top+O/3,s-N/3,i-O/3,Jn.TOP_LEFT):new tr(n.left+N/3,n.top+O/3),this.topRightBorderDoubleOuterBox=s>0||i>0?Va(n.left+_,n.top+O/3,l-w/3,u-O/3,Jn.TOP_RIGHT):new tr(n.left+n.width-w/3,n.top+O/3),this.bottomRightBorderDoubleOuterBox=f>0||h>0?Va(n.left+B,n.top+S,f-w/3,h-C/3,Jn.BOTTOM_RIGHT):new tr(n.left+n.width-w/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=v>0||g>0?Va(n.left+N/3,n.top+k,v-N/3,g-C/3,Jn.BOTTOM_LEFT):new tr(n.left+N/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?Va(n.left+N*2/3,n.top+O*2/3,s-N*2/3,i-O*2/3,Jn.TOP_LEFT):new tr(n.left+N*2/3,n.top+O*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?Va(n.left+_,n.top+O*2/3,l-w*2/3,u-O*2/3,Jn.TOP_RIGHT):new tr(n.left+n.width-w*2/3,n.top+O*2/3),this.bottomRightBorderDoubleInnerBox=f>0||h>0?Va(n.left+B,n.top+S,f-w*2/3,h-C*2/3,Jn.BOTTOM_RIGHT):new tr(n.left+n.width-w*2/3,n.top+n.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||g>0?Va(n.left+N*2/3,n.top+k,v-N*2/3,g-C*2/3,Jn.BOTTOM_LEFT):new tr(n.left+N*2/3,n.top+n.height-C*2/3),this.topLeftBorderStroke=s>0||i>0?Va(n.left+N/2,n.top+O/2,s-N/2,i-O/2,Jn.TOP_LEFT):new tr(n.left+N/2,n.top+O/2),this.topRightBorderStroke=s>0||i>0?Va(n.left+_,n.top+O/2,l-w/2,u-O/2,Jn.TOP_RIGHT):new tr(n.left+n.width-w/2,n.top+O/2),this.bottomRightBorderStroke=f>0||h>0?Va(n.left+B,n.top+S,f-w/2,h-C/2,Jn.BOTTOM_RIGHT):new tr(n.left+n.width-w/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=v>0||g>0?Va(n.left+N/2,n.top+k,v-N/2,g-C/2,Jn.BOTTOM_LEFT):new tr(n.left+N/2,n.top+n.height-C/2),this.topLeftBorderBox=s>0||i>0?Va(n.left,n.top,s,i,Jn.TOP_LEFT):new tr(n.left,n.top),this.topRightBorderBox=l>0||u>0?Va(n.left+_,n.top,l,u,Jn.TOP_RIGHT):new tr(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||h>0?Va(n.left+B,n.top+S,f,h,Jn.BOTTOM_RIGHT):new tr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=v>0||g>0?Va(n.left,n.top+k,v,g,Jn.BOTTOM_LEFT):new tr(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?Va(n.left+N,n.top+O,Math.max(0,s-N),Math.max(0,i-O),Jn.TOP_LEFT):new tr(n.left+N,n.top+O),this.topRightPaddingBox=l>0||u>0?Va(n.left+Math.min(_,n.width-w),n.top+O,_>n.width+w?0:Math.max(0,l-w),Math.max(0,u-O),Jn.TOP_RIGHT):new tr(n.left+n.width-w,n.top+O),this.bottomRightPaddingBox=f>0||h>0?Va(n.left+Math.min(B,n.width-N),n.top+Math.min(S,n.height-C),Math.max(0,f-w),Math.max(0,h-C),Jn.BOTTOM_RIGHT):new tr(n.left+n.width-w,n.top+n.height-C),this.bottomLeftPaddingBox=v>0||g>0?Va(n.left+N,n.top+Math.min(k,n.height-C),Math.max(0,v-N),Math.max(0,g-C),Jn.BOTTOM_LEFT):new tr(n.left+N,n.top+n.height-C),this.topLeftContentBox=s>0||i>0?Va(n.left+N+M,n.top+O+P,Math.max(0,s-(N+M)),Math.max(0,i-(O+P)),Jn.TOP_LEFT):new tr(n.left+N+M,n.top+O+P),this.topRightContentBox=l>0||u>0?Va(n.left+Math.min(_,n.width+N+M),n.top+O+P,_>n.width+N+M?0:l-N+M,u-(O+P),Jn.TOP_RIGHT):new tr(n.left+n.width-(w+j),n.top+O+P),this.bottomRightContentBox=f>0||h>0?Va(n.left+Math.min(B,n.width-(N+M)),n.top+Math.min(S,n.height+O+P),Math.max(0,f-(w+j)),h-(C+F),Jn.BOTTOM_RIGHT):new tr(n.left+n.width-(w+j),n.top+n.height-(C+F)),this.bottomLeftContentBox=v>0||g>0?Va(n.left+N+M,n.top+k,Math.max(0,v-(N+M)),g-(C+F),Jn.BOTTOM_LEFT):new tr(n.left+N+M,n.top+n.height-(C+F))}return e}(),Jn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Jn||(Jn={}));var Va=function(e,t,r,n,a){var s=4*((Math.sqrt(2)-1)/3),i=r*s,o=n*s,l=e+r,u=t+n;switch(a){case Jn.TOP_LEFT:return new qE(new tr(e,u),new tr(e,u-o),new tr(l-i,t),new tr(l,t));case Jn.TOP_RIGHT:return new qE(new tr(e,t),new tr(e+i,t),new tr(l,u-o),new tr(l,u));case Jn.BOTTOM_RIGHT:return new qE(new tr(l,t),new tr(l,t+o),new tr(e+i,u),new tr(e,u));case Jn.BOTTOM_LEFT:default:return new qE(new tr(l,u),new tr(l-i,u),new tr(e,t+o),new tr(e,t))}},AS=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},rRe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},fS=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},nRe=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),WE=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),aRe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),sRe=function(e){return e.type===0},cre=function(e){return e.type===1},iRe=function(e){return e.type===2},QH=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},oRe=function(e,t,r,n,a){return e.map(function(s,i){switch(i){case 0:return s.add(t,r);case 1:return s.add(t+n,r);case 2:return s.add(t+n,r+a);case 3:return s.add(t,r+a)}return s})},ure=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),dre=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new tRe(this.container),this.container.styles.opacity<1&&this.effects.push(new aRe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new nRe(n,a,s))}if(this.container.styles.overflowX!==0){var i=AS(this.curves),o=fS(this.curves);QH(i,o)?this.effects.push(new WE(i,6)):(this.effects.push(new WE(i,2)),this.effects.push(new WE(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!cre(l)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=AS(n.curves),o=fS(n.curves);QH(i,o)||a.unshift(new WE(o,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(l){return xi(l.target,t)})},e}(),rF=function(e,t,r,n){e.container.elements.forEach(function(a){var s=xi(a.flags,4),i=xi(a.flags,2),o=new dre(a,e);xi(a.styles.display,2048)&&n.push(o);var l=xi(a.flags,8)?[]:n;if(s||i){var u=s||a.styles.isPositioned()?r:t,d=new ure(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var h=0;u.negativeZIndex.some(function(v,g){return f>v.element.container.styles.zIndex.order?(h=g,!1):h>0}),u.negativeZIndex.splice(h,0,d)}else if(f>0){var p=0;u.positiveZIndex.some(function(v,g){return f>=v.element.container.styles.zIndex.order?(p=g+1,!1):p>0}),u.positiveZIndex.splice(p,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);rF(o,d,s?d:r,l)}else a.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),rF(o,t,r,l);xi(a.flags,8)&&Are(a,l)})},Are=function(e,t){for(var r=e instanceof Yj?e.start:1,n=e instanceof Yj?e.reversed:!1,a=0;a<t.length;a++){var s=t[a];s.container instanceof Wte&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Hy(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},lRe=function(e){var t=new dre(e,null),r=new ure(t),n=[];return rF(t,r,r,n),Are(t.container,n),r},HH=function(e,t){switch(t){case 0:return bu(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return bu(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return bu(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return bu(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},cRe=function(e,t){switch(t){case 0:return bu(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return bu(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return bu(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return bu(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},uRe=function(e,t){switch(t){case 0:return bu(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return bu(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return bu(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return bu(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},dRe=function(e,t){switch(t){case 0:return XE(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return XE(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return XE(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return XE(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},XE=function(e,t){var r=[];return fu(e)?r.push(e.subdivide(.5,!1)):r.push(e),fu(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},bu=function(e,t,r,n){var a=[];return fu(e)?a.push(e.subdivide(.5,!1)):a.push(e),fu(r)?a.push(r.subdivide(.5,!0)):a.push(r),fu(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),fu(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},fre=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},hS=function(e){var t=e.styles,r=e.bounds,n=Ia(t.paddingLeft,r.width),a=Ia(t.paddingRight,r.width),s=Ia(t.paddingTop,r.width),i=Ia(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+s+i))},ARe=function(e,t){return e===0?t.bounds:e===2?hS(t):fre(t)},fRe=function(e,t){return e===0?t.bounds:e===2?hS(t):fre(t)},lT=function(e,t,r){var n=ARe(uv(e.styles.backgroundOrigin,t),e),a=fRe(uv(e.styles.backgroundClip,t),e),s=hRe(uv(e.styles.backgroundSize,t),r,n),i=s[0],o=s[1],l=Tb(uv(e.styles.backgroundPosition,t),n.width-i,n.height-o),u=mRe(uv(e.styles.backgroundRepeat,t),l,s,n,a),d=Math.round(n.left+l[0]),f=Math.round(n.top+l[1]);return[u,d,f,i,o]},zg=function(e){return ba(e)&&e.value===Uv.AUTO},YE=function(e){return typeof e=="number"},hRe=function(e,t,r){var n=t[0],a=t[1],s=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(si(i)&&o&&si(o))return[Ia(i,r.width),Ia(o,r.height)];var l=YE(s);if(ba(i)&&(i.value===Uv.CONTAIN||i.value===Uv.COVER)){if(YE(s)){var u=r.width/r.height;return u<s!=(i.value===Uv.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var d=YE(n),f=YE(a),h=d||f;if(zg(i)&&(!o||zg(o))){if(d&&f)return[n,a];if(!l&&!h)return[r.width,r.height];if(h&&l){var p=d?n:a*s,v=f?a:n/s;return[p,v]}var g=d?n:r.width,b=f?a:r.height;return[g,b]}if(l){var y=0,_=0;return si(i)?y=Ia(i,r.width):si(o)&&(_=Ia(o,r.height)),zg(i)?y=_*s:(!o||zg(o))&&(_=y/s),[y,_]}var S=null,B=null;if(si(i)?S=Ia(i,r.width):o&&si(o)&&(B=Ia(o,r.height)),S!==null&&(!o||zg(o))&&(B=d&&f?S/n*a:r.height),B!==null&&zg(i)&&(S=d&&f?B/a*n:r.width),S!==null&&B!==null)return[S,B];throw new Error("Unable to calculate background-size for element")},uv=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},mRe=function(e,t,r,n,a){var s=t[0],i=t[1],o=r[0],l=r[1];switch(e){case 2:return[new tr(Math.round(n.left),Math.round(n.top+i)),new tr(Math.round(n.left+n.width),Math.round(n.top+i)),new tr(Math.round(n.left+n.width),Math.round(l+n.top+i)),new tr(Math.round(n.left),Math.round(l+n.top+i))];case 3:return[new tr(Math.round(n.left+s),Math.round(n.top)),new tr(Math.round(n.left+s+o),Math.round(n.top)),new tr(Math.round(n.left+s+o),Math.round(n.height+n.top)),new tr(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new tr(Math.round(n.left+s),Math.round(n.top+i)),new tr(Math.round(n.left+s+o),Math.round(n.top+i)),new tr(Math.round(n.left+s+o),Math.round(n.top+i+l)),new tr(Math.round(n.left+s),Math.round(n.top+i+l))];default:return[new tr(Math.round(a.left),Math.round(a.top)),new tr(Math.round(a.left+a.width),Math.round(a.top)),new tr(Math.round(a.left+a.width),Math.round(a.height+a.top)),new tr(Math.round(a.left),Math.round(a.height+a.top))]}},pRe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",VH="Hidden Text",gRe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),a.src=pRe,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(VH)),n.appendChild(s),n.appendChild(a);var o=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(VH)),n.style.lineHeight="normal",a.style.verticalAlign="super";var l=a.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:l}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),hre=function(){function e(t,r){this.context=t,this.options=r}return e}(),vRe=1e4,xRe=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new gRe(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),iRe(r)&&(this.ctx.globalAlpha=r.opacity),sRe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),cre(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return rl(this,void 0,void 0,function(){var n;return jo(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return rl(this,void 0,void 0,function(){return jo(this,function(n){switch(n.label){case 0:if(xi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var i=zD(r.text);i.reduce(function(o,l){return s.ctx.fillText(l,o,r.bounds.top+a),o+s.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),a=CRe(r.fontFamily).join(", "),s=Dw(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,a].join(" "),a,s]},t.prototype.renderTextNode=function(r,n){return rl(this,void 0,void 0,function(){var a,s,i,o,l,u,d,f,h=this;return jo(this,function(p){return a=this.createFontStyle(n),s=a[0],i=a[1],o=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,o),u=l.baseline,d=l.middle,f=n.paintOrder,r.textBounds.forEach(function(v){f.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=Di(n.color),h.renderTextWithLetterSpacing(v,n.letterSpacing,u);var b=n.textShadow;b.length&&v.text.trim().length&&(b.slice(0).reverse().forEach(function(y){h.ctx.shadowColor=Di(y.color),h.ctx.shadowOffsetX=y.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=y.offsetY.number*h.options.scale,h.ctx.shadowBlur=y.blur.number,h.renderTextWithLetterSpacing(v,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Di(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:h.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+u),v.bounds.width,1);break;case 2:h.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:h.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+d),v.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&v.text.trim().length&&(h.ctx.strokeStyle=Di(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=hS(r),i=fS(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return rl(this,void 0,void 0,function(){var n,a,s,i,o,l,_,_,u,d,f,h,B,p,v,k,g,b,y,_,S,B,k;return jo(this,function(O){switch(O.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,s=n.styles,i=0,o=n.textNodes,O.label=1;case 1:return i<o.length?(l=o[i],[4,this.renderTextNode(l,s)]):[3,4];case 2:O.sent(),O.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof Kte))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return _=O.sent(),this.renderReplacedElement(n,a,_),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Gte&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof qte))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return _=O.sent(),this.renderReplacedElement(n,a,_),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Jte&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:d=O.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),O.label=14;case 14:if(n instanceof $D&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===lS?n.checked&&(this.ctx.save(),this.path([new tr(n.bounds.left+f*.39363,n.bounds.top+f*.79),new tr(n.bounds.left+f*.16,n.bounds.top+f*.5549),new tr(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new tr(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new tr(n.bounds.left+f*.72983,n.bounds.top+f*.23),new tr(n.bounds.left+f*.84,n.bounds.top+f*.34085),new tr(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=Di(TH),this.ctx.fill(),this.ctx.restore()):n.type===cS&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=Di(TH),this.ctx.fill(),this.ctx.restore())),bRe(n)&&n.value.length){switch(h=this.createFontStyle(s),B=h[0],p=h[1],v=this.fontMetrics.getMetrics(B,p).baseline,this.ctx.font=B,this.ctx.fillStyle=Di(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=wRe(n.styles.textAlign),k=hS(n),g=0,n.styles.textAlign){case 1:g+=k.width/2;break;case 2:g+=k.width;break}b=k.add(g,0,0,-k.height/2+1),this.ctx.save(),this.path([new tr(k.left,k.top),new tr(k.left+k.width,k.top),new tr(k.left+k.width,k.top+k.height),new tr(k.left,k.top+k.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new sy(n.value,b),s.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!xi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];_=void 0,S=y.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return _=O.sent(),this.ctx.drawImage(_,n.bounds.left-(_.width+10),n.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(B=this.createFontStyle(s)[0],this.ctx.font=B,this.ctx.fillStyle=Di(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",k=new $f(n.bounds.left,n.bounds.top+Ia(n.styles.paddingTop,n.bounds.width),n.bounds.width,fH(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new sy(r.listValue,k),s.letterSpacing,fH(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return rl(this,void 0,void 0,function(){var n,a,y,s,i,y,o,l,y,u,d,y,f,h,y,p,v,y,g,b,y;return jo(this,function(_){switch(_.label){case 0:if(xi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:_.sent(),n=0,a=r.negativeZIndex,_.label=2;case 2:return n<a.length?(y=a[n],[4,this.renderStack(y)]):[3,5];case 3:_.sent(),_.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:_.sent(),s=0,i=r.nonInlineLevel,_.label=7;case 7:return s<i.length?(y=i[s],[4,this.renderNode(y)]):[3,10];case 8:_.sent(),_.label=9;case 9:return s++,[3,7];case 10:o=0,l=r.nonPositionedFloats,_.label=11;case 11:return o<l.length?(y=l[o],[4,this.renderStack(y)]):[3,14];case 12:_.sent(),_.label=13;case 13:return o++,[3,11];case 14:u=0,d=r.nonPositionedInlineLevel,_.label=15;case 15:return u<d.length?(y=d[u],[4,this.renderStack(y)]):[3,18];case 16:_.sent(),_.label=17;case 17:return u++,[3,15];case 18:f=0,h=r.inlineLevel,_.label=19;case 19:return f<h.length?(y=h[f],[4,this.renderNode(y)]):[3,22];case 20:_.sent(),_.label=21;case 21:return f++,[3,19];case 22:p=0,v=r.zeroOrAutoZIndexOrTransformedOrOpacity,_.label=23;case 23:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,26];case 24:_.sent(),_.label=25;case 25:return p++,[3,23];case 26:g=0,b=r.positiveZIndex,_.label=27;case 27:return g<b.length?(y=b[g],[4,this.renderStack(y)]):[3,30];case 28:_.sent(),_.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,s){var i=fu(a)?a.start:a;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),fu(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},t.prototype.resizeImage=function(r,n,a){var s;if(r.width===n&&r.height===a)return r;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=i.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,a);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,a),o},t.prototype.renderBackgroundImage=function(r){return rl(this,void 0,void 0,function(){var n,a,s,i,o,l;return jo(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(d){var f,h,p,P,q,Z,M,Q,C,v,P,q,Z,M,Q,g,b,y,_,S,B,k,O,w,C,N,P,j,F,M,Q,J,q,Z,H,V,G,ne,R,W,Y,te;return jo(this,function(ie){switch(ie.label){case 0:if(d.type!==0)return[3,5];f=void 0,h=d.url,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return f=ie.sent(),[3,4];case 3:return ie.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return f&&(p=lT(r,n,[f.width,f.height,f.width/f.height]),P=p[0],q=p[1],Z=p[2],M=p[3],Q=p[4],C=s.ctx.createPattern(s.resizeImage(f,M,Q),"repeat"),s.renderRepeat(P,C,q,Z)),[3,6];case 5:sOe(d)?(v=lT(r,n,[null,null,null]),P=v[0],q=v[1],Z=v[2],M=v[3],Q=v[4],g=eOe(d.angle,M,Q),b=g[0],y=g[1],_=g[2],S=g[3],B=g[4],k=document.createElement("canvas"),k.width=M,k.height=Q,O=k.getContext("2d"),w=O.createLinearGradient(y,S,_,B),dH(d.stops,b).forEach(function(me){return w.addColorStop(me.stop,Di(me.color))}),O.fillStyle=w,O.fillRect(0,0,M,Q),M>0&&Q>0&&(C=s.ctx.createPattern(k,"repeat"),s.renderRepeat(P,C,q,Z))):iOe(d)&&(N=lT(r,n,[null,null,null]),P=N[0],j=N[1],F=N[2],M=N[3],Q=N[4],J=d.position.length===0?[QD]:d.position,q=Ia(J[0],M),Z=Ia(J[J.length-1],Q),H=tOe(d,q,Z,M,Q),V=H[0],G=H[1],V>0&&G>0&&(ne=s.ctx.createRadialGradient(j+q,F+Z,0,j+q,F+Z,V),dH(d.stops,V*2).forEach(function(me){return ne.addColorStop(me.stop,Di(me.color))}),s.path(P),s.ctx.fillStyle=ne,V!==G?(R=r.bounds.left+.5*r.bounds.width,W=r.bounds.top+.5*r.bounds.height,Y=G/V,te=1/Y,s.ctx.save(),s.ctx.translate(R,W),s.ctx.transform(1,0,0,Y,0,0),s.ctx.translate(-R,-W),s.ctx.fillRect(j,te*(F-W)+W,M,Q*te),s.ctx.restore()):s.ctx.fill())),ie.label=6;case 6:return n--,[2]}})},s=this,i=0,o=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<o.length?(l=o[i],[5,a(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return rl(this,void 0,void 0,function(){return jo(this,function(s){return this.path(HH(a,n)),this.ctx.fillStyle=Di(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,s){return rl(this,void 0,void 0,function(){var i,o;return jo(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,s)]:[3,2];case 1:return l.sent(),[2];case 2:return i=cRe(s,a),this.path(i),this.ctx.fillStyle=Di(r),this.ctx.fill(),o=uRe(s,a),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return rl(this,void 0,void 0,function(){var n,a,s,i,o,l,u,d,f=this;return jo(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!k0(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=yRe(uv(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),k0(n.backgroundColor)||(this.ctx.fillStyle=Di(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){f.ctx.save();var v=AS(r.curves),g=p.inset?0:vRe,b=oRe(v,-g+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(f.path(v),f.ctx.clip(),f.mask(b)):(f.mask(v),f.ctx.clip(),f.path(b)),f.ctx.shadowOffsetX=p.offsetX.number+g,f.ctx.shadowOffsetY=p.offsetY.number,f.ctx.shadowColor=Di(p.color),f.ctx.shadowBlur=p.blur.number,f.ctx.fillStyle=p.inset?Di(p.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),h.label=2;case 2:o=0,l=0,u=s,h.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!k0(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,r.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,s,i){return rl(this,void 0,void 0,function(){var o,l,u,d,f,h,p,v,g,b,y,_,S,B,k,O,k,O;return jo(this,function(w){return this.ctx.save(),o=dRe(s,a),l=HH(s,a),i===2&&(this.path(l),this.ctx.clip()),fu(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),fu(l[1])?(f=l[1].end.x,h=l[1].end.y):(f=l[1].x,h=l[1].y),a===0||a===2?p=Math.abs(u-f):p=Math.abs(d-h),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(l.slice(0,2)),v=n<3?n*3:n*2,g=n<3?n*2:n,i===3&&(v=n,g=n),b=!0,p<=v*2?b=!1:p<=v*2+g?(y=p/(2*v+g),v*=y,g*=y):(_=Math.floor((p+g)/(v+g)),S=(p-_*v)/(_-1),B=(p-(_+1)*v)/_,g=B<=0||Math.abs(g-S)<Math.abs(g-B)?S:B),b&&(i===3?this.ctx.setLineDash([0,v+g]):this.ctx.setLineDash([v,g])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Di(r),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(fu(l[0])&&(k=l[3],O=l[0],this.ctx.beginPath(),this.formatPath([new tr(k.end.x,k.end.y),new tr(O.start.x,O.start.y)]),this.ctx.stroke()),fu(l[1])&&(k=l[1],O=l[2],this.ctx.beginPath(),this.formatPath([new tr(k.end.x,k.end.y),new tr(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return rl(this,void 0,void 0,function(){var n;return jo(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Di(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=lRe(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(hre),bRe=function(e){return e instanceof Yte||e instanceof Xte?!0:e instanceof $D&&e.type!==cS&&e.type!==lS},yRe=function(e,t){switch(e){case 0:return AS(t);case 2:return rRe(t);case 1:default:return fS(t)}},wRe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ERe=["-apple-system","system-ui"],CRe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return ERe.indexOf(t)===-1}):e},_Re=function(e){bd(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return rl(this,void 0,void 0,function(){var n,a;return jo(this,function(s){switch(s.label){case 0:return n=Xj(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,SRe(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Di(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(hre),SRe=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},NRe=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,BE([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,BE([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,BE([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,BE([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),kRe=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new NRe({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new qPe(this,t)}return e.instanceCount=1,e}(),mS=function(e,t){return t===void 0&&(t={}),BRe(e,t)};typeof window<"u"&&lre.setContext(window);var BRe=function(e,t){return rl(void 0,void 0,void 0,function(){var r,n,a,s,i,o,l,u,d,f,h,p,v,g,b,y,_,S,B,k,w,O,w,C,N,P,j,F,M,Q,J,q,Z,H,V,G,ne,R,W,Y;return jo(this,function(te){switch(te.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(C=t.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(N=t.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:t.proxy,useCORS:(P=t.useCORS)!==null&&P!==void 0?P:!1},s=Dj({logging:(j=t.logging)!==null&&j!==void 0?j:!0,cache:t.cache},a),i={windowWidth:(F=t.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(M=t.windowHeight)!==null&&M!==void 0?M:n.innerHeight,scrollX:(Q=t.scrollX)!==null&&Q!==void 0?Q:n.pageXOffset,scrollY:(J=t.scrollY)!==null&&J!==void 0?J:n.pageYOffset},o=new $f(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),l=new kRe(s,o),u=(q=t.foreignObjectRendering)!==null&&q!==void 0?q:!1,d={allowTaint:(Z=t.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new MH(l,e,d),h=f.clonedReferenceElement,h?[4,f.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=te.sent(),v=KD(h)||IPe(h)?oFe(h.ownerDocument):vN(l,h),g=v.width,b=v.height,y=v.left,_=v.top,S=TRe(l,h,t.backgroundColor),B={canvas:t.canvas,backgroundColor:S,scale:(V=(H=t.scale)!==null&&H!==void 0?H:n.devicePixelRatio)!==null&&V!==void 0?V:1,x:((G=t.x)!==null&&G!==void 0?G:0)+y,y:((ne=t.y)!==null&&ne!==void 0?ne:0)+_,width:(R=t.width)!==null&&R!==void 0?R:Math.ceil(g),height:(W=t.height)!==null&&W!==void 0?W:Math.ceil(b)},u?(l.logger.debug("Document cloned, using foreign object rendering"),w=new _Re(l,B),[4,w.render(h)]):[3,3];case 2:return k=te.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+y+","+_+" with size "+g+"x"+b+" using computed rendering"),l.logger.debug("Starting DOM parsing"),O=ere(l,h),S===O.styles.backgroundColor&&(O.styles.backgroundColor=Of.TRANSPARENT),l.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),w=new xRe(l,B),[4,w.render(O)];case 4:k=te.sent(),te.label=5;case 5:return(!((Y=t.removeContainer)!==null&&Y!==void 0)||Y)&&(MH.destroy(p)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,k]}})})},TRe=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?ny(e,getComputedStyle(n.documentElement).backgroundColor):Of.TRANSPARENT,s=n.body?ny(e,getComputedStyle(n.body).backgroundColor):Of.TRANSPARENT,i=typeof r=="string"?ny(e,r):r===null?Of.TRANSPARENT:4294967295;return t===n.documentElement?k0(a)?k0(s)?i:s:a:i};const IRe=Object.freeze(Object.defineProperty({__proto__:null,default:mS},Symbol.toStringTag,{value:"Module"})),kN="proyectos_interdisciplinarios",mre="entregas_interdisciplinarias",jRe="usuarios",GD=e=>{const t=e.data();return{id:e.id,...t}},FRe=e=>{const t=Zt(Rt(jt,kN),Gr("nombreProyecto","asc"));return wr(t,n=>{const a=n.docs.map(s=>GD(s));e(a)},n=>{console.error("Error al suscribirse a las planificaciones:",n),e([])})},ORe=async e=>{try{return(await qn(Rt(jt,kN),e)).id}catch(t){throw console.error("Error al crear la planificacin:",t),new Error("No se pudo crear la planificacin.")}},zH=async(e,t)=>{try{const{id:r,...n}=t,a=vr(jt,kN,e);await fo(a,n)}catch(r){throw console.error("Error al actualizar la planificacin:",r),new Error("No se pudo actualizar la planificacin.")}},DRe=async e=>{try{const t=vr(jt,kN,e);await $s(t)}catch(t){throw console.error("Error al eliminar la planificacin:",t),new Error("No se pudo eliminar la planificacin.")}},PRe=(e,t)=>{const r=Zt(Rt(jt,mre),Fn("planificacionId","==",e));return wr(r,a=>{const s=a.docs.map(i=>GD(i));t(s)},a=>{console.error("Error al suscribirse a las entregas:",a),t([])})},$H=async(e,t)=>{try{const r=vr(jt,mre,e);await fo(r,{feedbackProfesor:t,fechaFeedback:mr.fromDate(new Date)},{merge:!0})}catch(r){throw console.error("Error al guardar la retroalimentacin:",r),new Error("No se pudo guardar la retroalimentacin.")}},RRe=e=>{const t=Zt(Rt(jt,jRe));return wr(t,n=>{const a=n.docs.map(s=>GD(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},LRe=({planificaciones:e,onActivityUpdate:t})=>{const[r,n]=I.useState(null),a=I.useMemo(()=>{const l=[];return e.forEach(u=>{(u.actividades||[]).forEach(d=>l.push({...d,planId:u.id,type:"activity"})),(u.fechasClave||[]).forEach(d=>l.push({id:d.id,planId:u.id,type:"keyDate",nombre:d.nombre,fechaInicio:d.fecha,fechaFin:d.fecha,responsables:u.docentesResponsables,asignaturaPrincipal:"Milestone"}))}),l.sort((u,d)=>new Date(u.fechaInicio).getTime()-new Date(d.fechaInicio).getTime())},[e]),s=I.useCallback(l=>{if(l.type==="keyDate")return{text:"Fecha Clave",color:"bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-300"};const u=new Date;u.setHours(0,0,0,0);const d=new Date(`${l.fechaInicio}T00:00:00`),f=new Date(`${l.fechaFin}T00:00:00`);return f<u?{text:"Completado",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}:d<=u&&f>=u?{text:"En Progreso",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"}:{text:"Planificado",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}},[]),i=({name:l})=>{const u=(l||"").split(" ").map(p=>p[0]).join("").toUpperCase(),d=p=>{let v=0;for(let g=0;g<p.length;g++)v=p.charCodeAt(g)+((v<<5)-v);return v},f=["bg-pink-100 text-pink-800 dark:bg-pink-900/50 dark:text-pink-300","bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300","bg-teal-100 text-teal-800 dark:bg-teal-900/50 dark:text-teal-300","bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300","bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300","bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300","bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"],h=Math.abs(d(l))%f.length;return c.jsx("div",{className:`w-9 h-9 rounded-full ${f[h]} flex items-center justify-center font-bold text-sm ring-2 ring-white dark:ring-slate-800`,children:u.slice(0,2)})},o=({data:l,onClose:u,onSave:d})=>{const[f,h]=I.useState(l.activity),p=g=>{h({...f,[g.target.name]:g.target.value})},v=()=>{d(l.planId,f),u()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-lg p-6 animate-fade-in-up",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Editar Actividad"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Nombre"}),c.jsx("input",{name:"nombre",value:f.nombre,onChange:p,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Responsables"}),c.jsx("input",{name:"responsables",value:f.responsables,onChange:p,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Inicio"}),c.jsx("input",{type:"date",name:"fechaInicio",value:f.fechaInicio,onChange:p,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Fin"}),c.jsx("input",{type:"date",name:"fechaFin",value:f.fechaFin,onChange:p,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{onClick:u,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-md font-semibold",children:"Cancelar"}),c.jsx("button",{onClick:v,className:"px-4 py-2 bg-amber-500 text-white rounded-md font-semibold",children:"Guardar"})]})]})})};return a.length===0?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Cronograma del Proyecto"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),c.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades para mostrar. Cree una planificacin primero."})]}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[c.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200",children:"Cronograma del Proyecto"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Tarea"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Inicio"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Fin"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Asignado"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(l=>{const u=s(l),d=l.type==="activity";return c.jsxs("tr",{className:`${d?"hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer":""}`,onClick:()=>d&&n({planId:l.planId,activity:l}),children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium text-slate-900 dark:text-slate-200",children:l.nombre}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${u.color}`,children:u.text})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:l.fechaInicio}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:l.fechaFin}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx(i,{name:l.responsables||"N/A"})})]},l.id)})})]})}),r&&c.jsx(o,{data:r,onClose:()=>n(null),onSave:t})]})},MRe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),URe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 006-5.197M15 12a4 4 0 110-8 4 4 0 010 8z"})}),QRe=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),c.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0v6"})]}),HRe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),VRe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),zRe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6H8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),$Re=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),KRe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),nF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),Wh=({icon:e,label:t,children:r,aiButton:n})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-3 text-slate-500 dark:text-slate-400 font-medium",children:[e,c.jsx("span",{children:t})]}),n]}),r]}),GRe=({initialPlan:e,onSave:t,onCancel:r})=>{const[n,a]=I.useState(e||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]}),[s,i]=I.useState({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""}),[o,l]=I.useState({nombre:"",fecha:""}),[u,d]=I.useState({instrucciones:"",fechaEntrega:"",recursoUrl:""}),[f,h]=I.useState(!1),[p,v]=I.useState(!1),[g,b]=I.useState(!1);I.useEffect(()=>{a(e||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]})},[e]);const y=async C=>{if(!n.descripcionProyecto.trim()){alert("Por favor, ingrese una descripcin del proyecto para usar la IA.");return}C==="objetivos"?h(!0):v(!0);const N="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE";let P="";C==="objetivos"?P=`Basado en la siguiente descripcin de un proyecto escolar interdisciplinario, genera 3 a 5 objetivos de aprendizaje claros, medibles y concisos. La respuesta debe ser solo el texto de los objetivos, formateado en una lista con guiones.
            Descripcin del Proyecto: "${n.descripcionProyecto}"`:P=`Basado en la siguiente descripcin y objetivos de un proyecto escolar interdisciplinario, genera una lista de 5 a 7 indicadores de logro concretos y observables que permitan evaluar el cumplimiento de los objetivos. La respuesta debe ser solo el texto de los indicadores, formateado en una lista con guiones.
            Descripcin del Proyecto: "${n.descripcionProyecto}"
            Objetivos (si existen): "${n.objetivos||"An no definidos, genralos a partir de la descripcin."}"`;try{const J=(await(await new Cs(N).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(P)).response).text();a(q=>({...q,[C]:J.replace(/(\*\*|\*)/g,"")}))}catch(j){console.error(`Error al generar ${C}`,j),alert(`Hubo un error al generar los ${C}. Intntelo de nuevo.`)}finally{C==="objetivos"?h(!1):v(!1)}},_=async()=>{if(!n.descripcionProyecto.trim()){alert("Por favor, ingrese una descripcin del proyecto para usar la IA.");return}b(!0);const C="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",N=`
            Basado en la descripcin de un proyecto escolar, genera una estructura completa. La respuesta DEBE ser un nico objeto JSON vlido sin texto adicional ni bloques \`\`\`json.
            Descripcin del proyecto: "${n.descripcionProyecto}"
            Docentes responsables: "${n.docentesResponsables}"
            Asignaturas involucradas: "${n.asignaturas.join(", ")}"

            El JSON debe tener tres claves: 'actividades', 'fechasClave', y 'tareas'.
            1. 'actividades': Un array de 3 a 5 objetos. Cada objeto debe tener: "nombre" (string), "fechaInicio" (string "YYYY-MM-DD"), "fechaFin" (string "YYYY-MM-DD"), y "responsables" (string, uno de los docentes).
            2. 'fechasClave': Un array de 2 a 3 objetos (hitos importantes). Cada objeto debe tener: "nombre" (string) y "fecha" (string "YYYY-MM-DD").
            3. 'tareas': Un array de 2 a 3 objetos (tareas para estudiantes). Cada objeto debe tener: "instrucciones" (string detallado) y "fechaEntrega" (string "YYYY-MM-DD").
            Las fechas deben ser lgicas y secuenciales. Asume que el proyecto comienza hoy.
        `;try{const J=(await(await new Cs(C).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(N)).response).text().replace(/^```json\s*|```\s*$/g,""),q=JSON.parse(J);a(Z=>{var H,V,G;return{...Z,actividades:((H=q.actividades)==null?void 0:H.map(ne=>({...ne,id:crypto.randomUUID()})))||Z.actividades,fechasClave:((V=q.fechasClave)==null?void 0:V.map(ne=>({...ne,id:crypto.randomUUID()})))||Z.fechasClave,tareas:((G=q.tareas)==null?void 0:G.map((ne,R)=>({...ne,id:crypto.randomUUID(),numero:R+1})))||Z.tareas}})}catch(P){console.error("Error al generar la estructura del proyecto:",P),alert("No se pudo generar la estructura del proyecto. Intente de nuevo.")}finally{b(!1)}},S=C=>{a(N=>({...N,[C.target.name]:C.target.value}))},B=(C,N)=>{a(P=>{const j=P[C],F=j.includes(N)?j.filter(M=>M!==N):[...j,N];return{...P,[C]:F}})},k=()=>{if(!s.nombre||!s.fechaInicio||!s.fechaFin){alert("Nombre y fechas son obligatorios para la actividad.");return}a(C=>({...C,actividades:[...C.actividades||[],{...s,id:crypto.randomUUID()}]})),i({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""})},O=()=>{!o.nombre||!o.fecha||(a(C=>({...C,fechasClave:[...C.fechasClave||[],{...o,id:crypto.randomUUID()}]})),l({nombre:"",fecha:""}))},w=()=>{var N;if(!u.instrucciones||!u.fechaEntrega){alert("Instrucciones y fecha son obligatorios para la tarea.");return}const C={id:crypto.randomUUID(),numero:(((N=n.tareas)==null?void 0:N.length)||0)+1,...u};a(P=>({...P,tareas:[...P.tareas||[],C]})),d({instrucciones:"",fechaEntrega:"",recursoUrl:""})};return c.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[c.jsx("div",{className:"text-center mb-12",children:c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 dark:text-slate-200",children:e?"Editando Proyecto":"Nuevo Proyecto Interdisciplinario"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsx(Wh,{icon:c.jsx(MRe,{}),label:"Nombre del Proyecto",children:c.jsx("input",{name:"nombreProyecto",value:n.nombreProyecto,onChange:S,placeholder:"Ingrese el nombre del proyecto...",className:"w-full mt-1 bg-transparent text-lg font-semibold focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Wh,{icon:c.jsx(URe,{}),label:"Profesores",children:c.jsx("input",{name:"docentesResponsables",value:n.docentesResponsables,onChange:S,placeholder:"Ingrese nombres separados por comas...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Wh,{icon:c.jsx(QRe,{}),label:"Cursos",children:c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 mt-2",children:Za.map(C=>c.jsx("button",{type:"button",onClick:()=>B("cursos",C),className:`w-full text-center p-2 rounded-md text-sm transition-colors ${n.cursos.includes(C)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:C},C))})}),c.jsx(Wh,{icon:c.jsx(HRe,{}),label:"Asignaturas",children:c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 mt-2",children:Hi.map(C=>c.jsx("button",{type:"button",onClick:()=>B("asignaturas",C),className:`w-full text-left p-2 rounded-md text-sm transition-colors ${n.asignaturas.includes(C)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:C},C))})}),c.jsx(Wh,{icon:c.jsx(VRe,{}),label:"Descripcin del Proyecto",children:c.jsx("textarea",{name:"descripcionProyecto",value:n.descripcionProyecto,onChange:S,placeholder:"Detalle aqu la metodologa, el producto final esperado y el propsito del proyecto. Esta informacin es clave para la IA.",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[100px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Wh,{icon:c.jsx(zRe,{}),label:"Objetivos",aiButton:c.jsx("button",{type:"button",onClick:()=>y("objetivos"),disabled:!n.descripcionProyecto.trim()||f,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:c.jsx(nF,{})}),children:f?c.jsx("div",{className:"p-4 text-center",children:"Generando..."}):c.jsx("textarea",{name:"objetivos",value:n.objetivos,onChange:S,placeholder:"Liste los objetivos de aprendizaje...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Wh,{icon:c.jsx($Re,{}),label:"Indicadores de xito",aiButton:c.jsx("button",{type:"button",onClick:()=>y("indicadoresLogro"),disabled:!n.descripcionProyecto.trim()||p,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:c.jsx(nF,{})}),children:p?c.jsx("div",{className:"p-4 text-center",children:"Generando..."}):c.jsx("textarea",{name:"indicadoresLogro",value:n.indicadoresLogro,onChange:S,placeholder:"Liste los indicadores de logro o evaluacin...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),c.jsx(Wh,{icon:c.jsx(KRe,{}),label:"Carta Gantt",children:c.jsxs("div",{className:"space-y-4 mt-2",children:[c.jsx("div",{className:"text-center border-b pb-4 mb-4 dark:border-slate-700",children:c.jsx("button",{type:"button",onClick:_,disabled:g||!n.descripcionProyecto,className:"bg-sky-500 text-white font-semibold py-2 px-5 rounded-lg disabled:bg-slate-400 flex items-center gap-2 mx-auto",children:g?"Generando...":" Sugerir Estructura con IA"})}),c.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold",children:"Actividades"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 items-end",children:[c.jsx("input",{value:s.nombre,onChange:C=>i({...s,nombre:C.target.value}),placeholder:"Nombre",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),c.jsx("input",{type:"date",value:s.fechaInicio,onChange:C=>i({...s,fechaInicio:C.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),c.jsx("input",{type:"date",value:s.fechaFin,onChange:C=>i({...s,fechaFin:C.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:k,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),c.jsx("ul",{className:"text-xs",children:n.actividades.map(C=>c.jsx("li",{children:C.nombre},C.id))})]}),c.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold",children:"Fechas Clave (Hitos)"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 items-end",children:[c.jsx("input",{value:o.nombre,onChange:C=>l({...o,nombre:C.target.value}),placeholder:"Hito",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 col-span-1"}),c.jsx("input",{type:"date",value:o.fecha,onChange:C=>l({...o,fecha:C.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:O,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),c.jsx("ul",{className:"text-xs",children:n.fechasClave.map(C=>c.jsxs("li",{children:[C.nombre," (",C.fecha,")"]},C.id))})]}),c.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold",children:"Tareas para Estudiantes"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 items-end",children:[c.jsx("input",{value:u.instrucciones,onChange:C=>d({...u,instrucciones:C.target.value}),placeholder:"Instrucciones",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),c.jsx("input",{type:"date",value:u.fechaEntrega,onChange:C=>d({...u,fechaEntrega:C.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{type:"button",onClick:w,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),c.jsx("ul",{className:"text-xs",children:(n.tareas||[]).map(C=>c.jsxs("li",{children:[C.numero,". ",C.instrucciones]},C.id))})]})]})}),c.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[c.jsx("button",{onClick:r,className:"px-8 py-3 bg-slate-200 text-slate-700 rounded-lg font-semibold hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Cancelar"}),c.jsx("button",{onClick:()=>t(n),className:"px-8 py-3 bg-slate-800 text-white rounded-lg font-semibold hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:e?"Guardar Cambios":"Guardar Proyecto"})]})]})]})},KH=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!0),[a,s]=I.useState("list"),[i,o]=I.useState(null),[l,u]=I.useState(null),[d,f]=I.useState(null);I.useEffect(()=>{n(!0);const S=FRe(B=>{t(B),n(!1)});return()=>S()},[]);const h=I.useCallback(async(S,B)=>{const k=e.find(O=>O.id===S);if(k){const O={...k,actividades:(k.actividades||[]).map(w=>w.id===B.id?B:w)};await zH(S,O)}},[e]),p=async S=>{try{"id"in S&&S.id?await zH(S.id,S):await ORe(S),s("list"),o(null)}catch(B){console.error("Error al guardar la planificacin:",B),alert("No se pudo guardar la planificacin.")}},v=S=>{o(S),s("form")},g=async S=>{if(console.log("ID recibido por handleDelete:",S),!S){console.error("handleDelete fue llamado con un ID invlido:",S),alert("Error: No se puede eliminar un proyecto sin un ID vlido.");return}if(window.confirm("Est seguro de eliminar esta planificacin?"))try{await DRe(S)}catch(B){console.error("Error al eliminar la planificacin:",B),alert("No se pudo eliminar la planificacin.")}},b=()=>{o(null),s("form")},y=async S=>{u(S.id);const B=new hr("p","mm","a4"),k=15,O=B.internal.pageSize.getWidth(),w=B.internal.pageSize.getHeight(),C=O-k*2;let N=k;const P=22,j=14,F=11,M=()=>{B.setFont("helvetica","normal"),B.setFontSize(9),B.setTextColor(150),B.text("Proyecto Interdisciplinario",k,12),B.text("Liceo Industrial de Recoleta",O-k,12,{align:"right"}),B.setDrawColor(220),B.line(k,15,O-k,15)},Q=V=>{N+V>w-k&&(B.addPage(),M(),N=k+15)},J=(V,G)=>{if(!G||Array.isArray(G)&&G.length===0||typeof G=="string"&&!G.trim())return;const ne=10;B.setFontSize(F);const R=Array.isArray(G)?G.join(", "):String(G),W=B.splitTextToSize(R,C),Y=W.length*(F*.35*1.15);Q(ne+Y+12),B.setFont("helvetica","bold"),B.setFontSize(j),B.setTextColor(40),B.text(V,k,N),N+=6,B.setDrawColor(200),B.line(k,N,k+30,N),N+=8,B.setFont("helvetica","normal"),B.setFontSize(F),B.setTextColor(80),B.text(W,k,N),N+=Y+12};M(),N=k+20,B.setFont("helvetica","bold"),B.setFontSize(P),B.setTextColor(0);const q=B.splitTextToSize(S.nombreProyecto,C);if(B.text(q,k,N),N+=q.length*(P*.4)+10,dl(B,{startY:N,body:[[{content:"Docentes Responsables:",styles:{fontStyle:"bold"}},S.docentesResponsables],[{content:"Cursos Involucrados:",styles:{fontStyle:"bold"}},S.cursos.join(", ")],[{content:"Asignaturas:",styles:{fontStyle:"bold"}},S.asignaturas.join(", ")]],theme:"grid",styles:{fontSize:F,cellPadding:3,lineColor:[220,220,220]},columnStyles:{0:{cellWidth:50,fontStyle:"bold"}}}),N=B.lastAutoTable.finalY+15,J("Descripcin del Proyecto",S.descripcionProyecto),J("Objetivos de Aprendizaje",S.objetivos),J("Indicadores de Logro",S.indicadoresLogro),S.tareas&&S.tareas.length>0){const V=S.tareas.map(ne=>[ne.numero.toString(),ne.instrucciones,ne.fechaEntrega]),G=(V.length+1)*10+15;Q(G+15),B.setFont("helvetica","bold"),B.setFontSize(j),B.setTextColor(40),B.text("Tareas para Estudiantes",k,N),N+=10,dl(B,{startY:N,head:[["#","Instrucciones","Fecha de Entrega"]],body:V,theme:"striped",headStyles:{fillColor:[52,73,94]}}),N=B.lastAutoTable.finalY+15}const Z=document.getElementById("gantt-container-vertical");if(Z)try{const G=(await mS(Z,{scale:2,backgroundColor:"#ffffff"})).toDataURL("image/png");B.addPage(),M(),N=k+15,B.setFont("helvetica","bold"),B.setFontSize(j),B.setTextColor(40),B.text("Cronograma del Proyecto",k,N),N+=10;const ne=B.getImageProperties(G),R=C,W=ne.height*R/ne.width;B.addImage(G,"PNG",k,N,R,W)}catch(V){console.error("Error generating timeline image:",V)}const H=B.internal.pages.length-1;for(let V=1;V<=H;V++)B.setPage(V),B.setFont("helvetica","normal"),B.setFontSize(9),B.setTextColor(150),B.text(`Pgina ${V} de ${H}`,O-k,B.internal.pageSize.getHeight()-10,{align:"right"});B.save(`Proyecto_${S.nombreProyecto.replace(/\s/g,"_")}.pdf`),u(null)},_=({plan:S,onBack:B})=>{var J,q;const[k,O]=I.useState([]),[w,C]=I.useState([]),[N,P]=I.useState(((J=S.tareas)==null?void 0:J[0])||null),[j,F]=I.useState(null);I.useEffect(()=>{const Z=RRe(O),H=PRe(S.id,C);return()=>{Z(),H()}},[S.id]);const M=I.useMemo(()=>k.filter(Z=>Z.profile===Xt.ESTUDIANTE&&S.cursos.includes(Z.curso||"")).sort((Z,H)=>Z.nombreCompleto.localeCompare(H.nombreCompleto)),[k,S.cursos]),Q=async Z=>{var G;F(Z.id);const H="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",V=`
                Eres un profesor asistente. Genera una retroalimentacin constructiva para la entrega de un estudiante.
                - Instrucciones de la tarea: "${N==null?void 0:N.instrucciones}"
                - Comentario del estudiante: "${Z.observacionesEstudiante||"No dej comentarios."}"
                - Enlace entregado: "${Z.enlaceUrl||"No aplica"}"
                - Archivo entregado: "${((G=Z.archivoAdjunto)==null?void 0:G.nombre)||"No aplica"}"
                
                La retroalimentacin debe ser breve (2-3 frases), motivadora, y enfocada en cmo podra mejorar.
            `;try{const te=(await(await new Cs(H).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(V)).response).text().replace(/(\*\*|\*)/g,"");await $H(Z.id,te)}catch(ne){console.error("Error al generar feedback con IA:",ne),alert("No se pudo generar la retroalimentacin.")}finally{F(null)}};return N?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Entregas de Tareas: ",S.nombreProyecto]}),c.jsx("button",{onClick:B,className:"font-semibold",children:" Volver a Proyectos"})]}),c.jsx("select",{value:N.id,onChange:Z=>{var H;return P(((H=S.tareas)==null?void 0:H.find(V=>V.id===Z.target.value))||null)},className:"mb-4 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600",children:(q=S.tareas)==null?void 0:q.map(Z=>c.jsxs("option",{value:Z.id,children:["Tarea ",Z.numero,": ",Z.instrucciones]},Z.id))}),c.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:M.map(Z=>{const H=w.find(V=>V.tareaId===N.id&&V.estudianteId===Z.id);return c.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[c.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[Z.nombreCompleto," - ",H!=null&&H.completada?c.jsx("span",{className:"text-green-600",children:"Entregado"}):c.jsx("span",{className:"text-red-600",children:"Pendiente"})]}),H?c.jsxs("div",{className:"text-sm mt-2 space-y-2",children:[H.observacionesEstudiante&&c.jsxs("p",{children:[c.jsx("strong",{children:"Comentario:"})," ",H.observacionesEstudiante]}),H.enlaceUrl&&c.jsxs("p",{children:[c.jsx("strong",{children:"Enlace:"})," ",c.jsx("a",{href:H.enlaceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:H.enlaceUrl})]}),H.archivoAdjunto&&c.jsxs("p",{children:[c.jsx("strong",{children:"Archivo:"})," ",c.jsx("a",{href:H.archivoAdjunto.url,download:H.archivoAdjunto.nombre,className:"text-blue-500 hover:underline",children:H.archivoAdjunto.nombre})]}),c.jsxs("div",{className:"flex items-end gap-2",children:[c.jsx("textarea",{placeholder:"Escribir retroalimentacin...",defaultValue:H.feedbackProfesor||"",onBlur:V=>$H(H.id,V.target.value),rows:2,className:"w-full mt-2 p-1 border rounded-md dark:bg-slate-700 dark:border-slate-600 flex-grow"},H.id),c.jsx("button",{onClick:()=>Q(H),disabled:j===H.id,className:"p-2 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50",title:"Generar Feedback con IA",children:j===H.id?"...":c.jsx(nF,{})})]})]}):c.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"El estudiante an no ha realizado la entrega."})]},Z.id)})})]}):c.jsx("div",{className:"text-center p-8",children:"Este proyecto no tiene tareas asignadas."})};return r?c.jsx("div",{className:"text-center py-10",children:"Cargando proyectos..."}):d?c.jsx(_,{plan:d,onBack:()=>f(null)}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a==="list"?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Proyectos Interdisciplinarios"}),c.jsx("button",{onClick:b,className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Crear Nuevo"})]}),c.jsx("div",{className:"space-y-4",children:e.map(S=>(console.log("Inspeccionando objeto plan:",S),c.jsx("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:S.nombreProyecto}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Cursos: ",(S.cursos||[]).join(", ")]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("button",{onClick:()=>f(S),className:"text-green-600 hover:text-green-800 dark:text-green-400 font-semibold text-sm",children:"Ver Entregas"}),c.jsx("button",{onClick:()=>y(S),disabled:l===S.id,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold text-sm disabled:opacity-50",children:l===S.id?"Exportando...":"Exportar PDF"}),c.jsx("button",{onClick:()=>v(S),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Editar"}),c.jsx("button",{onClick:()=>g(S.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:""})]})]})},S.id)))})]}):c.jsx(GRe,{initialPlan:i,onSave:p,onCancel:()=>{s("list"),o(null)}}),e.length>0&&c.jsx("div",{id:"gantt-container-vertical",children:c.jsx(LRe,{planificaciones:e,onActivityUpdate:h})})]})},cT="paolMaquinas",GH="paolRegistros",qRe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),a={fecha:new Date().toISOString().split("T")[0],curso:"",profesorResponsable:"",maquinaId:"",totalHoras:0,observaciones:""},[s,i]=I.useState(a),[o,l]=I.useState(null),u={nombre:"",especialidad:"Industrial"},[d,f]=I.useState(u),[h,p]=I.useState(null),[v,g]=I.useState({maquinaId:"",curso:"",profesor:"",fecha:""});I.useEffect(()=>{try{const F=localStorage.getItem(cT);if(F&&JSON.parse(F).length>0)t(JSON.parse(F));else{const Q=[{id:crypto.randomUUID(),nombre:"Torno",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Fresadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora MIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora TIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Torno CNC",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Elevador",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Compresor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta de motor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta hidrulica",especialidad:"Automotriz"}];t(Q),localStorage.setItem(cT,JSON.stringify(Q))}const M=localStorage.getItem(GH);M&&n(JSON.parse(M))}catch(F){console.error("Error al cargar datos de Paol desde localStorage",F)}},[]);const b=I.useCallback(F=>{t(F),localStorage.setItem(cT,JSON.stringify(F))},[]),y=I.useCallback(F=>{n(F),localStorage.setItem(GH,JSON.stringify(F))},[]),_=F=>{F.preventDefault(),d.nombre.trim()&&(b(h?e.map(M=>M.id===h.id?{...h,...d}:M):[{...d,id:crypto.randomUUID()},...e]),f(u),p(null))},S=I.useCallback(F=>{if(r.some(M=>M.maquinaId===F)){alert("No se puede eliminar una mquina con registros de uso. Elimine los registros primero.");return}window.confirm("Eliminar esta mquina?")&&b(e.filter(M=>M.id!==F))},[e,r,b]),B=F=>{F.preventDefault();const M=o||s;if(!M.curso||!M.profesorResponsable.trim()||!M.maquinaId||M.totalHoras<=0){alert("Curso, Profesor, Mquina y un Total de Horas mayor a cero son obligatorios.");return}y(o?r.map(Q=>Q.id===o.id?o:Q):[{...s,id:crypto.randomUUID()},...r]),i(a),l(null)},k=I.useCallback(F=>{window.confirm("Eliminar este registro de uso?")&&y(r.filter(M=>M.id!==F))},[r,y]),O=I.useMemo(()=>r.filter(F=>(v.maquinaId===""||F.maquinaId===v.maquinaId)&&(v.curso===""||F.curso===v.curso)&&(v.profesor===""||F.profesorResponsable.toLowerCase().includes(v.profesor.toLowerCase()))&&(v.fecha===""||F.fecha===v.fecha)).sort((F,M)=>new Date(M.fecha).getTime()-new Date(F.fecha).getTime()),[r,v]),w=I.useMemo(()=>new Map(e.map(F=>[F.id,F])),[e]),C=()=>{const F=O.map(J=>{var q,Z;return{Fecha:J.fecha,Curso:J.curso,Profesor:J.profesorResponsable,Mquina:((q=w.get(J.maquinaId))==null?void 0:q.nombre)||"N/A",Especialidad:((Z=w.get(J.maquinaId))==null?void 0:Z.especialidad)||"N/A","Total Horas":J.totalHoras,Observaciones:J.observaciones}}),M=vu.json_to_sheet(F),Q=vu.book_new();vu.book_append_sheet(Q,M,"RegistrosPaol"),ID(Q,"Registros_Paol.xlsx")},N=()=>{const F=new hr;dl(F,{head:[["Fecha","Curso","Profesor","Mquina","Especialidad","Total Horas","Observaciones"]],body:O.map(M=>{var Q,J;return[M.fecha,M.curso,M.profesorResponsable,((Q=w.get(M.maquinaId))==null?void 0:Q.nombre)||"N/A",((J=w.get(M.maquinaId))==null?void 0:J.especialidad)||"N/A",M.totalHoras,M.observaciones]}),margin:{top:20,right:10,bottom:20,left:10},didDrawPage:M=>{F.setFontSize(10),F.setFont("helvetica","bold"),F.text("LICEO INDUSTRIAL DE RECOLETA",M.settings.margin.left,15)}}),F.save("Registros_Paol.pdf")},P="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",j=()=>{const F=o||s,M=o?l:i;return c.jsxs("form",{onSubmit:B,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Fecha"}),c.jsx("input",{name:"fecha",type:"date",value:F.fecha,onChange:Q=>M({...F,fecha:Q.target.value}),className:P,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Curso"}),c.jsxs("select",{name:"curso",value:F.curso,onChange:Q=>M({...F,curso:Q.target.value}),className:P,required:!0,children:[c.jsx("option",{value:"",children:"Curso"}),Za.map(Q=>c.jsx("option",{children:Q},Q))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Profesor"}),c.jsxs("select",{name:"profesorResponsable",value:F.profesorResponsable,onChange:Q=>M({...F,profesorResponsable:Q.target.value}),className:P,required:!0,children:[c.jsx("option",{value:"",children:"Profesor Responsable"}),rj.map(Q=>c.jsx("option",{value:Q,children:Q},Q))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Mquina"}),c.jsxs("select",{name:"maquinaId",value:F.maquinaId,onChange:Q=>M({...F,maquinaId:Q.target.value}),className:P,required:!0,children:[c.jsx("option",{value:"",children:"Mquina"}),e.map(Q=>c.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Total de Horas"}),c.jsx("input",{name:"totalHoras",type:"number",value:F.totalHoras,onChange:Q=>M({...F,totalHoras:Number(Q.target.value)}),className:P,required:!0,min:"0.5",step:"0.5"})]}),c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("label",{className:"text-sm font-medium",children:"Observaciones"}),c.jsx("textarea",{name:"observaciones",value:F.observaciones,onChange:Q=>M({...F,observaciones:Q.target.value}),placeholder:"Observaciones...",className:`${P}`,rows:1})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o&&c.jsx("button",{type:"button",onClick:()=>l(null),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:o?"Actualizar":"Registrar"})]})]})};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Paol: Registro de Uso de Mquinas"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:o?`Editando Registro #${o.id.substring(0,4)}`:"Nuevo Registro de Uso"}),j()]}),c.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Administrar Mquinas"}),c.jsxs("form",{onSubmit:_,className:"flex gap-2 mb-4",children:[c.jsx("input",{value:d.nombre,onChange:F=>f({...d,nombre:F.target.value}),placeholder:"Nombre mquina",className:P}),c.jsxs("select",{value:d.especialidad,onChange:F=>f({...d,especialidad:F.target.value}),className:P,children:[c.jsx("option",{value:"Industrial",children:"Industrial"}),c.jsx("option",{value:"Automotriz",children:"Automotriz"})]}),c.jsx("button",{type:"submit",className:"bg-slate-200 p-2 rounded-lg font-bold",children:h?"":"+"})]}),c.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:e.map(F=>c.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[c.jsxs("span",{children:[F.nombre," ",c.jsxs("span",{className:"text-xs text-slate-500",children:["(",F.especialidad,")"]})]}),c.jsxs("div",{className:"space-x-2",children:[c.jsx("button",{onClick:()=>{p(F),f(F)},className:"text-blue-500",children:""}),c.jsx("button",{onClick:()=>S(F.id),className:"text-red-500",children:""})]})]},F.id))})]}),c.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Historial de Uso"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:C,className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg",children:"Excel"}),c.jsx("button",{onClick:N,className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg",children:"PDF"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:[c.jsx("input",{type:"date",value:v.fecha,onChange:F=>g({...v,fecha:F.target.value}),className:P}),c.jsxs("select",{value:v.curso,onChange:F=>g({...v,curso:F.target.value}),className:P,children:[c.jsx("option",{value:"",children:"Todos los Cursos"}),Za.map(F=>c.jsx("option",{children:F},F))]}),c.jsxs("select",{value:v.maquinaId,onChange:F=>g({...v,maquinaId:F.target.value}),className:P,children:[c.jsx("option",{value:"",children:"Todas las Mquinas"}),e.map(F=>c.jsx("option",{value:F.id,children:F.nombre},F.id))]}),c.jsx("input",{value:v.profesor,onChange:F=>g({...v,profesor:F.target.value}),placeholder:"Buscar profesor...",className:P})]}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Mquina"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Profesor"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Total Horas"}),c.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-slate-500 uppercase",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:O.map(F=>{var M;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:F.fecha}),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium",children:((M=w.get(F.maquinaId))==null?void 0:M.nombre)||"N/A"}),c.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:[F.profesorResponsable," (",F.curso,")"]}),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:F.totalHoras}),c.jsxs("td",{className:"px-3 py-2 text-center",children:[c.jsx("button",{onClick:()=>l(F),className:"text-blue-500",children:""}),c.jsx("button",{onClick:()=>k(F.id),className:"text-red-500 ml-2",children:""})]})]},F.id)})})]})})]})]})]})};function ml(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=ml(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var uT={exports:{}},dT={},AT={exports:{}},fT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qH;function WRe(){if(qH)return fT;qH=1;var e=Sx();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,i=e.useDebugValue;function o(f,h){var p=h(),v=n({inst:{value:p,getSnapshot:h}}),g=v[0].inst,b=v[1];return s(function(){g.value=p,g.getSnapshot=h,l(g)&&b({inst:g})},[f,p,h]),a(function(){return l(g)&&b({inst:g}),f(function(){l(g)&&b({inst:g})})},[f]),i(p),p}function l(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!r(f,p)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return fT.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,fT}var WH;function XRe(){return WH||(WH=1,AT.exports=WRe()),AT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XH;function YRe(){if(XH)return dT;XH=1;var e=Sx(),t=XRe();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return dT.useSyncExternalStoreWithSelector=function(u,d,f,h,p){var v=s(null);if(v.current===null){var g={hasValue:!1,value:null};v.current=g}else g=v.current;v=o(function(){function y(O){if(!_){if(_=!0,S=O,O=h(O),p!==void 0&&g.hasValue){var w=g.value;if(p(w,O))return B=w}return B=O}if(w=B,n(S,O))return w;var C=h(O);return p!==void 0&&p(w,C)?(S=O,w):(S=O,B=C)}var _=!1,S,B,k=f===void 0?null:f;return[function(){return y(d())},k===null?void 0:function(){return y(k())}]},[d,f,h,p]);var b=a(u,v[0],v[1]);return i(function(){g.hasValue=!0,g.value=b},[b]),l(b),b},dT}var YH;function JRe(){return YH||(YH=1,uT.exports=YRe()),uT.exports}var pre=JRe();const ZRe=hl(pre),eLe={},JH=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(v=>v(t,p))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(eLe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,l);return l},tLe=e=>e?JH(e):JH,{useDebugValue:rLe}=ut,{useSyncExternalStoreWithSelector:nLe}=ZRe,aLe=e=>e;function gre(e,t=aLe,r){const n=nLe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return rLe(n),n}const ZH=(e,t)=>{const r=tLe(e),n=(a,s=t)=>gre(r,a,s);return Object.assign(n,r),n},sLe=(e,t)=>e?ZH(e,t):ZH;function qo(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var iLe={value:()=>{}};function BN(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new XC(r)}function XC(e){this._=e}function oLe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}XC.prototype=BN.prototype={constructor:XC,on:function(e,t){var r=this._,n=oLe(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=lLe(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=eV(r[a],e.name,t);else if(t==null)for(a in r)r[a]=eV(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new XC(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function lLe(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function eV(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=iLe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var aF="http://www.w3.org/1999/xhtml";const tV={svg:"http://www.w3.org/2000/svg",xhtml:aF,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function TN(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),tV.hasOwnProperty(t)?{space:tV[t],local:e}:e}function cLe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===aF&&t.documentElement.namespaceURI===aF?t.createElement(e):t.createElementNS(r,e)}}function uLe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vre(e){var t=TN(e);return(t.local?uLe:cLe)(t)}function dLe(){}function qD(e){return e==null?dLe:function(){return this.querySelector(e)}}function ALe(e){typeof e!="function"&&(e=qD(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=new Array(i),l,u,d=0;d<i;++d)(l=s[d])&&(u=e.call(l,l.__data__,d,s))&&("__data__"in l&&(u.__data__=l.__data__),o[d]=u);return new Nc(n,this._parents)}function fLe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function hLe(){return[]}function xre(e){return e==null?hLe:function(){return this.querySelectorAll(e)}}function mLe(e){return function(){return fLe(e.apply(this,arguments))}}function pLe(e){typeof e=="function"?e=mLe(e):e=xre(e);for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var i=t[s],o=i.length,l,u=0;u<o;++u)(l=i[u])&&(n.push(e.call(l,l.__data__,u,i)),a.push(l));return new Nc(n,a)}function bre(e){return function(){return this.matches(e)}}function yre(e){return function(t){return t.matches(e)}}var gLe=Array.prototype.find;function vLe(e){return function(){return gLe.call(this.children,e)}}function xLe(){return this.firstElementChild}function bLe(e){return this.select(e==null?xLe:vLe(typeof e=="function"?e:yre(e)))}var yLe=Array.prototype.filter;function wLe(){return Array.from(this.children)}function ELe(e){return function(){return yLe.call(this.children,e)}}function CLe(e){return this.selectAll(e==null?wLe:ELe(typeof e=="function"?e:yre(e)))}function _Le(e){typeof e!="function"&&(e=bre(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new Nc(n,this._parents)}function wre(e){return new Array(e.length)}function SLe(){return new Nc(this._enter||this._groups.map(wre),this._parents)}function pS(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}pS.prototype={constructor:pS,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function NLe(e){return function(){return e}}function kLe(e,t,r,n,a,s){for(var i=0,o,l=t.length,u=s.length;i<u;++i)(o=t[i])?(o.__data__=s[i],n[i]=o):r[i]=new pS(e,s[i]);for(;i<l;++i)(o=t[i])&&(a[i]=o)}function BLe(e,t,r,n,a,s,i){var o,l,u=new Map,d=t.length,f=s.length,h=new Array(d),p;for(o=0;o<d;++o)(l=t[o])&&(h[o]=p=i.call(l,l.__data__,o,t)+"",u.has(p)?a[o]=l:u.set(p,l));for(o=0;o<f;++o)p=i.call(e,s[o],o,s)+"",(l=u.get(p))?(n[o]=l,l.__data__=s[o],u.delete(p)):r[o]=new pS(e,s[o]);for(o=0;o<d;++o)(l=t[o])&&u.get(h[o])===l&&(a[o]=l)}function TLe(e){return e.__data__}function ILe(e,t){if(!arguments.length)return Array.from(this,TLe);var r=t?BLe:kLe,n=this._parents,a=this._groups;typeof e!="function"&&(e=NLe(e));for(var s=a.length,i=new Array(s),o=new Array(s),l=new Array(s),u=0;u<s;++u){var d=n[u],f=a[u],h=f.length,p=jLe(e.call(d,d&&d.__data__,u,n)),v=p.length,g=o[u]=new Array(v),b=i[u]=new Array(v),y=l[u]=new Array(h);r(d,f,g,b,y,p,t);for(var _=0,S=0,B,k;_<v;++_)if(B=g[_]){for(_>=S&&(S=_+1);!(k=b[S])&&++S<v;);B._next=k||null}}return i=new Nc(i,n),i._enter=o,i._exit=l,i}function jLe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FLe(){return new Nc(this._exit||this._groups.map(wre),this._parents)}function OLe(e,t,r){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}function DLe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,s=n.length,i=Math.min(a,s),o=new Array(a),l=0;l<i;++l)for(var u=r[l],d=n[l],f=u.length,h=o[l]=new Array(f),p,v=0;v<f;++v)(p=u[v]||d[v])&&(h[v]=p);for(;l<a;++l)o[l]=r[l];return new Nc(o,this._parents)}function PLe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],i;--a>=0;)(i=n[a])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function RLe(e){e||(e=LLe);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var i=r[s],o=i.length,l=a[s]=new Array(o),u,d=0;d<o;++d)(u=i[d])&&(l[d]=u);l.sort(t)}return new Nc(a,this._parents).order()}function LLe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function MLe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ULe(){return Array.from(this)}function QLe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var i=n[a];if(i)return i}return null}function HLe(){let e=0;for(const t of this)++e;return e}function VLe(){return!this.node()}function zLe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,i=a.length,o;s<i;++s)(o=a[s])&&e.call(o,o.__data__,s,a);return this}function $Le(e){return function(){this.removeAttribute(e)}}function KLe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GLe(e,t){return function(){this.setAttribute(e,t)}}function qLe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function WLe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function XLe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function YLe(e,t){var r=TN(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?KLe:$Le:typeof t=="function"?r.local?XLe:WLe:r.local?qLe:GLe)(r,t))}function Ere(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function JLe(e){return function(){this.style.removeProperty(e)}}function ZLe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function e8e(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function t8e(e,t,r){return arguments.length>1?this.each((t==null?JLe:typeof t=="function"?e8e:ZLe)(e,t,r??"")):cx(this.node(),e)}function cx(e,t){return e.style.getPropertyValue(t)||Ere(e).getComputedStyle(e,null).getPropertyValue(t)}function r8e(e){return function(){delete this[e]}}function n8e(e,t){return function(){this[e]=t}}function a8e(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function s8e(e,t){return arguments.length>1?this.each((t==null?r8e:typeof t=="function"?a8e:n8e)(e,t)):this.node()[e]}function Cre(e){return e.trim().split(/^|\s+/)}function WD(e){return e.classList||new _re(e)}function _re(e){this._node=e,this._names=Cre(e.getAttribute("class")||"")}_re.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Sre(e,t){for(var r=WD(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function Nre(e,t){for(var r=WD(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function i8e(e){return function(){Sre(this,e)}}function o8e(e){return function(){Nre(this,e)}}function l8e(e,t){return function(){(t.apply(this,arguments)?Sre:Nre)(this,e)}}function c8e(e,t){var r=Cre(e+"");if(arguments.length<2){for(var n=WD(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?l8e:t?i8e:o8e)(r,t))}function u8e(){this.textContent=""}function d8e(e){return function(){this.textContent=e}}function A8e(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function f8e(e){return arguments.length?this.each(e==null?u8e:(typeof e=="function"?A8e:d8e)(e)):this.node().textContent}function h8e(){this.innerHTML=""}function m8e(e){return function(){this.innerHTML=e}}function p8e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function g8e(e){return arguments.length?this.each(e==null?h8e:(typeof e=="function"?p8e:m8e)(e)):this.node().innerHTML}function v8e(){this.nextSibling&&this.parentNode.appendChild(this)}function x8e(){return this.each(v8e)}function b8e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function y8e(){return this.each(b8e)}function w8e(e){var t=typeof e=="function"?e:vre(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function E8e(){return null}function C8e(e,t){var r=typeof e=="function"?e:vre(e),n=t==null?E8e:typeof t=="function"?t:qD(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function _8e(){var e=this.parentNode;e&&e.removeChild(this)}function S8e(){return this.each(_8e)}function N8e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function k8e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function B8e(e){return this.select(e?k8e:N8e)}function T8e(e){return arguments.length?this.property("__data__",e):this.node().__data__}function I8e(e){return function(t){e.call(this,t,this.__data__)}}function j8e(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function F8e(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function O8e(e,t,r){return function(){var n=this.__on,a,s=I8e(t);if(n){for(var i=0,o=n.length;i<o;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=r),a.value=t;return}}this.addEventListener(e.type,s,r),a={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(a):this.__on=[a]}}function D8e(e,t,r){var n=j8e(e+""),a,s=n.length,i;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,d;l<u;++l)for(a=0,d=o[l];a<s;++a)if((i=n[a]).type===d.type&&i.name===d.name)return d.value}return}for(o=t?O8e:F8e,a=0;a<s;++a)this.each(o(n[a],t,r));return this}function kre(e,t,r){var n=Ere(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function P8e(e,t){return function(){return kre(this,e,t)}}function R8e(e,t){return function(){return kre(this,e,t.apply(this,arguments))}}function L8e(e,t){return this.each((typeof t=="function"?R8e:P8e)(e,t))}function*M8e(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,i;a<s;++a)(i=n[a])&&(yield i)}var Bre=[null];function Nc(e,t){this._groups=e,this._parents=t}function Pw(){return new Nc([[document.documentElement]],Bre)}function U8e(){return this}Nc.prototype=Pw.prototype={constructor:Nc,select:ALe,selectAll:pLe,selectChild:bLe,selectChildren:CLe,filter:_Le,data:ILe,enter:SLe,exit:FLe,join:OLe,merge:DLe,selection:U8e,order:PLe,sort:RLe,call:MLe,nodes:ULe,node:QLe,size:HLe,empty:VLe,each:zLe,attr:YLe,style:t8e,property:s8e,classed:c8e,text:f8e,html:g8e,raise:x8e,lower:y8e,append:w8e,insert:C8e,remove:S8e,clone:B8e,datum:T8e,on:D8e,dispatch:L8e,[Symbol.iterator]:M8e};function pu(e){return typeof e=="string"?new Nc([[document.querySelector(e)]],[document.documentElement]):new Nc([[e]],Bre)}function Q8e(e){let t;for(;t=e.sourceEvent;)e=t;return e}function iA(e,t){if(e=Q8e(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const H8e={passive:!1},Vy={capture:!0,passive:!1};function hT(e){e.stopImmediatePropagation()}function Qv(e){e.preventDefault(),e.stopImmediatePropagation()}function Tre(e){var t=e.document.documentElement,r=pu(e).on("dragstart.drag",Qv,Vy);"onselectstart"in t?r.on("selectstart.drag",Qv,Vy):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ire(e,t){var r=e.document.documentElement,n=pu(e).on("dragstart.drag",null);t&&(n.on("click.drag",Qv,Vy),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const JE=e=>()=>e;function sF(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:s,x:i,y:o,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}sF.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function V8e(e){return!e.ctrlKey&&!e.button}function z8e(){return this.parentNode}function $8e(e,t){return t??{x:e.x,y:e.y}}function K8e(){return navigator.maxTouchPoints||"ontouchstart"in this}function G8e(){var e=V8e,t=z8e,r=$8e,n=K8e,a={},s=BN("start","drag","end"),i=0,o,l,u,d,f=0;function h(B){B.on("mousedown.drag",p).filter(n).on("touchstart.drag",b).on("touchmove.drag",y,H8e).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(B,k){if(!(d||!e.call(this,B,k))){var O=S(this,t.call(this,B,k),B,k,"mouse");O&&(pu(B.view).on("mousemove.drag",v,Vy).on("mouseup.drag",g,Vy),Tre(B.view),hT(B),u=!1,o=B.clientX,l=B.clientY,O("start",B))}}function v(B){if(Qv(B),!u){var k=B.clientX-o,O=B.clientY-l;u=k*k+O*O>f}a.mouse("drag",B)}function g(B){pu(B.view).on("mousemove.drag mouseup.drag",null),Ire(B.view,u),Qv(B),a.mouse("end",B)}function b(B,k){if(e.call(this,B,k)){var O=B.changedTouches,w=t.call(this,B,k),C=O.length,N,P;for(N=0;N<C;++N)(P=S(this,w,B,k,O[N].identifier,O[N]))&&(hT(B),P("start",B,O[N]))}}function y(B){var k=B.changedTouches,O=k.length,w,C;for(w=0;w<O;++w)(C=a[k[w].identifier])&&(Qv(B),C("drag",B,k[w]))}function _(B){var k=B.changedTouches,O=k.length,w,C;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),w=0;w<O;++w)(C=a[k[w].identifier])&&(hT(B),C("end",B,k[w]))}function S(B,k,O,w,C,N){var P=s.copy(),j=iA(N||O,k),F,M,Q;if((Q=r.call(B,new sF("beforestart",{sourceEvent:O,target:h,identifier:C,active:i,x:j[0],y:j[1],dx:0,dy:0,dispatch:P}),w))!=null)return F=Q.x-j[0]||0,M=Q.y-j[1]||0,function J(q,Z,H){var V=j,G;switch(q){case"start":a[C]=J,G=i++;break;case"end":delete a[C],--i;case"drag":j=iA(H||Z,k),G=i;break}P.call(q,B,new sF(q,{sourceEvent:Z,subject:Q,target:h,identifier:C,active:G,x:j[0]+F,y:j[1]+M,dx:j[0]-V[0],dy:j[1]-V[1],dispatch:P}),w)}}return h.filter=function(B){return arguments.length?(e=typeof B=="function"?B:JE(!!B),h):e},h.container=function(B){return arguments.length?(t=typeof B=="function"?B:JE(B),h):t},h.subject=function(B){return arguments.length?(r=typeof B=="function"?B:JE(B),h):r},h.touchable=function(B){return arguments.length?(n=typeof B=="function"?B:JE(!!B),h):n},h.on=function(){var B=s.on.apply(s,arguments);return B===s?h:B},h.clickDistance=function(B){return arguments.length?(f=(B=+B)*B,h):Math.sqrt(f)},h}function XD(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jre(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Rw(){}var zy=.7,gS=1/zy,Hv="\\s*([+-]?\\d+)\\s*",$y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",NA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q8e=/^#([0-9a-f]{3,8})$/,W8e=new RegExp(`^rgb\\(${Hv},${Hv},${Hv}\\)$`),X8e=new RegExp(`^rgb\\(${NA},${NA},${NA}\\)$`),Y8e=new RegExp(`^rgba\\(${Hv},${Hv},${Hv},${$y}\\)$`),J8e=new RegExp(`^rgba\\(${NA},${NA},${NA},${$y}\\)$`),Z8e=new RegExp(`^hsl\\(${$y},${NA},${NA}\\)$`),eMe=new RegExp(`^hsla\\(${$y},${NA},${NA},${$y}\\)$`),rV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XD(Rw,Fp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nV,formatHex:nV,formatHex8:tMe,formatHsl:rMe,formatRgb:aV,toString:aV});function nV(){return this.rgb().formatHex()}function tMe(){return this.rgb().formatHex8()}function rMe(){return Fre(this).formatHsl()}function aV(){return this.rgb().formatRgb()}function Fp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=q8e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?sV(t):r===3?new Ml(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ZE(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ZE(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=W8e.exec(e))?new Ml(t[1],t[2],t[3],1):(t=X8e.exec(e))?new Ml(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Y8e.exec(e))?ZE(t[1],t[2],t[3],t[4]):(t=J8e.exec(e))?ZE(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Z8e.exec(e))?lV(t[1],t[2]/100,t[3]/100,1):(t=eMe.exec(e))?lV(t[1],t[2]/100,t[3]/100,t[4]):rV.hasOwnProperty(e)?sV(rV[e]):e==="transparent"?new Ml(NaN,NaN,NaN,0):null}function sV(e){return new Ml(e>>16&255,e>>8&255,e&255,1)}function ZE(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ml(e,t,r,n)}function nMe(e){return e instanceof Rw||(e=Fp(e)),e?(e=e.rgb(),new Ml(e.r,e.g,e.b,e.opacity)):new Ml}function iF(e,t,r,n){return arguments.length===1?nMe(e):new Ml(e,t,r,n??1)}function Ml(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}XD(Ml,iF,jre(Rw,{brighter(e){return e=e==null?gS:Math.pow(gS,e),new Ml(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zy:Math.pow(zy,e),new Ml(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ml(hp(this.r),hp(this.g),hp(this.b),vS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iV,formatHex:iV,formatHex8:aMe,formatRgb:oV,toString:oV}));function iV(){return`#${Xm(this.r)}${Xm(this.g)}${Xm(this.b)}`}function aMe(){return`#${Xm(this.r)}${Xm(this.g)}${Xm(this.b)}${Xm((isNaN(this.opacity)?1:this.opacity)*255)}`}function oV(){const e=vS(this.opacity);return`${e===1?"rgb(":"rgba("}${hp(this.r)}, ${hp(this.g)}, ${hp(this.b)}${e===1?")":`, ${e})`}`}function vS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xm(e){return e=hp(e),(e<16?"0":"")+e.toString(16)}function lV(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new id(e,t,r,n)}function Fre(e){if(e instanceof id)return new id(e.h,e.s,e.l,e.opacity);if(e instanceof Rw||(e=Fp(e)),!e)return new id;if(e instanceof id)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new id(i,o,l,e.opacity)}function sMe(e,t,r,n){return arguments.length===1?Fre(e):new id(e,t,r,n??1)}function id(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}XD(id,sMe,jre(Rw,{brighter(e){return e=e==null?gS:Math.pow(gS,e),new id(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zy:Math.pow(zy,e),new id(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ml(mT(e>=240?e-240:e+120,a,n),mT(e,a,n),mT(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new id(cV(this.h),eC(this.s),eC(this.l),vS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vS(this.opacity);return`${e===1?"hsl(":"hsla("}${cV(this.h)}, ${eC(this.s)*100}%, ${eC(this.l)*100}%${e===1?")":`, ${e})`}`}}));function cV(e){return e=(e||0)%360,e<0?e+360:e}function eC(e){return Math.max(0,Math.min(1,e||0))}function mT(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const YD=e=>()=>e;function iMe(e,t){return function(r){return e+r*t}}function oMe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function lMe(e){return(e=+e)==1?Ore:function(t,r){return r-t?oMe(t,r,e):YD(isNaN(t)?r:t)}}function Ore(e,t){var r=t-e;return r?iMe(e,r):YD(isNaN(e)?t:e)}const xS=function e(t){var r=lMe(t);function n(a,s){var i=r((a=iF(a)).r,(s=iF(s)).r),o=r(a.g,s.g),l=r(a.b,s.b),u=Ore(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=o(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function cMe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function uMe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dMe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Ux(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(o){for(i=0;i<n;++i)s[i]=a[i](o);return s}}function AMe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fMe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ux(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var oF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pT=new RegExp(oF.source,"g");function hMe(e){return function(){return e}}function mMe(e){return function(t){return e(t)+""}}function Dre(e,t){var r=oF.lastIndex=pT.lastIndex=0,n,a,s,i=-1,o=[],l=[];for(e=e+"",t=t+"";(n=oF.exec(e))&&(a=pT.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,l.push({i,x:sd(n,a)})),r=pT.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?l[0]?mMe(l[0].x):hMe(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function Ux(e,t){var r=typeof t,n;return t==null||r==="boolean"?YD(t):(r==="number"?sd:r==="string"?(n=Fp(t))?(t=n,xS):Dre:t instanceof Fp?xS:t instanceof Date?AMe:uMe(t)?cMe:Array.isArray(t)?dMe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fMe:sd)(e,t)}function JD(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var uV=180/Math.PI,lF={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pre(e,t,r,n,a,s){var i,o,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,i=-i),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*uV,skewX:Math.atan(l)*uV,scaleX:i,scaleY:o}}var tC;function pMe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?lF:Pre(t.a,t.b,t.c,t.d,t.e,t.f)}function gMe(e){return e==null||(tC||(tC=document.createElementNS("http://www.w3.org/2000/svg","g")),tC.setAttribute("transform",e),!(e=tC.transform.baseVal.consolidate()))?lF:(e=e.matrix,Pre(e.a,e.b,e.c,e.d,e.e,e.f))}function Rre(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,h,p,v){if(u!==f||d!==h){var g=p.push("translate(",null,t,null,r);v.push({i:g-4,x:sd(u,f)},{i:g-2,x:sd(d,h)})}else(f||h)&&p.push("translate("+f+t+h+r)}function i(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,n)-2,x:sd(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function o(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,n)-2,x:sd(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function l(u,d,f,h,p,v){if(u!==f||d!==h){var g=p.push(a(p)+"scale(",null,",",null,")");v.push({i:g-4,x:sd(u,f)},{i:g-2,x:sd(d,h)})}else(f!==1||h!==1)&&p.push(a(p)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,h),i(u.rotate,d.rotate,f,h),o(u.skewX,d.skewX,f,h),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(p){for(var v=-1,g=h.length,b;++v<g;)f[(b=h[v]).i]=b.x(p);return f.join("")}}}var vMe=Rre(pMe,"px, ","px)","deg)"),xMe=Rre(gMe,", ",")",")"),bMe=1e-12;function dV(e){return((e=Math.exp(e))+1/e)/2}function yMe(e){return((e=Math.exp(e))-1/e)/2}function wMe(e){return((e=Math.exp(2*e))-1)/(e+1)}const EMe=function e(t,r,n){function a(s,i){var o=s[0],l=s[1],u=s[2],d=i[0],f=i[1],h=i[2],p=d-o,v=f-l,g=p*p+v*v,b,y;if(g<bMe)y=Math.log(h/u)/t,b=function(w){return[o+w*p,l+w*v,u*Math.exp(t*w*y)]};else{var _=Math.sqrt(g),S=(h*h-u*u+n*g)/(2*u*r*_),B=(h*h-u*u-n*g)/(2*h*r*_),k=Math.log(Math.sqrt(S*S+1)-S),O=Math.log(Math.sqrt(B*B+1)-B);y=(O-k)/t,b=function(w){var C=w*y,N=dV(k),P=u/(r*_)*(N*wMe(t*C+k)-yMe(k));return[o+P*p,l+P*v,u*N/dV(t*C+k)]}}return b.duration=y*1e3*t/Math.SQRT2,b}return a.rho=function(s){var i=Math.max(.001,+s),o=i*i,l=o*o;return e(i,o,l)},a}(Math.SQRT2,2,4);function CMe(e,t){t===void 0&&(t=e,e=Ux);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var o=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[o](i-o)}}var ux=0,Fb=0,J1=0,Lre=1e3,bS,Ob,yS=0,Op=0,IN=0,Ky=typeof performance=="object"&&performance.now?performance:Date,Mre=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ZD(){return Op||(Mre(_Me),Op=Ky.now()+IN)}function _Me(){Op=0}function wS(){this._call=this._time=this._next=null}wS.prototype=Ure.prototype={constructor:wS,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?ZD():+r)+(t==null?0:+t),!this._next&&Ob!==this&&(Ob?Ob._next=this:bS=this,Ob=this),this._call=e,this._time=r,cF()},stop:function(){this._call&&(this._call=null,this._time=1/0,cF())}};function Ure(e,t,r){var n=new wS;return n.restart(e,t,r),n}function SMe(){ZD(),++ux;for(var e=bS,t;e;)(t=Op-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ux}function AV(){Op=(yS=Ky.now())+IN,ux=Fb=0;try{SMe()}finally{ux=0,kMe(),Op=0}}function NMe(){var e=Ky.now(),t=e-yS;t>Lre&&(IN-=t,yS=e)}function kMe(){for(var e,t=bS,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:bS=r);Ob=e,cF(n)}function cF(e){if(!ux){Fb&&(Fb=clearTimeout(Fb));var t=e-Op;t>24?(e<1/0&&(Fb=setTimeout(AV,e-Ky.now()-IN)),J1&&(J1=clearInterval(J1))):(J1||(yS=Ky.now(),J1=setInterval(NMe,Lre)),ux=1,Mre(AV))}}function fV(e,t,r){var n=new wS;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var BMe=BN("start","end","cancel","interrupt"),TMe=[],Qre=0,hV=1,uF=2,YC=3,mV=4,dF=5,JC=6;function jN(e,t,r,n,a,s){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;IMe(e,r,{name:t,index:n,group:a,on:BMe,tween:TMe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Qre})}function eP(e,t){var r=yd(e,t);if(r.state>Qre)throw new Error("too late; already scheduled");return r}function MA(e,t){var r=yd(e,t);if(r.state>YC)throw new Error("too late; already running");return r}function yd(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function IMe(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=Ure(s,0,r.time);function s(u){r.state=hV,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var d,f,h,p;if(r.state!==hV)return l();for(d in n)if(p=n[d],p.name===r.name){if(p.state===YC)return fV(i);p.state===mV?(p.state=JC,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[d]):+d<t&&(p.state=JC,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[d])}if(fV(function(){r.state===YC&&(r.state=mV,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=uF,r.on.call("start",e,e.__data__,r.index,r.group),r.state===uF){for(r.state=YC,a=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(p=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=p);a.length=f+1}}function o(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=dF,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);r.state===dF&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=JC,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function ZC(e,t){var r=e.__transition,n,a,s=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){s=!1;continue}a=n.state>uF&&n.state<dF,n.state=JC,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}s&&delete e.__transition}}function jMe(e){return this.each(function(){ZC(this,e)})}function FMe(e,t){var r,n;return function(){var a=MA(this,e),s=a.tween;if(s!==r){n=r=s;for(var i=0,o=n.length;i<o;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function OMe(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=MA(this,e),i=s.tween;if(i!==n){a=(n=i).slice();for(var o={name:t,value:r},l=0,u=a.length;l<u;++l)if(a[l].name===t){a[l]=o;break}l===u&&a.push(o)}s.tween=a}}function DMe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=yd(this.node(),r).tween,a=0,s=n.length,i;a<s;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?FMe:OMe)(r,e,t))}function tP(e,t,r){var n=e._id;return e.each(function(){var a=MA(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return yd(a,n).value[t]}}function Hre(e,t){var r;return(typeof t=="number"?sd:t instanceof Fp?xS:(r=Fp(t))?(t=r,xS):Dre)(e,t)}function PMe(e){return function(){this.removeAttribute(e)}}function RMe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function LMe(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttribute(e);return i===a?null:i===n?s:s=t(n=i,r)}}function MMe(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?s:s=t(n=i,r)}}function UMe(e,t,r){var n,a,s;return function(){var i,o=r(this),l;return o==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=o+"",i===l?null:i===n&&l===a?s:(a=l,s=t(n=i,o)))}}function QMe(e,t,r){var n,a,s;return function(){var i,o=r(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=o+"",i===l?null:i===n&&l===a?s:(a=l,s=t(n=i,o)))}}function HMe(e,t){var r=TN(e),n=r==="transform"?xMe:Hre;return this.attrTween(e,typeof t=="function"?(r.local?QMe:UMe)(r,n,tP(this,"attr."+e,t)):t==null?(r.local?RMe:PMe)(r):(r.local?MMe:LMe)(r,n,t))}function VMe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function zMe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function $Me(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&zMe(e,s)),r}return a._value=t,a}function KMe(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&VMe(e,s)),r}return a._value=t,a}function GMe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=TN(e);return this.tween(r,(n.local?$Me:KMe)(n,t))}function qMe(e,t){return function(){eP(this,e).delay=+t.apply(this,arguments)}}function WMe(e,t){return t=+t,function(){eP(this,e).delay=t}}function XMe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?qMe:WMe)(t,e)):yd(this.node(),t).delay}function YMe(e,t){return function(){MA(this,e).duration=+t.apply(this,arguments)}}function JMe(e,t){return t=+t,function(){MA(this,e).duration=t}}function ZMe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?YMe:JMe)(t,e)):yd(this.node(),t).duration}function eUe(e,t){if(typeof t!="function")throw new Error;return function(){MA(this,e).ease=t}}function tUe(e){var t=this._id;return arguments.length?this.each(eUe(t,e)):yd(this.node(),t).ease}function rUe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;MA(this,e).ease=r}}function nUe(e){if(typeof e!="function")throw new Error;return this.each(rUe(this._id,e))}function aUe(e){typeof e!="function"&&(e=bre(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new Kf(n,this._parents,this._name,this._id)}function sUe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),i=new Array(n),o=0;o<s;++o)for(var l=t[o],u=r[o],d=l.length,f=i[o]=new Array(d),h,p=0;p<d;++p)(h=l[p]||u[p])&&(f[p]=h);for(;o<n;++o)i[o]=t[o];return new Kf(i,this._parents,this._name,this._id)}function iUe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function oUe(e,t,r){var n,a,s=iUe(t)?eP:MA;return function(){var i=s(this,e),o=i.on;o!==n&&(a=(n=o).copy()).on(t,r),i.on=a}}function lUe(e,t){var r=this._id;return arguments.length<2?yd(this.node(),r).on.on(e):this.each(oUe(r,e,t))}function cUe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function uUe(){return this.on("end.remove",cUe(this._id))}function dUe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=qD(e));for(var n=this._groups,a=n.length,s=new Array(a),i=0;i<a;++i)for(var o=n[i],l=o.length,u=s[i]=new Array(l),d,f,h=0;h<l;++h)(d=o[h])&&(f=e.call(d,d.__data__,h,o))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,jN(u[h],t,r,h,u,yd(d,r)));return new Kf(s,this._parents,t,r)}function AUe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=xre(e));for(var n=this._groups,a=n.length,s=[],i=[],o=0;o<a;++o)for(var l=n[o],u=l.length,d,f=0;f<u;++f)if(d=l[f]){for(var h=e.call(d,d.__data__,f,l),p,v=yd(d,r),g=0,b=h.length;g<b;++g)(p=h[g])&&jN(p,t,r,g,h,v);s.push(h),i.push(d)}return new Kf(s,i,t,r)}var fUe=Pw.prototype.constructor;function hUe(){return new fUe(this._groups,this._parents)}function mUe(e,t){var r,n,a;return function(){var s=cx(this,e),i=(this.style.removeProperty(e),cx(this,e));return s===i?null:s===r&&i===n?a:a=t(r=s,n=i)}}function Vre(e){return function(){this.style.removeProperty(e)}}function pUe(e,t,r){var n,a=r+"",s;return function(){var i=cx(this,e);return i===a?null:i===n?s:s=t(n=i,r)}}function gUe(e,t,r){var n,a,s;return function(){var i=cx(this,e),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),cx(this,e))),i===l?null:i===n&&l===a?s:(a=l,s=t(n=i,o))}}function vUe(e,t){var r,n,a,s="style."+t,i="end."+s,o;return function(){var l=MA(this,e),u=l.on,d=l.value[s]==null?o||(o=Vre(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(i,a=d),l.on=n}}function xUe(e,t,r){var n=(e+="")=="transform"?vMe:Hre;return t==null?this.styleTween(e,mUe(e,n)).on("end.style."+e,Vre(e)):typeof t=="function"?this.styleTween(e,gUe(e,n,tP(this,"style."+e,t))).each(vUe(this._id,e)):this.styleTween(e,pUe(e,n,t),r).on("end.style."+e,null)}function bUe(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function yUe(e,t,r){var n,a;function s(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&bUe(e,i,r)),n}return s._value=t,s}function wUe(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,yUe(e,t,r??""))}function EUe(e){return function(){this.textContent=e}}function CUe(e){return function(){var t=e(this);this.textContent=t??""}}function _Ue(e){return this.tween("text",typeof e=="function"?CUe(tP(this,"text",e)):EUe(e==null?"":e+""))}function SUe(e){return function(t){this.textContent=e.call(this,t)}}function NUe(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&SUe(a)),t}return n._value=e,n}function kUe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,NUe(e))}function BUe(){for(var e=this._name,t=this._id,r=zre(),n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],o=i.length,l,u=0;u<o;++u)if(l=i[u]){var d=yd(l,t);jN(l,e,r,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Kf(n,this._parents,e,r)}function TUe(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,i){var o={value:i},l={value:function(){--a===0&&s()}};r.each(function(){var u=MA(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),a===0&&s()})}var IUe=0;function Kf(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function zre(){return++IUe}var xf=Pw.prototype;Kf.prototype={constructor:Kf,select:dUe,selectAll:AUe,selectChild:xf.selectChild,selectChildren:xf.selectChildren,filter:aUe,merge:sUe,selection:hUe,transition:BUe,call:xf.call,nodes:xf.nodes,node:xf.node,size:xf.size,empty:xf.empty,each:xf.each,on:lUe,attr:HMe,attrTween:GMe,style:xUe,styleTween:wUe,text:_Ue,textTween:kUe,remove:uUe,tween:DMe,delay:XMe,duration:ZMe,ease:tUe,easeVarying:nUe,end:TUe,[Symbol.iterator]:xf[Symbol.iterator]};function jUe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var FUe={time:null,delay:0,duration:250,ease:jUe};function OUe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function DUe(e){var t,r;e instanceof Kf?(t=e._id,e=e._name):(t=zre(),(r=FUe).time=ZD(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],o=i.length,l,u=0;u<o;++u)(l=i[u])&&jN(l,e,t,u,i,r||OUe(l,t));return new Kf(n,this._parents,e,t)}Pw.prototype.interrupt=jMe;Pw.prototype.transition=DUe;const rC=e=>()=>e;function PUe(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function Nf(e,t,r){this.k=e,this.x=t,this.y=r}Nf.prototype={constructor:Nf,scale:function(e){return e===1?this:new Nf(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Nf(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var B0=new Nf(1,0,0);Nf.prototype;function gT(e){e.stopImmediatePropagation()}function Z1(e){e.preventDefault(),e.stopImmediatePropagation()}function RUe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function LUe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function pV(){return this.__zoom||B0}function MUe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function UUe(){return navigator.maxTouchPoints||"ontouchstart"in this}function QUe(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function HUe(){var e=RUe,t=LUe,r=QUe,n=MUe,a=UUe,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],o=250,l=EMe,u=BN("start","zoom","end"),d,f,h,p=500,v=150,g=0,b=10;function y(Q){Q.property("__zoom",pV).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",P).filter(a).on("touchstart.zoom",j).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(Q,J,q,Z){var H=Q.selection?Q.selection():Q;H.property("__zoom",pV),Q!==H?k(Q,J,q,Z):H.interrupt().each(function(){O(this,arguments).event(Z).start().zoom(null,typeof J=="function"?J.apply(this,arguments):J).end()})},y.scaleBy=function(Q,J,q,Z){y.scaleTo(Q,function(){var H=this.__zoom.k,V=typeof J=="function"?J.apply(this,arguments):J;return H*V},q,Z)},y.scaleTo=function(Q,J,q,Z){y.transform(Q,function(){var H=t.apply(this,arguments),V=this.__zoom,G=q==null?B(H):typeof q=="function"?q.apply(this,arguments):q,ne=V.invert(G),R=typeof J=="function"?J.apply(this,arguments):J;return r(S(_(V,R),G,ne),H,i)},q,Z)},y.translateBy=function(Q,J,q,Z){y.transform(Q,function(){return r(this.__zoom.translate(typeof J=="function"?J.apply(this,arguments):J,typeof q=="function"?q.apply(this,arguments):q),t.apply(this,arguments),i)},null,Z)},y.translateTo=function(Q,J,q,Z,H){y.transform(Q,function(){var V=t.apply(this,arguments),G=this.__zoom,ne=Z==null?B(V):typeof Z=="function"?Z.apply(this,arguments):Z;return r(B0.translate(ne[0],ne[1]).scale(G.k).translate(typeof J=="function"?-J.apply(this,arguments):-J,typeof q=="function"?-q.apply(this,arguments):-q),V,i)},Z,H)};function _(Q,J){return J=Math.max(s[0],Math.min(s[1],J)),J===Q.k?Q:new Nf(J,Q.x,Q.y)}function S(Q,J,q){var Z=J[0]-q[0]*Q.k,H=J[1]-q[1]*Q.k;return Z===Q.x&&H===Q.y?Q:new Nf(Q.k,Z,H)}function B(Q){return[(+Q[0][0]+ +Q[1][0])/2,(+Q[0][1]+ +Q[1][1])/2]}function k(Q,J,q,Z){Q.on("start.zoom",function(){O(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(Z).end()}).tween("zoom",function(){var H=this,V=arguments,G=O(H,V).event(Z),ne=t.apply(H,V),R=q==null?B(ne):typeof q=="function"?q.apply(H,V):q,W=Math.max(ne[1][0]-ne[0][0],ne[1][1]-ne[0][1]),Y=H.__zoom,te=typeof J=="function"?J.apply(H,V):J,ie=l(Y.invert(R).concat(W/Y.k),te.invert(R).concat(W/te.k));return function(me){if(me===1)me=te;else{var oe=ie(me),ce=W/oe[2];me=new Nf(ce,R[0]-oe[0]*ce,R[1]-oe[1]*ce)}G.zoom(null,me)}})}function O(Q,J,q){return!q&&Q.__zooming||new w(Q,J)}function w(Q,J){this.that=Q,this.args=J,this.active=0,this.sourceEvent=null,this.extent=t.apply(Q,J),this.taps=0}w.prototype={event:function(Q){return Q&&(this.sourceEvent=Q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Q,J){return this.mouse&&Q!=="mouse"&&(this.mouse[1]=J.invert(this.mouse[0])),this.touch0&&Q!=="touch"&&(this.touch0[1]=J.invert(this.touch0[0])),this.touch1&&Q!=="touch"&&(this.touch1[1]=J.invert(this.touch1[0])),this.that.__zoom=J,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Q){var J=pu(this.that).datum();u.call(Q,this.that,new PUe(Q,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),J)}};function C(Q,...J){if(!e.apply(this,arguments))return;var q=O(this,J).event(Q),Z=this.__zoom,H=Math.max(s[0],Math.min(s[1],Z.k*Math.pow(2,n.apply(this,arguments)))),V=iA(Q);if(q.wheel)(q.mouse[0][0]!==V[0]||q.mouse[0][1]!==V[1])&&(q.mouse[1]=Z.invert(q.mouse[0]=V)),clearTimeout(q.wheel);else{if(Z.k===H)return;q.mouse=[V,Z.invert(V)],ZC(this),q.start()}Z1(Q),q.wheel=setTimeout(G,v),q.zoom("mouse",r(S(_(Z,H),q.mouse[0],q.mouse[1]),q.extent,i));function G(){q.wheel=null,q.end()}}function N(Q,...J){if(h||!e.apply(this,arguments))return;var q=Q.currentTarget,Z=O(this,J,!0).event(Q),H=pu(Q.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",W,!0),V=iA(Q,q),G=Q.clientX,ne=Q.clientY;Tre(Q.view),gT(Q),Z.mouse=[V,this.__zoom.invert(V)],ZC(this),Z.start();function R(Y){if(Z1(Y),!Z.moved){var te=Y.clientX-G,ie=Y.clientY-ne;Z.moved=te*te+ie*ie>g}Z.event(Y).zoom("mouse",r(S(Z.that.__zoom,Z.mouse[0]=iA(Y,q),Z.mouse[1]),Z.extent,i))}function W(Y){H.on("mousemove.zoom mouseup.zoom",null),Ire(Y.view,Z.moved),Z1(Y),Z.event(Y).end()}}function P(Q,...J){if(e.apply(this,arguments)){var q=this.__zoom,Z=iA(Q.changedTouches?Q.changedTouches[0]:Q,this),H=q.invert(Z),V=q.k*(Q.shiftKey?.5:2),G=r(S(_(q,V),Z,H),t.apply(this,J),i);Z1(Q),o>0?pu(this).transition().duration(o).call(k,G,Z,Q):pu(this).call(y.transform,G,Z,Q)}}function j(Q,...J){if(e.apply(this,arguments)){var q=Q.touches,Z=q.length,H=O(this,J,Q.changedTouches.length===Z).event(Q),V,G,ne,R;for(gT(Q),G=0;G<Z;++G)ne=q[G],R=iA(ne,this),R=[R,this.__zoom.invert(R),ne.identifier],H.touch0?!H.touch1&&H.touch0[2]!==R[2]&&(H.touch1=R,H.taps=0):(H.touch0=R,V=!0,H.taps=1+!!d);d&&(d=clearTimeout(d)),V&&(H.taps<2&&(f=R[0],d=setTimeout(function(){d=null},p)),ZC(this),H.start())}}function F(Q,...J){if(this.__zooming){var q=O(this,J).event(Q),Z=Q.changedTouches,H=Z.length,V,G,ne,R;for(Z1(Q),V=0;V<H;++V)G=Z[V],ne=iA(G,this),q.touch0&&q.touch0[2]===G.identifier?q.touch0[0]=ne:q.touch1&&q.touch1[2]===G.identifier&&(q.touch1[0]=ne);if(G=q.that.__zoom,q.touch1){var W=q.touch0[0],Y=q.touch0[1],te=q.touch1[0],ie=q.touch1[1],me=(me=te[0]-W[0])*me+(me=te[1]-W[1])*me,oe=(oe=ie[0]-Y[0])*oe+(oe=ie[1]-Y[1])*oe;G=_(G,Math.sqrt(me/oe)),ne=[(W[0]+te[0])/2,(W[1]+te[1])/2],R=[(Y[0]+ie[0])/2,(Y[1]+ie[1])/2]}else if(q.touch0)ne=q.touch0[0],R=q.touch0[1];else return;q.zoom("touch",r(S(G,ne,R),q.extent,i))}}function M(Q,...J){if(this.__zooming){var q=O(this,J).event(Q),Z=Q.changedTouches,H=Z.length,V,G;for(gT(Q),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),V=0;V<H;++V)G=Z[V],q.touch0&&q.touch0[2]===G.identifier?delete q.touch0:q.touch1&&q.touch1[2]===G.identifier&&delete q.touch1;if(q.touch1&&!q.touch0&&(q.touch0=q.touch1,delete q.touch1),q.touch0)q.touch0[1]=this.__zoom.invert(q.touch0[0]);else if(q.end(),q.taps===2&&(G=iA(G,this),Math.hypot(f[0]-G[0],f[1]-G[1])<b)){var ne=pu(this).on("dblclick.zoom");ne&&ne.apply(this,arguments)}}}return y.wheelDelta=function(Q){return arguments.length?(n=typeof Q=="function"?Q:rC(+Q),y):n},y.filter=function(Q){return arguments.length?(e=typeof Q=="function"?Q:rC(!!Q),y):e},y.touchable=function(Q){return arguments.length?(a=typeof Q=="function"?Q:rC(!!Q),y):a},y.extent=function(Q){return arguments.length?(t=typeof Q=="function"?Q:rC([[+Q[0][0],+Q[0][1]],[+Q[1][0],+Q[1][1]]]),y):t},y.scaleExtent=function(Q){return arguments.length?(s[0]=+Q[0],s[1]=+Q[1],y):[s[0],s[1]]},y.translateExtent=function(Q){return arguments.length?(i[0][0]=+Q[0][0],i[1][0]=+Q[1][0],i[0][1]=+Q[0][1],i[1][1]=+Q[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(Q){return arguments.length?(r=Q,y):r},y.duration=function(Q){return arguments.length?(o=+Q,y):o},y.interpolate=function(Q){return arguments.length?(l=Q,y):l},y.on=function(){var Q=u.on.apply(u,arguments);return Q===u?y:Q},y.clickDistance=function(Q){return arguments.length?(g=(Q=+Q)*Q,y):Math.sqrt(g)},y.tapDistance=function(Q){return arguments.length?(b=+Q,y):b},y}var $re=Zq();const FN=I.createContext(null),VUe=FN.Provider,Gf={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Kre=Gf.error001();function ns(e,t){const r=I.useContext(FN);if(r===null)throw new Error(Kre);return gre(r,e,t)}const $i=()=>{const e=I.useContext(FN);if(e===null)throw new Error(Kre);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},zUe=e=>e.userSelectionActive?"none":"all";function Gre({position:e,children:t,className:r,style:n,...a}){const s=ns(zUe),i=`${e}`.split("-");return ut.createElement("div",{className:ml(["react-flow__panel",r,...i]),style:{...n,pointerEvents:s},...a},t)}function $Ue({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ut.createElement(Gre,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ut.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const KUe=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:a=!0,labelBgStyle:s={},labelBgPadding:i=[2,4],labelBgBorderRadius:o=2,children:l,className:u,...d})=>{const f=I.useRef(null),[h,p]=I.useState({x:0,y:0,width:0,height:0}),v=ml(["react-flow__edge-textwrapper",u]);return I.useEffect(()=>{if(f.current){const g=f.current.getBBox();p({x:g.x,y:g.y,width:g.width,height:g.height})}},[r]),typeof r>"u"||!r?null:ut.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:v,visibility:h.width?"visible":"hidden",...d},a&&ut.createElement("rect",{width:h.width+2*i[0],x:-i[0],y:-i[1],height:h.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:o,ry:o}),ut.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:n},r),l)};var GUe=I.memo(KUe);const rP=e=>({width:e.offsetWidth,height:e.offsetHeight}),dx=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),nP=(e={x:0,y:0},t)=>({x:dx(e.x,t[0][0],t[1][0]),y:dx(e.y,t[0][1],t[1][1])}),gV=(e,t,r)=>e<t?dx(Math.abs(e-t),1,50)/50:e>r?-dx(Math.abs(e-r),1,50)/50:0,qre=(e,t)=>{const r=gV(e.x,35,t.width-35)*20,n=gV(e.y,35,t.height-35)*20;return[r,n]},Wre=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},qUe=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),aP=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),WUe=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),vV=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),AF=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},XUe=e=>yu(e.width)&&yu(e.height)&&yu(e.x)&&yu(e.y),yu=e=>!isNaN(e)&&isFinite(e),bs=Symbol.for("internals"),Xre=["Enter"," ","Escape"],YUe=(e,t)=>{},JUe=e=>"nativeEvent"in e;function fF(e){var a,s;const t=JUe(e)?e.nativeEvent:e,r=((s=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const Yre=e=>"clientX"in e,T0=(e,t)=>{var s,i;const r=Yre(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},ES=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Lw=({id:e,path:t,labelX:r,labelY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p=20})=>ut.createElement(ut.Fragment,null,ut.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&ut.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),a&&yu(r)&&yu(n)?ut.createElement(GUe,{x:r,y:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null);Lw.displayName="BaseEdge";function eb(e,t,r){return r===void 0?r:n=>{const a=t().edges.find(s=>s.id===e);a&&r(n,{...a})}}function Jre({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,s=r<e?r+a:r-a,i=Math.abs(n-t)/2,o=n<t?n+i:n-i;return[s,o,a,i]}function Zre({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:s,targetControlX:i,targetControlY:o}){const l=e*.125+a*.375+i*.375+r*.125,u=t*.125+s*.375+o*.375+n*.125,d=Math.abs(l-e),f=Math.abs(u-t);return[l,u,d,f]}var Dp;(function(e){e.Strict="strict",e.Loose="loose"})(Dp||(Dp={}));var Ym;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ym||(Ym={}));var Gy;(function(e){e.Partial="partial",e.Full="full"})(Gy||(Gy={}));var d0;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(d0||(d0={}));var CS;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(CS||(CS={}));var br;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(br||(br={}));function xV({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===br.Left||e===br.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function ene({sourceX:e,sourceY:t,sourcePosition:r=br.Bottom,targetX:n,targetY:a,targetPosition:s=br.Top}){const[i,o]=xV({pos:r,x1:e,y1:t,x2:n,y2:a}),[l,u]=xV({pos:s,x1:n,y1:a,x2:e,y2:t}),[d,f,h,p]=Zre({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:o,targetControlX:l,targetControlY:u});return[`M${e},${t} C${i},${o} ${l},${u} ${n},${a}`,d,f,h,p]}const sP=I.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=br.Bottom,targetPosition:s=br.Top,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:g})=>{const[b,y,_]=ene({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:s});return ut.createElement(Lw,{path:b,labelX:y,labelY:_,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:g})});sP.displayName="SimpleBezierEdge";const bV={[br.Left]:{x:-1,y:0},[br.Right]:{x:1,y:0},[br.Top]:{x:0,y:-1},[br.Bottom]:{x:0,y:1}},ZUe=({source:e,sourcePosition:t=br.Bottom,target:r})=>t===br.Left||t===br.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},yV=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function e7e({source:e,sourcePosition:t=br.Bottom,target:r,targetPosition:n=br.Top,center:a,offset:s}){const i=bV[t],o=bV[n],l={x:e.x+i.x*s,y:e.y+i.y*s},u={x:r.x+o.x*s,y:r.y+o.y*s},d=ZUe({source:l,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let p=[],v,g;const b={x:0,y:0},y={x:0,y:0},[_,S,B,k]=Jre({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(i[f]*o[f]===-1){v=a.x??_,g=a.y??S;const w=[{x:v,y:l.y},{x:v,y:u.y}],C=[{x:l.x,y:g},{x:u.x,y:g}];i[f]===h?p=f==="x"?w:C:p=f==="x"?C:w}else{const w=[{x:l.x,y:u.y}],C=[{x:u.x,y:l.y}];if(f==="x"?p=i.x===h?C:w:p=i.y===h?w:C,t===n){const M=Math.abs(e[f]-r[f]);if(M<=s){const Q=Math.min(s-1,s-M);i[f]===h?b[f]=(l[f]>e[f]?-1:1)*Q:y[f]=(u[f]>r[f]?-1:1)*Q}}if(t!==n){const M=f==="x"?"y":"x",Q=i[f]===o[M],J=l[M]>u[M],q=l[M]<u[M];(i[f]===1&&(!Q&&J||Q&&q)||i[f]!==1&&(!Q&&q||Q&&J))&&(p=f==="x"?w:C)}const N={x:l.x+b.x,y:l.y+b.y},P={x:u.x+y.x,y:u.y+y.y},j=Math.max(Math.abs(N.x-p[0].x),Math.abs(P.x-p[0].x)),F=Math.max(Math.abs(N.y-p[0].y),Math.abs(P.y-p[0].y));j>=F?(v=(N.x+P.x)/2,g=p[0].y):(v=p[0].x,g=(N.y+P.y)/2)}return[[e,{x:l.x+b.x,y:l.y+b.y},...p,{x:u.x+y.x,y:u.y+y.y},r],v,g,B,k]}function t7e(e,t,r,n){const a=Math.min(yV(e,t)/2,yV(t,r)/2,n),{x:s,y:i}=t;if(e.x===s&&s===r.x||e.y===i&&i===r.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${s+a*u},${i}Q ${s},${i} ${s},${i+a*d}`}const o=e.x<r.x?1:-1,l=e.y<r.y?-1:1;return`L ${s},${i+a*l}Q ${s},${i} ${s+a*o},${i}`}function hF({sourceX:e,sourceY:t,sourcePosition:r=br.Bottom,targetX:n,targetY:a,targetPosition:s=br.Top,borderRadius:i=5,centerX:o,centerY:l,offset:u=20}){const[d,f,h,p,v]=e7e({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:s,center:{x:o,y:l},offset:u});return[d.reduce((b,y,_)=>{let S="";return _>0&&_<d.length-1?S=t7e(d[_-1],y,d[_+1],i):S=`${_===0?"M":"L"}${y.x} ${y.y}`,b+=S,b},""),f,h,p,v]}const ON=I.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,sourcePosition:f=br.Bottom,targetPosition:h=br.Top,markerEnd:p,markerStart:v,pathOptions:g,interactionWidth:b})=>{const[y,_,S]=hF({sourceX:e,sourceY:t,sourcePosition:f,targetX:r,targetY:n,targetPosition:h,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return ut.createElement(Lw,{path:y,labelX:_,labelY:S,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:v,interactionWidth:b})});ON.displayName="SmoothStepEdge";const iP=I.memo(e=>{var t;return ut.createElement(ON,{...e,pathOptions:I.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});iP.displayName="StepEdge";function r7e({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,s,i,o]=Jre({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,s,i,o]}const oP=I.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[v,g,b]=r7e({sourceX:e,sourceY:t,targetX:r,targetY:n});return ut.createElement(Lw,{path:v,labelX:g,labelY:b,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p})});oP.displayName="StraightEdge";function nC(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function wV({pos:e,x1:t,y1:r,x2:n,y2:a,c:s}){switch(e){case br.Left:return[t-nC(t-n,s),r];case br.Right:return[t+nC(n-t,s),r];case br.Top:return[t,r-nC(r-a,s)];case br.Bottom:return[t,r+nC(a-r,s)]}}function tne({sourceX:e,sourceY:t,sourcePosition:r=br.Bottom,targetX:n,targetY:a,targetPosition:s=br.Top,curvature:i=.25}){const[o,l]=wV({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[u,d]=wV({pos:s,x1:n,y1:a,x2:e,y2:t,c:i}),[f,h,p,v]=Zre({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${l} ${u},${d} ${n},${a}`,f,h,p,v]}const _S=I.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=br.Bottom,targetPosition:s=br.Top,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,pathOptions:g,interactionWidth:b})=>{const[y,_,S]=tne({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:s,curvature:g==null?void 0:g.curvature});return ut.createElement(Lw,{path:y,labelX:_,labelY:S,label:i,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:b})});_S.displayName="BezierEdge";const lP=I.createContext(null),n7e=lP.Provider;lP.Consumer;const a7e=()=>I.useContext(lP),s7e=e=>"id"in e&&"source"in e&&"target"in e,i7e=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,mF=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,o7e=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),l7e=(e,t)=>{if(!e.source||!e.target)return t;let r;return s7e(e)?r={...e}:r={...e,id:i7e(e)},o7e(r,t)?t:t.concat(r)},pF=({x:e,y:t},[r,n,a],s,[i,o])=>{const l={x:(e-r)/a,y:(t-n)/a};return s?{x:i*Math.round(l.x/i),y:o*Math.round(l.y/o)}:l},rne=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n}),Vv=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],a={x:e.position.x-r,y:e.position.y-n};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:a}},cP=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const{x:s,y:i}=Vv(a,t).positionAbsolute;return qUe(n,aP({x:s,y:i,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return WUe(r)},nne=(e,t,[r,n,a]=[0,0,1],s=!1,i=!1,o=[0,0])=>{const l={x:(t.x-r)/a,y:(t.y-n)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:p=!0,hidden:v=!1}=d;if(i&&!p||v)return!1;const{positionAbsolute:g}=Vv(d,o),b={x:g.x,y:g.y,width:f||0,height:h||0},y=AF(l,b),_=typeof f>"u"||typeof h>"u"||f===null||h===null,S=s&&y>0,B=(f||0)*(h||0);(_||S||y>=B||d.dragging)&&u.push(d)}),u},ane=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},sne=(e,t,r,n,a,s=.1)=>{const i=t/(e.width*(1+s)),o=r/(e.height*(1+s)),l=Math.min(i,o),u=dx(l,n,a),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,p=r/2-f*u;return{x:h,y:p,zoom:u}},Lm=(e,t=0)=>e.transition().duration(t);function EV(e,t,r,n){return(t[r]||[]).reduce((a,s)=>{var i,o;return`${e.id}-${s.id}-${r}`!==n&&a.push({id:s.id||null,type:r,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+s.x+s.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+s.y+s.height/2}),a},[])}function c7e(e,t,r,n,a,s){const{x:i,y:o}=T0(e),u=t.elementsFromPoint(i,o).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const g=uP(void 0,u),b=u.getAttribute("data-handleid"),y=s({nodeId:v,id:b,type:g});if(y){const _=a.find(S=>S.nodeId===v&&S.type===g&&S.id===b);return{handle:{id:b,type:g,nodeId:v,x:(_==null?void 0:_.x)||r.x,y:(_==null?void 0:_.y)||r.y},validHandleResult:y}}}}let d=[],f=1/0;if(a.forEach(v=>{const g=Math.sqrt((v.x-r.x)**2+(v.y-r.y)**2);if(g<=n){const b=s(v);g<=f&&(g<f?d=[{handle:v,validHandleResult:b}]:g===f&&d.push({handle:v,validHandleResult:b}),f=g)}}),!d.length)return{handle:null,validHandleResult:ine()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:v})=>v.isValid),p=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:g})=>p?v.type==="target":h?g.isValid:!0)||d[0]}const u7e={source:null,target:null,sourceHandle:null,targetHandle:null},ine=()=>({handleDomNode:null,isValid:!1,connection:u7e,endHandle:null});function one(e,t,r,n,a,s,i){const o=a==="target",l=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...ine(),handleDomNode:l};if(l){const d=uP(void 0,l),f=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),v=l.classList.contains("connectableend"),g={source:o?f:r,sourceHandle:o?h:n,target:o?r:f,targetHandle:o?n:h};u.connection=g,p&&v&&(t===Dp.Strict?o&&d==="source"||!o&&d==="target":f!==r||h!==n)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=s(g))}return u}function d7e({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((a,s)=>{if(s[bs]){const{handleBounds:i}=s[bs];let o=[],l=[];i&&(o=EV(s,i,"source",`${t}-${r}-${n}`),l=EV(s,i,"target",`${t}-${r}-${n}`)),a.push(...o,...l)}return a},[])}function uP(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function vT(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function A7e(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function lne({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:a,getState:s,setState:i,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:u}){const d=Wre(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:v,onConnectStart:g,panBy:b,getNodes:y,cancelConnection:_}=s();let S=0,B;const{x:k,y:O}=T0(e),w=d==null?void 0:d.elementFromPoint(k,O),C=uP(l,w),N=h==null?void 0:h.getBoundingClientRect();if(!N||!C)return;let P,j=T0(e,N),F=!1,M=null,Q=!1,J=null;const q=d7e({nodes:y(),nodeId:r,handleId:t,handleType:C}),Z=()=>{if(!p)return;const[G,ne]=qre(j,N);b({x:G,y:ne}),S=requestAnimationFrame(Z)};i({connectionPosition:j,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:r,handleId:t,type:C},connectionEndHandle:null}),g==null||g(e,{nodeId:r,handleId:t,handleType:C});function H(G){const{transform:ne}=s();j=T0(G,N);const{handle:R,validHandleResult:W}=c7e(G,d,pF(j,ne,!1,[1,1]),v,q,Y=>one(Y,f,r,t,a?"target":"source",o,d));if(B=R,F||(Z(),F=!0),J=W.handleDomNode,M=W.connection,Q=W.isValid,i({connectionPosition:B&&Q?rne({x:B.x,y:B.y},ne):j,connectionStatus:A7e(!!B,Q),connectionEndHandle:W.endHandle}),!B&&!Q&&!J)return vT(P);M.source!==M.target&&J&&(vT(P),P=J,J.classList.add("connecting","react-flow__handle-connecting"),J.classList.toggle("valid",Q),J.classList.toggle("react-flow__handle-valid",Q))}function V(G){var ne,R;(B||J)&&M&&Q&&(n==null||n(M)),(R=(ne=s()).onConnectEnd)==null||R.call(ne,G),l&&(u==null||u(G)),vT(P),_(),cancelAnimationFrame(S),F=!1,Q=!1,M=null,J=null,d.removeEventListener("mousemove",H),d.removeEventListener("mouseup",V),d.removeEventListener("touchmove",H),d.removeEventListener("touchend",V)}d.addEventListener("mousemove",H),d.addEventListener("mouseup",V),d.addEventListener("touchmove",H),d.addEventListener("touchend",V)}const CV=()=>!0,f7e=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),h7e=(e,t,r)=>n=>{const{connectionStartHandle:a,connectionEndHandle:s,connectionClickStartHandle:i}=n;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===r||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===r,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r}},cne=I.forwardRef(({type:e="source",position:t=br.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:i,onConnect:o,children:l,className:u,onMouseDown:d,onTouchStart:f,...h},p)=>{var N,P;const v=i||null,g=e==="target",b=$i(),y=a7e(),{connectOnClick:_,noPanClassName:S}=ns(f7e,qo),{connecting:B,clickConnecting:k}=ns(h7e(y,v,e),qo);y||(P=(N=b.getState()).onError)==null||P.call(N,"010",Gf.error010());const O=j=>{const{defaultEdgeOptions:F,onConnect:M,hasDefaultEdges:Q}=b.getState(),J={...F,...j};if(Q){const{edges:q,setEdges:Z}=b.getState();Z(l7e(J,q))}M==null||M(J),o==null||o(J)},w=j=>{if(!y)return;const F=Yre(j);a&&(F&&j.button===0||!F)&&lne({event:j,handleId:v,nodeId:y,onConnect:O,isTarget:g,getState:b.getState,setState:b.setState,isValidConnection:r||b.getState().isValidConnection||CV}),F?d==null||d(j):f==null||f(j)},C=j=>{const{onClickConnectStart:F,onClickConnectEnd:M,connectionClickStartHandle:Q,connectionMode:J,isValidConnection:q}=b.getState();if(!y||!Q&&!a)return;if(!Q){F==null||F(j,{nodeId:y,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:v}});return}const Z=Wre(j.target),H=r||q||CV,{connection:V,isValid:G}=one({nodeId:y,id:v,type:e},J,Q.nodeId,Q.handleId||null,Q.type,H,Z);G&&O(V),M==null||M(j),b.setState({connectionClickStartHandle:null})};return ut.createElement("div",{"data-handleid":v,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${v}-${e}`,className:ml(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,u,{source:!g,target:g,connectable:n,connectablestart:a,connectableend:s,connecting:k,connectionindicator:n&&(a&&!B||s&&B)}]),onMouseDown:w,onTouchStart:w,onClick:_?C:void 0,ref:p,...h},l)});cne.displayName="Handle";var Ax=I.memo(cne);const une=({data:e,isConnectable:t,targetPosition:r=br.Top,sourcePosition:n=br.Bottom})=>ut.createElement(ut.Fragment,null,ut.createElement(Ax,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,ut.createElement(Ax,{type:"source",position:n,isConnectable:t}));une.displayName="DefaultNode";var gF=I.memo(une);const dne=({data:e,isConnectable:t,sourcePosition:r=br.Bottom})=>ut.createElement(ut.Fragment,null,e==null?void 0:e.label,ut.createElement(Ax,{type:"source",position:r,isConnectable:t}));dne.displayName="InputNode";var Ane=I.memo(dne);const fne=({data:e,isConnectable:t,targetPosition:r=br.Top})=>ut.createElement(ut.Fragment,null,ut.createElement(Ax,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);fne.displayName="OutputNode";var hne=I.memo(fne);const dP=()=>null;dP.displayName="GroupNode";const m7e=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),aC=e=>e.id;function p7e(e,t){return qo(e.selectedNodes.map(aC),t.selectedNodes.map(aC))&&qo(e.selectedEdges.map(aC),t.selectedEdges.map(aC))}const mne=I.memo(({onSelectionChange:e})=>{const t=$i(),{selectedNodes:r,selectedEdges:n}=ns(m7e,p7e);return I.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChange.forEach(s=>s(a))},[r,n,e]),null});mne.displayName="SelectionListener";const g7e=e=>!!e.onSelectionChange;function v7e({onSelectionChange:e}){const t=ns(g7e);return e||t?ut.createElement(mne,{onSelectionChange:e}):null}const x7e=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function $g(e,t){I.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function dn(e,t,r){I.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const b7e=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:a,onConnectStart:s,onConnectEnd:i,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:v,minZoom:g,maxZoom:b,nodeExtent:y,onNodesChange:_,onEdgesChange:S,elementsSelectable:B,connectionMode:k,snapGrid:O,snapToGrid:w,translateExtent:C,connectOnClick:N,defaultEdgeOptions:P,fitView:j,fitViewOptions:F,onNodesDelete:M,onEdgesDelete:Q,onNodeDrag:J,onNodeDragStart:q,onNodeDragStop:Z,onSelectionDrag:H,onSelectionDragStart:V,onSelectionDragStop:G,noPanClassName:ne,nodeOrigin:R,rfId:W,autoPanOnConnect:Y,autoPanOnNodeDrag:te,onError:ie,connectionRadius:me,isValidConnection:oe,nodeDragThreshold:ce})=>{const{setNodes:ge,setEdges:De,setDefaultNodesAndEdges:re,setMinZoom:Se,setMaxZoom:Pe,setTranslateExtent:_e,setNodeExtent:Ae,reset:je}=ns(x7e,qo),$e=$i();return I.useEffect(()=>{const Ze=n==null?void 0:n.map(ye=>({...ye,...P}));return re(r,Ze),()=>{je()}},[]),dn("defaultEdgeOptions",P,$e.setState),dn("connectionMode",k,$e.setState),dn("onConnect",a,$e.setState),dn("onConnectStart",s,$e.setState),dn("onConnectEnd",i,$e.setState),dn("onClickConnectStart",o,$e.setState),dn("onClickConnectEnd",l,$e.setState),dn("nodesDraggable",u,$e.setState),dn("nodesConnectable",d,$e.setState),dn("nodesFocusable",f,$e.setState),dn("edgesFocusable",h,$e.setState),dn("edgesUpdatable",p,$e.setState),dn("elementsSelectable",B,$e.setState),dn("elevateNodesOnSelect",v,$e.setState),dn("snapToGrid",w,$e.setState),dn("snapGrid",O,$e.setState),dn("onNodesChange",_,$e.setState),dn("onEdgesChange",S,$e.setState),dn("connectOnClick",N,$e.setState),dn("fitViewOnInit",j,$e.setState),dn("fitViewOnInitOptions",F,$e.setState),dn("onNodesDelete",M,$e.setState),dn("onEdgesDelete",Q,$e.setState),dn("onNodeDrag",J,$e.setState),dn("onNodeDragStart",q,$e.setState),dn("onNodeDragStop",Z,$e.setState),dn("onSelectionDrag",H,$e.setState),dn("onSelectionDragStart",V,$e.setState),dn("onSelectionDragStop",G,$e.setState),dn("noPanClassName",ne,$e.setState),dn("nodeOrigin",R,$e.setState),dn("rfId",W,$e.setState),dn("autoPanOnConnect",Y,$e.setState),dn("autoPanOnNodeDrag",te,$e.setState),dn("onError",ie,$e.setState),dn("connectionRadius",me,$e.setState),dn("isValidConnection",oe,$e.setState),dn("nodeDragThreshold",ce,$e.setState),$g(e,ge),$g(t,De),$g(g,Se),$g(b,Pe),$g(C,_e),$g(y,Ae),null},_V={display:"none"},y7e={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},pne="react-flow__node-desc",gne="react-flow__edge-desc",w7e="react-flow__aria-live",E7e=e=>e.ariaLiveMessage;function C7e({rfId:e}){const t=ns(E7e);return ut.createElement("div",{id:`${w7e}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:y7e},t)}function _7e({rfId:e,disableKeyboardA11y:t}){return ut.createElement(ut.Fragment,null,ut.createElement("div",{id:`${pne}-${e}`,style:_V},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ut.createElement("div",{id:`${gne}-${e}`,style:_V},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ut.createElement(C7e,{rfId:e}))}var qy=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=I.useState(!1),a=I.useRef(!1),s=I.useRef(new Set([])),[i,o]=I.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return I.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const d=p=>{if(a.current=p.ctrlKey||p.metaKey||p.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&fF(p))return!1;const g=NV(p.code,o);s.current.add(p[g]),SV(i,s.current,!1)&&(p.preventDefault(),n(!0))},f=p=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&fF(p))return!1;const g=NV(p.code,o);SV(i,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(p[g]),p.key==="Meta"&&s.current.clear(),a.current=!1},h=()=>{s.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,n]),r};function SV(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function NV(e,t){return t.includes(e)?"code":"key"}function vne(e,t,r,n){var o,l;const a=e.parentNode||e.parentId;if(!a)return r;const s=t.get(a),i=Vv(s,n);return vne(s,t,{x:(r.x??0)+i.x,y:(r.y??0)+i.y,z:(((o=s[bs])==null?void 0:o.z)??0)>(r.z??0)?((l=s[bs])==null?void 0:l.z)??0:r.z??0},n)}function xne(e,t,r){e.forEach(n=>{var s;const a=n.parentNode||n.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||r!=null&&r[n.id]){const{x:i,y:o,z:l}=vne(n,e,{...n.position,z:((s=n[bs])==null?void 0:s.z)??0},t);n.positionAbsolute={x:i,y:o},n[bs].z=l,r!=null&&r[n.id]&&(n[bs].isParent=!0)}})}function xT(e,t,r,n){const a=new Map,s={},i=n?1e3:0;return e.forEach(o=>{var p;const l=(yu(o.zIndex)?o.zIndex:0)+(o.selected?i:0),u=t.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},f=o.parentNode||o.parentId;f&&(s[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(d,bs,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[bs])==null?void 0:p.handleBounds,z:l}}),a.set(o.id,d)}),xne(a,r,s),a}function bne(e,t={}){const{getNodes:r,width:n,height:a,minZoom:s,maxZoom:i,d3Zoom:o,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(o&&l&&(h||!t.initial)){const v=r().filter(b=>{var _;const y=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(_=t.nodes)!=null&&_.length?y&&t.nodes.some(S=>S.id===b.id):y}),g=v.every(b=>b.width&&b.height);if(v.length>0&&g){const b=cP(v,f),{x:y,y:_,zoom:S}=sne(b,n,a,t.minZoom??s,t.maxZoom??i,t.padding??.1),B=B0.translate(y,_).scale(S);return typeof t.duration=="number"&&t.duration>0?o.transform(Lm(l,t.duration),B):o.transform(l,B),!0}}return!1}function S7e(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[bs]:n[bs],selected:r.selected})}),new Map(t)}function N7e(e,t){return t.map(r=>{const n=e.find(a=>a.id===r.id);return n&&(r.selected=n.selected),r})}function sC({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:a,edges:s,onNodesChange:i,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:u}=r();e!=null&&e.length&&(l&&n({nodeInternals:S7e(e,a)}),i==null||i(e)),t!=null&&t.length&&(u&&n({edges:N7e(t,s)}),o==null||o(t))}const Kg=()=>{},k7e={zoomIn:Kg,zoomOut:Kg,zoomTo:Kg,getZoom:()=>1,setViewport:Kg,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Kg,fitBounds:Kg,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},B7e=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),T7e=()=>{const e=$i(),{d3Zoom:t,d3Selection:r}=ns(B7e,qo);return I.useMemo(()=>r&&t?{zoomIn:a=>t.scaleBy(Lm(r,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(Lm(r,a==null?void 0:a.duration),1/1.2),zoomTo:(a,s)=>t.scaleTo(Lm(r,s==null?void 0:s.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,s)=>{const[i,o,l]=e.getState().transform,u=B0.translate(a.x??i,a.y??o).scale(a.zoom??l);t.transform(Lm(r,s==null?void 0:s.duration),u)},getViewport:()=>{const[a,s,i]=e.getState().transform;return{x:a,y:s,zoom:i}},fitView:a=>bne(e.getState,a),setCenter:(a,s,i)=>{const{width:o,height:l,maxZoom:u}=e.getState(),d=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,f=o/2-a*d,h=l/2-s*d,p=B0.translate(f,h).scale(d);t.transform(Lm(r,i==null?void 0:i.duration),p)},fitBounds:(a,s)=>{const{width:i,height:o,minZoom:l,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=sne(a,i,o,l,u,(s==null?void 0:s.padding)??.1),p=B0.translate(d,f).scale(h);t.transform(Lm(r,s==null?void 0:s.duration),p)},project:a=>{const{transform:s,snapToGrid:i,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),pF(a,s,i,o)},screenToFlowPosition:a=>{const{transform:s,snapToGrid:i,snapGrid:o,domNode:l}=e.getState();if(!l)return a;const{x:u,y:d}=l.getBoundingClientRect(),f={x:a.x-u,y:a.y-d};return pF(f,s,i,o)},flowToScreenPosition:a=>{const{transform:s,domNode:i}=e.getState();if(!i)return a;const{x:o,y:l}=i.getBoundingClientRect(),u=rne(a,s);return{x:u.x+o,y:u.y+l}},viewportInitialized:!0}:k7e,[t,r])};function DN(){const e=T7e(),t=$i(),r=I.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),n=I.useCallback(g=>t.getState().nodeInternals.get(g),[]),a=I.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(b=>({...b}))},[]),s=I.useCallback(g=>{const{edges:b=[]}=t.getState();return b.find(y=>y.id===g)},[]),i=I.useCallback(g=>{const{getNodes:b,setNodes:y,hasDefaultNodes:_,onNodesChange:S}=t.getState(),B=b(),k=typeof g=="function"?g(B):g;if(_)y(k);else if(S){const O=k.length===0?B.map(w=>({type:"remove",id:w.id})):k.map(w=>({item:w,type:"reset"}));S(O)}},[]),o=I.useCallback(g=>{const{edges:b=[],setEdges:y,hasDefaultEdges:_,onEdgesChange:S}=t.getState(),B=typeof g=="function"?g(b):g;if(_)y(B);else if(S){const k=B.length===0?b.map(O=>({type:"remove",id:O.id})):B.map(O=>({item:O,type:"reset"}));S(k)}},[]),l=I.useCallback(g=>{const b=Array.isArray(g)?g:[g],{getNodes:y,setNodes:_,hasDefaultNodes:S,onNodesChange:B}=t.getState();if(S){const O=[...y(),...b];_(O)}else if(B){const k=b.map(O=>({item:O,type:"add"}));B(k)}},[]),u=I.useCallback(g=>{const b=Array.isArray(g)?g:[g],{edges:y=[],setEdges:_,hasDefaultEdges:S,onEdgesChange:B}=t.getState();if(S)_([...y,...b]);else if(B){const k=b.map(O=>({item:O,type:"add"}));B(k)}},[]),d=I.useCallback(()=>{const{getNodes:g,edges:b=[],transform:y}=t.getState(),[_,S,B]=y;return{nodes:g().map(k=>({...k})),edges:b.map(k=>({...k})),viewport:{x:_,y:S,zoom:B}}},[]),f=I.useCallback(({nodes:g,edges:b})=>{const{nodeInternals:y,getNodes:_,edges:S,hasDefaultNodes:B,hasDefaultEdges:k,onNodesDelete:O,onEdgesDelete:w,onNodesChange:C,onEdgesChange:N}=t.getState(),P=(g||[]).map(J=>J.id),j=(b||[]).map(J=>J.id),F=_().reduce((J,q)=>{const Z=q.parentNode||q.parentId,H=!P.includes(q.id)&&Z&&J.find(G=>G.id===Z);return(typeof q.deletable=="boolean"?q.deletable:!0)&&(P.includes(q.id)||H)&&J.push(q),J},[]),M=S.filter(J=>typeof J.deletable=="boolean"?J.deletable:!0),Q=M.filter(J=>j.includes(J.id));if(F||Q){const J=ane(F,M),q=[...Q,...J],Z=q.reduce((H,V)=>(H.includes(V.id)||H.push(V.id),H),[]);if((k||B)&&(k&&t.setState({edges:S.filter(H=>!Z.includes(H.id))}),B&&(F.forEach(H=>{y.delete(H.id)}),t.setState({nodeInternals:new Map(y)}))),Z.length>0&&(w==null||w(q),N&&N(Z.map(H=>({id:H,type:"remove"})))),F.length>0&&(O==null||O(F),C)){const H=F.map(V=>({id:V.id,type:"remove"}));C(H)}}},[]),h=I.useCallback(g=>{const b=XUe(g),y=b?null:t.getState().nodeInternals.get(g.id);return!b&&!y?[null,null,b]:[b?g:vV(y),y,b]},[]),p=I.useCallback((g,b=!0,y)=>{const[_,S,B]=h(g);return _?(y||t.getState().getNodes()).filter(k=>{if(!B&&(k.id===S.id||!k.positionAbsolute))return!1;const O=vV(k),w=AF(O,_);return b&&w>0||w>=_.width*_.height}):[]},[]),v=I.useCallback((g,b,y=!0)=>{const[_]=h(g);if(!_)return!1;const S=AF(_,b);return y&&S>0||S>=_.width*_.height},[]);return I.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:a,getEdge:s,setNodes:i,setEdges:o,addNodes:l,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:v}),[e,r,n,a,s,i,o,l,u,d,f,p,v])}const I7e={actInsideInputWithModifier:!1};var j7e=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=$i(),{deleteElements:n}=DN(),a=qy(e,I7e),s=qy(t);I.useEffect(()=>{if(a){const{edges:i,getNodes:o}=r.getState(),l=o().filter(d=>d.selected),u=i.filter(d=>d.selected);n({nodes:l,edges:u}),r.setState({nodesSelectionActive:!1})}},[a]),I.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])};function F7e(e){const t=$i();I.useEffect(()=>{let r;const n=()=>{var s,i;if(!e.current)return;const a=rP(e.current);(a.height===0||a.width===0)&&((i=(s=t.getState()).onError)==null||i.call(s,"004",Gf.error004())),t.setState({width:a.width||500,height:a.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const AP={position:"absolute",width:"100%",height:"100%",top:0,left:0},O7e=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,iC=e=>({x:e.x,y:e.y,zoom:e.k}),Gg=(e,t)=>e.target.closest(`.${t}`),kV=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),BV=e=>{const t=e.ctrlKey&&ES()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},D7e=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),P7e=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=Ym.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:v,maxZoom:g,zoomActivationKeyCode:b,preventScrolling:y=!0,children:_,noWheelClassName:S,noPanClassName:B})=>{const k=I.useRef(),O=$i(),w=I.useRef(!1),C=I.useRef(!1),N=I.useRef(null),P=I.useRef({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:F,d3ZoomHandler:M,userSelectionActive:Q}=ns(D7e,qo),J=qy(b),q=I.useRef(0),Z=I.useRef(!1),H=I.useRef();return F7e(N),I.useEffect(()=>{if(N.current){const V=N.current.getBoundingClientRect(),G=HUe().scaleExtent([v,g]).translateExtent(p),ne=pu(N.current).call(G),R=B0.translate(h.x,h.y).scale(dx(h.zoom,v,g)),W=[[0,0],[V.width,V.height]],Y=G.constrain()(R,W,p);G.transform(ne,Y),G.wheelDelta(BV),O.setState({d3Zoom:G,d3Selection:ne,d3ZoomHandler:ne.on("wheel.zoom"),transform:[Y.x,Y.y,Y.k],domNode:N.current.closest(".react-flow")})}},[]),I.useEffect(()=>{F&&j&&(i&&!J&&!Q?F.on("wheel.zoom",V=>{if(Gg(V,S))return!1;V.preventDefault(),V.stopImmediatePropagation();const G=F.property("__zoom").k||1;if(V.ctrlKey&&s){const oe=iA(V),ce=BV(V),ge=G*Math.pow(2,ce);j.scaleTo(F,ge,oe,V);return}const ne=V.deltaMode===1?20:1;let R=l===Ym.Vertical?0:V.deltaX*ne,W=l===Ym.Horizontal?0:V.deltaY*ne;!ES()&&V.shiftKey&&l!==Ym.Vertical&&(R=V.deltaY*ne,W=0),j.translateBy(F,-(R/G)*o,-(W/G)*o,{internal:!0});const Y=iC(F.property("__zoom")),{onViewportChangeStart:te,onViewportChange:ie,onViewportChangeEnd:me}=O.getState();clearTimeout(H.current),Z.current||(Z.current=!0,t==null||t(V,Y),te==null||te(Y)),Z.current&&(e==null||e(V,Y),ie==null||ie(Y),H.current=setTimeout(()=>{r==null||r(V,Y),me==null||me(Y),Z.current=!1},150))},{passive:!1}):typeof M<"u"&&F.on("wheel.zoom",function(V,G){if(!y&&V.type==="wheel"&&!V.ctrlKey||Gg(V,S))return null;V.preventDefault(),M.call(this,V,G)},{passive:!1}))},[Q,i,l,F,j,M,J,s,y,S,t,e,r]),I.useEffect(()=>{j&&j.on("start",V=>{var R,W;if(!V.sourceEvent||V.sourceEvent.internal)return null;q.current=(R=V.sourceEvent)==null?void 0:R.button;const{onViewportChangeStart:G}=O.getState(),ne=iC(V.transform);w.current=!0,P.current=ne,((W=V.sourceEvent)==null?void 0:W.type)==="mousedown"&&O.setState({paneDragging:!0}),G==null||G(ne),t==null||t(V.sourceEvent,ne)})},[j,t]),I.useEffect(()=>{j&&(Q&&!w.current?j.on("zoom",null):Q||j.on("zoom",V=>{var ne;const{onViewportChange:G}=O.getState();if(O.setState({transform:[V.transform.x,V.transform.y,V.transform.k]}),C.current=!!(n&&kV(f,q.current??0)),(e||G)&&!((ne=V.sourceEvent)!=null&&ne.internal)){const R=iC(V.transform);G==null||G(R),e==null||e(V.sourceEvent,R)}}))},[Q,j,e,f,n]),I.useEffect(()=>{j&&j.on("end",V=>{if(!V.sourceEvent||V.sourceEvent.internal)return null;const{onViewportChangeEnd:G}=O.getState();if(w.current=!1,O.setState({paneDragging:!1}),n&&kV(f,q.current??0)&&!C.current&&n(V.sourceEvent),C.current=!1,(r||G)&&O7e(P.current,V.transform)){const ne=iC(V.transform);P.current=ne,clearTimeout(k.current),k.current=setTimeout(()=>{G==null||G(ne),r==null||r(V.sourceEvent,ne)},i?150:0)}})},[j,i,f,r,n]),I.useEffect(()=>{j&&j.filter(V=>{const G=J||a,ne=s&&V.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&V.button===1&&V.type==="mousedown"&&(Gg(V,"react-flow__node")||Gg(V,"react-flow__edge")))return!0;if(!f&&!G&&!i&&!u&&!s||Q||!u&&V.type==="dblclick"||Gg(V,S)&&V.type==="wheel"||Gg(V,B)&&(V.type!=="wheel"||i&&V.type==="wheel"&&!J)||!s&&V.ctrlKey&&V.type==="wheel"||!G&&!i&&!ne&&V.type==="wheel"||!f&&(V.type==="mousedown"||V.type==="touchstart")||Array.isArray(f)&&!f.includes(V.button)&&V.type==="mousedown")return!1;const R=Array.isArray(f)&&f.includes(V.button)||!V.button||V.button<=1;return(!V.ctrlKey||V.type==="wheel")&&R})},[Q,j,a,s,i,u,f,d,J]),ut.createElement("div",{className:"react-flow__renderer",ref:N,style:AP},_)},R7e=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function L7e(){const{userSelectionActive:e,userSelectionRect:t}=ns(R7e,qo);return e&&t?ut.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function TV(e,t){const r=t.parentNode||t.parentId,n=e.find(a=>a.id===r);if(n){const a=t.position.x+t.width-n.width,s=t.position.y+t.height-n.height;if(a>0||s>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,a>0&&(n.style.width+=a),s>0&&(n.style.height+=s),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function yne(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,a)=>{const s=e.filter(o=>o.id===a.id);if(s.length===0)return n.push(a),n;const i={...a};for(const o of s)if(o)switch(o.type){case"select":{i.selected=o.selected;break}case"position":{typeof o.position<"u"&&(i.position=o.position),typeof o.positionAbsolute<"u"&&(i.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(i.dragging=o.dragging),i.expandParent&&TV(n,i);break}case"dimensions":{typeof o.dimensions<"u"&&(i.width=o.dimensions.width,i.height=o.dimensions.height),typeof o.updateStyle<"u"&&(i.style={...i.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(i.resizing=o.resizing),i.expandParent&&TV(n,i);break}case"remove":return n}return n.push(i),n},r)}function wne(e,t){return yne(e,t)}function M7e(e,t){return yne(e,t)}const a0=(e,t)=>({id:e,type:"select",selected:t});function gv(e,t){return e.reduce((r,n)=>{const a=t.includes(n.id);return!n.selected&&a?(n.selected=!0,r.push(a0(n.id,!0))):n.selected&&!a&&(n.selected=!1,r.push(a0(n.id,!1))),r},[])}const bT=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},U7e=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ene=I.memo(({isSelecting:e,selectionMode:t=Gy.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:i,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=I.useRef(null),p=$i(),v=I.useRef(0),g=I.useRef(0),b=I.useRef(),{userSelectionActive:y,elementsSelectable:_,dragging:S}=ns(U7e,qo),B=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,g.current=0},k=M=>{s==null||s(M),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},O=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}i==null||i(M)},w=o?M=>o(M):void 0,C=M=>{const{resetSelectedElements:Q,domNode:J}=p.getState();if(b.current=J==null?void 0:J.getBoundingClientRect(),!_||!e||M.button!==0||M.target!==h.current||!b.current)return;const{x:q,y:Z}=T0(M,b.current);Q(),p.setState({userSelectionRect:{width:0,height:0,startX:q,startY:Z,x:q,y:Z}}),n==null||n(M)},N=M=>{const{userSelectionRect:Q,nodeInternals:J,edges:q,transform:Z,onNodesChange:H,onEdgesChange:V,nodeOrigin:G,getNodes:ne}=p.getState();if(!e||!b.current||!Q)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const R=T0(M,b.current),W=Q.startX??0,Y=Q.startY??0,te={...Q,x:R.x<W?R.x:W,y:R.y<Y?R.y:Y,width:Math.abs(R.x-W),height:Math.abs(R.y-Y)},ie=ne(),me=nne(J,te,Z,t===Gy.Partial,!0,G),oe=ane(me,q).map(ge=>ge.id),ce=me.map(ge=>ge.id);if(v.current!==ce.length){v.current=ce.length;const ge=gv(ie,ce);ge.length&&(H==null||H(ge))}if(g.current!==oe.length){g.current=oe.length;const ge=gv(q,oe);ge.length&&(V==null||V(ge))}p.setState({userSelectionRect:te})},P=M=>{if(M.button!==0)return;const{userSelectionRect:Q}=p.getState();!y&&Q&&M.target===h.current&&(k==null||k(M)),p.setState({nodesSelectionActive:v.current>0}),B(),a==null||a(M)},j=M=>{y&&(p.setState({nodesSelectionActive:v.current>0}),a==null||a(M)),B()},F=_&&(e||y);return ut.createElement("div",{className:ml(["react-flow__pane",{dragging:S,selection:e}]),onClick:F?void 0:bT(k,h),onContextMenu:bT(O,h),onWheel:bT(w,h),onMouseEnter:F?void 0:l,onMouseDown:F?C:void 0,onMouseMove:F?N:u,onMouseUp:F?P:void 0,onMouseLeave:F?j:d,ref:h,style:AP},f,ut.createElement(L7e,null))});Ene.displayName="Pane";function Cne(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:Cne(n,t):!1}function IV(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function Q7e(e,t,r,n){return Array.from(e.values()).filter(a=>(a.selected||a.id===n)&&(!a.parentNode||a.parentId||!Cne(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var s,i;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((s=a.positionAbsolute)==null?void 0:s.x)??0),y:r.y-(((i=a.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function H7e(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function _ne(e,t,r,n,a=[0,0],s){const i=H7e(e,e.extent||n);let o=i;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=r.get(l),{x:h,y:p}=Vv(f,a).positionAbsolute;o=f&&yu(h)&&yu(p)&&yu(f.width)&&yu(f.height)?[[h+e.width*a[0],p+e.height*a[1]],[h+f.width-e.width+e.width*a[0],p+f.height-e.height+e.height*a[1]]]:o}else s==null||s("005",Gf.error005()),o=i;else if(e.extent&&l&&e.extent!=="parent"){const f=r.get(l),{x:h,y:p}=Vv(f,a).positionAbsolute;o=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(l){const f=r.get(l);u=Vv(f,a).positionAbsolute}const d=o&&o!=="parent"?nP(t,o):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function yT({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(a=>({...r.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?n.find(a=>a.id===e):n[0],n]}const jV=(e,t,r,n)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const s=Array.from(a),i=t.getBoundingClientRect(),o={x:i.width*n[0],y:i.height*n[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-i.left-o.x)/r,y:(u.top-i.top-o.y)/r,...rP(l)}})};function tb(e,t,r){return r===void 0?r:n=>{const a=t().nodeInternals.get(e);a&&r(n,{...a})}}function vF({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:o,onError:l}=t.getState(),u=o.get(e);if(!u){l==null||l("012",Gf.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function V7e(){const e=$i();return I.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:a,snapToGrid:s}=e.getState(),i=r.touches?r.touches[0].clientX:r.clientX,o=r.touches?r.touches[0].clientY:r.clientY,l={x:(i-n[0])/n[2],y:(o-n[1])/n[2]};return{xSnapped:s?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:s?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}function wT(e){return(t,r,n)=>e==null?void 0:e(t,n)}function Sne({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:s,selectNodesOnDrag:i}){const o=$i(),[l,u]=I.useState(!1),d=I.useRef([]),f=I.useRef({x:null,y:null}),h=I.useRef(0),p=I.useRef(null),v=I.useRef({x:0,y:0}),g=I.useRef(null),b=I.useRef(!1),y=I.useRef(!1),_=I.useRef(!1),S=V7e();return I.useEffect(()=>{if(e!=null&&e.current){const B=pu(e.current),k=({x:C,y:N})=>{const{nodeInternals:P,onNodeDrag:j,onSelectionDrag:F,updateNodePositions:M,nodeExtent:Q,snapGrid:J,snapToGrid:q,nodeOrigin:Z,onError:H}=o.getState();f.current={x:C,y:N};let V=!1,G={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&Q){const R=cP(d.current,Z);G=aP(R)}if(d.current=d.current.map(R=>{const W={x:C-R.distance.x,y:N-R.distance.y};q&&(W.x=J[0]*Math.round(W.x/J[0]),W.y=J[1]*Math.round(W.y/J[1]));const Y=[[Q[0][0],Q[0][1]],[Q[1][0],Q[1][1]]];d.current.length>1&&Q&&!R.extent&&(Y[0][0]=R.positionAbsolute.x-G.x+Q[0][0],Y[1][0]=R.positionAbsolute.x+(R.width??0)-G.x2+Q[1][0],Y[0][1]=R.positionAbsolute.y-G.y+Q[0][1],Y[1][1]=R.positionAbsolute.y+(R.height??0)-G.y2+Q[1][1]);const te=_ne(R,W,P,Y,Z,H);return V=V||R.position.x!==te.position.x||R.position.y!==te.position.y,R.position=te.position,R.positionAbsolute=te.positionAbsolute,R}),!V)return;M(d.current,!0,!0),u(!0);const ne=a?j:wT(F);if(ne&&g.current){const[R,W]=yT({nodeId:a,dragItems:d.current,nodeInternals:P});ne(g.current,R,W)}},O=()=>{if(!p.current)return;const[C,N]=qre(v.current,p.current);if(C!==0||N!==0){const{transform:P,panBy:j}=o.getState();f.current.x=(f.current.x??0)-C/P[2],f.current.y=(f.current.y??0)-N/P[2],j({x:C,y:N})&&k(f.current)}h.current=requestAnimationFrame(O)},w=C=>{var Z;const{nodeInternals:N,multiSelectionActive:P,nodesDraggable:j,unselectNodesAndEdges:F,onNodeDragStart:M,onSelectionDragStart:Q}=o.getState();y.current=!0;const J=a?M:wT(Q);(!i||!s)&&!P&&a&&((Z=N.get(a))!=null&&Z.selected||F()),a&&s&&i&&vF({id:a,store:o,nodeRef:e});const q=S(C);if(f.current=q,d.current=Q7e(N,j,q,a),J&&d.current){const[H,V]=yT({nodeId:a,dragItems:d.current,nodeInternals:N});J(C.sourceEvent,H,V)}};if(t)B.on(".drag",null);else{const C=G8e().on("start",N=>{const{domNode:P,nodeDragThreshold:j}=o.getState();j===0&&w(N),_.current=!1;const F=S(N);f.current=F,p.current=(P==null?void 0:P.getBoundingClientRect())||null,v.current=T0(N.sourceEvent,p.current)}).on("drag",N=>{var M,Q;const P=S(N),{autoPanOnNodeDrag:j,nodeDragThreshold:F}=o.getState();if(N.sourceEvent.type==="touchmove"&&N.sourceEvent.touches.length>1&&(_.current=!0),!_.current){if(!b.current&&y.current&&j&&(b.current=!0,O()),!y.current){const J=P.xSnapped-(((M=f==null?void 0:f.current)==null?void 0:M.x)??0),q=P.ySnapped-(((Q=f==null?void 0:f.current)==null?void 0:Q.y)??0);Math.sqrt(J*J+q*q)>F&&w(N)}(f.current.x!==P.xSnapped||f.current.y!==P.ySnapped)&&d.current&&y.current&&(g.current=N.sourceEvent,v.current=T0(N.sourceEvent,p.current),k(P))}}).on("end",N=>{if(!(!y.current||_.current)&&(u(!1),b.current=!1,y.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:P,nodeInternals:j,onNodeDragStop:F,onSelectionDragStop:M}=o.getState(),Q=a?F:wT(M);if(P(d.current,!1,!1),Q){const[J,q]=yT({nodeId:a,dragItems:d.current,nodeInternals:j});Q(N.sourceEvent,J,q)}}}).filter(N=>{const P=N.target;return!N.button&&(!r||!IV(P,`.${r}`,e))&&(!n||IV(P,n,e))});return B.call(C),()=>{B.on(".drag",null)}}}},[e,t,r,n,s,o,a,i,S]),l}function Nne(){const e=$i();return I.useCallback(r=>{const{nodeInternals:n,nodeExtent:a,updateNodePositions:s,getNodes:i,snapToGrid:o,snapGrid:l,onError:u,nodesDraggable:d}=e.getState(),f=i().filter(_=>_.selected&&(_.draggable||d&&typeof _.draggable>"u")),h=o?l[0]:5,p=o?l[1]:5,v=r.isShiftPressed?4:1,g=r.x*h*v,b=r.y*p*v,y=f.map(_=>{if(_.positionAbsolute){const S={x:_.positionAbsolute.x+g,y:_.positionAbsolute.y+b};o&&(S.x=l[0]*Math.round(S.x/l[0]),S.y=l[1]*Math.round(S.y/l[1]));const{positionAbsolute:B,position:k}=_ne(_,S,n,a,void 0,u);_.position=k,_.positionAbsolute=B}return _});s(y,!0,!1)},[])}const zv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var rb=e=>{const t=({id:r,type:n,data:a,xPos:s,yPos:i,xPosOrigin:o,yPosOrigin:l,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:v,onDoubleClick:g,style:b,className:y,isDraggable:_,isSelectable:S,isConnectable:B,isFocusable:k,selectNodesOnDrag:O,sourcePosition:w,targetPosition:C,hidden:N,resizeObserver:P,dragHandle:j,zIndex:F,isParent:M,noDragClassName:Q,noPanClassName:J,initialized:q,disableKeyboardA11y:Z,ariaLabel:H,rfId:V,hasHandleBounds:G})=>{const ne=$i(),R=I.useRef(null),W=I.useRef(null),Y=I.useRef(w),te=I.useRef(C),ie=I.useRef(n),me=S||_||d||f||h||p,oe=Nne(),ce=tb(r,ne.getState,f),ge=tb(r,ne.getState,h),De=tb(r,ne.getState,p),re=tb(r,ne.getState,v),Se=tb(r,ne.getState,g),Pe=je=>{const{nodeDragThreshold:$e}=ne.getState();if(S&&(!O||!_||$e>0)&&vF({id:r,store:ne,nodeRef:R}),d){const Ze=ne.getState().nodeInternals.get(r);Ze&&d(je,{...Ze})}},_e=je=>{if(!fF(je)&&!Z)if(Xre.includes(je.key)&&S){const $e=je.key==="Escape";vF({id:r,store:ne,unselect:$e,nodeRef:R})}else _&&u&&Object.prototype.hasOwnProperty.call(zv,je.key)&&(ne.setState({ariaLiveMessage:`Moved selected node ${je.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~i}`}),oe({x:zv[je.key].x,y:zv[je.key].y,isShiftPressed:je.shiftKey}))};I.useEffect(()=>()=>{W.current&&(P==null||P.unobserve(W.current),W.current=null)},[]),I.useEffect(()=>{if(R.current&&!N){const je=R.current;(!q||!G||W.current!==je)&&(W.current&&(P==null||P.unobserve(W.current)),P==null||P.observe(je),W.current=je)}},[N,q,G]),I.useEffect(()=>{const je=ie.current!==n,$e=Y.current!==w,Ze=te.current!==C;R.current&&(je||$e||Ze)&&(je&&(ie.current=n),$e&&(Y.current=w),Ze&&(te.current=C),ne.getState().updateNodeDimensions([{id:r,nodeElement:R.current,forceUpdate:!0}]))},[r,n,w,C]);const Ae=Sne({nodeRef:R,disabled:N||!_,noDragClassName:Q,handleSelector:j,nodeId:r,isSelectable:S,selectNodesOnDrag:O});return N?null:ut.createElement("div",{className:ml(["react-flow__node",`react-flow__node-${n}`,{[J]:_},y,{selected:u,selectable:S,parent:M,dragging:Ae}]),ref:R,style:{zIndex:F,transform:`translate(${o}px,${l}px)`,pointerEvents:me?"all":"none",visibility:q?"visible":"hidden",...b},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:ce,onMouseMove:ge,onMouseLeave:De,onContextMenu:re,onClick:Pe,onDoubleClick:Se,onKeyDown:k?_e:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":Z?void 0:`${pne}-${V}`,"aria-label":H},ut.createElement(n7e,{value:r},ut.createElement(e,{id:r,data:a,type:n,xPos:s,yPos:i,selected:u,isConnectable:B,sourcePosition:w,targetPosition:C,dragging:Ae,dragHandle:j,zIndex:F})))};return t.displayName="NodeWrapper",I.memo(t)};const z7e=e=>{const t=e.getNodes().filter(r=>r.selected);return{...cP(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function $7e({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=$i(),{width:a,height:s,x:i,y:o,transformString:l,userSelectionActive:u}=ns(z7e,qo),d=Nne(),f=I.useRef(null);if(I.useEffect(()=>{var v;r||(v=f.current)==null||v.focus({preventScroll:!0})},[r]),Sne({nodeRef:f}),u||!a||!s)return null;const h=e?v=>{const g=n.getState().getNodes().filter(b=>b.selected);e(v,g)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(zv,v.key)&&d({x:zv[v.key].x,y:zv[v.key].y,isShiftPressed:v.shiftKey})};return ut.createElement("div",{className:ml(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},ut.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:a,height:s,top:o,left:i}}))}var K7e=I.memo($7e);const G7e=e=>e.nodesSelectionActive,kne=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,deleteKeyCode:o,onMove:l,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:v,onSelectionEnd:g,multiSelectionKeyCode:b,panActivationKeyCode:y,zoomActivationKeyCode:_,elementsSelectable:S,zoomOnScroll:B,zoomOnPinch:k,panOnScroll:O,panOnScrollSpeed:w,panOnScrollMode:C,zoomOnDoubleClick:N,panOnDrag:P,defaultViewport:j,translateExtent:F,minZoom:M,maxZoom:Q,preventScrolling:J,onSelectionContextMenu:q,noWheelClassName:Z,noPanClassName:H,disableKeyboardA11y:V})=>{const G=ns(G7e),ne=qy(f),R=qy(y),W=R||P,Y=R||O,te=ne||h&&W!==!0;return j7e({deleteKeyCode:o,multiSelectionKeyCode:b}),ut.createElement(P7e,{onMove:l,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:S,zoomOnScroll:B,zoomOnPinch:k,panOnScroll:Y,panOnScrollSpeed:w,panOnScrollMode:C,zoomOnDoubleClick:N,panOnDrag:!ne&&W,defaultViewport:j,translateExtent:F,minZoom:M,maxZoom:Q,zoomActivationKeyCode:_,preventScrolling:J,noWheelClassName:Z,noPanClassName:H},ut.createElement(Ene,{onSelectionStart:v,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:W,isSelecting:!!te,selectionMode:p},e,G&&ut.createElement(K7e,{onSelectionContextMenu:q,noPanClassName:H,disableKeyboardA11y:V})))};kne.displayName="FlowRenderer";var q7e=I.memo(kne);function W7e(e){return ns(I.useCallback(r=>e?nne(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function X7e(e){const t={input:rb(e.input||Ane),default:rb(e.default||gF),output:rb(e.output||hne),group:rb(e.group||dP)},r={},n=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,s)=>(a[s]=rb(e[s]||gF),a),r);return{...t,...n}}const Y7e=({x:e,y:t,width:r,height:n,origin:a})=>!r||!n?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-r*a[0],y:t-n*a[1]},J7e=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Bne=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,updateNodeDimensions:s,onError:i}=ns(J7e,qo),o=W7e(e.onlyRenderVisibleElements),l=I.useRef(),u=I.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));s(h)});return l.current=d,d},[]);return I.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),ut.createElement("div",{className:"react-flow__nodes",style:AP},o.map(d=>{var k,O,w;let f=d.type||"default";e.nodeTypes[f]||(i==null||i("003",Gf.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(d.draggable||t&&typeof d.draggable>"u"),v=!!(d.selectable||a&&typeof d.selectable>"u"),g=!!(d.connectable||r&&typeof d.connectable>"u"),b=!!(d.focusable||n&&typeof d.focusable>"u"),y=e.nodeExtent?nP(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,_=(y==null?void 0:y.x)??0,S=(y==null?void 0:y.y)??0,B=Y7e({x:_,y:S,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return ut.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||br.Bottom,targetPosition:d.targetPosition||br.Top,hidden:d.hidden,xPos:_,yPos:S,xPosOrigin:B.x,yPosOrigin:B.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:p,isSelectable:v,isConnectable:g,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((k=d[bs])==null?void 0:k.z)??0,isParent:!!((O=d[bs])!=null&&O.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((w=d[bs])!=null&&w.handleBounds)})}))};Bne.displayName="NodeRenderer";var Z7e=I.memo(Bne);const e9e=(e,t,r)=>r===br.Left?e-t:r===br.Right?e+t:e,t9e=(e,t,r)=>r===br.Top?e-t:r===br.Bottom?e+t:e,FV="react-flow__edgeupdater",OV=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:s,onMouseOut:i,type:o})=>ut.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:i,className:ml([FV,`${FV}-${o}`]),cx:e9e(t,n,e),cy:t9e(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),r9e=()=>!0;var qg=e=>{const t=({id:r,className:n,type:a,data:s,onClick:i,onEdgeDoubleClick:o,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:g,style:b,source:y,target:_,sourceX:S,sourceY:B,targetX:k,targetY:O,sourcePosition:w,targetPosition:C,elementsSelectable:N,hidden:P,sourceHandleId:j,targetHandleId:F,onContextMenu:M,onMouseEnter:Q,onMouseMove:J,onMouseLeave:q,reconnectRadius:Z,onReconnect:H,onReconnectStart:V,onReconnectEnd:G,markerEnd:ne,markerStart:R,rfId:W,ariaLabel:Y,isFocusable:te,isReconnectable:ie,pathOptions:me,interactionWidth:oe,disableKeyboardA11y:ce})=>{const ge=I.useRef(null),[De,re]=I.useState(!1),[Se,Pe]=I.useState(!1),_e=$i(),Ae=I.useMemo(()=>`url('#${mF(R,W)}')`,[R,W]),je=I.useMemo(()=>`url('#${mF(ne,W)}')`,[ne,W]);if(P)return null;const $e=Be=>{var Ur;const{edges:ht,addSelectedEdges:wt,unselectNodesAndEdges:ir,multiSelectionActive:Kt}=_e.getState(),Ut=ht.find(Ar=>Ar.id===r);Ut&&(N&&(_e.setState({nodesSelectionActive:!1}),Ut.selected&&Kt?(ir({nodes:[],edges:[Ut]}),(Ur=ge.current)==null||Ur.blur()):wt([r])),i&&i(Be,Ut))},Ze=eb(r,_e.getState,o),ye=eb(r,_e.getState,M),Oe=eb(r,_e.getState,Q),Me=eb(r,_e.getState,J),Ye=eb(r,_e.getState,q),tt=(Be,ht)=>{if(Be.button!==0)return;const{edges:wt,isValidConnection:ir}=_e.getState(),Kt=ht?_:y,Ut=(ht?F:j)||null,Ur=ht?"target":"source",Ar=ir||r9e,wn=ht,Vr=wt.find(cr=>cr.id===r);Pe(!0),V==null||V(Be,Vr,Ur);const Tn=cr=>{Pe(!1),G==null||G(cr,Vr,Ur)};lne({event:Be,handleId:Ut,nodeId:Kt,onConnect:cr=>H==null?void 0:H(Vr,cr),isTarget:wn,getState:_e.getState,setState:_e.setState,isValidConnection:Ar,edgeUpdaterType:Ur,onReconnectEnd:Tn})},ct=Be=>tt(Be,!0),gt=Be=>tt(Be,!1),kt=()=>re(!0),Dt=()=>re(!1),Re=!N&&!i,Ue=Be=>{var ht;if(!ce&&Xre.includes(Be.key)&&N){const{unselectNodesAndEdges:wt,addSelectedEdges:ir,edges:Kt}=_e.getState();Be.key==="Escape"?((ht=ge.current)==null||ht.blur(),wt({edges:[Kt.find(Ur=>Ur.id===r)]})):ir([r])}};return ut.createElement("g",{className:ml(["react-flow__edge",`react-flow__edge-${a}`,n,{selected:l,animated:u,inactive:Re,updating:De}]),onClick:$e,onDoubleClick:Ze,onContextMenu:ye,onMouseEnter:Oe,onMouseMove:Me,onMouseLeave:Ye,onKeyDown:te?Ue:void 0,tabIndex:te?0:void 0,role:te?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":Y===null?void 0:Y||`Edge from ${y} to ${_}`,"aria-describedby":te?`${gne}-${W}`:void 0,ref:ge},!Se&&ut.createElement(e,{id:r,source:y,target:_,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:g,data:s,style:b,sourceX:S,sourceY:B,targetX:k,targetY:O,sourcePosition:w,targetPosition:C,sourceHandleId:j,targetHandleId:F,markerStart:Ae,markerEnd:je,pathOptions:me,interactionWidth:oe}),ie&&ut.createElement(ut.Fragment,null,(ie==="source"||ie===!0)&&ut.createElement(OV,{position:w,centerX:S,centerY:B,radius:Z,onMouseDown:ct,onMouseEnter:kt,onMouseOut:Dt,type:"source"}),(ie==="target"||ie===!0)&&ut.createElement(OV,{position:C,centerX:k,centerY:O,radius:Z,onMouseDown:gt,onMouseEnter:kt,onMouseOut:Dt,type:"target"})))};return t.displayName="EdgeWrapper",I.memo(t)};function n9e(e){const t={default:qg(e.default||_S),straight:qg(e.bezier||oP),step:qg(e.step||iP),smoothstep:qg(e.step||ON),simplebezier:qg(e.simplebezier||sP)},r={},n=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,s)=>(a[s]=qg(e[s]||_S),a),r);return{...t,...n}}function DV(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,a=((r==null?void 0:r.y)||0)+t.y,s=(r==null?void 0:r.width)||t.width,i=(r==null?void 0:r.height)||t.height;switch(e){case br.Top:return{x:n+s/2,y:a};case br.Right:return{x:n+s,y:a+i/2};case br.Bottom:return{x:n+s/2,y:a+i};case br.Left:return{x:n,y:a+i/2}}}function PV(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const a9e=(e,t,r,n,a,s)=>{const i=DV(r,e,t),o=DV(s,n,a);return{sourceX:i.x,sourceY:i.y,targetX:o.x,targetY:o.y}};function s9e({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:a,targetHeight:s,width:i,height:o,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+a),y2:Math.max(e.y+n,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=aP({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:o/l[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function RV(e){var n,a,s,i,o;const t=((n=e==null?void 0:e[bs])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const i9e=[{level:0,isMaxLevel:!0,edges:[]}];function o9e(e,t,r=!1){let n=-1;const a=e.reduce((i,o)=>{var d,f;const l=yu(o.zIndex);let u=l?o.zIndex:0;if(r){const h=t.get(o.target),p=t.get(o.source),v=o.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),g=Math.max(((d=p==null?void 0:p[bs])==null?void 0:d.z)||0,((f=h==null?void 0:h[bs])==null?void 0:f.z)||0,1e3);u=(l?o.zIndex:0)+(v?g:0)}return i[u]?i[u].push(o):i[u]=[o],n=u>n?u:n,i},{}),s=Object.entries(a).map(([i,o])=>{const l=+i;return{edges:o,level:l,isMaxLevel:l===n}});return s.length===0?i9e:s}function l9e(e,t,r){const n=ns(I.useCallback(a=>e?a.edges.filter(s=>{const i=t.get(s.source),o=t.get(s.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&s9e({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:o.width,targetHeight:o.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return o9e(n,t,r)}const c9e=({color:e="none",strokeWidth:t=1})=>ut.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),u9e=({color:e="none",strokeWidth:t=1})=>ut.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),LV={[CS.Arrow]:c9e,[CS.ArrowClosed]:u9e};function d9e(e){const t=$i();return I.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(LV,e)?LV[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",Gf.error009(e)),null)},[e])}const A9e=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:o="auto-start-reverse"})=>{const l=d9e(t);return l?ut.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:o,refX:"0",refY:"0"},ut.createElement(l,{color:r,strokeWidth:i})):null},f9e=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((a,s)=>([s.markerStart,s.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const o=mF(i,t);n.includes(o)||(a.push({id:o,color:i.color||e,...i}),n.push(o))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))},Tne=({defaultColor:e,rfId:t})=>{const r=ns(I.useCallback(f9e({defaultColor:e,rfId:t}),[e,t]),(n,a)=>!(n.length!==a.length||n.some((s,i)=>s.id!==a[i].id)));return ut.createElement("defs",null,r.map(n=>ut.createElement(A9e,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};Tne.displayName="MarkerDefinitions";var h9e=I.memo(Tne);const m9e=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ine=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:i,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:g,children:b,disableKeyboardA11y:y})=>{const{edgesFocusable:_,edgesUpdatable:S,elementsSelectable:B,width:k,height:O,connectionMode:w,nodeInternals:C,onError:N}=ns(m9e,qo),P=l9e(t,C,r);return k?ut.createElement(ut.Fragment,null,P.map(({level:j,edges:F,isMaxLevel:M})=>ut.createElement("svg",{key:j,style:{zIndex:j},width:k,height:O,className:"react-flow__edges react-flow__container"},M&&ut.createElement(h9e,{defaultColor:e,rfId:n}),ut.createElement("g",null,F.map(Q=>{const[J,q,Z]=RV(C.get(Q.source)),[H,V,G]=RV(C.get(Q.target));if(!Z||!G)return null;let ne=Q.type||"default";a[ne]||(N==null||N("011",Gf.error011(ne)),ne="default");const R=a[ne]||a.default,W=w===Dp.Strict?V.target:(V.target??[]).concat(V.source??[]),Y=PV(q.source,Q.sourceHandle),te=PV(W,Q.targetHandle),ie=(Y==null?void 0:Y.position)||br.Bottom,me=(te==null?void 0:te.position)||br.Top,oe=!!(Q.focusable||_&&typeof Q.focusable>"u"),ce=Q.reconnectable||Q.updatable,ge=typeof h<"u"&&(ce||S&&typeof ce>"u");if(!Y||!te)return N==null||N("008",Gf.error008(Y,Q)),null;const{sourceX:De,sourceY:re,targetX:Se,targetY:Pe}=a9e(J,Y,ie,H,te,me);return ut.createElement(R,{key:Q.id,id:Q.id,className:ml([Q.className,s]),type:ne,data:Q.data,selected:!!Q.selected,animated:!!Q.animated,hidden:!!Q.hidden,label:Q.label,labelStyle:Q.labelStyle,labelShowBg:Q.labelShowBg,labelBgStyle:Q.labelBgStyle,labelBgPadding:Q.labelBgPadding,labelBgBorderRadius:Q.labelBgBorderRadius,style:Q.style,source:Q.source,target:Q.target,sourceHandleId:Q.sourceHandle,targetHandleId:Q.targetHandle,markerEnd:Q.markerEnd,markerStart:Q.markerStart,sourceX:De,sourceY:re,targetX:Se,targetY:Pe,sourcePosition:ie,targetPosition:me,elementsSelectable:B,onContextMenu:i,onMouseEnter:o,onMouseMove:l,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:g,rfId:n,ariaLabel:Q.ariaLabel,isFocusable:oe,isReconnectable:ge,pathOptions:"pathOptions"in Q?Q.pathOptions:void 0,interactionWidth:Q.interactionWidth,disableKeyboardA11y:y})})))),b):null};Ine.displayName="EdgeRenderer";var p9e=I.memo(Ine);const g9e=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function v9e({children:e}){const t=ns(g9e);return ut.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function x9e(e){const t=DN(),r=I.useRef(!1);I.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const b9e={[br.Left]:br.Right,[br.Right]:br.Left,[br.Top]:br.Bottom,[br.Bottom]:br.Top},jne=({nodeId:e,handleType:t,style:r,type:n=d0.Bezier,CustomComponent:a,connectionStatus:s})=>{var O,w,C;const{fromNode:i,handleId:o,toX:l,toY:u,connectionMode:d}=ns(I.useCallback(N=>({fromNode:N.nodeInternals.get(e),handleId:N.connectionHandleId,toX:(N.connectionPosition.x-N.transform[0])/N.transform[2],toY:(N.connectionPosition.y-N.transform[1])/N.transform[2],connectionMode:N.connectionMode}),[e]),qo),f=(O=i==null?void 0:i[bs])==null?void 0:O.handleBounds;let h=f==null?void 0:f[t];if(d===Dp.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!i||!h)return null;const p=o?h.find(N=>N.id===o):h[0],v=p?p.x+p.width/2:(i.width??0)/2,g=p?p.y+p.height/2:i.height??0,b=(((w=i.positionAbsolute)==null?void 0:w.x)??0)+v,y=(((C=i.positionAbsolute)==null?void 0:C.y)??0)+g,_=p==null?void 0:p.position,S=_?b9e[_]:null;if(!_||!S)return null;if(a)return ut.createElement(a,{connectionLineType:n,connectionLineStyle:r,fromNode:i,fromHandle:p,fromX:b,fromY:y,toX:l,toY:u,fromPosition:_,toPosition:S,connectionStatus:s});let B="";const k={sourceX:b,sourceY:y,sourcePosition:_,targetX:l,targetY:u,targetPosition:S};return n===d0.Bezier?[B]=tne(k):n===d0.Step?[B]=hF({...k,borderRadius:0}):n===d0.SmoothStep?[B]=hF(k):n===d0.SimpleBezier?[B]=ene(k):B=`M${b},${y} ${l},${u}`,ut.createElement("path",{d:B,fill:"none",className:"react-flow__connection-path",style:r})};jne.displayName="ConnectionLine";const y9e=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function w9e({containerStyle:e,style:t,type:r,component:n}){const{nodeId:a,handleType:s,nodesConnectable:i,width:o,height:l,connectionStatus:u}=ns(y9e,qo);return!(a&&s&&o&&i)?null:ut.createElement("svg",{style:e,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},ut.createElement("g",{className:ml(["react-flow__connection",u])},ut.createElement(jne,{nodeId:a,handleType:s,style:t,type:r,CustomComponent:n,connectionStatus:u})))}function MV(e,t){return I.useRef(null),$i(),I.useMemo(()=>t(e),[e])}const Fne=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:a,onInit:s,onNodeClick:i,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:v,onSelectionStart:g,onSelectionEnd:b,connectionLineType:y,connectionLineStyle:_,connectionLineComponent:S,connectionLineContainerStyle:B,selectionKeyCode:k,selectionOnDrag:O,selectionMode:w,multiSelectionKeyCode:C,panActivationKeyCode:N,zoomActivationKeyCode:P,deleteKeyCode:j,onlyRenderVisibleElements:F,elementsSelectable:M,selectNodesOnDrag:Q,defaultViewport:J,translateExtent:q,minZoom:Z,maxZoom:H,preventScrolling:V,defaultMarkerColor:G,zoomOnScroll:ne,zoomOnPinch:R,panOnScroll:W,panOnScrollSpeed:Y,panOnScrollMode:te,zoomOnDoubleClick:ie,panOnDrag:me,onPaneClick:oe,onPaneMouseEnter:ce,onPaneMouseMove:ge,onPaneMouseLeave:De,onPaneScroll:re,onPaneContextMenu:Se,onEdgeContextMenu:Pe,onEdgeMouseEnter:_e,onEdgeMouseMove:Ae,onEdgeMouseLeave:je,onReconnect:$e,onReconnectStart:Ze,onReconnectEnd:ye,reconnectRadius:Oe,noDragClassName:Me,noWheelClassName:Ye,noPanClassName:tt,elevateEdgesOnSelect:ct,disableKeyboardA11y:gt,nodeOrigin:kt,nodeExtent:Dt,rfId:Re})=>{const Ue=MV(e,X7e),Be=MV(t,n9e);return x9e(s),ut.createElement(q7e,{onPaneClick:oe,onPaneMouseEnter:ce,onPaneMouseMove:ge,onPaneMouseLeave:De,onPaneContextMenu:Se,onPaneScroll:re,deleteKeyCode:j,selectionKeyCode:k,selectionOnDrag:O,selectionMode:w,onSelectionStart:g,onSelectionEnd:b,multiSelectionKeyCode:C,panActivationKeyCode:N,zoomActivationKeyCode:P,elementsSelectable:M,onMove:r,onMoveStart:n,onMoveEnd:a,zoomOnScroll:ne,zoomOnPinch:R,zoomOnDoubleClick:ie,panOnScroll:W,panOnScrollSpeed:Y,panOnScrollMode:te,panOnDrag:me,defaultViewport:J,translateExtent:q,minZoom:Z,maxZoom:H,onSelectionContextMenu:v,preventScrolling:V,noDragClassName:Me,noWheelClassName:Ye,noPanClassName:tt,disableKeyboardA11y:gt},ut.createElement(v9e,null,ut.createElement(p9e,{edgeTypes:Be,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:Pe,onEdgeMouseEnter:_e,onEdgeMouseMove:Ae,onEdgeMouseLeave:je,onReconnect:$e,onReconnectStart:Ze,onReconnectEnd:ye,reconnectRadius:Oe,defaultMarkerColor:G,noPanClassName:tt,elevateEdgesOnSelect:!!ct,disableKeyboardA11y:gt,rfId:Re},ut.createElement(w9e,{style:_,type:y,component:S,containerStyle:B})),ut.createElement("div",{className:"react-flow__edgelabel-renderer"}),ut.createElement(Z7e,{nodeTypes:Ue,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:Q,onlyRenderVisibleElements:F,noPanClassName:tt,noDragClassName:Me,disableKeyboardA11y:gt,nodeOrigin:kt,nodeExtent:Dt,rfId:Re})))};Fne.displayName="GraphView";var E9e=I.memo(Fne);const xF=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Xh={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:xF,nodeExtent:xF,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Dp.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:YUe,isValidConnection:void 0},C9e=()=>sLe((e,t)=>({...Xh,setNodes:r=>{const{nodeInternals:n,nodeOrigin:a,elevateNodesOnSelect:s}=t();e({nodeInternals:xT(r,n,a,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(a=>({...n,...a}))})},setDefaultNodesAndEdges:(r,n)=>{const a=typeof r<"u",s=typeof n<"u",i=a?xT(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:s?n:[],hasDefaultNodes:a,hasDefaultEdges:s})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:a,fitViewOnInit:s,fitViewOnInitDone:i,fitViewOnInitOptions:o,domNode:l,nodeOrigin:u}=t(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=r.reduce((g,b)=>{const y=a.get(b.id);if(y!=null&&y.hidden)a.set(y.id,{...y,[bs]:{...y[bs],handleBounds:void 0}});else if(y){const _=rP(b.nodeElement);!!(_.width&&_.height&&(y.width!==_.width||y.height!==_.height||b.forceUpdate))&&(a.set(y.id,{...y,[bs]:{...y[bs],handleBounds:{source:jV(".source",b.nodeElement,h,u),target:jV(".target",b.nodeElement,h,u)}},..._}),g.push({id:y.id,type:"dimensions",dimensions:_}))}return g},[]);xne(a,u);const v=i||s&&!i&&bne(t,{initial:!0,...o});e({nodeInternals:new Map(a),fitViewOnInitDone:v}),(p==null?void 0:p.length)>0&&(n==null||n(p))},updateNodePositions:(r,n=!0,a=!1)=>{const{triggerNodeChanges:s}=t(),i=r.map(o=>{const l={id:o.id,type:"position",dragging:a};return n&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});s(i)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:a,hasDefaultNodes:s,nodeOrigin:i,getNodes:o,elevateNodesOnSelect:l}=t();if(r!=null&&r.length){if(s){const u=wne(r,o()),d=xT(u,a,i,l);e({nodeInternals:d})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:a,getNodes:s}=t();let i,o=null;n?i=r.map(l=>a0(l,!0)):(i=gv(s(),r),o=gv(a,[])),sC({changedNodes:i,changedEdges:o,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:a,getNodes:s}=t();let i,o=null;n?i=r.map(l=>a0(l,!0)):(i=gv(a,r),o=gv(s(),[])),sC({changedNodes:o,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:a,getNodes:s}=t(),i=r||s(),o=n||a,l=i.map(d=>(d.selected=!1,a0(d.id,!1))),u=o.map(d=>a0(d.id,!1));sC({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:a}=t();n==null||n.scaleExtent([r,a]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:a}=t();n==null||n.scaleExtent([a,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),s=n().filter(o=>o.selected).map(o=>a0(o.id,!1)),i=r.filter(o=>o.selected).map(o=>a0(o.id,!1));sC({changedNodes:s,changedEdges:i,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(a=>{a.positionAbsolute=nP(a.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:a,height:s,d3Zoom:i,d3Selection:o,translateExtent:l}=t();if(!i||!o||!r.x&&!r.y)return!1;const u=B0.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),d=[[0,0],[a,s]],f=i==null?void 0:i.constrain()(u,d,l);return i.transform(o,f),n[0]!==f.x||n[1]!==f.y||n[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Xh.connectionNodeId,connectionHandleId:Xh.connectionHandleId,connectionHandleType:Xh.connectionHandleType,connectionStatus:Xh.connectionStatus,connectionStartHandle:Xh.connectionStartHandle,connectionEndHandle:Xh.connectionEndHandle}),reset:()=>e({...Xh})}),Object.is),fP=({children:e})=>{const t=I.useRef(null);return t.current||(t.current=C9e()),ut.createElement(VUe,{value:t.current},e)};fP.displayName="ReactFlowProvider";const One=({children:e})=>I.useContext(FN)?ut.createElement(ut.Fragment,null,e):ut.createElement(fP,null,e);One.displayName="ReactFlowWrapper";const _9e={input:Ane,default:gF,output:hne,group:dP},S9e={default:_S,straight:oP,step:iP,smoothstep:ON,simplebezier:sP},N9e=[0,0],k9e=[15,15],B9e={x:0,y:0,zoom:1},T9e={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Dne=I.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:s=_9e,edgeTypes:i=S9e,onNodeClick:o,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:v,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:y,onNodeMouseEnter:_,onNodeMouseMove:S,onNodeMouseLeave:B,onNodeContextMenu:k,onNodeDoubleClick:O,onNodeDragStart:w,onNodeDrag:C,onNodeDragStop:N,onNodesDelete:P,onEdgesDelete:j,onSelectionChange:F,onSelectionDragStart:M,onSelectionDrag:Q,onSelectionDragStop:J,onSelectionContextMenu:q,onSelectionStart:Z,onSelectionEnd:H,connectionMode:V=Dp.Strict,connectionLineType:G=d0.Bezier,connectionLineStyle:ne,connectionLineComponent:R,connectionLineContainerStyle:W,deleteKeyCode:Y="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:ie=!1,selectionMode:me=Gy.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:ce=ES()?"Meta":"Control",zoomActivationKeyCode:ge=ES()?"Meta":"Control",snapToGrid:De=!1,snapGrid:re=k9e,onlyRenderVisibleElements:Se=!1,selectNodesOnDrag:Pe=!0,nodesDraggable:_e,nodesConnectable:Ae,nodesFocusable:je,nodeOrigin:$e=N9e,edgesFocusable:Ze,edgesUpdatable:ye,elementsSelectable:Oe,defaultViewport:Me=B9e,minZoom:Ye=.5,maxZoom:tt=2,translateExtent:ct=xF,preventScrolling:gt=!0,nodeExtent:kt,defaultMarkerColor:Dt="#b1b1b7",zoomOnScroll:Re=!0,zoomOnPinch:Ue=!0,panOnScroll:Be=!1,panOnScrollSpeed:ht=.5,panOnScrollMode:wt=Ym.Free,zoomOnDoubleClick:ir=!0,panOnDrag:Kt=!0,onPaneClick:Ut,onPaneMouseEnter:Ur,onPaneMouseMove:Ar,onPaneMouseLeave:wn,onPaneScroll:Vr,onPaneContextMenu:Tn,children:ra,onEdgeContextMenu:cr,onEdgeDoubleClick:er,onEdgeMouseEnter:qr,onEdgeMouseMove:qs,onEdgeMouseLeave:ha,onEdgeUpdate:Ga,onEdgeUpdateStart:di,onEdgeUpdateEnd:Yt,onReconnect:En,onReconnectStart:hn,onReconnectEnd:$n,reconnectRadius:na=10,edgeUpdaterRadius:ma=10,onNodesChange:fe,onEdgesChange:Te,noDragClassName:Ee="nodrag",noWheelClassName:Ce="nowheel",noPanClassName:Ne="nopan",fitView:Ie=!1,fitViewOptions:et,connectOnClick:At=!0,attributionPosition:qe,proOptions:nt,defaultEdgeOptions:it,elevateNodesOnSelect:Bt=!0,elevateEdgesOnSelect:Mt=!1,disableKeyboardA11y:Gt=!1,autoPanOnConnect:Lt=!0,autoPanOnNodeDrag:Qt=!0,connectionRadius:Er=20,isValidConnection:Xr,onError:Yr,style:rn,id:is,nodeDragThreshold:ho,...os},Ws)=>{const Ns=is||"1";return ut.createElement("div",{...os,style:{...rn,...T9e},ref:Ws,className:ml(["react-flow",a]),"data-testid":"rf__wrapper",id:is},ut.createElement(One,null,ut.createElement(E9e,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:_,onNodeMouseMove:S,onNodeMouseLeave:B,onNodeContextMenu:k,onNodeDoubleClick:O,nodeTypes:s,edgeTypes:i,connectionLineType:G,connectionLineStyle:ne,connectionLineComponent:R,connectionLineContainerStyle:W,selectionKeyCode:te,selectionOnDrag:ie,selectionMode:me,deleteKeyCode:Y,multiSelectionKeyCode:ce,panActivationKeyCode:oe,zoomActivationKeyCode:ge,onlyRenderVisibleElements:Se,selectNodesOnDrag:Pe,defaultViewport:Me,translateExtent:ct,minZoom:Ye,maxZoom:tt,preventScrolling:gt,zoomOnScroll:Re,zoomOnPinch:Ue,zoomOnDoubleClick:ir,panOnScroll:Be,panOnScrollSpeed:ht,panOnScrollMode:wt,panOnDrag:Kt,onPaneClick:Ut,onPaneMouseEnter:Ur,onPaneMouseMove:Ar,onPaneMouseLeave:wn,onPaneScroll:Vr,onPaneContextMenu:Tn,onSelectionContextMenu:q,onSelectionStart:Z,onSelectionEnd:H,onEdgeContextMenu:cr,onEdgeDoubleClick:er,onEdgeMouseEnter:qr,onEdgeMouseMove:qs,onEdgeMouseLeave:ha,onReconnect:En??Ga,onReconnectStart:hn??di,onReconnectEnd:$n??Yt,reconnectRadius:na??ma,defaultMarkerColor:Dt,noDragClassName:Ee,noWheelClassName:Ce,noPanClassName:Ne,elevateEdgesOnSelect:Mt,rfId:Ns,disableKeyboardA11y:Gt,nodeOrigin:$e,nodeExtent:kt}),ut.createElement(b7e,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:p,onConnectStart:v,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:y,nodesDraggable:_e,nodesConnectable:Ae,nodesFocusable:je,edgesFocusable:Ze,edgesUpdatable:ye,elementsSelectable:Oe,elevateNodesOnSelect:Bt,minZoom:Ye,maxZoom:tt,nodeExtent:kt,onNodesChange:fe,onEdgesChange:Te,snapToGrid:De,snapGrid:re,connectionMode:V,translateExtent:ct,connectOnClick:At,defaultEdgeOptions:it,fitView:Ie,fitViewOptions:et,onNodesDelete:P,onEdgesDelete:j,onNodeDragStart:w,onNodeDrag:C,onNodeDragStop:N,onSelectionDrag:Q,onSelectionDragStart:M,onSelectionDragStop:J,noPanClassName:Ne,nodeOrigin:$e,rfId:Ns,autoPanOnConnect:Lt,autoPanOnNodeDrag:Qt,onError:Yr,connectionRadius:Er,isValidConnection:Xr,nodeDragThreshold:ho}),ut.createElement(v7e,{onSelectionChange:F}),ra,ut.createElement($Ue,{proOptions:nt,position:qe}),ut.createElement(_7e,{rfId:Ns,disableKeyboardA11y:Gt})))});Dne.displayName="ReactFlow";function Pne(e){return t=>{const[r,n]=I.useState(t),a=I.useCallback(s=>n(i=>e(s,i)),[]);return[r,n,a]}}const I9e=Pne(wne),j9e=Pne(M7e);function F9e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ut.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function O9e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ut.createElement("path",{d:"M0 0h32v4.2H0z"}))}function D9e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ut.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function P9e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ut.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function R9e(){return ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ut.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Db=({children:e,className:t,...r})=>ut.createElement("button",{type:"button",className:ml(["react-flow__controls-button",t]),...r},e);Db.displayName="ControlButton";const L9e=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Rne=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:i,onFitView:o,onInteractiveChange:l,className:u,children:d,position:f="bottom-left"})=>{const h=$i(),[p,v]=I.useState(!1),{isInteractive:g,minZoomReached:b,maxZoomReached:y}=ns(L9e,qo),{zoomIn:_,zoomOut:S,fitView:B}=DN();if(I.useEffect(()=>{v(!0)},[]),!p)return null;const k=()=>{_(),s==null||s()},O=()=>{S(),i==null||i()},w=()=>{B(a),o==null||o()},C=()=>{h.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return ut.createElement(Gre,{className:ml(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&ut.createElement(ut.Fragment,null,ut.createElement(Db,{onClick:k,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},ut.createElement(F9e,null)),ut.createElement(Db,{onClick:O,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},ut.createElement(O9e,null))),r&&ut.createElement(Db,{className:"react-flow__controls-fitview",onClick:w,title:"fit view","aria-label":"fit view"},ut.createElement(D9e,null)),n&&ut.createElement(Db,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},g?ut.createElement(R9e,null):ut.createElement(P9e,null)),d)};Rne.displayName="Controls";var M9e=I.memo(Rne),hd;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(hd||(hd={}));function U9e({color:e,dimensions:t,lineWidth:r}){return ut.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Q9e({color:e,radius:t}){return ut.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const H9e={[hd.Dots]:"#91919a",[hd.Lines]:"#eee",[hd.Cross]:"#e2e2e2"},V9e={[hd.Dots]:1,[hd.Lines]:1,[hd.Cross]:6},z9e=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Lne({id:e,variant:t=hd.Dots,gap:r=20,size:n,lineWidth:a=1,offset:s=2,color:i,style:o,className:l}){const u=I.useRef(null),{transform:d,patternId:f}=ns(z9e,qo),h=i||H9e[t],p=n||V9e[t],v=t===hd.Dots,g=t===hd.Cross,b=Array.isArray(r)?r:[r,r],y=[b[0]*d[2]||1,b[1]*d[2]||1],_=p*d[2],S=g?[_,_]:y,B=v?[_/s,_/s]:[S[0]/s,S[1]/s];return ut.createElement("svg",{className:ml(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},ut.createElement("pattern",{id:f+e,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${B[0]},-${B[1]})`},v?ut.createElement(Q9e,{color:h,radius:_/s}):ut.createElement(U9e,{dimensions:S,color:h,lineWidth:a})),ut.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}Lne.displayName="Background";var $9e=I.memo(Lne);function K9e(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const G9e=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function I0(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let Wg=null;function Mne(e={}){return Wg||(e.includeStyleProperties?(Wg=e.includeStyleProperties,Wg):(Wg=I0(window.getComputedStyle(document.documentElement)),Wg))}function SS(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function q9e(e){const t=SS(e,"border-left-width"),r=SS(e,"border-right-width");return e.clientWidth+t+r}function W9e(e){const t=SS(e,"border-top-width"),r=SS(e,"border-bottom-width");return e.clientHeight+t+r}function Une(e,t={}){const r=t.width||q9e(e),n=t.height||W9e(e);return{width:r,height:n}}function X9e(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const uc=16384;function Y9e(e){(e.width>uc||e.height>uc)&&(e.width>uc&&e.height>uc?e.width>e.height?(e.height*=uc/e.width,e.width=uc):(e.width*=uc/e.height,e.height=uc):e.width>uc?(e.height*=uc/e.width,e.width=uc):(e.width*=uc/e.height,e.height=uc))}function NS(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function J9e(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Z9e(e,t,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${t} ${r}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(e),J9e(a)}const Hl=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||Hl(r,t)};function eQe(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function tQe(e,t){return Mne(t).map(r=>{const n=e.getPropertyValue(r),a=e.getPropertyPriority(r);return`${r}: ${n}${a?" !important":""};`}).join(" ")}function rQe(e,t,r,n){const a=`.${e}:${t}`,s=r.cssText?eQe(r):tQe(r,n);return document.createTextNode(`${a}{${s}}`)}function UV(e,t,r,n){const a=window.getComputedStyle(e,r),s=a.getPropertyValue("content");if(s===""||s==="none")return;const i=G9e();try{t.className=`${t.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild(rQe(i,r,a,n)),t.appendChild(o)}function nQe(e,t,r){UV(e,t,":before",r),UV(e,t,":after",r)}const QV="application/font-woff",HV="image/jpeg",aQe={woff:QV,woff2:QV,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:HV,jpeg:HV,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function sQe(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function hP(e){const t=sQe(e).toLowerCase();return aQe[t]||""}function iQe(e){return e.split(/,/)[1]}function bF(e){return e.search(/^(data:)/)!==-1}function oQe(e,t){return`data:${t};base64,${e}`}async function Qne(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((s,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{s(r({res:n,result:o.result}))}catch(l){i(l)}},o.readAsDataURL(a)})}const ET={};function lQe(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function mP(e,t,r){const n=lQe(e,t,r.includeQueryParams);if(ET[n]!=null)return ET[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const s=await Qne(e,r.fetchRequestInit,({res:i,result:o})=>(t||(t=i.headers.get("Content-Type")||""),iQe(o)));a=oQe(s,t)}catch(s){a=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;s&&(i=typeof s=="string"?s:s.message),i&&console.warn(i)}return ET[n]=a,a}async function cQe(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):NS(t)}async function uQe(e,t){if(e.currentSrc){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,i==null||i.drawImage(e,0,0,s.width,s.height);const o=s.toDataURL();return NS(o)}const r=e.poster,n=hP(r),a=await mP(r,n,t);return NS(a)}async function dQe(e,t){var r;try{if(!((r=e==null?void 0:e.contentDocument)===null||r===void 0)&&r.body)return await PN(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function AQe(e,t){return Hl(e,HTMLCanvasElement)?cQe(e):Hl(e,HTMLVideoElement)?uQe(e,t):Hl(e,HTMLIFrameElement)?dQe(e,t):e.cloneNode(Hne(e))}const fQe=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Hne=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function hQe(e,t,r){var n,a;if(Hne(t))return t;let s=[];return fQe(e)&&e.assignedNodes?s=I0(e.assignedNodes()):Hl(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?s=I0(e.contentDocument.body.childNodes):s=I0(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),s.length===0||Hl(e,HTMLVideoElement)||await s.reduce((i,o)=>i.then(()=>PN(o,r)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function mQe(e,t,r){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):Mne(r).forEach(s=>{let i=a.getPropertyValue(s);s==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),Hl(e,HTMLIFrameElement)&&s==="display"&&i==="inline"&&(i="block"),s==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(s,i,a.getPropertyPriority(s))})}function pQe(e,t){Hl(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Hl(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function gQe(e,t){if(Hl(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function vQe(e,t,r){return Hl(t,Element)&&(mQe(e,t,r),nQe(e,t,r),pQe(e,t),gQe(e,t)),t}async function xQe(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let s=0;s<r.length;s++){const o=r[s].getAttribute("xlink:href");if(o){const l=e.querySelector(o),u=document.querySelector(o);!l&&u&&!n[o]&&(n[o]=await PN(u,t,!0))}}const a=Object.values(n);if(a.length){const s="http://www.w3.org/1999/xhtml",i=document.createElementNS(s,"svg");i.setAttribute("xmlns",s),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(s,"defs");i.appendChild(o);for(let l=0;l<a.length;l++)o.appendChild(a[l]);e.appendChild(i)}return e}async function PN(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>AQe(n,t)).then(n=>hQe(e,n,t)).then(n=>vQe(e,n,t)).then(n=>xQe(n,t))}const Vne=/url\((['"]?)([^'"]+?)\1\)/g,bQe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,yQe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function wQe(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function EQe(e){const t=[];return e.replace(Vne,(r,n,a)=>(t.push(a),r)),t.filter(r=>!bF(r))}async function CQe(e,t,r,n,a){try{const s=r?K9e(t,r):t,i=hP(t);let o;return a||(o=await mP(s,i,n)),e.replace(wQe(t),`$1${o}$3`)}catch{}return e}function _Qe(e,{preferredFontFormat:t}){return t?e.replace(yQe,r=>{for(;;){const[n,,a]=bQe.exec(r)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function zne(e){return e.search(Vne)!==-1}async function $ne(e,t,r){if(!zne(e))return e;const n=_Qe(e,r);return EQe(n).reduce((s,i)=>s.then(o=>CQe(o,i,t,r)),Promise.resolve(n))}async function Xg(e,t,r){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const s=await $ne(a,null,r);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function SQe(e,t){await Xg("background",e,t)||await Xg("background-image",e,t),await Xg("mask",e,t)||await Xg("-webkit-mask",e,t)||await Xg("mask-image",e,t)||await Xg("-webkit-mask-image",e,t)}async function NQe(e,t){const r=Hl(e,HTMLImageElement);if(!(r&&!bF(e.src))&&!(Hl(e,SVGImageElement)&&!bF(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,a=await mP(n,hP(n),t);await new Promise((s,i)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...l)=>{try{s(t.onImageErrorHandler(...l))}catch(u){i(u)}}:i;const o=e;o.decode&&(o.decode=s),o.loading==="lazy"&&(o.loading="eager"),r?(e.srcset="",e.src=a):e.href.baseVal=a})}async function kQe(e,t){const n=I0(e.childNodes).map(a=>Kne(a,t));await Promise.all(n).then(()=>e)}async function Kne(e,t){Hl(e,Element)&&(await SQe(e,t),await NQe(e,t),await kQe(e,t))}function BQe(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),e}const VV={};async function zV(e){let t=VV[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},VV[e]=t,t}async function $V(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),Qne(o,t.fetchRequestInit,({result:l})=>(r=r.replace(i,`url(${l})`),[i,l]))});return Promise.all(s).then(()=>r)}function KV(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(n);if(l===null)break;t.push(l[0])}n=n.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let l=s.exec(n);if(l===null){if(l=o.exec(n),l===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;t.push(l[0])}return t}async function TQe(e,t){const r=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{I0(a.cssRules||[]).forEach((s,i)=>{if(s.type===CSSRule.IMPORT_RULE){let o=i+1;const l=s.href,u=zV(l).then(d=>$V(d,t)).then(d=>KV(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?o+=1:a.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});n.push(u)}})}catch(s){const i=e.find(o=>o.href==null)||document.styleSheets[0];a.href!=null&&n.push(zV(a.href).then(o=>$V(o,t)).then(o=>KV(o).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",s)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{I0(a.cssRules||[]).forEach(s=>{r.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s)}}),r))}function IQe(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>zne(t.style.getPropertyValue("src")))}async function jQe(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=I0(e.ownerDocument.styleSheets),n=await TQe(r,t);return IQe(n)}function Gne(e){return e.trim().replace(/["']/g,"")}function FQe(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(s=>{t.add(Gne(s))}),Array.from(n.children).forEach(s=>{s instanceof HTMLElement&&r(s)})}return r(e),t}async function OQe(e,t){const r=await jQe(e,t),n=FQe(e);return(await Promise.all(r.filter(s=>n.has(Gne(s.style.fontFamily))).map(s=>{const i=s.parentStyleSheet?s.parentStyleSheet.href:null;return $ne(s.cssText,i,t)}))).join(`
`)}async function DQe(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await OQe(e,t);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function PQe(e,t={}){const{width:r,height:n}=Une(e,t),a=await PN(e,t,!0);return await DQe(a,t),await Kne(a,t),BQe(a,t),await Z9e(a,r,n)}async function RQe(e,t={}){const{width:r,height:n}=Une(e,t),a=await PQe(e,t),s=await NS(a),i=document.createElement("canvas"),o=i.getContext("2d"),l=t.pixelRatio||X9e(),u=t.canvasWidth||r,d=t.canvasHeight||n;return i.width=u*l,i.height=d*l,t.skipAutoScale||Y9e(i),i.style.width=`${u}`,i.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(s,0,0,i.width,i.height),i}async function RN(e,t={}){return(await RQe(e,t)).toDataURL()}const qne="recursos_crucigramas",LN="recursos_lineas_de_tiempo",MN="recursos_mapas_mentales",Wne="recursos_sopas_de_letras",UN=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,createdAt:((s=(a=t.createdAt)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString())||t.createdAt}},LQe=e=>{const t=Zt(Rt(jt,qne),Gr("fechaCreacion","desc"));return wr(t,r=>{const n=r.docs.map(a=>UN(a));e(n)},r=>{console.error("Error al suscribirse a los crucigramas:",r),e([])})},MQe=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,fechaCreacion:mr.fromDate(new Date)};return(await qn(Rt(jt,qne),r)).id}catch(r){throw console.error("Error al guardar el crucigrama:",r),new Error("No se pudo guardar el crucigrama.")}},UQe=e=>{const t=Zt(Rt(jt,LN),Gr("createdAt","desc"));return wr(t,r=>{const n=r.docs.map(a=>UN(a));e(n)},r=>{console.error("Error al suscribirse a las lneas de tiempo:",r),e([])})},QQe=async(e,t)=>{try{const{id:r,...n}=e,a=vr(jt,LN,r);await fo(a,{...n,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:mr.fromDate(new Date(n.createdAt||Date.now()))},{merge:!0})}catch(r){throw console.error("Error al guardar la lnea de tiempo:",r),new Error("No se pudo guardar la lnea de tiempo.")}},HQe=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:mr.fromDate(new Date)};return(await qn(Rt(jt,LN),r)).id}catch(r){throw console.error("Error al crear la lnea de tiempo:",r),new Error("No se pudo crear la lnea de tiempo.")}},VQe=async e=>{try{const t=vr(jt,LN,e);await $s(t)}catch(t){throw console.error("Error al eliminar la lnea de tiempo:",t),new Error("No se pudo eliminar la lnea de tiempo.")}},zQe=e=>{const t=Zt(Rt(jt,MN),Gr("createdAt","desc"));return wr(t,r=>{const n=r.docs.map(a=>UN(a));e(n)},r=>{console.error("Error al suscribirse a los mapas mentales:",r),e([])})},$Qe=async(e,t)=>{try{const{id:r,...n}=e,a=vr(jt,MN,r);await fo(a,{...n,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:mr.fromDate(new Date(n.createdAt||Date.now()))},{merge:!0})}catch(r){throw console.error("Error al guardar el mapa mental:",r),new Error("No se pudo guardar el mapa mental.")}},KQe=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:mr.fromDate(new Date)};return(await qn(Rt(jt,MN),r)).id}catch(r){throw console.error("Error al crear el mapa mental:",r),new Error("No se pudo crear el mapa mental.")}},GQe=async e=>{try{const t=vr(jt,MN,e);await $s(t)}catch(t){throw console.error("Error al eliminar el mapa mental:",t),new Error("No se pudo eliminar el mapa mental.")}},qQe=e=>{const t=Zt(Rt(jt,Wne),Gr("createdAt","desc"));return wr(t,r=>{const n=r.docs.map(a=>UN(a));e(n)},r=>{console.error("Error al suscribirse a las sopas de letras:",r),e([])})},WQe=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:mr.fromDate(new Date)};return(await qn(Rt(jt,Wne),r)).id}catch(r){throw console.error("Error al guardar la sopa de letras:",r),new Error("No se pudo guardar la sopa de letras.")}},XQe=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),YQe=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657l-4.243 4.243a1 1 0 01-1.414 0l-4.243-4.243a1 1 0 010-1.414l4.243-4.243a1 1 0 011.414 0l4.243 4.243a1 1 0 010 1.414z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6"})]}),JQe=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5l7 7-7 7"})]}),ZQe=({data:e})=>{const t={"Concepto Clave":"bg-blue-100 border-blue-300 dark:bg-blue-900/30 dark:border-blue-700","Ejemplo Prctico":"bg-green-100 border-green-300 dark:bg-green-900/30 dark:border-green-700","Dato Interesante":"bg-yellow-100 border-yellow-300 dark:bg-yellow-900/30 dark:border-yellow-700","Pregunta Abierta":"bg-purple-100 border-purple-300 dark:bg-purple-900/30 dark:border-purple-700",default:"bg-white border-slate-300 dark:bg-slate-800 dark:border-slate-600"},r=t[e.type||"default"]||t.default;return c.jsxs("div",{className:`p-3 rounded-lg shadow-md border-2 ${r} flex items-center gap-3 min-w-[180px]`,children:[c.jsx(Ax,{type:"target",position:br.Left,className:"w-2 h-2 !bg-slate-400"}),c.jsx("span",{className:"text-xl",children:e.icon||""}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm",children:e.label}),e.type&&c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.type})]}),c.jsx(Ax,{type:"source",position:br.Right,className:"w-2 h-2 !bg-slate-400"})]})},yF=(e,t)=>!e.children||e.children.length===0?t:e.children.reduce((r,n)=>r+yF(n,t),0),wF=(e,t="tree")=>{const r=[],n=[];if(t==="tree"){const i=(o,l,u)=>{r.push({id:o.id,position:{x:l*280,y:u},data:{label:o.label,icon:o.icon,type:o.type},type:"custom"});const d=yF(o,100);let f=u-d/2+100/2;(o.children||[]).forEach(h=>{const p=yF(h,100),v=f+p/2-100/2;n.push({id:`e-${o.id}-${h.id}`,source:o.id,target:h.id,type:"smoothstep",animated:!0}),i(h,l+1,v),f+=p})};i(e,0,0)}else{r.push({id:e.id,position:{x:0,y:0},data:{label:e.label,icon:e.icon,type:e.type},type:"custom"});const i=300,o=500;(e.children||[]).forEach((l,u)=>{const d=u/e.children.length*2*Math.PI;r.push({id:l.id,position:{x:i*Math.cos(d),y:i*Math.sin(d)},data:{label:l.label,icon:l.icon,type:l.type},type:"custom"}),n.push({id:`e-${e.id}-${l.id}`,source:e.id,target:l.id,type:"smoothstep"}),(l.children||[]).forEach((f,h)=>{const p=d+(h-(l.children.length-1)/2)*.25;r.push({id:f.id,position:{x:o*Math.cos(p),y:o*Math.sin(p)},data:{label:f.label,icon:f.icon,type:f.type},type:"custom"}),n.push({id:`e-${l.id}-${f.id}`,source:l.id,target:f.id,type:"smoothstep"})})})}return{nodes:r,edges:n}},Xne=({node:e,onUpdate:t,onAddChild:r,onDelete:n,level:a=0})=>{const s=["bg-blue-100/50 dark:bg-blue-900/20","bg-yellow-100/50 dark:bg-yellow-900/20","bg-green-100/50 dark:bg-green-900/20"],i=["border-blue-300 dark:border-blue-700","border-yellow-300 dark:border-yellow-700","border-green-300 dark:border-green-700"];return c.jsxs("div",{className:`pl-4 ${a>0?"border-l "+i[a-1%i.length]:""}`,children:[c.jsx("div",{className:`p-2 rounded-lg my-1 ${s[a%s.length]}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:e.label,onChange:o=>t(e.id,o.target.value),className:"w-full bg-transparent focus:bg-white dark:focus:bg-slate-700 p-1 rounded border border-transparent focus:border-slate-300 dark:focus:border-slate-600 outline-none transition-colors"}),c.jsx("button",{onClick:()=>r(e.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:""}),a>0&&c.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:""})]})}),(e.children||[]).map(o=>c.jsx(Xne,{node:o,onUpdate:t,onAddChild:r,onDelete:n,level:a+1},o.id))]})},eHe={custom:ZQe},tHe=({mapData:e,onBack:t,onSave:r})=>{const[n,a]=I.useState(e.treeData),[s,i]=I.useState("tree"),[o,l]=I.useState(!1),[u,d,f]=I9e([]),[h,p,v]=j9e([]),{fitView:g}=DN();I.useEffect(()=>{const{nodes:k,edges:O}=wF(n,s);d(k),p(O),setTimeout(()=>g({duration:300}),50)},[n,s,d,p,g]);const b=(k,O)=>{const w=JSON.parse(JSON.stringify(n)),C=N=>N.id===k?(N.label=O,!0):(N.children||[]).some(C);C(w),a(w)},y=k=>{const O=JSON.parse(JSON.stringify(n)),w=C=>C.id===k?(C.children||(C.children=[]),C.children.push({id:crypto.randomUUID(),label:"Nuevo Nodo",children:[]}),!0):(C.children||[]).some(w);w(O),a(O)},_=k=>{const O=JSON.parse(JSON.stringify(n)),w=C=>{const N=(C.children||[]).findIndex(P=>P.id===k);return N!==-1?(C.children.splice(N,1),!0):(C.children||[]).some(w)};w(O),a(O)},S=()=>{l(!0);const{nodes:k,edges:O}=wF(n,s);r({...e,treeData:n,nodes:k,edges:O}),setTimeout(()=>l(!1),1e3)},B=async k=>{const O=document.querySelector(".react-flow");O&&RN(O,{backgroundColor:"#ffffff",cacheBust:!0,pixelRatio:2}).then(w=>{{const C=document.createElement("a");C.download=`${e.tema}.png`,C.href=w,C.click()}}).catch(w=>console.error("oops, something went wrong!",w))};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 truncate pr-4",children:e.tema}),c.jsx("button",{onClick:t,className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold flex-shrink-0",children:" Volver a la lista"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2 w-full h-[70vh] rounded-lg border dark:border-slate-700 relative",children:c.jsxs(Dne,{nodes:u,edges:h,onNodesChange:f,onEdgesChange:v,fitView:!0,nodeTypes:eHe,children:[c.jsx(M9e,{}),c.jsx($9e,{})]})}),c.jsxs("div",{className:"w-full h-[70vh] flex flex-col bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Editar"}),c.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b dark:border-slate-700 pb-2",children:[c.jsxs("button",{onClick:()=>i("tree"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${s==="tree"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[c.jsx(YQe,{})," Vista en rbol"]}),c.jsxs("button",{onClick:()=>i("central"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${s==="central"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[c.jsx(JQe,{})," Vista central"]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:c.jsx(Xne,{node:n,onUpdate:b,onAddChild:y,onDelete:_})}),c.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex justify-end gap-4",children:[c.jsx("button",{onClick:()=>B(),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Exportar PNG"}),c.jsx("button",{onClick:S,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 w-28",children:o?"Guardado!":"Guardar"})]})]})]})]})},rHe=({onBack:e,currentUser:t})=>{const[r,n]=I.useState("list"),[a,s]=I.useState([]),[i,o]=I.useState(null),[l,u]=I.useState(!1),[d,f]=I.useState(!0),[h,p]=I.useState(""),[v,g]=I.useState(""),[b,y]=I.useState("");I.useEffect(()=>{f(!0);const w=zQe(C=>{s(C),f(!1)});return()=>w()},[]);const _=async w=>{if(w.preventDefault(),!h.trim()){alert("El tema es obligatorio.");return}u(!0);const C="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",N=`
            Basado en el tema central "${h}", y considerando el contenido adicional "${b}", genera una estructura jerrquica para un mapa mental con al menos 3 niveles de profundidad.
            
            Tu respuesta DEBE ser un nico objeto JSON vlido sin texto adicional ni bloques \`\`\`json.
            
            La estructura del JSON debe ser un objeto raz con las siguientes claves:
            - "label": El tema central ("${h}").
            - "icon": Un emoji que represente el tema.
            - "type": La categora, que para el nodo raz debe ser "Concepto Clave".
            - "children": Un array de 2 a 4 nodos hijos.

            Cada nodo hijo (y sus descendientes) debe tener esta misma estructura:
            - "label": El texto del subtema.
            - "icon": Un emoji representativo.
            - "type": Una categora descriptiva (ej: "Concepto Clave", "Ejemplo Prctico", "Dato Interesante", "Pregunta Abierta").
            - "children": Un array de nodos hijos, o un array vaco si es un nodo final.
        `;try{const J=(await(await new Cs(C).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(N)).response).text().replace(/^```json\s*|```\s*$/g,""),q=JSON.parse(J),Z=W=>({id:crypto.randomUUID(),label:W.label||"Sin etiqueta",icon:W.icon||"",type:W.type||"default",children:(W.children||[]).map(Z)}),H=Z(q),{nodes:V,edges:G}=wF(H),ne={tema:h,nivel:v,treeData:H,nodes:V,edges:G},R=await KQe(ne,t);o({...ne,id:R,createdAt:new Date().toISOString()}),n("editor")}catch(P){console.error("AI Generation Error:",P),alert("Hubo un error al generar el mapa mental. La respuesta de la IA pudo tener un formato incorrecto. Intntelo de nuevo.")}finally{u(!1)}},S=async w=>{try{await $Qe(w,t)}catch(C){console.error("Error saving mind map:",C),alert("No se pudo guardar el mapa mental.")}},B=w=>{o(w),n("editor")},k=async w=>{if(window.confirm("Eliminar este mapa mental?"))try{await GQe(w)}catch(C){console.error("Error deleting mind map:",C),alert("No se pudo eliminar el mapa mental.")}},O=()=>{switch(r){case"editor":return i?c.jsx(fP,{children:c.jsx(tHe,{mapData:i,onBack:()=>n("list"),onSave:S})}):null;case"config":return c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nuevo Mapa Mental con IA"}),c.jsx("button",{onClick:()=>n("list"),className:"text-slate-600 hover:text-slate-900 font-semibold",children:" Volver"})]}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Tema Central ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",id:"tema",value:h,onChange:w=>p(w.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenido o ideas clave (Opcional)"}),c.jsx("textarea",{id:"contenido",value:b,onChange:w=>y(w.target.value),rows:4,placeholder:"Aade ms detalles para guiar a la IA...",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsx("button",{type:"submit",disabled:l,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[200px]",children:l?c.jsx(XQe,{}):"Generar Mapa con IA"})})]})]});case"list":default:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Mapas Mentales"}),c.jsx("button",{onClick:()=>n("config"),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nuevo"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length>0?a.map(w=>c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg shadow border dark:border-slate-700",children:[c.jsx("h3",{className:"font-bold text-lg truncate text-slate-800 dark:text-slate-200",children:w.tema}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(w.createdAt).toLocaleDateString("es-CL")]}),c.jsxs("div",{className:"mt-4 flex gap-2",children:[c.jsx("button",{onClick:()=>B(w),className:"flex-1 bg-slate-200 dark:bg-slate-600 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Editar"}),c.jsx("button",{onClick:()=>k(w.id),className:"flex-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Eliminar"})]})]},w.id)):c.jsx("p",{className:"col-span-full text-center text-slate-500 dark:text-slate-400 py-8",children:"No has creado ningn mapa mental todava."})})]})}};return d?c.jsx("div",{className:"text-center py-10",children:"Cargando mapas mentales..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mapas Mentales"}),c.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),O()]})},nHe=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),aHe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),sHe=({onBack:e,currentUser:t})=>{const[r,n]=I.useState([]),[a,s]=I.useState("Media"),[i,o]=I.useState(10),[l,u]=I.useState(!1),[d,f]=I.useState(Array(10).fill("")),[h,p]=I.useState(""),[v,g]=I.useState(null),[b,y]=I.useState({ai:!1,puzzle:!1,data:!0}),_=I.useRef(null);I.useEffect(()=>{y(j=>({...j,data:!0}));const P=qQe(j=>{n(j),y(F=>({...F,data:!1}))});return()=>P()},[]),I.useEffect(()=>{f(P=>{const j=Array(i).fill("");for(let F=0;F<Math.min(P.length,i);F++)j[F]=P[F];return j})},[i]);const S=(P,j)=>{const F=[...d];F[P]=j,f(F)},B=async()=>{if(h.trim()){y(P=>({...P,ai:!0}));try{const P="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",F=new Cs(P).getGenerativeModel({model:"gemini-1.5-flash-latest"}),M=`
                Genera una lista de ${i} palabras clave en espaol, estrictamente relacionadas con el tema "${h}".
                Tu respuesta DEBE ser un nico objeto JSON vlido sin texto adicional ni bloques \`\`\`json.
                El objeto debe tener una sola clave: "palabras".
                El valor de "palabras" debe ser un array de ${i} strings.
                Cada string en el array debe ser una sola palabra, sin espacios ni caracteres especiales.
            `,Z=(await(await F.generateContent(M)).response).text().replace(/^```json\s*|```\s*$/g,""),H=JSON.parse(Z);if(!H.palabras||!Array.isArray(H.palabras))throw new Error("La respuesta de la IA no contiene el array 'palabras' esperado.");const G=[...H.palabras.map(ne=>ne.toUpperCase().replace(/[^A-Z]/g,"")).slice(0,i)];for(;G.length<i;)G.push("");f(G)}catch(P){console.error("Error generating words with AI:",P),alert("No se pudieron generar las palabras. La respuesta de la IA pudo tener un formato incorrecto. Intntelo de nuevo.")}finally{y(P=>({...P,ai:!1}))}}},k=(P,j,F,M,Q,J)=>{for(let q=0;q<P.length;q++){const Z=F+q*Q.y,H=M+q*Q.x;if(Z<0||Z>=J||H<0||H>=J||j[Z][H]&&j[Z][H]!==P[q])return!1}return!0},O=(P,j,F,M,Q)=>{for(let J=0;J<P.length;J++)j[F+J*Q.y][M+J*Q.x]=P[J]},w=async()=>{y(Z=>({...Z,puzzle:!0})),g(null),await new Promise(Z=>setTimeout(Z,100));const P=d.map(Z=>Z.toUpperCase().replace(/[^A-Z]/g,"")).filter(Boolean);if(P.length===0){alert("Por favor, ingrese al menos una palabra vlida."),y(Z=>({...Z,puzzle:!1}));return}const j=Math.max(...P.map(Z=>Z.length));let F=Math.max(j,P.length)+2;a==="Media"&&(F+=3),a==="Difcil"&&(F+=5),F=Math.min(Math.max(F,10),25);const M=Array(F).fill(null).map(()=>Array(F).fill(null)),Q=[{x:1,y:0},{x:0,y:1},{x:1,y:1}];a!=="Fcil"&&Q.push({x:1,y:-1}),a==="Difcil"&&Q.push({x:-1,y:0},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:1});for(const Z of P.sort((H,V)=>V.length-H.length)){let H=!1;for(let V=0;V<100;V++){const G=Q[Math.floor(Math.random()*Q.length)],ne=Math.floor(Math.random()*F),R=Math.floor(Math.random()*F);if(k(Z,M,ne,R,G,F)){O(Z,M,ne,R,G),H=!0;break}}H||console.warn(`No se pudo colocar la palabra: ${Z}`)}const J=M.map(Z=>Z.map(H=>H||"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*27)])),q={tema:h||"Personalizado",grid:J.map(Z=>Z.join("")),words:P.sort()};try{const Z=await WQe(q,t);g({...q,id:Z,createdAt:new Date().toISOString()})}catch(Z){console.error("Error saving puzzle:",Z),alert("No se pudo guardar la sopa de letras.")}finally{y(Z=>({...Z,puzzle:!1}))}},C=()=>{_.current&&RN(_.current,{cacheBust:!0,backgroundColor:"white",quality:.95,pixelRatio:2}).then(P=>{const j=document.createElement("a");j.download="sopa-de-letras.png",j.href=P,j.click()}).catch(P=>{console.error("oops, something went wrong!",P),alert("No se pudo generar la imagen. Intntelo de nuevo.")})},N=()=>{var F;if(!v)return null;const P=((F=v.grid[0])==null?void 0:F.length)||1,j=v.grid.join("").split("");return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{ref:_,className:"p-6 bg-white",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsx("div",{className:"grid border-2 border-slate-700",style:{gridTemplateColumns:`repeat(${P}, minmax(0, 1fr))`},children:j.map((M,Q)=>c.jsx("div",{className:"flex items-center justify-center aspect-square border border-slate-300 font-mono font-bold text-lg text-slate-800",children:M},Q))})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4 border-b-2 border-slate-700 pb-2",children:"PALABRAS A BUSCAR"}),c.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-2 font-semibold text-slate-700",children:v.words.map(M=>c.jsx("li",{children:M},M))})]})]})}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:()=>g(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otra"}),c.jsx("button",{onClick:C,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})};return b.data?c.jsx("div",{className:"text-center py-10",children:"Cargando..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Sopa de Letras"}),c.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),!v&&c.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Dificultad"}),c.jsxs("select",{value:a,onChange:P=>s(P.target.value),className:"w-full md:w-1/3 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{children:"Fcil"}),c.jsx("option",{children:"Media"}),c.jsx("option",{children:"Difcil"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nmero de palabras"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(P=>c.jsx("button",{onClick:()=>{o(P),u(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!l&&i===P?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:P},P)),c.jsx("button",{onClick:()=>u(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${l?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),l&&c.jsx("input",{type:"number",value:i,onChange:P=>o(parseInt(P.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras con IA (Opcional)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{id:"ai-theme",type:"text",value:h,onChange:P=>p(P.target.value),placeholder:"Enva un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:B,disabled:b.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:b.ai?c.jsx(nHe,{}):c.jsxs(c.Fragment,{children:[c.jsx(aHe,{}),c.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Palabras ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3",children:d.map((P,j)=>c.jsx("input",{type:"text",value:P,onChange:F=>S(j,F.target.value),placeholder:`Palabra ${j+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"},j))})]}),c.jsx("div",{className:"text-right pt-4",children:c.jsx("button",{onClick:w,disabled:b.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:b.puzzle?"Generando...":"Generar Sopa de Letras"})})]}),v&&N()]})},iHe=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),oHe=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),lHe=({timeline:e,onSave:t,onBack:r})=>{const[n,a]=I.useState(e),[s,i]=I.useState(null),o=I.useRef(null),l=(p,v,g)=>{a(b=>({...b,events:b.events.map(y=>y.id===p?{...y,[v]:g}:y)}))},u=()=>{const p={id:crypto.randomUUID(),date:new Date().getFullYear().toString(),description:"Nuevo hito",icon:""},v=[...n.events,p].sort((g,b)=>parseInt(g.date)-parseInt(b.date));a(g=>({...g,events:v}))},d=p=>{a(v=>({...v,events:v.events.filter(g=>g.id!==p)}))},f=async p=>{if(!p.description.trim()){alert("Escribe al menos una idea en la descripcin para que la IA la complete.");return}i(p.id);const v="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",g=`
            Para una lnea de tiempo sobre "${n.tema}", toma la siguiente idea para un hito y mejrala.
            Idea del usuario: "${p.description}"

            Tu respuesta DEBE ser un nico objeto JSON vlido sin texto adicional, con tres claves:
            1. "date": El ao o fecha ms precisa y relevante para esta idea.
            2. "description": Una descripcin concisa (mximo 15 palabras) para la lnea de tiempo.
            3. "icon": Un nico emoji que represente el hito.
        `;try{const k=(await(await new Cs(v).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(g)).response).text().replace(/^```json\s*|```\s*$/g,""),O=JSON.parse(k);a(w=>({...w,events:w.events.map(C=>C.id===p.id?{...C,date:O.date,description:O.description,icon:O.icon}:C).sort((C,N)=>parseInt(C.date)-parseInt(N.date))}))}catch(b){console.error("Error al generar descripcin del hito:",b),alert("No se pudo autocompletar el hito.")}finally{i(null)}},h=()=>{o.current&&RN(o.current,{cacheBust:!0,backgroundColor:"#f1f5f9",quality:.95,pixelRatio:2}).then(p=>{const v=document.createElement("a");v.download=`linea-tiempo-${n.tema.replace(/\s+/g,"_")}.png`,v.href=p,v.click()}).catch(p=>{console.error("Error al generar la imagen:",p),alert("No se pudo generar la imagen. Intntelo de nuevo.")})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:n.tema}),c.jsx("button",{onClick:r,className:"text-sm font-semibold text-slate-500 hover:underline",children:" Volver a la lista"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2 bg-slate-100 dark:bg-slate-900 rounded-lg",children:c.jsxs("div",{ref:o,className:"relative p-10",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-full bg-slate-300 dark:bg-slate-600 rounded"}),c.jsx("div",{className:"relative",children:n.events.sort((p,v)=>parseInt(p.date)-parseInt(v.date)).map((p,v)=>{const g=v%2===0;return c.jsxs("div",{className:"mb-8 flex justify-between items-center w-full",children:[c.jsx("div",{className:"w-1/2",children:g&&c.jsx("div",{className:"text-right pr-8",children:c.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[c.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:p.icon}),c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:p.date}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:p.description})]})})}),c.jsx("div",{className:"z-10 flex-shrink-0",children:c.jsx("div",{className:"w-5 h-5 bg-white dark:bg-slate-500 border-4 border-slate-400 dark:border-slate-300 rounded-full"})}),c.jsx("div",{className:"w-1/2",children:!g&&c.jsx("div",{className:"text-left pl-8",children:c.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[c.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:p.icon}),c.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:p.date}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:p.description})]})})})]},p.id)})})]})}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700 h-[70vh] flex flex-col",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Editar Hitos"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:n.events.map(p=>c.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700 rounded-md border dark:border-slate-600 space-y-2",children:[c.jsx("input",{type:"text",value:p.date,onChange:v=>l(p.id,"date",v.target.value),placeholder:"Ao/Fecha",className:"w-full bg-transparent font-semibold dark:text-slate-200"}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("textarea",{value:p.description,onChange:v=>l(p.id,"description",v.target.value),placeholder:"Descripcin",rows:2,className:"flex-grow w-full bg-transparent text-sm dark:text-slate-300"}),c.jsx("button",{onClick:()=>f(p),disabled:s===p.id,className:"p-2 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-600 dark:hover:bg-slate-500 disabled:opacity-50",title:"Autocompletar con IA",children:s===p.id?c.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-amber-500 rounded-full animate-spin"}):c.jsx(oHe,{})})]}),c.jsx("button",{onClick:()=>d(p.id),className:"text-xs text-red-500 hover:underline",children:"Eliminar"})]},p.id))}),c.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex flex-col gap-2",children:[c.jsx("button",{onClick:u,className:"w-full bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Aadir Hito"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:h,className:"flex-1 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:"Descargar PNG"}),c.jsx("button",{onClick:()=>t(n),className:"flex-1 bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar"})]})]})]})]})]})},cHe=({onBack:e,currentUser:t})=>{const[r,n]=I.useState("list"),[a,s]=I.useState([]),[i,o]=I.useState(null),[l,u]=I.useState(!1),[d,f]=I.useState(!0),[h,p]=I.useState(""),[v,g]=I.useState(""),[b,y]=I.useState("");I.useEffect(()=>{f(!0);const k=UQe(O=>{s(O),f(!1)});return()=>k()},[]);const _=async k=>{if(k.preventDefault(),!h.trim()){alert("El tema es obligatorio.");return}u(!0);const O="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",w=v&&b?`entre ${v} y ${b}`:v?`a partir de ${v}`:b?`hasta ${b}`:"",C=`
            Genera una lnea de tiempo sobre el tema "${h}" ${w}.
            Tu respuesta DEBE ser un nico objeto JSON vlido sin texto adicional ni bloques \`\`\`json.
            El objeto debe tener una clave "events", que es un array de 5 a 10 objetos.
            Cada objeto en el array "events" debe tener tres claves:
            1. "date": Un string con la fecha o el ao del hito.
            2. "description": Un string con la descripcin breve del hito (mximo 15 palabras).
            3. "icon": Un string con un nico emoji que represente el hito.
            Ordena los eventos cronolgicamente.
        `;try{const Q=(await(await new Cs(O).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(C)).response).text().replace(/^```json\s*|```\s*$/g,""),J=JSON.parse(Q);if(!J.events||!Array.isArray(J.events))throw new Error("La respuesta de la IA no tiene el formato de eventos esperado.");const q={tema:h,fechaInicio:v,fechaFin:b,events:J.events.map(H=>({id:crypto.randomUUID(),date:H.date||"Sin fecha",description:H.description||"Sin descripcin",icon:H.icon||""}))},Z=await HQe(q,t);o({...q,id:Z,createdAt:new Date().toISOString()}),n("editor")}catch(N){console.error("AI Generation Error:",N),alert("Hubo un error al generar la lnea de tiempo. Por favor, revisa el formato del tema o intntalo de nuevo.")}finally{u(!1)}},S=async k=>{try{await QQe(k,t),n("list"),o(null)}catch(O){console.error("Error saving timeline:",O),alert("No se pudo guardar la lnea de tiempo.")}},B=async k=>{if(window.confirm("Eliminar esta lnea de tiempo?"))try{await VQe(k)}catch(O){console.error("Error deleting timeline:",O),alert("No se pudo eliminar la lnea de tiempo.")}};return r==="editor"&&i?c.jsx(lHe,{timeline:i,onSave:S,onBack:()=>n("list")}):d?c.jsx("div",{className:"text-center py-10",children:"Cargando lneas de tiempo..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Lneas de Tiempo"}),c.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),c.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-800/50",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear nueva Lnea de Tiempo"}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tema ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",id:"tema",value:h,onChange:k=>p(k.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fechaInicio",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Inicio (Opcional)"}),c.jsx("input",{type:"text",id:"fechaInicio",value:v,onChange:k=>g(k.target.value),placeholder:"Ej: 1947",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fechaFin",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Trmino (Opcional)"}),c.jsx("input",{type:"text",id:"fechaFin",value:b,onChange:k=>y(k.target.value),placeholder:"Ej: 1991",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"submit",disabled:l,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:l?c.jsx(iHe,{}):"Generar con IA"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Lneas de Tiempo Guardadas"}),a.length>0?a.map(k=>c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border dark:border-slate-700 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:k.tema}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creada: ",new Date(k.createdAt).toLocaleDateString("es-CL")]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{o(k),n("editor")},className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md",children:"Editar"}),c.jsx("button",{onClick:()=>B(k.id),className:"text-sm font-semibold bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 py-1 px-3 rounded-md",children:"Eliminar"})]})]},k.id)):c.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-6",children:"No hay lneas de tiempo guardadas."})]})]})},uHe=()=>c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),GV=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),dHe=({onBack:e,currentUser:t})=>{const[r,n]=I.useState([]),[a,s]=I.useState(10),[i,o]=I.useState(!1),[l,u]=I.useState(Array(10).fill("")),[d,f]=I.useState(Array(10).fill("")),[h,p]=I.useState(""),[v,g]=I.useState(null),[b,y]=I.useState(!1),[_,S]=I.useState({ai:!1,puzzle:!1,data:!0}),[B,k]=I.useState(null),O=I.useRef(null);I.useEffect(()=>{S(J=>({...J,data:!0}));const Q=LQe(J=>{const q=J.map(Z=>{const{grid_flat:H,grid_width:V,...G}=Z,ne=[];if(H&&V>0)for(let R=0;R<H.length;R+=V)ne.push(H.slice(R,R+V));return{...G,grid:ne}});n(q),S(Z=>({...Z,data:!1}))});return()=>Q()},[]),I.useEffect(()=>{const Q=a;u(J=>Array.from({length:Q},(q,Z)=>J[Z]||"")),f(J=>Array.from({length:Q},(q,Z)=>J[Z]||""))},[a]);const w=(Q,J)=>{const q=[...l];q[Q]=J,u(q)},C=(Q,J)=>{const q=[...d];q[Q]=J,f(q)},N=async()=>{if(h.trim()){S(Q=>({...Q,ai:!0}));try{const Q="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",q=new Cs(Q).getGenerativeModel({model:"gemini-1.5-flash-latest"}),Z=`
                Genera una lista de ${a} palabras y sus pistas correspondientes para un crucigrama, basado en el tema "${h}".
                Tu respuesta DEBE ser un nico objeto JSON vlido sin texto adicional ni bloques \`\`\`json.
                El objeto debe tener una clave "items", que es un array de ${a} objetos.
                Cada objeto en el array "items" debe tener dos claves:
                1. "word": Un string con la palabra (sin espacios y en maysculas).
                2. "clue": Un string con la pista para esa palabra.
            `;let ne=(await(await q.generateContent(Z)).response).text().replace(/^```json\s*|```\s*$/g,"").trim();const R=ne.indexOf("{"),W=ne.lastIndexOf("}");R!==-1&&W!==-1&&(ne=ne.substring(R,W+1)),ne=ne.replace(/},\s*([\r\n\s]*){/g,"}__SPLIT__{"),ne.includes("__SPLIT__")&&(ne=ne.replace(/("items"\s*:\s*\[)([\s\S]*?)(\])/m,(me,oe,ce,ge)=>{const De=ce.split("__SPLIT__").map(re=>re.trim().replace(/,$/,""));return oe+De.join(",")+ge})),ne=ne.replace(/,\s*]/g,"]");let Y;try{Y=JSON.parse(ne)}catch{console.error("Respuesta IA no es JSON vlido:",ne),alert("La respuesta de la IA no es un JSON vlido. Intenta de nuevo o ajusta el tema."),S(oe=>({...oe,ai:!1}));return}if(!Y.items||!Array.isArray(Y.items))throw new Error("La respuesta de la IA no contiene la lista de 'items' esperada.");const te=Y.items.map(me=>(me.word||"").toUpperCase().replace(/\s/g,"")),ie=Y.items.map(me=>me.clue||"");u(Array.from({length:a},(me,oe)=>te[oe]||"")),f(Array.from({length:a},(me,oe)=>ie[oe]||""))}catch(Q){console.error("Error generating words/clues with AI:",Q),alert("No se pudieron generar las palabras y pistas. Intntelo de nuevo.")}finally{S(Q=>({...Q,ai:!1}))}}},P=async Q=>{const J=l[Q];if(!J||!J.trim()){alert("Por favor, escribe una palabra antes de generar su pista.");return}k(Q);try{const q="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",H=new Cs(q).getGenerativeModel({model:"gemini-1.5-flash-latest"}),V=`Para un crucigrama con el tema "${h||"general"}", genera una pista concisa y creativa para la palabra "${J}". La respuesta debe ser un nico objeto JSON vlido sin texto adicional, con una sola clave: "clue".`,W=(await(await H.generateContent(V)).response).text().replace(/^```json\s*|```\s*$/g,""),Y=JSON.parse(W);Y.clue&&C(Q,Y.clue)}catch(q){console.error("Error generating clue with AI:",q),alert("No se pudo generar la pista.")}finally{k(null)}},j=I.useCallback(()=>{try{const Q=l.map((je,$e)=>({word:je.toUpperCase().replace(/[^A-Z]/g,""),clue:d[$e]})).filter(je=>je.word.length>0);if(Q.length===0)return alert("Por favor, ingrese al menos una palabra vlida."),null;Q.sort((je,$e)=>$e.word.length-je.word.length);const J=Q[0].word.length,q=Math.max(J,Q.length)*2;let Z=Array.from({length:q},()=>Array(q).fill(null));const H=[],V=Q.shift(),G=Math.floor(q/2),ne=Math.floor((q-V.word.length)/2);for(let je=0;je<V.word.length;je++)Z[G][ne+je]=V.word[je];H.push({word:V.word,clue:V.clue,direction:"across",row:G,col:ne});for(const je of Q){let $e={score:-1,row:-1,col:-1,direction:"across"};for(const Ze of H)for(let ye=0;ye<Ze.word.length;ye++)for(let Oe=0;Oe<je.word.length;Oe++)if(Ze.word[ye]===je.word[Oe]){let Me=0,Ye,tt,ct;Ze.direction==="across"?(ct="down",Ye=Ze.row-Oe,tt=Ze.col+ye):(ct="across",Ye=Ze.row+ye,tt=Ze.col-Oe);let gt=!0;for(let kt=0;kt<je.word.length;kt++){const Dt=Ye+(ct==="down"?kt:0),Re=tt+(ct==="across"?kt:0);if(Dt<0||Dt>=q||Re<0||Re>=q){gt=!1;break}const Ue=Z[Dt][Re],Be=Dt===Ze.row+(Ze.direction==="down"?ye:0)&&Re===Ze.col+(Ze.direction==="across"?ye:0);if(Ue&&!Be){gt=!1;break}if(Ue&&Be&&Ue!==je.word[Oe]){gt=!1;break}if(!Be){if(ct==="across"&&(Dt>0&&Z[Dt-1][Re]||Dt<q-1&&Z[Dt+1][Re])){gt=!1;break}if(ct==="down"&&(Re>0&&Z[Dt][Re-1]||Re<q-1&&Z[Dt][Re+1])){gt=!1;break}}Ue&&Me++}gt&&Me>$e.score&&($e={score:Me,row:Ye,col:tt,direction:ct})}if($e.score>-1){for(let Ze=0;Ze<je.word.length;Ze++){const ye=$e.row+($e.direction==="down"?Ze:0),Oe=$e.col+($e.direction==="across"?Ze:0);Z[ye][Oe]=je.word[Ze]}H.push({word:je.word,clue:je.clue,direction:$e.direction,row:$e.row,col:$e.col})}}let R=q,W=-1,Y=q,te=-1;H.forEach(je=>{R=Math.min(R,je.row),W=Math.max(W,je.row+(je.direction==="down"?je.word.length-1:0)),Y=Math.min(Y,je.col),te=Math.max(te,je.col+(je.direction==="across"?je.word.length-1:0))}),W===-1&&(R=H[0].row,W=H[0].row,Y=H[0].col,te=H[0].col+H[0].word.length-1);const ie=1,me=Math.max(0,R-ie),oe=Math.min(q,W+1+ie),ce=Math.max(0,Y-ie),ge=Math.min(q,te+1+ie),De=Z.slice(me,oe).map(je=>je.slice(ce,ge)),re=H.map(je=>({...je,row:je.row-me,col:je.col-ce})).sort((je,$e)=>je.row-$e.row||je.col-$e.col);let Se=1;const Pe=[],_e=new Map;re.forEach(je=>{const $e=`${je.row},${je.col}`;_e.has($e)||_e.set($e,Se++),Pe.push({...je,number:_e.get($e)})});const Ae=De.map(je=>je.map($e=>({char:$e,number:null})));return Pe.forEach(je=>{const $e=`${je.row},${je.col}`;Ae[je.row]&&Ae[je.row][je.col]!==void 0&&(Ae[je.row][je.col].number=_e.get($e))}),{grid:Ae,clues:{across:Pe.filter(je=>je.direction==="across").sort((je,$e)=>je.number-$e.number),down:Pe.filter(je=>je.direction==="down").sort((je,$e)=>je.number-$e.number)}}}catch(Q){return console.error("Error generating crossword grid:",Q),alert("Ocurri un error inesperado al generar el crucigrama. Intente con palabras diferentes."),null}},[l,d]),F=async()=>{var J;S(q=>({...q,puzzle:!0})),g(null),await new Promise(q=>setTimeout(q,100));const Q=j();if(Q){const q={creadorId:t.id,creadorNombre:t.nombreCompleto,tema:h||"Personalizado",grid:Q.grid,clues:Q.clues},{grid:Z,...H}=q,V={...H,grid_flat:Z.flat().map(G=>G.char||""),grid_width:((J=Z[0])==null?void 0:J.length)||0};try{const G=await MQe(V,t);g({...q,id:G,fechaCreacion:new Date().toISOString()})}catch(G){console.error("Error saving puzzle:",G),alert("No se pudo guardar el crucigrama en la base de datos.")}}S(q=>({...q,puzzle:!1}))},M=()=>{O.current&&(y(!1),setTimeout(()=>{RN(O.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(Q=>{const J=document.createElement("a");J.download="crucigrama.png",J.href=Q,J.click()}).catch(Q=>console.error("Error generating image",Q))},100))};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Crucigramas"}),c.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:" Volver a Recursos"})]})]}),v?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{ref:O,className:"p-6 bg-white dark:bg-slate-900 text-black dark:text-white",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx("div",{children:c.jsx("div",{className:"border border-black dark:border-white",style:{display:"grid",gridTemplateColumns:`repeat(${v.grid[0].length}, 2rem)`},children:v.grid.flat().map((Q,J)=>c.jsxs("div",{className:"relative w-8 h-8 border border-black dark:border-white flex items-center justify-center font-bold uppercase",style:{backgroundColor:Q.char?"white":"black"},children:[Q.number&&c.jsx("span",{className:"absolute top-0 left-0.5 text-[8px]",children:Q.number}),b&&Q.char&&c.jsx("span",{children:Q.char})]},J))})}),c.jsxs("div",{className:"text-sm",children:[c.jsx("h3",{className:"font-bold text-lg mb-2",children:"HORIZONTALES"}),c.jsx("ul",{className:"space-y-1",children:v.clues.across.map(Q=>c.jsxs("li",{children:[c.jsxs("strong",{children:[Q.number,"."]})," ",Q.clue]},`${Q.word}-${Q.clue}`))}),c.jsx("h3",{className:"font-bold text-lg mt-4 mb-2",children:"VERTICALES"}),c.jsx("ul",{className:"space-y-1",children:v.clues.down.map(Q=>c.jsxs("li",{children:[c.jsxs("strong",{children:[Q.number,"."]})," ",Q.clue]},`${Q.word}-${Q.clue}`))})]})]})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:b,onChange:()=>y(!b),className:"h-5 w-5 rounded"}),c.jsx("span",{children:"Mostrar Solucin"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>g(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otro"}),c.jsx("button",{onClick:M,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})]}):c.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nmero de palabras"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(Q=>c.jsx("button",{onClick:()=>{s(Q),o(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!i&&a===Q?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:Q},Q)),c.jsx("button",{onClick:()=>o(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${i?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),i&&c.jsx("input",{type:"number",value:a,onChange:Q=>s(parseInt(Q.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras y pistas con IA (Opcional)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{id:"ai-theme",type:"text",value:h,onChange:Q=>p(Q.target.value),placeholder:"Enva un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:N,disabled:_.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:_.ai?c.jsx(uHe,{}):c.jsxs(c.Fragment,{children:[c.jsx(GV,{}),c.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),c.jsx("div",{className:"space-y-3",children:Array.from({length:a}).map((Q,J)=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsx("input",{type:"text",value:l[J],onChange:q=>w(J,q.target.value),placeholder:`Palabra ${J+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsxs("div",{className:"md:col-span-2 flex items-center gap-2",children:[c.jsx("textarea",{value:d[J],onChange:q=>C(J,q.target.value),placeholder:`Pista ${J+1}`,rows:1,className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),c.jsx("button",{onClick:()=>P(J),disabled:B===J,className:"p-2 bg-slate-200 dark:bg-slate-600 rounded-md hover:bg-slate-300 disabled:opacity-50",title:"Generar Pista con IA",children:B===J?c.jsx("div",{className:"w-5 h-5 border-2 border-slate-400 border-t-amber-500 rounded-full animate-spin"}):c.jsx(GV,{})})]})]},J))}),c.jsx("div",{className:"text-right pt-4",children:c.jsx("button",{onClick:F,disabled:_.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:_.puzzle?"Generando...":"Generar Crucigrama"})})]})]})},AHe=()=>{const[e,t]=I.useState(null),[r,n]=I.useState(!0);return I.useEffect(()=>{const a=OW(f1e,async s=>{if(s&&s.email)try{const i=await zY(s.email);t(i)}catch(i){console.error("Error al obtener el perfil del usuario:",i),t(null)}else t(null);n(!1)});return()=>a()},[]),{currentUser:e,loading:r}},fHe=[{id:"sopaDeLetras",icon:"",nombre:"Sopa de Letras",descripcion:"Crea y resuelve sopas de letras personalizadas para aprender palabras clave de cualquier asignatura."},{id:"mapasMentales",icon:"",nombre:"Mapas Mentales",descripcion:"Organiza ideas y conceptos de forma visual para facilitar el estudio y la memoria."},{id:"crucigramas",icon:"",nombre:"Crucigramas",descripcion:"Crea y resuelve crucigramas para reforzar vocabulario y conceptos clave."},{id:"lineasDeTiempo",icon:"",nombre:"Lneas de Tiempo",descripcion:"Construye lneas de tiempo para comprender procesos, hechos histricos o secuencias."}],hHe=({recurso:e,onClick:t})=>c.jsxs("button",{onClick:t,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-in-out cursor-pointer flex flex-col items-center text-center h-full",children:[c.jsx("div",{className:"text-6xl mb-4",children:e.icon}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:e.nombre}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm flex-grow",children:e.descripcion})]}),mHe=()=>{const[e,t]=I.useState("menu"),{currentUser:r}=AHe(),n=()=>e!=="menu"&&!r?c.jsx("div",{className:"text-center p-8",children:"Cargando informacin de usuario..."}):e==="mapasMentales"?c.jsx(rHe,{onBack:()=>t("menu"),currentUser:r}):e==="sopaDeLetras"?c.jsx(sHe,{onBack:()=>t("menu"),currentUser:r}):e==="lineasDeTiempo"?c.jsx(cHe,{onBack:()=>t("menu"),currentUser:r}):e==="crucigramas"?c.jsx(dHe,{onBack:()=>t("menu"),currentUser:r}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Recursos de Aprendizaje"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Seleccione una herramienta para crear una nueva actividad educativa para sus estudiantes."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:fHe.map(a=>c.jsx(hHe,{recurso:a,onClick:()=>t(a.id)},a.id))})]});return c.jsx("div",{className:"animate-fade-in space-y-6",children:n()})},pHe="evaluaciones_formativas",gHe="calificaciones_formativas",Yne="trabajos_grupales_formativos",Jne=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fecha:((n=(r=t.fecha)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString().split("T")[0])||t.fecha,fechaPresentacion:((s=(a=t.fechaPresentacion)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.fechaPresentacion}},vHe=(e,t)=>{const r=Zt(Rt(jt,pHe),Fn("curso","==",e));return wr(r,n=>{t(n.docs.map(a=>Jne(a)))},n=>{console.error("Error subscribing to student evaluations:",n),t([])})},xHe=e=>{const t=Zt(Rt(jt,gHe));return wr(t,r=>{const n={};r.forEach(a=>{n[a.id]=a.data()}),e(n)},r=>{console.error("Error subscribing to grades:",r),e({})})},bHe=(e,t)=>{const r=Zt(Rt(jt,Yne),Fn("curso","==",e));return wr(r,n=>{t(n.docs.map(a=>Jne(a)))},n=>{console.error("Error subscribing to group projects:",n),t([])})},yHe=async e=>{try{const{id:t,...r}=e,n=vr(jt,Yne,t);await fo(n,r)}catch(t){throw console.error("Error updating group project:",t),new Error("Could not update group project.")}},wHe=({currentUser:e})=>{const[t,r]=I.useState([]),[n,a]=I.useState({}),[s,i]=I.useState([]),[o,l]=I.useState(!0),[u,d]=I.useState(null),[f,h]=I.useState(!1),[p,v]=I.useState(null),g=I.useRef(null);I.useEffect(()=>{if(!e.curso){l(!1);return}l(!0);const B=vHe(e.curso,r),k=xHe(a),O=bHe(e.curso,w=>{i(w),l(!1)});return()=>{B(),k(),O()}},[e.curso]);const b=I.useMemo(()=>{if(!e.curso)return[];const k=t.filter(O=>O.curso===e.curso).reduce((O,w)=>((O[w.asignatura]=O[w.asignatura]||[]).push(w),O),{});return Object.entries(k).map(([O,w])=>{let C=0,N=0;const P=w.map(F=>{var J;const M=(J=n[F.id])==null?void 0:J[e.nombreCompleto];let Q="No Trabajado";return M==="trabajado"?(C+=7,N++,Q="Trabajado"):M==="no trabajado"&&(C+=2,N++,Q="No Trabajado"),{id:F.id,nombreActividad:F.nombreActividad,fecha:F.fecha,estado:Q}}).filter(F=>{var M;return(M=n[F.id])==null?void 0:M[e.nombreCompleto]}),j=N>0?(C/N).toFixed(1):"N/A";return{asignatura:O,promedio:j,actividades:P.sort((F,M)=>new Date(M.fecha).getTime()-new Date(F.fecha).getTime())}}).filter(O=>O.actividades.length>0).sort((O,w)=>O.asignatura.localeCompare(w.asignatura))},[t,n,e]);I.useEffect(()=>{if(b.reduce((N,P)=>N+P.actividades.length,0)===0){d(null);return}const k=b.reduce((N,P)=>{const j=parseFloat(P.promedio);return isNaN(j)?N:N+j},0),O=b.length>0?k/b.length:0,w=dE.find(N=>O>=N.promedioMin&&O<=N.promedioMax)||null,C=dE.filter(N=>O>=N.promedioMin);if(d({puntajeTotal:0,promedio:O,rangoActual:w,insigniasGanadas:C}),g.current!==null){const N=dE.find(P=>g.current>=P.promedioMin&&g.current<=P.promedioMax)||null;w&&(!N||w.nombre!==N.nombre)&&v(w)}g.current=O},[b]);const y=I.useMemo(()=>e.curso?s.filter(B=>B.curso===e.curso).map(B=>{const k=B.grupos.find(O=>O.integrantes.some(w=>w.nombre===e.nombreCompleto));return k?{...B,miGrupo:k}:null}).filter(B=>B!==null).sort((B,k)=>new Date(k.fechaPresentacion).getTime()-new Date(B.fechaPresentacion).getTime()):[],[s,e]),_=async(B,k)=>{const O=s.find(C=>C.id===B);if(!O)return;const w={...O,grupos:O.grupos.map(C=>C.integrantes.some(P=>P.nombre===e.nombreCompleto)?{...C,integrantes:C.integrantes.map(P=>P.nombre===e.nombreCompleto?{...P,rol:k||void 0}:P)}:C)};try{await yHe(w)}catch(C){console.error("Error updating role:",C),alert("No se pudo actualizar el rol.")}},S=B=>{const k=parseFloat(B);return isNaN(k)?"bg-slate-400":k<4?"bg-red-500":k<5.5?"bg-yellow-500":"bg-green-500"};return o?c.jsx("div",{className:"text-center py-10",children:"Cargando tu rendimiento..."}):c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[p&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",onClick:()=>v(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md text-center p-8 animate-fade-in-up transform transition-all",onClick:B=>B.stopPropagation(),children:[c.jsx("div",{className:"text-8xl animate-bounce",children:p.emoji}),c.jsx("h2",{className:"text-3xl font-bold text-slate-800 mt-4",children:"Subiste de Rango!"}),c.jsx("p",{className:"text-2xl font-semibold text-amber-500 mt-2",children:p.nombre}),c.jsx("p",{className:"text-slate-600 mt-4",children:p.mensaje}),c.jsx("button",{onClick:()=>v(null),className:"mt-6 bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700",children:"Genial!"})]})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>h(!1),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 max-h-[80vh] flex flex-col",onClick:B=>B.stopPropagation(),children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Logros"}),c.jsx("div",{className:"overflow-y-auto space-y-3",children:dE.map(B=>{const k=u==null?void 0:u.insigniasGanadas.some(O=>O.nombre===B.nombre);return c.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${k?"bg-amber-50 border-amber-200":"bg-slate-100 border-slate-200 opacity-60"}`,children:[c.jsx("div",{className:"text-5xl",children:B.emoji}),c.jsxs("div",{children:[c.jsx("h3",{className:`font-bold ${k?"text-amber-700":"text-slate-600"}`,children:B.nombre}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Requisito: Promedio entre ",B.promedioMin," y ",B.promedioMax]})]})]},B.nombre)})})]})}),c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Mi Rendimiento Formativo"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Aqu puedes ver un resumen de tu trabajo en clases por cada asignatura."}),u&&u.rangoActual&&c.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 text-white p-6 rounded-xl mb-8 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-80",children:"RANGO ACTUAL"}),c.jsx("h2",{className:"text-3xl font-bold",children:u.rangoActual.nombre}),c.jsx("button",{onClick:()=>h(!0),className:"mt-2 text-xs font-semibold bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full",children:"Ver todos los logros"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-7xl",children:u.rangoActual.emoji}),c.jsx("p",{className:"font-bold text-2xl mt-2",children:u.promedio.toFixed(1)}),c.jsx("p",{className:"text-sm opacity-80",children:"Promedio General"})]})]}),b.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(B=>c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-5 flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800",children:B.asignatura}),c.jsx("p",{className:"text-sm text-slate-500",children:"Promedio Formativo"})]}),c.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-3xl ${S(B.promedio)}`,children:B.promedio})]}),c.jsxs("div",{className:"flex-grow space-y-2 pt-4 border-t border-slate-200",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Detalle de Actividades:"}),B.actividades.map(k=>c.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-700",children:k.nombreActividad}),c.jsx("p",{className:"text-xs text-slate-500",children:new Date(k.fecha+"T12:00:00").toLocaleDateString("es-CL")})]}),c.jsx("span",{className:`font-semibold ${k.estado==="Trabajado"?"text-green-600":"text-red-600"}`,children:k.estado==="Trabajado"?" Trabajado":" No Trabajado"})]},k.id))]})]},B.asignatura))}):c.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-lg",children:[c.jsx("span",{className:"text-5xl",children:""}),c.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"An sin registros"}),c.jsx("p",{className:"text-slate-500 mt-2",children:"Todava no tienes evaluaciones formativas registradas por tus profesores."})]})]}),y.length>0&&c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Trabajos Grupales"}),c.jsx("div",{className:"space-y-4",children:y.map(B=>{const k=B.miGrupo.integrantes.filter(w=>w.nombre!==e.nombreCompleto&&w.rol).map(w=>w.rol),O=KY.filter(w=>!k.includes(w));return c.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[c.jsx("h3",{className:"font-bold text-slate-800",children:B.nombreActividad}),c.jsxs("p",{className:"text-sm text-slate-500",children:[B.asignatura," - Presentacin: ",new Date(B.fechaPresentacion+"T12:00:00").toLocaleDateString("es-CL")]}),c.jsxs("div",{className:"mt-3 pt-3 border-t",children:[c.jsxs("h4",{className:"font-semibold text-sm",children:["Grupo ",B.miGrupo.numero]}),c.jsx("ul",{className:"list-disc list-inside text-sm mt-2 space-y-2",children:B.miGrupo.integrantes.map(w=>c.jsxs("li",{className:"grid grid-cols-2 items-center",children:[c.jsx("span",{className:w.nombre===e.nombreCompleto?"font-bold":"",children:w.nombre}),w.nombre===e.nombreCompleto?c.jsxs("select",{value:w.rol||"",onChange:C=>_(B.id,C.target.value),className:"text-sm p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"-- Seleccionar rol --"}),w.rol&&!O.includes(w.rol)&&c.jsx("option",{value:w.rol,children:w.rol}),O.map(C=>c.jsx("option",{value:C,children:C},C))]}):c.jsx("span",{className:"text-xs italic bg-slate-200 px-2 py-1 rounded-full",children:w.rol||"Sin rol"})]},w.nombre))})]})]},B.id)})})]})]})},EHe="proyectos_interdisciplinarios",Zne="entregas_interdisciplinarias",eae=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,fechaCompletado:((s=(a=t.fechaCompletado)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString())||t.fechaCompletado}},CHe=(e,t)=>{const r=Zt(Rt(jt,EHe),Fn("cursos","array-contains",e));return wr(r,n=>{const a=n.docs.map(s=>eae(s));t(a)},n=>{console.error("Error al suscribirse a los proyectos:",n),t([])})},_He=(e,t)=>{const r=Zt(Rt(jt,Zne),Fn("estudianteId","==",e));return wr(r,n=>{const a=n.docs.map(s=>eae(s));t(a)},n=>{console.error("Error al suscribirse a las entregas:",n),t([])})},SHe=async e=>{try{const{id:t,...r}=e,n=vr(jt,Zne,t),a={...r,fechaCompletado:mr.fromDate(new Date(r.fechaCompletado||Date.now()))};await fo(n,a,{merge:!0})}catch(t){throw console.error("Error al actualizar la entrega:",t),new Error("No se pudo guardar la entrega.")}},NHe=({currentUser:e})=>{const[t,r]=I.useState([]),[n,a]=I.useState([]),[s,i]=I.useState(null),[o,l]=I.useState(!0);I.useEffect(()=>{if(!e.curso||!e.id){l(!1);return}l(!0);const f=CHe(e.curso,r),h=_He(e.id,p=>{a(p),l(!1)});return()=>{f(),h()}},[e.curso,e.id]);const u=async f=>{try{await SHe(f)}catch(h){console.error("Failed to update submission:",h),alert("Hubo un error al guardar tu entrega.")}},d=({plan:f,tarea:h})=>{const p=I.useMemo(()=>{const k=n.find(O=>O.planificacionId===f.id&&O.tareaId===h.id);return k||{id:`${f.id}_${h.id}_${e.id}`,planificacionId:f.id,tareaId:h.id,estudianteId:e.id,estudianteNombre:e.nombreCompleto,completada:!1}},[f.id,h.id,n]),[v,g]=I.useState(!1),[b,y]=I.useState({observaciones:p.observacionesEstudiante||"",enlace:p.enlaceUrl||""}),_=k=>{var w;const O=(w=k.target.files)==null?void 0:w[0];O&&(alert(`Simulacin: Archivo "${O.name}" listo para subir.`),u({...p,archivoAdjunto:{nombre:O.name,url:`simulated/path/${O.name}`},fechaCompletado:new Date().toISOString()}))},S=()=>{u({...p,observacionesEstudiante:b.observaciones,enlaceUrl:b.enlace,fechaCompletado:new Date().toISOString()})},B=()=>{u({...p,completada:!p.completada,fechaCompletado:new Date().toISOString()})};return c.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700/50 rounded-lg border dark:border-slate-600",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("input",{type:"checkbox",checked:p.completada,onChange:B,className:"mt-1 h-5 w-5 rounded text-amber-500 focus:ring-amber-400"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{className:`font-semibold ${p.completada?"line-through text-slate-500":"text-slate-800"}`,children:["Tarea ",h.numero,": ",h.instrucciones]}),c.jsxs("p",{className:"text-xs text-slate-500",children:["Fecha de entrega: ",h.fechaEntrega]}),h.recursoUrl&&c.jsx("a",{href:h.recursoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"Ver Recurso"})]}),c.jsx("button",{onClick:()=>g(!v),className:"text-sm font-semibold",children:v?"Ocultar":"Entregar"})]}),v&&c.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t dark:border-slate-600 space-y-3 animate-fade-in-up",children:[c.jsx("textarea",{value:b.observaciones,onChange:k=>y({...b,observaciones:k.target.value}),onBlur:S,placeholder:"Aadir observaciones o comentarios...",rows:2,className:"w-full text-sm p-1 border rounded"}),c.jsx("input",{type:"url",value:b.enlace,onChange:k=>y({...b,enlace:k.target.value}),onBlur:S,placeholder:"Pegar un enlace (ej: Google Docs, video)...",className:"w-full text-sm p-1 border rounded"}),c.jsx("input",{type:"file",onChange:_,className:"text-sm"}),p.archivoAdjunto&&c.jsxs("p",{className:"text-xs text-green-600",children:[" Archivo subido: ",p.archivoAdjunto.nombre]})]}),p.feedbackProfesor&&c.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t border-amber-300 bg-amber-50 dark:bg-amber-900/20 p-2 rounded",children:[c.jsx("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:"Retroalimentacin del profesor:"}),c.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:p.feedbackProfesor})]})]})};return o?c.jsx("div",{className:"text-center py-10",children:"Cargando tus proyectos..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Tareas Interdisciplinarias"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Revisa y completa las tareas de tus proyectos."})]}),t.length>0?t.map(f=>{const h=f.tareas||[],v=n.filter(b=>b.planificacionId===f.id).filter(b=>b.completada).length,g=h.length>0?v/h.length*100:0;return c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[c.jsxs("button",{onClick:()=>i(s===f.id?null:f.id),className:"w-full text-left",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:f.nombreProyecto}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-500",children:[c.jsx("span",{children:"Progreso"}),c.jsxs("span",{children:[Math.round(g),"%"]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-amber-500 h-2.5 rounded-full",style:{width:`${g}%`}})})]})]}),s===f.id&&c.jsx("div",{className:"mt-4 pt-4 border-t space-y-3",children:h.length>0?h.map(b=>c.jsx(d,{plan:f,tarea:b},b.id)):c.jsx("p",{className:"text-slate-500 text-center",children:"Este proyecto an no tiene tareas asignadas."})})]},f.id)}):c.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[c.jsx("span",{className:"text-5xl",children:""}),c.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"Todo al da!"}),c.jsx("p",{className:"text-slate-500 mt-2",children:"No tienes tareas de proyectos interdisciplinarios asignadas por el momento."})]})]})},kHe=({data:e})=>c.jsx("div",{className:"space-y-4",children:e.map((r,n)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:r.label.replace("Dominio A: ","A: ").replace("Dominio B: ","B: ").replace("Dominio C: ","C: ")}),c.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:[r.value.toFixed(2)," / 4.00"]})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:c.jsx("div",{className:"bg-sky-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${r.value/4*100}%`}})})]},r.label+n))}),BHe=({currentUser:e})=>{const[t,r]=I.useState([]),[n,a]=I.useState(!1),[s,i]=I.useState(null),[o,l]=I.useState(null),[u,d]=I.useState(zb),f=I.useCallback(async()=>{a(!0);try{const b=(await Gje(e.nombreCompleto)).sort((y,_)=>new Date(_.fecha).getTime()-new Date(y.fecha).getTime());r(b),i(null)}catch(g){console.error("Error al cargar acompaamientos desde Firestore",g),i("No se pudieron cargar tus acompaamientos desde la nube.")}finally{a(!1)}},[e.nombreCompleto]),h=I.useCallback(async()=>{try{const g=await qje();g&&d(g)}catch(g){console.error("Error al cargar rbrica personalizada",g)}},[]);I.useEffect(()=>{f(),h()},[f,h]);const p=I.useMemo(()=>{if(!o)return[];const g={};return u.forEach(b=>{g[b.domain]={total:0,count:0},b.criteria.forEach(y=>{const _=o.rubricaResultados[y.name];_&&(g[b.domain].total+=_,g[b.domain].count++)})}),Object.entries(g).map(([b,y])=>({label:b,value:y.count>0?y.total/y.count:0}))},[o,u]),v=g=>{const b=new hr;b.setFont("helvetica","bold"),b.setFontSize(10),b.setTextColor(100),b.text("LICEO INDUSTRIAL DE RECOLETA",b.internal.pageSize.getWidth()/2,15,{align:"center"}),b.setFont("helvetica","bold"),b.setFontSize(16),b.setTextColor(40),b.text("Informe de Acompaamiento Docente",b.internal.pageSize.getWidth()/2,25,{align:"center"}),b.setFontSize(12),b.setFont("helvetica","normal"),dl(b,{startY:35,body:[["Docente:",g.docente],["Fecha:",new Date(g.fecha).toLocaleDateString("es-CL")],["Asignatura:",g.asignatura],["Curso:",g.curso],["Bloques:",g.bloques||"No especificado"]],theme:"plain",styles:{fontSize:11,cellPadding:2},columnStyles:{0:{cellWidth:35,fontStyle:"bold"}}});let y=b.lastAutoTable.finalY+15;if(Object.keys(g.rubricaResultados).length>0){const B=[],k=["Dbil","Incipiente","Satisfactorio","Avanzado"];u.forEach(O=>{B.push([{content:O.domain,colSpan:2,styles:{fontStyle:"bold",fillColor:[220,220,220],textColor:[40,40,40]}}]),O.criteria.forEach(w=>{const C=g.rubricaResultados[w.name],N=C?k[C-1]:"No evaluado";B.push([w.name,N])})}),dl(b,{startY:y,head:[["Indicador","Nivel de Logro"]],body:B,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:255},styles:{fontSize:10}}),y=b.lastAutoTable.finalY+15}const _=(B,k)=>{if(!k)return;y>250&&(b.addPage(),y=20,b.setFont("helvetica","bold"),b.setFontSize(10),b.setTextColor(100),b.text("LICEO INDUSTRIAL DE RECOLETA",b.internal.pageSize.getWidth()/2,15,{align:"center"}),y=25),b.setFont("helvetica","bold"),b.setFontSize(14),b.setTextColor(40),b.text(B,14,y),y+=8,b.setFont("helvetica","normal"),b.setFontSize(11),b.setTextColor(60);const O=b.splitTextToSize(k.replace(/## /g,"").replace(/(\*\*|\*)/g,""),180);b.text(O,14,y),y+=O.length*5+10};_("Observaciones Generales",g.observacionesGenerales),_("Retroalimentacin Consolidada",g.retroalimentacionConsolidada);const S=b.getNumberOfPages();for(let B=1;B<=S;B++)b.setPage(B),b.setFontSize(8),b.setTextColor(128),b.text(`Pgina ${B} de ${S}`,b.internal.pageSize.getWidth()/2,b.internal.pageSize.getHeight()-10,{align:"center"});b.save(`Acompanamiento_${e.nombreCompleto.replace(/\s/g,"_")}_${new Date(g.fecha).toLocaleDateString("es-CL").replace(/\//g,"-")}.pdf`)};return o?c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("button",{onClick:()=>l(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:" Volver a mi historial"}),c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Detalle del Acompaamiento"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[new Date(o.fecha).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})," | ",o.curso," - ",o.asignatura]})]}),c.jsxs("button",{onClick:()=>v(o),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-red-700",children:[c.jsx($Y,{})," Exportar PDF"]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2 space-y-6",children:c.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[c.jsx("h3",{children:"Retroalimentacin Consolidada (IA)"}),c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:c.jsx("p",{className:"whitespace-pre-wrap",children:o.retroalimentacionConsolidada||"No se ha generado retroalimentacin."})}),c.jsx("h3",{children:"Observaciones Generales"}),c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:c.jsx("p",{className:"whitespace-pre-wrap",children:o.observacionesGenerales||"Sin observaciones."})})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Desempeo por Dominio"}),c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:c.jsx(kHe,{data:p})})]})]})]}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Mis Acompaamientos"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Aqu encontrars el historial de tus observaciones de clase y la retroalimentacin asociada."}),n&&c.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando tus acompaamientos desde la nube..."}),s&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:s}),!n&&t.length===0&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg mb-6",children:"No tienes acompaamientos registrados en la nube."}),c.jsx("div",{className:"space-y-4",children:!n&&t.length>0?t.map(g=>c.jsx("button",{onClick:()=>l(g),className:"w-full text-left p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[g.curso," - ",g.asignatura]}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(g.fecha).toLocaleDateString("es-CL"),g.bloques&&` | Bloques: ${g.bloques}`]}),Object.keys(g.rubricaResultados).length>0&&c.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:["Evaluado en ",Object.keys(g.rubricaResultados).length," criterios"]})]}),c.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 text-sm",children:"Ver Detalles"})]})},g.id)):!n&&c.jsxs("div",{className:"text-center py-16 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("span",{className:"text-5xl",children:""}),c.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700 dark:text-slate-300",children:"Sin Registros"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"An no tienes acompaamientos de clase registrados."})]})})]})},THe=e=>{console.log(" Iniciando suscripcin a todas las planificaciones...");try{const t=Rt(jr,"planificaciones"),r=Zt(t,Gr("fechaCreacion","desc"));return wr(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log(" Todas las planificaciones cargadas:",s.length),e(s)},a=>{throw console.error(" Error al cargar todas las planificaciones:",a),a})}catch(t){throw console.error(" Error al configurar suscripcin a todas las planificaciones:",t),t}},IHe=(e,t)=>{if(console.log(" Iniciando suscripcin a planificaciones del usuario:",e),!e)throw console.error(" userId no proporcionado"),new Error("userId es requerido");try{const r=Rt(jr,"planificaciones"),n=Zt(r,Fn("userId","==",e),Gr("fechaCreacion","desc"));return wr(n,s=>{const i=[];s.forEach(o=>{const l=o.data();i.push({id:o.id,...l})}),console.log(" Planificaciones del usuario cargadas:",i.length),t(i)},s=>{throw console.error(" Error al cargar planificaciones del usuario:",s),s})}catch(r){throw console.error(" Error al configurar suscripcin a planificaciones del usuario:",r),r}};function j0(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jHe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pP(e){let t,r,n;e.length!==2?(t=j0,r=(o,l)=>j0(e(o),l),n=(o,l)=>e(o)-l):(t=e===j0||e===jHe?e:FHe,r=e,n=e);function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function i(o,l,u=0,d=o.length){const f=a(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:i,right:s}}function FHe(){return 0}function tae(e){return e===null?NaN:+e}function*OHe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const DHe=pP(j0),Mw=DHe.right;pP(tae).center;class qV extends Map{constructor(t,r=LHe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(WV(this,t))}has(t){return super.has(WV(this,t))}set(t,r){return super.set(PHe(this,t),r)}delete(t){return super.delete(RHe(this,t))}}function WV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function PHe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function RHe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function LHe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MHe(e=j0){if(e===j0)return rae;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rae(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const UHe=Math.sqrt(50),QHe=Math.sqrt(10),HHe=Math.sqrt(2);function kS(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=UHe?10:s>=QHe?5:s>=HHe?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/i,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*i,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?kS(e,t,r*2):[o,l,u]}function EF(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?kS(t,e,r):kS(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let u=0;u<o;++u)l[u]=(s-u)/-i;else for(let u=0;u<o;++u)l[u]=(s-u)*i;else if(i<0)for(let u=0;u<o;++u)l[u]=(a+u)/-i;else for(let u=0;u<o;++u)l[u]=(a+u)*i;return l}function CF(e,t,r){return t=+t,e=+e,r=+r,kS(e,t,r)[2]}function _F(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?CF(t,e,r):CF(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function XV(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function YV(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nae(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?rae:MHe(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),v=Math.min(n,Math.floor(t+(l-u)*f/l+h));nae(e,t,p,v,a)}const s=e[t];let i=r,o=n;for(nb(e,r,t),a(e[n],s)>0&&nb(e,r,n);i<o;){for(nb(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?nb(e,r,o):(++o,nb(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function nb(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function VHe(e,t,r){if(e=Float64Array.from(OHe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return YV(e);if(t>=1)return XV(e);var n,a=(n-1)*t,s=Math.floor(a),i=XV(nae(e,s).subarray(0,s+1)),o=YV(e.subarray(s+1));return i+(o-i)*(a-s)}}function zHe(e,t,r=tae){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return i+(o-i)*(a-s)}}function $He(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}const SF=Math.PI,NF=2*SF,Mm=1e-6,KHe=NF-Mm;function aae(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function GHe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return aae;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class qHe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?aae:GHe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,l=n-t,u=a-r,d=i-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Mm)if(!(Math.abs(f*l-u*d)>Mm)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,v=a-o,g=l*l+u*u,b=p*p+v*v,y=Math.sqrt(g),_=Math.sqrt(h),S=s*Math.tan((SF-Math.acos((g+h-b)/(2*y*_)))/2),B=S/_,k=S/y;Math.abs(B-1)>Mm&&this._append`L${t+B*d},${r+B*f}`,this._append`A${s},${s},0,0,${+(f*p>d*v)},${this._x1=t+k*l},${this._y1=r+k*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),u=t+o,d=r+l,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Mm||Math.abs(this._y1-d)>Mm)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%NF+NF),h>KHe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Mm&&this._append`A${n},${n},0,${+(h>=SF)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function WHe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function BS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function fx(e){return e=BS(Math.abs(e)),e?e[1]:NaN}function XHe(e,t){return function(r,n){for(var a=r.length,s=[],i=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[i=(i+1)%e.length];return s.reverse().join(t)}}function YHe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var JHe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wy(e){if(!(t=JHe.exec(e)))throw new Error("invalid format: "+e);var t;return new gP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wy.prototype=gP.prototype;function gP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZHe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var sae;function eVe(e,t){var r=BS(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(sae=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+BS(e,Math.max(0,t+s-1))[0]}function JV(e,t){var r=BS(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const ZV={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WHe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>JV(e*100,t),r:JV,s:eVe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ez(e){return e}var tz=Array.prototype.map,rz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tVe(e){var t=e.grouping===void 0||e.thousands===void 0?ez:XHe(tz.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?ez:YHe(tz.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Wy(f);var h=f.fill,p=f.align,v=f.sign,g=f.symbol,b=f.zero,y=f.width,_=f.comma,S=f.precision,B=f.trim,k=f.type;k==="n"?(_=!0,k="g"):ZV[k]||(S===void 0&&(S=12),B=!0,k="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var O=g==="$"?r:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",w=g==="$"?n:/[%p]/.test(k)?i:"",C=ZV[k],N=/[defgprs%]/.test(k);S=S===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(j){var F=O,M=w,Q,J,q;if(k==="c")M=C(j)+M,j="";else{j=+j;var Z=j<0||1/j<0;if(j=isNaN(j)?l:C(Math.abs(j),S),B&&(j=ZHe(j)),Z&&+j==0&&v!=="+"&&(Z=!1),F=(Z?v==="("?v:o:v==="-"||v==="("?"":v)+F,M=(k==="s"?rz[8+sae/3]:"")+M+(Z&&v==="("?")":""),N){for(Q=-1,J=j.length;++Q<J;)if(q=j.charCodeAt(Q),48>q||q>57){M=(q===46?a+j.slice(Q+1):j.slice(Q))+M,j=j.slice(0,Q);break}}}_&&!b&&(j=t(j,1/0));var H=F.length+j.length+M.length,V=H<y?new Array(y-H+1).join(h):"";switch(_&&b&&(j=t(V+j,V.length?y-M.length:1/0),V=""),p){case"<":j=F+j+M+V;break;case"=":j=F+V+j+M;break;case"^":j=V.slice(0,H=V.length>>1)+F+j+M+V.slice(H);break;default:j=V+F+j+M;break}return s(j)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Wy(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(fx(h)/3)))*3,g=Math.pow(10,-v),b=rz[8+v/3];return function(y){return p(g*y)+b}}return{format:u,formatPrefix:d}}var oC,vP,iae;rVe({thousands:",",grouping:[3],currency:["$",""]});function rVe(e){return oC=tVe(e),vP=oC.format,iae=oC.formatPrefix,oC}function nVe(e){return Math.max(0,-fx(Math.abs(e)))}function aVe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fx(t)/3)))*3-fx(Math.abs(e)))}function sVe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fx(t)-fx(e))+1}function Bu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ih(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kF=Symbol("implicit");function QN(){var e=new qV,t=[],r=[],n=kF;function a(s){let i=e.get(s);if(i===void 0){if(n!==kF)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new qV;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return QN(t,r).unknown(n)},Bu.apply(a,arguments),a}function xP(){var e=QN().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,v=p?a:n,g=p?n:a;s=(g-v)/Math.max(1,h-l+u*2),o&&(s=Math.floor(s)),v+=(g-v-s*(h-l))*d,i=s*(1-l),o&&(v=Math.round(v),i=Math.round(i));var b=$He(h).map(function(y){return v+s*y});return r(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return xP(t(),[n,a]).round(o).paddingInner(l).paddingOuter(u).align(d)},Bu.apply(f(),arguments)}function oae(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oae(t())},e}function iVe(){return oae(xP.apply(null,arguments).paddingInner(1))}function oVe(e){return function(){return e}}function TS(e){return+e}var nz=[0,1];function ol(e){return e}function BF(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:oVe(isNaN(t)?NaN:.5)}function lVe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function cVe(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=BF(a,n),s=r(i,s)):(n=BF(n,a),s=r(s,i)),function(o){return s(n(o))}}function uVe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=BF(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(o){var l=Mw(e,o,1,n)-1;return s[l](a[l](o))}}function Uw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function HN(){var e=nz,t=nz,r=Ux,n,a,s,i=ol,o,l,u;function d(){var h=Math.min(e.length,t.length);return i!==ol&&(i=lVe(e[0],e[h-1])),o=h>2?uVe:cVe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=o(t,e.map(n),sd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,TS),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=JD,d()},f.clamp=function(h){return arguments.length?(i=h?!0:ol,d()):i!==ol},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,d()}}function bP(){return HN()(ol,ol)}function lae(e,t,r,n){var a=_F(e,t,r),s;switch(n=Wy(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=aVe(a,i))&&(n.precision=s),iae(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=sVe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=nVe(a))&&(n.precision=s-(n.type==="%")*2);break}}return vP(n)}function am(e){var t=e.domain;return e.ticks=function(r){var n=t();return EF(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return lae(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],o=n[s],l,u,d=10;for(o<i&&(u=i,i=o,o=u,u=a,a=s,s=u);d-- >0;){if(u=CF(i,o,r),u===l)return n[a]=i,n[s]=o,t(n);if(u>0)i=Math.floor(i/u)*u,o=Math.ceil(o/u)*u;else if(u<0)i=Math.ceil(i*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function cae(){var e=bP();return e.copy=function(){return Uw(e,cae())},Bu.apply(e,arguments),am(e)}function uae(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,TS),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return uae(e).unknown(t)},e=arguments.length?Array.from(e,TS):[0,1],am(r)}function dae(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function az(e){return Math.log(e)}function sz(e){return Math.exp(e)}function dVe(e){return-Math.log(-e)}function AVe(e){return-Math.exp(-e)}function fVe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hVe(e){return e===10?fVe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mVe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iz(e){return(t,r)=>-e(-t,r)}function yP(e){const t=e(az,sz),r=t.domain;let n=10,a,s;function i(){return a=mVe(n),s=hVe(n),r()[0]<0?(a=iz(a),s=iz(s),e(dVe,AVe)):e(az,sz),t}return t.base=function(o){return arguments.length?(n=+o,i()):n},t.domain=function(o){return arguments.length?(r(o),i()):r()},t.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),v,g;const b=o==null?10:+o;let y=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(g=h<0?v/s(-h):v*s(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(g=h>0?v/s(-h):v*s(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<b&&(y=EF(u,d,b))}else y=EF(h,p,Math.min(p-h,b)).map(s);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Wy(l)).precision==null&&(l.trim=!0),l=vP(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(dae(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function Aae(){const e=yP(HN()).domain([1,10]);return e.copy=()=>Uw(e,Aae()).base(e.base()),Bu.apply(e,arguments),e}function oz(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wP(e){var t=1,r=e(oz(t),lz(t));return r.constant=function(n){return arguments.length?e(oz(t=+n),lz(t)):t},am(r)}function fae(){var e=wP(HN());return e.copy=function(){return Uw(e,fae()).constant(e.constant())},Bu.apply(e,arguments)}function cz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pVe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gVe(e){return e<0?-e*e:e*e}function EP(e){var t=e(ol,ol),r=1;function n(){return r===1?e(ol,ol):r===.5?e(pVe,gVe):e(cz(r),cz(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},am(t)}function CP(){var e=EP(HN());return e.copy=function(){return Uw(e,CP()).exponent(e.exponent())},Bu.apply(e,arguments),e}function vVe(){return CP.apply(null,arguments).exponent(.5)}function uz(e){return Math.sign(e)*e*e}function xVe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hae(){var e=bP(),t=[0,1],r=!1,n;function a(s){var i=xVe(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(uz(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,TS)).map(uz)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return hae(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Bu.apply(a,arguments),am(a)}function mae(){var e=[],t=[],r=[],n;function a(){var i=0,o=Math.max(1,t.length);for(r=new Array(o-1);++i<o;)r[i-1]=zHe(e,i/o);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Mw(r,i)]}return s.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(j0),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return mae().domain(e).range(t).unknown(n)},Bu.apply(s,arguments)}function pae(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(l){return l!=null&&l<=l?a[Mw(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},i.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(l){return arguments.length&&(s=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return pae().domain([e,t]).range(a).unknown(s)},Bu.apply(am(i),arguments)}function gae(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Mw(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return gae().domain(e).range(t).unknown(r)},Bu.apply(a,arguments)}const CT=new Date,_T=new Date;function Ei(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),o=a.ceil(s);return s-i<o-s?i:o},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,o)=>{const l=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<i)||!(o>0))return l;let u;do l.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<i);return l},a.filter=s=>Ei(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!s(i););else for(;--o>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(CT.setTime(+s),_T.setTime(+i),e(CT),e(_T),Math.floor(r(CT,_T))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const IS=Ei(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);IS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ei(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):IS);IS.range;const kf=1e3,wu=kf*60,Bf=wu*60,qf=Bf*24,_P=qf*7,dz=qf*30,ST=qf*365,Jm=Ei(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kf)},(e,t)=>(t-e)/kf,e=>e.getUTCSeconds());Jm.range;const SP=Ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kf)},(e,t)=>{e.setTime(+e+t*wu)},(e,t)=>(t-e)/wu,e=>e.getMinutes());SP.range;const NP=Ei(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wu)},(e,t)=>(t-e)/wu,e=>e.getUTCMinutes());NP.range;const kP=Ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kf-e.getMinutes()*wu)},(e,t)=>{e.setTime(+e+t*Bf)},(e,t)=>(t-e)/Bf,e=>e.getHours());kP.range;const BP=Ei(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bf)},(e,t)=>(t-e)/Bf,e=>e.getUTCHours());BP.range;const Qw=Ei(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wu)/qf,e=>e.getDate()-1);Qw.range;const VN=Ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qf,e=>e.getUTCDate()-1);VN.range;const vae=Ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qf,e=>Math.floor(e/qf));vae.range;function Jp(e){return Ei(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*wu)/_P)}const zN=Jp(0),jS=Jp(1),bVe=Jp(2),yVe=Jp(3),hx=Jp(4),wVe=Jp(5),EVe=Jp(6);zN.range;jS.range;bVe.range;yVe.range;hx.range;wVe.range;EVe.range;function Zp(e){return Ei(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_P)}const $N=Zp(0),FS=Zp(1),CVe=Zp(2),_Ve=Zp(3),mx=Zp(4),SVe=Zp(5),NVe=Zp(6);$N.range;FS.range;CVe.range;_Ve.range;mx.range;SVe.range;NVe.range;const TP=Ei(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());TP.range;const IP=Ei(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());IP.range;const Wf=Ei(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ei(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wf.range;const Xf=Ei(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ei(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xf.range;function xae(e,t,r,n,a,s){const i=[[Jm,1,kf],[Jm,5,5*kf],[Jm,15,15*kf],[Jm,30,30*kf],[s,1,wu],[s,5,5*wu],[s,15,15*wu],[s,30,30*wu],[a,1,Bf],[a,3,3*Bf],[a,6,6*Bf],[a,12,12*Bf],[n,1,qf],[n,2,2*qf],[r,1,_P],[t,1,dz],[t,3,3*dz],[e,1,ST]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,p=pP(([,,b])=>b).right(i,h);if(p===i.length)return e.every(_F(u/ST,d/ST,f));if(p===0)return IS.every(Math.max(_F(u,d,f),1));const[v,g]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return v.every(g)}return[o,l]}const[kVe,BVe]=xae(Xf,IP,$N,vae,BP,NP),[TVe,IVe]=xae(Wf,TP,zN,Qw,kP,SP);function NT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ab(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jVe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,u=sb(a),d=ib(a),f=sb(s),h=ib(s),p=sb(i),v=ib(i),g=sb(o),b=ib(o),y=sb(l),_=ib(l),S={a:Z,A:H,b:V,B:G,c:null,d:gz,e:gz,f:tze,g:dze,G:fze,H:JVe,I:ZVe,j:eze,L:bae,m:rze,M:nze,p:ne,q:R,Q:bz,s:yz,S:aze,u:sze,U:ize,V:oze,w:lze,W:cze,x:null,X:null,y:uze,Y:Aze,Z:hze,"%":xz},B={a:W,A:Y,b:te,B:ie,c:null,d:vz,e:vz,f:vze,g:kze,G:Tze,H:mze,I:pze,j:gze,L:wae,m:xze,M:bze,p:me,q:oe,Q:bz,s:yz,S:yze,u:wze,U:Eze,V:Cze,w:_ze,W:Sze,x:null,X:null,y:Nze,Y:Bze,Z:Ize,"%":xz},k={a:P,A:j,b:F,B:M,c:Q,d:mz,e:mz,f:qVe,g:hz,G:fz,H:pz,I:pz,j:zVe,L:GVe,m:VVe,M:$Ve,p:N,q:HVe,Q:XVe,s:YVe,S:KVe,u:RVe,U:LVe,V:MVe,w:PVe,W:UVe,x:J,X:q,y:hz,Y:fz,Z:QVe,"%":WVe};S.x=O(r,S),S.X=O(n,S),S.c=O(t,S),B.x=O(r,B),B.X=O(n,B),B.c=O(t,B);function O(ce,ge){return function(De){var re=[],Se=-1,Pe=0,_e=ce.length,Ae,je,$e;for(De instanceof Date||(De=new Date(+De));++Se<_e;)ce.charCodeAt(Se)===37&&(re.push(ce.slice(Pe,Se)),(je=Az[Ae=ce.charAt(++Se)])!=null?Ae=ce.charAt(++Se):je=Ae==="e"?" ":"0",($e=ge[Ae])&&(Ae=$e(De,je)),re.push(Ae),Pe=Se+1);return re.push(ce.slice(Pe,Se)),re.join("")}}function w(ce,ge){return function(De){var re=ab(1900,void 0,1),Se=C(re,ce,De+="",0),Pe,_e;if(Se!=De.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ge&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Pe=kT(ab(re.y,0,1)),_e=Pe.getUTCDay(),Pe=_e>4||_e===0?FS.ceil(Pe):FS(Pe),Pe=VN.offset(Pe,(re.V-1)*7),re.y=Pe.getUTCFullYear(),re.m=Pe.getUTCMonth(),re.d=Pe.getUTCDate()+(re.w+6)%7):(Pe=NT(ab(re.y,0,1)),_e=Pe.getDay(),Pe=_e>4||_e===0?jS.ceil(Pe):jS(Pe),Pe=Qw.offset(Pe,(re.V-1)*7),re.y=Pe.getFullYear(),re.m=Pe.getMonth(),re.d=Pe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),_e="Z"in re?kT(ab(re.y,0,1)).getUTCDay():NT(ab(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(_e+5)%7:re.w+re.U*7-(_e+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,kT(re)):NT(re)}}function C(ce,ge,De,re){for(var Se=0,Pe=ge.length,_e=De.length,Ae,je;Se<Pe;){if(re>=_e)return-1;if(Ae=ge.charCodeAt(Se++),Ae===37){if(Ae=ge.charAt(Se++),je=k[Ae in Az?ge.charAt(Se++):Ae],!je||(re=je(ce,De,re))<0)return-1}else if(Ae!=De.charCodeAt(re++))return-1}return re}function N(ce,ge,De){var re=u.exec(ge.slice(De));return re?(ce.p=d.get(re[0].toLowerCase()),De+re[0].length):-1}function P(ce,ge,De){var re=p.exec(ge.slice(De));return re?(ce.w=v.get(re[0].toLowerCase()),De+re[0].length):-1}function j(ce,ge,De){var re=f.exec(ge.slice(De));return re?(ce.w=h.get(re[0].toLowerCase()),De+re[0].length):-1}function F(ce,ge,De){var re=y.exec(ge.slice(De));return re?(ce.m=_.get(re[0].toLowerCase()),De+re[0].length):-1}function M(ce,ge,De){var re=g.exec(ge.slice(De));return re?(ce.m=b.get(re[0].toLowerCase()),De+re[0].length):-1}function Q(ce,ge,De){return C(ce,t,ge,De)}function J(ce,ge,De){return C(ce,r,ge,De)}function q(ce,ge,De){return C(ce,n,ge,De)}function Z(ce){return i[ce.getDay()]}function H(ce){return s[ce.getDay()]}function V(ce){return l[ce.getMonth()]}function G(ce){return o[ce.getMonth()]}function ne(ce){return a[+(ce.getHours()>=12)]}function R(ce){return 1+~~(ce.getMonth()/3)}function W(ce){return i[ce.getUTCDay()]}function Y(ce){return s[ce.getUTCDay()]}function te(ce){return l[ce.getUTCMonth()]}function ie(ce){return o[ce.getUTCMonth()]}function me(ce){return a[+(ce.getUTCHours()>=12)]}function oe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var ge=O(ce+="",S);return ge.toString=function(){return ce},ge},parse:function(ce){var ge=w(ce+="",!1);return ge.toString=function(){return ce},ge},utcFormat:function(ce){var ge=O(ce+="",B);return ge.toString=function(){return ce},ge},utcParse:function(ce){var ge=w(ce+="",!0);return ge.toString=function(){return ce},ge}}}var Az={"-":"",_:" ",0:"0"},Ki=/^\s*\d+/,FVe=/^%/,OVe=/[\\^$*+?|[\]().{}]/g;function Vn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function DVe(e){return e.replace(OVe,"\\$&")}function sb(e){return new RegExp("^(?:"+e.map(DVe).join("|")+")","i")}function ib(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function PVe(e,t,r){var n=Ki.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function RVe(e,t,r){var n=Ki.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function LVe(e,t,r){var n=Ki.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function MVe(e,t,r){var n=Ki.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function UVe(e,t,r){var n=Ki.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function fz(e,t,r){var n=Ki.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function hz(e,t,r){var n=Ki.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QVe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function HVe(e,t,r){var n=Ki.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function VVe(e,t,r){var n=Ki.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mz(e,t,r){var n=Ki.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zVe(e,t,r){var n=Ki.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pz(e,t,r){var n=Ki.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $Ve(e,t,r){var n=Ki.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function KVe(e,t,r){var n=Ki.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function GVe(e,t,r){var n=Ki.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qVe(e,t,r){var n=Ki.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function WVe(e,t,r){var n=FVe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function XVe(e,t,r){var n=Ki.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function YVe(e,t,r){var n=Ki.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function gz(e,t){return Vn(e.getDate(),t,2)}function JVe(e,t){return Vn(e.getHours(),t,2)}function ZVe(e,t){return Vn(e.getHours()%12||12,t,2)}function eze(e,t){return Vn(1+Qw.count(Wf(e),e),t,3)}function bae(e,t){return Vn(e.getMilliseconds(),t,3)}function tze(e,t){return bae(e,t)+"000"}function rze(e,t){return Vn(e.getMonth()+1,t,2)}function nze(e,t){return Vn(e.getMinutes(),t,2)}function aze(e,t){return Vn(e.getSeconds(),t,2)}function sze(e){var t=e.getDay();return t===0?7:t}function ize(e,t){return Vn(zN.count(Wf(e)-1,e),t,2)}function yae(e){var t=e.getDay();return t>=4||t===0?hx(e):hx.ceil(e)}function oze(e,t){return e=yae(e),Vn(hx.count(Wf(e),e)+(Wf(e).getDay()===4),t,2)}function lze(e){return e.getDay()}function cze(e,t){return Vn(jS.count(Wf(e)-1,e),t,2)}function uze(e,t){return Vn(e.getFullYear()%100,t,2)}function dze(e,t){return e=yae(e),Vn(e.getFullYear()%100,t,2)}function Aze(e,t){return Vn(e.getFullYear()%1e4,t,4)}function fze(e,t){var r=e.getDay();return e=r>=4||r===0?hx(e):hx.ceil(e),Vn(e.getFullYear()%1e4,t,4)}function hze(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vn(t/60|0,"0",2)+Vn(t%60,"0",2)}function vz(e,t){return Vn(e.getUTCDate(),t,2)}function mze(e,t){return Vn(e.getUTCHours(),t,2)}function pze(e,t){return Vn(e.getUTCHours()%12||12,t,2)}function gze(e,t){return Vn(1+VN.count(Xf(e),e),t,3)}function wae(e,t){return Vn(e.getUTCMilliseconds(),t,3)}function vze(e,t){return wae(e,t)+"000"}function xze(e,t){return Vn(e.getUTCMonth()+1,t,2)}function bze(e,t){return Vn(e.getUTCMinutes(),t,2)}function yze(e,t){return Vn(e.getUTCSeconds(),t,2)}function wze(e){var t=e.getUTCDay();return t===0?7:t}function Eze(e,t){return Vn($N.count(Xf(e)-1,e),t,2)}function Eae(e){var t=e.getUTCDay();return t>=4||t===0?mx(e):mx.ceil(e)}function Cze(e,t){return e=Eae(e),Vn(mx.count(Xf(e),e)+(Xf(e).getUTCDay()===4),t,2)}function _ze(e){return e.getUTCDay()}function Sze(e,t){return Vn(FS.count(Xf(e)-1,e),t,2)}function Nze(e,t){return Vn(e.getUTCFullYear()%100,t,2)}function kze(e,t){return e=Eae(e),Vn(e.getUTCFullYear()%100,t,2)}function Bze(e,t){return Vn(e.getUTCFullYear()%1e4,t,4)}function Tze(e,t){var r=e.getUTCDay();return e=r>=4||r===0?mx(e):mx.ceil(e),Vn(e.getUTCFullYear()%1e4,t,4)}function Ize(){return"+0000"}function xz(){return"%"}function bz(e){return+e}function yz(e){return Math.floor(+e/1e3)}var Yg,Cae,_ae;jze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jze(e){return Yg=jVe(e),Cae=Yg.format,Yg.parse,_ae=Yg.utcFormat,Yg.utcParse,Yg}function Fze(e){return new Date(e)}function Oze(e){return e instanceof Date?+e:+new Date(+e)}function jP(e,t,r,n,a,s,i,o,l,u){var d=bP(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),g=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),_=u("%b %d"),S=u("%B"),B=u("%Y");function k(O){return(l(O)<O?p:o(O)<O?v:i(O)<O?g:s(O)<O?b:n(O)<O?a(O)<O?y:_:r(O)<O?S:B)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?h(Array.from(O,Oze)):h().map(Fze)},d.ticks=function(O){var w=h();return e(w[0],w[w.length-1],O??10)},d.tickFormat=function(O,w){return w==null?k:u(w)},d.nice=function(O){var w=h();return(!O||typeof O.range!="function")&&(O=t(w[0],w[w.length-1],O??10)),O?h(dae(w,O)):d},d.copy=function(){return Uw(d,jP(e,t,r,n,a,s,i,o,l,u))},d}function Dze(){return Bu.apply(jP(TVe,IVe,Wf,TP,zN,Qw,kP,SP,Jm,Cae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pze(){return Bu.apply(jP(kVe,BVe,Xf,IP,$N,VN,BP,NP,Jm,_ae).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function KN(){var e=0,t=1,r,n,a,s,i=ol,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,i=f(p,v),u):[i(0),i(1)]}}return u.range=d(Ux),u.rangeRound=d(JD),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function sm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Sae(){var e=am(KN()(ol));return e.copy=function(){return sm(e,Sae())},ih.apply(e,arguments)}function Nae(){var e=yP(KN()).domain([1,10]);return e.copy=function(){return sm(e,Nae()).base(e.base())},ih.apply(e,arguments)}function kae(){var e=wP(KN());return e.copy=function(){return sm(e,kae()).constant(e.constant())},ih.apply(e,arguments)}function FP(){var e=EP(KN());return e.copy=function(){return sm(e,FP()).exponent(e.exponent())},ih.apply(e,arguments)}function Rze(){return FP.apply(null,arguments).exponent(.5)}function Bae(){var e=[],t=ol;function r(n){if(n!=null&&!isNaN(n=+n))return t((Mw(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(j0),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>VHe(e,s/n))},r.copy=function(){return Bae(t).domain(e)},ih.apply(r,arguments)}function GN(){var e=0,t=.5,r=1,n=1,a,s,i,o,l,u=ol,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),i=d(r=+r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function v(g){return function(b){var y,_,S;return arguments.length?([y,_,S]=b,u=CMe(g,[y,_,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Ux),p.rangeRound=v(JD),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,a=g(e),s=g(t),i=g(r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function Tae(){var e=am(GN()(ol));return e.copy=function(){return sm(e,Tae())},ih.apply(e,arguments)}function Iae(){var e=yP(GN()).domain([.1,1,10]);return e.copy=function(){return sm(e,Iae()).base(e.base())},ih.apply(e,arguments)}function jae(){var e=wP(GN());return e.copy=function(){return sm(e,jae()).constant(e.constant())},ih.apply(e,arguments)}function OP(){var e=EP(GN());return e.copy=function(){return sm(e,OP()).exponent(e.exponent())},ih.apply(e,arguments)}function Lze(){return OP.apply(null,arguments).exponent(.5)}function Mze(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const Uze=Mze("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Ta(e){return function(){return e}}const Fae=Math.cos,OS=Math.sin,wd=Math.sqrt,DS=Math.PI,qN=2*DS;function DP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qHe(t)}function PP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Oae(e){this._context=e}Oae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function WN(e){return new Oae(e)}function Dae(e){return e[0]}function Pae(e){return e[1]}function Rae(e,t){var r=Ta(!0),n=null,a=WN,s=null,i=DP(o);e=typeof e=="function"?e:e===void 0?Dae:Ta(e),t=typeof t=="function"?t:t===void 0?Pae:Ta(t);function o(l){var u,d=(l=PP(l)).length,f,h=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,l),+t(f,u,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ta(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ta(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ta(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(s=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=s=null:s=a(n=l),o):n},o}function lC(e,t,r){var n=null,a=Ta(!0),s=null,i=WN,o=null,l=DP(u);e=typeof e=="function"?e:e===void 0?Dae:Ta(+e),t=typeof t=="function"?t:Ta(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Pae:Ta(+r);function u(f){var h,p,v,g=(f=PP(f)).length,b,y=!1,_,S=new Array(g),B=new Array(g);for(s==null&&(o=i(_=l())),h=0;h<=g;++h){if(!(h<g&&a(b=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=p;--v)o.point(S[v],B[v]);o.lineEnd(),o.areaEnd()}y&&(S[h]=+e(b,h,f),B[h]=+t(b,h,f),o.point(n?+n(b,h,f):S[h],r?+r(b,h,f):B[h]))}if(_)return o=null,_+""||null}function d(){return Rae().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ta(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ta(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ta(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ta(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ta(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ta(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ta(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(o=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=o=null:o=i(s=f),u):s},u}class Lae{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Qze(e){return new Lae(e,!0)}function Hze(e){return new Lae(e,!1)}const RP={draw(e,t){const r=wd(t/DS);e.moveTo(r,0),e.arc(0,0,r,0,qN)}},Vze={draw(e,t){const r=wd(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Mae=wd(1/3),zze=Mae*2,$ze={draw(e,t){const r=wd(t/zze),n=r*Mae;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Kze={draw(e,t){const r=wd(t),n=-r/2;e.rect(n,n,r,r)}},Gze=.8908130915292852,Uae=OS(DS/10)/OS(7*DS/10),qze=OS(qN/10)*Uae,Wze=-Fae(qN/10)*Uae,Xze={draw(e,t){const r=wd(t*Gze),n=qze*r,a=Wze*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=qN*s/5,o=Fae(i),l=OS(i);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},BT=wd(3),Yze={draw(e,t){const r=-wd(t/(BT*3));e.moveTo(0,r*2),e.lineTo(-BT*r,-r),e.lineTo(BT*r,-r),e.closePath()}},nu=-.5,au=wd(3)/2,TF=1/wd(12),Jze=(TF/2+1)*3,Zze={draw(e,t){const r=wd(t/Jze),n=r/2,a=r*TF,s=n,i=r*TF+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(nu*n-au*a,au*n+nu*a),e.lineTo(nu*s-au*i,au*s+nu*i),e.lineTo(nu*o-au*l,au*o+nu*l),e.lineTo(nu*n+au*a,nu*a-au*n),e.lineTo(nu*s+au*i,nu*i-au*s),e.lineTo(nu*o+au*l,nu*l-au*o),e.closePath()}};function e$e(e,t){let r=null,n=DP(a);e=typeof e=="function"?e:Ta(e||RP),t=typeof t=="function"?t:Ta(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ta(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ta(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function PS(){}function RS(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Qae(e){this._context=e}Qae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:RS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:RS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t$e(e){return new Qae(e)}function Hae(e){this._context=e}Hae.prototype={areaStart:PS,areaEnd:PS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:RS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r$e(e){return new Hae(e)}function Vae(e){this._context=e}Vae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:RS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n$e(e){return new Vae(e)}function zae(e){this._context=e}zae.prototype={areaStart:PS,areaEnd:PS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function a$e(e){return new zae(e)}function wz(e){return e<0?-1:1}function Ez(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(wz(s)+wz(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function Cz(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function TT(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function LS(e){this._context=e}LS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TT(this,this._t0,Cz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,TT(this,Cz(this,r=Ez(this,e,t)),r);break;default:TT(this,this._t0,r=Ez(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $ae(e){this._context=new Kae(e)}($ae.prototype=Object.create(LS.prototype)).point=function(e,t){LS.prototype.point.call(this,t,e)};function Kae(e){this._context=e}Kae.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function s$e(e){return new LS(e)}function i$e(e){return new $ae(e)}function Gae(e){this._context=e}Gae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_z(e),a=_z(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _z(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function o$e(e){return new Gae(e)}function XN(e,t){this._context=e,this._t=t}XN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function l$e(e){return new XN(e,.5)}function c$e(e){return new XN(e,0)}function u$e(e){return new XN(e,1)}function px(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,o=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function IF(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function d$e(e,t){return e[t]}function A$e(e){const t=[];return t.key=e,t}function f$e(){var e=Ta([]),t=IF,r=px,n=d$e;function a(s){var i=Array.from(e.apply(this,arguments),A$e),o,l=i.length,u=-1,d;for(const f of s)for(o=0,++u;o<l;++o)(i[o][u]=[0,+n(f,i[o].key,u,s)]).data=f;for(o=0,d=PP(t(i));o<l;++o)i[d[o]].index=o;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ta(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ta(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?IF:typeof s=="function"?s:Ta(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??px,a):r},a}function h$e(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}px(e,t)}}function m$e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,o=0;i<a;++i)o+=e[i][r][1]||0;n[r][1]+=n[r][0]=-o/2}px(e,t)}}function p$e(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var o=0,l=0,u=0;o<i;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<o;++v){var g=e[t[v]],b=g[n][1]||0,y=g[n-1][1]||0;p+=b-y}l+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,px(e,t)}}var g$e={value:function(){}};function qae(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new e_(r)}function e_(e){this._=e}function v$e(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}e_.prototype=qae.prototype={constructor:e_,on:function(e,t){var r=this._,n=v$e(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=x$e(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=Sz(r[a],e.name,t);else if(t==null)for(a in r)r[a]=Sz(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new e_(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function x$e(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function Sz(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=g$e,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}const b$e=Object.freeze(Object.defineProperty({__proto__:null,dispatch:qae},Symbol.toStringTag,{value:"Module"})),y$e=zue(b$e);var IT,Nz;function w$e(){if(Nz)return IT;Nz=1;const e=y$e.dispatch,t=Math.PI/180,r={archimedean:g,rectangular:b},n=64,a=2048;IT=function(){var B=[256,256],k=s,O=i,w=l,C=o,N=o,P=u,j=d,F=g,M=[],Q=1/0,J=e("word","end"),q=null,Z=Math.random,H={},V=_;H.canvas=function(R){return arguments.length?(V=S(R),H):V},H.start=function(){var R=G(V()),W=y((B[0]>>5)*B[1]),Y=null,te=M.length,ie=-1,me=[],oe=M.map(function(ge,De){return ge.text=k.call(this,ge,De),ge.font=O.call(this,ge,De),ge.style=C.call(this,ge,De),ge.weight=N.call(this,ge,De),ge.rotate=P.call(this,ge,De),ge.size=~~w.call(this,ge,De),ge.padding=j.call(this,ge,De),ge}).sort(function(ge,De){return De.size-ge.size});return q&&clearInterval(q),q=setInterval(ce,0),ce(),H;function ce(){for(var ge=Date.now();Date.now()-ge<Q&&++ie<te&&q;){var De=oe[ie];De.x=B[0]*(Z()+.5)>>1,De.y=B[1]*(Z()+.5)>>1,f(R,De,oe,ie),De.hasText&&ne(W,De,Y)&&(me.push(De),J.call("word",H,De),Y?p(Y,De):Y=[{x:De.x+De.x0,y:De.y+De.y0},{x:De.x+De.x1,y:De.y+De.y1}],De.x-=B[0]>>1,De.y-=B[1]>>1)}ie>=te&&(H.stop(),J.call("end",H,me,Y))}},H.stop=function(){q&&(clearInterval(q),q=null);for(const R of M)delete R.sprite;return H};function G(R){const W=R.getContext("2d",{willReadFrequently:!0});R.width=R.height=1;const Y=Math.sqrt(W.getImageData(0,0,1,1).data.length>>2);return R.width=(n<<5)/Y,R.height=a/Y,W.fillStyle=W.strokeStyle="red",{context:W,ratio:Y}}function ne(R,W,Y){B[0],B[1];for(var te=W.x,ie=W.y,me=Math.sqrt(B[0]*B[0]+B[1]*B[1]),oe=F(B),ce=Z()<.5?1:-1,ge=-ce,De,re,Se;(De=oe(ge+=ce))&&(re=~~De[0],Se=~~De[1],!(Math.min(Math.abs(re),Math.abs(Se))>=me));)if(W.x=te+re,W.y=ie+Se,!(W.x+W.x0<0||W.y+W.y0<0||W.x+W.x1>B[0]||W.y+W.y1>B[1])&&(!Y||v(W,Y))&&!h(W,R,B[0])){for(var Pe=W.sprite,_e=W.width>>5,Ae=B[0]>>5,je=W.x-(_e<<4),$e=je&127,Ze=32-$e,ye=W.y1-W.y0,Oe=(W.y+W.y0)*Ae+(je>>5),Me,Ye=0;Ye<ye;Ye++){Me=0;for(var tt=0;tt<=_e;tt++)R[Oe+tt]|=Me<<Ze|(tt<_e?(Me=Pe[Ye*_e+tt])>>>$e:0);Oe+=Ae}return!0}return!1}return H.timeInterval=function(R){return arguments.length?(Q=R??1/0,H):Q},H.words=function(R){return arguments.length?(M=R,H):M},H.size=function(R){return arguments.length?(B=[+R[0],+R[1]],H):B},H.font=function(R){return arguments.length?(O=S(R),H):O},H.fontStyle=function(R){return arguments.length?(C=S(R),H):C},H.fontWeight=function(R){return arguments.length?(N=S(R),H):N},H.rotate=function(R){return arguments.length?(P=S(R),H):P},H.text=function(R){return arguments.length?(k=S(R),H):k},H.spiral=function(R){return arguments.length?(F=r[R]||R,H):F},H.fontSize=function(R){return arguments.length?(w=S(R),H):w},H.padding=function(R){return arguments.length?(j=S(R),H):j},H.random=function(R){return arguments.length?(Z=R,H):Z},H.on=function(){var R=J.on.apply(J,arguments);return R===J?H:R},H};function s(B){return B.text}function i(){return"serif"}function o(){return"normal"}function l(B){return Math.sqrt(B.value)}function u(){return(~~(random()*6)-3)*30}function d(){return 1}function f(B,k,O,w){if(!k.sprite){var C=B.context,N=B.ratio;C.clearRect(0,0,(n<<5)/N,a/N);var P=0,j=0,F=0,M=O.length;for(--w;++w<M;){k=O[w],C.save(),C.font=k.style+" "+k.weight+" "+~~((k.size+1)/N)+"px "+k.font;const De=C.measureText(k.text),re=-Math.floor(De.width/2);let Se=(De.width+1)*N,Pe=k.size<<1;if(k.rotate){var Q=Math.sin(k.rotate*t),J=Math.cos(k.rotate*t),q=Se*J,Z=Se*Q,H=Pe*J,V=Pe*Q;Se=Math.max(Math.abs(q+V),Math.abs(q-V))+31>>5<<5,Pe=~~Math.max(Math.abs(Z+H),Math.abs(Z-H))}else Se=Se+31>>5<<5;if(Pe>F&&(F=Pe),P+Se>=n<<5&&(P=0,j+=F,F=0),j+Pe>=a)break;C.translate((P+(Se>>1))/N,(j+(Pe>>1))/N),k.rotate&&C.rotate(k.rotate*t),C.fillText(k.text,re,0),k.padding&&(C.lineWidth=2*k.padding,C.strokeText(k.text,re,0)),C.restore(),k.width=Se,k.height=Pe,k.xoff=P,k.yoff=j,k.x1=Se>>1,k.y1=Pe>>1,k.x0=-k.x1,k.y0=-k.y1,k.hasText=!0,P+=Se}for(var G=C.getImageData(0,0,(n<<5)/N,a/N).data,ne=[];--w>=0;)if(k=O[w],!!k.hasText){for(var R=k.width,W=R>>5,Y=k.y1-k.y0,te=0;te<Y*W;te++)ne[te]=0;if(P=k.xoff,P==null)return;j=k.yoff;for(var ie=0,me=-1,oe=0;oe<Y;oe++){for(var te=0;te<R;te++){var ce=W*oe+(te>>5),ge=G[(j+oe)*(n<<5)+(P+te)<<2]?1<<31-te%32:0;ne[ce]|=ge,ie|=ge}ie?me=oe:(k.y0++,Y--,oe--,j++)}k.y1=k.y0+me,k.sprite=ne.slice(0,(k.y1-k.y0)*W)}}}function h(B,k,O){O>>=5;for(var w=B.sprite,C=B.width>>5,N=B.x-(C<<4),P=N&127,j=32-P,F=B.y1-B.y0,M=(B.y+B.y0)*O+(N>>5),Q,J=0;J<F;J++){Q=0;for(var q=0;q<=C;q++)if((Q<<j|(q<C?(Q=w[J*C+q])>>>P:0))&k[M+q])return!0;M+=O}return!1}function p(B,k){var O=B[0],w=B[1];k.x+k.x0<O.x&&(O.x=k.x+k.x0),k.y+k.y0<O.y&&(O.y=k.y+k.y0),k.x+k.x1>w.x&&(w.x=k.x+k.x1),k.y+k.y1>w.y&&(w.y=k.y+k.y1)}function v(B,k){return B.x+B.x1>k[0].x&&B.x+B.x0<k[1].x&&B.y+B.y1>k[0].y&&B.y+B.y0<k[1].y}function g(B){var k=B[0]/B[1];return function(O){return[k*(O*=.1)*Math.cos(O),O*Math.sin(O)]}}function b(B){var k=4,O=k*B[0]/B[1],w=0,C=0;return function(N){var P=N<0?-1:1;switch(Math.sqrt(1+4*P*N)-P&3){case 0:w+=O;break;case 1:C+=k;break;case 2:w-=O;break;default:C-=k;break}return[w,C]}}function y(B){for(var k=[],O=-1;++O<B;)k[O]=0;return k}function _(){return document.createElement("canvas")}function S(B){return typeof B=="function"?B:function(){return B}}return IT}var E$e=w$e();const C$e=hl(E$e),_$e=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),S$e=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),N$e=()=>c.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),k$e=e=>{const[t,r]=I.useState([]),[n,a]=I.useState(!0),[s,i]=I.useState(null),o=I.useMemo(()=>(e==null?void 0:e.profile)==="SUBDIRECCION",[e]);return I.useEffect(()=>{if(!(e!=null&&e.email)&&!(e!=null&&e.id)){i("Usuario no autenticado"),a(!1);return}try{let l;const u=d=>{r(d),a(!1),i(null)};if(o)l=THe(u);else{const d=e.email||e.id||"";l=IHe(u,d)}return l}catch(l){i(l instanceof Error?l.message:"Error al conectar con la base de datos"),a(!1)}},[e,o]),{planificaciones:t,loading:n,error:s,canViewAllPlans:o}},B$e=({plan:e,onClose:t})=>c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:t,children:c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:r=>r.stopPropagation(),children:[c.jsxs("header",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:e.nombreUnidad}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.asignatura," | ",e.nivel," | Autor: ",e.autor||"N/A"]})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:c.jsx(S$e,{})})]}),c.jsxs("main",{className:"p-6 flex-1 overflow-y-auto space-y-6",children:[c.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",e.objetivosAprendizaje]}),c.jsxs("p",{className:"mt-2",children:[c.jsx("strong",{children:"Indicadores de Evaluacin:"})," ",e.indicadoresEvaluacion]}),c.jsx("div",{className:"mt-3",children:c.jsxs("span",{className:"inline-block bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 px-3 py-1 rounded-full text-sm font-semibold",children:["Avance de la Unidad: ",typeof e.progreso=="number"?`${e.progreso}%`:"No registrado"]})})]}),c.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 border-b pb-2",children:["Secuencia de Clases (",e.detallesLeccion.length,")"]}),c.jsx("div",{className:"space-y-3 max-h-[30vh] overflow-y-auto pr-2",children:e.detallesLeccion.map((r,n)=>c.jsxs("div",{className:"p-3 border dark:border-slate-700 rounded-md bg-white dark:bg-slate-800",children:[c.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:["Clase ",n+1,": ",r.actividades]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 mt-2 text-sm text-slate-600 dark:text-slate-400",children:[c.jsxs("span",{children:[c.jsx("strong",{children:"Objetivo:"})," ",r.objetivosAprendizaje]}),c.jsxs("span",{children:[c.jsx("strong",{children:"Contenidos:"})," ",r.contenidosConceptuales]})]})]},n))}),e.reflexionUnidad&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 border-b pb-2 mt-6",children:"Reflexin Docente"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-slate-100 dark:bg-slate-800 rounded-lg mt-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Habilidades Desarrolladas (Priorizadas)"}),e.reflexionUnidad.ordenHabilidades&&e.reflexionUnidad.ordenHabilidades.length>0?c.jsx("ul",{className:"space-y-2",children:e.reflexionUnidad.ordenHabilidades.map((r,n)=>c.jsxs("li",{className:"p-2 bg-white dark:bg-slate-700 rounded-md flex items-center gap-2 shadow-sm",children:[c.jsxs("span",{className:"font-bold text-amber-500",children:[n+1,"."]})," ",r]},r))}):c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No priorizadas."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Fortalezas"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-700 rounded-md",children:e.reflexionUnidad.fortalezas||"N/A"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Mejoras"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-700 rounded-md",children:e.reflexionUnidad.mejoras||"N/A"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Desafos"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-700 rounded-md",children:e.reflexionUnidad.debilidades||"N/A"})]})]})]})]})]})]})}),kz=["Recordar","Comprender","Aplicar","Analizar","Evaluar","Crear"],T$e=["1 Medio","2 Medio","3 Medio","4 Medio"],I$e=({words:e})=>{const t=I.useRef(null);return I.useEffect(()=>{if(!e.length||!t.current)return;const r=pu(t.current);r.selectAll("*").remove();const n=C$e().size([500,350]).words(e.map(s=>({...s}))).padding(5).rotate(()=>(~~(Math.random()*6)-3)*15).font("Impact").fontSize(s=>Math.sqrt(s.value)*12).on("end",a);n.start();function a(s){r.attr("width",n.size()[0]).attr("height",n.size()[1]).append("g").attr("transform",`translate(${n.size()[0]/2},${n.size()[1]/2})`).selectAll("text").data(s).enter().append("text").style("font-size",i=>`${i.size}px`).style("font-family","Impact").style("fill",(i,o)=>QN(Uze)(o.toString())).attr("text-anchor","middle").attr("transform",i=>`translate(${[i.x,i.y]})rotate(${i.rotate})`).text(i=>i.text)}},[e]),c.jsx("svg",{ref:t})},j$e=({planificaciones:e})=>{const[t,r]=I.useState("todos"),[n,a]=I.useState("todos"),s=I.useMemo(()=>["todos",...Array.from(new Set(e.map(d=>d.asignatura)))],[e]),i=I.useMemo(()=>e.filter(d=>(t==="todos"||d.nivel===t)&&(n==="todos"||d.asignatura===n)&&d.reflexionUnidad),[e,t,n]),o=I.useMemo(()=>{const d=kz.reduce((f,h)=>({...f,[h]:0}),{});return i.forEach(f=>{var h,p;return(p=(h=f.reflexionUnidad)==null?void 0:h.ordenHabilidades)==null?void 0:p.forEach((v,g)=>{d[v]!==void 0&&(d[v]+=kz.length-g)})}),Object.entries(d).map(([f,h])=>({text:f,value:h})).sort((f,h)=>h.value-f.value)},[i]),l=I.useMemo(()=>{const d=new Set(["y","e","o","u","de","la","el","los","las","un","una","unos","unas","a","con","que","se","del","al","no","si","fue","es","son","muy","mas","lo","como","sus","para","por","este","esta","actividad","clase","alumnos","estudiantes"]),h=(i.map(p=>{var v,g;return`${((v=p.reflexionUnidad)==null?void 0:v.fortalezas)||""} ${((g=p.reflexionUnidad)==null?void 0:g.debilidades)||""}`}).join(" ").toLowerCase().match(/\b(\w{4,})\b/g)||[]).reduce((p,v)=>(d.has(v)||(p[v]=(p[v]||0)+1),p),{});return Object.entries(h).map(([p,v])=>({text:p,value:v})).sort((p,v)=>v.value-p.value).slice(0,50)},[i]),u="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600";return c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),c.jsxs("select",{value:t,onChange:d=>r(d.target.value),className:u,children:[c.jsx("option",{value:"todos",children:"Todos los Niveles"}),T$e.map(d=>c.jsx("option",{value:d,children:d},d))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsx("select",{value:n,onChange:d=>a(d.target.value),className:u,children:s.map(d=>c.jsx("option",{value:d,children:d==="todos"?"Todas las Asignaturas":d},d))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"p-6 border dark:border-slate-700 rounded-lg",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Ranking de Habilidades"}),o.every(d=>d.value===0)?c.jsx("p",{className:"text-center py-10 text-slate-500",children:"No hay datos"}):c.jsx("ul",{className:"space-y-3",children:o.map((d,f)=>c.jsxs("li",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"font-bold text-lg text-amber-500 w-6 text-center",children:f+1}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:d.text}),c.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:c.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${d.value/(o[0].value||1)*100}%`}})})]})]},d.text))})]}),c.jsxs("div",{className:"p-6 border dark:border-slate-700 rounded-lg flex flex-col items-center justify-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Nube de Contenidos"}),l.length>0?c.jsx(I$e,{words:l}):c.jsx("p",{className:"text-center py-10 text-slate-500",children:"No hay datos suficientes"})]})]})]})},F$e=({currentUser:e})=>{const{planificaciones:t,loading:r,error:n,canViewAllPlans:a}=k$e(e),[s,i]=I.useState("seguimiento"),[o,l]=I.useState("1"),[u,d]=I.useState(null),[f,h]=I.useState(null),p=I.useMemo(()=>{const b={"1":"1 Medio","2":"2 Medio","3":"3 Medio","4":"4 Medio"};return t.filter(y=>y.nivel===b[o]&&y.tipo==="Unidad")},[t,o]),v=[{key:"1",label:"1 Medio"},{key:"2",label:"2 Medio"},{key:"3",label:"3 Medio"},{key:"4",label:"4 Medio"}];if(!(e!=null&&e.id))return c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{children:"Usuario no autenticado."})});if(r)return c.jsxs("div",{className:"text-center py-8 flex justify-center items-center gap-3",children:[c.jsx(N$e,{}),c.jsx("span",{children:"Cargando planificaciones..."})]});if(n)return c.jsx("div",{className:"text-center py-8",children:c.jsxs("p",{className:"text-red-500",children:["Error: ",n]})});const g=()=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:v.map(b=>c.jsx("button",{onClick:()=>l(b.key),className:`${o===b.key?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg`,children:b.label},b.key))})}),p.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-slate-500",children:"No hay planificaciones de unidad para este nivel."})}):c.jsx("div",{className:"space-y-4",children:Hi.map(b=>{const y=p.filter(S=>S.asignatura===b);if(y.length===0)return null;const _=u===b;return c.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[c.jsxs("button",{onClick:()=>d(_?null:b),className:"w-full flex justify-between items-center p-4 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:b}),c.jsxs("span",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 px-2 py-1 rounded-full text-xs font-medium",children:[y.length," unidad",y.length>1?"es":""]})]}),c.jsx("span",{className:`transform transition-transform ${_?"rotate-180":""}`,children:c.jsx(_$e,{})})]}),_&&c.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:c.jsx("ul",{className:"space-y-3",children:y.map(S=>c.jsx("li",{children:c.jsxs("button",{onClick:()=>h(S),className:"w-full text-left p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 group",children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200 group-hover:text-amber-600",children:S.nombreUnidad}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Autor: ",S.autor||"N/A"]})]})},S.id))})})]},b)})})]});return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento Curricular"}),a&&c.jsx("div",{className:"text-sm text-amber-600 font-medium",children:" Vista administrativa"})]}),c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:c.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>i("seguimiento"),className:`${s==="seguimiento"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} py-4 px-1 border-b-2 font-medium text-lg`,children:"Seguimiento por Nivel"}),c.jsx("button",{onClick:()=>i("analisis"),className:`${s==="analisis"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} py-4 px-1 border-b-2 font-medium text-lg`,children:"Anlisis de Reflexiones"})]})}),s==="seguimiento"&&g(),s==="analisis"&&c.jsx(j$e,{planificaciones:t.filter(b=>b.tipo==="Unidad")})]}),f&&c.jsx(B$e,{plan:f,onClose:()=>h(null)})]})},YN="analisisTaxonomicos",O$e=async()=>{try{const e=Zt(Rt(jr,YN),Gr("uploadDate","desc"));return(await Hs(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener todos los anlisis:",e),new Error("No se pudieron cargar los anlisis taxonmicos")}},D$e=async e=>{if(!e)return[];try{const t=Zt(Rt(jr,YN),Fn("userId","==",e),Gr("uploadDate","desc"));return(await Hs(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error al obtener anlisis por usuario:",t),new Error("No se pudieron cargar los anlisis del usuario")}},P$e=async e=>{try{return{id:(await qn(Rt(jr,YN),e)).id,...e}}catch(t){throw console.error("Error al crear anlisis:",t),new Error("No se pudo crear el anlisis taxonmico")}},R$e=async e=>{try{const t=vr(jr,YN,e);await $s(t)}catch(t){throw console.error("Error al eliminar anlisis:",t,"ID:",e),new Error("No se pudo eliminar el anlisis taxonmico")}},Bz=["1 Medio","2 Medio","3 Medio","4 Medio"],bf=["Recordar","Comprender","Aplicar","Analizar","Evaluar","Crear"],Jg={Recordar:"bg-sky-500",Comprender:"bg-blue-500",Aplicar:"bg-green-500",Analizar:"bg-yellow-500",Evaluar:"bg-orange-500",Crear:"bg-red-500"},L$e=()=>c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Tz=({currentUser:e})=>{const[t,r]=I.useState([]),[n,a]=I.useState(!1),[s,i]=I.useState(null),[o,l]=I.useState(null),[u,d]=I.useState(""),[f,h]=I.useState(!1),[p,v]=I.useState(null),[g,b]=I.useState(null),[y,_]=I.useState(""),[S,B]=I.useState(""),[k,O]=I.useState(""),[w,C]=I.useState(""),[N,P]=I.useState("resumen"),j=I.useCallback(async()=>{if(e!=null&&e.id){a(!0);try{const V=e.profile==="SUBDIRECCION"?await O$e():await D$e(e.id);r(V),i(null)}catch(V){console.error("Error al cargar anlisis:",V),i("No se pudieron cargar los anlisis.")}finally{a(!1)}}},[e]);I.useEffect(()=>{j()},[j]);const F=async V=>{var ne;const G=(ne=V.target.files)==null?void 0:ne[0];if(G){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(G.type)){i("Por favor, suba un archivo PDF o DOCX vlido.");return}v(G),d(G.name),i(null);const W=new FileReader;W.onloadend=()=>{var te;const Y=(te=W.result)==null?void 0:te.split(",")[1];if(!Y){i("No se pudo procesar el archivo. Puede que est vaco o corrupto."),b(null);return}b({mimeType:G.type,data:Y})},W.onerror=()=>i("Error al leer el archivo."),W.readAsDataURL(G)}},M=async()=>{if(!u.trim()||!g){i("Debe subir un documento y asignarle un nombre para analizar.");return}if(!y||!S){i("Seleccione Nivel y Asignatura antes de analizar.");return}h(!0),i(null);const V=`
            Eres un experto en pedagoga y en la Taxonoma de Bloom. Analiza el siguiente documento de una evaluacin educativa.
            Tu tarea es:
            1. Identificar cada pregunta o tem de evaluacin en el documento.
            2. Clasificar cada pregunta en uno de los seis niveles de la Taxonoma de Bloom: Recordar, Comprender, Aplicar, Analizar, Evaluar, Crear.
            3. Devolver un objeto JSON estructurado con los resultados. El JSON debe ser vlido.
        `,G={type:"object",properties:{analysisResults:{type:"array",items:{type:"object",properties:{question:{type:"string"},habilidadBloom:{type:"string",enum:bf}},required:["question","habilidadBloom"]}},summary:{type:"object",properties:bf.reduce((ne,R)=>({...ne,[R]:{type:"number"}}),{})}},required:["analysisResults","summary"]};try{H0("Anlisis Taxonmico",e);const ne="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",W=new Cs(ne).getGenerativeModel({model:"gemini-1.5-flash-latest",generationConfig:{responseMimeType:"application/json",responseSchema:G}}),Y={inlineData:{mimeType:g.mimeType,data:g.data}},ie=(await W.generateContent([V,Y])).response.text();let me;try{me=JSON.parse(ie)}catch(ge){throw console.error("Error al parsear JSON:",ge),console.error("Respuesta recibida (no es JSON vlido):",ie),new Error("La respuesta de la IA no tuvo un formato vlido. Intente de nuevo.")}const oe={documentName:u,uploadDate:new Date().toISOString(),userId:e.id,analysisResults:me.analysisResults,summary:me.summary,nivel:y,asignatura:S},ce=await P$e(oe);await j(),l(ce),d(""),v(null),b(null),_(""),B("")}catch(ne){console.error(ne);const R=ne instanceof Error?ne.message:"Hubo un error al analizar el documento.";i(R)}finally{h(!1)}},Q=async V=>{if(window.confirm("Est seguro de eliminar este anlisis?"))try{await R$e(V),await j(),(o==null?void 0:o.id)===V&&l(null)}catch{i("No se pudo eliminar el anlisis.")}},J=I.useMemo(()=>t.filter(V=>{const G=k?V.nivel===k:!0,ne=w?V.asignatura===w:!0;return G&&ne}),[t,k,w]),q=I.useMemo(()=>{const V={Recordar:0,Comprender:0,Aplicar:0,Analizar:0,Evaluar:0,Crear:0};J.forEach(ne=>{bf.forEach(R=>{var Y;const W=((Y=ne.summary)==null?void 0:Y[R])||0;V[R]+=W})});const G=Object.values(V).reduce((ne,R)=>ne+R,0);return{acc:V,total:G}},[J]),Z=I.useMemo(()=>{const V=new Map;J.forEach(ne=>{const R=ne.asignatura||"Sin asignatura";V.has(R)||V.set(R,{Recordar:0,Comprender:0,Aplicar:0,Analizar:0,Evaluar:0,Crear:0});const W=V.get(R);bf.forEach(Y=>{var te;W[Y]+=((te=ne.summary)==null?void 0:te[Y])||0})});const G=Array.from(V.entries()).map(([ne,R])=>({asignatura:ne,counts:R,total:Object.values(R).reduce((W,Y)=>W+Y,0)}));return G.sort((ne,R)=>R.total-ne.total),G},[J]),H=I.useMemo(()=>o?Object.values(o.summary).reduce((V,G)=>V+(G||0),0):0,[o]);return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Anlisis Taxonmico de Evaluaciones"}),s&&c.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:s}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Analizar Nuevo Documento"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subir Archivo (.pdf, .docx)"}),c.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md",children:c.jsxs("div",{className:"space-y-1 text-center",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:c.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),c.jsxs("div",{className:"flex text-sm text-slate-600 dark:text-slate-400",children:[c.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-amber-600 hover:text-amber-500",children:[c.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:F,accept:".pdf,.doc,.docx"}),c.jsx("span",{children:"Cargue un archivo"})]}),c.jsx("p",{className:"pl-1",children:"o arrstrelo aqu"})]}),c.jsx("p",{className:"text-xs text-slate-500",children:p?p.name:"PDF, DOCX hasta 10MB"})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),c.jsxs("select",{value:y,onChange:V=>_(V.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione"}),Bz.map(V=>c.jsx("option",{value:V,children:V},V))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),c.jsxs("select",{value:S,onChange:V=>B(V.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Seleccione"}),Hi.map(V=>c.jsx("option",{value:V,children:V},V))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre del Documento"}),c.jsx("input",{type:"text",id:"documentName",value:u,onChange:V=>d(V.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),c.jsx("button",{onClick:M,disabled:f||!g,className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center",children:f?c.jsx(L$e,{}):"Analizar con IA"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Anlisis"}),n?c.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):t.length===0?c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg text-sm",children:"No hay anlisis guardados."}):c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:t.map(V=>c.jsxs("button",{onClick:()=>l(V),className:`w-full text-left p-3 rounded-md border ${(o==null?void 0:o.id)===V.id?"bg-amber-100 border-amber-300":"bg-slate-50 hover:bg-slate-100"}`,children:[c.jsx("p",{className:"font-semibold truncate",children:V.documentName}),c.jsx("p",{className:"text-xs text-slate-500",children:new Date(V.uploadDate).toLocaleString("es-CL")}),(V.nivel||V.asignatura)&&c.jsxs("p",{className:"text-xs text-slate-500",children:[V.nivel||"Nivel s/i","  ",V.asignatura||"Asignatura s/i"]})]},V.id))})]})]}),c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Nivel"}),c.jsxs("select",{value:k,onChange:V=>O(V.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todos"}),Bz.map(V=>c.jsx("option",{value:V,children:V},V))]})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Asignatura"}),c.jsxs("select",{value:w,onChange:V=>C(V.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"Todas"}),Hi.map(V=>c.jsx("option",{value:V,children:V},V))]})]}),c.jsx("button",{type:"button",onClick:()=>{O(""),C("")},className:"px-4 py-2 rounded-md bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-800 dark:text-slate-200 font-semibold",children:"Limpiar filtros"})]})}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md",children:[c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 px-4",children:c.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[c.jsx("button",{onClick:()=>P("resumen"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${N==="resumen"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Resumen Global"}),c.jsx("button",{onClick:()=>P("comparacion"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${N==="comparacion"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Comparacin por Asignatura"})]})}),N==="resumen"?c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Resumen Global de Habilidades"}),c.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[J.length," anlisis considerados"]})]}),c.jsx("div",{className:"space-y-3",children:bf.map(V=>{const G=q.acc[V],ne=q.total>0?G/q.total*100:0;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:V}),c.jsxs("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:[G," (",ne.toFixed(0),"%)"]})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:c.jsx("div",{className:`${Jg[V]} h-4 rounded-full`,style:{width:`${ne}%`}})})]},V)})}),c.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-3",children:bf.map(V=>c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg border dark:border-slate-700",children:[c.jsx("span",{className:"text-sm",children:V}),c.jsx("span",{className:`text-xs font-bold text-white px-2 py-1 rounded ${Jg[V]}`,children:q.acc[V]})]},V))})]}):c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Comparacin por Asignatura"}),c.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[Z.length," asignaturas comparadas"]})]}),Z.length===0?c.jsx("div",{className:"text-sm text-slate-500",children:"No hay datos con los filtros actuales."}):c.jsx("div",{className:"space-y-5",children:Z.map(V=>{const G=V.total||1;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:V.asignatura}),c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[V.total," tems"]})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-5 overflow-hidden flex",children:bf.map(ne=>{const R=V.counts[ne]||0,W=R/G*100;return c.jsx("div",{className:`${Jg[ne]} h-5`,style:{width:`${W}%`},title:`${ne}: ${R} (${W.toFixed(0)}%)`},ne)})}),c.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:bf.map(ne=>c.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300",children:[c.jsx("span",{className:`inline-block w-3 h-3 rounded ${Jg[ne]}`}),c.jsx("span",{children:ne})]},ne))})]},V.asignatura)})})]})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:o?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:o.documentName}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Analizado el ",new Date(o.uploadDate).toLocaleString("es-CL"),(o.nivel||o.asignatura)&&c.jsxs(c.Fragment,{children:[" "," ",o.nivel||"Nivel s/i","  ",o.asignatura||"Asignatura s/i"]})]})]}),c.jsx("button",{onClick:()=>Q(o.id),className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:"Eliminar"})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:["Consolidado del Documento (",H," preguntas)"]}),c.jsx("div",{className:"space-y-3",children:bf.map(V=>{const G=o.summary[V]||0,ne=H>0?G/H*100:0;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:V}),c.jsxs("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:[G," (",ne.toFixed(0),"%)"]})]}),c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:c.jsx("div",{className:`${Jg[V]} h-4 rounded-full`,style:{width:`${ne}%`}})})]},V)})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Detalle del Anlisis"}),c.jsx("div",{className:"overflow-x-auto max-h-96 border rounded-lg dark:border-slate-700",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase w-3/4",children:"Pregunta / tem"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Habilidad (Bloom)"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:o.analysisResults.map((V,G)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:V.question}),c.jsx("td",{className:"px-4 py-3 text-sm",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full text-white ${Jg[V.habilidadBloom]}`,children:V.habilidadBloom})})]},G))})]})})]})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:"Resultados del Anlisis"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Realice un nuevo anlisis o seleccione uno del historial para ver los resultados aqu."})]})})]})]})]})},MS="empresas_practicas",M$e="usuarios",LP="rutas_supervision",MP=e=>{const t=e.data();return{id:e.id,...t}};async function U$e(e){const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=AIzaSyBkpVIvmoJAoD1QlZOZBln0aM6bPpBuGy4&region=CL`;try{const a=await(await fetch(r)).json();return a.status==="OK"&&a.results[0]?a.results[0].geometry.location:null}catch(n){return console.error("Error en la llamada a la API de Geocodificacin:",n),null}}const Q$e=e=>{const t=Zt(Rt(jt,MS),Gr("nombre","asc"));return wr(t,r=>{const n=r.docs.map(a=>MP(a));e(n)},r=>console.error("Error al suscribirse a empresas:",r))},H$e=async e=>{const t=e.calificaciones.reduce((n,a)=>n+(a.score||0),0),r={...e,puntajeTotal:t};if(e.direccion){const n=await U$e(e.direccion);n&&(r.coordenadas=n)}if("id"in e&&e.id){const{id:n,...a}=r,s=vr(jt,MS,n);return await fo(s,a,{merge:!0}),n}else return(await qn(Rt(jt,MS),{...r,createdAt:Cp()})).id},V$e=async e=>{const t=vr(jt,MS,e);await $s(t)},z$e=e=>{const t=Zt(Rt(jt,M$e),Fn("profile","==","PROFESORADO"),Gr("nombreCompleto","asc"));return wr(t,r=>{const n=r.docs.map(a=>MP(a));e(n)},r=>console.error("Error al suscribirse a profesores:",r))},$$e=async e=>(await qn(Rt(jt,LP),{...e,createdAt:Cp()})).id,K$e=e=>{const t=Zt(Rt(jt,LP),Gr("createdAt","desc"));return wr(t,r=>{const n=r.docs.map(a=>MP(a));e(n)},r=>console.error("Error al suscribirse a rutas guardadas:",r))},G$e=async e=>{const t=vr(jt,LP,e);await $s(t)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mp=function(){return mp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mp.apply(this,arguments)};function q$e(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(u){try{l(n.next(u))}catch(d){s(d)}}function o(u){try{l(n.throw(u))}catch(d){s(d)}}function l(u){var d;u.done?a(u.value):(d=u.value,d instanceof r?d:new r(function(f){f(d)})).then(i,o)}l((n=n.apply(e,[])).next())})}function W$e(e,t){var r,n,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(u){return function(d){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&d[0]?n.return:d[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,d[1])).done)return a;switch(n=0,a&&(d=[2&d[0],a.value]),d[0]){case 0:case 1:a=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,n=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!((a=a.length>0&&a[a.length-1])||d[0]!==6&&d[0]!==2)){i=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){i.label=d[1];break}if(d[0]===6&&i.label<a[1]){i.label=a[1],a=d;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(d);break}a[2]&&i.ops.pop(),i.trys.pop();continue}d=t.call(e,i)}catch(f){d=[6,f],n=0}finally{r=a=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([l,u])}}}function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tr.apply(this,arguments)}function pp(e){return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function Wae(e){var t=function(r,n){if(pp(r)!=="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,n);if(pp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return pp(t)==="symbol"?t:String(t)}function vv(e,t,r){return(t=Wae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iz(Object(r),!0).forEach(function(n){vv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wae(n.key),n)}}function jF(e,t){return jF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},jF(e,t)}function US(e){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},US(e)}function X$e(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Y$e(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=US(e);if(t){var a=US(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return X$e(this,r)}}function FF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xae(e,t){if(e){if(typeof e=="string")return FF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FF(e,t):void 0}}function UP(e){return function(t){if(Array.isArray(t))return FF(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Xae(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var J$e=function(){function e(r){var n=this;this._insertTag=function(a){var s;s=n.tags.length===0?n.insertionPoint?n.insertionPoint.nextSibling:n.prepend?n.container.firstChild:n.before:n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(s){var i=document.createElement("style");return i.setAttribute("data-emotion",s.key),s.nonce!==void 0&&i.setAttribute("nonce",s.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(s){if(s.sheet)return s.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===s)return document.styleSheets[i]}(n);try{a.insertRule(r,a.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),su="-ms-",Fz="-moz-",Kn="-webkit-",QP="decl",Yae="@keyframes",Z$e=Math.abs,JN=String.fromCharCode,eKe=Object.assign;function Jae(e){return e.trim()}function Zn(e,t,r){return e.replace(t,r)}function OF(e,t){return e.indexOf(t)}function no(e,t){return 0|e.charCodeAt(t)}function Xy(e,t,r){return e.slice(t,r)}function lA(e){return e.length}function HP(e){return e.length}function cC(e,t){return t.push(e),e}var ZN=1,gx=1,Zae=0,zl=0,ii=0,Qx="";function e4(e,t,r,n,a,s,i){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:ZN,column:gx,length:i,return:""}}function ob(e,t){return eKe(e4("",null,null,"",null,null,0),e,{length:-e.length},t)}function Cc(){return ii=zl<Zae?no(Qx,zl++):0,gx++,ii===10&&(gx=1,ZN++),ii}function kA(){return no(Qx,zl)}function t_(){return zl}function Hw(e,t){return Xy(Qx,e,t)}function Yy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ese(e){return ZN=gx=1,Zae=lA(Qx=e),zl=0,[]}function tse(e){return Qx="",e}function r_(e){return Jae(Hw(zl-1,DF(e===91?e+2:e===40?e+1:e)))}function tKe(e){for(;(ii=kA())&&ii<33;)Cc();return Yy(e)>2||Yy(ii)>3?"":" "}function rKe(e,t){for(;--t&&Cc()&&!(ii<48||ii>102||ii>57&&ii<65||ii>70&&ii<97););return Hw(e,t_()+(t<6&&kA()==32&&Cc()==32))}function DF(e){for(;Cc();)switch(ii){case e:return zl;case 34:case 39:e!==34&&e!==39&&DF(ii);break;case 40:e===41&&DF(e);break;case 92:Cc()}return zl}function nKe(e,t){for(;Cc()&&e+ii!==57&&(e+ii!==84||kA()!==47););return"/*"+Hw(t,zl-1)+"*"+JN(e===47?e:Cc())}function aKe(e){for(;!Yy(kA());)Cc();return Hw(e,zl)}function Oz(e){return tse(n_("",null,null,null,[""],e=ese(e),0,[0],e))}function n_(e,t,r,n,a,s,i,o,l){for(var u=0,d=0,f=i,h=0,p=0,v=0,g=1,b=1,y=1,_=0,S="",B=a,k=s,O=n,w=S;b;)switch(v=_,_=Cc()){case 40:if(v!=108&&no(w,f-1)==58){OF(w+=Zn(r_(_),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:w+=r_(_);break;case 9:case 10:case 13:case 32:w+=tKe(v);break;case 92:w+=rKe(t_()-1,7);continue;case 47:switch(kA()){case 42:case 47:cC(sKe(nKe(Cc(),t_()),t,r),l);break;default:w+="/"}break;case 123*g:o[u++]=lA(w)*y;case 125*g:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+d:p>0&&lA(w)-f&&cC(p>32?Pz(w+";",n,r,f-1):Pz(Zn(w," ","")+";",n,r,f-2),l);break;case 59:w+=";";default:if(cC(O=Dz(w,t,r,u,d,a,o,S,B=[],k=[],f),s),_===123)if(d===0)n_(w,t,O,O,B,s,f,o,k);else switch(h===99&&no(w,3)===110?100:h){case 100:case 109:case 115:n_(e,O,O,n&&cC(Dz(e,O,O,0,0,a,o,S,a,B=[],f),k),a,k,f,o,n?B:k);break;default:n_(w,O,O,O,[""],k,0,o,k)}}u=d=p=0,g=y=1,S=w="",f=i;break;case 58:f=1+lA(w),p=v;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&(ii=zl>0?no(Qx,--zl):0,gx--,ii===10&&(gx=1,ZN--),ii==125))continue}switch(w+=JN(_),_*g){case 38:y=d>0?1:(w+="\f",-1);break;case 44:o[u++]=(lA(w)-1)*y,y=1;break;case 64:kA()===45&&(w+=r_(Cc())),h=kA(),d=f=lA(S=w+=aKe(t_())),_++;break;case 45:v===45&&lA(w)==2&&(g=0)}}return s}function Dz(e,t,r,n,a,s,i,o,l,u,d){for(var f=a-1,h=a===0?s:[""],p=HP(h),v=0,g=0,b=0;v<n;++v)for(var y=0,_=Xy(e,f+1,f=Z$e(g=i[v])),S=e;y<p;++y)(S=Jae(g>0?h[y]+" "+_:Zn(_,/&\f/g,h[y])))&&(l[b++]=S);return e4(e,t,r,a===0?"rule":o,l,u,d)}function sKe(e,t,r){return e4(e,t,r,"comm",JN(ii),Xy(e,2,-2),0)}function Pz(e,t,r,n){return e4(e,t,r,QP,Xy(e,0,n),Xy(e,n+1,-1),n)}function gp(e,t){for(var r="",n=HP(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function Rz(e,t,r,n){switch(e.type){case"@import":case QP:return e.return=e.return||e.value;case"comm":return"";case Yae:return e.return=e.value+"{"+gp(e.children,n)+"}";case"rule":e.value=e.props.join(",")}return lA(r=gp(e.children,n))?e.return=e.value+"{"+r+"}":""}function Lz(e){var t=HP(e);return function(r,n,a,s){for(var i="",o=0;o<t;o++)i+=e[o](r,n,a,s)||"";return i}}function iKe(e){return function(t){t.root||(t=t.return)&&e(t)}}function rse(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var oKe=function(e,t,r){for(var n=0,a=0;n=a,a=kA(),n===38&&a===12&&(t[r]=1),!Yy(a);)Cc();return Hw(e,zl)},lKe=function(e,t){return tse(function(r,n){var a=-1,s=44;do switch(Yy(s)){case 0:s===38&&kA()===12&&(n[a]=1),r[a]+=oKe(zl-1,n,a);break;case 2:r[a]+=r_(s);break;case 4:if(s===44){r[++a]=kA()===58?"&\f":"",n[a]=r[a].length;break}default:r[a]+=JN(s)}while(s=Cc());return r}(ese(e),t))},Mz=new WeakMap,cKe=function(e){if(e.type==="rule"&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(!(r=r.parent))return;if((e.props.length!==1||t.charCodeAt(0)===58||Mz.get(r))&&!n){Mz.set(e,!0);for(var a=[],s=lKe(t,a),i=r.props,o=0,l=0;o<s.length;o++)for(var u=0;u<i.length;u++,l++)e.props[l]=a[o]?s[o].replace(/&\f/g,i[u]):i[u]+" "+s[o]}}},uKe=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function nse(e,t){switch(function(r,n){return 45^no(r,0)?(((n<<2^no(r,0))<<2^no(r,1))<<2^no(r,2))<<2^no(r,3):0}(e,t)){case 5103:return Kn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Kn+e+Fz+e+su+e+e;case 6828:case 4268:return Kn+e+su+e+e;case 6165:return Kn+e+su+"flex-"+e+e;case 5187:return Kn+e+Zn(e,/(\w+).+(:[^]+)/,Kn+"box-$1$2-ms-flex-$1$2")+e;case 5443:return Kn+e+su+"flex-item-"+Zn(e,/flex-|-self/,"")+e;case 4675:return Kn+e+su+"flex-line-pack"+Zn(e,/align-content|flex-|-self/,"")+e;case 5548:return Kn+e+su+Zn(e,"shrink","negative")+e;case 5292:return Kn+e+su+Zn(e,"basis","preferred-size")+e;case 6060:return Kn+"box-"+Zn(e,"-grow","")+Kn+e+su+Zn(e,"grow","positive")+e;case 4554:return Kn+Zn(e,/([^-])(transform)/g,"$1"+Kn+"$2")+e;case 6187:return Zn(Zn(Zn(e,/(zoom-|grab)/,Kn+"$1"),/(image-set)/,Kn+"$1"),e,"")+e;case 5495:case 3959:return Zn(e,/(image-set\([^]*)/,Kn+"$1$`$1");case 4968:return Zn(Zn(e,/(.+:)(flex-)?(.*)/,Kn+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kn+e+e;case 4095:case 3583:case 4068:case 2532:return Zn(e,/(.+)-inline(.+)/,Kn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(lA(e)-1-t>6)switch(no(e,t+1)){case 109:if(no(e,t+4)!==45)break;case 102:return Zn(e,/(.+:)(.+)-([^]+)/,"$1"+Kn+"$2-$3$1"+Fz+(no(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~OF(e,"stretch")?nse(Zn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(no(e,t+1)!==115)break;case 6444:switch(no(e,lA(e)-3-(~OF(e,"!important")&&10))){case 107:return Zn(e,":",":"+Kn)+e;case 101:return Zn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kn+(no(e,14)===45?"inline-":"")+"box$3$1"+Kn+"$2$3$1-ms-$2box$3")+e}break;case 5936:switch(no(e,t+11)){case 114:return Kn+e+su+Zn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Kn+e+su+Zn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Kn+e+su+Zn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Kn+e+su+e+e}return e}var Uz,uC,a_=typeof document<"u",dKe=a_?void 0:(Uz=function(){return rse(function(){var e={};return function(t){return e[t]}})},uC=new WeakMap,function(e){if(uC.has(e))return uC.get(e);var t=Uz(e);return uC.set(e,t),t}),AKe=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case QP:e.return=nse(e.value,e.length);break;case Yae:return gp([ob(e,{value:Zn(e.value,"@","@"+Kn)})],n);case"rule":if(e.length)return function(a,s){return a.map(s).join("")}(e.props,function(a){switch(function(s,i){return(s=i.exec(s))?s[0]:s}(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gp([ob(e,{props:[Zn(a,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return gp([ob(e,{props:[Zn(a,/:(plac\w+)/,":"+Kn+"input-$1")]}),ob(e,{props:[Zn(a,/:(plac\w+)/,":-moz-$1")]}),ob(e,{props:[Zn(a,/:(plac\w+)/,"-ms-input-$1")]})],n)}return""})}}],ase=function(e){var t=e.key;if(a_&&t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){y.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var n=e.stylisPlugins||AKe,a,s,i={},o=[];a_&&(a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),S=1;S<_.length;S++)i[_[S]]=!0;o.push(y)}));var l=[cKe,uKe];if(a_){var u,d=[Rz,iKe(function(y){u.insert(y)})],f=Lz(l.concat(n,d));s=function(y,_,S,B){u=S,gp(Oz(y?y+"{"+_.styles+"}":_.styles),f),B&&(b.inserted[_.name]=!0)}}else{var h=[Rz],p=Lz(l.concat(n,h)),v=dKe(n)(t),g=function(y,_){var S=_.name;return v[S]===void 0&&(v[S]=gp(Oz(y?y+"{"+_.styles+"}":_.styles),p)),v[S]};s=function(y,_,S,B){var k=_.name,O=g(y,_);return b.compat===void 0?(B&&(b.inserted[k]=!0),O):B?void(b.inserted[k]=O):O}}var b={key:t,sheet:new J$e({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:s};return b.sheet.hydrate(o),b};function ta(e,t,r){return e(r={path:t,exports:{},require:function(n,a){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(a==null&&r.path)}},r.exports),r.exports}var Gi=typeof Symbol=="function"&&Symbol.for,PF=Gi?Symbol.for("react.element"):60103,RF=Gi?Symbol.for("react.portal"):60106,s_=Gi?Symbol.for("react.fragment"):60107,i_=Gi?Symbol.for("react.strict_mode"):60108,o_=Gi?Symbol.for("react.profiler"):60114,l_=Gi?Symbol.for("react.provider"):60109,c_=Gi?Symbol.for("react.context"):60110,LF=Gi?Symbol.for("react.async_mode"):60111,QS=Gi?Symbol.for("react.concurrent_mode"):60111,u_=Gi?Symbol.for("react.forward_ref"):60112,d_=Gi?Symbol.for("react.suspense"):60113,fKe=Gi?Symbol.for("react.suspense_list"):60120,A_=Gi?Symbol.for("react.memo"):60115,f_=Gi?Symbol.for("react.lazy"):60116,hKe=Gi?Symbol.for("react.block"):60121,mKe=Gi?Symbol.for("react.fundamental"):60117,pKe=Gi?Symbol.for("react.responder"):60118,gKe=Gi?Symbol.for("react.scope"):60119;function Ac(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case PF:switch(e=e.type){case LF:case QS:case s_:case o_:case i_:case d_:return e;default:switch(e=e&&e.$$typeof){case c_:case u_:case f_:case A_:case l_:return e;default:return t}}case RF:return t}}}function Qz(e){return Ac(e)===QS}var vKe={AsyncMode:LF,ConcurrentMode:QS,ContextConsumer:c_,ContextProvider:l_,Element:PF,ForwardRef:u_,Fragment:s_,Lazy:f_,Memo:A_,Portal:RF,Profiler:o_,StrictMode:i_,Suspense:d_,isAsyncMode:function(e){return Qz(e)||Ac(e)===LF},isConcurrentMode:Qz,isContextConsumer:function(e){return Ac(e)===c_},isContextProvider:function(e){return Ac(e)===l_},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===PF},isForwardRef:function(e){return Ac(e)===u_},isFragment:function(e){return Ac(e)===s_},isLazy:function(e){return Ac(e)===f_},isMemo:function(e){return Ac(e)===A_},isPortal:function(e){return Ac(e)===RF},isProfiler:function(e){return Ac(e)===o_},isStrictMode:function(e){return Ac(e)===i_},isSuspense:function(e){return Ac(e)===d_},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===s_||e===QS||e===o_||e===i_||e===d_||e===fKe||typeof e=="object"&&e!==null&&(e.$$typeof===f_||e.$$typeof===A_||e.$$typeof===l_||e.$$typeof===c_||e.$$typeof===u_||e.$$typeof===mKe||e.$$typeof===pKe||e.$$typeof===gKe||e.$$typeof===hKe)},typeOf:Ac};ta(function(e,t){});var Hz=ta(function(e){e.exports=vKe}),Vz={};Vz[Hz.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vz[Hz.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var MF=typeof document<"u";function sse(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):n+=a+" "}),n}var VP=function(e,t,r){var n=e.key+"-"+t.name;(r===!1||MF===!1&&e.compat!==void 0)&&e.registered[n]===void 0&&(e.registered[n]=t.styles)},zP=function(e,t,r){VP(e,t,r);var n=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a="",s=t;do{var i=e.insert(t===s?"."+n:"",s,e.sheet,!0);MF||i===void 0||(a+=i),s=s.next}while(s!==void 0);if(!MF&&a.length!==0)return a}},xKe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bKe=/[A-Z]|^ms/g,yKe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ise=function(e){return e.charCodeAt(1)===45},zz=function(e){return e!=null&&typeof e!="boolean"},jT=rse(function(e){return ise(e)?e:e.replace(bKe,"-$&").toLowerCase()}),$z=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(yKe,function(r,n,a){return cA={name:n,styles:a,next:cA},n})}return xKe[e]===1||ise(e)||typeof t!="number"||t===0?t:t+"px"};function oy(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":if(r.anim===1)return cA={name:r.name,styles:r.styles,next:cA},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)cA={name:n.name,styles:n.styles,next:cA},n=n.next;var a=r.styles+";";return a}return function(l,u,d){var f="";if(Array.isArray(d))for(var h=0;h<d.length;h++)f+=oy(l,u,d[h])+";";else for(var p in d){var v=d[p];if(typeof v!="object")u!=null&&u[v]!==void 0?f+=p+"{"+u[v]+"}":zz(v)&&(f+=jT(p)+":"+$z(p,v)+";");else if(!Array.isArray(v)||typeof v[0]!="string"||u!=null&&u[v[0]]!==void 0){var g=oy(l,u,v);switch(p){case"animation":case"animationName":f+=jT(p)+":"+g+";";break;default:f+=p+"{"+g+"}"}}else for(var b=0;b<v.length;b++)zz(v[b])&&(f+=jT(p)+":"+$z(p,v[b])+";")}return f}(e,t,r);case"function":if(e!==void 0){var s=cA,i=r(e);return cA=s,oy(e,t,i)}break}if(t==null)return r;var o=t[r];return o!==void 0?o:r}var cA,Kz=/label:\s*([^\s;\n{]+)\s*(;|$)/g,t4=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";cA=void 0;var s=e[0];s==null||s.raw===void 0?(n=!1,a+=oy(r,t,s)):a+=s[0];for(var i=1;i<e.length;i++)a+=oy(r,t,e[i]),n&&(a+=s[i]);Kz.lastIndex=0;for(var o,l="";(o=Kz.exec(a))!==null;)l+="-"+o[1];var u=function(d){for(var f,h=0,p=0,v=d.length;v>=4;++p,v-=4)f=1540483477*(65535&(f=255&d.charCodeAt(p)|(255&d.charCodeAt(++p))<<8|(255&d.charCodeAt(++p))<<16|(255&d.charCodeAt(++p))<<24))+(59797*(f>>>16)<<16),h=1540483477*(65535&(f^=f>>>24))+(59797*(f>>>16)<<16)^1540483477*(65535&h)+(59797*(h>>>16)<<16);switch(v){case 3:h^=(255&d.charCodeAt(p+2))<<16;case 2:h^=(255&d.charCodeAt(p+1))<<8;case 1:h=1540483477*(65535&(h^=255&d.charCodeAt(p)))+(59797*(h>>>16)<<16)}return(((h=1540483477*(65535&(h^=h>>>13))+(59797*(h>>>16)<<16))^h>>>15)>>>0).toString(36)}(a)+l;return{name:u,styles:a,next:cA}},wKe=typeof document<"u",EKe=function(e){return e()},ose=!!I.useInsertionEffect&&I.useInsertionEffect,lse=wKe&&ose||EKe,Gz=ose||I.useLayoutEffect,$v=typeof document<"u",$P={}.hasOwnProperty,HS=I.createContext(typeof HTMLElement<"u"?ase({key:"css"}):null);HS.Provider;var r4=function(e){return I.forwardRef(function(t,r){var n=I.useContext(HS);return e(t,n,r)})};$v||(r4=function(e){return function(t){var r=I.useContext(HS);return r===null?(r=ase({key:"css"}),I.createElement(HS.Provider,{value:r},e(t,r))):e(t,r)}});var KP=I.createContext({}),UF="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",CKe=function(e,t){var r={};for(var n in t)$P.call(t,n)&&(r[n]=t[n]);return r[UF]=e,r},_Ke=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;VP(t,r,n);var a=lse(function(){return zP(t,r,n)});if(!$v&&a!==void 0){for(var s,i=r.name,o=r.next;o!==void 0;)i+=" "+o.name,o=o.next;return I.createElement("style",((s={})["data-emotion"]=t.key+" "+i,s.dangerouslySetInnerHTML={__html:a},s.nonce=t.sheet.nonce,s))}return null},SKe=r4(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[UF],s=[n],i="";typeof e.className=="string"?i=sse(t.registered,s,e.className):e.className!=null&&(i=e.className+" ");var o=t4(s,void 0,I.useContext(KP));i+=t.key+"-"+o.name;var l={};for(var u in e)!$P.call(e,u)||u==="css"||u===UF||(l[u]=e[u]);return l.ref=r,l.className=i,I.createElement(I.Fragment,null,I.createElement(_Ke,{cache:t,serialized:o,isStringTag:typeof a=="string"}),I.createElement(a,l))});ta(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});var _r=function(e,t){var r=arguments;if(t==null||!$P.call(t,"css"))return I.createElement.apply(void 0,r);var n=r.length,a=new Array(n);a[0]=SKe,a[1]=CKe(e,t);for(var s=2;s<n;s++)a[s]=r[s];return I.createElement.apply(null,a)};r4(function(e,t){var r=e.styles,n=t4([r],void 0,I.useContext(KP));if(!$v){for(var a,s=n.name,i=n.styles,o=n.next;o!==void 0;)s+=" "+o.name,i+=o.styles,o=o.next;var l=t.compat===!0,u=t.insert("",{name:s,styles:i},t.sheet,l);return l?null:I.createElement("style",((a={})["data-emotion"]=t.key+"-global "+s,a.dangerouslySetInnerHTML={__html:u},a.nonce=t.sheet.nonce,a))}var d=I.useRef();return Gz(function(){var f=t.key+"-global",h=new t.sheet.constructor({key:f,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),p=!1,v=document.querySelector('style[data-emotion="'+f+" "+n.name+'"]');return t.sheet.tags.length&&(h.before=t.sheet.tags[0]),v!==null&&(p=!0,v.setAttribute("data-emotion",f),h.hydrate([v])),d.current=[h,p],function(){h.flush()}},[t]),Gz(function(){var f=d.current,h=f[0];if(f[1])f[1]=!1;else{if(n.next!==void 0&&zP(t,n.next,!0),h.tags.length){var p=h.tags[h.tags.length-1].nextElementSibling;h.before=p,h.flush()}t.insert("",n,h,!1)}},[t,n.name]),null});function GP(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t4(t)}var NKe=function e(t){for(var r=t.length,n=0,a="";n<r;n++){var s=t[n];if(s!=null){var i=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))i=e(s);else for(var o in i="",s)s[o]&&o&&(i&&(i+=" "),i+=o);break;default:i=s}i&&(a&&(a+=" "),a+=i)}}return a};function kKe(e,t,r){var n=[],a=sse(e,n,r);return n.length<2?r:a+t(n)}var BKe=function(e){var t,r=e.cache,n=e.serializedArr,a=lse(function(){for(var s="",i=0;i<n.length;i++){var o=zP(r,n[i],!1);$v||o===void 0||(s+=o)}if(!$v)return s});return $v||a.length===0?null:I.createElement("style",((t={})["data-emotion"]=r.key+" "+n.map(function(s){return s.name}).join(" "),t.dangerouslySetInnerHTML={__html:a},t.nonce=r.sheet.nonce,t))};r4(function(e,t){var r=[],n=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var u=t4(o,t.registered);return r.push(u),VP(t,u,!1),t.key+"-"+u.name},a={css:n,cx:function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return kKe(t.registered,n,NKe(o))},theme:I.useContext(KP)},s=e.children(a);return I.createElement(I.Fragment,null,I.createElement(BKe,{cache:t,serializedArr:r}),s)});function Pi(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var s,i,o,l,u=[],d=!0,f=!1;try{if(o=(a=a.call(r)).next,n===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(s=o.call(a)).done)&&(u.push(s.value),u.length!==n);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}(e,t)||Xae(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function uA(e,t){if(e==null)return{};var r,n,a=function(i,o){if(i==null)return{};var l,u,d={},f=Object.keys(i);for(u=0;u<f.length;u++)l=f[u],o.indexOf(l)>=0||(d[l]=i[l]);return d}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Df(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cse(e){return Df(e).getComputedStyle(e)}const dC=Math.round;function use(e){return Ase(e)?(e.nodeName||"").toLowerCase():""}let AC;function dse(e){return e instanceof Df(e).HTMLElement}function h_(e){return e instanceof Df(e).Element}function Ase(e){return e instanceof Df(e).Node}function qz(e){return typeof ShadowRoot>"u"?!1:e instanceof Df(e).ShadowRoot||e instanceof ShadowRoot}function fse(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=cse(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function TKe(){return/^((?!chrome|android).)*safari/i.test(function(){if(AC)return AC;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(AC=e.brands.map(t=>t.brand+"/"+t.version).join(" "),AC):navigator.userAgent}())}function hse(e){return h_(e)?e:e.contextElement}const mse={x:1,y:1};function Wz(e){const t=hse(e);if(!dse(t))return mse;const r=t.getBoundingClientRect(),{width:n,height:a,fallback:s}=function(l){const u=cse(l);let d=parseFloat(u.width),f=parseFloat(u.height);const h=l.offsetWidth,p=l.offsetHeight,v=dC(d)!==h||dC(f)!==p;return v&&(d=h,f=p),{width:d,height:f,fallback:v}}(t);let i=(s?dC(r.width):r.width)/n,o=(s?dC(r.height):r.height)/a;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}function Xz(e,t,r,n){var a,s;t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=hse(e);let l=mse;t&&(l=Wz(e));const u=o?Df(o):window,d=TKe()&&r;let f=(i.left+(d&&((a=u.visualViewport)==null?void 0:a.offsetLeft)||0))/l.x,h=(i.top+(d&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,p=i.width/l.x,v=i.height/l.y;if(o){const g=Df(o),b=n;let y=g.frameElement;for(;y&&n&&b!==g;){const _=Wz(y),S=y.getBoundingClientRect(),B=getComputedStyle(y);S.x+=(y.clientLeft+parseFloat(B.paddingLeft))*_.x,S.y+=(y.clientTop+parseFloat(B.paddingTop))*_.y,f*=_.x,h*=_.y,p*=_.x,v*=_.y,f+=S.x,h+=S.y,y=Df(y).frameElement}}return{width:p,height:v,top:h,right:f+p,bottom:h+v,left:f,x:f,y:h}}function IKe(e){if(use(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qz(e)&&e.host||function(r){return((Ase(r)?r.ownerDocument:r.document)||window.document).documentElement}(e);return qz(t)?t.host:t}function pse(e){const t=IKe(e);return function(r){return["html","body","#document"].includes(use(r))}(t)?t.ownerDocument.body:dse(t)&&fse(t)?t:pse(t)}function m_(e,t){var r;t===void 0&&(t=[]);const n=pse(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),s=Df(n);return a?t.concat(s,s.visualViewport||[],fse(n)?n:[]):t.concat(n,m_(n))}var QF=typeof document<"u"?I.useLayoutEffect:I.useEffect,jKe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],VS=function(){};function FKe(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function OKe(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&s.push("".concat(FKe(e,i)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var Yz=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):pp(e)==="object"&&e!==null?[e]:[];var t},Jz=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,xr({},uA(e,jKe))},ms=function(e,t,r){var n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.className;return{css:a(t,e),className:n(r??{},s(t,e),i)}};function n4(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function gse(e){return n4(e)?window.pageYOffset:e.scrollTop}function zS(e,t){n4(e)?window.scrollTo(0,t):e.scrollTop=t}function DKe(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function fC(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:VS,a=gse(e),s=t-a,i=10,o=0;function l(){var u=DKe(o+=i,a,s,r);zS(e,u),o<r?window.requestAnimationFrame(l):n(e)}l()}function Zz(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=t.offsetHeight/3;n.bottom+a>r.bottom?zS(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):n.top-a<r.top&&zS(e,Math.max(t.offsetTop-a,0))}function e$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}var vse=!1,PKe={get passive(){return vse=!0}},hC=typeof window<"u"?window:{};hC.addEventListener&&hC.removeEventListener&&(hC.addEventListener("p",VS,PKe),hC.removeEventListener("p",VS,!1));var RKe=vse;function LKe(e){return e!=null}function mC(e,t,r){return e?t:r}var MKe=["children","innerProps"],UKe=["children","innerProps"];function QKe(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,a=e.placement,s=e.shouldScroll,i=e.isFixedPosition,o=e.controlHeight,l=function(J){var q=getComputedStyle(J),Z=q.position==="absolute",H=/(auto|scroll)/;if(q.position==="fixed")return document.documentElement;for(var V=J;V=V.parentElement;)if(q=getComputedStyle(V),(!Z||q.position!=="static")&&H.test(q.overflow+q.overflowY+q.overflowX))return V;return document.documentElement}(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var d,f=l.getBoundingClientRect().height,h=r.getBoundingClientRect(),p=h.bottom,v=h.height,g=h.top,b=r.offsetParent.getBoundingClientRect().top,y=i||n4(d=l)?window.innerHeight:d.clientHeight,_=gse(l),S=parseInt(getComputedStyle(r).marginBottom,10),B=parseInt(getComputedStyle(r).marginTop,10),k=b-B,O=y-g,w=k+_,C=f-_-g,N=p-y+_+S,P=_+g-B,j=160;switch(a){case"auto":case"bottom":if(O>=v)return{placement:"bottom",maxHeight:t};if(C>=v&&!i)return s&&fC(l,N,j),{placement:"bottom",maxHeight:t};if(!i&&C>=n||i&&O>=n)return s&&fC(l,N,j),{placement:"bottom",maxHeight:i?O-S:C-S};if(a==="auto"||i){var F=t,M=i?k:w;return M>=n&&(F=Math.min(M-S-o,t)),{placement:"top",maxHeight:F}}if(a==="bottom")return s&&zS(l,N),{placement:"bottom",maxHeight:t};break;case"top":if(k>=v)return{placement:"top",maxHeight:t};if(w>=v&&!i)return s&&fC(l,P,j),{placement:"top",maxHeight:t};if(!i&&w>=n||i&&k>=n){var Q=t;return(!i&&w>=n||i&&k>=n)&&(Q=i?k-B:w-B),s&&fC(l,P,j),{placement:"top",maxHeight:Q}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}var t$,xse=function(e){return e==="auto"?"bottom":e},bse=I.createContext(null),HKe=function(e){var t=e.children,r=e.minMenuHeight,n=e.maxMenuHeight,a=e.menuPlacement,s=e.menuPosition,i=e.menuShouldScrollIntoView,o=e.theme,l=(I.useContext(bse)||{}).setPortalPlacement,u=I.useRef(null),d=Pi(I.useState(n),2),f=d[0],h=d[1],p=Pi(I.useState(null),2),v=p[0],g=p[1],b=o.spacing.controlHeight;return QF(function(){var y=u.current;if(y){var _=s==="fixed",S=QKe({maxHeight:n,menuEl:y,minHeight:r,placement:a,shouldScroll:i&&!_,isFixedPosition:_,controlHeight:b});h(S.maxHeight),g(S.placement),l==null||l(S.placement)}},[n,a,s,i,r,l,b]),t({ref:u,placerProps:xr(xr({},e),{},{placement:v||xse(a),maxHeight:f})})},VKe=function(e){var t=e.children,r=e.innerRef,n=e.innerProps;return _r("div",Tr({},ms(e,"menu",{menu:!0}),{ref:r},n),t)},yse=function(e,t){var r=e.theme,n=r.spacing.baseUnit,a=r.colors;return xr({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px")})},zKe=yse,$Ke=yse,KKe=["size"],GKe=["innerProps","isRtl","size"],FT,OT,qKe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},wse=function(e){var t=e.size,r=uA(e,KKe);return _r("svg",Tr({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:qKe},r))},DT=function(e){return _r(wse,Tr({size:20},e),_r("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},r$=function(e){return _r(wse,Tr({size:20},e),_r("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ese=function(e,t){var r=e.isFocused,n=e.theme,a=n.spacing.baseUnit,s=n.colors;return xr({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?s.neutral60:s.neutral20,padding:2*a,":hover":{color:r?s.neutral80:s.neutral40}})},WKe=Ese,XKe=Ese,YKe=function(){var e=GP.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(t$||(FT=[`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`],OT||(OT=FT.slice(0)),t$=Object.freeze(Object.defineProperties(FT,{raw:{value:Object.freeze(OT)}})))),PT=function(e){var t=e.delay,r=e.offset;return _r("span",{css:GP({animation:"".concat(YKe," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},JKe=function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,a=e.innerRef,s=e.innerProps,i=e.menuIsOpen;return _r("div",Tr({ref:a},ms(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":n,"control--menu-is-open":i}),s,{"aria-disabled":r||void 0}),t)},ZKe=["data"],eGe=function(e){var t=e.children,r=e.cx,n=e.getStyles,a=e.getClassNames,s=e.Heading,i=e.headingProps,o=e.innerProps,l=e.label,u=e.theme,d=e.selectProps;return _r("div",Tr({},ms(e,"group",{group:!0}),o),_r(s,Tr({},i,{selectProps:d,theme:u,getStyles:n,getClassNames:a,cx:r}),l),_r("div",null,t))},tGe=["innerRef","isDisabled","isHidden","inputClassName"],Cse={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},rGe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":xr({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Cse)},nGe=function(e){return xr({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Cse)},n$=function(e){var t=e.children,r=e.innerProps;return _r("div",r,t)},aGe=function(e){var t=e.children,r=e.components,n=e.data,a=e.innerProps,s=e.isDisabled,i=e.removeProps,o=e.selectProps,l=r.Container,u=r.Label,d=r.Remove;return _r(l,{data:n,innerProps:xr(xr({},ms(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),a),selectProps:o},_r(u,{data:n,innerProps:xr({},ms(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),_r(d,{data:n,innerProps:xr(xr({},ms(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},i),selectProps:o}))},sGe={ClearIndicator:function(e){var t=e.children,r=e.innerProps;return _r("div",Tr({},ms(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||_r(DT,null))},Control:JKe,DropdownIndicator:function(e){var t=e.children,r=e.innerProps;return _r("div",Tr({},ms(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||_r(r$,null))},DownChevron:r$,CrossIcon:DT,Group:eGe,GroupHeading:function(e){var t=Jz(e);t.data;var r=uA(t,ZKe);return _r("div",Tr({},ms(e,"groupHeading",{"group-heading":!0}),r))},IndicatorsContainer:function(e){var t=e.children,r=e.innerProps;return _r("div",Tr({},ms(e,"indicatorsContainer",{indicators:!0}),r),t)},IndicatorSeparator:function(e){var t=e.innerProps;return _r("span",Tr({},t,ms(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,r=e.value,n=Jz(e),a=n.innerRef,s=n.isDisabled,i=n.isHidden,o=n.inputClassName,l=uA(n,tGe);return _r("div",Tr({},ms(e,"input",{"input-container":!0}),{"data-value":r||""}),_r("input",Tr({className:t({input:!0},o),ref:a,style:nGe(i),disabled:s},l)))},LoadingIndicator:function(e){var t=e.innerProps,r=e.isRtl,n=e.size,a=n===void 0?4:n,s=uA(e,GKe);return _r("div",Tr({},ms(xr(xr({},s),{},{innerProps:t,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),_r(PT,{delay:0,offset:r}),_r(PT,{delay:160,offset:!0}),_r(PT,{delay:320,offset:!r}))},Menu:VKe,MenuList:function(e){var t=e.children,r=e.innerProps,n=e.innerRef,a=e.isMulti;return _r("div",Tr({},ms(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:n},r),t)},MenuPortal:function(e){var t=e.appendTo,r=e.children,n=e.controlElement,a=e.innerProps,s=e.menuPlacement,i=e.menuPosition,o=I.useRef(null),l=I.useRef(null),u=Pi(I.useState(xse(s)),2),d=u[0],f=u[1],h=I.useMemo(function(){return{setPortalPlacement:f}},[]),p=Pi(I.useState(null),2),v=p[0],g=p[1],b=I.useCallback(function(){if(n){var B=function(w){var C=w.getBoundingClientRect();return{bottom:C.bottom,height:C.height,left:C.left,right:C.right,top:C.top,width:C.width}}(n),k=i==="fixed"?0:window.pageYOffset,O=B[d]+k;O===(v==null?void 0:v.offset)&&B.left===(v==null?void 0:v.rect.left)&&B.width===(v==null?void 0:v.rect.width)||g({offset:O,rect:B})}},[n,i,d,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);QF(function(){b()},[b]);var y=I.useCallback(function(){typeof l.current=="function"&&(l.current(),l.current=null),n&&o.current&&(l.current=function(B,k,O,w){w===void 0&&(w={});const{ancestorScroll:C=!0,ancestorResize:N=!0,elementResize:P=!0,animationFrame:j=!1}=w,F=C&&!j,M=F||N?[...h_(B)?m_(B):B.contextElement?m_(B.contextElement):[],...m_(k)]:[];M.forEach(Z=>{F&&Z.addEventListener("scroll",O,{passive:!0}),N&&Z.addEventListener("resize",O)});let Q,J=null;if(P){let Z=!0;J=new ResizeObserver(()=>{Z||O(),Z=!1}),h_(B)&&!j&&J.observe(B),h_(B)||!B.contextElement||j||J.observe(B.contextElement),J.observe(k)}let q=j?Xz(B):null;return j&&function Z(){const H=Xz(B);!q||H.x===q.x&&H.y===q.y&&H.width===q.width&&H.height===q.height||O(),q=H,Q=requestAnimationFrame(Z)}(),O(),()=>{var Z;M.forEach(H=>{F&&H.removeEventListener("scroll",O),N&&H.removeEventListener("resize",O)}),(Z=J)==null||Z.disconnect(),J=null,j&&cancelAnimationFrame(Q)}}(n,o.current,b,{elementResize:"ResizeObserver"in window}))},[n,b]);QF(function(){y()},[y]);var _=I.useCallback(function(B){o.current=B,y()},[y]);if(!t&&i!=="fixed"||!v)return null;var S=_r("div",Tr({ref:_},ms(xr(xr({},e),{},{offset:v.offset,position:i,rect:v.rect}),"menuPortal",{"menu-portal":!0}),a),r);return _r(bse.Provider,{value:h},t?$re.createPortal(S,t):S)},LoadingMessage:function(e){var t=e.children,r=t===void 0?"Loading...":t,n=e.innerProps,a=uA(e,UKe);return _r("div",Tr({},ms(xr(xr({},a),{},{children:r,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),r)},NoOptionsMessage:function(e){var t=e.children,r=t===void 0?"No options":t,n=e.innerProps,a=uA(e,MKe);return _r("div",Tr({},ms(xr(xr({},a),{},{children:r,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),r)},MultiValue:aGe,MultiValueContainer:n$,MultiValueLabel:n$,MultiValueRemove:function(e){var t=e.children,r=e.innerProps;return _r("div",Tr({role:"button"},r),t||_r(DT,{size:14}))},Option:function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,a=e.isSelected,s=e.innerRef,i=e.innerProps;return _r("div",Tr({},ms(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":n,"option--is-selected":a}),{ref:s,"aria-disabled":r},i),t)},Placeholder:function(e){var t=e.children,r=e.innerProps;return _r("div",Tr({},ms(e,"placeholder",{placeholder:!0}),r),t)},SelectContainer:function(e){var t=e.children,r=e.innerProps,n=e.isDisabled,a=e.isRtl;return _r("div",Tr({},ms(e,"container",{"--is-disabled":n,"--is-rtl":a}),r),t)},SingleValue:function(e){var t=e.children,r=e.isDisabled,n=e.innerProps;return _r("div",Tr({},ms(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),n),t)},ValueContainer:function(e){var t=e.children,r=e.innerProps,n=e.isMulti,a=e.hasValue;return _r("div",Tr({},ms(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":a}),r),t)}},a$=Number.isNaN||function(e){return typeof e=="number"&&e!=e};function iGe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(n=e[r],a=t[r],!(n===a||a$(n)&&a$(a)))return!1;var n,a;return!0}for(var oGe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},s$=function(e){return _r("span",Tr({css:oGe},e))},lGe={guidance:function(e){var t=e.isSearchable,r=e.isMulti,n=e.tabSelectsValue,a=e.context,s=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(n?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,n=r===void 0?"":r,a=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return"option ".concat(n,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,n=e.options,a=e.label,s=a===void 0?"":a,i=e.selectValue,o=e.isDisabled,l=e.isSelected,u=e.isAppleDevice,d=function(p,v){return p&&p.length?"".concat(p.indexOf(v)+1," of ").concat(p.length):""};if(t==="value"&&i)return"value ".concat(s," focused, ").concat(d(i,r),".");if(t==="menu"&&u){var f=o?" disabled":"",h="".concat(l?" selected":"").concat(f);return"".concat(s).concat(h,", ").concat(d(n,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},cGe=function(e){var t=e.ariaSelection,r=e.focusedOption,n=e.focusedValue,a=e.focusableOptions,s=e.isFocused,i=e.selectValue,o=e.selectProps,l=e.id,u=e.isAppleDevice,d=o.ariaLiveMessages,f=o.getOptionLabel,h=o.inputValue,p=o.isMulti,v=o.isOptionDisabled,g=o.isSearchable,b=o.menuIsOpen,y=o.options,_=o.screenReaderStatus,S=o.tabSelectsValue,B=o.isLoading,k=o["aria-label"],O=o["aria-live"],w=I.useMemo(function(){return xr(xr({},lGe),d||{})},[d]),C=I.useMemo(function(){var Q,J="";if(t&&w.onChange){var q=t.option,Z=t.options,H=t.removedValue,V=t.removedValues,G=t.value,ne=H||q||(Q=G,Array.isArray(Q)?null:Q),R=ne?f(ne):"",W=Z||V||void 0,Y=W?W.map(f):[],te=xr({isDisabled:ne&&v(ne,i),label:R,labels:Y},t);J=w.onChange(te)}return J},[t,w,v,i,f]),N=I.useMemo(function(){var Q="",J=r||n,q=!!(r&&i&&i.includes(r));if(J&&w.onFocus){var Z={focused:J,label:f(J),isDisabled:v(J,i),isSelected:q,options:a,context:J===r?"menu":"value",selectValue:i,isAppleDevice:u};Q=w.onFocus(Z)}return Q},[r,n,f,v,w,a,i,u]),P=I.useMemo(function(){var Q="";if(b&&y.length&&!B&&w.onFilter){var J=_({count:a.length});Q=w.onFilter({inputValue:h,resultsMessage:J})}return Q},[a,h,b,w,y,_,B]),j=(t==null?void 0:t.action)==="initial-input-focus",F=I.useMemo(function(){var Q="";if(w.guidance){var J=n?"value":b?"menu":"input";Q=w.guidance({"aria-label":k,context:J,isDisabled:r&&v(r,i),isMulti:p,isSearchable:g,tabSelectsValue:S,isInitialFocus:j})}return Q},[k,r,n,p,v,g,b,w,i,S,j]),M=_r(I.Fragment,null,_r("span",{id:"aria-selection"},C),_r("span",{id:"aria-focused"},N),_r("span",{id:"aria-results"},P),_r("span",{id:"aria-guidance"},F));return _r(I.Fragment,null,_r(s$,{id:l},j&&M),_r(s$,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!j&&M))},RT=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],uGe=new RegExp("["+RT.map(function(e){return e.letters}).join("")+"]","g"),_se={},LT=0;LT<RT.length;LT++)for(var MT=RT[LT],UT=0;UT<MT.letters.length;UT++)_se[MT.letters[UT]]=MT.base;var Sse=function(e){return e.replace(uGe,function(t){return _se[t]})},dGe=function(e,t){t===void 0&&(t=iGe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}(Sse),i$=function(e){return e.replace(/^\s+|\s+$/g,"")},AGe=function(e){return"".concat(e.label," ").concat(e.value)},fGe=["innerRef"];function hGe(e){var t=e.innerRef,r=function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];var o=Object.entries(n).filter(function(l){var u=Pi(l,1)[0];return!s.includes(u)});return o.reduce(function(l,u){var d=Pi(u,2),f=d[0],h=d[1];return l[f]=h,l},{})}(uA(e,fGe),"onExited","in","enter","exit","appear");return _r("input",Tr({ref:t},r,{css:GP({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var o$=["boxSizing","height","overflow","paddingRight","position"],l$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function c$(e){e.preventDefault()}function u$(e){e.stopPropagation()}function d$(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function A$(){return"ontouchstart"in window||navigator.maxTouchPoints}var f$=!(typeof window>"u"||!window.document||!window.document.createElement),lb=0,Zg={capture:!1,passive:!1},mGe=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},pGe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function gGe(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,a=function(i){var o=i.isEnabled,l=i.onBottomArrive,u=i.onBottomLeave,d=i.onTopArrive,f=i.onTopLeave,h=I.useRef(!1),p=I.useRef(!1),v=I.useRef(0),g=I.useRef(null),b=I.useCallback(function(O,w){if(g.current!==null){var C=g.current,N=C.scrollTop,P=C.scrollHeight,j=C.clientHeight,F=g.current,M=w>0,Q=P-j-N,J=!1;Q>w&&h.current&&(u&&u(O),h.current=!1),M&&p.current&&(f&&f(O),p.current=!1),M&&w>Q?(l&&!h.current&&l(O),F.scrollTop=P,J=!0,h.current=!0):!M&&-w>N&&(d&&!p.current&&d(O),F.scrollTop=0,J=!0,p.current=!0),J&&function(q){q.cancelable&&q.preventDefault(),q.stopPropagation()}(O)}},[l,u,d,f]),y=I.useCallback(function(O){b(O,O.deltaY)},[b]),_=I.useCallback(function(O){v.current=O.changedTouches[0].clientY},[]),S=I.useCallback(function(O){var w=v.current-O.changedTouches[0].clientY;b(O,w)},[b]),B=I.useCallback(function(O){if(O){var w=!!RKe&&{passive:!1};O.addEventListener("wheel",y,w),O.addEventListener("touchstart",_,w),O.addEventListener("touchmove",S,w)}},[S,_,y]),k=I.useCallback(function(O){O&&(O.removeEventListener("wheel",y,!1),O.removeEventListener("touchstart",_,!1),O.removeEventListener("touchmove",S,!1))},[S,_,y]);return I.useEffect(function(){if(o){var O=g.current;return B(O),function(){k(O)}}},[o,B,k]),function(O){g.current=O}}({isEnabled:n===void 0||n,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),s=function(i){var o=i.isEnabled,l=i.accountForScrollbars,u=l===void 0||l,d=I.useRef({}),f=I.useRef(null),h=I.useCallback(function(v){if(f$){var g=document.body,b=g&&g.style;if(u&&o$.forEach(function(B){var k=b&&b[B];d.current[B]=k}),u&&lb<1){var y=parseInt(d.current.paddingRight,10)||0,_=document.body?document.body.clientWidth:0,S=window.innerWidth-_+y||0;Object.keys(l$).forEach(function(B){var k=l$[B];b&&(b[B]=k)}),b&&(b.paddingRight="".concat(S,"px"))}g&&A$()&&(g.addEventListener("touchmove",c$,Zg),v&&(v.addEventListener("touchstart",d$,Zg),v.addEventListener("touchmove",u$,Zg))),lb+=1}},[u]),p=I.useCallback(function(v){if(f$){var g=document.body,b=g&&g.style;lb=Math.max(lb-1,0),u&&lb<1&&o$.forEach(function(y){var _=d.current[y];b&&(b[y]=_)}),g&&A$()&&(g.removeEventListener("touchmove",c$,Zg),v&&(v.removeEventListener("touchstart",d$,Zg),v.removeEventListener("touchmove",u$,Zg)))}},[u]);return I.useEffect(function(){if(o){var v=f.current;return h(v),function(){p(v)}}},[o,h,p]),function(v){f.current=v}}({isEnabled:r});return _r(I.Fragment,null,r&&_r("div",{onClick:mGe,css:pGe}),t(function(i){a(i),s(i)}))}var vGe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},xGe=function(e){var t=e.name,r=e.onFocus;return _r("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:vGe,value:"",onChange:function(){}})};function HF(e){var t;return typeof window<"u"&&window.navigator!=null&&e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform)}function Nse(){return HF(/^Mac/i)}function bGe(){return HF(/^iPhone/i)||HF(/^iPad/i)||Nse()&&navigator.maxTouchPoints>1}var yGe,wGe={clearIndicator:XKe,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var r=e.isDisabled,n=e.isFocused,a=e.theme,s=a.colors,i=a.borderRadius;return xr({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:n?s.primary:s.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:n?s.primary:s.neutral30}})},dropdownIndicator:WKe,group:function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:2*r.baseUnit,paddingTop:2*r.baseUnit}},groupHeading:function(e,t){var r=e.theme,n=r.colors,a=r.spacing;return xr({label:"group",cursor:"default",display:"block"},t?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*a.baseUnit,paddingRight:3*a.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var r=e.isDisabled,n=e.theme,a=n.spacing.baseUnit,s=n.colors;return xr({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:2*a,marginTop:2*a})},input:function(e,t){var r=e.isDisabled,n=e.value,a=e.theme,s=a.spacing,i=a.colors;return xr(xr({visibility:r?"hidden":"visible",transform:n?"translateZ(0)":""},rGe),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:i.neutral80})},loadingIndicator:function(e,t){var r=e.isFocused,n=e.size,a=e.theme,s=a.colors,i=a.spacing.baseUnit;return xr({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?s.neutral60:s.neutral20,padding:2*i})},loadingMessage:$Ke,menu:function(e,t){var r,n=e.placement,a=e.theme,s=a.borderRadius,i=a.spacing,o=a.colors;return xr((vv(r={label:"menu"},function(l){return l?{bottom:"top",top:"bottom"}[l]:"bottom"}(n),"100%"),vv(r,"position","absolute"),vv(r,"width","100%"),vv(r,"zIndex",1),r),t?{}:{backgroundColor:o.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},menuList:function(e,t){var r=e.maxHeight,n=e.theme.spacing.baseUnit;return xr({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:n,paddingTop:n})},menuPortal:function(e){var t=e.rect,r=e.offset,n=e.position;return{left:t.left,position:n,top:r,width:t.width,zIndex:1}},multiValue:function(e,t){var r=e.theme,n=r.spacing,a=r.borderRadius,s=r.colors;return xr({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:a/2,margin:n.baseUnit/2})},multiValueLabel:function(e,t){var r=e.theme,n=r.borderRadius,a=r.colors,s=e.cropWithEllipsis;return xr({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:n/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var r=e.theme,n=r.spacing,a=r.borderRadius,s=r.colors,i=e.isFocused;return xr({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:i?s.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:zKe,option:function(e,t){var r=e.isDisabled,n=e.isFocused,a=e.isSelected,s=e.theme,i=s.spacing,o=s.colors;return xr({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?o.primary:n?o.primary25:"transparent",color:r?o.neutral20:a?o.neutral0:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),":active":{backgroundColor:r?void 0:a?o.primary:o.primary50}})},placeholder:function(e,t){var r=e.theme,n=r.spacing,a=r.colors;return xr({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},singleValue:function(e,t){var r=e.isDisabled,n=e.theme,a=n.spacing,s=n.colors;return xr({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?s.neutral40:s.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},valueContainer:function(e,t){var r=e.theme.spacing,n=e.isMulti,a=e.hasValue,s=e.selectProps.controlShouldRenderValue;return xr({alignItems:"center",display:n&&a&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(2*r.baseUnit,"px")})}},QT={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},EGe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:e$(),captureMenuScroll:!e$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var r=xr({ignoreCase:!0,ignoreAccents:!0,stringify:AGe,trim:!0,matchFrom:"any"},yGe),n=r.ignoreCase,a=r.ignoreAccents,s=r.stringify,i=r.trim,o=r.matchFrom,l=i?i$(t):t,u=i?i$(s(e)):s(e);return n&&(l=l.toLowerCase(),u=u.toLowerCase()),a&&(l=dGe(l),u=Sse(u)),o==="start"?u.substr(0,l.length)===l:u.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function h$(e,t,r,n){return{type:"option",data:t,isDisabled:Bse(e,t,r),isSelected:Tse(e,t,r),label:kse(e,t),value:$S(e,t),index:n}}function pC(e,t){return e.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,o){return h$(e,i,t,o)}).filter(function(i){return g$(e,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=h$(e,r,t,n);return g$(e,s)?s:void 0}).filter(LKe)}function m$(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,UP(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function p$(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,UP(n.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function g$(e,t){var r=e.inputValue,n=r===void 0?"":r,a=t.data,s=t.isSelected,i=t.label,o=t.value;return(!jse(e)||!s)&&Ise(e,{label:i,value:o,data:a},n)}var HT=function(e,t){var r;return((r=e.find(function(n){return n.data===t}))===null||r===void 0?void 0:r.id)||null},kse=function(e,t){return e.getOptionLabel(t)},$S=function(e,t){return e.getOptionValue(t)};function Bse(e,t,r){return typeof e.isOptionDisabled=="function"&&e.isOptionDisabled(t,r)}function Tse(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=$S(e,t);return r.some(function(a){return $S(e,a)===n})}function Ise(e,t,r){return!e.filterOption||e.filterOption(t,r)}var jse=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},CGe=1,Fse=function(e){(function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&jF(i,o)})(s,I.Component);var t,r,n,a=Y$e(s);function s(i){var o;if(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}(this,s),(o=a.call(this,i)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=Nse()||bGe(),o.controlRef=null,o.getControlRef=function(f){o.controlRef=f},o.focusedOptionRef=null,o.getFocusedOptionRef=function(f){o.focusedOptionRef=f},o.menuListRef=null,o.getMenuListRef=function(f){o.menuListRef=f},o.inputRef=null,o.getInputRef=function(f){o.inputRef=f},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(f,h){var p=o.props,v=p.onChange,g=p.name;h.name=g,o.ariaOnChange(f,h),v(f,h)},o.setValue=function(f,h,p){var v=o.props,g=v.closeMenuOnSelect,b=v.isMulti,y=v.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:y}),g&&(o.setState({inputIsHiddenAfterUpdate:!b}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(f,{action:h,option:p})},o.selectOption=function(f){var h=o.props,p=h.blurInputOnSelect,v=h.isMulti,g=h.name,b=o.state.selectValue,y=v&&o.isOptionSelected(f,b),_=o.isOptionDisabled(f,b);if(y){var S=o.getOptionValue(f);o.setValue(b.filter(function(B){return o.getOptionValue(B)!==S}),"deselect-option",f)}else{if(_)return void o.ariaOnChange(f,{action:"select-option",option:f,name:g});v?o.setValue([].concat(UP(b),[f]),"select-option",f):o.setValue(f,"select-option")}p&&o.blurInput()},o.removeValue=function(f){var h=o.props.isMulti,p=o.state.selectValue,v=o.getOptionValue(f),g=p.filter(function(y){return o.getOptionValue(y)!==v}),b=mC(h,g,g[0]||null);o.onChange(b,{action:"remove-value",removedValue:f}),o.focusInput()},o.clearValue=function(){var f=o.state.selectValue;o.onChange(mC(o.props.isMulti,[],null),{action:"clear",removedValues:f})},o.popValue=function(){var f=o.props.isMulti,h=o.state.selectValue,p=h[h.length-1],v=h.slice(0,h.length-1),g=mC(f,v,v[0]||null);o.onChange(g,{action:"pop-value",removedValue:p})},o.getFocusedOptionId=function(f){return HT(o.state.focusableOptionsWithIds,f)},o.getFocusableOptionsWithIds=function(){return p$(pC(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];return OKe.apply(void 0,[o.props.classNamePrefix].concat(h))},o.getOptionLabel=function(f){return kse(o.props,f)},o.getOptionValue=function(f){return $S(o.props,f)},o.getStyles=function(f,h){var p=o.props.unstyled,v=wGe[f](h,p);v.boxSizing="border-box";var g=o.props.styles[f];return g?g(v,h):v},o.getClassNames=function(f,h){var p,v;return(p=(v=o.props.classNames)[f])===null||p===void 0?void 0:p.call(v,h)},o.getElementId=function(f){return"".concat(o.state.instancePrefix,"-").concat(f)},o.getComponents=function(){return f=o.props,xr(xr({},sGe),f.components);var f},o.buildCategorizedOptions=function(){return pC(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return m$(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(f,h){o.setState({ariaSelection:xr({value:f},h)})},o.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(f){o.blockOptionHover=!1},o.onControlMouseDown=function(f){if(!f.defaultPrevented){var h=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&o.onMenuClose():h&&o.openMenu("first"):(h&&(o.openAfterFocus=!0),o.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},o.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0||o.props.isDisabled)){var h=o.props,p=h.isMulti,v=h.menuIsOpen;o.focusInput(),v?(o.setState({inputIsHiddenAfterUpdate:!p}),o.onMenuClose()):o.openMenu("first"),f.preventDefault()}},o.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(o.clearValue(),f.preventDefault(),o.openAfterFocus=!1,f.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(f){typeof o.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&n4(f.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(f)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(f){var h=f.touches,p=h&&h.item(0);p&&(o.initialTouchX=p.clientX,o.initialTouchY=p.clientY,o.userIsDragging=!1)},o.onTouchMove=function(f){var h=f.touches,p=h&&h.item(0);if(p){var v=Math.abs(p.clientX-o.initialTouchX),g=Math.abs(p.clientY-o.initialTouchY);o.userIsDragging=v>5||g>5}},o.onTouchEnd=function(f){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(f.target)&&o.menuListRef&&!o.menuListRef.contains(f.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(f){o.userIsDragging||o.onControlMouseDown(f)},o.onClearIndicatorTouchEnd=function(f){o.userIsDragging||o.onClearIndicatorMouseDown(f)},o.onDropdownIndicatorTouchEnd=function(f){o.userIsDragging||o.onDropdownIndicatorMouseDown(f)},o.handleInputChange=function(f){var h=o.props.inputValue,p=f.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(p,{action:"input-change",prevInputValue:h}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(f){o.props.onFocus&&o.props.onFocus(f),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(f){var h=o.props.inputValue;o.menuListRef&&o.menuListRef.contains(document.activeElement)?o.inputRef.focus():(o.props.onBlur&&o.props.onBlur(f),o.onInputChange("",{action:"input-blur",prevInputValue:h}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1}))},o.onOptionHover=function(f){if(!o.blockOptionHover&&o.state.focusedOption!==f){var h=o.getFocusableOptions().indexOf(f);o.setState({focusedOption:f,focusedOptionId:h>-1?o.getFocusedOptionId(f):null})}},o.shouldHideSelectedOptions=function(){return jse(o.props)},o.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),o.focus()},o.onKeyDown=function(f){var h=o.props,p=h.isMulti,v=h.backspaceRemovesValue,g=h.escapeClearsValue,b=h.inputValue,y=h.isClearable,_=h.isDisabled,S=h.menuIsOpen,B=h.onKeyDown,k=h.tabSelectsValue,O=h.openMenuOnFocus,w=o.state,C=w.focusedOption,N=w.focusedValue,P=w.selectValue;if(!(_||typeof B=="function"&&(B(f),f.defaultPrevented))){switch(o.blockOptionHover=!0,f.key){case"ArrowLeft":if(!p||b)return;o.focusValue("previous");break;case"ArrowRight":if(!p||b)return;o.focusValue("next");break;case"Delete":case"Backspace":if(b)return;if(N)o.removeValue(N);else{if(!v)return;p?o.popValue():y&&o.clearValue()}break;case"Tab":if(o.isComposing||f.shiftKey||!S||!k||!C||O&&o.isOptionSelected(C,P))return;o.selectOption(C);break;case"Enter":if(f.keyCode===229)break;if(S){if(!C||o.isComposing)return;o.selectOption(C);break}return;case"Escape":S?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:b}),o.onMenuClose()):y&&g&&o.clearValue();break;case" ":if(b)return;if(!S){o.openMenu("first");break}if(!C)return;o.selectOption(C);break;case"ArrowUp":S?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":S?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!S)return;o.focusOption("pageup");break;case"PageDown":if(!S)return;o.focusOption("pagedown");break;case"Home":if(!S)return;o.focusOption("first");break;case"End":if(!S)return;o.focusOption("last");break;default:return}f.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++CGe),o.state.selectValue=Yz(i.value),i.menuIsOpen&&o.state.selectValue.length){var l=o.getFocusableOptionsWithIds(),u=o.buildFocusableOptions(),d=u.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=l,o.state.focusedOption=u[d],o.state.focusedOptionId=HT(l,u[d])}return o}return t=s,r=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Zz(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isDisabled,u=o.menuIsOpen,d=this.state.isFocused;(d&&!l&&i.isDisabled||d&&u&&!i.menuIsOpen)&&this.focusInput(),d&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):d||l||!i.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Zz(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,l=this.state,u=l.selectValue,d=l.isFocused,f=this.buildFocusableOptions(),h=i==="first"?0:f.length-1;if(!this.props.isMulti){var p=f.indexOf(u[0]);p>-1&&(h=p)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[h],focusedOptionId:this.getFocusedOptionId(f[h])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,l=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=l.indexOf(u);u||(d=-1);var f=l.length-1,h=-1;if(l.length){switch(i){case"previous":h=d===0?0:d===-1?f:d-1;break;case"next":d>-1&&d<f&&(h=d+1)}this.setState({inputIsHidden:h!==-1,focusedValue:l[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,l=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var d=0,f=u.indexOf(l);l||(f=-1),i==="up"?d=f>0?f-1:u.length-1:i==="down"?d=(f+1)%u.length:i==="pageup"?(d=f-o)<0&&(d=0):i==="pagedown"?(d=f+o)>u.length-1&&(d=u.length-1):i==="last"&&(d=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(QT):xr(xr({},QT),this.props.theme):QT}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,l=this.getStyles,u=this.getClassNames,d=this.getValue,f=this.selectOption,h=this.setValue,p=this.props,v=p.isMulti,g=p.isRtl,b=p.options;return{clearValue:i,cx:o,getStyles:l,getClassNames:u,getValue:d,hasValue:this.hasValue(),isMulti:v,isRtl:g,options:b,selectOption:f,selectProps:p,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,l=i.isMulti;return o===void 0?l:o}},{key:"isOptionDisabled",value:function(i,o){return Bse(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return Tse(this.props,i,o)}},{key:"filterOption",value:function(i,o){return Ise(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:l,selectValue:u})}return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,l=i.isSearchable,u=i.inputId,d=i.inputValue,f=i.tabIndex,h=i.form,p=i.menuIsOpen,v=i.required,g=this.getComponents().Input,b=this.state,y=b.inputIsHidden,_=b.ariaSelection,S=this.commonProps,B=u||this.getElementId("input"),k=xr(xr(xr({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":v,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?I.createElement(g,Tr({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:B,innerRef:this.getInputRef,isDisabled:o,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:h,type:"text",value:d},k)):I.createElement(hGe,Tr({id:B,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:VS,onFocus:this.onInputFocus,disabled:o,tabIndex:f,inputMode:"none",form:h,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),l=o.MultiValue,u=o.MultiValueContainer,d=o.MultiValueLabel,f=o.MultiValueRemove,h=o.SingleValue,p=o.Placeholder,v=this.commonProps,g=this.props,b=g.controlShouldRenderValue,y=g.isDisabled,_=g.isMulti,S=g.inputValue,B=g.placeholder,k=this.state,O=k.selectValue,w=k.focusedValue,C=k.isFocused;if(!this.hasValue()||!b)return S?null:I.createElement(p,Tr({},v,{key:"placeholder",isDisabled:y,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),B);if(_)return O.map(function(P,j){var F=P===w,M="".concat(i.getOptionLabel(P),"-").concat(i.getOptionValue(P));return I.createElement(l,Tr({},v,{components:{Container:u,Label:d,Remove:f},isFocused:F,isDisabled:y,key:M,index:j,removeProps:{onClick:function(){return i.removeValue(P)},onTouchEnd:function(){return i.removeValue(P)},onMouseDown:function(Q){Q.preventDefault()}},data:P}),i.formatOptionLabel(P,"value"))});if(S)return null;var N=O[0];return I.createElement(h,Tr({},v,{data:N,isDisabled:y}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents().ClearIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,d=l.isLoading,f=this.state.isFocused;if(!this.isClearable()||!i||u||!this.hasValue()||d)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return I.createElement(i,Tr({},o,{innerProps:h,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents().LoadingIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,d=l.isLoading,f=this.state.isFocused;return i&&d?I.createElement(i,Tr({},o,{innerProps:{"aria-hidden":"true"},isDisabled:u,isFocused:f})):null}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,l=i.IndicatorSeparator;if(!o||!l)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused;return I.createElement(l,Tr({},u,{isDisabled:d,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents().DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return I.createElement(i,Tr({},o,{innerProps:d,isDisabled:l,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),l=o.Group,u=o.GroupHeading,d=o.Menu,f=o.MenuList,h=o.MenuPortal,p=o.LoadingMessage,v=o.NoOptionsMessage,g=o.Option,b=this.commonProps,y=this.state.focusedOption,_=this.props,S=_.captureMenuScroll,B=_.inputValue,k=_.isLoading,O=_.loadingMessage,w=_.minMenuHeight,C=_.maxMenuHeight,N=_.menuIsOpen,P=_.menuPlacement,j=_.menuPosition,F=_.menuPortalTarget,M=_.menuShouldBlockScroll,Q=_.menuShouldScrollIntoView,J=_.noOptionsMessage,q=_.onMenuScrollToTop,Z=_.onMenuScrollToBottom;if(!N)return null;var H,V=function(Y,te){var ie=Y.type,me=Y.data,oe=Y.isDisabled,ce=Y.isSelected,ge=Y.label,De=Y.value,re=y===me,Se=oe?void 0:function(){return i.onOptionHover(me)},Pe=oe?void 0:function(){return i.selectOption(me)},_e="".concat(i.getElementId("option"),"-").concat(te),Ae={id:_e,onClick:Pe,onMouseMove:Se,onMouseOver:Se,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:ce};return I.createElement(g,Tr({},b,{innerProps:Ae,data:me,isDisabled:oe,isSelected:ce,key:_e,label:ge,type:ie,value:De,isFocused:re,innerRef:re?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Y.data,"menu"))};if(this.hasOptions())H=this.getCategorizedOptions().map(function(Y){if(Y.type==="group"){var te=Y.data,ie=Y.options,me=Y.index,oe="".concat(i.getElementId("group"),"-").concat(me),ce="".concat(oe,"-heading");return I.createElement(l,Tr({},b,{key:oe,data:te,options:ie,Heading:u,headingProps:{id:ce,data:Y.data},label:i.formatGroupLabel(Y.data)}),Y.options.map(function(ge){return V(ge,"".concat(me,"-").concat(ge.index))}))}if(Y.type==="option")return V(Y,"".concat(Y.index))});else if(k){var G=O({inputValue:B});if(G===null)return null;H=I.createElement(p,b,G)}else{var ne=J({inputValue:B});if(ne===null)return null;H=I.createElement(v,b,ne)}var R={minMenuHeight:w,maxMenuHeight:C,menuPlacement:P,menuPosition:j,menuShouldScrollIntoView:Q},W=I.createElement(HKe,Tr({},b,R),function(Y){var te=Y.ref,ie=Y.placerProps,me=ie.placement,oe=ie.maxHeight;return I.createElement(d,Tr({},b,R,{innerRef:te,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:k,placement:me}),I.createElement(gGe,{captureEnabled:S,onTopArrive:q,onBottomArrive:Z,lockEnabled:M},function(ce){return I.createElement(f,Tr({},b,{innerRef:function(ge){i.getMenuListRef(ge),ce(ge)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:i.getElementId("listbox")},isLoading:k,maxHeight:oe,focusedOption:y}),H)}))});return F||j==="fixed"?I.createElement(h,Tr({},b,{appendTo:F,controlElement:this.controlRef,menuPlacement:P,menuPosition:j}),W):W}},{key:"renderFormField",value:function(){var i=this,o=this.props,l=o.delimiter,u=o.isDisabled,d=o.isMulti,f=o.name,h=o.required,p=this.state.selectValue;if(h&&!this.hasValue()&&!u)return I.createElement(xGe,{name:f,onFocus:this.onValueInputFocus});if(f&&!u){if(d){if(l){var v=p.map(function(y){return i.getOptionValue(y)}).join(l);return I.createElement("input",{name:f,type:"hidden",value:v})}var g=p.length>0?p.map(function(y,_){return I.createElement("input",{key:"i-".concat(_),name:f,type:"hidden",value:i.getOptionValue(y)})}):I.createElement("input",{name:f,type:"hidden",value:""});return I.createElement("div",null,g)}var b=p[0]?this.getOptionValue(p[0]):"";return I.createElement("input",{name:f,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,l=o.ariaSelection,u=o.focusedOption,d=o.focusedValue,f=o.isFocused,h=o.selectValue,p=this.getFocusableOptions();return I.createElement(cGe,Tr({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:u,focusedValue:d,isFocused:f,selectValue:h,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,l=i.IndicatorsContainer,u=i.SelectContainer,d=i.ValueContainer,f=this.props,h=f.className,p=f.id,v=f.isDisabled,g=f.menuIsOpen,b=this.state.isFocused,y=this.commonProps=this.getCommonProps();return I.createElement(u,Tr({},y,{className:h,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:v,isFocused:b}),this.renderLiveRegion(),I.createElement(o,Tr({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:v,isFocused:b,menuIsOpen:g}),I.createElement(d,Tr({},y,{isDisabled:v}),this.renderPlaceholderOrValue(),this.renderInput()),I.createElement(l,Tr({},y,{isDisabled:v}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],n=[{key:"getDerivedStateFromProps",value:function(i,o){var l=o.prevProps,u=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,f=o.ariaSelection,h=o.isFocused,p=o.prevWasFocused,v=o.instancePrefix,g=i.options,b=i.value,y=i.menuIsOpen,_=i.inputValue,S=i.isMulti,B=Yz(b),k={};if(l&&(b!==l.value||g!==l.options||y!==l.menuIsOpen||_!==l.inputValue)){var O=y?function(M,Q){return m$(pC(M,Q))}(i,B):[],w=y?p$(pC(i,B),"".concat(v,"-option")):[],C=u?function(M,Q){var J=M.focusedValue,q=M.selectValue.indexOf(J);if(q>-1){if(Q.indexOf(J)>-1)return J;if(q<Q.length)return Q[q]}return null}(o,B):null,N=function(M,Q){var J=M.focusedOption;return J&&Q.indexOf(J)>-1?J:Q[0]}(o,O);k={selectValue:B,focusedOption:N,focusedOptionId:HT(w,N),focusableOptionsWithIds:w,focusedValue:C,clearFocusValueOnUpdate:!1}}var P=d!=null&&i!==l?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},j=f,F=h&&p;return h&&!F&&(j={value:mC(S,B,B[0]||null),options:B,action:"initial-input-focus"},F=!p),(f==null?void 0:f.action)==="initial-input-focus"&&(j=null),xr(xr(xr({},k),P),{},{prevProps:i,ariaSelection:j,prevWasFocused:F})}}],r&&jz(t.prototype,r),n&&jz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}();Fse.defaultProps=EGe;var _Ge=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"],SGe=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"],qP=ta(function(e){function t(r){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),NGe=ta(function(e){var t=qP.default;e.exports=function(r,n){if(t(r)!=="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,n||"default");if(t(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)},e.exports.__esModule=!0,e.exports.default=e.exports}),Ose=ta(function(e){var t=qP.default;e.exports=function(r){var n=NGe(r,"string");return t(n)==="symbol"?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports}),kGe=ta(function(e){e.exports=function(t,r,n){return(r=Ose(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t},e.exports.__esModule=!0,e.exports.default=e.exports});ta(function(e){function t(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),a.push.apply(a,s)}return a}e.exports=function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?t(Object(a),!0).forEach(function(s){kGe(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r},e.exports.__esModule=!0,e.exports.default=e.exports}),ta(function(e){e.exports=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),ta(function(e){function t(r,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,Ose(s.key),s)}}e.exports=function(r,n,a){return n&&t(r.prototype,n),a&&t(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r},e.exports.__esModule=!0,e.exports.default=e.exports});var BGe=ta(function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});ta(function(e){e.exports=function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&BGe(t,r)},e.exports.__esModule=!0,e.exports.default=e.exports});var v$=ta(function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),TGe=ta(function(e){e.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}),IGe=ta(function(e){e.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.__esModule=!0,e.exports.default=e.exports}),jGe=ta(function(e){var t=qP.default;e.exports=function(r,n){if(n&&(t(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IGe(r)},e.exports.__esModule=!0,e.exports.default=e.exports});ta(function(e){e.exports=function(t){var r=TGe();return function(){var n,a=v$(t);if(r){var s=v$(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return jGe(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports});var VF=ta(function(e){e.exports=function(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a},e.exports.__esModule=!0,e.exports.default=e.exports}),FGe=ta(function(e){e.exports=function(t){if(Array.isArray(t))return VF(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),OGe=ta(function(e){e.exports=function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),Dse=ta(function(e){e.exports=function(t,r){if(t){if(typeof t=="string")return VF(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VF(t,r):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),DGe=ta(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});ta(function(e){e.exports=function(t){return FGe(t)||OGe(t)||Dse(t)||DGe()},e.exports.__esModule=!0,e.exports.default=e.exports});var PGe=ta(function(e){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports}),RGe=ta(function(e){e.exports=function(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],u=!0,d=!1;try{if(i=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(l.push(a.value),l.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}},e.exports.__esModule=!0,e.exports.default=e.exports}),LGe=ta(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});ta(function(e){e.exports=function(t,r){return PGe(t)||RGe(t,r)||Dse(t,r)||LGe()},e.exports.__esModule=!0,e.exports.default=e.exports});var MGe=ta(function(e){e.exports=function(t,r){if(t==null)return{};var n,a,s={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)>=0||(s[n]=t[n]);return s},e.exports.__esModule=!0,e.exports.default=e.exports});ta(function(e){e.exports=function(t,r){if(t==null)return{};var n,a,s=MGe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports}),ta(function(e){e.exports=function(t,r){return r||(r=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))},e.exports.__esModule=!0,e.exports.default=e.exports});var UGe=I.forwardRef(function(e,t){var r=function(a){var s=a.defaultOptions,i=s!==void 0&&s,o=a.cacheOptions,l=o!==void 0&&o,u=a.loadOptions;a.options;var d=a.isLoading,f=d!==void 0&&d,h=a.onInputChange,p=a.filterOption,v=p===void 0?null:p,g=uA(a,SGe),b=g.inputValue,y=I.useRef(void 0),_=I.useRef(!1),S=Pi(I.useState(Array.isArray(i)?i:void 0),2),B=S[0],k=S[1],O=Pi(I.useState(b!==void 0?b:""),2),w=O[0],C=O[1],N=Pi(I.useState(i===!0),2),P=N[0],j=N[1],F=Pi(I.useState(void 0),2),M=F[0],Q=F[1],J=Pi(I.useState([]),2),q=J[0],Z=J[1],H=Pi(I.useState(!1),2),V=H[0],G=H[1],ne=Pi(I.useState({}),2),R=ne[0],W=ne[1],Y=Pi(I.useState(void 0),2),te=Y[0],ie=Y[1],me=Pi(I.useState(void 0),2),oe=me[0],ce=me[1];l!==oe&&(W({}),ce(l)),i!==te&&(k(Array.isArray(i)?i:void 0),ie(i)),I.useEffect(function(){return _.current=!0,function(){_.current=!1}},[]);var ge=I.useCallback(function(Se,Pe){if(!u)return Pe();var _e=u(Se,Pe);_e&&typeof _e.then=="function"&&_e.then(Pe,function(){return Pe()})},[u]);I.useEffect(function(){i===!0&&ge(w,function(Se){_.current&&(k(Se||[]),j(!!y.current))})},[]);var De=I.useCallback(function(Se,Pe){var _e=function(je,$e,Ze){if(Ze){var ye=Ze(je,$e);if(typeof ye=="string")return ye}return je}(Se,Pe,h);if(!_e)return y.current=void 0,C(""),Q(""),Z([]),j(!1),void G(!1);if(l&&R[_e])C(_e),Q(_e),Z(R[_e]),j(!1),G(!1);else{var Ae=y.current={};C(_e),j(!0),G(!M),ge(_e,function(je){_&&Ae===y.current&&(y.current=void 0,j(!1),Q(_e),Z(je||[]),G(!1),W(je?xr(xr({},R),{},vv({},_e,je)):R))})}},[l,ge,M,R,h]),re=V?[]:w&&M?q:B||[];return xr(xr({},g),{},{options:re,isLoading:P||f,onInputChange:De,filterOption:v})}(e),n=function(a){var s=a.defaultInputValue,i=s===void 0?"":s,o=a.defaultMenuIsOpen,l=o!==void 0&&o,u=a.defaultValue,d=u===void 0?null:u,f=a.inputValue,h=a.menuIsOpen,p=a.onChange,v=a.onInputChange,g=a.onMenuClose,b=a.onMenuOpen,y=a.value,_=uA(a,_Ge),S=Pi(I.useState(f!==void 0?f:i),2),B=S[0],k=S[1],O=Pi(I.useState(h!==void 0?h:l),2),w=O[0],C=O[1],N=Pi(I.useState(y!==void 0?y:d),2),P=N[0],j=N[1],F=I.useCallback(function(V,G){typeof p=="function"&&p(V,G),j(V)},[p]),M=I.useCallback(function(V,G){var ne;typeof v=="function"&&(ne=v(V,G)),k(ne!==void 0?ne:V)},[v]),Q=I.useCallback(function(){typeof b=="function"&&b(),C(!0)},[b]),J=I.useCallback(function(){typeof g=="function"&&g(),C(!1)},[g]),q=f!==void 0?f:B,Z=h!==void 0?h:w,H=y!==void 0?y:P;return xr(xr({},_),{},{inputValue:q,menuIsOpen:Z,onChange:F,onInputChange:M,onMenuClose:J,onMenuOpen:Q,value:H})}(r);return I.createElement(Fse,Tr({ref:t},n))}),QGe=UGe,HGe=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;a--!=0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;a--!=0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!=0;){var i=s[a];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r},xv;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(xv||(xv={}));class Km{constructor({apiKey:t,authReferrerPolicy:r,channel:n,client:a,id:s="__googleMapsScriptId",language:i,libraries:o=[],mapIds:l,nonce:u,region:d,retries:f=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=n,this.client=a,this.id=s||"__googleMapsScriptId",this.language=i,this.libraries=o,this.mapIds=l,this.nonce=u,this.region=d,this.retries=f,this.url=h,this.version=p,Km.instance){if(!HGe(this.options,Km.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Km.instance.options)}`);return Km.instance}Km.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?xv.FAILURE:this.done?xv.SUCCESS:this.loading?xv.LOADING:xv.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+=`?callback=${this.CALLBACK}`,this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(n=>{n?r(n.error):t(window.google)})})}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const t=this.createUrl(),r=document.createElement("script");r.id=this.id,r.type="text/javascript",r.src=t,r.onerror=this.loadErrorCallback.bind(this),r.defer=!0,r.async=!0,this.nonce&&(r.nonce=this.nonce),document.head.appendChild(r)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var VGe=function(e,t,r){var n,a=e.bounds,s=e.location,i=function(l,u){var d={};for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&u.indexOf(f)<0&&(d[f]=l[f]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(f=Object.getOwnPropertySymbols(l);h<f.length;h++)u.indexOf(f[h])<0&&Object.prototype.propertyIsEnumerable.call(l,f[h])&&(d[f[h]]=l[f[h]])}return d}(e,["bounds","location"]),o=mp({input:t},i);return r&&(o.sessionToken=r),a&&(o.bounds=new((n=google.maps.LatLngBounds).bind.apply(n,function(){for(var l=0,u=0,d=arguments.length;u<d;u++)l+=arguments[u].length;var f=Array(l),h=0;for(u=0;u<d;u++)for(var p=arguments[u],v=0,g=p.length;v<g;v++,h++)f[h]=p[v];return f}([void 0],a)))),s&&(o.location=new google.maps.LatLng(s)),o},zGe=function(e){var t=e.autocompletionRequest,r=e.debounce,n=e.minLengthAutocomplete,a=e.placesService,s=e.sessionToken,i=e.withSessionToken,o=function(l,u,d){d===void 0&&(d={});var f=d.maxWait,h=I.useRef(null),p=I.useRef([]),v=d.leading,g=d.trailing===void 0||d.trailing,b=I.useRef(!1),y=I.useRef(null),_=I.useRef(!1),S=I.useRef(l);S.current=l;var B=I.useCallback(function(){clearTimeout(y.current),clearTimeout(h.current),h.current=null,p.current=[],y.current=null,b.current=!1},[]);I.useEffect(function(){return _.current=!1,function(){_.current=!0}},[]);var k=I.useCallback(function(){for(var w=[],C=0;C<arguments.length;C++)w[C]=arguments[C];p.current=w,clearTimeout(y.current),b.current&&(b.current=!1),y.current||!v||b.current||(S.current.apply(S,w),b.current=!0),y.current=setTimeout(function(){var N=!0;v&&b.current&&(N=!1),B(),!_.current&&g&&N&&S.current.apply(S,w)},u),f&&!h.current&&g&&(h.current=setTimeout(function(){var N=p.current;B(),_.current||S.current.apply(null,N)},f))},[f,u,B,v,g]),O=I.useCallback(function(){y.current&&(S.current.apply(null,p.current),B())},[B]);return[k,B,O]}(function(l,u){if(!a)return u([]);if(l.length<n)return u([]);var d=mp({},t);a.getPlacePredictions(VGe(d,l,i&&s),function(f){u((f||[]).map(function(h){return{label:h.description,value:h}}))})},r)[0];return o},x$=I.forwardRef(function(e,t){var r,n,a,s,i,o,l,u,d=function(g){var b=g.apiKey,y=g.apiOptions,_=g.onLoadFailed,S=I.useState(void 0),B=S[0],k=S[1],O=I.useState(void 0),w=O[0],C=O[1],N=function(){if(!window.google)throw new Error("[react-google-places-autocomplete]: Google script not loaded");if(!window.google.maps)throw new Error("[react-google-places-autocomplete]: Google maps script not loaded");if(!window.google.maps.places)throw new Error("[react-google-places-autocomplete]: Google maps places script not loaded");k(new window.google.maps.places.AutocompleteService),C(new google.maps.places.AutocompleteSessionToken)};return I.useEffect(function(){b?q$e(void 0,void 0,void 0,function(){var P;return W$e(this,function(j){switch(j.label){case 0:if(!b)return[2];j.label=1;case 1:return j.trys.push([1,4,,5]),window.google&&window.google.maps&&window.google.maps.places?[3,3]:[4,new Km(mp({apiKey:b},mp({libraries:["places"]},y))).load()];case 2:j.sent(),j.label=3;case 3:return N(),[3,5];case 4:return P=j.sent(),typeof _=="function"&&_(P),[3,5];case 5:return[2]}})}):N()},[]),{placesService:B,sessionToken:w,setSessionToken:C}}({apiKey:(r=e.apiKey)!==null&&r!==void 0?r:"",apiOptions:(n=e.apiOptions)!==null&&n!==void 0?n:{},onLoadFailed:(a=e.onLoadFailed)!==null&&a!==void 0?a:console.error}),f=d.placesService,h=d.sessionToken,p=d.setSessionToken,v=zGe({autocompletionRequest:(s=e.autocompletionRequest)!==null&&s!==void 0?s:{},debounce:(i=e.debounce)!==null&&i!==void 0?i:300,minLengthAutocomplete:(o=e.minLengthAutocomplete)!==null&&o!==void 0?o:0,placesService:f,sessionToken:h,withSessionToken:(l=e.withSessionToken)!==null&&l!==void 0&&l});return I.useImperativeHandle(t,function(){return{getSessionToken:function(){return h},refreshSessionToken:function(){p(new google.maps.places.AutocompleteSessionToken)}}},[h]),ut.createElement(QGe,mp({},(u=e.selectProps)!==null&&u!==void 0?u:{},{loadOptions:v,getOptionValue:function(g){return g.value.place_id}}))});function Pse(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Pse(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Pse(e))&&(n&&(n+=" "),n+=t);return n}var VT={},zT={},b$;function $Ge(){return b$||(b$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(zT)),zT}var $T={},y$;function Rse(){return y$||(y$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}($T)),$T}var KT={},w$;function Lse(){return w$||(w$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t}(KT)),KT}var GT={},E$;function WP(){return E$||(E$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let s=0,i="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<a;){const u=r[s];o?u==="\\"&&s+1<a?(s++,i+=r[s]):u===o?o="":i+=u:l?u==='"'||u==="'"?o=u:u==="]"?(l=!1,n.push(i),i=""):i+=u:u==="["?(l=!0,i&&(n.push(i),i="")):u==="."?i&&(n.push(i),i=""):i+=u,s++}return i&&n.push(i),n}e.toPath=t}(GT)),GT}var C$;function XP(){return C$||(C$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$Ge(),r=Rse(),n=Lse(),a=WP();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?r.isDeepKey(l)?s(o,a.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return i(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function i(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=s}(VT)),VT}var qT,_$;function KGe(){return _$||(_$=1,qT=XP().get),qT}var GGe=KGe();const X0=hl(GGe);var WT={exports:{}},Yn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S$;function qGe(){if(S$)return Yn;S$=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,_=e?Symbol.for("react.scope"):60119;function S(k){if(typeof k=="object"&&k!==null){var O=k.$$typeof;switch(O){case t:switch(k=k.type,k){case l:case u:case n:case s:case a:case f:return k;default:switch(k=k&&k.$$typeof,k){case o:case d:case v:case p:case i:return k;default:return O}}case r:return O}}}function B(k){return S(k)===u}return Yn.AsyncMode=l,Yn.ConcurrentMode=u,Yn.ContextConsumer=o,Yn.ContextProvider=i,Yn.Element=t,Yn.ForwardRef=d,Yn.Fragment=n,Yn.Lazy=v,Yn.Memo=p,Yn.Portal=r,Yn.Profiler=s,Yn.StrictMode=a,Yn.Suspense=f,Yn.isAsyncMode=function(k){return B(k)||S(k)===l},Yn.isConcurrentMode=B,Yn.isContextConsumer=function(k){return S(k)===o},Yn.isContextProvider=function(k){return S(k)===i},Yn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},Yn.isForwardRef=function(k){return S(k)===d},Yn.isFragment=function(k){return S(k)===n},Yn.isLazy=function(k){return S(k)===v},Yn.isMemo=function(k){return S(k)===p},Yn.isPortal=function(k){return S(k)===r},Yn.isProfiler=function(k){return S(k)===s},Yn.isStrictMode=function(k){return S(k)===a},Yn.isSuspense=function(k){return S(k)===f},Yn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===u||k===s||k===a||k===f||k===h||typeof k=="object"&&k!==null&&(k.$$typeof===v||k.$$typeof===p||k.$$typeof===i||k.$$typeof===o||k.$$typeof===d||k.$$typeof===b||k.$$typeof===y||k.$$typeof===_||k.$$typeof===g)},Yn.typeOf=S,Yn}var N$;function WGe(){return N$||(N$=1,WT.exports=qGe()),WT.exports}var XGe=WGe(),zi=e=>e===0?0:e>0?1:-1,kc=e=>typeof e=="number"&&e!=+e,Zm=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,or=e=>(typeof e=="number"||e instanceof Number)&&!kc(e),IA=e=>or(e)||typeof e=="string",YGe=0,Jy=e=>{var t=++YGe;return"".concat(e||"").concat(t)},fl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!or(t)&&typeof t!="string")return n;var s;if(Zm(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return kc(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},Mse=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},bv=(e,t)=>or(e)&&or(t)?r=>e+r*(t-e):()=>t;function ev(e,t,r){return or(e)&&or(t)?e+r*(t-e):t}function JGe(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):X0(n,t))===r)}var ws=e=>e===null||typeof e>"u",Vw=e=>ws(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),ZGe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function YP(e){if(typeof e!="string")return!1;var t=ZGe;return t.includes(e)}var eqe=["viewBox","children"],k$=["points","pathLength"],XT={svg:eqe,polygon:k$,polyline:k$},JP=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(I.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{YP(a)&&(n[a]=s=>r[a](r,s))}),n},tqe=(e,t,r)=>n=>(e(t,r,n),null),Hx=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];YP(a)&&typeof s=="function"&&(n||(n={}),n[a]=tqe(s,t,r))}),n},rqe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Use(e){if(typeof e!="string")return!1;var t=rqe;return t.includes(e)}function Xo(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Use(n)});return Object.fromEntries(t)}var B$=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",T$=null,YT=null,Qse=e=>{if(e===T$&&Array.isArray(YT))return YT;var t=[];return I.Children.forEach(e,r=>{ws(r)||(XGe.isFragment(r)?t=t.concat(Qse(r.props.children)):t.push(r))}),YT=t,T$=e,t};function zw(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>B$(a)):n=[B$(t)],Qse(e).forEach(a=>{var s=X0(a,"type.displayName")||X0(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}var nqe=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(a=n&&(XT==null?void 0:XT[n]))!==null&&a!==void 0?a:[],i=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&s.includes(t)||Use(t)),l=!!r&&YP(t);return i||o||l},Hn=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(I.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{var i;nqe((i=n)===null||i===void 0?void 0:i[s],s,t,r)&&(a[s]=n[s])}),a},aqe=["children","width","height","viewBox","className","style","title","desc"];function zF(){return zF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zF.apply(null,arguments)}function sqe(e,t){if(e==null)return{};var r,n,a=iqe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iqe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hse=I.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:o,title:l,desc:u}=e,d=sqe(e,aqe),f=s||{width:n,height:a,x:0,y:0},h=fn("recharts-surface",i);return I.createElement("svg",zF({},Hn(d,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),I.createElement("title",null,l),I.createElement("desc",null,u),r)}),oqe=["children","className"];function $F(){return $F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$F.apply(null,arguments)}function lqe(e,t){if(e==null)return{};var r,n,a=cqe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cqe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var as=I.forwardRef((e,t)=>{var{children:r,className:n}=e,a=lqe(e,oqe),s=fn("recharts-layer",n);return I.createElement("g",$F({className:s},Hn(a,!0),{ref:t}),r)}),uqe=I.createContext(null),dqe=["type","size","sizeType"];function KF(){return KF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KF.apply(null,arguments)}function I$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I$(Object(r),!0).forEach(function(n){Aqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aqe(e,t,r){return(t=fqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fqe(e){var t=hqe(e,"string");return typeof t=="symbol"?t:t+""}function hqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mqe(e,t){if(e==null)return{};var r,n,a=pqe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pqe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vse={symbolCircle:RP,symbolCross:Vze,symbolDiamond:$ze,symbolSquare:Kze,symbolStar:Xze,symbolTriangle:Yze,symbolWye:Zze},gqe=Math.PI/180,vqe=e=>{var t="symbol".concat(Vw(e));return Vse[t]||RP},xqe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*gqe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bqe=(e,t)=>{Vse["symbol".concat(Vw(e))]=t},zse=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=mqe(e,dqe),s=j$(j$({},a),{},{type:t,size:r,sizeType:n}),i=()=>{var f=vqe(t),h=e$e().type(f).size(xqe(r,n,t));return h()},{className:o,cx:l,cy:u}=s,d=Hn(s,!0);return l===+l&&u===+u&&r===+r?I.createElement("path",KF({},d,{className:fn("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(u,")"),d:i()})):null};zse.registerSymbol=bqe;var JT={},ZT={},F$;function yqe(){return F$||(F$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],o=n(i);a.has(o)||a.set(o,i)}return Array.from(a.values())}e.uniqBy=t}(ZT)),ZT}var e3={},O$;function a4(){return O$||(O$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(e3)),e3}var t3={},r3={},n3={},D$;function wqe(){return D$||(D$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(n3)),n3}var P$;function ZP(){return P$||(P$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wqe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(r3)),r3}var a3={},R$;function Eqe(){return R$||(R$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(a3)),a3}var L$;function Cqe(){return L$||(L$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZP(),r=Eqe();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n}(t3)),t3}var s3={},i3={},M$;function _qe(){return M$||(M$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XP();function r(n){return function(a){return t.get(a,n)}}e.property=r}(i3)),i3}var o3={},l3={},c3={},u3={},U$;function $se(){return U$||(U$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(u3)),u3}var d3={},Q$;function Kse(){return Q$||(Q$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(d3)),d3}var A3={},H$;function eR(){return H$||(H$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(A3)),A3}var V$;function Sqe(){return V$||(V$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR(),r=$se(),n=Kse(),a=eR();function s(f,h,p){return typeof p!="function"?t.isMatch(f,h):i(f,h,function v(g,b,y,_,S,B){const k=p(g,b,y,_,S,B);return k!==void 0?!!k:i(g,b,v,B)},new Map)}function i(f,h,p,v){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,p,v);case"function":return Object.keys(h).length>0?i(f,{...h},p,v):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,p,v){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,v);if(h instanceof Map)return l(f,h,p,v);if(h instanceof Set)return d(f,h,p,v);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(v&&v.has(h))return v.get(h)===f;v&&v.set(h,f);try{for(let b=0;b<g.length;b++){const y=g[b];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!p(f[y],h[y],y,f,h,v))return!1}return!0}finally{v&&v.delete(h)}}function l(f,h,p,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,b]of h.entries()){const y=f.get(g);if(p(y,b,g,f,h,v)===!1)return!1}return!0}function u(f,h,p,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let b=0;b<h.length;b++){const y=h[b];let _=!1;for(let S=0;S<f.length;S++){if(g.has(S))continue;const B=f[S];let k=!1;if(p(B,y,b,f,h,v)&&(k=!0),k){g.add(S),_=!0;break}}if(!_)return!1}return!0}function d(f,h,p,v){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,v):!1}e.isMatchWith=s,e.isSetMatch=d}(c3)),c3}var z$;function tR(){return z$||(z$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sqe();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(l3)),l3}var f3={},h3={},m3={},$$;function Gse(){return $$||($$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(m3)),m3}var p3={},K$;function rR(){return K$||(K$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(p3)),p3}var g3={},G$;function nR(){return G$||(G$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",v="[object Error]",g="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",_="[object Uint16Array]",S="[object Uint32Array]",B="[object BigUint64Array]",k="[object Int8Array]",O="[object Int16Array]",w="[object Int32Array]",C="[object BigInt64Array]",N="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=B,e.booleanTag=a,e.dataViewTag=g,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=N,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=w,e.int8ArrayTag=k,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=_,e.uint32ArrayTag=S,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y}(g3)),g3}var v3={},q$;function Nqe(){return q$||(q$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(v3)),v3}var W$;function qse(){return W$||(W$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gse(),r=rR(),n=nR(),a=Kse(),s=Nqe();function i(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,p=new Map,v=void 0){const g=v==null?void 0:v(d,f,h,p);if(g!=null)return g;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const b=new Array(d.length);p.set(d,b);for(let y=0;y<d.length;y++)b[y]=o(d[y],y,h,p,v);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;p.set(d,b);for(const[y,_]of d)b.set(y,o(_,y,h,p,v));return b}if(d instanceof Set){const b=new Set;p.set(d,b);for(const y of d)b.add(o(y,void 0,h,p,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,b);for(let y=0;y<d.length;y++)b[y]=o(d[y],y,h,p,v);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,b),l(b,d,h,p,v),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return p.set(d,b),l(b,d,h,p,v),b}if(d instanceof Blob){const b=new Blob([d],{type:d.type});return p.set(d,b),l(b,d,h,p,v),b}if(d instanceof Error){const b=new d.constructor;return p.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,h,p,v),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return p.set(d,b),l(b,d,h,p,v),b}return d}function l(d,f,h=d,p,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<g.length;b++){const y=g[b],_=Object.getOwnPropertyDescriptor(d,y);(_==null||_.writable)&&(d[y]=o(f[y],y,h,p,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=o,e.copyProperties=l}(h3)),h3}var X$;function kqe(){return X$||(X$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qse();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(f3)),f3}var Y$;function Bqe(){return Y$||(Y$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR(),r=kqe();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n}(o3)),o3}var x3={},b3={},y3={},J$;function Tqe(){return J$||(J$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qse(),r=nR();function n(a,s){return t.cloneDeepWith(a,(i,o,l,u)=>{const d=s==null?void 0:s(i,o,l,u);if(d!=null)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n}(y3)),y3}var Z$;function Iqe(){return Z$||(Z$=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tqe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(b3)),b3}var w3={},E3={},eK;function Wse(){return eK||(eK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(E3)),E3}var C3={},tK;function jqe(){return tK||(tK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(C3)),C3}var rK;function Fqe(){return rK||(rK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rse(),r=Wse(),n=jqe(),a=WP();function s(i,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(i==null?void 0:i[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let u=i;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s}(w3)),w3}var nK;function Oqe(){return nK||(nK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR(),r=Lse(),n=Iqe(),a=XP(),s=Fqe();function i(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const d=a.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=i}(x3)),x3}var aK;function aR(){return aK||(aK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a4(),r=_qe(),n=Bqe(),a=Oqe();function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s}(s3)),s3}var sK;function Dqe(){return sK||(sK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yqe(),r=a4(),n=Cqe(),a=aR();function s(i,o=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(o)):[]}e.uniqBy=s}(JT)),JT}var _3,iK;function Pqe(){return iK||(iK=1,_3=Dqe().uniqBy),_3}var Rqe=Pqe();const oK=hl(Rqe);function Lqe(e,t,r){return t===!0?oK(e,r):typeof t=="function"?oK(e,t):e}var sR=I.createContext(null),Mqe=e=>e,ss=()=>{var e=I.useContext(sR);return e?e.store.dispatch:Mqe},p_=()=>{},Uqe=()=>p_,Qqe=(e,t)=>e===t;function nr(e){var t=I.useContext(sR);return pre.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Uqe,t?t.store.getState:p_,t?t.store.getState:p_,t?e:p_,Qqe)}function Hqe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Vqe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zqe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var lK=e=>Array.isArray(e)?e:[e];function $qe(e){const t=Array.isArray(e[0])?e[0]:e;return zqe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Kqe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Gqe=class{constructor(e){this.value=e}deref(){return this.value}},qqe=typeof WeakRef<"u"?WeakRef:Gqe,Wqe=0,cK=1;function gC(){return{s:Wqe,v:void 0,o:null,p:null}}function Xse(e,t={}){let r=gC();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const b=g.get(v);b===void 0?(o=gC(),g.set(v,o)):o=b}else{let g=o.p;g===null&&(o.p=g=new Map);const b=g.get(v);b===void 0?(o=gC(),g.set(v,o)):o=b}}const u=o;let d;if(o.s===cK)d=o.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new qqe(d):d}return u.s=cK,u.v=d,d}return i.clearCache=()=>{r=gC(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Xqe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,o,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),Hqe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=Xse,argsMemoizeOptions:v=[]}=d,g=lK(h),b=lK(v),y=$qe(a),_=f(function(){return s++,u.apply(null,arguments)},...g),S=p(function(){i++;const k=Kqe(y,arguments);return o=_.apply(null,k),o},...b);return Object.assign(S,{resultFunc:u,memoizedResultFunc:_,dependencies:y,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var dt=Xqe(Xse),Yqe=Object.assign((e,t=dt)=>{Vqe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,o,l)=>(i[r[l]]=o,i),{}))},{withTypes:()=>Yqe}),S3={},N3={},k3={},uK;function Jqe(){return uK||(uK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),o=t(a);if(i===o&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-i:i-o}return 0};e.compareValues=r}(k3)),k3}var B3={},T3={},dK;function Yse(){return dK||(dK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(T3)),T3}var AK;function Zqe(){return AK||(AK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yse(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a}(B3)),B3}var fK;function eWe(){return fK||(fK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jqe(),r=Zqe(),n=WP();function a(s,i,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,v)=>{let g=p;for(let b=0;b<v.length&&g!=null;++b)g=g[v[b]];return g},d=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:u(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?u(v,p):typeof v=="object"?v[p]:v,f=i.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(v=>d(v,p))})).slice().sort((p,v)=>{for(let g=0;g<f.length;g++){const b=t.compareValues(p.criteria[g],v.criteria[g],o[g]);if(b!==0)return b}return 0}).map(p=>p.original)}e.orderBy=a}(N3)),N3}var I3={},hK;function tWe(){return hK||(hK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?i(d,l+1):a.push(d)}};return i(r,0),a}e.flatten=t}(I3)),I3}var j3={},mK;function Jse(){return mK||(mK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wse(),r=ZP(),n=$se(),a=eR();function s(i,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],i):!1}e.isIterateeCall=s}(j3)),j3}var pK;function rWe(){return pK||(pK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eWe(),r=tWe(),n=Jse();function a(s,...i){const o=i.length;return o>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:o>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a}(S3)),S3}var F3,gK;function nWe(){return gK||(gK=1,F3=rWe().sortBy),F3}var aWe=nWe();const s4=hl(aWe);var Zse=e=>e.legend.settings,sWe=e=>e.legend.size,iWe=e=>e.legend.payload;dt([iWe,Zse],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?s4(n,r):n});var vC=1;function oWe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=I.useState({height:0,left:0,top:0,width:0}),n=I.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>vC||Math.abs(i.left-t.left)>vC||Math.abs(i.top-t.top)>vC||Math.abs(i.width-t.width)>vC)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ro(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lWe=typeof Symbol=="function"&&Symbol.observable||"@@observable",vK=lWe,O3=()=>Math.random().toString(36).substring(7).split("").join("."),cWe={INIT:`@@redux/INIT${O3()}`,REPLACE:`@@redux/REPLACE${O3()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${O3()}`},KS=cWe;function iR(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function eie(e,t,r){if(typeof e!="function")throw new Error(ro(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ro(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ro(1));return r(eie)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,l=!1;function u(){i===s&&(i=new Map,s.forEach((b,y)=>{i.set(y,b)}))}function d(){if(l)throw new Error(ro(3));return a}function f(b){if(typeof b!="function")throw new Error(ro(4));if(l)throw new Error(ro(5));let y=!0;u();const _=o++;return i.set(_,b),function(){if(y){if(l)throw new Error(ro(6));y=!1,u(),i.delete(_),s=null}}}function h(b){if(!iR(b))throw new Error(ro(7));if(typeof b.type>"u")throw new Error(ro(8));if(typeof b.type!="string")throw new Error(ro(17));if(l)throw new Error(ro(9));try{l=!0,a=n(a,b)}finally{l=!1}return(s=i).forEach(_=>{_()}),b}function p(b){if(typeof b!="function")throw new Error(ro(10));n=b,h({type:KS.REPLACE})}function v(){const b=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ro(11));function _(){const B=y;B.next&&B.next(d())}return _(),{unsubscribe:b(_)}},[vK](){return this}}}return h({type:KS.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[vK]:v}}function uWe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:KS.INIT})>"u")throw new Error(ro(12));if(typeof r(void 0,{type:KS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ro(13))})}function tie(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{uWe(r)}catch(s){a=s}return function(i={},o){if(a)throw a;let l=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=i[f],v=h(p,o);if(typeof v>"u")throw o&&o.type,new Error(ro(14));u[f]=v,l=l||v!==p}return l=l||n.length!==Object.keys(i).length,l?u:i}}function GS(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function dWe(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(ro(15))};const i={getState:a.getState,dispatch:(l,...u)=>s(l,...u)},o=e.map(l=>l(i));return s=GS(...o)(a.dispatch),{...a,dispatch:s}}}function rie(e){return iR(e)&&"type"in e&&typeof e.type=="string"}var nie=Symbol.for("immer-nothing"),xK=Symbol.for("immer-draftable"),Bc=Symbol.for("immer-state");function od(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vx=Object.getPrototypeOf;function Pp(e){return!!e&&!!e[Bc]}function Yf(e){var t;return e?aie(e)||Array.isArray(e)||!!e[xK]||!!((t=e.constructor)!=null&&t[xK])||o4(e)||l4(e):!1}var AWe=Object.prototype.constructor.toString();function aie(e){if(!e||typeof e!="object")return!1;const t=vx(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===AWe}function qS(e,t){i4(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function i4(e){const t=e[Bc];return t?t.type_:Array.isArray(e)?1:o4(e)?2:l4(e)?3:0}function GF(e,t){return i4(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sie(e,t,r){const n=i4(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function fWe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function o4(e){return e instanceof Map}function l4(e){return e instanceof Set}function Um(e){return e.copy_||e.base_}function qF(e,t){if(o4(e))return new Map(e);if(l4(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=aie(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Bc];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(vx(e),n)}else{const n=vx(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function oR(e,t=!1){return c4(e)||Pp(e)||!Yf(e)||(i4(e)>1&&(e.set=e.add=e.clear=e.delete=hWe),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>oR(n,!0))),e}function hWe(){od(2)}function c4(e){return Object.isFrozen(e)}var mWe={};function Rp(e){const t=mWe[e];return t||od(0,e),t}var Zy;function iie(){return Zy}function pWe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bK(e,t){t&&(Rp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function WF(e){XF(e),e.drafts_.forEach(gWe),e.drafts_=null}function XF(e){e===Zy&&(Zy=e.parent_)}function yK(e){return Zy=pWe(Zy,e)}function gWe(e){const t=e[Bc];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wK(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Bc].modified_&&(WF(t),od(4)),Yf(e)&&(e=WS(t,e),t.parent_||XS(t,e)),t.patches_&&Rp("Patches").generateReplacementPatches_(r[Bc].base_,e,t.patches_,t.inversePatches_)):e=WS(t,r,[]),WF(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nie?e:void 0}function WS(e,t,r){if(c4(t))return t;const n=t[Bc];if(!n)return qS(t,(a,s)=>EK(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return XS(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),qS(s,(o,l)=>EK(e,n,a,o,l,r,i)),XS(e,a,!1),r&&e.patches_&&Rp("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function EK(e,t,r,n,a,s,i){if(Pp(a)){const o=s&&t&&t.type_!==3&&!GF(t.assigned_,n)?s.concat(n):void 0,l=WS(e,a,o);if(sie(r,n,l),Pp(l))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Yf(a)&&!c4(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;WS(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&XS(e,a)}}function XS(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&oR(t,r)}function vWe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:iie(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=lR;r&&(a=[n],s=ew);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var lR={get(e,t){if(t===Bc)return e;const r=Um(e);if(!GF(r,t))return xWe(e,r,t);const n=r[t];return e.finalized_||!Yf(n)?n:n===D3(e.base_,t)?(P3(e),e.copy_[t]=JF(n,e)):n},has(e,t){return t in Um(e)},ownKeys(e){return Reflect.ownKeys(Um(e))},set(e,t,r){const n=oie(Um(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=D3(Um(e),t),s=a==null?void 0:a[Bc];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(fWe(r,a)&&(r!==void 0||GF(e.base_,t)))return!0;P3(e),YF(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return D3(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,P3(e),YF(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Um(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){od(11)},getPrototypeOf(e){return vx(e.base_)},setPrototypeOf(){od(12)}},ew={};qS(lR,(e,t)=>{ew[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ew.deleteProperty=function(e,t){return ew.set.call(this,e,t,void 0)};ew.set=function(e,t,r){return lR.set.call(this,e[0],t,r,e[0])};function D3(e,t){const r=e[Bc];return(r?Um(r):e)[t]}function xWe(e,t,r){var a;const n=oie(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function oie(e,t){if(!(t in e))return;let r=vx(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=vx(r)}}function YF(e){e.modified_||(e.modified_=!0,e.parent_&&YF(e.parent_))}function P3(e){e.copy_||(e.copy_=qF(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bWe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(l=s,...u){return i.produce(l,d=>r.call(this,d,...u))}}typeof r!="function"&&od(6),n!==void 0&&typeof n!="function"&&od(7);let a;if(Yf(t)){const s=yK(this),i=JF(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?WF(s):XF(s)}return bK(s,n),wK(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===nie&&(a=void 0),this.autoFreeze_&&oR(a,!0),n){const s=[],i=[];Rp("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else od(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,l=>t(l,...o));let n,a;return[this.produce(t,r,(i,o)=>{n=i,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Yf(e)||od(8),Pp(e)&&(e=Pf(e));const t=yK(this),r=JF(e,void 0);return r[Bc].isManual_=!0,XF(t),r}finishDraft(e,t){const r=e&&e[Bc];(!r||!r.isManual_)&&od(9);const{scope_:n}=r;return bK(n,t),wK(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Rp("Patches").applyPatches_;return Pp(e)?n(e,t):this.produce(e,a=>n(a,t))}};function JF(e,t){const r=o4(e)?Rp("MapSet").proxyMap_(e,t):l4(e)?Rp("MapSet").proxySet_(e,t):vWe(e,t);return(t?t.scope_:iie()).drafts_.push(r),r}function Pf(e){return Pp(e)||od(10,e),lie(e)}function lie(e){if(!Yf(e)||c4(e))return e;const t=e[Bc];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=qF(e,t.scope_.immer_.useStrictShallowCopy_)}else r=qF(e,!0);return qS(r,(n,a)=>{sie(r,n,lie(a))}),t&&(t.finalized_=!1),r}var Tc=new bWe,cie=Tc.produce;Tc.produceWithPatches.bind(Tc);Tc.setAutoFreeze.bind(Tc);Tc.setUseStrictShallowCopy.bind(Tc);Tc.applyPatches.bind(Tc);Tc.createDraft.bind(Tc);Tc.finishDraft.bind(Tc);function uie(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var yWe=uie(),wWe=uie,EWe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?GS:GS.apply(null,arguments)};function Su(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(_c(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>rie(n)&&n.type===e,r}var die=class Pb extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pb.prototype)}static get[Symbol.species](){return Pb}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pb(...t[0].concat(this)):new Pb(...t.concat(this))}};function CK(e){return Yf(e)?cie(e,()=>{}):e}function xC(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function CWe(e){return typeof e=="boolean"}var _We=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new die;return r&&(CWe(r)?i.push(yWe):i.push(wWe(r.extraArgument))),i},SWe="RTK_autoBatch",_K=e=>t=>{setTimeout(t,e)},NWe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_K(10):e.type==="callback"?e.queueNotification:_K(e.timeout),u=()=>{i=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[SWe]),s=!a,s&&(i||(i=!0,l(u))),n.dispatch(d)}finally{a=!0}}})},kWe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new die(e);return n&&a.push(NWe(typeof n=="object"?n:void 0)),a};function BWe(e){const t=_We(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(iR(r))o=tie(r);else throw new Error(_c(1));let l;typeof n=="function"?l=n(t):l=t();let u=GS;a&&(u=EWe({trace:!1,...typeof a=="object"&&a}));const d=dWe(...l),f=kWe(d);let h=typeof i=="function"?i(f):f();const p=u(...h);return eie(o,s,p)}function Aie(e){const t={},r=[];let n;const a={addCase(s,i){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(_c(28));if(o in t)throw new Error(_c(29));return t[o]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function TWe(e){return typeof e=="function"}function IWe(e,t){let[r,n,a]=Aie(t),s;if(TWe(e))s=()=>CK(e());else{const o=CK(e);s=()=>o}function i(o=s(),l){let u=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Pp(d)){const p=f(d,l);return p===void 0?d:p}else{if(Yf(d))return cie(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return i.getInitialState=s,i}var jWe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",FWe=(e=21)=>{let t="",r=e;for(;r--;)t+=jWe[Math.random()*64|0];return t},OWe=Symbol.for("rtk-slice-createasyncthunk");function DWe(e,t){return`${e}/${t}`}function PWe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[OWe];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(_c(11));const o=(typeof a.reducers=="function"?a.reducers(LWe()):a.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(B,k){const O=typeof B=="string"?B:B.type;if(!O)throw new Error(_c(12));if(O in u.sliceCaseReducersByType)throw new Error(_c(13));return u.sliceCaseReducersByType[O]=k,d},addMatcher(B,k){return u.sliceMatchers.push({matcher:B,reducer:k}),d},exposeAction(B,k){return u.actionCreators[B]=k,d},exposeCaseReducer(B,k){return u.sliceCaseReducersByName[B]=k,d}};l.forEach(B=>{const k=o[B],O={reducerName:B,type:DWe(s,B),createNotation:typeof a.reducers=="function"};UWe(k)?HWe(O,k,d,t):MWe(O,k,d)});function f(){const[B={},k=[],O=void 0]=typeof a.extraReducers=="function"?Aie(a.extraReducers):[a.extraReducers],w={...B,...u.sliceCaseReducersByType};return IWe(a.initialState,C=>{for(let N in w)C.addCase(N,w[N]);for(let N of u.sliceMatchers)C.addMatcher(N.matcher,N.reducer);for(let N of k)C.addMatcher(N.matcher,N.reducer);O&&C.addDefaultCase(O)})}const h=B=>B,p=new Map,v=new WeakMap;let g;function b(B,k){return g||(g=f()),g(B,k)}function y(){return g||(g=f()),g.getInitialState()}function _(B,k=!1){function O(C){let N=C[B];return typeof N>"u"&&k&&(N=xC(v,O,y)),N}function w(C=h){const N=xC(p,k,()=>new WeakMap);return xC(N,C,()=>{const P={};for(const[j,F]of Object.entries(a.selectors??{}))P[j]=RWe(F,C,()=>xC(v,C,y),k);return P})}return{reducerPath:B,getSelectors:w,get selectors(){return w(O)},selectSlice:O}}const S={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,..._(i),injectInto(B,{reducerPath:k,...O}={}){const w=k??i;return B.inject({reducerPath:w,reducer:b},O),{...S,..._(w,!0)}}};return S}}function RWe(e,t,r,n){function a(s,...i){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...i)}return a.unwrapped=e,a}var jc=PWe();function LWe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function MWe({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!QWe(n))throw new Error(_c(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?Su(e,i):Su(e))}function UWe(e){return e._reducerDefinitionType==="asyncThunk"}function QWe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function HWe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(_c(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:l,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||bC,pending:o||bC,rejected:l||bC,settled:u||bC})}function bC(){}var VWe="task",fie="listener",hie="completed",cR="cancelled",zWe=`task-${cR}`,$We=`task-${hie}`,ZF=`${fie}-${cR}`,KWe=`${fie}-${hie}`,u4=class{constructor(e){Rk(this,"name","TaskAbortError");Rk(this,"message");this.code=e,this.message=`${VWe} ${cR} (reason: ${e})`}},uR=(e,t)=>{if(typeof e!="function")throw new TypeError(_c(32))},YS=()=>{},mie=(e,t=YS)=>(e.catch(t),e),pie=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),vp=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},xp=e=>{if(e.aborted){const{reason:t}=e;throw new u4(t)}};function gie(e,t){let r=YS;return new Promise((n,a)=>{const s=()=>a(new u4(e.reason));if(e.aborted){s();return}r=pie(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=YS})}var GWe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof u4?"cancelled":"rejected",error:r}}finally{t==null||t()}},JS=e=>t=>mie(gie(e,t).then(r=>(xp(e),r))),vie=e=>{const t=JS(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Kv}=Object,SK={},d4="listenerMiddleware",qWe=(e,t)=>{const r=n=>pie(e,()=>vp(n,e.reason));return(n,a)=>{uR(n);const s=new AbortController;r(s);const i=GWe(async()=>{xp(e),xp(s.signal);const o=await n({pause:JS(s.signal),delay:vie(s.signal),signal:s.signal});return xp(s.signal),o},()=>vp(s,$We));return a!=null&&a.autoJoin&&t.push(i.catch(YS)),{result:JS(e)(i),cancel(){vp(s,zWe)}}}},WWe=(e,t)=>{const r=async(n,a)=>{xp(t);let s=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await gie(t,Promise.race(o));return xp(t),l}finally{s()}};return(n,a)=>mie(r(n,a))},xie=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Su(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(_c(21));return uR(s),{predicate:a,type:t,effect:s}},bie=Kv(e=>{const{type:t,predicate:r,effect:n}=xie(e);return{id:FWe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(_c(22))}}},{withTypes:()=>bie}),NK=(e,t)=>{const{type:r,effect:n,predicate:a}=xie(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},e6=e=>{e.pending.forEach(t=>{vp(t,ZF)})},XWe=e=>()=>{e.forEach(e6),e.clear()},kK=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},yie=Kv(Su(`${d4}/add`),{withTypes:()=>yie}),YWe=Su(`${d4}/removeAll`),wie=Kv(Su(`${d4}/remove`),{withTypes:()=>wie}),JWe=(...e)=>{console.error(`${d4}/error`,...e)},$w=(e={})=>{const t=new Map,{extra:r,onError:n=JWe}=e;uR(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&e6(d)}),s=d=>{const f=NK(t,d)??bie(d);return a(f)};Kv(s,{withTypes:()=>s});const i=d=>{const f=NK(t,d);return f&&(f.unsubscribe(),d.cancelActive&&e6(f)),!!f};Kv(i,{withTypes:()=>i});const o=async(d,f,h,p)=>{const v=new AbortController,g=WWe(s,v.signal),b=[];try{d.pending.add(v),await Promise.resolve(d.effect(f,Kv({},h,{getOriginalState:p,condition:(y,_)=>g(y,_).then(Boolean),take:g,delay:vie(v.signal),pause:JS(v.signal),extra:r,signal:v.signal,fork:qWe(v.signal,b),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,_,S)=>{y!==v&&(vp(y,ZF),S.delete(y))})},cancel:()=>{vp(v,ZF),d.pending.delete(v)},throwIfCancelled:()=>{xp(v.signal)}})))}catch(y){y instanceof u4||kK(n,y,{raisedBy:"effect"})}finally{await Promise.all(b),vp(v,KWe),d.pending.delete(v)}},l=XWe(t);return{middleware:d=>f=>h=>{if(!rie(h))return f(h);if(yie.match(h))return s(h.payload);if(YWe.match(h)){l();return}if(wie.match(h))return i(h.payload);let p=d.getState();const v=()=>{if(p===SK)throw new Error(_c(23));return p};let g;try{if(g=f(h),t.size>0){const b=d.getState(),y=Array.from(t.values());for(const _ of y){let S=!1;try{S=_.predicate(h,b,p)}catch(B){S=!1,kK(n,B,{raisedBy:"predicate"})}S&&o(_,h,d,v)}}}finally{p=SK}return g},startListening:s,stopListening:i,clearListeners:l}};function _c(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZWe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Eie=jc({name:"chartLayout",initialState:ZWe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:eXe,setLayout:tXe,setChartSize:rXe,setScale:nXe}=Eie.actions,aXe=Eie.reducer;function BK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BK(Object(r),!0).forEach(function(n){sXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sXe(e,t,r){return(t=iXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iXe(e){var t=oXe(e,"string");return typeof t=="symbol"?t:t+""}function oXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZS=Math.PI/180,lXe=e=>e*180/Math.PI,Gn=(e,t,r,n)=>({x:e+Math.cos(-ZS*n)*r,y:t+Math.sin(-ZS*n)*r}),Cie=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cXe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},uXe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=cXe({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-a)/i,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:i,angle:lXe(l),angleInRadian:l}},dXe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},AXe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},fXe=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:s}=uXe({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o||a===0)return null;var{startAngle:l,endAngle:u}=dXe(t),d=s,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?TK(TK({},t),{},{radius:a,angle:AXe(d,t)}):null},_ie=e=>!I.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function Sie(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function IK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IK(Object(r),!0).forEach(function(n){hXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hXe(e,t,r){return(t=mXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mXe(e){var t=pXe(e,"string");return typeof t=="symbol"?t:t+""}function pXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ja(e,t,r){return ws(e)||ws(t)?r:IA(t)?X0(e,t,r):typeof t=="function"?t(e):r}var gXe=(e,t,r,n,a)=>{var s,i=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(zi(d-u)!==zi(f-d)){var p=[];if(zi(f-d)===zi(a[1]-a[0])){h=f;var v=d+a[1]-a[0];p[0]=Math.min(v,(v+u)/2),p[1]=Math.max(v,(v+u)/2)}else{h=u;var g=f+a[1]-a[0];p[0]=Math.min(d,(g+d)/2),p[1]=Math.max(d,(g+d)/2)}var b=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){({index:i}=r[l]);break}}else{var y=Math.min(u,f),_=Math.max(u,f);if(e>(y+d)/2&&e<=(_+d)/2){({index:i}=r[l]);break}}}else if(t){for(var S=0;S<o;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:i}=t[S]);break}}return i},vXe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if((o==="vertical"||o==="horizontal"&&i==="middle")&&s!=="center"&&or(e[s]))return hu(hu({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&i!=="middle"&&or(e[i]))return hu(hu({},e),{},{[i]:e[i]+(a||0)})}return e},im=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Nie=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,i=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||i.push(t),s||i.push(r),i},kie=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!i)return null;var v=o==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=a==="category"&&i.bandwidth?i.bandwidth()/v:0;if(g=p==="angleAxis"&&s&&s.length>=2?zi(s[0]-s[1])*2*g:g,f||h){var b=(f||h||[]).map((y,_)=>{var S=n?n.indexOf(y):y;return{coordinate:i(S)+g,value:y,offset:g,index:_}});return b.filter(y=>!kc(y.coordinate))}return l&&u?u.map((y,_)=>({coordinate:i(y)+g,value:y,index:_,offset:g})):i.ticks&&d!=null?i.ticks(d).map((y,_)=>({coordinate:i(y)+g,value:y,offset:g,index:_})):i.domain().map((y,_)=>({coordinate:i(y)+g,value:n?n[y]:y,index:_,offset:g}))},jK=1e-4,xXe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-jK,s=Math.max(n[0],n[1])+jK,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},bXe=(e,t)=>{if(!t||t.length!==2||!or(t[0])||!or(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!or(e[0])||e[0]<r)&&(a[0]=r),(!or(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},yXe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=kc(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},wXe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=kc(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},EXe={sign:yXe,expand:h$e,none:px,silhouette:m$e,wiggle:p$e,positive:wXe},CXe=(e,t,r)=>{var n=EXe[r],a=f$e().keys(t).value((s,i)=>+ja(s,i,0)).order(IF).offset(n);return a(e)};function _Xe(e){return e==null?void 0:String(e)}var FK=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var o=ja(s,t.dataKey,t.scale.domain()[i]);return ws(o)?null:t.scale(o)-a/2+n},SXe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},NXe=e=>{var t=e.flat(2).filter(or);return[Math.min(...t),Math.max(...t)]},kXe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],BXe=(e,t,r)=>{if(e!=null)return kXe(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((l,u)=>{var d=Sie(u,t,r),f=NXe(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},OK=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DK=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tw=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=s4(t,d=>d.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],u=a[i-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function PK(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return hu(hu({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Vx(e,t){if(e)return String(e);if(typeof t=="string")return t}function TXe(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var s=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return s?{x:e,y:t}:null}return n?fXe({x:e,y:t},n):null}var IXe=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,{radius:i}=n;return hu(hu(hu({},n),Gn(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=n;return hu(hu(hu({},n),Gn(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},jXe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,oh=e=>e.layout.width,lh=e=>e.layout.height,FXe=e=>e.layout.scale,Bie=e=>e.layout.margin,dR=dt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),AR=dt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Tie="data-recharts-item-index",Iie="data-recharts-item-data-key",A4=60;function RK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RK(Object(r),!0).forEach(function(n){OXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OXe(e,t,r){return(t=DXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DXe(e){var t=PXe(e,"string");return typeof t=="symbol"?t:t+""}function PXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RXe=e=>e.brush.height,Ci=dt([oh,lh,Bie,RXe,dR,AR,Zse,sWe],(e,t,r,n,a,s,i,o)=>{var l=s.reduce((v,g)=>{var{orientation:b}=g;if(!g.mirror&&!g.hide){var y=typeof g.width=="number"?g.width:A4;return Yh(Yh({},v),{},{[b]:v[b]+y})}return v},{left:r.left||0,right:r.right||0}),u=a.reduce((v,g)=>{var{orientation:b}=g;return!g.mirror&&!g.hide?Yh(Yh({},v),{},{[b]:X0(v,"".concat(b))+g.height}):v},{top:r.top||0,bottom:r.bottom||0}),d=Yh(Yh({},u),l),f=d.bottom;d.bottom+=n,d=vXe(d,i,o);var h=e-d.left-d.right,p=t-d.top-d.bottom;return Yh(Yh({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(p,0)})}),LXe=dt(Ci,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),jie=dt(oh,lh,(e,t)=>({x:0,y:0,width:e,height:t})),MXe=I.createContext(null),Kl=()=>I.useContext(MXe)!=null,f4=e=>e.brush,h4=dt([f4,Ci,Bie],(e,t,r)=>({height:e.height,x:or(e.x)?e.x:t.left,y:or(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:or(e.width)?e.width:t.width})),fR=()=>{var e,t=Kl(),r=nr(LXe),n=nr(h4),a=(e=nr(f4))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},UXe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Fie=()=>{var e;return(e=nr(Ci))!==null&&e!==void 0?e:UXe},Oie=()=>nr(oh),Die=()=>nr(lh),yn=e=>e.layout.layoutType,hR=()=>nr(yn),QXe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Pie=jc({name:"legend",initialState:QXe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Pf(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Ect,setLegendSettings:Cct,addLegendPayload:Rie,removeLegendPayload:Lie}=Pie.actions,HXe=Pie.reducer;function t6(){return t6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t6.apply(null,arguments)}function LK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LK(Object(r),!0).forEach(function(n){VXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VXe(e,t,r){return(t=zXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zXe(e){var t=$Xe(e,"string");return typeof t=="symbol"?t:t+""}function $Xe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KXe(e){return Array.isArray(e)&&IA(e[0])&&IA(e[1])?e.join(" ~ "):e}var GXe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(s&&s.length){var k={padding:0,margin:0},O=(o?s4(s,o):s).map((w,C)=>{if(w.type==="none")return null;var N=w.formatter||i||KXe,{value:P,name:j}=w,F=P,M=j;if(N){var Q=N(P,j,w,C,s);if(Array.isArray(Q))[F,M]=Q;else if(Q!=null)F=Q;else return null}var J=R3({display:"block",paddingTop:4,paddingBottom:4,color:w.color||"#000"},n);return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:J},IA(M)?I.createElement("span",{className:"recharts-tooltip-item-name"},M):null,IA(M)?I.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,I.createElement("span",{className:"recharts-tooltip-item-value"},F),I.createElement("span",{className:"recharts-tooltip-item-unit"},w.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:k},O)}return null},v=R3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=R3({margin:0},a),b=!ws(d),y=b?d:"",_=fn("recharts-default-tooltip",l),S=fn("recharts-tooltip-label",u);b&&f&&s!==void 0&&s!==null&&(y=f(d,s));var B=h?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",t6({className:_,style:v},B),I.createElement("p",{className:S,style:g},I.isValidElement(y)?y:"".concat(y)),p())},cb="recharts-tooltip-wrapper",qXe={visibility:"hidden"};function WXe(e){var{coordinate:t,translateX:r,translateY:n}=e;return fn(cb,{["".concat(cb,"-right")]:or(r)&&t&&or(t.x)&&r>=t.x,["".concat(cb,"-left")]:or(r)&&t&&or(t.x)&&r<t.x,["".concat(cb,"-bottom")]:or(n)&&t&&or(t.y)&&n>=t.y,["".concat(cb,"-top")]:or(n)&&t&&or(t.y)&&n<t.y})}function MK(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(s&&or(s[n]))return s[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var h=l[n];if(h==null)return 0;if(i[n]){var p=d,v=h;return p<v?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var g=f+o,b=h+u;return g>b?Math.max(d,h):Math.max(f,h)}function XXe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function YXe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:o,viewBox:l}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=MK({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=MK({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),u=XXe({translateX:d,translateY:f,useTranslate3d:o})):u=qXe,{cssProperties:u,cssClasses:WXe({translateX:d,translateY:f,coordinate:r})}}function UK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UK(Object(r),!0).forEach(function(n){r6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r6(e,t,r){return(t=JXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JXe(e){var t=ZXe(e,"string");return typeof t=="symbol"?t:t+""}function ZXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eYe extends I.PureComponent{constructor(){super(...arguments),r6(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),r6(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:v,lastBoundingBox:g,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:_,cssProperties:S}=YXe({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),B=y?{}:yC(yC({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=yC(yC({},B),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return I.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:k,ref:b},s)}}var tYe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),eg={isSsr:tYe()},Mie=()=>nr(e=>e.rootProps.accessibilityLayer);function Ic(e){return Number.isFinite(e)}function xx(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function n6(){return n6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n6.apply(null,arguments)}function QK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QK(Object(r),!0).forEach(function(n){rYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rYe(e,t,r){return(t=nYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nYe(e){var t=aYe(e,"string");return typeof t=="symbol"?t:t+""}function aYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VK={curveBasisClosed:r$e,curveBasisOpen:n$e,curveBasis:t$e,curveBumpX:Qze,curveBumpY:Hze,curveLinearClosed:a$e,curveLinear:WN,curveMonotoneX:s$e,curveMonotoneY:i$e,curveNatural:o$e,curveStep:l$e,curveStepAfter:u$e,curveStepBefore:c$e},wC=e=>Ic(e.x)&&Ic(e.y),ub=e=>e.x,db=e=>e.y,sYe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Vw(e));return(r==="curveMonotone"||r==="curveBump")&&t?VK["".concat(r).concat(t==="vertical"?"Y":"X")]:VK[r]||WN},iYe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=sYe(t,a),o=s?r.filter(wC):r,l;if(Array.isArray(n)){var u=s?n.filter(f=>wC(f)):n,d=o.map((f,h)=>HK(HK({},f),{},{base:u[h]}));return a==="vertical"?l=lC().y(db).x1(ub).x0(f=>f.base.x):l=lC().x(ub).y1(db).y0(f=>f.base.y),l.defined(wC).curve(i),l(d)}return a==="vertical"&&or(n)?l=lC().y(db).x1(ub).x0(n):or(n)?l=lC().x(ub).y1(db).y0(n):l=Rae().x(ub).y(db),l.defined(wC).curve(i),l(o)},Uie=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?iYe(e):n;return I.createElement("path",n6({},Xo(e),JP(e),{className:fn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},oYe=["x","y","top","left","width","height","className"];function a6(){return a6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a6.apply(null,arguments)}function zK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lYe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zK(Object(r),!0).forEach(function(n){cYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cYe(e,t,r){return(t=uYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uYe(e){var t=dYe(e,"string");return typeof t=="symbol"?t:t+""}function dYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AYe(e,t){if(e==null)return{};var r,n,a=fYe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fYe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hYe=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),mYe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:o}=e,l=AYe(e,oYe),u=lYe({x:t,y:r,top:n,left:a,width:s,height:i},l);return!or(t)||!or(r)||!or(s)||!or(i)||!or(n)||!or(a)?null:I.createElement("path",a6({},Hn(u,!0),{className:fn("recharts-cross",o),d:hYe(t,r,s,i,n,a)}))};function pYe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function $K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gYe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$K(Object(r),!0).forEach(function(n){vYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$K(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vYe(e,t,r){return(t=xYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xYe(e){var t=bYe(e,"string");return typeof t=="symbol"?t:t+""}function bYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tu(e,t){var r=gYe({},e),n=t,a=Object.keys(t),s=a.reduce((i,o)=>(i[o]===void 0&&n[o]!==void 0&&(i[o]=n[o]),i),r);return s}var L3={},M3={},U3={},KK;function yYe(){return KK||(KK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(U3)),U3}var GK;function wYe(){return GK||(GK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yYe(),r=Gse(),n=rR(),a=nR(),s=eR();function i(u,d,f){return o(u,d,void 0,void 0,void 0,void 0,f)}function o(u,d,f,h,p,v,g){const b=g(u,d,f,h,p,v);if(b!==void 0)return b;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return l(u,d,v,g)}return l(u,d,v,g)}function l(u,d,f,h){if(Object.is(u,d))return!0;let p=n.getTag(u),v=n.getTag(d);if(p===a.argumentsTag&&(p=a.objectTag),v===a.argumentsTag&&(v=a.objectTag),p!==v)return!1;switch(p){case a.stringTag:return u.toString()===d.toString();case a.numberTag:{const y=u.valueOf(),_=d.valueOf();return s.eq(y,_)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(u.valueOf(),d.valueOf());case a.regexpTag:return u.source===d.source&&u.flags===d.flags;case a.functionTag:return u===d}f=f??new Map;const g=f.get(u),b=f.get(d);if(g!=null&&b!=null)return g===d;f.set(u,d),f.set(d,u);try{switch(p){case a.mapTag:{if(u.size!==d.size)return!1;for(const[y,_]of u.entries())if(!d.has(y)||!o(_,d.get(y),y,u,d,f,h))return!1;return!0}case a.setTag:{if(u.size!==d.size)return!1;const y=Array.from(u.values()),_=Array.from(d.values());for(let S=0;S<y.length;S++){const B=y[S],k=_.findIndex(O=>o(B,O,void 0,u,d,f,h));if(k===-1)return!1;_.splice(k,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let y=0;y<u.length;y++)if(!o(u[y],d[y],y,u,d,f,h))return!1;return!0}case a.arrayBufferTag:return u.byteLength!==d.byteLength?!1:l(new Uint8Array(u),new Uint8Array(d),f,h);case a.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(d),f,h);case a.errorTag:return u.name===d.name&&u.message===d.message;case a.objectTag:{if(!(l(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const _=[...Object.keys(u),...r.getSymbols(u)],S=[...Object.keys(d),...r.getSymbols(d)];if(_.length!==S.length)return!1;for(let B=0;B<_.length;B++){const k=_[B],O=u[k];if(!Object.hasOwn(d,k))return!1;const w=d[k];if(!o(O,w,k,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=i}(M3)),M3}var Q3={},qK;function EYe(){return qK||(qK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Q3)),Q3}var WK;function CYe(){return WK||(WK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wYe(),r=EYe();function n(a,s){return t.isEqualWith(a,s,r.noop)}e.isEqual=n}(L3)),L3}var H3,XK;function _Ye(){return XK||(XK=1,H3=CYe().isEqual),H3}var SYe=_Ye();const NYe=hl(SYe);var e5=1e-4,Qie=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Hie=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),YK=(e,t)=>r=>{var n=Qie(e,t);return Hie(n,r)},kYe=(e,t)=>r=>{var n=Qie(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return Hie(a,r)},JK=function(){for(var t,r,n,a,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];if(i.length===1)switch(i[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var l=i[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,a]=l[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else i.length===4&&([t,n,r,a]=i);var u=YK(t,r),d=YK(n,a),f=kYe(t,r),h=v=>v>1?1:v<0?0:v,p=v=>{for(var g=v>1?1:v,b=g,y=0;y<8;++y){var _=u(b)-g,S=f(b);if(Math.abs(_-g)<e5||S<e5)return d(b);b=h(b-_/S)}return d(b)};return p.isStepper=!1,p},BYe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,o,l)=>{var u=-(i-o)*r,d=l*n,f=l+(u-d)*a/1e3,h=l*a/1e3+i;return Math.abs(h-o)<e5&&Math.abs(f)<e5?[o,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},Vie=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JK(e);case"spring":return BYe();default:if(e.split("(")[0]==="cubic-bezier")return JK(e)}return typeof e=="function"?e:null};function ZK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZK(Object(r),!0).forEach(function(n){TYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TYe(e,t,r){return(t=IYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IYe(e){var t=jYe(e,"string");return typeof t=="symbol"?t:t+""}function jYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FYe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),OYe=(e,t,r)=>e.map(n=>"".concat(FYe(n)," ").concat(t,"ms ").concat(r)).join(","),DYe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),rw=(e,t)=>Object.keys(t).reduce((r,n)=>eG(eG({},r),{},{[n]:e(n,t[n])}),{});function tG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tG(Object(r),!0).forEach(function(n){PYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PYe(e,t,r){return(t=RYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RYe(e){var t=LYe(e,"string");return typeof t=="symbol"?t:t+""}function LYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t5=(e,t,r)=>e+(t-e)*r,s6=e=>{var{from:t,to:r}=e;return t!==r},zie=(e,t,r)=>{var n=rw((a,s)=>{if(s6(s)){var[i,o]=e(s.from,s.to,s.velocity);return io(io({},s),{},{from:i,velocity:o})}return s},t);return r<1?rw((a,s)=>s6(s)?io(io({},s),{},{velocity:t5(s.velocity,n[a].velocity,r),from:t5(s.from,n[a].from,r)}):s,t):zie(e,n,r-1)};function MYe(e,t,r,n,a,s){var i,o=n.reduce((h,p)=>io(io({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>rw((h,p)=>p.from,o),u=()=>!Object.values(o).filter(s6).length,d=null,f=h=>{i||(i=h);var p=h-i,v=p/r.dt;o=zie(r,o,v),a(io(io(io({},e),t),l())),i=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function UYe(e,t,r,n,a,s,i){var o=null,l=a.reduce((f,h)=>io(io({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,p=rw((g,b)=>t5(...b,r(h)),l);if(s(io(io(io({},e),t),p)),h<1)o=i.setTimeout(d);else{var v=rw((g,b)=>t5(...b,r(1)),l);s(io(io(io({},e),t),v))}};return()=>(o=i.setTimeout(d),()=>{o()})}const $ie=(e,t,r,n,a,s)=>{var i=DYe(e,t);return r.isStepper===!0?MYe(e,t,r,i,a,s):UYe(e,t,r,n,i,a,s)};function QYe(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[l,...u]=o;if(typeof l=="number"){a=e.setTimeout(s.bind(null,u),l);return}s(l),a=e.setTimeout(s.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class HYe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function VYe(){return QYe(new HYe)}var zYe=I.createContext(VYe);function Kie(e,t){var r=I.useContext(zYe);return I.useMemo(()=>t??r(e),[e,t,r])}var $Ye=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function i6(){return i6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i6.apply(null,arguments)}function KYe(e,t){if(e==null)return{};var r,n,a=GYe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GYe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rG(Object(r),!0).forEach(function(n){ep(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ep(e,t,r){return(t=qYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qYe(e){var t=WYe(e,"string");return typeof t=="symbol"?t:t+""}function WYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mR extends I.PureComponent{constructor(t,r){super(t,r),ep(this,"mounted",!1),ep(this,"manager",void 0),ep(this,"stopJSAnimation",null),ep(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:s,to:i,children:o,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:i});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:a?{[a]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:s,to:i,from:o}=this.props,{style:l}=this.state;if(n){if(!r){var u={style:a?{[a]:i}:i};this.state&&l&&(a&&l[a]!==i||!a&&l!==i)&&this.setState(u);return}if(!(NYe(t.to,i)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?o:t.to;if(this.state&&l){var h={style:a?{[a]:f}:f};(a&&l[a]!==f||!a&&l!==f)&&this.setState(h)}this.runAnimation(Jh(Jh({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:l}=t,u=$ie(r,n,Vie(s),a,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([l,i,d,a,o])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:s,easing:i,onAnimationStart:o,onAnimationEnd:l,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof i=="function"||typeof u=="function"||i==="spring"){this.runJSAnimation(t);return}var d=a?{[a]:s}:s,f=OYe(Object.keys(d),n,i);this.manager.start([o,r,Jh(Jh({},d),{},{transition:f}),n,l])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:s,easing:i,isActive:o,from:l,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:v}=t,g=KYe(t,$Ye),b=I.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!o||b===0||a<=0)return r;var _=S=>{var{style:B={},className:k}=S.props,O=I.cloneElement(S,Jh(Jh({},g),{},{style:Jh(Jh({},B),y),className:k}));return O};return b===1?_(I.Children.only(r)):I.createElement("div",null,I.Children.map(r,S=>_(S)))}}ep(mR,"displayName","Animate");ep(mR,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function r5(e){var t,r=Kie((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return I.createElement(mR,i6({},e,{animationManager:r}))}function n5(){return n5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n5.apply(null,arguments)}var nG=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>s?s:a[f];u="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+i*d[1])),u+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-i*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);u="M ".concat(e,",").concat(t+i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+i*p,`
            L `).concat(e+r,",").concat(t+n-i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-i*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},XYe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gie=e=>{var t=Tu(e,XYe),r=I.useRef(null),[n,a]=I.useState(-1);I.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&a(y)}catch{}},[]);var{x:s,y:i,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:g}=t;if(s!==+s||i!==+i||o!==+o||l!==+l||o===0||l===0)return null;var b=fn("recharts-rectangle",d);return g?I.createElement(r5,{canBegin:n>0,from:{width:o,height:l,x:s,y:i},to:{width:o,height:l,x:s,y:i},duration:h,animationEasing:f,isActive:g},y=>{var{width:_,height:S,x:B,y:k}=y;return I.createElement(r5,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:v,easing:f},I.createElement("path",n5({},Hn(t,!0),{className:b,d:nG(B,k,_,S,u),ref:r})))}):I.createElement("path",n5({},Hn(t,!0),{className:b,d:nG(s,i,o,l,u)}))};function qie(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Gn(t,r,n,a),o=Gn(t,r,n,s);return{points:[i,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function o6(){return o6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o6.apply(null,arguments)}var YYe=(e,t)=>{var r=zi(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},EC=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,u=o*(i?1:-1)+n,d=Math.asin(o/u)/ZS,f=l?a:a+s*d,h=Gn(t,r,u,f),p=Gn(t,r,n,f),v=l?a-s*d:a,g=Gn(t,r,u*Math.cos(d*ZS),v);return{center:h,circleTangency:p,lineTangency:g,theta:d}},Wie=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=YYe(s,i),l=s+o,u=Gn(t,r,a,s),d=Gn(t,r,a,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Gn(t,r,n,s),p=Gn(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},JYe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=zi(u-l),{circleTangency:f,lineTangency:h,theta:p}=EC({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:v,lineTangency:g,theta:b}=EC({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(l-u):Math.abs(l-u)-p-b;if(y<0)return i?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Wie({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:u});var _="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:B,theta:k}=EC({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:O,lineTangency:w,theta:C}=EC({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),N=o?Math.abs(l-u):Math.abs(l-u)-k-C;if(N<0&&s===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+="L".concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(B.x,",").concat(B.y,"Z")}else _+="L".concat(t,",").concat(r,"Z");return _},ZYe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Xie=e=>{var t=Tu(e,ZYe),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var h=fn("recharts-sector",f),p=s-a,v=fl(i,p,0,!0),g;return v>0&&Math.abs(u-d)<360?g=JYe({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):g=Wie({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),I.createElement("path",o6({},Hn(t,!0),{className:h,d:g}))};function eJe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:u,outerRadius:d,angle:f}=t,h=Gn(o,l,u,f),p=Gn(o,l,d,f);n=h.x,a=h.y,s=p.x,i=p.y}else return qie(t);return[{x:n,y:a},{x:s,y:i}]}var V3={},z3={},$3={},aG;function tJe(){return aG||(aG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yse();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}($3)),$3}var sG;function rJe(){return sG||(sG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tJe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(z3)),z3}var iG;function nJe(){return iG||(iG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jse(),r=rJe();function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const o=Math.max(Math.ceil((s-a)/(i||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=a,a+=i;return l}e.range=n}(V3)),V3}var K3,oG;function aJe(){return oG||(oG=1,K3=nJe().range),K3}var sJe=aJe();const Yie=hl(sJe),Rb=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xP,scaleDiverging:Tae,scaleDivergingLog:Iae,scaleDivergingPow:OP,scaleDivergingSqrt:Lze,scaleDivergingSymlog:jae,scaleIdentity:uae,scaleImplicit:kF,scaleLinear:cae,scaleLog:Aae,scaleOrdinal:QN,scalePoint:iVe,scalePow:CP,scaleQuantile:mae,scaleQuantize:pae,scaleRadial:hae,scaleSequential:Sae,scaleSequentialLog:Nae,scaleSequentialPow:FP,scaleSequentialQuantile:Bae,scaleSequentialSqrt:Rze,scaleSequentialSymlog:kae,scaleSqrt:vVe,scaleSymlog:fae,scaleThreshold:gae,scaleTime:Dze,scaleUtc:Pze,tickFormat:lae},Symbol.toStringTag,{value:"Module"}));var om=e=>e.chartData,m4=dt([om],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),pR=(e,t,r,n)=>n?m4(e):om(e);function bx(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ic(t)&&Ic(r))return!0}return!1}function lG(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function iJe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Ic(r))a=r;else if(typeof r=="function")return;if(Ic(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(bx(i))return i}}function oJe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(bx(n))return lG(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,o;if(a==="auto")t!=null&&(i=Math.min(...t));else if(or(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&OK.test(a)){var l=OK.exec(a);if(l==null||t==null)i=void 0;else{var u=+l[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(or(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&DK.test(s)){var d=DK.exec(s);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[i,o];if(bx(h))return t==null?h:lG(h,t,r)}}}var zx=1e9,lJe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vR,Ka=!0,Nu="[DecimalError] ",bp=Nu+"Invalid argument: ",gR=Nu+"Exponent out of range: ",$x=Math.floor,Qm=Math.pow,cJe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bc,Mi=1e7,Oa=7,Jie=9007199254740991,a5=$x(Jie/Oa),lr={};lr.absoluteValue=lr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};lr.comparedTo=lr.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};lr.decimalPlaces=lr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Oa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};lr.dividedBy=lr.div=function(e){return Rf(this,new this.constructor(e))};lr.dividedToIntegerBy=lr.idiv=function(e){var t=this,r=t.constructor;return _a(Rf(t,new r(e),0,1),r.precision)};lr.equals=lr.eq=function(e){return!this.cmp(e)};lr.exponent=function(){return ci(this)};lr.greaterThan=lr.gt=function(e){return this.cmp(e)>0};lr.greaterThanOrEqualTo=lr.gte=function(e){return this.cmp(e)>=0};lr.isInteger=lr.isint=function(){return this.e>this.d.length-2};lr.isNegative=lr.isneg=function(){return this.s<0};lr.isPositive=lr.ispos=function(){return this.s>0};lr.isZero=function(){return this.s===0};lr.lessThan=lr.lt=function(e){return this.cmp(e)<0};lr.lessThanOrEqualTo=lr.lte=function(e){return this.cmp(e)<1};lr.logarithm=lr.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bc))throw Error(Nu+"NaN");if(r.s<1)throw Error(Nu+(r.s?"NaN":"-Infinity"));return r.eq(bc)?new n(0):(Ka=!1,t=Rf(nw(r,s),nw(e,s),s),Ka=!0,_a(t,a))};lr.minus=lr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?toe(t,e):Zie(t,(e.s=-e.s,e))};lr.modulo=lr.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Nu+"NaN");return r.s?(Ka=!1,t=Rf(r,e,0,1).times(e),Ka=!0,r.minus(t)):_a(new n(r),a)};lr.naturalExponential=lr.exp=function(){return eoe(this)};lr.naturalLogarithm=lr.ln=function(){return nw(this)};lr.negated=lr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};lr.plus=lr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zie(t,e):toe(t,(e.s=-e.s,e))};lr.precision=lr.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bp+e);if(t=ci(a)+1,n=a.d.length-1,r=n*Oa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};lr.squareRoot=lr.sqrt=function(){var e,t,r,n,a,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Nu+"NaN")}for(e=ci(o),Ka=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=pA(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$x((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(s=n,n=s.plus(Rf(o,s,i+2)).times(.5),pA(s.d).slice(0,i)===(t=pA(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(_a(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;i+=4}return Ka=!0,_a(n,r)};lr.times=lr.mul=function(e){var t,r,n,a,s,i,o,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(s=h,h=p,p=s,i=l,l=u,u=i),s=[],i=l+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)o=s[a]+p[n]*h[a-n-1]+t,s[a--]=o%Mi|0,t=o/Mi|0;s[a]=(s[a]+t)%Mi|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ka?_a(e,f.precision):e};lr.toDecimalPlaces=lr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(jA(e,0,zx),t===void 0?t=n.rounding:jA(t,0,8),_a(r,e+ci(r)+1,t))};lr.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Lp(n,!0):(jA(e,0,zx),t===void 0?t=a.rounding:jA(t,0,8),n=_a(new a(n),e+1,t),r=Lp(n,!0,e+1)),r};lr.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Lp(a):(jA(e,0,zx),t===void 0?t=s.rounding:jA(t,0,8),n=_a(new s(a),e+ci(a)+1,t),r=Lp(n.abs(),!1,e+ci(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};lr.toInteger=lr.toint=function(){var e=this,t=e.constructor;return _a(new t(e),ci(e)+1,t.rounding)};lr.toNumber=function(){return+this};lr.toPower=lr.pow=function(e){var t,r,n,a,s,i,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(bc);if(o=new l(o),!o.s){if(e.s<1)throw Error(Nu+"Infinity");return o}if(o.eq(bc))return o;if(n=l.precision,e.eq(bc))return _a(o,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=o.s,i){if((r=d<0?-d:d)<=Jie){for(a=new l(bc),t=Math.ceil(n/Oa+4),Ka=!1;r%2&&(a=a.times(o),uG(a.d,t)),r=$x(r/2),r!==0;)o=o.times(o),uG(o.d,t);return Ka=!0,e.s<0?new l(bc).div(a):_a(a,n)}}else if(s<0)throw Error(Nu+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ka=!1,a=e.times(nw(o,n+u)),Ka=!0,a=eoe(a),a.s=s,a};lr.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=ci(a),n=Lp(a,r<=s.toExpNeg||r>=s.toExpPos)):(jA(e,1,zx),t===void 0?t=s.rounding:jA(t,0,8),a=_a(new s(a),e,t),r=ci(a),n=Lp(a,e<=r||r<=s.toExpNeg,e)),n};lr.toSignificantDigits=lr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(jA(e,1,zx),t===void 0?t=n.rounding:jA(t,0,8)),_a(new n(r),e,t)};lr.toString=lr.valueOf=lr.val=lr.toJSON=lr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ci(e),r=e.constructor;return Lp(e,t<=r.toExpNeg||t>=r.toExpPos)};function Zie(e,t){var r,n,a,s,i,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ka?_a(t,f):t;if(l=e.d,u=t.d,i=e.e,a=t.e,l=l.slice(),s=i-a,s){for(s<0?(n=l,s=-s,o=u.length):(n=u,a=i,o=l.length),i=Math.ceil(f/Oa),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/Mi|0,l[s]%=Mi;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Ka?_a(t,f):t}function jA(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bp+e)}function pA(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Oa-n.length,r&&(s+=s0(r)),s+=n;i=e[t],n=i+"",r=Oa-n.length,r&&(s+=s0(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Rf=function(){function e(n,a){var s,i=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+i,n[o]=s%Mi|0,i=s/Mi|0;return i&&n.unshift(i),n}function t(n,a,s,i){var o,l;if(s!=i)l=s>i?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Mi+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var o,l,u,d,f,h,p,v,g,b,y,_,S,B,k,O,w,C,N=n.constructor,P=n.s==a.s?1:-1,j=n.d,F=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Nu+"Division by zero");for(l=n.e-a.e,w=F.length,k=j.length,p=new N(P),v=p.d=[],u=0;F[u]==(j[u]||0);)++u;if(F[u]>(j[u]||0)&&--l,s==null?_=s=N.precision:i?_=s+(ci(n)-ci(a))+1:_=s,_<0)return new N(0);if(_=_/Oa+2|0,u=0,w==1)for(d=0,F=F[0],_++;(u<k||d)&&_--;u++)S=d*Mi+(j[u]||0),v[u]=S/F|0,d=S%F|0;else{for(d=Mi/(F[0]+1)|0,d>1&&(F=e(F,d),j=e(j,d),w=F.length,k=j.length),B=w,g=j.slice(0,w),b=g.length;b<w;)g[b++]=0;C=F.slice(),C.unshift(0),O=F[0],F[1]>=Mi/2&&++O;do d=0,o=t(F,g,w,b),o<0?(y=g[0],w!=b&&(y=y*Mi+(g[1]||0)),d=y/O|0,d>1?(d>=Mi&&(d=Mi-1),f=e(F,d),h=f.length,b=g.length,o=t(f,g,h,b),o==1&&(d--,r(f,w<h?C:F,h))):(d==0&&(o=d=1),f=F.slice()),h=f.length,h<b&&f.unshift(0),r(g,f,b),o==-1&&(b=g.length,o=t(F,g,w,b),o<1&&(d++,r(g,w<b?C:F,b))),b=g.length):o===0&&(d++,g=[0]),v[u++]=d,o&&g[0]?g[b++]=j[B]||0:(g=[j[B]],b=1);while((B++<k||g[0]!==void 0)&&_--)}return v[0]||v.shift(),p.e=l,_a(p,i?s+ci(p)+1:s)}}();function eoe(e,t){var r,n,a,s,i,o,l=0,u=0,d=e.constructor,f=d.precision;if(ci(e)>16)throw Error(gR+ci(e));if(!e.s)return new d(bc);for(Ka=!1,o=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Qm(2,u))/Math.LN10*2+5|0,o+=n,r=a=s=new d(bc),d.precision=o;;){if(a=_a(a.times(e),o),r=r.times(++l),i=s.plus(Rf(a,r,o)),pA(i.d).slice(0,o)===pA(s.d).slice(0,o)){for(;u--;)s=_a(s.times(s),o);return d.precision=f,t==null?(Ka=!0,_a(s,f)):s}s=i}}function ci(e){for(var t=e.e*Oa,r=e.d[0];r>=10;r/=10)t++;return t}function G3(e,t,r){if(t>e.LN10.sd())throw Ka=!0,r&&(e.precision=r),Error(Nu+"LN10 precision limit exceeded");return _a(new e(e.LN10),t)}function s0(e){for(var t="";e--;)t+="0";return t}function nw(e,t){var r,n,a,s,i,o,l,u,d,f=1,h=10,p=e,v=p.d,g=p.constructor,b=g.precision;if(p.s<1)throw Error(Nu+(p.s?"NaN":"-Infinity"));if(p.eq(bc))return new g(0);if(t==null?(Ka=!1,u=b):u=t,p.eq(10))return t==null&&(Ka=!0),G3(g,u);if(u+=h,g.precision=u,r=pA(v),n=r.charAt(0),s=ci(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=pA(p.d),n=r.charAt(0),f++;s=ci(p),n>1?(p=new g("0."+r),s++):p=new g(n+"."+r.slice(1))}else return l=G3(g,u+2,b).times(s+""),p=nw(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=b,t==null?(Ka=!0,_a(p,b)):p;for(o=i=p=Rf(p.minus(bc),p.plus(bc),u),d=_a(p.times(p),u),a=3;;){if(i=_a(i.times(d),u),l=o.plus(Rf(i,new g(a),u)),pA(l.d).slice(0,u)===pA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(G3(g,u+2,b).times(s+""))),o=Rf(o,new g(f),u),g.precision=b,t==null?(Ka=!0,_a(o,b)):o;o=l,a+=2}}function cG(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=$x(r/Oa),e.d=[],n=(r+1)%Oa,r<0&&(n+=Oa),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Oa;n<a;)e.d.push(+t.slice(n,n+=Oa));t=t.slice(n),n=Oa-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ka&&(e.e>a5||e.e<-a5))throw Error(gR+r)}else e.s=0,e.e=0,e.d=[0];return e}function _a(e,t,r){var n,a,s,i,o,l,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Oa,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Oa),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Oa,a=n-Oa+i}if(r!==void 0&&(s=Qm(10,i-a-1),o=u/s%10|0,l=t<0||f[d+1]!==void 0||u%s,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?u/Qm(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(s=ci(e),f.length=1,t=t-s-1,f[0]=Qm(10,(Oa-t%Oa)%Oa),e.e=$x(-t/Oa)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Qm(10,Oa-n),f[d]=a>0?(u/Qm(10,i-a)%Qm(10,a)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==Mi&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Mi)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ka&&(e.e>a5||e.e<-a5))throw Error(gR+ci(e));return e}function toe(e,t){var r,n,a,s,i,o,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ka?_a(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),i=u-n,i){for(d=i<0,d?(r=l,i=-i,o=f.length):(r=f,n=u,o=l.length),a=Math.max(Math.ceil(p/Oa),o)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(s=a;s&&l[--s]===0;)l[s]=Mi-1;--l[s],l[a]+=Mi}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ka?_a(t,p):t):new h(0)}function Lp(e,t,r){var n,a=ci(e),s=pA(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+s0(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+s0(-a-1)+s,r&&(n=r-i)>0&&(s+=s0(n))):a>=i?(s+=s0(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+s0(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=s0(n))),e.s<0?"-"+s:s}function uG(e,t){if(e.length>t)return e.length=t,!0}function roe(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(bp+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return cG(i,s.toString())}else if(typeof s!="string")throw Error(bp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,cJe.test(s))cG(i,s);else throw Error(bp+s)}if(a.prototype=lr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=roe,a.config=a.set=uJe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function uJe(e){if(!e||typeof e!="object")throw Error(Nu+"Object expected");var t,r,n,a=["precision",1,zx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if($x(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(bp+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bp+r+": "+n);return this}var vR=roe(lJe);bc=new vR(1);const ua=vR;var dJe=e=>e,noe={},aoe=e=>e===noe,dG=e=>function t(){return arguments.length===0||arguments.length===1&&aoe(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},soe=(e,t)=>e===1?t:dG(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==noe).length;return s>=e?t(...n):soe(e-s,dG(function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var u=n.map(d=>aoe(d)?o.shift():d);return t(...u,...o)}))}),p4=e=>soe(e.length,e),l6=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},AJe=p4((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),fJe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return dJe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((o,l)=>l(o),s(...arguments))}},c6=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ioe=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every((i,o)=>{var l;return i===((l=t)===null||l===void 0?void 0:l[o])})||(t=a,r=e(...a)),r}};function ooe(e){var t;return e===0?t=1:t=Math.floor(new ua(e).abs().log(10).toNumber())+1,t}function loe(e,t,r){for(var n=new ua(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}p4((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});p4((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});p4((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var coe=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},uoe=(e,t,r)=>{if(e.lte(0))return new ua(0);var n=ooe(e.toNumber()),a=new ua(10).pow(n),s=e.div(a),i=n!==1?.05:.1,o=new ua(Math.ceil(s.div(i).toNumber())).add(r).mul(i),l=o.mul(a);return t?new ua(l.toNumber()):new ua(Math.ceil(l.toNumber()))},hJe=(e,t,r)=>{var n=new ua(1),a=new ua(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new ua(10).pow(ooe(e)-1),a=new ua(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ua(Math.floor(e)))}else e===0?a=new ua(Math.floor((t-1)/2)):r||(a=new ua(Math.floor(e)));var i=Math.floor((t-1)/2),o=fJe(AJe(l=>a.add(new ua(l-i).mul(n)).toNumber()),l6);return o(0,t)},doe=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ua(0),tickMin:new ua(0),tickMax:new ua(0)};var i=uoe(new ua(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new ua(0):(o=new ua(t).add(r).div(2),o=o.sub(new ua(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),u=Math.ceil(new ua(r).sub(o).div(i).toNumber()),d=l+u+1;return d>n?doe(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,l=r>0?l:l+(n-d)),{step:i,tickMin:o.sub(new ua(l).mul(i)),tickMax:o.add(new ua(u).mul(i))})};function mJe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[i,o]=coe([t,r]);if(i===-1/0||o===1/0){var l=o===1/0?[i,...l6(0,n-1).map(()=>1/0)]:[...l6(0,n-1).map(()=>-1/0),o];return t>r?c6(l):l}if(i===o)return hJe(i,n,a);var{step:u,tickMin:d,tickMax:f}=doe(i,o,s,a,0),h=loe(d,f.add(new ua(.1).mul(u)),u);return t>r?c6(h):h}function pJe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,i]=coe([r,n]);if(s===-1/0||i===1/0)return[r,n];if(s===i)return[s];var o=Math.max(t,2),l=uoe(new ua(i).sub(s).div(o-1),a,0),u=[...loe(new ua(s),new ua(i),l),i];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?c6(u):u}var gJe=ioe(mJe),vJe=ioe(pJe),Aoe=e=>e.rootProps.maxBarSize,xJe=e=>e.rootProps.barGap,foe=e=>e.rootProps.barCategoryGap,bJe=e=>e.rootProps.barSize,Kw=e=>e.rootProps.stackOffset,xR=e=>e.options.chartName,bR=e=>e.rootProps.syncId,hoe=e=>e.rootProps.syncMethod,yR=e=>e.options.eventEmitter,dA={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Dl={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},g4=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},yJe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:dA.angleAxisId,includeHidden:!1,name:void 0,reversed:dA.reversed,scale:dA.scale,tick:dA.tick,tickCount:void 0,ticks:void 0,type:dA.type,unit:void 0},wJe={allowDataOverflow:Dl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dl.scale,tick:Dl.tick,tickCount:Dl.tickCount,ticks:void 0,type:Dl.type,unit:void 0},EJe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:dA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dA.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dA.scale,tick:dA.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},CJe={allowDataOverflow:Dl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dl.scale,tick:Dl.tick,tickCount:Dl.tickCount,ticks:void 0,type:"category",unit:void 0},Kx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?EJe:yJe,Gw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?CJe:wJe,v4=e=>e.polarOptions,wR=dt([oh,lh,Ci],Cie),moe=dt([v4,wR],(e,t)=>{if(e!=null)return fl(e.innerRadius,t,0)}),poe=dt([v4,wR],(e,t)=>{if(e!=null)return fl(e.outerRadius,t,t*.8)}),_Je=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},goe=dt([v4],_Je),SJe=dt([Kx,goe],g4),voe=dt([wR,moe,poe],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),NJe=dt([Gw,voe],g4),Gx=dt([yn,v4,moe,poe,oh,lh],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:o,startAngle:l,endAngle:u}=t;return{cx:fl(i,a,a/2),cy:fl(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Sa=(e,t)=>t,qw=(e,t,r)=>r;function ER(e){return e==null?void 0:e.id}var _i=e=>{var t=yn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},qx=e=>e.tooltip.settings.axisId,Si=e=>{var t=_i(e),r=qx(e);return Wx(e,t,r)};function xoe(e,t,r){var{chartData:n=[]}=t,a=r==null?void 0:r.dataKey,s=new Map;return e.forEach(i=>{var o,l=(o=i.data)!==null&&o!==void 0?o:n;if(!(l==null||l.length===0)){var u=ER(i);l.forEach((d,f)=>{var h=a==null?f:String(ja(d,a,null)),p=ja(d,i.dataKey,0),v;s.has(h)?v=s.get(h):v={},Object.assign(v,{[u]:p}),s.set(h,v)})}}),Array.from(s.values())}function x4(e){return e.stackId!=null&&e.dataKey!=null}function AG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AG(Object(r),!0).forEach(function(n){kJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kJe(e,t,r){return(t=BJe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BJe(e){var t=TJe(e,"string");return typeof t=="symbol"?t:t+""}function TJe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u6=[0,"auto"],fc={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ch=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??fc},hc={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:u6,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:A4},lm=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??hc},IJe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},CR=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??IJe},Gs=(e,t,r)=>{switch(t){case"xAxis":return ch(e,r);case"yAxis":return lm(e,r);case"zAxis":return CR(e,r);case"angleAxis":return Kx(e,r);case"radiusAxis":return Gw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jJe=(e,t,r)=>{switch(t){case"xAxis":return ch(e,r);case"yAxis":return lm(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Wx=(e,t,r)=>{switch(t){case"xAxis":return ch(e,r);case"yAxis":return lm(e,r);case"angleAxis":return Kx(e,r);case"radiusAxis":return Gw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},boe=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _R(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var SR=e=>e.graphicalItems.cartesianItems,FJe=dt([Sa,qw],_R),NR=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Ww=dt([SR,Gs,FJe],NR),yoe=dt([Ww],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(x4)),woe=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Eoe=dt([Ww],woe),kR=e=>e.map(t=>t.data).filter(Boolean).flat(1),OJe=dt([Ww],kR),BR=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},TR=dt([OJe,pR],BR),IR=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ja(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:ja(a,n)}))):e.map(n=>({value:n})),b4=dt([TR,Gs,Ww],IR);function Coe(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function tg(e){return e.filter(t=>IA(t)||t instanceof Date).map(Number).filter(t=>kc(t)===!1)}function DJe(e,t,r){return!r||typeof t!="number"||kc(t)?[]:r.length?tg(r.flatMap(n=>{var a=ja(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!Ic(s)||!Ic(i)))return[t-s,t+i]})):[]}var PJe=dt([yoe,pR,Si],xoe),_oe=(e,t,r)=>{var n={},a=t.reduce((s,i)=>(i.stackId==null||(s[i.stackId]==null&&(s[i.stackId]=[]),s[i.stackId].push(i)),s),n);return Object.fromEntries(Object.entries(a).map(s=>{var[i,o]=s,l=o.map(ER);return[i,{stackedData:CXe(e,l,r),graphicalItems:o}]}))},d6=dt([PJe,yoe,Kw],_oe),Soe=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var s=BXe(e,n,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},RJe=dt([d6,om,Sa],Soe),Noe=(e,t,r,n,a)=>r.length>0?e.flatMap(s=>r.flatMap(i=>{var o,l,u=(o=n[i.id])===null||o===void 0?void 0:o.filter(f=>Coe(a,f)),d=ja(s,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:d,errorDomain:DJe(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:ja(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),y4=e=>e.errorBars,koe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Coe(r,n));dt([Eoe,y4,Sa],koe);var LJe=dt([TR,Gs,Eoe,y4,Sa],Noe);function MJe(e){var{value:t}=e;if(IA(t)||t instanceof Date)return t}var fG=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=tg(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},UJe=(e,t,r)=>{var n=e.map(MJe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Mse(n))?Yie(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},jR=e=>{var t;if(e==null||!("domain"in e))return u6;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=tg(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:u6},i5=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),o=Math.max(...s);return[i,o]}},Boe=e=>e.referenceElements.dots,Xx=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),QJe=dt([Boe,Sa,qw],Xx),Toe=e=>e.referenceElements.areas,HJe=dt([Toe,Sa,qw],Xx),Ioe=e=>e.referenceElements.lines,VJe=dt([Ioe,Sa,qw],Xx),joe=(e,t)=>{var r=tg(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zJe=dt(QJe,Sa,joe),Foe=(e,t)=>{var r=tg(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$Je=dt([HJe,Sa],Foe),Ooe=(e,t)=>{var r=tg(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},KJe=dt(VJe,Sa,Ooe),GJe=dt(zJe,KJe,$Je,(e,t,r)=>i5(e,r,t)),Doe=dt([Gs],jR),FR=(e,t,r,n,a,s,i)=>{var o=iJe(t,e.allowDataOverflow);if(o!=null)return o;var l=s==="vertical"&&i==="xAxis"||s==="horizontal"&&i==="yAxis",u=l?i5(r,a,fG(n)):i5(a,fG(n));return oJe(t,u,e.allowDataOverflow)},qJe=dt([Gs,Doe,RJe,LJe,GJe,yn,Sa],FR),WJe=[0,1],OR=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:o,type:l}=e,u=im(t,s);return u&&o==null?Yie(0,r.length):l==="category"?UJe(n,e,u):a==="expand"?WJe:i}},DR=dt([Gs,yn,TR,b4,Kw,Sa,qJe],OR),Poe=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Vw(s));return o in Rb?o:"point"}}},cm=dt([Gs,yn,boe,xR,Sa],Poe);function XJe(e){if(e!=null){if(e in Rb)return Rb[e]();var t="scale".concat(Vw(e));if(t in Rb)return Rb[t]()}}function w4(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=XJe(t);if(a!=null){var s=a.domain(r).range(n);return xXe(s),s}}}var PR=(e,t,r)=>{var n=jR(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&bx(e))return gJe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&bx(e))return vJe(e,t.tickCount,t.allowDecimals)}},RR=dt([DR,Wx,cm],PR),LR=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&bx(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},YJe=dt([Gs,DR,RR,Sa],LR),JJe=dt(b4,Gs,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(tg(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),Roe=dt(JJe,yn,foe,Ci,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ic(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=fl(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),ZJe=(e,t)=>{var r=ch(e,t);return r==null||typeof r.padding!="string"?0:Roe(e,"xAxis",t,r.padding)},eZe=(e,t)=>{var r=lm(e,t);return r==null||typeof r.padding!="string"?0:Roe(e,"yAxis",t,r.padding)},tZe=dt(ch,ZJe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),rZe=dt(lm,eZe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),nZe=dt([Ci,tZe,h4,f4,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),aZe=dt([Ci,yn,rZe,h4,f4,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Xw=(e,t,r,n)=>{var a;switch(t){case"xAxis":return nZe(e,r,n);case"yAxis":return aZe(e,r,n);case"zAxis":return(a=CR(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return goe(e);case"radiusAxis":return voe(e,r);default:return}},Loe=dt([Gs,Xw],g4),Yx=dt([Gs,cm,YJe,Loe],w4);dt([Ww,y4,Sa],koe);function Moe(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var E4=(e,t)=>t,C4=(e,t,r)=>r,sZe=dt(dR,E4,C4,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Moe)),iZe=dt(AR,E4,C4,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Moe)),Uoe=(e,t)=>({width:e.width,height:t.height}),oZe=(e,t)=>{var r=typeof t.width=="number"?t.width:A4;return{width:r,height:e.height}},Qoe=dt(Ci,ch,Uoe),lZe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cZe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},uZe=dt(lh,Ci,sZe,E4,C4,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=Uoe(t,o);i==null&&(i=lZe(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[o.id]=i-Number(u)*l.height,i+=(u?-1:1)*l.height}),s}),dZe=dt(oh,Ci,iZe,E4,C4,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=oZe(t,o);i==null&&(i=cZe(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[o.id]=i-Number(u)*l.width,i+=(u?-1:1)*l.width}),s}),AZe=(e,t)=>{var r=Ci(e),n=ch(e,t);if(n!=null){var a=uZe(e,n.orientation,n.mirror),s=a[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},fZe=(e,t)=>{var r=Ci(e),n=lm(e,t);if(n!=null){var a=dZe(e,n.orientation,n.mirror),s=a[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},Hoe=dt(Ci,lm,(e,t)=>{var r=typeof t.width=="number"?t.width:A4;return{width:r,height:e.height}}),hG=(e,t,r)=>{switch(t){case"xAxis":return Qoe(e,r).width;case"yAxis":return Hoe(e,r).height;default:return}},Voe=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=im(e,n),l=t.map(u=>u.value);if(i&&o&&s==="category"&&a&&Mse(l))return l}},Yw=dt([yn,b4,Gs,Sa],Voe),MR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=im(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},UR=dt([yn,b4,Wx,Sa],MR),mG=dt([yn,jJe,cm,Yx,Yw,UR,Xw,RR,Sa],(e,t,r,n,a,s,i,o,l)=>{if(t==null)return null;var u=im(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:o,range:i,realScaleType:r,scale:n}}),zoe=(e,t,r,n,a,s,i,o,l)=>{if(!(t==null||n==null)){var u=im(e,l),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/p:0;v=l==="angleAxis"&&s!=null&&s.length>=2?zi(s[0]-s[1])*2*v:v;var g=f||a;if(g){var b=g.map((y,_)=>{var S=i?i.indexOf(y):y;return{index:_,coordinate:n(S)+v,value:y,offset:v}});return b.filter(y=>!kc(y.coordinate))}return u&&o?o.map((y,_)=>({coordinate:n(y)+v,value:y,index:_,offset:v})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+v,value:y,offset:v})):n.domain().map((y,_)=>({coordinate:n(y)+v,value:i?i[y]:y,index:_,offset:v}))}},$oe=dt([yn,Wx,cm,Yx,RR,Xw,Yw,UR,Sa],zoe),Koe=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=im(e,i),{tickCount:l}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?zi(n[0]-n[1])*2*u:u,o&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},yx=dt([yn,Wx,Yx,Xw,Yw,UR,Sa],Koe),wx=dt(Gs,Yx,(e,t)=>{if(!(e==null||t==null))return s5(s5({},e),{},{scale:t})}),hZe=dt([Gs,cm,DR,Loe],w4);dt((e,t,r)=>CR(e,r),hZe,(e,t)=>{if(!(e==null||t==null))return s5(s5({},e),{},{scale:t})});var mZe=dt([yn,dR,AR],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Goe=e=>e.options.defaultTooltipEventType,qoe=e=>e.options.validateTooltipEventTypes;function Woe(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function QR(e,t){var r=Goe(e),n=qoe(e);return Woe(t,r,n)}function pZe(e){return nr(t=>QR(t,e))}var Xoe=(e,t)=>{var r,n=Number(t);if(!(kc(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},gZe=e=>e.tooltip.settings,A0={active:!1,index:null,dataKey:void 0,coordinate:void 0},vZe={itemInteraction:{click:A0,hover:A0},axisInteraction:{click:A0,hover:A0},keyboardInteraction:A0,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Yoe=jc({name:"tooltip",initialState:vZe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Pf(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:xZe,removeTooltipEntrySettings:bZe,setTooltipSettingsState:yZe,setActiveMouseOverItemIndex:Joe,mouseLeaveItem:wZe,mouseLeaveChart:Zoe,setActiveClickItemIndex:EZe,setMouseOverAxisIndex:ele,setMouseClickAxisIndex:CZe,setSyncInteraction:A6,setKeyboardInteraction:f6}=Yoe.actions,_Ze=Yoe.reducer;function pG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pG(Object(r),!0).forEach(function(n){SZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SZe(e,t,r){return(t=NZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NZe(e){var t=kZe(e,"string");return typeof t=="symbol"?t:t+""}function kZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function TZe(e){return e.index!=null}var tle=(e,t,r,n)=>{if(t==null)return A0;var a=BZe(e,t,r);if(a==null)return A0;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(TZe(a)){if(s)return CC(CC({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return CC(CC({},A0),{},{coordinate:a.coordinate})},HR=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Ic(n))return r;var a=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(a,Math.min(n,s)))},rle=(e,t,r,n,a,s,i,o)=>{if(!(s==null||o==null)){var l=i[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},nle=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},Jw=e=>e.options.tooltipPayloadSearcher,Jx=e=>e.tooltip;function gG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gG(Object(r),!0).forEach(function(n){IZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZe(e,t,r){return(t=jZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jZe(e){var t=FZe(e,"string");return typeof t=="symbol"?t:t+""}function FZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OZe(e,t){return e??t}var ale=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var v,{dataDefinedOnItem:g,settings:b}=p,y=OZe(g,o),_=Array.isArray(y)?Sie(y,u,d):y,S=(v=b==null?void 0:b.dataKey)!==null&&v!==void 0?v:n==null?void 0:n.dataKey,B=b==null?void 0:b.nameKey,k;if(n!=null&&n.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&i==="axis"?k=JGe(_,n.dataKey,a):k=s(_,t,l,B),Array.isArray(k))k.forEach(w=>{var C=vG(vG({},b),{},{name:w.name,unit:w.unit,color:void 0,fill:void 0});h.push(PK({tooltipEntrySettings:C,dataKey:w.dataKey,payload:w.payload,value:ja(w.payload,w.dataKey),name:w.name}))});else{var O;h.push(PK({tooltipEntrySettings:b,dataKey:S,payload:k,value:ja(k,S),name:(O=ja(k,B))!==null&&O!==void 0?O:b==null?void 0:b.name}))}return h},f)}},VR=dt([Si,yn,boe,xR,_i],Poe),DZe=dt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),PZe=dt([_i,qx],_R),Zw=dt([DZe,Si,PZe],NR),RZe=dt([Zw],e=>e.filter(x4)),LZe=dt([Zw],kR),Zx=dt([LZe,om],BR),MZe=dt([RZe,om,Si],xoe),zR=dt([Zx,Si,Zw],IR),UZe=dt([Si],jR),QZe=dt([Zw],e=>e.filter(x4)),HZe=dt([MZe,QZe,Kw],_oe),VZe=dt([HZe,om,_i],Soe),zZe=dt([Zw],woe),$Ze=dt([Zx,Si,zZe,y4,_i],Noe),KZe=dt([Boe,_i,qx],Xx),GZe=dt([KZe,_i],joe),qZe=dt([Toe,_i,qx],Xx),WZe=dt([qZe,_i],Foe),XZe=dt([Ioe,_i,qx],Xx),YZe=dt([XZe,_i],Ooe),JZe=dt([GZe,YZe,WZe],i5),ZZe=dt([Si,UZe,VZe,$Ze,JZe,yn,_i],FR),sle=dt([Si,yn,Zx,zR,Kw,_i,ZZe],OR),eet=dt([sle,Si,VR],PR),tet=dt([Si,sle,eet,_i],LR),ile=e=>{var t=_i(e),r=qx(e),n=!1;return Xw(e,t,r,n)},ole=dt([Si,ile],g4),lle=dt([Si,VR,tet,ole],w4),ret=dt([yn,zR,Si,_i],Voe),net=dt([yn,zR,Si,_i],MR),aet=(e,t,r,n,a,s,i,o)=>{if(t){var{type:l}=t,u=im(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?zi(a[0]-a[1])*2*f:f,u&&i?i.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:s?s[h]:h,index:p,offset:f}))}}},uh=dt([yn,Si,VR,lle,ile,ret,net,_i],aet),$R=dt([Goe,qoe,gZe],(e,t,r)=>Woe(r.shared,e,t)),cle=e=>e.tooltip.settings.trigger,KR=e=>e.tooltip.settings.defaultIndex,_4=dt([Jx,$R,cle,KR],tle),Y0=dt([_4,Zx],HR),ule=dt([uh,Y0],Xoe),dle=dt([_4],e=>{if(e)return e.dataKey}),Ale=dt([Jx,$R,cle,KR],nle),set=dt([oh,lh,yn,Ci,uh,KR,Ale,Jw],rle),iet=dt([_4,set],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),oet=dt([_4],e=>e.active),cet=dt([Ale,Y0,om,Si,ule,Jw,$R],ale),uet=dt([cet],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xG(Object(r),!0).forEach(function(n){det(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function det(e,t,r){return(t=Aet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aet(e){var t=fet(e,"string");return typeof t=="symbol"?t:t+""}function fet(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var het=()=>nr(Si),met=()=>{var e=het(),t=nr(uh),r=nr(lle);return tw(bG(bG({},e),{},{scale:r}),t)},pet=()=>nr(xR),GR=(e,t)=>t,fle=(e,t,r)=>r,qR=(e,t,r,n)=>n,get=dt(uh,e=>s4(e,t=>t.coordinate)),WR=dt([Jx,GR,fle,qR],tle),hle=dt([WR,Zx],HR),vet=(e,t,r)=>{if(t!=null){var n=Jx(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},mle=dt([Jx,GR,fle,qR],nle),o5=dt([oh,lh,yn,Ci,uh,qR,mle,Jw],rle),xet=dt([WR,o5],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ple=dt(uh,hle,Xoe),bet=dt([mle,hle,om,Si,ple,Jw,GR],ale),yet=dt([WR],e=>({isActive:e.active,activeIndex:e.index})),wet=(e,t,r,n,a,s,i,o)=>{if(!(!e||!t||!n||!a||!s)){var l=TXe(e.chartX,e.chartY,t,r,o);if(l){var u=jXe(l,t),d=gXe(u,i,s,n,a),f=IXe(t,s,d,l);return{activeIndex:String(d),activeCoordinate:f}}}};function h6(){return h6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h6.apply(null,arguments)}function yG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yG(Object(r),!0).forEach(function(n){Eet(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eet(e,t,r){return(t=Cet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cet(e){var t=_et(e,"string");return typeof t=="symbol"?t:t+""}function _et(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Net(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:s,layout:i,cursor:o,tooltipEventType:l,chartName:u}=e,d=t,f=r,h=n;if(!o||!d||u!=="ScatterChart"&&l!=="axis")return null;var p,v;if(u==="ScatterChart")p=d,v=mYe;else if(u==="BarChart")p=pYe(i,d,a,s),v=Gie;else if(i==="radial"){var{cx:g,cy:b,radius:y,startAngle:_,endAngle:S}=qie(d);p={cx:g,cy:b,startAngle:_,endAngle:S,innerRadius:y,outerRadius:y},v=Xie}else p={points:eJe(i,d,a)},v=Uie;var B=typeof o=="object"&&"className"in o?o.className:void 0,k=_C(_C(_C(_C({stroke:"#ccc",pointerEvents:"none"},a),p),Hn(o,!1)),{},{payload:f,payloadIndex:h,className:fn("recharts-tooltip-cursor",B)});return I.isValidElement(o)?I.cloneElement(o,k):I.createElement(v,k)}function ket(e){var t=met(),r=Fie(),n=hR(),a=pet();return I.createElement(Net,h6({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var gle=I.createContext(null),Bet=()=>I.useContext(gle),q3={exports:{}},wG;function Tet(){return wG||(wG=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function i(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,v){var g=r?r+u:u;if(!this._events[g])return!1;var b=this._events[g],y=arguments.length,_,S;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,v),!0}for(S=1,_=new Array(y-1);S<y;S++)_[S-1]=arguments[S];b.fn.apply(b.context,_)}else{var B=b.length,k;for(S=0;S<B;S++)switch(b[S].once&&this.removeListener(u,b[S].fn,void 0,!0),y){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,f);break;case 4:b[S].fn.call(b[S].context,d,f,h);break;default:if(!_)for(k=1,_=new Array(y-1);k<y;k++)_[k-1]=arguments[k];b[S].fn.apply(b[S].context,_)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&i(this,p);else{for(var g=0,b=[],y=v.length;g<y;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&b.push(v[g]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(q3)),q3.exports}var Iet=Tet();const jet=hl(Iet);var aw=new jet,m6="recharts.syncEvent.tooltip",EG="recharts.syncEvent.brush";function XR(e,t){if(t){var r=Number.parseInt(t,10);if(!kc(r))return e==null?void 0:e[r]}}var Fet={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vle=jc({name:"options",initialState:Fet,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Oet=vle.reducer,{createEventEmitter:Det}=vle.actions;function Pet(e){return e.tooltip.syncInteraction}var Ret={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xle=jc({name:"chartData",initialState:Ret,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:CG,setDataStartEndIndexes:Let,setComputedData:_ct}=xle.actions,Met=xle.reducer,ble=()=>{};function Uet(){var e=nr(bR),t=nr(yR),r=ss(),n=nr(hoe),a=nr(uh),s=hR(),i=fR(),o=nr(l=>l.rootProps.className);I.useEffect(()=>{if(e==null)return ble;var l=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(a!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},v=n(a,p);h=a[v]}else n==="value"&&(h=a.find(O=>String(O.value)===d.payload.label));var{coordinate:g}=d.payload;if(h==null||d.payload.active===!1||g==null||i==null){r(A6({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y}=g,_=Math.min(b,i.x+i.width),S=Math.min(y,i.y+i.height),B={x:s==="horizontal"?h.coordinate:_,y:s==="horizontal"?S:h.coordinate},k=A6({active:d.payload.active,coordinate:B,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(k)}}};return aw.on(m6,l),()=>{aw.off(m6,l)}},[o,r,t,e,n,a,s,i])}function Qet(){var e=nr(bR),t=nr(yR),r=ss();I.useEffect(()=>{if(e==null)return ble;var n=(a,s,i)=>{t!==i&&e===a&&r(Let(s))};return aw.on(EG,n),()=>{aw.off(EG,n)}},[r,t,e])}function Het(){var e=ss();I.useEffect(()=>{e(Det())},[e]),Uet(),Qet()}function Vet(e,t,r,n,a,s){var i=nr(h=>vet(h,e,t)),o=nr(yR),l=nr(bR),u=nr(hoe),d=nr(Pet),f=d==null?void 0:d.active;I.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=A6({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n});aw.emit(m6,l,h,o)}},[f,r,i,a,n,o,l,u,s])}function _G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_G(Object(r),!0).forEach(function(n){zet(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_G(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zet(e,t,r){return(t=$et(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $et(e){var t=Ket(e,"string");return typeof t=="symbol"?t:t+""}function Ket(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Get(e){return e.dataKey}function qet(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(GXe,t)}var NG=[],Wet={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!eg.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function SC(e){var t=Tu(e,Wet),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:i,filterNull:o,isAnimationActive:l,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:v,cursor:g,shared:b,trigger:y,defaultIndex:_,portal:S,axisId:B}=t,k=ss(),O=typeof _=="number"?String(_):_;I.useEffect(()=>{k(yZe({shared:b,trigger:y,axisId:B,active:r,defaultIndex:O}))},[k,b,y,B,r,O]);var w=fR(),C=Mie(),N=pZe(b),{activeIndex:P,isActive:j}=nr(te=>yet(te,N,y,O)),F=nr(te=>bet(te,N,y,O)),M=nr(te=>ple(te,N,y,O)),Q=nr(te=>xet(te,N,y,O)),J=F,q=Bet(),Z=r??j,[H,V]=oWe([J,Z]),G=N==="axis"?M:void 0;Vet(N,y,Q,G,P,Z);var ne=S??q;if(ne==null)return null;var R=J??NG;Z||(R=NG),o&&R.length&&(R=Lqe(J.filter(te=>te.value!=null&&(te.hide!==!0||t.includeHidden)),d,Get));var W=R.length>0,Y=I.createElement(eYe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:l,active:Z,coordinate:Q,hasPayload:W,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:w,wrapperStyle:v,lastBoundingBox:H,innerRef:V,hasPortalFromProps:!!S},qet(i,SG(SG({},t),{},{payload:R,label:G,active:Z,coordinate:Q,accessibilityLayer:C})));return I.createElement(I.Fragment,null,$re.createPortal(Y,ne),Z&&I.createElement(ket,{cursor:g,tooltipEventType:N,coordinate:Q,payload:J,index:P}))}var W3={},X3={},Y3={},kG;function Xet(){return kG||(kG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},f=()=>{u&&d(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{v(),i=void 0,o=null},b=()=>{d()},y=function(..._){if(a!=null&&a.aborted)return;i=this,o=_;const S=h==null;p(),l&&S&&d()};return y.schedule=p,y.cancel=g,y.flush=b,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t}(Y3)),Y3}var BG;function Yet(){return BG||(BG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xet();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);i&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=n.apply(this,g),f=null},a,{edges:u}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},v=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=v,p}e.debounce=r}(X3)),X3}var TG;function Jet(){return TG||(TG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yet();function r(n,a=0,s={}){const{leading:i=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:o})}e.throttle=r}(W3)),W3}var J3,IG;function Zet(){return IG||(IG=1,J3=Jet().throttle),J3}var ett=Zet();const ttt=hl(ett);var ly=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function jG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jG(Object(r),!0).forEach(function(n){rtt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rtt(e,t,r){return(t=ntt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ntt(e){var t=att(e,"string");return typeof t=="symbol"?t:t+""}function att(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NC=I.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:i=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:h,onResize:p,style:v={}}=e,g=I.useRef(null),b=I.useRef();b.current=p,I.useImperativeHandle(t,()=>g.current);var[y,_]=I.useState({containerWidth:n.width,containerHeight:n.height}),S=I.useCallback((k,O)=>{_(w=>{var C=Math.round(k),N=Math.round(O);return w.containerWidth===C&&w.containerHeight===N?w:{containerWidth:C,containerHeight:N}})},[]);I.useEffect(()=>{var k=N=>{var P,{width:j,height:F}=N[0].contentRect;S(j,F),(P=b.current)===null||P===void 0||P.call(b,j,F)};d>0&&(k=ttt(k,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(k),{width:w,height:C}=g.current.getBoundingClientRect();return S(w,C),O.observe(g.current),()=>{O.disconnect()}},[S,d]);var B=I.useMemo(()=>{var{containerWidth:k,containerHeight:O}=y;if(k<0||O<0)return null;ly(Zm(a)||Zm(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),ly(!r||r>0,"The aspect(%s) must be greater than zero.",r);var w=Zm(a)?k:a,C=Zm(s)?O:s;return r&&r>0&&(w?C=w/r:C&&(w=C*r),l&&C>l&&(C=l)),ly(w>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,w,C,a,s,i,o,r),I.Children.map(u,N=>I.cloneElement(N,{width:w,height:C,style:Z3({width:w,height:C},N.props.style)}))},[r,u,s,l,o,i,y,a]);return I.createElement("div",{id:f?"".concat(f):void 0,className:fn("recharts-responsive-container",h),style:Z3(Z3({},v),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:l}),ref:g},I.createElement("div",{style:{width:0,height:0,overflow:"visible"}},B))}),e2=e=>null;e2.displayName="Cell";function stt(e,t,r){return(t=itt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function itt(e){var t=ott(e,"string");return typeof t=="symbol"?t:t+""}function ott(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ltt{constructor(t){stt(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function FG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ctt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FG(Object(r),!0).forEach(function(n){utt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function utt(e,t,r){return(t=dtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dtt(e){var t=Att(e,"string");return typeof t=="symbol"?t:t+""}function Att(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ftt={cacheSize:2e3,enableCache:!0},yle=ctt({},ftt),OG=new ltt(yle.cacheSize),htt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DG="recharts_measurement_span";function mtt(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}var PG=(e,t)=>{try{var r=document.getElementById(DG);r||(r=document.createElement("span"),r.setAttribute("id",DG),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,htt,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},cy=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||eg.isSsr)return{width:0,height:0};if(!yle.enableCache)return PG(t,r);var n=mtt(t,r),a=OG.get(n);if(a)return a;var s=PG(t,r);return OG.set(n,s),s},RG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ptt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gtt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vtt=Object.keys(wle),yv="NaN";function xtt(e,t){return e*wle[t]}class jl{static parse(t){var r,[,n,a]=(r=gtt.exec(t))!==null&&r!==void 0?r:[];return new jl(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,kc(t)&&(this.unit=""),r!==""&&!ptt.test(r)&&(this.num=NaN,this.unit=""),vtt.includes(r)&&(this.num=xtt(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new jl(NaN,""):new jl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new jl(NaN,""):new jl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jl(NaN,""):new jl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jl(NaN,""):new jl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return kc(this.num)}}function Ele(e){if(e.includes(yv))return yv;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=RG.exec(t))!==null&&r!==void 0?r:[],i=jl.parse(n??""),o=jl.parse(s??""),l=a==="*"?i.multiply(o):i.divide(o);if(l.isNaN())return yv;t=t.replace(RG,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=LG.exec(t))!==null&&u!==void 0?u:[],p=jl.parse(d??""),v=jl.parse(h??""),g=f==="+"?p.add(v):p.subtract(v);if(g.isNaN())return yv;t=t.replace(LG,g.toString())}return t}var MG=/\(([^()]*)\)/;function btt(e){for(var t=e,r;(r=MG.exec(t))!=null;){var[,n]=r;t=t.replace(MG,Ele(n))}return t}function ytt(e){var t=e.replace(/\s+/g,"");return t=btt(t),t=Ele(t),t}function wtt(e){try{return ytt(e)}catch{return yv}}function eI(e){var t=wtt(e.slice(5,-1));return t===yv?"":t}var Ett=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ctt=["dx","dy","angle","className","breakAll"];function p6(){return p6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p6.apply(null,arguments)}function UG(e,t){if(e==null)return{};var r,n,a=_tt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _tt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cle=/[ \f\n\r\t\v\u2028\u2029]+/,_le=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ws(t)||(r?a=t.toString().split(""):a=t.toString().split(Cle));var s=a.map(o=>({word:o,width:cy(o,n).width})),i=r?0:cy("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}},Stt=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,u=or(s),d=i,f=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((F,M)=>{var{word:Q,width:J}=M,q=F[F.length-1];if(q&&(n==null||a||q.width+J+r<Number(n)))q.words.push(Q),q.width+=J+r;else{var Z={words:[Q],width:J};F.push(Z)}return F},[])},h=f(t),p=P=>P.reduce((j,F)=>j.width>F.width?j:F);if(!u||a)return h;var v=h.length>s||p(h).width>Number(n);if(!v)return h;for(var g="",b=P=>{var j=d.slice(0,P),F=_le({breakAll:l,style:o,children:j+g}).wordsWithComputedWidth,M=f(F),Q=M.length>s||p(M).width>Number(n);return[Q,M]},y=0,_=d.length-1,S=0,B;y<=_&&S<=d.length-1;){var k=Math.floor((y+_)/2),O=k-1,[w,C]=b(O),[N]=b(k);if(!w&&!N&&(y=k+1),w&&N&&(_=k-1),!w&&N){B=C;break}S++}return B||h},QG=e=>{var t=ws(e)?[]:e.toString().split(Cle);return[{words:t}]},Ntt=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!eg.isSsr){var o,l,u=_le({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return QG(n);return Stt({breakAll:s,children:n,maxLines:i,style:a},o,l,t,r)}return QG(n)},HG="#808080",e1=I.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:i=!1,textAnchor:o="start",verticalAnchor:l="end",fill:u=HG}=e,d=UG(e,Ett),f=I.useMemo(()=>Ntt({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:i,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,i,d.style,d.width]),{dx:h,dy:p,angle:v,className:g,breakAll:b}=d,y=UG(d,Ctt);if(!IA(r)||!IA(n))return null;var _=r+(or(h)?h:0),S=n+(or(p)?p:0),B;switch(l){case"start":B=eI("calc(".concat(s,")"));break;case"middle":B=eI("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:B=eI("calc(".concat(f.length-1," * -").concat(a,")"));break}var k=[];if(i){var O=f[0].width,{width:w}=d;k.push("scale(".concat(or(w)?w/O:1,")"))}return v&&k.push("rotate(".concat(v,", ").concat(_,", ").concat(S,")")),k.length&&(y.transform=k.join(" ")),I.createElement("text",p6({},Hn(y,!0),{ref:t,x:_,y:S,className:fn("recharts-text",g),textAnchor:o,fill:u.includes("url")?HG:u}),f.map((C,N)=>{var P=C.words.join(b?"":" ");return I.createElement("tspan",{x:_,dy:N===0?B:a,key:"".concat(P,"-").concat(N)},P)}))});e1.displayName="Text";var ktt=["offset"],Btt=["labelRef"];function VG(e,t){if(e==null)return{};var r,n,a=Ttt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ttt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zG(Object(r),!0).forEach(function(n){Itt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Itt(e,t,r){return(t=jtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jtt(e){var t=Ftt(e,"string");return typeof t=="symbol"?t:t+""}function Ftt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(null,arguments)}var Ott=e=>{var{value:t,formatter:r}=e,n=ws(e.children)?t:e.children;return typeof r=="function"?r(n):n},YR=e=>e!=null&&typeof e=="function",Dtt=(e,t)=>{var r=zi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Ptt=(e,t,r,n)=>{var{position:a,offset:s,className:i}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=n,v=(u+d)/2,g=Dtt(f,h),b=g>=0?1:-1,y,_;a==="insideStart"?(y=f+b*s,_=p):a==="insideEnd"?(y=h-b*s,_=!p):a==="end"&&(y=h+b*s,_=p),_=g<=0?_:!_;var S=Gn(o,l,v,y),B=Gn(o,l,v,y+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(B.x,",").concat(B.y),O=ws(e.id)?Jy("recharts-radial-line-"):e.id;return I.createElement("text",wf({},r,{dominantBaseline:"central",className:fn("recharts-radial-bar-label",i)}),I.createElement("defs",null,I.createElement("path",{id:O,d:k})),I.createElement("textPath",{xlinkHref:"#".concat(O)},t))},Rtt=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:d,y:f}=Gn(n,a,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:p,y:v}=Gn(n,a,h,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Ltt=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:s,y:i,width:o,height:l}=t,u=l>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=o>=0?1:-1,v=p*n,g=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var y={x:s+o/2,y:i-u*n,textAnchor:"middle",verticalAnchor:f};return hs(hs({},y),r?{height:Math.max(i-r.y,0),width:o}:{})}if(a==="bottom"){var _={x:s+o/2,y:i+l+d,textAnchor:"middle",verticalAnchor:h};return hs(hs({},_),r?{height:Math.max(r.y+r.height-(i+l),0),width:o}:{})}if(a==="left"){var S={x:s-v,y:i+l/2,textAnchor:g,verticalAnchor:"middle"};return hs(hs({},S),r?{width:Math.max(S.x-r.x,0),height:l}:{})}if(a==="right"){var B={x:s+o+v,y:i+l/2,textAnchor:b,verticalAnchor:"middle"};return hs(hs({},B),r?{width:Math.max(r.x+r.width-B.x,0),height:l}:{})}var k=r?{width:o,height:l}:{};return a==="insideLeft"?hs({x:s+v,y:i+l/2,textAnchor:b,verticalAnchor:"middle"},k):a==="insideRight"?hs({x:s+o-v,y:i+l/2,textAnchor:g,verticalAnchor:"middle"},k):a==="insideTop"?hs({x:s+o/2,y:i+d,textAnchor:"middle",verticalAnchor:h},k):a==="insideBottom"?hs({x:s+o/2,y:i+l-d,textAnchor:"middle",verticalAnchor:f},k):a==="insideTopLeft"?hs({x:s+v,y:i+d,textAnchor:b,verticalAnchor:h},k):a==="insideTopRight"?hs({x:s+o-v,y:i+d,textAnchor:g,verticalAnchor:h},k):a==="insideBottomLeft"?hs({x:s+v,y:i+l-d,textAnchor:b,verticalAnchor:f},k):a==="insideBottomRight"?hs({x:s+o-v,y:i+l-d,textAnchor:g,verticalAnchor:f},k):a&&typeof a=="object"&&(or(a.x)||Zm(a.x))&&(or(a.y)||Zm(a.y))?hs({x:s+fl(a.x,o),y:i+fl(a.y,l),textAnchor:"end",verticalAnchor:"end"},k):hs({x:s+o/2,y:i+l/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Mtt=e=>"cx"in e&&or(e.cx);function Pl(e){var{offset:t=5}=e,r=VG(e,ktt),n=hs({offset:t},r),{viewBox:a,position:s,value:i,children:o,content:l,className:u="",textBreakAll:d,labelRef:f}=n,h=nr(Gx),p=fR(),v=s==="center"?p:h??p,g=a||v;if(!g||ws(i)&&ws(o)&&!I.isValidElement(l)&&typeof l!="function")return null;var b=hs(hs({},n),{},{viewBox:g});if(I.isValidElement(l)){var{labelRef:y}=b,_=VG(b,Btt);return I.cloneElement(l,_)}var S;if(typeof l=="function"){if(S=I.createElement(l,b),I.isValidElement(S))return S}else S=Ott(n);var B=Mtt(g),k=Hn(n,!0);if(B&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ptt(n,S,k,g);var O=B?Rtt(g,n.offset,n.position):Ltt(n,g);return I.createElement(e1,wf({ref:f,className:fn("recharts-label",u)},k,O,{breakAll:d}),S)}Pl.displayName="Label";var Sle=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:s,r:i,radius:o,innerRadius:l,outerRadius:u,x:d,y:f,top:h,left:p,width:v,height:g,clockWise:b,labelViewBox:y}=e;if(y)return y;if(or(v)&&or(g)){if(or(d)&&or(f))return{x:d,y:f,width:v,height:g};if(or(h)&&or(p))return{x:h,y:p,width:v,height:g}}if(or(d)&&or(f))return{x:d,y:f,width:0,height:0};if(or(t)&&or(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:s||n||0,innerRadius:l||0,outerRadius:u||o||i||0,clockWise:b};if(e.viewBox)return e.viewBox},Utt=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?I.createElement(Pl,wf({key:"label-implicit"},n)):IA(e)?I.createElement(Pl,wf({key:"label-implicit",value:e},n)):I.isValidElement(e)?e.type===Pl?I.cloneElement(e,hs({key:"label-implicit"},n)):I.createElement(Pl,wf({key:"label-implicit",content:e},n)):YR(e)?I.createElement(Pl,wf({key:"label-implicit",content:e},n)):e&&typeof e=="object"?I.createElement(Pl,wf({},e,{key:"label-implicit"},n)):null},Qtt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:s}=t,i=Sle(t),o=zw(a,Pl).map((u,d)=>I.cloneElement(u,{viewBox:r||i,key:"label-".concat(d)}));if(!n)return o;var l=Utt(t.label,r||i,s);return[l,...o]};Pl.parseViewBox=Sle;Pl.renderCallByParent=Qtt;var tI={},rI={},$G;function Htt(){return $G||($G=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(rI)),rI}var nI={},KG;function Vtt(){return KG||(KG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(nI)),nI}var GG;function ztt(){return GG||(GG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Htt(),r=Vtt(),n=ZP();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a}(tI)),tI}var aI,qG;function $tt(){return qG||(qG=1,aI=ztt().last),aI}var Ktt=$tt();const Nle=hl(Ktt);var Gtt=["valueAccessor"],qtt=["data","dataKey","clockWise","id","textBreakAll"];function l5(){return l5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l5.apply(null,arguments)}function WG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WG(Object(r),!0).forEach(function(n){Wtt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wtt(e,t,r){return(t=Xtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xtt(e){var t=Ytt(e,"string");return typeof t=="symbol"?t:t+""}function Ytt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YG(e,t){if(e==null)return{};var r,n,a=Jtt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jtt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ztt=e=>Array.isArray(e.value)?Nle(e.value):e.value;function F0(e){var{valueAccessor:t=Ztt}=e,r=YG(e,Gtt),{data:n,dataKey:a,clockWise:s,id:i,textBreakAll:o}=r,l=YG(r,qtt);return!n||!n.length?null:I.createElement(as,{className:"recharts-label-list"},n.map((u,d)=>{var f=ws(a)?t(u,d):ja(u&&u.payload,a),h=ws(i)?{}:{id:"".concat(i,"-").concat(d)};return I.createElement(Pl,l5({},Hn(u,!0),l,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:o,viewBox:Pl.parseViewBox(ws(s)?u:XG(XG({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}F0.displayName="LabelList";function ert(e,t){return e?e===!0?I.createElement(F0,{key:"labelList-implicit",data:t}):I.isValidElement(e)||YR(e)?I.createElement(F0,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?I.createElement(F0,l5({data:t},e,{key:"labelList-implicit"})):null:null}function trt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=zw(n,F0).map((i,o)=>I.cloneElement(i,{data:t,key:"labelList-".concat(o)}));if(!r)return a;var s=ert(e.label,t);return[s,...a]}F0.renderCallByParent=trt;var rrt=["points","className","baseLinePoints","connectNulls"];function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(null,arguments)}function nrt(e,t){if(e==null)return{};var r,n,a=art(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function art(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JG=e=>e&&e.x===+e.x&&e.y===+e.y,srt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{JG(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),JG(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},uy=(e,t)=>{var r=srt(e);t&&(r=[r.reduce((a,s)=>[...a,...s],[])]);var n=r.map(a=>a.reduce((s,i,o)=>"".concat(s).concat(o===0?"M":"L").concat(i.x,",").concat(i.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},irt=(e,t,r)=>{var n=uy(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(uy(t.reverse(),r).slice(1))},kle=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:a}=e,s=nrt(e,rrt);if(!t||!t.length)return null;var i=fn("recharts-polygon",r);if(n&&n.length){var o=s.stroke&&s.stroke!=="none",l=irt(t,n,a);return I.createElement("g",{className:i},I.createElement("path",wv({},Hn(s,!0),{fill:l.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:l})),o?I.createElement("path",wv({},Hn(s,!0),{fill:"none",d:uy(t,a)})):null,o?I.createElement("path",wv({},Hn(s,!0),{fill:"none",d:uy(n,a)})):null)}var u=uy(t,a);return I.createElement("path",wv({},Hn(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:i,d:u}))};function g6(){return g6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g6.apply(null,arguments)}var JR=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=fn("recharts-dot",a);return t===+t&&r===+r&&n===+n?I.createElement("circle",g6({},Xo(e),JP(e),{className:s,cx:t,cy:r,r:n})):null},ZR=e=>e.graphicalItems.polarItems,ort=dt([Sa,qw],_R),eL=dt([ZR,Gs,ort],NR),lrt=dt([eL],kR),tL=dt([lrt,m4],BR),Ble=dt([tL,Gs,eL],IR),crt=dt([tL,Gs,eL],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=ja(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ja(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),ZG=()=>{},urt=dt([Gs,Doe,ZG,crt,ZG,yn,Sa],FR),Tle=dt([Gs,yn,tL,Ble,Kw,Sa,urt],OR),Ile=dt([Tle,Gs,cm],PR),drt=dt([Gs,Tle,Ile,Sa],LR),rL=(e,t,r)=>{switch(t){case"angleAxis":return Kx(e,r);case"radiusAxis":return Gw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nL=(e,t,r)=>{switch(t){case"angleAxis":return SJe(e,r);case"radiusAxis":return NJe(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},t1=dt([rL,cm,drt,nL],w4),jle=dt([yn,Ble,Wx,Sa],MR),r1=dt([yn,rL,cm,t1,Ile,nL,Yw,jle,Sa],zoe);dt([yn,rL,t1,nL,Yw,jle,Sa],Koe);var Art=(e,t)=>r1(e,"angleAxis",t,!1),frt=dt([Art],e=>{if(e)return e.map(t=>t.coordinate)}),hrt=(e,t)=>r1(e,"radiusAxis",t,!1),mrt=dt([hrt],e=>{if(e)return e.map(t=>t.coordinate)}),prt=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function grt(e,t){if(e==null)return{};var r,n,a=vrt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vrt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(null,arguments)}function eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eq(Object(r),!0).forEach(function(n){xrt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xrt(e,t,r){return(t=brt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function brt(e){var t=yrt(e,"string");return typeof t=="symbol"?t:t+""}function yrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wrt=(e,t,r,n)=>{var a="";return n.forEach((s,i)=>{var o=Gn(t,r,e,s);i?a+="L ".concat(o.x,",").concat(o.y):a+="M ".concat(o.x,",").concat(o.y)}),a+="Z",a},Ert=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,polarAngles:s,radialLines:i}=e;if(!s||!s.length||!i)return null;var o=Ex({stroke:"#ccc"},Xo(e));return I.createElement("g",{className:"recharts-polar-grid-angle"},s.map(l=>{var u=Gn(t,r,n,l),d=Gn(t,r,a,l);return I.createElement("line",Jf({},o,{key:"line-".concat(l),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},Crt=e=>{var{cx:t,cy:r,radius:n,index:a}=e,s=Ex(Ex({stroke:"#ccc"},Xo(e)),{},{fill:"none"});return I.createElement("circle",Jf({},s,{className:fn("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:t,cy:r,r:n}))},_rt=e=>{var{radius:t,index:r}=e,n=Ex(Ex({stroke:"#ccc"},Xo(e)),{},{fill:"none"});return I.createElement("path",Jf({},n,{className:fn("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:wrt(t,e.cx,e.cy,e.polarAngles)}))},Srt=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:I.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,a)=>{var s=a;return r==="circle"?I.createElement(Crt,Jf({key:s},e,{radius:n,index:a})):I.createElement(_rt,Jf({key:s},e,{radius:n,index:a}))}))},Fle=e=>{var t,r,n,a,s,i,o,l,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:p,cy:v,innerRadius:g,outerRadius:b}=e,y=grt(e,prt),_=nr(Gx),S=Ex({cx:(t=(r=_==null?void 0:_.cx)!==null&&r!==void 0?r:p)!==null&&t!==void 0?t:0,cy:(n=(a=_==null?void 0:_.cy)!==null&&a!==void 0?a:v)!==null&&n!==void 0?n:0,innerRadius:(s=(i=_==null?void 0:_.innerRadius)!==null&&i!==void 0?i:g)!==null&&s!==void 0?s:0,outerRadius:(o=(l=_==null?void 0:_.outerRadius)!==null&&l!==void 0?l:b)!==null&&o!==void 0?o:0},y),{polarAngles:B,polarRadius:k,cx:O,cy:w,innerRadius:C,outerRadius:N}=S,P=nr(Q=>frt(Q,f)),j=nr(Q=>mrt(Q,h)),F=Array.isArray(B)?B:P,M=Array.isArray(k)?k:j;return N<=0||F==null||M==null?null:I.createElement("g",{className:"recharts-polar-grid"},I.createElement(Ert,Jf({cx:O,cy:w,innerRadius:C,outerRadius:N,gridType:u,radialLines:d},S,{polarAngles:F,polarRadius:M})),I.createElement(Srt,Jf({cx:O,cy:w,innerRadius:C,outerRadius:N,gridType:u,radialLines:d},S,{polarAngles:F,polarRadius:M})))};Fle.displayName="PolarGrid";var sI={},iI={},tq;function Nrt(){return tq||(tq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],s=n(a);for(let i=1;i<r.length;i++){const o=r[i],l=n(o);l>s&&(s=l,a=o)}return a}e.maxBy=t}(iI)),iI}var rq;function krt(){return rq||(rq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nrt(),r=a4(),n=aR();function a(s,i){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(i??r.identity))}e.maxBy=a}(sI)),sI}var oI,nq;function Brt(){return nq||(nq=1,oI=krt().maxBy),oI}var Trt=Brt();const Irt=hl(Trt);var lI={},cI={},aq;function jrt(){return aq||(aq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],s=n(a);for(let i=1;i<r.length;i++){const o=r[i],l=n(o);l<s&&(s=l,a=o)}return a}e.minBy=t}(cI)),cI}var sq;function Frt(){return sq||(sq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jrt(),r=a4(),n=aR();function a(s,i){if(s!=null)return t.minBy(Array.from(s),n.iteratee(i??r.identity))}e.minBy=a}(lI)),lI}var uI,iq;function Ort(){return iq||(iq=1,uI=Frt().minBy),uI}var Drt=Ort();const Prt=hl(Drt);var Rrt={radiusAxis:{},angleAxis:{}},Ole=jc({name:"polarAxis",initialState:Rrt,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Lrt,removeRadiusAxis:Mrt,addAngleAxis:Urt,removeAngleAxis:Qrt}=Ole.actions,Hrt=Ole.reducer,Vrt=["cx","cy","angle","axisLine"],zrt=["angle","tickFormatter","stroke","tick"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}function oq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oq(Object(r),!0).forEach(function(n){S4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S4(e,t,r){return(t=$rt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $rt(e){var t=Krt(e,"string");return typeof t=="symbol"?t:t+""}function Krt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dle(e,t){if(e==null)return{};var r,n,a=Grt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Grt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ple="radiusAxis";function qrt(e){var t=ss();return I.useEffect(()=>(t(Lrt(e)),()=>{t(Mrt(e))})),null}var Wrt=(e,t,r,n)=>{var{coordinate:a}=e;return Gn(r,n,a,t)},Xrt=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},Yrt=(e,t,r,n)=>{var a=Irt(n,i=>i.coordinate||0),s=Prt(n,i=>i.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:a.coordinate||0}},Jrt=(e,t)=>{var{cx:r,cy:n,angle:a,axisLine:s}=e,i=Dle(e,Vrt),o=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),l=Gn(r,n,o[0],a),u=Gn(r,n,o[1],a),d=gA(gA(gA({},Xo(i)),{},{fill:"none"},Hn(s,!1)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return I.createElement("line",sw({className:"recharts-polar-radius-axis-line"},d))},Zrt=(e,t,r)=>{var n;return I.isValidElement(e)?n=I.cloneElement(e,t):typeof e=="function"?n=e(t):n=I.createElement(e1,sw({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},ent=(e,t)=>{var{angle:r,tickFormatter:n,stroke:a,tick:s}=e,i=Dle(e,zrt),o=Xrt(e.orientation),l=Xo(i),u=Hn(s,!1),d=t.map((f,h)=>{var p=Wrt(f,e.angle,e.cx,e.cy),v=gA(gA(gA(gA({textAnchor:o,transform:"rotate(".concat(90-r,", ").concat(p.x,", ").concat(p.y,")")},l),{},{stroke:"none",fill:a},u),{},{index:h},p),{},{payload:f});return I.createElement(as,sw({className:fn("recharts-polar-radius-axis-tick",_ie(s)),key:"tick-".concat(f.coordinate)},Hx(e,f,h)),Zrt(s,v,n?n(f.value,h):f.value))});return I.createElement(as,{className:"recharts-polar-radius-axis-ticks"},d)},tnt=e=>{var{radiusAxisId:t}=e,r=nr(Gx),n=nr(l=>t1(l,"radiusAxis",t)),a=nr(l=>r1(l,"radiusAxis",t,!1));if(r==null||!a||!a.length)return null;var s=gA(gA(gA({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:i,axisLine:o}=s;return I.createElement(as,{className:fn("recharts-polar-radius-axis",Ple,s.className)},o&&Jrt(s,a),i&&ent(s,a),Pl.renderCallByParent(s,Yrt(s.angle,s.cx,s.cy,a)))};class N4 extends I.PureComponent{render(){return I.createElement(I.Fragment,null,I.createElement(qrt,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),I.createElement(tnt,this.props))}}S4(N4,"displayName","PolarRadiusAxis");S4(N4,"axisType",Ple);S4(N4,"defaultProps",Dl);var rnt=["children"];function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(null,arguments)}function lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lq(Object(r),!0).forEach(function(n){k4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k4(e,t,r){return(t=nnt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nnt(e){var t=ant(e,"string");return typeof t=="symbol"?t:t+""}function ant(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function snt(e,t){if(e==null)return{};var r,n,a=int(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function int(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ont=Math.PI/180,cq=1e-5,Rle="angleAxis";function lnt(e){var t=ss(),r=I.useMemo(()=>{var{children:s}=e,i=snt(e,rnt);return i},[e]),n=nr(s=>Kx(s,r.id)),a=r===n;return I.useEffect(()=>(t(Urt(r)),()=>{t(Qrt(r))}),[t,r]),a?e.children:null}var cnt=(e,t)=>{var{cx:r,cy:n,radius:a,orientation:s,tickSize:i}=t,o=i||8,l=Gn(r,n,a,e.coordinate),u=Gn(r,n,a+(s==="inner"?-1:1)*o,e.coordinate);return{x1:l.x,y1:l.y,x2:u.x,y2:u.y}},unt=(e,t)=>{var r=Math.cos(-e.coordinate*ont);return r>cq?t==="outer"?"start":"end":r<-cq?t==="outer"?"end":"start":"middle"},dnt=e=>{var{cx:t,cy:r,radius:n,axisLineType:a,axisLine:s,ticks:i}=e;if(!s)return null;var o=AA(AA({},Xo(e)),{},{fill:"none"},Hn(s,!1));if(a==="circle")return I.createElement(JR,Zf({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:r,r:n}));var l=i.map(u=>Gn(t,r,n,u.coordinate));return I.createElement(kle,Zf({className:"recharts-polar-angle-axis-line"},o,{points:l}))},Ant=e=>{var{tick:t,tickProps:r,value:n}=e;return t?I.isValidElement(t)?I.cloneElement(t,r):typeof t=="function"?t(r):I.createElement(e1,Zf({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},fnt=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:a,ticks:s}=e,i=Xo(e),o=Hn(t,!1),l=AA(AA({},i),{},{fill:"none"},Hn(r,!1)),u=s.map((d,f)=>{var h=cnt(d,e),p=unt(d,e.orientation),v=AA(AA(AA({},i),{},{textAnchor:p,stroke:"none",fill:a},o),{},{index:f,payload:d,x:h.x2,y:h.y2});return I.createElement(as,Zf({className:fn("recharts-polar-angle-axis-tick",_ie(t)),key:"tick-".concat(d.coordinate)},Hx(e,d,f)),r&&I.createElement("line",Zf({className:"recharts-polar-angle-axis-tick-line"},l,h)),I.createElement(Ant,{tick:t,tickProps:v,value:n?n(d.value,f):d.value}))});return I.createElement(as,{className:"recharts-polar-angle-axis-ticks"},u)},hnt=e=>{var{angleAxisId:t}=e,r=nr(Gx),n=nr(o=>t1(o,"angleAxis",t)),a=Kl(),s=nr(o=>r1(o,"angleAxis",t,a));if(r==null||!s||!s.length)return null;var i=AA(AA(AA({},e),{},{scale:n},r),{},{radius:r.outerRadius});return I.createElement(as,{className:fn("recharts-polar-angle-axis",Rle,i.className)},I.createElement(dnt,Zf({},i,{ticks:s})),I.createElement(fnt,Zf({},i,{ticks:s})))};class B4 extends I.PureComponent{render(){return this.props.radius<=0?null:I.createElement(lnt,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},I.createElement(hnt,this.props))}}k4(B4,"displayName","PolarAngleAxis");k4(B4,"axisType",Rle);k4(B4,"defaultProps",dA);function uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uq(Object(r),!0).forEach(function(n){mnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mnt(e,t,r){return(t=pnt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pnt(e){var t=gnt(e,"string");return typeof t=="symbol"?t:t+""}function gnt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vnt=(e,t)=>t,aL=dt([ZR,vnt],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),xnt=[],sL=(e,t,r)=>(r==null?void 0:r.length)===0?xnt:r,Lle=dt([m4,aL,sL],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>dq(dq({},t.presentationProps),s.props))),a!=null)return a}}),bnt=dt([Lle,aL,sL],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=ja(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Vx(i,t.dataKey),color:o,payload:n,type:t.legendType}})}),ynt=dt([Lle,aL,sL,Ci],(e,t,r,n)=>{if(!(t==null||e==null))return hat({offset:n,pieSettings:t,displayedData:e,cells:r})}),dI={},Aq;function wnt(){return Aq||(Aq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(dI)),dI}var AI,fq;function Ent(){return fq||(fq=1,AI=wnt().isPlainObject),AI}var Cnt=Ent();const _nt=hl(Cnt);function c5(){return c5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c5.apply(null,arguments)}var hq=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},Snt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nnt=e=>{var t=Tu(e,Snt),r=I.useRef(),[n,a]=I.useState(-1);I.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var{x:s,y:i,upperWidth:o,lowerWidth:l,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:v}=t;if(s!==+s||i!==+i||o!==+o||l!==+l||u!==+u||o===0&&l===0||u===0)return null;var g=fn("recharts-trapezoid",d);return v?I.createElement(r5,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:i},to:{upperWidth:o,lowerWidth:l,height:u,x:s,y:i},duration:h,animationEasing:f,isActive:v},b=>{var{upperWidth:y,lowerWidth:_,height:S,x:B,y:k}=b;return I.createElement(r5,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},I.createElement("path",c5({},Hn(t,!0),{className:g,d:hq(B,k,y,_,S),ref:r})))}):I.createElement("g",null,I.createElement("path",c5({},Hn(t,!0),{className:g,d:hq(s,i,o,l,u)})))},knt=["option","shapeType","propTransformer","activeClassName","isActive"];function Bnt(e,t){if(e==null)return{};var r,n,a=Tnt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tnt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mq(Object(r),!0).forEach(function(n){Int(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Int(e,t,r){return(t=jnt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jnt(e){var t=Fnt(e,"string");return typeof t=="symbol"?t:t+""}function Fnt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ont(e,t){return u5(u5({},t),e)}function Dnt(e,t){return e==="symbols"}function pq(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return I.createElement(Gie,r);case"trapezoid":return I.createElement(Nnt,r);case"sector":return I.createElement(Xie,r);case"symbols":if(Dnt(t))return I.createElement(zse,r);break;default:return null}}function Pnt(e){return I.isValidElement(e)?e.props:e}function Mle(e){var{option:t,shapeType:r,propTransformer:n=Ont,activeClassName:a="recharts-active-shape",isActive:s}=e,i=Bnt(e,knt),o;if(I.isValidElement(t))o=I.cloneElement(t,u5(u5({},i),Pnt(t)));else if(typeof t=="function")o=t(i);else if(_nt(t)&&typeof t!="boolean"){var l=n(t,i);o=I.createElement(pq,{shapeType:r,elementProps:l})}else{var u=i;o=I.createElement(pq,{shapeType:r,elementProps:u})}return s?I.createElement(as,{className:a},o):o}var iL=(e,t)=>{var r=ss();return(n,a)=>s=>{e==null||e(n,a,s),r(Joe({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},oL=e=>{var t=ss();return(r,n)=>a=>{e==null||e(r,n,a),t(wZe())}},lL=(e,t)=>{var r=ss();return(n,a)=>s=>{e==null||e(n,a,s),r(EZe({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function cL(e){var{fn:t,args:r}=e,n=ss(),a=Kl();return I.useEffect(()=>{if(!a){var s=t(r);return n(xZe(s)),()=>{n(bZe(s))}}},[t,r,n,a]),null}var Ule=()=>{};function Rnt(e){var{legendPayload:t}=e,r=ss(),n=Kl();return I.useEffect(()=>n?Ule:(r(Rie(t)),()=>{r(Lie(t))}),[r,n,t]),null}function Qle(e){var{legendPayload:t}=e,r=ss(),n=nr(yn);return I.useEffect(()=>n!=="centric"&&n!=="radial"?Ule:(r(Rie(t)),()=>{r(Lie(t))}),[r,n,t]),null}function uL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=I.useRef(Jy(t)),n=I.useRef(e);return n.current!==e&&(r.current=Jy(t),n.current=e),r.current}var fI,Lnt=()=>{var[e]=I.useState(()=>Jy("uid-"));return e},Mnt=(fI=que.useId)!==null&&fI!==void 0?fI:Lnt;function Unt(e,t){var r=Mnt();return t||(e?"".concat(e,"-").concat(r):r)}var Qnt=I.createContext(void 0),dL=e=>{var{id:t,type:r,children:n}=e,a=Unt("recharts-".concat(r),t);return I.createElement(Qnt.Provider,{value:a},n(a))},Hnt={cartesianItems:[],polarItems:[]},Hle=jc({name:"graphicalItems",initialState:Hnt,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Pf(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Pf(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Pf(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Vnt,replaceCartesianGraphicalItem:znt,removeCartesianGraphicalItem:$nt,addPolarGraphicalItem:Knt,removePolarGraphicalItem:Gnt}=Hle.actions,qnt=Hle.reducer;function Wnt(e){var t=ss(),r=I.useRef(null);return I.useEffect(()=>{r.current===null?t(Vnt(e)):r.current!==e&&t(znt({prev:r.current,next:e})),r.current=e},[t,e]),I.useEffect(()=>()=>{r.current&&(t($nt(r.current)),r.current=null)},[t]),null}function Vle(e){var t=ss();return I.useEffect(()=>(t(Knt(e)),()=>{t(Gnt(e))}),[t,e]),null}function Xnt(){}var Ynt={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gq={t:0},hI={t:1};function AL(e){var t=Tu(e,Ynt),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=Kie("JavascriptAnimate",t.animationManager),[f,h]=I.useState(r?gq:hI),p=I.useRef(null);return I.useEffect(()=>{r||h(hI)},[r]),I.useEffect(()=>{if(!r||!n)return Xnt;var v=$ie(gq,hI,Vie(s),a,h,d.getTimeoutController()),g=()=>{p.current=v()};return d.start([l,i,g,a,o]),()=>{d.stop(),p.current&&p.current(),o()}},[r,n,a,s,i,l,o,d]),u(f.t)}var Jnt=["onMouseEnter","onClick","onMouseLeave"],Znt=["id"],eat=["id"];function fL(e,t){if(e==null)return{};var r,n,a=tat(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tat(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vq(Object(r),!0).forEach(function(n){rat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rat(e,t,r){return(t=nat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nat(e){var t=aat(e,"string");return typeof t=="symbol"?t:t+""}function aat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(null,arguments)}function sat(e){var t=I.useMemo(()=>zw(e.children,e2),[e.children]),r=nr(n=>bnt(n,e.id,t));return r==null?null:I.createElement(Qle,{legendPayload:r})}function iat(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:Vx(o,t),hide:l,type:u,color:i,unit:""}}}var oat=(e,t)=>e>t?"start":e<t?"end":"middle",lat=(e,t,r)=>typeof t=="function"?t(e):fl(t,r,r*.8),cat=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,o=Cie(s,i),l=a+fl(e.cx,s,s/2),u=n+fl(e.cy,i,i/2),d=fl(e.innerRadius,o,0),f=lat(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},uat=(e,t)=>{var r=zi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},dat=(e,t)=>{if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return e(t);var r=fn("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return I.createElement(Uie,eh({},t,{type:"linear",className:r}))},Aat=(e,t,r)=>{if(I.isValidElement(e))return I.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),I.isValidElement(n)))return n;var a=fn("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return I.createElement(e1,eh({},t,{alignmentBaseline:"middle",className:a}),n)};function fat(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var o=Xo(r),l=Hn(a,!1),u=Hn(s,!1),d=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,f=t.map((h,p)=>{var v=(h.startAngle+h.endAngle)/2,g=Gn(h.cx,h.cy,h.outerRadius+d,v),b=vs(vs(vs(vs({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:oat(g.x,h.cx)},g),y=vs(vs(vs(vs({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[Gn(h.cx,h.cy,h.outerRadius,v),g],key:"line"});return I.createElement(as,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},s&&dat(s,y),Aat(a,b,ja(h,i)))});return I.createElement(as,{className:"recharts-pie-labels"},f)}function zle(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,showLabels:s}=e,i=nr(Y0),{onMouseEnter:o,onClick:l,onMouseLeave:u}=a,d=fL(a,Jnt),f=iL(o,a.dataKey),h=oL(u),p=lL(l,a.dataKey);return t==null?null:I.createElement(I.Fragment,null,t.map((v,g)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var b=r&&String(g)===i,y=i?n:null,_=b?r:y,S=vs(vs({},v),{},{stroke:v.stroke,tabIndex:-1,[Tie]:g,[Iie]:a.dataKey});return I.createElement(as,eh({tabIndex:-1,className:"recharts-pie-sector"},Hx(d,v,g),{onMouseEnter:f(v,g),onMouseLeave:h(v,g),onClick:p(v,g),key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(g)}),I.createElement(Mle,eh({option:_,isActive:b,shapeType:"sector"},S)))}),I.createElement(fat,{sectors:t,props:a,showLabels:s}))}function hat(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),p=uat(o,l),v=Math.abs(p),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=n.filter(O=>ja(O,u,0)!==0).length,y=(v>=360?b:b-1)*g,_=v-b*h-y,S=n.reduce((O,w)=>{var C=ja(w,u,0);return O+(or(C)?C:0)},0),B;if(S>0){var k;B=n.map((O,w)=>{var C=ja(O,u,0),N=ja(O,d,w),P=cat(r,s,O),j=(or(C)?C:0)/S,F,M=vs(vs({},O),a&&a[w]&&a[w].props);w?F=k.endAngle+zi(p)*g*(C!==0?1:0):F=o;var Q=F+zi(p)*((C!==0?h:0)+j*_),J=(F+Q)/2,q=(P.innerRadius+P.outerRadius)/2,Z=[{name:N,value:C,payload:M,dataKey:u,type:f}],H=Gn(P.cx,P.cy,q,J);return k=vs(vs(vs(vs({},r.presentationProps),{},{percent:j,cornerRadius:i,name:N,tooltipPayload:Z,midAngle:J,middleRadius:q,tooltipPosition:H},M),P),{},{value:ja(O,u),startAngle:F,endAngle:Q,payload:M,paddingAngle:zi(p)*g}),k})}return B}function mat(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,activeShape:l,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=uL(t,"recharts-pie-"),p=r.current,[v,g]=I.useState(!0),b=I.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),y=I.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return I.createElement(AL,{begin:s,duration:i,isActive:a,easing:o,onAnimationStart:y,onAnimationEnd:b,key:h},_=>{var S=[],B=n&&n[0],k=B.startAngle;return n.forEach((O,w)=>{var C=p&&p[w],N=w>0?X0(O,"paddingAngle",0):0;if(C){var P=bv(C.endAngle-C.startAngle,O.endAngle-O.startAngle),j=vs(vs({},O),{},{startAngle:k+N,endAngle:k+P(_)+N});S.push(j),k=j.endAngle}else{var{endAngle:F,startAngle:M}=O,Q=bv(0,F-M),J=Q(_),q=vs(vs({},O),{},{startAngle:k+N,endAngle:k+J+N});S.push(q),k=q.endAngle}}),r.current=S,I.createElement(as,null,I.createElement(zle,{sectors:S,activeShape:l,inactiveShape:u,allOtherPieProps:t,showLabels:!v}))})}function pat(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:a}=e,s=I.useRef(null),i=s.current;return r&&t&&t.length&&(!i||i!==t)?I.createElement(mat,{props:e,previousSectorsRef:s}):I.createElement(zle,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function gat(e){var{hide:t,className:r,rootTabIndex:n}=e,a=fn("recharts-pie",r);return t?null:I.createElement(as,{tabIndex:n,className:a},I.createElement(pat,e))}var vat={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!eg.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function xat(e){var{id:t}=e,r=fL(e,Znt),n=I.useMemo(()=>zw(e.children,e2),[e.children]),a=nr(s=>ynt(s,t,n));return I.createElement(I.Fragment,null,I.createElement(cL,{fn:iat,args:vs(vs({},e),{},{sectors:a})}),I.createElement(gat,eh({},r,{sectors:a})))}function $le(e){var t=Tu(e,vat),{id:r}=t,n=fL(t,eat),a=Xo(n);return I.createElement(dL,{id:r,type:"pie"},s=>I.createElement(I.Fragment,null,I.createElement(Vle,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a}),I.createElement(sat,eh({},n,{id:s})),I.createElement(xat,eh({},n,{id:s})),n.children))}$le.displayName="Pie";var bat=dt([Ci],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),yat=dt([bat,oh,lh],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Kle=()=>nr(yat),wat=()=>nr(uet);function xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xq(Object(r),!0).forEach(function(n){Eat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eat(e,t,r){return(t=Cat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cat(e){var t=_at(e,"string");return typeof t=="symbol"?t:t+""}function _at(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sat=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s}=e;if(a===!1||t.x==null||t.y==null)return null;var i=bq(bq({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Hn(a,!1)),JP(a)),o;return I.isValidElement(a)?o=I.cloneElement(a,i):typeof a=="function"?o=a(i):o=I.createElement(JR,i),I.createElement(as,{className:"recharts-active-dot"},o)};function Nat(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,s=nr(Y0),i=wat();if(t==null||i==null)return null;var o=t.find(l=>i.includes(l.payload));return ws(o)?null:Sat({point:o,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:n})}function yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yq(Object(r),!0).forEach(function(n){kat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kat(e,t,r){return(t=Bat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bat(e){var t=Tat(e,"string");return typeof t=="symbol"?t:t+""}function Tat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gle=(e,t)=>t1(e,"radiusAxis",t),Iat=dt([Gle],e=>{if(e!=null)return{scale:e}}),jat=dt([Gw,Gle],(e,t)=>{if(!(e==null||t==null))return d5(d5({},e),{},{scale:t})}),Fat=(e,t,r,n)=>r1(e,"radiusAxis",t,n),qle=(e,t,r)=>Kx(e,r),Wle=(e,t,r)=>t1(e,"angleAxis",r),Oat=dt([qle,Wle],(e,t)=>{if(!(e==null||t==null))return d5(d5({},e),{},{scale:t})}),Dat=(e,t,r,n)=>r1(e,"angleAxis",r,n),Pat=dt([qle,Wle,Gx],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),Rat=(e,t,r,n,a)=>a,Lat=dt([yn,jat,Fat,Oat,Dat],(e,t,r,n,a)=>im(e,"radiusAxis")?tw(t,r,!1):tw(n,a,!1)),Mat=dt([ZR,Rat],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),Uat=dt([Iat,Pat,m4,Mat,Lat],(e,t,r,n,a)=>{var{chartData:s,dataStartIndex:i,dataEndIndex:o}=r;if(!(e==null||t==null||s==null||a==null||n==null)){var l=s.slice(i,o+1);return Wat({radiusAxis:e,angleAxis:t,displayedData:l,dataKey:n,bandSize:a})}}),Qat=["id"];function Hat(e,t){if(e==null)return{};var r,n,a=Vat(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vat(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wq(Object(r),!0).forEach(function(n){hL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hL(e,t,r){return(t=zat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zat(e){var t=$at(e,"string");return typeof t=="symbol"?t:t+""}function $at(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(null,arguments)}function mL(e,t){return e&&e!=="none"?e:t}var Kat=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:mL(n,a),value:Vx(r,t),payload:e}]};function Gat(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,tooltipType:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,nameKey:void 0,dataKey:t,name:Vx(s,t),hide:i,type:o,color:mL(r,a),unit:""}}}function qat(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):typeof e=="function"?r=e(t):r=I.createElement(JR,Cx({},t,{className:fn("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function Wat(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:a,bandSize:s}=e,{cx:i,cy:o}=r,l=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,p)=>{var v=ja(h,r.dataKey,p),g=ja(h,a),b=r.scale(v)+d,y=Array.isArray(g)?Nle(g):g,_=ws(y)?void 0:t.scale(y);Array.isArray(g)&&g.length>=2&&(l=!0),u.push(ll(ll({},Gn(i,o,_,b)),{},{name:v,value:g,cx:i,cy:o,radius:_,angle:b,payload:h}))});var f=[];return l&&u.forEach(h=>{if(Array.isArray(h.value)){var p=h.value[0],v=ws(p)?void 0:t.scale(p);f.push(ll(ll({},h),{},{radius:v},Gn(i,o,v,h.angle)))}else f.push(h)}),{points:u,isRange:l,baseLinePoints:f}}function Xat(e){var{points:t,props:r}=e,{dot:n,dataKey:a}=r;if(!n)return null;var{id:s}=r,i=Hat(r,Qat),o=Xo(i),l=Hn(n,!0),u=t.map((d,f)=>{var h=ll(ll(ll({key:"dot-".concat(f),r:3},o),l),{},{dataKey:a,cx:d.x,cy:d.y,index:f,payload:d});return qat(n,h)});return I.createElement(as,{className:"recharts-radar-dots"},u)}function Xle(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:a,isRange:s,baseLinePoints:i,connectNulls:o}=r,l=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return I.isValidElement(a)?d=I.cloneElement(a,ll(ll({},r),{},{points:t})):typeof a=="function"?d=a(ll(ll({},r),{},{points:t})):d=I.createElement(kle,Cx({},Hn(r,!0),{onMouseEnter:l,onMouseLeave:u,points:t,baseLinePoints:s?i:null,connectNulls:o})),I.createElement(as,{className:"recharts-radar-polygon"},d,I.createElement(Xat,{props:r,points:t}),n&&F0.renderCallByParent(r,t))}function Yat(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,onAnimationEnd:l,onAnimationStart:u}=t,d=r.current,f=uL(t,"recharts-radar-"),[h,p]=I.useState(!0),v=I.useCallback(()=>{typeof l=="function"&&l(),p(!1)},[l]),g=I.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return I.createElement(AL,{begin:s,duration:i,isActive:a,easing:o,key:"radar-".concat(f),onAnimationEnd:v,onAnimationStart:g},b=>{var y=d&&d.length/n.length,_=b===1?n:n.map((S,B)=>{var k=d&&d[Math.floor(B*y)];if(k){var O=bv(k.x,S.x),w=bv(k.y,S.y);return ll(ll({},S),{},{x:O(b),y:w(b)})}var C=bv(S.cx,S.x),N=bv(S.cy,S.y);return ll(ll({},S),{},{x:C(b),y:N(b)})});return b>0&&(r.current=_),I.createElement(Xle,{points:_,props:t,showLabels:!h})})}function Jat(e){var{points:t,isAnimationActive:r,isRange:n}=e,a=I.useRef(void 0),s=a.current;return r&&t&&t.length&&!n&&(!s||s!==t)?I.createElement(Yat,{props:e,previousPointsRef:a}):I.createElement(Xle,{points:t,props:e,showLabels:!0})}var Zat={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!eg.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class est extends I.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var a=fn("recharts-radar",r);return I.createElement(I.Fragment,null,I.createElement(as,{className:a},I.createElement(Jat,this.props)),I.createElement(Nat,{points:n,mainColor:mL(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function tst(e){var t=Kl(),r=nr(n=>Uat(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return I.createElement(est,Cx({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class pL extends I.PureComponent{render(){return I.createElement(dL,{id:this.props.id,type:"radar"},t=>I.createElement(I.Fragment,null,I.createElement(Vle,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),I.createElement(Qle,{legendPayload:Kat(this.props)}),I.createElement(cL,{fn:Gat,args:this.props}),I.createElement(tst,Cx({},this.props,{id:t}))))}}hL(pL,"displayName","Radar");hL(pL,"defaultProps",Zat);var rst="Invariant failed";function nst(e,t){throw new Error(rst)}var ast=["x","y"];function v6(){return v6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v6.apply(null,arguments)}function Eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eq(Object(r),!0).forEach(function(n){sst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sst(e,t,r){return(t=ist(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ist(e){var t=ost(e,"string");return typeof t=="symbol"?t:t+""}function ost(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lst(e,t){if(e==null)return{};var r,n,a=cst(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cst(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ust(e,t){var{x:r,y:n}=e,a=lst(e,ast),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ab(Ab(Ab(Ab(Ab({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Yle(e){return I.createElement(Mle,v6({shapeType:"rectangle",propTransformer:ust,activeClassName:"recharts-active-bar"},e))}var dst=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(or(t))return t;var s=or(n)||ws(n);return s?t(n,a):(s||nst(),r)}},Ast={},Jle=jc({name:"errorBars",initialState:Ast,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Sct,removeErrorBar:Nct}=Jle.actions,fst=Jle.reducer,hst=["children"];function mst(e,t){if(e==null)return{};var r,n,a=pst(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pst(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gst={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vst=I.createContext(gst);function xst(e){var{children:t}=e,r=mst(e,hst);return I.createElement(vst.Provider,{value:r},t)}function Zle(e,t){var r,n,a=nr(u=>ch(u,e)),s=nr(u=>lm(u,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:fc.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:hc.allowDataOverflow,l=i||o;return{needClip:l,needClipX:i,needClipY:o}}function bst(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Kle(),{needClipX:s,needClipY:i,needClip:o}=Zle(t,r);if(!o)return null;var{x:l,y:u,width:d,height:f}=a;return I.createElement("clipPath",{id:"clipPath-".concat(n)},I.createElement("rect",{x:s?l:l-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}var yst=["onMouseEnter","onMouseLeave","onClick"],wst=["value","background","tooltipPosition"],Est=["id"],Cst=["onMouseEnter","onClick","onMouseLeave"];function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_x.apply(null,arguments)}function Cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cq(Object(r),!0).forEach(function(n){_st(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _st(e,t,r){return(t=Sst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sst(e){var t=Nst(e,"string");return typeof t=="symbol"?t:t+""}function Nst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A5(e,t){if(e==null)return{};var r,n,a=kst(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kst(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bst=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Vx(r,t),payload:e}]};function Tst(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Vx(s,t),hide:i,type:e.tooltipType,color:e.fill,unit:o}}}function Ist(e){var t=nr(Y0),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:o,onClick:l}=s,u=A5(s,yst),d=iL(i,n),f=oL(o),h=lL(l,n);if(!a||r==null)return null;var p=Hn(a,!1);return I.createElement(I.Fragment,null,r.map((v,g)=>{var{value:b,background:y,tooltipPosition:_}=v,S=A5(v,wst);if(!y)return null;var B=d(v,g),k=f(v,g),O=h(v,g),w=Uo(Uo(Uo(Uo(Uo({option:a,isActive:String(g)===t},S),{},{fill:"#eee"},y),p),Hx(u,v,g)),{},{onMouseEnter:B,onMouseLeave:k,onClick:O,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return I.createElement(Yle,_x({key:"background-bar-".concat(g)},w))}))}function ece(e){var{data:t,props:r,showLabels:n}=e,a=Xo(r),{id:s}=a,i=A5(a,Est),{shape:o,dataKey:l,activeBar:u}=r,d=nr(Y0),f=nr(dle),{onMouseEnter:h,onClick:p,onMouseLeave:v}=r,g=A5(r,Cst),b=iL(h,l),y=oL(v),_=lL(p,l);return t?I.createElement(I.Fragment,null,t.map((S,B)=>{var k=u&&String(B)===d&&(f==null||l===f),O=k?u:o,w=Uo(Uo(Uo({},i),S),{},{isActive:k,option:O,index:B,dataKey:l});return I.createElement(as,_x({className:"recharts-bar-rectangle"},Hx(g,S,B),{onMouseEnter:b(S,B),onMouseLeave:y(S,B),onClick:_(S,B),key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(B)}),I.createElement(Yle,w))}),n&&F0.renderCallByParent(r,t)):null}function jst(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=uL(t,"recharts-bar-"),[p,v]=I.useState(!1),g=I.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),b=I.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return I.createElement(AL,{begin:i,duration:o,isActive:s,easing:l,onAnimationEnd:g,onAnimationStart:b,key:h},y=>{var _=y===1?n:n==null?void 0:n.map((S,B)=>{var k=f&&f[B];if(k)return Uo(Uo({},S),{},{x:ev(k.x,S.x,y),y:ev(k.y,S.y,y),width:ev(k.width,S.width,y),height:ev(k.height,S.height,y)});if(a==="horizontal"){var O=ev(0,S.height,y);return Uo(Uo({},S),{},{y:S.y+S.height-O,height:O})}var w=ev(0,S.width,y);return Uo(Uo({},S),{},{width:w})});return y>0&&(r.current=_??null),_==null?null:I.createElement(as,null,I.createElement(ece,{props:t,data:_,showLabels:!p}))})}function Fst(e){var{data:t,isAnimationActive:r}=e,n=I.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?I.createElement(jst,{previousRectanglesRef:n,props:e}):I.createElement(ece,{props:e,data:t,showLabels:!0})}var tce=0,Ost=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ja(e,t)}};class Dst extends I.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:o,background:l,id:u}=this.props;if(t)return null;var d=fn("recharts-bar",a),f=u;return I.createElement(as,{className:d,id:u},o&&I.createElement("defs",null,I.createElement(bst,{clipPathId:f,xAxisId:s,yAxisId:i})),I.createElement(as,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},I.createElement(Ist,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),I.createElement(Fst,this.props)),this.props.children)}}var Pst={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!eg.isSsr,legendType:"rect",minPointSize:tce,xAxisId:0,yAxisId:0};function Rst(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Zle(t,r),h=hR(),p=Kl(),v=zw(e.children,e2),g=nr(_=>uit(_,t,r,p,e.id,v));if(h!=="vertical"&&h!=="horizontal")return null;var b,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?b=0:b=h==="vertical"?y.height/2:y.width/2,I.createElement(xst,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:Ost,errorBarOffset:b},I.createElement(Dst,_x({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function Lst(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p}=e,v=t==="horizontal"?o:i,g=d?v.scale.domain():null,b=SXe({numericAxis:v});return f.map((y,_)=>{var S,B,k,O,w,C;d?S=bXe(d[_],g):(S=ja(y,r),Array.isArray(S)||(S=[b,S]));var N=dst(n,tce)(S[1],_);if(t==="horizontal"){var P,[j,F]=[o.scale(S[0]),o.scale(S[1])];B=FK({axis:i,ticks:l,bandSize:s,offset:a.offset,entry:y,index:_}),k=(P=F??j)!==null&&P!==void 0?P:void 0,O=a.size;var M=j-F;if(w=kc(M)?0:M,C={x:B,y:h.top,width:O,height:h.height},Math.abs(N)>0&&Math.abs(w)<Math.abs(N)){var Q=zi(w||N)*(Math.abs(N)-Math.abs(w));k-=Q,w+=Q}}else{var[J,q]=[i.scale(S[0]),i.scale(S[1])];if(B=J,k=FK({axis:o,ticks:u,bandSize:s,offset:a.offset,entry:y,index:_}),O=q-J,w=a.size,C={x:h.left,y:k,width:h.width,height:w},Math.abs(N)>0&&Math.abs(O)<Math.abs(N)){var Z=zi(O||N)*(Math.abs(N)-Math.abs(O));O+=Z}}if(B==null||k==null||O==null||w==null)return null;var H=Uo(Uo({},y),{},{x:B,y:k,width:O,height:w,value:d?S:S[1],payload:y,background:C,tooltipPosition:{x:B+O/2,y:k+w/2}},p&&p[_]&&p[_].props);return H}).filter(Boolean)}function x6(e){var t=Tu(e,Pst),r=Kl();return I.createElement(dL,{id:t.id,type:"bar"},n=>I.createElement(I.Fragment,null,I.createElement(Rnt,{legendPayload:Bst(t)}),I.createElement(cL,{fn:Tst,args:t}),I.createElement(Wnt,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:_Xe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),I.createElement(Rst,_x({},t,{id:n}))))}x6.displayName="Bar";function _q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_q(Object(r),!0).forEach(function(n){Mst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mst(e,t,r){return(t=Ust(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ust(e){var t=Qst(e,"string");return typeof t=="symbol"?t:t+""}function Qst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hst=(e,t)=>t,Vst=(e,t,r)=>r,zst=(e,t,r,n)=>n,$st=(e,t,r,n,a)=>a,t2=dt([SR,$st],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Kst=dt([t2],e=>e==null?void 0:e.maxBarSize),Gst=(e,t,r,n,a,s)=>s,Sq=(e,t,r)=>{var n=r??e;if(!ws(n))return fl(n,t,0)},qst=dt([yn,SR,Hst,Vst,zst],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Wst=(e,t,r,n)=>{var a=yn(e);return a==="horizontal"?d6(e,"yAxis",r,n):d6(e,"xAxis",t,n)},Xst=(e,t,r)=>{var n=yn(e);return n==="horizontal"?hG(e,"xAxis",t):hG(e,"yAxis",r)},Yst=(e,t,r)=>{var n={},a=e.filter(x4),s=e.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(i).map(u=>{var[d,f]=u,h=f.map(v=>v.dataKey),p=Sq(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),l=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=Sq(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]},Jst=dt([qst,bJe,Xst],Yst),Zst=(e,t,r,n,a)=>{var s,i,o=t2(e,t,r,n,a);if(o!=null){var l=yn(e),u=Aoe(e),{maxBarSize:d}=o,f=ws(d)?u:d,h,p;return l==="horizontal"?(h=wx(e,"xAxis",t,n),p=yx(e,"xAxis",t,n)):(h=wx(e,"yAxis",r,n),p=yx(e,"yAxis",r,n)),(s=(i=tw(h,p,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},rce=(e,t,r,n)=>{var a=yn(e),s,i;return a==="horizontal"?(s=wx(e,"xAxis",t,n),i=yx(e,"xAxis",t,n)):(s=wx(e,"yAxis",r,n),i=yx(e,"yAxis",r,n)),tw(s,i)};function eit(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=fl(e,r,0,!0),o,l=[];if(Ic(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((y,_)=>y+(_.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,p={offset:h-i,size:0};o=n.reduce((y,_)=>{var S,B={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:p.offset+p.size+i,size:u?d:(S=_.barSize)!==null&&S!==void 0?S:0}},k=[...y,B];return p=k[k.length-1].position,k},l)}else{var v=fl(t,r,0,!0);r-2*v-(s-1)*i<=0&&(i=0);var g=(r-2*v-(s-1)*i)/s;g>1&&(g>>=0);var b=Ic(a)?Math.min(g,a):g;o=n.reduce((y,_,S)=>[...y,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:v+(g+i)*S+(g-b)/2,size:b}}],l)}return o}}var tit=(e,t,r,n,a,s,i)=>{var o=ws(i)?t:i,l=eit(r,n,a!==s?a:s,e,o);return a!==s&&l!=null&&(l=l.map(u=>kC(kC({},u),{},{position:kC(kC({},u.position),{},{offset:u.position.offset-a/2})}))),l},rit=dt([Jst,Aoe,xJe,foe,Zst,rce,Kst],tit),nit=(e,t,r,n)=>wx(e,"xAxis",t,n),ait=(e,t,r,n)=>wx(e,"yAxis",r,n),sit=(e,t,r,n)=>yx(e,"xAxis",t,n),iit=(e,t,r,n)=>yx(e,"yAxis",r,n),oit=dt([rit,t2],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),lit=(e,t)=>{var r=ER(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},cit=dt([Wst,t2],lit),uit=dt([Ci,nit,ait,sit,iit,oit,yn,pR,rce,cit,t2,Gst],(e,t,r,n,a,s,i,o,l,u,d,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:v}=o;if(!(d==null||s==null||i!=="horizontal"&&i!=="vertical"||t==null||r==null||n==null||a==null||l==null)){var{data:g}=d,b;if(g!=null&&g.length>0?b=g:b=h==null?void 0:h.slice(p,v+1),b!=null)return Lst({layout:i,barSettings:d,pos:s,bandSize:l,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:u,displayedData:b,offset:e,cells:f})}}),nce=e=>{var{chartData:t}=e,r=ss(),n=Kl();return I.useEffect(()=>n?()=>{}:(r(CG(t)),()=>{r(CG(void 0))}),[t,r,n]),null},Nq={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ace=jc({name:"brush",initialState:Nq,reducers:{setBrushSettings(e,t){return t.payload==null?Nq:t.payload}}}),{setBrushSettings:kct}=ace.actions,dit=ace.reducer;function Ait(e,t,r){return(t=fit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fit(e){var t=hit(e,"string");return typeof t=="symbol"?t:t+""}function hit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gL{static create(t){return new gL(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Ait(gL,"EPS",1e-4);function mit(e){return(e%180+180)%180}var pit=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=mit(a),i=s*Math.PI/180,o=Math.atan(n/r),l=i>o&&i<Math.PI-o?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},git={dots:[],areas:[],lines:[]},sce=jc({name:"referenceElements",initialState:git,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Pf(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Pf(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Pf(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Bct,removeDot:Tct,addArea:Ict,removeArea:jct,addLine:Fct,removeLine:Oct}=sce.actions,vit=sce.reducer,xit=I.createContext(void 0),bit=e=>{var{children:t}=e,[r]=I.useState("".concat(Jy("recharts"),"-clip")),n=Kle();if(n==null)return null;var{x:a,y:s,width:i,height:o}=n;return I.createElement(xit.Provider,{value:r},I.createElement("defs",null,I.createElement("clipPath",{id:r},I.createElement("rect",{x:a,y:s,height:o,width:i}))),t)};function mI(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ice(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function yit(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return pit(n,r)}function wit(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:o}=e;return t===1?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}function f5(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Eit(e,t){return ice(e,t+1)}function Cit(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:o}=t,l=0,u=1,d=i,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:ice(n,u)};var g=l,b,y=()=>(b===void 0&&(b=r(v,g)),b),_=v.coordinate,S=l===0||f5(e,_,y,d,o);S||(l=0,d=i,u+=1),S&&(d=_+e*(y()/2+a),l+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function kq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kq(Object(r),!0).forEach(function(n){_it(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _it(e,t,r){return(t=Sit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sit(e){var t=Nit(e,"string");return typeof t=="symbol"?t:t+""}function Nit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kit(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,u=function(h){var p=s[h],v,g=()=>(v===void 0&&(v=r(p,h)),v);if(h===i-1){var b=e*(p.coordinate+e*g()/2-l);s[h]=p=Fo(Fo({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else s[h]=p=Fo(Fo({},p),{},{tickCoord:p.coordinate});var y=f5(e,p.tickCoord,g,o,l);y&&(l=p.tickCoord-e*(g()/2+a),s[h]=Fo(Fo({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function Bit(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:l,end:u}=t;if(s){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);i[o-1]=d=Fo(Fo({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=f5(e,d.tickCoord,()=>f,l,u);p&&(u=d.tickCoord-e*(f/2+a),i[o-1]=Fo(Fo({},d),{},{isShow:!0}))}for(var v=s?o-1:o,g=function(_){var S=i[_],B,k=()=>(B===void 0&&(B=r(S,_)),B);if(_===0){var O=e*(S.coordinate-e*k()/2-l);i[_]=S=Fo(Fo({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else i[_]=S=Fo(Fo({},S),{},{tickCoord:S.coordinate});var w=f5(e,S.tickCoord,k,l,u);w&&(l=S.tickCoord+e*(k()/2+a),i[_]=Fo(Fo({},S),{},{isShow:!0}))},b=0;b<v;b++)g(b);return i}function vL(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(or(l)||eg.isSsr){var h;return(h=Eit(a,or(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],v=o==="top"||o==="bottom"?"width":"height",g=d&&v==="width"?cy(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(S,B)=>{var k=typeof u=="function"?u(S.value,B):S.value;return v==="width"?yit(cy(k,{fontSize:t,letterSpacing:r}),g,f):cy(k,{fontSize:t,letterSpacing:r})[v]},y=a.length>=2?zi(a[1].coordinate-a[0].coordinate):1,_=wit(s,y,v);return l==="equidistantPreserveStart"?Cit(y,_,b,a,i):(l==="preserveStart"||l==="preserveStartEnd"?p=Bit(y,_,b,a,i,l==="preserveStartEnd"):p=kit(y,_,b,a,i),p.filter(S=>S.isShow))}var Tit=["viewBox"],Iit=["viewBox"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function Bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bq(Object(r),!0).forEach(function(n){xL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t){if(e==null)return{};var r,n,a=jit(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jit(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xL(e,t,r){return(t=Fit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fit(e){var t=Oit(e,"string");return typeof t=="symbol"?t:t+""}function Oit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class um extends I.Component{constructor(t){super(t),this.tickRefs=I.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=Tq(t,Tit),s=this.props,{viewBox:i}=s,o=Tq(s,Iit);return!mI(n,i)||!mI(a,o)||!mI(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:s,orientation:i,tickSize:o,mirror:l,tickMargin:u}=this.props,d,f,h,p,v,g,b=l?-1:1,y=t.tickSize||o,_=or(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":d=f=t.coordinate,p=n+ +!l*s,h=p-b*y,g=h-b*u,v=_;break;case"left":h=p=t.coordinate,f=r+ +!l*a,d=f-b*y,v=d-b*u,g=_;break;case"right":h=p=t.coordinate,f=r+ +l*a,d=f+b*y,v=d+b*u,g=_;break;default:d=f=t.coordinate,p=n+ +l*s,h=p+b*y,g=h+b*u,v=_;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:v,y:g}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:o}=this.props,l=vi(vi(vi({},Hn(this.props,!1)),Hn(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!i||s==="bottom"&&i);l=vi(vi({},l),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+(s==="left"&&!i||s==="right"&&i);l=vi(vi({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return I.createElement("line",Ev({},l,{className:fn("recharts-cartesian-axis-line",X0(o,"className"))}))}static renderTickItem(t,r,n){var a,s=fn(r.className,"recharts-cartesian-axis-tick-value");if(I.isValidElement(t))a=I.cloneElement(t,vi(vi({},r),{},{className:s}));else if(typeof t=="function")a=t(vi(vi({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=fn(i,t.className)),a=I.createElement(e1,Ev({},r,{className:i}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:s,tick:i,tickFormatter:o,unit:l,padding:u}=this.props,d=vL(vi(vi({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=Xo(this.props),v=Hn(i,!1),g=vi(vi({},p),{},{fill:"none"},Hn(a,!1)),b=d.map((y,_)=>{var{line:S,tick:B}=this.getTickLineCoord(y),k=vi(vi(vi(vi({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:s},v),B),{},{index:_,payload:y,visibleTicksCount:d.length,tickFormatter:o,padding:u});return I.createElement(as,Ev({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Hx(this.props,y,_)),a&&I.createElement("line",Ev({},g,S,{className:fn("recharts-cartesian-axis-tick-line",X0(a,"className"))})),i&&um.renderTickItem(i,k,"".concat(typeof o=="function"?o(y.value,_):y.value).concat(l||"")))});return b.length>0?I.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:s}=this.props;if(s)return null;var{ticks:i}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:I.createElement(as,{className:fn("recharts-cartesian-axis",a),ref:o=>{if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,i),Pl.renderCallByParent(this.props))}}xL(um,"displayName","CartesianAxis");xL(um,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Dit=["x1","y1","x2","y2","key"],Pit=["offset"],Rit=["xAxisId","yAxisId"],Lit=["xAxisId","yAxisId"];function Iq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iq(Object(r),!0).forEach(function(n){Mit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mit(e,t,r){return(t=Uit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uit(e){var t=Qit(e,"string");return typeof t=="symbol"?t:t+""}function Qit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(null,arguments)}function h5(e,t){if(e==null)return{};var r,n,a=Hit(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hit(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vit=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:o}=e;return I.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function oce(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:s,y2:i,key:o}=t,l=h5(t,Dit),u=Xo(l),{offset:d}=u,f=h5(u,Pit);r=I.createElement("line",tp({},f,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:o}))}return r}function zit(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=h5(e,Rit),l=a.map((u,d)=>{var f=Qo(Qo({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return oce(n,f)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function $it(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=h5(e,Lit),l=a.map((u,d)=>{var f=Qo(Qo({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return oce(n,f)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Kit(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],v=p?a+i-f:u[h+1]-f;if(v<=0)return null;var g=h%t.length;return I.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:v,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Git(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],v=p?a+i-f:u[h+1]-f;if(v<=0)return null;var g=h%r.length;return I.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:v,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var qit=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return Nie(vL(Qo(Qo(Qo({},um.defaultProps),r),{},{ticks:kie(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Wit=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return Nie(vL(Qo(Qo(Qo({},um.defaultProps),r),{},{ticks:kie(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Xit={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function b6(e){var t=Oie(),r=Die(),n=Fie(),a=Qo(Qo({},Tu(e,Xit)),{},{x:or(e.x)?e.x:n.left,y:or(e.y)?e.y:n.top,width:or(e.width)?e.width:n.width,height:or(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,v=Kl(),g=nr(N=>mG(N,"xAxis",s,v)),b=nr(N=>mG(N,"yAxis",i,v));if(!or(u)||u<=0||!or(d)||d<=0||!or(o)||o!==+o||!or(l)||l!==+l)return null;var y=a.verticalCoordinatesGenerator||qit,_=a.horizontalCoordinatesGenerator||Wit,{horizontalPoints:S,verticalPoints:B}=a;if((!S||!S.length)&&typeof _=="function"){var k=h&&h.length,O=_({yAxis:b?Qo(Qo({},b),{},{ticks:k?h:b.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);ly(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}if((!B||!B.length)&&typeof y=="function"){var w=p&&p.length,C=y({xAxis:g?Qo(Qo({},g),{},{ticks:w?p:g.ticks}):void 0,width:t,height:r,offset:n},w?!0:f);ly(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(B=C)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Vit,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),I.createElement(Kit,tp({},a,{horizontalPoints:S})),I.createElement(Git,tp({},a,{verticalPoints:B})),I.createElement(zit,tp({},a,{offset:n,horizontalPoints:S,xAxis:g,yAxis:b})),I.createElement($it,tp({},a,{offset:n,verticalPoints:B,xAxis:g,yAxis:b})))}b6.displayName="CartesianGrid";function jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jq(Object(r),!0).forEach(function(n){Yit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yit(e,t,r){return(t=Jit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jit(e){var t=Zit(e,"string");return typeof t=="symbol"?t:t+""}function Zit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eot={xAxis:{},yAxis:{},zAxis:{}},lce=jc({name:"cartesianAxis",initialState:eot,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Fq(Fq({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:tot,removeXAxis:rot,addYAxis:not,removeYAxis:aot,addZAxis:Dct,removeZAxis:Pct,updateYAxisWidth:sot}=lce.actions,iot=lce.reducer,oot=["children"],lot=["dangerouslySetInnerHTML","ticks"];function cce(e,t,r){return(t=cot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cot(e){var t=uot(e,"string");return typeof t=="symbol"?t:t+""}function uot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y6(){return y6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y6.apply(null,arguments)}function uce(e,t){if(e==null)return{};var r,n,a=dot(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Aot(e){var t=ss(),r=I.useMemo(()=>{var{children:s}=e,i=uce(e,oot);return i},[e]),n=nr(s=>ch(s,r.id)),a=r===n;return I.useEffect(()=>(t(tot(r)),()=>{t(rot(r))}),[r,t]),a?e.children:null}var fot=e=>{var{xAxisId:t,className:r}=e,n=nr(jie),a=Kl(),s="xAxis",i=nr(p=>Yx(p,s,t,a)),o=nr(p=>$oe(p,s,t,a)),l=nr(p=>Qoe(p,t)),u=nr(p=>AZe(p,t));if(l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,h=uce(e,lot);return I.createElement(um,y6({},h,{scale:i,x:u.x,y:u.y,width:l.width,height:l.height,className:fn("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},hot=e=>{var t,r,n,a,s;return I.createElement(Aot,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},I.createElement(fot,e))};class m5 extends I.Component{render(){return I.createElement(hot,this.props)}}cce(m5,"displayName","XAxis");cce(m5,"defaultProps",{allowDataOverflow:fc.allowDataOverflow,allowDecimals:fc.allowDecimals,allowDuplicatedCategory:fc.allowDuplicatedCategory,height:fc.height,hide:!1,mirror:fc.mirror,orientation:fc.orientation,padding:fc.padding,reversed:fc.reversed,scale:fc.scale,tickCount:fc.tickCount,type:fc.type,xAxisId:0});var mot=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+s,u=i+l+o+(r?n:0);return Math.round(u)}return 0},pot=["dangerouslySetInnerHTML","ticks"];function dce(e,t,r){return(t=got(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function got(e){var t=vot(e,"string");return typeof t=="symbol"?t:t+""}function vot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w6(){return w6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w6.apply(null,arguments)}function xot(e,t){if(e==null)return{};var r,n,a=bot(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yot(e){var t=ss();return I.useEffect(()=>(t(not(e)),()=>{t(aot(e))}),[e,t]),null}var wot=e=>{var t,{yAxisId:r,className:n,width:a,label:s}=e,i=I.useRef(null),o=I.useRef(null),l=nr(jie),u=Kl(),d=ss(),f="yAxis",h=nr(S=>Yx(S,f,r,u)),p=nr(S=>Hoe(S,r)),v=nr(S=>fZe(S,r)),g=nr(S=>$oe(S,f,r,u));if(I.useLayoutEffect(()=>{var S;if(!(a!=="auto"||!p||YR(s)||I.isValidElement(s))){var B=i.current,k=B==null||(S=B.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:O,tickMargin:w}=B.props,C=mot({ticks:k,label:o.current,labelGapWithTick:5,tickSize:O,tickMargin:w});Math.round(p.width)!==Math.round(C)&&d(sot({id:r,width:C}))}},[i,i==null||(t=i.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,d,s,r,a]),p==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:y}=e,_=xot(e,pot);return I.createElement(um,w6({},_,{ref:i,labelRef:o,scale:h,x:v.x,y:v.y,width:p.width,height:p.height,className:fn("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:g}))},Eot=e=>{var t,r,n,a,s;return I.createElement(I.Fragment,null,I.createElement(yot,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),I.createElement(wot,e))},Cot={allowDataOverflow:hc.allowDataOverflow,allowDecimals:hc.allowDecimals,allowDuplicatedCategory:hc.allowDuplicatedCategory,hide:!1,mirror:hc.mirror,orientation:hc.orientation,padding:hc.padding,reversed:hc.reversed,scale:hc.scale,tickCount:hc.tickCount,type:hc.type,width:hc.width,yAxisId:0};class p5 extends I.Component{render(){return I.createElement(Eot,this.props)}}dce(p5,"displayName","YAxis");dce(p5,"defaultProps",Cot);var pI={exports:{}},gI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oq;function _ot(){if(Oq)return gI;Oq=1;var e=Sx();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,i=e.useMemo,o=e.useDebugValue;return gI.useSyncExternalStoreWithSelector=function(l,u,d,f,h){var p=a(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=i(function(){function b(k){if(!y){if(y=!0,_=k,k=f(k),h!==void 0&&v.hasValue){var O=v.value;if(h(O,k))return S=O}return S=k}if(O=S,r(_,k))return O;var w=f(k);return h!==void 0&&h(O,w)?(_=k,O):(_=k,S=w)}var y=!1,_,S,B=d===void 0?null:d;return[function(){return b(u())},B===null?void 0:function(){return b(B())}]},[u,d,f,h]);var g=n(l,p[0],p[1]);return s(function(){v.hasValue=!0,v.value=g},[g]),o(g),g},gI}var Dq;function Sot(){return Dq||(Dq=1,pI.exports=_ot()),pI.exports}Sot();function Not(e){e()}function kot(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Not(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Pq={notify(){},get:()=>[]};function Bot(e,t){let r,n=Pq,a=0,s=!1;function i(g){d();const b=n.subscribe(g);let y=!1;return()=>{y||(y=!0,b(),f())}}function o(){n.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(l),n=kot())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=Pq)}function h(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const v={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return v}var Tot=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Iot=Tot(),jot=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Fot=jot(),Oot=()=>Iot||Fot?I.useLayoutEffect:I.useEffect,Dot=Oot(),vI=Symbol.for("react-redux-context"),xI=typeof globalThis<"u"?globalThis:{};function Pot(){if(!I.createContext)return{};const e=xI[vI]??(xI[vI]=new Map);let t=e.get(I.createContext);return t||(t=I.createContext(null),e.set(I.createContext,t)),t}var Rot=Pot();function Lot(e){const{children:t,context:r,serverState:n,store:a}=e,s=I.useMemo(()=>{const l=Bot(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),i=I.useMemo(()=>a.getState(),[a]);Dot(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,i]);const o=r||Rot;return I.createElement(o.Provider,{value:s},t)}var Mot=Lot,Uot=(e,t)=>t,bL=dt([Uot,yn,Gx,_i,ole,uh,get,Ci],wet),yL=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Ace=Su("mouseClick"),fce=$w();fce.startListening({actionCreator:Ace,effect:(e,t)=>{var r=e.payload,n=bL(t.getState(),yL(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(CZe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var E6=Su("mouseMove"),hce=$w();hce.startListening({actionCreator:E6,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=QR(n,n.tooltip.settings.shared),s=bL(n,yL(r));a==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(ele({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(Zoe()))}});function Qot(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var Rq={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},mce=jc({name:"rootProps",initialState:Rq,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Rq.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Hot=mce.reducer,{updateOptions:Vot}=mce.actions,pce=jc({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:zot}=pce.actions,$ot=pce.reducer,gce=Su("keyDown"),vce=Su("focus"),wL=$w();wL.startListening({actionCreator:gce,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Number(HR(a,Zx(r))),o=uh(r);if(s==="Enter"){var l=o5(r,"axis","hover",String(a.index));t.dispatch(f6({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:l}));return}var u=mZe(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=i+f*d;if(!(o==null||h>=o.length||h<0)){var p=o5(r,"axis","hover",String(h));t.dispatch(f6({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});wL.startListening({actionCreator:vce,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=o5(r,"axis","hover",String(s));t.dispatch(f6({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var cu=Su("externalEvent"),xce=$w();xce.startListening({actionCreator:cu,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:iet(r),activeDataKey:dle(r),activeIndex:Y0(r),activeLabel:ule(r),activeTooltipIndex:Y0(r),isTooltipActive:oet(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Kot=dt([Jx],e=>e.tooltipItemPayloads),Got=dt([Kot,Jw,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),bce=Su("touchMove"),yce=$w();yce.startListening({actionCreator:bce,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=QR(n,n.tooltip.settings.shared);if(a==="axis"){var s=bL(n,yL({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(ele({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(Tie),d=(i=l.getAttribute(Iie))!==null&&i!==void 0?i:void 0,f=Got(t.getState(),u,d);t.dispatch(Joe({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var qot=tie({brush:dit,cartesianAxis:iot,chartData:Met,errorBars:fst,graphicalItems:qnt,layout:aXe,legend:HXe,options:Oet,polarAxis:Hrt,polarOptions:$ot,referenceElements:vit,rootProps:Hot,tooltip:_Ze}),Wot=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return BWe({reducer:qot,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([fce.middleware,hce.middleware,wL.middleware,xce.middleware,yce.middleware]),devTools:{serialize:{replacer:Qot},name:"recharts-".concat(r)}})};function wce(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Kl(),s=I.useRef(null);if(a)return r;s.current==null&&(s.current=Wot(t,n));var i=sR;return I.createElement(Mot,{context:i,store:s.current},r)}function Ece(e){var{layout:t,width:r,height:n,margin:a}=e,s=ss(),i=Kl();return I.useEffect(()=>{i||(s(tXe(t)),s(rXe({width:r,height:n})),s(eXe(a)))},[s,i,t,r,n,a]),null}function Cce(e){var t=ss();return I.useEffect(()=>{t(Vot(e))},[t,e]),null}var Xot=["children"];function Yot(e,t){if(e==null)return{};var r,n,a=Jot(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function g5(){return g5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g5.apply(null,arguments)}var Zot={width:"100%",height:"100%"},elt=I.forwardRef((e,t)=>{var r=Oie(),n=Die(),a=Mie();if(!xx(r)||!xx(n))return null;var{children:s,otherAttributes:i,title:o,desc:l}=e,u,d;return typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0,I.createElement(Hse,g5({},i,{title:o,desc:l,role:d,tabIndex:u,width:r,height:n,style:Zot,ref:t}),s)}),tlt=e=>{var{children:t}=e,r=nr(h4);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return I.createElement(Hse,{width:n,height:a,x:i,y:s},t)},Lq=I.forwardRef((e,t)=>{var{children:r}=e,n=Yot(e,Xot),a=Kl();return a?I.createElement(tlt,null,r):I.createElement(elt,g5({ref:t},n),r)});function rlt(){var e=ss(),[t,r]=I.useState(null),n=nr(FXe);return I.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Ic(s)&&s!==n&&e(nXe(s))}},[t,e,n]),r}function Mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nlt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mq(Object(r),!0).forEach(function(n){alt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function alt(e,t,r){return(t=slt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function slt(e){var t=ilt(e,"string");return typeof t=="symbol"?t:t+""}function ilt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var olt=I.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:v,onTouchStart:g,style:b,width:y}=e,_=ss(),[S,B]=I.useState(null),[k,O]=I.useState(null);Het();var w=rlt(),C=I.useCallback(R=>{w(R),typeof t=="function"&&t(R),B(R),O(R)},[w,t,B,O]),N=I.useCallback(R=>{_(Ace(R)),_(cu({handler:s,reactEvent:R}))},[_,s]),P=I.useCallback(R=>{_(E6(R)),_(cu({handler:u,reactEvent:R}))},[_,u]),j=I.useCallback(R=>{_(Zoe()),_(cu({handler:d,reactEvent:R}))},[_,d]),F=I.useCallback(R=>{_(E6(R)),_(cu({handler:f,reactEvent:R}))},[_,f]),M=I.useCallback(()=>{_(vce())},[_]),Q=I.useCallback(R=>{_(gce(R.key))},[_]),J=I.useCallback(R=>{_(cu({handler:i,reactEvent:R}))},[_,i]),q=I.useCallback(R=>{_(cu({handler:o,reactEvent:R}))},[_,o]),Z=I.useCallback(R=>{_(cu({handler:l,reactEvent:R}))},[_,l]),H=I.useCallback(R=>{_(cu({handler:h,reactEvent:R}))},[_,h]),V=I.useCallback(R=>{_(cu({handler:g,reactEvent:R}))},[_,g]),G=I.useCallback(R=>{_(bce(R)),_(cu({handler:v,reactEvent:R}))},[_,v]),ne=I.useCallback(R=>{_(cu({handler:p,reactEvent:R}))},[_,p]);return I.createElement(gle.Provider,{value:S},I.createElement(uqe.Provider,{value:k},I.createElement("div",{className:fn("recharts-wrapper",n),style:nlt({position:"relative",cursor:"default",width:y,height:a},b),onClick:N,onContextMenu:J,onDoubleClick:q,onFocus:M,onKeyDown:Q,onMouseDown:Z,onMouseEnter:P,onMouseLeave:j,onMouseMove:F,onMouseUp:H,onTouchEnd:ne,onTouchMove:G,onTouchStart:V,ref:C},r)))}),llt=["children","className","width","height","style","compact","title","desc"];function clt(e,t){if(e==null)return{};var r,n,a=ult(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ult(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _ce=I.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:s,style:i,compact:o,title:l,desc:u}=e,d=clt(e,llt),f=Xo(d);return o?I.createElement(Lq,{otherAttributes:f,title:l,desc:u},r):I.createElement(olt,{className:n,style:i,width:a,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},I.createElement(Lq,{otherAttributes:f,title:l,desc:u,ref:t},I.createElement(bit,null,r)))}),dlt=["width","height"];function C6(){return C6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C6.apply(null,arguments)}function Alt(e,t){if(e==null)return{};var r,n,a=flt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function flt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hlt={top:5,right:5,bottom:5,left:5},mlt={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hlt,reverseStackOrder:!1,syncMethod:"index"},plt=I.forwardRef(function(t,r){var n,a=Tu(t.categoricalChartProps,mlt),{width:s,height:i}=a,o=Alt(a,dlt);if(!xx(s)||!xx(i))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return I.createElement(wce,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},I.createElement(nce,{chartData:h.data}),I.createElement(Ece,{width:s,height:i,layout:a.layout,margin:a.margin}),I.createElement(Cce,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),I.createElement(_ce,C6({},o,{width:s,height:i,ref:r})))}),glt=["axis","item"],Uq=I.forwardRef((e,t)=>I.createElement(plt,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:glt,tooltipPayloadSearcher:XR,categoricalChartProps:e,ref:t}));function vlt(e){var t=ss();return I.useEffect(()=>{t(zot(e))},[t,e]),null}var xlt=["width","height","layout"];function _6(){return _6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_6.apply(null,arguments)}function blt(e,t){if(e==null)return{};var r,n,a=ylt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ylt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wlt={top:5,right:5,bottom:5,left:5},Elt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wlt,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Sce=I.forwardRef(function(t,r){var n,a=Tu(t.categoricalChartProps,Elt),{width:s,height:i,layout:o}=a,l=blt(a,xlt);if(!xx(s)||!xx(i))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return I.createElement(wce,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},I.createElement(nce,{chartData:a.data}),I.createElement(Ece,{width:s,height:i,layout:o,margin:a.margin}),I.createElement(Cce,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),I.createElement(vlt,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),I.createElement(_ce,_6({width:s,height:i},l,{ref:r})))}),Clt=["item"],_lt={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Slt=I.forwardRef((e,t)=>{var r=Tu(e,_lt);return I.createElement(Sce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Clt,tooltipPayloadSearcher:XR,categoricalChartProps:r,ref:t})}),Nlt=["axis"],klt={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Blt=I.forwardRef((e,t)=>{var r=Tu(e,klt);return I.createElement(Sce,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nlt,tooltipPayloadSearcher:XR,categoricalChartProps:r,ref:t})});const Tlt=e=>{const[t,r]=I.useState(!1),[n,a]=I.useState(null);return I.useEffect(()=>{const s="google-maps-script";if(document.getElementById(s)||window.google){r(!0);return}const i=document.createElement("script");i.id=s,i.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places,directions&loading=async`,i.async=!0,i.defer=!0,i.onload=()=>r(!0),i.onerror=()=>a(new Error("No se pudo cargar Google Maps.")),document.head.appendChild(i)},[e]),{isLoaded:t,error:n}},Nce=[{elemento:"Cumplimiento legal y formalidad"},{elemento:"Contrato o convenio formal de prctica"},{elemento:"Ambiente laboral y clima organizacional"},{elemento:"Supervisin y mentora"},{elemento:"Oportunidades de aprendizaje"},{elemento:"Recursos y herramientas disponibles"},{elemento:"Seguridad y salud ocupacional"},{elemento:"Comunicacin interna"}],Ilt=["Mecnica Industrial","Mecnica Automotriz"],jlt=()=>({nombre:"",rut:"",direccion:"",contacto:"",email:"",area:"",cupos:1,coordenadas:null,calificaciones:Nce.map(e=>({...e,score:null})),estudiantesAsignados:[],docenteSupervisor:void 0}),Qq=({empresas:e,isLoaded:t,route:r})=>{const n=I.useRef(null),a=I.useRef(null),s=I.useRef([]),i=I.useRef(null),o=e.filter(l=>{var u,d;return((u=l.coordenadas)==null?void 0:u.lat)&&((d=l.coordenadas)==null?void 0:d.lng)});return I.useEffect(()=>{!t||!n.current||!window.google||(a.current||(a.current=new window.google.maps.Map(n.current,{center:{lat:-33.4489,lng:-70.6693},zoom:11})),i.current||(i.current=new window.google.maps.DirectionsRenderer),s.current.forEach(l=>l.setMap(null)),s.current=[],i.current.setMap(null),r?(i.current.setMap(a.current),i.current.setDirections(r)):o.forEach(l=>{const u=new window.google.maps.Marker({position:{lat:l.coordenadas.lat,lng:l.coordenadas.lng},map:a.current,title:l.nombre}),d=new window.google.maps.InfoWindow({content:`<div style="font-weight: bold;">${l.nombre}</div><div>${l.direccion}</div>`});u.addListener("click",()=>{d.open(a.current,u)}),s.current.push(u)}))},[o,t,r]),c.jsxs("div",{className:"relative",id:"map-container-for-pdf",children:[c.jsx("div",{ref:n,className:"h-[600px] w-full rounded-lg border"}),!r&&o.length===0&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90 rounded-lg",children:c.jsx("div",{className:"text-center p-6",children:c.jsx("p",{className:"text-gray-600 text-lg",children:" No hay empresas geo-localizadas"})})})]})},Flt=({route:e,travelMode:t})=>{const a=t==="TRANSIT"?45:30,s=e.routes[0].legs.reduce((f,h)=>{var p;return f+(((p=h.duration)==null?void 0:p.value)||0)},0),o=(e.routes[0].legs.length>1?e.routes[0].legs.length-1:0)*a*60,l=s+o,u=e.routes[0].legs.reduce((f,h)=>{var p;return f+(((p=h.distance)==null?void 0:p.value)||0)},0),d=t==="DRIVING"?u/1e3/12*1300:0;return c.jsxs("div",{className:"mt-6 p-4 border rounded-lg bg-slate-50",id:"route-details-for-pdf",children:[c.jsx("h3",{className:"text-xl font-bold mb-3",children:"Detalles de la Ruta"}),c.jsx("div",{className:"space-y-4",children:e.routes[0].legs.map((f,h)=>{var p,v,g;return c.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("h4",{className:"font-bold text-lg",children:["Tramo ",h+1,": ",f.start_address.split(",")[0],"  ",f.end_address.split(",")[0]]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[(p=f.duration)==null?void 0:p.text,"  ",(v=f.distance)==null?void 0:v.text]})]}),t==="TRANSIT"&&c.jsx("div",{className:"space-y-3",children:(g=f.steps)==null?void 0:g.map((b,y)=>b.transit&&c.jsxs("div",{className:"flex items-start gap-2 text-sm py-1",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{dangerouslySetInnerHTML:{__html:b.instructions}})]},y))})]},h)})}),c.jsxs("div",{className:"mt-4 pt-4 border-t font-bold text-right",children:[c.jsxs("p",{children:["Tiempo de viaje: ",Math.round(s/60)," min"]}),c.jsxs("p",{children:["Tiempo en paradas: ",Math.round(o/60)," min"]}),c.jsxs("p",{className:"text-lg",children:["Duracin Total Estimada: ",Math.round(l/60)," min"]}),c.jsxs("p",{children:["Distancia Total: ",(u/1e3).toFixed(1)," km"]}),t==="DRIVING"&&c.jsxs("p",{className:"text-green-600",children:["Costo Bencina Aprox: $",d.toLocaleString("es-CL",{maximumFractionDigits:0})]})]})]})},Hq=async e=>window.google?new Promise(t=>{new window.google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:e,fields:["geometry"]},(n,a)=>{var s;a===window.google.maps.places.PlacesServiceStatus.OK&&((s=n==null?void 0:n.geometry)!=null&&s.location)?t({lat:n.geometry.location.lat(),lng:n.geometry.location.lng()}):t(null)})}):null,Olt=({data:e})=>{const t=["#0088FE","#00C49F","#FFBB28","#FF8042"];return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Empresas por Especialidad"}),c.jsx(NC,{width:"100%",height:300,children:c.jsxs(Slt,{children:[c.jsx($le,{data:e.porEspecialidad,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:e.porEspecialidad.map((r,n)=>c.jsx(e2,{fill:t[n%t.length]},`cell-${n}`))}),c.jsx(SC,{})]})})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1 md:col-span-2",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Empresas por Supervisor"}),c.jsx(NC,{width:"100%",height:300,children:c.jsxs(Uq,{data:e.porSupervisor,layout:"vertical",children:[c.jsx(b6,{strokeDasharray:"3 3"}),c.jsx(m5,{type:"number"}),c.jsx(p5,{type:"category",dataKey:"name",width:150}),c.jsx(SC,{}),c.jsx(x6,{dataKey:"value",fill:"#82ca9d",name:"Empresas"})]})})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1 lg:col-span-3",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Distribucin por Comuna"}),c.jsx(NC,{width:"100%",height:300,children:c.jsxs(Uq,{data:e.porComuna,children:[c.jsx(b6,{strokeDasharray:"3 3"}),c.jsx(m5,{dataKey:"name"}),c.jsx(p5,{}),c.jsx(SC,{}),c.jsx(x6,{dataKey:"value",fill:"#8884d8",name:"Empresas"})]})})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Calificacin por mbito"}),c.jsx(NC,{width:"100%",height:300,children:c.jsxs(Blt,{cx:"50%",cy:"50%",outerRadius:"80%",data:e.calificacionPorAmbito,children:[c.jsx(Fle,{}),c.jsx(B4,{dataKey:"subject"}),c.jsx(N4,{angle:30,domain:[0,5]}),c.jsx(pL,{name:"Promedio",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),c.jsx(SC,{})]})})]}),c.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1 md:col-span-2",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Ranking de Empresas"}),c.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:c.jsx("ul",{className:"space-y-2",children:e.ranking.map((r,n)=>c.jsxs("li",{className:"flex items-center justify-between p-2 rounded-lg bg-slate-50",children:[c.jsxs("span",{className:"font-semibold",children:[n+1,". ",r.nombre]}),c.jsxs("span",{className:"font-bold text-amber-500",children:[r.promedio.toFixed(1)," "]})]},r.id))})})]})]})},Dlt=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[a,s]=I.useState("list"),[i,o]=I.useState(null),[l,u]=I.useState(!0),[d,f]=I.useState(null),[h,p]=I.useState(null),[v,g]=I.useState(null),[b,y]=I.useState([]),[_,S]=I.useState(null),[B,k]=I.useState(!1),[O,w]=I.useState("DRIVING"),[C,N]=I.useState(""),[P,j]=I.useState([]),F="AIzaSyBkpVIvmoJAoD1QlZOZBln0aM6bPpBuGy4",{isLoaded:M}=Tlt(F);I.useEffect(()=>{u(!0);const oe=Q$e(t),ce=z$e(n),ge=K$e(j);return u(!1),()=>{oe(),ce(),ge()}},[]);const Q=I.useMemo(()=>{const oe=e.reduce((Se,Pe)=>{const _e=Pe.area||"Sin especificar";return Se[_e]=(Se[_e]||0)+1,Se},{}),ce=e.reduce((Se,Pe)=>{var Ae;const _e=((Ae=Pe.docenteSupervisor)==null?void 0:Ae.nombreCompleto)||"Sin asignar";return Se[_e]=(Se[_e]||0)+1,Se},{}),ge=e.reduce((Se,Pe)=>{const _e=Pe.direccion.split(",").map(je=>je.trim()),Ae=_e.length>1?_e[1]:"Desconocida";return Se[Ae]=(Se[Ae]||0)+1,Se},{}),De=Nce.map(Se=>{const Pe=e.flatMap(Ae=>{var je;return(je=Ae.calificaciones.find($e=>$e.elemento===Se.elemento))==null?void 0:je.score}).filter(Ae=>Ae!=null),_e=Pe.length>0?Pe.reduce((Ae,je)=>Ae+je,0)/Pe.length:0;return{subject:Se.elemento.split(" ")[0],A:_e,fullMark:5}}),re=e.map(Se=>{const Pe=Se.calificaciones.map(Ae=>Ae.score).filter(Ae=>Ae!=null),_e=Pe.length>0?Pe.reduce((Ae,je)=>Ae+je,0)/Pe.length:0;return{...Se,promedio:_e}}).filter(Se=>Se.promedio>0).sort((Se,Pe)=>Pe.promedio-Se.promedio);return{porEspecialidad:Object.entries(oe).map(([Se,Pe])=>({name:Se,value:Pe})),porSupervisor:Object.entries(ce).map(([Se,Pe])=>({name:Se,value:Pe})),porComuna:Object.entries(ge).map(([Se,Pe])=>({name:Se,value:Pe})),calificacionPorAmbito:De,ranking:re}},[e]),J=async()=>{if(i)try{await H$e(i),s("list"),o(null),f(null)}catch{alert("No se pudo guardar la empresa.")}},q=async oe=>{window.confirm("Est seguro de eliminar esta empresa?")&&await V$e(oe)},Z=(oe,ce)=>{o(ge=>ge?{...ge,[oe]:ce}:null)},H=async oe=>{var ce;if(f(oe),(ce=oe==null?void 0:oe.value)!=null&&ce.place_id&&M){const ge=await Hq(oe.value.place_id);Z("direccion",oe.label||""),Z("coordenadas",ge)}else Z("direccion",(oe==null?void 0:oe.label)||"")},V=oe=>{o(JSON.parse(JSON.stringify(oe))),oe.direccion&&f({label:oe.direccion,value:{description:oe.direccion}}),s("form")},G=async oe=>{var ce;if(p(oe),(ce=oe==null?void 0:oe.value)!=null&&ce.place_id&&M){const ge=await Hq(oe.value.place_id);g(ge)}},ne=oe=>{y(ce=>ce.some(ge=>ge.id===oe.id)?ce.filter(ge=>ge.id!==oe.id):[...ce,oe])},R=()=>{if(!v||b.length===0||!M)return;k(!0);const oe=new window.google.maps.DirectionsService,ce=b.filter(ge=>ge.coordenadas).map(ge=>({location:ge.coordenadas,stopover:!0}));oe.route({origin:v,destination:v,waypoints:ce,optimizeWaypoints:!0,travelMode:window.google.maps.TravelMode[O]},(ge,De)=>{k(!1),De===window.google.maps.DirectionsStatus.OK&&ge?S(ge):alert("No se pudo calcular la ruta: "+De)})},W=()=>{S(null),p(null),g(null),y([]),N("")},Y=async()=>{if(!C||!h||!v||b.length===0){alert("Por favor, asigna un nombre a la ruta y asegrate de tener un punto de partida y empresas seleccionadas.");return}const oe={nombre:C,startPoint:{label:h.label,coords:v},empresas:b.map(ce=>({id:ce.id,nombre:ce.nombre,coordenadas:ce.coordenadas})),travelMode:O};try{await $$e(oe),alert("Ruta guardada con xito."),s("saved-routes")}catch{alert("Error al guardar la ruta.")}},te=async()=>{const oe=document.getElementById("map-container-for-pdf"),ce=document.getElementById("route-details-for-pdf");if(!oe||!ce)return;const ge=new hr("p","mm","a4"),De=ge.internal.pageSize.getWidth();ge.text(`Ruta de Supervisin: ${C||"Sin nombre"}`,10,15),ge.setFontSize(10),ge.text(`Fecha: ${new Date().toLocaleDateString("es-CL")}`,10,22);const Se=(await mS(oe,{useCORS:!0})).toDataURL("image/png");ge.addImage(Se,"PNG",10,30,De-20,100);const _e=(await mS(ce)).toDataURL("image/png"),Ae=ge.getImageProperties(_e),je=Ae.height*(De-20)/Ae.width;ge.addImage(_e,"PNG",10,135,De-20,je),ge.save(`ruta-${C||"supervision"}.pdf`)},ie=oe=>{p({label:oe.startPoint.label,value:null}),g(oe.startPoint.coords),y(oe.empresas),w(oe.travelMode),N(oe.nombre),s("route")},me=async oe=>{window.confirm("Ests seguro de que quieres eliminar esta ruta guardada?")&&(await G$e(oe),alert("Ruta eliminada."))};return l?c.jsx("div",{className:"text-center p-8",children:"Cargando..."}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Empresas"}),c.jsxs("div",{className:"flex items-center gap-4",children:[a!=="list"&&c.jsx("button",{onClick:()=>{s("list"),f(null),o(null),W()},className:"font-semibold hover:text-blue-600",children:" Volver al listado"}),a==="list"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>s("dashboard"),title:"Dashboard",className:"bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center gap-2",children:[c.jsx(Ixe,{size:18})," Dashboard"]}),c.jsx("button",{onClick:()=>s("saved-routes"),title:"Rutas Guardadas",className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Rutas Guardadas"}),c.jsx("button",{onClick:()=>s("route"),title:"Ruta de Supervisin",className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Ruta de Supervisin"}),c.jsx("button",{onClick:()=>s("map"),title:"Vista de Mapa",className:"bg-slate-200 hover:bg-slate-300 p-2 rounded-lg transition-colors",children:""}),c.jsx("button",{onClick:()=>{o(jlt()),s("form")},className:"bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Crear Empresa"})]})]})]}),a==="dashboard"&&c.jsx(Olt,{data:Q}),a==="saved-routes"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Rutas de Supervisin Guardadas"}),c.jsx("div",{className:"space-y-3",children:P.length===0?c.jsx("p",{className:"text-gray-500",children:"No tienes rutas guardadas."}):P.map(oe=>c.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:oe.nombre}),c.jsxs("p",{className:"text-sm text-slate-500",children:[oe.empresas.length," paradas"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>ie(oe),className:"bg-blue-500 text-white px-3 py-1 rounded-md text-sm",children:"Cargar"}),c.jsx("button",{onClick:()=>me(oe.id),className:"bg-red-500 text-white px-3 py-1 rounded-md text-sm",children:"Eliminar"})]})]},oe.id))})]}),a==="route"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Planificador de Ruta de Supervisin"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"1. Ingresa un nombre para la ruta"}),c.jsx("input",{type:"text",value:C,onChange:oe=>N(oe.target.value),placeholder:"Ej: Supervisin Zona Norte",className:"input-style w-full"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"2. Ingresa el punto de partida"}),c.jsx(x$,{apiKey:F,selectProps:{value:h,onChange:G,placeholder:"Buscar direccin de partida..."},autocompletionRequest:{componentRestrictions:{country:["cl"]}}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"3. Elige el modo de transporte"}),c.jsxs("div",{className:"flex gap-4 rounded-lg bg-slate-100 p-1",children:[c.jsx("button",{onClick:()=>w("DRIVING"),className:`w-full py-2 rounded-md transition ${O==="DRIVING"?"bg-blue-500 text-white":"hover:bg-slate-200"}`,children:"Automvil"}),c.jsx("button",{onClick:()=>w("TRANSIT"),className:`w-full py-2 rounded-md transition ${O==="TRANSIT"?"bg-blue-500 text-white":"hover:bg-slate-200"}`,children:"Transporte Pblico"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"4. Selecciona las empresas a visitar"}),c.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-lg p-2 space-y-2",children:e.filter(oe=>oe.coordenadas).map(oe=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`route-${oe.id}`,checked:b.some(ce=>ce.id===oe.id),onChange:()=>ne(oe),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("label",{htmlFor:`route-${oe.id}`,className:"ml-3 text-sm text-gray-700",children:oe.nombre})]},oe.id))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("button",{onClick:R,disabled:!v||b.length===0||B,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-lg transition-colors disabled:opacity-50",children:B?"Calculando...":"Visualizar Ruta"}),c.jsx("button",{onClick:Y,disabled:!C||!v||b.length===0,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-lg transition-colors disabled:opacity-50",children:"Guardar Ruta"}),c.jsx("button",{onClick:te,disabled:!_,className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-3 rounded-lg transition-colors disabled:opacity-50",children:"Exportar PDF"}),c.jsx("button",{onClick:W,className:"w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 rounded-lg transition-colors",children:"Limpiar"})]})]}),c.jsx("div",{children:c.jsx(Qq,{empresas:b,isLoaded:M,route:_})})]}),_&&c.jsx(Flt,{route:_,travelMode:O})]}),a==="map"&&c.jsx(Qq,{empresas:e,isLoaded:M}),a==="list"&&c.jsx("div",{className:"space-y-3",children:e.length===0?c.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay empresas registradas."}):e.map(oe=>{var ce;return c.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg",children:oe.nombre}),c.jsxs("p",{className:"text-sm text-slate-500",children:[oe.rut," | ",oe.direccion]}),c.jsxs("p",{className:"text-sm text-slate-600",children:["rea: ",oe.area||"No especificada"," | Cupos: ",oe.cupos," | Supervisor: ",((ce=oe.docenteSupervisor)==null?void 0:ce.nombreCompleto)||"Ninguno"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>V(oe),className:"text-sm font-semibold text-blue-600 hover:text-blue-800",children:"Editar"}),c.jsx("button",{onClick:()=>q(oe.id),className:"text-sm text-red-500 hover:text-red-700",children:"Eliminar"})]})]})},oe.id)})}),a==="form"&&i&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"id"in i?"Editando Empresa":"Nueva Empresa"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(uxe,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{value:i.nombre,onChange:oe=>Z("nombre",oe.target.value),placeholder:"Nombre Empresa",className:"input-style pl-10",required:!0})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(Nxe,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{value:i.rut,onChange:oe=>Z("rut",oe.target.value),placeholder:"RUT Empresa",className:"input-style pl-10",required:!0})]}),c.jsxs("div",{className:"md:col-span-2 relative flex items-center",children:[c.jsx(aj,{className:"absolute left-3 top-5 -translate-y-1/2 w-5 h-5 text-slate-400 z-10"}),c.jsx("div",{className:"w-full pl-10",children:c.jsx(x$,{apiKey:F,selectProps:{value:d,onChange:H,placeholder:"Buscar direccin..."},autocompletionRequest:{componentRestrictions:{country:["cl"]}}})})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(w7,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{value:i.contacto,onChange:oe=>Z("contacto",oe.target.value),placeholder:"Contacto",className:"input-style pl-10"})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(Fxe,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{type:"email",value:i.email||"",onChange:oe=>Z("email",oe.target.value),placeholder:"Correo electrnico",className:"input-style pl-10"})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(r1e,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsx("input",{type:"number",value:i.cupos,onChange:oe=>Z("cupos",parseInt(oe.target.value)||1),placeholder:"N de cupos",className:"input-style pl-10",min:"1"})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(lxe,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsxs("select",{value:i.area||"",onChange:oe=>Z("area",oe.target.value),className:"input-style pl-10 w-full",children:[c.jsx("option",{value:"",disabled:!0,children:"Seleccione un rea"}),Ilt.map(oe=>c.jsx("option",{value:oe,children:oe},oe))]})]}),c.jsxs("div",{className:"md:col-span-2 relative flex items-center",children:[c.jsx(w7,{className:"absolute left-3 w-5 h-5 text-slate-400"}),c.jsxs("select",{value:i.docenteSupervisor?JSON.stringify(i.docenteSupervisor):"",onChange:oe=>{const ce=oe.target.value;Z("docenteSupervisor",ce?JSON.parse(ce):void 0)},className:"input-style pl-10 w-full",children:[c.jsx("option",{value:"",children:"Sin supervisor asignado"}),r.map(oe=>c.jsx("option",{value:JSON.stringify({id:oe.id,nombre:oe.nombreCompleto}),children:oe.nombreCompleto},oe.id))]})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Evaluacin de la Empresa"}),i.calificaciones.map((oe,ce)=>c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[c.jsx(qxe,{className:"w-5 h-5 text-slate-400"}),c.jsx("span",{className:"flex-1 text-sm font-medium text-gray-700",children:oe.elemento}),c.jsxs("select",{value:oe.score||"",onChange:ge=>{const De=[...i.calificaciones];De[ce].score=ge.target.value?parseInt(ge.target.value):null,Z("calificaciones",De)},className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:[c.jsx("option",{value:"",children:"Sin calificar"}),[1,2,3,4,5].map(ge=>c.jsx("option",{value:ge,children:ge},ge))]})]},ce))]}),c.jsx("div",{className:"pt-6",children:c.jsx("button",{onClick:J,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 rounded-lg transition-colors",disabled:!i.nombre||!i.rut,children:"Guardar Empresa"})})]})]})};var r2=e=>e.type==="checkbox",rp=e=>e instanceof Date,il=e=>e==null;const kce=e=>typeof e=="object";var zs=e=>!il(e)&&!Array.isArray(e)&&kce(e)&&!rp(e),Plt=e=>zs(e)&&e.target?r2(e.target)?e.target.checked:e.target.value:e,Rlt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Llt=(e,t)=>e.has(Rlt(t)),Mlt=e=>{const t=e.constructor&&e.constructor.prototype;return zs(t)&&t.hasOwnProperty("isPrototypeOf")},EL=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function za(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(EL&&(e instanceof Blob||n))&&(r||zs(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!Mlt(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=za(e[a]));else return e;return t}var T4=e=>/^\w*$/.test(e),$a=e=>e===void 0,I4=e=>Array.isArray(e)?e.filter(Boolean):[],CL=e=>I4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ar=(e,t,r)=>{if(!t||!zs(e))return r;const n=(T4(t)?[t]:CL(t)).reduce((a,s)=>il(a)?a:a[s],e);return $a(n)||n===e?$a(e[t])?r:e[t]:n},oA=e=>typeof e=="boolean",Ba=(e,t,r)=>{let n=-1;const a=T4(t)?[t]:CL(t),s=a.length,i=s-1;for(;++n<s;){const o=a[n];let l=r;if(n!==i){const u=e[o];l=zs(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}};const Vq={BLUR:"blur",FOCUS_OUT:"focusout"},gu={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Bce=ut.createContext(null);Bce.displayName="HookFormContext";const Ult=()=>ut.useContext(Bce);var Qlt=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==gu.all&&(t._proxyFormState[i]=!n||gu.all),e[i]}});return a};const Tce=typeof window<"u"?ut.useLayoutEffect:ut.useEffect;var vA=e=>typeof e=="string",Hlt=(e,t,r,n,a)=>vA(e)?(n&&t.watch.add(e),ar(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),ar(r,s))):(n&&(t.watchAll=!0),r),S6=e=>il(e)||!kce(e);function f0(e,t,r=new WeakSet){if(S6(e)||S6(t))return e===t;if(rp(e)&&rp(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const o=t[s];if(rp(i)&&rp(o)||zs(i)&&zs(o)||Array.isArray(i)&&Array.isArray(o)?!f0(i,o,r):i!==o)return!1}}return!0}var Vlt=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Ul=e=>Array.isArray(e)?e:[e],zq=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},nl=e=>zs(e)&&!Object.keys(e).length,_L=e=>e.type==="file",ld=e=>typeof e=="function",v5=e=>{if(!EL)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ice=e=>e.type==="select-multiple",SL=e=>e.type==="radio",zlt=e=>SL(e)||r2(e),bI=e=>v5(e)&&e.isConnected;function $lt(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=$a(e)?n++:e[t[n++]];return e}function Klt(e){for(const t in e)if(e.hasOwnProperty(t)&&!$a(e[t]))return!1;return!0}function Ps(e,t){const r=Array.isArray(t)?t:T4(t)?[t]:CL(t),n=r.length===1?e:$lt(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(zs(n)&&nl(n)||Array.isArray(n)&&Klt(n))&&Ps(e,r.slice(0,-1)),e}var jce=e=>{for(const t in e)if(ld(e[t]))return!0;return!1};function x5(e,t={}){const r=Array.isArray(e);if(zs(e)||r)for(const n in e)Array.isArray(e[n])||zs(e[n])&&!jce(e[n])?(t[n]=Array.isArray(e[n])?[]:{},x5(e[n],t[n])):il(e[n])||(t[n]=!0);return t}function Fce(e,t,r){const n=Array.isArray(e);if(zs(e)||n)for(const a in e)Array.isArray(e[a])||zs(e[a])&&!jce(e[a])?$a(t)||S6(r[a])?r[a]=Array.isArray(e[a])?x5(e[a],[]):{...x5(e[a])}:Fce(e[a],il(t)?{}:t[a],r[a]):r[a]=!f0(e[a],t[a]);return r}var fb=(e,t)=>Fce(e,t,x5(t));const $q={value:!1,isValid:!1},Kq={value:!0,isValid:!0};var Oce=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$a(e[0].attributes.value)?$a(e[0].value)||e[0].value===""?Kq:{value:e[0].value,isValid:!0}:Kq:$q}return $q},Dce=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>$a(e)?e:t?e===""?NaN:e&&+e:r&&vA(e)?new Date(e):n?n(e):e;const Gq={isValid:!1,value:null};var Pce=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Gq):Gq;function qq(e){const t=e.ref;return _L(t)?t.files:SL(t)?Pce(e.refs).value:Ice(t)?[...t.selectedOptions].map(({value:r})=>r):r2(t)?Oce(e.refs).value:Dce($a(t.value)?e.ref.value:t.value,e)}var Glt=(e,t,r,n)=>{const a={};for(const s of e){const i=ar(t,s);i&&Ba(a,s,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},b5=e=>e instanceof RegExp,hb=e=>$a(e)?e:b5(e)?e.source:zs(e)?b5(e.value)?e.value.source:e.value:e,Cv=e=>({isOnSubmit:!e||e===gu.onSubmit,isOnBlur:e===gu.onBlur,isOnChange:e===gu.onChange,isOnAll:e===gu.all,isOnTouch:e===gu.onTouched});const Wq="AsyncFunction";var qlt=e=>!!e&&!!e.validate&&!!(ld(e.validate)&&e.validate.constructor.name===Wq||zs(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Wq)),Wlt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),N6=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Gv=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=ar(e,a);if(s){const{_f:i,...o}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Gv(o,t))break}else if(zs(o)&&Gv(o,t))break}}};function Xq(e,t,r){const n=ar(e,r);if(n||T4(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=ar(t,s),o=ar(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};a.pop()}return{name:r}}var Xlt=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return nl(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!n||gu.all))},Ylt=(e,t,r)=>!e||!t||e===t||Ul(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Jlt=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Zlt=(e,t)=>!I4(ar(e,t)).length&&Ps(e,t),Rce=(e,t,r)=>{const n=Ul(ar(e,r));return Ba(n,"root",t[r]),Ba(e,r,n),e},g_=e=>vA(e);function Yq(e,t,r="validate"){if(g_(e)||Array.isArray(e)&&e.every(g_)||oA(e)&&!e)return{type:r,message:g_(e)?e:"",ref:t}}var tv=e=>zs(e)&&!b5(e)?e:{value:e,message:""},k6=async(e,t,r,n,a,s)=>{const{ref:i,refs:o,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:v,name:g,valueAsNumber:b,mount:y}=e._f,_=ar(r,g);if(!y||t.has(g))return{};const S=o?o[0]:i,B=F=>{a&&S.reportValidity&&(S.setCustomValidity(oA(F)?"":F||""),S.reportValidity())},k={},O=SL(i),w=r2(i),C=O||w,N=(b||_L(i))&&$a(i.value)&&$a(_)||v5(i)&&i.value===""||_===""||Array.isArray(_)&&!_.length,P=Vlt.bind(null,g,n,k),j=(F,M,Q,J=yf.maxLength,q=yf.minLength)=>{const Z=F?M:Q;k[g]={type:F?J:q,message:Z,ref:i,...P(F?J:q,Z)}};if(s?!Array.isArray(_)||!_.length:l&&(!C&&(N||il(_))||oA(_)&&!_||w&&!Oce(o).isValid||O&&!Pce(o).isValid)){const{value:F,message:M}=g_(l)?{value:!!l,message:l}:tv(l);if(F&&(k[g]={type:yf.required,message:M,ref:S,...P(yf.required,M)},!n))return B(M),k}if(!N&&(!il(f)||!il(h))){let F,M;const Q=tv(h),J=tv(f);if(!il(_)&&!isNaN(_)){const q=i.valueAsNumber||_&&+_;il(Q.value)||(F=q>Q.value),il(J.value)||(M=q<J.value)}else{const q=i.valueAsDate||new Date(_),Z=G=>new Date(new Date().toDateString()+" "+G),H=i.type=="time",V=i.type=="week";vA(Q.value)&&_&&(F=H?Z(_)>Z(Q.value):V?_>Q.value:q>new Date(Q.value)),vA(J.value)&&_&&(M=H?Z(_)<Z(J.value):V?_<J.value:q<new Date(J.value))}if((F||M)&&(j(!!F,Q.message,J.message,yf.max,yf.min),!n))return B(k[g].message),k}if((u||d)&&!N&&(vA(_)||s&&Array.isArray(_))){const F=tv(u),M=tv(d),Q=!il(F.value)&&_.length>+F.value,J=!il(M.value)&&_.length<+M.value;if((Q||J)&&(j(Q,F.message,M.message),!n))return B(k[g].message),k}if(p&&!N&&vA(_)){const{value:F,message:M}=tv(p);if(b5(F)&&!_.match(F)&&(k[g]={type:yf.pattern,message:M,ref:i,...P(yf.pattern,M)},!n))return B(M),k}if(v){if(ld(v)){const F=await v(_,r),M=Yq(F,S);if(M&&(k[g]={...M,...P(yf.validate,M.message)},!n))return B(M.message),k}else if(zs(v)){let F={};for(const M in v){if(!nl(F)&&!n)break;const Q=Yq(await v[M](_,r),S,M);Q&&(F={...Q,...P(M,Q.message)},B(Q.message),n&&(k[g]=F))}if(!nl(F)&&(k[g]={ref:S,...F},!n))return k}}return B(!0),k};const ect={mode:gu.onSubmit,reValidateMode:gu.onChange,shouldFocusError:!0};function tct(e={}){let t={...ect,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ld(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=zs(t.defaultValues)||zs(t.values)?za(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:za(a),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:zq(),state:zq()},p=t.criteriaMode===gu.all,v=ye=>Oe=>{clearTimeout(u),u=setTimeout(ye,Oe)},g=async ye=>{if(!t.disabled&&(d.isValid||f.isValid||ye)){const Oe=t.resolver?nl((await w()).errors):await N(n,!0);Oe!==r.isValid&&h.state.next({isValid:Oe})}},b=(ye,Oe)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ye||Array.from(o.mount)).forEach(Me=>{Me&&(Oe?Ba(r.validatingFields,Me,Oe):Ps(r.validatingFields,Me))}),h.state.next({validatingFields:r.validatingFields,isValidating:!nl(r.validatingFields)}))},y=(ye,Oe=[],Me,Ye,tt=!0,ct=!0)=>{if(Ye&&Me&&!t.disabled){if(i.action=!0,ct&&Array.isArray(ar(n,ye))){const gt=Me(ar(n,ye),Ye.argA,Ye.argB);tt&&Ba(n,ye,gt)}if(ct&&Array.isArray(ar(r.errors,ye))){const gt=Me(ar(r.errors,ye),Ye.argA,Ye.argB);tt&&Ba(r.errors,ye,gt),Zlt(r.errors,ye)}if((d.touchedFields||f.touchedFields)&&ct&&Array.isArray(ar(r.touchedFields,ye))){const gt=Me(ar(r.touchedFields,ye),Ye.argA,Ye.argB);tt&&Ba(r.touchedFields,ye,gt)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=fb(a,s)),h.state.next({name:ye,isDirty:j(ye,Oe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ba(s,ye,Oe)},_=(ye,Oe)=>{Ba(r.errors,ye,Oe),h.state.next({errors:r.errors})},S=ye=>{r.errors=ye,h.state.next({errors:r.errors,isValid:!1})},B=(ye,Oe,Me,Ye)=>{const tt=ar(n,ye);if(tt){const ct=ar(s,ye,$a(Me)?ar(a,ye):Me);$a(ct)||Ye&&Ye.defaultChecked||Oe?Ba(s,ye,Oe?ct:qq(tt._f)):Q(ye,ct),i.mount&&g()}},k=(ye,Oe,Me,Ye,tt)=>{let ct=!1,gt=!1;const kt={name:ye};if(!t.disabled){if(!Me||Ye){(d.isDirty||f.isDirty)&&(gt=r.isDirty,r.isDirty=kt.isDirty=j(),ct=gt!==kt.isDirty);const Dt=f0(ar(a,ye),Oe);gt=!!ar(r.dirtyFields,ye),Dt?Ps(r.dirtyFields,ye):Ba(r.dirtyFields,ye,!0),kt.dirtyFields=r.dirtyFields,ct=ct||(d.dirtyFields||f.dirtyFields)&&gt!==!Dt}if(Me){const Dt=ar(r.touchedFields,ye);Dt||(Ba(r.touchedFields,ye,Me),kt.touchedFields=r.touchedFields,ct=ct||(d.touchedFields||f.touchedFields)&&Dt!==Me)}ct&&tt&&h.state.next(kt)}return ct?kt:{}},O=(ye,Oe,Me,Ye)=>{const tt=ar(r.errors,ye),ct=(d.isValid||f.isValid)&&oA(Oe)&&r.isValid!==Oe;if(t.delayError&&Me?(l=v(()=>_(ye,Me)),l(t.delayError)):(clearTimeout(u),l=null,Me?Ba(r.errors,ye,Me):Ps(r.errors,ye)),(Me?!f0(tt,Me):tt)||!nl(Ye)||ct){const gt={...Ye,...ct&&oA(Oe)?{isValid:Oe}:{},errors:r.errors,name:ye};r={...r,...gt},h.state.next(gt)}},w=async ye=>{b(ye,!0);const Oe=await t.resolver(s,t.context,Glt(ye||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(ye),Oe},C=async ye=>{const{errors:Oe}=await w(ye);if(ye)for(const Me of ye){const Ye=ar(Oe,Me);Ye?Ba(r.errors,Me,Ye):Ps(r.errors,Me)}else r.errors=Oe;return Oe},N=async(ye,Oe,Me={valid:!0})=>{for(const Ye in ye){const tt=ye[Ye];if(tt){const{_f:ct,...gt}=tt;if(ct){const kt=o.array.has(ct.name),Dt=tt._f&&qlt(tt._f);Dt&&d.validatingFields&&b([Ye],!0);const Re=await k6(tt,o.disabled,s,p,t.shouldUseNativeValidation&&!Oe,kt);if(Dt&&d.validatingFields&&b([Ye]),Re[ct.name]&&(Me.valid=!1,Oe))break;!Oe&&(ar(Re,ct.name)?kt?Rce(r.errors,Re,ct.name):Ba(r.errors,ct.name,Re[ct.name]):Ps(r.errors,ct.name))}!nl(gt)&&await N(gt,Oe,Me)}}return Me.valid},P=()=>{for(const ye of o.unMount){const Oe=ar(n,ye);Oe&&(Oe._f.refs?Oe._f.refs.every(Me=>!bI(Me)):!bI(Oe._f.ref))&&me(ye)}o.unMount=new Set},j=(ye,Oe)=>!t.disabled&&(ye&&Oe&&Ba(s,ye,Oe),!f0(G(),a)),F=(ye,Oe,Me)=>Hlt(ye,o,{...i.mount?s:$a(Oe)?a:vA(ye)?{[ye]:Oe}:Oe},Me,Oe),M=ye=>I4(ar(i.mount?s:a,ye,t.shouldUnregister?ar(a,ye,[]):[])),Q=(ye,Oe,Me={})=>{const Ye=ar(n,ye);let tt=Oe;if(Ye){const ct=Ye._f;ct&&(!ct.disabled&&Ba(s,ye,Dce(Oe,ct)),tt=v5(ct.ref)&&il(Oe)?"":Oe,Ice(ct.ref)?[...ct.ref.options].forEach(gt=>gt.selected=tt.includes(gt.value)):ct.refs?r2(ct.ref)?ct.refs.forEach(gt=>{(!gt.defaultChecked||!gt.disabled)&&(Array.isArray(tt)?gt.checked=!!tt.find(kt=>kt===gt.value):gt.checked=tt===gt.value||!!tt)}):ct.refs.forEach(gt=>gt.checked=gt.value===tt):_L(ct.ref)?ct.ref.value="":(ct.ref.value=tt,ct.ref.type||h.state.next({name:ye,values:za(s)})))}(Me.shouldDirty||Me.shouldTouch)&&k(ye,tt,Me.shouldTouch,Me.shouldDirty,!0),Me.shouldValidate&&V(ye)},J=(ye,Oe,Me)=>{for(const Ye in Oe){if(!Oe.hasOwnProperty(Ye))return;const tt=Oe[Ye],ct=ye+"."+Ye,gt=ar(n,ct);(o.array.has(ye)||zs(tt)||gt&&!gt._f)&&!rp(tt)?J(ct,tt,Me):Q(ct,tt,Me)}},q=(ye,Oe,Me={})=>{const Ye=ar(n,ye),tt=o.array.has(ye),ct=za(Oe);Ba(s,ye,ct),tt?(h.array.next({name:ye,values:za(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Me.shouldDirty&&h.state.next({name:ye,dirtyFields:fb(a,s),isDirty:j(ye,ct)})):Ye&&!Ye._f&&!il(ct)?J(ye,ct,Me):Q(ye,ct,Me),N6(ye,o)&&h.state.next({...r,name:ye}),h.state.next({name:i.mount?ye:void 0,values:za(s)})},Z=async ye=>{i.mount=!0;const Oe=ye.target;let Me=Oe.name,Ye=!0;const tt=ar(n,Me),ct=Dt=>{Ye=Number.isNaN(Dt)||rp(Dt)&&isNaN(Dt.getTime())||f0(Dt,ar(s,Me,Dt))},gt=Cv(t.mode),kt=Cv(t.reValidateMode);if(tt){let Dt,Re;const Ue=Oe.type?qq(tt._f):Plt(ye),Be=ye.type===Vq.BLUR||ye.type===Vq.FOCUS_OUT,ht=!Wlt(tt._f)&&!t.resolver&&!ar(r.errors,Me)&&!tt._f.deps||Jlt(Be,ar(r.touchedFields,Me),r.isSubmitted,kt,gt),wt=N6(Me,o,Be);Ba(s,Me,Ue),Be?(!Oe||!Oe.readOnly)&&(tt._f.onBlur&&tt._f.onBlur(ye),l&&l(0)):tt._f.onChange&&tt._f.onChange(ye);const ir=k(Me,Ue,Be),Kt=!nl(ir)||wt;if(!Be&&h.state.next({name:Me,type:ye.type,values:za(s)}),ht)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Be&&g():Be||g()),Kt&&h.state.next({name:Me,...wt?{}:ir});if(!Be&&wt&&h.state.next({...r}),t.resolver){const{errors:Ut}=await w([Me]);if(ct(Ue),Ye){const Ur=Xq(r.errors,n,Me),Ar=Xq(Ut,n,Ur.name||Me);Dt=Ar.error,Me=Ar.name,Re=nl(Ut)}}else b([Me],!0),Dt=(await k6(tt,o.disabled,s,p,t.shouldUseNativeValidation))[Me],b([Me]),ct(Ue),Ye&&(Dt?Re=!1:(d.isValid||f.isValid)&&(Re=await N(n,!0)));Ye&&(tt._f.deps&&V(tt._f.deps),O(Me,Re,Dt,ir))}},H=(ye,Oe)=>{if(ar(r.errors,Oe)&&ye.focus)return ye.focus(),1},V=async(ye,Oe={})=>{let Me,Ye;const tt=Ul(ye);if(t.resolver){const ct=await C($a(ye)?ye:tt);Me=nl(ct),Ye=ye?!tt.some(gt=>ar(ct,gt)):Me}else ye?(Ye=(await Promise.all(tt.map(async ct=>{const gt=ar(n,ct);return await N(gt&&gt._f?{[ct]:gt}:gt)}))).every(Boolean),!(!Ye&&!r.isValid)&&g()):Ye=Me=await N(n);return h.state.next({...!vA(ye)||(d.isValid||f.isValid)&&Me!==r.isValid?{}:{name:ye},...t.resolver||!ye?{isValid:Me}:{},errors:r.errors}),Oe.shouldFocus&&!Ye&&Gv(n,H,ye?tt:o.mount),Ye},G=ye=>{const Oe={...i.mount?s:a};return $a(ye)?Oe:vA(ye)?ar(Oe,ye):ye.map(Me=>ar(Oe,Me))},ne=(ye,Oe)=>({invalid:!!ar((Oe||r).errors,ye),isDirty:!!ar((Oe||r).dirtyFields,ye),error:ar((Oe||r).errors,ye),isValidating:!!ar(r.validatingFields,ye),isTouched:!!ar((Oe||r).touchedFields,ye)}),R=ye=>{ye&&Ul(ye).forEach(Oe=>Ps(r.errors,Oe)),h.state.next({errors:ye?r.errors:{}})},W=(ye,Oe,Me)=>{const Ye=(ar(n,ye,{_f:{}})._f||{}).ref,tt=ar(r.errors,ye)||{},{ref:ct,message:gt,type:kt,...Dt}=tt;Ba(r.errors,ye,{...Dt,...Oe,ref:Ye}),h.state.next({name:ye,errors:r.errors,isValid:!1}),Me&&Me.shouldFocus&&Ye&&Ye.focus&&Ye.focus()},Y=(ye,Oe)=>ld(ye)?h.state.subscribe({next:Me=>"values"in Me&&ye(F(void 0,Oe),Me)}):F(ye,Oe,!0),te=ye=>h.state.subscribe({next:Oe=>{Ylt(ye.name,Oe.name,ye.exact)&&Xlt(Oe,ye.formState||d,je,ye.reRenderRoot)&&ye.callback({values:{...s},...r,...Oe,defaultValues:a})}}).unsubscribe,ie=ye=>(i.mount=!0,f={...f,...ye.formState},te({...ye,formState:f})),me=(ye,Oe={})=>{for(const Me of ye?Ul(ye):o.mount)o.mount.delete(Me),o.array.delete(Me),Oe.keepValue||(Ps(n,Me),Ps(s,Me)),!Oe.keepError&&Ps(r.errors,Me),!Oe.keepDirty&&Ps(r.dirtyFields,Me),!Oe.keepTouched&&Ps(r.touchedFields,Me),!Oe.keepIsValidating&&Ps(r.validatingFields,Me),!t.shouldUnregister&&!Oe.keepDefaultValue&&Ps(a,Me);h.state.next({values:za(s)}),h.state.next({...r,...Oe.keepDirty?{isDirty:j()}:{}}),!Oe.keepIsValid&&g()},oe=({disabled:ye,name:Oe})=>{(oA(ye)&&i.mount||ye||o.disabled.has(Oe))&&(ye?o.disabled.add(Oe):o.disabled.delete(Oe))},ce=(ye,Oe={})=>{let Me=ar(n,ye);const Ye=oA(Oe.disabled)||oA(t.disabled);return Ba(n,ye,{...Me||{},_f:{...Me&&Me._f?Me._f:{ref:{name:ye}},name:ye,mount:!0,...Oe}}),o.mount.add(ye),Me?oe({disabled:oA(Oe.disabled)?Oe.disabled:t.disabled,name:ye}):B(ye,!0,Oe.value),{...Ye?{disabled:Oe.disabled||t.disabled}:{},...t.progressive?{required:!!Oe.required,min:hb(Oe.min),max:hb(Oe.max),minLength:hb(Oe.minLength),maxLength:hb(Oe.maxLength),pattern:hb(Oe.pattern)}:{},name:ye,onChange:Z,onBlur:Z,ref:tt=>{if(tt){ce(ye,Oe),Me=ar(n,ye);const ct=$a(tt.value)&&tt.querySelectorAll&&tt.querySelectorAll("input,select,textarea")[0]||tt,gt=zlt(ct),kt=Me._f.refs||[];if(gt?kt.find(Dt=>Dt===ct):ct===Me._f.ref)return;Ba(n,ye,{_f:{...Me._f,...gt?{refs:[...kt.filter(bI),ct,...Array.isArray(ar(a,ye))?[{}]:[]],ref:{type:ct.type,name:ye}}:{ref:ct}}}),B(ye,!1,void 0,ct)}else Me=ar(n,ye,{}),Me._f&&(Me._f.mount=!1),(t.shouldUnregister||Oe.shouldUnregister)&&!(Llt(o.array,ye)&&i.action)&&o.unMount.add(ye)}}},ge=()=>t.shouldFocusError&&Gv(n,H,o.mount),De=ye=>{oA(ye)&&(h.state.next({disabled:ye}),Gv(n,(Oe,Me)=>{const Ye=ar(n,Me);Ye&&(Oe.disabled=Ye._f.disabled||ye,Array.isArray(Ye._f.refs)&&Ye._f.refs.forEach(tt=>{tt.disabled=Ye._f.disabled||ye}))},0,!1))},re=(ye,Oe)=>async Me=>{let Ye;Me&&(Me.preventDefault&&Me.preventDefault(),Me.persist&&Me.persist());let tt=za(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ct,values:gt}=await w();r.errors=ct,tt=za(gt)}else await N(n);if(o.disabled.size)for(const ct of o.disabled)Ps(tt,ct);if(Ps(r.errors,"root"),nl(r.errors)){h.state.next({errors:{}});try{await ye(tt,Me)}catch(ct){Ye=ct}}else Oe&&await Oe({...r.errors},Me),ge(),setTimeout(ge);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nl(r.errors)&&!Ye,submitCount:r.submitCount+1,errors:r.errors}),Ye)throw Ye},Se=(ye,Oe={})=>{ar(n,ye)&&($a(Oe.defaultValue)?q(ye,za(ar(a,ye))):(q(ye,Oe.defaultValue),Ba(a,ye,za(Oe.defaultValue))),Oe.keepTouched||Ps(r.touchedFields,ye),Oe.keepDirty||(Ps(r.dirtyFields,ye),r.isDirty=Oe.defaultValue?j(ye,za(ar(a,ye))):j()),Oe.keepError||(Ps(r.errors,ye),d.isValid&&g()),h.state.next({...r}))},Pe=(ye,Oe={})=>{const Me=ye?za(ye):a,Ye=za(Me),tt=nl(ye),ct=tt?a:Ye;if(Oe.keepDefaultValues||(a=Me),!Oe.keepValues){if(Oe.keepDirtyValues){const gt=new Set([...o.mount,...Object.keys(fb(a,s))]);for(const kt of Array.from(gt))ar(r.dirtyFields,kt)?Ba(ct,kt,ar(s,kt)):q(kt,ar(ct,kt))}else{if(EL&&$a(ye))for(const gt of o.mount){const kt=ar(n,gt);if(kt&&kt._f){const Dt=Array.isArray(kt._f.refs)?kt._f.refs[0]:kt._f.ref;if(v5(Dt)){const Re=Dt.closest("form");if(Re){Re.reset();break}}}}if(Oe.keepFieldsRef)for(const gt of o.mount)q(gt,ar(ct,gt));else n={}}s=t.shouldUnregister?Oe.keepDefaultValues?za(a):{}:za(ct),h.array.next({values:{...ct}}),h.state.next({values:{...ct}})}o={mount:Oe.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!Oe.keepIsValid||!!Oe.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:Oe.keepSubmitCount?r.submitCount:0,isDirty:tt?!1:Oe.keepDirty?r.isDirty:!!(Oe.keepDefaultValues&&!f0(ye,a)),isSubmitted:Oe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:tt?{}:Oe.keepDirtyValues?Oe.keepDefaultValues&&s?fb(a,s):r.dirtyFields:Oe.keepDefaultValues&&ye?fb(a,ye):Oe.keepDirty?r.dirtyFields:{},touchedFields:Oe.keepTouched?r.touchedFields:{},errors:Oe.keepErrors?r.errors:{},isSubmitSuccessful:Oe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},_e=(ye,Oe)=>Pe(ld(ye)?ye(s):ye,Oe),Ae=(ye,Oe={})=>{const Me=ar(n,ye),Ye=Me&&Me._f;if(Ye){const tt=Ye.refs?Ye.refs[0]:Ye.ref;tt.focus&&(tt.focus(),Oe.shouldSelect&&ld(tt.select)&&tt.select())}},je=ye=>{r={...r,...ye}},Ze={control:{register:ce,unregister:me,getFieldState:ne,handleSubmit:re,setError:W,_subscribe:te,_runSchema:w,_focusError:ge,_getWatch:F,_getDirty:j,_setValid:g,_setFieldArray:y,_setDisabledField:oe,_setErrors:S,_getFieldArray:M,_reset:Pe,_resetDefaultValues:()=>ld(t.defaultValues)&&t.defaultValues().then(ye=>{_e(ye,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:De,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(ye){i=ye},get _defaultValues(){return a},get _names(){return o},set _names(ye){o=ye},get _formState(){return r},get _options(){return t},set _options(ye){t={...t,...ye}}},subscribe:ie,trigger:V,register:ce,handleSubmit:re,watch:Y,setValue:q,getValues:G,reset:_e,resetField:Se,clearErrors:R,unregister:me,setError:W,setFocus:Ae,getFieldState:ne};return{...Ze,formControl:Ze}}var Zh=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},yI=(e,t,r={})=>r.shouldFocus||$a(r.shouldFocus)?r.focusName||`${e}.${$a(r.focusIndex)?t:r.focusIndex}.`:"",wI=(e,t)=>[...e,...Ul(t)],EI=e=>Array.isArray(e)?e.map(()=>{}):void 0;function CI(e,t,r){return[...e.slice(0,t),...Ul(r),...e.slice(t)]}var _I=(e,t,r)=>Array.isArray(e)?($a(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],SI=(e,t)=>[...Ul(t),...Ul(e)];function rct(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return I4(n).length?n:[]}var NI=(e,t)=>$a(t)?[]:rct(e,Ul(t).sort((r,n)=>r-n)),kI=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Jq=(e,t,r)=>(e[t]=r,e);function nct(e){const t=Ult(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:s,rules:i}=e,[o,l]=ut.useState(r._getFieldArray(n)),u=ut.useRef(r._getFieldArray(n).map(Zh)),d=ut.useRef(o),f=ut.useRef(!1);d.current=o,r._names.array.add(n),ut.useMemo(()=>i&&r.register(n,i),[r,i,n]),Tce(()=>r._subjects.array.subscribe({next:({values:k,name:O})=>{if(O===n||!O){const w=ar(k,n);Array.isArray(w)&&(l(w),u.current=w.map(Zh))}}}).unsubscribe,[r,n]);const h=ut.useCallback(k=>{f.current=!0,r._setFieldArray(n,k)},[r,n]),p=(k,O)=>{const w=Ul(za(k)),C=wI(r._getFieldArray(n),w);r._names.focus=yI(n,C.length-1,O),u.current=wI(u.current,w.map(Zh)),h(C),l(C),r._setFieldArray(n,C,wI,{argA:EI(k)})},v=(k,O)=>{const w=Ul(za(k)),C=SI(r._getFieldArray(n),w);r._names.focus=yI(n,0,O),u.current=SI(u.current,w.map(Zh)),h(C),l(C),r._setFieldArray(n,C,SI,{argA:EI(k)})},g=k=>{const O=NI(r._getFieldArray(n),k);u.current=NI(u.current,k),h(O),l(O),!Array.isArray(ar(r._fields,n))&&Ba(r._fields,n,void 0),r._setFieldArray(n,O,NI,{argA:k})},b=(k,O,w)=>{const C=Ul(za(O)),N=CI(r._getFieldArray(n),k,C);r._names.focus=yI(n,k,w),u.current=CI(u.current,k,C.map(Zh)),h(N),l(N),r._setFieldArray(n,N,CI,{argA:k,argB:EI(O)})},y=(k,O)=>{const w=r._getFieldArray(n);kI(w,k,O),kI(u.current,k,O),h(w),l(w),r._setFieldArray(n,w,kI,{argA:k,argB:O},!1)},_=(k,O)=>{const w=r._getFieldArray(n);_I(w,k,O),_I(u.current,k,O),h(w),l(w),r._setFieldArray(n,w,_I,{argA:k,argB:O},!1)},S=(k,O)=>{const w=za(O),C=Jq(r._getFieldArray(n),k,w);u.current=[...C].map((N,P)=>!N||P===k?Zh():u.current[P]),h(C),l([...C]),r._setFieldArray(n,C,Jq,{argA:k,argB:w},!0,!1)},B=k=>{const O=Ul(za(k));u.current=O.map(Zh),h([...O]),l([...O]),r._setFieldArray(n,[...O],w=>w,{},!0,!1)};return ut.useEffect(()=>{if(r._state.action=!1,N6(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!Cv(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Cv(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(k=>{const O=ar(k.errors,n),w=ar(r._formState.errors,n);(w?!O&&w.type||O&&(w.type!==O.type||w.message!==O.message):O&&O.type)&&(O?Ba(r._formState.errors,n,O):Ps(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const k=ar(r._fields,n);k&&k._f&&!(Cv(r._options.reValidateMode).isOnSubmit&&Cv(r._options.mode).isOnSubmit)&&k6(k,r._names.disabled,r._formValues,r._options.criteriaMode===gu.all,r._options.shouldUseNativeValidation,!0).then(O=>!nl(O)&&r._subjects.state.next({errors:Rce(r._formState.errors,O,n)}))}r._subjects.state.next({name:n,values:za(r._formValues)}),r._names.focus&&Gv(r._fields,(k,O)=>{if(r._names.focus&&O.startsWith(r._names.focus)&&k.focus)return k.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[o,n,r]),ut.useEffect(()=>(!ar(r._formValues,n)&&r._setFieldArray(n),()=>{const k=(O,w)=>{const C=ar(r._fields,O);C&&C._f&&(C._f.mount=w)};r._options.shouldUnregister||s?r.unregister(n):k(n,!1)}),[n,r,a,s]),{swap:ut.useCallback(y,[h,n,r]),move:ut.useCallback(_,[h,n,r]),prepend:ut.useCallback(v,[h,n,r]),append:ut.useCallback(p,[h,n,r]),remove:ut.useCallback(g,[h,n,r]),insert:ut.useCallback(b,[h,n,r]),update:ut.useCallback(S,[h,n,r]),replace:ut.useCallback(B,[h,n,r]),fields:ut.useMemo(()=>o.map((k,O)=>({...k,[a]:u.current[O]||Zh()})),[o,a])}}function act(e={}){const t=ut.useRef(void 0),r=ut.useRef(void 0),[n,a]=ut.useState({isDirty:!1,isValidating:!1,isLoading:ld(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ld(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ld(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...o}=tct(e);t.current={...o,formState:n}}const s=t.current.control;return s._options=e,Tce(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),s._formState.isReady=!0,i},[s]),ut.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ut.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ut.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ut.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ut.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),ut.useEffect(()=>{e.values&&!f0(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(i=>({...i}))):s._resetDefaultValues()},[s,e.values]),ut.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=Qlt(n,s),t.current}const B6=Rt(jr,"alternancias");async function sct(e){return(await qn(B6,{...e,createdAt:Cp(),updatedAt:Cp()})).id}async function ict({especialidad:e,pageSize:t=10,lastDoc:r}){let n=Zt(B6,Gr("createdAt","desc"),_A(t));e&&(n=Zt(B6,Fn("especialidad","==",e),Gr("createdAt","desc"),_A(t))),r&&(n=Zt(n,age(r)));const a=await Hs(n);return{items:a.docs.map(i=>({id:i.id,...i.data()})),lastDoc:a.docs[a.docs.length-1]}}async function oct(e,t){const r=vr(jr,"alternancias",e);await zp(r,{...t,updatedAt:Cp()})}async function lct(e){const t=vr(jr,"alternancias",e);await $s(t)}async function cct(e,t,r){const n=Rt(jr,"alternancias",e,t);await qn(n,{...r,createdAt:Cp()})}async function uct(e,t){const r=`alternancias/${e}/evidencias/${Date.now()}_${t.name}`,n=QY(VY,r);await MY(n,t);const a=await UY(n);return await cct(e,"evidencias",{url:a,path:r,nombre:t.name}),{url:a,path:r}}const dct=({currentUser:e})=>{const[t,r]=I.useState([]),[n,a]=I.useState(null),[s,i]=I.useState(!1),{register:o,control:l,handleSubmit:u,reset:d,watch:f,setValue:h,formState:{isSubmitting:p}}=act({defaultValues:{especialidad:"",curso:"",institucion:"",nivel:"",modulos:[],tipoAlternancia:[],fundamentacion:"",actividades:[],equipo:[],contrapartes:[],tutores:[],analisisCurricular:""}}),v=nct({control:l,name:"actividades"}),g=["COORDINACION_TP","SUBDIRECCION"],b=((e==null?void 0:e.role)||"").toString().trim().toUpperCase();if(!(!b||g.some(j=>b.includes(j))))return c.jsx("div",{className:"p-4 text-red-600",children:"Acceso no autorizado"});const _=f("especialidad"),S=f("nivel"),B=I.useMemo(()=>_?qve[_]??[]:[],[_]),k=I.useMemo(()=>{var j;return _&&S?((j=Xve[_])==null?void 0:j[S])??[]:[]},[_,S]);I.useEffect(()=>{h("curso",""),h("nivel",""),h("modulos",[])},[_,h]),I.useEffect(()=>{h("modulos",[])},[S,h]);const O=async()=>{i(!0);const{items:j}=await ict({});r(j),i(!1)};I.useEffect(()=>{O()},[]);const w=async j=>{n?await oct(n,{...j}):await sct({...j,createdBy:(e==null?void 0:e.email)||"desconocido"}),d(),a(null),await O()},C=j=>{d(j),a(j.id)},N=async j=>{confirm("Eliminar esta alternancia?")&&(await lct(j),await O())},P=async(j,F)=>{await uct(j,F),alert("Evidencia subida correctamente")};return c.jsxs("div",{className:"p-4",children:[c.jsx("h1",{className:"text-xl font-bold mb-4",children:"Formacin por Alternancia"}),s?c.jsx("p",{className:"text-sm text-gray-600",children:"Cargando"}):c.jsx("div",{className:"mb-6",children:t.length===0?c.jsx("p",{className:"text-gray-500",children:"No hay alternancias registradas"}):c.jsx("ul",{className:"space-y-2",children:t.map(j=>c.jsxs("li",{className:"border p-2 rounded flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[c.jsxs("span",{className:"text-sm",children:[c.jsx("strong",{children:j.especialidad}),"  ",j.curso,"  ",j.institucion," "," ",j.nivel,"  ",Array.isArray(j.tipoAlternancia)?j.tipoAlternancia.join(", "):""]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("label",{className:"cursor-pointer bg-yellow-500 text-white px-2 py-1 rounded flex items-center gap-1",children:[c.jsx(Zxe,{size:16}),c.jsx("input",{type:"file",className:"hidden",onChange:F=>F.target.files&&P(j.id,F.target.files[0])}),"Evidencia"]}),c.jsx("button",{type:"button",onClick:()=>C(j),className:"px-2 py-1 bg-blue-600 text-white rounded",children:"Editar"}),c.jsx("button",{type:"button",onClick:()=>N(j.id),className:"px-2 py-1 bg-red-600 text-white rounded",children:"Eliminar"})]})]},j.id))})}),c.jsxs("form",{onSubmit:u(w),className:"space-y-4 border p-4 rounded bg-white/60",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block font-semibold mb-1",children:"Especialidad"}),c.jsxs("select",{...o("especialidad"),className:"border rounded p-2 w-full",children:[c.jsx("option",{value:"",children:"Selecciona"}),$ve.map(j=>c.jsx("option",{value:j,children:j},j))]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block font-semibold mb-1",children:"Curso"}),c.jsxs("select",{...o("curso"),className:"border rounded p-2 w-full",disabled:!_,children:[c.jsx("option",{value:"",children:_?"Selecciona":"Elige especialidad primero"}),B.map(j=>c.jsx("option",{value:j,children:j},j))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-semibold mb-1",children:"Institucin"}),c.jsxs("select",{...o("institucion"),className:"border rounded p-2 w-full",children:[c.jsx("option",{value:"",children:"Selecciona"}),Kve.map(j=>c.jsx("option",{value:j,children:j},j))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-semibold mb-1",children:"Nivel"}),c.jsxs("select",{...o("nivel"),className:"border rounded p-2 w-full",disabled:!_,children:[c.jsx("option",{value:"",children:_?"Selecciona":"Elige especialidad primero"}),Gve.map(j=>c.jsx("option",{value:j,children:j},j))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-semibold mb-2",children:"Mdulos"}),!_||!S?c.jsx("p",{className:"text-sm text-gray-500",children:"Elige especialidad y nivel para ver los mdulos."}):c.jsx("div",{className:"flex flex-wrap gap-4",children:k.map(j=>c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",value:j,...o("modulos")}),c.jsx("span",{className:"text-sm",children:j})]},j))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-semibold",children:"Tipo de Alternancia"}),c.jsx("div",{className:"flex gap-4 flex-wrap",children:Wve.map(j=>c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",value:j,...o("tipoAlternancia")}),j]},j))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-semibold",children:"Fundamentacin tcnicopedaggica"}),c.jsx("textarea",{...o("fundamentacion"),className:"border rounded p-2 w-full"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-semibold mb-2",children:"Plan de actividades"}),v.fields.map((j,F)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{placeholder:"Fecha",...o(`actividades.${F}.fecha`),className:"border p-1 rounded w-28"}),c.jsx("input",{placeholder:"Tipo",...o(`actividades.${F}.tipo`),className:"border p-1 rounded w-32"}),c.jsx("input",{placeholder:"Actividad",...o(`actividades.${F}.actividad`),className:"border p-1 rounded flex-1"}),c.jsx("input",{placeholder:"Lugar",...o(`actividades.${F}.lugar`),className:"border p-1 rounded w-32"}),c.jsx("input",{placeholder:"Evidencias",...o(`actividades.${F}.evidencias`),className:"border p-1 rounded w-36"}),c.jsx("button",{type:"button",onClick:()=>v.remove(F),className:"text-red-600",title:"Eliminar fila",children:c.jsx(Ew,{size:18})})]},j.id)),c.jsxs("button",{type:"button",onClick:()=>v.append({fecha:"",tipo:"",actividad:"",lugar:"",evidencias:""}),className:"px-2 py-1 bg-green-600 text-white rounded flex items-center gap-1",children:[c.jsx(XY,{size:16})," Agregar actividad"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-semibold",children:"Anlisis Curricular"}),c.jsx("textarea",{...o("analisisCurricular"),className:"border rounded p-2 w-full"})]}),c.jsxs("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded inline-flex items-center gap-2",children:[c.jsx(YY,{size:18}),"Guardar"]})]})]})},Act=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(//g,""),t=t.replace(/\s+(medio|bsico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1"),t=t.replace(/^(\d)(?![])/,"$1"),t=t.replace(/\s+/g,"").toUpperCase(),t},fct=({currentUser:e,onLogout:t,onUserUpdate:r,onChangeProfile:n,canChangeProfile:a,unreadMessagesCount:s,refreshUnreadCount:i})=>{const o=e.profile,l=I.useMemo(()=>{const y=Qve[o]||[];return o!==Xt.ESTUDIANTE?y:y.filter(_=>{if(_.name==="Asistencia a Empresa"){const S=Act(e.curso||"");return S.startsWith("3")||S.startsWith("4")}return!0})},[o,e.curso]),[u,d]=I.useState(null),[f,h]=I.useState(!1);I.useEffect(()=>{l&&l.length>0?d(l[0]):d(null)},[o,l]);const p=I.useCallback(y=>{d(y),window.innerWidth<768&&h(!1)},[]),v=I.useCallback(y=>{const _=l.find(S=>S.name===y);_&&p(_)},[l,p]),g=()=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center h-16 border-b border-slate-700 px-4 flex-shrink-0",children:[c.jsx(_ve,{}),c.jsx("span",{className:"ml-3 text-white font-bold text-xl whitespace-nowrap",children:"Gestin LIR"})]}),c.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto sidebar-scroll",children:l.map(y=>c.jsxs("button",{onClick:()=>p(y),className:`w-full flex items-center py-3 px-4 rounded-lg transition-colors duration-200 text-left ${(u==null?void 0:u.name)===y.name?"bg-slate-900 text-amber-400 font-semibold":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[y.icon,c.jsx("span",{className:"ml-4",children:y.name})]},y.name))})]}),b=()=>{if(!u)return c.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex items-center justify-center",children:c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xl",children:"Seleccione un mdulo del men para comenzar."})});if(u.name==="Calendario Acadmico")return c.jsx(Qbe,{profile:o});if(u.name==="Muro de Anuncios")return c.jsx(Kbe,{currentUser:e});if(u.name==="Mensajera Interna")return c.jsx(iFe,{currentUser:e,refreshUnreadCount:i});if(u.name==="Generador de Actas")return c.jsx(eye,{});if(o===Xt.SUBDIRECCION){if(u.name==="Dashboard")return c.jsx(j1e,{currentUser:e});if(u.name==="Administracin")return c.jsx(CIe,{});if(u.name==="Seguimiento Curricular")return c.jsx(F$e,{currentUser:e});if(u.name==="Acompaamiento docente")return c.jsx(Jje,{currentUser:e});if(u.name==="Anlisis Taxonmico")return c.jsx(Tz,{currentUser:e});if(u.name==="Interdisciplinario")return c.jsx(KH,{});if(u.name==="Registro de inasistencias y reemplazos docentes")return c.jsx(N1e,{currentUser:e});if(u.name==="Crear horarios")return c.jsx(mbe,{});if(u.name==="Seguimiento de acciones pedaggicas")return c.jsx(bbe,{});if(u.name==="Inclusin")return c.jsx(zQ,{currentUser:e})}if(o===Xt.PROFESORADO){if(u.name==="Planificacin")return c.jsx(Fbe,{currentUser:e});if(u.name==="Mis Acompaamientos")return c.jsx(BHe,{currentUser:e});if(u.name==="Recursos de Aprendizaje")return c.jsx(mHe,{});if(u.name==="Anlisis Taxonmico")return c.jsx(Tz,{currentUser:e});if(u.name==="Interdisciplinario")return c.jsx(KH,{});if(u.name==="Inclusin")return c.jsx(zQ,{currentUser:e});if(u.name==="Actividades Remotas")return c.jsx($Ie,{});if(u.name==="Evaluacin de Aprendizajes")return c.jsx(t2e,{});if(u.name==="Evaluaciones Formativas")return c.jsx(Lje,{currentUser:e})}if(o===Xt.COORDINACION_TP){if(u.name==="Seguimiento Dual")return c.jsx(OIe,{});if(u.name==="Asistencia Dual")return c.jsx(wje,{});if(u.name==="Paol")return c.jsx(qRe,{});if(u.name==="Gestin de Empresas")return c.jsx(Dlt,{});if(u.name==="Alternancia TP")return c.jsx(dct,{})}if(o===Xt.ESTUDIANTE){if(u.name==="Auto-aprendizaje")return c.jsx(ZIe,{currentUser:e});if(u.name==="Evaluacin Formativa")return c.jsx(wHe,{currentUser:e});if(u.name==="Tareas Interdisciplinarias")return c.jsx(NHe,{currentUser:e});if(u.name==="Asistencia a Empresa")return c.jsx(hje,{currentUser:e})}return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:u.name}),c.jsx("div",{className:"border-l-4 border-amber-400 pl-4",children:c.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:["Aqu ir la funcionalidad de ",c.jsx("span",{className:"font-semibold",children:u.name}),"."]})})]})};return c.jsxs("div",{className:"h-screen flex flex-col bg-slate-100 dark:bg-slate-900",children:[c.jsx(d1e,{currentUser:e,onLogout:t,onNavigate:v,onUserUpdate:r,onChangeProfile:n,canChangeProfile:a,toggleSidebar:()=>h(!f),unreadMessagesCount:s,refreshUnreadCount:i}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f&&c.jsx("div",{onClick:()=>h(!1),className:"fixed inset-0 bg-black opacity-50 z-20 md:hidden"}),c.jsx("aside",{className:`fixed md:relative z-30 inset-y-0 left-0 w-72 bg-slate-800 text-white flex flex-col transform md:translate-x-0 ${f?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,children:c.jsx(g,{})}),c.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-100 dark:bg-slate-900",children:c.jsx("div",{className:"p-6 md:p-8",children:b()})})]})]})},hct=({onSelectProfile:e,isAdminView:t=!1})=>c.jsxs("div",{className:`relative flex flex-col items-center justify-center min-h-screen p-6 overflow-hidden
                    bg-gradient-to-br from-blue-50 via-blue-100 to-yellow-50
                    dark:from-slate-900 dark:via-slate-950 dark:to-black`,children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[c.jsx("div",{className:`absolute -top-24 -left-16 h-72 w-72 rounded-full blur-3xl opacity-40
                        bg-gradient-to-tr from-yellow-300 to-yellow-200
                        dark:from-yellow-400/20 dark:to-yellow-500/20`}),c.jsx("div",{className:`absolute top-40 -right-10 h-80 w-80 rounded-full blur-3xl opacity-40
                        bg-gradient-to-tr from-blue-300 to-sky-300
                        dark:from-blue-500/20 dark:to-sky-500/20`}),c.jsx("div",{className:`absolute bottom-0 left-1/2 -translate-x-1/2 h-96 w-96 rounded-full blur-3xl opacity-30
                        bg-gradient-to-tr from-sky-200 to-blue-200
                        dark:from-sky-500/20 dark:to-blue-500/20`})]}),c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"mb-4 flex justify-center items-center",children:c.jsx(PO,{})}),c.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 mt-2 drop-shadow-sm",children:"Gestin Pedaggica LIR"}),c.jsx("p",{className:"text-slate-700/80 dark:text-slate-300/80 mt-2 text-lg",children:t?"Como administrador, seleccione el perfil que desea visualizar:":"Seleccione su perfil para continuar"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-6xl",children:Uve.map(r=>c.jsxs("button",{onClick:()=>e(r.id),className:`group relative overflow-hidden p-8 rounded-2xl
                       bg-white/10 dark:bg-white/5
                       backdrop-blur-xl border border-white/30 dark:border-white/10
                       shadow-lg hover:shadow-2xl hover:-translate-y-1.5
                       transition-all duration-300 ease-out
                       focus:outline-none focus:ring-4 focus:ring-yellow-400/40`,children:[c.jsx("div",{className:`pointer-events-none absolute inset-0 opacity-0 group-hover:opacity-100
                            transition-opacity duration-300
                            bg-gradient-to-br from-white/40 to-transparent`}),c.jsx("div",{className:"text-slate-800 dark:text-slate-200 group-hover:text-yellow-500 transition-colors duration-300",children:r.icon}),c.jsx("h2",{className:"text-xl font-semibold mt-4 text-slate-900 dark:text-slate-100 drop-shadow-[0_1px_0_rgba(0,0,0,0.1)]",children:r.label})]},r.id))}),c.jsxs("footer",{className:"absolute bottom-4 text-slate-600 dark:text-slate-400 text-sm",children:[" ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]}),mct=()=>{const[e,t]=I.useState(null),[r,n]=I.useState(null),[a,s]=I.useState(!0),[i,o]=I.useState(null),[l,u]=I.useState(!1),[d,f]=I.useState(null);I.useEffect(()=>{const _=OW(ww,async S=>{if(t(S),S)try{const B=await zY(S.email);B?(n(B),B.profile===Xt.SUBDIRECCION&&u(!0)):(o("Usuario no encontrado en la base de datos. Contacte al administrador."),await sB())}catch{o("Error al conectar con la base de datos."),await sB()}else n(null),f(null),u(!1),o(null);s(!1)});return()=>_()},[]);const h=async(_,S)=>{if(o(null),!_.trim()||!S.trim()){o("Por favor ingrese email y contrasea");return}try{await wve(_.trim(),S)}catch(B){switch(B.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":o("Credenciales invlidas. Verifique su email y contrasea.");break;case"auth/too-many-requests":o("Demasiados intentos fallidos. Intente ms tarde.");break;case"auth/network-request-failed":o("Error de conexin. Verifique su internet.");break;default:o("Ocurri un error al intentar iniciar sesin.")}}},p=async _=>{try{await Eve(_)}catch(S){console.error("Error al enviar email de recuperacin:",S)}},v=_=>{f(_),u(!1)},g=()=>{u(!0),f(null)},b=async()=>{try{await sB()}catch(_){console.error("Error al cerrar sesin:",_)}};if(a)return c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-100 dark:bg-slate-900",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mb-4 flex justify-center items-center",children:c.jsx(PO,{})}),c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500 mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg font-medium",children:"Inicializando aplicacin..."})]})});if(!e||!r)return c.jsx(Yve,{onLoginAttempt:h,onForgotPasswordRequest:p,error:i});if(l&&r.profile===Xt.SUBDIRECCION)return c.jsx(hct,{onSelectProfile:v,isAdminView:!0});const y=d||r.profile;return c.jsx(fct,{currentUser:{...r,profile:y},onLogout:b,onChangeProfile:r.profile===Xt.SUBDIRECCION?g:void 0,canChangeProfile:r.profile===Xt.SUBDIRECCION})},Lce=document.getElementById("root");if(!Lce)throw new Error("Could not find root element to mount to");const pct=tde.createRoot(Lce);pct.render(c.jsx(ut.StrictMode,{children:c.jsx(mct,{})}));export{da as _,vct as c,hl as g};
