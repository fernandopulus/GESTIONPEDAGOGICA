(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var y2e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X2={exports:{}},$h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function LR(){if(YE)return $h;YE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var i=null;if(s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),"key"in a){s={};for(var o in a)o!=="key"&&(s[o]=a[o])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:i,ref:a!==void 0?a:null,props:s}}return $h.Fragment=t,$h.jsx=r,$h.jsxs=r,$h}var JE;function RR(){return JE||(JE=1,X2.exports=LR()),X2.exports}var A=RR(),Z2={exports:{}},wr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function MR(){if(XE)return wr;XE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(Y){return Y===null||typeof Y!="object"?null:(Y=h&&Y[h]||Y["@@iterator"],typeof Y=="function"?Y:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function E(Y,ce,R){this.props=Y,this.context=ce,this.refs=y,this.updater=R||g}E.prototype.isReactComponent={},E.prototype.setState=function(Y,ce){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ce,"setState")},E.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function S(){}S.prototype=E.prototype;function N(Y,ce,R){this.props=Y,this.context=ce,this.refs=y,this.updater=R||g}var B=N.prototype=new S;B.constructor=N,b(B,E.prototype),B.isPureReactComponent=!0;var _=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function F(Y,ce,R,z,q,ee){return R=ee.ref,{$$typeof:e,type:Y,key:ce,ref:R!==void 0?R:null,props:ee}}function L(Y,ce){return F(Y.type,ce,void 0,void 0,void 0,Y.props)}function D(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function W(Y){var ce={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(R){return ce[R]})}var O=/\/+/g;function M(Y,ce){return typeof Y=="object"&&Y!==null&&Y.key!=null?W(""+Y.key):ce.toString(36)}function K(){}function Q(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(K,K):(Y.status="pending",Y.then(function(ce){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ce)},function(ce){Y.status==="pending"&&(Y.status="rejected",Y.reason=ce)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ae(Y,ce,R,z,q){var ee=typeof Y;(ee==="undefined"||ee==="boolean")&&(Y=null);var ne=!1;if(Y===null)ne=!0;else switch(ee){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(Y.$$typeof){case e:case t:ne=!0;break;case f:return ne=Y._init,ae(ne(Y._payload),ce,R,z,q)}}if(ne)return q=q(Y),ne=z===""?"."+M(Y,0):z,_(q)?(R="",ne!=null&&(R=ne.replace(O,"$&/")+"/"),ae(q,ce,R,"",function(he){return he})):q!=null&&(D(q)&&(q=L(q,R+(q.key==null||Y&&Y.key===q.key?"":(""+q.key).replace(O,"$&/")+"/")+ne)),ce.push(q)),1;ne=0;var le=z===""?".":z+":";if(_(Y))for(var ue=0;ue<Y.length;ue++)z=Y[ue],ee=le+M(z,ue),ne+=ae(z,ce,R,ee,q);else if(ue=p(Y),typeof ue=="function")for(Y=ue.call(Y),ue=0;!(z=Y.next()).done;)z=z.value,ee=le+M(z,ue++),ne+=ae(z,ce,R,ee,q);else if(ee==="object"){if(typeof Y.then=="function")return ae(Q(Y),ce,R,z,q);throw ce=String(Y),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return ne}function V(Y,ce,R){if(Y==null)return Y;var z=[],q=0;return ae(Y,z,"","",function(ee){return ce.call(R,ee,q++)}),z}function G(Y){if(Y._status===-1){var ce=Y._result;ce=ce(),ce.then(function(R){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=R)},function(R){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=R)}),Y._status===-1&&(Y._status=0,Y._result=ce)}if(Y._status===1)return Y._result.default;throw Y._result}var re=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function J(){}return wr.Children={map:V,forEach:function(Y,ce,R){V(Y,function(){ce.apply(this,arguments)},R)},count:function(Y){var ce=0;return V(Y,function(){ce++}),ce},toArray:function(Y){return V(Y,function(ce){return ce})||[]},only:function(Y){if(!D(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},wr.Component=E,wr.Fragment=r,wr.Profiler=a,wr.PureComponent=N,wr.StrictMode=n,wr.Suspense=c,wr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,wr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return k.H.useMemoCache(Y)}},wr.cache=function(Y){return function(){return Y.apply(null,arguments)}},wr.cloneElement=function(Y,ce,R){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var z=b({},Y.props),q=Y.key,ee=void 0;if(ce!=null)for(ne in ce.ref!==void 0&&(ee=void 0),ce.key!==void 0&&(q=""+ce.key),ce)!U.call(ce,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&ce.ref===void 0||(z[ne]=ce[ne]);var ne=arguments.length-2;if(ne===1)z.children=R;else if(1<ne){for(var le=Array(ne),ue=0;ue<ne;ue++)le[ue]=arguments[ue+2];z.children=le}return F(Y.type,q,void 0,void 0,ee,z)},wr.createContext=function(Y){return Y={$$typeof:i,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},wr.createElement=function(Y,ce,R){var z,q={},ee=null;if(ce!=null)for(z in ce.key!==void 0&&(ee=""+ce.key),ce)U.call(ce,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(q[z]=ce[z]);var ne=arguments.length-2;if(ne===1)q.children=R;else if(1<ne){for(var le=Array(ne),ue=0;ue<ne;ue++)le[ue]=arguments[ue+2];q.children=le}if(Y&&Y.defaultProps)for(z in ne=Y.defaultProps,ne)q[z]===void 0&&(q[z]=ne[z]);return F(Y,ee,void 0,void 0,null,q)},wr.createRef=function(){return{current:null}},wr.forwardRef=function(Y){return{$$typeof:o,render:Y}},wr.isValidElement=D,wr.lazy=function(Y){return{$$typeof:f,_payload:{_status:-1,_result:Y},_init:G}},wr.memo=function(Y,ce){return{$$typeof:u,type:Y,compare:ce===void 0?null:ce}},wr.startTransition=function(Y){var ce=k.T,R={};k.T=R;try{var z=Y(),q=k.S;q!==null&&q(R,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(J,re)}catch(ee){re(ee)}finally{k.T=ce}},wr.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},wr.use=function(Y){return k.H.use(Y)},wr.useActionState=function(Y,ce,R){return k.H.useActionState(Y,ce,R)},wr.useCallback=function(Y,ce){return k.H.useCallback(Y,ce)},wr.useContext=function(Y){return k.H.useContext(Y)},wr.useDebugValue=function(){},wr.useDeferredValue=function(Y,ce){return k.H.useDeferredValue(Y,ce)},wr.useEffect=function(Y,ce,R){var z=k.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(Y,ce)},wr.useId=function(){return k.H.useId()},wr.useImperativeHandle=function(Y,ce,R){return k.H.useImperativeHandle(Y,ce,R)},wr.useInsertionEffect=function(Y,ce){return k.H.useInsertionEffect(Y,ce)},wr.useLayoutEffect=function(Y,ce){return k.H.useLayoutEffect(Y,ce)},wr.useMemo=function(Y,ce){return k.H.useMemo(Y,ce)},wr.useOptimistic=function(Y,ce){return k.H.useOptimistic(Y,ce)},wr.useReducer=function(Y,ce,R){return k.H.useReducer(Y,ce,R)},wr.useRef=function(Y){return k.H.useRef(Y)},wr.useState=function(Y){return k.H.useState(Y)},wr.useSyncExternalStore=function(Y,ce,R){return k.H.useSyncExternalStore(Y,ce,R)},wr.useTransition=function(){return k.H.useTransition()},wr.version="19.1.1",wr}var ZE;function bp(){return ZE||(ZE=1,Z2.exports=MR()),Z2.exports}var X=bp();const at=wC(X);var ew={exports:{}},Yh={},tw={exports:{}},rw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function PR(){return eS||(eS=1,function(e){function t(V,G){var re=V.length;V.push(G);e:for(;0<re;){var J=re-1>>>1,Y=V[J];if(0<a(Y,G))V[J]=G,V[re]=Y,re=J;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var G=V[0],re=V.pop();if(re!==G){V[0]=re;e:for(var J=0,Y=V.length,ce=Y>>>1;J<ce;){var R=2*(J+1)-1,z=V[R],q=R+1,ee=V[q];if(0>a(z,re))q<Y&&0>a(ee,z)?(V[J]=ee,V[q]=re,J=q):(V[J]=z,V[R]=re,J=R);else if(q<Y&&0>a(ee,re))V[J]=ee,V[q]=re,J=q;else break e}}return G}function a(V,G){var re=V.sortIndex-G.sortIndex;return re!==0?re:V.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],f=1,h=null,p=3,g=!1,b=!1,y=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function _(V){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=V)n(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(u)}}function k(V){if(y=!1,_(V),!b)if(r(c)!==null)b=!0,U||(U=!0,M());else{var G=r(u);G!==null&&ae(k,G.startTime-V)}}var U=!1,F=-1,L=5,D=-1;function W(){return E?!0:!(e.unstable_now()-D<L)}function O(){if(E=!1,U){var V=e.unstable_now();D=V;var G=!0;try{e:{b=!1,y&&(y=!1,N(F),F=-1),g=!0;var re=p;try{t:{for(_(V),h=r(c);h!==null&&!(h.expirationTime>V&&W());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var Y=J(h.expirationTime<=V);if(V=e.unstable_now(),typeof Y=="function"){h.callback=Y,_(V),G=!0;break t}h===r(c)&&n(c),_(V)}else n(c);h=r(c)}if(h!==null)G=!0;else{var ce=r(u);ce!==null&&ae(k,ce.startTime-V),G=!1}}break e}finally{h=null,p=re,g=!1}G=void 0}}finally{G?M():U=!1}}}var M;if(typeof B=="function")M=function(){B(O)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=O,M=function(){Q.postMessage(null)}}else M=function(){S(O,0)};function ae(V,G){F=S(function(){V(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var re=p;p=G;try{return V()}finally{p=re}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=p;p=V;try{return G()}finally{p=re}},e.unstable_scheduleCallback=function(V,G,re){var J=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?J+re:J):re=J,V){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=re+Y,V={id:f++,callback:G,priorityLevel:V,startTime:re,expirationTime:Y,sortIndex:-1},re>J?(V.sortIndex=re,t(u,V),r(c)===null&&V===r(u)&&(y?(N(F),F=-1):y=!0,ae(k,re-J))):(V.sortIndex=Y,t(c,V),b||g||(b=!0,U||(U=!0,M()))),V},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(V){var G=p;return function(){var re=p;p=G;try{return V.apply(this,arguments)}finally{p=re}}}}(rw)),rw}var tS;function jR(){return tS||(tS=1,tw.exports=PR()),tw.exports}var nw={exports:{}},Es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function OR(){if(rS)return Es;rS=1;var e=bp();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(c,u,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:c,containerInfo:u,implementation:f}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Es.createPortal=function(c,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(c,u,null,f)},Es.flushSync=function(c){var u=i.T,f=n.p;try{if(i.T=null,n.p=2,c)return c()}finally{i.T=u,n.p=f,n.d.f()}},Es.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Es.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Es.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var f=u.as,h=o(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,g=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:g}):f==="script"&&n.d.X(c,{crossOrigin:h,integrity:p,fetchPriority:g,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Es.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=o(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Es.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,h=o(f,u.crossOrigin);n.d.L(c,f,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Es.preloadModule=function(c,u){if(typeof c=="string")if(u){var f=o(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Es.requestFormReset=function(c){n.d.r(c)},Es.unstable_batchedUpdates=function(c,u){return c(u)},Es.useFormState=function(c,u,f){return i.H.useFormState(c,u,f)},Es.useFormStatus=function(){return i.H.useHostTransitionStatus()},Es.version="19.1.1",Es}var nS;function Fk(){if(nS)return nw.exports;nS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nw.exports=OR(),nw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function QR(){if(aS)return Yh;aS=1;var e=jR(),t=bp(),r=Fk();function n(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function i(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function o(l){if(s(l)!==l)throw Error(n(188))}function c(l){var d=l.alternate;if(!d){if(d=s(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,w=d;;){var T=m.return;if(T===null)break;var P=T.alternate;if(P===null){if(w=T.return,w!==null){m=w;continue}break}if(T.child===P.child){for(P=T.child;P;){if(P===m)return o(T),l;if(P===w)return o(T),d;P=P.sibling}throw Error(n(188))}if(m.return!==w.return)m=T,w=P;else{for(var se=!1,pe=T.child;pe;){if(pe===m){se=!0,m=T,w=P;break}if(pe===w){se=!0,w=T,m=P;break}pe=pe.sibling}if(!se){for(pe=P.child;pe;){if(pe===m){se=!0,m=P,w=T;break}if(pe===w){se=!0,w=P,m=T;break}pe=pe.sibling}if(!se)throw Error(n(189))}}if(m.alternate!==w)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function u(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=u(l),d!==null)return d;l=l.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),B=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(l){return l===null||typeof l!="object"?null:(l=O&&l[O]||l["@@iterator"],typeof l=="function"?l:null)}var K=Symbol.for("react.client.reference");function Q(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===K?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case E:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case U:return"SuspenseList";case D:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case g:return"Portal";case B:return(l.displayName||"Context")+".Provider";case N:return(l._context.displayName||"Context")+".Consumer";case _:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case F:return d=l.displayName||null,d!==null?d:Q(l.type)||"Memo";case L:d=l._payload,l=l._init;try{return Q(l(d))}catch{}}return null}var ae=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},J=[],Y=-1;function ce(l){return{current:l}}function R(l){0>Y||(l.current=J[Y],J[Y]=null,Y--)}function z(l,d){Y++,J[Y]=l.current,l.current=d}var q=ce(null),ee=ce(null),ne=ce(null),le=ce(null);function ue(l,d){switch(z(ne,d),z(ee,l),z(q,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?EE(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=EE(d),l=SE(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}R(q),z(q,l)}function he(){R(q),R(ee),R(ne)}function Ne(l){l.memoizedState!==null&&z(le,l);var d=q.current,m=SE(d,l.type);d!==m&&(z(ee,l),z(q,m))}function ge(l){ee.current===l&&(R(q),R(ee)),le.current===l&&(R(le),Gh._currentValue=re)}var te=Object.prototype.hasOwnProperty,Te=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,ke=e.unstable_shouldYield,we=e.unstable_requestPaint,je=e.unstable_now,$e=e.unstable_getCurrentPriorityLevel,et=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,pt=e.unstable_NormalPriority,st=e.unstable_LowPriority,yt=e.unstable_IdlePriority,Nt=e.log,Lt=e.unstable_setDisableYieldValue,Rt=null,Qt=null;function Vt(l){if(typeof Nt=="function"&&Lt(l),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Rt,l)}catch{}}var Tt=Math.clz32?Math.clz32:mr,Ct=Math.log,ut=Math.LN2;function mr(l){return l>>>=0,l===0?32:31-(Ct(l)/ut|0)|0}var Mt=256,Kr=4194304;function ur(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function gr(l,d,m){var w=l.pendingLanes;if(w===0)return 0;var T=0,P=l.suspendedLanes,se=l.pingedLanes;l=l.warmLanes;var pe=w&134217727;return pe!==0?(w=pe&~P,w!==0?T=ur(w):(se&=pe,se!==0?T=ur(se):m||(m=pe&~l,m!==0&&(T=ur(m))))):(pe=w&~P,pe!==0?T=ur(pe):se!==0?T=ur(se):m||(m=w&~l,m!==0&&(T=ur(m)))),T===0?0:d!==0&&d!==T&&(d&P)===0&&(P=T&-T,m=d&-d,P>=m||P===32&&(m&4194048)!==0)?d:T}function nn(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function xr(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(){var l=Mt;return Mt<<=1,(Mt&4194048)===0&&(Mt=256),l}function jr(){var l=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),l}function oa(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function Ca(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function kr(l,d,m,w,T,P){var se=l.pendingLanes;l.pendingLanes=m,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=m,l.entangledLanes&=m,l.errorRecoveryDisabledLanes&=m,l.shellSuspendCounter=0;var pe=l.entanglements,_e=l.expirationTimes,Ke=l.hiddenUpdates;for(m=se&~m;0<m;){var it=31-Tt(m),ft=1<<it;pe[it]=0,_e[it]=-1;var Ye=Ke[it];if(Ye!==null)for(Ke[it]=null,it=0;it<Ye.length;it++){var Je=Ye[it];Je!==null&&(Je.lane&=-536870913)}m&=~ft}w!==0&&Xt(l,w,0),P!==0&&T===0&&l.tag!==0&&(l.suspendedLanes|=P&~(se&~d))}function Xt(l,d,m){l.pendingLanes|=d,l.suspendedLanes&=~d;var w=31-Tt(d);l.entangledLanes|=d,l.entanglements[w]=l.entanglements[w]|1073741824|m&4194090}function Fr(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var w=31-Tt(m),T=1<<w;T&d|l[w]&d&&(l[w]|=d),m&=~T}}function Hs(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function _n(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function rs(){var l=G.p;return l!==0?l:(l=window.event,l===void 0?32:GE(l.type))}function ps(l,d){var m=G.p;try{return G.p=l,d()}finally{G.p=m}}var Ot=Math.random().toString(36).slice(2),qr="__reactFiber$"+Ot,en="__reactProps$"+Ot,Tn="__reactContainer$"+Ot,xn="__reactEvents$"+Ot,Cn="__reactListeners$"+Ot,de="__reactHandles$"+Ot,Ee="__reactResources$"+Ot,ve="__reactMarker$"+Ot;function ye(l){delete l[qr],delete l[en],delete l[xn],delete l[Cn],delete l[de]}function Ce(l){var d=l[qr];if(d)return d;for(var m=l.parentNode;m;){if(d=m[Tn]||m[qr]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=TE(l);l!==null;){if(m=l[qr])return m;l=TE(l)}return d}l=m,m=l.parentNode}return null}function Se(l){if(l=l[qr]||l[Tn]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function Qe(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(n(33))}function Xe(l){var d=l[Ee];return d||(d=l[Ee]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Re(l){l[ve]=!0}var ze=new Set,We={};function ht(l,d){wt(l,d),wt(l+"Capture",d)}function wt(l,d){for(We[l]=d,l=0;l<d.length;l++)ze.add(d[l])}var kt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vt={},_t={};function Zt(l){return te.call(_t,l)?!0:te.call(vt,l)?!1:kt.test(l)?_t[l]=!0:(vt[l]=!0,!1)}function Ir(l,d,m){if(Zt(d))if(m===null)l.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var w=d.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+m)}}function Mr(l,d,m){if(m===null)l.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+m)}}function Wr(l,d,m,w){if(w===null)l.removeAttribute(m);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(m);return}l.setAttributeNS(d,m,""+w)}}var Ha,ri;function La(l){if(Ha===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);Ha=d&&d[1]||"",ri=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+l+ri}var ns=!1;function Va(l,d){if(!l||ns)return"";ns=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(d){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Je){var Ye=Je}Reflect.construct(l,[],ft)}else{try{ft.call()}catch(Je){Ye=Je}l.call(ft.prototype)}}else{try{throw Error()}catch(Je){Ye=Je}(ft=l())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(Je){if(Je&&Ye&&typeof Je.stack=="string")return[Je.stack,Ye.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=w.DetermineComponentFrameRoot(),se=P[0],pe=P[1];if(se&&pe){var _e=se.split(`
`),Ke=pe.split(`
`);for(T=w=0;w<_e.length&&!_e[w].includes("DetermineComponentFrameRoot");)w++;for(;T<Ke.length&&!Ke[T].includes("DetermineComponentFrameRoot");)T++;if(w===_e.length||T===Ke.length)for(w=_e.length-1,T=Ke.length-1;1<=w&&0<=T&&_e[w]!==Ke[T];)T--;for(;1<=w&&0<=T;w--,T--)if(_e[w]!==Ke[T]){if(w!==1||T!==1)do if(w--,T--,0>T||_e[w]!==Ke[T]){var it=`
`+_e[w].replace(" at new "," at ");return l.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",l.displayName)),it}while(1<=w&&0<=T);break}}}finally{ns=!1,Error.prepareStackTrace=m}return(m=l?l.displayName||l.name:"")?La(m):""}function Vs(l){switch(l.tag){case 26:case 27:case 5:return La(l.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 15:return Va(l.type,!1);case 11:return Va(l.type.render,!1);case 1:return Va(l.type,!0);case 31:return La("Activity");default:return""}}function Mn(l){try{var d="";do d+=Vs(l),l=l.return;while(l);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function as(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Lu(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function af(l){var d=Lu(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,P=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return T.call(this)},set:function(se){w=""+se,P.call(this,se)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(se){w=""+se},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function cl(l){l._valueTracker||(l._valueTracker=af(l))}function sf(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),w="";return l&&(w=Lu(l)?l.checked?"true":"false":l.value),l=w,l!==m?(d.setValue(l),!0):!1}function gs(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var aA=/[\n"\\]/g;function vn(l){return l.replace(aA,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function ic(l,d,m,w,T,P,se,pe){l.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?l.type=se:l.removeAttribute("type"),d!=null?se==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+as(d)):l.value!==""+as(d)&&(l.value=""+as(d)):se!=="submit"&&se!=="reset"||l.removeAttribute("value"),d!=null?Mu(l,se,as(d)):m!=null?Mu(l,se,as(m)):w!=null&&l.removeAttribute("value"),T==null&&P!=null&&(l.defaultChecked=!!P),T!=null&&(l.checked=T&&typeof T!="function"&&typeof T!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?l.name=""+as(pe):l.removeAttribute("name")}function Ru(l,d,m,w,T,P,se,pe){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.type=P),d!=null||m!=null){if(!(P!=="submit"&&P!=="reset"||d!=null))return;m=m!=null?""+as(m):"",d=d!=null?""+as(d):m,pe||d===l.value||(l.value=d),l.defaultValue=d}w=w??T,w=typeof w!="function"&&typeof w!="symbol"&&!!w,l.checked=pe?l.checked:!!w,l.defaultChecked=!!w,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(l.name=se)}function Mu(l,d,m){d==="number"&&gs(l.ownerDocument)===l||l.defaultValue===""+m||(l.defaultValue=""+m)}function bo(l,d,m,w){if(l=l.options,d){d={};for(var T=0;T<m.length;T++)d["$"+m[T]]=!0;for(m=0;m<l.length;m++)T=d.hasOwnProperty("$"+l[m].value),l[m].selected!==T&&(l[m].selected=T),T&&w&&(l[m].defaultSelected=!0)}else{for(m=""+as(m),d=null,T=0;T<l.length;T++){if(l[T].value===m){l[T].selected=!0,w&&(l[T].defaultSelected=!0);return}d!==null||l[T].disabled||(d=l[T])}d!==null&&(d.selected=!0)}}function of(l,d,m){if(d!=null&&(d=""+as(d),d!==l.value&&(l.value=d),m==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=m!=null?""+as(m):""}function Pu(l,d,m,w){if(d==null){if(w!=null){if(m!=null)throw Error(n(92));if(ae(w)){if(1<w.length)throw Error(n(93));w=w[0]}m=w}m==null&&(m=""),d=m}m=as(d),l.defaultValue=m,w=l.textContent,w===m&&w!==""&&w!==null&&(l.value=w)}function Al(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lf(l,d,m){var w=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?w?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":w?l.setProperty(d,m):typeof m!="number"||m===0||ju.has(d)?d==="float"?l.cssFloat=m:l[d]=(""+m).trim():l[d]=m+"px"}function cf(l,d,m){if(d!=null&&typeof d!="object")throw Error(n(62));if(l=l.style,m!=null){for(var w in m)!m.hasOwnProperty(w)||d!=null&&d.hasOwnProperty(w)||(w.indexOf("--")===0?l.setProperty(w,""):w==="float"?l.cssFloat="":l[w]="");for(var T in d)w=d[T],d.hasOwnProperty(T)&&m[T]!==w&&lf(l,T,w)}else for(var P in d)d.hasOwnProperty(P)&&lf(l,P,d[P])}function Ou(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(l){return sA.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var iA=null;function Ea(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ul=null,So=null;function or(l){var d=Se(l);if(d&&(l=d.stateNode)){var m=l[en]||null;e:switch(l=d.stateNode,d.type){case"input":if(ic(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+vn(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var w=m[d];if(w!==l&&w.form===l.form){var T=w[en]||null;if(!T)throw Error(n(90));ic(w,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(d=0;d<m.length;d++)w=m[d],w.form===l.form&&sf(w)}break e;case"textarea":of(l,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&bo(l,!!m.multiple,d,!1)}}}var Qu=!1;function Af(l,d,m){if(Qu)return l(d,m);Qu=!0;try{var w=l(d);return w}finally{if(Qu=!1,(ul!==null||So!==null)&&(vg(),ul&&(d=ul,l=So,So=ul=null,or(d),l)))for(d=0;d<l.length;d++)or(l[d])}}function xs(l,d){var m=l.stateNode;if(m===null)return null;var w=m[en]||null;if(w===null)return null;m=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oA=!1;if(ni)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){oA=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{oA=!1}var ai=null,Hu=null,lA=null;function uf(){if(lA)return lA;var l,d=Hu,m=d.length,w,T="value"in ai?ai.value:ai.textContent,P=T.length;for(l=0;l<m&&d[l]===T[l];l++);var se=m-l;for(w=1;w<=se&&d[m-w]===T[P-w];w++);return lA=T.slice(l,1<w?1-w:void 0)}function dl(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Gi(){return!0}function Bo(){return!1}function Ga(l){function d(m,w,T,P,se){this._reactName=m,this._targetInst=T,this.type=w,this.nativeEvent=P,this.target=se,this.currentTarget=null;for(var pe in l)l.hasOwnProperty(pe)&&(m=l[pe],this[pe]=m?m(P):P[pe]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Gi:Bo,this.isPropagationStopped=Bo,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),d}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Ga(Gs),zi=f({},Gs,{view:0,detail:0}),df=Ga(zi),cA,AA,hl,zs=f({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hA,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==hl&&(hl&&l.type==="mousemove"?(cA=l.screenX-hl.screenX,AA=l.screenY-hl.screenY):AA=cA=0,hl=l),cA)},movementY:function(l){return"movementY"in l?l.movementY:AA}}),Ki=Ga(zs),oh=f({},zs,{dataTransfer:0}),ml=Ga(oh),wi=f({},zi,{relatedTarget:0}),oc=Ga(wi),lc=f({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),lh=Ga(lc),uA=f({},Gs,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ch=Ga(uA),Vu=f({},Gs,{data:0}),dA=Ga(Vu),ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Gu[l])?!!d[l]:!1}function hA(){return zu}var Ah=f({},zi,{key:function(l){if(l.key){var d=ff[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=dl(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?fA[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hA,charCode:function(l){return l.type==="keypress"?dl(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?dl(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),mA=Ga(Ah),cc=f({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pA=Ga(cc),pl=f({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hA}),Ku=Ga(pl),j=f({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),oe=Ga(j),Be=f({},zs,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Ga(Be),Oe=f({},Gs,{newState:0,oldState:0}),tt=Ga(Oe),gt=[9,13,27,32],Ft=ni&&"CompositionEvent"in window,Ht=null;ni&&"documentMode"in document&&(Ht=document.documentMode);var fr=ni&&"TextEvent"in window&&!Ht,Ar=ni&&(!Ft||Ht&&8<Ht&&11>=Ht),Ur=" ",En=!1;function kn(l,d){switch(l){case"keyup":return gt.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Gn=!1;function Sa(l,d){switch(l){case"compositionend":return Vn(d);case"keypress":return d.which!==32?null:(En=!0,Ur);case"textInput":return l=d.data,l===Ur&&En?null:l;default:return null}}function yi(l,d){if(Gn)return l==="compositionend"||!Ft&&kn(l,d)?(l=uf(),lA=Hu=ai=null,Gn=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ar&&d.locale!=="ko"?null:d.data;default:return null}}var Ks={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bi(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Ks[l.type]:d==="textarea"}function qu(l,d,m,w){ul?So?So.push(w):So=[w]:ul=w,d=Sg(d,"onChange"),0<d.length&&(m=new fl("onChange","change",null,m,w),l.push({event:m,listeners:d}))}var No=null,_o=null;function gA(l){vE(l,0)}function gl(l){var d=Qe(l);if(sf(d))return l}function xA(l,d){if(l==="change")return d}var Ac=!1;if(ni){var la;if(ni){var xl="oninput"in document;if(!xl){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),xl=typeof uc.oninput=="function"}la=xl}else la=!1;Ac=la&&(!document.documentMode||9<document.documentMode)}function dc(){No&&(No.detachEvent("onpropertychange",vA),_o=No=null)}function vA(l){if(l.propertyName==="value"&&gl(_o)){var d=[];qu(d,_o,l,Ea(l)),Af(gA,d)}}function vs(l,d,m){l==="focusin"?(dc(),No=d,_o=m,No.attachEvent("onpropertychange",vA)):l==="focusout"&&dc()}function uh(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return gl(_o)}function Wu(l,d){if(l==="click")return gl(d)}function hf(l,d){if(l==="input"||l==="change")return gl(d)}function si(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Ba=typeof Object.is=="function"?Object.is:si;function vl(l,d){if(Ba(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),w=Object.keys(d);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var T=m[w];if(!te.call(d,T)||!Ba(l[T],d[T]))return!1}return!0}function $u(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function To(l,d){var m=$u(l);l=0;for(var w;m;){if(m.nodeType===3){if(w=l+m.textContent.length,l<=d&&w>=d)return{node:m,offset:d-l};l=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=$u(m)}}function wl(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?wl(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function ss(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=gs(l.document);d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=gs(l.document)}return d}function Ra(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var yl=ni&&"documentMode"in document&&11>=document.documentMode,ws=null,Ci=null,qi=null,Ei=!1;function Pn(l,d,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ei||ws==null||ws!==gs(w)||(w=ws,"selectionStart"in w&&Ra(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),qi&&vl(qi,w)||(qi=w,w=Sg(Ci,"onSelect"),0<w.length&&(d=new fl("onSelect","select",null,d,m),l.push({event:d,listeners:w}),d.target=ws)))}function Si(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var Xn={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},ys={},fc={};ni&&(fc=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function Wi(l){if(ys[l])return ys[l];if(!Xn[l])return l;var d=Xn[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in fc)return ys[l]=d[m];return l}var wA=Wi("animationend"),bl=Wi("animationiteration"),Cl=Wi("animationstart"),El=Wi("transitionrun"),hc=Wi("transitionstart"),yA=Wi("transitioncancel"),Sl=Wi("transitionend"),ko=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function jn(l,d){ko.set(l,d),ht(d,[l])}var qs=new WeakMap;function Cr(l,d){if(typeof l=="object"&&l!==null){var m=qs.get(l);return m!==void 0?m:(d={value:l,source:d,stack:Mn(d)},qs.set(l,d),d)}return{value:l,source:d,stack:Mn(d)}}var Er=[],fn=0,zn=0;function ii(){for(var l=fn,d=zn=fn=0;d<l;){var m=Er[d];Er[d++]=null;var w=Er[d];Er[d++]=null;var T=Er[d];Er[d++]=null;var P=Er[d];if(Er[d++]=null,w!==null&&T!==null){var se=w.pending;se===null?T.next=T:(T.next=se.next,se.next=T),w.pending=T}P!==0&&mf(m,T,P)}}function Bl(l,d,m,w){Er[fn++]=l,Er[fn++]=d,Er[fn++]=m,Er[fn++]=w,zn|=w,l.lanes|=w,l=l.alternate,l!==null&&(l.lanes|=w)}function Nl(l,d,m,w){return Bl(l,d,m,w),pc(l)}function Fo(l,d){return Bl(l,null,null,d),pc(l)}function mf(l,d,m){l.lanes|=m;var w=l.alternate;w!==null&&(w.lanes|=m);for(var T=!1,P=l.return;P!==null;)P.childLanes|=m,w=P.alternate,w!==null&&(w.childLanes|=m),P.tag===22&&(l=P.stateNode,l===null||l._visibility&1||(T=!0)),l=P,P=P.return;return l.tag===3?(P=l.stateNode,T&&d!==null&&(T=31-Tt(m),l=P.hiddenUpdates,w=l[T],w===null?l[T]=[d]:w.push(d),d.lane=m|536870912),P):null}function pc(l){if(50<Rh)throw Rh=0,b2=null,Error(n(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var Na={};function oi(l,d,m,w){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(l,d,m,w){return new oi(l,d,m,w)}function bA(l){return l=l.prototype,!(!l||!l.isReactComponent)}function $i(l,d){var m=l.alternate;return m===null?(m=za(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&65011712,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m.refCleanup=l.refCleanup,m}function Yu(l,d){l.flags&=65011714;var m=l.alternate;return m===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,d=m.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function gc(l,d,m,w,T,P){var se=0;if(w=l,typeof l=="function")bA(l)&&(se=1);else if(typeof l=="string")se=bR(l,m,q.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case D:return l=za(31,m,d,T),l.elementType=D,l.lanes=P,l;case b:return Io(m.children,T,P,d);case y:se=8,T|=24;break;case E:return l=za(12,m,d,T|2),l.elementType=E,l.lanes=P,l;case k:return l=za(13,m,d,T),l.elementType=k,l.lanes=P,l;case U:return l=za(19,m,d,T),l.elementType=U,l.lanes=P,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:case B:se=10;break e;case N:se=9;break e;case _:se=11;break e;case F:se=14;break e;case L:se=16,w=null;break e}se=29,m=Error(n(130,l===null?"null":typeof l,"")),w=null}return d=za(se,m,d,T),d.elementType=l,d.type=w,d.lanes=P,d}function Io(l,d,m,w){return l=za(7,l,w,d),l.lanes=m,l}function pf(l,d,m){return l=za(6,l,null,d),l.lanes=m,l}function Ju(l,d,m){return d=za(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var _l=[],Uo=0,CA=null,gf=0,li=[],Ws=0,xc=null,Do=1,Lo="";function vc(l,d){_l[Uo++]=gf,_l[Uo++]=CA,CA=l,gf=d}function Vp(l,d,m){li[Ws++]=Do,li[Ws++]=Lo,li[Ws++]=xc,xc=l;var w=Do;l=Lo;var T=32-Tt(w)-1;w&=~(1<<T),m+=1;var P=32-Tt(d)+T;if(30<P){var se=T-T%5;P=(w&(1<<se)-1).toString(32),w>>=se,T-=se,Do=1<<32-Tt(d)+T|m<<T|w,Lo=P+l}else Do=1<<P|m<<T|w,Lo=l}function Xu(l){l.return!==null&&(vc(l,1),Vp(l,1,0))}function Zu(l){for(;l===CA;)CA=_l[--Uo],_l[Uo]=null,gf=_l[--Uo],_l[Uo]=null;for(;l===xc;)xc=li[--Ws],li[Ws]=null,Lo=li[--Ws],li[Ws]=null,Do=li[--Ws],li[Ws]=null}var ca=null,On=null,Vr=!1,Tl=null,Yi=!1,dh=Error(n(519));function wc(l){var d=Error(n(418,""));throw EA(Cr(d,l)),dh}function Gp(l){var d=l.stateNode,m=l.type,w=l.memoizedProps;switch(d[qr]=l,d[en]=w,m){case"dialog":Lr("cancel",d),Lr("close",d);break;case"iframe":case"object":case"embed":Lr("load",d);break;case"video":case"audio":for(m=0;m<Ph.length;m++)Lr(Ph[m],d);break;case"source":Lr("error",d);break;case"img":case"image":case"link":Lr("error",d),Lr("load",d);break;case"details":Lr("toggle",d);break;case"input":Lr("invalid",d),Ru(d,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),cl(d);break;case"select":Lr("invalid",d);break;case"textarea":Lr("invalid",d),Pu(d,w.value,w.defaultValue,w.children),cl(d)}m=w.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||w.suppressHydrationWarning===!0||CE(d.textContent,m)?(w.popover!=null&&(Lr("beforetoggle",d),Lr("toggle",d)),w.onScroll!=null&&Lr("scroll",d),w.onScrollEnd!=null&&Lr("scrollend",d),w.onClick!=null&&(d.onclick=Bg),d=!0):d=!1,d||wc(l)}function Ro(l){for(ca=l.return;ca;)switch(ca.tag){case 5:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:ca=ca.return}}function is(l){if(l!==ca)return!1;if(!Vr)return Ro(l),Vr=!0,!1;var d=l.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=l.type,m=!(m!=="form"&&m!=="button")||P2(l.type,l.memoizedProps)),m=!m),m&&On&&wc(l),Ro(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(m=l.data,m==="/$"){if(d===0){On=Go(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;l=l.nextSibling}On=null}}else d===27?(d=On,QA(l.type)?(l=H2,H2=null,On=l):On=d):On=ca?Go(l.stateNode.nextSibling):null;return!0}function $s(){On=ca=null,Vr=!1}function zp(){var l=Tl;return l!==null&&(ui===null?ui=l:ui.push.apply(ui,l),Tl=null),l}function EA(l){Tl===null?Tl=[l]:Tl.push(l)}var Ji=ce(null),_a=null,Mo=null;function kl(l,d,m){z(Ji,d._currentValue),d._currentValue=m}function Xi(l){l._currentValue=Ji.current,R(Ji)}function xf(l,d,m){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===m)break;l=l.return}}function vf(l,d,m,w){var T=l.child;for(T!==null&&(T.return=l);T!==null;){var P=T.dependencies;if(P!==null){var se=T.child;P=P.firstContext;e:for(;P!==null;){var pe=P;P=T;for(var _e=0;_e<d.length;_e++)if(pe.context===d[_e]){P.lanes|=m,pe=P.alternate,pe!==null&&(pe.lanes|=m),xf(P.return,m,l),w||(se=null);break e}P=pe.next}}else if(T.tag===18){if(se=T.return,se===null)throw Error(n(341));se.lanes|=m,P=se.alternate,P!==null&&(P.lanes|=m),xf(se,m,l),se=null}else se=T.child;if(se!==null)se.return=T;else for(se=T;se!==null;){if(se===l){se=null;break}if(T=se.sibling,T!==null){T.return=se.return,se=T;break}se=se.return}T=se}}function SA(l,d,m,w){l=null;for(var T=d,P=!1;T!==null;){if(!P){if((T.flags&524288)!==0)P=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var se=T.alternate;if(se===null)throw Error(n(387));if(se=se.memoizedProps,se!==null){var pe=T.type;Ba(T.pendingProps.value,se.value)||(l!==null?l.push(pe):l=[pe])}}else if(T===le.current){if(se=T.alternate,se===null)throw Error(n(387));se.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(l!==null?l.push(Gh):l=[Gh])}T=T.return}l!==null&&vf(d,l,m,w),d.flags|=262144}function wf(l){for(l=l.firstContext;l!==null;){if(!Ba(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Zi(l){_a=l,Mo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Aa(l){return yf(_a,l)}function Fl(l,d){return _a===null&&Zi(l),yf(l,d)}function yf(l,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},Mo===null){if(l===null)throw Error(n(308));Mo=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else Mo=Mo.next=d;return m}var qv=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(m,w){l.push(w)}};this.abort=function(){d.aborted=!0,l.forEach(function(m){return m()})}},Kp=e.unstable_scheduleCallback,Wv=e.unstable_NormalPriority,ua={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new qv,data:new Map,refCount:0}}function ed(l){l.refCount--,l.refCount===0&&Kp(Wv,function(){l.controller.abort()})}var td=null,hh=0,yc=0,Po=null;function $v(l,d){if(td===null){var m=td=[];hh=0,yc=T2(),Po={status:"pending",value:void 0,then:function(w){m.push(w)}}}return hh++,d.then(qp,qp),d}function qp(){if(--hh===0&&td!==null){Po!==null&&(Po.status="fulfilled");var l=td;td=null,yc=0,Po=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function Wp(l,d){var m=[],w={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return l.then(function(){w.status="fulfilled",w.value=d;for(var T=0;T<m.length;T++)(0,m[T])(d)},function(T){for(w.status="rejected",w.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),w}var C=V.S;V.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&$v(l,d),C!==null&&C(l,d)};var I=ce(null);function H(){var l=I.current;return l!==null?l:Bn.pooledCache}function Z(l,d){d===null?z(I,I.current):z(I,d.pool)}function ie(){var l=H();return l===null?null:{parent:ua._currentValue,pool:l}}var Ae=Error(n(460)),fe=Error(n(474)),me=Error(n(542)),xe={then:function(){}};function be(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Ie(){}function Ge(l,d,m){switch(m=l[m],m===void 0?l.push(d):m!==d&&(d.then(Ie,Ie),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,ct(l),l;default:if(typeof d.status=="string")d.then(Ie,Ie);else{if(l=Bn,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=d,l.status="pending",l.then(function(w){if(d.status==="pending"){var T=d;T.status="fulfilled",T.value=w}},function(w){if(d.status==="pending"){var T=d;T.status="rejected",T.reason=w}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,ct(l),l}throw He=d,Ae}}var He=null;function Me(){if(He===null)throw Error(n(459));var l=He;return He=null,l}function ct(l){if(l===Ae||l===me)throw Error(n(483))}var Ze=!1;function Ue(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Le(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function nt(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function At(l,d,m){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(sn&2)!==0){var T=w.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),w.pending=d,d=pc(l),mf(l,null,m),d}return Bl(l,w,d,m),pc(l)}function ot(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var w=d.lanes;w&=l.pendingLanes,m|=w,d.lanes=m,Fr(l,m)}}function It(l,d){var m=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var T=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var se={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};P===null?T=P=se:P=P.next=se,m=m.next}while(m!==null);P===null?T=P=d:P=P.next=d}else T=P=d;m={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:P,shared:w.shared,callbacks:w.callbacks},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}var St=!1;function Gt(){if(St){var l=Po;if(l!==null)throw l}}function Bt(l,d,m,w){St=!1;var T=l.updateQueue;Ze=!1;var P=T.firstBaseUpdate,se=T.lastBaseUpdate,pe=T.shared.pending;if(pe!==null){T.shared.pending=null;var _e=pe,Ke=_e.next;_e.next=null,se===null?P=Ke:se.next=Ke,se=_e;var it=l.alternate;it!==null&&(it=it.updateQueue,pe=it.lastBaseUpdate,pe!==se&&(pe===null?it.firstBaseUpdate=Ke:pe.next=Ke,it.lastBaseUpdate=_e))}if(P!==null){var ft=T.baseState;se=0,it=Ke=_e=null,pe=P;do{var Ye=pe.lane&-536870913,Je=Ye!==pe.lane;if(Je?(Hr&Ye)===Ye:(w&Ye)===Ye){Ye!==0&&Ye===yc&&(St=!0),it!==null&&(it=it.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var lr=l,er=pe;Ye=d;var mn=m;switch(er.tag){case 1:if(lr=er.payload,typeof lr=="function"){ft=lr.call(mn,ft,Ye);break e}ft=lr;break e;case 3:lr.flags=lr.flags&-65537|128;case 0:if(lr=er.payload,Ye=typeof lr=="function"?lr.call(mn,ft,Ye):lr,Ye==null)break e;ft=f({},ft,Ye);break e;case 2:Ze=!0}}Ye=pe.callback,Ye!==null&&(l.flags|=64,Je&&(l.flags|=8192),Je=T.callbacks,Je===null?T.callbacks=[Ye]:Je.push(Ye))}else Je={lane:Ye,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},it===null?(Ke=it=Je,_e=ft):it=it.next=Je,se|=Ye;if(pe=pe.next,pe===null){if(pe=T.shared.pending,pe===null)break;Je=pe,pe=Je.next,Je.next=null,T.lastBaseUpdate=Je,T.shared.pending=null}}while(!0);it===null&&(_e=ft),T.baseState=_e,T.firstBaseUpdate=Ke,T.lastBaseUpdate=it,P===null&&(T.shared.lanes=0),MA|=se,l.lanes=se,l.memoizedState=ft}}function Or(l,d){if(typeof l!="function")throw Error(n(191,l));l.call(d)}function $r(l,d){var m=l.callbacks;if(m!==null)for(l.callbacks=null,l=0;l<m.length;l++)Or(m[l],d)}var br=ce(null),vr=ce(0);function tn(l,d){l=Fc,z(vr,l),z(br,d),Fc=l|d.baseLanes}function Yr(){z(vr,Fc),z(br,br.current)}function dr(){Fc=vr.current,R(br),R(vr)}var an=0,Jt=null,nr=null,Pr=null,Qr=!1,Ta=!1,da=!1,Kn=0,qn=0,Zn=null,ci=0;function Jr(){throw Error(n(321))}function ea(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Ba(l[m],d[m]))return!1;return!0}function Bi(l,d,m,w,T,P){return an=P,Jt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,V.H=l===null||l.memoizedState===null?n4:a4,da=!1,P=m(w,T),da=!1,Ta&&(P=bc(d,m,w,T)),Il(l),P}function Il(l){V.H=ig;var d=nr!==null&&nr.next!==null;if(an=0,Pr=nr=Jt=null,Qr=!1,qn=0,Zn=null,d)throw Error(n(300));l===null||Ka||(l=l.dependencies,l!==null&&wf(l)&&(Ka=!0))}function bc(l,d,m,w){Jt=l;var T=0;do{if(Ta&&(Zn=null),qn=0,Ta=!1,25<=T)throw Error(n(301));if(T+=1,Pr=nr=null,l.updateQueue!=null){var P=l.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}V.H=UL,P=d(m,w)}while(Ta);return P}function Ul(){var l=V.H,d=l.useState()[0];return d=typeof d.then=="function"?Dl(d):d,l=l.useState()[0],(nr!==null?nr.memoizedState:null)!==l&&(Jt.flags|=1024),d}function Sn(){var l=Kn!==0;return Kn=0,l}function rd(l,d,m){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~m}function bf(l){if(Qr){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Qr=!1}an=0,Pr=nr=Jt=null,Ta=!1,qn=Kn=0,Zn=null}function os(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?Jt.memoizedState=Pr=l:Pr=Pr.next=l,Pr}function Fn(){if(nr===null){var l=Jt.alternate;l=l!==null?l.memoizedState:null}else l=nr.next;var d=Pr===null?Jt.memoizedState:Pr.next;if(d!==null)Pr=d,nr=l;else{if(l===null)throw Jt.alternate===null?Error(n(467)):Error(n(310));nr=l,l={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},Pr===null?Jt.memoizedState=Pr=l:Pr=Pr.next=l}return Pr}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(l){var d=qn;return qn+=1,Zn===null&&(Zn=[]),l=Ge(Zn,l,d),d=Jt,(Pr===null?d.memoizedState:Pr.next)===null&&(d=d.alternate,V.H=d===null||d.memoizedState===null?n4:a4),l}function bs(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Dl(l);if(l.$$typeof===B)return Aa(l)}throw Error(n(438,String(l)))}function Ll(l){var d=null,m=Jt.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var w=Jt.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(d={data:w.data.map(function(T){return T.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=Cc(),Jt.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(l),w=0;w<l;w++)m[w]=W;return d.index++,m}function Cs(l,d){return typeof d=="function"?d(l):d}function nd(l){var d=Fn();return BA(d,nr,l)}function BA(l,d,m){var w=l.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=m;var T=l.baseQueue,P=w.pending;if(P!==null){if(T!==null){var se=T.next;T.next=P.next,P.next=se}d.baseQueue=T=P,w.pending=null}if(P=l.baseState,T===null)l.memoizedState=P;else{d=T.next;var pe=se=null,_e=null,Ke=d,it=!1;do{var ft=Ke.lane&-536870913;if(ft!==Ke.lane?(Hr&ft)===ft:(an&ft)===ft){var Ye=Ke.revertLane;if(Ye===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),ft===yc&&(it=!0);else if((an&Ye)===Ye){Ke=Ke.next,Ye===yc&&(it=!0);continue}else ft={lane:0,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},_e===null?(pe=_e=ft,se=P):_e=_e.next=ft,Jt.lanes|=Ye,MA|=Ye;ft=Ke.action,da&&m(P,ft),P=Ke.hasEagerState?Ke.eagerState:m(P,ft)}else Ye={lane:ft,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},_e===null?(pe=_e=Ye,se=P):_e=_e.next=Ye,Jt.lanes|=ft,MA|=ft;Ke=Ke.next}while(Ke!==null&&Ke!==d);if(_e===null?se=P:_e.next=pe,!Ba(P,l.memoizedState)&&(Ka=!0,it&&(m=Po,m!==null)))throw m;l.memoizedState=P,l.baseState=se,l.baseQueue=_e,w.lastRenderedState=P}return T===null&&(w.lanes=0),[l.memoizedState,w.dispatch]}function Cf(l){var d=Fn(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var w=m.dispatch,T=m.pending,P=d.memoizedState;if(T!==null){m.pending=null;var se=T=T.next;do P=l(P,se.action),se=se.next;while(se!==T);Ba(P,d.memoizedState)||(Ka=!0),d.memoizedState=P,d.baseQueue===null&&(d.baseState=P),m.lastRenderedState=P}return[P,w]}function ad(l,d,m){var w=Jt,T=Fn(),P=Vr;if(P){if(m===void 0)throw Error(n(407));m=m()}else m=d();var se=!Ba((nr||T).memoizedState,m);se&&(T.memoizedState=m,Ka=!0),T=T.queue;var pe=NA.bind(null,w,T,l);if(kA(2048,8,pe,[l]),T.getSnapshot!==d||se||Pr!==null&&Pr.memoizedState.tag&1){if(w.flags|=2048,Oo(9,ld(),sd.bind(null,w,T,m,d),null),Bn===null)throw Error(n(349));P||(an&124)!==0||Ef(w,d,m)}return m}function Ef(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=Jt.updateQueue,d===null?(d=Cc(),Jt.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function sd(l,d,m,w){d.value=m,d.getSnapshot=w,$p(d)&&Yp(l)}function NA(l,d,m){return m(function(){$p(d)&&Yp(l)})}function $p(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Ba(l,m)}catch{return!0}}function Yp(l){var d=Fo(l,2);d!==null&&Ii(d,l,2)}function id(l){var d=os();if(typeof l=="function"){var m=l;if(l=m(),da){Vt(!0);try{m()}finally{Vt(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:l},d}function jo(l,d,m,w){return l.baseState=m,BA(l,nr,typeof w=="function"?w:Cs)}function Yv(l,d,m,w,T){if(sg(l))throw Error(n(485));if(l=d.action,l!==null){var P={payload:T,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){P.listeners.push(se)}};V.T!==null?m(!0):P.isTransition=!1,w(P),m=d.pending,m===null?(P.next=d.pending=P,Jp(d,P)):(P.next=m.next,d.pending=m.next=P)}}function Jp(l,d){var m=d.action,w=d.payload,T=l.state;if(d.isTransition){var P=V.T,se={};V.T=se;try{var pe=m(T,w),_e=V.S;_e!==null&&_e(se,pe),Xp(l,d,pe)}catch(Ke){_A(l,d,Ke)}finally{V.T=P}}else try{P=m(T,w),Xp(l,d,P)}catch(Ke){_A(l,d,Ke)}}function Xp(l,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(w){mh(l,d,w)},function(w){return _A(l,d,w)}):mh(l,d,m)}function mh(l,d,m){d.status="fulfilled",d.value=m,ph(d),l.state=m,d=l.pending,d!==null&&(m=d.next,m===d?l.pending=null:(m=m.next,d.next=m,Jp(l,m)))}function _A(l,d,m){var w=l.pending;if(l.pending=null,w!==null){w=w.next;do d.status="rejected",d.reason=m,ph(d),d=d.next;while(d!==w)}l.action=null}function ph(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function gh(l,d){return d}function od(l,d){if(Vr){var m=Bn.formState;if(m!==null){e:{var w=Jt;if(Vr){if(On){t:{for(var T=On,P=Yi;T.nodeType!==8;){if(!P){T=null;break t}if(T=Go(T.nextSibling),T===null){T=null;break t}}P=T.data,T=P==="F!"||P==="F"?T:null}if(T){On=Go(T.nextSibling),w=T.data==="F!";break e}}wc(w)}w=!1}w&&(d=m[0])}}return m=os(),m.memoizedState=m.baseState=d,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:d},m.queue=w,m=e4.bind(null,Jt,w),w.dispatch=m,w=id(!1),P=Jv.bind(null,Jt,!1,w.queue),w=os(),T={state:d,dispatch:null,action:l,pending:null},w.queue=T,m=Yv.bind(null,Jt,T,P,m),T.dispatch=m,w.memoizedState=l,[d,m,!1]}function Sf(l){var d=Fn();return TA(d,nr,l)}function TA(l,d,m){if(d=BA(l,d,gh)[0],l=nd(Cs)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var w=Dl(d)}catch(se){throw se===Ae?me:se}else w=d;d=Fn();var T=d.queue,P=T.dispatch;return m!==d.memoizedState&&(Jt.flags|=2048,Oo(9,ld(),Zp.bind(null,T,m),null)),[w,P,l]}function Zp(l,d){l.action=d}function eg(l){var d=Fn(),m=nr;if(m!==null)return TA(d,m,l);Fn(),d=d.memoizedState,m=Fn();var w=m.queue.dispatch;return m.memoizedState=l,[d,w,!1]}function Oo(l,d,m,w){return l={tag:l,create:m,deps:w,inst:d,next:null},d=Jt.updateQueue,d===null&&(d=Cc(),Jt.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=l.next=l:(w=m.next,m.next=l,l.next=w,d.lastEffect=l),l}function ld(){return{destroy:void 0,resource:void 0}}function Bf(){return Fn().memoizedState}function Ni(l,d,m,w){var T=os();w=w===void 0?null:w,Jt.flags|=l,T.memoizedState=Oo(1|d,ld(),m,w)}function kA(l,d,m,w){var T=Fn();w=w===void 0?null:w;var P=T.memoizedState.inst;nr!==null&&w!==null&&ea(w,nr.memoizedState.deps)?T.memoizedState=Oo(d,P,m,w):(Jt.flags|=l,T.memoizedState=Oo(1|d,P,m,w))}function xh(l,d){Ni(8390656,8,l,d)}function tg(l,d){kA(2048,8,l,d)}function vh(l,d){return kA(4,2,l,d)}function Ec(l,d){return kA(4,4,l,d)}function rg(l,d){if(typeof d=="function"){l=l();var m=d(l);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function wh(l,d,m){m=m!=null?m.concat([l]):null,kA(4,4,rg.bind(null,d,l),m)}function yh(){}function bh(l,d){var m=Fn();d=d===void 0?null:d;var w=m.memoizedState;return d!==null&&ea(d,w[1])?w[0]:(m.memoizedState=[l,d],l)}function ng(l,d){var m=Fn();d=d===void 0?null:d;var w=m.memoizedState;if(d!==null&&ea(d,w[1]))return w[0];if(w=l(),da){Vt(!0);try{l()}finally{Vt(!1)}}return m.memoizedState=[w,d],w}function Sc(l,d,m){return m===void 0||(an&1073741824)!==0?l.memoizedState=d:(l.memoizedState=m,l=Y4(),Jt.lanes|=l,MA|=l,m)}function Nf(l,d,m,w){return Ba(m,d)?m:br.current!==null?(l=Sc(l,m,w),Ba(l,d)||(Ka=!0),l):(an&42)===0?(Ka=!0,l.memoizedState=m):(l=Y4(),Jt.lanes|=l,MA|=l,d)}function cd(l,d,m,w,T){var P=G.p;G.p=P!==0&&8>P?P:8;var se=V.T,pe={};V.T=pe,Jv(l,!1,d,m);try{var _e=T(),Ke=V.S;if(Ke!==null&&Ke(pe,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var it=Wp(_e,w);Bh(l,d,it,Fi(l))}else Bh(l,d,w,Fi(l))}catch(ft){Bh(l,d,{then:function(){},status:"rejected",reason:ft},Fi())}finally{G.p=P,V.T=se}}function Qo(){}function eo(l,d,m,w){if(l.tag!==5)throw Error(n(476));var T=Ho(l).queue;cd(l,T,d,re,m===null?Qo:function(){return Ad(l),m(w)})}function Ho(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:re},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:m},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function Ad(l){var d=Ho(l).next.queue;Bh(l,d,{},Fi())}function ud(){return Aa(Gh)}function Ch(){return Fn().memoizedState}function ag(){return Fn().memoizedState}function Eh(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var m=Fi();l=nt(m);var w=At(d,l,m);w!==null&&(Ii(w,d,m),ot(w,d,m)),d={cache:fh()},l.payload=d;return}d=d.return}}function Sh(l,d,m){var w=Fi();m={lane:w,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},sg(l)?t4(d,m):(m=Nl(l,d,m,w),m!==null&&(Ii(m,l,w),r4(m,d,w)))}function e4(l,d,m){var w=Fi();Bh(l,d,m,w)}function Bh(l,d,m,w){var T={lane:w,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(sg(l))t4(d,T);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=d.lastRenderedReducer,P!==null))try{var se=d.lastRenderedState,pe=P(se,m);if(T.hasEagerState=!0,T.eagerState=pe,Ba(pe,se))return Bl(l,d,T,0),Bn===null&&ii(),!1}catch{}finally{}if(m=Nl(l,d,T,w),m!==null)return Ii(m,l,w),r4(m,d,w),!0}return!1}function Jv(l,d,m,w){if(w={lane:2,revertLane:T2(),action:w,hasEagerState:!1,eagerState:null,next:null},sg(l)){if(d)throw Error(n(479))}else d=Nl(l,m,w,2),d!==null&&Ii(d,l,2)}function sg(l){var d=l.alternate;return l===Jt||d!==null&&d===Jt}function t4(l,d){Ta=Qr=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function r4(l,d,m){if((m&4194048)!==0){var w=d.lanes;w&=l.pendingLanes,m|=w,d.lanes=m,Fr(l,m)}}var ig={readContext:Aa,use:bs,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useLayoutEffect:Jr,useInsertionEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useSyncExternalStore:Jr,useId:Jr,useHostTransitionStatus:Jr,useFormState:Jr,useActionState:Jr,useOptimistic:Jr,useMemoCache:Jr,useCacheRefresh:Jr},n4={readContext:Aa,use:bs,useCallback:function(l,d){return os().memoizedState=[l,d===void 0?null:d],l},useContext:Aa,useEffect:xh,useImperativeHandle:function(l,d,m){m=m!=null?m.concat([l]):null,Ni(4194308,4,rg.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Ni(4194308,4,l,d)},useInsertionEffect:function(l,d){Ni(4,2,l,d)},useMemo:function(l,d){var m=os();d=d===void 0?null:d;var w=l();if(da){Vt(!0);try{l()}finally{Vt(!1)}}return m.memoizedState=[w,d],w},useReducer:function(l,d,m){var w=os();if(m!==void 0){var T=m(d);if(da){Vt(!0);try{m(d)}finally{Vt(!1)}}}else T=d;return w.memoizedState=w.baseState=T,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:T},w.queue=l,l=l.dispatch=Sh.bind(null,Jt,l),[w.memoizedState,l]},useRef:function(l){var d=os();return l={current:l},d.memoizedState=l},useState:function(l){l=id(l);var d=l.queue,m=e4.bind(null,Jt,d);return d.dispatch=m,[l.memoizedState,m]},useDebugValue:yh,useDeferredValue:function(l,d){var m=os();return Sc(m,l,d)},useTransition:function(){var l=id(!1);return l=cd.bind(null,Jt,l.queue,!0,!1),os().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,m){var w=Jt,T=os();if(Vr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Bn===null)throw Error(n(349));(Hr&124)!==0||Ef(w,d,m)}T.memoizedState=m;var P={value:m,getSnapshot:d};return T.queue=P,xh(NA.bind(null,w,P,l),[l]),w.flags|=2048,Oo(9,ld(),sd.bind(null,w,P,m,d),null),m},useId:function(){var l=os(),d=Bn.identifierPrefix;if(Vr){var m=Lo,w=Do;m=(w&~(1<<32-Tt(w)-1)).toString(32)+m,d="«"+d+"R"+m,m=Kn++,0<m&&(d+="H"+m.toString(32)),d+="»"}else m=ci++,d="«"+d+"r"+m.toString(32)+"»";return l.memoizedState=d},useHostTransitionStatus:ud,useFormState:od,useActionState:od,useOptimistic:function(l){var d=os();d.memoizedState=d.baseState=l;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=Jv.bind(null,Jt,!0,m),m.dispatch=d,[l,d]},useMemoCache:Ll,useCacheRefresh:function(){return os().memoizedState=Eh.bind(null,Jt)}},a4={readContext:Aa,use:bs,useCallback:bh,useContext:Aa,useEffect:tg,useImperativeHandle:wh,useInsertionEffect:vh,useLayoutEffect:Ec,useMemo:ng,useReducer:nd,useRef:Bf,useState:function(){return nd(Cs)},useDebugValue:yh,useDeferredValue:function(l,d){var m=Fn();return Nf(m,nr.memoizedState,l,d)},useTransition:function(){var l=nd(Cs)[0],d=Fn().memoizedState;return[typeof l=="boolean"?l:Dl(l),d]},useSyncExternalStore:ad,useId:Ch,useHostTransitionStatus:ud,useFormState:Sf,useActionState:Sf,useOptimistic:function(l,d){var m=Fn();return jo(m,nr,l,d)},useMemoCache:Ll,useCacheRefresh:ag},UL={readContext:Aa,use:bs,useCallback:bh,useContext:Aa,useEffect:tg,useImperativeHandle:wh,useInsertionEffect:vh,useLayoutEffect:Ec,useMemo:ng,useReducer:Cf,useRef:Bf,useState:function(){return Cf(Cs)},useDebugValue:yh,useDeferredValue:function(l,d){var m=Fn();return nr===null?Sc(m,l,d):Nf(m,nr.memoizedState,l,d)},useTransition:function(){var l=Cf(Cs)[0],d=Fn().memoizedState;return[typeof l=="boolean"?l:Dl(l),d]},useSyncExternalStore:ad,useId:Ch,useHostTransitionStatus:ud,useFormState:eg,useActionState:eg,useOptimistic:function(l,d){var m=Fn();return nr!==null?jo(m,nr,l,d):(m.baseState=l,[l,m.queue.dispatch])},useMemoCache:Ll,useCacheRefresh:ag},_f=null,Nh=0;function og(l){var d=Nh;return Nh+=1,_f===null&&(_f=[]),Ge(_f,l,d)}function _h(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function lg(l,d){throw d.$$typeof===h?Error(n(525)):(l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function s4(l){var d=l._init;return d(l._payload)}function i4(l){function d(Pe,De){if(l){var Ve=Pe.deletions;Ve===null?(Pe.deletions=[De],Pe.flags|=16):Ve.push(De)}}function m(Pe,De){if(!l)return null;for(;De!==null;)d(Pe,De),De=De.sibling;return null}function w(Pe){for(var De=new Map;Pe!==null;)Pe.key!==null?De.set(Pe.key,Pe):De.set(Pe.index,Pe),Pe=Pe.sibling;return De}function T(Pe,De){return Pe=$i(Pe,De),Pe.index=0,Pe.sibling=null,Pe}function P(Pe,De,Ve){return Pe.index=Ve,l?(Ve=Pe.alternate,Ve!==null?(Ve=Ve.index,Ve<De?(Pe.flags|=67108866,De):Ve):(Pe.flags|=67108866,De)):(Pe.flags|=1048576,De)}function se(Pe){return l&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function pe(Pe,De,Ve,lt){return De===null||De.tag!==6?(De=pf(Ve,Pe.mode,lt),De.return=Pe,De):(De=T(De,Ve),De.return=Pe,De)}function _e(Pe,De,Ve,lt){var Pt=Ve.type;return Pt===b?it(Pe,De,Ve.props.children,lt,Ve.key):De!==null&&(De.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===L&&s4(Pt)===De.type)?(De=T(De,Ve.props),_h(De,Ve),De.return=Pe,De):(De=gc(Ve.type,Ve.key,Ve.props,null,Pe.mode,lt),_h(De,Ve),De.return=Pe,De)}function Ke(Pe,De,Ve,lt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ve.containerInfo||De.stateNode.implementation!==Ve.implementation?(De=Ju(Ve,Pe.mode,lt),De.return=Pe,De):(De=T(De,Ve.children||[]),De.return=Pe,De)}function it(Pe,De,Ve,lt,Pt){return De===null||De.tag!==7?(De=Io(Ve,Pe.mode,lt,Pt),De.return=Pe,De):(De=T(De,Ve),De.return=Pe,De)}function ft(Pe,De,Ve){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=pf(""+De,Pe.mode,Ve),De.return=Pe,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case p:return Ve=gc(De.type,De.key,De.props,null,Pe.mode,Ve),_h(Ve,De),Ve.return=Pe,Ve;case g:return De=Ju(De,Pe.mode,Ve),De.return=Pe,De;case L:var lt=De._init;return De=lt(De._payload),ft(Pe,De,Ve)}if(ae(De)||M(De))return De=Io(De,Pe.mode,Ve,null),De.return=Pe,De;if(typeof De.then=="function")return ft(Pe,og(De),Ve);if(De.$$typeof===B)return ft(Pe,Fl(Pe,De),Ve);lg(Pe,De)}return null}function Ye(Pe,De,Ve,lt){var Pt=De!==null?De.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Pt!==null?null:pe(Pe,De,""+Ve,lt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case p:return Ve.key===Pt?_e(Pe,De,Ve,lt):null;case g:return Ve.key===Pt?Ke(Pe,De,Ve,lt):null;case L:return Pt=Ve._init,Ve=Pt(Ve._payload),Ye(Pe,De,Ve,lt)}if(ae(Ve)||M(Ve))return Pt!==null?null:it(Pe,De,Ve,lt,null);if(typeof Ve.then=="function")return Ye(Pe,De,og(Ve),lt);if(Ve.$$typeof===B)return Ye(Pe,De,Fl(Pe,Ve),lt);lg(Pe,Ve)}return null}function Je(Pe,De,Ve,lt,Pt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Pe=Pe.get(Ve)||null,pe(De,Pe,""+lt,Pt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case p:return Pe=Pe.get(lt.key===null?Ve:lt.key)||null,_e(De,Pe,lt,Pt);case g:return Pe=Pe.get(lt.key===null?Ve:lt.key)||null,Ke(De,Pe,lt,Pt);case L:var Nr=lt._init;return lt=Nr(lt._payload),Je(Pe,De,Ve,lt,Pt)}if(ae(lt)||M(lt))return Pe=Pe.get(Ve)||null,it(De,Pe,lt,Pt,null);if(typeof lt.then=="function")return Je(Pe,De,Ve,og(lt),Pt);if(lt.$$typeof===B)return Je(Pe,De,Ve,Fl(De,lt),Pt);lg(De,lt)}return null}function lr(Pe,De,Ve,lt){for(var Pt=null,Nr=null,qt=De,tr=De=0,Wa=null;qt!==null&&tr<Ve.length;tr++){qt.index>tr?(Wa=qt,qt=null):Wa=qt.sibling;var Xr=Ye(Pe,qt,Ve[tr],lt);if(Xr===null){qt===null&&(qt=Wa);break}l&&qt&&Xr.alternate===null&&d(Pe,qt),De=P(Xr,De,tr),Nr===null?Pt=Xr:Nr.sibling=Xr,Nr=Xr,qt=Wa}if(tr===Ve.length)return m(Pe,qt),Vr&&vc(Pe,tr),Pt;if(qt===null){for(;tr<Ve.length;tr++)qt=ft(Pe,Ve[tr],lt),qt!==null&&(De=P(qt,De,tr),Nr===null?Pt=qt:Nr.sibling=qt,Nr=qt);return Vr&&vc(Pe,tr),Pt}for(qt=w(qt);tr<Ve.length;tr++)Wa=Je(qt,Pe,tr,Ve[tr],lt),Wa!==null&&(l&&Wa.alternate!==null&&qt.delete(Wa.key===null?tr:Wa.key),De=P(Wa,De,tr),Nr===null?Pt=Wa:Nr.sibling=Wa,Nr=Wa);return l&&qt.forEach(function(KA){return d(Pe,KA)}),Vr&&vc(Pe,tr),Pt}function er(Pe,De,Ve,lt){if(Ve==null)throw Error(n(151));for(var Pt=null,Nr=null,qt=De,tr=De=0,Wa=null,Xr=Ve.next();qt!==null&&!Xr.done;tr++,Xr=Ve.next()){qt.index>tr?(Wa=qt,qt=null):Wa=qt.sibling;var KA=Ye(Pe,qt,Xr.value,lt);if(KA===null){qt===null&&(qt=Wa);break}l&&qt&&KA.alternate===null&&d(Pe,qt),De=P(KA,De,tr),Nr===null?Pt=KA:Nr.sibling=KA,Nr=KA,qt=Wa}if(Xr.done)return m(Pe,qt),Vr&&vc(Pe,tr),Pt;if(qt===null){for(;!Xr.done;tr++,Xr=Ve.next())Xr=ft(Pe,Xr.value,lt),Xr!==null&&(De=P(Xr,De,tr),Nr===null?Pt=Xr:Nr.sibling=Xr,Nr=Xr);return Vr&&vc(Pe,tr),Pt}for(qt=w(qt);!Xr.done;tr++,Xr=Ve.next())Xr=Je(qt,Pe,tr,Xr.value,lt),Xr!==null&&(l&&Xr.alternate!==null&&qt.delete(Xr.key===null?tr:Xr.key),De=P(Xr,De,tr),Nr===null?Pt=Xr:Nr.sibling=Xr,Nr=Xr);return l&&qt.forEach(function(DR){return d(Pe,DR)}),Vr&&vc(Pe,tr),Pt}function mn(Pe,De,Ve,lt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===b&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case p:e:{for(var Pt=Ve.key;De!==null;){if(De.key===Pt){if(Pt=Ve.type,Pt===b){if(De.tag===7){m(Pe,De.sibling),lt=T(De,Ve.props.children),lt.return=Pe,Pe=lt;break e}}else if(De.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===L&&s4(Pt)===De.type){m(Pe,De.sibling),lt=T(De,Ve.props),_h(lt,Ve),lt.return=Pe,Pe=lt;break e}m(Pe,De);break}else d(Pe,De);De=De.sibling}Ve.type===b?(lt=Io(Ve.props.children,Pe.mode,lt,Ve.key),lt.return=Pe,Pe=lt):(lt=gc(Ve.type,Ve.key,Ve.props,null,Pe.mode,lt),_h(lt,Ve),lt.return=Pe,Pe=lt)}return se(Pe);case g:e:{for(Pt=Ve.key;De!==null;){if(De.key===Pt)if(De.tag===4&&De.stateNode.containerInfo===Ve.containerInfo&&De.stateNode.implementation===Ve.implementation){m(Pe,De.sibling),lt=T(De,Ve.children||[]),lt.return=Pe,Pe=lt;break e}else{m(Pe,De);break}else d(Pe,De);De=De.sibling}lt=Ju(Ve,Pe.mode,lt),lt.return=Pe,Pe=lt}return se(Pe);case L:return Pt=Ve._init,Ve=Pt(Ve._payload),mn(Pe,De,Ve,lt)}if(ae(Ve))return lr(Pe,De,Ve,lt);if(M(Ve)){if(Pt=M(Ve),typeof Pt!="function")throw Error(n(150));return Ve=Pt.call(Ve),er(Pe,De,Ve,lt)}if(typeof Ve.then=="function")return mn(Pe,De,og(Ve),lt);if(Ve.$$typeof===B)return mn(Pe,De,Fl(Pe,Ve),lt);lg(Pe,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,De!==null&&De.tag===6?(m(Pe,De.sibling),lt=T(De,Ve),lt.return=Pe,Pe=lt):(m(Pe,De),lt=pf(Ve,Pe.mode,lt),lt.return=Pe,Pe=lt),se(Pe)):m(Pe,De)}return function(Pe,De,Ve,lt){try{Nh=0;var Pt=mn(Pe,De,Ve,lt);return _f=null,Pt}catch(qt){if(qt===Ae||qt===me)throw qt;var Nr=za(29,qt,null,Pe.mode);return Nr.lanes=lt,Nr.return=Pe,Nr}finally{}}}var Tf=i4(!0),o4=i4(!1),to=ce(null),Rl=null;function FA(l){var d=l.alternate;z(Ma,Ma.current&1),z(to,l),Rl===null&&(d===null||br.current!==null||d.memoizedState!==null)&&(Rl=l)}function l4(l){if(l.tag===22){if(z(Ma,Ma.current),z(to,l),Rl===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(Rl=l)}}else IA()}function IA(){z(Ma,Ma.current),z(to,to.current)}function Bc(l){R(to),Rl===l&&(Rl=null),R(Ma)}var Ma=ce(0);function cg(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||Q2(m)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function Xv(l,d,m,w){d=l.memoizedState,m=m(w,d),m=m==null?d:f({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Zv={enqueueSetState:function(l,d,m){l=l._reactInternals;var w=Fi(),T=nt(w);T.payload=d,m!=null&&(T.callback=m),d=At(l,T,w),d!==null&&(Ii(d,l,w),ot(d,l,w))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var w=Fi(),T=nt(w);T.tag=1,T.payload=d,m!=null&&(T.callback=m),d=At(l,T,w),d!==null&&(Ii(d,l,w),ot(d,l,w))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Fi(),w=nt(m);w.tag=2,d!=null&&(w.callback=d),d=At(l,w,m),d!==null&&(Ii(d,l,m),ot(d,l,m))}};function c4(l,d,m,w,T,P,se){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,P,se):d.prototype&&d.prototype.isPureReactComponent?!vl(m,w)||!vl(T,P):!0}function A4(l,d,m,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,w),d.state!==l&&Zv.enqueueReplaceState(d,d.state,null)}function dd(l,d){var m=d;if("ref"in d){m={};for(var w in d)w!=="ref"&&(m[w]=d[w])}if(l=l.defaultProps){m===d&&(m=f({},m));for(var T in l)m[T]===void 0&&(m[T]=l[T])}return m}var Ag=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function u4(l){Ag(l)}function d4(l){console.error(l)}function f4(l){Ag(l)}function ug(l,d){try{var m=l.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(w){setTimeout(function(){throw w})}}function h4(l,d,m){try{var w=l.onCaughtError;w(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function e2(l,d,m){return m=nt(m),m.tag=3,m.payload={element:null},m.callback=function(){ug(l,d)},m}function m4(l){return l=nt(l),l.tag=3,l}function p4(l,d,m,w){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var P=w.value;l.payload=function(){return T(P)},l.callback=function(){h4(d,m,w)}}var se=m.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(l.callback=function(){h4(d,m,w),typeof T!="function"&&(PA===null?PA=new Set([this]):PA.add(this));var pe=w.stack;this.componentDidCatch(w.value,{componentStack:pe!==null?pe:""})})}function DL(l,d,m,w,T){if(m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(d=m.alternate,d!==null&&SA(d,m,T,!0),m=to.current,m!==null){switch(m.tag){case 13:return Rl===null?E2():m.alternate===null&&ta===0&&(ta=3),m.flags&=-257,m.flags|=65536,m.lanes=T,w===xe?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([w]):d.add(w),B2(l,w,T)),!1;case 22:return m.flags|=65536,w===xe?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([w])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([w]):m.add(w)),B2(l,w,T)),!1}throw Error(n(435,m.tag))}return B2(l,w,T),E2(),!1}if(Vr)return d=to.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=T,w!==dh&&(l=Error(n(422),{cause:w}),EA(Cr(l,m)))):(w!==dh&&(d=Error(n(423),{cause:w}),EA(Cr(d,m))),l=l.current.alternate,l.flags|=65536,T&=-T,l.lanes|=T,w=Cr(w,m),T=e2(l.stateNode,w,T),It(l,T),ta!==4&&(ta=2)),!1;var P=Error(n(520),{cause:w});if(P=Cr(P,m),Lh===null?Lh=[P]:Lh.push(P),ta!==4&&(ta=2),d===null)return!0;w=Cr(w,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,l=T&-T,m.lanes|=l,l=e2(m.stateNode,w,l),It(m,l),!1;case 1:if(d=m.type,P=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(PA===null||!PA.has(P))))return m.flags|=65536,T&=-T,m.lanes|=T,T=m4(T),p4(T,l,m,w),It(m,T),!1}m=m.return}while(m!==null);return!1}var g4=Error(n(461)),Ka=!1;function ls(l,d,m,w){d.child=l===null?o4(d,null,m,w):Tf(d,l.child,m,w)}function x4(l,d,m,w,T){m=m.render;var P=d.ref;if("ref"in w){var se={};for(var pe in w)pe!=="ref"&&(se[pe]=w[pe])}else se=w;return Zi(d),w=Bi(l,d,m,se,P,T),pe=Sn(),l!==null&&!Ka?(rd(l,d,T),Nc(l,d,T)):(Vr&&pe&&Xu(d),d.flags|=1,ls(l,d,w,T),d.child)}function v4(l,d,m,w,T){if(l===null){var P=m.type;return typeof P=="function"&&!bA(P)&&P.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=P,w4(l,d,P,w,T)):(l=gc(m.type,null,w,d,d.mode,T),l.ref=d.ref,l.return=d,d.child=l)}if(P=l.child,!l2(l,T)){var se=P.memoizedProps;if(m=m.compare,m=m!==null?m:vl,m(se,w)&&l.ref===d.ref)return Nc(l,d,T)}return d.flags|=1,l=$i(P,w),l.ref=d.ref,l.return=d,d.child=l}function w4(l,d,m,w,T){if(l!==null){var P=l.memoizedProps;if(vl(P,w)&&l.ref===d.ref)if(Ka=!1,d.pendingProps=w=P,l2(l,T))(l.flags&131072)!==0&&(Ka=!0);else return d.lanes=l.lanes,Nc(l,d,T)}return t2(l,d,m,w,T)}function y4(l,d,m){var w=d.pendingProps,T=w.children,P=l!==null?l.memoizedState:null;if(w.mode==="hidden"){if((d.flags&128)!==0){if(w=P!==null?P.baseLanes|m:m,l!==null){for(T=d.child=l.child,P=0;T!==null;)P=P|T.lanes|T.childLanes,T=T.sibling;d.childLanes=P&~w}else d.childLanes=0,d.child=null;return b4(l,d,w,m)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&Z(d,P!==null?P.cachePool:null),P!==null?tn(d,P):Yr(),l4(d);else return d.lanes=d.childLanes=536870912,b4(l,d,P!==null?P.baseLanes|m:m,m)}else P!==null?(Z(d,P.cachePool),tn(d,P),IA(),d.memoizedState=null):(l!==null&&Z(d,null),Yr(),IA());return ls(l,d,T,m),d.child}function b4(l,d,m,w){var T=H();return T=T===null?null:{parent:ua._currentValue,pool:T},d.memoizedState={baseLanes:m,cachePool:T},l!==null&&Z(d,null),Yr(),l4(d),l!==null&&SA(l,d,w,!0),null}function dg(l,d){var m=d.ref;if(m===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(l===null||l.ref!==m)&&(d.flags|=4194816)}}function t2(l,d,m,w,T){return Zi(d),m=Bi(l,d,m,w,void 0,T),w=Sn(),l!==null&&!Ka?(rd(l,d,T),Nc(l,d,T)):(Vr&&w&&Xu(d),d.flags|=1,ls(l,d,m,T),d.child)}function C4(l,d,m,w,T,P){return Zi(d),d.updateQueue=null,m=bc(d,w,m,T),Il(l),w=Sn(),l!==null&&!Ka?(rd(l,d,P),Nc(l,d,P)):(Vr&&w&&Xu(d),d.flags|=1,ls(l,d,m,P),d.child)}function E4(l,d,m,w,T){if(Zi(d),d.stateNode===null){var P=Na,se=m.contextType;typeof se=="object"&&se!==null&&(P=Aa(se)),P=new m(w,P),d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Zv,d.stateNode=P,P._reactInternals=d,P=d.stateNode,P.props=w,P.state=d.memoizedState,P.refs={},Ue(d),se=m.contextType,P.context=typeof se=="object"&&se!==null?Aa(se):Na,P.state=d.memoizedState,se=m.getDerivedStateFromProps,typeof se=="function"&&(Xv(d,m,se,w),P.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(se=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),se!==P.state&&Zv.enqueueReplaceState(P,P.state,null),Bt(d,w,P,T),Gt(),P.state=d.memoizedState),typeof P.componentDidMount=="function"&&(d.flags|=4194308),w=!0}else if(l===null){P=d.stateNode;var pe=d.memoizedProps,_e=dd(m,pe);P.props=_e;var Ke=P.context,it=m.contextType;se=Na,typeof it=="object"&&it!==null&&(se=Aa(it));var ft=m.getDerivedStateFromProps;it=typeof ft=="function"||typeof P.getSnapshotBeforeUpdate=="function",pe=d.pendingProps!==pe,it||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(pe||Ke!==se)&&A4(d,P,w,se),Ze=!1;var Ye=d.memoizedState;P.state=Ye,Bt(d,w,P,T),Gt(),Ke=d.memoizedState,pe||Ye!==Ke||Ze?(typeof ft=="function"&&(Xv(d,m,ft,w),Ke=d.memoizedState),(_e=Ze||c4(d,m,_e,w,Ye,Ke,se))?(it||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(d.flags|=4194308)):(typeof P.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=Ke),P.props=w,P.state=Ke,P.context=se,w=_e):(typeof P.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{P=d.stateNode,Le(l,d),se=d.memoizedProps,it=dd(m,se),P.props=it,ft=d.pendingProps,Ye=P.context,Ke=m.contextType,_e=Na,typeof Ke=="object"&&Ke!==null&&(_e=Aa(Ke)),pe=m.getDerivedStateFromProps,(Ke=typeof pe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(se!==ft||Ye!==_e)&&A4(d,P,w,_e),Ze=!1,Ye=d.memoizedState,P.state=Ye,Bt(d,w,P,T),Gt();var Je=d.memoizedState;se!==ft||Ye!==Je||Ze||l!==null&&l.dependencies!==null&&wf(l.dependencies)?(typeof pe=="function"&&(Xv(d,m,pe,w),Je=d.memoizedState),(it=Ze||c4(d,m,it,w,Ye,Je,_e)||l!==null&&l.dependencies!==null&&wf(l.dependencies))?(Ke||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(w,Je,_e),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(w,Je,_e)),typeof P.componentDidUpdate=="function"&&(d.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof P.componentDidUpdate!="function"||se===l.memoizedProps&&Ye===l.memoizedState||(d.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||se===l.memoizedProps&&Ye===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=Je),P.props=w,P.state=Je,P.context=_e,w=it):(typeof P.componentDidUpdate!="function"||se===l.memoizedProps&&Ye===l.memoizedState||(d.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||se===l.memoizedProps&&Ye===l.memoizedState||(d.flags|=1024),w=!1)}return P=w,dg(l,d),w=(d.flags&128)!==0,P||w?(P=d.stateNode,m=w&&typeof m.getDerivedStateFromError!="function"?null:P.render(),d.flags|=1,l!==null&&w?(d.child=Tf(d,l.child,null,T),d.child=Tf(d,null,m,T)):ls(l,d,m,T),d.memoizedState=P.state,l=d.child):l=Nc(l,d,T),l}function S4(l,d,m,w){return $s(),d.flags|=256,ls(l,d,m,w),d.child}var r2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function n2(l){return{baseLanes:l,cachePool:ie()}}function a2(l,d,m){return l=l!==null?l.childLanes&~m:0,d&&(l|=ro),l}function B4(l,d,m){var w=d.pendingProps,T=!1,P=(d.flags&128)!==0,se;if((se=P)||(se=l!==null&&l.memoizedState===null?!1:(Ma.current&2)!==0),se&&(T=!0,d.flags&=-129),se=(d.flags&32)!==0,d.flags&=-33,l===null){if(Vr){if(T?FA(d):IA(),Vr){var pe=On,_e;if(_e=pe){e:{for(_e=pe,pe=Yi;_e.nodeType!==8;){if(!pe){pe=null;break e}if(_e=Go(_e.nextSibling),_e===null){pe=null;break e}}pe=_e}pe!==null?(d.memoizedState={dehydrated:pe,treeContext:xc!==null?{id:Do,overflow:Lo}:null,retryLane:536870912,hydrationErrors:null},_e=za(18,null,null,0),_e.stateNode=pe,_e.return=d,d.child=_e,ca=d,On=null,_e=!0):_e=!1}_e||wc(d)}if(pe=d.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return Q2(pe)?d.lanes=32:d.lanes=536870912,null;Bc(d)}return pe=w.children,w=w.fallback,T?(IA(),T=d.mode,pe=fg({mode:"hidden",children:pe},T),w=Io(w,T,m,null),pe.return=d,w.return=d,pe.sibling=w,d.child=pe,T=d.child,T.memoizedState=n2(m),T.childLanes=a2(l,se,m),d.memoizedState=r2,w):(FA(d),s2(d,pe))}if(_e=l.memoizedState,_e!==null&&(pe=_e.dehydrated,pe!==null)){if(P)d.flags&256?(FA(d),d.flags&=-257,d=i2(l,d,m)):d.memoizedState!==null?(IA(),d.child=l.child,d.flags|=128,d=null):(IA(),T=w.fallback,pe=d.mode,w=fg({mode:"visible",children:w.children},pe),T=Io(T,pe,m,null),T.flags|=2,w.return=d,T.return=d,w.sibling=T,d.child=w,Tf(d,l.child,null,m),w=d.child,w.memoizedState=n2(m),w.childLanes=a2(l,se,m),d.memoizedState=r2,d=T);else if(FA(d),Q2(pe)){if(se=pe.nextSibling&&pe.nextSibling.dataset,se)var Ke=se.dgst;se=Ke,w=Error(n(419)),w.stack="",w.digest=se,EA({value:w,source:null,stack:null}),d=i2(l,d,m)}else if(Ka||SA(l,d,m,!1),se=(m&l.childLanes)!==0,Ka||se){if(se=Bn,se!==null&&(w=m&-m,w=(w&42)!==0?1:Hs(w),w=(w&(se.suspendedLanes|m))!==0?0:w,w!==0&&w!==_e.retryLane))throw _e.retryLane=w,Fo(l,w),Ii(se,l,w),g4;pe.data==="$?"||E2(),d=i2(l,d,m)}else pe.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=_e.treeContext,On=Go(pe.nextSibling),ca=d,Vr=!0,Tl=null,Yi=!1,l!==null&&(li[Ws++]=Do,li[Ws++]=Lo,li[Ws++]=xc,Do=l.id,Lo=l.overflow,xc=d),d=s2(d,w.children),d.flags|=4096);return d}return T?(IA(),T=w.fallback,pe=d.mode,_e=l.child,Ke=_e.sibling,w=$i(_e,{mode:"hidden",children:w.children}),w.subtreeFlags=_e.subtreeFlags&65011712,Ke!==null?T=$i(Ke,T):(T=Io(T,pe,m,null),T.flags|=2),T.return=d,w.return=d,w.sibling=T,d.child=w,w=T,T=d.child,pe=l.child.memoizedState,pe===null?pe=n2(m):(_e=pe.cachePool,_e!==null?(Ke=ua._currentValue,_e=_e.parent!==Ke?{parent:Ke,pool:Ke}:_e):_e=ie(),pe={baseLanes:pe.baseLanes|m,cachePool:_e}),T.memoizedState=pe,T.childLanes=a2(l,se,m),d.memoizedState=r2,w):(FA(d),m=l.child,l=m.sibling,m=$i(m,{mode:"visible",children:w.children}),m.return=d,m.sibling=null,l!==null&&(se=d.deletions,se===null?(d.deletions=[l],d.flags|=16):se.push(l)),d.child=m,d.memoizedState=null,m)}function s2(l,d){return d=fg({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function fg(l,d){return l=za(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function i2(l,d,m){return Tf(d,l.child,null,m),l=s2(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function N4(l,d,m){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),xf(l.return,d,m)}function o2(l,d,m,w,T){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:T}:(P.isBackwards=d,P.rendering=null,P.renderingStartTime=0,P.last=w,P.tail=m,P.tailMode=T)}function _4(l,d,m){var w=d.pendingProps,T=w.revealOrder,P=w.tail;if(ls(l,d,w.children,m),w=Ma.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&N4(l,m,d);else if(l.tag===19)N4(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}switch(z(Ma,w),T){case"forwards":for(m=d.child,T=null;m!==null;)l=m.alternate,l!==null&&cg(l)===null&&(T=m),m=m.sibling;m=T,m===null?(T=d.child,d.child=null):(T=m.sibling,m.sibling=null),o2(d,!1,T,m,P);break;case"backwards":for(m=null,T=d.child,d.child=null;T!==null;){if(l=T.alternate,l!==null&&cg(l)===null){d.child=T;break}l=T.sibling,T.sibling=m,m=T,T=l}o2(d,!0,m,null,P);break;case"together":o2(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Nc(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),MA|=d.lanes,(m&d.childLanes)===0)if(l!==null){if(SA(l,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=$i(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=$i(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function l2(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&wf(l)))}function LL(l,d,m){switch(d.tag){case 3:ue(d,d.stateNode.containerInfo),kl(d,ua,l.memoizedState.cache),$s();break;case 27:case 5:Ne(d);break;case 4:ue(d,d.stateNode.containerInfo);break;case 10:kl(d,d.type,d.memoizedProps.value);break;case 13:var w=d.memoizedState;if(w!==null)return w.dehydrated!==null?(FA(d),d.flags|=128,null):(m&d.child.childLanes)!==0?B4(l,d,m):(FA(d),l=Nc(l,d,m),l!==null?l.sibling:null);FA(d);break;case 19:var T=(l.flags&128)!==0;if(w=(m&d.childLanes)!==0,w||(SA(l,d,m,!1),w=(m&d.childLanes)!==0),T){if(w)return _4(l,d,m);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),z(Ma,Ma.current),w)break;return null;case 22:case 23:return d.lanes=0,y4(l,d,m);case 24:kl(d,ua,l.memoizedState.cache)}return Nc(l,d,m)}function T4(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps)Ka=!0;else{if(!l2(l,m)&&(d.flags&128)===0)return Ka=!1,LL(l,d,m);Ka=(l.flags&131072)!==0}else Ka=!1,Vr&&(d.flags&1048576)!==0&&Vp(d,gf,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var w=d.elementType,T=w._init;if(w=T(w._payload),d.type=w,typeof w=="function")bA(w)?(l=dd(w,l),d.tag=1,d=E4(null,d,w,l,m)):(d.tag=0,d=t2(null,d,w,l,m));else{if(w!=null){if(T=w.$$typeof,T===_){d.tag=11,d=x4(null,d,w,l,m);break e}else if(T===F){d.tag=14,d=v4(null,d,w,l,m);break e}}throw d=Q(w)||w,Error(n(306,d,""))}}return d;case 0:return t2(l,d,d.type,d.pendingProps,m);case 1:return w=d.type,T=dd(w,d.pendingProps),E4(l,d,w,T,m);case 3:e:{if(ue(d,d.stateNode.containerInfo),l===null)throw Error(n(387));w=d.pendingProps;var P=d.memoizedState;T=P.element,Le(l,d),Bt(d,w,null,m);var se=d.memoizedState;if(w=se.cache,kl(d,ua,w),w!==P.cache&&vf(d,[ua],m,!0),Gt(),w=se.element,P.isDehydrated)if(P={element:w,isDehydrated:!1,cache:se.cache},d.updateQueue.baseState=P,d.memoizedState=P,d.flags&256){d=S4(l,d,w,m);break e}else if(w!==T){T=Cr(Error(n(424)),d),EA(T),d=S4(l,d,w,m);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(On=Go(l.firstChild),ca=d,Vr=!0,Tl=null,Yi=!0,m=o4(d,null,w,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if($s(),w===T){d=Nc(l,d,m);break e}ls(l,d,w,m)}d=d.child}return d;case 26:return dg(l,d),l===null?(m=UE(d.type,null,d.pendingProps,null))?d.memoizedState=m:Vr||(m=d.type,l=d.pendingProps,w=Ng(ne.current).createElement(m),w[qr]=d,w[en]=l,As(w,m,l),Re(w),d.stateNode=w):d.memoizedState=UE(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Ne(d),l===null&&Vr&&(w=d.stateNode=kE(d.type,d.pendingProps,ne.current),ca=d,Yi=!0,T=On,QA(d.type)?(H2=T,On=Go(w.firstChild)):On=T),ls(l,d,d.pendingProps.children,m),dg(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Vr&&((T=w=On)&&(w=cR(w,d.type,d.pendingProps,Yi),w!==null?(d.stateNode=w,ca=d,On=Go(w.firstChild),Yi=!1,T=!0):T=!1),T||wc(d)),Ne(d),T=d.type,P=d.pendingProps,se=l!==null?l.memoizedProps:null,w=P.children,P2(T,P)?w=null:se!==null&&P2(T,se)&&(d.flags|=32),d.memoizedState!==null&&(T=Bi(l,d,Ul,null,null,m),Gh._currentValue=T),dg(l,d),ls(l,d,w,m),d.child;case 6:return l===null&&Vr&&((l=m=On)&&(m=AR(m,d.pendingProps,Yi),m!==null?(d.stateNode=m,ca=d,On=null,l=!0):l=!1),l||wc(d)),null;case 13:return B4(l,d,m);case 4:return ue(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=Tf(d,null,w,m):ls(l,d,w,m),d.child;case 11:return x4(l,d,d.type,d.pendingProps,m);case 7:return ls(l,d,d.pendingProps,m),d.child;case 8:return ls(l,d,d.pendingProps.children,m),d.child;case 12:return ls(l,d,d.pendingProps.children,m),d.child;case 10:return w=d.pendingProps,kl(d,d.type,w.value),ls(l,d,w.children,m),d.child;case 9:return T=d.type._context,w=d.pendingProps.children,Zi(d),T=Aa(T),w=w(T),d.flags|=1,ls(l,d,w,m),d.child;case 14:return v4(l,d,d.type,d.pendingProps,m);case 15:return w4(l,d,d.type,d.pendingProps,m);case 19:return _4(l,d,m);case 31:return w=d.pendingProps,m=d.mode,w={mode:w.mode,children:w.children},l===null?(m=fg(w,m),m.ref=d.ref,d.child=m,m.return=d,d=m):(m=$i(l.child,w),m.ref=d.ref,d.child=m,m.return=d,d=m),d;case 22:return y4(l,d,m);case 24:return Zi(d),w=Aa(ua),l===null?(T=H(),T===null&&(T=Bn,P=fh(),T.pooledCache=P,P.refCount++,P!==null&&(T.pooledCacheLanes|=m),T=P),d.memoizedState={parent:w,cache:T},Ue(d),kl(d,ua,T)):((l.lanes&m)!==0&&(Le(l,d),Bt(d,null,null,m),Gt()),T=l.memoizedState,P=d.memoizedState,T.parent!==w?(T={parent:w,cache:w},d.memoizedState=T,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=T),kl(d,ua,w)):(w=P.cache,kl(d,ua,w),w!==T.cache&&vf(d,[ua],m,!0))),ls(l,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function _c(l){l.flags|=4}function k4(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!PE(d)){if(d=to.current,d!==null&&((Hr&4194048)===Hr?Rl!==null:(Hr&62914560)!==Hr&&(Hr&536870912)===0||d!==Rl))throw He=xe,fe;l.flags|=8192}}function hg(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?jr():536870912,l.lanes|=d,Uf|=d)}function Th(l,d){if(!Vr)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function Wn(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,w=0;if(d)for(var T=l.child;T!==null;)m|=T.lanes|T.childLanes,w|=T.subtreeFlags&65011712,w|=T.flags&65011712,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)m|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=w,l.childLanes=m,d}function RL(l,d,m){var w=d.pendingProps;switch(Zu(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(d),null;case 1:return Wn(d),null;case 3:return m=d.stateNode,w=null,l!==null&&(w=l.memoizedState.cache),d.memoizedState.cache!==w&&(d.flags|=2048),Xi(ua),he(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(is(d)?_c(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,zp())),Wn(d),null;case 26:return m=d.memoizedState,l===null?(_c(d),m!==null?(Wn(d),k4(d,m)):(Wn(d),d.flags&=-16777217)):m?m!==l.memoizedState?(_c(d),Wn(d),k4(d,m)):(Wn(d),d.flags&=-16777217):(l.memoizedProps!==w&&_c(d),Wn(d),d.flags&=-16777217),null;case 27:ge(d),m=ne.current;var T=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==w&&_c(d);else{if(!w){if(d.stateNode===null)throw Error(n(166));return Wn(d),null}l=q.current,is(d)?Gp(d):(l=kE(T,w,m),d.stateNode=l,_c(d))}return Wn(d),null;case 5:if(ge(d),m=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==w&&_c(d);else{if(!w){if(d.stateNode===null)throw Error(n(166));return Wn(d),null}if(l=q.current,is(d))Gp(d);else{switch(T=Ng(ne.current),l){case 1:l=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:l=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":l=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":l=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":l=T.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof w.is=="string"?T.createElement("select",{is:w.is}):T.createElement("select"),w.multiple?l.multiple=!0:w.size&&(l.size=w.size);break;default:l=typeof w.is=="string"?T.createElement(m,{is:w.is}):T.createElement(m)}}l[qr]=d,l[en]=w;e:for(T=d.child;T!==null;){if(T.tag===5||T.tag===6)l.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===d)break e;for(;T.sibling===null;){if(T.return===null||T.return===d)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}d.stateNode=l;e:switch(As(l,m,w),m){case"button":case"input":case"select":case"textarea":l=!!w.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_c(d)}}return Wn(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==w&&_c(d);else{if(typeof w!="string"&&d.stateNode===null)throw Error(n(166));if(l=ne.current,is(d)){if(l=d.stateNode,m=d.memoizedProps,w=null,T=ca,T!==null)switch(T.tag){case 27:case 5:w=T.memoizedProps}l[qr]=d,l=!!(l.nodeValue===m||w!==null&&w.suppressHydrationWarning===!0||CE(l.nodeValue,m)),l||wc(d)}else l=Ng(l).createTextNode(w),l[qr]=d,d.stateNode=l}return Wn(d),null;case 13:if(w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(T=is(d),w!==null&&w.dehydrated!==null){if(l===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[qr]=d}else $s(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Wn(d),T=!1}else T=zp(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=T),T=!0;if(!T)return d.flags&256?(Bc(d),d):(Bc(d),null)}if(Bc(d),(d.flags&128)!==0)return d.lanes=m,d;if(m=w!==null,l=l!==null&&l.memoizedState!==null,m){w=d.child,T=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(T=w.alternate.memoizedState.cachePool.pool);var P=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(P=w.memoizedState.cachePool.pool),P!==T&&(w.flags|=2048)}return m!==l&&m&&(d.child.flags|=8192),hg(d,d.updateQueue),Wn(d),null;case 4:return he(),l===null&&U2(d.stateNode.containerInfo),Wn(d),null;case 10:return Xi(d.type),Wn(d),null;case 19:if(R(Ma),T=d.memoizedState,T===null)return Wn(d),null;if(w=(d.flags&128)!==0,P=T.rendering,P===null)if(w)Th(T,!1);else{if(ta!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(P=cg(l),P!==null){for(d.flags|=128,Th(T,!1),l=P.updateQueue,d.updateQueue=l,hg(d,l),d.subtreeFlags=0,l=m,m=d.child;m!==null;)Yu(m,l),m=m.sibling;return z(Ma,Ma.current&1|2),d.child}l=l.sibling}T.tail!==null&&je()>gg&&(d.flags|=128,w=!0,Th(T,!1),d.lanes=4194304)}else{if(!w)if(l=cg(P),l!==null){if(d.flags|=128,w=!0,l=l.updateQueue,d.updateQueue=l,hg(d,l),Th(T,!0),T.tail===null&&T.tailMode==="hidden"&&!P.alternate&&!Vr)return Wn(d),null}else 2*je()-T.renderingStartTime>gg&&m!==536870912&&(d.flags|=128,w=!0,Th(T,!1),d.lanes=4194304);T.isBackwards?(P.sibling=d.child,d.child=P):(l=T.last,l!==null?l.sibling=P:d.child=P,T.last=P)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=je(),d.sibling=null,l=Ma.current,z(Ma,w?l&1|2:l&1),d):(Wn(d),null);case 22:case 23:return Bc(d),dr(),w=d.memoizedState!==null,l!==null?l.memoizedState!==null!==w&&(d.flags|=8192):w&&(d.flags|=8192),w?(m&536870912)!==0&&(d.flags&128)===0&&(Wn(d),d.subtreeFlags&6&&(d.flags|=8192)):Wn(d),m=d.updateQueue,m!==null&&hg(d,m.retryQueue),m=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==m&&(d.flags|=2048),l!==null&&R(I),null;case 24:return m=null,l!==null&&(m=l.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),Xi(ua),Wn(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function ML(l,d){switch(Zu(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Xi(ua),he(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return ge(d),null;case 13:if(Bc(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));$s()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return R(Ma),null;case 4:return he(),null;case 10:return Xi(d.type),null;case 22:case 23:return Bc(d),dr(),l!==null&&R(I),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return Xi(ua),null;case 25:return null;default:return null}}function F4(l,d){switch(Zu(d),d.tag){case 3:Xi(ua),he();break;case 26:case 27:case 5:ge(d);break;case 4:he();break;case 13:Bc(d);break;case 19:R(Ma);break;case 10:Xi(d.type);break;case 22:case 23:Bc(d),dr(),l!==null&&R(I);break;case 24:Xi(ua)}}function kh(l,d){try{var m=d.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var T=w.next;m=T;do{if((m.tag&l)===l){w=void 0;var P=m.create,se=m.inst;w=P(),se.destroy=w}m=m.next}while(m!==T)}}catch(pe){wn(d,d.return,pe)}}function UA(l,d,m){try{var w=d.updateQueue,T=w!==null?w.lastEffect:null;if(T!==null){var P=T.next;w=P;do{if((w.tag&l)===l){var se=w.inst,pe=se.destroy;if(pe!==void 0){se.destroy=void 0,T=d;var _e=m,Ke=pe;try{Ke()}catch(it){wn(T,_e,it)}}}w=w.next}while(w!==P)}}catch(it){wn(d,d.return,it)}}function I4(l){var d=l.updateQueue;if(d!==null){var m=l.stateNode;try{$r(d,m)}catch(w){wn(l,l.return,w)}}}function U4(l,d,m){m.props=dd(l.type,l.memoizedProps),m.state=l.memoizedState;try{m.componentWillUnmount()}catch(w){wn(l,d,w)}}function Fh(l,d){try{var m=l.ref;if(m!==null){switch(l.tag){case 26:case 27:case 5:var w=l.stateNode;break;case 30:w=l.stateNode;break;default:w=l.stateNode}typeof m=="function"?l.refCleanup=m(w):m.current=w}}catch(T){wn(l,d,T)}}function Ml(l,d){var m=l.ref,w=l.refCleanup;if(m!==null)if(typeof w=="function")try{w()}catch(T){wn(l,d,T)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){wn(l,d,T)}else m.current=null}function D4(l){var d=l.type,m=l.memoizedProps,w=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&w.focus();break e;case"img":m.src?w.src=m.src:m.srcSet&&(w.srcset=m.srcSet)}}catch(T){wn(l,l.return,T)}}function c2(l,d,m){try{var w=l.stateNode;aR(w,l.type,m,d),w[en]=d}catch(T){wn(l,l.return,T)}}function L4(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&QA(l.type)||l.tag===4}function A2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||L4(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&QA(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function u2(l,d,m){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(l,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(l),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Bg));else if(w!==4&&(w===27&&QA(l.type)&&(m=l.stateNode,d=null),l=l.child,l!==null))for(u2(l,d,m),l=l.sibling;l!==null;)u2(l,d,m),l=l.sibling}function mg(l,d,m){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(w!==4&&(w===27&&QA(l.type)&&(m=l.stateNode),l=l.child,l!==null))for(mg(l,d,m),l=l.sibling;l!==null;)mg(l,d,m),l=l.sibling}function R4(l){var d=l.stateNode,m=l.memoizedProps;try{for(var w=l.type,T=d.attributes;T.length;)d.removeAttributeNode(T[0]);As(d,w,m),d[qr]=l,d[en]=m}catch(P){wn(l,l.return,P)}}var Tc=!1,fa=!1,d2=!1,M4=typeof WeakSet=="function"?WeakSet:Set,qa=null;function PL(l,d){if(l=l.containerInfo,R2=Ug,l=ss(l),Ra(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var T=w.anchorOffset,P=w.focusNode;w=w.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break e}var se=0,pe=-1,_e=-1,Ke=0,it=0,ft=l,Ye=null;t:for(;;){for(var Je;ft!==m||T!==0&&ft.nodeType!==3||(pe=se+T),ft!==P||w!==0&&ft.nodeType!==3||(_e=se+w),ft.nodeType===3&&(se+=ft.nodeValue.length),(Je=ft.firstChild)!==null;)Ye=ft,ft=Je;for(;;){if(ft===l)break t;if(Ye===m&&++Ke===T&&(pe=se),Ye===P&&++it===w&&(_e=se),(Je=ft.nextSibling)!==null)break;ft=Ye,Ye=ft.parentNode}ft=Je}m=pe===-1||_e===-1?null:{start:pe,end:_e}}else m=null}m=m||{start:0,end:0}}else m=null;for(M2={focusedElem:l,selectionRange:m},Ug=!1,qa=d;qa!==null;)if(d=qa,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,qa=l;else for(;qa!==null;){switch(d=qa,P=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&P!==null){l=void 0,m=d,T=P.memoizedProps,P=P.memoizedState,w=m.stateNode;try{var lr=dd(m.type,T,m.elementType===m.type);l=w.getSnapshotBeforeUpdate(lr,P),w.__reactInternalSnapshotBeforeUpdate=l}catch(er){wn(m,m.return,er)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,m=l.nodeType,m===9)O2(l);else if(m===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":O2(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=d.sibling,l!==null){l.return=d.return,qa=l;break}qa=d.return}}function P4(l,d,m){var w=m.flags;switch(m.tag){case 0:case 11:case 15:DA(l,m),w&4&&kh(5,m);break;case 1:if(DA(l,m),w&4)if(l=m.stateNode,d===null)try{l.componentDidMount()}catch(se){wn(m,m.return,se)}else{var T=dd(m.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(T,d,l.__reactInternalSnapshotBeforeUpdate)}catch(se){wn(m,m.return,se)}}w&64&&I4(m),w&512&&Fh(m,m.return);break;case 3:if(DA(l,m),w&64&&(l=m.updateQueue,l!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{$r(l,d)}catch(se){wn(m,m.return,se)}}break;case 27:d===null&&w&4&&R4(m);case 26:case 5:DA(l,m),d===null&&w&4&&D4(m),w&512&&Fh(m,m.return);break;case 12:DA(l,m);break;case 13:DA(l,m),w&4&&Q4(l,m),w&64&&(l=m.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(m=qL.bind(null,m),uR(l,m))));break;case 22:if(w=m.memoizedState!==null||Tc,!w){d=d!==null&&d.memoizedState!==null||fa,T=Tc;var P=fa;Tc=w,(fa=d)&&!P?LA(l,m,(m.subtreeFlags&8772)!==0):DA(l,m),Tc=T,fa=P}break;case 30:break;default:DA(l,m)}}function j4(l){var d=l.alternate;d!==null&&(l.alternate=null,j4(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&ye(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Qn=null,Ai=!1;function kc(l,d,m){for(m=m.child;m!==null;)O4(l,d,m),m=m.sibling}function O4(l,d,m){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Rt,m)}catch{}switch(m.tag){case 26:fa||Ml(m,d),kc(l,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:fa||Ml(m,d);var w=Qn,T=Ai;QA(m.type)&&(Qn=m.stateNode,Ai=!1),kc(l,d,m),Oh(m.stateNode),Qn=w,Ai=T;break;case 5:fa||Ml(m,d);case 6:if(w=Qn,T=Ai,Qn=null,kc(l,d,m),Qn=w,Ai=T,Qn!==null)if(Ai)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(m.stateNode)}catch(P){wn(m,d,P)}else try{Qn.removeChild(m.stateNode)}catch(P){wn(m,d,P)}break;case 18:Qn!==null&&(Ai?(l=Qn,_E(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,m.stateNode),Wh(l)):_E(Qn,m.stateNode));break;case 4:w=Qn,T=Ai,Qn=m.stateNode.containerInfo,Ai=!0,kc(l,d,m),Qn=w,Ai=T;break;case 0:case 11:case 14:case 15:fa||UA(2,m,d),fa||UA(4,m,d),kc(l,d,m);break;case 1:fa||(Ml(m,d),w=m.stateNode,typeof w.componentWillUnmount=="function"&&U4(m,d,w)),kc(l,d,m);break;case 21:kc(l,d,m);break;case 22:fa=(w=fa)||m.memoizedState!==null,kc(l,d,m),fa=w;break;default:kc(l,d,m)}}function Q4(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Wh(l)}catch(m){wn(d,d.return,m)}}function jL(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new M4),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new M4),d;default:throw Error(n(435,l.tag))}}function f2(l,d){var m=jL(l);d.forEach(function(w){var T=WL.bind(null,l,w);m.has(w)||(m.add(w),w.then(T,T))})}function _i(l,d){var m=d.deletions;if(m!==null)for(var w=0;w<m.length;w++){var T=m[w],P=l,se=d,pe=se;e:for(;pe!==null;){switch(pe.tag){case 27:if(QA(pe.type)){Qn=pe.stateNode,Ai=!1;break e}break;case 5:Qn=pe.stateNode,Ai=!1;break e;case 3:case 4:Qn=pe.stateNode.containerInfo,Ai=!0;break e}pe=pe.return}if(Qn===null)throw Error(n(160));O4(P,se,T),Qn=null,Ai=!1,P=T.alternate,P!==null&&(P.return=null),T.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)H4(d,l),d=d.sibling}var Vo=null;function H4(l,d){var m=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:_i(d,l),Ti(l),w&4&&(UA(3,l,l.return),kh(3,l),UA(5,l,l.return));break;case 1:_i(d,l),Ti(l),w&512&&(fa||m===null||Ml(m,m.return)),w&64&&Tc&&(l=l.updateQueue,l!==null&&(w=l.callbacks,w!==null&&(m=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=m===null?w:m.concat(w))));break;case 26:var T=Vo;if(_i(d,l),Ti(l),w&512&&(fa||m===null||Ml(m,m.return)),w&4){var P=m!==null?m.memoizedState:null;if(w=l.memoizedState,m===null)if(w===null)if(l.stateNode===null){e:{w=l.type,m=l.memoizedProps,T=T.ownerDocument||T;t:switch(w){case"title":P=T.getElementsByTagName("title")[0],(!P||P[ve]||P[qr]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=T.createElement(w),T.head.insertBefore(P,T.querySelector("head > title"))),As(P,w,m),P[qr]=l,Re(P),w=P;break e;case"link":var se=RE("link","href",T).get(w+(m.href||""));if(se){for(var pe=0;pe<se.length;pe++)if(P=se[pe],P.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&P.getAttribute("rel")===(m.rel==null?null:m.rel)&&P.getAttribute("title")===(m.title==null?null:m.title)&&P.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){se.splice(pe,1);break t}}P=T.createElement(w),As(P,w,m),T.head.appendChild(P);break;case"meta":if(se=RE("meta","content",T).get(w+(m.content||""))){for(pe=0;pe<se.length;pe++)if(P=se[pe],P.getAttribute("content")===(m.content==null?null:""+m.content)&&P.getAttribute("name")===(m.name==null?null:m.name)&&P.getAttribute("property")===(m.property==null?null:m.property)&&P.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&P.getAttribute("charset")===(m.charSet==null?null:m.charSet)){se.splice(pe,1);break t}}P=T.createElement(w),As(P,w,m),T.head.appendChild(P);break;default:throw Error(n(468,w))}P[qr]=l,Re(P),w=P}l.stateNode=w}else ME(T,l.type,l.stateNode);else l.stateNode=LE(T,w,l.memoizedProps);else P!==w?(P===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):P.count--,w===null?ME(T,l.type,l.stateNode):LE(T,w,l.memoizedProps)):w===null&&l.stateNode!==null&&c2(l,l.memoizedProps,m.memoizedProps)}break;case 27:_i(d,l),Ti(l),w&512&&(fa||m===null||Ml(m,m.return)),m!==null&&w&4&&c2(l,l.memoizedProps,m.memoizedProps);break;case 5:if(_i(d,l),Ti(l),w&512&&(fa||m===null||Ml(m,m.return)),l.flags&32){T=l.stateNode;try{Al(T,"")}catch(Je){wn(l,l.return,Je)}}w&4&&l.stateNode!=null&&(T=l.memoizedProps,c2(l,T,m!==null?m.memoizedProps:T)),w&1024&&(d2=!0);break;case 6:if(_i(d,l),Ti(l),w&4){if(l.stateNode===null)throw Error(n(162));w=l.memoizedProps,m=l.stateNode;try{m.nodeValue=w}catch(Je){wn(l,l.return,Je)}}break;case 3:if(kg=null,T=Vo,Vo=_g(d.containerInfo),_i(d,l),Vo=T,Ti(l),w&4&&m!==null&&m.memoizedState.isDehydrated)try{Wh(d.containerInfo)}catch(Je){wn(l,l.return,Je)}d2&&(d2=!1,V4(l));break;case 4:w=Vo,Vo=_g(l.stateNode.containerInfo),_i(d,l),Ti(l),Vo=w;break;case 12:_i(d,l),Ti(l);break;case 13:_i(d,l),Ti(l),l.child.flags&8192&&l.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(v2=je()),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,f2(l,w)));break;case 22:T=l.memoizedState!==null;var _e=m!==null&&m.memoizedState!==null,Ke=Tc,it=fa;if(Tc=Ke||T,fa=it||_e,_i(d,l),fa=it,Tc=Ke,Ti(l),w&8192)e:for(d=l.stateNode,d._visibility=T?d._visibility&-2:d._visibility|1,T&&(m===null||_e||Tc||fa||fd(l)),m=null,d=l;;){if(d.tag===5||d.tag===26){if(m===null){_e=m=d;try{if(P=_e.stateNode,T)se=P.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{pe=_e.stateNode;var ft=_e.memoizedProps.style,Ye=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;pe.style.display=Ye==null||typeof Ye=="boolean"?"":(""+Ye).trim()}}catch(Je){wn(_e,_e.return,Je)}}}else if(d.tag===6){if(m===null){_e=d;try{_e.stateNode.nodeValue=T?"":_e.memoizedProps}catch(Je){wn(_e,_e.return,Je)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}w&4&&(w=l.updateQueue,w!==null&&(m=w.retryQueue,m!==null&&(w.retryQueue=null,f2(l,m))));break;case 19:_i(d,l),Ti(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,f2(l,w)));break;case 30:break;case 21:break;default:_i(d,l),Ti(l)}}function Ti(l){var d=l.flags;if(d&2){try{for(var m,w=l.return;w!==null;){if(L4(w)){m=w;break}w=w.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var T=m.stateNode,P=A2(l);mg(l,P,T);break;case 5:var se=m.stateNode;m.flags&32&&(Al(se,""),m.flags&=-33);var pe=A2(l);mg(l,pe,se);break;case 3:case 4:var _e=m.stateNode.containerInfo,Ke=A2(l);u2(l,Ke,_e);break;default:throw Error(n(161))}}catch(it){wn(l,l.return,it)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function V4(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;V4(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function DA(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)P4(l,d.alternate,d),d=d.sibling}function fd(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:UA(4,d,d.return),fd(d);break;case 1:Ml(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&U4(d,d.return,m),fd(d);break;case 27:Oh(d.stateNode);case 26:case 5:Ml(d,d.return),fd(d);break;case 22:d.memoizedState===null&&fd(d);break;case 30:fd(d);break;default:fd(d)}l=l.sibling}}function LA(l,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var w=d.alternate,T=l,P=d,se=P.flags;switch(P.tag){case 0:case 11:case 15:LA(T,P,m),kh(4,P);break;case 1:if(LA(T,P,m),w=P,T=w.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ke){wn(w,w.return,Ke)}if(w=P,T=w.updateQueue,T!==null){var pe=w.stateNode;try{var _e=T.shared.hiddenCallbacks;if(_e!==null)for(T.shared.hiddenCallbacks=null,T=0;T<_e.length;T++)Or(_e[T],pe)}catch(Ke){wn(w,w.return,Ke)}}m&&se&64&&I4(P),Fh(P,P.return);break;case 27:R4(P);case 26:case 5:LA(T,P,m),m&&w===null&&se&4&&D4(P),Fh(P,P.return);break;case 12:LA(T,P,m);break;case 13:LA(T,P,m),m&&se&4&&Q4(T,P);break;case 22:P.memoizedState===null&&LA(T,P,m),Fh(P,P.return);break;case 30:break;default:LA(T,P,m)}d=d.sibling}}function h2(l,d){var m=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==m&&(l!=null&&l.refCount++,m!=null&&ed(m))}function m2(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&ed(l))}function Pl(l,d,m,w){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)G4(l,d,m,w),d=d.sibling}function G4(l,d,m,w){var T=d.flags;switch(d.tag){case 0:case 11:case 15:Pl(l,d,m,w),T&2048&&kh(9,d);break;case 1:Pl(l,d,m,w);break;case 3:Pl(l,d,m,w),T&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&ed(l)));break;case 12:if(T&2048){Pl(l,d,m,w),l=d.stateNode;try{var P=d.memoizedProps,se=P.id,pe=P.onPostCommit;typeof pe=="function"&&pe(se,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(_e){wn(d,d.return,_e)}}else Pl(l,d,m,w);break;case 13:Pl(l,d,m,w);break;case 23:break;case 22:P=d.stateNode,se=d.alternate,d.memoizedState!==null?P._visibility&2?Pl(l,d,m,w):Ih(l,d):P._visibility&2?Pl(l,d,m,w):(P._visibility|=2,kf(l,d,m,w,(d.subtreeFlags&10256)!==0)),T&2048&&h2(se,d);break;case 24:Pl(l,d,m,w),T&2048&&m2(d.alternate,d);break;default:Pl(l,d,m,w)}}function kf(l,d,m,w,T){for(T=T&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var P=l,se=d,pe=m,_e=w,Ke=se.flags;switch(se.tag){case 0:case 11:case 15:kf(P,se,pe,_e,T),kh(8,se);break;case 23:break;case 22:var it=se.stateNode;se.memoizedState!==null?it._visibility&2?kf(P,se,pe,_e,T):Ih(P,se):(it._visibility|=2,kf(P,se,pe,_e,T)),T&&Ke&2048&&h2(se.alternate,se);break;case 24:kf(P,se,pe,_e,T),T&&Ke&2048&&m2(se.alternate,se);break;default:kf(P,se,pe,_e,T)}d=d.sibling}}function Ih(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=l,w=d,T=w.flags;switch(w.tag){case 22:Ih(m,w),T&2048&&h2(w.alternate,w);break;case 24:Ih(m,w),T&2048&&m2(w.alternate,w);break;default:Ih(m,w)}d=d.sibling}}var Uh=8192;function Ff(l){if(l.subtreeFlags&Uh)for(l=l.child;l!==null;)z4(l),l=l.sibling}function z4(l){switch(l.tag){case 26:Ff(l),l.flags&Uh&&l.memoizedState!==null&&ER(Vo,l.memoizedState,l.memoizedProps);break;case 5:Ff(l);break;case 3:case 4:var d=Vo;Vo=_g(l.stateNode.containerInfo),Ff(l),Vo=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Uh,Uh=16777216,Ff(l),Uh=d):Ff(l));break;default:Ff(l)}}function K4(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function Dh(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var w=d[m];qa=w,W4(w,l)}K4(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)q4(l),l=l.sibling}function q4(l){switch(l.tag){case 0:case 11:case 15:Dh(l),l.flags&2048&&UA(9,l,l.return);break;case 3:Dh(l);break;case 12:Dh(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,pg(l)):Dh(l);break;default:Dh(l)}}function pg(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var w=d[m];qa=w,W4(w,l)}K4(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:UA(8,d,d.return),pg(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,pg(d));break;default:pg(d)}l=l.sibling}}function W4(l,d){for(;qa!==null;){var m=qa;switch(m.tag){case 0:case 11:case 15:UA(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var w=m.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:ed(m.memoizedState.cache)}if(w=m.child,w!==null)w.return=m,qa=w;else e:for(m=l;qa!==null;){w=qa;var T=w.sibling,P=w.return;if(j4(w),w===m){qa=null;break e}if(T!==null){T.return=P,qa=T;break e}qa=P}}}var OL={getCacheForType:function(l){var d=Aa(ua),m=d.data.get(l);return m===void 0&&(m=l(),d.data.set(l,m)),m}},QL=typeof WeakMap=="function"?WeakMap:Map,sn=0,Bn=null,Dr=null,Hr=0,on=0,ki=null,RA=!1,If=!1,p2=!1,Fc=0,ta=0,MA=0,hd=0,g2=0,ro=0,Uf=0,Lh=null,ui=null,x2=!1,v2=0,gg=1/0,xg=null,PA=null,cs=0,jA=null,Df=null,Lf=0,w2=0,y2=null,$4=null,Rh=0,b2=null;function Fi(){if((sn&2)!==0&&Hr!==0)return Hr&-Hr;if(V.T!==null){var l=yc;return l!==0?l:T2()}return rs()}function Y4(){ro===0&&(ro=(Hr&536870912)===0||Vr?ts():536870912);var l=to.current;return l!==null&&(l.flags|=32),ro}function Ii(l,d,m){(l===Bn&&(on===2||on===9)||l.cancelPendingCommit!==null)&&(Rf(l,0),OA(l,Hr,ro,!1)),Ca(l,m),((sn&2)===0||l!==Bn)&&(l===Bn&&((sn&2)===0&&(hd|=m),ta===4&&OA(l,Hr,ro,!1)),jl(l))}function J4(l,d,m){if((sn&6)!==0)throw Error(n(327));var w=!m&&(d&124)===0&&(d&l.expiredLanes)===0||nn(l,d),T=w?GL(l,d):S2(l,d,!0),P=w;do{if(T===0){If&&!w&&OA(l,d,0,!1);break}else{if(m=l.current.alternate,P&&!HL(m)){T=S2(l,d,!1),P=!1;continue}if(T===2){if(P=d,l.errorRecoveryDisabledLanes&P)var se=0;else se=l.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){d=se;e:{var pe=l;T=Lh;var _e=pe.current.memoizedState.isDehydrated;if(_e&&(Rf(pe,se).flags|=256),se=S2(pe,se,!1),se!==2){if(p2&&!_e){pe.errorRecoveryDisabledLanes|=P,hd|=P,T=4;break e}P=ui,ui=T,P!==null&&(ui===null?ui=P:ui.push.apply(ui,P))}T=se}if(P=!1,T!==2)continue}}if(T===1){Rf(l,0),OA(l,d,0,!0);break}e:{switch(w=l,P=T,P){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:OA(w,d,ro,!RA);break e;case 2:ui=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(T=v2+300-je(),10<T)){if(OA(w,d,ro,!RA),gr(w,0,!0)!==0)break e;w.timeoutHandle=BE(X4.bind(null,w,m,ui,xg,x2,d,ro,hd,Uf,RA,P,2,-0,0),T);break e}X4(w,m,ui,xg,x2,d,ro,hd,Uf,RA,P,0,-0,0)}}break}while(!0);jl(l)}function X4(l,d,m,w,T,P,se,pe,_e,Ke,it,ft,Ye,Je){if(l.timeoutHandle=-1,ft=d.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(Vh={stylesheets:null,count:0,unsuspend:CR},z4(d),ft=SR(),ft!==null)){l.cancelPendingCommit=ft(sE.bind(null,l,d,P,m,w,T,se,pe,_e,it,1,Ye,Je)),OA(l,P,se,!Ke);return}sE(l,d,P,m,w,T,se,pe,_e)}function HL(l){for(var d=l;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var w=0;w<m.length;w++){var T=m[w],P=T.getSnapshot;T=T.value;try{if(!Ba(P(),T))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function OA(l,d,m,w){d&=~g2,d&=~hd,l.suspendedLanes|=d,l.pingedLanes&=~d,w&&(l.warmLanes|=d),w=l.expirationTimes;for(var T=d;0<T;){var P=31-Tt(T),se=1<<P;w[P]=-1,T&=~se}m!==0&&Xt(l,m,d)}function vg(){return(sn&6)===0?(Mh(0),!1):!0}function C2(){if(Dr!==null){if(on===0)var l=Dr.return;else l=Dr,Mo=_a=null,bf(l),_f=null,Nh=0,l=Dr;for(;l!==null;)F4(l.alternate,l),l=l.return;Dr=null}}function Rf(l,d){var m=l.timeoutHandle;m!==-1&&(l.timeoutHandle=-1,iR(m)),m=l.cancelPendingCommit,m!==null&&(l.cancelPendingCommit=null,m()),C2(),Bn=l,Dr=m=$i(l.current,null),Hr=d,on=0,ki=null,RA=!1,If=nn(l,d),p2=!1,Uf=ro=g2=hd=MA=ta=0,ui=Lh=null,x2=!1,(d&8)!==0&&(d|=d&32);var w=l.entangledLanes;if(w!==0)for(l=l.entanglements,w&=d;0<w;){var T=31-Tt(w),P=1<<T;d|=l[T],w&=~P}return Fc=d,ii(),m}function Z4(l,d){Jt=null,V.H=ig,d===Ae||d===me?(d=Me(),on=3):d===fe?(d=Me(),on=4):on=d===g4?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ki=d,Dr===null&&(ta=1,ug(l,Cr(d,l.current)))}function eE(){var l=V.H;return V.H=ig,l===null?ig:l}function tE(){var l=V.A;return V.A=OL,l}function E2(){ta=4,RA||(Hr&4194048)!==Hr&&to.current!==null||(If=!0),(MA&134217727)===0&&(hd&134217727)===0||Bn===null||OA(Bn,Hr,ro,!1)}function S2(l,d,m){var w=sn;sn|=2;var T=eE(),P=tE();(Bn!==l||Hr!==d)&&(xg=null,Rf(l,d)),d=!1;var se=ta;e:do try{if(on!==0&&Dr!==null){var pe=Dr,_e=ki;switch(on){case 8:C2(),se=6;break e;case 3:case 2:case 9:case 6:to.current===null&&(d=!0);var Ke=on;if(on=0,ki=null,Mf(l,pe,_e,Ke),m&&If){se=0;break e}break;default:Ke=on,on=0,ki=null,Mf(l,pe,_e,Ke)}}VL(),se=ta;break}catch(it){Z4(l,it)}while(!0);return d&&l.shellSuspendCounter++,Mo=_a=null,sn=w,V.H=T,V.A=P,Dr===null&&(Bn=null,Hr=0,ii()),se}function VL(){for(;Dr!==null;)rE(Dr)}function GL(l,d){var m=sn;sn|=2;var w=eE(),T=tE();Bn!==l||Hr!==d?(xg=null,gg=je()+500,Rf(l,d)):If=nn(l,d);e:do try{if(on!==0&&Dr!==null){d=Dr;var P=ki;t:switch(on){case 1:on=0,ki=null,Mf(l,d,P,1);break;case 2:case 9:if(be(P)){on=0,ki=null,nE(d);break}d=function(){on!==2&&on!==9||Bn!==l||(on=7),jl(l)},P.then(d,d);break e;case 3:on=7;break e;case 4:on=5;break e;case 7:be(P)?(on=0,ki=null,nE(d)):(on=0,ki=null,Mf(l,d,P,7));break;case 5:var se=null;switch(Dr.tag){case 26:se=Dr.memoizedState;case 5:case 27:var pe=Dr;if(!se||PE(se)){on=0,ki=null;var _e=pe.sibling;if(_e!==null)Dr=_e;else{var Ke=pe.return;Ke!==null?(Dr=Ke,wg(Ke)):Dr=null}break t}}on=0,ki=null,Mf(l,d,P,5);break;case 6:on=0,ki=null,Mf(l,d,P,6);break;case 8:C2(),ta=6;break e;default:throw Error(n(462))}}zL();break}catch(it){Z4(l,it)}while(!0);return Mo=_a=null,V.H=w,V.A=T,sn=m,Dr!==null?0:(Bn=null,Hr=0,ii(),ta)}function zL(){for(;Dr!==null&&!ke();)rE(Dr)}function rE(l){var d=T4(l.alternate,l,Fc);l.memoizedProps=l.pendingProps,d===null?wg(l):Dr=d}function nE(l){var d=l,m=d.alternate;switch(d.tag){case 15:case 0:d=C4(m,d,d.pendingProps,d.type,void 0,Hr);break;case 11:d=C4(m,d,d.pendingProps,d.type.render,d.ref,Hr);break;case 5:bf(d);default:F4(m,d),d=Dr=Yu(d,Fc),d=T4(m,d,Fc)}l.memoizedProps=l.pendingProps,d===null?wg(l):Dr=d}function Mf(l,d,m,w){Mo=_a=null,bf(d),_f=null,Nh=0;var T=d.return;try{if(DL(l,T,d,m,Hr)){ta=1,ug(l,Cr(m,l.current)),Dr=null;return}}catch(P){if(T!==null)throw Dr=T,P;ta=1,ug(l,Cr(m,l.current)),Dr=null;return}d.flags&32768?(Vr||w===1?l=!0:If||(Hr&536870912)!==0?l=!1:(RA=l=!0,(w===2||w===9||w===3||w===6)&&(w=to.current,w!==null&&w.tag===13&&(w.flags|=16384))),aE(d,l)):wg(d)}function wg(l){var d=l;do{if((d.flags&32768)!==0){aE(d,RA);return}l=d.return;var m=RL(d.alternate,d,Fc);if(m!==null){Dr=m;return}if(d=d.sibling,d!==null){Dr=d;return}Dr=d=l}while(d!==null);ta===0&&(ta=5)}function aE(l,d){do{var m=ML(l.alternate,l);if(m!==null){m.flags&=32767,Dr=m;return}if(m=l.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(l=l.sibling,l!==null)){Dr=l;return}Dr=l=m}while(l!==null);ta=6,Dr=null}function sE(l,d,m,w,T,P,se,pe,_e){l.cancelPendingCommit=null;do yg();while(cs!==0);if((sn&6)!==0)throw Error(n(327));if(d!==null){if(d===l.current)throw Error(n(177));if(P=d.lanes|d.childLanes,P|=zn,kr(l,m,P,se,pe,_e),l===Bn&&(Dr=Bn=null,Hr=0),Df=d,jA=l,Lf=m,w2=P,y2=T,$4=w,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,$L(pt,function(){return AE(),null})):(l.callbackNode=null,l.callbackPriority=0),w=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||w){w=V.T,V.T=null,T=G.p,G.p=2,se=sn,sn|=4;try{PL(l,d,m)}finally{sn=se,G.p=T,V.T=w}}cs=1,iE(),oE(),lE()}}function iE(){if(cs===1){cs=0;var l=jA,d=Df,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=V.T,V.T=null;var w=G.p;G.p=2;var T=sn;sn|=4;try{H4(d,l);var P=M2,se=ss(l.containerInfo),pe=P.focusedElem,_e=P.selectionRange;if(se!==pe&&pe&&pe.ownerDocument&&wl(pe.ownerDocument.documentElement,pe)){if(_e!==null&&Ra(pe)){var Ke=_e.start,it=_e.end;if(it===void 0&&(it=Ke),"selectionStart"in pe)pe.selectionStart=Ke,pe.selectionEnd=Math.min(it,pe.value.length);else{var ft=pe.ownerDocument||document,Ye=ft&&ft.defaultView||window;if(Ye.getSelection){var Je=Ye.getSelection(),lr=pe.textContent.length,er=Math.min(_e.start,lr),mn=_e.end===void 0?er:Math.min(_e.end,lr);!Je.extend&&er>mn&&(se=mn,mn=er,er=se);var Pe=To(pe,er),De=To(pe,mn);if(Pe&&De&&(Je.rangeCount!==1||Je.anchorNode!==Pe.node||Je.anchorOffset!==Pe.offset||Je.focusNode!==De.node||Je.focusOffset!==De.offset)){var Ve=ft.createRange();Ve.setStart(Pe.node,Pe.offset),Je.removeAllRanges(),er>mn?(Je.addRange(Ve),Je.extend(De.node,De.offset)):(Ve.setEnd(De.node,De.offset),Je.addRange(Ve))}}}}for(ft=[],Je=pe;Je=Je.parentNode;)Je.nodeType===1&&ft.push({element:Je,left:Je.scrollLeft,top:Je.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<ft.length;pe++){var lt=ft[pe];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Ug=!!R2,M2=R2=null}finally{sn=T,G.p=w,V.T=m}}l.current=d,cs=2}}function oE(){if(cs===2){cs=0;var l=jA,d=Df,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=V.T,V.T=null;var w=G.p;G.p=2;var T=sn;sn|=4;try{P4(l,d.alternate,d)}finally{sn=T,G.p=w,V.T=m}}cs=3}}function lE(){if(cs===4||cs===3){cs=0,we();var l=jA,d=Df,m=Lf,w=$4;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?cs=5:(cs=0,Df=jA=null,cE(l,l.pendingLanes));var T=l.pendingLanes;if(T===0&&(PA=null),_n(m),d=d.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Rt,d,void 0,(d.current.flags&128)===128)}catch{}if(w!==null){d=V.T,T=G.p,G.p=2,V.T=null;try{for(var P=l.onRecoverableError,se=0;se<w.length;se++){var pe=w[se];P(pe.value,{componentStack:pe.stack})}}finally{V.T=d,G.p=T}}(Lf&3)!==0&&yg(),jl(l),T=l.pendingLanes,(m&4194090)!==0&&(T&42)!==0?l===b2?Rh++:(Rh=0,b2=l):Rh=0,Mh(0)}}function cE(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,ed(d)))}function yg(l){return iE(),oE(),lE(),AE()}function AE(){if(cs!==5)return!1;var l=jA,d=w2;w2=0;var m=_n(Lf),w=V.T,T=G.p;try{G.p=32>m?32:m,V.T=null,m=y2,y2=null;var P=jA,se=Lf;if(cs=0,Df=jA=null,Lf=0,(sn&6)!==0)throw Error(n(331));var pe=sn;if(sn|=4,q4(P.current),G4(P,P.current,se,m),sn=pe,Mh(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Rt,P)}catch{}return!0}finally{G.p=T,V.T=w,cE(l,d)}}function uE(l,d,m){d=Cr(m,d),d=e2(l.stateNode,d,2),l=At(l,d,2),l!==null&&(Ca(l,2),jl(l))}function wn(l,d,m){if(l.tag===3)uE(l,l,m);else for(;d!==null;){if(d.tag===3){uE(d,l,m);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(PA===null||!PA.has(w))){l=Cr(m,l),m=m4(2),w=At(d,m,2),w!==null&&(p4(m,w,d,l),Ca(w,2),jl(w));break}}d=d.return}}function B2(l,d,m){var w=l.pingCache;if(w===null){w=l.pingCache=new QL;var T=new Set;w.set(d,T)}else T=w.get(d),T===void 0&&(T=new Set,w.set(d,T));T.has(m)||(p2=!0,T.add(m),l=KL.bind(null,l,d,m),d.then(l,l))}function KL(l,d,m){var w=l.pingCache;w!==null&&w.delete(d),l.pingedLanes|=l.suspendedLanes&m,l.warmLanes&=~m,Bn===l&&(Hr&m)===m&&(ta===4||ta===3&&(Hr&62914560)===Hr&&300>je()-v2?(sn&2)===0&&Rf(l,0):g2|=m,Uf===Hr&&(Uf=0)),jl(l)}function dE(l,d){d===0&&(d=jr()),l=Fo(l,d),l!==null&&(Ca(l,d),jl(l))}function qL(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),dE(l,m)}function WL(l,d){var m=0;switch(l.tag){case 13:var w=l.stateNode,T=l.memoizedState;T!==null&&(m=T.retryLane);break;case 19:w=l.stateNode;break;case 22:w=l.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(d),dE(l,m)}function $L(l,d){return Te(l,d)}var bg=null,Pf=null,N2=!1,Cg=!1,_2=!1,md=0;function jl(l){l!==Pf&&l.next===null&&(Pf===null?bg=Pf=l:Pf=Pf.next=l),Cg=!0,N2||(N2=!0,JL())}function Mh(l,d){if(!_2&&Cg){_2=!0;do for(var m=!1,w=bg;w!==null;){if(l!==0){var T=w.pendingLanes;if(T===0)var P=0;else{var se=w.suspendedLanes,pe=w.pingedLanes;P=(1<<31-Tt(42|l)+1)-1,P&=T&~(se&~pe),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(m=!0,pE(w,P))}else P=Hr,P=gr(w,w===Bn?P:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(P&3)===0||nn(w,P)||(m=!0,pE(w,P));w=w.next}while(m);_2=!1}}function YL(){fE()}function fE(){Cg=N2=!1;var l=0;md!==0&&(sR()&&(l=md),md=0);for(var d=je(),m=null,w=bg;w!==null;){var T=w.next,P=hE(w,d);P===0?(w.next=null,m===null?bg=T:m.next=T,T===null&&(Pf=m)):(m=w,(l!==0||(P&3)!==0)&&(Cg=!0)),w=T}Mh(l)}function hE(l,d){for(var m=l.suspendedLanes,w=l.pingedLanes,T=l.expirationTimes,P=l.pendingLanes&-62914561;0<P;){var se=31-Tt(P),pe=1<<se,_e=T[se];_e===-1?((pe&m)===0||(pe&w)!==0)&&(T[se]=xr(pe,d)):_e<=d&&(l.expiredLanes|=pe),P&=~pe}if(d=Bn,m=Hr,m=gr(l,l===d?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w=l.callbackNode,m===0||l===d&&(on===2||on===9)||l.cancelPendingCommit!==null)return w!==null&&w!==null&&qe(w),l.callbackNode=null,l.callbackPriority=0;if((m&3)===0||nn(l,m)){if(d=m&-m,d===l.callbackPriority)return d;switch(w!==null&&qe(w),_n(m)){case 2:case 8:m=dt;break;case 32:m=pt;break;case 268435456:m=yt;break;default:m=pt}return w=mE.bind(null,l),m=Te(m,w),l.callbackPriority=d,l.callbackNode=m,d}return w!==null&&w!==null&&qe(w),l.callbackPriority=2,l.callbackNode=null,2}function mE(l,d){if(cs!==0&&cs!==5)return l.callbackNode=null,l.callbackPriority=0,null;var m=l.callbackNode;if(yg()&&l.callbackNode!==m)return null;var w=Hr;return w=gr(l,l===Bn?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w===0?null:(J4(l,w,d),hE(l,je()),l.callbackNode!=null&&l.callbackNode===m?mE.bind(null,l):null)}function pE(l,d){if(yg())return null;J4(l,d,!0)}function JL(){oR(function(){(sn&6)!==0?Te(et,YL):fE()})}function T2(){return md===0&&(md=ts()),md}function gE(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Eo(""+l)}function xE(l,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,l.id&&m.setAttribute("form",l.id),d.parentNode.insertBefore(m,d),l=new FormData(l),m.parentNode.removeChild(m),l}function XL(l,d,m,w,T){if(d==="submit"&&m&&m.stateNode===T){var P=gE((T[en]||null).action),se=w.submitter;se&&(d=(d=se[en]||null)?gE(d.formAction):se.getAttribute("formAction"),d!==null&&(P=d,se=null));var pe=new fl("action","action",null,w,T);l.push({event:pe,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(md!==0){var _e=se?xE(T,se):new FormData(T);eo(m,{pending:!0,data:_e,method:T.method,action:P},null,_e)}}else typeof P=="function"&&(pe.preventDefault(),_e=se?xE(T,se):new FormData(T),eo(m,{pending:!0,data:_e,method:T.method,action:P},P,_e))},currentTarget:T}]})}}for(var k2=0;k2<mc.length;k2++){var F2=mc[k2],ZL=F2.toLowerCase(),eR=F2[0].toUpperCase()+F2.slice(1);jn(ZL,"on"+eR)}jn(wA,"onAnimationEnd"),jn(bl,"onAnimationIteration"),jn(Cl,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(El,"onTransitionRun"),jn(hc,"onTransitionStart"),jn(yA,"onTransitionCancel"),jn(Sl,"onTransitionEnd"),wt("onMouseEnter",["mouseout","mouseover"]),wt("onMouseLeave",["mouseout","mouseover"]),wt("onPointerEnter",["pointerout","pointerover"]),wt("onPointerLeave",["pointerout","pointerover"]),ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ph));function vE(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var w=l[m],T=w.event;w=w.listeners;e:{var P=void 0;if(d)for(var se=w.length-1;0<=se;se--){var pe=w[se],_e=pe.instance,Ke=pe.currentTarget;if(pe=pe.listener,_e!==P&&T.isPropagationStopped())break e;P=pe,T.currentTarget=Ke;try{P(T)}catch(it){Ag(it)}T.currentTarget=null,P=_e}else for(se=0;se<w.length;se++){if(pe=w[se],_e=pe.instance,Ke=pe.currentTarget,pe=pe.listener,_e!==P&&T.isPropagationStopped())break e;P=pe,T.currentTarget=Ke;try{P(T)}catch(it){Ag(it)}T.currentTarget=null,P=_e}}}}function Lr(l,d){var m=d[xn];m===void 0&&(m=d[xn]=new Set);var w=l+"__bubble";m.has(w)||(wE(d,l,2,!1),m.add(w))}function I2(l,d,m){var w=0;d&&(w|=4),wE(m,l,w,d)}var Eg="_reactListening"+Math.random().toString(36).slice(2);function U2(l){if(!l[Eg]){l[Eg]=!0,ze.forEach(function(m){m!=="selectionchange"&&(tR.has(m)||I2(m,!1,l),I2(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Eg]||(d[Eg]=!0,I2("selectionchange",!1,d))}}function wE(l,d,m,w){switch(GE(d)){case 2:var T=_R;break;case 8:T=TR;break;default:T=q2}m=T.bind(null,d,m,l),T=void 0,!oA||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),w?T!==void 0?l.addEventListener(d,m,{capture:!0,passive:T}):l.addEventListener(d,m,!0):T!==void 0?l.addEventListener(d,m,{passive:T}):l.addEventListener(d,m,!1)}function D2(l,d,m,w,T){var P=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var se=w.tag;if(se===3||se===4){var pe=w.stateNode.containerInfo;if(pe===T)break;if(se===4)for(se=w.return;se!==null;){var _e=se.tag;if((_e===3||_e===4)&&se.stateNode.containerInfo===T)return;se=se.return}for(;pe!==null;){if(se=Ce(pe),se===null)return;if(_e=se.tag,_e===5||_e===6||_e===26||_e===27){w=P=se;continue e}pe=pe.parentNode}}w=w.return}Af(function(){var Ke=P,it=Ea(m),ft=[];e:{var Ye=ko.get(l);if(Ye!==void 0){var Je=fl,lr=l;switch(l){case"keypress":if(dl(m)===0)break e;case"keydown":case"keyup":Je=mA;break;case"focusin":lr="focus",Je=oc;break;case"focusout":lr="blur",Je=oc;break;case"beforeblur":case"afterblur":Je=oc;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=Ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=Ku;break;case wA:case bl:case Cl:Je=lh;break;case Sl:Je=oe;break;case"scroll":case"scrollend":Je=df;break;case"wheel":Je=Fe;break;case"copy":case"cut":case"paste":Je=ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=pA;break;case"toggle":case"beforetoggle":Je=tt}var er=(d&4)!==0,mn=!er&&(l==="scroll"||l==="scrollend"),Pe=er?Ye!==null?Ye+"Capture":null:Ye;er=[];for(var De=Ke,Ve;De!==null;){var lt=De;if(Ve=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Ve===null||Pe===null||(lt=xs(De,Pe),lt!=null&&er.push(jh(De,lt,Ve))),mn)break;De=De.return}0<er.length&&(Ye=new Je(Ye,lr,null,m,it),ft.push({event:Ye,listeners:er}))}}if((d&7)===0){e:{if(Ye=l==="mouseover"||l==="pointerover",Je=l==="mouseout"||l==="pointerout",Ye&&m!==iA&&(lr=m.relatedTarget||m.fromElement)&&(Ce(lr)||lr[Tn]))break e;if((Je||Ye)&&(Ye=it.window===it?it:(Ye=it.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,Je?(lr=m.relatedTarget||m.toElement,Je=Ke,lr=lr?Ce(lr):null,lr!==null&&(mn=s(lr),er=lr.tag,lr!==mn||er!==5&&er!==27&&er!==6)&&(lr=null)):(Je=null,lr=Ke),Je!==lr)){if(er=Ki,lt="onMouseLeave",Pe="onMouseEnter",De="mouse",(l==="pointerout"||l==="pointerover")&&(er=pA,lt="onPointerLeave",Pe="onPointerEnter",De="pointer"),mn=Je==null?Ye:Qe(Je),Ve=lr==null?Ye:Qe(lr),Ye=new er(lt,De+"leave",Je,m,it),Ye.target=mn,Ye.relatedTarget=Ve,lt=null,Ce(it)===Ke&&(er=new er(Pe,De+"enter",lr,m,it),er.target=Ve,er.relatedTarget=mn,lt=er),mn=lt,Je&&lr)t:{for(er=Je,Pe=lr,De=0,Ve=er;Ve;Ve=jf(Ve))De++;for(Ve=0,lt=Pe;lt;lt=jf(lt))Ve++;for(;0<De-Ve;)er=jf(er),De--;for(;0<Ve-De;)Pe=jf(Pe),Ve--;for(;De--;){if(er===Pe||Pe!==null&&er===Pe.alternate)break t;er=jf(er),Pe=jf(Pe)}er=null}else er=null;Je!==null&&yE(ft,Ye,Je,er,!1),lr!==null&&mn!==null&&yE(ft,mn,lr,er,!0)}}e:{if(Ye=Ke?Qe(Ke):window,Je=Ye.nodeName&&Ye.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Ye.type==="file")var Pt=xA;else if(bi(Ye))if(Ac)Pt=hf;else{Pt=uh;var Nr=vs}else Je=Ye.nodeName,!Je||Je.toLowerCase()!=="input"||Ye.type!=="checkbox"&&Ye.type!=="radio"?Ke&&Ou(Ke.elementType)&&(Pt=xA):Pt=Wu;if(Pt&&(Pt=Pt(l,Ke))){qu(ft,Pt,m,it);break e}Nr&&Nr(l,Ye,Ke),l==="focusout"&&Ke&&Ye.type==="number"&&Ke.memoizedProps.value!=null&&Mu(Ye,"number",Ye.value)}switch(Nr=Ke?Qe(Ke):window,l){case"focusin":(bi(Nr)||Nr.contentEditable==="true")&&(ws=Nr,Ci=Ke,qi=null);break;case"focusout":qi=Ci=ws=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,Pn(ft,m,it);break;case"selectionchange":if(yl)break;case"keydown":case"keyup":Pn(ft,m,it)}var qt;if(Ft)e:{switch(l){case"compositionstart":var tr="onCompositionStart";break e;case"compositionend":tr="onCompositionEnd";break e;case"compositionupdate":tr="onCompositionUpdate";break e}tr=void 0}else Gn?kn(l,m)&&(tr="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(tr="onCompositionStart");tr&&(Ar&&m.locale!=="ko"&&(Gn||tr!=="onCompositionStart"?tr==="onCompositionEnd"&&Gn&&(qt=uf()):(ai=it,Hu="value"in ai?ai.value:ai.textContent,Gn=!0)),Nr=Sg(Ke,tr),0<Nr.length&&(tr=new dA(tr,l,null,m,it),ft.push({event:tr,listeners:Nr}),qt?tr.data=qt:(qt=Vn(m),qt!==null&&(tr.data=qt)))),(qt=fr?Sa(l,m):yi(l,m))&&(tr=Sg(Ke,"onBeforeInput"),0<tr.length&&(Nr=new dA("onBeforeInput","beforeinput",null,m,it),ft.push({event:Nr,listeners:tr}),Nr.data=qt)),XL(ft,l,Ke,m,it)}vE(ft,d)})}function jh(l,d,m){return{instance:l,listener:d,currentTarget:m}}function Sg(l,d){for(var m=d+"Capture",w=[];l!==null;){var T=l,P=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||P===null||(T=xs(l,m),T!=null&&w.unshift(jh(l,T,P)),T=xs(l,d),T!=null&&w.push(jh(l,T,P))),l.tag===3)return w;l=l.return}return[]}function jf(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function yE(l,d,m,w,T){for(var P=d._reactName,se=[];m!==null&&m!==w;){var pe=m,_e=pe.alternate,Ke=pe.stateNode;if(pe=pe.tag,_e!==null&&_e===w)break;pe!==5&&pe!==26&&pe!==27||Ke===null||(_e=Ke,T?(Ke=xs(m,P),Ke!=null&&se.unshift(jh(m,Ke,_e))):T||(Ke=xs(m,P),Ke!=null&&se.push(jh(m,Ke,_e)))),m=m.return}se.length!==0&&l.push({event:d,listeners:se})}var rR=/\r\n?/g,nR=/\u0000|\uFFFD/g;function bE(l){return(typeof l=="string"?l:""+l).replace(rR,`
`).replace(nR,"")}function CE(l,d){return d=bE(d),bE(l)===d}function Bg(){}function hn(l,d,m,w,T,P){switch(m){case"children":typeof w=="string"?d==="body"||d==="textarea"&&w===""||Al(l,w):(typeof w=="number"||typeof w=="bigint")&&d!=="body"&&Al(l,""+w);break;case"className":Mr(l,"class",w);break;case"tabIndex":Mr(l,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(l,m,w);break;case"style":cf(l,w,P);break;case"data":if(d!=="object"){Mr(l,"data",w);break}case"src":case"href":if(w===""&&(d!=="a"||m!=="href")){l.removeAttribute(m);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(m);break}w=Eo(""+w),l.setAttribute(m,w);break;case"action":case"formAction":if(typeof w=="function"){l.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(m==="formAction"?(d!=="input"&&hn(l,d,"name",T.name,T,null),hn(l,d,"formEncType",T.formEncType,T,null),hn(l,d,"formMethod",T.formMethod,T,null),hn(l,d,"formTarget",T.formTarget,T,null)):(hn(l,d,"encType",T.encType,T,null),hn(l,d,"method",T.method,T,null),hn(l,d,"target",T.target,T,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(m);break}w=Eo(""+w),l.setAttribute(m,w);break;case"onClick":w!=null&&(l.onclick=Bg);break;case"onScroll":w!=null&&Lr("scroll",l);break;case"onScrollEnd":w!=null&&Lr("scrollend",l);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(m=w.__html,m!=null){if(T.children!=null)throw Error(n(60));l.innerHTML=m}}break;case"multiple":l.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":l.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){l.removeAttribute("xlink:href");break}m=Eo(""+w),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(m,""+w):l.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(m,""):l.removeAttribute(m);break;case"capture":case"download":w===!0?l.setAttribute(m,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(m,w):l.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?l.setAttribute(m,w):l.removeAttribute(m);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?l.removeAttribute(m):l.setAttribute(m,w);break;case"popover":Lr("beforetoggle",l),Lr("toggle",l),Ir(l,"popover",w);break;case"xlinkActuate":Wr(l,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Wr(l,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Wr(l,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Wr(l,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Wr(l,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Wr(l,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Wr(l,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Wr(l,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Wr(l,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Ir(l,"is",w);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Co.get(m)||m,Ir(l,m,w))}}function L2(l,d,m,w,T,P){switch(m){case"style":cf(l,w,P);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(m=w.__html,m!=null){if(T.children!=null)throw Error(n(60));l.innerHTML=m}}break;case"children":typeof w=="string"?Al(l,w):(typeof w=="number"||typeof w=="bigint")&&Al(l,""+w);break;case"onScroll":w!=null&&Lr("scroll",l);break;case"onScrollEnd":w!=null&&Lr("scrollend",l);break;case"onClick":w!=null&&(l.onclick=Bg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!We.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),d=m.slice(2,T?m.length-7:void 0),P=l[en]||null,P=P!=null?P[m]:null,typeof P=="function"&&l.removeEventListener(d,P,T),typeof w=="function")){typeof P!="function"&&P!==null&&(m in l?l[m]=null:l.hasAttribute(m)&&l.removeAttribute(m)),l.addEventListener(d,w,T);break e}m in l?l[m]=w:w===!0?l.setAttribute(m,""):Ir(l,m,w)}}}function As(l,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lr("error",l),Lr("load",l);var w=!1,T=!1,P;for(P in m)if(m.hasOwnProperty(P)){var se=m[P];if(se!=null)switch(P){case"src":w=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:hn(l,d,P,se,m,null)}}T&&hn(l,d,"srcSet",m.srcSet,m,null),w&&hn(l,d,"src",m.src,m,null);return;case"input":Lr("invalid",l);var pe=P=se=T=null,_e=null,Ke=null;for(w in m)if(m.hasOwnProperty(w)){var it=m[w];if(it!=null)switch(w){case"name":T=it;break;case"type":se=it;break;case"checked":_e=it;break;case"defaultChecked":Ke=it;break;case"value":P=it;break;case"defaultValue":pe=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,d));break;default:hn(l,d,w,it,m,null)}}Ru(l,P,pe,_e,Ke,se,T,!1),cl(l);return;case"select":Lr("invalid",l),w=se=P=null;for(T in m)if(m.hasOwnProperty(T)&&(pe=m[T],pe!=null))switch(T){case"value":P=pe;break;case"defaultValue":se=pe;break;case"multiple":w=pe;default:hn(l,d,T,pe,m,null)}d=P,m=se,l.multiple=!!w,d!=null?bo(l,!!w,d,!1):m!=null&&bo(l,!!w,m,!0);return;case"textarea":Lr("invalid",l),P=T=w=null;for(se in m)if(m.hasOwnProperty(se)&&(pe=m[se],pe!=null))switch(se){case"value":w=pe;break;case"defaultValue":T=pe;break;case"children":P=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(n(91));break;default:hn(l,d,se,pe,m,null)}Pu(l,w,T,P),cl(l);return;case"option":for(_e in m)if(m.hasOwnProperty(_e)&&(w=m[_e],w!=null))switch(_e){case"selected":l.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:hn(l,d,_e,w,m,null)}return;case"dialog":Lr("beforetoggle",l),Lr("toggle",l),Lr("cancel",l),Lr("close",l);break;case"iframe":case"object":Lr("load",l);break;case"video":case"audio":for(w=0;w<Ph.length;w++)Lr(Ph[w],l);break;case"image":Lr("error",l),Lr("load",l);break;case"details":Lr("toggle",l);break;case"embed":case"source":case"link":Lr("error",l),Lr("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ke in m)if(m.hasOwnProperty(Ke)&&(w=m[Ke],w!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:hn(l,d,Ke,w,m,null)}return;default:if(Ou(d)){for(it in m)m.hasOwnProperty(it)&&(w=m[it],w!==void 0&&L2(l,d,it,w,m,void 0));return}}for(pe in m)m.hasOwnProperty(pe)&&(w=m[pe],w!=null&&hn(l,d,pe,w,m,null))}function aR(l,d,m,w){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,P=null,se=null,pe=null,_e=null,Ke=null,it=null;for(Je in m){var ft=m[Je];if(m.hasOwnProperty(Je)&&ft!=null)switch(Je){case"checked":break;case"value":break;case"defaultValue":_e=ft;default:w.hasOwnProperty(Je)||hn(l,d,Je,null,w,ft)}}for(var Ye in w){var Je=w[Ye];if(ft=m[Ye],w.hasOwnProperty(Ye)&&(Je!=null||ft!=null))switch(Ye){case"type":P=Je;break;case"name":T=Je;break;case"checked":Ke=Je;break;case"defaultChecked":it=Je;break;case"value":se=Je;break;case"defaultValue":pe=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,d));break;default:Je!==ft&&hn(l,d,Ye,Je,w,ft)}}ic(l,se,pe,_e,Ke,it,P,T);return;case"select":Je=se=pe=Ye=null;for(P in m)if(_e=m[P],m.hasOwnProperty(P)&&_e!=null)switch(P){case"value":break;case"multiple":Je=_e;default:w.hasOwnProperty(P)||hn(l,d,P,null,w,_e)}for(T in w)if(P=w[T],_e=m[T],w.hasOwnProperty(T)&&(P!=null||_e!=null))switch(T){case"value":Ye=P;break;case"defaultValue":pe=P;break;case"multiple":se=P;default:P!==_e&&hn(l,d,T,P,w,_e)}d=pe,m=se,w=Je,Ye!=null?bo(l,!!m,Ye,!1):!!w!=!!m&&(d!=null?bo(l,!!m,d,!0):bo(l,!!m,m?[]:"",!1));return;case"textarea":Je=Ye=null;for(pe in m)if(T=m[pe],m.hasOwnProperty(pe)&&T!=null&&!w.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:hn(l,d,pe,null,w,T)}for(se in w)if(T=w[se],P=m[se],w.hasOwnProperty(se)&&(T!=null||P!=null))switch(se){case"value":Ye=T;break;case"defaultValue":Je=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==P&&hn(l,d,se,T,w,P)}of(l,Ye,Je);return;case"option":for(var lr in m)if(Ye=m[lr],m.hasOwnProperty(lr)&&Ye!=null&&!w.hasOwnProperty(lr))switch(lr){case"selected":l.selected=!1;break;default:hn(l,d,lr,null,w,Ye)}for(_e in w)if(Ye=w[_e],Je=m[_e],w.hasOwnProperty(_e)&&Ye!==Je&&(Ye!=null||Je!=null))switch(_e){case"selected":l.selected=Ye&&typeof Ye!="function"&&typeof Ye!="symbol";break;default:hn(l,d,_e,Ye,w,Je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var er in m)Ye=m[er],m.hasOwnProperty(er)&&Ye!=null&&!w.hasOwnProperty(er)&&hn(l,d,er,null,w,Ye);for(Ke in w)if(Ye=w[Ke],Je=m[Ke],w.hasOwnProperty(Ke)&&Ye!==Je&&(Ye!=null||Je!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(n(137,d));break;default:hn(l,d,Ke,Ye,w,Je)}return;default:if(Ou(d)){for(var mn in m)Ye=m[mn],m.hasOwnProperty(mn)&&Ye!==void 0&&!w.hasOwnProperty(mn)&&L2(l,d,mn,void 0,w,Ye);for(it in w)Ye=w[it],Je=m[it],!w.hasOwnProperty(it)||Ye===Je||Ye===void 0&&Je===void 0||L2(l,d,it,Ye,w,Je);return}}for(var Pe in m)Ye=m[Pe],m.hasOwnProperty(Pe)&&Ye!=null&&!w.hasOwnProperty(Pe)&&hn(l,d,Pe,null,w,Ye);for(ft in w)Ye=w[ft],Je=m[ft],!w.hasOwnProperty(ft)||Ye===Je||Ye==null&&Je==null||hn(l,d,ft,Ye,w,Je)}var R2=null,M2=null;function Ng(l){return l.nodeType===9?l:l.ownerDocument}function EE(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SE(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function P2(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var j2=null;function sR(){var l=window.event;return l&&l.type==="popstate"?l===j2?!1:(j2=l,!0):(j2=null,!1)}var BE=typeof setTimeout=="function"?setTimeout:void 0,iR=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(l){return NE.resolve(null).then(l).catch(lR)}:BE;function lR(l){setTimeout(function(){throw l})}function QA(l){return l==="head"}function _E(l,d){var m=d,w=0,T=0;do{var P=m.nextSibling;if(l.removeChild(m),P&&P.nodeType===8)if(m=P.data,m==="/$"){if(0<w&&8>w){m=w;var se=l.ownerDocument;if(m&1&&Oh(se.documentElement),m&2&&Oh(se.body),m&4)for(m=se.head,Oh(m),se=m.firstChild;se;){var pe=se.nextSibling,_e=se.nodeName;se[ve]||_e==="SCRIPT"||_e==="STYLE"||_e==="LINK"&&se.rel.toLowerCase()==="stylesheet"||m.removeChild(se),se=pe}}if(T===0){l.removeChild(P),Wh(d);return}T--}else m==="$"||m==="$?"||m==="$!"?T++:w=m.charCodeAt(0)-48;else w=0;m=P}while(m);Wh(d)}function O2(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":O2(m),ye(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}l.removeChild(m)}}function cR(l,d,m,w){for(;l.nodeType===1;){var T=m;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!w&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(w){if(!l[ve])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(P=l.getAttribute("rel"),P==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(P!==T.rel||l.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||l.getAttribute("title")!==(T.title==null?null:T.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(P=l.getAttribute("src"),(P!==(T.src==null?null:T.src)||l.getAttribute("type")!==(T.type==null?null:T.type)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&P&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var P=T.name==null?null:""+T.name;if(T.type==="hidden"&&l.getAttribute("name")===P)return l}else return l;if(l=Go(l.nextSibling),l===null)break}return null}function AR(l,d,m){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!m||(l=Go(l.nextSibling),l===null))return null;return l}function Q2(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function uR(l,d){var m=l.ownerDocument;if(l.data!=="$?"||m.readyState==="complete")d();else{var w=function(){d(),m.removeEventListener("DOMContentLoaded",w)};m.addEventListener("DOMContentLoaded",w),l._reactRetry=w}}function Go(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var H2=null;function TE(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}function kE(l,d,m){switch(d=Ng(m),l){case"html":if(l=d.documentElement,!l)throw Error(n(452));return l;case"head":if(l=d.head,!l)throw Error(n(453));return l;case"body":if(l=d.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function Oh(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);ye(l)}var no=new Map,FE=new Set;function _g(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Ic=G.d;G.d={f:dR,r:fR,D:hR,C:mR,L:pR,m:gR,X:vR,S:xR,M:wR};function dR(){var l=Ic.f(),d=vg();return l||d}function fR(l){var d=Se(l);d!==null&&d.tag===5&&d.type==="form"?Ad(d):Ic.r(l)}var Of=typeof document>"u"?null:document;function IE(l,d,m){var w=Of;if(w&&typeof d=="string"&&d){var T=vn(d);T='link[rel="'+l+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),FE.has(T)||(FE.add(T),l={rel:l,crossOrigin:m,href:d},w.querySelector(T)===null&&(d=w.createElement("link"),As(d,"link",l),Re(d),w.head.appendChild(d)))}}function hR(l){Ic.D(l),IE("dns-prefetch",l,null)}function mR(l,d){Ic.C(l,d),IE("preconnect",l,d)}function pR(l,d,m){Ic.L(l,d,m);var w=Of;if(w&&l&&d){var T='link[rel="preload"][as="'+vn(d)+'"]';d==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+vn(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+vn(m.imageSizes)+'"]')):T+='[href="'+vn(l)+'"]';var P=T;switch(d){case"style":P=Qf(l);break;case"script":P=Hf(l)}no.has(P)||(l=f({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:l,as:d},m),no.set(P,l),w.querySelector(T)!==null||d==="style"&&w.querySelector(Qh(P))||d==="script"&&w.querySelector(Hh(P))||(d=w.createElement("link"),As(d,"link",l),Re(d),w.head.appendChild(d)))}}function gR(l,d){Ic.m(l,d);var m=Of;if(m&&l){var w=d&&typeof d.as=="string"?d.as:"script",T='link[rel="modulepreload"][as="'+vn(w)+'"][href="'+vn(l)+'"]',P=T;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Hf(l)}if(!no.has(P)&&(l=f({rel:"modulepreload",href:l},d),no.set(P,l),m.querySelector(T)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Hh(P)))return}w=m.createElement("link"),As(w,"link",l),Re(w),m.head.appendChild(w)}}}function xR(l,d,m){Ic.S(l,d,m);var w=Of;if(w&&l){var T=Xe(w).hoistableStyles,P=Qf(l);d=d||"default";var se=T.get(P);if(!se){var pe={loading:0,preload:null};if(se=w.querySelector(Qh(P)))pe.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":d},m),(m=no.get(P))&&V2(l,m);var _e=se=w.createElement("link");Re(_e),As(_e,"link",l),_e._p=new Promise(function(Ke,it){_e.onload=Ke,_e.onerror=it}),_e.addEventListener("load",function(){pe.loading|=1}),_e.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,Tg(se,d,w)}se={type:"stylesheet",instance:se,count:1,state:pe},T.set(P,se)}}}function vR(l,d){Ic.X(l,d);var m=Of;if(m&&l){var w=Xe(m).hoistableScripts,T=Hf(l),P=w.get(T);P||(P=m.querySelector(Hh(T)),P||(l=f({src:l,async:!0},d),(d=no.get(T))&&G2(l,d),P=m.createElement("script"),Re(P),As(P,"link",l),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},w.set(T,P))}}function wR(l,d){Ic.M(l,d);var m=Of;if(m&&l){var w=Xe(m).hoistableScripts,T=Hf(l),P=w.get(T);P||(P=m.querySelector(Hh(T)),P||(l=f({src:l,async:!0,type:"module"},d),(d=no.get(T))&&G2(l,d),P=m.createElement("script"),Re(P),As(P,"link",l),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},w.set(T,P))}}function UE(l,d,m,w){var T=(T=ne.current)?_g(T):null;if(!T)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=Qf(m.href),m=Xe(T).hoistableStyles,w=m.get(d),w||(w={type:"style",instance:null,count:0,state:null},m.set(d,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){l=Qf(m.href);var P=Xe(T).hoistableStyles,se=P.get(l);if(se||(T=T.ownerDocument||T,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(l,se),(P=T.querySelector(Qh(l)))&&!P._p&&(se.instance=P,se.state.loading=5),no.has(l)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},no.set(l,m),P||yR(T,l,m,se.state))),d&&w===null)throw Error(n(528,""));return se}if(d&&w!==null)throw Error(n(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Hf(m),m=Xe(T).hoistableScripts,w=m.get(d),w||(w={type:"script",instance:null,count:0,state:null},m.set(d,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function Qf(l){return'href="'+vn(l)+'"'}function Qh(l){return'link[rel="stylesheet"]['+l+"]"}function DE(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function yR(l,d,m,w){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?w.loading=1:(d=l.createElement("link"),w.preload=d,d.addEventListener("load",function(){return w.loading|=1}),d.addEventListener("error",function(){return w.loading|=2}),As(d,"link",m),Re(d),l.head.appendChild(d))}function Hf(l){return'[src="'+vn(l)+'"]'}function Hh(l){return"script[async]"+l}function LE(l,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var w=l.querySelector('style[data-href~="'+vn(m.href)+'"]');if(w)return d.instance=w,Re(w),w;var T=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return w=(l.ownerDocument||l).createElement("style"),Re(w),As(w,"style",T),Tg(w,m.precedence,l),d.instance=w;case"stylesheet":T=Qf(m.href);var P=l.querySelector(Qh(T));if(P)return d.state.loading|=4,d.instance=P,Re(P),P;w=DE(m),(T=no.get(T))&&V2(w,T),P=(l.ownerDocument||l).createElement("link"),Re(P);var se=P;return se._p=new Promise(function(pe,_e){se.onload=pe,se.onerror=_e}),As(P,"link",w),d.state.loading|=4,Tg(P,m.precedence,l),d.instance=P;case"script":return P=Hf(m.src),(T=l.querySelector(Hh(P)))?(d.instance=T,Re(T),T):(w=m,(T=no.get(P))&&(w=f({},m),G2(w,T)),l=l.ownerDocument||l,T=l.createElement("script"),Re(T),As(T,"link",w),l.head.appendChild(T),d.instance=T);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(w=d.instance,d.state.loading|=4,Tg(w,m.precedence,l));return d.instance}function Tg(l,d,m){for(var w=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=w.length?w[w.length-1]:null,P=T,se=0;se<w.length;se++){var pe=w[se];if(pe.dataset.precedence===d)P=pe;else if(P!==T)break}P?P.parentNode.insertBefore(l,P.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(l,d.firstChild))}function V2(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function G2(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var kg=null;function RE(l,d,m){if(kg===null){var w=new Map,T=kg=new Map;T.set(m,w)}else T=kg,w=T.get(m),w||(w=new Map,T.set(m,w));if(w.has(l))return w;for(w.set(l,null),m=m.getElementsByTagName(l),T=0;T<m.length;T++){var P=m[T];if(!(P[ve]||P[qr]||l==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var se=P.getAttribute(d)||"";se=l+se;var pe=w.get(se);pe?pe.push(P):w.set(se,[P])}}return w}function ME(l,d,m){l=l.ownerDocument||l,l.head.insertBefore(m,d==="title"?l.querySelector("head > title"):null)}function bR(l,d,m){if(m===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function PE(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Vh=null;function CR(){}function ER(l,d,m){if(Vh===null)throw Error(n(475));var w=Vh;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var T=Qf(m.href),P=l.querySelector(Qh(T));if(P){l=P._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(w.count++,w=Fg.bind(w),l.then(w,w)),d.state.loading|=4,d.instance=P,Re(P);return}P=l.ownerDocument||l,m=DE(m),(T=no.get(T))&&V2(m,T),P=P.createElement("link"),Re(P);var se=P;se._p=new Promise(function(pe,_e){se.onload=pe,se.onerror=_e}),As(P,"link",m),d.instance=P}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(w.count++,d=Fg.bind(w),l.addEventListener("load",d),l.addEventListener("error",d))}}function SR(){if(Vh===null)throw Error(n(475));var l=Vh;return l.stylesheets&&l.count===0&&z2(l,l.stylesheets),0<l.count?function(d){var m=setTimeout(function(){if(l.stylesheets&&z2(l,l.stylesheets),l.unsuspend){var w=l.unsuspend;l.unsuspend=null,w()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(m)}}:null}function Fg(){if(this.count--,this.count===0){if(this.stylesheets)z2(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Ig=null;function z2(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Ig=new Map,d.forEach(BR,l),Ig=null,Fg.call(l))}function BR(l,d){if(!(d.state.loading&4)){var m=Ig.get(l);if(m)var w=m.get(null);else{m=new Map,Ig.set(l,m);for(var T=l.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<T.length;P++){var se=T[P];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(m.set(se.dataset.precedence,se),w=se)}w&&m.set(null,w)}T=d.instance,se=T.getAttribute("data-precedence"),P=m.get(se)||w,P===w&&m.set(null,T),m.set(se,T),this.count++,w=Fg.bind(this),T.addEventListener("load",w),T.addEventListener("error",w),P?P.parentNode.insertBefore(T,P.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(T,l.firstChild)),d.state.loading|=4}}var Gh={$$typeof:B,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function NR(l,d,m,w,T,P,se,pe){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=w,this.onUncaughtError=T,this.onCaughtError=P,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function jE(l,d,m,w,T,P,se,pe,_e,Ke,it,ft){return l=new NR(l,d,m,se,pe,_e,Ke,ft),d=1,P===!0&&(d|=24),P=za(3,null,null,d),l.current=P,P.stateNode=l,d=fh(),d.refCount++,l.pooledCache=d,d.refCount++,P.memoizedState={element:w,isDehydrated:m,cache:d},Ue(P),l}function OE(l){return l?(l=Na,l):Na}function QE(l,d,m,w,T,P){T=OE(T),w.context===null?w.context=T:w.pendingContext=T,w=nt(d),w.payload={element:m},P=P===void 0?null:P,P!==null&&(w.callback=P),m=At(l,w,d),m!==null&&(Ii(m,l,d),ot(m,l,d))}function HE(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function K2(l,d){HE(l,d),(l=l.alternate)&&HE(l,d)}function VE(l){if(l.tag===13){var d=Fo(l,67108864);d!==null&&Ii(d,l,67108864),K2(l,67108864)}}var Ug=!0;function _R(l,d,m,w){var T=V.T;V.T=null;var P=G.p;try{G.p=2,q2(l,d,m,w)}finally{G.p=P,V.T=T}}function TR(l,d,m,w){var T=V.T;V.T=null;var P=G.p;try{G.p=8,q2(l,d,m,w)}finally{G.p=P,V.T=T}}function q2(l,d,m,w){if(Ug){var T=W2(w);if(T===null)D2(l,d,w,Dg,m),zE(l,w);else if(FR(T,l,d,m,w))w.stopPropagation();else if(zE(l,w),d&4&&-1<kR.indexOf(l)){for(;T!==null;){var P=Se(T);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var se=ur(P.pendingLanes);if(se!==0){var pe=P;for(pe.pendingLanes|=2,pe.entangledLanes|=2;se;){var _e=1<<31-Tt(se);pe.entanglements[1]|=_e,se&=~_e}jl(P),(sn&6)===0&&(gg=je()+500,Mh(0))}}break;case 13:pe=Fo(P,2),pe!==null&&Ii(pe,P,2),vg(),K2(P,2)}if(P=W2(w),P===null&&D2(l,d,w,Dg,m),P===T)break;T=P}T!==null&&w.stopPropagation()}else D2(l,d,w,null,m)}}function W2(l){return l=Ea(l),$2(l)}var Dg=null;function $2(l){if(Dg=null,l=Ce(l),l!==null){var d=s(l);if(d===null)l=null;else{var m=d.tag;if(m===13){if(l=i(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return Dg=l,null}function GE(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($e()){case et:return 2;case dt:return 8;case pt:case st:return 32;case yt:return 268435456;default:return 32}default:return 32}}var Y2=!1,HA=null,VA=null,GA=null,zh=new Map,Kh=new Map,zA=[],kR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zE(l,d){switch(l){case"focusin":case"focusout":HA=null;break;case"dragenter":case"dragleave":VA=null;break;case"mouseover":case"mouseout":GA=null;break;case"pointerover":case"pointerout":zh.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kh.delete(d.pointerId)}}function qh(l,d,m,w,T,P){return l===null||l.nativeEvent!==P?(l={blockedOn:d,domEventName:m,eventSystemFlags:w,nativeEvent:P,targetContainers:[T]},d!==null&&(d=Se(d),d!==null&&VE(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),l)}function FR(l,d,m,w,T){switch(d){case"focusin":return HA=qh(HA,l,d,m,w,T),!0;case"dragenter":return VA=qh(VA,l,d,m,w,T),!0;case"mouseover":return GA=qh(GA,l,d,m,w,T),!0;case"pointerover":var P=T.pointerId;return zh.set(P,qh(zh.get(P)||null,l,d,m,w,T)),!0;case"gotpointercapture":return P=T.pointerId,Kh.set(P,qh(Kh.get(P)||null,l,d,m,w,T)),!0}return!1}function KE(l){var d=Ce(l.target);if(d!==null){var m=s(d);if(m!==null){if(d=m.tag,d===13){if(d=i(m),d!==null){l.blockedOn=d,ps(l.priority,function(){if(m.tag===13){var w=Fi();w=Hs(w);var T=Fo(m,w);T!==null&&Ii(T,m,w),K2(m,w)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Lg(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=W2(l.nativeEvent);if(m===null){m=l.nativeEvent;var w=new m.constructor(m.type,m);iA=w,m.target.dispatchEvent(w),iA=null}else return d=Se(m),d!==null&&VE(d),l.blockedOn=m,!1;d.shift()}return!0}function qE(l,d,m){Lg(l)&&m.delete(d)}function IR(){Y2=!1,HA!==null&&Lg(HA)&&(HA=null),VA!==null&&Lg(VA)&&(VA=null),GA!==null&&Lg(GA)&&(GA=null),zh.forEach(qE),Kh.forEach(qE)}function Rg(l,d){l.blockedOn===d&&(l.blockedOn=null,Y2||(Y2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,IR)))}var Mg=null;function WE(l){Mg!==l&&(Mg=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mg===l&&(Mg=null);for(var d=0;d<l.length;d+=3){var m=l[d],w=l[d+1],T=l[d+2];if(typeof w!="function"){if($2(w||m)===null)continue;break}var P=Se(m);P!==null&&(l.splice(d,3),d-=3,eo(P,{pending:!0,data:T,method:m.method,action:w},w,T))}}))}function Wh(l){function d(_e){return Rg(_e,l)}HA!==null&&Rg(HA,l),VA!==null&&Rg(VA,l),GA!==null&&Rg(GA,l),zh.forEach(d),Kh.forEach(d);for(var m=0;m<zA.length;m++){var w=zA[m];w.blockedOn===l&&(w.blockedOn=null)}for(;0<zA.length&&(m=zA[0],m.blockedOn===null);)KE(m),m.blockedOn===null&&zA.shift();if(m=(l.ownerDocument||l).$$reactFormReplay,m!=null)for(w=0;w<m.length;w+=3){var T=m[w],P=m[w+1],se=T[en]||null;if(typeof P=="function")se||WE(m);else if(se){var pe=null;if(P&&P.hasAttribute("formAction")){if(T=P,se=P[en]||null)pe=se.formAction;else if($2(T)!==null)continue}else pe=se.action;typeof pe=="function"?m[w+1]=pe:(m.splice(w,3),w-=3),WE(m)}}}function J2(l){this._internalRoot=l}Pg.prototype.render=J2.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));var m=d.current,w=Fi();QE(m,w,l,d,null,null)},Pg.prototype.unmount=J2.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;QE(l.current,2,null,l,null,null),vg(),d[Tn]=null}};function Pg(l){this._internalRoot=l}Pg.prototype.unstable_scheduleHydration=function(l){if(l){var d=rs();l={blockedOn:null,target:l,priority:d};for(var m=0;m<zA.length&&d!==0&&d<zA[m].priority;m++);zA.splice(m,0,l),m===0&&KE(l)}};var $E=t.version;if($E!=="19.1.1")throw Error(n(527,$E,"19.1.1"));G.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=c(d),l=l!==null?u(l):null,l=l===null?null:l.stateNode,l};var UR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jg.isDisabled&&jg.supportsFiber)try{Rt=jg.inject(UR),Qt=jg}catch{}}return Yh.createRoot=function(l,d){if(!a(l))throw Error(n(299));var m=!1,w="",T=u4,P=d4,se=f4,pe=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(se=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(pe=d.unstable_transitionCallbacks)),d=jE(l,1,!1,null,null,m,w,T,P,se,pe,null),l[Tn]=d.current,U2(l),new J2(d)},Yh.hydrateRoot=function(l,d,m){if(!a(l))throw Error(n(299));var w=!1,T="",P=u4,se=d4,pe=f4,_e=null,Ke=null;return m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(P=m.onUncaughtError),m.onCaughtError!==void 0&&(se=m.onCaughtError),m.onRecoverableError!==void 0&&(pe=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(_e=m.unstable_transitionCallbacks),m.formState!==void 0&&(Ke=m.formState)),d=jE(l,1,!0,d,m??null,w,T,P,se,pe,_e,Ke),d.context=OE(null),m=d.current,w=Fi(),w=Hs(w),T=nt(w),T.callback=null,At(m,T,w),m=w,d.current.lanes=m,Ca(d,m),jl(d),l[Tn]=d.current,U2(l),new Pg(d)},Yh.version="19.1.1",Yh}var sS;function HR(){if(sS)return ew.exports;sS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ew.exports=QR(),ew.exports}var VR=HR();const GR=wC(VR),zR=()=>{};var iS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},KR=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[r++];t[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[r++],i=e[r++],o=e[r++],c=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const s=e[r++],i=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63)}}return t.join("")},Uk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const s=e[a],i=a+1<e.length,o=i?e[a+1]:0,c=a+2<e.length,u=c?e[a+2]:0,f=s>>2,h=(s&3)<<4|o>>4;let p=(o&15)<<2|u>>6,g=u&63;c||(g=64,i||(p=64)),n.push(r[f],r[h],r[p],r[g])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ik(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):KR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const s=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const u=a<e.length?r[e.charAt(a)]:64;++a;const h=a<e.length?r[e.charAt(a)]:64;if(++a,s==null||o==null||u==null||h==null)throw new qR;const p=s<<2|o>>4;if(n.push(p),u!==64){const g=o<<4&240|u>>2;if(n.push(g),h!==64){const b=u<<6&192|h;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class qR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WR=function(e){const t=Ik(e);return Uk.encodeByteArray(t,!0)},Dk=function(e){return WR(e).replace(/\./g,"")},Lk=function(e){try{return Uk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>$R().__FIREBASE_DEFAULTS__,JR=()=>{if(typeof process>"u"||typeof iS>"u")return;const e=iS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},XR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Lk(e[1]);return t&&JSON.parse(t)},yC=()=>{try{return zR()||YR()||JR()||XR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ZR=e=>{var t,r;return(r=(t=yC())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},Rk=()=>{var e;return(e=yC())==null?void 0:e.config},Mk=e=>{var t;return(t=yC())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tM(e){return(await fetch(e,{credentials:"include"})).ok}const _m={};function rM(){const e={prod:[],emulator:[]};for(const t of Object.keys(_m))_m[t]?e.emulator.push(t):e.prod.push(t);return e}function nM(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let oS=!1;function aM(e,t){if(typeof window>"u"||typeof document>"u"||!iv(window.location.host)||_m[e]===t||_m[e]||oS)return;_m[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",s=rM().prod.length>0;function i(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{oS=!0,i()},p}function f(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=nM(n),g=r("text"),b=document.getElementById(g)||document.createElement("span"),y=r("learnmore"),E=document.getElementById(y)||document.createElement("a"),S=r("preprendIcon"),N=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const B=p.element;o(B),f(E,y);const _=u();c(N,S),B.append(N,b,E,_),document.body.appendChild(B)}s?(b.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ei())}function iM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oM(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function lM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cM(){const e=ei();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function AM(){try{return typeof indexedDB=="object"}catch{return!1}}function uM(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;t(((s=a.error)==null?void 0:s.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="FirebaseError";class ku extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=dM,Object.setPrototypeOf(this,ku.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cp.prototype.create)}}class Cp{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,s=this.errors[t],i=s?fM(s,n):"Error",o=`${this.serviceName}: ${i} (${a}).`;return new ku(a,o,n)}}function fM(e,t){return e.replace(hM,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const hM=/\{\$([^}]+)}/g;function mM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function O0(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const s=e[a],i=t[a];if(lS(s)&&lS(i)){if(!O0(s,i))return!1}else if(s!==i)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function lS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function um(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(s)}}),t}function dm(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function pM(e,t){const r=new gM(e,t);return r.subscribe.bind(r)}class gM{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");xM(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=aw),a.error===void 0&&(a.error=aw),a.complete===void 0&&(a.complete=aw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xM(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function aw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(e){return e&&e._delegate?e._delegate:e}class Q0{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vM=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new eM;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yM(t))try{this.getOrInitializeService({instanceIdentifier:xd})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(t=xd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xd){return this.instances.has(t)}getOptions(t=xd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&i.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const s=this.instances.get(n);return s&&t(s,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wM(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=xd){return this.component?this.component.multipleInstances?t:xd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wM(e){return e===xd?void 0:e}function yM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new vM(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(bn||(bn={}));const CM={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},EM=bn.INFO,SM={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},BM=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=SM[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let Pk=class{constructor(t){this.name=t,this._logLevel=EM,this._logHandler=BM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in bn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...t),this._logHandler(this,bn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...t),this._logHandler(this,bn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,bn.INFO,...t),this._logHandler(this,bn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,bn.WARN,...t),this._logHandler(this,bn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...t),this._logHandler(this,bn.ERROR,...t)}};const NM=(e,t)=>t.some(r=>e instanceof r);let cS,AS;function _M(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TM(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jk=new WeakMap,Py=new WeakMap,Ok=new WeakMap,sw=new WeakMap,bC=new WeakMap;function kM(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{r(mu(e.result)),a()},i=()=>{n(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(r=>{r instanceof IDBCursor&&jk.set(r,e)}).catch(()=>{}),bC.set(t,e),t}function FM(e){if(Py.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{r(),a()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Py.set(e,t)}let jy={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Py.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ok.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return mu(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function IM(e){jy=e(jy)}function UM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(iw(this),t,...r);return Ok.set(n,t.sort?t.sort():[t]),mu(n)}:TM().includes(e)?function(...t){return e.apply(iw(this),t),mu(jk.get(this))}:function(...t){return mu(e.apply(iw(this),t))}}function DM(e){return typeof e=="function"?UM(e):(e instanceof IDBTransaction&&FM(e),NM(e,_M())?new Proxy(e,jy):e)}function mu(e){if(e instanceof IDBRequest)return kM(e);if(sw.has(e))return sw.get(e);const t=DM(e);return t!==e&&(sw.set(e,t),bC.set(t,e)),t}const iw=e=>bC.get(e);function LM(e,t,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const i=indexedDB.open(e,t),o=mu(i);return n&&i.addEventListener("upgradeneeded",c=>{n(mu(i.result),c.oldVersion,c.newVersion,mu(i.transaction),c)}),r&&i.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const RM=["get","getKey","getAll","getAllKeys","count"],MM=["put","add","delete","clear"],ow=new Map;function uS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ow.get(t))return ow.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=MM.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||RM.includes(r)))return;const s=async function(i,...o){const c=this.transaction(i,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),a&&c.done]))[0]};return ow.set(t,s),s}IM(e=>({...e,get:(t,r,n)=>uS(t,r)||e.get(t,r,n),has:(t,r)=>!!uS(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(jM(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function jM(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Oy="@firebase/app",dS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Pk("@firebase/app"),OM="@firebase/app-compat",QM="@firebase/analytics-compat",HM="@firebase/analytics",VM="@firebase/app-check-compat",GM="@firebase/app-check",zM="@firebase/auth",KM="@firebase/auth-compat",qM="@firebase/database",WM="@firebase/data-connect",$M="@firebase/database-compat",YM="@firebase/functions",JM="@firebase/functions-compat",XM="@firebase/installations",ZM="@firebase/installations-compat",e7="@firebase/messaging",t7="@firebase/messaging-compat",r7="@firebase/performance",n7="@firebase/performance-compat",a7="@firebase/remote-config",s7="@firebase/remote-config-compat",i7="@firebase/storage",o7="@firebase/storage-compat",l7="@firebase/firestore",c7="@firebase/ai",A7="@firebase/firestore-compat",u7="firebase",d7="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="[DEFAULT]",f7={[Oy]:"fire-core",[OM]:"fire-core-compat",[HM]:"fire-analytics",[QM]:"fire-analytics-compat",[GM]:"fire-app-check",[VM]:"fire-app-check-compat",[zM]:"fire-auth",[KM]:"fire-auth-compat",[qM]:"fire-rtdb",[WM]:"fire-data-connect",[$M]:"fire-rtdb-compat",[YM]:"fire-fn",[JM]:"fire-fn-compat",[XM]:"fire-iid",[ZM]:"fire-iid-compat",[e7]:"fire-fcm",[t7]:"fire-fcm-compat",[r7]:"fire-perf",[n7]:"fire-perf-compat",[a7]:"fire-rc",[s7]:"fire-rc-compat",[i7]:"fire-gcs",[o7]:"fire-gcs-compat",[l7]:"fire-fst",[A7]:"fire-fst-compat",[c7]:"fire-vertex","fire-js":"fire-js",[u7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Map,h7=new Map,Hy=new Map;function fS(e,t){try{e.container.addComponent(t)}catch(r){Kc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Km(e){const t=e.name;if(Hy.has(t))return Kc.debug(`There were multiple attempts to register component ${t}.`),!1;Hy.set(t,e);for(const r of o1.values())fS(r,e);for(const r of h7.values())fS(r,e);return!0}function Qk(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function ql(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pu=new Cp("app","Firebase",m7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Q0("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=d7;function Hk(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Qy,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw pu.create("bad-app-name",{appName:String(a)});if(r||(r=Rk()),!r)throw pu.create("no-options");const s=o1.get(a);if(s){if(O0(r,s.options)&&O0(n,s.config))return s;throw pu.create("duplicate-app",{appName:a})}const i=new bM(a);for(const c of Hy.values())i.addComponent(c);const o=new p7(r,n,i);return o1.set(a,o),o}function g7(e=Qy){const t=o1.get(e);if(!t&&e===Qy&&Rk())return Hk();if(!t)throw pu.create("no-app",{appName:e});return t}function v0(e,t,r){let n=f7[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const i=[`Unable to register library "${n}" with version "${t}":`];a&&i.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&s&&i.push("and"),s&&i.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kc.warn(i.join(" "));return}Km(new Q0(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7="firebase-heartbeat-database",v7=1,qm="firebase-heartbeat-store";let lw=null;function Vk(){return lw||(lw=LM(x7,v7,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(qm)}catch(r){console.warn(r)}}}}).catch(e=>{throw pu.create("idb-open",{originalErrorMessage:e.message})})),lw}async function w7(e){try{const r=(await Vk()).transaction(qm),n=await r.objectStore(qm).get(Gk(e));return await r.done,n}catch(t){if(t instanceof ku)Kc.warn(t.message);else{const r=pu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Kc.warn(r.message)}}}async function hS(e,t){try{const n=(await Vk()).transaction(qm,"readwrite");await n.objectStore(qm).put(t,Gk(e)),await n.done}catch(r){if(r instanceof ku)Kc.warn(r.message);else{const n=pu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Kc.warn(n.message)}}}function Gk(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=1024,b7=30;class C7{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new S7(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mS();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>b7){const i=B7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Kc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=mS(),{heartbeatsToSend:n,unsentEntries:a}=E7(this._heartbeatsCache.heartbeats),s=Dk(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Kc.warn(r),""}}}function mS(){return new Date().toISOString().substring(0,10)}function E7(e,t=y7){const r=[];let n=e.slice();for(const a of e){const s=r.find(i=>i.agent===a.agent);if(s){if(s.dates.push(a.date),pS(r)>t){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),pS(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class S7{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AM()?uM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await w7(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return hS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return hS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function pS(e){return Dk(JSON.stringify({version:2,heartbeats:e})).length}function B7(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(e){Km(new Q0("platform-logger",t=>new PM(t),"PRIVATE")),Km(new Q0("heartbeat",t=>new C7(t),"PRIVATE")),v0(Oy,dS,e),v0(Oy,dS,"esm2020"),v0("fire-js","")}N7("");function zk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _7=zk,Kk=new Cp("auth","Firebase",zk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Pk("@firebase/auth");function T7(e,...t){l1.logLevel<=bn.WARN&&l1.warn(`Auth (${Sp}): ${e}`,...t)}function Qx(e,...t){l1.logLevel<=bn.ERROR&&l1.error(`Auth (${Sp}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(e,...t){throw CC(e,...t)}function Yl(e,...t){return CC(e,...t)}function qk(e,t,r){const n={..._7(),[t]:r};return new Cp("auth","Firebase",n).create(t,{appName:e.name})}function gu(e){return qk(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CC(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return Kk.create(e,...t)}function ir(e,t,...r){if(!e)throw CC(t,...r)}function Mc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qx(t),new Error(t)}function qc(e,t){e||Mc(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function k7(){return gS()==="http:"||gS()==="https:"}function gS(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k7()||oM()||"connection"in navigator)?navigator.onLine:!0}function I7(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,r){this.shortDelay=t,this.longDelay=r,qc(r>t,"Short delay should be less than long delay!"),this.isMobile=sM()||lM()}get(){return F7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(e,t){qc(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L7=new Bp(3e4,6e4);function Wd(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Fu(e,t,r,n,a={}){return $k(e,a,async()=>{let s={},i={};n&&(t==="GET"?i=n:s={body:JSON.stringify(n)});const o=Ep({key:e.config.apiKey,...i}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:c,...s};return iM()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&iv(e.emulatorConfig.host)&&(u.credentials="include"),Wk.fetch()(await Yk(e,e.config.apiHost,r,o),u)})}async function $k(e,t,r){e._canInitEmulator=!1;const n={...U7,...t};try{const a=new M7(e),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Og(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const o=s.ok?i.errorMessage:i.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Og(e,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw Og(e,"email-already-in-use",i);if(c==="USER_DISABLED")throw Og(e,"user-disabled",i);const f=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qk(e,f,u);al(e,f)}}catch(a){if(a instanceof ku)throw a;al(e,"network-request-failed",{message:String(a)})}}async function ov(e,t,r,n,a={}){const s=await Fu(e,t,r,n,a);return"mfaPendingCredential"in s&&al(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Yk(e,t,r,n){const a=`${t}${r}?${n}`,s=e,i=s.config.emulator?EC(e.config,a):`${e.config.apiScheme}://${a}`;return D7.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(i).toString():i}function R7(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Yl(this.auth,"network-request-failed")),L7.get())})}}function Og(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Yl(e,t,n);return a.customData._tokenResponse=r,a}function xS(e){return e!==void 0&&e.enterprise!==void 0}class P7{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return R7(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j7(e,t){return Fu(e,"GET","/v2/recaptchaConfig",Wd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(e,t){return Fu(e,"POST","/v1/accounts:delete",t)}async function c1(e,t){return Fu(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Q7(e,t=!1){const r=Zc(e),n=await r.getIdToken(t),a=SC(n);ir(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:a,token:n,authTime:Tm(cw(a.auth_time)),issuedAtTime:Tm(cw(a.iat)),expirationTime:Tm(cw(a.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cw(e){return Number(e)*1e3}function SC(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return Qx("JWT malformed, contained fewer than 3 sections"),null;try{const a=Lk(r);return a?JSON.parse(a):(Qx("Failed to decode base64 JWT payload"),null)}catch(a){return Qx("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function vS(e){const t=SC(e);return ir(t,"internal-error"),ir(typeof t.exp<"u","internal-error"),ir(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof ku&&H7(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function H7({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tm(this.lastLoginAt),this.creationTime=Tm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(e){var h;const t=e.auth,r=await e.getIdToken(),n=await Wm(e,c1(t,{idToken:r}));ir(n==null?void 0:n.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const s=(h=a.providerUserInfo)!=null&&h.length?Jk(a.providerUserInfo):[],i=z7(e.providerData,s),o=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(i!=null&&i.length),u=o?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new Gy(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,f)}async function G7(e){const t=Zc(e);await A1(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function z7(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function Jk(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(e,t){const r=await $k(e,{},async()=>{const n=Ep({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:s}=e.config,i=await Yk(e,a,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:n};return e.emulatorConfig&&iv(e.emulatorConfig.host)&&(c.credentials="include"),Wk.fetch()(i,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function q7(e,t){return Fu(e,"POST","/v2/accounts:revokeToken",Wd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ir(t.idToken,"internal-error"),ir(typeof t.idToken<"u","internal-error"),ir(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):vS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){ir(t.length!==0,"internal-error");const r=vS(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ir(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await K7(t,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,i=new w0;return n&&(ir(typeof n=="string","internal-error",{appName:t}),i.refreshToken=n),a&&(ir(typeof a=="string","internal-error",{appName:t}),i.accessToken=a),s&&(ir(typeof s=="number","internal-error",{appName:t}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new w0,this.toJSON())}_performRefresh(){return Mc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(e,t){ir(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Xo{constructor({uid:t,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new V7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await Wm(this,this.stsTokenManager.getToken(this.auth,t));return ir(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return Q7(this,t)}reload(){return G7(this)}_assign(t){this!==t&&(ir(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Xo({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){ir(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await A1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ql(this.auth.app))return Promise.reject(gu(this.auth));const t=await this.getIdToken();return await Wm(this,O7(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,a=r.email??void 0,s=r.phoneNumber??void 0,i=r.photoURL??void 0,o=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:b,stsTokenManager:y}=r;ir(h&&y,t,"internal-error");const E=w0.fromJSON(this.name,y);ir(typeof h=="string",t,"internal-error"),qA(n,t.name),qA(a,t.name),ir(typeof p=="boolean",t,"internal-error"),ir(typeof g=="boolean",t,"internal-error"),qA(s,t.name),qA(i,t.name),qA(o,t.name),qA(c,t.name),qA(u,t.name),qA(f,t.name);const S=new Xo({uid:h,auth:t,email:a,emailVerified:p,displayName:n,isAnonymous:g,photoURL:i,phoneNumber:s,tenantId:o,stsTokenManager:E,createdAt:u,lastLoginAt:f});return b&&Array.isArray(b)&&(S.providerData=b.map(N=>({...N}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(t,r,n=!1){const a=new w0;a.updateFromServerResponse(r);const s=new Xo({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await A1(s),s}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];ir(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?Jk(a.providerUserInfo):[],i=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),o=new w0;o.updateFromIdToken(n);const c=new Xo({uid:a.localId,auth:t,stsTokenManager:o,isAnonymous:i}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Gy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new Map;function Pc(e){qc(e instanceof Function,"Expected a class definition");let t=wS.get(e);return t?(qc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}Xk.type="NONE";const yS=Xk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(e,t,r){return`firebase:${e}:${t}:${r}`}class y0{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=Hx(this.userKey,a.apiKey,s),this.fullPersistenceKey=Hx("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await c1(this.auth,{idToken:t}).catch(()=>{});return r?Xo._fromGetAccountInfoResponse(this.auth,r,t):null}return Xo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new y0(Pc(yS),t,n);const a=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=a[0]||Pc(yS);const i=Hx(n,t.config.apiKey,t.name);let o=null;for(const u of r)try{const f=await u._get(i);if(f){let h;if(typeof f=="string"){const p=await c1(t,{idToken:f}).catch(()=>{});if(!p)break;h=await Xo._fromGetAccountInfoResponse(t,p,f)}else h=Xo._fromJSON(t,f);u!==s&&(o=h),s=u;break}}catch{}const c=a.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new y0(s,t,n):(s=c[0],o&&await s._set(i,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(i)}catch{}})),new y0(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rF(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aF(t))return"Blackberry";if(sF(t))return"Webos";if(eF(t))return"Safari";if((t.includes("chrome/")||tF(t))&&!t.includes("edge/"))return"Chrome";if(nF(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Zk(e=ei()){return/firefox\//i.test(e)}function eF(e=ei()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tF(e=ei()){return/crios\//i.test(e)}function rF(e=ei()){return/iemobile/i.test(e)}function nF(e=ei()){return/android/i.test(e)}function aF(e=ei()){return/blackberry/i.test(e)}function sF(e=ei()){return/webos/i.test(e)}function BC(e=ei()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function W7(e=ei()){var t;return BC(e)&&!!((t=window.navigator)!=null&&t.standalone)}function $7(){return cM()&&document.documentMode===10}function iF(e=ei()){return BC(e)||nF(e)||sF(e)||aF(e)||/windows phone/i.test(e)||rF(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(e,t=[]){let r;switch(e){case"Browser":r=bS(ei());break;case"Worker":r=`${bS(ei())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Sp}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=s=>new Promise((i,o)=>{try{const c=t(s);i(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(e,t={}){return Fu(e,"GET","/v2/passwordPolicy",Wd(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=6;class Z7{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??X7,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CS(this),this.idTokenSubscription=new CS(this),this.beforeStateQueue=new Y7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Pc(r)),this._initializationPromise=this.queue(async()=>{var n,a,s;if(!this._deleted&&(this.persistenceManager=await y0.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await c1(this,{idToken:t}),n=await Xo._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(ql(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!i||i===o)&&(c!=null&&c.user)&&(n=c.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ir(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await A1(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=I7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ql(this.app))return Promise.reject(gu(this));const r=t?Zc(t):null;return r&&ir(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&ir(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ql(this.app)?Promise.reject(gu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ql(this.app)?Promise.reject(gu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pc(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await J7(this),r=new Z7(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Cp("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await q7(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Pc(t)||this._popupRedirectResolver;ir(r,this,"argument-error"),this.redirectPersistenceManager=await y0.create(this,[Pc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ir(o,this,"internal-error"),o.then(()=>{i||s(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,a);return()=>{i=!0,c()}}else{const c=t.addObserver(r);return()=>{i=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ir(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(ql(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&T7(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Y0(e){return Zc(e)}class CS{constructor(t){this.auth=t,this.observer=null,this.addObserver=pM(r=>this.observer=r)}get next(){return ir(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tP(e){lv=e}function lF(e){return lv.loadJS(e)}function rP(){return lv.recaptchaEnterpriseScript}function nP(){return lv.gapiScript}function aP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class sP{constructor(){this.enterprise=new iP}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class iP{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const oP="recaptcha-enterprise",cF="NO_RECAPTCHA";class lP{constructor(t){this.type=oP,this.auth=Y0(t)}async verify(t="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(i,o)=>{j7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new P7(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,i(u.siteKey)}}).catch(c=>{o(c)})})}function a(s,i,o){const c=window.grecaptcha;xS(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:t}).then(u=>{i(u)}).catch(()=>{i(cF)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sP().execute("siteKey",{action:"verify"}):new Promise((s,i)=>{n(this.auth).then(o=>{if(!r&&xS(window.grecaptcha))a(o,s,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let c=rP();c.length!==0&&(c+=o),lF(c).then(()=>{a(o,s,i)}).catch(u=>{i(u)})}}).catch(o=>{i(o)})})}}async function ES(e,t,r,n=!1,a=!1){const s=new lP(e);let i;if(a)i=cF;else try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function SS(e,t,r,n,a){var s;if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ES(e,t,r,r==="getOobCode");return n(e,i)}else return n(e,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ES(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(e,t){const r=Qk(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(O0(s,t??{}))return a;al(a,"already-initialized")}return r.initialize({options:t})}function AP(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Pc);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function uP(e,t,r){const n=Y0(e);ir(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,s=AF(t),{host:i,port:o}=dP(t),c=o===null?"":`:${o}`,u={url:`${s}//${i}${c}/`},f=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){ir(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ir(O0(u,n.config.emulator)&&O0(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,iv(i)?(tM(`${s}//${i}${c}`),aM("Auth",!0)):fP()}function AF(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dP(e){const t=AF(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:BS(n.substr(s.length+1))}}else{const[s,i]=n.split(":");return{host:s,port:BS(i)}}}function BS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function fP(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Mc("not implemented")}_getIdTokenResponse(t){return Mc("not implemented")}_linkToIdToken(t,r){return Mc("not implemented")}_getReauthenticationResolver(t){return Mc("not implemented")}}async function hP(e,t){return Fu(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(e,t){return ov(e,"POST","/v1/accounts:signInWithPassword",Wd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(e,t){return ov(e,"POST","/v1/accounts:signInWithEmailLink",Wd(e,t))}async function gP(e,t){return ov(e,"POST","/v1/accounts:signInWithEmailLink",Wd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends NC{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new $m(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new $m(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SS(t,r,"signInWithPassword",mP);case"emailLink":return pP(t,{email:this._email,oobCode:this._password});default:al(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SS(t,n,"signUpPassword",hP);case"emailLink":return gP(t,{idToken:r,email:this._email,oobCode:this._password});default:al(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(e,t){return ov(e,"POST","/v1/accounts:signInWithIdp",Wd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="http://localhost";class Pd extends NC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Pd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):al("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a,...s}=r;if(!n||!a)return null;const i=new Pd(n,a);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(t){const r=this.buildRequest();return b0(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,b0(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,b0(t,r)}buildRequest(){const t={requestUri:xP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Ep(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wP(e){const t=um(dm(e)).link,r=t?um(dm(t)).deep_link_id:null,n=um(dm(e)).deep_link_id;return(n?um(dm(n)).link:null)||n||r||t||e}class _C{constructor(t){const r=um(dm(t)),n=r.apiKey??null,a=r.oobCode??null,s=vP(r.mode??null);ir(n&&a&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=wP(t);try{return new _C(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.providerId=J0.PROVIDER_ID}static credential(t,r){return $m._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=_C.parseLink(r);return ir(n,"argument-error"),$m._fromEmailAndCode(t,n.code,n.tenantId)}}J0.PROVIDER_ID="password";J0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";J0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends uF{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Np{constructor(){super("facebook.com")}static credential(t){return Pd._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return au.credentialFromTaggedObject(t)}static credentialFromError(t){return au.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return au.credential(t.oauthAccessToken)}catch{return null}}}au.FACEBOOK_SIGN_IN_METHOD="facebook.com";au.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Np{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Pd._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return su.credentialFromTaggedObject(t)}static credentialFromError(t){return su.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return su.credential(r,n)}catch{return null}}}su.GOOGLE_SIGN_IN_METHOD="google.com";su.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Np{constructor(){super("github.com")}static credential(t){return Pd._fromParams({providerId:iu.PROVIDER_ID,signInMethod:iu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return iu.credentialFromTaggedObject(t)}static credentialFromError(t){return iu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return iu.credential(t.oauthAccessToken)}catch{return null}}}iu.GITHUB_SIGN_IN_METHOD="github.com";iu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Np{constructor(){super("twitter.com")}static credential(t,r){return Pd._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return ou.credentialFromTaggedObject(t)}static credentialFromError(t){return ou.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return ou.credential(r,n)}catch{return null}}}ou.TWITTER_SIGN_IN_METHOD="twitter.com";ou.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const s=await Xo._fromIdTokenResponse(t,n,a),i=NS(n);return new H0({user:s,providerId:i,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=NS(n);return new H0({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function NS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends ku{constructor(t,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,u1.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new u1(t,r,n,a)}}function dF(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?u1._fromErrorAndOperation(e,s,t,n):s})}async function yP(e,t,r=!1){const n=await Wm(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return H0._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(e,t,r=!1){const{auth:n}=e;if(ql(n.app))return Promise.reject(gu(n));const a="reauthenticate";try{const s=await Wm(e,dF(n,a,t,e),r);ir(s.idToken,n,"internal-error");const i=SC(s.idToken);ir(i,n,"internal-error");const{sub:o}=i;return ir(e.uid===o,n,"user-mismatch"),H0._forOperation(e,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&al(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(e,t,r=!1){if(ql(e.app))return Promise.reject(gu(e));const n="signIn",a=await dF(e,n,t),s=await H0._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(s.user),s}async function CP(e,t){return fF(Y0(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(e){const t=Y0(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function SP(e,t,r){return ql(e.app)?Promise.reject(gu(e)):CP(Zc(e),J0.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&EP(e),n})}function BP(e,t,r,n){return Zc(e).onIdTokenChanged(t,r,n)}function NP(e,t,r){return Zc(e).beforeAuthStateChanged(t,r)}function _P(e,t,r,n){return Zc(e).onAuthStateChanged(t,r,n)}function TP(e){return Zc(e).signOut()}const d1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(d1,"1"),this.storage.removeItem(d1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=1e3,FP=10;class mF extends hF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((i,o,c)=>{this.notifyListeners(i,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const i=this.storage.getItem(n);!r&&this.localCache[n]===i||this.notifyListeners(n,i)},s=this.storage.getItem(n);$7()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,FP):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},kP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}mF.type="LOCAL";const IP=mF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF extends hF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}pF.type="SESSION";const gF=pF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new cv(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:s}=r.data,i=this.handlersMap[a];if(!(i!=null&&i.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(i).map(async u=>u(r.origin,s)),c=await UP(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,i;return new Promise((o,c)=>{const u=TC("",20);a.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},n);i={messageChannel:a,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(){return window}function LP(e){Jl().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(){return typeof Jl().WorkerGlobalScope<"u"&&typeof Jl().importScripts=="function"}async function RP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MP(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function PP(){return xF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="firebaseLocalStorageDb",jP=1,f1="firebaseLocalStorage",wF="fbase_key";class _p{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Av(e,t){return e.transaction([f1],t?"readwrite":"readonly").objectStore(f1)}function OP(){const e=indexedDB.deleteDatabase(vF);return new _p(e).toPromise()}function zy(){const e=indexedDB.open(vF,jP);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(f1,{keyPath:wF})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(f1)?t(n):(n.close(),await OP(),t(await zy()))})})}async function _S(e,t,r){const n=Av(e,!0).put({[wF]:t,value:r});return new _p(n).toPromise()}async function QP(e,t){const r=Av(e,!1).get(t),n=await new _p(r).toPromise();return n===void 0?null:n.value}function TS(e,t){const r=Av(e,!0).delete(t);return new _p(r).toPromise()}const HP=800,VP=3;class yF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>VP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cv._getInstance(PP()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await RP(),!this.activeServiceWorker)return;this.sender=new DP(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||MP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zy();return await _S(t,d1,"1"),await TS(t,d1),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>_S(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>QP(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>TS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const s=Av(a,!1).getAll();return new _p(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:s}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yF.type="LOCAL";const GP=yF;new Bp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(e,t){return t?Pc(t):(ir(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC extends NC{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return b0(t,this._buildIdpRequest())}_linkToIdToken(t,r){return b0(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return b0(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function KP(e){return fF(e.auth,new kC(e),e.bypassAuthState)}function qP(e){const{auth:t,user:r}=e;return ir(r,t,"internal-error"),bP(r,new kC(e),e.bypassAuthState)}async function WP(e){const{auth:t,user:r}=e;return ir(r,t,"internal-error"),yP(r,new kC(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(t,r,n,a,s=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:i,type:o}=t;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KP;case"linkViaPopup":case"linkViaRedirect":return WP;case"reauthViaPopup":case"reauthViaRedirect":return qP;default:al(this.auth,"internal-error")}}resolve(t){qc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new Bp(2e3,1e4);class f0 extends bF{constructor(t,r,n,a,s){super(t,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,f0.currentPopupAction&&f0.currentPopupAction.cancel(),f0.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ir(t,this.auth,"internal-error"),t}async onExecution(){qc(this.filter.length===1,"Popup operations only handle one event");const t=TC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Yl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Yl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f0.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$P.get())};t()}}f0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="pendingRedirect",Vx=new Map;class JP extends bF{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=Vx.get(this.auth._key());if(!t){try{const n=await XP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}Vx.set(this.auth._key(),t)}return this.bypassAuthState||Vx.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XP(e,t){const r=tj(t),n=ej(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function ZP(e,t){Vx.set(e._key(),t)}function ej(e){return Pc(e._redirectPersistence)}function tj(e){return Hx(YP,e.config.apiKey,e.name)}async function rj(e,t,r=!1){if(ql(e.app))return Promise.reject(gu(e));const n=Y0(e),a=zP(n,t),i=await new JP(n,a,r).execute();return i&&!r&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,t)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=600*1e3;class aj{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sj(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!CF(t)){const a=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Yl(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nj&&this.cachedEventUids.clear(),this.cachedEventUids.has(kS(t))}saveEventToCache(t){this.cachedEventUids.add(kS(t)),this.lastProcessedEventTime=Date.now()}}function kS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function CF({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function sj(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CF(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(e,t={}){return Fu(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lj=/^https?/;async function cj(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ij(e);for(const r of t)try{if(Aj(r))return}catch{}al(e,"unauthorized-domain")}function Aj(e){const t=Vy(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return i.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&i.hostname===n}if(!lj.test(r))return!1;if(oj.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new Bp(3e4,6e4);function FS(){const e=Jl().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function dj(e){return new Promise((t,r)=>{var a,s,i;function n(){FS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{FS(),r(Yl(e,"network-request-failed"))},timeout:uj.get()})}if((s=(a=Jl().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((i=Jl().gapi)!=null&&i.load)n();else{const o=aP("iframefcb");return Jl()[o]=()=>{gapi.load?n():r(Yl(e,"network-request-failed"))},lF(`${nP()}?onload=${o}`).catch(c=>r(c))}}).catch(t=>{throw Gx=null,t})}let Gx=null;function fj(e){return Gx=Gx||dj(e),Gx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new Bp(5e3,15e3),mj="__/auth/iframe",pj="emulator/auth/iframe",gj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vj(e){const t=e.config;ir(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?EC(t,pj):`https://${e.config.authDomain}/${mj}`,n={apiKey:t.apiKey,appName:e.name,v:Sp},a=xj.get(e.config.apiHost);a&&(n.eid=a);const s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Ep(n).slice(1)}`}async function wj(e){const t=await fj(e),r=Jl().gapi;return ir(r,e,"internal-error"),t.open({where:document.body,url:vj(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gj,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const i=Yl(e,"network-request-failed"),o=Jl().setTimeout(()=>{s(i)},hj.get());function c(){Jl().clearTimeout(o),a(n)}n.ping(c).then(c,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bj=500,Cj=600,Ej="_blank",Sj="http://localhost";class IS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bj(e,t,r,n=bj,a=Cj){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c={...yj,width:n.toString(),height:a.toString(),top:s,left:i},u=ei().toLowerCase();r&&(o=tF(u)?Ej:r),Zk(u)&&(t=t||Sj,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[g,b])=>`${p}${g}=${b},`,"");if(W7(u)&&o!=="_self")return Nj(t||"",o),new IS(null);const h=window.open(t||"",o,f);ir(h,e,"popup-blocked");try{h.focus()}catch{}return new IS(h)}function Nj(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="__/auth/handler",Tj="emulator/auth/handler",kj=encodeURIComponent("fac");async function US(e,t,r,n,a,s){ir(e.config.authDomain,e,"auth-domain-config-required"),ir(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Sp,eventId:a};if(t instanceof uF){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",mM(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,h]of Object.entries({}))i[f]=h}if(t instanceof Np){const f=t.getScopes().filter(h=>h!=="");f.length>0&&(i.scopes=f.join(","))}e.tenantId&&(i.tid=e.tenantId);const o=i;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const c=await e._getAppCheckToken(),u=c?`#${kj}=${encodeURIComponent(c)}`:"";return`${Fj(e)}?${Ep(o).slice(1)}${u}`}function Fj({config:e}){return e.emulator?EC(e,Tj):`https://${e.authDomain}/${_j}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="webStorageSupport";class Ij{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gF,this._completeRedirectFn=rj,this._overrideRedirectResult=ZP}async _openPopup(t,r,n,a){var i;qc((i=this.eventManagers[t._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await US(t,r,n,Vy(),a);return Bj(t,s,TC())}async _openRedirect(t,r,n,a){await this._originValidation(t);const s=await US(t,r,n,Vy(),a);return LP(s),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(qc(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await wj(t),n=new aj(t);return r.register("authEvent",a=>(ir(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(Aw,{type:Aw},a=>{var i;const s=(i=a==null?void 0:a[0])==null?void 0:i[Aw];s!==void 0&&r(!!s),al(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=cj(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return iF()||eF()||BC()}}const Uj=Ij;var DS="@firebase/auth",LS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ir(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rj(e){Km(new Q0("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=n.options;ir(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:i,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oF(e)},u=new eP(n,a,s,c);return AP(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Km(new Q0("auth-internal",t=>{const r=Y0(t.getProvider("auth").getImmediate());return(n=>new Dj(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),v0(DS,LS,Lj(e)),v0(DS,LS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=300,Pj=Mk("authIdTokenMaxAge")||Mj;let RS=null;const jj=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Pj)return;const a=r==null?void 0:r.token;RS!==a&&(RS=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Oj(e=g7()){const t=Qk(e,"auth");if(t.isInitialized())return t.getImmediate();const r=cP(e,{popupRedirectResolver:Uj,persistence:[GP,IP,gF]}),n=Mk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const i=jj(s.toString());NP(r,i,()=>i(r.currentUser)),BP(r,o=>i(o))}}const a=ZR("auth");return a&&uP(r,`http://${a}`),r}function Qj(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}tP({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const s=Yl("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",Qj().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rj("Browser");var Hj="firebase",Vj="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */v0(Hj,Vj,"app");const Gj={apiKey:"AIzaSyAfL9dpeLfpWQPg4orpFSh3X5dzXrSsBwc",authDomain:"planificador-145df.firebaseapp.com",projectId:"planificador-145df",storageBucket:"planificador-145df.appspot.com",messagingSenderId:"1022861144167",appId:"1:1022861144167:web:7c277dd701dad5986864c2",measurementId:"G-LKJRFMVC9F"},zj=Hk(Gj),uw=Oj(zj);var Kt=(e=>(e.SUBDIRECCION="Subdirección Pedagógica",e.PROFESORADO="Profesorado",e.COORDINACION_TP="Coordinación Técnico Profesional",e.ESTUDIANTE="Estudiantes",e))(Kt||{}),Sr=(e=>(e.EVALUACION="Evaluación",e.ACTO="Acto",e.ACTIVIDAD_FOCALIZADA="Actividad Focalizada",e.SALIDA_PEDAGOGICA="Salida Pedagógica",e))(Sr||{}),yd=(e=>(e.PRUEBA_PARCIAL="Prueba parcial",e.GUIA_APRENDIZAJE="Guía de Aprendizaje",e.RUBRICA="Rúbrica",e.PAUTA_COTEJO="Pauta de Cotejo",e))(yd||{});const Da="w-6 h-6",uv="w-24 h-24",EF=()=>A.jsxs("svg",{className:"w-32 h-32 text-slate-700 dark:text-slate-300",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6.5A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v13Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M16 4.5V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M9 14V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M12 14V8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Kj=()=>A.jsxs("svg",{className:"w-10 h-10 text-amber-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M9 18h6"}),A.jsx("path",{d:"M10 22h4"}),A.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 3 2 5 2 7h10c0-2 2-4 2-7a7 7 0 0 0-7-7z"})]}),qj=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Wj=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),fm=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),hm=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),SF=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),$j=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:uv,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125z"})}),Yj=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:uv,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),Jj=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:uv,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 010 1.255c-.008.378.137.75.43.99l1.004.828c.421.346.564.95.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.68 6.68 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.68 6.68 0 01-.22-.127c-.325-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.369-.491l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 010-1.255c.008-.378-.137-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Xj=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:uv,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-2.072-1.036A48.257 48.257 0 0112 10.045a48.258 48.258 0 0110.332-1.036l-2.072 1.036m-16.425 0a48.27 48.27 0 00-2.223 2.218c.958.056 1.91.118 2.857.185m16.425 0c.947-.067 1.9-.129 2.857-.185a48.27 48.27 0 00-2.223-2.218m-12.182 0A11.947 11.947 0 0112 8.636a11.947 11.947 0 014.09 1.511"})}),Zj=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),MS=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),Qg=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),dw=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Hg=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),fw=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),PS=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),eO=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})}),tO=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),rO=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),nO=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),jS=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l9-5-9-5-9 5 9 5z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14v6"})]}),aO=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),hw=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m0 18a9 9 0 009-9m-9 9a9 9 0 00-9-9"})}),sO=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:Da,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.528-1.036.94-2.197 1.088-3.386l-.7M11.42 15.17l-1.06-1.06a4.5 4.5 0 01-5.656-5.656l-1.06 1.06c-1.37.66-2.58 1.6-3.58 2.75a4.5 4.5 0 00-1.06 5.656l1.06 1.06c1.15.998 2.52 1.93 3.99 2.58l1.06-1.06a4.5 4.5 0 015.656-5.656l3.032 2.496m-3.582-2.58a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06m-3.032-2.496a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06"})}),iO=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Da,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),OS=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:Da,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-1.125 0-2.25 1.125-2.25 2.25v15c0 1.125 1.125 2.25 2.25 2.25h11.25c1.125 0 2.25-1.125 2.25-2.25v-9.75M10.125 2.25c.621 0 1.125.504 1.125 1.125v3.375c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125v-3.375c0-.621.504-1.125 1.125-1.125h1.5zM17.25 10.5h.375c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125h-.375m0-3.75V6.375c0-.621-.504-1.125-1.125-1.125h-1.5c-.621 0-1.125.504-1.125 1.125v3.375c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-1.5m-6.375 5.25v-1.5c0-.621.504-1.125 1.125-1.125h.375c.621 0 1.125.504 1.125 1.125v1.5m0 3.75V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5m6.375 0V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5"})}),oO=[{id:Kt.SUBDIRECCION,label:"Subdirección Pedagógica",icon:A.jsx($j,{})},{id:Kt.PROFESORADO,label:"Profesorado",icon:A.jsx(Yj,{})},{id:Kt.COORDINACION_TP,label:"Coordinación TP",icon:A.jsx(Jj,{})},{id:Kt.ESTUDIANTE,label:"Estudiantes",icon:A.jsx(Xj,{})}],lO={[Kt.SUBDIRECCION]:[{name:"Dashboard",icon:A.jsx(Zj,{})},{name:"Administración",icon:A.jsx(nO,{})},{name:"Seguimiento Curricular",icon:A.jsx(iO,{})},{name:"Acompañamiento docente",icon:A.jsx(rO,{})},{name:"Análisis Taxonómico",icon:A.jsx(OS,{})},{name:"Interdisciplinario",icon:A.jsx(hw,{})},{name:"Registro de inasistencias y reemplazos docentes",icon:A.jsx(MS,{})},{name:"Crear horarios",icon:A.jsx(dw,{})},{name:"Seguimiento de acciones pedagógicas",icon:A.jsx(Hg,{})},{name:"Inclusión",icon:A.jsx(jS,{})},{name:"Calendario Académico",icon:A.jsx(Qg,{})},{name:"Muro de Anuncios",icon:A.jsx(fm,{})},{name:"Mensajería Interna",icon:A.jsx(hm,{})},{name:"Generador de Actas",icon:A.jsx(fw,{})}],[Kt.PROFESORADO]:[{name:"Planificación",icon:A.jsx(PS,{})},{name:"Mis Acompañamientos",icon:A.jsx(aO,{})},{name:"Recursos de Aprendizaje",icon:A.jsx(eO,{})},{name:"Análisis Taxonómico",icon:A.jsx(OS,{})},{name:"Interdisciplinario",icon:A.jsx(hw,{})},{name:"Inclusión",icon:A.jsx(jS,{})},{name:"Actividades Remotas",icon:A.jsx(tO,{})},{name:"Evaluación de Aprendizajes",icon:A.jsx(fw,{})},{name:"Evaluaciones Formativas",icon:A.jsx(Hg,{})},{name:"Calendario Académico",icon:A.jsx(Qg,{})},{name:"Muro de Anuncios",icon:A.jsx(fm,{})},{name:"Mensajería Interna",icon:A.jsx(hm,{})},{name:"Generador de Actas",icon:A.jsx(MS,{})}],[Kt.COORDINACION_TP]:[{name:"Seguimiento Dual",icon:A.jsx(Hg,{})},{name:"Asistencia Dual",icon:A.jsx(dw,{})},{name:"Pañol",icon:A.jsx(sO,{})},{name:"Calendario Académico",icon:A.jsx(Qg,{})},{name:"Muro de Anuncios",icon:A.jsx(fm,{})},{name:"Mensajería Interna",icon:A.jsx(hm,{})},{name:"Generador de Actas",icon:A.jsx(fw,{})}],[Kt.ESTUDIANTE]:[{name:"Auto-aprendizaje",icon:A.jsx(PS,{})},{name:"Evaluación Formativa",icon:A.jsx(Hg,{})},{name:"Tareas Interdisciplinarias",icon:A.jsx(hw,{})},{name:"Asistencia a Empresa",icon:A.jsx(dw,{})},{name:"Calendario Académico",icon:A.jsx(Qg,{})},{name:"Muro de Anuncios",icon:A.jsx(fm,{})},{name:"Mensajería Interna",icon:A.jsx(hm,{})}]},QS=["Currículum y Evaluación","Convivencia Escolar","Orientación","Gestión Pedagógica General"],Jh=["Pendiente","En Proceso","Cumplida"],h1=["1º Medio","2º Medio","3º Medio","4º Medio"],Oi=["Lengua y Literatura","Matemática","Inglés","Filosofía","Historia y Geografía","Educación Ciudadana","Ciencias","Ciencias para la Ciudadanía","Artes","Música","Educación Física","Orientación","Mecánica Industrial","Mecánica Automotriz","Emprendimiento","Tecnología","Pensamiento Lógico","Competencia Lectora"],wa=["1ºA","1ºB","1ºC","1ºD","1ºE","2ºA","2ºB","2ºC","2ºD","3ºA","3ºB","3ºC","3ºD","4ºA","4ºB","4ºC","4ºD"],Ky=["Juan Pérez","María González","Carlos Soto","Ana Fernández","Luis Rojas","Laura Muñoz","Pedro Castillo","Sofía Reyes","Diego Flores","Valentina Castro"],zx=["Lunes","Martes","Miércoles","Jueves","Viernes"],qy=[{bloque:1,inicio:"08:00",fin:"08:40"},{bloque:2,inicio:"08:40",fin:"09:20"},{bloque:3,inicio:"09:35",fin:"10:15"},{bloque:4,inicio:"10:15",fin:"10:55"},{bloque:5,inicio:"11:10",fin:"11:50"},{bloque:6,inicio:"11:50",fin:"12:30"},{bloque:7,inicio:"12:30",fin:"13:10"},{bloque:8,inicio:"13:10",fin:"13:50"},{bloque:9,inicio:"14:30",fin:"15:10"},{bloque:10,inicio:"15:10",fin:"15:50"},{bloque:11,inicio:"16:00",fin:"16:40"},{bloque:12,inicio:"16:40",fin:"17:20"}],cO={"1º y 2º medio":{"Lengua y Literatura":6,Matemática:6,Inglés:3,"Historia y Geografía":4,"Educación Física":2,Ciencias:4,"Artes/Música":2,Tecnología:2,Orientación:1},"3º y 4º medio (Humanista-Científico)":{"Lengua y Literatura":4,Matemática:4,Inglés:2,"Historia y Geografía":3,"Educación Ciudadana":2,Filosofía:3,"Ciencias para la Ciudadanía":2,"Educación Física":2},"3º y 4º medio (Técnico-Profesional)":{"Lengua y Literatura":2,Matemática:2,Inglés:2,"Historia y Geografía":2,Filosofía:2,"Educación Física":2,"Módulo TP":18}},o0={[Sr.EVALUACION]:{label:"Evaluación",icon:"📝",color:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"},[Sr.ACTO]:{label:"Acto",icon:"🏛️",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"},[Sr.ACTIVIDAD_FOCALIZADA]:{label:"Act. Focalizada",icon:"🎯",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},[Sr.SALIDA_PEDAGOGICA]:{label:"Salida Pedagógica",icon:"🚌",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}},AO=Object.values(yd),mw=["Humanidades","TP","Ciencias","Interdisciplinario","Gestión Pedagógica","Equipo Directivo","Equipo de Gestión","Consejo Escolar"],pw=["Vinculado","Desvinculado","En proceso","Empresa"],Td=["3ºA","3ºB","3ºC","3ºD","4ºA","4ºB","4ºC","4ºD"],uO=["Quiz","Comprensión de Lectura","Términos Pareados","Desarrollo"],m1=["Discapacidad Intelectual Leve","Funcionamiento Intelectual Limítrofe","Trastorno Déficit Atencional (TDA)","Trastorno Déficit Atencional con Hiperactividad (TDAH)","Trastorno del Lenguaje","Dificultad Específica del Aprendizaje","Dificultad Específica de Aprendizaje en Matemáticas","Dificultades de Aprendizaje","Problemas de Idioma y de Escolarización"],p1=[{domain:"Dominio A: Preparación de la Enseñanza",criteria:[{name:"Conocimiento de la disciplina",levels:["Demuestra conocimiento parcial por la disciplina que enseña, evidenciando manejo poco preciso y confuso de los conceptos centrales en los que se articula la clase.","Conoce los principios centrales de la disciplina que enseña, no obstante evidencia falencias en el tratamiento conceptual a la luz de actualizaciones epistemológicas o metodológicas en su área.","Conoce y comprende los principios y conceptos centrales de las disciplinas que enseña, atendiendo a la permanente actualización curricular en su área.","Conoce, comprende y cuestiona los principios centrales de la disciplina que enseña a la luz de nuevos paradigmas epistemológicos o teóricos, permitiendo que el trabajo o la exposición conceptual invite al desarrollo del pensamiento crítico o la investigación continua."]},{name:"Conocimiento de los estudiantes",levels:["No conoce las fortalezas y debilidades de sus estudiantes, evidenciando una planificación o gestión de la clase estándar, sin atender a particularidades.","Conoce las fortalezas y debilidades de sus estudiantes de manera parcial en relación al contexto y características del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que enseña en consonancia con el contexto y características propias del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que enseña en consonancia con el contexto y características propias del medio, siendo capaz de desarrollar diversas explicaciones y/o actividades para un mismo objetivo."]},{name:"Selección de recursos de aprendizaje",levels:["Los recursos de aprendizaje seleccionados demuestran desconocimiento respecto a las características de sus estudiantes y a la relación con el contenido y objetivo de la clase.","Conoce parcialmente distintos recursos didácticos de aprendizaje, siendo congruentes al contenido pero no a las características de sus estudiantes, o bien, siendo pertinentes a sus particularidades pero alejándose de los objetivos y contenidos de la clase.","Conoce y selecciona distintos recursos didácticos de aprendizaje congruentes con la complejidad de los contenidos y las características de sus alumnos.","Conoce y selecciona distintos recursos didácticos de aprendizaje que promueven el desarrollo de habilidades transversales y permiten asegurar la adquisición de aprendizajes profundos, todo en consonancia con las particularidades de sus estudiantes."]},{name:"Estrategias de evaluación",levels:["Establece estrategias de evaluación incongruentes con los contenidos o el desarrollo cognitivo de sus estudiantes, omitiendo además, las metodologías empleadas previamente en clases.","Establece estrategias de evaluación coherentes con los contenidos pero no con la complejidad, o bien, con una complejidad adecuada al desarrollo cognitivo de los estudiantes, pero no necesariamente a los contenidos y objetivos desarrollados previamente en clases.","Establece estrategias de evaluación coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases.","Establece estrategias de evaluación coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases. Dichas estrategias promueven la reflexión, y, la retroalimentación descriptiva."]},{name:"Estrategias de enseñanza-aprendizaje",levels:["*Los docentes establecen estrategias generales de apoyo sin considerar los distintos niveles de dominio de las competencias ni tampoco, las necesidades de los estudiantes","*Los docentes diseñan e implementan estrategias de enseñanza- aprendizaje efectivas, pero sin considerar las competencias involucradas en el perfil de egreso, o los recursos disponibles, o los espacios dentro fuera y del aula.","*Los docentes diseñan e implementan estrategias efectivas de enseñanza-aprendizaje para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula.","*Los docentes diseñan e implementan estrategias avanzadas de enseñanza-aprendizaje tales como (ABP, ABD, Gamificación, Aprendizaje basado en juegos) para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula."]}]},{domain:"Dominio B: Creación de ambiente propicio para el aprendizaje",criteria:[{name:"Clima de respeto y empatía",levels:["Establece un clima centrado exclusivamente en las normas, pero no da cuenta de vínculos fundados en el respeto y/o en la empatía.","Establece un clima de relaciones interpersonales respetuosas y empáticas con la mayoría de sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empáticas con todos sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empáticas con todos sus alumnos, generando situaciones concretas de cooperación y ayuda mutua entre él/ella y los/las estudiantes, o entre los/las propios estudiantes."]},{name:"Interés por las especialidades",levels:["No transmite interés por las especialidades, centrándose exclusivamente en su área de desempeño.","Transmite interés general por las especialidades, no obstante no es capaz de acercarse a las características concretas de los módulos.","Transmite interés por los contenidos y actividades de las asignaturas, módulos y especialidades.","Transmite interés por los contenidos y actividades de las asignaturas, módulos y especialidades, ejemplificando o relacionando de manera concreta, con situaciones reales en dicha área de desempeño."]},{name:"Actitudes de compromiso y solidaridad",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Promueve implícitamente actitudes de compromiso y solidaridad entre los alumnos.","Promueve explícitamente actitudes de compromiso y solidaridad entre los alumnos, a través de estrategias, instrucciones o análisis que tiendan a ello.","Promueve explícitamente actitudes de compromiso y solidaridad entre los alumnos, a través de estrategias, instrucciones o análisis que tiendan a ello, generando experiencias concretas para desarrollar estas habilidades y valores."]},{name:"Situaciones de aprendizaje",levels:["Presenta situaciones de aprendizaje estándar que implican un desarrollo mecánico y que no tienden hacia la consolidación de aprendizajes esperados o no movilizan a los estudiantes.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, no obstante no atiende a sus características personales y/o motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus características personales y motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus características personales y motivacionales, integrando a sus clases actividades que complementan o profundizan aprendizajes en los casos que sean necesarios."]},{name:"Motivación por el aprendizaje",levels:["No transmite motivación por el aprendizaje, la búsqueda o la indagación.","Transmite una motivación positiva por el aprendizaje, no obstante no insta a los estudiantes a indagar o buscar de manera autónoma","Transmite una motivación positiva por el aprendizaje, la indagación y la búsqueda.","Transmite una motivación positiva por el aprendizaje, la indagación y la búsqueda, ejemplificando o comunicando experiencias reales que permitan valorar estas actitudes."]},{name:"Normas de comportamiento",levels:["No establece normas de comportamento para sus estudiantes.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, no obstante, no es sistemático en su cumplimiento.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado, permitiendo altos niveles de participación."]},{name:"Respuestas frente al quiebre de normas",levels:["No genera respuestas frente al quiebre de las normas de convivencia.","Genera respuestas efectivas frente al quiebre de las normas de convivencia, pero debe mejorar la asertividad.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia, que entregan sentido de la importancia de los acuerdos y las normas previamente comunicadas."]}]},{domain:"Dominio C: Enseñanza para el aprendizaje de todos los estudiantes",criteria:[{name:"Presentación de objetivos",levels:["Al iniciar las clases no presenta el objetivo o sólo lo enuncia sin profundizar en él.","Al iniciar las clases presenta el objetivo de aprendizaje y el propósito, pero no logra dar cuenta de la relación con el futuro laboral de los estudiantes o con otras áreas del conocimiento.","Al iniciar las clases presentan el objetivo de aprendizaje, relacionándolo con el propósito que posee desde la disciplina, otras áreas del conocimiento o para su desempeño laboral futuro.","Al iniciar las clases presentan el objetivo de aprendizaje involucrando a los estudiantes a través de la relación con el propósito que posee desde la disciplina, otras áreas del conocimiento o para su desempeño laboral futuro."]},{name:"Clase en función de objetivos",levels:["No realiza su clase en función de los objetivos de aprendizaje estipulados en las bases curriculares, o bien, los incorpora pero sin mantener coherencia con las habilidades, contenidos o competencias del currículum nacional","Realiza sus clases en función de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando sólo uno de los siguientes elementos: desarrollo de competencias, habilidades, conocimientos o actitudes establecidos en el currículum nacional.","Realiza sus clases en función de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currículum nacional.","Realiza sus clases en función de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currículum nacional y en el PEI."]},{name:"Introducción de nueva información",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Los docentes introducen a los estudiantes a nueva información, sin considerar el desarrollo de habilidades y actitudes.","Los docentes introducen a sus estudiantes a nueva información y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos.","Los docentes introducen a sus estudiantes a nueva información y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos y su realidad inmediata."]},{name:"Desarrollo de contenidos",levels:["Desarrolla los contenidos de la clase sin precisión conceptual ni claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual, pero sin una extrapolación que permita entregar claridad a los estudiantes.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad, recurriendo al ejemplo y a la vida cotidiana para anclar el conocimiento."]},{name:"Retroalimentación",levels:["No retroalimenta a los estudiantes","Retroalimentan constantemente a sus estudiantes sólo de modo general.","Retroalimentan constantemente a sus estudiantes sobre su desempeño, de manera individual o grupal.","Retroalimentan constantemente a sus estudiantes sobre su desempeño, de manera individual o grupal, a través de preguntas o instancias que permiten modelar su aprendizaje."]},{name:"Monitoreo del aprendizaje",levels:["No monitorea el grado de comprensión y desempeño de sus estudiantes.","Monitorea parcialmente el grado de comprensión y desempeño de sus estudiantes, no siempre a través de evidencia.","Monitorea constantemente el grado de comprensión y el desempeño de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que están aprendiendo.","Monitorea constantemente y en diferentes instancias el grado de comprensión y el desempeño de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que están aprendiendo."]},{name:"Orientación a objetivos transversales",levels:["No enuncia o enuncia de modo incorrecto elementos ligados hacia los objetivos transversales.","Orienta a sus estudiantes hacia temáticas ligadas a los objetivos transversales, no obstante, la orientación es superficial y no predispone la construcción de valores.","Orienta a sus estudiantes hacia temáticas ligadas a los objetivos transversales del currículum, con el fin de favorecer su proceso de construcción de valores.","Orienta a sus estudiantes hacia temáticas ligadas a los objetivos transversales del currículum, con el fin de favorecer su proceso de construcción de valores en consonancia a elementos propios del PEI."]},{name:"Conclusión de la clase",levels:["El docente concluye la clase sin actividad o reactivo hacia los estudiantes.*","El docente concluye la clase con una explicación que resume los contenidos fundamentales, no obstante, no moviliza acciones en los estudiantes, que permitan activar contenidos.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido. Incorpora además preguntas de metacognición y/o autoevaluación."]},{name:"Abordaje de errores",levels:["No aborda los errores, únicamente los señala.","Aborda los errores no como fracasos, sino que corrige oportunamente, no obstante no entrega nuevas herramientas para construir de mejor forma nuevos aprendizajes.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje a través de estrategias o precisiones claves en virtud de las habilidades o contenidos tratados."]},{name:"Apoyo a todos los estudiantes",levels:["El docente se centra en un grupo objetivo y homogéneo, descuidando la diversidad y las características particulares de todos sus estudiantes.","El docente apoya parcialmente a todos los estudiantes en sus procesos educativos, no obstante no consideran diversas estrategias según nivel de dominio por parte de los estudiantes.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos según el nivel de dominio de las competencias definidas en el perfil de egreso.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos según el nivel de dominio de las competencias definidas en el perfil de egreso y en consonancia con el PEI."]}]}],BF=["Líder de Proyecto","Secretario/a","Encargado/a de Materiales","Expositor/a","Investigador/a","Editor/a"],Vg=[{nombre:"Aprendiz Emergente",emoji:"🌱",promedioMin:1,promedioMax:3.9,mensaje:"¡Estás comenzando tu viaje de aprendizaje! Sigue esforzándote."},{nombre:"Explorador del Conocimiento",emoji:"🧭",promedioMin:4,promedioMax:4.9,mensaje:"¡Buen trabajo! Estás construyendo una base sólida."},{nombre:"Arquitecto de Ideas",emoji:"🏛️",promedioMin:5,promedioMax:5.9,mensaje:"¡Excelente! Demuestras un gran dominio de los temas."},{nombre:"Maestro del Saber",emoji:"🎓",promedioMin:6,promedioMax:6.5,mensaje:"¡Impresionante! Tu dedicación te lleva a la excelencia."},{nombre:"Sabio Luminar",emoji:"🌟",promedioMin:6.6,promedioMax:7,mensaje:"¡Extraordinario! Eres una inspiración para tus compañeros."}],dO=({onLoginAttempt:e,onForgotPasswordRequest:t,error:r})=>{const[n,a]=X.useState(""),[s,i]=X.useState(""),[o,c]=X.useState("login"),u=p=>{p.preventDefault(),e(n,s)},f=p=>{p.preventDefault(),t(n),c("forgot_sent")},h=()=>o==="forgot"?A.jsxs("form",{onSubmit:f,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrónico Registrado"}),A.jsx("div",{className:"mt-1",children:A.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:p=>a(p.target.value),placeholder:"Ingrese su correo",className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm"})})]}),A.jsx("div",{children:A.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700",children:"Enviar Enlace de Recuperación"})}),A.jsx("div",{className:"text-sm text-center",children:A.jsx("button",{type:"button",onClick:()=>c("login"),className:"font-medium text-amber-600 hover:text-amber-500",children:"Volver a Iniciar Sesión"})})]}):o==="forgot_sent"?A.jsxs("div",{className:"text-center",children:[A.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Revise su Correo"}),A.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Si existe una cuenta asociada a ",A.jsx("strong",{children:n}),", hemos enviado un enlace para restablecer su contraseña."]}),A.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"(Para esta simulación, revise la consola del navegador para ver el enlace)."}),A.jsx("button",{type:"button",onClick:()=>{c("login"),a("")},className:"mt-6 font-medium text-amber-600 hover:text-amber-500",children:"← Volver a Iniciar Sesión"})]}):A.jsxs("form",{onSubmit:u,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrónico"}),A.jsx("div",{className:"mt-1",children:A.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:p=>a(p.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contraseña"}),A.jsx("div",{className:"mt-1",children:A.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:p=>i(p.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),r&&A.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:A.jsx("p",{children:r})}),A.jsx("div",{className:"text-sm text-center",children:A.jsx("button",{type:"button",onClick:()=>c("forgot"),className:"font-medium text-amber-600 hover:text-amber-500",children:"¿Olvidó su contraseña?"})}),A.jsx("div",{children:A.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Ingresar"})})]});return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[A.jsxs("div",{className:"text-center mb-10",children:[A.jsx("div",{className:"mb-4 flex justify-center items-center",children:A.jsx(EF,{})}),A.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestión Pedagógica LIR"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:o==="login"?"Bienvenido/a, por favor inicie sesión":"Recuperación de Contraseña"})]}),A.jsx("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:h()}),A.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:["© ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]})},gw=({trigger:e,children:t,onOpen:r})=>{const[n,a]=X.useState(!1),s=X.useRef(null),i=()=>{const c=!n;a(c),c&&r&&r()},o=c=>{s.current&&!s.current.contains(c.target)&&a(!1)};return X.useEffect(()=>(document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}),[]),A.jsxs("div",{className:"relative",ref:s,children:[A.jsx("div",{onClick:i,children:e}),n&&A.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-700 rounded-lg shadow-xl border border-slate-200 dark:border-slate-600 z-50 animate-fade-in-up",onClick:()=>a(!1),children:t})]})},HS="usuariosLiceo",fO=({user:e,onClose:t,onSave:r})=>{const[n,a]=X.useState({nombreCompleto:e.nombreCompleto,email:e.email,fotoUrl:e.fotoUrl||""}),s=o=>{a({...n,[o.target.name]:o.target.value})},i=o=>{o.preventDefault();const c={...e,...n};try{const u=localStorage.getItem(HS);let f=u?JSON.parse(u):[];const h=f.findIndex(p=>p.id===e.id);h>-1?f[h]=c:f.push(c),localStorage.setItem(HS,JSON.stringify(f)),r(c),t()}catch(u){console.error("Failed to save user profile:",u),alert("No se pudo guardar el perfil.")}};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:A.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:o=>o.stopPropagation(),children:A.jsxs("form",{onSubmit:i,children:[A.jsxs("div",{className:"p-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Editar Perfil"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"fotoUrl",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"URL de la Foto de Perfil"}),A.jsx("input",{type:"url",id:"fotoUrl",name:"fotoUrl",value:n.fotoUrl,onChange:s,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"https://ejemplo.com/foto.jpg"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"nombreCompleto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),A.jsx("input",{type:"text",id:"nombreCompleto",name:"nombreCompleto",value:n.nombreCompleto,onChange:s,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Correo Electrónico"}),A.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:s,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Función"}),A.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:e.profile})]})]})]}),A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[A.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Guardar Cambios"})]})]})})})},VS="usuariosLiceo",hO=({user:e,onClose:t,onSave:r})=>{const[n,a]=X.useState(""),[s,i]=X.useState(""),[o,c]=X.useState(null),u=f=>{if(f.preventDefault(),c(null),!n){c("La contraseña no puede estar en blanco.");return}if(n!==s){c("Las contraseñas no coinciden.");return}const h={...e,password:n};try{const p=localStorage.getItem(VS);let g=p?JSON.parse(p):[];const b=g.findIndex(y=>y.id===e.id);b>-1?g[b]=h:g.push(h),localStorage.setItem(VS,JSON.stringify(g)),r(h),t()}catch(p){console.error("Failed to save new password:",p),c("No se pudo guardar la nueva contraseña.")}};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:A.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:f=>f.stopPropagation(),children:A.jsxs("form",{onSubmit:u,children:[A.jsxs("div",{className:"p-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Configuración de Cuenta"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Usuario"}),A.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:e.email})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nueva Contraseña"}),A.jsx("div",{className:"mt-1",children:A.jsx("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:n,onChange:f=>a(f.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Confirmar Nueva Contraseña"}),A.jsx("div",{className:"mt-1",children:A.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:s,onChange:f=>i(f.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),o&&A.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 text-sm",role:"alert",children:A.jsx("p",{children:o})})]})]}),A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[A.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Cambiar Contraseña"})]})]})})})},GS="anunciosMuro",zS="mensajesInternos",KS="lir-read-status",mO=({user:e})=>{if(e.fotoUrl)return A.jsx("img",{src:e.fotoUrl,alt:e.nombreCompleto||"Avatar de usuario",className:"h-9 w-9 rounded-full object-cover"});const t=e.nombreCompleto||"",r=String(t).split(" ").filter(n=>n).map(n=>n[0]).join("").toUpperCase();return A.jsx("div",{className:"h-9 w-9 rounded-full bg-amber-500 text-white flex items-center justify-center font-bold",children:r.substring(0,2)})},pO=({currentUser:e,onLogout:t,onNavigate:r,onUserUpdate:n,onChangeProfile:a,toggleSidebar:s,unreadMessagesCount:i,refreshUnreadCount:o})=>{const[c,u]=X.useState([]),[f,h]=X.useState([]),[p,g]=X.useState(!1),[b,y]=X.useState(!1),E=X.useCallback(()=>{try{const _=localStorage.getItem(`${KS}-${e.id}`);return _?JSON.parse(_):{announcements:[],messages:[]}}catch{return{announcements:[],messages:[]}}},[e.id]),S=X.useCallback(_=>{try{localStorage.setItem(`${KS}-${e.id}`,JSON.stringify(_))}catch(k){console.error("Failed to set read status:",k)}},[e.id]);X.useEffect(()=>{const _=JSON.parse(localStorage.getItem(GS)||"[]"),k=E();u(_.filter(F=>!k.announcements.includes(F.id)));const U=JSON.parse(localStorage.getItem(zS)||"[]");h(U.filter(F=>F.para===e.email).sort((F,L)=>new Date(L.fecha).getTime()-new Date(F.fecha).getTime()).slice(0,5))},[e.id,E,i]);const N=()=>{const _=E(),k=JSON.parse(localStorage.getItem(GS)||"[]").map(U=>U.id);_.announcements=k,S(_),u([])},B=()=>{const _=E(),U=JSON.parse(localStorage.getItem(zS)||"[]").filter(F=>F.para===e.email).map(F=>F.id);_.messages=[...new Set([..._.messages,...U])],S(_),o()};return A.jsxs(A.Fragment,{children:[A.jsx("header",{className:"bg-white shadow-md sticky top-0 z-40 h-16",children:A.jsxs("div",{className:"container mx-auto px-4 h-full flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{className:"text-slate-600 dark:text-slate-300 md:hidden mr-2",onClick:s,children:A.jsx(qj,{})}),A.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r("Dashboard"),children:[A.jsxs("svg",{className:"w-8 h-8 text-slate-700 dark:text-slate-200",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6.5A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v13Z",stroke:"currentColor",strokeWidth:"1.5"}),A.jsx("path",{d:"M16 4.5V17",stroke:"currentColor",strokeWidth:"1.5"})]}),A.jsx("span",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 hidden sm:block",children:"Gestión LIR"})]})]}),A.jsx("div",{className:"flex-1 flex justify-center",children:A.jsx("button",{onClick:()=>r("Calendario Académico"),className:"p-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300",title:"Calendario Académico",children:A.jsx(Wj,{})})}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(gw,{onOpen:N,trigger:A.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Notificaciones",children:[A.jsx(fm,{}),c.length>0&&A.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:c.length})]}),children:A.jsxs("div",{className:"p-2",children:[A.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Anuncios Recientes"}),A.jsxs("ul",{className:"mt-1",children:[c.slice(0,3).map(_=>A.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[A.jsx("p",{className:"font-bold dark:text-slate-200",children:_.titulo}),A.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:_.mensaje})]},_.id)),c.length===0&&A.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay anuncios nuevos."})]}),A.jsx("button",{onClick:()=>r("Muro de Anuncios"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ver todo"})]})}),A.jsx(gw,{onOpen:B,trigger:A.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Mensajes",children:[A.jsx(hm,{}),i>0&&A.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:i})]}),children:A.jsxs("div",{className:"p-2",children:[A.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Mensajes"}),A.jsxs("ul",{className:"mt-1",children:[f.slice(0,3).map(_=>A.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[A.jsxs("p",{className:"font-bold dark:text-slate-200",children:["De: ",_.de]}),A.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:_.asunto})]},_.id)),f.length===0&&A.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay mensajes recientes."})]}),A.jsx("button",{onClick:()=>r("Mensajería Interna"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ir a la bandeja"})]})}),A.jsx(gw,{trigger:A.jsx("button",{className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:A.jsx(mO,{user:e})}),children:A.jsxs("div",{className:"p-2",children:[A.jsxs("div",{className:"px-2 py-2 border-b dark:border-slate-600",children:[A.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:e.nombreCompleto}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.profile})]}),A.jsxs("ul",{className:"mt-2 text-slate-700 dark:text-slate-300",children:[A.jsx("li",{children:A.jsx("button",{onClick:()=>g(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Editar Perfil"})}),A.jsx("li",{children:A.jsx("button",{onClick:()=>y(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Configuración"})}),e.email==="subdi@lir.cl"&&A.jsx("li",{children:A.jsx("button",{onClick:a,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Cambiar Perfil"})}),A.jsx("li",{children:A.jsx("button",{onClick:t,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Cerrar Sesión"})})]})]})})]})]})}),p&&A.jsx(fO,{user:e,onClose:()=>g(!1),onSave:n}),b&&A.jsx(hO,{user:e,onClose:()=>y(!1),onSave:n})]})},gO=Array.from({length:12},(e,t)=>t+1),xO="usuariosLiceo",qS="reemplazosDocentes",WS={docenteAusente:"",asignaturaAusente:"",curso:"",diaAusencia:"",bloquesAfectados:[],docenteReemplazante:"",asignaturaReemplazante:""},vO=({selectedBlocks:e,onChange:t,legend:r})=>A.jsxs("fieldset",{children:[A.jsx("legend",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:r}),A.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:gO.map(n=>A.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded-lg hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-700 transition-colors",children:[A.jsx("input",{type:"checkbox",value:n,checked:e.includes(n),onChange:t,className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500"}),A.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:n})]},n))})]}),wO=()=>{const[e,t]=X.useState(()=>{try{const E=localStorage.getItem(qS);return E?JSON.parse(E):[]}catch(E){return console.error("Error al leer reemplazos de localStorage",E),[]}}),[r,n]=X.useState([]),[a,s]=X.useState(WS),[i,o]=X.useState(""),[c,u]=X.useState(null);X.useEffect(()=>{try{const E=localStorage.getItem(xO);if(E){const N=JSON.parse(E).filter(B=>B.profile===Kt.PROFESORADO).map(B=>B.nombreCompleto).sort();n(N)}}catch(E){console.error("Error al cargar profesores desde localStorage",E)}},[]),X.useEffect(()=>{try{localStorage.setItem(qS,JSON.stringify(e))}catch(E){console.error("Error al guardar reemplazos en localStorage",E)}},[e]);const f=X.useCallback(E=>{const{name:S,value:N}=E.target;s(B=>({...B,[S]:N}))},[]),h=X.useCallback(E=>{const S=parseInt(E.target.value,10);s(N=>{const B=N.bloquesAfectados,_=B.includes(S)?B.filter(k=>k!==S):[...B,S].sort((k,U)=>k-U);return{...N,bloquesAfectados:_}})},[]),p=X.useCallback(E=>{E.preventDefault(),u(null);const{docenteAusente:S,asignaturaAusente:N,curso:B,diaAusencia:_,bloquesAfectados:k,docenteReemplazante:U,asignaturaReemplazante:F}=a;if(!S||!N||!B||!_||!U||!F||k.length===0){u("Todos los campos son obligatorios y debe seleccionar al menos un bloque.");return}const L=N.trim().toLowerCase()===F.trim().toLowerCase()?"Hora realizada":"Hora cubierta, no realizada",D={id:crypto.randomUUID(),...a,resultado:L};t(W=>[D,...W]),s(WS)},[a]),g=X.useCallback(E=>{window.confirm("¿Está seguro de que desea eliminar este registro?")&&t(S=>S.filter(N=>N.id!==E))},[]),b=X.useMemo(()=>{if(!i)return e;const E=i.toLowerCase();return e.filter(S=>S.docenteAusente.toLowerCase().includes(E)||S.docenteReemplazante.toLowerCase().includes(E)||S.diaAusencia.includes(E)||S.curso.toLowerCase().includes(E))},[e,i]),y="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Registro de Inasistencias y Reemplazos"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete el formulario para registrar una nueva suplencia."}),A.jsxs("form",{onSubmit:p,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"space-y-4",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Ausente"}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"docenteAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),A.jsxs("select",{name:"docenteAusente",value:a.docenteAusente,onChange:f,className:y,children:[A.jsx("option",{value:"",children:"Seleccione un docente"}),r.map(E=>A.jsx("option",{value:E,children:E},E))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"asignaturaAusente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),A.jsxs("select",{name:"asignaturaAusente",value:a.asignaturaAusente,onChange:f,className:y,children:[A.jsx("option",{value:"",children:"Seleccione una asignatura"}),Oi.map(E=>A.jsx("option",{value:E,children:E},E))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),A.jsxs("select",{name:"curso",value:a.curso,onChange:f,className:y,children:[A.jsx("option",{value:"",children:"Seleccione un curso"}),wa.map(E=>A.jsx("option",{value:E,children:E},E))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"diaAusencia",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Día Ausencia"}),A.jsx("input",{type:"date",name:"diaAusencia",value:a.diaAusencia,onChange:f,className:y})]}),A.jsx(vO,{legend:"Bloques Afectados",selectedBlocks:a.bloquesAfectados,onChange:h})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2",children:"Docente Reemplazante"}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"docenteReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre"}),A.jsxs("select",{name:"docenteReemplazante",value:a.docenteReemplazante,onChange:f,className:y,children:[A.jsx("option",{value:"",children:"Seleccione un docente"}),r.map(E=>A.jsx("option",{value:E,children:E},E))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"asignaturaReemplazante",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),A.jsxs("select",{name:"asignaturaReemplazante",value:a.asignaturaReemplazante,onChange:f,className:y,children:[A.jsx("option",{value:"",children:"Seleccione una asignatura"}),Oi.map(E=>A.jsx("option",{value:E,children:E},E))]})]})]})]}),c&&A.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:c}),A.jsx("div",{className:"pt-4 text-right",children:A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Registrar Reemplazo"})})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Reemplazos"}),A.jsx("div",{className:"mb-4",children:A.jsx("input",{type:"text",placeholder:"Buscar por docente, curso o fecha (YYYY-MM-DD)...",value:i,onChange:E=>o(E.target.value),className:y+" md:w-1/2"})}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fecha"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Curso"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Ausente"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Docente Reemplazante"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Bloques"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Resultado"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:b.length>0?b.map(E=>A.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:E.diaAusencia}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:E.curso}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[E.docenteAusente,A.jsx("br",{}),A.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:E.asignaturaAusente})]}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:[E.docenteReemplazante,A.jsx("br",{}),A.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:E.asignaturaReemplazante})]}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:E.bloquesAfectados.join(", ")}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:A.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${E.resultado==="Hora realizada"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}`,children:E.resultado})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:A.jsx("button",{onClick:()=>g(E.id),title:"Eliminar registro",className:"p-1 text-red-600 hover:text-red-800 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},E.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No se encontraron registros."})})})]})})]})]})},yO="acompanamientoDocenteRecords",bO="eventosCalendario",CO="acompanamientoDocenteCustomRubrica",Ol=({title:e,value:t,description:r})=>A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700",children:[A.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),A.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:t}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r})]}),pd=({title:e,data:t,colorClass:r,valueFormatter:n=a=>String(a)})=>{const a=X.useMemo(()=>t.map(i=>typeof i.value=="number"?i.value:parseFloat(String(i.value))||0),[t]),s=X.useMemo(()=>Math.max(...a,1),[a]);return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:e}),A.jsx("div",{className:"space-y-4",children:t.length>0?t.sort((i,o)=>(typeof o.value=="number"?o.value:0)-(typeof i.value=="number"?i.value:0)).map((i,o)=>{const c=typeof i.value=="number"?i.value:parseFloat(String(i.value))||0;return A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[A.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:i.label}),A.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:n(i.value)})]}),A.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:A.jsx("div",{className:`${r} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${c/s*100}%`}})})]},i.label+o)}):A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay datos para mostrar."})})]})},EO=()=>{const[e,t]=X.useState([]),[r,n]=X.useState([]),[a,s]=X.useState([]),[i,o]=X.useState(p1);X.useEffect(()=>{const h=()=>{try{const p=localStorage.getItem("reemplazosDocentes");p&&t(JSON.parse(p));const g=localStorage.getItem(yO);g&&n(JSON.parse(g));const b=localStorage.getItem(bO);b&&s(JSON.parse(b));const y=localStorage.getItem(CO);o(y?JSON.parse(y):p1)}catch(p){console.error("Error al leer datos de localStorage para el dashboard",p)}};return h(),window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]);const c=X.useMemo(()=>{const h=e.length;if(h===0)return{totalInasistencias:0,horasRealizadas:0,horasCubiertas:0,tasaCobertura:"0%",inasistenciasPorDocente:[],reemplazosPorDocente:[],distribucionResultados:[],inasistenciasPorCurso:[]};const p=e.filter(B=>B.resultado==="Hora realizada").length,g=h-p,b=`${(p/h*100).toFixed(1)}%`,y=(B,_)=>B.reduce((k,U)=>{const F=U[_];return typeof F=="string"&&(k[F]=(k[F]||0)+1),k},{}),E=y(e,"docenteAusente"),S=y(e,"docenteReemplazante"),N=y(e,"curso");return{totalInasistencias:h,horasRealizadas:p,horasCubiertas:g,tasaCobertura:b,inasistenciasPorDocente:Object.entries(E).map(([B,_])=>({label:B,value:_})),reemplazosPorDocente:Object.entries(S).map(([B,_])=>({label:B,value:_})),inasistenciasPorCurso:Object.entries(N).map(([B,_])=>({label:B,value:_})),distribucionResultados:[{label:"Hora Realizada",value:p},{label:"Hora Cubierta",value:g}]}},[e]),u=X.useMemo(()=>{const h=r.length;if(h===0)return{totalAcompanamientos:0,promedioGeneral:"N/A",desempenoPorDocente:[],desempenoPorDominio:[]};const p=new Map;i.forEach(_=>{_.criteria.forEach(k=>{p.set(k.name,_.domain)})});let g=0,b=0;const y={},E={};r.forEach(_=>{y[_.docente]||(y[_.docente]={total:0,count:0}),Object.entries(_.rubricaResultados).forEach(([k,U])=>{g+=U,b++,y[_.docente].total+=U,y[_.docente].count++;const F=p.get(k);F&&(E[F]||(E[F]={total:0,count:0}),E[F].total+=U,E[F].count++)})});const S=b>0?(g/b).toFixed(2):"N/A",N=Object.entries(y).map(([_,k])=>({label:_,value:k.count>0?(k.total/k.count).toFixed(2):0})),B=Object.entries(E).map(([_,k])=>({label:_,value:k.count>0?(k.total/k.count).toFixed(2):0}));return{totalAcompanamientos:h,promedioGeneral:S,desempenoPorDocente:N,desempenoPorDominio:B}},[r,i]),f=X.useMemo(()=>{const h={[Sr.EVALUACION]:0,[Sr.ACTO]:0,[Sr.ACTIVIDAD_FOCALIZADA]:0,[Sr.SALIDA_PEDAGOGICA]:0};for(const g of a)h.hasOwnProperty(g.type)&&h[g.type]++;const p=Object.entries(h).map(([g,b])=>({label:o0[g].label,value:b}));return{totalEvaluaciones:h[Sr.EVALUACION],totalActos:h[Sr.ACTO],totalActividadesFocalizadas:h[Sr.ACTIVIDAD_FOCALIZADA],totalSalidasPedagogicas:h[Sr.SALIDA_PEDAGOGICA],distribucionEventos:p}},[a]);return c.totalInasistencias===0&&u.totalAcompanamientos===0&&a.length===0?A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[A.jsx("span",{className:"text-6xl mb-4",children:"📊"}),A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Dashboard de Subdirección"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md",children:"Aún no hay datos para mostrar. Comience por añadir registros en los módulos correspondientes (Inasistencias, Acompañamiento, etc)."})]}):A.jsxs("div",{className:"space-y-12 animate-fade-in",children:[c.totalInasistencias>0&&A.jsxs("div",{className:"space-y-8",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Dashboard de Inasistencias"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx(Ol,{title:"Total Inasistencias",value:c.totalInasistencias,description:"Registros totales"}),A.jsx(Ol,{title:"Horas Realizadas",value:c.horasRealizadas,description:"Reemplazo con misma asignatura"}),A.jsx(Ol,{title:"Horas Cubiertas",value:c.horasCubiertas,description:"Reemplazo con otra asignatura"}),A.jsx(Ol,{title:"Tasa de Cobertura Efectiva",value:c.tasaCobertura,description:"% de horas realizadas"})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[A.jsx(pd,{title:"Inasistencias por Docente",data:c.inasistenciasPorDocente,colorClass:"bg-red-400"}),A.jsx(pd,{title:"Reemplazos por Docente",data:c.reemplazosPorDocente,colorClass:"bg-sky-400"}),A.jsx(pd,{title:"Inasistencias por Curso",data:c.inasistenciasPorCurso,colorClass:"bg-amber-400"}),A.jsx(pd,{title:"Distribución de Resultados",data:c.distribucionResultados,colorClass:"bg-green-400"})]})]}),u.totalAcompanamientos>0&&A.jsxs("div",{className:"space-y-8",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Dashboard de Acompañamiento Docente"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx(Ol,{title:"Total Acompañamientos",value:u.totalAcompanamientos,description:"Registros realizados"}),A.jsx(Ol,{title:"Promedio General",value:u.promedioGeneral,description:"Calificación promedio (1-4)"})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[A.jsx(pd,{title:"Desempeño Promedio por Docente",data:u.desempenoPorDocente,colorClass:"bg-indigo-400",valueFormatter:h=>Number(h).toFixed(2)}),A.jsx(pd,{title:"Desempeño Promedio por Dominio",data:u.desempenoPorDominio,colorClass:"bg-teal-400",valueFormatter:h=>Number(h).toFixed(2)})]})]}),a.length>0&&A.jsxs("div",{className:"space-y-8",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Resumen del Calendario Académico"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx(Ol,{title:"Evaluaciones",value:f.totalEvaluaciones,description:"Eventos registrados"}),A.jsx(Ol,{title:"Actos",value:f.totalActos,description:"Eventos registrados"}),A.jsx(Ol,{title:"Act. Focalizadas",value:f.totalActividadesFocalizadas,description:"Eventos registrados"}),A.jsx(Ol,{title:"Salidas Pedagógicas",value:f.totalSalidasPedagogicas,description:"Eventos registrados"})]}),A.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:A.jsx(pd,{title:"Distribución de Eventos del Calendario",data:f.distribucionEventos,colorClass:"bg-violet-400"})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let SO,BO;function NO(){return{geminiUrl:SO,vertexUrl:BO}}function _O(e,t,r,n){var a,s;if(!(e!=null&&e.baseUrl)){const i=NO();return t?(a=i.vertexUrl)!==null&&a!==void 0?a:r:(s=i.geminiUrl)!==null&&s!==void 0?s:n}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $d{}function zt(e,t){const r=/\{([^}]+)\}/g;return e.replace(r,(n,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const s=t[a];return s!=null?String(s):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function v(e,t,r){for(let s=0;s<t.length-1;s++){const i=t[s];if(i.endsWith("[]")){const o=i.slice(0,-2);if(!(o in e))if(Array.isArray(r))e[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${i}`);if(Array.isArray(e[o])){const c=e[o];if(Array.isArray(r))for(let u=0;u<c.length;u++){const f=c[u];v(f,t.slice(s+1),r[u])}else for(const u of c)v(u,t.slice(s+1),r)}return}else if(i.endsWith("[0]")){const o=i.slice(0,-3);o in e||(e[o]=[{}]);const c=e[o];v(c[0],t.slice(s+1),r);return}(!e[i]||typeof e[i]!="object")&&(e[i]={}),e=e[i]}const n=t[t.length-1],a=e[n];if(a!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===a)return;if(typeof a=="object"&&typeof r=="object"&&a!==null&&r!==null)Object.assign(a,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else e[n]=r}function x(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return;const n=t[r];if(n.endsWith("[]")){const a=n.slice(0,-2);if(a in e){const s=e[a];return Array.isArray(s)?s.map(i=>x(i,t.slice(r+1))):void 0}else return}else e=e[n]}return e}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wy(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $S;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($S||($S={}));var YS;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(YS||(YS={}));var xt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(xt||(xt={}));var JS;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(JS||(JS={}));var XS;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(XS||(XS={}));var ZS;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(ZS||(ZS={}));var eB;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(eB||(eB={}));var tB;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(tB||(tB={}));var rB;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(rB||(rB={}));var nB;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(nB||(nB={}));var aB;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(aB||(aB={}));var sB;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(sB||(sB={}));var iB;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(iB||(iB={}));var oB;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oB||(oB={}));var lB;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"})(lB||(lB={}));var cB;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cB||(cB={}));var g1;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(g1||(g1={}));var AB;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(AB||(AB={}));var $y;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($y||($y={}));var uB;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(uB||(uB={}));var dB;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(dB||(dB={}));var fB;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(fB||(fB={}));var hB;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(hB||(hB={}));var mB;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(mB||(mB={}));var pB;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(pB||(pB={}));var gB;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(gB||(gB={}));var xB;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(xB||(xB={}));var vB;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vB||(vB={}));var wB;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wB||(wB={}));var yB;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yB||(yB={}));var bB;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bB||(bB={}));var CB;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(CB||(CB={}));var EB;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(EB||(EB={}));var SB;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(SB||(SB={}));var BB;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(BB||(BB={}));var NB;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(NB||(NB={}));var _B;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_B||(_B={}));var TB;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(TB||(TB={}));var kB;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kB||(kB={}));var FB;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(FB||(FB={}));var IB;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(IB||(IB={}));var h0;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(h0||(h0={}));class Yy{constructor(t){const r={};for(const n of t.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=t}json(){return this.responseInternal.json()}}class Xh{get text(){var t,r,n,a,s,i,o,c;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",f=!1;const h=[];for(const p of(c=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[g,b]of Object.entries(p))g!=="text"&&g!=="thought"&&(b!==null||b!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,u+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var t,r,n,a,s,i,o,c;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const f=[];for(const h of(c=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,r,n,a,s,i,o,c;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,r,n,a,s,i,o,c,u;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(u=f==null?void 0:f[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,r,n,a,s,i,o,c,u;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(u=f==null?void 0:f[0])===null||u===void 0?void 0:u.output}}class UB{}class DB{}class TO{}class kO{}class LB{}class RB{}class MB{}class FO{}class PB{}class jB{}class OB{}class QB{}class IO{}class UO{}class DO{}class HB{}class LO{get text(){var t,r,n;let a="",s=!1;const i=[];for(const o of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,u]of Object.entries(o))c!=="text"&&c!=="thought"&&u!==null&&i.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,a+=o.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?a:void 0}get data(){var t,r,n;let a="";const s=[];for(const i of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,c]of Object.entries(i))o!=="inlineData"&&c!==null&&s.push(o);i.inlineData&&typeof i.inlineData.data=="string"&&(a+=atob(i.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class x1{_fromAPIResponse({apiResponse:t,isVertexAI:r}){const n=new x1;if(n.name=t.name,n.metadata=t.metadata,n.done=t.done,n.error=t.error,r){const a=t.response;if(a){const s=new PB,i=a.videos;s.generatedVideos=i==null?void 0:i.map(o=>({video:{uri:o.gcsUri,videoBytes:o.bytesBase64Encoded?Wy(o.bytesBase64Encoded):void 0,mimeType:o.mimeType}})),s.raiMediaFilteredCount=a.raiMediaFilteredCount,s.raiMediaFilteredReasons=a.raiMediaFilteredReasons,n.response=s}}else{const a=t.response;if(a){const s=new PB,i=a.generateVideoResponse,o=i==null?void 0:i.generatedSamples;s.generatedVideos=o==null?void 0:o.map(c=>{const u=c.video;return{video:{uri:u==null?void 0:u.uri,videoBytes:u!=null&&u.encodedVideo?Wy(u==null?void 0:u.encodedVideo):void 0,mimeType:c.encoding}}}),s.raiMediaFilteredCount=i==null?void 0:i.raiMediaFilteredCount,s.raiMediaFilteredReasons=i==null?void 0:i.raiMediaFilteredReasons,n.response=s}}return n}}class RO{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dn(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const r=t.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function NF(e,t){const r=dn(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function _F(e){return Array.isArray(e)?e.map(t=>v1(t)):[v1(e)]}function v1(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function TF(e){const t=v1(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function kF(e){const t=v1(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function VB(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function FF(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>VB(t)):[VB(e)]}function Jy(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function GB(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function zB(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ms(e){if(e==null)throw new Error("ContentUnion is required");return Jy(e)?e:{role:"user",parts:FF(e)}}function IF(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(r=>{const n=Ms(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(e.isVertexAI()){const r=Ms(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(t)?t.map(r=>Ms(r)):[Ms(t)]}function go(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(GB(e)||zB(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ms(e)]}const t=[],r=[],n=Jy(e[0]);for(const a of e){const s=Jy(a);if(s!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(a);else{if(GB(a)||zB(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(a)}}return n||t.push({role:"user",parts:FF(r)}),t}function MO(e,t){e.includes("null")&&(t.nullable=!0);const r=e.filter(n=>n!=="null");if(r.length===1)t.type=Object.values(xt).includes(r[0].toUpperCase())?r[0].toUpperCase():xt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const n of r)t.anyOf.push({type:Object.values(xt).includes(n.toUpperCase())?n.toUpperCase():xt.TYPE_UNSPECIFIED})}}function C0(e){const t={},r=["items"],n=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&MO(e.type,t);for(const[i,o]of Object.entries(e))if(o!=null)if(i=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;t.type=Object.values(xt).includes(o.toUpperCase())?o.toUpperCase():xt.TYPE_UNSPECIFIED}else if(r.includes(i))t[i]=C0(o);else if(n.includes(i)){const c=[];for(const u of o){if(u.type=="null"){t.nullable=!0;continue}c.push(C0(u))}t[i]=c}else if(a.includes(i)){const c={};for(const[u,f]of Object.entries(o))c[u]=C0(f);t[i]=c}else{if(i==="additionalProperties")continue;t[i]=o}return t}function FC(e){return C0(e)}function IC(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function UC(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function X0(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=C0(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=C0(t.response));return e}function Z0(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of e)t.push(r);return t}function PO(e,t,r,n=1){const a=!t.startsWith(`${r}/`)&&t.split("/").length===n;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${r}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`:t:a?`${r}/${t}`:t}function eA(e,t){if(typeof t!="string")throw new Error("name must be a string");return PO(e,t,"cachedContents")}function UF(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Yd(e){return Wy(e)}function jO(e){return e!=null&&typeof e=="object"&&"name"in e}function OO(e){return e!=null&&typeof e=="object"&&"video"in e}function QO(e){return e!=null&&typeof e=="object"&&"uri"in e}function DF(e){var t;let r;if(jO(e)&&(r=e.name),!(QO(e)&&(r=e.uri,r===void 0))&&!(OO(e)&&(r=(t=e.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const a=r.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${r}`);r=a[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function LF(e,t){let r;return e.isVertexAI()?r=t?"publishers/google/models":"models":r=t?"models":"tunedModels",r}function RF(e){for(const t of["models","tunedModels","publisherModels"])if(HO(e,t))return e[t];return[]}function HO(e,t){return e!==null&&typeof e=="object"&&t in e}function VO(e,t={}){const r=e,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return t.behavior&&(n.behavior=t.behavior),{functionDeclarations:[n]}}function GO(e,t={}){const r=[],n=new Set;for(const a of e){const s=a.name;if(n.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);n.add(s);const i=VO(a,t);i.functionDeclarations&&r.push(...i.functionDeclarations)}return{functionDeclarations:r}}function MF(e,t){if(typeof t!="string"&&!Array.isArray(t)){if(e&&e.isVertexAI()){if(t.gcsUri&&t.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!t.gcsUri&&!t.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(t.inlinedRequests&&t.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!t.inlinedRequests&&!t.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return t}else{if(Array.isArray(t))return{inlinedRequests:t};if(typeof t=="string"){if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:[t]};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};if(t.startsWith("files/"))return{fileName:t}}}throw new Error(`Unsupported source: ${t}`)}function zO(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function eh(e,t){const r=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function PF(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KO(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function qO(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["data"]);r!=null&&v(t,["data"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function WO(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&v(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function $O(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],KO(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],qO(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],WO(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function jF(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>$O(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function YO(e){const t={},r=x(e,["anyOf"]);r!=null&&v(t,["anyOf"],r);const n=x(e,["default"]);n!=null&&v(t,["default"],n);const a=x(e,["description"]);a!=null&&v(t,["description"],a);const s=x(e,["enum"]);s!=null&&v(t,["enum"],s);const i=x(e,["example"]);i!=null&&v(t,["example"],i);const o=x(e,["format"]);o!=null&&v(t,["format"],o);const c=x(e,["items"]);c!=null&&v(t,["items"],c);const u=x(e,["maxItems"]);u!=null&&v(t,["maxItems"],u);const f=x(e,["maxLength"]);f!=null&&v(t,["maxLength"],f);const h=x(e,["maxProperties"]);h!=null&&v(t,["maxProperties"],h);const p=x(e,["maximum"]);p!=null&&v(t,["maximum"],p);const g=x(e,["minItems"]);g!=null&&v(t,["minItems"],g);const b=x(e,["minLength"]);b!=null&&v(t,["minLength"],b);const y=x(e,["minProperties"]);y!=null&&v(t,["minProperties"],y);const E=x(e,["minimum"]);E!=null&&v(t,["minimum"],E);const S=x(e,["nullable"]);S!=null&&v(t,["nullable"],S);const N=x(e,["pattern"]);N!=null&&v(t,["pattern"],N);const B=x(e,["properties"]);B!=null&&v(t,["properties"],B);const _=x(e,["propertyOrdering"]);_!=null&&v(t,["propertyOrdering"],_);const k=x(e,["required"]);k!=null&&v(t,["required"],k);const U=x(e,["title"]);U!=null&&v(t,["title"],U);const F=x(e,["type"]);return F!=null&&v(t,["type"],F),t}function JO(e){const t={};if(x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(e,["category"]);r!=null&&v(t,["category"],r);const n=x(e,["threshold"]);return n!=null&&v(t,["threshold"],n),t}function XO(e){const t={},r=x(e,["behavior"]);r!=null&&v(t,["behavior"],r);const n=x(e,["description"]);n!=null&&v(t,["description"],n);const a=x(e,["name"]);a!=null&&v(t,["name"],a);const s=x(e,["parameters"]);s!=null&&v(t,["parameters"],s);const i=x(e,["parametersJsonSchema"]);i!=null&&v(t,["parametersJsonSchema"],i);const o=x(e,["response"]);o!=null&&v(t,["response"],o);const c=x(e,["responseJsonSchema"]);return c!=null&&v(t,["responseJsonSchema"],c),t}function ZO(e){const t={},r=x(e,["startTime"]);r!=null&&v(t,["startTime"],r);const n=x(e,["endTime"]);return n!=null&&v(t,["endTime"],n),t}function eQ(e){const t={},r=x(e,["timeRangeFilter"]);return r!=null&&v(t,["timeRangeFilter"],ZO(r)),t}function tQ(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["dynamicThreshold"]);return n!=null&&v(t,["dynamicThreshold"],n),t}function rQ(e){const t={},r=x(e,["dynamicRetrievalConfig"]);return r!=null&&v(t,["dynamicRetrievalConfig"],tQ(r)),t}function nQ(){return{}}function aQ(e){const t={},r=x(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>XO(u))),v(t,["functionDeclarations"],c)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["googleSearch"]);n!=null&&v(t,["googleSearch"],eQ(n));const a=x(e,["googleSearchRetrieval"]);if(a!=null&&v(t,["googleSearchRetrieval"],rQ(a)),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(e,["urlContext"])!=null&&v(t,["urlContext"],nQ());const i=x(e,["codeExecution"]);i!=null&&v(t,["codeExecution"],i);const o=x(e,["computerUse"]);return o!=null&&v(t,["computerUse"],o),t}function sQ(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["allowedFunctionNames"]);return n!=null&&v(t,["allowedFunctionNames"],n),t}function iQ(e){const t={},r=x(e,["latitude"]);r!=null&&v(t,["latitude"],r);const n=x(e,["longitude"]);return n!=null&&v(t,["longitude"],n),t}function oQ(e){const t={},r=x(e,["latLng"]);r!=null&&v(t,["latLng"],iQ(r));const n=x(e,["languageCode"]);return n!=null&&v(t,["languageCode"],n),t}function lQ(e){const t={},r=x(e,["functionCallingConfig"]);r!=null&&v(t,["functionCallingConfig"],sQ(r));const n=x(e,["retrievalConfig"]);return n!=null&&v(t,["retrievalConfig"],oQ(n)),t}function cQ(e){const t={},r=x(e,["voiceName"]);return r!=null&&v(t,["voiceName"],r),t}function OF(e){const t={},r=x(e,["prebuiltVoiceConfig"]);return r!=null&&v(t,["prebuiltVoiceConfig"],cQ(r)),t}function AQ(e){const t={},r=x(e,["speaker"]);r!=null&&v(t,["speaker"],r);const n=x(e,["voiceConfig"]);return n!=null&&v(t,["voiceConfig"],OF(n)),t}function uQ(e){const t={},r=x(e,["speakerVoiceConfigs"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>AQ(a))),v(t,["speakerVoiceConfigs"],n)}return t}function dQ(e){const t={},r=x(e,["voiceConfig"]);r!=null&&v(t,["voiceConfig"],OF(r));const n=x(e,["multiSpeakerVoiceConfig"]);n!=null&&v(t,["multiSpeakerVoiceConfig"],uQ(n));const a=x(e,["languageCode"]);return a!=null&&v(t,["languageCode"],a),t}function fQ(e){const t={},r=x(e,["includeThoughts"]);r!=null&&v(t,["includeThoughts"],r);const n=x(e,["thinkingBudget"]);return n!=null&&v(t,["thinkingBudget"],n),t}function hQ(e,t,r){const n={},a=x(t,["systemInstruction"]);r!==void 0&&a!=null&&v(r,["systemInstruction"],jF(Ms(a)));const s=x(t,["temperature"]);s!=null&&v(n,["temperature"],s);const i=x(t,["topP"]);i!=null&&v(n,["topP"],i);const o=x(t,["topK"]);o!=null&&v(n,["topK"],o);const c=x(t,["candidateCount"]);c!=null&&v(n,["candidateCount"],c);const u=x(t,["maxOutputTokens"]);u!=null&&v(n,["maxOutputTokens"],u);const f=x(t,["stopSequences"]);f!=null&&v(n,["stopSequences"],f);const h=x(t,["responseLogprobs"]);h!=null&&v(n,["responseLogprobs"],h);const p=x(t,["logprobs"]);p!=null&&v(n,["logprobs"],p);const g=x(t,["presencePenalty"]);g!=null&&v(n,["presencePenalty"],g);const b=x(t,["frequencyPenalty"]);b!=null&&v(n,["frequencyPenalty"],b);const y=x(t,["seed"]);y!=null&&v(n,["seed"],y);const E=x(t,["responseMimeType"]);E!=null&&v(n,["responseMimeType"],E);const S=x(t,["responseSchema"]);S!=null&&v(n,["responseSchema"],YO(FC(S)));const N=x(t,["responseJsonSchema"]);if(N!=null&&v(n,["responseJsonSchema"],N),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=x(t,["safetySettings"]);if(r!==void 0&&B!=null){let O=B;Array.isArray(O)&&(O=O.map(M=>JO(M))),v(r,["safetySettings"],O)}const _=x(t,["tools"]);if(r!==void 0&&_!=null){let O=Z0(_);Array.isArray(O)&&(O=O.map(M=>aQ(X0(M)))),v(r,["tools"],O)}const k=x(t,["toolConfig"]);if(r!==void 0&&k!=null&&v(r,["toolConfig"],lQ(k)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=x(t,["cachedContent"]);r!==void 0&&U!=null&&v(r,["cachedContent"],eA(e,U));const F=x(t,["responseModalities"]);F!=null&&v(n,["responseModalities"],F);const L=x(t,["mediaResolution"]);L!=null&&v(n,["mediaResolution"],L);const D=x(t,["speechConfig"]);if(D!=null&&v(n,["speechConfig"],dQ(IC(D))),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=x(t,["thinkingConfig"]);return W!=null&&v(n,["thinkingConfig"],fQ(W)),n}function mQ(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["request","model"],dn(e,n));const a=x(t,["contents"]);if(a!=null){let i=go(a);Array.isArray(i)&&(i=i.map(o=>jF(o))),v(r,["request","contents"],i)}const s=x(t,["config"]);return s!=null&&v(r,["request","generationConfig"],hQ(e,s,r)),r}function pQ(e,t){const r={};if(x(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=x(t,["fileName"]);n!=null&&v(r,["fileName"],n);const a=x(t,["inlinedRequests"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(i=>mQ(e,i))),v(r,["requests","requests"],s)}return r}function gQ(e,t){const r={},n=x(e,["displayName"]);if(t!==void 0&&n!=null&&v(t,["batch","displayName"],n),x(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function xQ(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["src"]);a!=null&&v(r,["batch","inputConfig"],pQ(e,MF(e,a)));const s=x(t,["config"]);return s!=null&&v(r,["config"],gQ(s,r)),r}function vQ(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eh(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function wQ(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eh(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function yQ(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&v(t,["_query","pageSize"],n);const a=x(e,["pageToken"]);if(t!==void 0&&a!=null&&v(t,["_query","pageToken"],a),x(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function bQ(e){const t={},r=x(e,["config"]);return r!=null&&v(t,["config"],yQ(r,t)),t}function CQ(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eh(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function EQ(e){const t={},r=x(e,["format"]);r!=null&&v(t,["instancesFormat"],r);const n=x(e,["gcsUri"]);n!=null&&v(t,["gcsSource","uris"],n);const a=x(e,["bigqueryUri"]);if(a!=null&&v(t,["bigquerySource","inputUri"],a),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function SQ(e){const t={},r=x(e,["format"]);r!=null&&v(t,["predictionsFormat"],r);const n=x(e,["gcsUri"]);n!=null&&v(t,["gcsDestination","outputUriPrefix"],n);const a=x(e,["bigqueryUri"]);if(a!=null&&v(t,["bigqueryDestination","outputUri"],a),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return t}function BQ(e,t){const r={},n=x(e,["displayName"]);t!==void 0&&n!=null&&v(t,["displayName"],n);const a=x(e,["dest"]);return t!==void 0&&a!=null&&v(t,["outputConfig"],SQ(zO(a))),r}function NQ(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["model"],dn(e,n));const a=x(t,["src"]);a!=null&&v(r,["inputConfig"],EQ(MF(e,a)));const s=x(t,["config"]);return s!=null&&v(r,["config"],BQ(s,r)),r}function _Q(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eh(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function TQ(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eh(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function kQ(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&v(t,["_query","pageSize"],n);const a=x(e,["pageToken"]);t!==void 0&&a!=null&&v(t,["_query","pageToken"],a);const s=x(e,["filter"]);return t!==void 0&&s!=null&&v(t,["_query","filter"],s),r}function FQ(e){const t={},r=x(e,["config"]);return r!=null&&v(t,["config"],kQ(r,t)),t}function IQ(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eh(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function UQ(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function DQ(e){const t={},r=x(e,["data"]);r!=null&&v(t,["data"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function LQ(e){const t={},r=x(e,["fileUri"]);r!=null&&v(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function RQ(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],UQ(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],DQ(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],LQ(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function MQ(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>RQ(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function PQ(e){const t={},r=x(e,["citationSources"]);return r!=null&&v(t,["citations"],r),t}function jQ(e){const t={},r=x(e,["retrievedUrl"]);r!=null&&v(t,["retrievedUrl"],r);const n=x(e,["urlRetrievalStatus"]);return n!=null&&v(t,["urlRetrievalStatus"],n),t}function OQ(e){const t={},r=x(e,["urlMetadata"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>jQ(a))),v(t,["urlMetadata"],n)}return t}function QQ(e){const t={},r=x(e,["content"]);r!=null&&v(t,["content"],MQ(r));const n=x(e,["citationMetadata"]);n!=null&&v(t,["citationMetadata"],PQ(n));const a=x(e,["tokenCount"]);a!=null&&v(t,["tokenCount"],a);const s=x(e,["finishReason"]);s!=null&&v(t,["finishReason"],s);const i=x(e,["urlContextMetadata"]);i!=null&&v(t,["urlContextMetadata"],OQ(i));const o=x(e,["avgLogprobs"]);o!=null&&v(t,["avgLogprobs"],o);const c=x(e,["groundingMetadata"]);c!=null&&v(t,["groundingMetadata"],c);const u=x(e,["index"]);u!=null&&v(t,["index"],u);const f=x(e,["logprobsResult"]);f!=null&&v(t,["logprobsResult"],f);const h=x(e,["safetyRatings"]);return h!=null&&v(t,["safetyRatings"],h),t}function HQ(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["candidates"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(c=>QQ(c))),v(t,["candidates"],o)}const a=x(e,["modelVersion"]);a!=null&&v(t,["modelVersion"],a);const s=x(e,["promptFeedback"]);s!=null&&v(t,["promptFeedback"],s);const i=x(e,["usageMetadata"]);return i!=null&&v(t,["usageMetadata"],i),t}function QF(e){const t={},r=x(e,["details"]);r!=null&&v(t,["details"],r);const n=x(e,["code"]);n!=null&&v(t,["code"],n);const a=x(e,["message"]);return a!=null&&v(t,["message"],a),t}function VQ(e){const t={},r=x(e,["response"]);r!=null&&v(t,["response"],HQ(r));const n=x(e,["error"]);return n!=null&&v(t,["error"],QF(n)),t}function GQ(e){const t={},r=x(e,["responsesFile"]);r!=null&&v(t,["fileName"],r);const n=x(e,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>VQ(s))),v(t,["inlinedResponses"],a)}return t}function Xy(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["metadata","displayName"]);n!=null&&v(t,["displayName"],n);const a=x(e,["metadata","state"]);a!=null&&v(t,["state"],PF(a));const s=x(e,["metadata","createTime"]);s!=null&&v(t,["createTime"],s);const i=x(e,["metadata","endTime"]);i!=null&&v(t,["endTime"],i);const o=x(e,["metadata","updateTime"]);o!=null&&v(t,["updateTime"],o);const c=x(e,["metadata","model"]);c!=null&&v(t,["model"],c);const u=x(e,["metadata","output"]);return u!=null&&v(t,["dest"],GQ(u)),t}function zQ(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&v(t,["nextPageToken"],n);const a=x(e,["operations"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(i=>Xy(i))),v(t,["batchJobs"],s)}return t}function KQ(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["done"]);n!=null&&v(t,["done"],n);const a=x(e,["error"]);return a!=null&&v(t,["error"],QF(a)),t}function HF(e){const t={},r=x(e,["details"]);r!=null&&v(t,["details"],r);const n=x(e,["code"]);n!=null&&v(t,["code"],n);const a=x(e,["message"]);return a!=null&&v(t,["message"],a),t}function qQ(e){const t={},r=x(e,["instancesFormat"]);r!=null&&v(t,["format"],r);const n=x(e,["gcsSource","uris"]);n!=null&&v(t,["gcsUri"],n);const a=x(e,["bigquerySource","inputUri"]);return a!=null&&v(t,["bigqueryUri"],a),t}function WQ(e){const t={},r=x(e,["predictionsFormat"]);r!=null&&v(t,["format"],r);const n=x(e,["gcsDestination","outputUriPrefix"]);n!=null&&v(t,["gcsUri"],n);const a=x(e,["bigqueryDestination","outputUri"]);return a!=null&&v(t,["bigqueryUri"],a),t}function Zy(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["displayName"]);n!=null&&v(t,["displayName"],n);const a=x(e,["state"]);a!=null&&v(t,["state"],PF(a));const s=x(e,["error"]);s!=null&&v(t,["error"],HF(s));const i=x(e,["createTime"]);i!=null&&v(t,["createTime"],i);const o=x(e,["startTime"]);o!=null&&v(t,["startTime"],o);const c=x(e,["endTime"]);c!=null&&v(t,["endTime"],c);const u=x(e,["updateTime"]);u!=null&&v(t,["updateTime"],u);const f=x(e,["model"]);f!=null&&v(t,["model"],f);const h=x(e,["inputConfig"]);h!=null&&v(t,["src"],qQ(h));const p=x(e,["outputConfig"]);return p!=null&&v(t,["dest"],WQ(p)),t}function $Q(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&v(t,["nextPageToken"],n);const a=x(e,["batchPredictionJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(i=>Zy(i))),v(t,["batchJobs"],s)}return t}function YQ(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["done"]);n!=null&&v(t,["done"],n);const a=x(e,["error"]);return a!=null&&v(t,["error"],HF(a)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jd;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(jd||(jd={}));class Tp{constructor(t,r,n,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(t,n,a)}init(t,r,n){var a,s;this.nameInternal=t,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let i={config:{}};!n||Object.keys(n).length===0?i={config:{}}:typeof n=="object"?i=Object.assign({},n):i=n,i.config&&(i.config.pageToken=r.nextPageToken),this.paramsInternal=i,this.pageInternalSize=(s=(a=i.config)===null||a===void 0?void 0:a.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JQ extends $d{constructor(t){super(),this.apiClient=t,this.create=async r=>{if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(r.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(r.config=r.config||{},r.config.displayName===void 0&&(r.config.displayName="genaiBatchJob_${timestampStr}"),r.config.dest===void 0&&typeof r.src=="string")if(r.src.startsWith("gs://")&&r.src.endsWith(".jsonl"))r.config.dest=`${r.src.slice(0,-6)}/dest`;else if(r.src.startsWith("bq://"))r.config.dest=`${r.src}_dest_${a}`;else throw new Error("Unsupported source:"+r.src)}return await this.createInternal(r)},this.list=async(r={})=>new Tp(jd.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r)}async createInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=NQ(this.apiClient,t);return o=zt("batchPredictionJobs",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>Zy(f))}else{const u=xQ(this.apiClient,t);return o=zt("{model}:batchGenerateContent",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Xy(f))}}async get(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=_Q(this.apiClient,t);return o=zt("batchPredictionJobs/{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>Zy(f))}else{const u=vQ(this.apiClient,t);return o=zt("batches/{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Xy(f))}}async cancel(t){var r,n,a,s;let i="",o={};if(this.apiClient.isVertexAI()){const c=TQ(this.apiClient,t);i=zt("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}else{const c=wQ(this.apiClient,t);i=zt("batches/{name}:cancel",c._url),o=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=FQ(t);return o=zt("batchPredictionJobs",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=$Q(f),p=new HB;return Object.assign(p,h),p})}else{const u=bQ(t);return o=zt("batches",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=zQ(f),p=new HB;return Object.assign(p,h),p})}}async delete(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=IQ(this.apiClient,t);return o=zt("batchPredictionJobs/{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>YQ(f))}else{const u=CQ(this.apiClient,t);return o=zt("batches/{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>KQ(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XQ(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function ZQ(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["data"]);r!=null&&v(t,["data"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function eH(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&v(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function tH(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],XQ(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],ZQ(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],eH(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function KB(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>tH(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function rH(e){const t={},r=x(e,["behavior"]);r!=null&&v(t,["behavior"],r);const n=x(e,["description"]);n!=null&&v(t,["description"],n);const a=x(e,["name"]);a!=null&&v(t,["name"],a);const s=x(e,["parameters"]);s!=null&&v(t,["parameters"],s);const i=x(e,["parametersJsonSchema"]);i!=null&&v(t,["parametersJsonSchema"],i);const o=x(e,["response"]);o!=null&&v(t,["response"],o);const c=x(e,["responseJsonSchema"]);return c!=null&&v(t,["responseJsonSchema"],c),t}function nH(e){const t={},r=x(e,["startTime"]);r!=null&&v(t,["startTime"],r);const n=x(e,["endTime"]);return n!=null&&v(t,["endTime"],n),t}function aH(e){const t={},r=x(e,["timeRangeFilter"]);return r!=null&&v(t,["timeRangeFilter"],nH(r)),t}function sH(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["dynamicThreshold"]);return n!=null&&v(t,["dynamicThreshold"],n),t}function iH(e){const t={},r=x(e,["dynamicRetrievalConfig"]);return r!=null&&v(t,["dynamicRetrievalConfig"],sH(r)),t}function oH(){return{}}function lH(e){const t={},r=x(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>rH(u))),v(t,["functionDeclarations"],c)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["googleSearch"]);n!=null&&v(t,["googleSearch"],aH(n));const a=x(e,["googleSearchRetrieval"]);if(a!=null&&v(t,["googleSearchRetrieval"],iH(a)),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(e,["urlContext"])!=null&&v(t,["urlContext"],oH());const i=x(e,["codeExecution"]);i!=null&&v(t,["codeExecution"],i);const o=x(e,["computerUse"]);return o!=null&&v(t,["computerUse"],o),t}function cH(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["allowedFunctionNames"]);return n!=null&&v(t,["allowedFunctionNames"],n),t}function AH(e){const t={},r=x(e,["latitude"]);r!=null&&v(t,["latitude"],r);const n=x(e,["longitude"]);return n!=null&&v(t,["longitude"],n),t}function uH(e){const t={},r=x(e,["latLng"]);r!=null&&v(t,["latLng"],AH(r));const n=x(e,["languageCode"]);return n!=null&&v(t,["languageCode"],n),t}function dH(e){const t={},r=x(e,["functionCallingConfig"]);r!=null&&v(t,["functionCallingConfig"],cH(r));const n=x(e,["retrievalConfig"]);return n!=null&&v(t,["retrievalConfig"],uH(n)),t}function fH(e,t){const r={},n=x(e,["ttl"]);t!==void 0&&n!=null&&v(t,["ttl"],n);const a=x(e,["expireTime"]);t!==void 0&&a!=null&&v(t,["expireTime"],a);const s=x(e,["displayName"]);t!==void 0&&s!=null&&v(t,["displayName"],s);const i=x(e,["contents"]);if(t!==void 0&&i!=null){let f=go(i);Array.isArray(f)&&(f=f.map(h=>KB(h))),v(t,["contents"],f)}const o=x(e,["systemInstruction"]);t!==void 0&&o!=null&&v(t,["systemInstruction"],KB(Ms(o)));const c=x(e,["tools"]);if(t!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>lH(h))),v(t,["tools"],f)}const u=x(e,["toolConfig"]);if(t!==void 0&&u!=null&&v(t,["toolConfig"],dH(u)),x(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function hH(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["model"],NF(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],fH(a,r)),r}function mH(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eA(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function pH(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eA(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function gH(e,t){const r={},n=x(e,["ttl"]);t!==void 0&&n!=null&&v(t,["ttl"],n);const a=x(e,["expireTime"]);return t!==void 0&&a!=null&&v(t,["expireTime"],a),r}function xH(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eA(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],gH(a,r)),r}function vH(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&v(t,["_query","pageSize"],n);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&v(t,["_query","pageToken"],a),r}function wH(e){const t={},r=x(e,["config"]);return r!=null&&v(t,["config"],vH(r,t)),t}function yH(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function bH(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["data"]);n!=null&&v(t,["data"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function CH(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function EH(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],yH(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],bH(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],CH(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function qB(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>EH(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function SH(e){const t={};if(x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=x(e,["description"]);r!=null&&v(t,["description"],r);const n=x(e,["name"]);n!=null&&v(t,["name"],n);const a=x(e,["parameters"]);a!=null&&v(t,["parameters"],a);const s=x(e,["parametersJsonSchema"]);s!=null&&v(t,["parametersJsonSchema"],s);const i=x(e,["response"]);i!=null&&v(t,["response"],i);const o=x(e,["responseJsonSchema"]);return o!=null&&v(t,["responseJsonSchema"],o),t}function BH(e){const t={},r=x(e,["startTime"]);r!=null&&v(t,["startTime"],r);const n=x(e,["endTime"]);return n!=null&&v(t,["endTime"],n),t}function NH(e){const t={},r=x(e,["timeRangeFilter"]);return r!=null&&v(t,["timeRangeFilter"],BH(r)),t}function _H(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["dynamicThreshold"]);return n!=null&&v(t,["dynamicThreshold"],n),t}function TH(e){const t={},r=x(e,["dynamicRetrievalConfig"]);return r!=null&&v(t,["dynamicRetrievalConfig"],_H(r)),t}function kH(){return{}}function FH(e){const t={},r=x(e,["apiKeyString"]);return r!=null&&v(t,["apiKeyString"],r),t}function IH(e){const t={},r=x(e,["apiKeyConfig"]);r!=null&&v(t,["apiKeyConfig"],FH(r));const n=x(e,["authType"]);n!=null&&v(t,["authType"],n);const a=x(e,["googleServiceAccountConfig"]);a!=null&&v(t,["googleServiceAccountConfig"],a);const s=x(e,["httpBasicAuthConfig"]);s!=null&&v(t,["httpBasicAuthConfig"],s);const i=x(e,["oauthConfig"]);i!=null&&v(t,["oauthConfig"],i);const o=x(e,["oidcConfig"]);return o!=null&&v(t,["oidcConfig"],o),t}function UH(e){const t={},r=x(e,["authConfig"]);return r!=null&&v(t,["authConfig"],IH(r)),t}function DH(){return{}}function LH(e){const t={},r=x(e,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(p=>SH(p))),v(t,["functionDeclarations"],h)}const n=x(e,["retrieval"]);n!=null&&v(t,["retrieval"],n);const a=x(e,["googleSearch"]);a!=null&&v(t,["googleSearch"],NH(a));const s=x(e,["googleSearchRetrieval"]);s!=null&&v(t,["googleSearchRetrieval"],TH(s)),x(e,["enterpriseWebSearch"])!=null&&v(t,["enterpriseWebSearch"],kH());const o=x(e,["googleMaps"]);o!=null&&v(t,["googleMaps"],UH(o)),x(e,["urlContext"])!=null&&v(t,["urlContext"],DH());const u=x(e,["codeExecution"]);u!=null&&v(t,["codeExecution"],u);const f=x(e,["computerUse"]);return f!=null&&v(t,["computerUse"],f),t}function RH(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["allowedFunctionNames"]);return n!=null&&v(t,["allowedFunctionNames"],n),t}function MH(e){const t={},r=x(e,["latitude"]);r!=null&&v(t,["latitude"],r);const n=x(e,["longitude"]);return n!=null&&v(t,["longitude"],n),t}function PH(e){const t={},r=x(e,["latLng"]);r!=null&&v(t,["latLng"],MH(r));const n=x(e,["languageCode"]);return n!=null&&v(t,["languageCode"],n),t}function jH(e){const t={},r=x(e,["functionCallingConfig"]);r!=null&&v(t,["functionCallingConfig"],RH(r));const n=x(e,["retrievalConfig"]);return n!=null&&v(t,["retrievalConfig"],PH(n)),t}function OH(e,t){const r={},n=x(e,["ttl"]);t!==void 0&&n!=null&&v(t,["ttl"],n);const a=x(e,["expireTime"]);t!==void 0&&a!=null&&v(t,["expireTime"],a);const s=x(e,["displayName"]);t!==void 0&&s!=null&&v(t,["displayName"],s);const i=x(e,["contents"]);if(t!==void 0&&i!=null){let h=go(i);Array.isArray(h)&&(h=h.map(p=>qB(p))),v(t,["contents"],h)}const o=x(e,["systemInstruction"]);t!==void 0&&o!=null&&v(t,["systemInstruction"],qB(Ms(o)));const c=x(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>LH(p))),v(t,["tools"],h)}const u=x(e,["toolConfig"]);t!==void 0&&u!=null&&v(t,["toolConfig"],jH(u));const f=x(e,["kmsKeyName"]);return t!==void 0&&f!=null&&v(t,["encryption_spec","kmsKeyName"],f),r}function QH(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["model"],NF(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],OH(a,r)),r}function HH(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eA(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function VH(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eA(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function GH(e,t){const r={},n=x(e,["ttl"]);t!==void 0&&n!=null&&v(t,["ttl"],n);const a=x(e,["expireTime"]);return t!==void 0&&a!=null&&v(t,["expireTime"],a),r}function zH(e,t){const r={},n=x(t,["name"]);n!=null&&v(r,["_url","name"],eA(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],GH(a,r)),r}function KH(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&v(t,["_query","pageSize"],n);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&v(t,["_query","pageToken"],a),r}function qH(e){const t={},r=x(e,["config"]);return r!=null&&v(t,["config"],KH(r,t)),t}function Kx(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["displayName"]);n!=null&&v(t,["displayName"],n);const a=x(e,["model"]);a!=null&&v(t,["model"],a);const s=x(e,["createTime"]);s!=null&&v(t,["createTime"],s);const i=x(e,["updateTime"]);i!=null&&v(t,["updateTime"],i);const o=x(e,["expireTime"]);o!=null&&v(t,["expireTime"],o);const c=x(e,["usageMetadata"]);return c!=null&&v(t,["usageMetadata"],c),t}function WH(){return{}}function $H(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&v(t,["nextPageToken"],n);const a=x(e,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(i=>Kx(i))),v(t,["cachedContents"],s)}return t}function qx(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["displayName"]);n!=null&&v(t,["displayName"],n);const a=x(e,["model"]);a!=null&&v(t,["model"],a);const s=x(e,["createTime"]);s!=null&&v(t,["createTime"],s);const i=x(e,["updateTime"]);i!=null&&v(t,["updateTime"],i);const o=x(e,["expireTime"]);o!=null&&v(t,["expireTime"],o);const c=x(e,["usageMetadata"]);return c!=null&&v(t,["usageMetadata"],c),t}function YH(){return{}}function JH(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&v(t,["nextPageToken"],n);const a=x(e,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(i=>qx(i))),v(t,["cachedContents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XH extends $d{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Tp(jd.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=QH(this.apiClient,t);return o=zt("cachedContents",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>qx(f))}else{const u=hH(this.apiClient,t);return o=zt("cachedContents",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Kx(f))}}async get(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=HH(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>qx(f))}else{const u=mH(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Kx(f))}}async delete(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=VH(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(()=>{const f=YH(),h=new OB;return Object.assign(h,f),h})}else{const u=pH(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(()=>{const f=WH(),h=new OB;return Object.assign(h,f),h})}}async update(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=zH(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>qx(f))}else{const u=xH(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Kx(f))}}async listInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=qH(t);return o=zt("cachedContents",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=JH(f),p=new QB;return Object.assign(p,h),p})}else{const u=wH(t);return o=zt("cachedContents",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=$H(f),p=new QB;return Object.assign(p,h),p})}}}function WB(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function In(e){return this instanceof In?(this.v=e,this):new In(e)}function E0(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(g){return function(b){return Promise.resolve(b).then(g,h)}}function o(g,b){n[g]&&(a[g]=function(y){return new Promise(function(E,S){s.push([g,y,E,S])>1||c(g,y)})},b&&(a[g]=b(a[g])))}function c(g,b){try{u(n[g](b))}catch(y){p(s[0][3],y)}}function u(g){g.value instanceof In?Promise.resolve(g.value.v).then(f,h):p(s[0][2],g)}function f(g){c("next",g)}function h(g){c("throw",g)}function p(g,b){g(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function km(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof WB=="function"?WB(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(o,c){i=e[s](i),a(o,c,i.done,i.value)})}}function a(s,i,o,c){Promise.resolve(c).then(function(u){s({value:u,done:o})},i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZH(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return r===void 0?!1:VF(r)}function VF(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||!t.thought&&t.text!==void 0&&t.text==="")return!1;return!0}function e9(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function $B(e){if(e===void 0||e.length===0)return[];const t=[],r=e.length;let n=0;for(;n<r;)if(e[n].role==="user")t.push(e[n]),n++;else{const a=[];let s=!0;for(;n<r&&e[n].role==="model";)a.push(e[n]),s&&!VF(e[n])&&(s=!1),n++;s?t.push(...a):t.pop()}return t}class t9{constructor(t,r){this.modelsModule=t,this.apiClient=r}create(t){return new r9(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class r9{constructor(t,r,n,a={},s=[]){this.apiClient=t,this.modelsModule=r,this.model=n,this.config=a,this.history=s,this.sendPromise=Promise.resolve(),e9(s)}async sendMessage(t){var r;await this.sendPromise;const n=Ms(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var s,i,o;const c=await a,u=(i=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];f!=null&&(p=(o=f.slice(h))!==null&&o!==void 0?o:[]);const g=u?[u]:[];this.recordHistory(n,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var r;await this.sendPromise;const n=Ms(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const s=await a;return this.processStreamResponse(s,n)}getHistory(t=!1){const r=t?$B(this.history):this.history;return structuredClone(r)}processStreamResponse(t,r){var n,a;return E0(this,arguments,function*(){var i,o,c,u;const f=[];try{for(var h=!0,p=km(t),g;g=yield In(p.next()),i=g.done,!i;h=!0){u=g.value,h=!1;const b=u;if(ZH(b)){const y=(a=(n=b.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content;y!==void 0&&f.push(y)}yield yield In(b)}}catch(b){o={error:b}}finally{try{!h&&!i&&(c=p.return)&&(yield In(c.call(p)))}finally{if(o)throw o.error}}this.recordHistory(r,f)})}recordHistory(t,r,n){let a=[];r.length>0&&r.every(s=>s.role!==void 0)?a=r:a.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...$B(n)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dv extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,dv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n9(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&v(t,["_query","pageSize"],n);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&v(t,["_query","pageToken"],a),r}function a9(e){const t={},r=x(e,["config"]);return r!=null&&v(t,["config"],n9(r,t)),t}function s9(e){const t={},r=x(e,["details"]);r!=null&&v(t,["details"],r);const n=x(e,["message"]);n!=null&&v(t,["message"],n);const a=x(e,["code"]);return a!=null&&v(t,["code"],a),t}function i9(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["displayName"]);n!=null&&v(t,["displayName"],n);const a=x(e,["mimeType"]);a!=null&&v(t,["mimeType"],a);const s=x(e,["sizeBytes"]);s!=null&&v(t,["sizeBytes"],s);const i=x(e,["createTime"]);i!=null&&v(t,["createTime"],i);const o=x(e,["expirationTime"]);o!=null&&v(t,["expirationTime"],o);const c=x(e,["updateTime"]);c!=null&&v(t,["updateTime"],c);const u=x(e,["sha256Hash"]);u!=null&&v(t,["sha256Hash"],u);const f=x(e,["uri"]);f!=null&&v(t,["uri"],f);const h=x(e,["downloadUri"]);h!=null&&v(t,["downloadUri"],h);const p=x(e,["state"]);p!=null&&v(t,["state"],p);const g=x(e,["source"]);g!=null&&v(t,["source"],g);const b=x(e,["videoMetadata"]);b!=null&&v(t,["videoMetadata"],b);const y=x(e,["error"]);return y!=null&&v(t,["error"],s9(y)),t}function o9(e){const t={},r=x(e,["file"]);r!=null&&v(t,["file"],i9(r));const n=x(e,["config"]);return n!=null&&v(t,["config"],n),t}function l9(e){const t={},r=x(e,["name"]);r!=null&&v(t,["_url","file"],DF(r));const n=x(e,["config"]);return n!=null&&v(t,["config"],n),t}function c9(e){const t={},r=x(e,["name"]);r!=null&&v(t,["_url","file"],DF(r));const n=x(e,["config"]);return n!=null&&v(t,["config"],n),t}function A9(e){const t={},r=x(e,["details"]);r!=null&&v(t,["details"],r);const n=x(e,["message"]);n!=null&&v(t,["message"],n);const a=x(e,["code"]);return a!=null&&v(t,["code"],a),t}function eb(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["displayName"]);n!=null&&v(t,["displayName"],n);const a=x(e,["mimeType"]);a!=null&&v(t,["mimeType"],a);const s=x(e,["sizeBytes"]);s!=null&&v(t,["sizeBytes"],s);const i=x(e,["createTime"]);i!=null&&v(t,["createTime"],i);const o=x(e,["expirationTime"]);o!=null&&v(t,["expirationTime"],o);const c=x(e,["updateTime"]);c!=null&&v(t,["updateTime"],c);const u=x(e,["sha256Hash"]);u!=null&&v(t,["sha256Hash"],u);const f=x(e,["uri"]);f!=null&&v(t,["uri"],f);const h=x(e,["downloadUri"]);h!=null&&v(t,["downloadUri"],h);const p=x(e,["state"]);p!=null&&v(t,["state"],p);const g=x(e,["source"]);g!=null&&v(t,["source"],g);const b=x(e,["videoMetadata"]);b!=null&&v(t,["videoMetadata"],b);const y=x(e,["error"]);return y!=null&&v(t,["error"],A9(y)),t}function u9(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&v(t,["nextPageToken"],n);const a=x(e,["files"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(i=>eb(i))),v(t,["files"],s)}return t}function d9(e){const t={},r=x(e,["sdkHttpResponse"]);return r!=null&&v(t,["sdkHttpResponse"],r),t}function f9(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h9 extends $d{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Tp(jd.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(r=>eb(r))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=a9(t);return s=zt("files",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const u=u9(c),f=new IO;return Object.assign(f,u),f})}}async createInternal(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=o9(t);return s=zt("upload/v1beta/files",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),a.then(c=>{const u=d9(c),f=new UO;return Object.assign(f,u),f})}}async get(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=l9(t);return s=zt("files/{file}",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),a.then(c=>eb(c))}}async delete(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=c9(t);return s=zt("files/{file}",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),a.then(()=>{const c=f9(),u=new DO;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m9(e){const t={},r=x(e,["voiceName"]);return r!=null&&v(t,["voiceName"],r),t}function GF(e){const t={},r=x(e,["prebuiltVoiceConfig"]);return r!=null&&v(t,["prebuiltVoiceConfig"],m9(r)),t}function p9(e){const t={},r=x(e,["speaker"]);r!=null&&v(t,["speaker"],r);const n=x(e,["voiceConfig"]);return n!=null&&v(t,["voiceConfig"],GF(n)),t}function g9(e){const t={},r=x(e,["speakerVoiceConfigs"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>p9(a))),v(t,["speakerVoiceConfigs"],n)}return t}function x9(e){const t={},r=x(e,["voiceConfig"]);r!=null&&v(t,["voiceConfig"],GF(r));const n=x(e,["multiSpeakerVoiceConfig"]);n!=null&&v(t,["multiSpeakerVoiceConfig"],g9(n));const a=x(e,["languageCode"]);return a!=null&&v(t,["languageCode"],a),t}function v9(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function w9(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["data"]);r!=null&&v(t,["data"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function y9(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&v(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function b9(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],v9(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],w9(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],y9(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function C9(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>b9(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function E9(e){const t={},r=x(e,["behavior"]);r!=null&&v(t,["behavior"],r);const n=x(e,["description"]);n!=null&&v(t,["description"],n);const a=x(e,["name"]);a!=null&&v(t,["name"],a);const s=x(e,["parameters"]);s!=null&&v(t,["parameters"],s);const i=x(e,["parametersJsonSchema"]);i!=null&&v(t,["parametersJsonSchema"],i);const o=x(e,["response"]);o!=null&&v(t,["response"],o);const c=x(e,["responseJsonSchema"]);return c!=null&&v(t,["responseJsonSchema"],c),t}function S9(e){const t={},r=x(e,["startTime"]);r!=null&&v(t,["startTime"],r);const n=x(e,["endTime"]);return n!=null&&v(t,["endTime"],n),t}function B9(e){const t={},r=x(e,["timeRangeFilter"]);return r!=null&&v(t,["timeRangeFilter"],S9(r)),t}function N9(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["dynamicThreshold"]);return n!=null&&v(t,["dynamicThreshold"],n),t}function _9(e){const t={},r=x(e,["dynamicRetrievalConfig"]);return r!=null&&v(t,["dynamicRetrievalConfig"],N9(r)),t}function T9(){return{}}function k9(e){const t={},r=x(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>E9(u))),v(t,["functionDeclarations"],c)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["googleSearch"]);n!=null&&v(t,["googleSearch"],B9(n));const a=x(e,["googleSearchRetrieval"]);if(a!=null&&v(t,["googleSearchRetrieval"],_9(a)),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(e,["urlContext"])!=null&&v(t,["urlContext"],T9());const i=x(e,["codeExecution"]);i!=null&&v(t,["codeExecution"],i);const o=x(e,["computerUse"]);return o!=null&&v(t,["computerUse"],o),t}function F9(e){const t={},r=x(e,["handle"]);if(r!=null&&v(t,["handle"],r),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function YB(){return{}}function I9(e){const t={},r=x(e,["disabled"]);r!=null&&v(t,["disabled"],r);const n=x(e,["startOfSpeechSensitivity"]);n!=null&&v(t,["startOfSpeechSensitivity"],n);const a=x(e,["endOfSpeechSensitivity"]);a!=null&&v(t,["endOfSpeechSensitivity"],a);const s=x(e,["prefixPaddingMs"]);s!=null&&v(t,["prefixPaddingMs"],s);const i=x(e,["silenceDurationMs"]);return i!=null&&v(t,["silenceDurationMs"],i),t}function U9(e){const t={},r=x(e,["automaticActivityDetection"]);r!=null&&v(t,["automaticActivityDetection"],I9(r));const n=x(e,["activityHandling"]);n!=null&&v(t,["activityHandling"],n);const a=x(e,["turnCoverage"]);return a!=null&&v(t,["turnCoverage"],a),t}function D9(e){const t={},r=x(e,["targetTokens"]);return r!=null&&v(t,["targetTokens"],r),t}function L9(e){const t={},r=x(e,["triggerTokens"]);r!=null&&v(t,["triggerTokens"],r);const n=x(e,["slidingWindow"]);return n!=null&&v(t,["slidingWindow"],D9(n)),t}function R9(e){const t={},r=x(e,["proactiveAudio"]);return r!=null&&v(t,["proactiveAudio"],r),t}function M9(e,t){const r={},n=x(e,["generationConfig"]);t!==void 0&&n!=null&&v(t,["setup","generationConfig"],n);const a=x(e,["responseModalities"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","responseModalities"],a);const s=x(e,["temperature"]);t!==void 0&&s!=null&&v(t,["setup","generationConfig","temperature"],s);const i=x(e,["topP"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","topP"],i);const o=x(e,["topK"]);t!==void 0&&o!=null&&v(t,["setup","generationConfig","topK"],o);const c=x(e,["maxOutputTokens"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","maxOutputTokens"],c);const u=x(e,["mediaResolution"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","mediaResolution"],u);const f=x(e,["seed"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","seed"],f);const h=x(e,["speechConfig"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","speechConfig"],x9(UC(h)));const p=x(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],p);const g=x(e,["systemInstruction"]);t!==void 0&&g!=null&&v(t,["setup","systemInstruction"],C9(Ms(g)));const b=x(e,["tools"]);if(t!==void 0&&b!=null){let k=Z0(b);Array.isArray(k)&&(k=k.map(U=>k9(X0(U)))),v(t,["setup","tools"],k)}const y=x(e,["sessionResumption"]);t!==void 0&&y!=null&&v(t,["setup","sessionResumption"],F9(y));const E=x(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&v(t,["setup","inputAudioTranscription"],YB());const S=x(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&v(t,["setup","outputAudioTranscription"],YB());const N=x(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&v(t,["setup","realtimeInputConfig"],U9(N));const B=x(e,["contextWindowCompression"]);t!==void 0&&B!=null&&v(t,["setup","contextWindowCompression"],L9(B));const _=x(e,["proactivity"]);return t!==void 0&&_!=null&&v(t,["setup","proactivity"],R9(_)),r}function P9(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["setup","model"],dn(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],M9(a,r)),r}function j9(){return{}}function O9(){return{}}function Q9(e){const t={},r=x(e,["media"]);r!=null&&v(t,["mediaChunks"],_F(r));const n=x(e,["audio"]);n!=null&&v(t,["audio"],kF(n));const a=x(e,["audioStreamEnd"]);a!=null&&v(t,["audioStreamEnd"],a);const s=x(e,["video"]);s!=null&&v(t,["video"],TF(s));const i=x(e,["text"]);return i!=null&&v(t,["text"],i),x(e,["activityStart"])!=null&&v(t,["activityStart"],j9()),x(e,["activityEnd"])!=null&&v(t,["activityEnd"],O9()),t}function zF(e){const t={},r=x(e,["text"]);r!=null&&v(t,["text"],r);const n=x(e,["weight"]);return n!=null&&v(t,["weight"],n),t}function H9(e){const t={},r=x(e,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>zF(a))),v(t,["weightedPrompts"],n)}return t}function KF(e){const t={},r=x(e,["temperature"]);r!=null&&v(t,["temperature"],r);const n=x(e,["topK"]);n!=null&&v(t,["topK"],n);const a=x(e,["seed"]);a!=null&&v(t,["seed"],a);const s=x(e,["guidance"]);s!=null&&v(t,["guidance"],s);const i=x(e,["bpm"]);i!=null&&v(t,["bpm"],i);const o=x(e,["density"]);o!=null&&v(t,["density"],o);const c=x(e,["brightness"]);c!=null&&v(t,["brightness"],c);const u=x(e,["scale"]);u!=null&&v(t,["scale"],u);const f=x(e,["muteBass"]);f!=null&&v(t,["muteBass"],f);const h=x(e,["muteDrums"]);h!=null&&v(t,["muteDrums"],h);const p=x(e,["onlyBassAndDrums"]);return p!=null&&v(t,["onlyBassAndDrums"],p),t}function V9(e){const t={},r=x(e,["musicGenerationConfig"]);return r!=null&&v(t,["musicGenerationConfig"],KF(r)),t}function qF(e){const t={},r=x(e,["model"]);return r!=null&&v(t,["model"],r),t}function WF(e){const t={},r=x(e,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>zF(a))),v(t,["weightedPrompts"],n)}return t}function tb(e){const t={},r=x(e,["setup"]);r!=null&&v(t,["setup"],qF(r));const n=x(e,["clientContent"]);n!=null&&v(t,["clientContent"],WF(n));const a=x(e,["musicGenerationConfig"]);a!=null&&v(t,["musicGenerationConfig"],KF(a));const s=x(e,["playbackControl"]);return s!=null&&v(t,["playbackControl"],s),t}function G9(e){const t={},r=x(e,["voiceName"]);return r!=null&&v(t,["voiceName"],r),t}function z9(e){const t={},r=x(e,["prebuiltVoiceConfig"]);return r!=null&&v(t,["prebuiltVoiceConfig"],G9(r)),t}function K9(e){const t={},r=x(e,["voiceConfig"]);if(r!=null&&v(t,["voiceConfig"],z9(r)),x(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const n=x(e,["languageCode"]);return n!=null&&v(t,["languageCode"],n),t}function q9(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function W9(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["data"]);n!=null&&v(t,["data"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function $9(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function Y9(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],q9(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],W9(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],$9(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function J9(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Y9(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function X9(e){const t={};if(x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=x(e,["description"]);r!=null&&v(t,["description"],r);const n=x(e,["name"]);n!=null&&v(t,["name"],n);const a=x(e,["parameters"]);a!=null&&v(t,["parameters"],a);const s=x(e,["parametersJsonSchema"]);s!=null&&v(t,["parametersJsonSchema"],s);const i=x(e,["response"]);i!=null&&v(t,["response"],i);const o=x(e,["responseJsonSchema"]);return o!=null&&v(t,["responseJsonSchema"],o),t}function Z9(e){const t={},r=x(e,["startTime"]);r!=null&&v(t,["startTime"],r);const n=x(e,["endTime"]);return n!=null&&v(t,["endTime"],n),t}function eV(e){const t={},r=x(e,["timeRangeFilter"]);return r!=null&&v(t,["timeRangeFilter"],Z9(r)),t}function tV(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["dynamicThreshold"]);return n!=null&&v(t,["dynamicThreshold"],n),t}function rV(e){const t={},r=x(e,["dynamicRetrievalConfig"]);return r!=null&&v(t,["dynamicRetrievalConfig"],tV(r)),t}function nV(){return{}}function aV(e){const t={},r=x(e,["apiKeyString"]);return r!=null&&v(t,["apiKeyString"],r),t}function sV(e){const t={},r=x(e,["apiKeyConfig"]);r!=null&&v(t,["apiKeyConfig"],aV(r));const n=x(e,["authType"]);n!=null&&v(t,["authType"],n);const a=x(e,["googleServiceAccountConfig"]);a!=null&&v(t,["googleServiceAccountConfig"],a);const s=x(e,["httpBasicAuthConfig"]);s!=null&&v(t,["httpBasicAuthConfig"],s);const i=x(e,["oauthConfig"]);i!=null&&v(t,["oauthConfig"],i);const o=x(e,["oidcConfig"]);return o!=null&&v(t,["oidcConfig"],o),t}function iV(e){const t={},r=x(e,["authConfig"]);return r!=null&&v(t,["authConfig"],sV(r)),t}function oV(){return{}}function lV(e){const t={},r=x(e,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(p=>X9(p))),v(t,["functionDeclarations"],h)}const n=x(e,["retrieval"]);n!=null&&v(t,["retrieval"],n);const a=x(e,["googleSearch"]);a!=null&&v(t,["googleSearch"],eV(a));const s=x(e,["googleSearchRetrieval"]);s!=null&&v(t,["googleSearchRetrieval"],rV(s)),x(e,["enterpriseWebSearch"])!=null&&v(t,["enterpriseWebSearch"],nV());const o=x(e,["googleMaps"]);o!=null&&v(t,["googleMaps"],iV(o)),x(e,["urlContext"])!=null&&v(t,["urlContext"],oV());const u=x(e,["codeExecution"]);u!=null&&v(t,["codeExecution"],u);const f=x(e,["computerUse"]);return f!=null&&v(t,["computerUse"],f),t}function cV(e){const t={},r=x(e,["handle"]);r!=null&&v(t,["handle"],r);const n=x(e,["transparent"]);return n!=null&&v(t,["transparent"],n),t}function JB(){return{}}function AV(e){const t={},r=x(e,["disabled"]);r!=null&&v(t,["disabled"],r);const n=x(e,["startOfSpeechSensitivity"]);n!=null&&v(t,["startOfSpeechSensitivity"],n);const a=x(e,["endOfSpeechSensitivity"]);a!=null&&v(t,["endOfSpeechSensitivity"],a);const s=x(e,["prefixPaddingMs"]);s!=null&&v(t,["prefixPaddingMs"],s);const i=x(e,["silenceDurationMs"]);return i!=null&&v(t,["silenceDurationMs"],i),t}function uV(e){const t={},r=x(e,["automaticActivityDetection"]);r!=null&&v(t,["automaticActivityDetection"],AV(r));const n=x(e,["activityHandling"]);n!=null&&v(t,["activityHandling"],n);const a=x(e,["turnCoverage"]);return a!=null&&v(t,["turnCoverage"],a),t}function dV(e){const t={},r=x(e,["targetTokens"]);return r!=null&&v(t,["targetTokens"],r),t}function fV(e){const t={},r=x(e,["triggerTokens"]);r!=null&&v(t,["triggerTokens"],r);const n=x(e,["slidingWindow"]);return n!=null&&v(t,["slidingWindow"],dV(n)),t}function hV(e){const t={},r=x(e,["proactiveAudio"]);return r!=null&&v(t,["proactiveAudio"],r),t}function mV(e,t){const r={},n=x(e,["generationConfig"]);t!==void 0&&n!=null&&v(t,["setup","generationConfig"],n);const a=x(e,["responseModalities"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","responseModalities"],a);const s=x(e,["temperature"]);t!==void 0&&s!=null&&v(t,["setup","generationConfig","temperature"],s);const i=x(e,["topP"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","topP"],i);const o=x(e,["topK"]);t!==void 0&&o!=null&&v(t,["setup","generationConfig","topK"],o);const c=x(e,["maxOutputTokens"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","maxOutputTokens"],c);const u=x(e,["mediaResolution"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","mediaResolution"],u);const f=x(e,["seed"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","seed"],f);const h=x(e,["speechConfig"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","speechConfig"],K9(UC(h)));const p=x(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],p);const g=x(e,["systemInstruction"]);t!==void 0&&g!=null&&v(t,["setup","systemInstruction"],J9(Ms(g)));const b=x(e,["tools"]);if(t!==void 0&&b!=null){let k=Z0(b);Array.isArray(k)&&(k=k.map(U=>lV(X0(U)))),v(t,["setup","tools"],k)}const y=x(e,["sessionResumption"]);t!==void 0&&y!=null&&v(t,["setup","sessionResumption"],cV(y));const E=x(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&v(t,["setup","inputAudioTranscription"],JB());const S=x(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&v(t,["setup","outputAudioTranscription"],JB());const N=x(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&v(t,["setup","realtimeInputConfig"],uV(N));const B=x(e,["contextWindowCompression"]);t!==void 0&&B!=null&&v(t,["setup","contextWindowCompression"],fV(B));const _=x(e,["proactivity"]);return t!==void 0&&_!=null&&v(t,["setup","proactivity"],hV(_)),r}function pV(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["setup","model"],dn(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],mV(a,r)),r}function gV(){return{}}function xV(){return{}}function vV(e){const t={},r=x(e,["media"]);r!=null&&v(t,["mediaChunks"],_F(r));const n=x(e,["audio"]);n!=null&&v(t,["audio"],kF(n));const a=x(e,["audioStreamEnd"]);a!=null&&v(t,["audioStreamEnd"],a);const s=x(e,["video"]);s!=null&&v(t,["video"],TF(s));const i=x(e,["text"]);return i!=null&&v(t,["text"],i),x(e,["activityStart"])!=null&&v(t,["activityStart"],gV()),x(e,["activityEnd"])!=null&&v(t,["activityEnd"],xV()),t}function wV(){return{}}function yV(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function bV(e){const t={},r=x(e,["data"]);r!=null&&v(t,["data"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function CV(e){const t={},r=x(e,["fileUri"]);r!=null&&v(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function EV(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],yV(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],bV(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],CV(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function SV(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>EV(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function XB(e){const t={},r=x(e,["text"]);r!=null&&v(t,["text"],r);const n=x(e,["finished"]);return n!=null&&v(t,["finished"],n),t}function BV(e){const t={},r=x(e,["retrievedUrl"]);r!=null&&v(t,["retrievedUrl"],r);const n=x(e,["urlRetrievalStatus"]);return n!=null&&v(t,["urlRetrievalStatus"],n),t}function NV(e){const t={},r=x(e,["urlMetadata"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>BV(a))),v(t,["urlMetadata"],n)}return t}function _V(e){const t={},r=x(e,["modelTurn"]);r!=null&&v(t,["modelTurn"],SV(r));const n=x(e,["turnComplete"]);n!=null&&v(t,["turnComplete"],n);const a=x(e,["interrupted"]);a!=null&&v(t,["interrupted"],a);const s=x(e,["groundingMetadata"]);s!=null&&v(t,["groundingMetadata"],s);const i=x(e,["generationComplete"]);i!=null&&v(t,["generationComplete"],i);const o=x(e,["inputTranscription"]);o!=null&&v(t,["inputTranscription"],XB(o));const c=x(e,["outputTranscription"]);c!=null&&v(t,["outputTranscription"],XB(c));const u=x(e,["urlContextMetadata"]);return u!=null&&v(t,["urlContextMetadata"],NV(u)),t}function TV(e){const t={},r=x(e,["id"]);r!=null&&v(t,["id"],r);const n=x(e,["args"]);n!=null&&v(t,["args"],n);const a=x(e,["name"]);return a!=null&&v(t,["name"],a),t}function kV(e){const t={},r=x(e,["functionCalls"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>TV(a))),v(t,["functionCalls"],n)}return t}function FV(e){const t={},r=x(e,["ids"]);return r!=null&&v(t,["ids"],r),t}function Gg(e){const t={},r=x(e,["modality"]);r!=null&&v(t,["modality"],r);const n=x(e,["tokenCount"]);return n!=null&&v(t,["tokenCount"],n),t}function IV(e){const t={},r=x(e,["promptTokenCount"]);r!=null&&v(t,["promptTokenCount"],r);const n=x(e,["cachedContentTokenCount"]);n!=null&&v(t,["cachedContentTokenCount"],n);const a=x(e,["responseTokenCount"]);a!=null&&v(t,["responseTokenCount"],a);const s=x(e,["toolUsePromptTokenCount"]);s!=null&&v(t,["toolUsePromptTokenCount"],s);const i=x(e,["thoughtsTokenCount"]);i!=null&&v(t,["thoughtsTokenCount"],i);const o=x(e,["totalTokenCount"]);o!=null&&v(t,["totalTokenCount"],o);const c=x(e,["promptTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Gg(g))),v(t,["promptTokensDetails"],p)}const u=x(e,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>Gg(g))),v(t,["cacheTokensDetails"],p)}const f=x(e,["responseTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Gg(g))),v(t,["responseTokensDetails"],p)}const h=x(e,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>Gg(g))),v(t,["toolUsePromptTokensDetails"],p)}return t}function UV(e){const t={},r=x(e,["timeLeft"]);return r!=null&&v(t,["timeLeft"],r),t}function DV(e){const t={},r=x(e,["newHandle"]);r!=null&&v(t,["newHandle"],r);const n=x(e,["resumable"]);n!=null&&v(t,["resumable"],n);const a=x(e,["lastConsumedClientMessageIndex"]);return a!=null&&v(t,["lastConsumedClientMessageIndex"],a),t}function LV(e){const t={};x(e,["setupComplete"])!=null&&v(t,["setupComplete"],wV());const n=x(e,["serverContent"]);n!=null&&v(t,["serverContent"],_V(n));const a=x(e,["toolCall"]);a!=null&&v(t,["toolCall"],kV(a));const s=x(e,["toolCallCancellation"]);s!=null&&v(t,["toolCallCancellation"],FV(s));const i=x(e,["usageMetadata"]);i!=null&&v(t,["usageMetadata"],IV(i));const o=x(e,["goAway"]);o!=null&&v(t,["goAway"],UV(o));const c=x(e,["sessionResumptionUpdate"]);return c!=null&&v(t,["sessionResumptionUpdate"],DV(c)),t}function RV(){return{}}function MV(e){const t={},r=x(e,["text"]);r!=null&&v(t,["text"],r);const n=x(e,["weight"]);return n!=null&&v(t,["weight"],n),t}function PV(e){const t={},r=x(e,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>MV(a))),v(t,["weightedPrompts"],n)}return t}function jV(e){const t={},r=x(e,["temperature"]);r!=null&&v(t,["temperature"],r);const n=x(e,["topK"]);n!=null&&v(t,["topK"],n);const a=x(e,["seed"]);a!=null&&v(t,["seed"],a);const s=x(e,["guidance"]);s!=null&&v(t,["guidance"],s);const i=x(e,["bpm"]);i!=null&&v(t,["bpm"],i);const o=x(e,["density"]);o!=null&&v(t,["density"],o);const c=x(e,["brightness"]);c!=null&&v(t,["brightness"],c);const u=x(e,["scale"]);u!=null&&v(t,["scale"],u);const f=x(e,["muteBass"]);f!=null&&v(t,["muteBass"],f);const h=x(e,["muteDrums"]);h!=null&&v(t,["muteDrums"],h);const p=x(e,["onlyBassAndDrums"]);return p!=null&&v(t,["onlyBassAndDrums"],p),t}function OV(e){const t={},r=x(e,["clientContent"]);r!=null&&v(t,["clientContent"],PV(r));const n=x(e,["musicGenerationConfig"]);return n!=null&&v(t,["musicGenerationConfig"],jV(n)),t}function QV(e){const t={},r=x(e,["data"]);r!=null&&v(t,["data"],r);const n=x(e,["mimeType"]);n!=null&&v(t,["mimeType"],n);const a=x(e,["sourceMetadata"]);return a!=null&&v(t,["sourceMetadata"],OV(a)),t}function HV(e){const t={},r=x(e,["audioChunks"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>QV(a))),v(t,["audioChunks"],n)}return t}function VV(e){const t={},r=x(e,["text"]);r!=null&&v(t,["text"],r);const n=x(e,["filteredReason"]);return n!=null&&v(t,["filteredReason"],n),t}function GV(e){const t={};x(e,["setupComplete"])!=null&&v(t,["setupComplete"],RV());const n=x(e,["serverContent"]);n!=null&&v(t,["serverContent"],HV(n));const a=x(e,["filteredPrompt"]);return a!=null&&v(t,["filteredPrompt"],VV(a)),t}function zV(e){const t={},r=x(e,["sessionId"]);return r!=null&&v(t,["sessionId"],r),t}function KV(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function qV(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["data"]);n!=null&&v(t,["data"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function WV(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function $V(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],KV(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],qV(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],WV(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function YV(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>$V(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function ZB(e){const t={},r=x(e,["text"]);r!=null&&v(t,["text"],r);const n=x(e,["finished"]);return n!=null&&v(t,["finished"],n),t}function JV(e){const t={},r=x(e,["modelTurn"]);r!=null&&v(t,["modelTurn"],YV(r));const n=x(e,["turnComplete"]);n!=null&&v(t,["turnComplete"],n);const a=x(e,["interrupted"]);a!=null&&v(t,["interrupted"],a);const s=x(e,["groundingMetadata"]);s!=null&&v(t,["groundingMetadata"],s);const i=x(e,["generationComplete"]);i!=null&&v(t,["generationComplete"],i);const o=x(e,["inputTranscription"]);o!=null&&v(t,["inputTranscription"],ZB(o));const c=x(e,["outputTranscription"]);return c!=null&&v(t,["outputTranscription"],ZB(c)),t}function XV(e){const t={},r=x(e,["args"]);r!=null&&v(t,["args"],r);const n=x(e,["name"]);return n!=null&&v(t,["name"],n),t}function ZV(e){const t={},r=x(e,["functionCalls"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>XV(a))),v(t,["functionCalls"],n)}return t}function eG(e){const t={},r=x(e,["ids"]);return r!=null&&v(t,["ids"],r),t}function zg(e){const t={},r=x(e,["modality"]);r!=null&&v(t,["modality"],r);const n=x(e,["tokenCount"]);return n!=null&&v(t,["tokenCount"],n),t}function tG(e){const t={},r=x(e,["promptTokenCount"]);r!=null&&v(t,["promptTokenCount"],r);const n=x(e,["cachedContentTokenCount"]);n!=null&&v(t,["cachedContentTokenCount"],n);const a=x(e,["candidatesTokenCount"]);a!=null&&v(t,["responseTokenCount"],a);const s=x(e,["toolUsePromptTokenCount"]);s!=null&&v(t,["toolUsePromptTokenCount"],s);const i=x(e,["thoughtsTokenCount"]);i!=null&&v(t,["thoughtsTokenCount"],i);const o=x(e,["totalTokenCount"]);o!=null&&v(t,["totalTokenCount"],o);const c=x(e,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(b=>zg(b))),v(t,["promptTokensDetails"],g)}const u=x(e,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(b=>zg(b))),v(t,["cacheTokensDetails"],g)}const f=x(e,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>zg(b))),v(t,["responseTokensDetails"],g)}const h=x(e,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>zg(b))),v(t,["toolUsePromptTokensDetails"],g)}const p=x(e,["trafficType"]);return p!=null&&v(t,["trafficType"],p),t}function rG(e){const t={},r=x(e,["timeLeft"]);return r!=null&&v(t,["timeLeft"],r),t}function nG(e){const t={},r=x(e,["newHandle"]);r!=null&&v(t,["newHandle"],r);const n=x(e,["resumable"]);n!=null&&v(t,["resumable"],n);const a=x(e,["lastConsumedClientMessageIndex"]);return a!=null&&v(t,["lastConsumedClientMessageIndex"],a),t}function aG(e){const t={},r=x(e,["setupComplete"]);r!=null&&v(t,["setupComplete"],zV(r));const n=x(e,["serverContent"]);n!=null&&v(t,["serverContent"],JV(n));const a=x(e,["toolCall"]);a!=null&&v(t,["toolCall"],ZV(a));const s=x(e,["toolCallCancellation"]);s!=null&&v(t,["toolCallCancellation"],eG(s));const i=x(e,["usageMetadata"]);i!=null&&v(t,["usageMetadata"],tG(i));const o=x(e,["goAway"]);o!=null&&v(t,["goAway"],rG(o));const c=x(e,["sessionResumptionUpdate"]);return c!=null&&v(t,["sessionResumptionUpdate"],nG(c)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sG(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function iG(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["data"]);r!=null&&v(t,["data"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function oG(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&v(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function lG(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],sG(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],iG(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],oG(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function fv(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>lG(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function cG(e){const t={},r=x(e,["anyOf"]);r!=null&&v(t,["anyOf"],r);const n=x(e,["default"]);n!=null&&v(t,["default"],n);const a=x(e,["description"]);a!=null&&v(t,["description"],a);const s=x(e,["enum"]);s!=null&&v(t,["enum"],s);const i=x(e,["example"]);i!=null&&v(t,["example"],i);const o=x(e,["format"]);o!=null&&v(t,["format"],o);const c=x(e,["items"]);c!=null&&v(t,["items"],c);const u=x(e,["maxItems"]);u!=null&&v(t,["maxItems"],u);const f=x(e,["maxLength"]);f!=null&&v(t,["maxLength"],f);const h=x(e,["maxProperties"]);h!=null&&v(t,["maxProperties"],h);const p=x(e,["maximum"]);p!=null&&v(t,["maximum"],p);const g=x(e,["minItems"]);g!=null&&v(t,["minItems"],g);const b=x(e,["minLength"]);b!=null&&v(t,["minLength"],b);const y=x(e,["minProperties"]);y!=null&&v(t,["minProperties"],y);const E=x(e,["minimum"]);E!=null&&v(t,["minimum"],E);const S=x(e,["nullable"]);S!=null&&v(t,["nullable"],S);const N=x(e,["pattern"]);N!=null&&v(t,["pattern"],N);const B=x(e,["properties"]);B!=null&&v(t,["properties"],B);const _=x(e,["propertyOrdering"]);_!=null&&v(t,["propertyOrdering"],_);const k=x(e,["required"]);k!=null&&v(t,["required"],k);const U=x(e,["title"]);U!=null&&v(t,["title"],U);const F=x(e,["type"]);return F!=null&&v(t,["type"],F),t}function AG(e){const t={};if(x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(e,["category"]);r!=null&&v(t,["category"],r);const n=x(e,["threshold"]);return n!=null&&v(t,["threshold"],n),t}function uG(e){const t={},r=x(e,["behavior"]);r!=null&&v(t,["behavior"],r);const n=x(e,["description"]);n!=null&&v(t,["description"],n);const a=x(e,["name"]);a!=null&&v(t,["name"],a);const s=x(e,["parameters"]);s!=null&&v(t,["parameters"],s);const i=x(e,["parametersJsonSchema"]);i!=null&&v(t,["parametersJsonSchema"],i);const o=x(e,["response"]);o!=null&&v(t,["response"],o);const c=x(e,["responseJsonSchema"]);return c!=null&&v(t,["responseJsonSchema"],c),t}function dG(e){const t={},r=x(e,["startTime"]);r!=null&&v(t,["startTime"],r);const n=x(e,["endTime"]);return n!=null&&v(t,["endTime"],n),t}function fG(e){const t={},r=x(e,["timeRangeFilter"]);return r!=null&&v(t,["timeRangeFilter"],dG(r)),t}function hG(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["dynamicThreshold"]);return n!=null&&v(t,["dynamicThreshold"],n),t}function mG(e){const t={},r=x(e,["dynamicRetrievalConfig"]);return r!=null&&v(t,["dynamicRetrievalConfig"],hG(r)),t}function pG(){return{}}function gG(e){const t={},r=x(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>uG(u))),v(t,["functionDeclarations"],c)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["googleSearch"]);n!=null&&v(t,["googleSearch"],fG(n));const a=x(e,["googleSearchRetrieval"]);if(a!=null&&v(t,["googleSearchRetrieval"],mG(a)),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(e,["urlContext"])!=null&&v(t,["urlContext"],pG());const i=x(e,["codeExecution"]);i!=null&&v(t,["codeExecution"],i);const o=x(e,["computerUse"]);return o!=null&&v(t,["computerUse"],o),t}function xG(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["allowedFunctionNames"]);return n!=null&&v(t,["allowedFunctionNames"],n),t}function vG(e){const t={},r=x(e,["latitude"]);r!=null&&v(t,["latitude"],r);const n=x(e,["longitude"]);return n!=null&&v(t,["longitude"],n),t}function wG(e){const t={},r=x(e,["latLng"]);r!=null&&v(t,["latLng"],vG(r));const n=x(e,["languageCode"]);return n!=null&&v(t,["languageCode"],n),t}function yG(e){const t={},r=x(e,["functionCallingConfig"]);r!=null&&v(t,["functionCallingConfig"],xG(r));const n=x(e,["retrievalConfig"]);return n!=null&&v(t,["retrievalConfig"],wG(n)),t}function bG(e){const t={},r=x(e,["voiceName"]);return r!=null&&v(t,["voiceName"],r),t}function $F(e){const t={},r=x(e,["prebuiltVoiceConfig"]);return r!=null&&v(t,["prebuiltVoiceConfig"],bG(r)),t}function CG(e){const t={},r=x(e,["speaker"]);r!=null&&v(t,["speaker"],r);const n=x(e,["voiceConfig"]);return n!=null&&v(t,["voiceConfig"],$F(n)),t}function EG(e){const t={},r=x(e,["speakerVoiceConfigs"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>CG(a))),v(t,["speakerVoiceConfigs"],n)}return t}function SG(e){const t={},r=x(e,["voiceConfig"]);r!=null&&v(t,["voiceConfig"],$F(r));const n=x(e,["multiSpeakerVoiceConfig"]);n!=null&&v(t,["multiSpeakerVoiceConfig"],EG(n));const a=x(e,["languageCode"]);return a!=null&&v(t,["languageCode"],a),t}function BG(e){const t={},r=x(e,["includeThoughts"]);r!=null&&v(t,["includeThoughts"],r);const n=x(e,["thinkingBudget"]);return n!=null&&v(t,["thinkingBudget"],n),t}function NG(e,t,r){const n={},a=x(t,["systemInstruction"]);r!==void 0&&a!=null&&v(r,["systemInstruction"],fv(Ms(a)));const s=x(t,["temperature"]);s!=null&&v(n,["temperature"],s);const i=x(t,["topP"]);i!=null&&v(n,["topP"],i);const o=x(t,["topK"]);o!=null&&v(n,["topK"],o);const c=x(t,["candidateCount"]);c!=null&&v(n,["candidateCount"],c);const u=x(t,["maxOutputTokens"]);u!=null&&v(n,["maxOutputTokens"],u);const f=x(t,["stopSequences"]);f!=null&&v(n,["stopSequences"],f);const h=x(t,["responseLogprobs"]);h!=null&&v(n,["responseLogprobs"],h);const p=x(t,["logprobs"]);p!=null&&v(n,["logprobs"],p);const g=x(t,["presencePenalty"]);g!=null&&v(n,["presencePenalty"],g);const b=x(t,["frequencyPenalty"]);b!=null&&v(n,["frequencyPenalty"],b);const y=x(t,["seed"]);y!=null&&v(n,["seed"],y);const E=x(t,["responseMimeType"]);E!=null&&v(n,["responseMimeType"],E);const S=x(t,["responseSchema"]);S!=null&&v(n,["responseSchema"],cG(FC(S)));const N=x(t,["responseJsonSchema"]);if(N!=null&&v(n,["responseJsonSchema"],N),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=x(t,["safetySettings"]);if(r!==void 0&&B!=null){let O=B;Array.isArray(O)&&(O=O.map(M=>AG(M))),v(r,["safetySettings"],O)}const _=x(t,["tools"]);if(r!==void 0&&_!=null){let O=Z0(_);Array.isArray(O)&&(O=O.map(M=>gG(X0(M)))),v(r,["tools"],O)}const k=x(t,["toolConfig"]);if(r!==void 0&&k!=null&&v(r,["toolConfig"],yG(k)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=x(t,["cachedContent"]);r!==void 0&&U!=null&&v(r,["cachedContent"],eA(e,U));const F=x(t,["responseModalities"]);F!=null&&v(n,["responseModalities"],F);const L=x(t,["mediaResolution"]);L!=null&&v(n,["mediaResolution"],L);const D=x(t,["speechConfig"]);if(D!=null&&v(n,["speechConfig"],SG(IC(D))),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=x(t,["thinkingConfig"]);return W!=null&&v(n,["thinkingConfig"],BG(W)),n}function eN(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["contents"]);if(a!=null){let i=go(a);Array.isArray(i)&&(i=i.map(o=>fv(o))),v(r,["contents"],i)}const s=x(t,["config"]);return s!=null&&v(r,["generationConfig"],NG(e,s,r)),r}function _G(e,t){const r={},n=x(e,["taskType"]);t!==void 0&&n!=null&&v(t,["requests[]","taskType"],n);const a=x(e,["title"]);t!==void 0&&a!=null&&v(t,["requests[]","title"],a);const s=x(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&v(t,["requests[]","outputDimensionality"],s),x(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function TG(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["contents"]);a!=null&&v(r,["requests[]","content"],IF(e,a));const s=x(t,["config"]);s!=null&&v(r,["config"],_G(s,r));const i=x(t,["model"]);return i!==void 0&&v(r,["requests[]","model"],dn(e,i)),r}function kG(e,t){const r={};if(x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=x(e,["numberOfImages"]);t!==void 0&&n!=null&&v(t,["parameters","sampleCount"],n);const a=x(e,["aspectRatio"]);t!==void 0&&a!=null&&v(t,["parameters","aspectRatio"],a);const s=x(e,["guidanceScale"]);if(t!==void 0&&s!=null&&v(t,["parameters","guidanceScale"],s),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=x(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&v(t,["parameters","safetySetting"],i);const o=x(e,["personGeneration"]);t!==void 0&&o!=null&&v(t,["parameters","personGeneration"],o);const c=x(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&v(t,["parameters","includeSafetyAttributes"],c);const u=x(e,["includeRaiReason"]);t!==void 0&&u!=null&&v(t,["parameters","includeRaiReason"],u);const f=x(e,["language"]);t!==void 0&&f!=null&&v(t,["parameters","language"],f);const h=x(e,["outputMimeType"]);t!==void 0&&h!=null&&v(t,["parameters","outputOptions","mimeType"],h);const p=x(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&v(t,["parameters","outputOptions","compressionQuality"],p),x(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(e,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(x(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function FG(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const s=x(t,["config"]);return s!=null&&v(r,["config"],kG(s,r)),r}function IG(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","name"],dn(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function UG(e,t,r){const n={},a=x(t,["pageSize"]);r!==void 0&&a!=null&&v(r,["_query","pageSize"],a);const s=x(t,["pageToken"]);r!==void 0&&s!=null&&v(r,["_query","pageToken"],s);const i=x(t,["filter"]);r!==void 0&&i!=null&&v(r,["_query","filter"],i);const o=x(t,["queryBase"]);return r!==void 0&&o!=null&&v(r,["_url","models_url"],LF(e,o)),n}function DG(e,t){const r={},n=x(t,["config"]);return n!=null&&v(r,["config"],UG(e,n,r)),r}function LG(e,t){const r={},n=x(e,["displayName"]);t!==void 0&&n!=null&&v(t,["displayName"],n);const a=x(e,["description"]);t!==void 0&&a!=null&&v(t,["description"],a);const s=x(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&v(t,["defaultCheckpointId"],s),r}function RG(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","name"],dn(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],LG(a,r)),r}function MG(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","name"],dn(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function PG(e){const t={};if(x(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function jG(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["contents"]);if(a!=null){let i=go(a);Array.isArray(i)&&(i=i.map(o=>fv(o))),v(r,["contents"],i)}const s=x(t,["config"]);return s!=null&&v(r,["config"],PG(s)),r}function OG(e){const t={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(e,["imageBytes"]);r!=null&&v(t,["bytesBase64Encoded"],Yd(r));const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function QG(e,t){const r={},n=x(e,["numberOfVideos"]);if(t!==void 0&&n!=null&&v(t,["parameters","sampleCount"],n),x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=x(e,["durationSeconds"]);if(t!==void 0&&a!=null&&v(t,["parameters","durationSeconds"],a),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=x(e,["aspectRatio"]);if(t!==void 0&&s!=null&&v(t,["parameters","aspectRatio"],s),x(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const i=x(e,["personGeneration"]);if(t!==void 0&&i!=null&&v(t,["parameters","personGeneration"],i),x(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const o=x(e,["negativePrompt"]);t!==void 0&&o!=null&&v(t,["parameters","negativePrompt"],o);const c=x(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&v(t,["parameters","enhancePrompt"],c),x(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(x(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(x(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function HG(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const s=x(t,["image"]);if(s!=null&&v(r,["instances[0]","image"],OG(s)),x(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const i=x(t,["config"]);return i!=null&&v(r,["config"],QG(i,r)),r}function VG(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function GG(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["data"]);n!=null&&v(t,["data"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function zG(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function KG(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],VG(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],GG(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],zG(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function th(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>KG(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function qG(e){const t={},r=x(e,["anyOf"]);r!=null&&v(t,["anyOf"],r);const n=x(e,["default"]);n!=null&&v(t,["default"],n);const a=x(e,["description"]);a!=null&&v(t,["description"],a);const s=x(e,["enum"]);s!=null&&v(t,["enum"],s);const i=x(e,["example"]);i!=null&&v(t,["example"],i);const o=x(e,["format"]);o!=null&&v(t,["format"],o);const c=x(e,["items"]);c!=null&&v(t,["items"],c);const u=x(e,["maxItems"]);u!=null&&v(t,["maxItems"],u);const f=x(e,["maxLength"]);f!=null&&v(t,["maxLength"],f);const h=x(e,["maxProperties"]);h!=null&&v(t,["maxProperties"],h);const p=x(e,["maximum"]);p!=null&&v(t,["maximum"],p);const g=x(e,["minItems"]);g!=null&&v(t,["minItems"],g);const b=x(e,["minLength"]);b!=null&&v(t,["minLength"],b);const y=x(e,["minProperties"]);y!=null&&v(t,["minProperties"],y);const E=x(e,["minimum"]);E!=null&&v(t,["minimum"],E);const S=x(e,["nullable"]);S!=null&&v(t,["nullable"],S);const N=x(e,["pattern"]);N!=null&&v(t,["pattern"],N);const B=x(e,["properties"]);B!=null&&v(t,["properties"],B);const _=x(e,["propertyOrdering"]);_!=null&&v(t,["propertyOrdering"],_);const k=x(e,["required"]);k!=null&&v(t,["required"],k);const U=x(e,["title"]);U!=null&&v(t,["title"],U);const F=x(e,["type"]);return F!=null&&v(t,["type"],F),t}function WG(e){const t={},r=x(e,["featureSelectionPreference"]);return r!=null&&v(t,["featureSelectionPreference"],r),t}function $G(e){const t={},r=x(e,["method"]);r!=null&&v(t,["method"],r);const n=x(e,["category"]);n!=null&&v(t,["category"],n);const a=x(e,["threshold"]);return a!=null&&v(t,["threshold"],a),t}function YG(e){const t={};if(x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=x(e,["description"]);r!=null&&v(t,["description"],r);const n=x(e,["name"]);n!=null&&v(t,["name"],n);const a=x(e,["parameters"]);a!=null&&v(t,["parameters"],a);const s=x(e,["parametersJsonSchema"]);s!=null&&v(t,["parametersJsonSchema"],s);const i=x(e,["response"]);i!=null&&v(t,["response"],i);const o=x(e,["responseJsonSchema"]);return o!=null&&v(t,["responseJsonSchema"],o),t}function JG(e){const t={},r=x(e,["startTime"]);r!=null&&v(t,["startTime"],r);const n=x(e,["endTime"]);return n!=null&&v(t,["endTime"],n),t}function XG(e){const t={},r=x(e,["timeRangeFilter"]);return r!=null&&v(t,["timeRangeFilter"],JG(r)),t}function ZG(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["dynamicThreshold"]);return n!=null&&v(t,["dynamicThreshold"],n),t}function ez(e){const t={},r=x(e,["dynamicRetrievalConfig"]);return r!=null&&v(t,["dynamicRetrievalConfig"],ZG(r)),t}function tz(){return{}}function rz(e){const t={},r=x(e,["apiKeyString"]);return r!=null&&v(t,["apiKeyString"],r),t}function nz(e){const t={},r=x(e,["apiKeyConfig"]);r!=null&&v(t,["apiKeyConfig"],rz(r));const n=x(e,["authType"]);n!=null&&v(t,["authType"],n);const a=x(e,["googleServiceAccountConfig"]);a!=null&&v(t,["googleServiceAccountConfig"],a);const s=x(e,["httpBasicAuthConfig"]);s!=null&&v(t,["httpBasicAuthConfig"],s);const i=x(e,["oauthConfig"]);i!=null&&v(t,["oauthConfig"],i);const o=x(e,["oidcConfig"]);return o!=null&&v(t,["oidcConfig"],o),t}function az(e){const t={},r=x(e,["authConfig"]);return r!=null&&v(t,["authConfig"],nz(r)),t}function sz(){return{}}function YF(e){const t={},r=x(e,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(p=>YG(p))),v(t,["functionDeclarations"],h)}const n=x(e,["retrieval"]);n!=null&&v(t,["retrieval"],n);const a=x(e,["googleSearch"]);a!=null&&v(t,["googleSearch"],XG(a));const s=x(e,["googleSearchRetrieval"]);s!=null&&v(t,["googleSearchRetrieval"],ez(s)),x(e,["enterpriseWebSearch"])!=null&&v(t,["enterpriseWebSearch"],tz());const o=x(e,["googleMaps"]);o!=null&&v(t,["googleMaps"],az(o)),x(e,["urlContext"])!=null&&v(t,["urlContext"],sz());const u=x(e,["codeExecution"]);u!=null&&v(t,["codeExecution"],u);const f=x(e,["computerUse"]);return f!=null&&v(t,["computerUse"],f),t}function iz(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["allowedFunctionNames"]);return n!=null&&v(t,["allowedFunctionNames"],n),t}function oz(e){const t={},r=x(e,["latitude"]);r!=null&&v(t,["latitude"],r);const n=x(e,["longitude"]);return n!=null&&v(t,["longitude"],n),t}function lz(e){const t={},r=x(e,["latLng"]);r!=null&&v(t,["latLng"],oz(r));const n=x(e,["languageCode"]);return n!=null&&v(t,["languageCode"],n),t}function cz(e){const t={},r=x(e,["functionCallingConfig"]);r!=null&&v(t,["functionCallingConfig"],iz(r));const n=x(e,["retrievalConfig"]);return n!=null&&v(t,["retrievalConfig"],lz(n)),t}function Az(e){const t={},r=x(e,["voiceName"]);return r!=null&&v(t,["voiceName"],r),t}function uz(e){const t={},r=x(e,["prebuiltVoiceConfig"]);return r!=null&&v(t,["prebuiltVoiceConfig"],Az(r)),t}function dz(e){const t={},r=x(e,["voiceConfig"]);if(r!=null&&v(t,["voiceConfig"],uz(r)),x(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const n=x(e,["languageCode"]);return n!=null&&v(t,["languageCode"],n),t}function fz(e){const t={},r=x(e,["includeThoughts"]);r!=null&&v(t,["includeThoughts"],r);const n=x(e,["thinkingBudget"]);return n!=null&&v(t,["thinkingBudget"],n),t}function hz(e,t,r){const n={},a=x(t,["systemInstruction"]);r!==void 0&&a!=null&&v(r,["systemInstruction"],th(Ms(a)));const s=x(t,["temperature"]);s!=null&&v(n,["temperature"],s);const i=x(t,["topP"]);i!=null&&v(n,["topP"],i);const o=x(t,["topK"]);o!=null&&v(n,["topK"],o);const c=x(t,["candidateCount"]);c!=null&&v(n,["candidateCount"],c);const u=x(t,["maxOutputTokens"]);u!=null&&v(n,["maxOutputTokens"],u);const f=x(t,["stopSequences"]);f!=null&&v(n,["stopSequences"],f);const h=x(t,["responseLogprobs"]);h!=null&&v(n,["responseLogprobs"],h);const p=x(t,["logprobs"]);p!=null&&v(n,["logprobs"],p);const g=x(t,["presencePenalty"]);g!=null&&v(n,["presencePenalty"],g);const b=x(t,["frequencyPenalty"]);b!=null&&v(n,["frequencyPenalty"],b);const y=x(t,["seed"]);y!=null&&v(n,["seed"],y);const E=x(t,["responseMimeType"]);E!=null&&v(n,["responseMimeType"],E);const S=x(t,["responseSchema"]);S!=null&&v(n,["responseSchema"],qG(FC(S)));const N=x(t,["responseJsonSchema"]);N!=null&&v(n,["responseJsonSchema"],N);const B=x(t,["routingConfig"]);B!=null&&v(n,["routingConfig"],B);const _=x(t,["modelSelectionConfig"]);_!=null&&v(n,["modelConfig"],WG(_));const k=x(t,["safetySettings"]);if(r!==void 0&&k!=null){let ae=k;Array.isArray(ae)&&(ae=ae.map(V=>$G(V))),v(r,["safetySettings"],ae)}const U=x(t,["tools"]);if(r!==void 0&&U!=null){let ae=Z0(U);Array.isArray(ae)&&(ae=ae.map(V=>YF(X0(V)))),v(r,["tools"],ae)}const F=x(t,["toolConfig"]);r!==void 0&&F!=null&&v(r,["toolConfig"],cz(F));const L=x(t,["labels"]);r!==void 0&&L!=null&&v(r,["labels"],L);const D=x(t,["cachedContent"]);r!==void 0&&D!=null&&v(r,["cachedContent"],eA(e,D));const W=x(t,["responseModalities"]);W!=null&&v(n,["responseModalities"],W);const O=x(t,["mediaResolution"]);O!=null&&v(n,["mediaResolution"],O);const M=x(t,["speechConfig"]);M!=null&&v(n,["speechConfig"],dz(IC(M)));const K=x(t,["audioTimestamp"]);K!=null&&v(n,["audioTimestamp"],K);const Q=x(t,["thinkingConfig"]);return Q!=null&&v(n,["thinkingConfig"],fz(Q)),n}function tN(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["contents"]);if(a!=null){let i=go(a);Array.isArray(i)&&(i=i.map(o=>th(o))),v(r,["contents"],i)}const s=x(t,["config"]);return s!=null&&v(r,["generationConfig"],hz(e,s,r)),r}function mz(e,t){const r={},n=x(e,["taskType"]);t!==void 0&&n!=null&&v(t,["instances[]","task_type"],n);const a=x(e,["title"]);t!==void 0&&a!=null&&v(t,["instances[]","title"],a);const s=x(e,["outputDimensionality"]);t!==void 0&&s!=null&&v(t,["parameters","outputDimensionality"],s);const i=x(e,["mimeType"]);t!==void 0&&i!=null&&v(t,["instances[]","mimeType"],i);const o=x(e,["autoTruncate"]);return t!==void 0&&o!=null&&v(t,["parameters","autoTruncate"],o),r}function pz(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["contents"]);a!=null&&v(r,["instances[]","content"],IF(e,a));const s=x(t,["config"]);return s!=null&&v(r,["config"],mz(s,r)),r}function gz(e,t){const r={},n=x(e,["outputGcsUri"]);t!==void 0&&n!=null&&v(t,["parameters","storageUri"],n);const a=x(e,["negativePrompt"]);t!==void 0&&a!=null&&v(t,["parameters","negativePrompt"],a);const s=x(e,["numberOfImages"]);t!==void 0&&s!=null&&v(t,["parameters","sampleCount"],s);const i=x(e,["aspectRatio"]);t!==void 0&&i!=null&&v(t,["parameters","aspectRatio"],i);const o=x(e,["guidanceScale"]);t!==void 0&&o!=null&&v(t,["parameters","guidanceScale"],o);const c=x(e,["seed"]);t!==void 0&&c!=null&&v(t,["parameters","seed"],c);const u=x(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&v(t,["parameters","safetySetting"],u);const f=x(e,["personGeneration"]);t!==void 0&&f!=null&&v(t,["parameters","personGeneration"],f);const h=x(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&v(t,["parameters","includeSafetyAttributes"],h);const p=x(e,["includeRaiReason"]);t!==void 0&&p!=null&&v(t,["parameters","includeRaiReason"],p);const g=x(e,["language"]);t!==void 0&&g!=null&&v(t,["parameters","language"],g);const b=x(e,["outputMimeType"]);t!==void 0&&b!=null&&v(t,["parameters","outputOptions","mimeType"],b);const y=x(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&v(t,["parameters","outputOptions","compressionQuality"],y);const E=x(e,["addWatermark"]);t!==void 0&&E!=null&&v(t,["parameters","addWatermark"],E);const S=x(e,["imageSize"]);t!==void 0&&S!=null&&v(t,["parameters","sampleImageSize"],S);const N=x(e,["enhancePrompt"]);return t!==void 0&&N!=null&&v(t,["parameters","enhancePrompt"],N),r}function xz(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const s=x(t,["config"]);return s!=null&&v(r,["config"],gz(s,r)),r}function hv(e){const t={},r=x(e,["gcsUri"]);r!=null&&v(t,["gcsUri"],r);const n=x(e,["imageBytes"]);n!=null&&v(t,["bytesBase64Encoded"],Yd(n));const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function vz(e){const t={},r=x(e,["maskMode"]);r!=null&&v(t,["maskMode"],r);const n=x(e,["segmentationClasses"]);n!=null&&v(t,["maskClasses"],n);const a=x(e,["maskDilation"]);return a!=null&&v(t,["dilation"],a),t}function wz(e){const t={},r=x(e,["controlType"]);r!=null&&v(t,["controlType"],r);const n=x(e,["enableControlImageComputation"]);return n!=null&&v(t,["computeControl"],n),t}function yz(e){const t={},r=x(e,["styleDescription"]);return r!=null&&v(t,["styleDescription"],r),t}function bz(e){const t={},r=x(e,["subjectType"]);r!=null&&v(t,["subjectType"],r);const n=x(e,["subjectDescription"]);return n!=null&&v(t,["subjectDescription"],n),t}function Cz(e){const t={},r=x(e,["referenceImage"]);r!=null&&v(t,["referenceImage"],hv(r));const n=x(e,["referenceId"]);n!=null&&v(t,["referenceId"],n);const a=x(e,["referenceType"]);a!=null&&v(t,["referenceType"],a);const s=x(e,["maskImageConfig"]);s!=null&&v(t,["maskImageConfig"],vz(s));const i=x(e,["controlImageConfig"]);i!=null&&v(t,["controlImageConfig"],wz(i));const o=x(e,["styleImageConfig"]);o!=null&&v(t,["styleImageConfig"],yz(o));const c=x(e,["subjectImageConfig"]);return c!=null&&v(t,["subjectImageConfig"],bz(c)),t}function Ez(e,t){const r={},n=x(e,["outputGcsUri"]);t!==void 0&&n!=null&&v(t,["parameters","storageUri"],n);const a=x(e,["negativePrompt"]);t!==void 0&&a!=null&&v(t,["parameters","negativePrompt"],a);const s=x(e,["numberOfImages"]);t!==void 0&&s!=null&&v(t,["parameters","sampleCount"],s);const i=x(e,["aspectRatio"]);t!==void 0&&i!=null&&v(t,["parameters","aspectRatio"],i);const o=x(e,["guidanceScale"]);t!==void 0&&o!=null&&v(t,["parameters","guidanceScale"],o);const c=x(e,["seed"]);t!==void 0&&c!=null&&v(t,["parameters","seed"],c);const u=x(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&v(t,["parameters","safetySetting"],u);const f=x(e,["personGeneration"]);t!==void 0&&f!=null&&v(t,["parameters","personGeneration"],f);const h=x(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&v(t,["parameters","includeSafetyAttributes"],h);const p=x(e,["includeRaiReason"]);t!==void 0&&p!=null&&v(t,["parameters","includeRaiReason"],p);const g=x(e,["language"]);t!==void 0&&g!=null&&v(t,["parameters","language"],g);const b=x(e,["outputMimeType"]);t!==void 0&&b!=null&&v(t,["parameters","outputOptions","mimeType"],b);const y=x(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&v(t,["parameters","outputOptions","compressionQuality"],y);const E=x(e,["addWatermark"]);t!==void 0&&E!=null&&v(t,["parameters","addWatermark"],E);const S=x(e,["editMode"]);t!==void 0&&S!=null&&v(t,["parameters","editMode"],S);const N=x(e,["baseSteps"]);return t!==void 0&&N!=null&&v(t,["parameters","editConfig","baseSteps"],N),r}function Sz(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const s=x(t,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>Cz(c))),v(r,["instances[0]","referenceImages"],o)}const i=x(t,["config"]);return i!=null&&v(r,["config"],Ez(i,r)),r}function Bz(e,t){const r={},n=x(e,["includeRaiReason"]);t!==void 0&&n!=null&&v(t,["parameters","includeRaiReason"],n);const a=x(e,["outputMimeType"]);t!==void 0&&a!=null&&v(t,["parameters","outputOptions","mimeType"],a);const s=x(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&v(t,["parameters","outputOptions","compressionQuality"],s);const i=x(e,["enhanceInputImage"]);t!==void 0&&i!=null&&v(t,["parameters","upscaleConfig","enhanceInputImage"],i);const o=x(e,["imagePreservationFactor"]);t!==void 0&&o!=null&&v(t,["parameters","upscaleConfig","imagePreservationFactor"],o);const c=x(e,["numberOfImages"]);t!==void 0&&c!=null&&v(t,["parameters","sampleCount"],c);const u=x(e,["mode"]);return t!==void 0&&u!=null&&v(t,["parameters","mode"],u),r}function Nz(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["image"]);a!=null&&v(r,["instances[0]","image"],hv(a));const s=x(t,["upscaleFactor"]);s!=null&&v(r,["parameters","upscaleConfig","upscaleFactor"],s);const i=x(t,["config"]);return i!=null&&v(r,["config"],Bz(i,r)),r}function _z(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","name"],dn(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function Tz(e,t,r){const n={},a=x(t,["pageSize"]);r!==void 0&&a!=null&&v(r,["_query","pageSize"],a);const s=x(t,["pageToken"]);r!==void 0&&s!=null&&v(r,["_query","pageToken"],s);const i=x(t,["filter"]);r!==void 0&&i!=null&&v(r,["_query","filter"],i);const o=x(t,["queryBase"]);return r!==void 0&&o!=null&&v(r,["_url","models_url"],LF(e,o)),n}function kz(e,t){const r={},n=x(t,["config"]);return n!=null&&v(r,["config"],Tz(e,n,r)),r}function Fz(e,t){const r={},n=x(e,["displayName"]);t!==void 0&&n!=null&&v(t,["displayName"],n);const a=x(e,["description"]);t!==void 0&&a!=null&&v(t,["description"],a);const s=x(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&v(t,["defaultCheckpointId"],s),r}function Iz(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],Fz(a,r)),r}function Uz(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","name"],dn(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],a),r}function Dz(e,t){const r={},n=x(e,["systemInstruction"]);t!==void 0&&n!=null&&v(t,["systemInstruction"],th(Ms(n)));const a=x(e,["tools"]);if(t!==void 0&&a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>YF(o))),v(t,["tools"],i)}const s=x(e,["generationConfig"]);return t!==void 0&&s!=null&&v(t,["generationConfig"],s),r}function Lz(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["contents"]);if(a!=null){let i=go(a);Array.isArray(i)&&(i=i.map(o=>th(o))),v(r,["contents"],i)}const s=x(t,["config"]);return s!=null&&v(r,["config"],Dz(s,r)),r}function Rz(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["contents"]);if(a!=null){let i=go(a);Array.isArray(i)&&(i=i.map(o=>th(o))),v(r,["contents"],i)}const s=x(t,["config"]);return s!=null&&v(r,["config"],s),r}function Mz(e){const t={},r=x(e,["uri"]);r!=null&&v(t,["gcsUri"],r);const n=x(e,["videoBytes"]);n!=null&&v(t,["bytesBase64Encoded"],Yd(n));const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function Pz(e,t){const r={},n=x(e,["numberOfVideos"]);t!==void 0&&n!=null&&v(t,["parameters","sampleCount"],n);const a=x(e,["outputGcsUri"]);t!==void 0&&a!=null&&v(t,["parameters","storageUri"],a);const s=x(e,["fps"]);t!==void 0&&s!=null&&v(t,["parameters","fps"],s);const i=x(e,["durationSeconds"]);t!==void 0&&i!=null&&v(t,["parameters","durationSeconds"],i);const o=x(e,["seed"]);t!==void 0&&o!=null&&v(t,["parameters","seed"],o);const c=x(e,["aspectRatio"]);t!==void 0&&c!=null&&v(t,["parameters","aspectRatio"],c);const u=x(e,["resolution"]);t!==void 0&&u!=null&&v(t,["parameters","resolution"],u);const f=x(e,["personGeneration"]);t!==void 0&&f!=null&&v(t,["parameters","personGeneration"],f);const h=x(e,["pubsubTopic"]);t!==void 0&&h!=null&&v(t,["parameters","pubsubTopic"],h);const p=x(e,["negativePrompt"]);t!==void 0&&p!=null&&v(t,["parameters","negativePrompt"],p);const g=x(e,["enhancePrompt"]);t!==void 0&&g!=null&&v(t,["parameters","enhancePrompt"],g);const b=x(e,["generateAudio"]);t!==void 0&&b!=null&&v(t,["parameters","generateAudio"],b);const y=x(e,["lastFrame"]);t!==void 0&&y!=null&&v(t,["instances[0]","lastFrame"],hv(y));const E=x(e,["compressionQuality"]);return t!==void 0&&E!=null&&v(t,["parameters","compressionQuality"],E),r}function jz(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["_url","model"],dn(e,n));const a=x(t,["prompt"]);a!=null&&v(r,["instances[0]","prompt"],a);const s=x(t,["image"]);s!=null&&v(r,["instances[0]","image"],hv(s));const i=x(t,["video"]);i!=null&&v(r,["instances[0]","video"],Mz(i));const o=x(t,["config"]);return o!=null&&v(r,["config"],Pz(o,r)),r}function Oz(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function Qz(e){const t={},r=x(e,["data"]);r!=null&&v(t,["data"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function Hz(e){const t={},r=x(e,["fileUri"]);r!=null&&v(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function Vz(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],Oz(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],Qz(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],Hz(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function Gz(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Vz(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function zz(e){const t={},r=x(e,["citationSources"]);return r!=null&&v(t,["citations"],r),t}function Kz(e){const t={},r=x(e,["retrievedUrl"]);r!=null&&v(t,["retrievedUrl"],r);const n=x(e,["urlRetrievalStatus"]);return n!=null&&v(t,["urlRetrievalStatus"],n),t}function qz(e){const t={},r=x(e,["urlMetadata"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>Kz(a))),v(t,["urlMetadata"],n)}return t}function Wz(e){const t={},r=x(e,["content"]);r!=null&&v(t,["content"],Gz(r));const n=x(e,["citationMetadata"]);n!=null&&v(t,["citationMetadata"],zz(n));const a=x(e,["tokenCount"]);a!=null&&v(t,["tokenCount"],a);const s=x(e,["finishReason"]);s!=null&&v(t,["finishReason"],s);const i=x(e,["urlContextMetadata"]);i!=null&&v(t,["urlContextMetadata"],qz(i));const o=x(e,["avgLogprobs"]);o!=null&&v(t,["avgLogprobs"],o);const c=x(e,["groundingMetadata"]);c!=null&&v(t,["groundingMetadata"],c);const u=x(e,["index"]);u!=null&&v(t,["index"],u);const f=x(e,["logprobsResult"]);f!=null&&v(t,["logprobsResult"],f);const h=x(e,["safetyRatings"]);return h!=null&&v(t,["safetyRatings"],h),t}function rN(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["candidates"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(c=>Wz(c))),v(t,["candidates"],o)}const a=x(e,["modelVersion"]);a!=null&&v(t,["modelVersion"],a);const s=x(e,["promptFeedback"]);s!=null&&v(t,["promptFeedback"],s);const i=x(e,["usageMetadata"]);return i!=null&&v(t,["usageMetadata"],i),t}function $z(e){const t={},r=x(e,["values"]);return r!=null&&v(t,["values"],r),t}function Yz(){return{}}function Jz(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>$z(i))),v(t,["embeddings"],s)}return x(e,["metadata"])!=null&&v(t,["metadata"],Yz()),t}function Xz(e){const t={},r=x(e,["bytesBase64Encoded"]);r!=null&&v(t,["imageBytes"],Yd(r));const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function JF(e){const t={},r=x(e,["safetyAttributes","categories"]);r!=null&&v(t,["categories"],r);const n=x(e,["safetyAttributes","scores"]);n!=null&&v(t,["scores"],n);const a=x(e,["contentType"]);return a!=null&&v(t,["contentType"],a),t}function Zz(e){const t={},r=x(e,["_self"]);r!=null&&v(t,["image"],Xz(r));const n=x(e,["raiFilteredReason"]);n!=null&&v(t,["raiFilteredReason"],n);const a=x(e,["_self"]);return a!=null&&v(t,["safetyAttributes"],JF(a)),t}function eK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Zz(i))),v(t,["generatedImages"],s)}const a=x(e,["positivePromptSafetyAttributes"]);return a!=null&&v(t,["positivePromptSafetyAttributes"],JF(a)),t}function tK(e){const t={},r=x(e,["baseModel"]);r!=null&&v(t,["baseModel"],r);const n=x(e,["createTime"]);n!=null&&v(t,["createTime"],n);const a=x(e,["updateTime"]);return a!=null&&v(t,["updateTime"],a),t}function rb(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["displayName"]);n!=null&&v(t,["displayName"],n);const a=x(e,["description"]);a!=null&&v(t,["description"],a);const s=x(e,["version"]);s!=null&&v(t,["version"],s);const i=x(e,["_self"]);i!=null&&v(t,["tunedModelInfo"],tK(i));const o=x(e,["inputTokenLimit"]);o!=null&&v(t,["inputTokenLimit"],o);const c=x(e,["outputTokenLimit"]);c!=null&&v(t,["outputTokenLimit"],c);const u=x(e,["supportedGenerationMethods"]);return u!=null&&v(t,["supportedActions"],u),t}function rK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&v(t,["nextPageToken"],n);const a=x(e,["_self"]);if(a!=null){let s=RF(a);Array.isArray(s)&&(s=s.map(i=>rb(i))),v(t,["models"],s)}return t}function nK(){return{}}function aK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["totalTokens"]);n!=null&&v(t,["totalTokens"],n);const a=x(e,["cachedContentTokenCount"]);return a!=null&&v(t,["cachedContentTokenCount"],a),t}function sK(e){const t={},r=x(e,["video","uri"]);r!=null&&v(t,["uri"],r);const n=x(e,["video","encodedVideo"]);n!=null&&v(t,["videoBytes"],Yd(n));const a=x(e,["encoding"]);return a!=null&&v(t,["mimeType"],a),t}function iK(e){const t={},r=x(e,["_self"]);return r!=null&&v(t,["video"],sK(r)),t}function oK(e){const t={},r=x(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>iK(i))),v(t,["generatedVideos"],s)}const n=x(e,["raiMediaFilteredCount"]);n!=null&&v(t,["raiMediaFilteredCount"],n);const a=x(e,["raiMediaFilteredReasons"]);return a!=null&&v(t,["raiMediaFilteredReasons"],a),t}function lK(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["metadata"]);n!=null&&v(t,["metadata"],n);const a=x(e,["done"]);a!=null&&v(t,["done"],a);const s=x(e,["error"]);s!=null&&v(t,["error"],s);const i=x(e,["response","generateVideoResponse"]);return i!=null&&v(t,["response"],oK(i)),t}function cK(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function AK(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["data"]);n!=null&&v(t,["data"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function uK(e){const t={},r=x(e,["displayName"]);r!=null&&v(t,["displayName"],r);const n=x(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function dK(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],cK(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],AK(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],uK(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function fK(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>dK(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function hK(e){const t={},r=x(e,["citations"]);return r!=null&&v(t,["citations"],r),t}function mK(e){const t={},r=x(e,["retrievedUrl"]);r!=null&&v(t,["retrievedUrl"],r);const n=x(e,["urlRetrievalStatus"]);return n!=null&&v(t,["urlRetrievalStatus"],n),t}function pK(e){const t={},r=x(e,["urlMetadata"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>mK(a))),v(t,["urlMetadata"],n)}return t}function gK(e){const t={},r=x(e,["content"]);r!=null&&v(t,["content"],fK(r));const n=x(e,["citationMetadata"]);n!=null&&v(t,["citationMetadata"],hK(n));const a=x(e,["finishMessage"]);a!=null&&v(t,["finishMessage"],a);const s=x(e,["finishReason"]);s!=null&&v(t,["finishReason"],s);const i=x(e,["urlContextMetadata"]);i!=null&&v(t,["urlContextMetadata"],pK(i));const o=x(e,["avgLogprobs"]);o!=null&&v(t,["avgLogprobs"],o);const c=x(e,["groundingMetadata"]);c!=null&&v(t,["groundingMetadata"],c);const u=x(e,["index"]);u!=null&&v(t,["index"],u);const f=x(e,["logprobsResult"]);f!=null&&v(t,["logprobsResult"],f);const h=x(e,["safetyRatings"]);return h!=null&&v(t,["safetyRatings"],h),t}function nN(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>gK(f))),v(t,["candidates"],u)}const a=x(e,["createTime"]);a!=null&&v(t,["createTime"],a);const s=x(e,["responseId"]);s!=null&&v(t,["responseId"],s);const i=x(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const o=x(e,["promptFeedback"]);o!=null&&v(t,["promptFeedback"],o);const c=x(e,["usageMetadata"]);return c!=null&&v(t,["usageMetadata"],c),t}function xK(e){const t={},r=x(e,["truncated"]);r!=null&&v(t,["truncated"],r);const n=x(e,["token_count"]);return n!=null&&v(t,["tokenCount"],n),t}function vK(e){const t={},r=x(e,["values"]);r!=null&&v(t,["values"],r);const n=x(e,["statistics"]);return n!=null&&v(t,["statistics"],xK(n)),t}function wK(e){const t={},r=x(e,["billableCharacterCount"]);return r!=null&&v(t,["billableCharacterCount"],r),t}function yK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["predictions[]","embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>vK(i))),v(t,["embeddings"],s)}const a=x(e,["metadata"]);return a!=null&&v(t,["metadata"],wK(a)),t}function bK(e){const t={},r=x(e,["gcsUri"]);r!=null&&v(t,["gcsUri"],r);const n=x(e,["bytesBase64Encoded"]);n!=null&&v(t,["imageBytes"],Yd(n));const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function XF(e){const t={},r=x(e,["safetyAttributes","categories"]);r!=null&&v(t,["categories"],r);const n=x(e,["safetyAttributes","scores"]);n!=null&&v(t,["scores"],n);const a=x(e,["contentType"]);return a!=null&&v(t,["contentType"],a),t}function DC(e){const t={},r=x(e,["_self"]);r!=null&&v(t,["image"],bK(r));const n=x(e,["raiFilteredReason"]);n!=null&&v(t,["raiFilteredReason"],n);const a=x(e,["_self"]);a!=null&&v(t,["safetyAttributes"],XF(a));const s=x(e,["prompt"]);return s!=null&&v(t,["enhancedPrompt"],s),t}function CK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>DC(i))),v(t,["generatedImages"],s)}const a=x(e,["positivePromptSafetyAttributes"]);return a!=null&&v(t,["positivePromptSafetyAttributes"],XF(a)),t}function EK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>DC(s))),v(t,["generatedImages"],a)}return t}function SK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>DC(s))),v(t,["generatedImages"],a)}return t}function BK(e){const t={},r=x(e,["endpoint"]);r!=null&&v(t,["name"],r);const n=x(e,["deployedModelId"]);return n!=null&&v(t,["deployedModelId"],n),t}function NK(e){const t={},r=x(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(t,["baseModel"],r);const n=x(e,["createTime"]);n!=null&&v(t,["createTime"],n);const a=x(e,["updateTime"]);return a!=null&&v(t,["updateTime"],a),t}function _K(e){const t={},r=x(e,["checkpointId"]);r!=null&&v(t,["checkpointId"],r);const n=x(e,["epoch"]);n!=null&&v(t,["epoch"],n);const a=x(e,["step"]);return a!=null&&v(t,["step"],a),t}function nb(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["displayName"]);n!=null&&v(t,["displayName"],n);const a=x(e,["description"]);a!=null&&v(t,["description"],a);const s=x(e,["versionId"]);s!=null&&v(t,["version"],s);const i=x(e,["deployedModels"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>BK(p))),v(t,["endpoints"],h)}const o=x(e,["labels"]);o!=null&&v(t,["labels"],o);const c=x(e,["_self"]);c!=null&&v(t,["tunedModelInfo"],NK(c));const u=x(e,["defaultCheckpointId"]);u!=null&&v(t,["defaultCheckpointId"],u);const f=x(e,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>_K(p))),v(t,["checkpoints"],h)}return t}function TK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&v(t,["nextPageToken"],n);const a=x(e,["_self"]);if(a!=null){let s=RF(a);Array.isArray(s)&&(s=s.map(i=>nb(i))),v(t,["models"],s)}return t}function kK(){return{}}function FK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["totalTokens"]);return n!=null&&v(t,["totalTokens"],n),t}function IK(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["tokensInfo"]);return n!=null&&v(t,["tokensInfo"],n),t}function UK(e){const t={},r=x(e,["gcsUri"]);r!=null&&v(t,["uri"],r);const n=x(e,["bytesBase64Encoded"]);n!=null&&v(t,["videoBytes"],Yd(n));const a=x(e,["mimeType"]);return a!=null&&v(t,["mimeType"],a),t}function DK(e){const t={},r=x(e,["_self"]);return r!=null&&v(t,["video"],UK(r)),t}function LK(e){const t={},r=x(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>DK(i))),v(t,["generatedVideos"],s)}const n=x(e,["raiMediaFilteredCount"]);n!=null&&v(t,["raiMediaFilteredCount"],n);const a=x(e,["raiMediaFilteredReasons"]);return a!=null&&v(t,["raiMediaFilteredReasons"],a),t}function RK(e){const t={},r=x(e,["name"]);r!=null&&v(t,["name"],r);const n=x(e,["metadata"]);n!=null&&v(t,["metadata"],n);const a=x(e,["done"]);a!=null&&v(t,["done"],a);const s=x(e,["error"]);s!=null&&v(t,["error"],s);const i=x(e,["response"]);return i!=null&&v(t,["response"],LK(i)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MK="Content-Type",PK="X-Server-Timeout",jK="User-Agent",ab="x-goog-api-client",OK="1.12.0",QK=`google-genai-sdk/${OK}`,HK="v1beta1",VK="v1beta",aN=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class GK{constructor(t){var r,n;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:HK,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:VK,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&n.push(t.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),r=new URL(t);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,r,n){const a=[this.getRequestUrlInternal(r)];return n&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,r,n);if(t.queryParams)for(const[i,o]of Object.entries(t.queryParams))a.searchParams.append(i,String(o));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,r,t.abortSignal),this.unaryApiCall(a,s,t.httpMethod)}patchHttpOptions(t,r){const n=JSON.parse(JSON.stringify(t));for(const[a,s]of Object.entries(r))typeof s=="object"?n[a]=Object.assign(Object.assign({},n[a]),s):s!==void 0&&(n[a]=s);return n}async requestStream(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,r,n);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,r,t.abortSignal),this.streamApiCall(a,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,r,n){if(r&&r.timeout||n){const a=new AbortController,s=a.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const i=setTimeout(()=>a.abort(),r.timeout);i&&typeof i.unref=="function"&&i.unref()}n&&n.addEventListener("abort",()=>{a.abort()}),t.signal=s}return r&&r.extraBody!==null&&zK(t,r.extraBody),t.headers=await this.getHeadersInternal(r),t}async unaryApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async a=>(await sN(a),new Yy(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async a=>(await sN(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){var r;return E0(this,arguments,function*(){const a=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let i="";for(;;){const{done:o,value:c}=yield In(a.read());if(o){if(i.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(c,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const p=JSON.parse(JSON.stringify(h.error)),g=p.status,b=p.code,y=`got status: ${g}. ${JSON.stringify(h)}`;if(b>=400&&b<600)throw new dv({message:y,status:b})}}catch(h){if(h.name==="ApiError")throw h}i+=u;let f=i.match(aN);for(;f;){const h=f[1];try{const p=new Response(h,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield In(new Yy(p)),i=i.slice(f[0].length),f=i.match(aN)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{a.releaseLock()}})}async apiCall(t,r){return fetch(t,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const t={},r=QK+" "+this.clientOptions.userAgentExtra;return t[jK]=r,t[ab]=r,t[MK]="application/json",t}async getHeadersInternal(t){const r=new Headers;if(t&&t.headers){for(const[n,a]of Object.entries(t.headers))r.append(n,a);t.timeout&&t.timeout>0&&r.append(PK,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(t,r){var n;const a={};r!=null&&(a.mimeType=r.mimeType,a.name=r.name,a.displayName=r.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const s=this.clientOptions.uploader,i=await s.stat(t);a.sizeBytes=String(i.size);const o=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:i.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=o;const c=await this.fetchUploadUrl(a,r);return s.upload(t,c,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,r){var n;let a={};r!=null&&r.httpOptions?a=r.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const s={file:t},i=await this.request({path:zt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:a});if(!i||!(i!=null&&i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(n=i==null?void 0:i.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function sN(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const r=e.status;let n;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?n=await e.json():n={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(n);throw r>=400&&r<600?new dv({message:a,status:r}):new Error(a)}}function zK(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))r=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(s,i){const o=Object.assign({},s);for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)){const u=i[c],f=o[c];u&&typeof u=="object"&&!Array.isArray(u)&&f&&typeof f=="object"&&!Array.isArray(f)?o[c]=n(f,u):(f&&u&&typeof f!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof u}. Overwriting.`),o[c]=u)}return o}const a=n(r,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KK="mcp_used/unknown";let qK=!1;function ZF(e){for(const t of e)if(WK(t)||typeof t=="object"&&"inputSchema"in t)return!0;return qK}function eI(e){var t;const r=(t=e[ab])!==null&&t!==void 0?t:"";e[ab]=(r+` ${KK}`).trimStart()}function WK(e){return e!==null&&typeof e=="object"&&e instanceof LC}function $K(e,t=100){return E0(this,arguments,function*(){let n,a=0;for(;a<t;){const s=yield In(e.listTools({cursor:n}));for(const i of s.tools)yield yield In(i),a++;if(!s.nextCursor)break;n=s.nextCursor}})}class LC{constructor(t=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=r}static create(t,r){return new LC(t,r)}async initialize(){var t,r,n,a;if(this.mcpTools.length>0)return;const s={},i=[];for(const f of this.mcpClients)try{for(var o=!0,c=(r=void 0,km($K(f))),u;u=await c.next(),t=u.done,!t;o=!0){a=u.value,o=!1;const h=a;i.push(h);const p=h.name;if(s[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);s[p]=f}}catch(h){r={error:h}}finally{try{!o&&!t&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}this.mcpTools=i,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),GO(this.mcpTools,this.config)}async callTool(t){await this.initialize();const r=[];for(const n of t)if(n.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[n.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const i=await a.callTool({name:n.name,arguments:n.args},void 0,s);r.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function YK(e,t,r){const n=new RO;let a;r.data instanceof Blob?a=JSON.parse(await r.data.text()):a=JSON.parse(r.data);const s=GV(a);Object.assign(n,s),t(n)}class JK{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n}async connect(t){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),i=eq(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const f=new Promise(B=>{u=B}),h=t.callbacks,p=function(){u({})},g=this.apiClient,b={onopen:p,onmessage:B=>{YK(g,h.onmessage,B)},onerror:(r=h==null?void 0:h.onerror)!==null&&r!==void 0?r:function(B){},onclose:(n=h==null?void 0:h.onclose)!==null&&n!==void 0?n:function(B){}},y=this.webSocketFactory.create(c,ZK(i),b);y.connect(),await f;const E=dn(this.apiClient,t.model),S=qF({model:E}),N=tb({setup:S});return y.send(JSON.stringify(N)),new XK(y,this.apiClient)}}class XK{constructor(t,r){this.conn=t,this.apiClient=r}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=H9(t),n=WF(r);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const r=V9(t),n=tb(r);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const r=tb({playbackControl:t});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(h0.PLAY)}pause(){this.sendPlaybackControl(h0.PAUSE)}stop(){this.sendPlaybackControl(h0.STOP)}resetContext(){this.sendPlaybackControl(h0.RESET_CONTEXT)}close(){this.conn.close()}}function ZK(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function eq(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tq="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rq(e,t,r){const n=new LO;let a;r.data instanceof Blob?a=await r.data.text():r.data instanceof ArrayBuffer?a=new TextDecoder().decode(r.data):a=r.data;const s=JSON.parse(a);if(e.isVertexAI()){const i=aG(s);Object.assign(n,i)}else{const i=LV(s);Object.assign(n,i)}t(n)}class nq{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n,this.music=new JK(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var r,n,a,s,i,o;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&ZF(t.config.tools)&&eI(h);const p=oq(h);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const D=this.apiClient.getApiKey();let W="BidiGenerateContent",O="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),W="BidiGenerateContentConstrained",O="access_token"),f=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${W}?${O}=${D}`}let g=()=>{};const b=new Promise(D=>{g=D}),y=t.callbacks,E=function(){var D;(D=y==null?void 0:y.onopen)===null||D===void 0||D.call(y),g({})},S=this.apiClient,N={onopen:E,onmessage:D=>{rq(S,y.onmessage,D)},onerror:(r=y==null?void 0:y.onerror)!==null&&r!==void 0?r:function(D){},onclose:(n=y==null?void 0:y.onclose)!==null&&n!==void 0?n:function(D){}},B=this.webSocketFactory.create(f,iq(p),N);B.connect(),await b;let _=dn(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const D=this.apiClient.getProject(),W=this.apiClient.getLocation();_=`projects/${D}/locations/${W}/`+_}let k={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[g1.AUDIO]}:t.config.responseModalities=[g1.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(o=(i=t.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[],F=[];for(const D of U)if(this.isCallableTool(D)){const W=D;F.push(await W.tool())}else F.push(D);F.length>0&&(t.config.tools=F);const L={model:_,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?k=pV(this.apiClient,L):k=P9(this.apiClient,L),delete k.config,B.send(JSON.stringify(k)),new sq(B,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const aq={turnComplete:!0};class sq{constructor(t,r){this.conn=t,this.apiClient=r}tLiveClientContent(t,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=go(r.turns),t.isVertexAI()?n=n.map(a=>th(a)):n=n.map(a=>fv(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(t,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const s of n){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(tq)}return{toolResponse:{functionResponses:n}}}sendClientContent(t){t=Object.assign(Object.assign({},aq),t);const r=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(r))}sendRealtimeInput(t){let r={};this.apiClient.isVertexAI()?r={realtimeInput:vV(t)}:r={realtimeInput:Q9(t)},this.conn.send(JSON.stringify(r))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function iq(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function oq(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iN=10;function oN(e){var t,r,n;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const i of(r=e==null?void 0:e.tools)!==null&&r!==void 0?r:[])if(S0(i)){a=!0;break}if(!a)return!0;const s=(n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function S0(e){return"callTool"in e&&typeof e.callTool=="function"}function lq(e){var t,r,n;return(n=(r=(t=e.config)===null||t===void 0?void 0:t.tools)===null||r===void 0?void 0:r.some(a=>S0(a)))!==null&&n!==void 0?n:!1}function cq(e){var t,r,n;return(n=(r=(t=e.config)===null||t===void 0?void 0:t.tools)===null||r===void 0?void 0:r.some(a=>!S0(a)))!==null&&n!==void 0?n:!1}function lN(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aq extends $d{constructor(t){super(),this.apiClient=t,this.generateContent=async r=>{var n,a,s,i,o;const c=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!lq(r)||oN(r.config))return await this.generateContentInternal(c);if(cq(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,f;const h=go(c.contents),p=(s=(a=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:iN;let g=0;for(;g<p&&(u=await this.generateContentInternal(c),!(!u.functionCalls||u.functionCalls.length===0));){const b=u.candidates[0].content,y=[];for(const E of(o=(i=r.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(S0(E)){const N=await E.callTool(u.functionCalls);y.push(...N)}g++,f={role:"user",parts:y},c.contents=go(c.contents),c.contents.push(b),c.contents.push(f),lN(c.config)&&(h.push(b),h.push(f))}return lN(c.config)&&(u.automaticFunctionCallingHistory=h),u},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),oN(r.config)){const n=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var a;let s;const i=[];if(n!=null&&n.generatedImages)for(const c of n.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((a=c==null?void 0:c.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:i.push(c);let o;return s?o={generatedImages:i,positivePromptSafetyAttributes:s,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:i,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async r=>{var n;const i={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!i.config.queryBase){if(!((n=i.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");i.config.filter="labels.tune-type:*"}return new Tp(jd.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(i),i)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const a={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(a)},this.generateVideos=async r=>await this.generateVideosInternal(r)}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var r,n,a;const s=(r=t.config)===null||r===void 0?void 0:r.tools;if(!s)return t;const i=await Promise.all(s.map(async c=>S0(c)?await c.tool():c)),o={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:i})};if(o.config.tools=i,t.config&&t.config.tools&&ZF(t.config.tools)){const c=(a=(n=t.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&a!==void 0?a:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),eI(u),o.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(t){var r,n,a;const s=new Map;for(const i of(n=(r=t.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(S0(i)){const o=i,c=await o.tool();for(const u of(a=c.functionDeclarations)!==null&&a!==void 0?a:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(t){var r,n,a;const s=(a=(n=(r=t.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&a!==void 0?a:iN;let i=!1,o=0;const c=await this.initAfcToolsMap(t);return function(u,f,h){var p,g;return E0(this,arguments,function*(){for(var b,y,E,S;o<s;){i&&(o++,i=!1);const k=yield In(u.processParamsMaybeAddMcpUsage(h)),U=yield In(u.generateContentStreamInternal(k)),F=[],L=[];try{for(var N=!0,B=(y=void 0,km(U)),_;_=yield In(B.next()),b=_.done,!b;N=!0){S=_.value,N=!1;const D=S;if(yield yield In(D),D.candidates&&(!((p=D.candidates[0])===null||p===void 0)&&p.content)){L.push(D.candidates[0].content);for(const W of(g=D.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(o<s&&W.functionCall){if(!W.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(W.functionCall.name)){const O=yield In(f.get(W.functionCall.name).callTool([W.functionCall]));F.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${W.functionCall.name}`)}}}}catch(D){y={error:D}}finally{try{!N&&!b&&(E=B.return)&&(yield In(E.call(B)))}finally{if(y)throw y.error}}if(F.length>0){i=!0;const D=new Xh;D.candidates=[{content:{role:"user",parts:F}}],yield yield In(D);const W=[];W.push(...L),W.push({role:"user",parts:F});const O=go(h.contents).concat(W);h.contents=O}else break}})}(this,c,t)}async generateContentInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=tN(this.apiClient,t);return o=zt("{model}:generateContent",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=nN(f),p=new Xh;return Object.assign(p,h),p})}else{const u=eN(this.apiClient,t);return o=zt("{model}:generateContent",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=rN(f),p=new Xh;return Object.assign(p,h),p})}}async generateContentStreamInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=tN(this.apiClient,t);return o=zt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}),i.then(function(h){return E0(this,arguments,function*(){var p,g,b,y;try{for(var E=!0,S=km(h),N;N=yield In(S.next()),p=N.done,!p;E=!0){y=N.value,E=!1;const B=y,_=nN(yield In(B.json()));_.sdkHttpResponse={headers:B.headers};const k=new Xh;Object.assign(k,_),yield yield In(k)}}catch(B){g={error:B}}finally{try{!E&&!p&&(b=S.return)&&(yield In(b.call(S)))}finally{if(g)throw g.error}}})})}else{const u=eN(this.apiClient,t);return o=zt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),i.then(function(h){return E0(this,arguments,function*(){var p,g,b,y;try{for(var E=!0,S=km(h),N;N=yield In(S.next()),p=N.done,!p;E=!0){y=N.value,E=!1;const B=y,_=rN(yield In(B.json()));_.sdkHttpResponse={headers:B.headers};const k=new Xh;Object.assign(k,_),yield yield In(k)}}catch(B){g={error:B}}finally{try{!E&&!p&&(b=S.return)&&(yield In(b.call(S)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=pz(this.apiClient,t);return o=zt("{model}:predict",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=yK(f),p=new UB;return Object.assign(p,h),p})}else{const u=TG(this.apiClient,t);return o=zt("{model}:batchEmbedContents",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=Jz(f),p=new UB;return Object.assign(p,h),p})}}async generateImagesInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=xz(this.apiClient,t);return o=zt("{model}:predict",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=CK(f),p=new DB;return Object.assign(p,h),p})}else{const u=FG(this.apiClient,t);return o=zt("{model}:predict",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=eK(f),p=new DB;return Object.assign(p,h),p})}}async editImageInternal(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=Sz(this.apiClient,t);return s=zt("{model}:predict",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const u=EK(c),f=new TO;return Object.assign(f,u),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=Nz(this.apiClient,t);return s=zt("{model}:predict",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const u=SK(c),f=new kO;return Object.assign(f,u),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=_z(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>nb(f))}else{const u=IG(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>rb(f))}}async listInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=kz(this.apiClient,t);return o=zt("{models_url}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=TK(f),p=new LB;return Object.assign(p,h),p})}else{const u=DG(this.apiClient,t);return o=zt("{models_url}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=rK(f),p=new LB;return Object.assign(p,h),p})}}async update(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=Iz(this.apiClient,t);return o=zt("{model}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>nb(f))}else{const u=RG(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>rb(f))}}async delete(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=Uz(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(()=>{const f=kK(),h=new RB;return Object.assign(h,f),h})}else{const u=MG(this.apiClient,t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(()=>{const f=nK(),h=new RB;return Object.assign(h,f),h})}}async countTokens(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=Lz(this.apiClient,t);return o=zt("{model}:countTokens",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=FK(f),p=new MB;return Object.assign(p,h),p})}else{const u=jG(this.apiClient,t);return o=zt("{model}:countTokens",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=aK(f),p=new MB;return Object.assign(p,h),p})}}async computeTokens(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=Rz(this.apiClient,t);return s=zt("{model}:computeTokens",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const u=IK(c),f=new FO;return Object.assign(f,u),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=jz(this.apiClient,t);return o=zt("{model}:predictLongRunning",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>{const h=RK(f),p=new x1;return Object.assign(p,h),p})}else{const u=HG(this.apiClient,t);return o=zt("{model}:predictLongRunning",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>{const h=lK(f),p=new x1;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uq(e){const t={},r=x(e,["operationName"]);r!=null&&v(t,["_url","operationName"],r);const n=x(e,["config"]);return n!=null&&v(t,["config"],n),t}function dq(e){const t={},r=x(e,["operationName"]);r!=null&&v(t,["_url","operationName"],r);const n=x(e,["config"]);return n!=null&&v(t,["config"],n),t}function fq(e){const t={},r=x(e,["operationName"]);r!=null&&v(t,["operationName"],r);const n=x(e,["resourceName"]);n!=null&&v(t,["_url","resourceName"],n);const a=x(e,["config"]);return a!=null&&v(t,["config"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hq extends $d{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:i,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:i,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=dq(t);return o=zt("{operationName}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i}else{const u=uq(t);return o=zt("{operationName}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i}}async fetchPredictVideosOperationInternal(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=fq(t);return s=zt("{resourceName}:fetchPredictOperation",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mq(e){const t={},r=x(e,["voiceName"]);return r!=null&&v(t,["voiceName"],r),t}function tI(e){const t={},r=x(e,["prebuiltVoiceConfig"]);return r!=null&&v(t,["prebuiltVoiceConfig"],mq(r)),t}function pq(e){const t={},r=x(e,["speaker"]);r!=null&&v(t,["speaker"],r);const n=x(e,["voiceConfig"]);return n!=null&&v(t,["voiceConfig"],tI(n)),t}function gq(e){const t={},r=x(e,["speakerVoiceConfigs"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>pq(a))),v(t,["speakerVoiceConfigs"],n)}return t}function xq(e){const t={},r=x(e,["voiceConfig"]);r!=null&&v(t,["voiceConfig"],tI(r));const n=x(e,["multiSpeakerVoiceConfig"]);n!=null&&v(t,["multiSpeakerVoiceConfig"],gq(n));const a=x(e,["languageCode"]);return a!=null&&v(t,["languageCode"],a),t}function vq(e){const t={},r=x(e,["fps"]);r!=null&&v(t,["fps"],r);const n=x(e,["endOffset"]);n!=null&&v(t,["endOffset"],n);const a=x(e,["startOffset"]);return a!=null&&v(t,["startOffset"],a),t}function wq(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["data"]);r!=null&&v(t,["data"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function yq(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&v(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&v(t,["mimeType"],n),t}function bq(e){const t={},r=x(e,["videoMetadata"]);r!=null&&v(t,["videoMetadata"],vq(r));const n=x(e,["thought"]);n!=null&&v(t,["thought"],n);const a=x(e,["inlineData"]);a!=null&&v(t,["inlineData"],wq(a));const s=x(e,["fileData"]);s!=null&&v(t,["fileData"],yq(s));const i=x(e,["thoughtSignature"]);i!=null&&v(t,["thoughtSignature"],i);const o=x(e,["codeExecutionResult"]);o!=null&&v(t,["codeExecutionResult"],o);const c=x(e,["executableCode"]);c!=null&&v(t,["executableCode"],c);const u=x(e,["functionCall"]);u!=null&&v(t,["functionCall"],u);const f=x(e,["functionResponse"]);f!=null&&v(t,["functionResponse"],f);const h=x(e,["text"]);return h!=null&&v(t,["text"],h),t}function Cq(e){const t={},r=x(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>bq(s))),v(t,["parts"],a)}const n=x(e,["role"]);return n!=null&&v(t,["role"],n),t}function Eq(e){const t={},r=x(e,["behavior"]);r!=null&&v(t,["behavior"],r);const n=x(e,["description"]);n!=null&&v(t,["description"],n);const a=x(e,["name"]);a!=null&&v(t,["name"],a);const s=x(e,["parameters"]);s!=null&&v(t,["parameters"],s);const i=x(e,["parametersJsonSchema"]);i!=null&&v(t,["parametersJsonSchema"],i);const o=x(e,["response"]);o!=null&&v(t,["response"],o);const c=x(e,["responseJsonSchema"]);return c!=null&&v(t,["responseJsonSchema"],c),t}function Sq(e){const t={},r=x(e,["startTime"]);r!=null&&v(t,["startTime"],r);const n=x(e,["endTime"]);return n!=null&&v(t,["endTime"],n),t}function Bq(e){const t={},r=x(e,["timeRangeFilter"]);return r!=null&&v(t,["timeRangeFilter"],Sq(r)),t}function Nq(e){const t={},r=x(e,["mode"]);r!=null&&v(t,["mode"],r);const n=x(e,["dynamicThreshold"]);return n!=null&&v(t,["dynamicThreshold"],n),t}function _q(e){const t={},r=x(e,["dynamicRetrievalConfig"]);return r!=null&&v(t,["dynamicRetrievalConfig"],Nq(r)),t}function Tq(){return{}}function kq(e){const t={},r=x(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>Eq(u))),v(t,["functionDeclarations"],c)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["googleSearch"]);n!=null&&v(t,["googleSearch"],Bq(n));const a=x(e,["googleSearchRetrieval"]);if(a!=null&&v(t,["googleSearchRetrieval"],_q(a)),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(x(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");x(e,["urlContext"])!=null&&v(t,["urlContext"],Tq());const i=x(e,["codeExecution"]);i!=null&&v(t,["codeExecution"],i);const o=x(e,["computerUse"]);return o!=null&&v(t,["computerUse"],o),t}function Fq(e){const t={},r=x(e,["handle"]);if(r!=null&&v(t,["handle"],r),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function cN(){return{}}function Iq(e){const t={},r=x(e,["disabled"]);r!=null&&v(t,["disabled"],r);const n=x(e,["startOfSpeechSensitivity"]);n!=null&&v(t,["startOfSpeechSensitivity"],n);const a=x(e,["endOfSpeechSensitivity"]);a!=null&&v(t,["endOfSpeechSensitivity"],a);const s=x(e,["prefixPaddingMs"]);s!=null&&v(t,["prefixPaddingMs"],s);const i=x(e,["silenceDurationMs"]);return i!=null&&v(t,["silenceDurationMs"],i),t}function Uq(e){const t={},r=x(e,["automaticActivityDetection"]);r!=null&&v(t,["automaticActivityDetection"],Iq(r));const n=x(e,["activityHandling"]);n!=null&&v(t,["activityHandling"],n);const a=x(e,["turnCoverage"]);return a!=null&&v(t,["turnCoverage"],a),t}function Dq(e){const t={},r=x(e,["targetTokens"]);return r!=null&&v(t,["targetTokens"],r),t}function Lq(e){const t={},r=x(e,["triggerTokens"]);r!=null&&v(t,["triggerTokens"],r);const n=x(e,["slidingWindow"]);return n!=null&&v(t,["slidingWindow"],Dq(n)),t}function Rq(e){const t={},r=x(e,["proactiveAudio"]);return r!=null&&v(t,["proactiveAudio"],r),t}function Mq(e,t){const r={},n=x(e,["generationConfig"]);t!==void 0&&n!=null&&v(t,["setup","generationConfig"],n);const a=x(e,["responseModalities"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","responseModalities"],a);const s=x(e,["temperature"]);t!==void 0&&s!=null&&v(t,["setup","generationConfig","temperature"],s);const i=x(e,["topP"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","topP"],i);const o=x(e,["topK"]);t!==void 0&&o!=null&&v(t,["setup","generationConfig","topK"],o);const c=x(e,["maxOutputTokens"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","maxOutputTokens"],c);const u=x(e,["mediaResolution"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","mediaResolution"],u);const f=x(e,["seed"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","seed"],f);const h=x(e,["speechConfig"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","speechConfig"],xq(UC(h)));const p=x(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],p);const g=x(e,["systemInstruction"]);t!==void 0&&g!=null&&v(t,["setup","systemInstruction"],Cq(Ms(g)));const b=x(e,["tools"]);if(t!==void 0&&b!=null){let k=Z0(b);Array.isArray(k)&&(k=k.map(U=>kq(X0(U)))),v(t,["setup","tools"],k)}const y=x(e,["sessionResumption"]);t!==void 0&&y!=null&&v(t,["setup","sessionResumption"],Fq(y));const E=x(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&v(t,["setup","inputAudioTranscription"],cN());const S=x(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&v(t,["setup","outputAudioTranscription"],cN());const N=x(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&v(t,["setup","realtimeInputConfig"],Uq(N));const B=x(e,["contextWindowCompression"]);t!==void 0&&B!=null&&v(t,["setup","contextWindowCompression"],Lq(B));const _=x(e,["proactivity"]);return t!==void 0&&_!=null&&v(t,["setup","proactivity"],Rq(_)),r}function Pq(e,t){const r={},n=x(t,["model"]);n!=null&&v(r,["setup","model"],dn(e,n));const a=x(t,["config"]);return a!=null&&v(r,["config"],Mq(a,r)),r}function jq(e,t,r){const n={},a=x(t,["expireTime"]);r!==void 0&&a!=null&&v(r,["expireTime"],a);const s=x(t,["newSessionExpireTime"]);r!==void 0&&s!=null&&v(r,["newSessionExpireTime"],s);const i=x(t,["uses"]);r!==void 0&&i!=null&&v(r,["uses"],i);const o=x(t,["liveConnectConstraints"]);r!==void 0&&o!=null&&v(r,["bidiGenerateContentSetup"],Pq(e,o));const c=x(t,["lockAdditionalFields"]);return r!==void 0&&c!=null&&v(r,["fieldMask"],c),n}function Oq(e,t){const r={},n=x(t,["config"]);return n!=null&&v(r,["config"],jq(e,n,r)),r}function Qq(e){const t={},r=x(e,["name"]);return r!=null&&v(t,["name"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hq(e){const t=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const a=Object.keys(n).map(s=>`${r}.${s}`);t.push(...a)}else t.push(r)}return t.join(",")}function Vq(e,t){let r=null;const n=e.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const s=n.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,r=s):delete e.bidiGenerateContentSetup}else n!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(r){const s=Hq(r);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const i=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];a.length>0&&(o=a.map(u=>i.includes(u)?`generationConfig.${u}`:u));const c=[];s&&c.push(s),o.length>0&&c.push(...o),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class Gq extends $d{constructor(t){super(),this.apiClient=t}async create(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=Oq(this.apiClient,t);s=zt("auth_tokens",o._url),i=o._query,delete o.config,delete o._url,delete o._query;const c=Vq(o,t.config);return a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Qq(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zq(e){const t={},r=x(e,["name"]);r!=null&&v(t,["_url","name"],r);const n=x(e,["config"]);return n!=null&&v(t,["config"],n),t}function Kq(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&v(t,["_query","pageSize"],n);const a=x(e,["pageToken"]);t!==void 0&&a!=null&&v(t,["_query","pageToken"],a);const s=x(e,["filter"]);return t!==void 0&&s!=null&&v(t,["_query","filter"],s),r}function qq(e){const t={},r=x(e,["config"]);return r!=null&&v(t,["config"],Kq(r,t)),t}function Wq(e){const t={},r=x(e,["textInput"]);r!=null&&v(t,["textInput"],r);const n=x(e,["output"]);return n!=null&&v(t,["output"],n),t}function $q(e){const t={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(e,["examples"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>Wq(a))),v(t,["examples","examples"],n)}return t}function Yq(e,t){const r={};if(x(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const n=x(e,["tunedModelDisplayName"]);if(t!==void 0&&n!=null&&v(t,["displayName"],n),x(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(e,["epochCount"]);t!==void 0&&a!=null&&v(t,["tuningTask","hyperparameters","epochCount"],a);const s=x(e,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),x(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const i=x(e,["batchSize"]);t!==void 0&&i!=null&&v(t,["tuningTask","hyperparameters","batchSize"],i);const o=x(e,["learningRate"]);return t!==void 0&&o!=null&&v(t,["tuningTask","hyperparameters","learningRate"],o),r}function Jq(e){const t={},r=x(e,["baseModel"]);r!=null&&v(t,["baseModel"],r);const n=x(e,["trainingDataset"]);n!=null&&v(t,["tuningTask","trainingData"],$q(n));const a=x(e,["config"]);return a!=null&&v(t,["config"],Yq(a,t)),t}function Xq(e){const t={},r=x(e,["name"]);r!=null&&v(t,["_url","name"],r);const n=x(e,["config"]);return n!=null&&v(t,["config"],n),t}function Zq(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&v(t,["_query","pageSize"],n);const a=x(e,["pageToken"]);t!==void 0&&a!=null&&v(t,["_query","pageToken"],a);const s=x(e,["filter"]);return t!==void 0&&s!=null&&v(t,["_query","filter"],s),r}function eW(e){const t={},r=x(e,["config"]);return r!=null&&v(t,["config"],Zq(r,t)),t}function tW(e,t){const r={},n=x(e,["gcsUri"]);t!==void 0&&n!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],n);const a=x(e,["vertexDatasetResource"]);if(t!==void 0&&a!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],a),x(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function rW(e,t){const r={},n=x(e,["gcsUri"]);n!=null&&v(r,["validationDatasetUri"],n);const a=x(e,["vertexDatasetResource"]);return t!==void 0&&a!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],a),r}function nW(e,t){const r={},n=x(e,["validationDataset"]);t!==void 0&&n!=null&&v(t,["supervisedTuningSpec"],rW(n,r));const a=x(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&v(t,["tunedModelDisplayName"],a);const s=x(e,["description"]);t!==void 0&&s!=null&&v(t,["description"],s);const i=x(e,["epochCount"]);t!==void 0&&i!=null&&v(t,["supervisedTuningSpec","hyperParameters","epochCount"],i);const o=x(e,["learningRateMultiplier"]);t!==void 0&&o!=null&&v(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const c=x(e,["exportLastCheckpointOnly"]);t!==void 0&&c!=null&&v(t,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const u=x(e,["adapterSize"]);if(t!==void 0&&u!=null&&v(t,["supervisedTuningSpec","hyperParameters","adapterSize"],u),x(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function aW(e){const t={},r=x(e,["baseModel"]);r!=null&&v(t,["baseModel"],r);const n=x(e,["trainingDataset"]);n!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],tW(n,t));const a=x(e,["config"]);return a!=null&&v(t,["config"],nW(a,t)),t}function sW(e){const t={},r=x(e,["name"]);r!=null&&v(t,["model"],r);const n=x(e,["name"]);return n!=null&&v(t,["endpoint"],n),t}function rI(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["name"]);n!=null&&v(t,["name"],n);const a=x(e,["state"]);a!=null&&v(t,["state"],UF(a));const s=x(e,["createTime"]);s!=null&&v(t,["createTime"],s);const i=x(e,["tuningTask","startTime"]);i!=null&&v(t,["startTime"],i);const o=x(e,["tuningTask","completeTime"]);o!=null&&v(t,["endTime"],o);const c=x(e,["updateTime"]);c!=null&&v(t,["updateTime"],c);const u=x(e,["description"]);u!=null&&v(t,["description"],u);const f=x(e,["baseModel"]);f!=null&&v(t,["baseModel"],f);const h=x(e,["_self"]);h!=null&&v(t,["tunedModel"],sW(h));const p=x(e,["distillationSpec"]);p!=null&&v(t,["distillationSpec"],p);const g=x(e,["experiment"]);g!=null&&v(t,["experiment"],g);const b=x(e,["labels"]);b!=null&&v(t,["labels"],b);const y=x(e,["pipelineJob"]);y!=null&&v(t,["pipelineJob"],y);const E=x(e,["satisfiesPzi"]);E!=null&&v(t,["satisfiesPzi"],E);const S=x(e,["satisfiesPzs"]);S!=null&&v(t,["satisfiesPzs"],S);const N=x(e,["serviceAccount"]);N!=null&&v(t,["serviceAccount"],N);const B=x(e,["tunedModelDisplayName"]);return B!=null&&v(t,["tunedModelDisplayName"],B),t}function iW(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&v(t,["nextPageToken"],n);const a=x(e,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(i=>rI(i))),v(t,["tuningJobs"],s)}return t}function oW(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["name"]);n!=null&&v(t,["name"],n);const a=x(e,["metadata"]);a!=null&&v(t,["metadata"],a);const s=x(e,["done"]);s!=null&&v(t,["done"],s);const i=x(e,["error"]);return i!=null&&v(t,["error"],i),t}function lW(e){const t={},r=x(e,["checkpointId"]);r!=null&&v(t,["checkpointId"],r);const n=x(e,["epoch"]);n!=null&&v(t,["epoch"],n);const a=x(e,["step"]);a!=null&&v(t,["step"],a);const s=x(e,["endpoint"]);return s!=null&&v(t,["endpoint"],s),t}function cW(e){const t={},r=x(e,["model"]);r!=null&&v(t,["model"],r);const n=x(e,["endpoint"]);n!=null&&v(t,["endpoint"],n);const a=x(e,["checkpoints"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(i=>lW(i))),v(t,["checkpoints"],s)}return t}function sb(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["name"]);n!=null&&v(t,["name"],n);const a=x(e,["state"]);a!=null&&v(t,["state"],UF(a));const s=x(e,["createTime"]);s!=null&&v(t,["createTime"],s);const i=x(e,["startTime"]);i!=null&&v(t,["startTime"],i);const o=x(e,["endTime"]);o!=null&&v(t,["endTime"],o);const c=x(e,["updateTime"]);c!=null&&v(t,["updateTime"],c);const u=x(e,["error"]);u!=null&&v(t,["error"],u);const f=x(e,["description"]);f!=null&&v(t,["description"],f);const h=x(e,["baseModel"]);h!=null&&v(t,["baseModel"],h);const p=x(e,["tunedModel"]);p!=null&&v(t,["tunedModel"],cW(p));const g=x(e,["supervisedTuningSpec"]);g!=null&&v(t,["supervisedTuningSpec"],g);const b=x(e,["tuningDataStats"]);b!=null&&v(t,["tuningDataStats"],b);const y=x(e,["encryptionSpec"]);y!=null&&v(t,["encryptionSpec"],y);const E=x(e,["partnerModelTuningSpec"]);E!=null&&v(t,["partnerModelTuningSpec"],E);const S=x(e,["distillationSpec"]);S!=null&&v(t,["distillationSpec"],S);const N=x(e,["experiment"]);N!=null&&v(t,["experiment"],N);const B=x(e,["labels"]);B!=null&&v(t,["labels"],B);const _=x(e,["pipelineJob"]);_!=null&&v(t,["pipelineJob"],_);const k=x(e,["satisfiesPzi"]);k!=null&&v(t,["satisfiesPzi"],k);const U=x(e,["satisfiesPzs"]);U!=null&&v(t,["satisfiesPzs"],U);const F=x(e,["serviceAccount"]);F!=null&&v(t,["serviceAccount"],F);const L=x(e,["tunedModelDisplayName"]);return L!=null&&v(t,["tunedModelDisplayName"],L),t}function AW(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&v(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&v(t,["nextPageToken"],n);const a=x(e,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(i=>sb(i))),v(t,["tuningJobs"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uW extends $d{constructor(t){super(),this.apiClient=t,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new Tp(jd.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(r);{const n=await this.tuneMldevInternal(r);let a="";return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?a=n.metadata.tunedModel:n.name!==void 0&&n.name.includes("/operations/")&&(a=n.name.split("/operations/")[0]),{name:a,state:$y.JOB_STATE_QUEUED}}}}async getInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=Xq(t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>sb(f))}else{const u=zq(t);return o=zt("{name}",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>rI(f))}}async listInternal(t){var r,n,a,s;let i,o="",c={};if(this.apiClient.isVertexAI()){const u=eW(t);return o=zt("tuningJobs",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=AW(f),p=new jB;return Object.assign(p,h),p})}else{const u=qq(t);return o=zt("tunedModels",u._url),c=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=iW(f),p=new jB;return Object.assign(p,h),p})}}async tuneInternal(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=aW(t);return s=zt("tuningJobs",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>sb(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var r,n;let a,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Jq(t);return s=zt("tunedModels",o._url),i=o._query,delete o.config,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const f=u;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>oW(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dW{async download(t,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fW=1024*1024*8,hW=3,mW=1e3,pW=2,xw="x-goog-upload-status";async function gW(e,t,r){var n,a,s;let i=0,o=0,c=new Yy(new Response),u="upload";for(i=e.size;o<i;){const h=Math.min(fW,i-o),p=e.slice(o,o+h);o+h>=i&&(u+=", finalize");let g=0,b=mW;for(;g<hW&&(c=await r.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(o),"Content-Length":String(h)}}}),!(!((n=c==null?void 0:c.headers)===null||n===void 0)&&n[xw]));)g++,await vW(b),b=b*pW;if(o+=h,((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[xw])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(c==null?void 0:c.json());if(((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[xw])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function xW(e){return{size:e.size,type:e.type}}function vW(e){return new Promise(t=>setTimeout(t,e))}class wW{async upload(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await gW(t,r,n)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await xW(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yW{create(t,r,n){return new bW(t,r,n)}}class bW{constructor(t,r,n){this.url=t,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AN="x-goog-api-key";class CW{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(AN)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(AN,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EW="gl-node/";class Oa{constructor(t){var r;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=t.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=t.apiKey;const n=_O(t.httpOptions,t.vertexai,void 0,void 0);n&&(t.httpOptions?t.httpOptions.baseUrl=n:t.httpOptions={baseUrl:n}),this.apiVersion=t.apiVersion;const a=new CW(this.apiKey);this.apiClient=new GK({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:EW+"web",uploader:new wW,downloader:new dW}),this.models=new Aq(this.apiClient),this.live=new nq(this.apiClient,a,new yW),this.batches=new JQ(this.apiClient),this.chats=new t9(this.models,this.apiClient),this.caches=new XH(this.apiClient),this.files=new h9(this.apiClient),this.operations=new hq(this.apiClient),this.authTokens=new Gq(this.apiClient),this.tunings=new uW(this.apiClient)}}const uN="apiCallLogs",SW="lir-sessionUser",gi=e=>{try{const t=localStorage.getItem(SW);if(!t){console.warn("No se pudo registrar la llamada a la API: no hay usuario en sesión.");return}const r=JSON.parse(t),n=localStorage.getItem(uN),a=n?JSON.parse(n):[],i=[{id:crypto.randomUUID(),timestamp:new Date().toISOString(),userId:r.id,userEmail:r.email,module:e},...a].slice(0,2e3);localStorage.setItem(uN,JSON.stringify(i)),window.dispatchEvent(new Event("storage"))}catch(t){console.error("Error al registrar la llamada a la API:",t)}},vw="asignacionesHorario",ww="horariosGenerados",BW="usuariosLiceo",NW=({horarios:e})=>Object.keys(e).length===0?A.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-800 rounded-lg",children:A.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:'Aún no se ha generado ningún horario. Utilice la pestaña de "Configuración" para generar uno.'})}):A.jsx("div",{className:"overflow-x-auto border border-slate-300 dark:border-slate-700 rounded-lg",children:A.jsxs("table",{className:"min-w-full border-collapse",children:[A.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 sticky top-0 z-10",children:A.jsxs("tr",{children:[A.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-16",children:"BLOQUE"}),A.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs w-24",children:"HORARIO"}),wa.map(t=>A.jsx("th",{className:"border-b border-r border-slate-300 dark:border-slate-600 p-1 font-semibold text-slate-600 dark:text-slate-300 text-xs whitespace-nowrap min-w-[120px]",children:t},t))]})}),A.jsx("tbody",{children:zx.map(t=>A.jsxs(at.Fragment,{children:[A.jsx("tr",{className:"bg-slate-200 dark:bg-slate-800",children:A.jsx("th",{colSpan:2+wa.length,className:"text-center font-bold text-slate-700 dark:text-slate-200 p-2 border-b border-slate-300 dark:border-slate-600",children:t.toUpperCase()})}),qy.map(({bloque:r,inicio:n,fin:a})=>A.jsxs("tr",{className:"even:bg-white odd:bg-slate-50 dark:even:bg-slate-800/50 dark:odd:bg-slate-900/50",children:[A.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center font-bold text-slate-700 dark:text-slate-300 text-sm",children:r}),A.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center text-xs text-slate-500 dark:text-slate-400",children:`${n} - ${a}`}),wa.map(s=>{var o,c;const i=(c=(o=e[s])==null?void 0:o[t])==null?void 0:c[r];return A.jsx("td",{className:"border-r border-slate-300 dark:border-slate-700 p-1 text-center h-16",children:i!=null&&i.asignatura?A.jsxs("div",{className:"flex flex-col justify-center h-full",children:[A.jsx("p",{className:"font-semibold text-[11px] leading-tight text-slate-800 dark:text-slate-200 whitespace-normal",children:i.asignatura}),A.jsxs("p",{className:"text-[10px] leading-tight text-slate-500 dark:text-slate-400 whitespace-normal mt-0.5",children:["(",i.profesor,")"]})]}):A.jsx("span",{className:"text-slate-300 dark:text-slate-600 text-xs",children:"Libre"})},`${s}-${t}-${r}`)})]},`${t}-${r}`))]},t))})]})}),_W=()=>{const[e,t]=X.useState([]),[r,n]=X.useState({curso:"",asignatura:"",profesor:""}),[a,s]=X.useState([]),[i,o]=X.useState({}),[c,u]=X.useState(wa[0]),[f,h]=X.useState(!1),[p,g]=X.useState(null),[b,y]=X.useState(null),[E,S]=X.useState(null),[N,B]=X.useState({asignatura:"",profesor:""}),[_,k]=X.useState("edicion"),[U,F]=X.useState("");X.useEffect(()=>{try{const V=localStorage.getItem(vw);V&&t(JSON.parse(V));const G=localStorage.getItem(ww);G&&o(JSON.parse(G));const re=localStorage.getItem(BW);if(re){const Y=JSON.parse(re).filter(ce=>ce.profile===Kt.PROFESORADO).map(ce=>ce.nombreCompleto).sort();s(Y)}}catch(V){console.error("Error al cargar datos de localStorage",V),g("No se pudieron cargar los datos guardados.")}},[]);const L=V=>{if(V.preventDefault(),!r.curso||!r.asignatura||!r.profesor){g("Todos los campos de la asignación son obligatorios.");return}const G=[...e,{...r,id:crypto.randomUUID()}];t(G),localStorage.setItem(vw,JSON.stringify(G)),n({curso:"",asignatura:"",profesor:""}),g(null)},D=V=>{const G=e.filter(re=>re.id!==V);t(G),localStorage.setItem(vw,JSON.stringify(G))},W=async()=>{if(e.length===0){g("Debe agregar al menos una asignación de profesor antes de generar el horario.");return}h(!0),g(null),y(null);try{gi("Crear Horarios");const V=new Oa({apiKey:void 0}),G=`
                Eres un asistente experto en planificación de horarios escolares para un liceo técnico en Chile. 
                Tu tarea es generar un horario semanal completo (Lunes a Viernes) para todos los cursos proporcionados, siguiendo un conjunto estricto de reglas.

                **Contexto:**
                - Días de la semana: ${zx.join(", ")}
                - Bloques horarios por día: 10 bloques con los siguientes horarios: ${JSON.stringify(qy,null,2)}
                - Cursos del liceo: ${wa.join(", ")}

                **Contexto Adicional de Especialidades (3º y 4º Medio):**
                - Los cursos que terminan en 'A' y 'B' pertenecen a la especialidad 'Mecánica Automotriz'.
                - Los cursos que terminan en 'C' y 'D' pertenecen a la especialidad 'Mecánica Industrial'.
                Utiliza este contexto para aplicar las reglas de "3°/4° Medio Automotriz" y "3°/4° Medio Industrial" correctamente.

                **Reglas de Asignación de Bloques por Asignatura:**
                Debes asignar la siguiente cantidad de bloques semanales para cada asignatura según el nivel del curso:
                ${JSON.stringify(cO,null,2)}
                Notas sobre las reglas:
                - '1º y 2º medio' aplica a cursos que empiezan con '1º' o '2º'.
                - '3º y 4º medio' aplica a cursos que empiezan con '3º' o '4º'.
                - Algunas reglas aplican a cursos específicos (ej. Mecánica).

                **Asignaciones de Profesores (Input):**
                Aquí está la lista de profesores asignados a cada curso y asignatura. Debes usar esta lista para poblar el horario.
                ${JSON.stringify(e,null,2)}

                **REGLA CRÍTICA INVIOLABLE:**
                La restricción más importante que NUNCA debe romperse es que un mismo profesor no puede ser asignado a dos cursos diferentes en el mismo día y mismo bloque horario. Es físicamente imposible para un profesor estar en dos lugares a la vez. Prioriza esta regla sobre todas las demás. No deben existir topes de horario para ningún profesor.

                **Instrucciones Adicionales del Usuario:**
                Considera las siguientes preferencias al organizar el horario: "${U||"No se proporcionaron instrucciones adicionales."}"

                **Objetivo Adicional:**
                Distribuye las asignaturas de la forma más balanceada posible durante la semana para cada curso. Evita agrupar todas las horas de una misma materia en un solo día si es posible, a menos que las instrucciones del usuario indiquen lo contrario.

                **Formato de Salida (Output):**
                Tu respuesta DEBE ser un único objeto JSON válido, sin texto adicional antes o después. La estructura del JSON debe ser la siguiente:
                {
                  "1ºA": {
                    "Lunes": { "1": { "asignatura": "Matemática", "profesor": "Nombre Profesor" }, "2": { "asignatura": "Matemática", "profesor": "Nombre Profesor" } },
                    "Martes": { ... },
                    ...
                  },
                  "1ºB": { ... }
                }
                Cada clave de primer nivel es un curso. Cada curso tiene claves para cada día de la semana. Cada día tiene claves para cada bloque del 1 al 10. Si un bloque está vacío, usa \`{ "asignatura": null, "profesor": null }\`.
            `,re=await V.models.generateContent({model:"gemini-2.5-flash",contents:G,config:{responseMimeType:"application/json"}}),J=JSON.parse(re.text);o(J),localStorage.setItem(ww,JSON.stringify(J)),y("¡Horario generado y guardado con éxito!")}catch(V){console.error("Error al generar horario con IA:",V),g("Ocurrió un error al contactar con la IA o al procesar la respuesta. Por favor, inténtelo de nuevo.")}finally{h(!1)}},O=(V,G,re)=>{S({dia:V,bloque:G}),B({asignatura:(re==null?void 0:re.asignatura)||"",profesor:(re==null?void 0:re.profesor)||""})},M=()=>{if(!E)return;const{dia:V,bloque:G}=E,re={...i};re[c]||(re[c]={}),re[c][V]||(re[c][V]={}),re[c][V][G]={asignatura:N.asignatura||null,profesor:N.profesor||null},o(re),localStorage.setItem(ww,JSON.stringify(re)),S(null)},K="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",Q=()=>{const V=i[c]||{};return A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full border-collapse border border-slate-300 dark:border-slate-700",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-700",children:[A.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:"Bloque"}),zx.map(G=>A.jsx("th",{className:"border border-slate-300 dark:border-slate-600 p-2 font-semibold text-slate-600 dark:text-slate-300",children:G},G))]})}),A.jsx("tbody",{children:qy.map(({bloque:G,inicio:re,fin:J})=>A.jsxs("tr",{className:"text-center dark:bg-slate-800",children:[A.jsxs("td",{className:"border border-slate-300 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-700/50",children:[A.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:G}),A.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:`${re} - ${J}`})]}),zx.map(Y=>{var z;const ce=(E==null?void 0:E.dia)===Y&&(E==null?void 0:E.bloque)===G,R=(z=V[Y])==null?void 0:z[G];return A.jsx("td",{className:"border border-slate-300 dark:border-slate-700 p-1 h-24 relative hover:bg-amber-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>!ce&&O(Y,G,R),children:ce?A.jsxs("div",{className:"flex flex-col p-1 bg-white dark:bg-slate-800 h-full justify-center",children:[A.jsx("input",{type:"text",placeholder:"Asignatura",value:N.asignatura,onChange:q=>B(ee=>({...ee,asignatura:q.target.value})),className:K+" text-xs mb-1"}),A.jsx("input",{type:"text",placeholder:"Profesor",value:N.profesor,onChange:q=>B(ee=>({...ee,profesor:q.target.value})),className:K+" text-xs"}),A.jsxs("div",{className:"flex justify-end mt-1 space-x-1",children:[A.jsx("button",{onClick:()=>S(null),className:"text-xs bg-slate-200 dark:bg-slate-600 px-1 rounded",children:"Cancelar"}),A.jsx("button",{onClick:M,className:"text-xs bg-amber-500 text-white px-1 rounded",children:"Guardar"})]})]}):R!=null&&R.asignatura?A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-sm text-slate-800 dark:text-slate-200",children:R.asignatura}),A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",R.profesor,")"]})]}):A.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"Libre"})},`${Y}-${G}`)})]},G))})]})})},ae=()=>A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Crear Horarios"}),A.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:"🔧 1. Configuración de Asignaciones"}),A.jsxs("form",{onSubmit:L,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end mb-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),A.jsxs("select",{name:"curso",value:r.curso,onChange:V=>n(G=>({...G,curso:V.target.value})),className:K,children:[A.jsx("option",{value:"",children:"Seleccione"}),wa.map(V=>A.jsx("option",{value:V,children:V},V))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),A.jsxs("select",{name:"asignatura",value:r.asignatura,onChange:V=>n(G=>({...G,asignatura:V.target.value})),className:K,children:[A.jsx("option",{value:"",children:"Seleccione"}),Oi.map(V=>A.jsx("option",{value:V,children:V},V))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"profesor",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor"}),A.jsxs("select",{name:"profesor",value:r.profesor,onChange:V=>n(G=>({...G,profesor:V.target.value})),className:K,children:[A.jsx("option",{value:"",children:"Seleccione"}),a.map(V=>A.jsx("option",{value:V,children:V},V))]})]}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600 h-10",children:"Agregar"})]}),A.jsx("div",{className:"max-h-60 overflow-y-auto pr-2",children:A.jsx("ul",{className:"space-y-2",children:e.map(V=>A.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded-md",children:[A.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[V.curso," - ",V.asignatura," - ",A.jsx("strong",{children:V.profesor})]}),A.jsx("button",{onClick:()=>D(V.id),className:"text-red-500 hover:text-red-700 font-bold text-xl",children:"×"})]},V.id))})})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:"🧠 2. Generación Automática con IA"}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{htmlFor:"aiInstructions",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Instrucciones para la IA (Opcional)"}),A.jsx("textarea",{id:"aiInstructions",name:"aiInstructions",value:U,onChange:V=>F(V.target.value),rows:3,placeholder:"Ej: Dejar los módulos teóricos en la mañana y los prácticos en la tarde. Evitar poner 2 bloques de matemática seguidos.",className:K})]}),A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("button",{onClick:W,disabled:f,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center",children:[f&&A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f?"Generando...":"Generar Horario Completo"]}),p&&A.jsx("p",{className:"text-red-600",children:p}),b&&A.jsx("p",{className:"text-green-600",children:b})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 border-b dark:border-slate-600 pb-2 mb-4",children:"📅 3. Visualización y Edición por Curso"}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{htmlFor:"selectCurso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Seleccione un curso para visualizar y editar:"}),A.jsx("select",{id:"selectCurso",value:c,onChange:V=>u(V.target.value),className:K+" md:w-1/3",children:wa.map(V=>A.jsx("option",{value:V,children:V},V))})]}),Object.keys(i).length>0?Q():A.jsx("div",{className:"text-center py-10 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:A.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Aún no se ha generado ningún horario. Utilice el botón de generación con IA."})})]})]});return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:A.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[A.jsx("button",{onClick:()=>k("edicion"),className:`${_==="edicion"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Configuración y Edición por Curso"}),A.jsx("button",{onClick:()=>k("global"),className:`${_==="global"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Horario Global"})]})}),_==="edicion"?ae():A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Horario Global de Cursos"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Vista consolidada de todos los horarios generados. La tabla es desplazable horizontalmente."}),A.jsx(NW,{horarios:i})]})]})},Kg="accionesPedagogicas",dN={fechaRegistro:new Date().toISOString().split("T")[0],responsable:"",area:"",descripcion:"",fechaCumplimiento:"",estado:"Pendiente"},TW={Pendiente:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En Proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Cumplida:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300"},kW=()=>{const[e,t]=X.useState([]),[r,n]=X.useState(dN),[a,s]=X.useState(null),[i,o]=X.useState(""),[c,u]=X.useState(""),[f,h]=X.useState(""),[p,g]=X.useState(null);X.useEffect(()=>{try{const U=localStorage.getItem(Kg);U&&t(JSON.parse(U))}catch(U){console.error("Error al leer acciones de localStorage",U)}},[]);const b=X.useCallback(U=>{const{name:F,value:L}=U.target;n(D=>({...D,[F]:L}))},[]),y=X.useCallback(()=>{n(dN),s(null),g(null)},[]),E=X.useCallback(U=>{U.preventDefault();const{fechaRegistro:F,responsable:L,area:D,descripcion:W,fechaCumplimiento:O,estado:M}=r;if(!F||!L||!D||!W||!O){g("Todos los campos son obligatorios.");return}const K=a?e.map(Q=>Q.id===a?{...r,id:a}:Q):[{...r,id:crypto.randomUUID()},...e];t(K),localStorage.setItem(Kg,JSON.stringify(K)),y()},[r,a,e,y]),S=X.useCallback(U=>{window.scrollTo({top:0,behavior:"smooth"}),s(U.id),n(U)},[]),N=X.useCallback(U=>{if(window.confirm("¿Está seguro de que desea eliminar esta acción?")){const F=e.filter(L=>L.id!==U);t(F),localStorage.setItem(Kg,JSON.stringify(F))}},[e]),B=X.useCallback(U=>{const F=e.map(L=>{if(L.id===U){const W=(Jh.indexOf(L.estado)+1)%Jh.length;return{...L,estado:Jh[W]}}return L});t(F),localStorage.setItem(Kg,JSON.stringify(F))},[e]),_=X.useMemo(()=>e.filter(U=>{const F=i===""||U.responsable.toLowerCase().includes(i.toLowerCase())||U.descripcion.toLowerCase().includes(i.toLowerCase()),L=c===""||U.area===c,D=f===""||U.estado===f;return F&&L&&D}),[e,i,c,f]),k="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seguimiento de Acciones Pedagógicas"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:a?"Editando acción existente.":"Registre una nueva acción de seguimiento."}),A.jsxs("form",{onSubmit:E,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"fechaRegistro",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Registro"}),A.jsx("input",{type:"date",name:"fechaRegistro",value:r.fechaRegistro,onChange:b,className:k})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsable"}),A.jsx("input",{type:"text",name:"responsable",value:r.responsable,onChange:b,placeholder:"Nombre del responsable",className:k})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"area",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Área Vinculada"}),A.jsxs("select",{name:"area",value:r.area,onChange:b,className:k,children:[A.jsx("option",{value:"",children:"Seleccione un área"}),QS.map(U=>A.jsx("option",{value:U,children:U},U))]})]}),A.jsxs("div",{className:"lg:col-span-3",children:[A.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Descripción de la Acción"}),A.jsx("textarea",{name:"descripcion",value:r.descripcion,onChange:b,rows:3,placeholder:"Detalle de la acción a realizar...",className:k})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"fechaCumplimiento",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha de Cumplimiento"}),A.jsx("input",{type:"date",name:"fechaCumplimiento",value:r.fechaCumplimiento,onChange:b,className:k})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"estado",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estado de Avance"}),A.jsx("select",{name:"estado",value:r.estado,onChange:b,className:k,children:Jh.map(U=>A.jsx("option",{value:U,children:U},U))})]})]}),p&&A.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:p}),A.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4",children:[a&&A.jsx("button",{type:"button",onClick:y,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:a?"Actualizar Acción":"Registrar Acción"})]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Tabla de Seguimiento"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[A.jsx("input",{type:"text",placeholder:"Buscar por responsable o palabra clave...",value:i,onChange:U=>o(U.target.value),className:k+" md:col-span-1"}),A.jsxs("select",{value:c,onChange:U=>u(U.target.value),className:k,children:[A.jsx("option",{value:"",children:"Filtrar por Área"}),QS.map(U=>A.jsx("option",{value:U,children:U},U))]}),A.jsxs("select",{value:f,onChange:U=>h(U.target.value),className:k,children:[A.jsx("option",{value:"",children:"Filtrar por Estado"}),Jh.map(U=>A.jsx("option",{value:U,children:U},U))]})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Responsable"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Área"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Descripción"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fechas"}),A.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),A.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:_.length>0?_.map(U=>A.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:U.responsable}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:U.area}),A.jsx("td",{className:"px-4 py-4 text-sm text-slate-600 dark:text-slate-300 max-w-sm whitespace-normal",children:U.descripcion}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:A.jsxs("div",{className:"flex flex-col",children:[A.jsxs("span",{children:["Reg: ",U.fechaRegistro]}),A.jsxs("span",{className:"font-semibold",children:["Comp: ",U.fechaCumplimiento]})]})}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm",children:A.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${TW[U.estado]}`,children:U.estado})}),A.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[A.jsx("button",{onClick:()=>B(U.id),title:"Cambiar Estado",className:"text-blue-600 hover:text-blue-800 p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/40",children:"🔁"}),A.jsx("button",{onClick:()=>S(U),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:"✏️"}),A.jsx("button",{onClick:()=>N(U.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:"🗑️"})]})]},U.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No se encontraron acciones con los filtros actuales."})})})]})})]})]})},yw="planificacionesDocente",fN="actividadesCalendario",bw="eventosCalendario",FW=({lesson:e,onClose:t,onSave:r})=>{const[n,a]=X.useState(e),s=o=>{a({...n,[o.target.name]:o.target.value})},i=()=>{r(n),t()};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:o=>o.stopPropagation(),children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 p-6 border-b dark:border-slate-700",children:"Editar Detalle de Lección"}),A.jsx("div",{className:"p-6 space-y-4 overflow-y-auto",children:Object.entries(n).map(([o,c])=>A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 capitalize mb-1",children:o.replace(/([A-Z])/g," $1")}),A.jsx("textarea",{name:o,value:c,onChange:s,rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]},o))}),A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[A.jsx("button",{onClick:t,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancelar"}),A.jsx("button",{onClick:i,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},IW=({plan:e,onEditLesson:t,onUseLesson:r})=>A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",e.objetivosAprendizaje]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Indicadores de Evaluación:"})," ",e.indicadoresEvaluacion]})]}),A.jsx("div",{className:"space-y-4",children:e.detallesLeccion.map((n,a)=>A.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[A.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:["Clase ",a+1,": ",n.actividades]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 mt-2 text-sm",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Objetivo:"})," ",n.objetivosAprendizaje]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Contenidos:"})," ",n.contenidosConceptuales]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Habilidad (Bloom):"})," ",n.habilidadesBloom]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Perfil de Egreso:"})," ",n.perfilEgreso]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Interdisciplinariedad:"})," ",n.asignaturasInterdisciplinariedad]})]}),A.jsxs("div",{className:"flex gap-2 mt-4",children:[A.jsx("button",{onClick:()=>t(a,n),className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md hover:bg-slate-300",children:"Editar"}),A.jsx("button",{onClick:()=>r(n,e),className:"text-sm font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 py-1 px-3 rounded-md hover:bg-blue-200",children:"Usar para Plan de Clase"})]})]},a))})]}),UW=({plan:e,onBack:t,onSave:r})=>{const[n,a]=X.useState(e),s=i=>{const{name:o,value:c}=i.target,[u,f]=o.split(".");a(u==="momentosClase"?h=>({...h,momentosClase:{...h.momentosClase,[f]:c}}):h=>({...h,[o]:c}))};return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:e.nombreClase}),A.jsx("button",{onClick:t,className:"text-slate-600 hover:text-slate-900 font-semibold",children:"← Volver"})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Inicio"}),A.jsx("textarea",{name:"momentosClase.inicio",value:n.momentosClase.inicio,onChange:s,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Desarrollo"}),A.jsx("textarea",{name:"momentosClase.desarrollo",value:n.momentosClase.desarrollo,onChange:s,rows:8,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Cierre"}),A.jsx("textarea",{name:"momentosClase.cierre",value:n.momentosClase.cierre,onChange:s,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700"})]})]}),A.jsx("div",{className:"text-right mt-6",children:A.jsx("button",{onClick:()=>r(n),className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})})]})},DW=()=>{const[e,t]=X.useState([]),[r,n]=X.useState("list"),[a,s]=X.useState(null),[i,o]=X.useState(!1),[c,u]=X.useState(!1),f={nombre:"",fecha:"",hora:"",descripcion:"",ubicacion:"",participantes:"",recursosGenerales:"",tareas:[{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]},[h,p]=X.useState(f);X.useEffect(()=>{const k=localStorage.getItem(fN);k&&t(JSON.parse(k))},[]),X.useEffect(()=>{if(r==="summary"&&a)try{const k=localStorage.getItem(bw),F=(k?JSON.parse(k):[]).some(L=>L.type===Sr.ACTIVIDAD_FOCALIZADA&&L.date===a.fecha&&L.responsables===a.nombre&&L.ubicacion===a.ubicacion);u(F)}catch(k){console.error("Could not check calendar",k)}},[r,a]);const g=k=>{t(k),localStorage.setItem(fN,JSON.stringify(k))},b=k=>{const{name:U,value:F}=k.target;p(L=>({...L,[U]:F}))},y=(k,U,F)=>{p(L=>({...L,tareas:L.tareas.map(D=>D.id===k?{...D,[U]:F}:D)}))},E=()=>{p(k=>({...k,tareas:[...k.tareas,{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]}))},S=k=>{p(U=>({...U,tareas:U.tareas.filter(F=>F.id!==k)}))},N=async k=>{k.preventDefault(),o(!0);const U=`Basado en la siguiente información de una actividad, genera un objetivo claro y conciso para esta.
        - Nombre: ${h.nombre}
        - Descripción: ${h.descripcion}
        - Tareas: ${h.tareas.map(F=>F.descripcion).join(", ")}
        El objetivo debe ser breve, empezar con un verbo en infinitivo y enfocarse en el propósito principal de la actividad.`;try{gi("Planificación - Actividad Calendario");const L=await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:U}),D={id:crypto.randomUUID(),...h,objetivo:L.text.replace(/(\*\*|\*)/g,"")};g([D,...e]),s(D),n("summary")}catch(F){console.error("Error al generar objetivo con IA:",F),alert("Hubo un error al generar el objetivo. La actividad se guardará sin él.");const L={id:crypto.randomUUID(),...h,objetivo:"No generado"};g([L,...e]),s(L),n("summary")}finally{o(!1)}},B=k=>{if(!k)return;const U={date:k.fecha,type:Sr.ACTIVIDAD_FOCALIZADA,responsables:k.nombre,ubicacion:k.ubicacion,horario:k.hora};try{const F=localStorage.getItem(bw),L=F?JSON.parse(F):[],D=[{...U,id:crypto.randomUUID()},...L];localStorage.setItem(bw,JSON.stringify(D)),u(!0),alert("Actividad añadida al Calendario Académico.")}catch(F){console.error("Error adding to calendar:",F),alert("Hubo un error al agregar la actividad al calendario.")}},_="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white";return r==="form"?A.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:A.jsxs("form",{onSubmit:N,className:"space-y-8",children:[A.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[A.jsx("h3",{className:"text-lg font-bold mb-4",children:"Información General"}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("input",{name:"nombre",value:h.nombre,onChange:b,placeholder:"Nombre de la Actividad",className:_,required:!0}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx("input",{name:"fecha",type:"date",value:h.fecha,onChange:b,className:_,required:!0}),A.jsx("input",{name:"hora",type:"time",value:h.hora,onChange:b,className:_,required:!0})]}),A.jsx("textarea",{name:"descripcion",value:h.descripcion,onChange:b,placeholder:"Descripción (objetivos, contenidos, metodología)",rows:4,className:_,required:!0}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx("input",{name:"ubicacion",value:h.ubicacion,onChange:b,placeholder:"Ubicación",className:_,required:!0}),A.jsx("input",{name:"participantes",value:h.participantes,onChange:b,placeholder:"Participantes",className:_,required:!0})]}),A.jsx("textarea",{name:"recursosGenerales",value:h.recursosGenerales,onChange:b,placeholder:"Recursos Generales Necesarios",rows:2,className:_})]})]}),A.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-bold",children:"Tareas Asociadas"}),A.jsx("button",{type:"button",onClick:E,className:"bg-slate-200 dark:bg-slate-600 text-sm font-semibold px-3 py-1 rounded-md",children:"+ Agregar Tarea"})]}),A.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:h.tareas.map((k,U)=>A.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md relative",children:[A.jsx("button",{type:"button",onClick:()=>S(k.id),className:"absolute top-1 right-1 text-red-500 text-lg",children:"×"}),A.jsx("textarea",{value:k.descripcion,onChange:F=>y(k.id,"descripcion",F.target.value),placeholder:`Descripción de la Tarea ${U+1}`,rows:2,className:_,required:!0}),A.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[A.jsx("input",{value:k.responsable,onChange:F=>y(k.id,"responsable",F.target.value),placeholder:"Responsable",className:_,required:!0}),A.jsx("input",{value:k.recursos,onChange:F=>y(k.id,"recursos",F.target.value),placeholder:"Recursos Necesarios",className:_})]})]},k.id))})]}),A.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-center",children:[A.jsx("h3",{className:"font-bold",children:"Objetivo de la Actividad"}),A.jsx("p",{className:"text-sm",children:"Este objetivo se generará automáticamente a partir de la descripción y las tareas ingresadas. Una vez guardada la actividad, podrá revisar y ajustar el objetivo propuesto por el sistema."})]}),A.jsxs("div",{className:"flex justify-end gap-4",children:[A.jsx("button",{type:"button",onClick:()=>n("list"),className:"bg-slate-200 dark:bg-slate-600 font-semibold px-6 py-2 rounded-lg",children:"Cancelar"}),A.jsx("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white font-bold px-6 py-2 rounded-lg flex items-center min-w-[150px] justify-center",children:i?A.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Guardar Actividad"})]})]})}):r==="summary"&&a?A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[A.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg flex items-center gap-4",children:[A.jsx("span",{className:"text-2xl",children:"✓"}),A.jsxs("div",{children:[A.jsx("h2",{className:"font-bold text-lg",children:"¡Actividad Planificada con Éxito!"}),A.jsx("p",{className:"text-sm",children:"La actividad ha sido creada. Revisa los detalles a continuación."})]})]}),A.jsxs("div",{className:"border rounded-lg p-6 dark:border-slate-700",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Resumen de la Actividad"}),A.jsxs("div",{className:"space-y-4 text-sm",children:[A.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[A.jsx("strong",{className:"text-slate-500",children:"Nombre:"})," ",A.jsx("span",{children:a.nombre})]}),A.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[A.jsx("strong",{className:"text-slate-500",children:"Fecha y Hora:"})," ",A.jsx("span",{children:new Date(`${a.fecha}T${a.hora}`).toLocaleString("es-CL")})]}),A.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[A.jsx("p",{className:"font-bold text-slate-500",children:"Descripción:"}),A.jsx("p",{children:a.descripcion})]}),A.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[A.jsx("strong",{className:"text-slate-500",children:"Ubicación:"})," ",A.jsx("span",{children:a.ubicacion})]}),A.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[A.jsx("strong",{className:"text-slate-500",children:"Participantes:"})," ",A.jsx("span",{children:a.participantes})]}),A.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[A.jsx("p",{className:"font-bold text-slate-500",children:"Recursos Necesarios:"}),A.jsx("p",{children:a.recursosGenerales})]}),A.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[A.jsx("p",{className:"font-bold text-slate-500",children:"Objetivo (Generado por IA):"}),A.jsx("p",{children:a.objetivo})]})]}),A.jsxs("div",{className:"mt-6 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[A.jsx("p",{className:"text-sm",children:"¿Quieres agregar esta actividad a tu calendario para recibir recordatorios?"}),A.jsx("button",{onClick:()=>B(a),disabled:c,className:`font-bold px-4 py-2 rounded-lg transition-colors ${c?"bg-green-600 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c?"✓ Añadido al Calendario":"Añadir al Calendario"})]})]}),A.jsx("button",{onClick:()=>{n("list"),s(null)},className:"w-full text-center font-semibold text-blue-600 hover:underline",children:"Volver al panel de actividades"})]}):A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Actividades del Calendario"}),A.jsx("button",{onClick:()=>{n("form"),p(f)},className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Planificar Actividad"})]}),A.jsx("div",{className:"space-y-3",children:e.length>0?e.map(k=>A.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700",children:[A.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:k.nombre}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[new Date(k.fecha+"T12:00:00").toLocaleDateString("es-CL")," - ",k.ubicacion]})]},k.id)):A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades planificadas."})})]})},LW=({currentUser:e})=>{const[t,r]=X.useState([]),n={asignatura:"",nivel:"",nombreUnidad:"",contenidos:"",cantidadClases:8,observaciones:"",ideasParaUnidad:""},[a,s]=X.useState(n),[i,o]=X.useState(null),[c,u]=X.useState(!1),[f,h]=X.useState(null),[p,g]=X.useState("unidad"),[b,y]=X.useState(null),[E,S]=X.useState(null),N=X.useMemo(()=>e.asignaturas||[],[e.asignaturas]),B=X.useMemo(()=>{const V=e.cursos||[],G=new Set;return V.forEach(re=>{re.startsWith("1º")?G.add("1º Medio"):re.startsWith("2º")?G.add("2º Medio"):re.startsWith("3º")?G.add("3º Medio"):re.startsWith("4º")&&G.add("4º Medio")}),Array.from(G)},[e.cursos]);X.useEffect(()=>{s(V=>({...V,asignatura:N[0]||"",nivel:B[0]||""}))},[N,B]);const _=X.useCallback(V=>{r(V),localStorage.setItem(yw,JSON.stringify(V)),window.dispatchEvent(new Event("storage"))},[]);X.useEffect(()=>{try{const V=localStorage.getItem(yw);V&&r(JSON.parse(V))}catch(V){console.error("Error al cargar planificaciones de localStorage",V)}},[]);const k=V=>{const{name:G,value:re}=V.target;s(J=>({...J,[G]:G==="cantidadClases"?parseInt(re,10):re}))},U=()=>{const{asignatura:V,nivel:G,nombreUnidad:re,contenidos:J,cantidadClases:Y,observaciones:ce,ideasParaUnidad:R}=a;return`Eres un experto diseñador curricular para la educación media técnico profesional en Chile. Tu tarea es generar una planificación de unidad didáctica completa en formato JSON estructurado, basándote en la información proporcionada.

        **Información Base:**
        - Asignatura: ${V}
        - Nivel: ${G}
        - Nombre de la Unidad: "${re}"
        - Contenidos clave a trabajar (insumo principal): "${J}"
        - Cantidad de clases para la unidad: ${Y}
        - Ideas y perspectiva del docente para la unidad: "${R||"Ninguna. Sé creativo."}"
        - Observaciones y énfasis del docente: "${ce||"Ninguna"}"

        Debes generar un objeto JSON que se ajuste al esquema proporcionado. El JSON debe contener:
        1.  **objetivosAprendizaje**: Un objetivo de aprendizaje general y conciso para la unidad.
        2.  **indicadoresEvaluacion**: Un indicador de evaluación general y observable para la unidad.
        3.  **detallesLeccion**: Un array con EXACTAMENTE ${Y} objetos, donde cada objeto representa una clase o sub-tema de la unidad. Cada objeto en el array debe tener:
            - **objetivosAprendizaje**: Un objetivo de aprendizaje específico para la lección, redactado en infinitivo.
            - **contenidosConceptuales**: Los conceptos clave que se abordarán en la lección.
            - **habilidadesBloom**: La habilidad principal de la Taxonomía de Bloom que se trabajará (ej: Analizar, Crear, Evaluar).
            - **perfilEgreso**: Conecta la lección con una habilidad del perfil de egreso (ej: "Pensamiento crítico", "Colaboración").
            - **actividades**: Sugiere 1 o 2 actividades concretas, indicando el número de clase entre paréntesis (ej: "Debate grupal (Clase 1)").
            - **asignaturasInterdisciplinariedad**: Sugiere una asignatura con la que se podría realizar un trabajo interdisciplinario.

        Asegúrate de que el contenido generado sea coherente, pedagógicamente sólido y esté directamente relacionado con los contenidos clave proporcionados por el docente. El nombre de la unidad debe ser exactamente el proporcionado.`},F=async V=>{if(V.preventDefault(),u(!0),h(null),!a.contenidos||!a.nombreUnidad){h("Los campos 'Nombre de Unidad' y 'Contenidos Clave' son obligatorios."),u(!1);return}try{gi("Planificación - Unidad");const G=new Oa({apiKey:void 0}),re=U(),J={type:xt.OBJECT,properties:{objetivosAprendizaje:{type:xt.STRING},indicadoresEvaluacion:{type:xt.STRING},detallesLeccion:{type:xt.ARRAY,items:{type:xt.OBJECT,properties:{objetivosAprendizaje:{type:xt.STRING},contenidosConceptuales:{type:xt.STRING},habilidadesBloom:{type:xt.STRING},perfilEgreso:{type:xt.STRING},actividades:{type:xt.STRING},asignaturasInterdisciplinariedad:{type:xt.STRING}},required:["objetivosAprendizaje","contenidosConceptuales","habilidadesBloom","perfilEgreso","actividades","asignaturasInterdisciplinariedad"]}}},required:["objetivosAprendizaje","indicadoresEvaluacion","detallesLeccion"]},Y=await G.models.generateContent({model:"gemini-2.5-flash",contents:re,config:{responseMimeType:"application/json",responseSchema:J}}),ce=JSON.parse(Y.text),R={id:(i==null?void 0:i.id)||crypto.randomUUID(),fechaCreacion:new Date().toISOString(),autor:e.nombreCompleto,tipo:"Unidad",asignatura:a.asignatura,nivel:a.nivel,nombreUnidad:a.nombreUnidad,contenidos:a.contenidos,cantidadClases:a.cantidadClases,observaciones:a.observaciones,ideasParaUnidad:a.ideasParaUnidad,objetivosAprendizaje:ce.objetivosAprendizaje,indicadoresEvaluacion:ce.indicadoresEvaluacion,detallesLeccion:ce.detallesLeccion},z=i?t.map(q=>q.id===i.id?R:q):[R,...t];_(z),o(R)}catch(G){console.error("Error al generar planificación con IA",G),h("Ocurrió un error al contactar con la IA. Verifique la configuración y reintente.")}finally{u(!1)}},L=async(V,G)=>{u(!0),h(null);const re=`A partir de la siguiente información de una clase dentro de una unidad, genera un plan de clase detallado con momentos de inicio, desarrollo y cierre. La clase debe durar 80 minutos.
        
        - Asignatura: ${G.asignatura}
        - Nivel: ${G.nivel}
        - Objetivo de la clase: ${V.objetivosAprendizaje}
        - Contenidos: ${V.contenidosConceptuales}
        - Actividades sugeridas: ${V.actividades}
        
        Responde SÓLO con un objeto JSON que contenga las claves "inicio", "desarrollo" y "cierre", con las actividades detalladas para cada momento.`;try{gi("Planificación - Utilizar Clase");const J=new Oa({apiKey:void 0}),Y={type:xt.OBJECT,properties:{inicio:{type:xt.STRING},desarrollo:{type:xt.STRING},cierre:{type:xt.STRING}},required:["inicio","desarrollo","cierre"]},ce=await J.models.generateContent({model:"gemini-2.5-flash",contents:re,config:{responseMimeType:"application/json",responseSchema:Y}}),R=JSON.parse(ce.text),z={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),autor:e.nombreCompleto,tipo:"Clase",asignatura:G.asignatura,nivel:G.nivel,contenidos:V.contenidosConceptuales,observaciones:"",nombreClase:V.actividades,duracionClase:80,momentosClase:R,detalleLeccionOrigen:V},q=JSON.parse(localStorage.getItem(yw)||"[]"),ee=[z,...q];_(ee),alert('¡Plan de clase generado y guardado en la pestaña "Clase"!'),g("clase")}catch(J){console.error("Error al generar plan de clase con IA",J),h("No se pudo generar el plan de clase. Inténtelo de nuevo.")}finally{u(!1)}},D=V=>{V.tipo==="Unidad"&&(s({asignatura:V.asignatura,nivel:V.nivel,nombreUnidad:V.nombreUnidad,contenidos:V.contenidos,cantidadClases:V.cantidadClases,observaciones:V.observaciones,ideasParaUnidad:V.ideasParaUnidad||""}),o(V),window.scrollTo({top:0,behavior:"smooth"}))},W=V=>{if(window.confirm("¿Está seguro de que desea eliminar esta planificación?")){const G=t.filter(re=>re.id!==V);_(G),(i==null?void 0:i.id)===V&&(o(null),s(n))}},O=(V,G)=>{i&&S({planId:i.id,lessonIndex:V,lessonData:G})},M=V=>{if(!E)return;const{planId:G,lessonIndex:re}=E,J=t.map(ce=>{if(ce.id===G&&ce.tipo==="Unidad"){const R=[...ce.detallesLeccion];return R[re]=V,{...ce,detallesLeccion:R}}return ce});_(J);const Y=J.find(ce=>ce.id===G);Y&&o(Y),S(null)},K="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",Q=()=>A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Generador de Planificaciones de Unidad"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete los campos y use la IA para crear una planificación de unidad estructurada."}),A.jsxs("form",{onSubmit:F,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),A.jsx("select",{name:"asignatura",value:a.asignatura,onChange:k,className:K,children:N.length>0?N.map(V=>A.jsx("option",{value:V,children:V},V)):A.jsx("option",{disabled:!0,children:"No tiene asignaturas asignadas"})})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"nivel",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),A.jsx("select",{name:"nivel",value:a.nivel,onChange:k,className:K,children:B.length>0?B.map(V=>A.jsx("option",{value:V,children:V},V)):A.jsx("option",{disabled:!0,children:"No tiene cursos/niveles asignados"})})]}),A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"nombreUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Nombre de Unidad ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{type:"text",name:"nombreUnidad",value:a.nombreUnidad,onChange:k,className:K,placeholder:"Ej: La Célula y sus procesos"})]}),A.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[A.jsxs("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Contenidos Clave ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("textarea",{name:"contenidos",value:a.contenidos,onChange:k,rows:3,placeholder:"Ingrese los temas, conceptos clave o unidades que la planificación debe abordar.",className:K})]}),A.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[A.jsx("label",{htmlFor:"ideasParaUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ideas para la unidad"}),A.jsx("textarea",{name:"ideasParaUnidad",value:a.ideasParaUnidad,onChange:k,rows:3,placeholder:"Plantea tus ideas y perspectiva para que la IA construya una mejor planificación (ej: enfocar en trabajo colaborativo, usar casos prácticos, conectar con la actualidad).",className:K})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"cantidadClases",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cantidad de Clases"}),A.jsx("input",{type:"number",name:"cantidadClases",value:a.cantidadClases,onChange:k,className:K,min:"1",max:"20"})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones (Énfasis)"}),A.jsx("textarea",{name:"observaciones",value:a.observaciones,onChange:k,rows:1,placeholder:"Ej: clase práctica, modelo ABP, juego, reforzamiento...",className:K})]})]}),A.jsx("div",{className:"pt-4 text-right",children:A.jsx("button",{type:"submit",disabled:c,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[150px] dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:c?A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i?"Regenerar":"Generar Plan"})}),f&&A.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:f})]})]}),i&&A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Revisión y Edición"}),A.jsx(IW,{plan:i,onEditLesson:O,onUseLesson:L})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Planificaciones de Unidad"}),A.jsx("div",{className:"space-y-4",children:t.filter(V=>V.tipo==="Unidad").length>0?t.filter(V=>V.tipo==="Unidad").map(V=>A.jsx("div",{className:`p-4 border rounded-lg ${(i==null?void 0:i.id)===V.id?"bg-amber-50 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700"}`,children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:V.nombreUnidad}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(V.fechaCreacion).toLocaleString("es-CL")]}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",V.contenidos]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>D(V),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver y Editar"}),A.jsx("button",{onClick:()=>W(V.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:"🗑️"})]})]})},V.id)):A.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No hay planificaciones de unidad guardadas."})})]})]}),ae=()=>{const V=t.filter(G=>G.tipo==="Clase").sort((G,re)=>new Date(re.fechaCreacion).getTime()-new Date(G.fechaCreacion).getTime());return b?A.jsx(UW,{plan:b,onBack:()=>y(null),onSave:G=>{const re=t.map(J=>J.id===G.id?G:J);_(re),y(G)}}):A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Planes de Clase Guardados"}),A.jsx("div",{className:"space-y-4",children:V.length>0?V.map(G=>A.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:G.nombreClase}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(G.fechaCreacion).toLocaleString("es-CL")]}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",G.contenidos]})]}),A.jsx("div",{className:"flex items-center gap-2",children:A.jsx("button",{onClick:()=>y(G),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver Plan de Clase"})})]},G.id)):A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-6",children:"No hay planes de clase guardados. Puede generarlos desde una unidad en la pestaña 'Unidad'."})})]})};return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Planificación"}),A.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:A.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[A.jsx("button",{onClick:()=>g("unidad"),className:`${p==="unidad"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Unidad"}),A.jsx("button",{onClick:()=>g("clase"),className:`${p==="clase"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Clase"}),A.jsx("button",{onClick:()=>g("calendario"),className:`${p==="calendario"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:"Actividades Calendario"})]})}),p==="unidad"&&Q(),p==="clase"&&ae(),p==="calendario"&&A.jsx(DW,{}),E&&A.jsx(FW,{lesson:E.lessonData,onClose:()=>S(null),onSave:M})]})},hN="eventosCalendario",RW=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],MW=e=>{switch(e.type){case Sr.EVALUACION:return`${e.subtype} - ${e.asignatura}`;case Sr.ACTO:return`Acto: ${e.ubicacion}`;case Sr.ACTIVIDAD_FOCALIZADA:return"Actividad Focalizada";case Sr.SALIDA_PEDAGOGICA:return`Salida: ${e.ubicacion}`;default:return"Evento"}},PW=({isOpen:e,onClose:t,onSave:r,onDelete:n,event:a,date:s})=>{const[i,o]=X.useState({});X.useEffect(()=>{o(a||{type:Sr.EVALUACION,subtype:yd.PRUEBA_PARCIAL,asignatura:Oi[0],curso:wa[0],contenidos:"",enlace:"",responsables:"",ubicacion:"",horario:"",responsable:"",cursos:[]})},[a]);const c="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",u=b=>{const{name:y,value:E}=b.target;o(S=>({...S,[y]:E}))},f=b=>{o(y=>{if(y.type===Sr.SALIDA_PEDAGOGICA){const E=y.cursos||[],S=E.includes(b)?E.filter(N=>N!==b):[...E,b];return{...y,cursos:S.sort()}}return y})},h=b=>{switch(b.preventDefault(),i.type){case Sr.EVALUACION:r({date:s,type:Sr.EVALUACION,subtype:i.subtype,asignatura:i.asignatura,curso:i.curso,contenidos:i.contenidos,enlace:i.subtype===yd.RUBRICA||i.subtype===yd.PAUTA_COTEJO?i.enlace:void 0});break;case Sr.ACTO:r({date:s,type:Sr.ACTO,responsables:i.responsables,ubicacion:i.ubicacion,horario:i.horario});break;case Sr.ACTIVIDAD_FOCALIZADA:r({date:s,type:Sr.ACTIVIDAD_FOCALIZADA,responsables:i.responsables,ubicacion:i.ubicacion,horario:i.horario});break;case Sr.SALIDA_PEDAGOGICA:r({date:s,type:Sr.SALIDA_PEDAGOGICA,responsable:i.responsable,ubicacion:i.ubicacion,cursos:i.cursos});break}t()};if(!e)return null;const p=new Date(`${s}T12:00:00`).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),g=()=>{switch(i.type){case Sr.EVALUACION:return A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"subtype",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subtipo"}),A.jsx("select",{id:"subtype",name:"subtype",value:i.subtype,onChange:u,required:!0,className:c,children:AO.map(b=>A.jsx("option",{value:b,children:b},b))})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),A.jsx("select",{id:"asignatura",name:"asignatura",value:i.asignatura,onChange:u,required:!0,className:c,children:Oi.map(b=>A.jsx("option",{value:b,children:b},b))})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),A.jsx("select",{id:"curso",name:"curso",value:i.curso,onChange:u,required:!0,className:c,children:wa.map(b=>A.jsx("option",{value:b,children:b},b))})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenidos"}),A.jsx("textarea",{id:"contenidos",name:"contenidos",value:i.contenidos,onChange:u,required:!0,rows:3,className:c})]}),(i.subtype===yd.RUBRICA||i.subtype===yd.PAUTA_COTEJO)&&A.jsxs("div",{children:[A.jsx("label",{htmlFor:"enlace",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace al Documento (URL)"}),A.jsx("input",{id:"enlace",name:"enlace",type:"url",value:i.enlace,onChange:u,placeholder:"https://...",className:c})]})]});case Sr.ACTO:case Sr.ACTIVIDAD_FOCALIZADA:return A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"responsables",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsables"}),A.jsx("input",{id:"responsables",name:"responsables",type:"text",value:i.responsables,onChange:u,required:!0,className:c})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ubicación"}),A.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:i.ubicacion,onChange:u,required:!0,className:c})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"horario",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Horario"}),A.jsx("input",{id:"horario",name:"horario",type:"text",value:i.horario,onChange:u,required:!0,className:c})]})]});case Sr.SALIDA_PEDAGOGICA:return A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Responsable"}),A.jsx("input",{id:"responsable",name:"responsable",type:"text",value:i.responsable,onChange:u,required:!0,className:c})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ubicación/Destino"}),A.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:i.ubicacion,onChange:u,required:!0,className:c})]}),A.jsxs("fieldset",{children:[A.jsx("legend",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cursos Involucrados"}),A.jsx("div",{className:"max-h-32 overflow-y-auto grid grid-cols-3 sm:grid-cols-4 gap-2 border p-2 rounded-md dark:border-slate-600 text-slate-700 dark:text-slate-300",children:wa.map(b=>A.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[A.jsx("input",{type:"checkbox",checked:(i.cursos||[]).includes(b),onChange:()=>f(b),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),A.jsx("span",{children:b})]},b))})]})]});default:return null}};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:t,children:A.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-fade-in-up",onClick:b=>b.stopPropagation(),children:A.jsxs("form",{onSubmit:h,children:[A.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:a?"Editar Evento":"Agregar Evento"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 font-semibold",children:p}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Evento"}),A.jsx("select",{id:"type",name:"type",value:i.type,onChange:u,className:c,children:Object.values(Sr).map(b=>A.jsx("option",{value:b,children:b},b))})]}),g()]})]}),A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-6 py-4 rounded-b-xl flex justify-between items-center",children:[A.jsx("div",{children:a&&n&&A.jsx("button",{type:"button",onClick:n,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold",children:"Eliminar"})}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar"})]})]})]})})})},jW=({profile:e})=>{const[t,r]=X.useState(new Date),[n,a]=X.useState([]),[s,i]=X.useState(Object.values(Sr)),[o,c]=X.useState(!1),[u,f]=X.useState(null),[h,p]=X.useState(null);X.useEffect(()=>{try{const _=localStorage.getItem(hN);_&&a(JSON.parse(_))}catch(_){console.error("Error al cargar eventos de localStorage",_)}},[]),X.useEffect(()=>{try{localStorage.setItem(hN,JSON.stringify(n))}catch(_){console.error("Error al guardar eventos en localStorage",_)}},[n]);const g=X.useMemo(()=>{const _=t.getFullYear(),k=t.getMonth(),U=new Date(_,k,1).getDay(),F=new Date(_,k+1,0).getDate(),L=[];let D=1;for(let W=0;W<6;W++){const O=[];for(let M=0;M<7;M++)W===0&&M<U||D>F?O.push(null):(O.push(new Date(_,k,D)),D++);if(L.push(O),D>F)break}return L},[t]),b=_=>{i(k=>k.includes(_)?k.filter(U=>U!==_):[...k,_])},y=()=>{s.length===Object.values(Sr).length?i([]):i(Object.values(Sr))},E=_=>{e!==Kt.ESTUDIANTE&&(f(_.toISOString().split("T")[0]),p(null),c(!0))},S=(_,k)=>{k.stopPropagation(),e!==Kt.ESTUDIANTE&&(f(_.date),p(_),c(!0))},N=_=>{a(h?n.map(k=>k.id===h.id?{..._,id:k.id}:k):[...n,{..._,id:crypto.randomUUID()}])},B=()=>{h&&(a(n.filter(_=>_.id!==h.id)),c(!1))};return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Calendario Académico"}),A.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:A.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),A.jsx("div",{className:"ml-3",children:A.jsx("p",{className:"text-sm",children:"Recuerda que el calendario escolar completo se encuentra disponible en la intranet. Este calendario es de exclusivo uso evaluativo y académico."})})]})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Filtrar por tipo de evento:"}),A.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[A.jsx("button",{onClick:y,className:"text-sm font-semibold px-3 py-1.5 rounded-full bg-slate-700 text-white hover:bg-slate-600 dark:bg-slate-600 dark:hover:bg-slate-500 transition-colors",children:s.length===Object.values(Sr).length?"Deseleccionar Todos":"Seleccionar Todos"}),Object.values(Sr).map(_=>A.jsxs("label",{className:`cursor-pointer text-sm font-medium px-3 py-1.5 rounded-full transition-all duration-200 flex items-center gap-2 ${s.includes(_)?`shadow-sm ${o0[_].color}`:"bg-slate-100 text-slate-600 hover:bg-slate-200 opacity-70 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600 dark:opacity-60"}`,children:[A.jsx("input",{type:"checkbox",checked:s.includes(_),onChange:()=>b(_),className:"hidden"}),A.jsx("span",{children:o0[_].icon}),A.jsx("span",{children:o0[_].label})]},_))]})]}),A.jsxs("div",{className:"border dark:border-slate-700 rounded-lg overflow-hidden",children:[A.jsxs("header",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 border-b dark:border-slate-700",children:[A.jsx("button",{onClick:()=>r(new Date(t.setMonth(t.getMonth()-1))),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300",children:"<"}),A.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize",children:t.toLocaleString("es-CL",{month:"long",year:"numeric"})}),A.jsx("button",{onClick:()=>r(new Date(t.setMonth(t.getMonth()+1))),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300",children:">"}),A.jsx("button",{onClick:()=>r(new Date),className:"ml-4 bg-slate-800 text-white text-sm font-bold py-1.5 px-3 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Hoy"})]}),A.jsx("div",{className:"grid grid-cols-7",children:RW.map(_=>A.jsx("div",{className:"text-center font-semibold text-slate-500 dark:text-slate-400 text-sm py-3 bg-slate-50 dark:bg-slate-700/50 border-b border-r dark:border-slate-700",children:_},_))}),A.jsx("div",{className:"grid grid-cols-7 grid-rows-6",children:g.flat().map((_,k)=>{const U=_&&_.toDateString()===new Date().toDateString(),F=_==null?void 0:_.toISOString().split("T")[0],L=F?n.filter(D=>D.date===F&&s.includes(D.type)):[];return A.jsx("div",{onClick:()=>_&&E(_),className:`border-b border-r dark:border-slate-700 p-2 h-36 flex flex-col overflow-hidden relative group ${_?e!==Kt.ESTUDIANTE?"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50":"":"bg-slate-50 dark:bg-slate-800/50"}`,children:_&&A.jsxs(A.Fragment,{children:[A.jsx("span",{className:`self-end text-sm font-semibold ${U?"bg-amber-400 text-white rounded-full h-6 w-6 flex items-center justify-center":"text-slate-600 dark:text-slate-300"}`,children:_.getDate()}),A.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 mt-1 pr-1",children:L.map(D=>A.jsxs("div",{onClick:W=>S(D,W),className:`text-xs font-medium p-1 rounded-md flex items-center gap-1.5 truncate ${o0[D.type].color}`,children:[A.jsx("span",{children:o0[D.type].icon}),A.jsx("span",{className:"truncate",children:MW(D)})]},D.id))}),e!==Kt.ESTUDIANTE&&A.jsx("button",{className:"absolute bottom-1 right-1 bg-amber-400 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-lg font-bold",children:"+"})]})},k)})})]}),o&&A.jsx(PW,{isOpen:o,onClose:()=>c(!1),onSave:N,onDelete:B,event:h,date:u})]})},mN="anunciosMuro",pN=[{bg:"bg-yellow-200 dark:bg-yellow-800/50",rotate:"transform -rotate-2"},{bg:"bg-lime-200 dark:bg-lime-800/50",rotate:"transform rotate-1"},{bg:"bg-sky-200 dark:bg-sky-800/50",rotate:"transform rotate-2"},{bg:"bg-red-200 dark:bg-red-800/50",rotate:"transform -rotate-1"},{bg:"bg-violet-200 dark:bg-violet-800/50",rotate:"transform rotate-1"}],OW=({currentUser:e})=>{const[t,r]=X.useState(()=>{try{const N=localStorage.getItem(mN);return N?JSON.parse(N):[]}catch(N){return console.error("Error al leer anuncios de localStorage en la inicialización",N),[]}}),[n,a]=X.useState({titulo:"",mensaje:"",adjunto:""}),[s,i]=X.useState({tipo:"Todos",cursos:[]});X.useEffect(()=>{try{localStorage.setItem(mN,JSON.stringify(t))}catch(N){console.error("Error al guardar anuncios en localStorage",N)}},[t]);const o=N=>{const{name:B,value:_}=N.target;a(k=>({...k,[B]:_}))},c=N=>{i({tipo:N,cursos:N==="Cursos"?[]:void 0})},u=N=>{i(B=>{var k;if(B.tipo!=="Cursos")return B;const _=(k=B.cursos)!=null&&k.includes(N)?B.cursos.filter(U=>U!==N):[...B.cursos||[],N];return{...B,cursos:_}})},f=N=>{if(N.preventDefault(),!n.titulo||!n.mensaje){alert("Título y mensaje son obligatorios.");return}if(s.tipo==="Cursos"&&(!s.cursos||s.cursos.length===0)){alert('Debe seleccionar al menos un curso para el destinatario "Cursos".');return}const B={id:crypto.randomUUID(),fechaPublicacion:new Date().toISOString(),destacado:!1,autor:e.nombreCompleto,profileCreador:e.profile,destinatarios:s,...n};r(_=>[B,..._]),a({titulo:"",mensaje:"",adjunto:""}),i({tipo:"Todos",cursos:[]})},h=N=>{window.confirm("¿Está seguro de que desea eliminar este anuncio?")&&r(B=>B.filter(_=>_.id!==N))},p=N=>{r(B=>B.map(_=>_.id===N?{..._,destacado:!_.destacado}:_))},g=X.useMemo(()=>[...t].sort((N,B)=>N.destacado&&!B.destacado?-1:!N.destacado&&B.destacado?1:new Date(B.fechaPublicacion).getTime()-new Date(N.fechaPublicacion).getTime()),[t]),b=X.useMemo(()=>{const N=e.profile,B=e.curso;return g.filter(_=>{if(N===Kt.SUBDIRECCION)return!0;if(!_.destinatarios)return N!==Kt.ESTUDIANTE;const{tipo:k,cursos:U}=_.destinatarios;return k==="Todos"||k==="Profesores"&&N===Kt.PROFESORADO||k==="Coordinación TP"&&N===Kt.COORDINACION_TP?!0:k==="Cursos"?N===Kt.ESTUDIANTE?U==null?void 0:U.includes(B||""):!0:!1})},[g,e]),y=N=>e.profile===Kt.ESTUDIANTE?!1:e.profile===Kt.SUBDIRECCION||e.profile===N.profileCreador,E=()=>e.profile===Kt.SUBDIRECCION||e.profile===Kt.PROFESORADO,S="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Muro de Anuncios"}),e.profile!==Kt.ESTUDIANTE?A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Publique un nuevo anuncio para toda la comunidad escolar."}),A.jsxs("form",{onSubmit:f,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"titulo",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Título"}),A.jsx("input",{type:"text",name:"titulo",value:n.titulo,onChange:o,required:!0,className:S})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"mensaje",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mensaje"}),A.jsx("textarea",{name:"mensaje",value:n.mensaje,onChange:o,required:!0,rows:4,className:S})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Destinatarios"}),A.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:["Todos","Cursos","Profesores","Coordinación TP"].map(N=>A.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[A.jsx("input",{type:"radio",name:"destinatarioTipo",value:N,checked:s.tipo===N,onChange:()=>c(N),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-slate-300"}),A.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:N.replace("Coordinación TP","Coord. TP")})]},N))})]}),s.tipo==="Cursos"&&A.jsxs("div",{className:"p-4 border rounded-md bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Cursos"}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-48 overflow-y-auto",children:wa.map(N=>{var B;return A.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:(B=s.cursos)==null?void 0:B.includes(N),onChange:()=>u(N),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300 bg-slate-100"}),A.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:N})]},N)})})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"adjunto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace adjunto (Opcional)"}),A.jsx("input",{type:"url",name:"adjunto",value:n.adjunto,onChange:o,placeholder:"https://ejemplo.com/documento.pdf",className:S})]}),A.jsx("div",{className:"pt-2 text-right",children:A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Publicar Anuncio"})})]})]}):A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Anuncios de la comunidad escolar. Este módulo es de solo lectura."})]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 py-4",children:b.length>0?b.map((N,B)=>{const _=pN[B%pN.length];return A.jsxs("div",{className:`font-handwritten text-slate-800 dark:text-slate-200 shadow-xl p-4 flex flex-col relative transition-transform duration-300 ease-in-out hover:scale-105 hover:rotate-0 hover:z-10 ${_.bg} ${_.rotate}`,children:[N.destacado&&A.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:A.jsx("span",{className:"text-5xl",role:"img","aria-label":"Anuncio destacado",children:"📌"})}),A.jsx("h2",{className:"text-3xl font-bold border-b-2 border-slate-500/30 dark:border-slate-400/30 pb-2 mb-4 break-words",children:N.titulo}),A.jsx("p",{className:"flex-grow text-2xl whitespace-pre-wrap mb-4 break-words min-h-[100px]",children:N.mensaje}),N.adjunto&&A.jsx("div",{className:"font-sans text-sm mb-4",children:A.jsxs("a",{href:N.adjunto,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 font-semibold text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Ver Adjunto"]})}),A.jsxs("div",{className:"font-sans text-xs mt-auto pt-2 border-t border-slate-500/30 dark:border-slate-400/30 flex justify-between items-end",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-bold",children:N.autor}),A.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:new Date(N.fechaPublicacion).toLocaleString("es-CL")})]}),A.jsxs("div",{className:"flex items-center",children:[E()&&A.jsx("button",{onClick:()=>p(N.id),title:N.destacado?"Desfijar":"Fijar",className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:A.jsx("span",{className:`text-xl transition-opacity ${N.destacado?"opacity-100":"opacity-30"}`,children:"📌"})}),y(N)&&A.jsx("button",{onClick:()=>h(N.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},N.id)}):A.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md text-center col-span-full",children:A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"No hay anuncios para mostrar con los filtros actuales."})})})]})},Cw="actasDeReunion",nI=window.SpeechRecognition||window.webkitSpeechRecognition,gN=!!nI,QW=({isListening:e})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e?A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}):A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),HW=()=>{const[e,t]=X.useState([]),[r,n]=X.useState(null),[a,s]=X.useState({tipoReunion:mw[0],asistentes:"",textoReunion:""}),[i,o]=X.useState(!1),[c,u]=X.useState(!1),[f,h]=X.useState(null),p=X.useRef(null);X.useEffect(()=>{try{const _=localStorage.getItem(Cw);if(_){const k=JSON.parse(_);t(k),k.length>0&&!r&&n(k[0])}}catch(_){console.error("Error al leer actas de localStorage",_)}},[r]);const g=_=>{const{name:k,value:U}=_.target;s(F=>({...F,[k]:U}))},b=X.useCallback(()=>{var _;if(!gN){h("El reconocimiento de voz no es compatible con este navegador.");return}i?(_=p.current)==null||_.stop():(p.current=new nI,p.current.lang="es-CL",p.current.continuous=!0,p.current.interimResults=!0,p.current.onresult=k=>{let U="";for(let F=k.resultIndex;F<k.results.length;++F)k.results[F].isFinal&&(U+=k.results[F][0].transcript+". ");s(F=>({...F,textoReunion:F.textoReunion+U}))},p.current.onstart=()=>o(!0),p.current.onend=()=>o(!1),p.current.onerror=k=>{console.error("Speech recognition error",k.error),h(`Error de reconocimiento: ${k.error}`),o(!1)},p.current.start())},[i]),y=async _=>{_.preventDefault();const{tipoReunion:k,asistentes:U,textoReunion:F}=a;if(!k||!U.trim()||!F.trim()){h("Todos los campos son obligatorios.");return}u(!0),h(null);try{gi("Generador de Actas");const L=new Oa({apiKey:void 0}),D=`
                Analiza el siguiente texto de un acta de reunión y extrae la información clave.
                El texto es una transcripción de lo hablado.
                - Identifica los temas principales discutidos.
                - Extrae un resumen de los acuerdos o decisiones específicas tomadas.
                - Lista cualquier plazo o fecha límite mencionada.
                - Identifica los nombres de las personas a las que se les asignaron responsabilidades o tareas.
                
                Texto del acta:
                "${F}"
                
                Asistentes a la reunión para referencia de nombres: ${U}
            `,W={type:xt.OBJECT,properties:{temas:{type:xt.ARRAY,description:"Lista de los principales temas tratados en la reunión.",items:{type:xt.STRING}},acuerdos:{type:xt.ARRAY,description:"Lista de los acuerdos o decisiones tomadas.",items:{type:xt.STRING}},plazos:{type:xt.ARRAY,description:"Lista de fechas límite o plazos mencionados en el texto.",items:{type:xt.STRING}},responsables:{type:xt.ARRAY,description:"Lista de las personas asignadas como responsables de tareas.",items:{type:xt.STRING}}},required:["temas","acuerdos","plazos","responsables"]},O=await L.models.generateContent({model:"gemini-2.5-flash",contents:D,config:{responseMimeType:"application/json",responseSchema:W}}),M=JSON.parse(O.text),K={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),...a,...M},Q=[K,...e];t(Q),localStorage.setItem(Cw,JSON.stringify(Q)),s({tipoReunion:mw[0],asistentes:"",textoReunion:""}),n(K)}catch(L){console.error("Error al analizar acta con IA:",L),h("Ocurrió un error al procesar el acta con la IA. Por favor, revise el texto e inténtelo de nuevo.")}finally{u(!1)}},E=_=>{if(window.confirm("¿Está seguro de que desea eliminar esta acta?")){const k=e.filter(U=>U.id!==_);t(k),localStorage.setItem(Cw,JSON.stringify(k)),(r==null?void 0:r.id)===_&&n(k.length>0?k[0]:null)}},S=_=>{n(_)},N=_=>_.temas||_.acuerdos||_.plazos||_.responsables?A.jsxs("div",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Análisis con IA"}),_.temas&&_.temas.length>0&&A.jsxs("div",{className:"mb-6",children:[A.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Temas Tratados"}),A.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:_.temas.map((U,F)=>A.jsx("li",{children:U},F))})]}),_.acuerdos&&_.acuerdos.length>0&&A.jsxs("div",{className:"mb-6",children:[A.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Acuerdos"}),A.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:_.acuerdos.map((U,F)=>A.jsx("li",{children:U},F))})]}),_.plazos&&_.plazos.length>0&&A.jsxs("div",{className:"mb-6",children:[A.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Plazos"}),A.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:_.plazos.map((U,F)=>A.jsx("li",{children:U},F))})]}),_.responsables&&_.responsables.length>0&&A.jsxs("div",{className:"mb-6",children:[A.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Responsables"}),A.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:_.responsables.map((U,F)=>A.jsx("li",{children:U},F))})]})]}):null,B="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 animate-fade-in",children:[A.jsxs("div",{className:"md:col-span-1 space-y-8",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generador de Actas"}),A.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:A.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),A.jsx("div",{className:"ml-3",children:A.jsxs("p",{className:"text-sm",children:["Recuerda que las actas debes subirlas por intranet en ",A.jsx("strong",{className:"font-semibold",children:"www.industrialderecoleta.cl"}),". Esta es sólo una herramienta para agilizar redacción."]})})]})}),A.jsxs("form",{onSubmit:y,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"tipoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Reunión"}),A.jsx("select",{name:"tipoReunion",value:a.tipoReunion,onChange:g,required:!0,className:B,children:mw.map(_=>A.jsx("option",{value:_,children:_},_))})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"asistentes",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asistentes"}),A.jsx("textarea",{name:"asistentes",value:a.asistentes,onChange:g,required:!0,rows:3,placeholder:"Nombres, separados por comas...",className:B})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"textoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Texto de la Reunión"}),A.jsxs("div",{className:"relative",children:[A.jsx("textarea",{name:"textoReunion",value:a.textoReunion,onChange:g,required:!0,rows:6,placeholder:"Escriba o use el micrófono para dictar...",className:B}),gN&&A.jsx("button",{type:"button",onClick:b,title:i?"Detener grabación":"Iniciar grabación",className:`absolute top-2 right-2 p-2 rounded-full transition-colors ${i?"bg-red-500 text-white animate-pulse":"bg-slate-200 hover:bg-slate-300 text-slate-700 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500"}`,children:A.jsx(QW,{isListening:i})})]})]}),f&&A.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:f}),A.jsx("div",{className:"pt-2 text-right",children:A.jsx("button",{type:"submit",disabled:c,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 flex items-center justify-center min-w-[120px] disabled:bg-slate-400 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:c?A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Crear Acta"})})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Actas"}),A.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2 pr-2",children:e.length>0?e.sort((_,k)=>new Date(k.fechaCreacion).getTime()-new Date(_.fechaCreacion).getTime()).map(_=>A.jsxs("button",{onClick:()=>S(_),className:`w-full text-left p-3 rounded-lg border transition-colors ${(r==null?void 0:r.id)===_.id?"bg-amber-100 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 hover:bg-slate-100 border-transparent dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[A.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:_.tipoReunion}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(_.fechaCreacion).toLocaleDateString("es-CL")})]},_.id)):A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay actas guardadas."})})]})]}),A.jsx("div",{className:"md:col-span-2 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:r?A.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsx("h1",{className:"text-3xl font-bold mt-0",children:`Acta de Reunión: ${r.tipoReunion}`}),A.jsx("button",{onClick:()=>E(r.id),title:"Eliminar Acta",className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 -mt-2 -mr-2",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[A.jsx("strong",{children:"Fecha:"})," ",new Date(r.fechaCreacion).toLocaleString("es-CL")]}),A.jsx("h2",{children:"Asistentes"}),A.jsx("ul",{className:"list-disc pl-5",children:String(r.asistentes||"").split(",").map((_,k)=>_.trim()&&A.jsx("li",{children:_.trim()},k))}),N(r),A.jsx("h2",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:"Transcripción Original"}),A.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-md whitespace-pre-wrap",children:A.jsx("p",{children:r.textoReunion})})]}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[A.jsx("span",{className:"text-6xl mb-4 text-slate-400",children:"📄"}),A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:"Seleccione un Acta"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Elija un acta del historial para ver sus detalles aquí, o cree una nueva usando el formulario."})]})})]})},VW="modulepreload",GW=function(e){return"/"+e},xN={},ib=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let i=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=i(r.map(u=>{if(u=GW(u),u in xN)return;xN[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":VW,f||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((g,b)=>{p.addEventListener("load",g),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function An(e){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(e)}var Ls=Uint8Array,ji=Uint16Array,RC=Int32Array,mv=new Ls([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pv=new Ls([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ob=new Ls([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aI=function(e,t){for(var r=new ji(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new RC(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},sI=aI(mv,2),iI=sI.b,lb=sI.r;iI[28]=258,lb[258]=28;var oI=aI(pv,0),zW=oI.b,vN=oI.r,cb=new ji(32768);for(var Dn=0;Dn<32768;++Dn){var WA=(Dn&43690)>>1|(Dn&21845)<<1;WA=(WA&52428)>>2|(WA&13107)<<2,WA=(WA&61680)>>4|(WA&3855)<<4,cb[Dn]=((WA&65280)>>8|(WA&255)<<8)>>1}var Xl=function(e,t,r){for(var n=e.length,a=0,s=new ji(t);a<n;++a)e[a]&&++s[e[a]-1];var i=new ji(t);for(a=1;a<t;++a)i[a]=i[a-1]+s[a-1]<<1;var o;if(r){o=new ji(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],f=t-e[a],h=i[e[a]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)o[cb[h]>>c]=u}else for(o=new ji(n),a=0;a<n;++a)e[a]&&(o[a]=cb[i[e[a]-1]++]>>15-e[a]);return o},Cu=new Ls(288);for(var Dn=0;Dn<144;++Dn)Cu[Dn]=8;for(var Dn=144;Dn<256;++Dn)Cu[Dn]=9;for(var Dn=256;Dn<280;++Dn)Cu[Dn]=7;for(var Dn=280;Dn<288;++Dn)Cu[Dn]=8;var Ym=new Ls(32);for(var Dn=0;Dn<32;++Dn)Ym[Dn]=5;var KW=Xl(Cu,9,0),qW=Xl(Cu,9,1),WW=Xl(Ym,5,0),$W=Xl(Ym,5,1),Ew=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},zo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Sw=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},MC=function(e){return(e+7)/8|0},lI=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ls(e.subarray(t,r))},YW=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$o=function(e,t,r){var n=new Error(t||YW[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,$o),!r)throw n;return n},JW=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new Ls(0);var i=!r,o=i||t.i!=2,c=t.i;i&&(r=new Ls(a*3));var u=function(ge){var te=r.length;if(ge>te){var Te=new Ls(Math.max(te*2,ge));Te.set(r),r=Te}},f=t.f||0,h=t.p||0,p=t.b||0,g=t.l,b=t.d,y=t.m,E=t.n,S=a*8;do{if(!g){f=zo(e,h,1);var N=zo(e,h+1,3);if(h+=3,N)if(N==1)g=qW,b=$W,y=9,E=5;else if(N==2){var U=zo(e,h,31)+257,F=zo(e,h+10,15)+4,L=U+zo(e,h+5,31)+1;h+=14;for(var D=new Ls(L),W=new Ls(19),O=0;O<F;++O)W[ob[O]]=zo(e,h+O*3,7);h+=F*3;for(var M=Ew(W),K=(1<<M)-1,Q=Xl(W,M,1),O=0;O<L;){var ae=Q[zo(e,h,K)];h+=ae&15;var B=ae>>4;if(B<16)D[O++]=B;else{var V=0,G=0;for(B==16?(G=3+zo(e,h,3),h+=2,V=D[O-1]):B==17?(G=3+zo(e,h,7),h+=3):B==18&&(G=11+zo(e,h,127),h+=7);G--;)D[O++]=V}}var re=D.subarray(0,U),J=D.subarray(U);y=Ew(re),E=Ew(J),g=Xl(re,y,1),b=Xl(J,E,1)}else $o(1);else{var B=MC(h)+4,_=e[B-4]|e[B-3]<<8,k=B+_;if(k>a){c&&$o(0);break}o&&u(p+_),r.set(e.subarray(B,k),p),t.b=p+=_,t.p=h=k*8,t.f=f;continue}if(h>S){c&&$o(0);break}}o&&u(p+131072);for(var Y=(1<<y)-1,ce=(1<<E)-1,R=h;;R=h){var V=g[Sw(e,h)&Y],z=V>>4;if(h+=V&15,h>S){c&&$o(0);break}if(V||$o(2),z<256)r[p++]=z;else if(z==256){R=h,g=null;break}else{var q=z-254;if(z>264){var O=z-257,ee=mv[O];q=zo(e,h,(1<<ee)-1)+iI[O],h+=ee}var ne=b[Sw(e,h)&ce],le=ne>>4;ne||$o(3),h+=ne&15;var J=zW[le];if(le>3){var ee=pv[le];J+=Sw(e,h)&(1<<ee)-1,h+=ee}if(h>S){c&&$o(0);break}o&&u(p+131072);var ue=p+q;if(p<J){var he=s-J,Ne=Math.min(J,ue);for(he+p<0&&$o(3);p<Ne;++p)r[p]=n[he+p]}for(;p<ue;++p)r[p]=r[p-J]}}t.l=g,t.p=R,t.b=p,t.f=f,g&&(f=1,t.m=y,t.d=b,t.n=E)}while(!f);return p!=r.length&&i?lI(r,0,p):r.subarray(0,p)},Uc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Zh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Bw=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:AI,l:0};if(a==1){var i=new Ls(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(k,U){return k.f-U.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,f=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=a-1;)o=r[r[u].f<r[h].f?u++:h++],c=r[u!=f&&r[u].f<r[h].f?u++:h++],r[f++]={s:-1,f:o.f+c.f,l:o,r:c};for(var p=s[0].s,n=1;n<a;++n)s[n].s>p&&(p=s[n].s);var g=new ji(p+1),b=Ab(r[f-1],g,0);if(b>t){var n=0,y=0,E=b-t,S=1<<E;for(s.sort(function(U,F){return g[F.s]-g[U.s]||U.f-F.f});n<a;++n){var N=s[n].s;if(g[N]>t)y+=S-(1<<b-g[N]),g[N]=t;else break}for(y>>=E;y>0;){var B=s[n].s;g[B]<t?y-=1<<t-g[B]++-1:++n}for(;n>=0&&y;--n){var _=s[n].s;g[_]==t&&(--g[_],++y)}b=t}return{t:new Ls(g),l:b}},Ab=function(e,t,r){return e.s==-1?Math.max(Ab(e.l,t,r+1),Ab(e.r,t,r+1)):t[e.s]=r},wN=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ji(++t),n=0,a=e[0],s=1,i=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[o]}return{c:r.subarray(0,n),n:t}},em=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},cI=function(e,t,r){var n=r.length,a=MC(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},yN=function(e,t,r,n,a,s,i,o,c,u,f){Uc(t,f++,r),++a[256];for(var h=Bw(a,15),p=h.t,g=h.l,b=Bw(s,15),y=b.t,E=b.l,S=wN(p),N=S.c,B=S.n,_=wN(y),k=_.c,U=_.n,F=new ji(19),L=0;L<N.length;++L)++F[N[L]&31];for(var L=0;L<k.length;++L)++F[k[L]&31];for(var D=Bw(F,7),W=D.t,O=D.l,M=19;M>4&&!W[ob[M-1]];--M);var K=u+5<<3,Q=em(a,Cu)+em(s,Ym)+i,ae=em(a,p)+em(s,y)+i+14+3*M+em(F,W)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&K<=Q&&K<=ae)return cI(t,f,e.subarray(c,c+u));var V,G,re,J;if(Uc(t,f,1+(ae<Q)),f+=2,ae<Q){V=Xl(p,g,0),G=p,re=Xl(y,E,0),J=y;var Y=Xl(W,O,0);Uc(t,f,B-257),Uc(t,f+5,U-1),Uc(t,f+10,M-4),f+=14;for(var L=0;L<M;++L)Uc(t,f+3*L,W[ob[L]]);f+=3*M;for(var ce=[N,k],R=0;R<2;++R)for(var z=ce[R],L=0;L<z.length;++L){var q=z[L]&31;Uc(t,f,Y[q]),f+=W[q],q>15&&(Uc(t,f,z[L]>>5&127),f+=z[L]>>12)}}else V=KW,G=Cu,re=WW,J=Ym;for(var L=0;L<o;++L){var ee=n[L];if(ee>255){var q=ee>>18&31;Zh(t,f,V[q+257]),f+=G[q+257],q>7&&(Uc(t,f,ee>>23&31),f+=mv[q]);var ne=ee&31;Zh(t,f,re[ne]),f+=J[ne],ne>3&&(Zh(t,f,ee>>5&8191),f+=pv[ne])}else Zh(t,f,V[ee]),f+=G[ee]}return Zh(t,f,V[256]),f+G[256]},XW=new RC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),AI=new Ls(0),ZW=function(e,t,r,n,a,s){var i=s.z||e.length,o=new Ls(n+i+5*(1+Math.ceil(i/7e3))+a),c=o.subarray(n,o.length-a),u=s.l,f=(s.r||0)&7;if(t){f&&(c[0]=s.r>>3);for(var h=XW[t-1],p=h>>13,g=h&8191,b=(1<<r)-1,y=s.p||new ji(32768),E=s.h||new ji(b+1),S=Math.ceil(r/3),N=2*S,B=function(qe){return(e[qe]^e[qe+1]<<S^e[qe+2]<<N)&b},_=new RC(25e3),k=new ji(288),U=new ji(32),F=0,L=0,D=s.i||0,W=0,O=s.w||0,M=0;D+2<i;++D){var K=B(D),Q=D&32767,ae=E[K];if(y[Q]=ae,E[K]=Q,O<=D){var V=i-D;if((F>7e3||W>24576)&&(V>423||!u)){f=yN(e,c,0,_,k,U,L,W,M,D-M,f),W=F=L=0,M=D;for(var G=0;G<286;++G)k[G]=0;for(var G=0;G<30;++G)U[G]=0}var re=2,J=0,Y=g,ce=Q-ae&32767;if(V>2&&K==B(D-ce))for(var R=Math.min(p,V)-1,z=Math.min(32767,D),q=Math.min(258,V);ce<=z&&--Y&&Q!=ae;){if(e[D+re]==e[D+re-ce]){for(var ee=0;ee<q&&e[D+ee]==e[D+ee-ce];++ee);if(ee>re){if(re=ee,J=ce,ee>R)break;for(var ne=Math.min(ce,ee-2),le=0,G=0;G<ne;++G){var ue=D-ce+G&32767,he=y[ue],Ne=ue-he&32767;Ne>le&&(le=Ne,ae=ue)}}}Q=ae,ae=y[Q],ce+=Q-ae&32767}if(J){_[W++]=268435456|lb[re]<<18|vN[J];var ge=lb[re]&31,te=vN[J]&31;L+=mv[ge]+pv[te],++k[257+ge],++U[te],O=D+re,++F}else _[W++]=e[D],++k[e[D]]}}for(D=Math.max(D,O);D<i;++D)_[W++]=e[D],++k[e[D]];f=yN(e,c,u,_,k,U,L,W,M,D-M,f),u||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=E,s.p=y,s.i=D,s.w=O)}else{for(var D=s.w||0;D<i+u;D+=65535){var Te=D+65535;Te>=i&&(c[f/8|0]=u,Te=i),f=cI(c,f+1,e.subarray(D,Te))}s.i=i}return lI(o,0,n+MC(f)+a)},uI=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},e$=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new Ls(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return ZW(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},dI=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},t$=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=uI();a.p(t.dictionary),dI(e,2,a.d())}},r$=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&$o(6,"invalid zlib data"),(e[1]>>5&1)==1&&$o(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function ub(e,t){t||(t={});var r=uI();r.p(e);var n=e$(e,t,t.dictionary?6:2,4);return t$(n,t),dI(n,n.length-4,r.d()),n}function n$(e,t){return JW(e.subarray(r$(e),-4),{i:2},t,t)}var a$=typeof TextDecoder<"u"&&new TextDecoder,s$=0;try{a$.decode(AI,{stream:!0}),s$=1}catch{}var ar=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Nw(){ar.console&&typeof ar.console.log=="function"&&ar.console.log.apply(ar.console,arguments)}var yn={log:Nw,warn:function(e){ar.console&&(typeof ar.console.warn=="function"?ar.console.warn.apply(ar.console,arguments):Nw.call(null,arguments))},error:function(e){ar.console&&(typeof ar.console.error=="function"?ar.console.error.apply(ar.console,arguments):Nw(e))}};function _w(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){vd(n.response,t,r)},n.onerror=function(){yn.error("could not download file")},n.send()}function bN(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Fm,db,vd=ar.saveAs||((typeof window>"u"?"undefined":An(window))!=="object"||window!==ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ar.URL||ar.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?bN(a.href)?_w(e,t,r):qg(a,a.target="_blank"):qg(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){qg(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(bN(e))_w(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){qg(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:An(s)!=="object"&&(yn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return _w(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(ar.HTMLElement)||ar.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":An(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=i?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(e)}else{var c=ar.URL||ar.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fI(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Tw(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Ss(r,n,a,s,t[0],7,-680876936),s=Ss(s,r,n,a,t[1],12,-389564586),a=Ss(a,s,r,n,t[2],17,606105819),n=Ss(n,a,s,r,t[3],22,-1044525330),r=Ss(r,n,a,s,t[4],7,-176418897),s=Ss(s,r,n,a,t[5],12,1200080426),a=Ss(a,s,r,n,t[6],17,-1473231341),n=Ss(n,a,s,r,t[7],22,-45705983),r=Ss(r,n,a,s,t[8],7,1770035416),s=Ss(s,r,n,a,t[9],12,-1958414417),a=Ss(a,s,r,n,t[10],17,-42063),n=Ss(n,a,s,r,t[11],22,-1990404162),r=Ss(r,n,a,s,t[12],7,1804603682),s=Ss(s,r,n,a,t[13],12,-40341101),a=Ss(a,s,r,n,t[14],17,-1502002290),r=Bs(r,n=Ss(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Bs(s,r,n,a,t[6],9,-1069501632),a=Bs(a,s,r,n,t[11],14,643717713),n=Bs(n,a,s,r,t[0],20,-373897302),r=Bs(r,n,a,s,t[5],5,-701558691),s=Bs(s,r,n,a,t[10],9,38016083),a=Bs(a,s,r,n,t[15],14,-660478335),n=Bs(n,a,s,r,t[4],20,-405537848),r=Bs(r,n,a,s,t[9],5,568446438),s=Bs(s,r,n,a,t[14],9,-1019803690),a=Bs(a,s,r,n,t[3],14,-187363961),n=Bs(n,a,s,r,t[8],20,1163531501),r=Bs(r,n,a,s,t[13],5,-1444681467),s=Bs(s,r,n,a,t[2],9,-51403784),a=Bs(a,s,r,n,t[7],14,1735328473),r=Ns(r,n=Bs(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Ns(s,r,n,a,t[8],11,-2022574463),a=Ns(a,s,r,n,t[11],16,1839030562),n=Ns(n,a,s,r,t[14],23,-35309556),r=Ns(r,n,a,s,t[1],4,-1530992060),s=Ns(s,r,n,a,t[4],11,1272893353),a=Ns(a,s,r,n,t[7],16,-155497632),n=Ns(n,a,s,r,t[10],23,-1094730640),r=Ns(r,n,a,s,t[13],4,681279174),s=Ns(s,r,n,a,t[0],11,-358537222),a=Ns(a,s,r,n,t[3],16,-722521979),n=Ns(n,a,s,r,t[6],23,76029189),r=Ns(r,n,a,s,t[9],4,-640364487),s=Ns(s,r,n,a,t[12],11,-421815835),a=Ns(a,s,r,n,t[15],16,530742520),r=_s(r,n=Ns(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=_s(s,r,n,a,t[7],10,1126891415),a=_s(a,s,r,n,t[14],15,-1416354905),n=_s(n,a,s,r,t[5],21,-57434055),r=_s(r,n,a,s,t[12],6,1700485571),s=_s(s,r,n,a,t[3],10,-1894986606),a=_s(a,s,r,n,t[10],15,-1051523),n=_s(n,a,s,r,t[1],21,-2054922799),r=_s(r,n,a,s,t[8],6,1873313359),s=_s(s,r,n,a,t[15],10,-30611744),a=_s(a,s,r,n,t[6],15,-1560198380),n=_s(n,a,s,r,t[13],21,1309151649),r=_s(r,n,a,s,t[4],6,-145523070),s=_s(s,r,n,a,t[11],10,-1120210379),a=_s(a,s,r,n,t[2],15,718787259),n=_s(n,a,s,r,t[9],21,-343485551),e[0]=cu(r,e[0]),e[1]=cu(n,e[1]),e[2]=cu(a,e[2]),e[3]=cu(s,e[3])}function gv(e,t,r,n,a,s){return t=cu(cu(t,e),cu(n,s)),cu(t<<a|t>>>32-a,r)}function Ss(e,t,r,n,a,s,i){return gv(t&r|~t&n,e,t,a,s,i)}function Bs(e,t,r,n,a,s,i){return gv(t&n|r&~n,e,t,a,s,i)}function Ns(e,t,r,n,a,s,i){return gv(t^r^n,e,t,a,s,i)}function _s(e,t,r,n,a,s,i){return gv(r^(t|~n),e,t,a,s,i)}function hI(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Tw(n,i$(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Tw(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Tw(n,a),n}function i$(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Fm=ar.atob.bind(ar),db=ar.btoa.bind(ar);var CN="0123456789abcdef".split("");function o$(e){for(var t="",r=0;r<4;r++)t+=CN[e>>8*r+4&15]+CN[e>>8*r&15];return t}function l$(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function fb(e){return hI(e).map(l$).join("")}var c$=function(e){for(var t=0;t<e.length;t++)e[t]=o$(e[t]);return e.join("")}(hI("hello"))!="5d41402abc4b2a76b9719d911017c592";function cu(e,t){if(c$){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function hb(e,t){var r,n,a,s;if(e!==r){for(var i=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var f=o[c];u=(u+f+i.charCodeAt(c))%256,o[c]=o[u],o[u]=f}r=e,n=o}else o=n;var h=t.length,p=0,g=0,b="";for(c=0;c<h;c++)g=(g+(f=o[p=(p+1)%256]))%256,o[p]=o[g],o[g]=f,i=o[(o[p]+o[g])%256],b+=String.fromCharCode(t.charCodeAt(c)^i);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var EN={print:4,modify:8,copy:16,"annot-forms":32};function l0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(EN.perm!==void 0)throw new Error("Invalid permission: "+o);a+=EN[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=fb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=hb(this.encryptionKey,this.padding)}function c0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function SN(e){if(An(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var i=t[r][s];try{i[0].apply(e,n)}catch(o){ar.console&&yn.error("jsPDF PubSub Error",o.message,o)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function w1(e){if(!(this instanceof w1))return new w1(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function mI(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function bd(e,t,r,n,a){if(!(this instanceof bd))return new bd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,mI.call(this,n,a)}function m0(e,t,r,n,a){if(!(this instanceof m0))return new m0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,mI.call(this,n,a)}function Wt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,c=16,u="S",f=null;An(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),i=e.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=SN;var b="1.3",y=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(j){b=j};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return E};var S=g.__private__.getPageFormat=function(j){return E[j]};a=a||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},B=N.COMPAT;function _(){this.saveGraphicsState(),we(new Ot(ut,0,0,-ut,0,pl()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),u="n",B=N.ADVANCED}function k(){this.restoreGraphicsState(),u="S",B=N.COMPAT}var U=g.__private__.combineFontStyleAndFontWeight=function(j,oe){if(j=="bold"&&oe=="normal"||j=="bold"&&oe==400||j=="normal"&&oe=="italic"||j=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(j=oe==400||oe==="normal"?j==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||j!=="normal"?(oe==700?"bold":oe)+""+j:"bold"),j};g.advancedAPI=function(j){var oe=B===N.COMPAT;return oe&&_.call(this),typeof j!="function"||(j(this),oe&&k.call(this)),this},g.compatAPI=function(j){var oe=B===N.ADVANCED;return oe&&k.call(this),typeof j!="function"||(j(this),oe&&_.call(this)),this},g.isAdvancedAPI=function(){return B===N.ADVANCED};var F,L=function(j){if(B!==N.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=g.roundToPrecision=g.__private__.roundToPrecision=function(j,oe){var Be=t||oe;if(isNaN(j)||isNaN(Be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(Be).replace(/0+$/,"")};F=g.hpf=g.__private__.hpf=typeof c=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return D(j,c)}:c==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return D(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return D(j,16)};var W=g.f2=g.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return D(j,2)},O=g.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return D(j,3)},M=g.scale=g.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return B===N.COMPAT?j*ut:B===N.ADVANCED?j:void 0},K=function(j){return B===N.COMPAT?pl()-j:B===N.ADVANCED?j:void 0},Q=function(j){return M(K(j))};g.__private__.setPrecision=g.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var ae,V="00000000000000000000000000000000",G=g.__private__.getFileId=function(){return V},re=g.__private__.setFileId=function(j){return V=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ea=new l0(f.userPermissions,f.userPassword,f.ownerPassword,V)),V};g.setFileId=function(j){return re(j),this},g.getFileId=function(){return G()};var J=g.__private__.convertDateToPDFDate=function(j){var oe=j.getTimezoneOffset(),Be=oe<0?"+":"-",Fe=Math.floor(Math.abs(oe/60)),Oe=Math.abs(oe%60),tt=[Be,q(Fe),"'",q(Oe),"'"].join("");return["D:",j.getFullYear(),q(j.getMonth()+1),q(j.getDate()),q(j.getHours()),q(j.getMinutes()),q(j.getSeconds()),tt].join("")},Y=g.__private__.convertPDFDateToDate=function(j){var oe=parseInt(j.substr(2,4),10),Be=parseInt(j.substr(6,2),10)-1,Fe=parseInt(j.substr(8,2),10),Oe=parseInt(j.substr(10,2),10),tt=parseInt(j.substr(12,2),10),gt=parseInt(j.substr(14,2),10);return new Date(oe,Be,Fe,Oe,tt,gt,0)},ce=g.__private__.setCreationDate=function(j){var oe;if(j===void 0&&(j=new Date),j instanceof Date)oe=J(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=j}return ae=oe},R=g.__private__.getCreationDate=function(j){var oe=ae;return j==="jsDate"&&(oe=Y(ae)),oe};g.setCreationDate=function(j){return ce(j),this},g.getCreationDate=function(j){return R(j)};var z,q=g.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},ee=g.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},ne=0,le=[],ue=[],he=0,Ne=[],ge=[],te=!1,Te=ue,qe=function(){ne=0,he=0,ue=[],le=[],Ne=[],ve=Cn(),ye=Cn()};g.__private__.setCustomOutputDestination=function(j){te=!0,Te=j};var ke=function(j){te||(Te=j)};g.__private__.resetCustomOutputDestination=function(){te=!1,Te=ue};var we=g.__private__.out=function(j){return j=j.toString(),he+=j.length+1,Te.push(j),Te},je=g.__private__.write=function(j){return we(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},$e=g.__private__.getArrayBuffer=function(j){for(var oe=j.length,Be=new ArrayBuffer(oe),Fe=new Uint8Array(Be);oe--;)Fe[oe]=j.charCodeAt(oe);return Be},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return et};var dt=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(j){return dt=B===N.ADVANCED?j/ut:j,this};var pt,st=g.__private__.getFontSize=g.getFontSize=function(){return B===N.COMPAT?dt:dt*ut},yt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(j){return yt=j,this},g.__private__.getR2L=g.getR2L=function(){return yt};var Nt,Lt=g.__private__.setZoomMode=function(j){var oe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))pt=j;else if(isNaN(j)){if(oe.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');pt=j}else pt=parseInt(j,10)};g.__private__.getZoomMode=function(){return pt};var Rt,Qt=g.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Nt=j};g.__private__.getPageMode=function(){return Nt};var Vt=g.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');Rt=j};g.__private__.getLayoutMode=function(){return Rt},g.__private__.setDisplayMode=g.setDisplayMode=function(j,oe,Be){return Lt(j),Vt(oe),Qt(Be),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(j){if(Object.keys(Tt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[j]},g.__private__.getDocumentProperties=function(){return Tt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(j){for(var oe in Tt)Tt.hasOwnProperty(oe)&&j[oe]&&(Tt[oe]=j[oe]);return this},g.__private__.setDocumentProperty=function(j,oe){if(Object.keys(Tt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[j]=oe};var Ct,ut,mr,Mt,Kr,ur={},gr={},nn=[],xr={},ts={},jr={},oa={},Ca=null,kr=0,Xt=[],Fr=new SN(g),Hs=e.hotfixes||[],_n={},rs={},ps=[],Ot=function j(oe,Be,Fe,Oe,tt,gt){if(!(this instanceof j))return new j(oe,Be,Fe,Oe,tt,gt);isNaN(oe)&&(oe=1),isNaN(Be)&&(Be=0),isNaN(Fe)&&(Fe=0),isNaN(Oe)&&(Oe=1),isNaN(tt)&&(tt=0),isNaN(gt)&&(gt=0),this._matrix=[oe,Be,Fe,Oe,tt,gt]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(j)},Ot.prototype.multiply=function(j){var oe=j.sx*this.sx+j.shy*this.shx,Be=j.sx*this.shy+j.shy*this.sy,Fe=j.shx*this.sx+j.sy*this.shx,Oe=j.shx*this.shy+j.sy*this.sy,tt=j.tx*this.sx+j.ty*this.shx+this.tx,gt=j.tx*this.shy+j.ty*this.sy+this.ty;return new Ot(oe,Be,Fe,Oe,tt,gt)},Ot.prototype.decompose=function(){var j=this.sx,oe=this.shy,Be=this.shx,Fe=this.sy,Oe=this.tx,tt=this.ty,gt=Math.sqrt(j*j+oe*oe),Ft=(j/=gt)*Be+(oe/=gt)*Fe;Be-=j*Ft,Fe-=oe*Ft;var Ht=Math.sqrt(Be*Be+Fe*Fe);return Ft/=Ht,j*(Fe/=Ht)<oe*(Be/=Ht)&&(j=-j,oe=-oe,Ft=-Ft,gt=-gt),{scale:new Ot(gt,0,0,Ht,0,0),translate:new Ot(1,0,0,1,Oe,tt),rotate:new Ot(j,oe,-oe,j,0,0),skew:new Ot(1,0,Ft,1,0,0)}},Ot.prototype.toString=function(j){return this.join(" ")},Ot.prototype.inversed=function(){var j=this.sx,oe=this.shy,Be=this.shx,Fe=this.sy,Oe=this.tx,tt=this.ty,gt=1/(j*Fe-oe*Be),Ft=Fe*gt,Ht=-oe*gt,fr=-Be*gt,Ar=j*gt;return new Ot(Ft,Ht,fr,Ar,-Ft*Oe-fr*tt,-Ht*Oe-Ar*tt)},Ot.prototype.applyToPoint=function(j){var oe=j.x*this.sx+j.y*this.shx+this.tx,Be=j.x*this.shy+j.y*this.sy+this.ty;return new fA(oe,Be)},Ot.prototype.applyToRectangle=function(j){var oe=this.applyToPoint(j),Be=this.applyToPoint(new fA(j.x+j.w,j.y+j.h));return new Gu(oe.x,oe.y,Be.x-oe.x,Be.y-oe.y)},Ot.prototype.clone=function(){var j=this.sx,oe=this.shy,Be=this.shx,Fe=this.sy,Oe=this.tx,tt=this.ty;return new Ot(j,oe,Be,Fe,Oe,tt)},g.Matrix=Ot;var qr=g.matrixMult=function(j,oe){return oe.multiply(j)},en=new Ot(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=en;var Tn=function(j,oe){if(!ts[j]){var Be=(oe instanceof bd?"Sh":"P")+(Object.keys(xr).length+1).toString(10);oe.id=Be,ts[j]=Be,xr[Be]=oe,Fr.publish("addPattern",oe)}};g.ShadingPattern=bd,g.TilingPattern=m0,g.addShadingPattern=function(j,oe){return L("addShadingPattern()"),Tn(j,oe),this},g.beginTilingPattern=function(j){L("beginTilingPattern()"),hA(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},g.endTilingPattern=function(j,oe){L("endTilingPattern()"),oe.stream=ge[z].join(`
`),Tn(j,oe),Fr.publish("endTilingPattern",oe),ps.pop().restore()};var xn=g.__private__.newObject=function(){var j=Cn();return de(j,!0),j},Cn=g.__private__.newObjectDeferred=function(){return ne++,le[ne]=function(){return he},ne},de=function(j,oe){return oe=typeof oe=="boolean"&&oe,le[j]=he,oe&&we(j+" 0 obj"),j},Ee=g.__private__.newAdditionalObject=function(){var j={objId:Cn(),content:""};return Ne.push(j),j},ve=Cn(),ye=Cn(),Ce=g.__private__.decodeColorString=function(j){var oe=j.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length===5&&(oe[4]==="k"||oe[4]==="K")&&(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Be=parseFloat(oe[0]);oe=[Be,Be,Be,"r"]}for(var Fe="#",Oe=0;Oe<3;Oe++)Fe+=("0"+Math.floor(255*parseFloat(oe[Oe])).toString(16)).slice(-2);return Fe},Se=g.__private__.encodeColorString=function(j){var oe;typeof j=="string"&&(j={ch1:j});var Be=j.ch1,Fe=j.ch2,Oe=j.ch3,tt=j.ch4,gt=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Be=="string"&&Be.charAt(0)!=="#"){var Ft=new fI(Be);if(Ft.ok)Be=Ft.toHex();else if(!/^\d*\.?\d*$/.test(Be))throw new Error('Invalid color "'+Be+'" passed to jsPDF.encodeColorString.')}if(typeof Be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Be)&&(Be="#"+Be[1]+Be[1]+Be[2]+Be[2]+Be[3]+Be[3]),typeof Be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Be)){var Ht=parseInt(Be.substr(1),16);Be=Ht>>16&255,Fe=Ht>>8&255,Oe=255&Ht}if(Fe===void 0||tt===void 0&&Be===Fe&&Fe===Oe)if(typeof Be=="string")oe=Be+" "+gt[0];else switch(j.precision){case 2:oe=W(Be/255)+" "+gt[0];break;case 3:default:oe=O(Be/255)+" "+gt[0]}else if(tt===void 0||An(tt)==="object"){if(tt&&!isNaN(tt.a)&&tt.a===0)return oe=["1.","1.","1.",gt[1]].join(" ");if(typeof Be=="string")oe=[Be,Fe,Oe,gt[1]].join(" ");else switch(j.precision){case 2:oe=[W(Be/255),W(Fe/255),W(Oe/255),gt[1]].join(" ");break;default:case 3:oe=[O(Be/255),O(Fe/255),O(Oe/255),gt[1]].join(" ")}}else if(typeof Be=="string")oe=[Be,Fe,Oe,tt,gt[2]].join(" ");else switch(j.precision){case 2:oe=[W(Be),W(Fe),W(Oe),W(tt),gt[2]].join(" ");break;case 3:default:oe=[O(Be),O(Fe),O(Oe),O(tt),gt[2]].join(" ")}return oe},Qe=g.__private__.getFilters=function(){return i},Xe=g.__private__.putStream=function(j){var oe=(j=j||{}).data||"",Be=j.filters||Qe(),Fe=j.alreadyAppliedFilters||[],Oe=j.addLength1||!1,tt=oe.length,gt=j.objectId,Ft=function(Gn){return Gn};if(f!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ft=Ea.encryptor(gt,0));var Ht={};Be===!0&&(Be=["FlateEncode"]);var fr=j.additionalKeyValues||[],Ar=(Ht=Wt.API.processDataByFilters!==void 0?Wt.API.processDataByFilters(oe,Be):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Fe)?Fe.join(" "):Fe.toString());if(Ht.data.length!==0&&(fr.push({key:"Length",value:Ht.data.length}),Oe===!0&&fr.push({key:"Length1",value:tt})),Ar.length!=0)if(Ar.split("/").length-1==1)fr.push({key:"Filter",value:Ar});else{fr.push({key:"Filter",value:"["+Ar+"]"});for(var Ur=0;Ur<fr.length;Ur+=1)if(fr[Ur].key==="DecodeParms"){for(var En=[],kn=0;kn<Ht.reverseChain.split("/").length-1;kn+=1)En.push("null");En.push(fr[Ur].value),fr[Ur].value="["+En.join(" ")+"]"}}we("<<");for(var Vn=0;Vn<fr.length;Vn++)we("/"+fr[Vn].key+" "+fr[Vn].value);we(">>"),Ht.data.length!==0&&(we("stream"),we(Ft(Ht.data)),we("endstream"))},Re=g.__private__.putPage=function(j){var oe=j.number,Be=j.data,Fe=j.objId,Oe=j.contentsObjId;de(Fe,!0),we("<</Type /Page"),we("/Parent "+j.rootDictionaryObjId+" 0 R"),we("/Resources "+j.resourceDictionaryObjId+" 0 R"),we("/MediaBox ["+parseFloat(F(j.mediaBox.bottomLeftX))+" "+parseFloat(F(j.mediaBox.bottomLeftY))+" "+F(j.mediaBox.topRightX)+" "+F(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&we("/CropBox ["+F(j.cropBox.bottomLeftX)+" "+F(j.cropBox.bottomLeftY)+" "+F(j.cropBox.topRightX)+" "+F(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&we("/BleedBox ["+F(j.bleedBox.bottomLeftX)+" "+F(j.bleedBox.bottomLeftY)+" "+F(j.bleedBox.topRightX)+" "+F(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&we("/TrimBox ["+F(j.trimBox.bottomLeftX)+" "+F(j.trimBox.bottomLeftY)+" "+F(j.trimBox.topRightX)+" "+F(j.trimBox.topRightY)+"]"),j.artBox!==null&&we("/ArtBox ["+F(j.artBox.bottomLeftX)+" "+F(j.artBox.bottomLeftY)+" "+F(j.artBox.topRightX)+" "+F(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&we("/UserUnit "+j.userUnit),Fr.publish("putPage",{objId:Fe,pageContext:Xt[oe],pageNumber:oe,page:Be}),we("/Contents "+Oe+" 0 R"),we(">>"),we("endobj");var tt=Be.join(`
`);return B===N.ADVANCED&&(tt+=`
Q`),de(Oe,!0),Xe({data:tt,filters:Qe(),objectId:Oe}),we("endobj"),Fe},ze=g.__private__.putPages=function(){var j,oe,Be=[];for(j=1;j<=kr;j++)Xt[j].objId=Cn(),Xt[j].contentsObjId=Cn();for(j=1;j<=kr;j++)Be.push(Re({number:j,data:ge[j],objId:Xt[j].objId,contentsObjId:Xt[j].contentsObjId,mediaBox:Xt[j].mediaBox,cropBox:Xt[j].cropBox,bleedBox:Xt[j].bleedBox,trimBox:Xt[j].trimBox,artBox:Xt[j].artBox,userUnit:Xt[j].userUnit,rootDictionaryObjId:ve,resourceDictionaryObjId:ye}));de(ve,!0),we("<</Type /Pages");var Fe="/Kids [";for(oe=0;oe<kr;oe++)Fe+=Be[oe]+" 0 R ";we(Fe+"]"),we("/Count "+kr),we(">>"),we("endobj"),Fr.publish("postPutPages")},We=function(j){Fr.publish("putFont",{font:j,out:we,newObject:xn,putStream:Xe}),j.isAlreadyPutted!==!0&&(j.objectNumber=xn(),we("<<"),we("/Type /Font"),we("/BaseFont /"+c0(j.postScriptName)),we("/Subtype /Type1"),typeof j.encoding=="string"&&we("/Encoding /"+j.encoding),we("/FirstChar 32"),we("/LastChar 255"),we(">>"),we("endobj"))},ht=function(){for(var j in ur)ur.hasOwnProperty(j)&&(h===!1||h===!0&&p.hasOwnProperty(j))&&We(ur[j])},wt=function(j){j.objectNumber=xn();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[F(j.x),F(j.y),F(j.x+j.width),F(j.y+j.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var Be=j.pages[1].join(`
`);Xe({data:Be,additionalKeyValues:oe,objectId:j.objectNumber}),we("endobj")},kt=function(){for(var j in _n)_n.hasOwnProperty(j)&&wt(_n[j])},vt=function(j,oe){var Be,Fe=[],Oe=1/(oe-1);for(Be=0;Be<1;Be+=Oe)Fe.push(Be);if(Fe.push(1),j[0].offset!=0){var tt={offset:0,color:j[0].color};j.unshift(tt)}if(j[j.length-1].offset!=1){var gt={offset:1,color:j[j.length-1].color};j.push(gt)}for(var Ft="",Ht=0,fr=0;fr<Fe.length;fr++){for(Be=Fe[fr];Be>j[Ht+1].offset;)Ht++;var Ar=j[Ht].offset,Ur=(Be-Ar)/(j[Ht+1].offset-Ar),En=j[Ht].color,kn=j[Ht+1].color;Ft+=ee(Math.round((1-Ur)*En[0]+Ur*kn[0]).toString(16))+ee(Math.round((1-Ur)*En[1]+Ur*kn[1]).toString(16))+ee(Math.round((1-Ur)*En[2]+Ur*kn[2]).toString(16))}return Ft.trim()},_t=function(j,oe){oe||(oe=21);var Be=xn(),Fe=vt(j.colors,oe),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+oe+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe({data:Fe,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Be}),we("endobj"),j.objectNumber=xn(),we("<< /ShadingType "+j.type),we("/ColorSpace /DeviceRGB");var tt="/Coords ["+F(parseFloat(j.coords[0]))+" "+F(parseFloat(j.coords[1]))+" ";j.type===2?tt+=F(parseFloat(j.coords[2]))+" "+F(parseFloat(j.coords[3])):tt+=F(parseFloat(j.coords[2]))+" "+F(parseFloat(j.coords[3]))+" "+F(parseFloat(j.coords[4]))+" "+F(parseFloat(j.coords[5])),we(tt+="]"),j.matrix&&we("/Matrix ["+j.matrix.toString()+"]"),we("/Function "+Be+" 0 R"),we("/Extend [true true]"),we(">>"),we("endobj")},Zt=function(j,oe){var Be=Cn(),Fe=xn();oe.push({resourcesOid:Be,objectOid:Fe}),j.objectNumber=Fe;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+j.boundingBox.map(F).join(" ")+"]"}),Oe.push({key:"XStep",value:F(j.xStep)}),Oe.push({key:"YStep",value:F(j.yStep)}),Oe.push({key:"Resources",value:Be+" 0 R"}),j.matrix&&Oe.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Xe({data:j.stream,additionalKeyValues:Oe,objectId:j.objectNumber}),we("endobj")},Ir=function(j){var oe;for(oe in xr)xr.hasOwnProperty(oe)&&(xr[oe]instanceof bd?_t(xr[oe]):xr[oe]instanceof m0&&Zt(xr[oe],j))},Mr=function(j){for(var oe in j.objectNumber=xn(),we("<<"),j)switch(oe){case"opacity":we("/ca "+W(j[oe]));break;case"stroke-opacity":we("/CA "+W(j[oe]))}we(">>"),we("endobj")},Wr=function(){var j;for(j in jr)jr.hasOwnProperty(j)&&Mr(jr[j])},Ha=function(){for(var j in we("/XObject <<"),_n)_n.hasOwnProperty(j)&&_n[j].objectNumber>=0&&we("/"+j+" "+_n[j].objectNumber+" 0 R");Fr.publish("putXobjectDict"),we(">>")},ri=function(){Ea.oid=xn(),we("<<"),we("/Filter /Standard"),we("/V "+Ea.v),we("/R "+Ea.r),we("/U <"+Ea.toHexString(Ea.U)+">"),we("/O <"+Ea.toHexString(Ea.O)+">"),we("/P "+Ea.P),we(">>"),we("endobj")},La=function(){for(var j in we("/Font <<"),ur)ur.hasOwnProperty(j)&&(h===!1||h===!0&&p.hasOwnProperty(j))&&we("/"+j+" "+ur[j].objectNumber+" 0 R");we(">>")},ns=function(){if(Object.keys(xr).length>0){for(var j in we("/Shading <<"),xr)xr.hasOwnProperty(j)&&xr[j]instanceof bd&&xr[j].objectNumber>=0&&we("/"+j+" "+xr[j].objectNumber+" 0 R");Fr.publish("putShadingPatternDict"),we(">>")}},Va=function(j){if(Object.keys(xr).length>0){for(var oe in we("/Pattern <<"),xr)xr.hasOwnProperty(oe)&&xr[oe]instanceof g.TilingPattern&&xr[oe].objectNumber>=0&&xr[oe].objectNumber<j&&we("/"+oe+" "+xr[oe].objectNumber+" 0 R");Fr.publish("putTilingPatternDict"),we(">>")}},Vs=function(){if(Object.keys(jr).length>0){var j;for(j in we("/ExtGState <<"),jr)jr.hasOwnProperty(j)&&jr[j].objectNumber>=0&&we("/"+j+" "+jr[j].objectNumber+" 0 R");Fr.publish("putGStateDict"),we(">>")}},Mn=function(j){de(j.resourcesOid,!0),we("<<"),we("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),La(),ns(),Va(j.objectOid),Vs(),Ha(),we(">>"),we("endobj")},as=function(){var j=[];ht(),Wr(),kt(),Ir(j),Fr.publish("putResources"),j.forEach(Mn),Mn({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),Fr.publish("postPutResources")},Lu=function(){Fr.publish("putAdditionalObjects");for(var j=0;j<Ne.length;j++){var oe=Ne[j];de(oe.objId,!0),we(oe.content),we("endobj")}Fr.publish("postPutAdditionalObjects")},af=function(j){gr[j.fontName]=gr[j.fontName]||{},gr[j.fontName][j.fontStyle]=j.id},cl=function(j,oe,Be,Fe,Oe){var tt={id:"F"+(Object.keys(ur).length+1).toString(10),postScriptName:j,fontName:oe,fontStyle:Be,encoding:Fe,isStandardFont:Oe||!1,metadata:{}};return Fr.publish("addFont",{font:tt,instance:this}),ur[tt.id]=tt,af(tt),tt.id},sf=function(j){for(var oe=0,Be=et.length;oe<Be;oe++){var Fe=cl.call(this,j[oe][0],j[oe][1],j[oe][2],et[oe][3],!0);h===!1&&(p[Fe]=!0);var Oe=j[oe][0].split("-");af({id:Fe,fontName:Oe[0],fontStyle:Oe[1]||""})}Fr.publish("addFonts",{fonts:ur,dictionary:gr})},gs=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(Fe){var oe=Fe.stack||"";~oe.indexOf(" at ")&&(oe=oe.split(" at ")[1]);var Be="Error in function "+oe.split(`
`)[0].split("<")[0]+": "+Fe.message;if(!ar.console)throw new Error(Be);ar.console.error(Be,Fe),ar.alert&&alert(Be)}},j.foo.bar=j,j.foo},aA=function(j,oe){var Be,Fe,Oe,tt,gt,Ft,Ht,fr,Ar;if(Oe=(oe=oe||{}).sourceEncoding||"Unicode",gt=oe.outputEncoding,(oe.autoencode||gt)&&ur[Ct].metadata&&ur[Ct].metadata[Oe]&&ur[Ct].metadata[Oe].encoding&&(tt=ur[Ct].metadata[Oe].encoding,!gt&&ur[Ct].encoding&&(gt=ur[Ct].encoding),!gt&&tt.codePages&&(gt=tt.codePages[0]),typeof gt=="string"&&(gt=tt[gt]),gt)){for(Ht=!1,Ft=[],Be=0,Fe=j.length;Be<Fe;Be++)(fr=gt[j.charCodeAt(Be)])?Ft.push(String.fromCharCode(fr)):Ft.push(j[Be]),Ft[Be].charCodeAt(0)>>8&&(Ht=!0);j=Ft.join("")}for(Be=j.length;Ht===void 0&&Be!==0;)j.charCodeAt(Be-1)>>8&&(Ht=!0),Be--;if(!Ht)return j;for(Ft=oe.noBOM?[]:[254,255],Be=0,Fe=j.length;Be<Fe;Be++){if((Ar=(fr=j.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(Ar),Ft.push(fr-(Ar<<8))}return String.fromCharCode.apply(void 0,Ft)},vn=g.__private__.pdfEscape=g.pdfEscape=function(j,oe){return aA(j,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ic=g.__private__.beginPage=function(j){ge[++kr]=[],Xt[kr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},bo(kr),ke(ge[z])},Ru=function(j,oe){var Be,Fe,Oe;switch(r=oe||r,typeof j=="string"&&(Be=S(j.toLowerCase()),Array.isArray(Be)&&(Fe=Be[0],Oe=Be[1])),Array.isArray(j)&&(Fe=j[0]*ut,Oe=j[1]*ut),isNaN(Fe)&&(Fe=a[0],Oe=a[1]),(Fe>14400||Oe>14400)&&(yn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Fe=Math.min(14400,Fe),Oe=Math.min(14400,Oe)),a=[Fe,Oe],r.substr(0,1)){case"l":Oe>Fe&&(a=[Oe,Fe]);break;case"p":Fe>Oe&&(a=[Oe,Fe])}ic(a),df(fl),we(wi),Vu!==0&&we(Vu+" J"),dA!==0&&we(dA+" j"),Fr.publish("addPage",{pageNumber:kr})},Mu=function(j){j>0&&j<=kr&&(ge.splice(j,1),Xt.splice(j,1),kr--,z>kr&&(z=kr),this.setPage(z))},bo=function(j){j>0&&j<=kr&&(z=j)},of=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ge.length-1},Pu=function(j,oe,Be){var Fe,Oe=void 0;return Be=Be||{},j=j!==void 0?j:ur[Ct].fontName,oe=oe!==void 0?oe:ur[Ct].fontStyle,Fe=j.toLowerCase(),gr[Fe]!==void 0&&gr[Fe][oe]!==void 0?Oe=gr[Fe][oe]:gr[j]!==void 0&&gr[j][oe]!==void 0?Oe=gr[j][oe]:Be.disableWarning===!1&&yn.warn("Unable to look up font label for font '"+j+"', '"+oe+"'. Refer to getFontList() for available fonts."),Oe||Be.noFallback||(Oe=gr.times[oe])==null&&(Oe=gr.times.normal),Oe},Al=g.__private__.putInfo=function(){var j=xn(),oe=function(Fe){return Fe};for(var Be in f!==null&&(oe=Ea.encryptor(j,0)),we("<<"),we("/Producer ("+vn(oe("jsPDF "+Wt.version))+")"),Tt)Tt.hasOwnProperty(Be)&&Tt[Be]&&we("/"+Be.substr(0,1).toUpperCase()+Be.substr(1)+" ("+vn(oe(Tt[Be]))+")");we("/CreationDate ("+vn(oe(ae))+")"),we(">>"),we("endobj")},ju=g.__private__.putCatalog=function(j){var oe=(j=j||{}).rootDictionaryObjId||ve;switch(xn(),we("<<"),we("/Type /Catalog"),we("/Pages "+oe+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":we("/OpenAction [3 0 R /FitH null]");break;case"fullheight":we("/OpenAction [3 0 R /FitV null]");break;case"fullpage":we("/OpenAction [3 0 R /Fit]");break;case"original":we("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Be=""+pt;Be.substr(Be.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&we("/OpenAction [3 0 R /XYZ null null "+W(pt)+"]")}switch(Rt||(Rt="continuous"),Rt){case"continuous":we("/PageLayout /OneColumn");break;case"single":we("/PageLayout /SinglePage");break;case"two":case"twoleft":we("/PageLayout /TwoColumnLeft");break;case"tworight":we("/PageLayout /TwoColumnRight")}Nt&&we("/PageMode /"+Nt),Fr.publish("putCatalog"),we(">>"),we("endobj")},lf=g.__private__.putTrailer=function(){we("trailer"),we("<<"),we("/Size "+(ne+1)),we("/Root "+ne+" 0 R"),we("/Info "+(ne-1)+" 0 R"),f!==null&&we("/Encrypt "+Ea.oid+" 0 R"),we("/ID [ <"+V+"> <"+V+"> ]"),we(">>")},cf=g.__private__.putHeader=function(){we("%PDF-"+b),we("%ºß¬à")},Ou=g.__private__.putXRef=function(){var j="0000000000";we("xref"),we("0 "+(ne+1)),we("0000000000 65535 f ");for(var oe=1;oe<=ne;oe++)typeof le[oe]=="function"?we((j+le[oe]()).slice(-10)+" 00000 n "):le[oe]!==void 0?we((j+le[oe]).slice(-10)+" 00000 n "):we("0000000000 00000 n ")},Co=g.__private__.buildDocument=function(){qe(),ke(ue),Fr.publish("buildDocument"),cf(),ze(),Lu(),as(),f!==null&&ri(),Al(),ju();var j=he;return Ou(),lf(),we("startxref"),we(""+j),we("%%EOF"),ke(ge[z]),ue.join(`
`)},sA=g.__private__.getBlob=function(j){return new Blob([$e(j)],{type:"application/pdf"})},Eo=g.output=g.__private__.output=gs(function(j,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",j){case void 0:return Co();case"save":g.save(oe.filename);break;case"arraybuffer":return $e(Co());case"blob":return sA(Co());case"bloburi":case"bloburl":if(ar.URL!==void 0&&typeof ar.URL.createObjectURL=="function")return ar.URL&&ar.URL.createObjectURL(sA(Co()))||void 0;yn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Be="",Fe=Co();try{Be=db(Fe)}catch{Be=db(unescape(encodeURIComponent(Fe)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(Oe=oe.pdfObjectUrl,tt="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",Ft=ar.open();return Ft!==null&&Ft.document.write(gt),Ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',fr=ar.open();if(fr!==null){fr.document.write(Ht);var Ar=this;fr.document.documentElement.querySelector("#pdfViewer").onload=function(){fr.document.title=oe.filename,fr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ar.output("bloburl"))}}return fr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',En=ar.open();if(En!==null&&(En.document.write(Ur),En.document.title=oe.filename),En||typeof safari>"u")return En;break;case"datauri":case"dataurl":return ar.document.location.href=this.output("datauristring",oe);default:return null}}),iA=function(j){return Array.isArray(Hs)===!0&&Hs.indexOf(j)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=iA("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var Ea=null;ce(),re();var ul=function(j){return f!==null?Ea.encryptor(j,0):function(oe){return oe}},So=g.__private__.getPageInfo=g.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xt[j].objId,pageNumber:j,pageContext:Xt[j]}},or=g.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in Xt)if(Xt[oe].objId===j)break;return So(oe)},Qu=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Xt[z].objId,pageNumber:z,pageContext:Xt[z]}};g.addPage=function(){return Ru.apply(this,arguments),this},g.setPage=function(){return bo.apply(this,arguments),ke.call(this,ge[z]),this},g.insertPage=function(j){return this.addPage(),this.movePage(z,j),this},g.movePage=function(j,oe){var Be,Fe;if(j>oe){Be=ge[j],Fe=Xt[j];for(var Oe=j;Oe>oe;Oe--)ge[Oe]=ge[Oe-1],Xt[Oe]=Xt[Oe-1];ge[oe]=Be,Xt[oe]=Fe,this.setPage(oe)}else if(j<oe){Be=ge[j],Fe=Xt[j];for(var tt=j;tt<oe;tt++)ge[tt]=ge[tt+1],Xt[tt]=Xt[tt+1];ge[oe]=Be,Xt[oe]=Fe,this.setPage(oe)}return this},g.deletePage=function(){return Mu.apply(this,arguments),this},g.__private__.text=g.text=function(j,oe,Be,Fe,Oe){var tt,gt,Ft,Ht,fr,Ar,Ur,En,kn,Vn=(Fe=Fe||{}).scope||this;if(typeof j=="number"&&typeof oe=="number"&&(typeof Be=="string"||Array.isArray(Be))){var Gn=Be;Be=oe,oe=j,j=Gn}if(arguments[3]instanceof Ot?(L("The transform parameter of text() with a Matrix value"),kn=Oe):(Ft=arguments[4],Ht=arguments[5],An(Ur=arguments[3])==="object"&&Ur!==null||(typeof Ft=="string"&&(Ht=Ft,Ft=null),typeof Ur=="string"&&(Ht=Ur,Ur=null),typeof Ur=="number"&&(Ft=Ur,Ur=null),Fe={flags:Ur,angle:Ft,align:Ht})),isNaN(oe)||isNaN(Be)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return Vn;var Sa="",yi=!1,Ks=typeof Fe.lineHeightFactor=="number"?Fe.lineHeightFactor:Gs,bi=Vn.internal.scaleFactor;function qu(Cr){return Cr=Cr.split("	").join(Array(Fe.TabLen||9).join(" ")),vn(Cr,Ur)}function No(Cr){for(var Er,fn=Cr.concat(),zn=[],ii=fn.length;ii--;)typeof(Er=fn.shift())=="string"?zn.push(Er):Array.isArray(Cr)&&(Er.length===1||Er[1]===void 0&&Er[2]===void 0)?zn.push(Er[0]):zn.push([Er[0],Er[1],Er[2]]);return zn}function _o(Cr,Er){var fn;if(typeof Cr=="string")fn=Er(Cr)[0];else if(Array.isArray(Cr)){for(var zn,ii,Bl=Cr.concat(),Nl=[],Fo=Bl.length;Fo--;)typeof(zn=Bl.shift())=="string"?Nl.push(Er(zn)[0]):Array.isArray(zn)&&typeof zn[0]=="string"&&(ii=Er(zn[0],zn[1],zn[2]),Nl.push([ii[0],ii[1],ii[2]]));fn=Nl}return fn}var gA=!1,gl=!0;if(typeof j=="string")gA=!0;else if(Array.isArray(j)){var xA=j.concat();gt=[];for(var Ac,la=xA.length;la--;)(typeof(Ac=xA.shift())!="string"||Array.isArray(Ac)&&typeof Ac[0]!="string")&&(gl=!1);gA=gl}if(gA===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var xl=dt/Vn.internal.scaleFactor,uc=xl*(Ks-1);switch(Fe.baseline){case"bottom":Be-=uc;break;case"top":Be+=xl-uc;break;case"hanging":Be+=xl-2*uc;break;case"middle":Be+=xl/2-uc}if((Ar=Fe.maxWidth||0)>0&&(typeof j=="string"?j=Vn.splitTextToSize(j,Ar):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Cr,Er){return Cr.concat(Vn.splitTextToSize(Er,Ar))},[]))),tt={text:j,x:oe,y:Be,options:Fe,mutex:{pdfEscape:vn,activeFontKey:Ct,fonts:ur,activeFontSize:dt}},Fr.publish("preProcessText",tt),j=tt.text,Ft=(Fe=tt.options).angle,!(kn instanceof Ot)&&Ft&&typeof Ft=="number"){Ft*=Math.PI/180,Fe.rotationDirection===0&&(Ft=-Ft),B===N.ADVANCED&&(Ft=-Ft);var dc=Math.cos(Ft),vA=Math.sin(Ft);kn=new Ot(dc,vA,-vA,dc,0,0)}else Ft&&Ft instanceof Ot&&(kn=Ft);B!==N.ADVANCED||kn||(kn=en),(fr=Fe.charSpace||uA)!==void 0&&(Sa+=F(M(fr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(En=Fe.horizontalScale)!==void 0&&(Sa+=F(100*En)+` Tz
`),Fe.lang;var vs=-1,uh=Fe.renderingMode!==void 0?Fe.renderingMode:Fe.stroke,Wu=Vn.internal.getCurrentPageInfo().pageContext;switch(uh){case 0:case!1:case"fill":vs=0;break;case 1:case!0:case"stroke":vs=1;break;case 2:case"fillThenStroke":vs=2;break;case 3:case"invisible":vs=3;break;case 4:case"fillAndAddForClipping":vs=4;break;case 5:case"strokeAndAddPathForClipping":vs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vs=6;break;case 7:case"addToPathForClipping":vs=7}var hf=Wu.usedRenderingMode!==void 0?Wu.usedRenderingMode:-1;vs!==-1?Sa+=vs+` Tr
`:hf!==-1&&(Sa+=`0 Tr
`),vs!==-1&&(Wu.usedRenderingMode=vs),Ht=Fe.align||"left";var si,Ba=dt*Ks,vl=Vn.internal.pageSize.getWidth(),$u=ur[Ct];fr=Fe.charSpace||uA,Ar=Fe.maxWidth||0,Ur=Object.assign({autoencode:!0,noBOM:!0},Fe.flags);var To=[],wl=function(Cr){return Vn.getStringUnitWidth(Cr,{font:$u,charSpace:fr,fontSize:dt,doKerning:!1})*dt/bi};if(Object.prototype.toString.call(j)==="[object Array]"){var ss;gt=No(j),Ht!=="left"&&(si=gt.map(wl));var Ra,yl=0;if(Ht==="right"){oe-=si[0],j=[],la=gt.length;for(var ws=0;ws<la;ws++)ws===0?(Ra=zs(oe),ss=Ki(Be)):(Ra=M(yl-si[ws]),ss=-Ba),j.push([gt[ws],Ra,ss]),yl=si[ws]}else if(Ht==="center"){oe-=si[0]/2,j=[],la=gt.length;for(var Ci=0;Ci<la;Ci++)Ci===0?(Ra=zs(oe),ss=Ki(Be)):(Ra=M((yl-si[Ci])/2),ss=-Ba),j.push([gt[Ci],Ra,ss]),yl=si[Ci]}else if(Ht==="left"){j=[],la=gt.length;for(var qi=0;qi<la;qi++)j.push(gt[qi])}else if(Ht==="justify"&&$u.encoding==="Identity-H"){j=[],la=gt.length,Ar=Ar!==0?Ar:vl;for(var Ei=0,Pn=0;Pn<la;Pn++)if(ss=Pn===0?Ki(Be):-Ba,Ra=Pn===0?zs(oe):Ei,Pn<la-1){var Si=M((Ar-si[Pn])/(gt[Pn].split(" ").length-1)),Xn=gt[Pn].split(" ");j.push([Xn[0]+" ",Ra,ss]),Ei=0;for(var ys=1;ys<Xn.length;ys++){var fc=(wl(Xn[ys-1]+" "+Xn[ys])-wl(Xn[ys]))*bi+Si;ys==Xn.length-1?j.push([Xn[ys],fc,0]):j.push([Xn[ys]+" ",fc,0]),Ei-=fc}}else j.push([gt[Pn],Ra,ss]);j.push(["",Ei,0])}else{if(Ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],la=gt.length,Ar=Ar!==0?Ar:vl,Pn=0;Pn<la;Pn++)ss=Pn===0?Ki(Be):-Ba,Ra=Pn===0?zs(oe):0,Pn<la-1?To.push(F(M((Ar-si[Pn])/(gt[Pn].split(" ").length-1)))):To.push(0),j.push([gt[Pn],Ra,ss])}}var Wi=typeof Fe.R2L=="boolean"?Fe.R2L:yt;Wi===!0&&(j=_o(j,function(Cr,Er,fn){return[Cr.split("").reverse().join(""),Er,fn]})),tt={text:j,x:oe,y:Be,options:Fe,mutex:{pdfEscape:vn,activeFontKey:Ct,fonts:ur,activeFontSize:dt}},Fr.publish("postProcessText",tt),j=tt.text,yi=tt.mutex.isHex||!1;var wA=ur[Ct].encoding;wA!=="WinAnsiEncoding"&&wA!=="StandardEncoding"||(j=_o(j,function(Cr,Er,fn){return[qu(Cr),Er,fn]})),gt=No(j),j=[];for(var bl,Cl,El,hc=0,yA=1,Sl=Array.isArray(gt[0])?yA:hc,ko="",mc=function(Cr,Er,fn){var zn="";return fn instanceof Ot?(fn=typeof Fe.angle=="number"?qr(fn,new Ot(1,0,0,1,Cr,Er)):qr(new Ot(1,0,0,1,Cr,Er),fn),B===N.ADVANCED&&(fn=qr(new Ot(1,0,0,-1,0,0),fn)),zn=fn.join(" ")+` Tm
`):zn=F(Cr)+" "+F(Er)+` Td
`,zn},jn=0;jn<gt.length;jn++){switch(ko="",Sl){case yA:El=(yi?"<":"(")+gt[jn][0]+(yi?">":")"),bl=parseFloat(gt[jn][1]),Cl=parseFloat(gt[jn][2]);break;case hc:El=(yi?"<":"(")+gt[jn]+(yi?">":")"),bl=zs(oe),Cl=Ki(Be)}To!==void 0&&To[jn]!==void 0&&(ko=To[jn]+` Tw
`),jn===0?j.push(ko+mc(bl,Cl,kn)+El):Sl===hc?j.push(ko+El):Sl===yA&&j.push(ko+mc(bl,Cl,kn)+El)}j=Sl===hc?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var qs=`BT
/`;return qs+=Ct+" "+dt+` Tf
`,qs+=F(dt*Ks)+` TL
`,qs+=lc+`
`,qs+=Sa,qs+=j,we(qs+="ET"),p[Ct]=!0,Vn};var Af=g.__private__.clip=g.clip=function(j){return we(j==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Af("evenodd")},g.__private__.discardPath=g.discardPath=function(){return we("n"),this};var xs=g.__private__.isValidStyle=function(j){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(oe=!0),oe};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(j){return xs(j)&&(u=j),this};var ni=g.__private__.getStyle=g.getStyle=function(j){var oe=u;switch(j){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=j}return oe},oA=g.close=function(){return we("h"),this};g.stroke=function(){return we("S"),this},g.fill=function(j){return Vi("f",j),this},g.fillEvenOdd=function(j){return Vi("f*",j),this},g.fillStroke=function(j){return Vi("B",j),this},g.fillStrokeEvenOdd=function(j){return Vi("B*",j),this};var Vi=function(j,oe){An(oe)==="object"?lA(oe,j):we(j)},ai=function(j){j===null||B===N.ADVANCED&&j===void 0||(j=ni(j),we(j))};function Hu(j,oe,Be,Fe,Oe){var tt=new m0(oe||this.boundingBox,Be||this.xStep,Fe||this.yStep,this.gState,Oe||this.matrix);tt.stream=this.stream;var gt=j+"$$"+this.cloneIndex+++"$$";return Tn(gt,tt),tt}var lA=function(j,oe){var Be=ts[j.key],Fe=xr[Be];if(Fe instanceof bd)we("q"),we(uf(oe)),Fe.gState&&g.setGState(Fe.gState),we(j.matrix.toString()+" cm"),we("/"+Be+" sh"),we("Q");else if(Fe instanceof m0){var Oe=new Ot(1,0,0,-1,0,pl());j.matrix&&(Oe=Oe.multiply(j.matrix||en),Be=Hu.call(Fe,j.key,j.boundingBox,j.xStep,j.yStep,Oe).id),we("q"),we("/Pattern cs"),we("/"+Be+" scn"),Fe.gState&&g.setGState(Fe.gState),we(oe),we("Q")}},uf=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},dl=g.moveTo=function(j,oe){return we(F(M(j))+" "+F(Q(oe))+" m"),this},Gi=g.lineTo=function(j,oe){return we(F(M(j))+" "+F(Q(oe))+" l"),this},Bo=g.curveTo=function(j,oe,Be,Fe,Oe,tt){return we([F(M(j)),F(Q(oe)),F(M(Be)),F(Q(Fe)),F(M(Oe)),F(Q(tt)),"c"].join(" ")),this};g.__private__.line=g.line=function(j,oe,Be,Fe,Oe){if(isNaN(j)||isNaN(oe)||isNaN(Be)||isNaN(Fe)||!xs(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return B===N.COMPAT?this.lines([[Be-j,Fe-oe]],j,oe,[1,1],Oe||"S"):this.lines([[Be-j,Fe-oe]],j,oe,[1,1]).stroke()},g.__private__.lines=g.lines=function(j,oe,Be,Fe,Oe,tt){var gt,Ft,Ht,fr,Ar,Ur,En,kn,Vn,Gn,Sa,yi;if(typeof j=="number"&&(yi=Be,Be=oe,oe=j,j=yi),Fe=Fe||[1,1],tt=tt||!1,isNaN(oe)||isNaN(Be)||!Array.isArray(j)||!Array.isArray(Fe)||!xs(Oe)||typeof tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dl(oe,Be),gt=Fe[0],Ft=Fe[1],fr=j.length,Gn=oe,Sa=Be,Ht=0;Ht<fr;Ht++)(Ar=j[Ht]).length===2?(Gn=Ar[0]*gt+Gn,Sa=Ar[1]*Ft+Sa,Gi(Gn,Sa)):(Ur=Ar[0]*gt+Gn,En=Ar[1]*Ft+Sa,kn=Ar[2]*gt+Gn,Vn=Ar[3]*Ft+Sa,Gn=Ar[4]*gt+Gn,Sa=Ar[5]*Ft+Sa,Bo(Ur,En,kn,Vn,Gn,Sa));return tt&&oA(),ai(Oe),this},g.path=function(j){for(var oe=0;oe<j.length;oe++){var Be=j[oe],Fe=Be.c;switch(Be.op){case"m":dl(Fe[0],Fe[1]);break;case"l":Gi(Fe[0],Fe[1]);break;case"c":Bo.apply(this,Fe);break;case"h":oA()}}return this},g.__private__.rect=g.rect=function(j,oe,Be,Fe,Oe){if(isNaN(j)||isNaN(oe)||isNaN(Be)||isNaN(Fe)||!xs(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return B===N.COMPAT&&(Fe=-Fe),we([F(M(j)),F(Q(oe)),F(M(Be)),F(M(Fe)),"re"].join(" ")),ai(Oe),this},g.__private__.triangle=g.triangle=function(j,oe,Be,Fe,Oe,tt,gt){if(isNaN(j)||isNaN(oe)||isNaN(Be)||isNaN(Fe)||isNaN(Oe)||isNaN(tt)||!xs(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Be-j,Fe-oe],[Oe-Be,tt-Fe],[j-Oe,oe-tt]],j,oe,[1,1],gt,!0),this},g.__private__.roundedRect=g.roundedRect=function(j,oe,Be,Fe,Oe,tt,gt){if(isNaN(j)||isNaN(oe)||isNaN(Be)||isNaN(Fe)||isNaN(Oe)||isNaN(tt)||!xs(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ft=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*Be),tt=Math.min(tt,.5*Fe),this.lines([[Be-2*Oe,0],[Oe*Ft,0,Oe,tt-tt*Ft,Oe,tt],[0,Fe-2*tt],[0,tt*Ft,-Oe*Ft,tt,-Oe,tt],[2*Oe-Be,0],[-Oe*Ft,0,-Oe,-tt*Ft,-Oe,-tt],[0,2*tt-Fe],[0,-tt*Ft,Oe*Ft,-tt,Oe,-tt]],j+Oe,oe,[1,1],gt,!0),this},g.__private__.ellipse=g.ellipse=function(j,oe,Be,Fe,Oe){if(isNaN(j)||isNaN(oe)||isNaN(Be)||isNaN(Fe)||!xs(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var tt=4/3*(Math.SQRT2-1)*Be,gt=4/3*(Math.SQRT2-1)*Fe;return dl(j+Be,oe),Bo(j+Be,oe-gt,j+tt,oe-Fe,j,oe-Fe),Bo(j-tt,oe-Fe,j-Be,oe-gt,j-Be,oe),Bo(j-Be,oe+gt,j-tt,oe+Fe,j,oe+Fe),Bo(j+tt,oe+Fe,j+Be,oe+gt,j+Be,oe),ai(Oe),this},g.__private__.circle=g.circle=function(j,oe,Be,Fe){if(isNaN(j)||isNaN(oe)||isNaN(Be)||!xs(Fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,oe,Be,Be,Fe)},g.setFont=function(j,oe,Be){return Be&&(oe=U(oe,Be)),Ct=Pu(j,oe,{disableWarning:!1}),this};var Ga=g.__private__.getFont=g.getFont=function(){return ur[Pu.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var j,oe,Be={};for(j in gr)if(gr.hasOwnProperty(j))for(oe in Be[j]=[],gr[j])gr[j].hasOwnProperty(oe)&&Be[j].push(oe);return Be},g.addFont=function(j,oe,Be,Fe,Oe){var tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&tt.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&tt.indexOf(arguments[3])==-1&&(Be=U(Be,Fe)),Oe=Oe||"Identity-H",cl.call(this,j,oe,Be,Oe)};var Gs,fl=e.lineWidth||.200025,zi=g.__private__.getLineWidth=g.getLineWidth=function(){return fl},df=g.__private__.setLineWidth=g.setLineWidth=function(j){return fl=j,we(F(M(j))+" w"),this};g.__private__.setLineDash=Wt.API.setLineDash=Wt.API.setLineDashPattern=function(j,oe){if(j=j||[],oe=oe||0,isNaN(oe)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(Be){return F(M(Be))}).join(" "),oe=F(M(oe)),we("["+j+"] "+oe+" d"),this};var cA=g.__private__.getLineHeight=g.getLineHeight=function(){return dt*Gs};g.__private__.getLineHeight=g.getLineHeight=function(){return dt*Gs};var AA=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Gs=j),this},hl=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Gs};AA(e.lineHeight);var zs=g.__private__.getHorizontalCoordinate=function(j){return M(j)},Ki=g.__private__.getVerticalCoordinate=function(j){return B===N.ADVANCED?j:Xt[z].mediaBox.topRightY-Xt[z].mediaBox.bottomLeftY-M(j)},oh=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(j){return F(zs(j))},ml=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(j){return F(Ki(j))},wi=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ce(wi)},g.__private__.setStrokeColor=g.setDrawColor=function(j,oe,Be,Fe){return wi=Se({ch1:j,ch2:oe,ch3:Be,ch4:Fe,pdfColorType:"draw",precision:2}),we(wi),this};var oc=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ce(oc)},g.__private__.setFillColor=g.setFillColor=function(j,oe,Be,Fe){return oc=Se({ch1:j,ch2:oe,ch3:Be,ch4:Fe,pdfColorType:"fill",precision:2}),we(oc),this};var lc=e.textColor||"0 g",lh=g.__private__.getTextColor=g.getTextColor=function(){return Ce(lc)};g.__private__.setTextColor=g.setTextColor=function(j,oe,Be,Fe){return lc=Se({ch1:j,ch2:oe,ch3:Be,ch4:Fe,pdfColorType:"text",precision:3}),this};var uA=e.charSpace,ch=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(uA||0)};g.__private__.setCharSpace=g.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uA=j,this};var Vu=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(j){var oe=g.CapJoinStyles[j];if(oe===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vu=oe,we(oe+" J"),this};var dA=0;g.__private__.setLineJoin=g.setLineJoin=function(j){var oe=g.CapJoinStyles[j];if(oe===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dA=oe,we(oe+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return we(F(M(j))+" M"),this},g.GState=w1,g.setGState=function(j){(j=typeof j=="string"?jr[oa[j]]:ff(null,j)).equals(Ca)||(we("/"+j.id+" gs"),Ca=j)};var ff=function(j,oe){if(!j||!oa[j]){var Be=!1;for(var Fe in jr)if(jr.hasOwnProperty(Fe)&&jr[Fe].equals(oe)){Be=!0;break}if(Be)oe=jr[Fe];else{var Oe="GS"+(Object.keys(jr).length+1).toString(10);jr[Oe]=oe,oe.id=Oe}return j&&(oa[j]=oe.id),Fr.publish("addGState",oe),oe}};g.addGState=function(j,oe){return ff(j,oe),this},g.saveGraphicsState=function(){return we("q"),nn.push({key:Ct,size:dt,color:lc}),this},g.restoreGraphicsState=function(){we("Q");var j=nn.pop();return Ct=j.key,dt=j.size,lc=j.color,Ca=null,this},g.setCurrentTransformationMatrix=function(j){return we(j.toString()+" cm"),this},g.comment=function(j){return we("#"+j),this};var fA=function(j,oe){var Be=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Be},set:function(tt){isNaN(tt)||(Be=parseFloat(tt))}});var Fe=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(tt){isNaN(tt)||(Fe=parseFloat(tt))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(tt){Oe=tt.toString()}}),this},Gu=function(j,oe,Be,Fe){fA.call(this,j,oe),this.type="rect";var Oe=Be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(gt){isNaN(gt)||(Oe=parseFloat(gt))}});var tt=Fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tt},set:function(gt){isNaN(gt)||(tt=parseFloat(gt))}}),this},zu=function(){this.page=kr,this.currentPage=z,this.pages=ge.slice(0),this.pagesContext=Xt.slice(0),this.x=mr,this.y=Mt,this.matrix=Kr,this.width=cc(z),this.height=pl(z),this.outputDestination=Te,this.id="",this.objectNumber=-1};zu.prototype.restore=function(){kr=this.page,z=this.currentPage,Xt=this.pagesContext,ge=this.pages,mr=this.x,Mt=this.y,Kr=this.matrix,pA(z,this.width),Ku(z,this.height),Te=this.outputDestination};var hA=function(j,oe,Be,Fe,Oe){ps.push(new zu),kr=z=0,ge=[],mr=j,Mt=oe,Kr=Oe,ic([Be,Fe])},Ah=function(j){if(rs[j])ps.pop().restore();else{var oe=new zu,Be="Xo"+(Object.keys(_n).length+1).toString(10);oe.id=Be,rs[j]=Be,_n[Be]=oe,Fr.publish("addFormObject",oe),ps.pop().restore()}};for(var mA in g.beginFormObject=function(j,oe,Be,Fe,Oe){return hA(j,oe,Be,Fe,Oe),this},g.endFormObject=function(j){return Ah(j),this},g.doFormObject=function(j,oe){var Be=_n[rs[j]];return we("q"),we(oe.toString()+" cm"),we("/"+Be.id+" Do"),we("Q"),this},g.getFormObject=function(j){var oe=_n[rs[j]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},g.save=function(j,oe){return j=j||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(vd(sA(Co()),j),typeof vd.unload=="function"&&ar.setTimeout&&setTimeout(vd.unload,911),this):new Promise(function(Be,Fe){try{var Oe=vd(sA(Co()),j);typeof vd.unload=="function"&&ar.setTimeout&&setTimeout(vd.unload,911),Be(Oe)}catch(tt){Fe(tt.message)}})},Wt.API)Wt.API.hasOwnProperty(mA)&&(mA==="events"&&Wt.API.events.length?function(j,oe){var Be,Fe,Oe;for(Oe=oe.length-1;Oe!==-1;Oe--)Be=oe[Oe][0],Fe=oe[Oe][1],j.subscribe.apply(j,[Be].concat(typeof Fe=="function"?[Fe]:Fe))}(Fr,Wt.API.events):g[mA]=Wt.API[mA]);var cc=g.getPageWidth=function(j){return(Xt[j=j||z].mediaBox.topRightX-Xt[j].mediaBox.bottomLeftX)/ut},pA=g.setPageWidth=function(j,oe){Xt[j].mediaBox.topRightX=oe*ut+Xt[j].mediaBox.bottomLeftX},pl=g.getPageHeight=function(j){return(Xt[j=j||z].mediaBox.topRightY-Xt[j].mediaBox.bottomLeftY)/ut},Ku=g.setPageHeight=function(j,oe){Xt[j].mediaBox.topRightY=oe*ut+Xt[j].mediaBox.bottomLeftY};return g.internal={pdfEscape:vn,getStyle:ni,getFont:Ga,getFontSize:st,getCharSpace:ch,getTextColor:lh,getLineHeight:cA,getLineHeightFactor:hl,getLineWidth:zi,write:je,getHorizontalCoordinate:zs,getVerticalCoordinate:Ki,getCoordinateString:oh,getVerticalCoordinateString:ml,collections:{},newObject:xn,newAdditionalObject:Ee,newObjectDeferred:Cn,newObjectDeferredBegin:de,getFilters:Qe,putStream:Xe,events:Fr,scaleFactor:ut,pageSize:{getWidth:function(){return cc(z)},setWidth:function(j){pA(z,j)},getHeight:function(){return pl(z)},setHeight:function(j){Ku(z,j)}},encryptionOptions:f,encryption:Ea,getEncryptor:ul,output:Eo,getNumberOfPages:of,pages:ge,out:we,f2:W,f3:O,getPageInfo:So,getPageInfoByObjId:or,getCurrentPageInfo:Qu,getPDFVersion:y,Point:fA,Rectangle:Gu,Matrix:Ot,hasHotfix:iA},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return cc(z)},set:function(j){pA(z,j)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return pl(z)},set:function(j){Ku(z,j)},enumerable:!0,configurable:!0}),sf.call(g,et),Ct="F1",Ru(a,r),Fr.publish("initialized"),g}l0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},l0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},l0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},l0.prototype.processOwnerPassword=function(e,t){return hb(fb(t).substr(0,5),e)},l0.prototype.encryptor=function(e,t){var r=fb(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return hb(r,n)}},w1.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||An(e)!==An(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Wt.API={events:[]},Wt.version="2.5.2";var ra=Wt.API,PC=1,Jd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hr=function(e){return e.toFixed(2)},$A=function(e){return e.toFixed(5)};ra.__acroform__={};var vi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},BN=function(e){return e*PC},Vl=function(e){var t=new gI,r=jt.internal.getHeight(e)||0,n=jt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(hr(n)),Number(hr(r))],t},A$=ra.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},u$=ra.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},d$=ra.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},ga=ra.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return d$(e,t-1)},xa=ra.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return A$(e,t-1)},va=ra.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return u$(e,t-1)},f$=ra.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=r(a+i)||0,c.upperRight_Y=n(s)||0,[Number(hr(c.lowerLeft_X)),Number(hr(c.lowerLeft_Y)),Number(hr(c.upperRight_X)),Number(hr(c.upperRight_Y))]},h$=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=mb(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+hr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Vl(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},mb=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var s=r,i=jt.internal.getHeight(e)||0;i=i<0?-i:i;var o=jt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(O,M,K){if(O+1<a.length){var Q=M+" "+a[O+1][0];return Wg(Q,e,K).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var u,f,h=Wg("3",e,s).height,p=e.multiline?i-s:(i-h)/2,g=p+=2,b=0,y=0,E=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Wg(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var S="",N=0,B=0;B<a.length;B++)if(a.hasOwnProperty(B)){var _=!1;if(a[B].length!==1&&E!==a[B].length-1){if((h+2)*(N+2)+2>i)continue e;S+=a[B][E],_=!0,y=B,B--}else{S=(S+=a[B][E]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var k=parseInt(B),U=c(k,S,s),F=B>=a.length-1;if(U&&!F){S+=" ",E=0;continue}if(U||F){if(F)y=k;else if(e.multiline&&(h+2)*(N+2)+2>i)continue e}else{if(!e.multiline||(h+2)*(N+2)+2>i)continue e;y=k}}for(var L="",D=b;D<=y;D++){var W=a[D];if(e.multiline){if(D===y){L+=W[E]+" ",E=(E+1)%W.length;continue}if(D===b){L+=W[W.length-1]+" ";continue}}L+=W[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=Wg(L,e,s).width,e.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;case"left":default:u=2}t+=hr(u)+" "+hr(g)+` Td
`,t+="("+Jd(L)+`) Tj
`,t+=-hr(u)+` 0 Td
`,g=-(s+2),f=0,b=_?y:y+1,N++,S=""}break}return n.text=t,n.fontSize=s,n},Wg=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},m$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},p$=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},g$=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),An(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},x$=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(sl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(m$)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");PC=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new xI,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&p$(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],c=[],u=o.Rect;if(o.Rect&&(o.Rect=f$(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=jt.createDefaultAppearanceStream(o),An(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=h$(o);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var g=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var i in g)if(g.hasOwnProperty(i)){var b=g[i];typeof b=="function"&&(b=b.call(a,o)),h+="/"+i+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(a,o)),h+="/"+i+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}s&&g$(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},pI=ra.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),An(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Jd(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kw=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Jd(n(e))+")"},Wl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wl.prototype.toString=function(){return this.objId+" 0 R"},Wl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Wl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:pI(a,this.objId,this.scope)}):a instanceof Wl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var gI=function(){Wl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};vi(gI,Wl);var xI=function(){Wl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Jd(r(e))+")"}},set:function(r){e=r}})};vi(xI,Wl);var sl=function e(){Wl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ga(t,3)},set:function(S){S?this.F=xa(t,3):this.F=va(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof y1)return;s="FieldObject"+e.FieldNum++}var S=function(N){return N};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Jd(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(S){i=S}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/PC:u},set:function(S){u=S}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(S){f=S}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof y1||this instanceof kd))return kw(h,this.objId,this.scope)},set:function(S){S=S.toString(),h=S}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ja?p:kw(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=this instanceof Ja?S:S.substr(0,1)==="("?Vf(S.substr(1,S.length-2)):Vf(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja?Vf(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof Ja?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ja?g:kw(g,this.objId,this.scope)},set:function(S){S=S.toString(),g=this instanceof Ja?S:S.substr(0,1)==="("?Vf(S.substr(1,S.length-2)):Vf(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja?Vf(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof Ja?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(S){S=!!S,y=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(S){b=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,1)},set:function(S){S?this.Ff=xa(this.Ff,1):this.Ff=va(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,2)},set:function(S){S?this.Ff=xa(this.Ff,2):this.Ff=va(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,3)},set:function(S){S?this.Ff=xa(this.Ff,3):this.Ff=va(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');E=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(E){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};vi(sl,Wl);var B0=function(){sl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pI(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,i,o){o||(o=1);for(var c,u=[];c=i.exec(s);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,18)},set:function(r){r?this.Ff=xa(this.Ff,18):this.Ff=va(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=xa(this.Ff,19):this.Ff=va(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,20)},set:function(r){r?(this.Ff=xa(this.Ff,20),t.sort()):this.Ff=va(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,22)},set:function(r){r?this.Ff=xa(this.Ff,22):this.Ff=va(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,23)},set:function(r){r?this.Ff=xa(this.Ff,23):this.Ff=va(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,27)},set:function(r){r?this.Ff=xa(this.Ff,27):this.Ff=va(this.Ff,27)}}),this.hasAppearanceStream=!1};vi(B0,sl);var N0=function(){B0.call(this),this.fontName="helvetica",this.combo=!1};vi(N0,B0);var _0=function(){N0.call(this),this.combo=!0};vi(_0,N0);var Wx=function(){_0.call(this),this.edit=!0};vi(Wx,_0);var Ja=function(){sl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,15)},set:function(r){r?this.Ff=xa(this.Ff,15):this.Ff=va(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,16)},set:function(r){r?this.Ff=xa(this.Ff,16):this.Ff=va(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,17)},set:function(r){r?this.Ff=xa(this.Ff,17):this.Ff=va(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,26)},set:function(r){r?this.Ff=xa(this.Ff,26):this.Ff=va(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Jd(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){An(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};vi(Ja,sl);var $x=function(){Ja.call(this),this.pushButton=!0};vi($x,Ja);var T0=function(){Ja.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};vi(T0,Ja);var y1=function(){var e,t;sl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+Jd(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){An(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vi(y1,sl),T0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},T0.prototype.createOption=function(e){var t=new y1;return t.Parent=this,t.optionName=e,this.Kids.push(t),v$.call(this.scope,t),t};var Yx=function(){Ja.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jt.CheckBox.createAppearanceStream()};vi(Yx,Ja);var kd=function(){sl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,13)},set:function(t){t?this.Ff=xa(this.Ff,13):this.Ff=va(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,21)},set:function(t){t?this.Ff=xa(this.Ff,21):this.Ff=va(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,23)},set:function(t){t?this.Ff=xa(this.Ff,23):this.Ff=va(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,24)},set:function(t){t?this.Ff=xa(this.Ff,24):this.Ff=va(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,25)},set:function(t){t?this.Ff=xa(this.Ff,25):this.Ff=va(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,26)},set:function(t){t?this.Ff=xa(this.Ff,26):this.Ff=va(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vi(kd,sl);var Jx=function(){kd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,14)},set:function(e){e?this.Ff=xa(this.Ff,14):this.Ff=va(this.Ff,14)}}),this.password=!0};vi(Jx,kd);var jt={CheckBox:{createAppearanceStream:function(){return{N:{On:jt.CheckBox.YesNormal},D:{On:jt.CheckBox.YesPushDown,Off:jt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=mb(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+hr(jt.internal.getWidth(e))+" "+hr(jt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+hr(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Vl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=jt.internal.getHeight(e),i=jt.internal.getWidth(e),o=mb(e,e.caption);return a.push("1 g"),a.push("0 0 "+hr(i)+" "+hr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+hr(i-1)+" "+hr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+hr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hr(jt.internal.getWidth(e))+" "+hr(jt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:jt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=jt.RadioButton.Circle.YesNormal,t.D[e]=jt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=jt.internal.getWidth(e)<=jt.internal.getHeight(e)?jt.internal.getWidth(e)/4:jt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=jt.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$A(jt.internal.getWidth(e)/2)+" "+$A(jt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=jt.internal.getWidth(e)<=jt.internal.getHeight(e)?jt.internal.getWidth(e)/4:jt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*jt.internal.Bezier_C).toFixed(5)),i=Number((n*jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$A(jt.internal.getWidth(e)/2)+" "+$A(jt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$A(jt.internal.getWidth(e)/2)+" "+$A(jt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=jt.internal.getWidth(e)<=jt.internal.getHeight(e)?jt.internal.getWidth(e)/4:jt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$A(jt.internal.getWidth(e)/2)+" "+$A(jt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:jt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=jt.RadioButton.Cross.YesNormal,t.D[e]=jt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=jt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+hr(jt.internal.getWidth(e)-2)+" "+hr(jt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(hr(n.x1.x)+" "+hr(n.x1.y)+" m"),r.push(hr(n.x2.x)+" "+hr(n.x2.y)+" l"),r.push(hr(n.x4.x)+" "+hr(n.x4.y)+" m"),r.push(hr(n.x3.x)+" "+hr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=jt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+hr(jt.internal.getWidth(e))+" "+hr(jt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+hr(jt.internal.getWidth(e)-2)+" "+hr(jt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(hr(r.x1.x)+" "+hr(r.x1.y)+" m"),n.push(hr(r.x2.x)+" "+hr(r.x2.y)+" l"),n.push(hr(r.x4.x)+" "+hr(r.x4.y)+" m"),n.push(hr(r.x3.x)+" "+hr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hr(jt.internal.getWidth(e))+" "+hr(jt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};jt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=jt.internal.getWidth(e),r=jt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},jt.internal.getWidth=function(e){var t=0;return An(e)==="object"&&(t=BN(e.Rect[2])),t},jt.internal.getHeight=function(e){var t=0;return An(e)==="object"&&(t=BN(e.Rect[3])),t};var v$=ra.addField=function(e){if(x$(this,e),!(e instanceof sl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ra.AcroFormChoiceField=B0,ra.AcroFormListBox=N0,ra.AcroFormComboBox=_0,ra.AcroFormEditBox=Wx,ra.AcroFormButton=Ja,ra.AcroFormPushButton=$x,ra.AcroFormRadioButton=T0,ra.AcroFormCheckBox=Yx,ra.AcroFormTextField=kd,ra.AcroFormPasswordField=Jx,ra.AcroFormAppearance=jt,ra.AcroForm={ChoiceField:B0,ListBox:N0,ComboBox:_0,EditBox:Wx,Button:Ja,PushButton:$x,RadioButton:T0,CheckBox:Yx,TextField:kd,PasswordField:Jx,Appearance:jt},Wt.AcroForm={ChoiceField:B0,ListBox:N0,ComboBox:_0,EditBox:Wx,Button:Ja,PushButton:$x,RadioButton:T0,CheckBox:Yx,TextField:kd,PasswordField:Jx,Appearance:jt};Wt.AcroForm;function vI(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,M){var K,Q,ae,V,G,re=t;if((M=M||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(U(O))for(G in r)for(ae=r[G],K=0;K<ae.length;K+=1){for(V=!0,Q=0;Q<ae[K].length;Q+=1)if(ae[K][Q]!==void 0&&ae[K][Q]!==O[Q]){V=!1;break}if(V===!0){re=G;break}}else for(G in r)for(ae=r[G],K=0;K<ae.length;K+=1){for(V=!0,Q=0;Q<ae[K].length;Q+=1)if(ae[K][Q]!==void 0&&ae[K][Q]!==O.charCodeAt(Q)){V=!1;break}if(V===!0){re=G;break}}return re===t&&M!==t&&(re=M),re},a=function O(M){for(var K=this.internal.write,Q=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:M.width}),V.push({key:"Height",value:M.height}),M.colorSpace===E.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===E.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var G="",re=0,J=M.transparency.length;re<J;re++)G+=M.transparency[re]+" "+M.transparency[re]+" ";V.push({key:"Mask",value:"["+G+"]"})}M.sMask!==void 0&&V.push({key:"SMask",value:M.objectId+1+" 0 R"});var Y=M.filter!==void 0?["/"+M.filter]:void 0;if(Q({data:M.data,additionalKeyValues:V,alreadyAppliedFilters:Y,objectId:M.objectId}),K("endobj"),"sMask"in M&&M.sMask!==void 0){var ce="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,R={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:ce,data:M.sMask};"filter"in M&&(R.filter=M.filter),O.call(this,R)}if(M.colorSpace===E.INDEXED){var z=this.internal.newObject();Q({data:L(new Uint8Array(M.palette)),objectId:z}),K("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var M in O)a.call(this,O[M])},i=function(){var O,M=this.internal.collections.addImage_images,K=this.internal.write;for(var Q in M)K("/I"+(O=M[Q]).index,O.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var O=this.internal.collections.addImage_images;return o.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(O){return typeof e["process"+O.toUpperCase()]=="function"},h=function(O){return An(O)==="object"&&O.nodeType===1},p=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var K=""+O.getAttribute("src");if(K.indexOf("data:image/")===0)return Fm(unescape(K).split("base64,").pop());var Q=e.loadFile(K,!0);if(Q!==void 0)return Q}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ae;switch(M){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return Fm(O.toDataURL(ae,1).split("base64,").pop())}},g=function(O){var M=this.internal.collections.addImage_images;if(M){for(var K in M)if(O===M[K].alias)return M[K]}},b=function(O,M,K){return O||M||(O=-96,M=-96),O<0&&(O=-1*K.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*K.height*72/M/this.internal.scaleFactor),O===0&&(O=M*K.width/K.height),M===0&&(M=O*K.height/K.width),[O,M]},y=function(O,M,K,Q,ae,V){var G=b.call(this,K,Q,ae),re=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,Y=c.call(this);if(K=G[0],Q=G[1],Y[ae.index]=ae,V){V*=Math.PI/180;var ce=Math.cos(V),R=Math.sin(V),z=function(ee){return ee.toFixed(4)},q=[z(ce),z(R),z(-1*R),z(ce),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,re(O),J(M+Q),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([re(K),"0","0",re(Q),"0","0","cm"].join(" "))):this.internal.write([re(K),"0","0",re(Q),re(O),J(M+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},E=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(O){var M,K,Q=0;if(typeof O=="string")for(K=O.length,M=0;M<K;M++)Q=(Q<<5)-Q+O.charCodeAt(M),Q|=0;else if(U(O))for(K=O.byteLength/2,M=0;M<K;M++)Q=(Q<<5)-Q+O[M],Q|=0;return Q},B=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},_=e.__addimage__.extractImageFromDataUrl=function(O){var M=(O=O||"").split("base64,"),K=null;if(M.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(Q)&&(K={mimeType:Q[1],charset:Q[2],data:M[1]})}return K},k=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return k()&&O instanceof ArrayBuffer};var U=e.__addimage__.isArrayBufferView=function(O){return k()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},F=e.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,K=new Uint8Array(M),Q=0;Q<M;Q++)K[Q]=O.charCodeAt(Q);return K},L=e.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",K=U(O)?O:new Uint8Array(O),Q=0;Q<K.length;Q+=8192)M+=String.fromCharCode.apply(null,K.subarray(Q,Q+8192));return M};e.addImage=function(){var O,M,K,Q,ae,V,G,re,J;if(typeof arguments[1]=="number"?(M=t,K=arguments[1],Q=arguments[2],ae=arguments[3],V=arguments[4],G=arguments[5],re=arguments[6],J=arguments[7]):(M=arguments[1],K=arguments[2],Q=arguments[3],ae=arguments[4],V=arguments[5],G=arguments[6],re=arguments[7],J=arguments[8]),An(O=arguments[0])==="object"&&!h(O)&&"imageData"in O){var Y=O;O=Y.imageData,M=Y.format||M||t,K=Y.x||K||0,Q=Y.y||Q||0,ae=Y.w||Y.width||ae,V=Y.h||Y.height||V,G=Y.alias||G,re=Y.compression||re,J=Y.rotation||Y.angle||J}var ce=this.internal.getFilters();if(re===void 0&&ce.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(K)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var R=D.call(this,O,M,G,re);return y.call(this,K,Q,ae,V,R,J),this};var D=function(O,M,K,Q){var ae,V,G;if(typeof O=="string"&&n(O)===t){O=unescape(O);var re=W(O,!1);(re!==""||(re=e.loadFile(O,!0))!==void 0)&&(O=re)}if(h(O)&&(O=p(O,M)),M=n(O,M),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((G=K)==null||G.length===0)&&(K=function(J){return typeof J=="string"||U(J)?N(J):U(J.data)?N(J.data):null}(O)),(ae=g.call(this,K))||(k()&&(O instanceof Uint8Array||M==="RGBA"||(V=O,O=F(O))),ae=this["process"+M.toUpperCase()](O,u.call(this),K,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in e.image_compression?J:S.NONE}(Q),V)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},W=e.__addimage__.convertBase64ToBinaryString=function(O,M){var K;M=typeof M!="boolean"||M;var Q,ae="";if(typeof O=="string"){Q=(K=_(O))!==null?K.data:O;try{ae=Fm(Q)}catch(V){if(M)throw B(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};e.getImageProperties=function(O){var M,K,Q="";if(h(O)&&(O=p(O)),typeof O=="string"&&n(O)===t&&((Q=W(O,!1))===""&&(Q=e.loadFile(O)||""),O=Q),K=n(O),!f(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!k()||O instanceof Uint8Array||(O=F(O)),!(M=this["process"+K.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=K,M}})(Wt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Wt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,h=0;h<u.length&&!f;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(y.objId),N=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(S(n.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+g(S(N))+") >>",y.content=s;var B=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+B,n.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(y.objId,"0 R",E.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(b(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var U=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+U+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,i){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:i,type:"link"})},e.textWithLink=function(r,n,a,s){var i,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var f=this.splitTextToSize(r,o).length;i=Math.ceil(u*f)}else o=c,i=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,o,i,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Wt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return i(y)&&s(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return i(y)&&a.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return i(y)&&s(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return i(y)&&s(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return i(y)&&s(y)&&t[y.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return i(y)&&s(y)&&t[y.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(y){var E=0,S=r,N="",B=0;for(E=0;E<y.length;E+=1)S[y.charCodeAt(E)]!==void 0?(B++,typeof(S=S[y.charCodeAt(E)])=="number"&&(N+=String.fromCharCode(S),S=r,B=0),E===y.length-1&&(S=r,N+=y.charAt(E-(B-1)),E-=B-1,B=0)):(S=r,N+=y.charAt(E-B),E-=B,B=0);return N};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(y,E,S){return i(y)?s(y)===!1?-1:!u(y)||!i(E)&&!i(S)||!i(S)&&o(E)||o(y)&&!i(E)||o(y)&&c(E)||o(y)&&o(E)?0:f(y)&&i(E)&&!o(E)&&i(S)&&u(S)?3:o(y)||!i(S)?1:2:-1},g=function(y){var E=0,S=0,N=0,B="",_="",k="",U=(y=y||"").split("\\s+"),F=[];for(E=0;E<U.length;E+=1){for(F.push(""),S=0;S<U[E].length;S+=1)B=U[E][S],_=U[E][S-1],k=U[E][S+1],i(B)?(N=p(B,_,k),F[E]+=N!==-1?String.fromCharCode(t[B.charCodeAt(0)][N]):B):F[E]+=B;F[E]=h(F[E])}return F.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var y,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(E)){var N=0;for(S=[],N=0;N<E.length;N+=1)Array.isArray(E[N])?S.push([g(E[N][0]),E[N][1],E[N][2]]):S.push([g(E[N])]);y=S}else y=g(E);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",b])}(Wt.API),Wt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Wt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,g=0,b=0,y=0,E=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var S=u.maxWidth;S>0?typeof c=="string"?c=this.splitTextToSize(c,S):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(B,_){return B.concat(E.splitTextToSize(_,S))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)g<(y=this.getStringUnitWidth(c[N],{font:h})*f)&&(g=y);return g!==0&&(b=c.length),{w:g/=p,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,g&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,h,p){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,b,y,E,S=[],N=[],B=[],_={},k={},U=[],F=[],L=(p=p||{}).autoSize||!1,D=p.printHeaders!==!1,W=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,O=p.margins||Object.assign({width:this.getPageWidth()},t),M=typeof p.padding=="number"?p.padding:3,K=p.headerBackgroundColor||"#c8c8c8",Q=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=Q,this.setFontSize(W),h==null)N=S=Object.keys(f[0]),B=S.map(function(){return"left"});else if(Array.isArray(h)&&An(h[0])==="object")for(S=h.map(function(Y){return Y.name}),N=h.map(function(Y){return Y.prompt||Y.name||""}),B=h.map(function(Y){return Y.align||"left"}),g=0;g<h.length;g+=1)k[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(N=S=h,B=S.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<S.length;g+=1){for(_[E=S[g]]=f.map(function(Y){return Y[E]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(N[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=_[E],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)U.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[E]=Math.max.apply(null,U)+M+M,U=[]}if(D){var ae={};for(g=0;g<S.length;g+=1)ae[S[g]]={},ae[S[g]].text=N[g],ae[S[g]].align=B[g];var V=o.call(this,ae,k);F=S.map(function(Y){return new s(c,u,k[Y],V,ae[Y].text,void 0,ae[Y].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var G=h.reduce(function(Y,ce){return Y[ce.name]=ce.align,Y},{});for(g=0;g<f.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:f[g]},this);var re=o.call(this,f[g],k);for(y=0;y<S.length;y+=1){var J=f[g][S[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:y,data:J},this),i.call(this,new s(c,u,k[S[y]],re,J,g+2,G[S[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(g){var b=c[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/p+f+f},this).reduce(function(g,b){return Math.max(g,b)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,p.push(f)),f.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,f),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Wt.API);var wI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],pb=vI(yI),bI=[100,200,300,400,500,600,700,800,900],w$=vI(bI);function gb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return wI[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof pb[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function NN(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var y$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_N={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function TN(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function b$(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},y$,r.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=gb(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+TN(s)+"' and default family '"+n+"'.");if(i=function(c,u){if(u[c])return u[c];var f=pb[c],h=f<=pb.normal?-1:1,p=NN(u,yI,f,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+c);return p}(s.stretch,i),i=function(c,u){if(u[c])return u[c];for(var f=wI[c],h=0;h<f.length;++h)if(u[f[h]])return u[f[h]];throw new Error("Could not find a matching font-style for "+c)}(s.style,i),!(i=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var f=w$[c],h=NN(u,bI,f,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+TN(s)+"'.");return i}function kN(e){return e.trimLeft()}function C$(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function E$(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var $g,FN,IN,Fw=["times"];(function(e){var t,r,n,a,s,i,o,c,u,f=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new i,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new i,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var h=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=R;Object.defineProperty(this,"pdf",{get:function(){return z}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ke){q=!!ke}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(ke){ee=!!ke}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ke){isNaN(ke)||(ne=ke)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(ke){isNaN(ke)||(le=ke)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ke){var we;typeof ke=="number"?we=[ke,ke,ke,ke]:((we=new Array(4))[0]=ke[0],we[1]=ke.length>=2?ke[1]:we[0],we[2]=ke.length>=3?ke[2]:we[0],we[3]=ke.length>=4?ke[3]:we[1]),u.margin=we}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(ke){ue=ke}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ke){he=ke}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ke){Ne=ke}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ke){ke instanceof f&&(u=ke)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ke){u.path=ke}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(ke){ge=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var we;we=p(ke),this.ctx.fillStyle=we.style,this.ctx.isFillTransparent=we.a===0,this.ctx.fillOpacity=we.a,this.pdf.setFillColor(we.r,we.g,we.b,{a:we.a}),this.pdf.setTextColor(we.r,we.g,we.b,{a:we.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var we=p(ke);this.ctx.strokeStyle=we.style,this.ctx.isStrokeTransparent=we.a===0,this.ctx.strokeOpacity=we.a,we.a===0?this.pdf.setDrawColor(255,255,255):(we.a,this.pdf.setDrawColor(we.r,we.g,we.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var te=null;function Te(ke,we){if(te===null){var je=function($e){var et=[];return Object.keys($e).forEach(function(dt){$e[dt].forEach(function(pt){var st=null;switch(pt){case"bold":st={family:dt,weight:"bold"};break;case"italic":st={family:dt,style:"italic"};break;case"bolditalic":st={family:dt,weight:"bold",style:"italic"};break;case"":case"normal":st={family:dt}}st!==null&&(st.ref={name:dt,style:pt},et.push(st))})}),et}(ke.getFontList());te=function($e){for(var et={},dt=0;dt<$e.length;++dt){var pt=gb($e[dt]),st=pt.family,yt=pt.stretch,Nt=pt.style,Lt=pt.weight;et[st]=et[st]||{},et[st][yt]=et[st][yt]||{},et[st][yt][Nt]=et[st][yt][Nt]||{},et[st][yt][Nt][Lt]=pt}return et}(je.concat(we))}return te}var qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(ke){te=null,qe=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var we;if(this.ctx.font=ke,(we=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var je=we[1],$e=(we[2],we[3]),et=we[4],dt=(we[5],we[6]),pt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(pt==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:pt==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var st=function(Tt){var Ct,ut,mr=[],Mt=Tt.trim();if(Mt==="")return Fw;if(Mt in _N)return[_N[Mt]];for(;Mt!=="";){switch(ut=null,Ct=(Mt=kN(Mt)).charAt(0)){case'"':case"'":ut=C$(Mt.substring(1),Ct);break;default:ut=E$(Mt)}if(ut===null||(mr.push(ut[0]),(Mt=kN(ut[1]))!==""&&Mt.charAt(0)!==","))return Fw;Mt=Mt.replace(/^,/,"")}return mr}(dt);if(this.fontFaces){var yt=b$(Te(this.pdf,this.fontFaces),st.map(function(Tt){return{family:Tt,stretch:"normal",weight:$e,style:je}}));this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var Nt="";($e==="bold"||parseInt($e,10)>=700||je==="bold")&&(Nt="bold"),je==="italic"&&(Nt+="italic"),Nt.length===0&&(Nt="normal");for(var Lt="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qt=0;Qt<st.length;Qt++){if(this.pdf.internal.getFont(st[Qt],Nt,{noFallback:!0,disableWarning:!0})!==void 0){Lt=st[Qt];break}if(Nt==="bolditalic"&&this.pdf.internal.getFont(st[Qt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Lt=st[Qt],Nt="bold";else if(this.pdf.internal.getFont(st[Qt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Lt=st[Qt],Nt="normal";break}}if(Lt===""){for(var Vt=0;Vt<st.length;Vt++)if(Rt[st[Vt]]){Lt=Rt[st[Vt]];break}}Lt=Lt===""?"Times":Lt,this.pdf.setFont(Lt,Nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};h.prototype.setLineDash=function(R){this.lineDash=R},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(R,z){if(isNaN(R)||isNaN(z))throw yn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new i(R,z));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new i(R,z)},h.prototype.closePath=function(){var R=new i(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&An(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){R=new i(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(R.x,R.y)},h.prototype.lineTo=function(R,z){if(isNaN(R)||isNaN(z))throw yn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new i(R,z));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new i(q.x,q.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(R,z,q,ee){if(isNaN(q)||isNaN(ee)||isNaN(R)||isNaN(z))throw yn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new i(q,ee)),le=this.ctx.transform.applyToPoint(new i(R,z));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new i(ne.x,ne.y)},h.prototype.bezierCurveTo=function(R,z,q,ee,ne,le){if(isNaN(ne)||isNaN(le)||isNaN(R)||isNaN(z)||isNaN(q)||isNaN(ee))throw yn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new i(ne,le)),he=this.ctx.transform.applyToPoint(new i(R,z)),Ne=this.ctx.transform.applyToPoint(new i(q,ee));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Ne.x,y2:Ne.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new i(ue.x,ue.y)},h.prototype.arc=function(R,z,q,ee,ne,le){if(isNaN(R)||isNaN(z)||isNaN(q)||isNaN(ee)||isNaN(ne))throw yn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new i(R,z));R=ue.x,z=ue.y;var he=this.ctx.transform.applyToPoint(new i(0,q)),Ne=this.ctx.transform.applyToPoint(new i(0,0));q=Math.sqrt(Math.pow(he.x-Ne.x,2)+Math.pow(he.y-Ne.y,2))}Math.abs(ne-ee)>=2*Math.PI&&(ee=0,ne=2*Math.PI),this.path.push({type:"arc",x:R,y:z,radius:q,startAngle:ee,endAngle:ne,counterclockwise:le})},h.prototype.arcTo=function(R,z,q,ee,ne){throw new Error("arcTo not implemented.")},h.prototype.rect=function(R,z,q,ee){if(isNaN(R)||isNaN(z)||isNaN(q)||isNaN(ee))throw yn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,z),this.lineTo(R+q,z),this.lineTo(R+q,z+ee),this.lineTo(R,z+ee),this.lineTo(R,z),this.lineTo(R+q,z),this.lineTo(R,z)},h.prototype.fillRect=function(R,z,q,ee){if(isNaN(R)||isNaN(z)||isNaN(q)||isNaN(ee))throw yn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,z,q,ee),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},h.prototype.strokeRect=function(R,z,q,ee){if(isNaN(R)||isNaN(z)||isNaN(q)||isNaN(ee))throw yn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(R,z,q,ee),this.stroke())},h.prototype.clearRect=function(R,z,q,ee){if(isNaN(R)||isNaN(z)||isNaN(q)||isNaN(ee))throw yn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,z,q,ee))},h.prototype.save=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},h.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(R){var z,q,ee,ne;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))z=0,q=0,ee=0,ne=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(le!==null)z=parseInt(le[1]),q=parseInt(le[2]),ee=parseInt(le[3]),ne=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)z=parseInt(le[1]),q=parseInt(le[2]),ee=parseInt(le[3]),ne=parseFloat(le[4]);else{if(ne=1,typeof R=="string"&&R.charAt(0)!=="#"){var ue=new fI(R);R=ue.ok?ue.toHex():"#000000"}R.length===4?(z=R.substring(1,2),z+=z,q=R.substring(2,3),q+=q,ee=R.substring(3,4),ee+=ee):(z=R.substring(1,3),q=R.substring(3,5),ee=R.substring(5,7)),z=parseInt(z,16),q=parseInt(q,16),ee=parseInt(ee,16)}}return{r:z,g:q,b:ee,a:ne,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(R,z,q,ee){if(isNaN(z)||isNaN(q)||typeof R!="string")throw yn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var ne=re(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;M.call(this,{text:R,x:z,y:q,scale:le,angle:ne,align:this.textAlign,maxWidth:ee})}},h.prototype.strokeText=function(R,z,q,ee){if(isNaN(z)||isNaN(q)||typeof R!="string")throw yn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ee=isNaN(ee)?void 0:ee;var ne=re(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;M.call(this,{text:R,x:z,y:q,scale:le,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ee})}},h.prototype.measureText=function(R){if(typeof R!="string")throw yn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,q=this.pdf.internal.scaleFactor,ee=z.internal.getFontSize(),ne=z.getStringUnitWidth(R)*ee/z.internal.scaleFactor,le=function(ue){var he=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new le({width:ne*=Math.round(96*q/72*1e4)/1e4})},h.prototype.scale=function(R,z){if(isNaN(R)||isNaN(z))throw yn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(R,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.rotate=function(R){if(isNaN(R))throw yn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.translate=function(R,z){if(isNaN(R)||isNaN(z))throw yn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,R,z);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.transform=function(R,z,q,ee,ne,le){if(isNaN(R)||isNaN(z)||isNaN(q)||isNaN(ee)||isNaN(ne)||isNaN(le))throw yn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new c(R,z,q,ee,ne,le);this.ctx.transform=this.ctx.transform.multiply(ue)},h.prototype.setTransform=function(R,z,q,ee,ne,le){R=isNaN(R)?1:R,z=isNaN(z)?0:z,q=isNaN(q)?0:q,ee=isNaN(ee)?1:ee,ne=isNaN(ne)?0:ne,le=isNaN(le)?0:le,this.ctx.transform=new c(R,z,q,ee,ne,le)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(R,z,q,ee,ne,le,ue,he,Ne){var ge=this.pdf.getImageProperties(R),te=1,Te=1,qe=1,ke=1;ee!==void 0&&he!==void 0&&(qe=he/ee,ke=Ne/ne,te=ge.width/ee*he/ee,Te=ge.height/ne*Ne/ne),le===void 0&&(le=z,ue=q,z=0,q=0),ee!==void 0&&he===void 0&&(he=ee,Ne=ne),ee===void 0&&he===void 0&&(he=ge.width,Ne=ge.height);for(var we,je=this.ctx.transform.decompose(),$e=re(je.rotate.shx),et=new c,dt=(et=(et=(et=et.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new o(le-z*qe,ue-q*ke,ee*te,ne*Te)),pt=E.call(this,dt),st=[],yt=0;yt<pt.length;yt+=1)st.indexOf(pt[yt])===-1&&st.push(pt[yt]);if(B(st),this.autoPaging)for(var Nt=st[0],Lt=st[st.length-1],Rt=Nt;Rt<Lt+1;Rt++){this.pdf.setPage(Rt);var Qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=Rt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Rt===1?0:Tt+(Rt-2)*Ct;if(this.ctx.clip_path.length!==0){var mr=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(we,this.posX+this.margin[3],-ut+Vt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=mr}var Mt=JSON.parse(JSON.stringify(dt));Mt=N([Mt],this.posX+this.margin[3],-ut+Vt+this.ctx.prevPageLastElemOffset)[0];var Kr=(Rt>Nt||Rt<Lt)&&y.call(this);Kr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,Ct,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,$e),Kr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,$e)};var E=function(R,z,q){var ee=[];z=z||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ee.push(Math.floor((R.y+ne)/q)+1);break;case"arc":ee.push(Math.floor((R.y+ne-R.radius)/q)+1),ee.push(Math.floor((R.y+ne+R.radius)/q)+1);break;case"qct":var le=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ee.push(Math.floor((le.y+ne)/q)+1),ee.push(Math.floor((le.y+le.h+ne)/q)+1);break;case"bct":var ue=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ee.push(Math.floor((ue.y+ne)/q)+1),ee.push(Math.floor((ue.y+ue.h+ne)/q)+1);break;case"rect":ee.push(Math.floor((R.y+ne)/q)+1),ee.push(Math.floor((R.y+R.h+ne)/q)+1)}for(var he=0;he<ee.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<ee[he];)S.call(this);return ee},S=function(){var R=this.fillStyle,z=this.strokeStyle,q=this.font,ee=this.lineCap,ne=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=z,this.font=q,this.lineCap=ee,this.lineWidth=ne,this.lineJoin=le},N=function(R,z,q){for(var ee=0;ee<R.length;ee++)switch(R[ee].type){case"bct":R[ee].x2+=z,R[ee].y2+=q;case"qct":R[ee].x1+=z,R[ee].y1+=q;case"mt":case"lt":case"arc":default:R[ee].x+=z,R[ee].y+=q}return R},B=function(R){return R.sort(function(z,q){return z-q})},_=function(R,z){for(var q,ee,ne=this.fillStyle,le=this.strokeStyle,ue=this.lineCap,he=this.lineWidth,Ne=Math.abs(he*this.ctx.transform.scaleX),ge=this.lineJoin,te=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),qe=[],ke=0;ke<Te.length;ke++)if(Te[ke].x!==void 0)for(var we=E.call(this,Te[ke]),je=0;je<we.length;je+=1)qe.indexOf(we[je])===-1&&qe.push(we[je]);for(var $e=0;$e<qe.length;$e++)for(;this.pdf.internal.getNumberOfPages()<qe[$e];)S.call(this);if(B(qe),this.autoPaging)for(var et=qe[0],dt=qe[qe.length-1],pt=et;pt<dt+1;pt++){this.pdf.setPage(pt),this.fillStyle=ne,this.strokeStyle=le,this.lineCap=ue,this.lineWidth=Ne,this.lineJoin=ge;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=pt===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rt=pt===1?0:Nt+(pt-2)*Lt;if(this.ctx.clip_path.length!==0){var Qt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(q,this.posX+this.margin[3],-Rt+yt+this.ctx.prevPageLastElemOffset),k.call(this,R,!0),this.path=Qt}if(ee=JSON.parse(JSON.stringify(te)),this.path=N(ee,this.posX+this.margin[3],-Rt+yt+this.ctx.prevPageLastElemOffset),z===!1||pt===0){var Vt=(pt>et||pt<dt)&&y.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Lt,null).clip().discardPath()),k.call(this,R,z),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=Ne,k.call(this,R,z),this.lineWidth=he;this.path=te},k=function(R,z){if((R!=="stroke"||z||!b.call(this))&&(R==="stroke"||z||!g.call(this))){for(var q,ee,ne=[],le=this.path,ue=0;ue<le.length;ue++){var he=le[ue];switch(he.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:he,deltas:[],abs:[]});break;case"lt":var Ne=ne.length;if(le[ue-1]&&!isNaN(le[ue-1].x)&&(q=[he.x-le[ue-1].x,he.y-le[ue-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ne[Ne-1].close!==!0&&ne[Ne-1].begin!==!0){ne[Ne-1].deltas.push(q),ne[Ne-1].abs.push(he);break}}break;case"bct":q=[he.x1-le[ue-1].x,he.y1-le[ue-1].y,he.x2-le[ue-1].x,he.y2-le[ue-1].y,he.x-le[ue-1].x,he.y-le[ue-1].y],ne[ne.length-1].deltas.push(q);break;case"qct":var ge=le[ue-1].x+2/3*(he.x1-le[ue-1].x),te=le[ue-1].y+2/3*(he.y1-le[ue-1].y),Te=he.x+2/3*(he.x1-he.x),qe=he.y+2/3*(he.y1-he.y),ke=he.x,we=he.y;q=[ge-le[ue-1].x,te-le[ue-1].y,Te-le[ue-1].x,qe-le[ue-1].y,ke-le[ue-1].x,we-le[ue-1].y],ne[ne.length-1].deltas.push(q);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(he)}}ee=z?null:R==="stroke"?"stroke":"fill";for(var je=!1,$e=0;$e<ne.length;$e++)if(ne[$e].arc)for(var et=ne[$e].abs,dt=0;dt<et.length;dt++){var pt=et[dt];pt.type==="arc"?L.call(this,pt.x,pt.y,pt.radius,pt.startAngle,pt.endAngle,pt.counterclockwise,void 0,z,!je):K.call(this,pt.x,pt.y),je=!0}else if(ne[$e].close===!0)this.pdf.internal.out("h"),je=!1;else if(ne[$e].begin!==!0){var st=ne[$e].start.x,yt=ne[$e].start.y;Q.call(this,ne[$e].deltas,st,yt),je=!0}ee&&D.call(this,ee),z&&W.call(this)}},U=function(R){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-q;case"top":return R+z-q;case"hanging":return R+z-2*q;case"middle":return R+z/2-q;case"ideographic":return R;case"alphabetic":default:return R}},F=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(z,q){this.colorStops.push([z,q])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(R,z,q,ee,ne,le,ue,he,Ne){for(var ge=V.call(this,q,ee,ne,le),te=0;te<ge.length;te++){var Te=ge[te];te===0&&(Ne?O.call(this,Te.x1+R,Te.y1+z):K.call(this,Te.x1+R,Te.y1+z)),ae.call(this,R,z,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}he?W.call(this):D.call(this,ue)},D=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(R,z){this.pdf.internal.out(r(R)+" "+n(z)+" m")},M=function(R){var z;switch(R.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var q=this.pdf.getTextDimensions(R.text),ee=U.call(this,R.y),ne=F.call(this,ee)-q.h,le=this.ctx.transform.applyToPoint(new i(R.x,ee)),ue=this.ctx.transform.decompose(),he=new c;he=(he=(he=he.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Ne,ge,te,Te=this.ctx.transform.applyToRectangle(new o(R.x,ee,q.w,q.h)),qe=he.applyToRectangle(new o(R.x,ne,q.w,q.h)),ke=E.call(this,qe),we=[],je=0;je<ke.length;je+=1)we.indexOf(ke[je])===-1&&we.push(ke[je]);if(B(we),this.autoPaging)for(var $e=we[0],et=we[we.length-1],dt=$e;dt<et+1;dt++){this.pdf.setPage(dt);var pt=dt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],Nt=yt-this.margin[0],Lt=this.pdf.internal.pageSize.width-this.margin[1],Rt=Lt-this.margin[3],Qt=dt===1?0:st+(dt-2)*Nt;if(this.ctx.clip_path.length!==0){var Vt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Ne,this.posX+this.margin[3],-1*Qt+pt),k.call(this,"fill",!0),this.path=Vt}var Tt=N([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Qt+pt+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*R.scale),te=this.lineWidth,this.lineWidth=te*R.scale);var Ct=this.autoPaging!=="text";if(Ct||Tt.y+Tt.h<=yt){if(Ct||Tt.y>=pt&&Tt.x<=Lt){var ut=Ct?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Lt-Tt.x)[0],mr=N([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Qt+pt+this.ctx.prevPageLastElemOffset)[0],Mt=Ct&&(dt>$e||dt<et)&&y.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,Nt,null).clip().discardPath()),this.pdf.text(ut,mr.x,mr.y,{angle:R.angle,align:z,renderingMode:R.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else Tt.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-Tt.y);R.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=te)}else R.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*R.scale),te=this.lineWidth,this.lineWidth=te*R.scale),this.pdf.text(R.text,le.x+this.posX,le.y+this.posY,{angle:R.angle,align:z,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=te)},K=function(R,z,q,ee){q=q||0,ee=ee||0,this.pdf.internal.out(r(R+q)+" "+n(z+ee)+" l")},Q=function(R,z,q){return this.pdf.lines(R,z,q,null,null)},ae=function(R,z,q,ee,ne,le,ue,he){this.pdf.internal.out([t(a(q+R)),t(s(ee+z)),t(a(ne+R)),t(s(le+z)),t(a(ue+R)),t(s(he+z)),"c"].join(" "))},V=function(R,z,q,ee){for(var ne=2*Math.PI,le=Math.PI/2;z>q;)z-=ne;var ue=Math.abs(q-z);ue<ne&&ee&&(ue=ne-ue);for(var he=[],Ne=ee?-1:1,ge=z;ue>1e-5;){var te=ge+Ne*Math.min(ue,le);he.push(G.call(this,R,ge,te)),ue-=Math.abs(te-ge),ge=te}return he},G=function(R,z,q){var ee=(q-z)/2,ne=R*Math.cos(ee),le=R*Math.sin(ee),ue=ne,he=-le,Ne=ue*ue+he*he,ge=Ne+ue*ne+he*le,te=4/3*(Math.sqrt(2*Ne*ge)-ge)/(ue*le-he*ne),Te=ue-te*he,qe=he+te*ue,ke=Te,we=-qe,je=ee+z,$e=Math.cos(je),et=Math.sin(je);return{x1:R*Math.cos(z),y1:R*Math.sin(z),x2:Te*$e-qe*et,y2:Te*et+qe*$e,x3:ke*$e-we*et,y3:ke*et+we*$e,x4:R*Math.cos(q),y4:R*Math.sin(q)}},re=function(R){return 180*R/Math.PI},J=function(R,z,q,ee,ne,le){var ue=R+.5*(q-R),he=z+.5*(ee-z),Ne=ne+.5*(q-ne),ge=le+.5*(ee-le),te=Math.min(R,ne,ue,Ne),Te=Math.max(R,ne,ue,Ne),qe=Math.min(z,le,he,ge),ke=Math.max(z,le,he,ge);return new o(te,qe,Te-te,ke-qe)},Y=function(R,z,q,ee,ne,le,ue,he){var Ne,ge,te,Te,qe,ke,we,je,$e,et,dt,pt,st,yt,Nt=q-R,Lt=ee-z,Rt=ne-q,Qt=le-ee,Vt=ue-ne,Tt=he-le;for(ge=0;ge<41;ge++)$e=(we=(te=R+(Ne=ge/40)*Nt)+Ne*((qe=q+Ne*Rt)-te))+Ne*(qe+Ne*(ne+Ne*Vt-qe)-we),et=(je=(Te=z+Ne*Lt)+Ne*((ke=ee+Ne*Qt)-Te))+Ne*(ke+Ne*(le+Ne*Tt-ke)-je),ge==0?(dt=$e,pt=et,st=$e,yt=et):(dt=Math.min(dt,$e),pt=Math.min(pt,et),st=Math.max(st,$e),yt=Math.max(yt,et));return new o(Math.round(dt),Math.round(pt),Math.round(st-dt),Math.round(yt-pt))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,z,q=(R=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:z}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Wt.API),function(e){var t=function(s){var i,o,c,u,f,h,p,g,b,y;for(o=[],c=0,u=(s+=i="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(y=f%85))/85)-(b=f%85))/85)-(g=f%85))/85)-(p=f%85))/85)%85,o.push(h+33,p+33,g+33,b+33,y+33)):o.push(122);return function(E,S){for(var N=S;N>0;N--)E.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var i,o,c,u,f,h=String,p="length",g=255,b="charCodeAt",y="slice",E="replace";for(s[y](-2),s=s[y](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),c=[],u=0,f=(s+=i="uuuuu"[y](s[p]%5||5))[p];f>u;u+=5)o=52200625*(s[b](u)-33)+614125*(s[b](u+1)-33)+7225*(s[b](u+2)-33)+85*(s[b](u+3)-33)+(s[b](u+4)-33),c.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(S,N){for(var B=N;B>0;B--)S.pop()}(c,i[p]),h.fromCharCode.apply(h,c)},n=function(s){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),i.test(s)===!1)return"";for(var o="",c=0;c<s.length;c+=2)o+=String.fromCharCode("0x"+(s[c]+s[c+1]));return o},a=function(s){for(var i=new Uint8Array(s.length),o=s.length;o--;)i[o]=s.charCodeAt(o);return s=(i=ub(i)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,i){var o=0,c=s||"",u=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Wt.API),function(e){e.loadFile=function(t,r,n){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(c,u,f){var h=new XMLHttpRequest,p=0,g=function(b){var y=b.length,E=[],S=String.fromCharCode;for(p=0;p<y;p+=1)E.push(S(255&b.charCodeAt(p)));return E.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?f(g(this.responseText)):f(void 0)}),h.send(null),u&&h.status===200)return g(h.responseText)}(a,s,i)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Wt.API),function(e){function t(){return(ar.html2canvas?Promise.resolve(ar.html2canvas):ib(()=>Promise.resolve().then(()=>j0e),void 0)).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(ar.DOMPurify?Promise.resolve(ar.DOMPurify):ib(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=An(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(i,o){var c=document.createElement(i);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},s=function i(o){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),u=i.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,i,1,[i])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(i,o){return i.__proto__=o||s.prototype,i},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},s.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(c(p,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var g=u[p],b=g.src.find(function(y){return y.format==="truetype"});b&&c.addFont(b.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(i,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},s.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},s.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},s.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(i,o){return this.then(function(){var c=i in s.template.prop?this.prop[i]:this.opt[i];return o?o(c):c})},s.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},s.prototype.setPageSize=function(i){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(i=i||Wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},s.prototype.setProgress=function(i,o,c,u){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(i,o,c,u){return this.setProgress(i?this.progress.val+i:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(i,o){var c=this;return this.thenCore(i,o,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,f).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(i,o,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=c.call(u,i,o);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},s.prototype.thenList=function(i){var o=this;return i.forEach(function(c){o=o.thenCore(c)}),o},s.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return s.convert(o,this)},s.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},s.prototype.error=function(i){return this.then(function(){throw new Error(i)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Wt.getPageSize=function(i,o,c){if(An(i)==="object"){var u=i;i=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var g,b=0,y=0;if(p.hasOwnProperty(h))b=p[h][1]/f,y=p[h][0]/f;else try{b=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",y>b&&(g=y,y=b,b=g);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",b>y&&(g=y,y=b,b=g)}return{width:y,height:b,unit:o,k:f,orientation:i}},e.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(gb):null;var c=new s(o);return o.worker?c:c.from(i).doCallback()}}(Wt.API),Wt.API.addJS=function(e){return IN=e,this.internal.events.subscribe("postPutResources",function(){$g=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($g+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),FN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+IN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$g!==void 0&&FN!==void 0&&this.internal.out("/Names <</JavaScript "+$g+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],o=n.exec(i);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var h=r.internal.newObject();f.push(h);var p=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var c=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(Wt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,i,o){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(h){for(var p,g=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,y={width:0,height:0,numcomponents:1},E=4;E<b;E+=2){if(E+=g,t.indexOf(h.charCodeAt(E+1))!==-1){p=256*h.charCodeAt(E+5)+h.charCodeAt(E+6),y={width:256*h.charCodeAt(E+7)+h.charCodeAt(E+8),height:p,numcomponents:h.charCodeAt(E+9)};break}g=256*h.charCodeAt(E+2)+h.charCodeAt(E+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}}(Wt.API);var Gf,Yg,UN,DN,LN,S$=function(){var e,t,r;function n(s){var i,o,c,u,f,h,p,g,b,y,E,S,N,B;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),b=(function(){var _,k;for(k=[],_=0;_<4;++_)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*f/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,i-=4),s=(h!=null?h.data:void 0)||this.imgData,S=0;0<=i?S<i:S>i;0<=i?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(N=0;0<=y?N<y:N>y;0<=y?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":p=(E=this.read(i)).indexOf(0),g=String.fromCharCode.apply(String,E.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,E.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(B=this.colorType)===4||B===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var i,o;for(o=[],i=0;0<=s?i<s:i>s;0<=s?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(h,p,g,b){var y,E,S,N,B,_,k,U,F,L,D,W,O,M,K,Q,ae,V,G,re,J,Y=Math.ceil((u.width-h)/g),ce=Math.ceil((u.height-p)/b),R=u.width==Y&&u.height==ce;for(M=i*Y,W=R?o:new Uint8Array(M*ce),_=s.length,O=0,E=0;O<ce&&c<_;){switch(s[c++]){case 0:for(N=ae=0;ae<M;N=ae+=1)W[E++]=s[c++];break;case 1:for(N=V=0;V<M;N=V+=1)y=s[c++],B=N<i?0:W[E-i],W[E++]=(y+B)%256;break;case 2:for(N=G=0;G<M;N=G+=1)y=s[c++],S=(N-N%i)/i,K=O&&W[(O-1)*M+S*i+N%i],W[E++]=(K+y)%256;break;case 3:for(N=re=0;re<M;N=re+=1)y=s[c++],S=(N-N%i)/i,B=N<i?0:W[E-i],K=O&&W[(O-1)*M+S*i+N%i],W[E++]=(y+Math.floor((B+K)/2))%256;break;case 4:for(N=J=0;J<M;N=J+=1)y=s[c++],S=(N-N%i)/i,B=N<i?0:W[E-i],O===0?K=Q=0:(K=W[(O-1)*M+S*i+N%i],Q=S&&W[(O-1)*M+(S-1)*i+N%i]),k=B+K-Q,U=Math.abs(k-B),L=Math.abs(k-K),D=Math.abs(k-Q),F=U<=L&&U<=D?B:L<=D?K:Q,W[E++]=(y+F)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!R){var z=((p+O*b)*u.width+h)*i,q=O*M;for(N=0;N<Y;N+=1){for(var ee=0;ee<i;ee+=1)o[z++]=W[q++];z+=(g-1)*i}}O++}}return s=n$(s),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},n.prototype.decodePalette=function(){var s,i,o,c,u,f,h,p,g;for(o=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+o.length),c=0,s=0,i=h=0,p=o.length;h<p;i=h+=3)u[c++]=o[i],u[c++]=o[i+1],u[c++]=o[i+2],u[c++]=(g=f[s++])!=null?g:255;return u},n.prototype.copyToImageData=function(s,i){var o,c,u,f,h,p,g,b,y,E,S;if(c=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),c=4,o=!0),b=(u=s.data||s).length,h=y||i,f=p=0,c===1)for(;f<b;)g=y?4*i[f/4]:p,E=h[g++],u[f++]=E,u[f++]=E,u[f++]=E,u[f++]=o?h[g++]:255,p=g;else for(;f<b;)g=y?4*i[f/4]:p,u[f++]=h[g++],u[f++]=h[g++],u[f++]=h[g++],u[f++]=o?h[g++]:255,p=g},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(ar)==="[object Window]"){try{t=ar.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var i;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var i,o,c,u,f,h,p,g;if(this.animation){for(g=[],o=f=0,h=(p=this.animation.frames).length;f<h;o=++f)i=p[o],c=s.createImageData(i.width,i.height),u=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,u),i.imageData=c,g.push(i.image=e(c));return g}},n.prototype.renderFrame=function(s,i){var o,c,u;return o=(c=this.animation.frames)[i],u=c[i-1],i===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var i,o,c,u,f,h,p=this;return o=0,h=this.animation,u=h.numFrames,c=h.frames,f=h.numPlays,(i=function(){var g,b;if(g=o++%u,b=c[g],p.renderFrame(s,g),u>1&&o/u<f)return p.animation._timeout=setTimeout(i,b.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var i,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,i=s.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function B$(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<(7&a)+1;e[t++],e[t++];var o=null,c=null;s&&(o=t,c=i,t+=3*i);var u=!0,f=[],h=0,p=null,g=0,b=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],(1&y)==0&&(p=null),g=y>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var E=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,_=e[t++],k=_>>6&1,U=1<<(7&_)+1,F=o,L=c,D=!1;_>>7&&(D=!0,F=t,L=U,t+=3*U);var W=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}f.push({x:E,y:S,width:N,height:B,has_local_palette:D,palette_offset:F,palette_size:L,data_offset:W,data_length:t-W,transparent_index:p,interlaced:!!k,delay:h,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,K){var Q=this.frameInfo(M),ae=Q.width*Q.height,V=new Uint8Array(ae);RN(e,Q.data_offset,V,ae);var G=Q.palette_offset,re=Q.transparent_index;re===null&&(re=256);var J=Q.width,Y=r-J,ce=J,R=4*(Q.y*r+Q.x),z=4*((Q.y+Q.height)*r+Q.x),q=R,ee=4*Y;Q.interlaced===!0&&(ee+=4*r*7);for(var ne=8,le=0,ue=V.length;le<ue;++le){var he=V[le];if(ce===0&&(ce=J,(q+=ee)>=z&&(ee=4*Y+4*r*(ne-1),q=R+(J+Y)*(ne<<1),ne>>=1)),he===re)q+=4;else{var Ne=e[G+3*he],ge=e[G+3*he+1],te=e[G+3*he+2];K[q++]=te,K[q++]=ge,K[q++]=Ne,K[q++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(M,K){var Q=this.frameInfo(M),ae=Q.width*Q.height,V=new Uint8Array(ae);RN(e,Q.data_offset,V,ae);var G=Q.palette_offset,re=Q.transparent_index;re===null&&(re=256);var J=Q.width,Y=r-J,ce=J,R=4*(Q.y*r+Q.x),z=4*((Q.y+Q.height)*r+Q.x),q=R,ee=4*Y;Q.interlaced===!0&&(ee+=4*r*7);for(var ne=8,le=0,ue=V.length;le<ue;++le){var he=V[le];if(ce===0&&(ce=J,(q+=ee)>=z&&(ee=4*Y+4*r*(ne-1),q=R+(J+Y)*(ne<<1),ne>>=1)),he===re)q+=4;else{var Ne=e[G+3*he],ge=e[G+3*he+1],te=e[G+3*he+2];K[q++]=Ne,K[q++]=ge,K[q++]=te,K[q++]=255}--ce}}}function RN(e,t,r,n){for(var a=e[t++],s=1<<a,i=s+1,o=i+1,c=a+1,u=(1<<c)-1,f=0,h=0,p=0,g=e[t++],b=new Int32Array(4096),y=null;;){for(;f<16&&g!==0;)h|=e[t++]<<f,f+=8,g===1?g=e[t++]:--g;if(f<c)break;var E=h&u;if(h>>=c,f-=c,E!==s){if(E===i)break;for(var S=E<o?E:y,N=0,B=S;B>s;)B=b[B]>>8,++N;var _=B;if(p+N+(S!==E?1:0)>n)return void yn.log("Warning, gif stream longer than expected.");r[p++]=_;var k=p+=N;for(S!==E&&(r[p++]=_),B=S;N--;)B=b[B],r[--k]=255&B,B>>=8;y!==null&&o<4096&&(b[o++]=y<<8|_,o>=u+1&&c<12&&(++c,u=u<<1|1)),y=E}else o=i+1,u=(1<<(c=a+1))-1,y=null}return p!==n&&yn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Iw(e){var t,r,n,a,s,i=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),h=new Array(65535),p=new Array(65535),g=new Array(64),b=new Array(64),y=[],E=0,S=7,N=new Array(64),B=new Array(64),_=new Array(64),k=new Array(256),U=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(R,z){for(var q=0,ee=0,ne=new Array,le=1;le<=16;le++){for(var ue=1;ue<=R[le];ue++)ne[z[ee]]=[],ne[z[ee]][0]=q,ne[z[ee]][1]=le,ee++,q++;q*=2}return ne}function G(R){for(var z=R[0],q=R[1]-1;q>=0;)z&1<<q&&(E|=1<<S),q--,--S<0&&(E==255?(re(255),re(0)):re(E),S=7,E=0)}function re(R){y.push(R)}function J(R){re(R>>8&255),re(255&R)}function Y(R,z,q,ee,ne){for(var le,ue=ne[0],he=ne[240],Ne=function(et,dt){var pt,st,yt,Nt,Lt,Rt,Qt,Vt,Tt,Ct,ut=0;for(Tt=0;Tt<8;++Tt){pt=et[ut],st=et[ut+1],yt=et[ut+2],Nt=et[ut+3],Lt=et[ut+4],Rt=et[ut+5],Qt=et[ut+6];var mr=pt+(Vt=et[ut+7]),Mt=pt-Vt,Kr=st+Qt,ur=st-Qt,gr=yt+Rt,nn=yt-Rt,xr=Nt+Lt,ts=Nt-Lt,jr=mr+xr,oa=mr-xr,Ca=Kr+gr,kr=Kr-gr;et[ut]=jr+Ca,et[ut+4]=jr-Ca;var Xt=.707106781*(kr+oa);et[ut+2]=oa+Xt,et[ut+6]=oa-Xt;var Fr=.382683433*((jr=ts+nn)-(kr=ur+Mt)),Hs=.5411961*jr+Fr,_n=1.306562965*kr+Fr,rs=.707106781*(Ca=nn+ur),ps=Mt+rs,Ot=Mt-rs;et[ut+5]=Ot+Hs,et[ut+3]=Ot-Hs,et[ut+1]=ps+_n,et[ut+7]=ps-_n,ut+=8}for(ut=0,Tt=0;Tt<8;++Tt){pt=et[ut],st=et[ut+8],yt=et[ut+16],Nt=et[ut+24],Lt=et[ut+32],Rt=et[ut+40],Qt=et[ut+48];var qr=pt+(Vt=et[ut+56]),en=pt-Vt,Tn=st+Qt,xn=st-Qt,Cn=yt+Rt,de=yt-Rt,Ee=Nt+Lt,ve=Nt-Lt,ye=qr+Ee,Ce=qr-Ee,Se=Tn+Cn,Qe=Tn-Cn;et[ut]=ye+Se,et[ut+32]=ye-Se;var Xe=.707106781*(Qe+Ce);et[ut+16]=Ce+Xe,et[ut+48]=Ce-Xe;var Re=.382683433*((ye=ve+de)-(Qe=xn+en)),ze=.5411961*ye+Re,We=1.306562965*Qe+Re,ht=.707106781*(Se=de+xn),wt=en+ht,kt=en-ht;et[ut+40]=kt+ze,et[ut+24]=kt-ze,et[ut+8]=wt+We,et[ut+56]=wt-We,ut++}for(Tt=0;Tt<64;++Tt)Ct=et[Tt]*dt[Tt],g[Tt]=Ct>0?Ct+.5|0:Ct-.5|0;return g}(R,z),ge=0;ge<64;++ge)b[F[ge]]=Ne[ge];var te=b[0]-q;q=b[0],te==0?G(ee[0]):(G(ee[p[le=32767+te]]),G(h[le]));for(var Te=63;Te>0&&b[Te]==0;)Te--;if(Te==0)return G(ue),q;for(var qe,ke=1;ke<=Te;){for(var we=ke;b[ke]==0&&ke<=Te;)++ke;var je=ke-we;if(je>=16){qe=je>>4;for(var $e=1;$e<=qe;++$e)G(he);je&=15}le=32767+b[ke],G(ne[(je<<4)+p[le]]),G(h[le]),ke++}return Te!=63&&G(ue),q}function ce(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(z){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ne=i((q[ee]*z+50)/100);ne=Math.min(Math.max(ne,1),255),o[F[ee]]=ne}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var he=i((le[ue]*z+50)/100);he=Math.min(Math.max(he,1),255),c[F[ue]]=he}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,te=0;te<8;te++)for(var Te=0;Te<8;Te++)u[ge]=1/(o[F[ge]]*Ne[te]*Ne[Te]*8),f[ge]=1/(c[F[ge]]*Ne[te]*Ne[Te]*8),ge++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,z){z&&ce(z),y=new Array,E=0,S=7,J(65496),J(65504),J(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),J(1),J(1),re(0),re(0),function(){J(65499),J(132),re(0);for(var st=0;st<64;st++)re(o[st]);re(1);for(var yt=0;yt<64;yt++)re(c[yt])}(),function(st,yt){J(65472),J(17),re(8),J(yt),J(st),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(R.width,R.height),function(){J(65476),J(418),re(0);for(var st=0;st<16;st++)re(L[st+1]);for(var yt=0;yt<=11;yt++)re(D[yt]);re(16);for(var Nt=0;Nt<16;Nt++)re(W[Nt+1]);for(var Lt=0;Lt<=161;Lt++)re(O[Lt]);re(1);for(var Rt=0;Rt<16;Rt++)re(M[Rt+1]);for(var Qt=0;Qt<=11;Qt++)re(K[Qt]);re(17);for(var Vt=0;Vt<16;Vt++)re(Q[Vt+1]);for(var Tt=0;Tt<=161;Tt++)re(ae[Tt])}(),J(65498),J(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var q=0,ee=0,ne=0;E=0,S=7,this.encode.displayName="_encode_";for(var le,ue,he,Ne,ge,te,Te,qe,ke,we=R.data,je=R.width,$e=R.height,et=4*je,dt=0;dt<$e;){for(le=0;le<et;){for(ge=et*dt+le,Te=-1,qe=0,ke=0;ke<64;ke++)te=ge+(qe=ke>>3)*et+(Te=4*(7&ke)),dt+qe>=$e&&(te-=et*(dt+1+qe-$e)),le+Te>=et&&(te-=le+Te-et+4),ue=we[te++],he=we[te++],Ne=we[te++],N[ke]=(U[ue]+U[he+256>>0]+U[Ne+512>>0]>>16)-128,B[ke]=(U[ue+768>>0]+U[he+1024>>0]+U[Ne+1280>>0]>>16)-128,_[ke]=(U[ue+1280>>0]+U[he+1536>>0]+U[Ne+1792>>0]>>16)-128;q=Y(N,u,q,t,n),ee=Y(B,f,ee,r,a),ne=Y(_,f,ne,r,a),le+=32}dt+=8}if(S>=0){var pt=[];pt[1]=S+1,pt[0]=(1<<S+1)-1,G(pt)}return J(65497),new Uint8Array(y)},e=e||50,function(){for(var R=String.fromCharCode,z=0;z<256;z++)k[z]=R(z)}(),t=V(L,D),r=V(M,K),n=V(W,O),a=V(Q,ae),function(){for(var R=1,z=2,q=1;q<=15;q++){for(var ee=R;ee<z;ee++)p[32767+ee]=q,h[32767+ee]=[],h[32767+ee][1]=q,h[32767+ee][0]=ee;for(var ne=-(z-1);ne<=-R;ne++)p[32767+ne]=q,h[32767+ne]=[],h[32767+ne][1]=q,h[32767+ne][0]=z-1+ne;R<<=1,z<<=1}}(),function(){for(var R=0;R<256;R++)U[R]=19595*R,U[R+256>>0]=38470*R,U[R+512>>0]=7471*R+32768,U[R+768>>0]=-11059*R,U[R+1024>>0]=-21709*R,U[R+1280>>0]=32768*R+8421375,U[R+1536>>0]=-27439*R,U[R+1792>>0]=-5329*R}(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ko(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function MN(e){function t(L){if(!L)throw Error("assert :P")}function r(L,D,W){for(var O=0;4>O;O++)if(L[D+O]!=W.charCodeAt(O))return!0;return!1}function n(L,D,W,O,M){for(var K=0;K<M;K++)L[D+K]=W[O+K]}function a(L,D,W,O){for(var M=0;M<O;M++)L[D+M]=W}function s(L){return new Int32Array(L)}function i(L,D){for(var W=[],O=0;O<L;O++)W.push(new D);return W}function o(L,D){var W=[];return function O(M,K,Q){for(var ae=Q[K],V=0;V<ae&&(M.push(Q.length>K+1?[]:new D),!(Q.length<K+1));V++)O(M[V],K+1,Q)}(W,0,L),W}var c=function(){var L=this;function D(C,I){for(var H=1<<I-1>>>0;C&H;)H>>>=1;return H?(C&H-1)+H:C}function W(C,I,H,Z,ie){t(!(Z%H));do C[I+(Z-=H)]=ie;while(0<Z)}function O(C,I,H,Z,ie){if(t(2328>=ie),512>=ie)var Ae=s(512);else if((Ae=s(ie))==null)return 0;return function(fe,me,xe,be,Ie,Ge){var He,Me,ct=me,Ze=1<<xe,Ue=s(16),Le=s(16);for(t(Ie!=0),t(be!=null),t(fe!=null),t(0<xe),Me=0;Me<Ie;++Me){if(15<be[Me])return 0;++Ue[be[Me]]}if(Ue[0]==Ie)return 0;for(Le[1]=0,He=1;15>He;++He){if(Ue[He]>1<<He)return 0;Le[He+1]=Le[He]+Ue[He]}for(Me=0;Me<Ie;++Me)He=be[Me],0<be[Me]&&(Ge[Le[He]++]=Me);if(Le[15]==1)return(be=new M).g=0,be.value=Ge[0],W(fe,ct,1,Ze,be),Ze;var nt,At=-1,ot=Ze-1,It=0,St=1,Gt=1,Bt=1<<xe;for(Me=0,He=1,Ie=2;He<=xe;++He,Ie<<=1){if(St+=Gt<<=1,0>(Gt-=Ue[He]))return 0;for(;0<Ue[He];--Ue[He])(be=new M).g=He,be.value=Ge[Me++],W(fe,ct+It,Ie,Bt,be),It=D(It,He)}for(He=xe+1,Ie=2;15>=He;++He,Ie<<=1){if(St+=Gt<<=1,0>(Gt-=Ue[He]))return 0;for(;0<Ue[He];--Ue[He]){if(be=new M,(It&ot)!=At){for(ct+=Bt,nt=1<<(At=He)-xe;15>At&&!(0>=(nt-=Ue[At]));)++At,nt<<=1;Ze+=Bt=1<<(nt=At-xe),fe[me+(At=It&ot)].g=nt+xe,fe[me+At].value=ct-me-At}be.g=He-xe,be.value=Ge[Me++],W(fe,ct+(It>>xe),Ie,Bt,be),It=D(It,He)}}return St!=2*Le[15]-1?0:Ze}(C,I,H,Z,ie,Ae)}function M(){this.value=this.g=0}function K(){this.value=this.g=0}function Q(){this.G=i(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(la,K)}function ae(C,I,H,Z){t(C!=null),t(I!=null),t(2147483648>Z),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=I,C.pa=H,C.Jd=I,C.Yc=H+Z,C.Zc=4<=Z?H+Z-4+1:H,le(C)}function V(C,I){for(var H=0;0<I--;)H|=he(C,128)<<I;return H}function G(C,I){var H=V(C,I);return ue(C)?-H:H}function re(C,I,H,Z){var ie,Ae=0;for(t(C!=null),t(I!=null),t(4294967288>Z),C.Sb=Z,C.Ra=0,C.u=0,C.h=0,4<Z&&(Z=4),ie=0;ie<Z;++ie)Ae+=I[H+ie]<<8*ie;C.Ra=Ae,C.bb=Z,C.oa=I,C.pa=H}function J(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<dc-8>>>0,++C.bb,C.u-=8;q(C)&&(C.h=1,C.u=0)}function Y(C,I){if(t(0<=I),!C.h&&I<=uc){var H=z(C)&xl[I];return C.u+=I,J(C),H}return C.h=1,C.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(C){return C.Ra>>>(C.u&dc-1)>>>0}function q(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>dc}function ee(C,I){C.u=I,C.h=q(C)}function ne(C){C.u>=vA&&(t(C.u>=vA),J(C))}function le(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function ue(C){return V(C,1)}function he(C,I){var H=C.Ca;0>C.b&&le(C);var Z=C.b,ie=H*I>>>8,Ae=(C.I>>>Z>ie)+0;for(Ae?(H-=ie,C.I-=ie+1<<Z>>>0):H=ie+1,Z=H,ie=0;256<=Z;)ie+=8,Z>>=8;return Z=7^ie+vs[Z],C.b-=Z,C.Ca=(H<<Z)-1,Ae}function Ne(C,I,H){C[I+0]=H>>24&255,C[I+1]=H>>16&255,C[I+2]=H>>8&255,C[I+3]=H>>0&255}function ge(C,I){return C[I+0]<<0|C[I+1]<<8}function te(C,I){return ge(C,I)|C[I+2]<<16}function Te(C,I){return ge(C,I)|ge(C,I+2)<<16}function qe(C,I){var H=1<<I;return t(C!=null),t(0<I),C.X=s(H),C.X==null?0:(C.Mb=32-I,C.Xa=I,1)}function ke(C,I){t(C!=null),t(I!=null),t(C.Xa==I.Xa),n(I.X,0,C.X,0,1<<I.Xa)}function we(){this.X=[],this.Xa=this.Mb=0}function je(C,I,H,Z){t(H!=null),t(Z!=null);var ie=H[0],Ae=Z[0];return ie==0&&(ie=(C*Ae+I/2)/I),Ae==0&&(Ae=(I*ie+C/2)/C),0>=ie||0>=Ae?0:(H[0]=ie,Z[0]=Ae,1)}function $e(C,I){return C+(1<<I)-1>>>I}function et(C,I){return((4278255360&C)+(4278255360&I)>>>0&4278255360)+((16711935&C)+(16711935&I)>>>0&16711935)>>>0}function dt(C,I){L[I]=function(H,Z,ie,Ae,fe,me,xe){var be;for(be=0;be<fe;++be){var Ie=L[C](me[xe+be-1],ie,Ae+be);me[xe+be]=et(H[Z+be],Ie)}}}function pt(){this.ud=this.hd=this.jd=0}function st(C,I){return((4278124286&(C^I))>>>1)+(C&I)>>>0}function yt(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Nt(C,I){return yt(C+(C-I+.5>>1))}function Lt(C,I,H){return Math.abs(I-H)-Math.abs(C-H)}function Rt(C,I,H,Z,ie,Ae,fe){for(Z=Ae[fe-1],H=0;H<ie;++H)Ae[fe+H]=Z=et(C[I+H],Z)}function Qt(C,I,H,Z,ie){var Ae;for(Ae=0;Ae<H;++Ae){var fe=C[I+Ae],me=fe>>8&255,xe=16711935&(xe=(xe=16711935&fe)+((me<<16)+me));Z[ie+Ae]=(4278255360&fe)+xe>>>0}}function Vt(C,I){I.jd=C>>0&255,I.hd=C>>8&255,I.ud=C>>16&255}function Tt(C,I,H,Z,ie,Ae){var fe;for(fe=0;fe<Z;++fe){var me=I[H+fe],xe=me>>>8,be=me,Ie=255&(Ie=(Ie=me>>>16)+((C.jd<<24>>24)*(xe<<24>>24)>>>5));be=255&(be=(be=be+((C.hd<<24>>24)*(xe<<24>>24)>>>5))+((C.ud<<24>>24)*(Ie<<24>>24)>>>5)),ie[Ae+fe]=(4278255360&me)+(Ie<<16)+be}}function Ct(C,I,H,Z,ie){L[I]=function(Ae,fe,me,xe,be,Ie,Ge,He,Me){for(xe=Ge;xe<He;++xe)for(Ge=0;Ge<Me;++Ge)be[Ie++]=ie(me[Z(Ae[fe++])])},L[C]=function(Ae,fe,me,xe,be,Ie,Ge){var He=8>>Ae.b,Me=Ae.Ea,ct=Ae.K[0],Ze=Ae.w;if(8>He)for(Ae=(1<<Ae.b)-1,Ze=(1<<He)-1;fe<me;++fe){var Ue,Le=0;for(Ue=0;Ue<Me;++Ue)Ue&Ae||(Le=Z(xe[be++])),Ie[Ge++]=ie(ct[Le&Ze]),Le>>=He}else L["VP8LMapColor"+H](xe,be,ct,Ze,Ie,Ge,fe,me,Me)}}function ut(C,I,H,Z,ie){for(H=I+H;I<H;){var Ae=C[I++];Z[ie++]=Ae>>16&255,Z[ie++]=Ae>>8&255,Z[ie++]=Ae>>0&255}}function mr(C,I,H,Z,ie){for(H=I+H;I<H;){var Ae=C[I++];Z[ie++]=Ae>>16&255,Z[ie++]=Ae>>8&255,Z[ie++]=Ae>>0&255,Z[ie++]=Ae>>24&255}}function Mt(C,I,H,Z,ie){for(H=I+H;I<H;){var Ae=(fe=C[I++])>>16&240|fe>>12&15,fe=fe>>0&240|fe>>28&15;Z[ie++]=Ae,Z[ie++]=fe}}function Kr(C,I,H,Z,ie){for(H=I+H;I<H;){var Ae=(fe=C[I++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;Z[ie++]=Ae,Z[ie++]=fe}}function ur(C,I,H,Z,ie){for(H=I+H;I<H;){var Ae=C[I++];Z[ie++]=Ae>>0&255,Z[ie++]=Ae>>8&255,Z[ie++]=Ae>>16&255}}function gr(C,I,H,Z,ie,Ae){if(Ae==0)for(H=I+H;I<H;)Ne(Z,((Ae=C[I++])[0]>>24|Ae[1]>>8&65280|Ae[2]<<8&16711680|Ae[3]<<24)>>>0),ie+=32;else n(Z,ie,C,I,H)}function nn(C,I){L[I][0]=L[C+"0"],L[I][1]=L[C+"1"],L[I][2]=L[C+"2"],L[I][3]=L[C+"3"],L[I][4]=L[C+"4"],L[I][5]=L[C+"5"],L[I][6]=L[C+"6"],L[I][7]=L[C+"7"],L[I][8]=L[C+"8"],L[I][9]=L[C+"9"],L[I][10]=L[C+"10"],L[I][11]=L[C+"11"],L[I][12]=L[C+"12"],L[I][13]=L[C+"13"],L[I][14]=L[C+"0"],L[I][15]=L[C+"0"]}function xr(C){return C==Ju||C==_l||C==Uo||C==CA}function ts(){this.eb=[],this.size=this.A=this.fb=0}function jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ts,this.f.kb=new jr,this.sd=null}function Ca(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xt(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Fr(C,I){var H=C.T,Z=I.ba.f.RGBA,ie=Z.eb,Ae=Z.fb+C.ka*Z.A,fe=_a[I.ba.S],me=C.y,xe=C.O,be=C.f,Ie=C.N,Ge=C.ea,He=C.W,Me=I.cc,ct=I.dc,Ze=I.Mc,Ue=I.Nc,Le=C.ka,nt=C.ka+C.T,At=C.U,ot=At+1>>1;for(Le==0?fe(me,xe,null,null,be,Ie,Ge,He,be,Ie,Ge,He,ie,Ae,null,null,At):(fe(I.ec,I.fc,me,xe,Me,ct,Ze,Ue,be,Ie,Ge,He,ie,Ae-Z.A,ie,Ae,At),++H);Le+2<nt;Le+=2)Me=be,ct=Ie,Ze=Ge,Ue=He,Ie+=C.Rc,He+=C.Rc,Ae+=2*Z.A,fe(me,(xe+=2*C.fa)-C.fa,me,xe,Me,ct,Ze,Ue,be,Ie,Ge,He,ie,Ae-Z.A,ie,Ae,At);return xe+=C.fa,C.j+nt<C.o?(n(I.ec,I.fc,me,xe,At),n(I.cc,I.dc,be,Ie,ot),n(I.Mc,I.Nc,Ge,He,ot),H--):1&nt||fe(me,xe,null,null,be,Ie,Ge,He,be,Ie,Ge,He,ie,Ae+Z.A,null,null,At),H}function Hs(C,I,H){var Z=C.F,ie=[C.J];if(Z!=null){var Ae=C.U,fe=I.ba.S,me=fe==gc||fe==Uo;I=I.ba.f.RGBA;var xe=[0],be=C.ka;xe[0]=C.T,C.Kb&&(be==0?--xe[0]:(--be,ie[0]-=C.width),C.j+C.ka+C.T==C.o&&(xe[0]=C.o-C.j-be));var Ie=I.eb;be=I.fb+be*I.A,C=Er(Z,ie[0],C.width,Ae,xe,Ie,be+(me?0:3),I.A),t(H==xe),C&&xr(fe)&&qs(Ie,be,me,Ae,xe,I.A)}return 0}function _n(C){var I=C.ma,H=I.ba.S,Z=11>H,ie=H==bA||H==Yu||H==gc||H==Io||H==12||xr(H);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!gl(I.Oa,C,ie?11:12))return 0;if(ie&&xr(H)&&gt(),C.da)alert("todo:use_scaling");else{if(Z){if(I.Ib=Xt,C.Kb){if(H=C.U+1>>1,I.memory=s(C.U+2*H),I.memory==null)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+C.U,I.Mc=I.cc,I.Nc=I.dc+H,I.Ib=Fr,gt()}}else alert("todo:EmitYUV");ie&&(I.Jb=Hs,Z&&Oe())}if(Z&&!Kp){for(C=0;256>C;++C)Wv[C]=89858*(C-128)+Aa>>Zi,ed[C]=-22014*(C-128)+Aa,fh[C]=-45773*(C-128),ua[C]=113618*(C-128)+Aa>>Zi;for(C=Fl;C<yf;++C)I=76283*(C-16)+Aa>>Zi,td[C-Fl]=Ks(I,255),hh[C-Fl]=Ks(I+8>>4,15);Kp=1}return 1}function rs(C){var I=C.ma,H=C.U,Z=C.T;return t(!(1&C.ka)),0>=H||0>=Z?0:(H=I.Ib(C,I),I.Jb!=null&&I.Jb(C,I,H),I.Dc+=H,1)}function ps(C){C.ma.memory=null}function Ot(C,I,H,Z){return Y(C,8)!=47?0:(I[0]=Y(C,14)+1,H[0]=Y(C,14)+1,Z[0]=Y(C,1),Y(C,3)!=0?0:!C.h)}function qr(C,I){if(4>C)return C+1;var H=C-2>>1;return(2+(1&C)<<H)+Y(I,H)+1}function en(C,I){return 120<I?I-120:1<=(H=((H=Lo[I-1])>>4)*C+(8-(15&H)))?H:1;var H}function Tn(C,I,H){var Z=z(H),ie=C[I+=255&Z].g-8;return 0<ie&&(ee(H,H.u+8),Z=z(H),I+=C[I].value,I+=Z&(1<<ie)-1),ee(H,H.u+C[I].g),C[I].value}function xn(C,I,H){return H.g+=C.g,H.value+=C.value<<I>>>0,t(8>=H.g),C.g}function Cn(C,I,H){var Z=C.xc;return t((I=Z==0?0:C.vc[C.md*(H>>Z)+(I>>Z)])<C.Wb),C.Ya[I]}function de(C,I,H,Z){var ie=C.ab,Ae=C.c*I,fe=C.C;I=fe+I;var me=H,xe=Z;for(Z=C.Ta,H=C.Ua;0<ie--;){var be=C.gc[ie],Ie=fe,Ge=I,He=me,Me=xe,ct=(xe=Z,me=H,be.Ea);switch(t(Ie<Ge),t(Ge<=be.nc),be.hc){case 2:hf(He,Me,(Ge-Ie)*ct,xe,me);break;case 0:var Ze=Ie,Ue=Ge,Le=xe,nt=me,At=(Bt=be).Ea;Ze==0&&(uh(He,Me,null,null,1,Le,nt),Rt(He,Me+1,0,0,At-1,Le,nt+1),Me+=At,nt+=At,++Ze);for(var ot=1<<Bt.b,It=ot-1,St=$e(At,Bt.b),Gt=Bt.K,Bt=Bt.w+(Ze>>Bt.b)*St;Ze<Ue;){var Or=Gt,$r=Bt,br=1;for(Wu(He,Me,Le,nt-At,1,Le,nt);br<At;){var vr=(br&~It)+ot;vr>At&&(vr=At),(0,To[Or[$r++]>>8&15])(He,Me+ +br,Le,nt+br-At,vr-br,Le,nt+br),br=vr}Me+=At,nt+=At,++Ze&It||(Bt+=St)}Ge!=be.nc&&n(xe,me-ct,xe,me+(Ge-Ie-1)*ct,ct);break;case 1:for(ct=He,Ue=Me,At=(He=be.Ea)-(nt=He&~(Le=(Me=1<<be.b)-1)),Ze=$e(He,be.b),ot=be.K,be=be.w+(Ie>>be.b)*Ze;Ie<Ge;){for(It=ot,St=be,Gt=new pt,Bt=Ue+nt,Or=Ue+He;Ue<Bt;)Vt(It[St++],Gt),wl(Gt,ct,Ue,Me,xe,me),Ue+=Me,me+=Me;Ue<Or&&(Vt(It[St++],Gt),wl(Gt,ct,Ue,At,xe,me),Ue+=At,me+=At),++Ie&Le||(be+=Ze)}break;case 3:if(He==xe&&Me==me&&0<be.b){for(Ue=xe,He=ct=me+(Ge-Ie)*ct-(nt=(Ge-Ie)*$e(be.Ea,be.b)),Me=xe,Le=me,Ze=[],nt=(At=nt)-1;0<=nt;--nt)Ze[nt]=Me[Le+nt];for(nt=At-1;0<=nt;--nt)Ue[He+nt]=Ze[nt];si(be,Ie,Ge,xe,ct,xe,me)}else si(be,Ie,Ge,He,Me,xe,me)}me=Z,xe=H}xe!=H&&n(Z,H,me,xe,Ae)}function Ee(C,I){var H=C.V,Z=C.Ba+C.c*C.C,ie=I-C.C;if(t(I<=C.l.o),t(16>=ie),0<ie){var Ae=C.l,fe=C.Ta,me=C.Ua,xe=Ae.width;if(de(C,ie,H,Z),ie=me=[me],t((H=C.C)<(Z=I)),t(Ae.v<Ae.va),Z>Ae.o&&(Z=Ae.o),H<Ae.j){var be=Ae.j-H;H=Ae.j,ie[0]+=be*xe}if(H>=Z?H=0:(ie[0]+=4*Ae.v,Ae.ka=H-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=Z-H,H=1),H){if(me=me[0],11>(H=C.ca).S){var Ie=H.f.RGBA,Ge=(Z=H.S,ie=Ae.U,Ae=Ae.T,be=Ie.eb,Ie.A),He=Ae;for(Ie=Ie.fb+C.Ma*Ie.A;0<He--;){var Me=fe,ct=me,Ze=ie,Ue=be,Le=Ie;switch(Z){case za:ss(Me,ct,Ze,Ue,Le);break;case bA:Ra(Me,ct,Ze,Ue,Le);break;case Ju:Ra(Me,ct,Ze,Ue,Le),qs(Ue,Le,0,Ze,1,0);break;case $i:Ci(Me,ct,Ze,Ue,Le);break;case Yu:gr(Me,ct,Ze,Ue,Le,1);break;case _l:gr(Me,ct,Ze,Ue,Le,1),qs(Ue,Le,0,Ze,1,0);break;case gc:gr(Me,ct,Ze,Ue,Le,0);break;case Uo:gr(Me,ct,Ze,Ue,Le,0),qs(Ue,Le,1,Ze,1,0);break;case Io:yl(Me,ct,Ze,Ue,Le);break;case CA:yl(Me,ct,Ze,Ue,Le),Cr(Ue,Le,Ze,1,0);break;case pf:ws(Me,ct,Ze,Ue,Le);break;default:t(0)}me+=xe,Ie+=Ge}C.Ma+=Ae}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=H.height)}}C.C=I,t(C.C<=C.i)}function ve(C){var I;if(0<C.ua)return 0;for(I=0;I<C.Wb;++I){var H=C.Ya[I].G,Z=C.Ya[I].H;if(0<H[1][Z[1]+0].g||0<H[2][Z[2]+0].g||0<H[3][Z[3]+0].g)return 0}return 1}function ye(C,I,H,Z,ie,Ae){if(C.Z!=0){var fe=C.qd,me=C.rd;for(t(Ji[C.Z]!=null);I<H;++I)Ji[C.Z](fe,me,Z,ie,Z,ie,Ae),fe=Z,me=ie,ie+=Ae;C.qd=fe,C.rd=me}}function Ce(C,I){var H=C.l.ma,Z=H.Z==0||H.Z==1?C.l.j:C.C;if(Z=C.C<Z?Z:C.C,t(I<=C.l.o),I>Z){var ie=C.l.width,Ae=H.ca,fe=H.tb+ie*Z,me=C.V,xe=C.Ba+C.c*Z,be=C.gc;t(C.ab==1),t(be[0].hc==3),vl(be[0],Z,I,me,xe,Ae,fe),ye(H,Z,I,Ae,fe,ie)}C.C=C.Ma=I}function Se(C,I,H,Z,ie,Ae,fe){var me=C.$/Z,xe=C.$%Z,be=C.m,Ie=C.s,Ge=H+C.$,He=Ge;ie=H+Z*ie;var Me=H+Z*Ae,ct=280+Ie.ua,Ze=C.Pb?me:16777216,Ue=0<Ie.ua?Ie.Wa:null,Le=Ie.wc,nt=Ge<Me?Cn(Ie,xe,me):null;t(C.C<Ae),t(Me<=ie);var At=!1;e:for(;;){for(;At||Ge<Me;){var ot=0;if(me>=Ze){var It=Ge-H;t((Ze=C).Pb),Ze.wd=Ze.m,Ze.xd=It,0<Ze.s.ua&&ke(Ze.s.Wa,Ze.s.vb),Ze=me+Vp}if(xe&Le||(nt=Cn(Ie,xe,me)),t(nt!=null),nt.Qb&&(I[Ge]=nt.qb,At=!0),!At)if(ne(be),nt.jc){ot=be,It=I;var St=Ge,Gt=nt.pd[z(ot)&la-1];t(nt.jc),256>Gt.g?(ee(ot,ot.u+Gt.g),It[St]=Gt.value,ot=0):(ee(ot,ot.u+Gt.g-256),t(256<=Gt.value),ot=Gt.value),ot==0&&(At=!0)}else ot=Tn(nt.G[0],nt.H[0],be);if(be.h)break;if(At||256>ot){if(!At)if(nt.nd)I[Ge]=(nt.qb|ot<<8)>>>0;else{if(ne(be),At=Tn(nt.G[1],nt.H[1],be),ne(be),It=Tn(nt.G[2],nt.H[2],be),St=Tn(nt.G[3],nt.H[3],be),be.h)break;I[Ge]=(St<<24|At<<16|ot<<8|It)>>>0}if(At=!1,++Ge,++xe>=Z&&(xe=0,++me,fe!=null&&me<=Ae&&!(me%16)&&fe(C,me),Ue!=null))for(;He<Ge;)ot=I[He++],Ue.X[(506832829*ot&4294967295)>>>Ue.Mb]=ot}else if(280>ot){if(ot=qr(ot-256,be),It=Tn(nt.G[4],nt.H[4],be),ne(be),It=en(Z,It=qr(It,be)),be.h)break;if(Ge-H<It||ie-Ge<ot)break e;for(St=0;St<ot;++St)I[Ge+St]=I[Ge+St-It];for(Ge+=ot,xe+=ot;xe>=Z;)xe-=Z,++me,fe!=null&&me<=Ae&&!(me%16)&&fe(C,me);if(t(Ge<=ie),xe&Le&&(nt=Cn(Ie,xe,me)),Ue!=null)for(;He<Ge;)ot=I[He++],Ue.X[(506832829*ot&4294967295)>>>Ue.Mb]=ot}else{if(!(ot<ct))break e;for(At=ot-280,t(Ue!=null);He<Ge;)ot=I[He++],Ue.X[(506832829*ot&4294967295)>>>Ue.Mb]=ot;ot=Ge,t(!(At>>>(It=Ue).Xa)),I[ot]=It.X[At],At=!0}At||t(be.h==q(be))}if(C.Pb&&be.h&&Ge<ie)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&ke(C.s.vb,C.s.Wa);else{if(be.h)break e;fe!=null&&fe(C,me>Ae?Ae:me),C.a=0,C.$=Ge-H}return 1}return C.a=3,0}function Qe(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var I=C.Wa;I!=null&&(I.X=null),C.vb=null,t(C!=null)}function Xe(){var C=new Ah;return C==null?null:(C.a=0,C.xb=EA,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),hf=Qt,wl=Tt,ss=ut,Ra=mr,yl=Mt,ws=Kr,Ci=ur,L.VP8LMapColor32b=Ba,L.VP8LMapColor8b=$u,C)}function Re(C,I,H,Z,ie){var Ae=1,fe=[C],me=[I],xe=Z.m,be=Z.s,Ie=null,Ge=0;e:for(;;){if(H)for(;Ae&&Y(xe,1);){var He=fe,Me=me,ct=Z,Ze=1,Ue=ct.m,Le=ct.gc[ct.ab],nt=Y(Ue,2);if(ct.Oc&1<<nt)Ae=0;else{switch(ct.Oc|=1<<nt,Le.hc=nt,Le.Ea=He[0],Le.nc=Me[0],Le.K=[null],++ct.ab,t(4>=ct.ab),nt){case 0:case 1:Le.b=Y(Ue,3)+2,Ze=Re($e(Le.Ea,Le.b),$e(Le.nc,Le.b),0,ct,Le.K),Le.K=Le.K[0];break;case 3:var At,ot=Y(Ue,8)+1,It=16<ot?0:4<ot?1:2<ot?2:3;if(He[0]=$e(Le.Ea,It),Le.b=It,At=Ze=Re(ot,1,0,ct,Le.K)){var St,Gt=ot,Bt=Le,Or=1<<(8>>Bt.b),$r=s(Or);if($r==null)At=0;else{var br=Bt.K[0],vr=Bt.w;for($r[0]=Bt.K[0][0],St=1;St<1*Gt;++St)$r[St]=et(br[vr+St],$r[St-1]);for(;St<4*Or;++St)$r[St]=0;Bt.K[0]=null,Bt.K[0]=$r,At=1}}Ze=At;break;case 2:break;default:t(0)}Ae=Ze}}if(fe=fe[0],me=me[0],Ae&&Y(xe,1)&&!(Ae=1<=(Ge=Y(xe,4))&&11>=Ge)){Z.a=3;break e}var tn;if(tn=Ae)t:{var Yr,dr,an,Jt=Z,nr=fe,Pr=me,Qr=Ge,Ta=H,da=Jt.m,Kn=Jt.s,qn=[null],Zn=1,ci=0,Jr=vc[Qr];r:for(;;){if(Ta&&Y(da,1)){var ea=Y(da,3)+2,Bi=$e(nr,ea),Il=$e(Pr,ea),bc=Bi*Il;if(!Re(Bi,Il,0,Jt,qn))break r;for(qn=qn[0],Kn.xc=ea,Yr=0;Yr<bc;++Yr){var Ul=qn[Yr]>>8&65535;qn[Yr]=Ul,Ul>=Zn&&(Zn=Ul+1)}}if(da.h)break r;for(dr=0;5>dr;++dr){var Sn=Ws[dr];!dr&&0<Qr&&(Sn+=1<<Qr),ci<Sn&&(ci=Sn)}var rd=i(Zn*Jr,M),bf=Zn,os=i(bf,Q);if(os==null)var Fn=null;else t(65536>=bf),Fn=os;var Cc=s(ci);if(Fn==null||Cc==null||rd==null){Jt.a=1;break r}var Dl=rd;for(Yr=an=0;Yr<Zn;++Yr){var bs=Fn[Yr],Ll=bs.G,Cs=bs.H,nd=0,BA=1,Cf=0;for(dr=0;5>dr;++dr){Sn=Ws[dr],Ll[dr]=Dl,Cs[dr]=an,!dr&&0<Qr&&(Sn+=1<<Qr);a:{var ad,Ef=Sn,sd=Jt,NA=Cc,$p=Dl,Yp=an,id=0,jo=sd.m,Yv=Y(jo,1);if(a(NA,0,0,Ef),Yv){var Jp=Y(jo,1)+1,Xp=Y(jo,1),mh=Y(jo,Xp==0?1:8);NA[mh]=1,Jp==2&&(NA[mh=Y(jo,8)]=1);var _A=1}else{var ph=s(19),gh=Y(jo,4)+4;if(19<gh){sd.a=3;var od=0;break a}for(ad=0;ad<gh;++ad)ph[Do[ad]]=Y(jo,3);var Sf=void 0,TA=void 0,Zp=sd,eg=ph,Oo=Ef,ld=NA,Bf=0,Ni=Zp.m,kA=8,xh=i(128,M);n:for(;O(xh,0,7,eg,19);){if(Y(Ni,1)){var tg=2+2*Y(Ni,3);if((Sf=2+Y(Ni,tg))>Oo)break n}else Sf=Oo;for(TA=0;TA<Oo&&Sf--;){ne(Ni);var vh=xh[0+(127&z(Ni))];ee(Ni,Ni.u+vh.g);var Ec=vh.value;if(16>Ec)ld[TA++]=Ec,Ec!=0&&(kA=Ec);else{var rg=Ec==16,wh=Ec-16,yh=li[wh],bh=Y(Ni,gf[wh])+yh;if(TA+bh>Oo)break n;for(var ng=rg?kA:0;0<bh--;)ld[TA++]=ng}}Bf=1;break n}Bf||(Zp.a=3),_A=Bf}(_A=_A&&!jo.h)&&(id=O($p,Yp,8,NA,Ef)),_A&&id!=0?od=id:(sd.a=3,od=0)}if(od==0)break r;if(BA&&xc[dr]==1&&(BA=Dl[an].g==0),nd+=Dl[an].g,an+=od,3>=dr){var Sc,Nf=Cc[0];for(Sc=1;Sc<Sn;++Sc)Cc[Sc]>Nf&&(Nf=Cc[Sc]);Cf+=Nf}}if(bs.nd=BA,bs.Qb=0,BA&&(bs.qb=(Ll[3][Cs[3]+0].value<<24|Ll[1][Cs[1]+0].value<<16|Ll[2][Cs[2]+0].value)>>>0,nd==0&&256>Ll[0][Cs[0]+0].value&&(bs.Qb=1,bs.qb+=Ll[0][Cs[0]+0].value<<8)),bs.jc=!bs.Qb&&6>Cf,bs.jc){var cd,Qo=bs;for(cd=0;cd<la;++cd){var eo=cd,Ho=Qo.pd[eo],Ad=Qo.G[0][Qo.H[0]+eo];256<=Ad.value?(Ho.g=Ad.g+256,Ho.value=Ad.value):(Ho.g=0,Ho.value=0,eo>>=xn(Ad,8,Ho),eo>>=xn(Qo.G[1][Qo.H[1]+eo],16,Ho),eo>>=xn(Qo.G[2][Qo.H[2]+eo],0,Ho),xn(Qo.G[3][Qo.H[3]+eo],24,Ho))}}}Kn.vc=qn,Kn.Wb=Zn,Kn.Ya=Fn,Kn.yc=rd,tn=1;break t}tn=0}if(!(Ae=tn)){Z.a=3;break e}if(0<Ge){if(be.ua=1<<Ge,!qe(be.Wa,Ge)){Z.a=1,Ae=0;break e}}else be.ua=0;var ud=Z,Ch=fe,ag=me,Eh=ud.s,Sh=Eh.xc;if(ud.c=Ch,ud.i=ag,Eh.md=$e(Ch,Sh),Eh.wc=Sh==0?-1:(1<<Sh)-1,H){Z.xb=zp;break e}if((Ie=s(fe*me))==null){Z.a=1,Ae=0;break e}Ae=(Ae=Se(Z,Ie,0,fe,me,me,null))&&!xe.h;break e}return Ae?(ie!=null?ie[0]=Ie:(t(Ie==null),t(H)),Z.$=0,H||Qe(be)):Qe(be),Ae}function ze(C,I){var H=C.c*C.i,Z=H+I+16*I;return t(C.c<=I),C.V=s(Z),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+H+I,1)}function We(C,I){var H=C.C,Z=I-H,ie=C.V,Ae=C.Ba+C.c*H;for(t(I<=C.l.o);0<Z;){var fe=16<Z?16:Z,me=C.l.ma,xe=C.l.width,be=xe*fe,Ie=me.ca,Ge=me.tb+xe*H,He=C.Ta,Me=C.Ua;de(C,fe,ie,Ae),fn(He,Me,Ie,Ge,be),ye(me,H,H+fe,Ie,Ge,xe),Z-=fe,ie+=fe*C.c,H+=fe}t(H==I),C.C=C.Ma=I}function ht(){this.ub=this.yd=this.td=this.Rb=0}function wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function kt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function vt(){this.Yb=function(){var C=[];return function I(H,Z,ie){for(var Ae=ie[Z],fe=0;fe<Ae&&(H.push(ie.length>Z+1?[]:0),!(ie.length<Z+1));fe++)I(H[fe],Z+1,ie)}(C,0,[3,11]),C}()}function _t(){this.jb=s(3),this.Wc=o([4,8],vt),this.Xc=o([4,17],vt)}function Zt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ir(){this.ld=this.La=this.dd=this.tc=0}function Mr(){this.Na=this.la=0}function Wr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ha(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ri(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ir),this.Y=0,this.ya=Array(new Ha),this.aa=0,this.l=new Va}function La(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ns(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new ht,this.Kc=new wt,this.ed=new Zt,this.Qa=new kt,this.Ic=this.$c=this.Aa=0,this.D=new ri,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,ce),this.ia=0,this.pb=i(4,Wr),this.Pa=new _t,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new La),this.Hd=0,this.rb=Array(new Mr),this.sb=0,this.wa=Array(new Ir),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ha),this.L=this.aa=0,this.gd=o([4,2],Ir),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vs(){var C=new ns;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,ca||(ca=af)),C}function Mn(C,I,H){return C.a==0&&(C.a=I,C.sc=H,C.cb=0),0}function as(C,I,H){return 3<=H&&C[I+0]==157&&C[I+1]==1&&C[I+2]==42}function Lu(C,I){if(C==null)return 0;if(C.a=0,C.sc="OK",I==null)return Mn(C,2,"null VP8Io passed to VP8GetHeaders()");var H=I.data,Z=I.w,ie=I.ha;if(4>ie)return Mn(C,7,"Truncated header.");var Ae=H[Z+0]|H[Z+1]<<8|H[Z+2]<<16,fe=C.Od;if(fe.Rb=!(1&Ae),fe.td=Ae>>1&7,fe.yd=Ae>>4&1,fe.ub=Ae>>5,3<fe.td)return Mn(C,3,"Incorrect keyframe parameters.");if(!fe.yd)return Mn(C,4,"Frame not displayable.");Z+=3,ie-=3;var me=C.Kc;if(fe.Rb){if(7>ie)return Mn(C,7,"cannot parse picture header");if(!as(H,Z,ie))return Mn(C,3,"Bad code word");me.c=16383&(H[Z+4]<<8|H[Z+3]),me.Td=H[Z+4]>>6,me.i=16383&(H[Z+6]<<8|H[Z+5]),me.Ud=H[Z+6]>>6,Z+=7,ie-=7,C.za=me.c+15>>4,C.Ub=me.i+15>>4,I.width=me.c,I.height=me.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,a((Ae=C.Pa).jb,0,255,Ae.jb.length),t((Ae=C.Qa)!=null),Ae.Cb=0,Ae.Bb=0,Ae.Fb=1,a(Ae.Zb,0,0,Ae.Zb.length),a(Ae.Lb,0,0,Ae.Lb)}if(fe.ub>ie)return Mn(C,7,"bad partition length");ae(Ae=C.m,H,Z,fe.ub),Z+=fe.ub,ie-=fe.ub,fe.Rb&&(me.Ld=ue(Ae),me.Kd=ue(Ae)),me=C.Qa;var xe,be=C.Pa;if(t(Ae!=null),t(me!=null),me.Cb=ue(Ae),me.Cb){if(me.Bb=ue(Ae),ue(Ae)){for(me.Fb=ue(Ae),xe=0;4>xe;++xe)me.Zb[xe]=ue(Ae)?G(Ae,7):0;for(xe=0;4>xe;++xe)me.Lb[xe]=ue(Ae)?G(Ae,6):0}if(me.Bb)for(xe=0;3>xe;++xe)be.jb[xe]=ue(Ae)?V(Ae,8):255}else me.Bb=0;if(Ae.Ka)return Mn(C,3,"cannot parse segment header");if((me=C.ed).zd=ue(Ae),me.Tb=V(Ae,6),me.wb=V(Ae,3),me.Pc=ue(Ae),me.Pc&&ue(Ae)){for(be=0;4>be;++be)ue(Ae)&&(me.vd[be]=G(Ae,6));for(be=0;4>be;++be)ue(Ae)&&(me.od[be]=G(Ae,6))}if(C.L=me.Tb==0?0:me.zd?1:2,Ae.Ka)return Mn(C,3,"cannot parse filter header");var Ie=ie;if(ie=xe=Z,Z=xe+Ie,me=Ie,C.Xb=(1<<V(C.m,2))-1,Ie<3*(be=C.Xb))H=7;else{for(xe+=3*be,me-=3*be,Ie=0;Ie<be;++Ie){var Ge=H[ie+0]|H[ie+1]<<8|H[ie+2]<<16;Ge>me&&(Ge=me),ae(C.Jc[+Ie],H,xe,Ge),xe+=Ge,me-=Ge,ie+=3}ae(C.Jc[+be],H,xe,me),H=xe<Z?0:5}if(H!=0)return Mn(C,H,"cannot parse partitions");for(H=V(xe=C.m,7),ie=ue(xe)?G(xe,4):0,Z=ue(xe)?G(xe,4):0,me=ue(xe)?G(xe,4):0,be=ue(xe)?G(xe,4):0,xe=ue(xe)?G(xe,4):0,Ie=C.Qa,Ge=0;4>Ge;++Ge){if(Ie.Cb){var He=Ie.Zb[Ge];Ie.Fb||(He+=H)}else{if(0<Ge){C.pb[Ge]=C.pb[0];continue}He=H}var Me=C.pb[Ge];Me.Sc[0]=Xu[Ks(He+ie,127)],Me.Sc[1]=Zu[Ks(He+0,127)],Me.Eb[0]=2*Xu[Ks(He+Z,127)],Me.Eb[1]=101581*Zu[Ks(He+me,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=Xu[Ks(He+be,117)],Me.Qc[1]=Zu[Ks(He+xe,127)],Me.lc=He+xe}if(!fe.Rb)return Mn(C,4,"Not a key frame.");for(ue(Ae),fe=C.Pa,H=0;4>H;++H){for(ie=0;8>ie;++ie)for(Z=0;3>Z;++Z)for(me=0;11>me;++me)be=he(Ae,wc[H][ie][Z][me])?V(Ae,8):Yi[H][ie][Z][me],fe.Wc[H][ie].Yb[Z][me]=be;for(ie=0;17>ie;++ie)fe.Xc[H][ie]=fe.Wc[H][Gp[ie]]}return C.kc=ue(Ae),C.kc&&(C.Bd=V(Ae,8)),C.cb=1}function af(C,I,H,Z,ie,Ae,fe){var me=I[ie].Yb[H];for(H=0;16>ie;++ie){if(!he(C,me[H+0]))return ie;for(;!he(C,me[H+1]);)if(me=I[++ie].Yb[0],H=0,ie==16)return 16;var xe=I[ie+1].Yb;if(he(C,me[H+2])){var be=C,Ie=0;if(he(be,(He=me)[(Ge=H)+3]))if(he(be,He[Ge+6])){for(me=0,Ge=2*(Ie=he(be,He[Ge+8]))+(He=he(be,He[Ge+9+Ie])),Ie=0,He=On[Ge];He[me];++me)Ie+=Ie+he(be,He[me]);Ie+=3+(8<<Ge)}else he(be,He[Ge+7])?(Ie=7+2*he(be,165),Ie+=he(be,145)):Ie=5+he(be,159);else Ie=he(be,He[Ge+4])?3+he(be,He[Ge+5]):2;me=xe[2]}else Ie=1,me=xe[1];xe=fe+Vr[ie],0>(be=C).b&&le(be);var Ge,He=be.b,Me=(Ge=be.Ca>>1)-(be.I>>He)>>31;--be.b,be.Ca+=Me,be.Ca|=1,be.I-=(Ge+1&Me)<<He,Ae[xe]=((Ie^Me)-Me)*Z[(0<ie)+0]}return 16}function cl(C){var I=C.rb[C.sb-1];I.la=0,I.Na=0,a(C.zc,0,0,C.zc.length),C.ja=0}function sf(C,I){if(C==null)return 0;if(I==null)return Mn(C,2,"NULL VP8Io parameter in VP8Decode().");if(!C.cb&&!Lu(C,I))return 0;if(t(C.cb),I.ac==null||I.ac(I)){I.ob&&(C.L=0);var H=Po[C.L];if(C.L==2?(C.yb=0,C.zb=0):(C.yb=I.v-H>>4,C.zb=I.j-H>>4,0>C.yb&&(C.yb=0),0>C.zb&&(C.zb=0)),C.Va=I.o+15+H>>4,C.Hb=I.va+15+H>>4,C.Hb>C.za&&(C.Hb=C.za),C.Va>C.Ub&&(C.Va=C.Ub),0<C.L){var Z=C.ed;for(H=0;4>H;++H){var ie;if(C.Qa.Cb){var Ae=C.Qa.Lb[H];C.Qa.Fb||(Ae+=Z.Tb)}else Ae=Z.Tb;for(ie=0;1>=ie;++ie){var fe=C.gd[H][ie],me=Ae;if(Z.Pc&&(me+=Z.vd[0],ie&&(me+=Z.od[0])),0<(me=0>me?0:63<me?63:me)){var xe=me;0<Z.wb&&(xe=4<Z.wb?xe>>2:xe>>1)>9-Z.wb&&(xe=9-Z.wb),1>xe&&(xe=1),fe.dd=xe,fe.tc=2*me+xe,fe.ld=40<=me?2:15<=me?1:0}else fe.tc=0;fe.La=ie}}}H=0}else Mn(C,6,"Frame setup failed"),H=C.a;if(H=H==0){if(H){C.$c=0,0<C.Aa||(C.Ic=qp);e:{H=C.Ic,Z=4*(xe=C.za);var be=32*xe,Ie=xe+1,Ge=0<C.L?xe*(0<C.Aa?2:1):0,He=(C.Aa==2?2:1)*xe;if((fe=Z+832+(ie=3*(16*H+Po[C.L])/2*be)+(Ae=C.Fa!=null&&0<C.Fa.length?C.Kc.c*C.Kc.i:0))!=fe)H=0;else{if(fe>C.Vb){if(C.Vb=0,C.Ec=s(fe),C.Fc=0,C.Ec==null){H=Mn(C,1,"no memory during frame initialization.");break e}C.Vb=fe}fe=C.Ec,me=C.Fc,C.Ac=fe,C.Bc=me,me+=Z,C.Gd=i(be,La),C.Hd=0,C.rb=i(Ie+1,Mr),C.sb=1,C.wa=Ge?i(Ge,Ir):null,C.Y=0,C.D.Nb=0,C.D.wa=C.wa,C.D.Y=C.Y,0<C.Aa&&(C.D.Y+=xe),t(!0),C.oc=fe,C.pc=me,me+=832,C.ya=i(He,Ha),C.aa=0,C.D.ya=C.ya,C.D.aa=C.aa,C.Aa==2&&(C.D.aa+=xe),C.R=16*xe,C.B=8*xe,xe=(be=Po[C.L])*C.R,be=be/2*C.B,C.sa=fe,C.ta=me+xe,C.qa=C.sa,C.ra=C.ta+16*H*C.R+be,C.Ha=C.qa,C.Ia=C.ra+8*H*C.B+be,C.$c=0,me+=ie,C.mb=Ae?fe:null,C.nb=Ae?me:null,t(me+Ae<=C.Fc+C.Vb),cl(C),a(C.Ac,C.Bc,0,Z),H=1}}if(H){if(I.ka=0,I.y=C.sa,I.O=C.ta,I.f=C.qa,I.N=C.ra,I.ea=C.Ha,I.Vd=C.Ia,I.fa=C.R,I.Rc=C.B,I.F=null,I.J=0,!Fo){for(H=-255;255>=H;++H)zn[255+H]=0>H?-H:H;for(H=-1020;1020>=H;++H)ii[1020+H]=-128>H?-128:127<H?127:H;for(H=-112;112>=H;++H)Bl[112+H]=-16>H?-16:15<H?15:H;for(H=-255;510>=H;++H)Nl[255+H]=0>H?0:255<H?255:H;Fo=1}qi=Al,Ei=Mu,Si=bo,Xn=of,ys=Pu,Pn=Ru,fc=oc,Wi=lc,wA=ch,bl=Vu,Cl=lh,El=uA,hc=dA,yA=ff,Sl=hl,ko=zs,mc=Ki,jn=oh,is[0]=xs,is[1]=lf,is[2]=Qu,is[3]=Af,is[4]=ni,is[5]=Vi,is[6]=oA,is[7]=ai,is[8]=lA,is[9]=Hu,Ro[0]=iA,Ro[1]=Ou,Ro[2]=Co,Ro[3]=sA,Ro[4]=Ea,Ro[5]=ul,Ro[6]=So,$s[0]=Bo,$s[1]=cf,$s[2]=uf,$s[3]=dl,$s[4]=Gs,$s[5]=Ga,$s[6]=fl,H=1}else H=0}H&&(H=function(Me,ct){for(Me.M=0;Me.M<Me.Va;++Me.M){var Ze,Ue=Me.Jc[Me.M&Me.Xb],Le=Me.m,nt=Me;for(Ze=0;Ze<nt.za;++Ze){var At=Le,ot=nt,It=ot.Ac,St=ot.Bc+4*Ze,Gt=ot.zc,Bt=ot.ya[ot.aa+Ze];if(ot.Qa.Bb?Bt.$b=he(At,ot.Pa.jb[0])?2+he(At,ot.Pa.jb[2]):he(At,ot.Pa.jb[1]):Bt.$b=0,ot.kc&&(Bt.Ad=he(At,ot.Bd)),Bt.Za=!he(At,145)+0,Bt.Za){var Or=Bt.Ob,$r=0;for(ot=0;4>ot;++ot){var br,vr=Gt[0+ot];for(br=0;4>br;++br){vr=dh[It[St+br]][vr];for(var tn=Tl[he(At,vr[0])];0<tn;)tn=Tl[2*tn+he(At,vr[tn])];vr=-tn,It[St+br]=vr}n(Or,$r,It,St,4),$r+=4,Gt[0+ot]=vr}}else vr=he(At,156)?he(At,128)?1:3:he(At,163)?2:0,Bt.Ob[0]=vr,a(It,St,vr,4),a(Gt,0,vr,4);Bt.Dd=he(At,142)?he(At,114)?he(At,183)?1:3:2:0}if(nt.m.Ka)return Mn(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(nt=Ue,At=(Le=Me).rb[Le.sb-1],It=Le.rb[Le.sb+Le.ja],Ze=Le.ya[Le.aa+Le.ja],St=Le.kc?Ze.Ad:0)At.la=It.la=0,Ze.Za||(At.Na=It.Na=0),Ze.Hc=0,Ze.Gc=0,Ze.ia=0;else{var Yr,dr;if(At=It,It=nt,St=Le.Pa.Xc,Gt=Le.ya[Le.aa+Le.ja],Bt=Le.pb[Gt.$b],ot=Gt.ad,Or=0,$r=Le.rb[Le.sb-1],vr=br=0,a(ot,Or,0,384),Gt.Za)var an=0,Jt=St[3];else{tn=s(16);var nr=At.Na+$r.Na;if(nr=ca(It,St[1],nr,Bt.Eb,0,tn,0),At.Na=$r.Na=(0<nr)+0,1<nr)qi(tn,0,ot,Or);else{var Pr=tn[0]+3>>3;for(tn=0;256>tn;tn+=16)ot[Or+tn]=Pr}an=1,Jt=St[0]}var Qr=15&At.la,Ta=15&$r.la;for(tn=0;4>tn;++tn){var da=1&Ta;for(Pr=dr=0;4>Pr;++Pr)Qr=Qr>>1|(da=(nr=ca(It,Jt,nr=da+(1&Qr),Bt.Sc,an,ot,Or))>an)<<7,dr=dr<<2|(3<nr?3:1<nr?2:ot[Or+0]!=0),Or+=16;Qr>>=4,Ta=Ta>>1|da<<7,br=(br<<8|dr)>>>0}for(Jt=Qr,an=Ta>>4,Yr=0;4>Yr;Yr+=2){for(dr=0,Qr=At.la>>4+Yr,Ta=$r.la>>4+Yr,tn=0;2>tn;++tn){for(da=1&Ta,Pr=0;2>Pr;++Pr)nr=da+(1&Qr),Qr=Qr>>1|(da=0<(nr=ca(It,St[2],nr,Bt.Qc,0,ot,Or)))<<3,dr=dr<<2|(3<nr?3:1<nr?2:ot[Or+0]!=0),Or+=16;Qr>>=2,Ta=Ta>>1|da<<5}vr|=dr<<4*Yr,Jt|=Qr<<4<<Yr,an|=(240&Ta)<<Yr}At.la=Jt,$r.la=an,Gt.Hc=br,Gt.Gc=vr,Gt.ia=43690&vr?0:Bt.ia,St=!(br|vr)}if(0<Le.L&&(Le.wa[Le.Y+Le.ja]=Le.gd[Ze.$b][Ze.Za],Le.wa[Le.Y+Le.ja].La|=!St),nt.Ka)return Mn(Me,7,"Premature end-of-file encountered.")}if(cl(Me),Le=ct,nt=1,Ze=(Ue=Me).D,At=0<Ue.L&&Ue.M>=Ue.zb&&Ue.M<=Ue.Va,Ue.Aa==0)e:{if(Ze.M=Ue.M,Ze.uc=At,_o(Ue,Ze),nt=1,Ze=(dr=Ue.D).Nb,At=(vr=Po[Ue.L])*Ue.R,It=vr/2*Ue.B,tn=16*Ze*Ue.R,Pr=8*Ze*Ue.B,St=Ue.sa,Gt=Ue.ta-At+tn,Bt=Ue.qa,ot=Ue.ra-It+Pr,Or=Ue.Ha,$r=Ue.Ia-It+Pr,Ta=(Qr=dr.M)==0,br=Qr>=Ue.Va-1,Ue.Aa==2&&_o(Ue,dr),dr.uc)for(da=(nr=Ue).D.M,t(nr.D.uc),dr=nr.yb;dr<nr.Hb;++dr){an=dr,Jt=da;var Kn=(qn=(Sn=nr).D).Nb;Yr=Sn.R;var qn=qn.wa[qn.Y+an],Zn=Sn.sa,ci=Sn.ta+16*Kn*Yr+16*an,Jr=qn.dd,ea=qn.tc;if(ea!=0)if(t(3<=ea),Sn.L==1)0<an&&ko(Zn,ci,Yr,ea+4),qn.La&&jn(Zn,ci,Yr,ea),0<Jt&&Sl(Zn,ci,Yr,ea+4),qn.La&&mc(Zn,ci,Yr,ea);else{var Bi=Sn.B,Il=Sn.qa,bc=Sn.ra+8*Kn*Bi+8*an,Ul=Sn.Ha,Sn=Sn.Ia+8*Kn*Bi+8*an;Kn=qn.ld,0<an&&(Wi(Zn,ci,Yr,ea+4,Jr,Kn),bl(Il,bc,Ul,Sn,Bi,ea+4,Jr,Kn)),qn.La&&(El(Zn,ci,Yr,ea,Jr,Kn),yA(Il,bc,Ul,Sn,Bi,ea,Jr,Kn)),0<Jt&&(fc(Zn,ci,Yr,ea+4,Jr,Kn),wA(Il,bc,Ul,Sn,Bi,ea+4,Jr,Kn)),qn.La&&(Cl(Zn,ci,Yr,ea,Jr,Kn),hc(Il,bc,Ul,Sn,Bi,ea,Jr,Kn))}}if(Ue.ia&&alert("todo:DitherRow"),Le.put!=null){if(dr=16*Qr,Qr=16*(Qr+1),Ta?(Le.y=Ue.sa,Le.O=Ue.ta+tn,Le.f=Ue.qa,Le.N=Ue.ra+Pr,Le.ea=Ue.Ha,Le.W=Ue.Ia+Pr):(dr-=vr,Le.y=St,Le.O=Gt,Le.f=Bt,Le.N=ot,Le.ea=Or,Le.W=$r),br||(Qr-=vr),Qr>Le.o&&(Qr=Le.o),Le.F=null,Le.J=null,Ue.Fa!=null&&0<Ue.Fa.length&&dr<Qr&&(Le.J=Ku(Ue,Le,dr,Qr-dr),Le.F=Ue.mb,Le.F==null&&Le.F.length==0)){nt=Mn(Ue,3,"Could not decode alpha data.");break e}dr<Le.j&&(vr=Le.j-dr,dr=Le.j,t(!(1&vr)),Le.O+=Ue.R*vr,Le.N+=Ue.B*(vr>>1),Le.W+=Ue.B*(vr>>1),Le.F!=null&&(Le.J+=Le.width*vr)),dr<Qr&&(Le.O+=Le.v,Le.N+=Le.v>>1,Le.W+=Le.v>>1,Le.F!=null&&(Le.J+=Le.v),Le.ka=dr-Le.j,Le.U=Le.va-Le.v,Le.T=Qr-dr,nt=Le.put(Le))}Ze+1!=Ue.Ic||br||(n(Ue.sa,Ue.ta-At,St,Gt+16*Ue.R,At),n(Ue.qa,Ue.ra-It,Bt,ot+8*Ue.B,It),n(Ue.Ha,Ue.Ia-It,Or,$r+8*Ue.B,It))}if(!nt)return Mn(Me,6,"Output aborted.")}return 1}(C,I)),I.bc!=null&&I.bc(I),H&=1}return H?(C.cb=0,H):0}function gs(C,I,H,Z,ie){ie=C[I+H+32*Z]+(ie>>3),C[I+H+32*Z]=-256&ie?0>ie?0:255:ie}function aA(C,I,H,Z,ie,Ae){gs(C,I,0,H,Z+ie),gs(C,I,1,H,Z+Ae),gs(C,I,2,H,Z-Ae),gs(C,I,3,H,Z-ie)}function vn(C){return(20091*C>>16)+C}function ic(C,I,H,Z){var ie,Ae=0,fe=s(16);for(ie=0;4>ie;++ie){var me=C[I+0]+C[I+8],xe=C[I+0]-C[I+8],be=(35468*C[I+4]>>16)-vn(C[I+12]),Ie=vn(C[I+4])+(35468*C[I+12]>>16);fe[Ae+0]=me+Ie,fe[Ae+1]=xe+be,fe[Ae+2]=xe-be,fe[Ae+3]=me-Ie,Ae+=4,I++}for(ie=Ae=0;4>ie;++ie)me=(C=fe[Ae+0]+4)+fe[Ae+8],xe=C-fe[Ae+8],be=(35468*fe[Ae+4]>>16)-vn(fe[Ae+12]),gs(H,Z,0,0,me+(Ie=vn(fe[Ae+4])+(35468*fe[Ae+12]>>16))),gs(H,Z,1,0,xe+be),gs(H,Z,2,0,xe-be),gs(H,Z,3,0,me-Ie),Ae++,Z+=32}function Ru(C,I,H,Z){var ie=C[I+0]+4,Ae=35468*C[I+4]>>16,fe=vn(C[I+4]),me=35468*C[I+1]>>16;aA(H,Z,0,ie+fe,C=vn(C[I+1]),me),aA(H,Z,1,ie+Ae,C,me),aA(H,Z,2,ie-Ae,C,me),aA(H,Z,3,ie-fe,C,me)}function Mu(C,I,H,Z,ie){ic(C,I,H,Z),ie&&ic(C,I+16,H,Z+4)}function bo(C,I,H,Z){Ei(C,I+0,H,Z,1),Ei(C,I+32,H,Z+128,1)}function of(C,I,H,Z){var ie;for(C=C[I+0]+4,ie=0;4>ie;++ie)for(I=0;4>I;++I)gs(H,Z,I,ie,C)}function Pu(C,I,H,Z){C[I+0]&&Xn(C,I+0,H,Z),C[I+16]&&Xn(C,I+16,H,Z+4),C[I+32]&&Xn(C,I+32,H,Z+128),C[I+48]&&Xn(C,I+48,H,Z+128+4)}function Al(C,I,H,Z){var ie,Ae=s(16);for(ie=0;4>ie;++ie){var fe=C[I+0+ie]+C[I+12+ie],me=C[I+4+ie]+C[I+8+ie],xe=C[I+4+ie]-C[I+8+ie],be=C[I+0+ie]-C[I+12+ie];Ae[0+ie]=fe+me,Ae[8+ie]=fe-me,Ae[4+ie]=be+xe,Ae[12+ie]=be-xe}for(ie=0;4>ie;++ie)fe=(C=Ae[0+4*ie]+3)+Ae[3+4*ie],me=Ae[1+4*ie]+Ae[2+4*ie],xe=Ae[1+4*ie]-Ae[2+4*ie],be=C-Ae[3+4*ie],H[Z+0]=fe+me>>3,H[Z+16]=be+xe>>3,H[Z+32]=fe-me>>3,H[Z+48]=be-xe>>3,Z+=64}function ju(C,I,H){var Z,ie=I-32,Ae=Na,fe=255-C[ie-1];for(Z=0;Z<H;++Z){var me,xe=Ae,be=fe+C[I-1];for(me=0;me<H;++me)C[I+me]=xe[be+C[ie+me]];I+=32}}function lf(C,I){ju(C,I,4)}function cf(C,I){ju(C,I,8)}function Ou(C,I){ju(C,I,16)}function Co(C,I){var H;for(H=0;16>H;++H)n(C,I+32*H,C,I-32,16)}function sA(C,I){var H;for(H=16;0<H;--H)a(C,I,C[I-1],16),I+=32}function Eo(C,I,H){var Z;for(Z=0;16>Z;++Z)a(I,H+32*Z,C,16)}function iA(C,I){var H,Z=16;for(H=0;16>H;++H)Z+=C[I-1+32*H]+C[I+H-32];Eo(Z>>5,C,I)}function Ea(C,I){var H,Z=8;for(H=0;16>H;++H)Z+=C[I-1+32*H];Eo(Z>>4,C,I)}function ul(C,I){var H,Z=8;for(H=0;16>H;++H)Z+=C[I+H-32];Eo(Z>>4,C,I)}function So(C,I){Eo(128,C,I)}function or(C,I,H){return C+2*I+H+2>>2}function Qu(C,I){var H,Z=I-32;for(Z=new Uint8Array([or(C[Z-1],C[Z+0],C[Z+1]),or(C[Z+0],C[Z+1],C[Z+2]),or(C[Z+1],C[Z+2],C[Z+3]),or(C[Z+2],C[Z+3],C[Z+4])]),H=0;4>H;++H)n(C,I+32*H,Z,0,Z.length)}function Af(C,I){var H=C[I-1],Z=C[I-1+32],ie=C[I-1+64],Ae=C[I-1+96];Ne(C,I+0,16843009*or(C[I-1-32],H,Z)),Ne(C,I+32,16843009*or(H,Z,ie)),Ne(C,I+64,16843009*or(Z,ie,Ae)),Ne(C,I+96,16843009*or(ie,Ae,Ae))}function xs(C,I){var H,Z=4;for(H=0;4>H;++H)Z+=C[I+H-32]+C[I-1+32*H];for(Z>>=3,H=0;4>H;++H)a(C,I+32*H,Z,4)}function ni(C,I){var H=C[I-1+0],Z=C[I-1+32],ie=C[I-1+64],Ae=C[I-1-32],fe=C[I+0-32],me=C[I+1-32],xe=C[I+2-32],be=C[I+3-32];C[I+0+96]=or(Z,ie,C[I-1+96]),C[I+1+96]=C[I+0+64]=or(H,Z,ie),C[I+2+96]=C[I+1+64]=C[I+0+32]=or(Ae,H,Z),C[I+3+96]=C[I+2+64]=C[I+1+32]=C[I+0+0]=or(fe,Ae,H),C[I+3+64]=C[I+2+32]=C[I+1+0]=or(me,fe,Ae),C[I+3+32]=C[I+2+0]=or(xe,me,fe),C[I+3+0]=or(be,xe,me)}function oA(C,I){var H=C[I+1-32],Z=C[I+2-32],ie=C[I+3-32],Ae=C[I+4-32],fe=C[I+5-32],me=C[I+6-32],xe=C[I+7-32];C[I+0+0]=or(C[I+0-32],H,Z),C[I+1+0]=C[I+0+32]=or(H,Z,ie),C[I+2+0]=C[I+1+32]=C[I+0+64]=or(Z,ie,Ae),C[I+3+0]=C[I+2+32]=C[I+1+64]=C[I+0+96]=or(ie,Ae,fe),C[I+3+32]=C[I+2+64]=C[I+1+96]=or(Ae,fe,me),C[I+3+64]=C[I+2+96]=or(fe,me,xe),C[I+3+96]=or(me,xe,xe)}function Vi(C,I){var H=C[I-1+0],Z=C[I-1+32],ie=C[I-1+64],Ae=C[I-1-32],fe=C[I+0-32],me=C[I+1-32],xe=C[I+2-32],be=C[I+3-32];C[I+0+0]=C[I+1+64]=Ae+fe+1>>1,C[I+1+0]=C[I+2+64]=fe+me+1>>1,C[I+2+0]=C[I+3+64]=me+xe+1>>1,C[I+3+0]=xe+be+1>>1,C[I+0+96]=or(ie,Z,H),C[I+0+64]=or(Z,H,Ae),C[I+0+32]=C[I+1+96]=or(H,Ae,fe),C[I+1+32]=C[I+2+96]=or(Ae,fe,me),C[I+2+32]=C[I+3+96]=or(fe,me,xe),C[I+3+32]=or(me,xe,be)}function ai(C,I){var H=C[I+0-32],Z=C[I+1-32],ie=C[I+2-32],Ae=C[I+3-32],fe=C[I+4-32],me=C[I+5-32],xe=C[I+6-32],be=C[I+7-32];C[I+0+0]=H+Z+1>>1,C[I+1+0]=C[I+0+64]=Z+ie+1>>1,C[I+2+0]=C[I+1+64]=ie+Ae+1>>1,C[I+3+0]=C[I+2+64]=Ae+fe+1>>1,C[I+0+32]=or(H,Z,ie),C[I+1+32]=C[I+0+96]=or(Z,ie,Ae),C[I+2+32]=C[I+1+96]=or(ie,Ae,fe),C[I+3+32]=C[I+2+96]=or(Ae,fe,me),C[I+3+64]=or(fe,me,xe),C[I+3+96]=or(me,xe,be)}function Hu(C,I){var H=C[I-1+0],Z=C[I-1+32],ie=C[I-1+64],Ae=C[I-1+96];C[I+0+0]=H+Z+1>>1,C[I+2+0]=C[I+0+32]=Z+ie+1>>1,C[I+2+32]=C[I+0+64]=ie+Ae+1>>1,C[I+1+0]=or(H,Z,ie),C[I+3+0]=C[I+1+32]=or(Z,ie,Ae),C[I+3+32]=C[I+1+64]=or(ie,Ae,Ae),C[I+3+64]=C[I+2+64]=C[I+0+96]=C[I+1+96]=C[I+2+96]=C[I+3+96]=Ae}function lA(C,I){var H=C[I-1+0],Z=C[I-1+32],ie=C[I-1+64],Ae=C[I-1+96],fe=C[I-1-32],me=C[I+0-32],xe=C[I+1-32],be=C[I+2-32];C[I+0+0]=C[I+2+32]=H+fe+1>>1,C[I+0+32]=C[I+2+64]=Z+H+1>>1,C[I+0+64]=C[I+2+96]=ie+Z+1>>1,C[I+0+96]=Ae+ie+1>>1,C[I+3+0]=or(me,xe,be),C[I+2+0]=or(fe,me,xe),C[I+1+0]=C[I+3+32]=or(H,fe,me),C[I+1+32]=C[I+3+64]=or(Z,H,fe),C[I+1+64]=C[I+3+96]=or(ie,Z,H),C[I+1+96]=or(Ae,ie,Z)}function uf(C,I){var H;for(H=0;8>H;++H)n(C,I+32*H,C,I-32,8)}function dl(C,I){var H;for(H=0;8>H;++H)a(C,I,C[I-1],8),I+=32}function Gi(C,I,H){var Z;for(Z=0;8>Z;++Z)a(I,H+32*Z,C,8)}function Bo(C,I){var H,Z=8;for(H=0;8>H;++H)Z+=C[I+H-32]+C[I-1+32*H];Gi(Z>>4,C,I)}function Ga(C,I){var H,Z=4;for(H=0;8>H;++H)Z+=C[I+H-32];Gi(Z>>3,C,I)}function Gs(C,I){var H,Z=4;for(H=0;8>H;++H)Z+=C[I-1+32*H];Gi(Z>>3,C,I)}function fl(C,I){Gi(128,C,I)}function zi(C,I,H){var Z=C[I-H],ie=C[I+0],Ae=3*(ie-Z)+mf[1020+C[I-2*H]-C[I+H]],fe=pc[112+(Ae+4>>3)];C[I-H]=Na[255+Z+pc[112+(Ae+3>>3)]],C[I+0]=Na[255+ie-fe]}function df(C,I,H,Z){var ie=C[I+0],Ae=C[I+H];return oi[255+C[I-2*H]-C[I-H]]>Z||oi[255+Ae-ie]>Z}function cA(C,I,H,Z){return 4*oi[255+C[I-H]-C[I+0]]+oi[255+C[I-2*H]-C[I+H]]<=Z}function AA(C,I,H,Z,ie){var Ae=C[I-3*H],fe=C[I-2*H],me=C[I-H],xe=C[I+0],be=C[I+H],Ie=C[I+2*H],Ge=C[I+3*H];return 4*oi[255+me-xe]+oi[255+fe-be]>Z?0:oi[255+C[I-4*H]-Ae]<=ie&&oi[255+Ae-fe]<=ie&&oi[255+fe-me]<=ie&&oi[255+Ge-Ie]<=ie&&oi[255+Ie-be]<=ie&&oi[255+be-xe]<=ie}function hl(C,I,H,Z){var ie=2*Z+1;for(Z=0;16>Z;++Z)cA(C,I+Z,H,ie)&&zi(C,I+Z,H)}function zs(C,I,H,Z){var ie=2*Z+1;for(Z=0;16>Z;++Z)cA(C,I+Z*H,1,ie)&&zi(C,I+Z*H,1)}function Ki(C,I,H,Z){var ie;for(ie=3;0<ie;--ie)hl(C,I+=4*H,H,Z)}function oh(C,I,H,Z){var ie;for(ie=3;0<ie;--ie)zs(C,I+=4,H,Z)}function ml(C,I,H,Z,ie,Ae,fe,me){for(Ae=2*Ae+1;0<ie--;){if(AA(C,I,H,Ae,fe))if(df(C,I,H,me))zi(C,I,H);else{var xe=C,be=I,Ie=H,Ge=xe[be-2*Ie],He=xe[be-Ie],Me=xe[be+0],ct=xe[be+Ie],Ze=xe[be+2*Ie],Ue=27*(nt=mf[1020+3*(Me-He)+mf[1020+Ge-ct]])+63>>7,Le=18*nt+63>>7,nt=9*nt+63>>7;xe[be-3*Ie]=Na[255+xe[be-3*Ie]+nt],xe[be-2*Ie]=Na[255+Ge+Le],xe[be-Ie]=Na[255+He+Ue],xe[be+0]=Na[255+Me-Ue],xe[be+Ie]=Na[255+ct-Le],xe[be+2*Ie]=Na[255+Ze-nt]}I+=Z}}function wi(C,I,H,Z,ie,Ae,fe,me){for(Ae=2*Ae+1;0<ie--;){if(AA(C,I,H,Ae,fe))if(df(C,I,H,me))zi(C,I,H);else{var xe=C,be=I,Ie=H,Ge=xe[be-Ie],He=xe[be+0],Me=xe[be+Ie],ct=pc[112+((Ze=3*(He-Ge))+4>>3)],Ze=pc[112+(Ze+3>>3)],Ue=ct+1>>1;xe[be-2*Ie]=Na[255+xe[be-2*Ie]+Ue],xe[be-Ie]=Na[255+Ge+Ze],xe[be+0]=Na[255+He-ct],xe[be+Ie]=Na[255+Me-Ue]}I+=Z}}function oc(C,I,H,Z,ie,Ae){ml(C,I,H,1,16,Z,ie,Ae)}function lc(C,I,H,Z,ie,Ae){ml(C,I,1,H,16,Z,ie,Ae)}function lh(C,I,H,Z,ie,Ae){var fe;for(fe=3;0<fe;--fe)wi(C,I+=4*H,H,1,16,Z,ie,Ae)}function uA(C,I,H,Z,ie,Ae){var fe;for(fe=3;0<fe;--fe)wi(C,I+=4,1,H,16,Z,ie,Ae)}function ch(C,I,H,Z,ie,Ae,fe,me){ml(C,I,ie,1,8,Ae,fe,me),ml(H,Z,ie,1,8,Ae,fe,me)}function Vu(C,I,H,Z,ie,Ae,fe,me){ml(C,I,1,ie,8,Ae,fe,me),ml(H,Z,1,ie,8,Ae,fe,me)}function dA(C,I,H,Z,ie,Ae,fe,me){wi(C,I+4*ie,ie,1,8,Ae,fe,me),wi(H,Z+4*ie,ie,1,8,Ae,fe,me)}function ff(C,I,H,Z,ie,Ae,fe,me){wi(C,I+4,1,ie,8,Ae,fe,me),wi(H,Z+4,1,ie,8,Ae,fe,me)}function fA(){this.ba=new oa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Gu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hA(){this.ua=0,this.Wa=new we,this.vb=new we,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new M}function Ah(){this.xb=this.a=0,this.l=new Va,this.ca=new oa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hA,this.ab=0,this.gc=i(4,zu),this.Oc=0}function mA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cc(C,I,H,Z,ie,Ae,fe){for(C=C==null?0:C[I+0],I=0;I<fe;++I)ie[Ae+I]=C+H[Z+I]&255,C=ie[Ae+I]}function pA(C,I,H,Z,ie,Ae,fe){var me;if(C==null)cc(null,null,H,Z,ie,Ae,fe);else for(me=0;me<fe;++me)ie[Ae+me]=C[I+me]+H[Z+me]&255}function pl(C,I,H,Z,ie,Ae,fe){if(C==null)cc(null,null,H,Z,ie,Ae,fe);else{var me,xe=C[I+0],be=xe,Ie=xe;for(me=0;me<fe;++me)be=Ie+(xe=C[I+me])-be,Ie=H[Z+me]+(-256&be?0>be?0:255:be)&255,be=xe,ie[Ae+me]=Ie}}function Ku(C,I,H,Z){var ie=I.width,Ae=I.o;if(t(C!=null&&I!=null),0>H||0>=Z||H+Z>Ae)return null;if(!C.Cc){if(C.ga==null){var fe;if(C.ga=new mA,(fe=C.ga==null)||(fe=I.width*I.o,t(C.Gb.length==0),C.Gb=s(fe),C.Uc=0,C.Gb==null?fe=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,fe=1),fe=!fe),!fe){fe=C.ga;var me=C.Fa,xe=C.P,be=C.qc,Ie=C.mb,Ge=C.nb,He=xe+1,Me=be-1,ct=fe.l;if(t(me!=null&&Ie!=null&&I!=null),Ji[0]=null,Ji[1]=cc,Ji[2]=pA,Ji[3]=pl,fe.ca=Ie,fe.tb=Ge,fe.c=I.width,fe.i=I.height,t(0<fe.c&&0<fe.i),1>=be)I=0;else if(fe.$a=me[xe+0]>>0&3,fe.Z=me[xe+0]>>2&3,fe.Lc=me[xe+0]>>4&3,xe=me[xe+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||xe)I=0;else if(ct.put=rs,ct.ac=_n,ct.bc=ps,ct.ma=fe,ct.width=I.width,ct.height=I.height,ct.Da=I.Da,ct.v=I.v,ct.va=I.va,ct.j=I.j,ct.o=I.o,fe.$a)e:{t(fe.$a==1),I=Xe();t:for(;;){if(I==null){I=0;break e}if(t(fe!=null),fe.mc=I,I.c=fe.c,I.i=fe.i,I.l=fe.l,I.l.ma=fe,I.l.width=fe.c,I.l.height=fe.i,I.a=0,re(I.m,me,He,Me),!Re(fe.c,fe.i,1,I,null)||(I.ab==1&&I.gc[0].hc==3&&ve(I.s)?(fe.ic=1,me=I.c*I.i,I.Ta=null,I.Ua=0,I.V=s(me),I.Ba=0,I.V==null?(I.a=1,I=0):I=1):(fe.ic=0,I=ze(I,fe.c)),!I))break t;I=1;break e}fe.mc=null,I=0}else I=Me>=fe.c*fe.i;fe=!I}if(fe)return null;C.ga.Lc!=1?C.Ga=0:Z=Ae-H}t(C.ga!=null),t(H+Z<=Ae);e:{if(I=(me=C.ga).c,Ae=me.l.o,me.$a==0){if(He=C.rc,Me=C.Vc,ct=C.Fa,xe=C.P+1+H*I,be=C.mb,Ie=C.nb+H*I,t(xe<=C.P+C.qc),me.Z!=0)for(t(Ji[me.Z]!=null),fe=0;fe<Z;++fe)Ji[me.Z](He,Me,ct,xe,be,Ie,I),He=be,Me=Ie,Ie+=I,xe+=I;else for(fe=0;fe<Z;++fe)n(be,Ie,ct,xe,I),He=be,Me=Ie,Ie+=I,xe+=I;C.rc=He,C.Vc=Me}else{if(t(me.mc!=null),I=H+Z,t((fe=me.mc)!=null),t(I<=fe.i),fe.C>=I)I=1;else if(me.ic||Oe(),me.ic){me=fe.V,He=fe.Ba,Me=fe.c;var Ze=fe.i,Ue=(ct=1,xe=fe.$/Me,be=fe.$%Me,Ie=fe.m,Ge=fe.s,fe.$),Le=Me*Ze,nt=Me*I,At=Ge.wc,ot=Ue<nt?Cn(Ge,be,xe):null;t(Ue<=Le),t(I<=Ze),t(ve(Ge));t:for(;;){for(;!Ie.h&&Ue<nt;){if(be&At||(ot=Cn(Ge,be,xe)),t(ot!=null),ne(Ie),256>(Ze=Tn(ot.G[0],ot.H[0],Ie)))me[He+Ue]=Ze,++Ue,++be>=Me&&(be=0,++xe<=I&&!(xe%16)&&Ce(fe,xe));else{if(!(280>Ze)){ct=0;break t}Ze=qr(Ze-256,Ie);var It,St=Tn(ot.G[4],ot.H[4],Ie);if(ne(Ie),!(Ue>=(St=en(Me,St=qr(St,Ie)))&&Le-Ue>=Ze)){ct=0;break t}for(It=0;It<Ze;++It)me[He+Ue+It]=me[He+Ue+It-St];for(Ue+=Ze,be+=Ze;be>=Me;)be-=Me,++xe<=I&&!(xe%16)&&Ce(fe,xe);Ue<nt&&be&At&&(ot=Cn(Ge,be,xe))}t(Ie.h==q(Ie))}Ce(fe,xe>I?I:xe);break t}!ct||Ie.h&&Ue<Le?(ct=0,fe.a=Ie.h?5:3):fe.$=Ue,I=ct}else I=Se(fe,fe.V,fe.Ba,fe.c,fe.i,I,We);if(!I){Z=0;break e}}H+Z>=Ae&&(C.Cc=1),Z=1}if(!Z)return null;if(C.Cc&&((Z=C.ga)!=null&&(Z.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+H*ie}function j(C,I,H,Z,ie,Ae){for(;0<ie--;){var fe,me=C,xe=I+(H?1:0),be=C,Ie=I+(H?0:3);for(fe=0;fe<Z;++fe){var Ge=be[Ie+4*fe];Ge!=255&&(Ge*=32897,me[xe+4*fe+0]=me[xe+4*fe+0]*Ge>>23,me[xe+4*fe+1]=me[xe+4*fe+1]*Ge>>23,me[xe+4*fe+2]=me[xe+4*fe+2]*Ge>>23)}I+=Ae}}function oe(C,I,H,Z,ie){for(;0<Z--;){var Ae;for(Ae=0;Ae<H;++Ae){var fe=C[I+2*Ae+0],me=15&(be=C[I+2*Ae+1]),xe=4369*me,be=(240&be|be>>4)*xe>>16;C[I+2*Ae+0]=(240&fe|fe>>4)*xe>>16&240|(15&fe|fe<<4)*xe>>16>>4&15,C[I+2*Ae+1]=240&be|me}I+=ie}}function Be(C,I,H,Z,ie,Ae,fe,me){var xe,be,Ie=255;for(be=0;be<ie;++be){for(xe=0;xe<Z;++xe){var Ge=C[I+xe];Ae[fe+4*xe]=Ge,Ie&=Ge}I+=H,fe+=me}return Ie!=255}function Fe(C,I,H,Z,ie){var Ae;for(Ae=0;Ae<ie;++Ae)H[Z+Ae]=C[I+Ae]>>8}function Oe(){qs=j,Cr=oe,Er=Be,fn=Fe}function tt(C,I,H){L[C]=function(Z,ie,Ae,fe,me,xe,be,Ie,Ge,He,Me,ct,Ze,Ue,Le,nt,At){var ot,It=At-1>>1,St=me[xe+0]|be[Ie+0]<<16,Gt=Ge[He+0]|Me[ct+0]<<16;t(Z!=null);var Bt=3*St+Gt+131074>>2;for(I(Z[ie+0],255&Bt,Bt>>16,Ze,Ue),Ae!=null&&(Bt=3*Gt+St+131074>>2,I(Ae[fe+0],255&Bt,Bt>>16,Le,nt)),ot=1;ot<=It;++ot){var Or=me[xe+ot]|be[Ie+ot]<<16,$r=Ge[He+ot]|Me[ct+ot]<<16,br=St+Or+Gt+$r+524296,vr=br+2*(Or+Gt)>>3;Bt=vr+St>>1,St=(br=br+2*(St+$r)>>3)+Or>>1,I(Z[ie+2*ot-1],255&Bt,Bt>>16,Ze,Ue+(2*ot-1)*H),I(Z[ie+2*ot-0],255&St,St>>16,Ze,Ue+(2*ot-0)*H),Ae!=null&&(Bt=br+Gt>>1,St=vr+$r>>1,I(Ae[fe+2*ot-1],255&Bt,Bt>>16,Le,nt+(2*ot-1)*H),I(Ae[fe+2*ot+0],255&St,St>>16,Le,nt+(2*ot+0)*H)),St=Or,Gt=$r}1&At||(Bt=3*St+Gt+131074>>2,I(Z[ie+At-1],255&Bt,Bt>>16,Ze,Ue+(At-1)*H),Ae!=null&&(Bt=3*Gt+St+131074>>2,I(Ae[fe+At-1],255&Bt,Bt>>16,Le,nt+(At-1)*H)))}}function gt(){_a[za]=Mo,_a[bA]=Xi,_a[$i]=kl,_a[Yu]=xf,_a[gc]=vf,_a[Io]=SA,_a[pf]=wf,_a[Ju]=Xi,_a[_l]=xf,_a[Uo]=vf,_a[CA]=SA}function Ft(C){return C&-16384?0>C?0:255:C>>qv}function Ht(C,I){return Ft((19077*C>>8)+(26149*I>>8)-14234)}function fr(C,I,H){return Ft((19077*C>>8)-(6419*I>>8)-(13320*H>>8)+8708)}function Ar(C,I){return Ft((19077*C>>8)+(33050*I>>8)-17685)}function Ur(C,I,H,Z,ie){Z[ie+0]=Ht(C,H),Z[ie+1]=fr(C,I,H),Z[ie+2]=Ar(C,I)}function En(C,I,H,Z,ie){Z[ie+0]=Ar(C,I),Z[ie+1]=fr(C,I,H),Z[ie+2]=Ht(C,H)}function kn(C,I,H,Z,ie){var Ae=fr(C,I,H);I=Ae<<3&224|Ar(C,I)>>3,Z[ie+0]=248&Ht(C,H)|Ae>>5,Z[ie+1]=I}function Vn(C,I,H,Z,ie){var Ae=240&Ar(C,I)|15;Z[ie+0]=240&Ht(C,H)|fr(C,I,H)>>4,Z[ie+1]=Ae}function Gn(C,I,H,Z,ie){Z[ie+0]=255,Ur(C,I,H,Z,ie+1)}function Sa(C,I,H,Z,ie){En(C,I,H,Z,ie),Z[ie+3]=255}function yi(C,I,H,Z,ie){Ur(C,I,H,Z,ie),Z[ie+3]=255}function Ks(C,I){return 0>C?0:C>I?I:C}function bi(C,I,H){L[C]=function(Z,ie,Ae,fe,me,xe,be,Ie,Ge){for(var He=Ie+(-2&Ge)*H;Ie!=He;)I(Z[ie+0],Ae[fe+0],me[xe+0],be,Ie),I(Z[ie+1],Ae[fe+0],me[xe+0],be,Ie+H),ie+=2,++fe,++xe,Ie+=2*H;1&Ge&&I(Z[ie+0],Ae[fe+0],me[xe+0],be,Ie)}}function qu(C,I,H){return H==0?C==0?I==0?6:5:I==0?4:0:H}function No(C,I,H,Z,ie){switch(C>>>30){case 3:Ei(I,H,Z,ie,0);break;case 2:Pn(I,H,Z,ie);break;case 1:Xn(I,H,Z,ie)}}function _o(C,I){var H,Z,ie=I.M,Ae=I.Nb,fe=C.oc,me=C.pc+40,xe=C.oc,be=C.pc+584,Ie=C.oc,Ge=C.pc+600;for(H=0;16>H;++H)fe[me+32*H-1]=129;for(H=0;8>H;++H)xe[be+32*H-1]=129,Ie[Ge+32*H-1]=129;for(0<ie?fe[me-1-32]=xe[be-1-32]=Ie[Ge-1-32]=129:(a(fe,me-32-1,127,21),a(xe,be-32-1,127,9),a(Ie,Ge-32-1,127,9)),Z=0;Z<C.za;++Z){var He=I.ya[I.aa+Z];if(0<Z){for(H=-1;16>H;++H)n(fe,me+32*H-4,fe,me+32*H+12,4);for(H=-1;8>H;++H)n(xe,be+32*H-4,xe,be+32*H+4,4),n(Ie,Ge+32*H-4,Ie,Ge+32*H+4,4)}var Me=C.Gd,ct=C.Hd+Z,Ze=He.ad,Ue=He.Hc;if(0<ie&&(n(fe,me-32,Me[ct].y,0,16),n(xe,be-32,Me[ct].f,0,8),n(Ie,Ge-32,Me[ct].ea,0,8)),He.Za){var Le=fe,nt=me-32+16;for(0<ie&&(Z>=C.za-1?a(Le,nt,Me[ct].y[15],4):n(Le,nt,Me[ct+1].y,0,4)),H=0;4>H;H++)Le[nt+128+H]=Le[nt+256+H]=Le[nt+384+H]=Le[nt+0+H];for(H=0;16>H;++H,Ue<<=2)Le=fe,nt=me+yc[H],is[He.Ob[H]](Le,nt),No(Ue,Ze,16*+H,Le,nt)}else if(Le=qu(Z,ie,He.Ob[0]),Ro[Le](fe,me),Ue!=0)for(H=0;16>H;++H,Ue<<=2)No(Ue,Ze,16*+H,fe,me+yc[H]);for(H=He.Gc,Le=qu(Z,ie,He.Dd),$s[Le](xe,be),$s[Le](Ie,Ge),Ue=Ze,Le=xe,nt=be,255&(He=H>>0)&&(170&He?Si(Ue,256,Le,nt):ys(Ue,256,Le,nt)),He=Ie,Ue=Ge,255&(H>>=8)&&(170&H?Si(Ze,320,He,Ue):ys(Ze,320,He,Ue)),ie<C.Ub-1&&(n(Me[ct].y,0,fe,me+480,16),n(Me[ct].f,0,xe,be+224,8),n(Me[ct].ea,0,Ie,Ge+224,8)),H=8*Ae*C.B,Me=C.sa,ct=C.ta+16*Z+16*Ae*C.R,Ze=C.qa,He=C.ra+8*Z+H,Ue=C.Ha,Le=C.Ia+8*Z+H,H=0;16>H;++H)n(Me,ct+H*C.R,fe,me+32*H,16);for(H=0;8>H;++H)n(Ze,He+H*C.B,xe,be+32*H,8),n(Ue,Le+H*C.B,Ie,Ge+32*H,8)}}function gA(C,I,H,Z,ie,Ae,fe,me,xe){var be=[0],Ie=[0],Ge=0,He=xe!=null?xe.kd:0,Me=xe??new Gu;if(C==null||12>H)return 7;Me.data=C,Me.w=I,Me.ha=H,I=[I],H=[H],Me.gb=[Me.gb];e:{var ct=I,Ze=H,Ue=Me.gb;if(t(C!=null),t(Ze!=null),t(Ue!=null),Ue[0]=0,12<=Ze[0]&&!r(C,ct[0],"RIFF")){if(r(C,ct[0]+8,"WEBP")){Ue=3;break e}var Le=Te(C,ct[0]+4);if(12>Le||4294967286<Le){Ue=3;break e}if(He&&Le>Ze[0]-8){Ue=7;break e}Ue[0]=Le,ct[0]+=12,Ze[0]-=12}Ue=0}if(Ue!=0)return Ue;for(Le=0<Me.gb[0],H=H[0];;){e:{var nt=C;Ze=I,Ue=H;var At=be,ot=Ie,It=ct=[0];if((Bt=Ge=[Ge])[0]=0,8>Ue[0])Ue=7;else{if(!r(nt,Ze[0],"VP8X")){if(Te(nt,Ze[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var St=Te(nt,Ze[0]+8),Gt=1+te(nt,Ze[0]+12);if(2147483648<=Gt*(nt=1+te(nt,Ze[0]+15))){Ue=3;break e}It!=null&&(It[0]=St),At!=null&&(At[0]=Gt),ot!=null&&(ot[0]=nt),Ze[0]+=18,Ue[0]-=18,Bt[0]=1}Ue=0}}if(Ge=Ge[0],ct=ct[0],Ue!=0)return Ue;if(Ze=!!(2&ct),!Le&&Ge)return 3;if(Ae!=null&&(Ae[0]=!!(16&ct)),fe!=null&&(fe[0]=Ze),me!=null&&(me[0]=0),fe=be[0],ct=Ie[0],Ge&&Ze&&xe==null){Ue=0;break}if(4>H){Ue=7;break}if(Le&&Ge||!Le&&!Ge&&!r(C,I[0],"ALPH")){H=[H],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{St=C,Ue=I,Le=H;var Bt=Me.gb;At=Me.na,ot=Me.P,It=Me.Sa,Gt=22,t(St!=null),t(Le!=null),nt=Ue[0];var Or=Le[0];for(t(At!=null),t(It!=null),At[0]=null,ot[0]=null,It[0]=0;;){if(Ue[0]=nt,Le[0]=Or,8>Or){Ue=7;break e}var $r=Te(St,nt+4);if(4294967286<$r){Ue=3;break e}var br=8+$r+1&-2;if(Gt+=br,0<Bt&&Gt>Bt){Ue=3;break e}if(!r(St,nt,"VP8 ")||!r(St,nt,"VP8L")){Ue=0;break e}if(Or[0]<br){Ue=7;break e}r(St,nt,"ALPH")||(At[0]=St,ot[0]=nt+8,It[0]=$r),nt+=br,Or-=br}}if(H=H[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ue!=0)break}H=[H],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(Bt=C,Ue=I,Le=H,At=Me.gb[0],ot=Me.Ja,It=Me.xa,St=Ue[0],nt=!r(Bt,St,"VP8 "),Gt=!r(Bt,St,"VP8L"),t(Bt!=null),t(Le!=null),t(ot!=null),t(It!=null),8>Le[0])Ue=7;else{if(nt||Gt){if(Bt=Te(Bt,St+4),12<=At&&Bt>At-12){Ue=3;break e}if(He&&Bt>Le[0]-8){Ue=7;break e}ot[0]=Bt,Ue[0]+=8,Le[0]-=8,It[0]=Gt}else It[0]=5<=Le[0]&&Bt[St+0]==47&&!(Bt[St+4]>>5),ot[0]=Le[0];Ue=0}if(H=H[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],I=I[0],Ue!=0)break;if(4294967286<Me.Ja)return 3;if(me==null||Ze||(me[0]=Me.xa?2:1),fe=[fe],ct=[ct],Me.xa){if(5>H){Ue=7;break}me=fe,He=ct,Ze=Ae,C==null||5>H?C=0:5<=H&&C[I+0]==47&&!(C[I+4]>>5)?(Le=[0],Bt=[0],At=[0],re(ot=new R,C,I,H),Ot(ot,Le,Bt,At)?(me!=null&&(me[0]=Le[0]),He!=null&&(He[0]=Bt[0]),Ze!=null&&(Ze[0]=At[0]),C=1):C=0):C=0}else{if(10>H){Ue=7;break}me=ct,C==null||10>H||!as(C,I+3,H-3)?C=0:(He=C[I+0]|C[I+1]<<8|C[I+2]<<16,Ze=16383&(C[I+7]<<8|C[I+6]),C=16383&(C[I+9]<<8|C[I+8]),1&He||3<(He>>1&7)||!(He>>4&1)||He>>5>=Me.Ja||!Ze||!C?C=0:(fe&&(fe[0]=Ze),me&&(me[0]=C),C=1))}if(!C||(fe=fe[0],ct=ct[0],Ge&&(be[0]!=fe||Ie[0]!=ct)))return 3;xe!=null&&(xe[0]=Me,xe.offset=I-xe.w,t(4294967286>I-xe.w),t(xe.offset==xe.ha-H));break}return Ue==0||Ue==7&&Ge&&xe==null?(Ae!=null&&(Ae[0]|=Me.na!=null&&0<Me.na.length),Z!=null&&(Z[0]=fe),ie!=null&&(ie[0]=ct),0):Ue}function gl(C,I,H){var Z=I.width,ie=I.height,Ae=0,fe=0,me=Z,xe=ie;if(I.Da=C!=null&&0<C.Da,I.Da&&(me=C.cd,xe=C.bd,Ae=C.v,fe=C.j,11>H||(Ae&=-2,fe&=-2),0>Ae||0>fe||0>=me||0>=xe||Ae+me>Z||fe+xe>ie))return 0;if(I.v=Ae,I.j=fe,I.va=Ae+me,I.o=fe+xe,I.U=me,I.T=xe,I.da=C!=null&&0<C.da,I.da){if(!je(me,xe,H=[C.ib],Ae=[C.hb]))return 0;I.ib=H[0],I.hb=Ae[0]}return I.ob=C!=null&&C.ob,I.Kb=C==null||!C.Sd,I.da&&(I.ob=I.ib<3*Z/4&&I.hb<3*ie/4,I.Kb=0),1}function xA(C){if(C==null)return 2;if(11>C.S){var I=C.f.RGBA;I.fb+=(C.height-1)*I.A,I.A=-I.A}else I=C.f.kb,C=C.height,I.O+=(C-1)*I.fa,I.fa=-I.fa,I.N+=(C-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(C-1>>1)*I.Db,I.Db=-I.Db,I.F!=null&&(I.J+=(C-1)*I.lb,I.lb=-I.lb);return 0}function Ac(C,I,H,Z){if(Z==null||0>=C||0>=I)return 2;if(H!=null){if(H.Da){var ie=H.cd,Ae=H.bd,fe=-2&H.v,me=-2&H.j;if(0>fe||0>me||0>=ie||0>=Ae||fe+ie>C||me+Ae>I)return 2;C=ie,I=Ae}if(H.da){if(!je(C,I,ie=[H.ib],Ae=[H.hb]))return 2;C=ie[0],I=Ae[0]}}Z.width=C,Z.height=I;e:{var xe=Z.width,be=Z.height;if(C=Z.S,0>=xe||0>=be||!(C>=za&&13>C))C=2;else{if(0>=Z.Rd&&Z.sd==null){fe=Ae=ie=I=0;var Ie=(me=xe*Wp[C])*be;if(11>C||(Ae=(be+1)/2*(I=(xe+1)/2),C==12&&(fe=(ie=xe)*be)),(be=s(Ie+2*Ae+fe))==null){C=1;break e}Z.sd=be,11>C?((xe=Z.f.RGBA).eb=be,xe.fb=0,xe.A=me,xe.size=Ie):((xe=Z.f.kb).y=be,xe.O=0,xe.fa=me,xe.Fd=Ie,xe.f=be,xe.N=0+Ie,xe.Ab=I,xe.Cd=Ae,xe.ea=be,xe.W=0+Ie+Ae,xe.Db=I,xe.Ed=Ae,C==12&&(xe.F=be,xe.J=0+Ie+2*Ae),xe.Tc=fe,xe.lb=ie)}if(I=1,ie=Z.S,Ae=Z.width,fe=Z.height,ie>=za&&13>ie)if(11>ie)C=Z.f.RGBA,I&=(me=Math.abs(C.A))*(fe-1)+Ae<=C.size,I&=me>=Ae*Wp[ie],I&=C.eb!=null;else{C=Z.f.kb,me=(Ae+1)/2,Ie=(fe+1)/2,xe=Math.abs(C.fa),be=Math.abs(C.Ab);var Ge=Math.abs(C.Db),He=Math.abs(C.lb),Me=He*(fe-1)+Ae;I&=xe*(fe-1)+Ae<=C.Fd,I&=be*(Ie-1)+me<=C.Cd,I=(I&=Ge*(Ie-1)+me<=C.Ed)&xe>=Ae&be>=me&Ge>=me,I&=C.y!=null,I&=C.f!=null,I&=C.ea!=null,ie==12&&(I&=He>=Ae,I&=Me<=C.Tc,I&=C.F!=null)}else I=0;C=I?0:2}}return C!=0||H!=null&&H.fd&&(C=xA(Z)),C}var la=64,xl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],uc=24,dc=32,vA=8,vs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];dt("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(C){return C},L.Predictor2=function(C,I,H){return I[H+0]},L.Predictor3=function(C,I,H){return I[H+1]},L.Predictor4=function(C,I,H){return I[H-1]},L.Predictor5=function(C,I,H){return st(st(C,I[H+1]),I[H+0])},L.Predictor6=function(C,I,H){return st(C,I[H-1])},L.Predictor7=function(C,I,H){return st(C,I[H+0])},L.Predictor8=function(C,I,H){return st(I[H-1],I[H+0])},L.Predictor9=function(C,I,H){return st(I[H+0],I[H+1])},L.Predictor10=function(C,I,H){return st(st(C,I[H-1]),st(I[H+0],I[H+1]))},L.Predictor11=function(C,I,H){var Z=I[H+0];return 0>=Lt(Z>>24&255,C>>24&255,(I=I[H-1])>>24&255)+Lt(Z>>16&255,C>>16&255,I>>16&255)+Lt(Z>>8&255,C>>8&255,I>>8&255)+Lt(255&Z,255&C,255&I)?Z:C},L.Predictor12=function(C,I,H){var Z=I[H+0];return(yt((C>>24&255)+(Z>>24&255)-((I=I[H-1])>>24&255))<<24|yt((C>>16&255)+(Z>>16&255)-(I>>16&255))<<16|yt((C>>8&255)+(Z>>8&255)-(I>>8&255))<<8|yt((255&C)+(255&Z)-(255&I)))>>>0},L.Predictor13=function(C,I,H){var Z=I[H-1];return(Nt((C=st(C,I[H+0]))>>24&255,Z>>24&255)<<24|Nt(C>>16&255,Z>>16&255)<<16|Nt(C>>8&255,Z>>8&255)<<8|Nt(C>>0&255,Z>>0&255))>>>0};var uh=L.PredictorAdd0;L.PredictorAdd1=Rt,dt("Predictor2","PredictorAdd2"),dt("Predictor3","PredictorAdd3"),dt("Predictor4","PredictorAdd4"),dt("Predictor5","PredictorAdd5"),dt("Predictor6","PredictorAdd6"),dt("Predictor7","PredictorAdd7"),dt("Predictor8","PredictorAdd8"),dt("Predictor9","PredictorAdd9"),dt("Predictor10","PredictorAdd10"),dt("Predictor11","PredictorAdd11"),dt("Predictor12","PredictorAdd12"),dt("Predictor13","PredictorAdd13");var Wu=L.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var hf,si=L.ColorIndexInverseTransform,Ba=L.MapARGB,vl=L.VP8LColorIndexInverseTransformAlpha,$u=L.MapAlpha,To=L.VP8LPredictorsAdd=[];To.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var wl,ss,Ra,yl,ws,Ci,qi,Ei,Pn,Si,Xn,ys,fc,Wi,wA,bl,Cl,El,hc,yA,Sl,ko,mc,jn,qs,Cr,Er,fn,zn=s(511),ii=s(2041),Bl=s(225),Nl=s(767),Fo=0,mf=ii,pc=Bl,Na=Nl,oi=zn,za=0,bA=1,$i=2,Yu=3,gc=4,Io=5,pf=6,Ju=7,_l=8,Uo=9,CA=10,gf=[2,3,7],li=[3,3,11],Ws=[280,256,256,256,40],xc=[0,1,1,1,0],Do=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Lo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vp=8,Xu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ca=null,On=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Tl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ro=[],is=[],$s=[],zp=1,EA=2,Ji=[],_a=[];tt("UpsampleRgbLinePair",Ur,3),tt("UpsampleBgrLinePair",En,3),tt("UpsampleRgbaLinePair",yi,4),tt("UpsampleBgraLinePair",Sa,4),tt("UpsampleArgbLinePair",Gn,4),tt("UpsampleRgba4444LinePair",Vn,2),tt("UpsampleRgb565LinePair",kn,2);var Mo=L.UpsampleRgbLinePair,kl=L.UpsampleBgrLinePair,Xi=L.UpsampleRgbaLinePair,xf=L.UpsampleBgraLinePair,vf=L.UpsampleArgbLinePair,SA=L.UpsampleRgba4444LinePair,wf=L.UpsampleRgb565LinePair,Zi=16,Aa=1<<Zi-1,Fl=-227,yf=482,qv=6,Kp=0,Wv=s(256),ua=s(256),fh=s(256),ed=s(256),td=s(yf-Fl),hh=s(yf-Fl);bi("YuvToRgbRow",Ur,3),bi("YuvToBgrRow",En,3),bi("YuvToRgbaRow",yi,4),bi("YuvToBgraRow",Sa,4),bi("YuvToArgbRow",Gn,4),bi("YuvToRgba4444Row",Vn,2),bi("YuvToRgb565Row",kn,2);var yc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Po=[0,2,8],$v=[8,7,6,4,4,2,2,2,1,1,1,1],qp=1;this.WebPDecodeRGBA=function(C,I,H,Z,ie){var Ae=bA,fe=new fA,me=new oa;fe.ba=me,me.S=Ae,me.width=[me.width],me.height=[me.height];var xe=me.width,be=me.height,Ie=new Ca;if(Ie==null||C==null)var Ge=2;else t(Ie!=null),Ge=gA(C,I,H,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(Ge!=0?xe=0:(xe!=null&&(xe[0]=Ie.width[0]),be!=null&&(be[0]=Ie.height[0]),xe=1),xe){me.width=me.width[0],me.height=me.height[0],Z!=null&&(Z[0]=me.width),ie!=null&&(ie[0]=me.height);e:{if(Z=new Va,(ie=new Gu).data=C,ie.w=I,ie.ha=H,ie.kd=1,I=[0],t(ie!=null),((C=gA(ie.data,ie.w,ie.ha,null,null,null,I,null,ie))==0||C==7)&&I[0]&&(C=4),(I=C)==0){if(t(fe!=null),Z.data=ie.data,Z.w=ie.w+ie.offset,Z.ha=ie.ha-ie.offset,Z.put=rs,Z.ac=_n,Z.bc=ps,Z.ma=fe,ie.xa){if((C=Xe())==null){fe=1;break e}if(function(He,Me){var ct=[0],Ze=[0],Ue=[0];t:for(;;){if(He==null)return 0;if(Me==null)return He.a=2,0;if(He.l=Me,He.a=0,re(He.m,Me.data,Me.w,Me.ha),!Ot(He.m,ct,Ze,Ue)){He.a=3;break t}if(He.xb=EA,Me.width=ct[0],Me.height=Ze[0],!Re(ct[0],Ze[0],1,He,null))break t;return 1}return t(He.a!=0),0}(C,Z)){if(Z=(I=Ac(Z.width,Z.height,fe.Oa,fe.ba))==0){t:{Z=C;r:for(;;){if(Z==null){Z=0;break t}if(t(Z.s.yc!=null),t(Z.s.Ya!=null),t(0<Z.s.Wb),t((H=Z.l)!=null),t((ie=H.ma)!=null),Z.xb!=0){if(Z.ca=ie.ba,Z.tb=ie.tb,t(Z.ca!=null),!gl(ie.Oa,H,Yu)){Z.a=2;break r}if(!ze(Z,H.width)||H.da)break r;if((H.da||xr(Z.ca.S))&&Oe(),11>Z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Z.ca.f.kb.F!=null&&Oe()),Z.Pb&&0<Z.s.ua&&Z.s.vb.X==null&&!qe(Z.s.vb,Z.s.Wa.Xa)){Z.a=1;break r}Z.xb=0}if(!Se(Z,Z.V,Z.Ba,Z.c,Z.i,H.o,Ee))break r;ie.Dc=Z.Ma,Z=1;break t}t(Z.a!=0),Z=0}Z=!Z}Z&&(I=C.a)}else I=C.a}else{if((C=new Vs)==null){fe=1;break e}if(C.Fa=ie.na,C.P=ie.P,C.qc=ie.Sa,Lu(C,Z)){if((I=Ac(Z.width,Z.height,fe.Oa,fe.ba))==0){if(C.Aa=0,H=fe.Oa,t((ie=C)!=null),H!=null){if(0<(xe=0>(xe=H.Md)?0:100<xe?255:255*xe/100)){for(be=Ie=0;4>be;++be)12>(Ge=ie.pb[be]).lc&&(Ge.ia=xe*$v[0>Ge.lc?0:Ge.lc]>>3),Ie|=Ge.ia;Ie&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=H.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}sf(C,Z)||(I=C.a)}}else I=C.a}I==0&&fe.Oa!=null&&fe.Oa.fd&&(I=xA(fe.ba))}fe=I}Ae=fe!=0?null:11>Ae?me.f.RGBA.eb:me.f.kb.y}else Ae=null;return Ae};var Wp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(L,D){for(var W="",O=0;O<4;O++)W+=String.fromCharCode(L[D++]);return W}function f(L,D){return(L[D+0]<<0|L[D+1]<<8|L[D+2]<<16)>>>0}function h(L,D){return(L[D+0]<<0|L[D+1]<<8|L[D+2]<<16|L[D+3]<<24)>>>0}new c;var p=[0],g=[0],b=[],y=new c,E=e,S=function(L,D){var W={},O=0,M=!1,K=0,Q=0;if(W.frames=[],!function(z,q,ee,ne){for(var le=0;le<ne;le++)if(z[q+le]!=ee.charCodeAt(le))return!0;return!1}(L,D,"RIFF",4)){var ae,V;for(h(L,D+=4),D+=8;D<L.length;){var G=u(L,D),re=h(L,D+=4);D+=4;var J=re+(1&re);switch(G){case"VP8 ":case"VP8L":W.frames[O]===void 0&&(W.frames[O]={}),(R=W.frames[O]).src_off=M?Q:D-8,R.src_size=K+re+8,O++,M&&(M=!1,K=0,Q=0);break;case"VP8X":(R=W.header={}).feature_flags=L[D];var Y=D+4;R.canvas_width=1+f(L,Y),Y+=3,R.canvas_height=1+f(L,Y),Y+=3;break;case"ALPH":M=!0,K=J+8,Q=D-8;break;case"ANIM":(R=W.header).bgcolor=h(L,D),Y=D+4,R.loop_count=(ae=L)[(V=Y)+0]<<0|ae[V+1]<<8,Y+=2;break;case"ANMF":var ce,R;(R=W.frames[O]={}).offset_x=2*f(L,D),D+=3,R.offset_y=2*f(L,D),D+=3,R.width=1+f(L,D),D+=3,R.height=1+f(L,D),D+=3,R.duration=f(L,D),D+=3,ce=L[D++],R.dispose=1&ce,R.blend=ce>>1&1}G!="ANMF"&&(D+=J)}return W}}(E,0);S.response=E,S.rgbaoutput=!0,S.dataurl=!1;var N=S.header?S.header:null,B=S.frames?S.frames:null;if(N){N.loop_counter=N.loop_count,p=[N.canvas_height],g=[N.canvas_width];for(var _=0;_<B.length&&B[_].blend!=0;_++);}var k=B[0],U=y.WebPDecodeRGBA(E,k.src_off,k.src_size,g,p);k.rgba=U,k.imgwidth=g[0],k.imgheight=p[0];for(var F=0;F<g[0]*p[0]*4;F++)b[F]=U[F];return this.width=g,this.height=p,this.data=b,this}(function(e){var t=function(){return typeof ub=="function"},r=function(p,g,b,y){var E=4,S=i;switch(y){case e.image_compression.FAST:E=1,S=s;break;case e.image_compression.MEDIUM:E=6,S=o;break;case e.image_compression.SLOW:E=9,S=c}p=n(p,g,b,S);var N=ub(p,{level:E});return e.__addimage__.arrayBufferToBinaryString(N)},n=function(p,g,b,y){for(var E,S,N,B=p.length/g,_=new Uint8Array(p.length+B),k=f(),U=0;U<B;U+=1){if(N=U*g,E=p.subarray(N,N+g),y)_.set(y(E,b,S),N+U);else{for(var F,L=k.length,D=[];F<L;F+=1)D[F]=k[F](E,b,S);var W=h(D.concat());_.set(D[W],N+U)}S=E}return _},a=function(p){var g=Array.apply([],p);return g.unshift(0),g},s=function(p,g){var b,y=[],E=p.length;y[0]=1;for(var S=0;S<E;S+=1)b=p[S-g]||0,y[S+1]=p[S]-b+256&255;return y},i=function(p,g,b){var y,E=[],S=p.length;E[0]=2;for(var N=0;N<S;N+=1)y=b&&b[N]||0,E[N+1]=p[N]-y+256&255;return E},o=function(p,g,b){var y,E,S=[],N=p.length;S[0]=3;for(var B=0;B<N;B+=1)y=p[B-g]||0,E=b&&b[B]||0,S[B+1]=p[B]+256-(y+E>>>1)&255;return S},c=function(p,g,b){var y,E,S,N,B=[],_=p.length;B[0]=4;for(var k=0;k<_;k+=1)y=p[k-g]||0,E=b&&b[k]||0,S=b&&b[k-g]||0,N=u(y,E,S),B[k+1]=p[k]-N+256&255;return B},u=function(p,g,b){if(p===g&&g===b)return p;var y=Math.abs(g-b),E=Math.abs(p-b),S=Math.abs(p+g-b-b);return y<=E&&y<=S?p:E<=S?g:b},f=function(){return[a,s,i,o,c]},h=function(p){var g=p.map(function(b){return b.reduce(function(y,E){return y+Math.abs(E)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(p,g,b,y){var E,S,N,B,_,k,U,F,L,D,W,O,M,K,Q,ae=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(N=new S$(p)).imgData,S=N.bits,E=N.colorSpace,_=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){L=(F=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,W=new Uint8Array(L*N.colors),D=new Uint8Array(L);var G,re=N.pixelBitlength-N.bits;for(K=0,Q=0;K<L;K++){for(M=F[K],G=0;G<re;)W[Q++]=M>>>G&255,G+=N.bits;D[K]=M>>>G&255}}if(N.bits===16){L=(F=new Uint32Array(N.decodePixels().buffer)).length,W=new Uint8Array(L*(32/N.pixelBitlength)*N.colors),D=new Uint8Array(L*(32/N.pixelBitlength)),O=N.colors>1,K=0,Q=0;for(var J=0;K<L;)M=F[K++],W[Q++]=M>>>0&255,O&&(W[Q++]=M>>>16&255,M=F[K++],W[Q++]=M>>>0&255),D[J++]=M>>>16&255;S=8}y!==e.image_compression.NONE&&t()?(p=r(W,N.width*N.colors,N.colors,y),U=r(D,N.width,1,y)):(p=W,U=D,ae=void 0)}if(N.colorType===3&&(E=this.color_spaces.INDEXED,k=N.palette,N.transparency.indexed)){var Y=N.transparency.indexed,ce=0;for(K=0,L=Y.length;K<L;++K)ce+=Y[K];if((ce/=255)===L-1&&Y.indexOf(0)!==-1)B=[Y.indexOf(0)];else if(ce!==L){for(F=N.decodePixels(),D=new Uint8Array(F.length),K=0,L=F.length;K<L;K++)D[K]=Y[F[K]];U=r(D,N.width,1)}}var R=function(z){var q;switch(z){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(y);return ae===this.decode.FLATE_DECODE&&(V="/Predictor "+R+" "),V+="/Colors "+_+" /BitsPerComponent "+S+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:b,data:p,index:g,filter:ae,decodeParameters:V,transparency:B,palette:k,sMask:U,predictor:R,width:N.width,height:N.height,bitsPerComponent:S,colorSpace:E}}}})(Wt.API),function(e){e.processGIF89A=function(t,r,n,a){var s=new B$(t),i=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:o},f=new Iw(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)},e.processGIF87A=e.processGIF89A}(Wt.API),Ko.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ko.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){yn.log("bit decode error:"+r)}},Ko.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[i+4*o]=c.blue,this.data[i+4*o+1]=c.green,this.data[i+4*o+2]=c.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ko.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,o=s>>4,c=15&s,u=this.palette[o];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},Ko.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ko.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=i,this.data[f+3]=u}this.pos+=e}},Ko.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,c=(i>>5&r)/r*255|0,u=(i>>11)/t*255|0,f=a*this.width*4+4*s;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},Ko.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},Ko.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=i}},Ko.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new Ko(t,!1),i=s.width,o=s.height,c={data:s.getData(),width:i,height:o},u=new Iw(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Wt.API),MN.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new MN(t),i=s.width,o=s.height,c={data:s.getData(),width:i,height:o},u=new Iw(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Wt.API),Wt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,c=0,u=0;u<a;u+=4){var f=n[u],h=n[u+1],p=n[u+2],g=n[u+3];s[o++]=f,s[o++]=h,s[o++]=p,i[c++]=g}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Gf=Wt.API,Yg=Gf.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,h=t.doKerning!==!1,p=0,g=e.length,b=0,y=o[0]||c,E=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?E.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(p=h&&An(u[n])==="object"&&!isNaN(parseInt(u[n][b],10))?u[n][b]/f:0,E.push((o[n]||y)/c+p)),b=n;return E},UN=Gf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Gf.processArabic&&(e=Gf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Yg.apply(this,arguments).reduce(function(s,i){return s+i},0)},DN=function(e,t,r,n){for(var a=[],s=0,i=e.length,o=0;s!==i&&o+t[s]<r;)o+=t[s],s++;a.push(e.slice(0,s));var c=s;for(o=0;s!==i;)o+t[s]>n&&(a.push(e.slice(c,s)),o=0,c=s),o+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},LN=function(e,t,r){r||(r={});var n,a,s,i,o,c,u,f=[],h=[f],p=r.textIndent||0,g=0,b=0,y=e.split(" "),E=Yg.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var S=Array(c).join(" "),N=[];y.map(function(_){(_=_.split(/\s*\n/)).length>1?N=N.concat(_.map(function(k,U){return(U&&k.length?`
`:"")+k})):N.push(_[0])}),y=N,c=UN.apply(this,[S,r])}for(s=0,i=y.length;s<i;s++){var B=0;if(n=y[s],c&&n[0]==`
`&&(n=n.substr(1),B=1),p+g+(b=(a=Yg.apply(this,[n,r])).reduce(function(_,k){return _+k},0))>t||B){if(b>t){for(o=DN.apply(this,[n,a,t-(p+g),t]),f.push(o.shift()),f=[o.pop()];o.length;)h.push([o.shift()]);b=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(_,k){return _+k},0)}else f=[n];h.push(f),p=b+c,g=E}else f.push(n),p+=g+b,g=E}return u=c?function(_,k){return(k?S:"")+_.join(" ")}:function(_){return _.join(" ")},h.map(u)},Gf.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(LN.apply(this,[n[o],i,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(h){return"0x"+parseInt(h,10).toString(16)},i=e.__fontmetrics__.compress=function(h){var p,g,b,y,E=["{"];for(var S in h){if(p=h[S],isNaN(parseInt(S,10))?g="'"+S+"'":(S=parseInt(S,10),g=(g=s(S).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof p=="number")p<0?(b=s(p).slice(3),y="-"):(b=s(p).slice(2),y=""),b=y+b.slice(0,-1)+n[b.slice(-1)];else{if(An(p)!=="object")throw new Error("Don't know what to do with value type "+An(p)+".");b=i(p)}E.push(g+b)}return E.push("}"),E.join("")},o=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,b,y,E={},S=1,N=E,B=[],_="",k="",U=h.length-1,F=1;F<U;F+=1)(y=h[F])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(B.push([N,b]),N={},b=void 0):y=="}"?((g=B.pop())[0][g[1]]=N,b=void 0,N=g[0]):y=="-"?S=-1:b===void 0?r.hasOwnProperty(y)?(_+=r[y],b=parseInt(_,16)*S,S=1,_=""):_+=y:r.hasOwnProperty(y)?(k+=r[y],N[b]=parseInt(k,16)*S,S=1,b=void 0,k=""):k+=y;return E},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var p=h.font,g=f.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var b=u.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(Wt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Fm(o)),i.metadata=e.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(Wt),function(e){function t(){return(ar.canvg?Promise.resolve(ar.canvg):ib(()=>import("./index.es-D577yX-b.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Wt.API.addSvgAsImage=function(r,n,a,s,i,o,c,u){if(isNaN(n)||isNaN(a))throw yn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw yn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=i;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(b){return b.fromString(h,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),n,a,s,i,c,u)})}}(),Wt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Wt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),c=[],u=0,f=0,h=0;function p(b,y){var E,S=!1;for(E=0;E<b.length;E+=1)b[E]===y&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=o.length;for(h=0;h<g;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(An(e)==="object"){for(a in e)if(s=e[a],p(o,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&p(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,y=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?y.push("/"+b+" /"+r[b].value):y.push("/"+b+" "+r[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Wt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,i){for(var o,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],h=0,p=s.length;h<p;++h){if(o=i.metadata.characterToGlyph(s.charCodeAt(h)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=s.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},n=function(s){var i,o,c,u,f,h,p;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(o=Object.keys(s).sort(function(g,b){return g-b})).length;h<p;h++)i=o[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(i){var o=i.font,c=i.out,u=i.newObject,f=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",b=0;b<p.length;b++)g+=String.fromCharCode(p[b]);var y=u();f({data:g,addLength1:!0,objectId:y}),c("endobj");var E=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:E}),c("endobj");var S=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+c0(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var N=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+c0(o.fontName)),c("/FontDescriptor "+S+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+E+" 0 R"),c("/BaseFont /"+c0(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(i){var o=i.font,c=i.out,u=i.newObject,f=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var b=u();f({data:p,addLength1:!0,objectId:b}),c("endobj");var y=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var E=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+c0(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var S=0;S<o.metadata.hmtx.widths.length;S++)o.metadata.hmtx.widths[S]=parseInt(o.metadata.hmtx.widths[S]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+c0(o.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,o=s.text||"",c=s.x,u=s.y,f=s.options||{},h=s.mutex||{},p=h.pdfEscape,g=h.activeFontKey,b=h.fonts,y=g,E="",S=0,N="",B=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:o,x:c,y:u,options:f,mutex:h};for(N=o,y=g,Array.isArray(o)&&(N=o[0]),S=0;S<N.length;S+=1)b[y].metadata.hasOwnProperty("cmap")&&(i=b[y].metadata.cmap.unicode.codeMap[N[S].charCodeAt(0)]),i||N[S].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?E+=N[S]:E+="";var _="";return parseInt(y.slice(1))<14||B==="WinAnsiEncoding"?_=p(E,y).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(_=r(E,b[y])),h.isHex=!0,{text:_,x:c,y:u,options:f,mutex:h}};t.events.push(["postProcessText",function(s){var i=s.text||"",o=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?o.push([a(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):o.push(a(Object.assign({},c,{text:i[u]})).text);s.text=o}else s.text=a(Object.assign({},c,{text:i})).text}])}(Wt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,i,o,c,u,f,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,B=0;this.__bidiEngine__={};var _=function(O){var M=O.charCodeAt(),K=M>>8,Q=y[K];return Q!==void 0?h[256*Q+(255&M)]:K===252||K===253?"AL":S.test(K)?"L":K===8?"R":"N"},k=function(O){for(var M,K=0;K<O.length;K++){if((M=_(O.charAt(K)))==="L")return!1;if(M==="R")return!0}return!1},U=function(O,M,K,Q){var ae,V,G,re,J=M[Q];switch(J){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(J="AN");break;case"AL":N=!0,J="R";break;case"WS":J="N";break;case"CS":Q<1||Q+1>=M.length||(ae=K[Q-1])!=="EN"&&ae!=="AN"||(V=M[Q+1])!=="EN"&&V!=="AN"?J="N":N&&(V="AN"),J=V===ae?V:"N";break;case"ES":J=(ae=Q>0?K[Q-1]:"B")==="EN"&&Q+1<M.length&&M[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&K[Q-1]==="EN"){J="EN";break}if(N){J="N";break}for(G=Q+1,re=M.length;G<re&&M[G]==="ET";)G++;J=G<re&&M[G]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(re=M.length,G=Q+1;G<re&&M[G]==="NSM";)G++;if(G<re){var Y=O[Q],ce=Y>=1425&&Y<=2303||Y===64286;if(ae=M[G],ce&&(ae==="R"||ae==="AL")){J="R";break}}}J=Q<1||(ae=M[Q-1])==="B"?"N":K[Q-1];break;case"B":N=!1,a=!0,J=B;break;case"S":s=!0,J="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":J="N"}return J},F=function(O,M,K){var Q=O.split("");return K&&L(Q,K,{hiLevel:B}),Q.reverse(),M&&M.reverse(),Q.join("")},L=function(O,M,K){var Q,ae,V,G,re,J=-1,Y=O.length,ce=0,R=[],z=B?g:p,q=[];for(N=!1,a=!1,s=!1,ae=0;ae<Y;ae++)q[ae]=_(O[ae]);for(V=0;V<Y;V++){if(re=ce,R[V]=U(O,q,R,V),Q=240&(ce=z[re][b[R[V]]]),ce&=15,M[V]=G=z[ce][5],Q>0)if(Q===16){for(ae=J;ae<V;ae++)M[ae]=1;J=-1}else J=-1;if(z[ce][6])J===-1&&(J=V);else if(J>-1){for(ae=J;ae<V;ae++)M[ae]=G;J=-1}q[V]==="B"&&(M[V]=0),K.hiLevel|=G}s&&function(ee,ne,le){for(var ue=0;ue<le;ue++)if(ee[ue]==="S"){ne[ue]=B;for(var he=ue-1;he>=0&&ee[he]==="WS";he--)ne[he]=B}}(q,M,Y)},D=function(O,M,K,Q,ae){if(!(ae.hiLevel<O)){if(O===1&&B===1&&!a)return M.reverse(),void(K&&K.reverse());for(var V,G,re,J,Y=M.length,ce=0;ce<Y;){if(Q[ce]>=O){for(re=ce+1;re<Y&&Q[re]>=O;)re++;for(J=ce,G=re-1;J<G;J++,G--)V=M[J],M[J]=M[G],M[G]=V,K&&(V=K[J],K[J]=K[G],K[G]=V);ce=re}ce++}}},W=function(O,M,K){var Q=O.split(""),ae={hiLevel:B};return K||(K=[]),L(Q,K,ae),function(V,G,re){if(re.hiLevel!==0&&f)for(var J,Y=0;Y<V.length;Y++)G[Y]===1&&(J=E.indexOf(V[Y]))>=0&&(V[Y]=E[J+1])}(Q,K,ae),D(2,Q,M,K,ae),D(1,Q,M,K,ae),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,K){if(function(ae,V){if(V)for(var G=0;G<ae.length;G++)V[G]=G;o===void 0&&(o=k(ae)),u===void 0&&(u=k(ae))}(O,M),i||!c||u)if(i&&c&&o^u)B=o?1:0,O=F(O,M,K);else if(!i&&c&&u)B=o?1:0,O=W(O,M,K),O=F(O,M);else if(!i||o||c||u){if(i&&!c&&o^u)O=F(O,M),o?(B=0,O=W(O,M,K)):(B=1,O=W(O,M,K),O=F(O,M));else if(i&&o&&!c&&u)B=1,O=W(O,M,K),O=F(O,M);else if(!i&&!c&&o^u){var Q=f;o?(B=1,O=W(O,M,K),B=0,f=!1,O=W(O,M,K),f=Q):(B=0,O=W(O,M,K),O=F(O,M),B=1,f=!1,O=W(O,M,K),f=Q,O=F(O,M))}}else B=0,O=W(O,M,K);else B=o?1:0,O=W(O,M,K);return O},this.__bidiEngine__.setOptions=function(O){O&&(i=O.isInputVisual,c=O.isOutputVisual,o=O.isInputRtl,u=O.isOutputRtl,f=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),i=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(i=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?i.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):i.push([r.doBidiReorder(a[o])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Wt),Wt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Eu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Q$(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new N$(this.contents),this.head=new T$(this),this.name=new D$(this),this.cmap=new CI(this),this.toUnicode={},this.hhea=new k$(this),this.maxp=new L$(this),this.hmtx=new R$(this),this.post=new I$(this),this.os2=new F$(this),this.loca=new O$(this),this.glyf=new M$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,c,u;for(u=[],i=0,o=(c=this.bbox).length;i<o;i++)t=c[i],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,i,o;for(i=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)a=t.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var il,Eu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,i,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*i+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),N$=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,i,o,c,u,f,h,p,g,b,y;for(y in g=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(g)/c),i=Math.floor(h/c),f=16*g-h,(a=new Eu).writeInt(this.scalarType),a.writeShort(g),a.writeShort(h),a.writeShort(i),a.writeShort(f),s=16*g,u=a.pos+s,o=null,b=[],r)for(p=r[y],a.writeString(y),a.writeInt(e(p)),a.writeInt(u),a.writeInt(p.length),b=b.concat(p),y==="head"&&(o=u),u+=p.length;u%4;)b.push(0),u++;return a.write(b),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,i;for(r=EI.call(r);r.length%4;)r.push(0);for(s=new Eu(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),_$={}.hasOwnProperty,ec=function(e,t){for(var r in t)_$.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};il=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var T$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Eu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),PN=function(){function e(t,r){var n,a,s,i,o,c,u,f,h,p,g,b,y,E,S,N,B;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),p=g/2,t.pos+=6,s=function(){var _,k;for(k=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)k.push(t.readUInt16());return k}(),t.pos+=2,y=function(){var _,k;for(k=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)k.push(t.readUInt16());return k}(),u=function(){var _,k;for(k=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)k.push(t.readUInt16());return k}(),f=function(){var _,k;for(k=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)k.push(t.readUInt16());return k}(),a=(this.length-t.pos+this.offset)/2,o=function(){var _,k;for(k=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)k.push(t.readUInt16());return k}(),c=S=0,B=s.length;S<B;c=++S)for(E=s[c],n=N=b=y[c];b<=E?N<=E:N>=E;n=b<=E?++N:--N)f[c]===0?i=n+u[c]:(i=o[f[c]/2+(n-b)-(p-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}t.pos=h}return e.encode=function(t,r){var n,a,s,i,o,c,u,f,h,p,g,b,y,E,S,N,B,_,k,U,F,L,D,W,O,M,K,Q,ae,V,G,re,J,Y,ce,R,z,q,ee,ne,le,ue,he,Ne,ge,te;switch(Q=new Eu,i=Object.keys(t).sort(function(Te,qe){return Te-qe}),r){case"macroman":for(y=0,E=function(){var Te=[];for(b=0;b<256;++b)Te.push(0);return Te}(),N={0:0},s={},ae=0,J=i.length;ae<J;ae++)N[he=t[a=i[ae]]]==null&&(N[he]=++y),s[a]={old:t[a],new:N[t[a]]},E[a]=N[t[a]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(E),{charMap:s,subtable:Q.data,maxGlyphID:y+1};case"unicode":for(M=[],h=[],B=0,N={},n={},S=u=null,V=0,Y=i.length;V<Y;V++)N[k=t[a=i[V]]]==null&&(N[k]=++B),n[a]={old:k,new:N[k]},o=N[k]-a,S!=null&&o===u||(S&&h.push(S),M.push(a),u=o),S=a;for(S&&h.push(S),h.push(65535),M.push(65535),W=2*(D=M.length),L=2*Math.pow(Math.log(D)/Math.LN2,2),p=Math.log(L/2)/Math.LN2,F=2*D-L,c=[],U=[],g=[],b=G=0,ce=M.length;G<ce;b=++G){if(O=M[b],f=h[b],O===65535){c.push(0),U.push(0);break}if(O-(K=n[O].new)>=32768)for(c.push(0),U.push(2*(g.length+D-b)),a=re=O;O<=f?re<=f:re>=f;a=O<=f?++re:--re)g.push(n[a].new);else c.push(K-O),U.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*D+2*g.length),Q.writeUInt16(0),Q.writeUInt16(W),Q.writeUInt16(L),Q.writeUInt16(p),Q.writeUInt16(F),le=0,R=h.length;le<R;le++)a=h[le],Q.writeUInt16(a);for(Q.writeUInt16(0),ue=0,z=M.length;ue<z;ue++)a=M[ue],Q.writeUInt16(a);for(Ne=0,q=c.length;Ne<q;Ne++)o=c[Ne],Q.writeUInt16(o);for(ge=0,ee=U.length;ge<ee;ge++)_=U[ge],Q.writeUInt16(_);for(te=0,ne=g.length;te<ne;te++)y=g[te],Q.writeUInt16(y);return{charMap:n,subtable:Q.data,maxGlyphID:B+1}}},e}(),CI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new PN(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=PN.encode(r,n),(s=new Eu).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),k$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),F$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),I$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],i=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;i=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),U$=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},D$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,i,o,c,u,f,h,p,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},i=h=0,p=a.length;h<p;i=++h)s=a[i],r.pos=s.offset,f=r.readString(s.length),o=new U$(f,s),u[g=s.nameID]==null&&(u[g]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),L$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),R$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,i,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],n=f=0;0<=s?f<s:f>s;n=0<=s?++f:--f)h.push(r.readInt16());return h}(),this.widths=(function(){var f,h,p,g;for(g=[],f=0,h=(p=this.metrics).length;f<h;f++)i=p[f],g.push(i.advance);return g}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),EI=[].slice,M$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,i,o,c,u,f,h,p;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new Eu(n.read(s))).readShort(),f=c.readShort(),p=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[r]=o===-1?new j$(c,f,p,u,h):new P$(c,o,f,p,u,h),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,i,o,c,u;for(o=[],i=[],c=0,u=n.length;c<u;c++)s=r[n[c]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},t}(),P$=function(){function e(t,r,n,a,s,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),j$=function(){function e(t,r,n,a,s){var i,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Eu(EI.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),O$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ec(t,il),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<n.length&&n[i]==o){++i,a[o]=s;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(s+=u)}for(var f=new Array(4*a.length),h=0;h<a.length;++h)f[4*h+3]=255&a[h],f[4*h+2]=(65280&a[h])>>8,f[4*h+1]=(16711680&a[h])>>16,f[4*h]=(4278190080&a[h])>>24;return f},t}(),Q$=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,i,o,c;for(a={},i=0,o=t.length;i<o;i++)a[s=t[i]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,i,o,c,u,f,h,p,g,b,y,E,S;for(a in n=CI.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),g={0:0},S=n.charMap)g[(c=S[a]).old]=c.new;for(b in p=n.maxGlyphID,i)b in g||(g[b]=p++);return f=function(N){var B,_;for(B in _={},N)_[N[B]]=B;return _}(g),h=Object.keys(f).sort(function(N,B){return N-B}),y=function(){var N,B,_;for(_=[],N=0,B=h.length;N<B;N++)o=h[N],_.push(f[o]);return _}(),s=this.font.glyf.encode(i,y,g),u=this.font.loca.encode(s.offsets,y),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},e}();Wt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,i;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)i=r[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join(`
`)}return""+r},t}();function SI(e,t,r,n,a){n=n||{};var s=1.15,i=a.internal.scaleFactor,o=a.internal.getFontSize()/i,c=a.getLineHeightFactor?a.getLineHeightFactor():s,u=o*c,f=/\r\n|\r|\n/g,h="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(f):e,p=h.length||1),r+=o*(2-s),n.valign==="middle"?r-=p/2*u:n.valign==="bottom"&&(r-=p*u),n.halign==="center"||n.halign==="right"){var g=o;if(n.halign==="center"&&(g*=.5),h&&p>=1){for(var b=0;b<h.length;b++)a.text(h[b],t-a.getStringUnitWidth(h[b])*g,r),r+=u;return a}t-=a.getStringUnitWidth(e)*g}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var jN={},k0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:jN=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,c=i.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var f=e.unifyColor(t.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=e.unifyColor(t.textColor),f&&(a=this.jsPDFDocument).setTextColor.apply(a,f),f=e.unifyColor(t.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return jN||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),xb=function(e,t){return xb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},xb(e,t)};function BI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xb(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var NI=function(e){BI(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function H$(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function V$(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function b1(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,i){return Math.max(s,i)},0);return a}function _I(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var i=TI(a,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function TI(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function xv(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function kI(e,t){var r=xv(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function G$(e,t,r,n,a){var s={},i=1.3333333333333333,o=Uw(t,function(B){return a.getComputedStyle(B).backgroundColor});o!=null&&(s.fillColor=o);var c=Uw(t,function(B){return a.getComputedStyle(B).color});c!=null&&(s.textColor=c);var u=K$(n,r);u&&(s.cellPadding=u);var f="borderTopColor",h=i*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var g=(parseFloat(p)||0)/h;g&&(s.lineWidth=g)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var b=Uw(t,function(B){return a.getComputedStyle(B)[f]});b!=null&&(s.lineColor=b);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var E=parseInt(n.fontSize||"");isNaN(E)||(s.fontSize=E/i);var S=z$(n);S&&(s.fontStyle=S);var N=(n.fontFamily||"").toLowerCase();return e.indexOf(N)!==-1&&(s.font=N),s}function z$(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Uw(e,t){var r=FI(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function FI(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:FI(e.parentElement,t):r}function K$(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(o){return parseInt(o||"0")/n}),i=xv(s,0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}function II(e,t,r,n,a){var s,i;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),f=[],h=[],p=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:f,body:h,foot:p};for(var g=0;g<o.rows.length;g++){var b=o.rows[g],y=(i=(s=b==null?void 0:b.parentElement)===null||s===void 0?void 0:s.tagName)===null||i===void 0?void 0:i.toLowerCase(),E=q$(c,u,r,b,n,a);E&&(y==="thead"?f.push(E):y==="tfoot"?p.push(E):h.push(E))}return{head:f,body:h,foot:p}}function q$(e,t,r,n,a,s){for(var i=new NI(n),o=0;o<n.cells.length;o++){var c=n.cells[o],u=r.getComputedStyle(c);if(a||u.display!=="none"){var f=void 0;s&&(f=G$(e,c,t,u,r)),i.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:W$(c)})}}var h=r.getComputedStyle(n);if(i.length>0&&(a||h.display!=="none"))return i}function W$(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function $$(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function jc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s}function UI(e,t){var r=new k0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();$$(a,n,t);var s=jc({},a,n,t),i;typeof window<"u"&&(i=window);var o=Y$(a,n,t),c=J$(a,n,t),u=X$(r,s),f=eY(r,s,i);return{id:t.tableId,content:f,hooks:c,styles:o,settings:u}}function Y$(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=e[c],f=t[c],h=r[c];n.columnStyles=jc({},u,f,h)}else{var p=[e,t,r],g=p.map(function(b){return b[c]||{}});n[c]=jc({},g[0],g[1],g[2])}},s=0,i=Object.keys(n);s<i.length;s++){var o=i[s];a(o)}return n}function J$(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,i=n;s<i.length;s++){var o=i[s];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function X$(e,t){var r,n,a,s,i,o,c,u,f,h,p,g,b=xv(t.margin,40/e.scaleFactor()),y=(r=Z$(e,t.startY))!==null&&r!==void 0?r:b.top,E;t.showFoot===!0?E="everyPage":t.showFoot===!1?E="never":E=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var S;t.showHead===!0?S="everyPage":t.showHead===!1?S="never":S=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var N=(s=t.useCss)!==null&&s!==void 0?s:!1,B=t.theme||(N?"plain":"striped"),_=!!t.horizontalPageBreak,k=(i=t.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:N,theme:B,startY:y,margin:b,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=t.tableWidth)!==null&&f!==void 0?f:"auto",showHead:S,showFoot:E,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:_,horizontalPageBreakRepeat:k,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function Z$(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;s=i===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function eY(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var o=II(e,t.html,r,i,t.useCss)||{};n=o.head||n,a=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||tY(n,a,s);return{columns:c,head:n,body:a,foot:s}}function tY(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var i=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(i=(o==null?void 0:o.colSpan)||1);for(var c=0;c<i;c++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(c>0?"_".concat(c):"");var f={dataKey:u};a.push(f)}}),a}var vb=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),rY=function(e){BI(t,e);function t(r,n,a,s,i,o){var c=e.call(this,r,n,o)||this;return c.cell=a,c.row=s,c.column=i,c.section=s.section,c}return t}(vb),nY=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,i){for(var o=0,c=r;o<c.length;o++){var u=c[o],f=new rY(t,this,n,a,s,i),h=u(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new vb(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new vb(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),DI=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof NI&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var i=n.cells[s.index];if(!i)return 0;var o=r.getLineHeight(i.styles.fontSize),c=i.padding("vertical"),u=c+o;return u>a?u:a},0)},e}(),LI=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var i=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=i.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=xv(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),aY=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],i=s.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},e}();function sY(e,t){iY(e,t);var r=[],n=0;t.columns.forEach(function(s){var i=s.getMaxCustomCellWidth(t);i?s.width=i:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=wb(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=wb(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),lY(t),cY(t,e),oY(t)}function iY(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=kI(e,t);t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var c=o[i],u=s.cells[c.index];if(u){var f=t.hooks.didParseCell;t.callCellHooks(e,f,u,s,c,null);var h=u.padding("horizontal");u.contentWidth=b1(u.text,u.styles,e)+h;var p=b1(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/r;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var c=o[i],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var f=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=f.cellWidth||f.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function wb(e,t,r){for(var n=t,a=e.reduce(function(g,b){return g+b.wrappedWidth},0),s=0;s<e.length;s++){var i=e[s],o=i.wrappedWidth/a,c=n*o,u=i.width+c,f=r(i),h=u<f?f:u;t-=h-i.width,i.width=h}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(g){return t<0?g.width>r(g):!0});p.length&&(t=wb(p,t,r))}return t}function oY(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],i=0,o=e.columns;i<o.length;i++){var c=o[i],u=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var h=n.length-a,p=f.rowSpan>h?h:f.rowSpan;t[c.index]={cell:f,left:p,row:s}}}}}function lY(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,i=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(i-=1,i>1&&e.columns[o+1])s+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+s}else{var u=n.cells[c.index];if(!u)continue;if(i=u.colSpan,s=0,u.colSpan>1){a=u,s+=c.width;continue}u.width=c.width+s}}}function cY(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],i=0,o=e.columns;i<o.length;i++){var c=o[i],u=s.cells[c.index];if(u){t.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,f+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=ON(u.text,f,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=ON(u.text,f,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,f);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<p*u.rowSpan?r={height:p,count:u.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>s.height&&(s.height=p)}}r.count--}}function ON(e,t,r,n,a){return e.map(function(s){return AY(s,t,r,n,a)})}function AY(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=b1(e,r,n))return e;for(;t<b1(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function RI(e,t){var r=new k0(e),n=uY(t,r.scaleFactor()),a=new nY(t,n);return sY(r,a),r.applyStyles(r.userStyles),a}function uY(e,t){var r=e.content,n=fY(r.columns);if(r.head.length===0){var a=QN(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=QN(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,i=e.styles;return{columns:n,head:Dw("head",r.head,n,i,s,t),body:Dw("body",r.body,n,i,s,t),foot:Dw("foot",r.foot,n,i,s,t)}}function Dw(e,t,r,n,a,s){var i={},o=t.map(function(c,u){for(var f=0,h={},p=0,g=0,b=0,y=r;b<y.length;b++){var E=y[b];if(i[E.index]==null||i[E.index].left===0)if(g===0){var S=void 0;Array.isArray(c)?S=c[E.index-p-f]:S=c[E.dataKey];var N={};typeof S=="object"&&!Array.isArray(S)&&(N=(S==null?void 0:S.styles)||{});var B=hY(e,E,u,a,n,s,N),_=new LI(S,B,e);h[E.dataKey]=_,h[E.index]=_,g=_.colSpan-1,i[E.index]={left:_.rowSpan-1,times:g}}else g--,p++;else i[E.index].left--,g=i[E.index].times,f++}return new DI(c,u,e,h)});return o}function QN(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=dY(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function dY(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function fY(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new aY(a,t,r)})}function hY(e,t,r,n,a,s,i){var o=V$(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var u=jc({},o.table,o[e],a.styles,c),f=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},h=e==="body"?f:{},p=e==="body"&&r%2===0?jc({},o.alternateRow,a.alternateRowStyles):{},g=H$(s),b=jc({},g,u,p,h);return jc(b,i)}function mY(e,t,r){var n;r===void 0&&(r={});var a=kI(e,t),s=new Map,i=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var g=t.columns.find(function(b){return b.dataKey===p||b.index===p});g&&!s.has(g.index)&&(s.set(g.index,!0),i.push(g.index),o.push(t.columns[g.index]),a-=g.wrappedWidth)});for(var u=!0,f=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;f<t.columns.length;){if(s.has(f)){f++;continue}var h=t.columns[f].wrappedWidth;if(u||a>=h)u=!1,i.push(f),o.push(t.columns[f]),a-=h;else break;f++}return{colIndexes:i,columns:o,lastIndex:f-1}}function pY(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=mY(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function MI(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+i;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(p,g){return p+g.height},0);o+=u}var f=new k0(e);(r.pageBreak==="always"||r.startY!=null&&o>f.pageSize().height)&&(jI(f),s.y=a.top),t.callWillDrawPageHooks(f,s);var h=jc({},s);t.startPageNumber=f.pageNumber(),r.horizontalPageBreak?gY(f,t,h,s):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(p){return Wc(f,t,p,s,t.columns)}),f.applyStyles(f.userStyles),t.body.forEach(function(p,g){var b=g===t.body.length-1;C1(f,t,p,b,h,s,t.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(p){return Wc(f,t,p,s,t.columns)})),_I(f,t,h,s),t.callEndPageHooks(f,s),t.finalY=s.y,e.lastAutoTable=t,f.applyStyles(f.userStyles)}function gY(e,t,r,n){var a=pY(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,f){e.applyStyles(e.userStyles),f>0?Im(e,t,r,n,u.columns,!0):HN(e,t,n,u.columns),xY(e,t,r,n,u.columns),Lw(e,t,n,u.columns)});else for(var i=-1,o=a[0],c=function(){var u=i;if(o){e.applyStyles(e.userStyles);var f=o.columns;i>=0?Im(e,t,r,n,f,!0):HN(e,t,n,f),u=VN(e,t,i+1,n,f),Lw(e,t,n,f)}var h=u-i;a.slice(1).forEach(function(p){e.applyStyles(e.userStyles),Im(e,t,r,n,p.columns,!0),VN(e,t,i+1,n,p.columns,h),Lw(e,t,n,p.columns)}),i=u};i<t.body.length-1;)c()}function HN(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return Wc(e,t,s,r,n)})}function xY(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,i){var o=i===t.body.length-1;C1(e,t,s,o,r,n,a)})}function VN(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var i=Math.min(r+s,t.body.length),o=-1;return t.body.slice(r,i).forEach(function(c,u){var f=r+u===t.body.length-1,h=PI(e,t,f,n);c.canEntireRowFit(h,a)&&(Wc(e,t,c,n,a),o=r+u)}),o}function Lw(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return Wc(e,t,s,r,n)})}function vY(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function wY(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,i=0,o=r.columns;i<o.length;i++){var c=o[i],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new LI(u.raw,u.styles,u.section);f=jc(f,u),f.text=[];var h=vY(u,t,n);u.text.length>h&&(f.text=u.text.splice(h,u.text.length));var p=n.scaleFactor(),g=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,g),u.contentHeight>=t&&(u.contentHeight=t,f.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),f.contentHeight=f.getContentHeight(p,g),f.contentHeight>s&&(s=f.contentHeight),a[c.index]=f}}var b=new DI(e.raw,-1,e.section,a,!0);b.height=s;for(var y=0,E=r.columns;y<E.length;y++){var c=E[y],f=b.cells[c.index];f&&(f.height=b.height);var u=e.cells[c.index];u&&(u.height=e.height)}return b}function yY(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,i=s.top+s.bottom,o=a-i;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>o;return h?(f&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function C1(e,t,r,n,a,s,i){var o=PI(e,t,n,s);if(r.canEntireRowFit(o,i))Wc(e,t,r,s,i);else if(yY(e,r,o,t)){var c=wY(r,o,t,e);Wc(e,t,r,s,i),Im(e,t,a,s,i),C1(e,t,c,n,a,s,i)}else Im(e,t,a,s,i),C1(e,t,r,n,a,s,i)}function Wc(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,i=a;s<i.length;s++){var o=i[s],c=r.cells[o.index];if(!c){n.x+=o.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,n);if(u===!1){n.x+=o.width;continue}bY(e,c,n);var f=c.getTextPos();SI(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,n),n.x+=o.width}n.y+=r.height}function bY(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=TI(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),CY(e,t,r,n.lineWidth))}function CY(e,t,r,n){var a,s,i,o;n.top&&(a=r.x,s=r.y,i=r.x+t.width,o=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,i,o)),n.bottom&&(a=r.x,s=r.y+t.height,i=r.x+t.width,o=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,i,o)),n.left&&(a=r.x,s=r.y,i=r.x,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,a,s,i,o)),n.right&&(a=r.x+t.width,s=r.y,i=r.x+t.width,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,a,s,i,o));function c(u,f,h,p,g){e.getDocument().setLineWidth(u),e.getDocument().line(f,h,p,g,"S")}}function PI(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Im(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(o){return Wc(e,t,o,n,a)}),t.callEndPageHooks(e,n);var i=t.settings.margin;_I(e,t,r,n),jI(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Wc(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function jI(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function EY(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=UI(this,n),s=RI(this,a);return MI(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){SI(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return k0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){k0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new k0(this),s=II(a,t,window,r,!1),i=s.head,o=s.body,c=((n=i[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var Rw;function xo(e,t){var r=UI(e,t),n=RI(e,r);MI(e,n)}try{if(typeof window<"u"&&window){var GN=window,zN=GN.jsPDF||((Rw=GN.jspdf)===null||Rw===void 0?void 0:Rw.jsPDF);zN&&EY(zN)}}catch(e){console.error("Could not apply autoTable plugin",e)}const SY="usuariosLiceo",KN="rubricasInteractivas",qN="evaluacionesPruebas",WN="rubricasEstaticas",BY=["Selección múltiple","Verdadero o Falso","Desarrollo","Términos pareados","Comprensión de lectura"],$N={"Selección múltiple":[5,10,15],"Verdadero o Falso":[5,10,15],"Términos pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensión de lectura":[1,2,3]},Xx=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},NY=({open:e})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e?A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59"}):A.jsxs(A.Fragment,{children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),_Y=({item:e,index:t,showAnswers:r})=>{const n=X.useMemo(()=>e.tipo==="Términos pareados"?[...e.pares.map(a=>a.definicion)].sort(()=>Math.random()-.5):[],[e]);return A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[t+1,". ",e.pregunta," (",e.puntaje," pts)"]}),e.habilidadBloom&&A.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:e.habilidadBloom})]}),e.tipo==="Selección múltiple"&&A.jsx("div",{className:"ml-4 mt-2 space-y-2",children:e.opciones.map((a,s)=>{const i=r&&s===e.respuestaCorrecta;return A.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${i?"bg-green-100 dark:bg-green-900/50":""}`,children:[A.jsx("div",{className:"w-5 h-5 border rounded-full"}),A.jsxs("span",{children:[String.fromCharCode(65+s),") ",a]})]},s)})}),e.tipo==="Desarrollo"&&A.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"}),e.tipo==="Verdadero o Falso"&&A.jsxs("div",{className:"mt-2 ml-4 flex items-center gap-4",children:[A.jsx("span",{children:"V ___ F ___"}),r&&A.jsxs("span",{className:"font-bold p-1 rounded bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",children:["Respuesta: ",e.respuestaCorrecta?"VERDADERO":"FALSO"]})]}),e.tipo==="Términos pareados"&&A.jsxs("div",{className:"mt-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna A: Concepto"}),A.jsx("div",{className:"space-y-2",children:e.pares.map((a,s)=>A.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg min-h-[50px] flex items-center",children:[s+1,". ",a.concepto]},s))})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna B: Definición"}),A.jsx("div",{className:"space-y-2",children:n.map((a,s)=>A.jsx("div",{className:"bg-sky-100 dark:bg-sky-900/50 p-3 rounded-lg min-h-[50px] flex items-center",children:a},s))})]})]}),r&&A.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-700",children:[A.jsx("h4",{className:"font-bold text-green-800 dark:text-green-200",children:"Respuestas Correctas:"}),A.jsx("ul",{className:"list-disc list-inside mt-2 text-sm text-slate-700 dark:text-slate-300",children:e.pares.map((a,s)=>A.jsxs("li",{children:[A.jsx("strong",{children:a.concepto})," → ",a.definicion]},s))})]})]}),e.tipo==="Comprensión de lectura"&&A.jsxs("div",{className:"ml-4 mt-2 space-y-4",children:[A.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-md whitespace-pre-wrap",children:e.texto}),e.preguntas.map((a,s)=>{if(a.tipo==="Selección múltiple"){const i=a;return A.jsxs("div",{className:"pt-2",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[s+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&A.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),A.jsx("div",{className:"ml-4 mt-2 space-y-2",children:i.opciones.map((o,c)=>{const u=r&&c===i.respuestaCorrecta;return A.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${u?"bg-green-100 dark:bg-green-900/50":""}`,children:[A.jsx("div",{className:"w-5 h-5 border rounded-full"}),A.jsxs("span",{children:[String.fromCharCode(65+c),") ",o]})]},c)})})]},a.id)}if(a.tipo==="Desarrollo"){const i=a;return A.jsxs("div",{className:"pt-2",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[s+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&A.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),A.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"})]},a.id)}return null})]})]},e.id)},TY=()=>{const[e,t]=X.useState([]),[r,n]=X.useState(null),[a,s]=X.useState(!1),[i,o]=X.useState(!1),[c,u]=X.useState(null),[f,h]=X.useState(!1),p={nombre:"",asignatura:Oi[0],nivel:h1[0],contenido:"",tiposActividad:{},dificultad:"Intermedio",isNee:!1,selectedNee:[]},[g,b]=X.useState(p);X.useEffect(()=>{try{const L=localStorage.getItem(qN);L&&t(JSON.parse(L))}catch(L){console.error("Error loading tests from localStorage",L)}},[]);const y=L=>{t(L),localStorage.setItem(qN,JSON.stringify(L))},E=L=>{const{name:D,value:W}=L.target;b(O=>({...O,[D]:W}))},S=L=>{b(D=>{const W={...D.tiposActividad};return W[L]?delete W[L]:W[L]=$N[L][0],{...D,tiposActividad:W}})},N=(L,D)=>{b(W=>({...W,tiposActividad:{...W.tiposActividad,[L]:D}}))},B=L=>{b(D=>{const W=D.selectedNee.includes(L)?D.selectedNee.filter(O=>O!==L):[...D.selectedNee,L];return{...D,selectedNee:W}})},_=async L=>{if(L.preventDefault(),!g.nombre.trim()||!g.contenido.trim()||Object.keys(g.tiposActividad).length===0){u("Nombre, Contenido y al menos un tipo de actividad son obligatorios.");return}s(!0),u(null);const D=Object.entries(g.tiposActividad).map(([M,K])=>`- ${K} ítem(s) de tipo '${M}'`).join(`
`),W=g.isNee&&g.selectedNee.length>0?`
            **Adaptación CRÍTICA para Necesidades Educativas Especiales (NEE):**
            Adapta esta prueba para estudiantes con las siguientes características: ${g.selectedNee.join(", ")}.
            Esto implica las siguientes modificaciones OBLIGATORIAS:
            - Usa un lenguaje claro, simple y directo en todas las preguntas e instrucciones.
            - Evita preguntas con doble negación o estructuras gramaticales complejas.
            - En preguntas de desarrollo, desglosa la pregunta en partes más pequeñas si es posible.
            - Para 'Comprensión de Lectura', usa textos más cortos (100-150 palabras) y con vocabulario accesible.
            - Para 'Selección Múltiple', asegúrate de que los distractores sean claramente incorrectos y no ambiguos.`:"",O=`
            Eres un experto en evaluación educativa para la educación media en Chile.
            Genera una prueba o guía de trabajo completa en formato JSON estructurado.
            
            Información base:
            - Nombre de la prueba: ${g.nombre}
            - Asignatura: ${g.asignatura}
            - Nivel: ${g.nivel}
            - Contenido a evaluar: "${g.contenido}"
            - Tipos y cantidad de ítems solicitados:
              ${D}
            - Nivel de Dificultad General: ${g.dificultad}. 'Fácil' implica preguntas directas y de recuerdo. 'Intermedio' incluye aplicación y análisis simple. 'Avanzado' requiere síntesis, evaluación y resolución de problemas complejos.
            
            ${W}

            Tu respuesta DEBE ser un único objeto JSON que contenga:
            1. 'objetivo': Un objetivo de aprendizaje claro para la evaluación.
            2. 'instruccionesGenerales': Instrucciones claras para el estudiante.
            3. 'actividades': Un array de objetos, donde cada objeto es una actividad por cada tipo de ítem solicitado. Cada actividad debe tener:
                - 'id': Un UUID.
                - 'titulo': Un título descriptivo (ej: "Actividad 1: Selección Múltiple").
                - 'instrucciones': Instrucciones para esa actividad específica.
                - 'items': Un array de preguntas con la cantidad exacta solicitada. Cada pregunta (item) debe tener:
                    - 'id': Un UUID.
                    - 'tipo': El tipo de ítem.
                    - 'pregunta': El enunciado de la pregunta.
                    - 'puntaje': Un puntaje numérico.
                    - 'habilidadBloom': La habilidad principal de la Taxonomía de Bloom que se trabaja (ej: Analizar, Crear, Evaluar).
                    - Campos adicionales según el tipo:
                        - Para 'Selección múltiple': 'opciones' (array de EXACTAMENTE 4 strings sin la letra de la alternativa) y 'respuestaCorrecta' (índice numérico de la respuesta correcta, de 0 a 3).
                        - Para 'Verdadero o Falso': 'respuestaCorrecta' (booleano).
                        - Para 'Términos pareados': 'pares' (array de objetos con 'concepto' y 'definicion').
                        - Para 'Comprensión de lectura': 'texto' (string con el texto) y 'preguntas' (un array de sub-preguntas que pueden ser 'Selección múltiple' o 'Desarrollo', y cada una debe tener también 'habilidadBloom').
                        - Para 'Desarrollo': no necesita campos adicionales.
        `;try{gi("Evaluación - Pruebas");const K=await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:O,config:{responseMimeType:"application/json"}}),Q=JSON.parse(K.text);let ae=0;Q.actividades.forEach(G=>{G.items.forEach(re=>{ae+=re.puntaje||0,re.tipo==="Comprensión de lectura"&&re.preguntas.forEach(J=>{ae+=J.puntaje||0})})});const V={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),nombre:g.nombre,asignatura:g.asignatura,nivel:g.nivel,contenidoOriginal:g.contenido,tiposActividadOriginal:g.tiposActividad,objetivo:Q.objetivo,instruccionesGenerales:Q.instruccionesGenerales,puntajeIdeal:ae,actividades:Q.actividades,dificultad:g.dificultad,adaptacionNEE:g.isNee?g.selectedNee:void 0};n(V),h(!1)}catch(M){console.error(M),u("Error al generar la prueba con IA. Inténtelo de nuevo.")}finally{s(!1)}},k=()=>{r&&(y([r,...e.filter(L=>L.id!==r.id)]),alert("Prueba guardada con éxito."))},U=L=>{window.confirm("¿Eliminar esta prueba?")&&(y(e.filter(D=>D.id!==L)),(r==null?void 0:r.id)===L&&n(null))},F=async L=>{o(!0);const D=new Wt("p","mm","a4"),W=20,O=D.internal.pageSize.getHeight(),M=D.internal.pageSize.getWidth(),K=M-W*2;let Q=W;const ae=re=>{re.setFillColor(230,230,230),re.rect(0,0,M,25,"F"),re.setFontSize(9),re.setTextColor(0,0,0),re.text("LICEO INDUSTRIAL DE RECOLETA",W,15,{align:"left"}),re.text("SUBDIRECCIÓN DE GESTIÓN PEDAGÓGICA",M-W,15,{align:"right"})};ae(D),Q=30,D.setTextColor(0,0,0),D.setFont("helvetica","bold"),D.setFontSize(16),D.text(L.nombre,M/2,Q,{align:"center"}),Q+=10,xo(D,{startY:Q,body:[[{content:"Asignatura:",styles:{fontStyle:"bold"}},L.asignatura,{content:"Puntaje Ideal:",styles:{fontStyle:"bold"}},L.puntajeIdeal.toString()],[{content:"Nivel:",styles:{fontStyle:"bold"}},L.nivel,"",""],[{content:"OA:",styles:{fontStyle:"bold",valign:"top"}},{content:L.objetivo,colSpan:3}],[{content:"Instrucciones:",styles:{fontStyle:"bold",valign:"top"}},{content:L.instruccionesGenerales,colSpan:3}]],theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},columnStyles:{0:{cellWidth:30},2:{cellWidth:30}},didDrawPage:re=>{ae(D)}}),Q=D.lastAutoTable.finalY+10;const V=re=>{Q+re>O-W&&(D.addPage(),ae(D),Q=W+15,D.setTextColor(0,0,0))},G=(re,J)=>{D.setFont("helvetica",J.isBold?"bold":"normal"),D.setFontSize(J.fontSize);const Y=Array.isArray(re)?re.join(`
`):re;return D.getTextDimensions(Y,{maxWidth:J.width}).h};for(const re of L.actividades){let J=G(re.titulo,{fontSize:12,width:K,isBold:!0})+G(re.instrucciones,{fontSize:10,width:K})+12;V(J),D.setFont("helvetica","bold"),D.setFontSize(12),D.setTextColor(0,0,0),D.text(re.titulo,W,Q),Q+=8,D.setFont("helvetica","normal"),D.setFontSize(10);const Y=D.splitTextToSize(re.instrucciones,K);D.text(Y,W,Q),Q+=Y.length*(10*.35*1.15)+4;for(const[ce,R]of re.items.entries()){let z=0;const q=`${ce+1}. ${R.pregunta} (${R.puntaje} pts)`;switch(z+=G(q,{fontSize:10,width:K,isBold:!0}),R.tipo){case"Selección múltiple":R.opciones.forEach(le=>{z+=G(le,{fontSize:10,width:K-5})+3}),z+=7;break;case"Verdadero o Falso":z+=10;break;case"Desarrollo":z+=30;break;case"Términos pareados":z+=R.pares.length*12+20;break;case"Comprensión de lectura":const ne=R;z+=G(ne.texto,{fontSize:10,width:K-10})+10,ne.preguntas.forEach(le=>{const ue=`${le.pregunta} (${le.puntaje} pts)`;z+=G(ue,{fontSize:10,width:K-5,isBold:!0}),le.tipo==="Selección múltiple"?(le.opciones.forEach(he=>{z+=G(he,{fontSize:10,width:K-10})+3}),z+=7):le.tipo==="Desarrollo"&&(z+=30),z+=5}),z+=15;break}V(z),D.setFont("helvetica","bold"),D.setFontSize(10),D.setTextColor(0,0,0);const ee=D.splitTextToSize(q,K);if(D.text(ee,W,Q),Q+=ee.length*5+4,D.setFont("helvetica","normal"),R.tipo==="Selección múltiple")R.opciones.forEach((ne,le)=>{D.text(`${String.fromCharCode(65+le)}) ${ne}`,W+5,Q),Q+=7});else if(R.tipo==="Verdadero o Falso")D.text("V ______   F ______",W+5,Q),Q+=10;else if(R.tipo==="Desarrollo")D.setDrawColor(200,200,200),D.setFillColor(245,245,245),D.rect(W,Q,K,25,"FD"),Q+=30;else if(R.tipo==="Términos pareados"){const ne=[...R.pares.map(ue=>ue.definicion)].sort(()=>Math.random()-.5),le=R.pares.map((ue,he)=>[`${he+1}. ${ue.concepto}`,`(   ) ${ne[he]}`]);xo(D,{startY:Q,head:[["Columna A: Concepto","Columna B: Definición"]],body:le,theme:"grid",styles:{fontSize:9,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},headStyles:{fontStyle:"bold",fillColor:[230,230,230],textColor:[0,0,0]},didDrawPage:ue=>ae(D)}),Q=D.lastAutoTable.finalY+10}else if(R.tipo==="Comprensión de lectura"){const ne=R;D.setFillColor(240,240,240),D.setDrawColor(200,200,200);const le=D.splitTextToSize(ne.texto,K-10),ue=le.length*(10*.35*1.15)+8;D.rect(W,Q,K,ue,"FD"),Q+=4,D.setFont("helvetica","normal"),D.setFontSize(10),D.setTextColor(0,0,0),D.text(le,W+5,Q),Q+=ue;for(const[he,Ne]of ne.preguntas.entries()){const ge=`${he+1}. ${Ne.pregunta} (${Ne.puntaje} pts)`;D.setFont("helvetica","bold");const te=D.splitTextToSize(ge,K-5);D.text(te,W+5,Q),Q+=te.length*5+4,D.setFont("helvetica","normal"),Ne.tipo==="Selección múltiple"?Ne.opciones.forEach((Te,qe)=>{D.text(`${String.fromCharCode(65+qe)}) ${Te}`,W+10,Q),Q+=7}):Ne.tipo==="Desarrollo"&&(D.setDrawColor(200,200,200),D.setFillColor(245,245,245),D.rect(W+5,Q,K-5,25,"FD"),Q+=30)}}Q+=5}}D.save(`${L.nombre.replace(/\s/g,"_")}.pdf`),o(!1)};return r?A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("button",{onClick:()=>n(null),className:"text-sm font-semibold text-slate-500 hover:underline",children:"← Volver"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>h(!f),className:"bg-slate-100 text-slate-700 font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",children:[A.jsx(NY,{open:!f})," ",A.jsxs("span",{children:[f?"Ocultar":"Mostrar"," Respuestas"]})]}),A.jsx("button",{onClick:k,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Guardar Prueba"}),A.jsxs("button",{onClick:()=>F(r),disabled:i,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:[i?"...":A.jsx(SF,{})," PDF"]})]})]}),A.jsxs("div",{className:"border rounded-lg p-8 bg-slate-50 dark:bg-slate-900/50",children:[A.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-600 dark:text-slate-400",children:[A.jsx("span",{children:"LICEO INDUSTRIAL DE RECOLETA"}),A.jsx("span",{children:"SUBDIRECCIÓN DE GESTIÓN PEDAGÓGICA"})]}),A.jsx("h2",{className:"text-center text-2xl font-bold my-4 text-slate-800 dark:text-slate-200",children:r.nombre}),A.jsxs("div",{className:"space-y-4 text-sm text-slate-700 dark:text-slate-300 border p-4 rounded-lg bg-white dark:bg-slate-800",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Asignatura:"})," ",r.asignatura]}),A.jsxs("p",{className:"text-right",children:[A.jsx("strong",{children:"Puntaje Ideal:"})," ",r.puntajeIdeal]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Nivel:"})," ",r.nivel]})]}),A.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 pt-2",children:[A.jsxs("span",{className:"font-semibold bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-200 px-2 py-1 rounded-full text-xs",children:["Dificultad: ",r.dificultad||"Intermedio"]}),r.adaptacionNEE&&r.adaptacionNEE.length>0&&A.jsxs("span",{className:"font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:["Adaptado para NEE: ",r.adaptacionNEE.join(", ")]})]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",r.objetivo]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Instrucciones Generales:"})," ",r.instruccionesGenerales]})]}),r.actividades.map(L=>A.jsxs("div",{className:"mt-8 bg-white dark:bg-slate-800 p-6 rounded-lg border dark:border-slate-700",children:[A.jsx("h3",{className:"text-lg font-bold border-b pb-2 mb-4 dark:border-slate-600",children:L.titulo}),A.jsx("p",{className:"italic text-sm mb-4",children:L.instrucciones}),A.jsx("div",{className:"space-y-6",children:L.items.map((D,W)=>A.jsx(_Y,{item:D,index:W,showAnswers:f},D.id))})]},L.id))]})]}):A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generar Nueva Prueba o Guía"}),A.jsxs("form",{onSubmit:_,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1 block",children:["Nombre de la Prueba/Guía ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{type:"text",name:"nombre",value:g.nombre,onChange:E,placeholder:"Ej: Guía N°1 - La Célula",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0})]}),A.jsx("div",{}),A.jsx("select",{name:"asignatura",value:g.asignatura,onChange:E,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:Oi.map(L=>A.jsx("option",{children:L},L))}),A.jsx("select",{name:"nivel",value:g.nivel,onChange:E,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:h1.map(L=>A.jsx("option",{children:L},L))})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t dark:border-slate-700",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-2 block",children:"Dificultad de la Prueba"}),A.jsx("div",{className:"flex rounded-lg shadow-sm",children:["Fácil","Intermedio","Avanzado"].map((L,D)=>A.jsx("button",{type:"button",onClick:()=>b(W=>({...W,dificultad:L})),className:`w-1/3 px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-opacity-50
                                            ${D===0?"rounded-l-lg":""} ${D===2?"rounded-r-lg":""}
                                            ${g.dificultad===L?"bg-amber-500 text-white z-10":"bg-slate-200 hover:bg-slate-300 text-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200"}`,children:L},L))})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:g.isNee,onChange:L=>b(D=>({...D,isNee:L.target.checked,selectedNee:L.target.checked?D.selectedNee:[]})),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 border-slate-300 dark:bg-slate-600 dark:border-slate-500"}),A.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Adaptar para Necesidades Educativas Especiales (NEE)"})]}),g.isNee&&A.jsxs("div",{className:"p-3 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Dificultades de Aprendizaje"}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:m1.map(L=>A.jsxs("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:g.selectedNee.includes(L),onChange:()=>B(L),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),A.jsx("span",{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:L})]},L))})]})]})]}),A.jsx("textarea",{name:"contenido",value:g.contenido,onChange:E,placeholder:"Contenido a evaluar...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsx("div",{className:"space-y-3",children:BY.map(L=>A.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300 dark:border-slate-700 dark:has-[:checked]:bg-amber-900/20 dark:has-[:checked]:border-amber-700",children:[A.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:!!g.tiposActividad[L],onChange:()=>S(L),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500"}),A.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 flex-grow",children:L})]}),g.tiposActividad[L]&&A.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[A.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cantidad:"}),$N[L].map(D=>A.jsx("button",{type:"button",onClick:()=>N(L,D),className:`px-3 py-1 rounded-full font-semibold text-xs transition-colors ${g.tiposActividad[L]===D?"bg-amber-500 text-white":"bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:hover:bg-slate-500"}`,children:D},D))]})]},L))}),c&&A.jsx("p",{className:"text-red-500 text-sm",children:c}),A.jsx("div",{className:"text-right",children:A.jsx("button",{type:"submit",disabled:a,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:a?"Generando...":"Generar Prueba"})})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Pruebas Guardadas"}),A.jsx("div",{className:"space-y-2",children:e.length>0?e.map(L=>A.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:L.nombre}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[L.asignatura," - ",L.nivel," (",new Date(L.fechaCreacion).toLocaleDateString(),")"]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>n(L),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Ver"}),A.jsx("button",{onClick:()=>U(L.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},L.id)):A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-4",children:"No hay pruebas guardadas."})})]})]})},kY=({rubricas:e,onUpdate:t})=>{const[r,n]=X.useState(null),[a,s]=X.useState("list"),[i,o]=X.useState(!1),[c,u]=X.useState(""),f=async(_,k)=>{if(!_.trim()||!k.trim()){alert("El título y la descripción son obligatorios.");return}o(!0);const U=`Crea una rúbrica de evaluación detallada sobre "${_}" con el propósito de "${k}". Genera entre 3 y 5 dimensiones de evaluación. Para cada dimensión, crea un descriptor para 4 niveles: Insuficiente, Suficiente, Competente, y Avanzado.`,F={type:xt.ARRAY,items:{type:xt.OBJECT,properties:{dimension:{type:xt.STRING},insuficiente:{type:xt.STRING},suficiente:{type:xt.STRING},competente:{type:xt.STRING},avanzado:{type:xt.STRING}},required:["dimension","insuficiente","suficiente","competente","avanzado"]}};try{gi("Evaluación - Rúbricas");const D=await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:U,config:{responseMimeType:"application/json",responseSchema:F}}),W=JSON.parse(D.text),O={id:crypto.randomUUID(),titulo:_,descripcion:k,fechaCreacion:new Date().toISOString(),dimensiones:W.map(M=>({id:crypto.randomUUID(),nombre:M.dimension,niveles:{insuficiente:M.insuficiente,suficiente:M.suficiente,competente:M.competente,avanzado:M.avanzado}}))};n(O)}catch(L){console.error(L),alert("Error al generar la rúbrica con IA.")}finally{o(!1)}},h=async()=>{if(!c.trim()||!r)return;const _=crypto.randomUUID(),k={id:_,nombre:c,niveles:{insuficiente:"",suficiente:"",competente:"",avanzado:""},isLoading:!0};n(L=>L?{...L,dimensiones:[...L.dimensiones,k]}:null),u("");const U=`Para una rúbrica sobre "${r.titulo}", genera los descriptores para los 4 niveles de logro (Insuficiente, Suficiente, Competente, Avanzado) para la nueva dimensión: "${c}". Considera las dimensiones existentes como contexto: ${r.dimensiones.map(L=>L.nombre).join(", ")}.`,F={type:xt.OBJECT,properties:{insuficiente:{type:xt.STRING},suficiente:{type:xt.STRING},competente:{type:xt.STRING},avanzado:{type:xt.STRING}},required:["insuficiente","suficiente","competente","avanzado"]};try{gi("Evaluación - Rúbricas (Añadir Dimensión)");const D=await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:U,config:{responseMimeType:"application/json",responseSchema:F}}),W=JSON.parse(D.text);n(O=>O?{...O,dimensiones:O.dimensiones.map(M=>M.id===_?{...M,niveles:W,isLoading:!1}:M)}:null)}catch(L){console.error("Error generating dimension descriptors:",L),alert("No se pudieron generar los descriptores."),n(D=>D?{...D,dimensiones:D.dimensiones.filter(W=>W.id!==_)}:null)}},p=()=>{if(!r)return;const k=e.some(U=>U.id===r.id)?e.map(U=>U.id===r.id?r:U):[r,...e];t(k),s("list"),n(null)},g=_=>{n(_),s("form")},b=_=>{window.confirm("¿Eliminar esta rúbrica?")&&t(e.filter(k=>k.id!==_))},y=()=>{n({id:crypto.randomUUID(),titulo:"",descripcion:"",fechaCreacion:new Date().toISOString(),dimensiones:[]}),s("form")},E=(_,k,U)=>{r&&n(F=>F?{...F,dimensiones:F.dimensiones.map(L=>L.id!==_?L:k==="nombre"?{...L,nombre:U}:{...L,niveles:{...L.niveles,[k]:U}})}:null)},S=(_,k)=>{n(U=>U?{...U,[_]:k}:null)},N=_=>{r&&n(k=>k?{...k,dimensiones:k.dimensiones.filter(U=>U.id!==_)}:null)},B=()=>{if(!r)return null;const _="w-full p-2 border border-slate-300 rounded-lg shadow-sm focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-700 dark:border-slate-600",k=`${_} resize-none text-sm`;return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Crear Rúbrica de Aprendizaje"}),A.jsx("button",{onClick:()=>s("list"),className:"text-sm font-semibold text-slate-500 hover:underline",children:"← Volver"})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Título de la Rúbrica"}),A.jsx("input",{value:r.titulo,onChange:U=>S("titulo",U.target.value),placeholder:"Ej. Rúbrica de Presentaciones Orales",className:`${_} mt-1`})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Descripción de la Rúbrica"}),A.jsx("textarea",{value:r.descripcion,onChange:U=>S("descripcion",U.target.value),placeholder:"Describe el propósito y los criterios de evaluación de esta rúbrica.",rows:3,className:`${_} mt-1`})]})]}),r.dimensiones.length===0&&A.jsx("div",{className:"text-center py-4",children:A.jsx("button",{onClick:()=>f(r.titulo,r.descripcion),disabled:i||!r.titulo||!r.descripcion,className:"bg-sky-500 text-white font-semibold py-2 px-5 rounded-lg disabled:bg-slate-400 flex items-center gap-2 mx-auto",children:i?"Generando...":"✨ Generar Rúbrica con IA"})}),r.dimensiones.length>0&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Dimensiones a Evaluar"}),A.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:A.jsxs("table",{className:"min-w-full text-sm",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:A.jsx("tr",{children:["Dimensión","Insuficiente","Suficiente","Competente","Avanzado",""].map(U=>A.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:U},U))})}),A.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:r.dimensiones.map(U=>A.jsxs("tr",{children:[A.jsx("td",{className:"p-2 w-1/5",children:A.jsx("textarea",{value:U.nombre,onChange:F=>E(U.id,"nombre",F.target.value),rows:4,className:k})}),Object.keys(U.niveles).map(F=>A.jsx("td",{className:"p-2 w-1/5",children:U.isLoading?A.jsx("div",{className:"flex justify-center items-center h-full",children:A.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 border-t-amber-500 rounded-full animate-spin"})}):A.jsx("textarea",{value:U.niveles[F],onChange:L=>E(U.id,F,L.target.value),rows:4,className:k})},F)),A.jsx("td",{className:"p-2 w-[5%] text-center align-middle",children:A.jsx("button",{onClick:()=>N(U.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full text-lg",children:"🗑️"})})]},U.id))})]})}),A.jsxs("div",{className:"flex items-end gap-2 pt-2",children:[A.jsxs("div",{className:"flex-grow",children:[A.jsx("label",{className:"text-sm font-medium",children:"Añadir Dimensión"}),A.jsx("input",{value:c,onChange:U=>u(U.target.value),placeholder:"Escribe el nombre de la nueva dimensión...",className:`${_} mt-1`})]}),A.jsx("button",{onClick:h,disabled:!c.trim(),className:"bg-slate-200 dark:bg-slate-600 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 h-10 disabled:opacity-50",children:"Generar con IA"})]})]}),A.jsx("div",{className:"flex justify-end pt-6 border-t dark:border-slate-700",children:A.jsx("button",{onClick:p,className:"bg-amber-500 text-white font-bold py-2.5 px-6 rounded-lg hover:bg-amber-600",children:"Guardar Rúbrica"})})]})};return a==="list"?A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-4",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Rúbricas"}),A.jsx("button",{onClick:y,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:"Crear Nueva"})]}),e.length>0?e.map(_=>A.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:_.titulo}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-lg",children:_.descripcion})]}),A.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[A.jsx("button",{onClick:()=>g(_),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Editar"}),A.jsx("button",{onClick:()=>b(_.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},_.id)):A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No hay rúbricas guardadas."})]}):B()},FY=({allUsers:e,rubricasEstaticas:t})=>{const[r,n]=X.useState([]),[a,s]=X.useState(null),[i,o]=X.useState(null),[c,u]=X.useState({rubricaEstaticaId:"",curso:""}),[f,h]=X.useState(null);X.useEffect(()=>{try{const B=localStorage.getItem(KN);B&&n(JSON.parse(B))}catch(B){console.error("Error loading interactive rubrics",B)}},[]);const p=B=>{n(B),localStorage.setItem(KN,JSON.stringify(B))},g=B=>{B.preventDefault();const _=t.find(U=>U.id===c.rubricaEstaticaId);if(!_||!c.curso){alert("Debe seleccionar una rúbrica y un curso.");return}const k={id:crypto.randomUUID(),nombre:_.titulo,curso:c.curso,asignatura:"N/A",rubricaEstaticaId:_.id,resultados:{}};p([k,...r]),u({rubricaEstaticaId:"",curso:""})},b=B=>{s(B),o(JSON.parse(JSON.stringify(B)))},y=(B,_,k)=>{i&&o(U=>{if(!U)return null;const F=JSON.parse(JSON.stringify(U));return F.resultados[B]||(F.resultados[B]={puntajes:{},feedback:""}),F.resultados[B].puntajes[_]=k,F})},E=()=>{i&&(p(r.map(B=>B.id===i.id?i:B)),s(i),alert("Cambios guardados."))},S=X.useCallback(B=>{const _=i,k=t.find(O=>O.id===(_==null?void 0:_.rubricaEstaticaId));if(!_||!k)return{score:0,maxScore:0,grade:"N/A"};const U=k.dimensiones.length*4,F=_.resultados[B];if(!F)return{score:0,maxScore:U,grade:"1.0"};const L=Object.values(F.puntajes).reduce((O,M)=>O+M,0),D=1+6*(L/U),W=U>0?D.toFixed(1):"1.0";return{score:L,maxScore:U,grade:W}},[i,t]),N=async B=>{if(!i)return;const _=t.find(L=>L.id===i.rubricaEstaticaId),k=i.resultados[B];if(!_||!k||Object.keys(k.puntajes).length===0)return;h(B);const F=`Genera una retroalimentación constructiva para un estudiante basada en estos puntajes de rúbrica (de 1 a 4): ${_.dimensiones.map(L=>`${L.nombre}: ${k.puntajes[L.nombre]||"N/A"}/4`).join("; ")}. Destaca fortalezas y sugiere 1-2 áreas de mejora concretas. Sé breve y motivador.`;try{gi("Evaluación - Rúbricas Interactivas (Feedback)");const D=await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:F});o(W=>{if(!W)return null;const O=JSON.parse(JSON.stringify(W));return O.resultados[B].feedback=D.text.replace(/(\*\*|\*)/g,""),O})}catch(L){console.error(L),alert("Error al generar feedback.")}finally{h(null)}};if(a&&i){const B=t.find(k=>k.id===a.rubricaEstaticaId),_=e.filter(k=>k.profile===Kt.ESTUDIANTE&&Xx(k.curso||"")===a.curso).map(k=>k.nombreCompleto).sort();return B?A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:a.nombre}),A.jsx("p",{className:"text-slate-500",children:a.curso})]}),A.jsx("button",{onClick:()=>s(null),className:"font-semibold text-slate-600",children:"← Volver"})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full border-collapse",children:[A.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-2 border dark:border-slate-600 sticky left-0 bg-slate-100 dark:bg-slate-700 z-10 w-48",children:"Estudiante"}),B.dimensiones.map(k=>A.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:k.nombre},k.id)),A.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Puntaje"}),A.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Nota"}),A.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm w-64",children:"Retroalimentación"})]})}),A.jsx("tbody",{children:_.map(k=>{var D;const{score:U,maxScore:F,grade:L}=S(k);return A.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[A.jsx("td",{className:"p-2 border dark:border-slate-600 font-semibold sticky left-0 bg-white dark:bg-slate-800 w-48",children:k}),B.dimensiones.map(W=>A.jsx("td",{className:"p-2 border dark:border-slate-600 text-center",children:A.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4].map(O=>{var M;return A.jsx("button",{onClick:()=>y(k,W.nombre,O),className:`w-7 h-7 rounded-md font-semibold transition-colors ${((M=i.resultados[k])==null?void 0:M.puntajes[W.nombre])===O?"bg-amber-400 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300"}`,children:O},O)})})},W.id)),A.jsxs("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:[U,"/",F]}),A.jsx("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:L}),A.jsx("td",{className:"p-2 border dark:border-slate-600 text-sm",children:A.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[A.jsx("p",{className:"text-xs w-full",children:((D=i.resultados[k])==null?void 0:D.feedback)||"Sin generar"}),A.jsx("button",{onClick:()=>N(k),disabled:f===k,className:"text-xs bg-sky-100 text-sky-700 font-semibold px-2 py-1 rounded-md w-full disabled:opacity-50",children:f===k?"...":"Generar IA"})]})})]},k)})})]})}),A.jsx("div",{className:"mt-6 flex justify-end",children:A.jsx("button",{onClick:E,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})})]}):A.jsxs("div",{children:["Error: Rúbrica base no encontrada. ",A.jsx("button",{onClick:()=>s(null),children:"Volver"})]})}return A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear Evaluación con Rúbrica"}),A.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[A.jsxs("select",{value:c.rubricaEstaticaId,onChange:B=>u({...c,rubricaEstaticaId:B.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[A.jsx("option",{value:"",children:"Seleccione una Rúbrica Guardada"}),t.map(B=>A.jsx("option",{value:B.id,children:B.titulo},B.id))]}),A.jsxs("select",{value:c.curso,onChange:B=>u({...c,curso:B.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[A.jsx("option",{value:"",children:"Seleccione un Curso"}),wa.map(B=>A.jsx("option",{value:B,children:B},B))]}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear Evaluación"})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Evaluaciones Creadas"}),A.jsx("div",{className:"space-y-2",children:r.map(B=>A.jsxs("button",{onClick:()=>b(B),className:"w-full text-left p-3 rounded-md bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600",children:[A.jsx("p",{className:"font-semibold",children:B.nombre}),A.jsx("p",{className:"text-sm text-slate-500",children:B.curso})]},B.id))})]})]})},IY=({allUsers:e})=>{const[t,r]=X.useState(""),n=X.useMemo(()=>Array.from(new Set(e.filter(s=>s.profile===Kt.ESTUDIANTE&&s.curso).map(s=>Xx(s.curso)))).sort(),[e]),a=X.useMemo(()=>{const s=e.filter(i=>i.profile===Kt.ESTUDIANTE);return t?s.filter(i=>Xx(i.curso||"")===t).sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto)):s.sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto))},[e,t]);return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Nóminas de Cursos"}),A.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Este es un visor de las nóminas de estudiantes. Para agregar, editar o eliminar estudiantes, utilice el módulo de ",A.jsx("strong",{className:"font-semibold",children:"Administración"}),"."]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Curso"}),A.jsxs("select",{id:"curso-filter",value:t,onChange:s=>r(s.target.value),className:"w-full max-w-xs border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{value:"",children:"Mostrar Todos los Estudiantes"}),n.map(s=>A.jsx("option",{value:s,children:s},s))]})]}),A.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-slate-700 max-h-[60vh]",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nombre Completo"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Curso"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Email"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:a.length>0?a.map(s=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:s.nombreCompleto}),A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:Xx(s.curso||"")}),A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.email})]},s.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No hay estudiantes que coincidan con el filtro."})})})]})})]})},UY=()=>{const[e,t]=X.useState("pruebas"),[r,n]=X.useState([]),[a,s]=X.useState([]);X.useEffect(()=>{const c=()=>{try{const u=localStorage.getItem(SY);u&&n(JSON.parse(u));const f=localStorage.getItem(WN);f&&s(JSON.parse(f))}catch(u){console.error("Error loading data for evaluation module",u)}};return c(),window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[]);const i=c=>{s(c),localStorage.setItem(WN,JSON.stringify(c)),window.dispatchEvent(new Event("storage"))},o=({tabName:c,label:u})=>A.jsx("button",{onClick:()=>t(c),className:`${e===c?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:u});return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluación de Aprendizajes"}),A.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:A.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[A.jsx(o,{tabName:"pruebas",label:"Pruebas y Guías"}),A.jsx(o,{tabName:"rubricas",label:"Generador de Rúbricas"}),A.jsx(o,{tabName:"rubricasInteractivas",label:"Rúbricas Interactivas"}),A.jsx(o,{tabName:"nominas",label:"Gestión de Nóminas"})]})}),A.jsxs("div",{className:"mt-6",children:[e==="pruebas"&&A.jsx(TY,{}),e==="rubricas"&&A.jsx(kY,{rubricas:a,onUpdate:i}),e==="rubricasInteractivas"&&A.jsx(FY,{allUsers:r,rubricasEstaticas:a}),e==="nominas"&&A.jsx(IY,{allUsers:r})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var E1={};E1.version="0.18.5";var OI=1252,DY=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],jC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},OC=function(e){DY.indexOf(e)!=-1&&(OI=jC[0]=e)};function LY(){OC(1252)}var Zo=function(e){OC(e)};function QC(){Zo(1200),LY()}function YN(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function RY(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function QI(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var mm=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?RY(e.slice(2)):t==254&&r==255?QI(e.slice(2)):t==65279?e.slice(1):e},Jg=function(t){return String.fromCharCode(t)},JN=function(t){return String.fromCharCode(t)},Jm,Au="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Xm(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=Au.charAt(s)+Au.charAt(i)+Au.charAt(o)+Au.charAt(c);return t}function Qi(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=Au.indexOf(e.charAt(u++)),i=Au.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=Au.indexOf(e.charAt(u++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=Au.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Br=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),tA=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Su(e){return Br?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function XN(e){return Br?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Mi=function(t){return Br?tA(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function vv(e){if(typeof ArrayBuffer>"u")return Mi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Iu(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function MY(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function HC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return HC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Xa=Br?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:tA(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function PY(e){for(var t=[],r=0,n=e.length+250,a=Su(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Su(65535),n=65530)}return t.push(a.slice(0,r)),Xa(t)}var Zs=/\u0000/g,pm=/[\u0001-\u0006]/g;function F0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function el(e,t){var r=""+e;return r.length>=t?r:na("0",t-r.length)+r}function VC(e,t){var r=""+e;return r.length>=t?r:na(" ",t-r.length)+r}function S1(e,t){var r=""+e;return r.length>=t?r:r+na(" ",t-r.length)}function jY(e,t){var r=""+Math.round(e);return r.length>=t?r:na("0",t-r.length)+r}function OY(e,t){var r=""+e;return r.length>=t?r:na("0",t-r.length)+r}var ZN=Math.pow(2,32);function zf(e,t){if(e>ZN||e<-ZN)return jY(e,t);var r=Math.round(e);return OY(r,t)}function B1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var e_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Mw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function QY(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var rr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},t_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},HY={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function N1(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,c=1,u=0,f=0,h=Math.floor(a);u<t&&(h=Math.floor(a),o=h*i+s,f=h*u+c,!(a-h<5e-8));)a=1/(a-h),s=i,i=o,c=u,u=f;if(f>t&&(u>t?(f=c,o=s):(f=u,o=i)),!r)return[0,n*o,f];var p=Math.floor(n*o/f);return[p,n*o-p*f,f]}function Sd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=WY(c,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var HI=new Date(1899,11,31,0,0,0),VY=HI.getTime(),GY=new Date(1900,2,1,0,0,0);function VI(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=GY&&(r+=1440*60*1e3),(r-(VY+(e.getTimezoneOffset()-HI.getTimezoneOffset())*6e4))/(1440*60*1e3)}function GC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function zY(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function KY(e){var t=e<0?12:11,r=GC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function qY(e){var t=GC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Zm(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=KY(e):t===10?r=e.toFixed(10).substr(0,12):r=qY(e),GC(zY(r.toUpperCase()))}function Od(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Zm(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return wo(14,VI(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function WY(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function $Y(e,t,r,n){var a="",s=0,i=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Mw[r.m-1][1];case 5:return Mw[r.m-1][0];default:return Mw[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return e_[r.q][0];default:return e_[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?el(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=el(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var f=u>0?el(c,u):"";return f}function uu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var GI=/%/g;function YY(e,t,r){var n=t.replace(GI,""),a=t.length-n.length;return Hc(e,n,r*Math.pow(10,2*a))+na("%",a)}function JY(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Hc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function zI(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+zI(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(a+s)%a)+"."+f.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var KI=/# (\?+)( ?)\/( ?)(\d+)/;function XY(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?na(" ",e[1].length+1+e[4].length):VC(i,e[1].length)+e[2]+"/"+e[3]+el(o,e[4].length))}function ZY(e,t,r){return r+(t===0?"":""+t)+na(" ",e[1].length+2+e[4].length)}var qI=/^#*0*\.([0#]+)/,WI=/\).*[0#]/,$I=/\(###\) ###\\?-####/;function Js(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function r_(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function n_(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function eJ(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function tJ(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function so(e,t,r){if(e.charCodeAt(0)===40&&!t.match(WI)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?so("n",n,r):"("+so("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return JY(e,t,r);if(t.indexOf("%")!==-1)return YY(e,t,r);if(t.indexOf("E")!==-1)return zI(t,r);if(t.charCodeAt(0)===36)return"$"+so(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+zf(c,t.length);if(t.match(/^[#?]+$/))return a=zf(r,0),a==="0"&&(a=""),a.length>t.length?a:Js(t.substr(0,t.length-a.length))+a;if(s=t.match(KI))return XY(s,c,u);if(t.match(/^#+0+$/))return u+zf(c,t.length-t.indexOf("0"));if(s=t.match(qI))return a=r_(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Js(s[1])).replace(/\.$/,"."+Js(s[1])).replace(/\.(\d*)$/,function(b,y){return"."+y+na("0",Js(s[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+r_(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+uu(zf(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+so(e,t,-r):uu(""+(Math.floor(r)+eJ(r,s[1].length)))+"."+el(n_(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return so(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=F0(so(e,t.replace(/[\\-]/g,""),r)),i=0,F0(F0(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return i<a.length?a.charAt(i++):b==="0"?"0":""}));if(t.match($I))return a=so(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=N1(c,Math.pow(10,i)-1,!1),a=""+u,f=Hc("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+s[2]+"/"+s[3],f=S1(o[2],i),f.length<s[4].length&&(f=Js(s[4].substr(s[4].length-f.length))+f),a+=f,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=N1(c,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?VC(o[1],i)+s[2]+"/"+s[3]+S1(o[2],i):na(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=zf(r,0),t.length<=a.length?a:Js(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var h=t.indexOf(".")-i,p=t.length-a.length-h;return Js(t.substr(0,h)+a+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=n_(r,s[1].length),r<0?"-"+so(e,t,-r):uu(tJ(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?el(0,3-b.length):"")+b})+"."+el(i,s[1].length);switch(t){case"###,##0.00":return so(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=uu(zf(c,0));return g!=="0"?u+g:"";case"###,###.00":return so(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return so(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function rJ(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Hc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function nJ(e,t,r){var n=t.replace(GI,""),a=t.length-n.length;return Hc(e,n,r*Math.pow(10,2*a))+na("%",a)}function YI(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+YI(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(a+s)%a)+"."+f.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Gl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(WI)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Gl("n",n,r):"("+Gl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return rJ(e,t,r);if(t.indexOf("%")!==-1)return nJ(e,t,r);if(t.indexOf("E")!==-1)return YI(t,r);if(t.charCodeAt(0)===36)return"$"+Gl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+el(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Js(t.substr(0,t.length-a.length))+a;if(s=t.match(KI))return ZY(s,c,u);if(t.match(/^#+0+$/))return u+el(c,t.length-t.indexOf("0"));if(s=t.match(qI))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Js(s[1])).replace(/\.$/,"."+Js(s[1])),a=a.replace(/\.(\d*)$/,function(b,y){return"."+y+na("0",Js(s[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+uu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Gl(e,t,-r):uu(""+r)+"."+na("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Gl(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=F0(Gl(e,t.replace(/[\\-]/g,""),r)),i=0,F0(F0(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return i<a.length?a.charAt(i++):b==="0"?"0":""}));if(t.match($I))return a=Gl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=N1(c,Math.pow(10,i)-1,!1),a=""+u,f=Hc("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+s[2]+"/"+s[3],f=S1(o[2],i),f.length<s[4].length&&(f=Js(s[4].substr(s[4].length-f.length))+f),a+=f,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=N1(c,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?VC(o[1],i)+s[2]+"/"+s[3]+S1(o[2],i):na(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Js(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var h=t.indexOf(".")-i,p=t.length-a.length-h;return Js(t.substr(0,h)+a+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Gl(e,t,-r):uu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?el(0,3-b.length):"")+b})+"."+el(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=uu(""+c);return g!=="0"?u+g:"";default:if(t.match(/\.[0#?]*$/))return Gl(e,t.slice(0,t.lastIndexOf(".")),r)+Js(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Hc(e,t,r){return(r|0)===r?Gl(e,t,r):so(e,t,r)}function aJ(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var JI=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function rh(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":B1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(JI))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function sJ(e,t,r,n){for(var a=[],s="",i=0,o="",c="t",u,f,h,p="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!B1(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(h=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(h);a[a.length]={t:"t",v:s},++i;break;case"\\":var g=e.charAt(++i),b=g==="("||g===")"?g:"t";a[a.length]={t:b,v:g},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Sd(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Sd(t,r),u==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),a[a.length]={t:o,v:s},c=o;break;case"A":case"a":case"上":var y={t:o,v:o};if(u==null&&(u=Sd(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",p="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",i+=5,p="h"):e.substr(i,5).toUpperCase()==="上午/下午"?(u!=null&&(y.v=u.H>=12?"下午":"上午"),y.t="T",i+=5,p="h"):(y.t="t",++i),u==null&&y.t==="T")return"";a[a.length]=y,c=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(JI)){if(u==null&&(u=Sd(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",rh(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},c=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var E=0,S=0,N;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=p,c="h",E<1&&(E=1);break;case"s":(N=a[i].v.match(/\.0+$/))&&(S=Math.max(S,N[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&a[i].v.match(/[Hh]/)&&(E=1),E<2&&a[i].v.match(/[Mm]/)&&(E=2),E<3&&a[i].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var B="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=$Y(a[i].t.charCodeAt(0),a[i].v,u,S),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;B+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=Od(t,r);break}var k="",U,F;if(B.length>0){B.charCodeAt(0)==40?(U=t<0&&B.charCodeAt(0)===45?-t:t,F=Hc("n",B,U)):(U=t<0&&n>1?-t:t,F=Hc("n",B,U),U<0&&a[0]&&a[0].t=="t"&&(F=F.substr(1),a[0].v="-"+a[0].v)),_=F.length-1;var L=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){L=i;break}var D=a.length;if(L===a.length&&F.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=F.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=F.substr(0,_+1),_=-1),a[i].t="t",D=i);_>=0&&D<a.length&&(a[D].v=F.substr(0,_+1)+a[D].v)}else if(L!==a.length&&F.indexOf("E")===-1){for(_=F.indexOf(".")-1,i=L;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(f=a[i].v.indexOf(".")>-1&&i===L?a[i].v.indexOf(".")-1:a[i].v.length-1,k=a[i].v.substr(f+1);f>=0;--f)_>=0&&(a[i].v.charAt(f)==="0"||a[i].v.charAt(f)==="#")&&(k=F.charAt(_--)+k);a[i].v=k,a[i].t="t",D=i}for(_>=0&&D<a.length&&(a[D].v=F.substr(0,_+1)+a[D].v),_=F.indexOf(".")+1,i=L;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==L)){for(f=a[i].v.indexOf(".")>-1&&i===L?a[i].v.indexOf(".")+1:0,k=a[i].v.substr(0,f);f<a[i].v.length;++f)_<F.length&&(k+=F.charAt(_++));a[i].v=k,a[i].t="t",D=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(U=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Hc(a[i].t,a[i].v,U),a[i].t="t");var W="";for(i=0;i!==a.length;++i)a[i]!=null&&(W+=a[i].v);return W}var a_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function s_(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function iJ(e,t){var r=aJ(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(a_),o=r[1].match(a_);return s_(t,i)?[n,r[0]]:s_(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function wo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:rr)[e],n==null&&(n=r.table&&r.table[t_[e]]||rr[t_[e]]),n==null&&(n=HY[e]||"General");break}if(B1(n,0))return Od(t,r);t instanceof Date&&(t=VI(t,r.date1904));var a=iJ(n,t);if(B1(a[1]))return Od(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return sJ(a[1],t,r,a[0])}function Vc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(rr[r]==null){t<0&&(t=r);continue}if(rr[r]==e){t=r;break}}t<0&&(t=391)}return rr[t]=e,t}function wv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Vc(e[t],t)}function nh(){rr=QY()}var oJ={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},XI=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function lJ(e){var t=typeof e=="number"?rr[e]:e;return t=t.replace(XI,"(\\d+)"),new RegExp("^"+t+"$")}function cJ(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,c=-1;(t.match(XI)||[]).forEach(function(h,p){var g=parseInt(r[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=g;break;case"d":s=g;break;case"h":i=g;break;case"s":c=g;break;case"m":i>=0?o=g:a=g;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&s==-1?f:u+"T"+f}var AJ=function(){var e={};e.version="1.2.0";function t(){for(var F=0,L=new Array(256),D=0;D!=256;++D)F=D,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,L[D]=F;return typeof Int32Array<"u"?new Int32Array(L):L}var r=t();function n(F){var L=0,D=0,W=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(W=0;W!=256;++W)O[W]=F[W];for(W=0;W!=256;++W)for(D=F[W],L=256+W;L<4096;L+=256)D=O[L]=D>>>8^F[D&255];var M=[];for(W=1;W!=16;++W)M[W-1]=typeof Int32Array<"u"?O.subarray(W*256,W*256+256):O.slice(W*256,W*256+256);return M}var a=n(r),s=a[0],i=a[1],o=a[2],c=a[3],u=a[4],f=a[5],h=a[6],p=a[7],g=a[8],b=a[9],y=a[10],E=a[11],S=a[12],N=a[13],B=a[14];function _(F,L){for(var D=L^-1,W=0,O=F.length;W<O;)D=D>>>8^r[(D^F.charCodeAt(W++))&255];return~D}function k(F,L){for(var D=L^-1,W=F.length-15,O=0;O<W;)D=B[F[O++]^D&255]^N[F[O++]^D>>8&255]^S[F[O++]^D>>16&255]^E[F[O++]^D>>>24]^y[F[O++]]^b[F[O++]]^g[F[O++]]^p[F[O++]]^h[F[O++]]^f[F[O++]]^u[F[O++]]^c[F[O++]]^o[F[O++]]^i[F[O++]]^s[F[O++]]^r[F[O++]];for(W+=15;O<W;)D=D>>>8^r[(D^F[O++])&255];return~D}function U(F,L){for(var D=L^-1,W=0,O=F.length,M=0,K=0;W<O;)M=F.charCodeAt(W++),M<128?D=D>>>8^r[(D^M)&255]:M<2048?(D=D>>>8^r[(D^(192|M>>6&31))&255],D=D>>>8^r[(D^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,K=F.charCodeAt(W++)&1023,D=D>>>8^r[(D^(240|M>>8&7))&255],D=D>>>8^r[(D^(128|M>>2&63))&255],D=D>>>8^r[(D^(128|K>>6&15|(M&3)<<4))&255],D=D>>>8^r[(D^(128|K&63))&255]):(D=D>>>8^r[(D^(224|M>>12&15))&255],D=D>>>8^r[(D^(128|M>>6&63))&255],D=D>>>8^r[(D^(128|M&63))&255]);return~D}return e.table=r,e.bstr=_,e.buf=k,e.str=U,e}(),Yt=function(){var t={};t.version="1.2.1";function r(de,Ee){for(var ve=de.split("/"),ye=Ee.split("/"),Ce=0,Se=0,Qe=Math.min(ve.length,ye.length);Ce<Qe;++Ce){if(Se=ve[Ce].length-ye[Ce].length)return Se;if(ve[Ce]!=ye[Ce])return ve[Ce]<ye[Ce]?-1:1}return ve.length-ye.length}function n(de){if(de.charAt(de.length-1)=="/")return de.slice(0,-1).indexOf("/")===-1?de:n(de.slice(0,-1));var Ee=de.lastIndexOf("/");return Ee===-1?de:de.slice(0,Ee+1)}function a(de){if(de.charAt(de.length-1)=="/")return a(de.slice(0,-1));var Ee=de.lastIndexOf("/");return Ee===-1?de:de.slice(Ee+1)}function s(de,Ee){typeof Ee=="string"&&(Ee=new Date(Ee));var ve=Ee.getHours();ve=ve<<6|Ee.getMinutes(),ve=ve<<5|Ee.getSeconds()>>>1,de.write_shift(2,ve);var ye=Ee.getFullYear()-1980;ye=ye<<4|Ee.getMonth()+1,ye=ye<<5|Ee.getDate(),de.write_shift(2,ye)}function i(de){var Ee=de.read_shift(2)&65535,ve=de.read_shift(2)&65535,ye=new Date,Ce=ve&31;ve>>>=5;var Se=ve&15;ve>>>=4,ye.setMilliseconds(0),ye.setFullYear(ve+1980),ye.setMonth(Se-1),ye.setDate(Ce);var Qe=Ee&31;Ee>>>=5;var Xe=Ee&63;return Ee>>>=6,ye.setHours(Ee),ye.setMinutes(Xe),ye.setSeconds(Qe<<1),ye}function o(de){fs(de,0);for(var Ee={},ve=0;de.l<=de.length-4;){var ye=de.read_shift(2),Ce=de.read_shift(2),Se=de.l+Ce,Qe={};switch(ye){case 21589:ve=de.read_shift(1),ve&1&&(Qe.mtime=de.read_shift(4)),Ce>5&&(ve&2&&(Qe.atime=de.read_shift(4)),ve&4&&(Qe.ctime=de.read_shift(4))),Qe.mtime&&(Qe.mt=new Date(Qe.mtime*1e3));break}de.l=Se,Ee[ye]=Qe}return Ee}var c;function u(){return c||(c={})}function f(de,Ee){if(de[0]==80&&de[1]==75)return jr(de,Ee);if((de[0]|32)==109&&(de[1]|32)==105)return ps(de,Ee);if(de.length<512)throw new Error("CFB file size "+de.length+" < 512");var ve=3,ye=512,Ce=0,Se=0,Qe=0,Xe=0,Re=0,ze=[],We=de.slice(0,512);fs(We,0);var ht=h(We);switch(ve=ht[0],ve){case 3:ye=512;break;case 4:ye=4096;break;case 0:if(ht[1]==0)return jr(de,Ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+ve)}ye!==512&&(We=de.slice(0,ye),fs(We,28));var wt=de.slice(0,ye);p(We,ve);var kt=We.read_shift(4,"i");if(ve===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);We.l+=4,Qe=We.read_shift(4,"i"),We.l+=4,We.chk("00100000","Mini Stream Cutoff Size: "),Xe=We.read_shift(4,"i"),Ce=We.read_shift(4,"i"),Re=We.read_shift(4,"i"),Se=We.read_shift(4,"i");for(var vt=-1,_t=0;_t<109&&(vt=We.read_shift(4,"i"),!(vt<0));++_t)ze[_t]=vt;var Zt=g(de,ye);E(Re,Se,Zt,ye,ze);var Ir=N(Zt,Qe,ze,ye);Ir[Qe].name="!Directory",Ce>0&&Xe!==K&&(Ir[Xe].name="!MiniFAT"),Ir[ze[0]].name="!FAT",Ir.fat_addrs=ze,Ir.ssz=ye;var Mr={},Wr=[],Ha=[],ri=[];B(Qe,Ir,Zt,Wr,Ce,Mr,Ha,Xe),b(Ha,ri,Wr),Wr.shift();var La={FileIndex:Ha,FullPaths:ri};return Ee&&Ee.raw&&(La.raw={header:wt,sectors:Zt}),La}function h(de){if(de[de.l]==80&&de[de.l+1]==75)return[0,0];de.chk(Q,"Header Signature: "),de.l+=16;var Ee=de.read_shift(2,"u");return[de.read_shift(2,"u"),Ee]}function p(de,Ee){var ve=9;switch(de.l+=2,ve=de.read_shift(2)){case 9:if(Ee!=3)throw new Error("Sector Shift: Expected 9 saw "+ve);break;case 12:if(Ee!=4)throw new Error("Sector Shift: Expected 12 saw "+ve);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ve)}de.chk("0600","Mini Sector Shift: "),de.chk("000000000000","Reserved: ")}function g(de,Ee){for(var ve=Math.ceil(de.length/Ee)-1,ye=[],Ce=1;Ce<ve;++Ce)ye[Ce-1]=de.slice(Ce*Ee,(Ce+1)*Ee);return ye[ve-1]=de.slice(ve*Ee),ye}function b(de,Ee,ve){for(var ye=0,Ce=0,Se=0,Qe=0,Xe=0,Re=ve.length,ze=[],We=[];ye<Re;++ye)ze[ye]=We[ye]=ye,Ee[ye]=ve[ye];for(;Xe<We.length;++Xe)ye=We[Xe],Ce=de[ye].L,Se=de[ye].R,Qe=de[ye].C,ze[ye]===ye&&(Ce!==-1&&ze[Ce]!==Ce&&(ze[ye]=ze[Ce]),Se!==-1&&ze[Se]!==Se&&(ze[ye]=ze[Se])),Qe!==-1&&(ze[Qe]=ye),Ce!==-1&&ye!=ze[ye]&&(ze[Ce]=ze[ye],We.lastIndexOf(Ce)<Xe&&We.push(Ce)),Se!==-1&&ye!=ze[ye]&&(ze[Se]=ze[ye],We.lastIndexOf(Se)<Xe&&We.push(Se));for(ye=1;ye<Re;++ye)ze[ye]===ye&&(Se!==-1&&ze[Se]!==Se?ze[ye]=ze[Se]:Ce!==-1&&ze[Ce]!==Ce&&(ze[ye]=ze[Ce]));for(ye=1;ye<Re;++ye)if(de[ye].type!==0){if(Xe=ye,Xe!=ze[Xe])do Xe=ze[Xe],Ee[ye]=Ee[Xe]+"/"+Ee[ye];while(Xe!==0&&ze[Xe]!==-1&&Xe!=ze[Xe]);ze[ye]=-1}for(Ee[0]+="/",ye=1;ye<Re;++ye)de[ye].type!==2&&(Ee[ye]+="/")}function y(de,Ee,ve){for(var ye=de.start,Ce=de.size,Se=[],Qe=ye;ve&&Ce>0&&Qe>=0;)Se.push(Ee.slice(Qe*M,Qe*M+M)),Ce-=M,Qe=Cd(ve,Qe*4);return Se.length===0?rt(0):Xa(Se).slice(0,de.size)}function E(de,Ee,ve,ye,Ce){var Se=K;if(de===K){if(Ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(de!==-1){var Qe=ve[de],Xe=(ye>>>2)-1;if(!Qe)return;for(var Re=0;Re<Xe&&(Se=Cd(Qe,Re*4))!==K;++Re)Ce.push(Se);E(Cd(Qe,ye-4),Ee-1,ve,ye,Ce)}}function S(de,Ee,ve,ye,Ce){var Se=[],Qe=[];Ce||(Ce=[]);var Xe=ye-1,Re=0,ze=0;for(Re=Ee;Re>=0;){Ce[Re]=!0,Se[Se.length]=Re,Qe.push(de[Re]);var We=ve[Math.floor(Re*4/ye)];if(ze=Re*4&Xe,ye<4+ze)throw new Error("FAT boundary crossed: "+Re+" 4 "+ye);if(!de[We])break;Re=Cd(de[We],ze)}return{nodes:Se,data:g_([Qe])}}function N(de,Ee,ve,ye){var Ce=de.length,Se=[],Qe=[],Xe=[],Re=[],ze=ye-1,We=0,ht=0,wt=0,kt=0;for(We=0;We<Ce;++We)if(Xe=[],wt=We+Ee,wt>=Ce&&(wt-=Ce),!Qe[wt]){Re=[];var vt=[];for(ht=wt;ht>=0;){vt[ht]=!0,Qe[ht]=!0,Xe[Xe.length]=ht,Re.push(de[ht]);var _t=ve[Math.floor(ht*4/ye)];if(kt=ht*4&ze,ye<4+kt)throw new Error("FAT boundary crossed: "+ht+" 4 "+ye);if(!de[_t]||(ht=Cd(de[_t],kt),vt[ht]))break}Se[wt]={nodes:Xe,data:g_([Re])}}return Se}function B(de,Ee,ve,ye,Ce,Se,Qe,Xe){for(var Re=0,ze=ye.length?2:0,We=Ee[de].data,ht=0,wt=0,kt;ht<We.length;ht+=128){var vt=We.slice(ht,ht+128);fs(vt,64),wt=vt.read_shift(2),kt=JC(vt,0,wt-ze),ye.push(kt);var _t={name:kt,type:vt.read_shift(1),color:vt.read_shift(1),L:vt.read_shift(4,"i"),R:vt.read_shift(4,"i"),C:vt.read_shift(4,"i"),clsid:vt.read_shift(16),state:vt.read_shift(4,"i"),start:0,size:0},Zt=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);Zt!==0&&(_t.ct=_(vt,vt.l-8));var Ir=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);Ir!==0&&(_t.mt=_(vt,vt.l-8)),_t.start=vt.read_shift(4,"i"),_t.size=vt.read_shift(4,"i"),_t.size<0&&_t.start<0&&(_t.size=_t.type=0,_t.start=K,_t.name=""),_t.type===5?(Re=_t.start,Ce>0&&Re!==K&&(Ee[Re].name="!StreamData")):_t.size>=4096?(_t.storage="fat",Ee[_t.start]===void 0&&(Ee[_t.start]=S(ve,_t.start,Ee.fat_addrs,Ee.ssz)),Ee[_t.start].name=_t.name,_t.content=Ee[_t.start].data.slice(0,_t.size)):(_t.storage="minifat",_t.size<0?_t.size=0:Re!==K&&_t.start!==K&&Ee[Re]&&(_t.content=y(_t,Ee[Re].data,(Ee[Xe]||{}).data))),_t.content&&fs(_t.content,0),Se[kt]=_t,Qe.push(_t)}}function _(de,Ee){return new Date((Ri(de,Ee+4)/1e7*Math.pow(2,32)+Ri(de,Ee)/1e7-11644473600)*1e3)}function k(de,Ee){return u(),f(c.readFileSync(de),Ee)}function U(de,Ee){var ve=Ee&&Ee.type;switch(ve||Br&&Buffer.isBuffer(de)&&(ve="buffer"),ve||"base64"){case"file":return k(de,Ee);case"base64":return f(Mi(Qi(de)),Ee);case"binary":return f(Mi(de),Ee)}return f(de,Ee)}function F(de,Ee){var ve=Ee||{},ye=ve.root||"Root Entry";if(de.FullPaths||(de.FullPaths=[]),de.FileIndex||(de.FileIndex=[]),de.FullPaths.length!==de.FileIndex.length)throw new Error("inconsistent CFB structure");de.FullPaths.length===0&&(de.FullPaths[0]=ye+"/",de.FileIndex[0]={name:ye,type:5}),ve.CLSID&&(de.FileIndex[0].clsid=ve.CLSID),L(de)}function L(de){var Ee="Sh33tJ5";if(!Yt.find(de,"/"+Ee)){var ve=rt(4);ve[0]=55,ve[1]=ve[3]=50,ve[2]=54,de.FileIndex.push({name:Ee,type:2,content:ve,size:4,L:69,R:69,C:69}),de.FullPaths.push(de.FullPaths[0]+Ee),D(de)}}function D(de,Ee){F(de);for(var ve=!1,ye=!1,Ce=de.FullPaths.length-1;Ce>=0;--Ce){var Se=de.FileIndex[Ce];switch(Se.type){case 0:ye?ve=!0:(de.FileIndex.pop(),de.FullPaths.pop());break;case 1:case 2:case 5:ye=!0,isNaN(Se.R*Se.L*Se.C)&&(ve=!0),Se.R>-1&&Se.L>-1&&Se.R==Se.L&&(ve=!0);break;default:ve=!0;break}}if(!(!ve&&!Ee)){var Qe=new Date(1987,1,19),Xe=0,Re=Object.create?Object.create(null):{},ze=[];for(Ce=0;Ce<de.FullPaths.length;++Ce)Re[de.FullPaths[Ce]]=!0,de.FileIndex[Ce].type!==0&&ze.push([de.FullPaths[Ce],de.FileIndex[Ce]]);for(Ce=0;Ce<ze.length;++Ce){var We=n(ze[Ce][0]);ye=Re[We],ye||(ze.push([We,{name:a(We).replace("/",""),type:1,clsid:V,ct:Qe,mt:Qe,content:null}]),Re[We]=!0)}for(ze.sort(function(kt,vt){return r(kt[0],vt[0])}),de.FullPaths=[],de.FileIndex=[],Ce=0;Ce<ze.length;++Ce)de.FullPaths[Ce]=ze[Ce][0],de.FileIndex[Ce]=ze[Ce][1];for(Ce=0;Ce<ze.length;++Ce){var ht=de.FileIndex[Ce],wt=de.FullPaths[Ce];if(ht.name=a(wt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||V,Ce===0)ht.C=ze.length>1?1:-1,ht.size=0,ht.type=5;else if(wt.slice(-1)=="/"){for(Xe=Ce+1;Xe<ze.length&&n(de.FullPaths[Xe])!=wt;++Xe);for(ht.C=Xe>=ze.length?-1:Xe,Xe=Ce+1;Xe<ze.length&&n(de.FullPaths[Xe])!=n(wt);++Xe);ht.R=Xe>=ze.length?-1:Xe,ht.type=1}else n(de.FullPaths[Ce+1]||"")==n(wt)&&(ht.R=Ce+1),ht.type=2}}}function W(de,Ee){var ve=Ee||{};if(ve.fileType=="mad")return Ot(de,ve);switch(D(de),ve.fileType){case"zip":return Ca(de,ve)}var ye=function(kt){for(var vt=0,_t=0,Zt=0;Zt<kt.FileIndex.length;++Zt){var Ir=kt.FileIndex[Zt];if(Ir.content){var Mr=Ir.content.length;Mr>0&&(Mr<4096?vt+=Mr+63>>6:_t+=Mr+511>>9)}}for(var Wr=kt.FullPaths.length+3>>2,Ha=vt+7>>3,ri=vt+127>>7,La=Ha+_t+Wr+ri,ns=La+127>>7,Va=ns<=109?0:Math.ceil((ns-109)/127);La+ns+Va+127>>7>ns;)Va=++ns<=109?0:Math.ceil((ns-109)/127);var Vs=[1,Va,ns,ri,Wr,_t,vt,0];return kt.FileIndex[0].size=vt<<6,Vs[7]=(kt.FileIndex[0].start=Vs[0]+Vs[1]+Vs[2]+Vs[3]+Vs[4]+Vs[5])+(Vs[6]+7>>3),Vs}(de),Ce=rt(ye[7]<<9),Se=0,Qe=0;{for(Se=0;Se<8;++Se)Ce.write_shift(1,ae[Se]);for(Se=0;Se<8;++Se)Ce.write_shift(2,0);for(Ce.write_shift(2,62),Ce.write_shift(2,3),Ce.write_shift(2,65534),Ce.write_shift(2,9),Ce.write_shift(2,6),Se=0;Se<3;++Se)Ce.write_shift(2,0);for(Ce.write_shift(4,0),Ce.write_shift(4,ye[2]),Ce.write_shift(4,ye[0]+ye[1]+ye[2]+ye[3]-1),Ce.write_shift(4,0),Ce.write_shift(4,4096),Ce.write_shift(4,ye[3]?ye[0]+ye[1]+ye[2]-1:K),Ce.write_shift(4,ye[3]),Ce.write_shift(-4,ye[1]?ye[0]-1:K),Ce.write_shift(4,ye[1]),Se=0;Se<109;++Se)Ce.write_shift(-4,Se<ye[2]?ye[1]+Se:-1)}if(ye[1])for(Qe=0;Qe<ye[1];++Qe){for(;Se<236+Qe*127;++Se)Ce.write_shift(-4,Se<ye[2]?ye[1]+Se:-1);Ce.write_shift(-4,Qe===ye[1]-1?K:Qe+1)}var Xe=function(kt){for(Qe+=kt;Se<Qe-1;++Se)Ce.write_shift(-4,Se+1);kt&&(++Se,Ce.write_shift(-4,K))};for(Qe=Se=0,Qe+=ye[1];Se<Qe;++Se)Ce.write_shift(-4,G.DIFSECT);for(Qe+=ye[2];Se<Qe;++Se)Ce.write_shift(-4,G.FATSECT);Xe(ye[3]),Xe(ye[4]);for(var Re=0,ze=0,We=de.FileIndex[0];Re<de.FileIndex.length;++Re)We=de.FileIndex[Re],We.content&&(ze=We.content.length,!(ze<4096)&&(We.start=Qe,Xe(ze+511>>9)));for(Xe(ye[6]+7>>3);Ce.l&511;)Ce.write_shift(-4,G.ENDOFCHAIN);for(Qe=Se=0,Re=0;Re<de.FileIndex.length;++Re)We=de.FileIndex[Re],We.content&&(ze=We.content.length,!(!ze||ze>=4096)&&(We.start=Qe,Xe(ze+63>>6)));for(;Ce.l&511;)Ce.write_shift(-4,G.ENDOFCHAIN);for(Se=0;Se<ye[4]<<2;++Se){var ht=de.FullPaths[Se];if(!ht||ht.length===0){for(Re=0;Re<17;++Re)Ce.write_shift(4,0);for(Re=0;Re<3;++Re)Ce.write_shift(4,-1);for(Re=0;Re<12;++Re)Ce.write_shift(4,0);continue}We=de.FileIndex[Se],Se===0&&(We.start=We.size?We.start-1:K);var wt=Se===0&&ve.root||We.name;if(ze=2*(wt.length+1),Ce.write_shift(64,wt,"utf16le"),Ce.write_shift(2,ze),Ce.write_shift(1,We.type),Ce.write_shift(1,We.color),Ce.write_shift(-4,We.L),Ce.write_shift(-4,We.R),Ce.write_shift(-4,We.C),We.clsid)Ce.write_shift(16,We.clsid,"hex");else for(Re=0;Re<4;++Re)Ce.write_shift(4,0);Ce.write_shift(4,We.state||0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,We.start),Ce.write_shift(4,We.size),Ce.write_shift(4,0)}for(Se=1;Se<de.FileIndex.length;++Se)if(We=de.FileIndex[Se],We.size>=4096)if(Ce.l=We.start+1<<9,Br&&Buffer.isBuffer(We.content))We.content.copy(Ce,Ce.l,0,We.size),Ce.l+=We.size+511&-512;else{for(Re=0;Re<We.size;++Re)Ce.write_shift(1,We.content[Re]);for(;Re&511;++Re)Ce.write_shift(1,0)}for(Se=1;Se<de.FileIndex.length;++Se)if(We=de.FileIndex[Se],We.size>0&&We.size<4096)if(Br&&Buffer.isBuffer(We.content))We.content.copy(Ce,Ce.l,0,We.size),Ce.l+=We.size+63&-64;else{for(Re=0;Re<We.size;++Re)Ce.write_shift(1,We.content[Re]);for(;Re&63;++Re)Ce.write_shift(1,0)}if(Br)Ce.l=Ce.length;else for(;Ce.l<Ce.length;)Ce.write_shift(1,0);return Ce}function O(de,Ee){var ve=de.FullPaths.map(function(Re){return Re.toUpperCase()}),ye=ve.map(function(Re){var ze=Re.split("/");return ze[ze.length-(Re.slice(-1)=="/"?2:1)]}),Ce=!1;Ee.charCodeAt(0)===47?(Ce=!0,Ee=ve[0].slice(0,-1)+Ee):Ce=Ee.indexOf("/")!==-1;var Se=Ee.toUpperCase(),Qe=Ce===!0?ve.indexOf(Se):ye.indexOf(Se);if(Qe!==-1)return de.FileIndex[Qe];var Xe=!Se.match(pm);for(Se=Se.replace(Zs,""),Xe&&(Se=Se.replace(pm,"!")),Qe=0;Qe<ve.length;++Qe)if((Xe?ve[Qe].replace(pm,"!"):ve[Qe]).replace(Zs,"")==Se||(Xe?ye[Qe].replace(pm,"!"):ye[Qe]).replace(Zs,"")==Se)return de.FileIndex[Qe];return null}var M=64,K=-2,Q="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:Q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(de,Ee,ve){u();var ye=W(de,ve);c.writeFileSync(Ee,ye)}function J(de){for(var Ee=new Array(de.length),ve=0;ve<de.length;++ve)Ee[ve]=String.fromCharCode(de[ve]);return Ee.join("")}function Y(de,Ee){var ve=W(de,Ee);switch(Ee&&Ee.type||"buffer"){case"file":return u(),c.writeFileSync(Ee.filename,ve),ve;case"binary":return typeof ve=="string"?ve:J(ve);case"base64":return Xm(typeof ve=="string"?ve:J(ve));case"buffer":if(Br)return Buffer.isBuffer(ve)?ve:tA(ve);case"array":return typeof ve=="string"?Mi(ve):ve}return ve}var ce;function R(de){try{var Ee=de.InflateRaw,ve=new Ee;if(ve._processChunk(new Uint8Array([3,0]),ve._finishFlushFlag),ve.bytesRead)ce=de;else throw new Error("zlib does not expose bytesRead")}catch(ye){console.error("cannot use native zlib: "+(ye.message||ye))}}function z(de,Ee){if(!ce)return xr(de,Ee);var ve=ce.InflateRaw,ye=new ve,Ce=ye._processChunk(de.slice(de.l),ye._finishFlushFlag);return de.l+=ye.bytesRead,Ce}function q(de){return ce?ce.deflateRawSync(de):Ct(de)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(de){var Ee=(de<<1|de<<11)&139536|(de<<5|de<<15)&558144;return(Ee>>16|Ee>>8|Ee)&255}for(var he=typeof Uint8Array<"u",Ne=he?new Uint8Array(256):[],ge=0;ge<256;++ge)Ne[ge]=ue(ge);function te(de,Ee){var ve=Ne[de&255];return Ee<=8?ve>>>8-Ee:(ve=ve<<8|Ne[de>>8&255],Ee<=16?ve>>>16-Ee:(ve=ve<<8|Ne[de>>16&255],ve>>>24-Ee))}function Te(de,Ee){var ve=Ee&7,ye=Ee>>>3;return(de[ye]|(ve<=6?0:de[ye+1]<<8))>>>ve&3}function qe(de,Ee){var ve=Ee&7,ye=Ee>>>3;return(de[ye]|(ve<=5?0:de[ye+1]<<8))>>>ve&7}function ke(de,Ee){var ve=Ee&7,ye=Ee>>>3;return(de[ye]|(ve<=4?0:de[ye+1]<<8))>>>ve&15}function we(de,Ee){var ve=Ee&7,ye=Ee>>>3;return(de[ye]|(ve<=3?0:de[ye+1]<<8))>>>ve&31}function je(de,Ee){var ve=Ee&7,ye=Ee>>>3;return(de[ye]|(ve<=1?0:de[ye+1]<<8))>>>ve&127}function $e(de,Ee,ve){var ye=Ee&7,Ce=Ee>>>3,Se=(1<<ve)-1,Qe=de[Ce]>>>ye;return ve<8-ye||(Qe|=de[Ce+1]<<8-ye,ve<16-ye)||(Qe|=de[Ce+2]<<16-ye,ve<24-ye)||(Qe|=de[Ce+3]<<24-ye),Qe&Se}function et(de,Ee,ve){var ye=Ee&7,Ce=Ee>>>3;return ye<=5?de[Ce]|=(ve&7)<<ye:(de[Ce]|=ve<<ye&255,de[Ce+1]=(ve&7)>>8-ye),Ee+3}function dt(de,Ee,ve){var ye=Ee&7,Ce=Ee>>>3;return ve=(ve&1)<<ye,de[Ce]|=ve,Ee+1}function pt(de,Ee,ve){var ye=Ee&7,Ce=Ee>>>3;return ve<<=ye,de[Ce]|=ve&255,ve>>>=8,de[Ce+1]=ve,Ee+8}function st(de,Ee,ve){var ye=Ee&7,Ce=Ee>>>3;return ve<<=ye,de[Ce]|=ve&255,ve>>>=8,de[Ce+1]=ve&255,de[Ce+2]=ve>>>8,Ee+16}function yt(de,Ee){var ve=de.length,ye=2*ve>Ee?2*ve:Ee+5,Ce=0;if(ve>=Ee)return de;if(Br){var Se=XN(ye);if(de.copy)de.copy(Se);else for(;Ce<de.length;++Ce)Se[Ce]=de[Ce];return Se}else if(he){var Qe=new Uint8Array(ye);if(Qe.set)Qe.set(de);else for(;Ce<ve;++Ce)Qe[Ce]=de[Ce];return Qe}return de.length=ye,de}function Nt(de){for(var Ee=new Array(de),ve=0;ve<de;++ve)Ee[ve]=0;return Ee}function Lt(de,Ee,ve){var ye=1,Ce=0,Se=0,Qe=0,Xe=0,Re=de.length,ze=he?new Uint16Array(32):Nt(32);for(Se=0;Se<32;++Se)ze[Se]=0;for(Se=Re;Se<ve;++Se)de[Se]=0;Re=de.length;var We=he?new Uint16Array(Re):Nt(Re);for(Se=0;Se<Re;++Se)ze[Ce=de[Se]]++,ye<Ce&&(ye=Ce),We[Se]=0;for(ze[0]=0,Se=1;Se<=ye;++Se)ze[Se+16]=Xe=Xe+ze[Se-1]<<1;for(Se=0;Se<Re;++Se)Xe=de[Se],Xe!=0&&(We[Se]=ze[Xe+16]++);var ht=0;for(Se=0;Se<Re;++Se)if(ht=de[Se],ht!=0)for(Xe=te(We[Se],ye)>>ye-ht,Qe=(1<<ye+4-ht)-1;Qe>=0;--Qe)Ee[Xe|Qe<<ht]=ht&15|Se<<4;return ye}var Rt=he?new Uint16Array(512):Nt(512),Qt=he?new Uint16Array(32):Nt(32);if(!he){for(var Vt=0;Vt<512;++Vt)Rt[Vt]=0;for(Vt=0;Vt<32;++Vt)Qt[Vt]=0}(function(){for(var de=[],Ee=0;Ee<32;Ee++)de.push(5);Lt(de,Qt,32);var ve=[];for(Ee=0;Ee<=143;Ee++)ve.push(8);for(;Ee<=255;Ee++)ve.push(9);for(;Ee<=279;Ee++)ve.push(7);for(;Ee<=287;Ee++)ve.push(8);Lt(ve,Rt,288)})();var Tt=function(){for(var Ee=he?new Uint8Array(32768):[],ve=0,ye=0;ve<le.length-1;++ve)for(;ye<le[ve+1];++ye)Ee[ye]=ve;for(;ye<32768;++ye)Ee[ye]=29;var Ce=he?new Uint8Array(259):[];for(ve=0,ye=0;ve<ne.length-1;++ve)for(;ye<ne[ve+1];++ye)Ce[ye]=ve;function Se(Xe,Re){for(var ze=0;ze<Xe.length;){var We=Math.min(65535,Xe.length-ze),ht=ze+We==Xe.length;for(Re.write_shift(1,+ht),Re.write_shift(2,We),Re.write_shift(2,~We&65535);We-- >0;)Re[Re.l++]=Xe[ze++]}return Re.l}function Qe(Xe,Re){for(var ze=0,We=0,ht=he?new Uint16Array(32768):[];We<Xe.length;){var wt=Math.min(65535,Xe.length-We);if(wt<10){for(ze=et(Re,ze,+(We+wt==Xe.length)),ze&7&&(ze+=8-(ze&7)),Re.l=ze/8|0,Re.write_shift(2,wt),Re.write_shift(2,~wt&65535);wt-- >0;)Re[Re.l++]=Xe[We++];ze=Re.l*8;continue}ze=et(Re,ze,+(We+wt==Xe.length)+2);for(var kt=0;wt-- >0;){var vt=Xe[We];kt=(kt<<5^vt)&32767;var _t=-1,Zt=0;if((_t=ht[kt])&&(_t|=We&-32768,_t>We&&(_t-=32768),_t<We))for(;Xe[_t+Zt]==Xe[We+Zt]&&Zt<250;)++Zt;if(Zt>2){vt=Ce[Zt],vt<=22?ze=pt(Re,ze,Ne[vt+1]>>1)-1:(pt(Re,ze,3),ze+=5,pt(Re,ze,Ne[vt-23]>>5),ze+=3);var Ir=vt<8?0:vt-4>>2;Ir>0&&(st(Re,ze,Zt-ne[vt]),ze+=Ir),vt=Ee[We-_t],ze=pt(Re,ze,Ne[vt]>>3),ze-=3;var Mr=vt<4?0:vt-2>>1;Mr>0&&(st(Re,ze,We-_t-le[vt]),ze+=Mr);for(var Wr=0;Wr<Zt;++Wr)ht[kt]=We&32767,kt=(kt<<5^Xe[We])&32767,++We;wt-=Zt-1}else vt<=143?vt=vt+48:ze=dt(Re,ze,1),ze=pt(Re,ze,Ne[vt]),ht[kt]=We&32767,++We}ze=pt(Re,ze,0)-1}return Re.l=(ze+7)/8|0,Re.l}return function(Re,ze){return Re.length<8?Se(Re,ze):Qe(Re,ze)}}();function Ct(de){var Ee=rt(50+Math.floor(de.length*1.1)),ve=Tt(de,Ee);return Ee.slice(0,ve)}var ut=he?new Uint16Array(32768):Nt(32768),mr=he?new Uint16Array(32768):Nt(32768),Mt=he?new Uint16Array(128):Nt(128),Kr=1,ur=1;function gr(de,Ee){var ve=we(de,Ee)+257;Ee+=5;var ye=we(de,Ee)+1;Ee+=5;var Ce=ke(de,Ee)+4;Ee+=4;for(var Se=0,Qe=he?new Uint8Array(19):Nt(19),Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=1,ze=he?new Uint8Array(8):Nt(8),We=he?new Uint8Array(8):Nt(8),ht=Qe.length,wt=0;wt<Ce;++wt)Qe[ee[wt]]=Se=qe(de,Ee),Re<Se&&(Re=Se),ze[Se]++,Ee+=3;var kt=0;for(ze[0]=0,wt=1;wt<=Re;++wt)We[wt]=kt=kt+ze[wt-1]<<1;for(wt=0;wt<ht;++wt)(kt=Qe[wt])!=0&&(Xe[wt]=We[kt]++);var vt=0;for(wt=0;wt<ht;++wt)if(vt=Qe[wt],vt!=0){kt=Ne[Xe[wt]]>>8-vt;for(var _t=(1<<7-vt)-1;_t>=0;--_t)Mt[kt|_t<<vt]=vt&7|wt<<3}var Zt=[];for(Re=1;Zt.length<ve+ye;)switch(kt=Mt[je(de,Ee)],Ee+=kt&7,kt>>>=3){case 16:for(Se=3+Te(de,Ee),Ee+=2,kt=Zt[Zt.length-1];Se-- >0;)Zt.push(kt);break;case 17:for(Se=3+qe(de,Ee),Ee+=3;Se-- >0;)Zt.push(0);break;case 18:for(Se=11+je(de,Ee),Ee+=7;Se-- >0;)Zt.push(0);break;default:Zt.push(kt),Re<kt&&(Re=kt);break}var Ir=Zt.slice(0,ve),Mr=Zt.slice(ve);for(wt=ve;wt<286;++wt)Ir[wt]=0;for(wt=ye;wt<30;++wt)Mr[wt]=0;return Kr=Lt(Ir,ut,286),ur=Lt(Mr,mr,30),Ee}function nn(de,Ee){if(de[0]==3&&!(de[1]&3))return[Su(Ee),2];for(var ve=0,ye=0,Ce=XN(Ee||1<<18),Se=0,Qe=Ce.length>>>0,Xe=0,Re=0;(ye&1)==0;){if(ye=qe(de,ve),ve+=3,ye>>>1)ye>>1==1?(Xe=9,Re=5):(ve=gr(de,ve),Xe=Kr,Re=ur);else{ve&7&&(ve+=8-(ve&7));var ze=de[ve>>>3]|de[(ve>>>3)+1]<<8;if(ve+=32,ze>0)for(!Ee&&Qe<Se+ze&&(Ce=yt(Ce,Se+ze),Qe=Ce.length);ze-- >0;)Ce[Se++]=de[ve>>>3],ve+=8;continue}for(;;){!Ee&&Qe<Se+32767&&(Ce=yt(Ce,Se+32767),Qe=Ce.length);var We=$e(de,ve,Xe),ht=ye>>>1==1?Rt[We]:ut[We];if(ve+=ht&15,ht>>>=4,(ht>>>8&255)===0)Ce[Se++]=ht;else{if(ht==256)break;ht-=257;var wt=ht<8?0:ht-4>>2;wt>5&&(wt=0);var kt=Se+ne[ht];wt>0&&(kt+=$e(de,ve,wt),ve+=wt),We=$e(de,ve,Re),ht=ye>>>1==1?Qt[We]:mr[We],ve+=ht&15,ht>>>=4;var vt=ht<4?0:ht-2>>1,_t=le[ht];for(vt>0&&(_t+=$e(de,ve,vt),ve+=vt),!Ee&&Qe<kt&&(Ce=yt(Ce,kt+100),Qe=Ce.length);Se<kt;)Ce[Se]=Ce[Se-_t],++Se}}}return Ee?[Ce,ve+7>>>3]:[Ce.slice(0,Se),ve+7>>>3]}function xr(de,Ee){var ve=de.slice(de.l||0),ye=nn(ve,Ee);return de.l+=ye[1],ye[0]}function ts(de,Ee){if(de)typeof console<"u"&&console.error(Ee);else throw new Error(Ee)}function jr(de,Ee){var ve=de;fs(ve,0);var ye=[],Ce=[],Se={FileIndex:ye,FullPaths:Ce};F(Se,{root:Ee.root});for(var Qe=ve.length-4;(ve[Qe]!=80||ve[Qe+1]!=75||ve[Qe+2]!=5||ve[Qe+3]!=6)&&Qe>=0;)--Qe;ve.l=Qe+4,ve.l+=4;var Xe=ve.read_shift(2);ve.l+=6;var Re=ve.read_shift(4);for(ve.l=Re,Qe=0;Qe<Xe;++Qe){ve.l+=20;var ze=ve.read_shift(4),We=ve.read_shift(4),ht=ve.read_shift(2),wt=ve.read_shift(2),kt=ve.read_shift(2);ve.l+=8;var vt=ve.read_shift(4),_t=o(ve.slice(ve.l+ht,ve.l+ht+wt));ve.l+=ht+wt+kt;var Zt=ve.l;ve.l=vt+4,oa(ve,ze,We,Se,_t),ve.l=Zt}return Se}function oa(de,Ee,ve,ye,Ce){de.l+=2;var Se=de.read_shift(2),Qe=de.read_shift(2),Xe=i(de);if(Se&8257)throw new Error("Unsupported ZIP encryption");for(var Re=de.read_shift(4),ze=de.read_shift(4),We=de.read_shift(4),ht=de.read_shift(2),wt=de.read_shift(2),kt="",vt=0;vt<ht;++vt)kt+=String.fromCharCode(de[de.l++]);if(wt){var _t=o(de.slice(de.l,de.l+wt));(_t[21589]||{}).mt&&(Xe=_t[21589].mt),((Ce||{})[21589]||{}).mt&&(Xe=Ce[21589].mt)}de.l+=wt;var Zt=de.slice(de.l,de.l+ze);switch(Qe){case 8:Zt=z(de,We);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Qe)}var Ir=!1;Se&8&&(Re=de.read_shift(4),Re==134695760&&(Re=de.read_shift(4),Ir=!0),ze=de.read_shift(4),We=de.read_shift(4)),ze!=Ee&&ts(Ir,"Bad compressed size: "+Ee+" != "+ze),We!=ve&&ts(Ir,"Bad uncompressed size: "+ve+" != "+We),en(ye,kt,Zt,{unsafe:!0,mt:Xe})}function Ca(de,Ee){var ve=Ee||{},ye=[],Ce=[],Se=rt(1),Qe=ve.compression?8:0,Xe=0,Re=0,ze=0,We=0,ht=0,wt=de.FullPaths[0],kt=wt,vt=de.FileIndex[0],_t=[],Zt=0;for(Re=1;Re<de.FullPaths.length;++Re)if(kt=de.FullPaths[Re].slice(wt.length),vt=de.FileIndex[Re],!(!vt.size||!vt.content||kt=="Sh33tJ5")){var Ir=We,Mr=rt(kt.length);for(ze=0;ze<kt.length;++ze)Mr.write_shift(1,kt.charCodeAt(ze)&127);Mr=Mr.slice(0,Mr.l),_t[ht]=AJ.buf(vt.content,0);var Wr=vt.content;Qe==8&&(Wr=q(Wr)),Se=rt(30),Se.write_shift(4,67324752),Se.write_shift(2,20),Se.write_shift(2,Xe),Se.write_shift(2,Qe),vt.mt?s(Se,vt.mt):Se.write_shift(4,0),Se.write_shift(-4,_t[ht]),Se.write_shift(4,Wr.length),Se.write_shift(4,vt.content.length),Se.write_shift(2,Mr.length),Se.write_shift(2,0),We+=Se.length,ye.push(Se),We+=Mr.length,ye.push(Mr),We+=Wr.length,ye.push(Wr),Se=rt(46),Se.write_shift(4,33639248),Se.write_shift(2,0),Se.write_shift(2,20),Se.write_shift(2,Xe),Se.write_shift(2,Qe),Se.write_shift(4,0),Se.write_shift(-4,_t[ht]),Se.write_shift(4,Wr.length),Se.write_shift(4,vt.content.length),Se.write_shift(2,Mr.length),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(4,0),Se.write_shift(4,Ir),Zt+=Se.l,Ce.push(Se),Zt+=Mr.length,Ce.push(Mr),++ht}return Se=rt(22),Se.write_shift(4,101010256),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,ht),Se.write_shift(2,ht),Se.write_shift(4,Zt),Se.write_shift(4,We),Se.write_shift(2,0),Xa([Xa(ye),Xa(Ce),Se])}var kr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Xt(de,Ee){if(de.ctype)return de.ctype;var ve=de.name||"",ye=ve.match(/\.([^\.]+)$/);return ye&&kr[ye[1]]||Ee&&(ye=(ve=Ee).match(/[\.\\]([^\.\\])+$/),ye&&kr[ye[1]])?kr[ye[1]]:"application/octet-stream"}function Fr(de){for(var Ee=Xm(de),ve=[],ye=0;ye<Ee.length;ye+=76)ve.push(Ee.slice(ye,ye+76));return ve.join(`\r
`)+`\r
`}function Hs(de){var Ee=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ze){var We=ze.charCodeAt(0).toString(16).toUpperCase();return"="+(We.length==1?"0"+We:We)});Ee=Ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ee.charAt(0)==`
`&&(Ee="=0D"+Ee.slice(1)),Ee=Ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ve=[],ye=Ee.split(`\r
`),Ce=0;Ce<ye.length;++Ce){var Se=ye[Ce];if(Se.length==0){ve.push("");continue}for(var Qe=0;Qe<Se.length;){var Xe=76,Re=Se.slice(Qe,Qe+Xe);Re.charAt(Xe-1)=="="?Xe--:Re.charAt(Xe-2)=="="?Xe-=2:Re.charAt(Xe-3)=="="&&(Xe-=3),Re=Se.slice(Qe,Qe+Xe),Qe+=Xe,Qe<Se.length&&(Re+="="),ve.push(Re)}}return ve.join(`\r
`)}function _n(de){for(var Ee=[],ve=0;ve<de.length;++ve){for(var ye=de[ve];ve<=de.length&&ye.charAt(ye.length-1)=="=";)ye=ye.slice(0,ye.length-1)+de[++ve];Ee.push(ye)}for(var Ce=0;Ce<Ee.length;++Ce)Ee[Ce]=Ee[Ce].replace(/[=][0-9A-Fa-f]{2}/g,function(Se){return String.fromCharCode(parseInt(Se.slice(1),16))});return Mi(Ee.join(`\r
`))}function rs(de,Ee,ve){for(var ye="",Ce="",Se="",Qe,Xe=0;Xe<10;++Xe){var Re=Ee[Xe];if(!Re||Re.match(/^\s*$/))break;var ze=Re.match(/^(.*?):\s*([^\s].*)$/);if(ze)switch(ze[1].toLowerCase()){case"content-location":ye=ze[2].trim();break;case"content-type":Se=ze[2].trim();break;case"content-transfer-encoding":Ce=ze[2].trim();break}}switch(++Xe,Ce.toLowerCase()){case"base64":Qe=Mi(Qi(Ee.slice(Xe).join("")));break;case"quoted-printable":Qe=_n(Ee.slice(Xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ce)}var We=en(de,ye.slice(ve.length),Qe,{unsafe:!0});Se&&(We.ctype=Se)}function ps(de,Ee){if(J(de.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ve=Ee&&Ee.root||"",ye=(Br&&Buffer.isBuffer(de)?de.toString("binary"):J(de)).split(`\r
`),Ce=0,Se="";for(Ce=0;Ce<ye.length;++Ce)if(Se=ye[Ce],!!/^Content-Location:/i.test(Se)&&(Se=Se.slice(Se.indexOf("file")),ve||(ve=Se.slice(0,Se.lastIndexOf("/")+1)),Se.slice(0,ve.length)!=ve))for(;ve.length>0&&(ve=ve.slice(0,ve.length-1),ve=ve.slice(0,ve.lastIndexOf("/")+1),Se.slice(0,ve.length)!=ve););var Qe=(ye[1]||"").match(/boundary="(.*?)"/);if(!Qe)throw new Error("MAD cannot find boundary");var Xe="--"+(Qe[1]||""),Re=[],ze=[],We={FileIndex:Re,FullPaths:ze};F(We);var ht,wt=0;for(Ce=0;Ce<ye.length;++Ce){var kt=ye[Ce];kt!==Xe&&kt!==Xe+"--"||(wt++&&rs(We,ye.slice(ht,Ce),ve),ht=Ce)}return We}function Ot(de,Ee){var ve=Ee||{},ye=ve.boundary||"SheetJS";ye="------="+ye;for(var Ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ye.slice(2)+'"',"","",""],Se=de.FullPaths[0],Qe=Se,Xe=de.FileIndex[0],Re=1;Re<de.FullPaths.length;++Re)if(Qe=de.FullPaths[Re].slice(Se.length),Xe=de.FileIndex[Re],!(!Xe.size||!Xe.content||Qe=="Sh33tJ5")){Qe=Qe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Zt){return"_x"+Zt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Zt){return"_u"+Zt.charCodeAt(0).toString(16)+"_"});for(var ze=Xe.content,We=Br&&Buffer.isBuffer(ze)?ze.toString("binary"):J(ze),ht=0,wt=Math.min(1024,We.length),kt=0,vt=0;vt<=wt;++vt)(kt=We.charCodeAt(vt))>=32&&kt<128&&++ht;var _t=ht>=wt*4/5;Ce.push(ye),Ce.push("Content-Location: "+(ve.root||"file:///C:/SheetJS/")+Qe),Ce.push("Content-Transfer-Encoding: "+(_t?"quoted-printable":"base64")),Ce.push("Content-Type: "+Xt(Xe,Qe)),Ce.push(""),Ce.push(_t?Hs(We):Fr(We))}return Ce.push(ye+`--\r
`),Ce.join(`\r
`)}function qr(de){var Ee={};return F(Ee,de),Ee}function en(de,Ee,ve,ye){var Ce=ye&&ye.unsafe;Ce||F(de);var Se=!Ce&&Yt.find(de,Ee);if(!Se){var Qe=de.FullPaths[0];Ee.slice(0,Qe.length)==Qe?Qe=Ee:(Qe.slice(-1)!="/"&&(Qe+="/"),Qe=(Qe+Ee).replace("//","/")),Se={name:a(Ee),type:2},de.FileIndex.push(Se),de.FullPaths.push(Qe),Ce||Yt.utils.cfb_gc(de)}return Se.content=ve,Se.size=ve?ve.length:0,ye&&(ye.CLSID&&(Se.clsid=ye.CLSID),ye.mt&&(Se.mt=ye.mt),ye.ct&&(Se.ct=ye.ct)),Se}function Tn(de,Ee){F(de);var ve=Yt.find(de,Ee);if(ve){for(var ye=0;ye<de.FileIndex.length;++ye)if(de.FileIndex[ye]==ve)return de.FileIndex.splice(ye,1),de.FullPaths.splice(ye,1),!0}return!1}function xn(de,Ee,ve){F(de);var ye=Yt.find(de,Ee);if(ye){for(var Ce=0;Ce<de.FileIndex.length;++Ce)if(de.FileIndex[Ce]==ye)return de.FileIndex[Ce].name=a(ve),de.FullPaths[Ce]=ve,!0}return!1}function Cn(de){D(de,!0)}return t.find=O,t.read=U,t.parse=f,t.write=Y,t.writeFile=re,t.utils={cfb_new:qr,cfb_add:en,cfb_del:Tn,cfb_mov:xn,cfb_gc:Cn,ReadShift:Um,CheckField:w6,prep_blob:fs,bconcat:Xa,use_zlib:R,_deflateRaw:Ct,_inflateRaw:xr,consts:G},t}();function uJ(e){return typeof e=="string"?vv(e):Array.isArray(e)?MY(e):e}function kp(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=vv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?$l(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([uJ(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Iu(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function dJ(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ia(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function i_(e,t){for(var r=[],n=ia(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function yv(e){for(var t=[],r=ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function bv(e){for(var t=[],r=ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function fJ(e){for(var t=[],r=ia(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var _1=new Date(1899,11,30,0,0,0);function Qa(e,t){var r=e.getTime(),n=_1.getTime()+(e.getTimezoneOffset()-_1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var ZI=new Date,hJ=_1.getTime()+(ZI.getTimezoneOffset()-_1.getTimezoneOffset())*6e4,o_=ZI.getTimezoneOffset();function Cv(e){var t=new Date;return t.setTime(e*24*60*60*1e3+hJ),t.getTimezoneOffset()!==o_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-o_)*6e4),t}function mJ(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var l_=new Date("2017-02-19T19:06:09.000Z"),e6=isNaN(l_.getFullYear())?new Date("2/19/17"):l_,pJ=e6.getFullYear()==2017;function Ln(e,t){var r=new Date(e);if(pJ)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(e6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Qd(e,t){if(Br&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return $l(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return $l(QI(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return $l(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return $l(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Rn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Rn(e[r]));return t}function na(e,t){for(var r="";r.length<t;)r+=e;return r}function tl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var gJ=["january","february","march","april","may","june","july","august","september","october","november","december"];function V0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&gJ.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var xJ=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function t6(e){return e?e.content&&e.type?Qd(e.content,!0):e.data?mm(e.data):e.asNodeBuffer&&Br?mm(e.asNodeBuffer().toString("binary")):e.asBinary?mm(e.asBinary()):e._data&&e._data.getContent?mm(Qd(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function r6(e){if(!e)return null;if(e.data)return YN(e.data);if(e.asNodeBuffer&&Br)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?YN(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function vJ(e){return e&&e.name.slice(-4)===".bin"?r6(e):t6(e)}function lo(e,t){for(var r=e.FullPaths||ia(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function zC(e,t){var r=lo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Fa(e,t,r){if(!r)return vJ(zC(e,t));if(!t)return null;try{return Fa(e,t)}catch{return null}}function Pi(e,t,r){if(!r)return t6(zC(e,t));if(!t)return null;try{return Pi(e,t)}catch{return null}}function wJ(e,t,r){return r6(zC(e,t))}function c_(e){for(var t=e.FullPaths||ia(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function yr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Br?n=tA(r):n=PY(r),Yt.utils.cfb_add(e,t,n)}Yt.utils.cfb_add(e,t,r)}else e.file(t,r)}function KC(){return Yt.utils.cfb_new()}function n6(e,t){switch(t.type){case"base64":return Yt.read(e,{type:"base64"});case"binary":return Yt.read(e,{type:"binary"});case"buffer":case"array":return Yt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function gm(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var ba=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,yJ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,A_=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,bJ=/<[^>]*>/g,Qs=ba.match(A_)?A_:bJ,CJ=/<\w*:/,EJ=/<(\/?)\w+:/;function cr(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(yJ),o=0,c="",u=0,f="",h="",p=1;if(i)for(u=0;u!=i.length;++u){for(h=i[u],s=0;s!=h.length&&h.charCodeAt(s)!==61;++s);for(f=h.slice(0,s).trim();h.charCodeAt(s+1)==32;)++s;for(p=(a=h.charCodeAt(s+1))==34||a==39?1:0,c=h.slice(s+1+p,h.length-p),o=0;o!=f.length&&f.charCodeAt(o)!==58;++o);if(o===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),n[f]=c,n[f.toLowerCase()]=c;else{var g=(o===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(o+1);if(n[g]&&f.slice(o-3,o)=="ext")continue;n[g]=c,n[g.toLowerCase()]=c}}return n}function tc(e){return e.replace(EJ,"<$1")}var a6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},qC=yv(a6),Gr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,c){return a6[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),WC=/[&<>'"]/g,SJ=/[\u0000-\u0008\u000b-\u001f]/g;function un(e){var t=e+"";return t.replace(WC,function(r){return qC[r]}).replace(SJ,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function u_(e){return un(e).replace(/ /g,"_x0020_")}var s6=/[\u0000-\u001f]/g;function $C(e){var t=e+"";return t.replace(WC,function(r){return qC[r]}).replace(/\n/g,"<br/>").replace(s6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function BJ(e){var t=e+"";return t.replace(WC,function(r){return qC[r]}).replace(s6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var d_=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function NJ(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Un(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Pw(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function f_(e){var t=Su(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function h_(e){return tA(e,"binary").toString("utf8")}var Xg="foo bar bazâð£",gn=Br&&(h_(Xg)==Pw(Xg)&&h_||f_(Xg)==Pw(Xg)&&f_)||Pw,$l=Br?function(e){return tA(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},ep=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),i6=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),_J=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),TJ=/<\/?(?:vt:)?variant>/g,kJ=/<(?:vt:)([^>]*)>([\s\S]*)</;function m_(e,t){var r=cr(e),n=e.match(_J(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(TJ,"").match(kJ);i&&a.push({v:gn(i[2]),t:i[1]})}),a}var o6=/(^\s|\s$|\n)/;function hs(e,t){return"<"+e+(t.match(o6)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function tp(e){return ia(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function bt(e,t,r){return"<"+e+(r!=null?tp(r):"")+(t!=null?(t.match(o6)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function yb(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function FJ(e,t){switch(typeof e){case"string":var r=bt("vt:lpwstr",un(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return bt((e|0)==e?"vt:i4":"vt:r8",un(String(e)));case"boolean":return bt("vt:bool",e?"true":"false")}if(e instanceof Date)return bt("vt:filetime",yb(e));throw new Error("Unable to serialize "+e)}function YC(e){if(Br&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return gn(Iu(HC(e)));throw new Error("Bad input format: expected Buffer or string")}var rp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ja={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Xd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Li={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function IJ(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function UJ(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var p_=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},g_=Br?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:tA(t)})):p_(e)}:p_,x_=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Oc(e,a)));return n.join("").replace(Zs,"")},JC=Br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Zs,""):x_(e,t,r)}:x_,v_=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},l6=Br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):v_(e,t,r)}:v_,w_=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(A0(e,a)));return n.join("")},Fp=Br?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):w_(t,r,n)}:w_,c6=function(e,t){var r=Ri(e,t);return r>0?Fp(e,t+4,t+4+r-1):""},A6=c6,u6=function(e,t){var r=Ri(e,t);return r>0?Fp(e,t+4,t+4+r-1):""},d6=u6,f6=function(e,t){var r=2*Ri(e,t);return r>0?Fp(e,t+4,t+4+r-1):""},h6=f6,m6=function(t,r){var n=Ri(t,r);return n>0?JC(t,r+4,r+4+n):""},p6=m6,g6=function(e,t){var r=Ri(e,t);return r>0?Fp(e,t+4,t+4+r):""},x6=g6,v6=function(e,t){return IJ(e,t)},T1=v6,XC=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Br&&(A6=function(t,r){if(!Buffer.isBuffer(t))return c6(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},d6=function(t,r){if(!Buffer.isBuffer(t))return u6(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},h6=function(t,r){if(!Buffer.isBuffer(t))return f6(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},p6=function(t,r){if(!Buffer.isBuffer(t))return m6(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},x6=function(t,r){if(!Buffer.isBuffer(t))return g6(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},T1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):v6(t,r)},XC=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var A0=function(e,t){return e[t]},Oc=function(e,t){return e[t+1]*256+e[t]},DJ=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ri=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Cd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},LJ=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Um(e,t){var r="",n,a,s=[],i,o,c,u;switch(t){case"dbcs":if(u=this.l,Br&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Oc(this,u)),u+=2;e*=2;break;case"utf8":r=Fp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=JC(this,this.l,this.l+e);break;case"wstr":return Um.call(this,e,"dbcs");case"lpstr-ansi":r=A6(this,this.l),e=4+Ri(this,this.l);break;case"lpstr-cp":r=d6(this,this.l),e=4+Ri(this,this.l);break;case"lpwstr":r=h6(this,this.l),e=4+2*Ri(this,this.l);break;case"lpp4":e=4+Ri(this,this.l),r=p6(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ri(this,this.l),r=x6(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=A0(this,this.l+e++))!==0;)s.push(Jg(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=Oc(this,this.l+e))!==0;)s.push(Jg(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=A0(this,u),this.l=u+1,o=Um.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Jg(Oc(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=A0(this,u),this.l=u+1,o=Um.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Jg(A0(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=A0(this,this.l),this.l++,n;case 2:return n=(t==="i"?DJ:Oc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Cd:LJ)(this,this.l),this.l+=4,n):(a=Ri(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=T1(this,this.l):a=T1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=l6(this,this.l,e);break}}return this.l+=e,r}var RJ=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},MJ=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},PJ=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function jJ(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)PJ(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,RJ(this,t,this.l);break;case 8:if(n=8,r==="f"){UJ(this,t,this.l);break}case 16:break;case-4:n=4,MJ(this,t,this.l);break}return this.l+=n,this}function w6(e,t){var r=l6(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function fs(e,t){e.l=t,e.read_shift=Um,e.chk=w6,e.write_shift=jJ}function js(e,t){e.l+=t}function rt(e){var t=Su(e);return fs(t,0),t}function rA(e,t,r){if(e){var n,a,s;fs(e,e.l||0);for(var i=e.length,o=0,c=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=lp[o]||lp[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var f=u.f&&u.f(e,s,r);if(e.l=c,t(f,u,o))return}}}function mi(){var e=[],t=Br?256:2048,r=function(u){var f=rt(u);return fs(f,0),f},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),Xa(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function mt(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=lp[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&XC(r)&&e.push(r)}}function Dm(e,t,r){var n=Rn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function y_(e,t,r){var n=Rn(e);return n.s=Dm(n.s,t.s,r),n.e=Dm(n.e,t.s,r),n}function Lm(e,t){if(e.cRel&&e.c<0)for(e=Rn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Rn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=sr(e);return!e.cRel&&e.cRel!=null&&(r=HJ(r)),!e.rRel&&e.rRel!=null&&(r=OJ(r)),r}function jw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+$n(e.s.c)+":"+(e.e.cRel?"":"$")+$n(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ya(e.s.r)+":"+(e.e.rRel?"":"$")+ya(e.e.r):Lm(e.s,t.biff)+":"+Lm(e.e,t.biff)}function ZC(e){return parseInt(QJ(e),10)-1}function ya(e){return""+(e+1)}function OJ(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function QJ(e){return e.replace(/\$(\d+)$/,"$1")}function e5(e){for(var t=VJ(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function $n(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function HJ(e){return e.replace(/^([A-Z])/,"$$$1")}function VJ(e){return e.replace(/^\$([A-Z])/,"$1")}function GJ(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Yn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function sr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function xi(e){var t=e.indexOf(":");return t==-1?{s:Yn(e),e:Yn(e)}:{s:Yn(e.slice(0,t)),e:Yn(e.slice(t+1))}}function pr(e,t){return typeof t>"u"||typeof t=="number"?pr(e.s,e.e):(typeof e!="string"&&(e=sr(e)),typeof t!="string"&&(t=sr(t)),e==t?e:e+":"+t)}function zr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function b_(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=wo(e.z,r?Qa(t):t)}catch{}try{return e.w=wo((e.XF||{}).numFmtId||(r?14:0),r?Qa(t):t)}catch{return""+t}}function $c(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?nA[e.v]||e.v:t==null?b_(e,e.v):b_(e,t))}function Uu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function y6(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?Yn(n.origin):n.origin;i=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=zr(s["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),i==-1&&(u.e.r=i=f.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[h].length;++p)if(!(typeof t[h][p]>"u")){var g={v:t[h][p]},b=i+h,y=o+p;if(u.s.r>b&&(u.s.r=b),u.s.c>y&&(u.s.c=y),u.e.r<b&&(u.e.r=b),u.e.c<y&&(u.e.c=y),t[h][p]&&typeof t[h][p]=="object"&&!Array.isArray(t[h][p])&&!(t[h][p]instanceof Date))g=t[h][p];else if(Array.isArray(g.v)&&(g.f=t[h][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||rr[14],n.cellDates?(g.t="d",g.w=wo(g.z,Qa(g.v))):(g.t="n",g.v=Qa(g.v),g.w=wo(g.z,g.v))):g.t="s";if(a)s[b]||(s[b]=[]),s[b][y]&&s[b][y].z&&(g.z=s[b][y].z),s[b][y]=g;else{var E=sr({c:y,r:b});s[E]&&s[E].z&&(g.z=s[E].z),s[E]=g}}}return u.s.c<1e7&&(s["!ref"]=pr(u)),s}function ah(e,t){return y6(null,e,t)}function zJ(e){return e.read_shift(4,"i")}function rl(e,t){return t||(t=rt(4)),t.write_shift(4,e),t}function Ps(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Za(e,t){var r=!1;return t==null&&(r=!0,t=rt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function KJ(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function qJ(e,t){return t||(t=rt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function t5(e,t){var r=e.l,n=e.read_shift(1),a=Ps(e),s=[],i={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)s.push(KJ(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function WJ(e,t){var r=!1;return t==null&&(r=!0,t=rt(15+4*e.t.length)),t.write_shift(1,0),Za(e.t,t),r?t.slice(0,t.l):t}var $J=t5;function YJ(e,t){var r=!1;return t==null&&(r=!0,t=rt(23+4*e.t.length)),t.write_shift(1,1),Za(e.t,t),t.write_shift(4,1),qJ({},t),r?t.slice(0,t.l):t}function yo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Zd(e,t){return t==null&&(t=rt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ef(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function tf(e,t){return t==null&&(t=rt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var JJ=Ps,b6=Za;function r5(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function k1(e,t){var r=!1;return t==null&&(r=!0,t=rt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var XJ=Ps,bb=r5,n5=k1;function a5(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?T1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Cd(t,0)>>2;return r?a/100:a}function C6(e,t){t==null&&(t=rt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function E6(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function ZJ(e,t){return t||(t=rt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var rf=E6,sh=ZJ;function Rs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Hd(e,t){return(t||rt(8)).write_shift(8,e,"f")}function eX(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Fd[a];u&&(t.rgb=ap(u));break;case 2:t.rgb=ap([i,o,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function F1(e,t){if(t||(t=rt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function tX(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function rX(e,t){t||(t=rt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function S6(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function nX(e){return S6(e,1)}function aX(e){return S6(e,2)}var s5=2,di=3,Zg=11,C_=12,I1=19,ex=64,sX=65,iX=71,oX=4108,lX=4126,Ya=80,B6=81,cX=[Ya,B6],Cb={1:{n:"CodePage",t:s5},2:{n:"Category",t:Ya},3:{n:"PresentationFormat",t:Ya},4:{n:"ByteCount",t:di},5:{n:"LineCount",t:di},6:{n:"ParagraphCount",t:di},7:{n:"SlideCount",t:di},8:{n:"NoteCount",t:di},9:{n:"HiddenCount",t:di},10:{n:"MultimediaClipCount",t:di},11:{n:"ScaleCrop",t:Zg},12:{n:"HeadingPairs",t:oX},13:{n:"TitlesOfParts",t:lX},14:{n:"Manager",t:Ya},15:{n:"Company",t:Ya},16:{n:"LinksUpToDate",t:Zg},17:{n:"CharacterCount",t:di},19:{n:"SharedDoc",t:Zg},22:{n:"HyperlinksChanged",t:Zg},23:{n:"AppVersion",t:di,p:"version"},24:{n:"DigSig",t:sX},26:{n:"ContentType",t:Ya},27:{n:"ContentStatus",t:Ya},28:{n:"Language",t:Ya},29:{n:"Version",t:Ya},255:{},2147483648:{n:"Locale",t:I1},2147483651:{n:"Behavior",t:I1},1919054434:{}},Eb={1:{n:"CodePage",t:s5},2:{n:"Title",t:Ya},3:{n:"Subject",t:Ya},4:{n:"Author",t:Ya},5:{n:"Keywords",t:Ya},6:{n:"Comments",t:Ya},7:{n:"Template",t:Ya},8:{n:"LastAuthor",t:Ya},9:{n:"RevNumber",t:Ya},10:{n:"EditTime",t:ex},11:{n:"LastPrinted",t:ex},12:{n:"CreatedDate",t:ex},13:{n:"ModifiedDate",t:ex},14:{n:"PageCount",t:di},15:{n:"WordCount",t:di},16:{n:"CharCount",t:di},17:{n:"Thumbnail",t:iX},18:{n:"Application",t:Ya},19:{n:"DocSecurity",t:di},255:{},2147483648:{n:"Locale",t:I1},2147483651:{n:"Behavior",t:I1},1919054434:{}},E_={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},AX=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function uX(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var dX=uX([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Fd=Rn(dX),nA={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},N6={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Sb={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},tx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function i5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function fX(e){var t=i5();if(!e||!e.match)return t;var r={};if((e.match(Qs)||[]).forEach(function(n){var a=cr(n);switch(a[0].replace(CJ,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[Sb[a.ContentType]]!==void 0&&t[Sb[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ja.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function _6(e,t){var r=fJ(Sb),n=[],a;n[n.length]=ba,n[n.length]=bt("Types",null,{xmlns:ja.CT,"xmlns:xsd":ja.xsd,"xmlns:xsi":ja.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return bt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=bt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:tx[c][t.bookType]||tx[c].xlsx}))},i=function(c){(e[c]||[]).forEach(function(u){n[n.length]=bt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:tx[c][t.bookType]||tx[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=bt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Tr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function np(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Rm(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Qs)||[]).forEach(function(a){var s=cr(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:gm(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}function I0(e){var t=[ba,bt("Relationships",null,{xmlns:ja.RELS})];return ia(e["!id"]).forEach(function(r){t[t.length]=bt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function cn(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Tr.HLINK,Tr.XPATH,Tr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var hX="application/vnd.oasis.opendocument.spreadsheet";function mX(e,t){for(var r=YC(e),n,a;n=rp.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=cr(n[0],!1),a.path=="/"&&a.type!==hX)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function pX(e){var t=[ba];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function S_(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function gX(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function xX(e){var t=[ba];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(S_(e[r][0],e[r][1])),t.push(gX("",e[r][0]));return t.push(S_("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function T6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+E1.version+"</meta:generator></office:meta></office:document-meta>"}var vo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],vX=function(){for(var e=new Array(vo.length),t=0;t<vo.length;++t){var r=vo[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function k6(e){var t={};e=gn(e);for(var r=0;r<vo.length;++r){var n=vo[r],a=e.match(vX[r]);a!=null&&a.length>0&&(t[n[1]]=Gr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ln(t[n[1]]))}return t}function Ow(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=un(t),n[n.length]=r?bt(e,t,r):hs(e,t))}function F6(e,t){var r=t||{},n=[ba,bt("cp:coreProperties",null,{"xmlns:cp":ja.CORE_PROPS,"xmlns:dc":ja.dc,"xmlns:dcterms":ja.dcterms,"xmlns:dcmitype":ja.dcmitype,"xmlns:xsi":ja.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Ow("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:yb(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Ow("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:yb(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=vo.length;++s){var i=vo[s],o=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Ow(i[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Id=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],I6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function U6(e,t,r,n){var a=[];if(typeof e=="string")a=m_(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(f){return{v:f}}));var i=typeof t=="string"?m_(t,n).map(function(f){return f.v}):t,o=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=i.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(o,o+c);break}o+=c}}function wX(e,t,r){var n={};return t||(t={}),e=gn(e),Id.forEach(function(a){var s=(e.match(ep(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Gr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&U6(n.HeadingPairs,n.TitlesOfParts,t,r),t}function D6(e){var t=[],r=bt;return e||(e={}),e.Application="SheetJS",t[t.length]=ba,t[t.length]=bt("Properties",null,{xmlns:ja.EXT_PROPS,"xmlns:vt":ja.vt}),Id.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=un(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+un(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var yX=/<[^>]+>[^<]*/g;function bX(e,t){var r={},n="",a=e.match(yX);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=cr(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Gr(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),f=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Gr(f);break;case"bool":r[n]=Un(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(f,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(f);break;case"filetime":case"date":r[n]=Ln(f);break;case"cy":case"error":r[n]=Gr(f);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}function L6(e){var t=[ba,bt("Properties",null,{xmlns:ja.CUST_PROPS,"xmlns:vt":ja.vt})];if(!e)return t.join("");var r=1;return ia(e).forEach(function(a){++r,t[t.length]=bt("property",FJ(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:un(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Bb={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Qw;function CX(e,t,r){Qw||(Qw=yv(Bb)),t=Qw[t]||t,e[t]=r}function EX(e,t){var r=[];return ia(Bb).map(function(n){for(var a=0;a<vo.length;++a)if(vo[a][1]==n)return vo[a];for(a=0;a<Id.length;++a)if(Id[a][1]==n)return Id[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(hs(Bb[n[1]]||n[1],a))}}),bt("DocumentProperties",r.join(""),{xmlns:Li.o})}function SX(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&ia(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var i=0;i<vo.length;++i)if(s==vo[i][1])return;for(i=0;i<Id.length;++i)if(s==Id[i][1])return;for(i=0;i<r.length;++i)if(s==r[i])return;var o=e[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(bt(u_(s),o,{"dt:dt":c}))}}),t&&ia(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var i=t[s],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),a.push(bt(u_(s),i,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Li.o+'">'+a.join("")+"</"+n+">"}function o5(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function BX(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=rt(8);return i.write_shift(4,n),i.write_shift(4,a),i}function R6(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function M6(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function P6(e,t,r){return t===31?M6(e):R6(e,t,r)}function Nb(e,t,r){return P6(e,t,r===!1?0:4)}function NX(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return P6(e,t,0)}function _X(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Zs,""),e.l-a&2&&(e.l+=2)}return r}function TX(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Zs,"");return r}function kX(e){var t=e.l,r=U1(e,B6);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=U1(e,di);return[r,n]}function FX(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(kX(e));return r}function B_(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Zs,"").replace(pm,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function j6(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function IX(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function U1(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==C_&&n!==t&&cX.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===C_?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return R6(e,n,4).replace(Zs,"");case 31:return M6(e);case 64:return o5(e);case 65:return j6(e);case 71:return IX(e);case 80:return Nb(e,n,!s.raw).replace(Zs,"");case 81:return NX(e,n).replace(Zs,"");case 4108:return FX(e);case 4126:case 4127:return n==4127?_X(e):TX(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function N_(e,t){var r=rt(4),n=rt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=rt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=BX(t);break;case 31:case 80:for(n=rt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Xa([r,n])}function __(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,c=-1,u={};for(i=0;i!=a;++i){var f=e.read_shift(4),h=e.read_shift(4);s[i]=[f,h+r]}s.sort(function(N,B){return N[1]-B[1]});var p={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var g=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,g=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],g=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],g=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(g=!1,e.l=s[i][1]),g)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var b=t[s[i][0]];if(p[b.n]=U1(e,b.t,{raw:!0}),b.p==="version"&&(p[b.n]=String(p[b.n]>>16)+"."+("0000"+String(p[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(p[b.n]){case 0:p[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Zo(o=p[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[b.n])}}else if(s[i][0]===1){if(o=p.CodePage=U1(e,s5),Zo(o),c!==-1){var y=e.l;e.l=s[c][1],u=B_(e,o),e.l=y}}else if(s[i][0]===0){if(o===0){c=i,e.l=s[i+1][1];continue}u=B_(e,o)}else{var E=u[s[i][0]],S;switch(e[e.l]){case 65:e.l+=4,S=j6(e);break;case 30:e.l+=4,S=Nb(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,S=Nb(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,S=e.read_shift(4,"i");break;case 19:e.l+=4,S=e.read_shift(4);break;case 5:e.l+=4,S=e.read_shift(8,"f");break;case 11:e.l+=4,S=ma(e,4);break;case 64:e.l+=4,S=Ln(o5(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[E]=S}}return e.l=r+n,p}var O6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function UX(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function T_(e,t,r){var n=rt(8),a=[],s=[],i=8,o=0,c=rt(8),u=rt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),i+=8+c.length,!t){u=rt(8),u.write_shift(4,0),a.unshift(u);var f=[rt(4)];for(f[0].write_shift(4,e.length),o=0;o<e.length;++o){var h=e[o][0];for(c=rt(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=Xa(f),s.unshift(c),i+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(O6.indexOf(e[o][0])>-1||I6.indexOf(e[o][0])>-1)&&e[o][1]!=null){var p=e[o][1],g=0;if(t){g=+t[e[o][0]];var b=r[g];if(b.p=="version"&&typeof p=="string"){var y=p.split(".");p=(+y[0]<<16)+(+y[1]||0)}c=N_(b.t,p)}else{var E=UX(p);E==-1&&(E=31,p=String(p)),c=N_(E,p)}s.push(c),u=rt(8),u.write_shift(4,t?g:2+o),a.push(u),i+=8+c.length}var S=8*(s.length+1);for(o=0;o<s.length;++o)a[o].write_shift(4,S),S+=s[o].length;return n.write_shift(4,i),n.write_shift(4,s.length),Xa([n].concat(a).concat(s))}function k_(e,t,r){var n=e.content;if(!n)return{};fs(n,0);var a,s,i,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),f=n.read_shift(16);if(f!==Yt.utils.consts.HEADER_CLSID&&f!==r)throw new Error("Bad PropertySet CLSID "+f);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var h=__(n,t),p={SystemIdentifier:u};for(var g in h)p[g]=h[g];if(p.FMTID=s,a===1)return p;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var b;try{b=__(n,null)}catch{}for(g in b)p[g]=b[g];return p.FMTID=[s,i],p}function F_(e,t,r,n,a,s){var i=rt(a?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Yt.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var c=T_(e,r,n);if(o.push(c),a){var u=T_(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),o.push(u)}return Xa(o)}function YA(e,t){return e.read_shift(t),null}function DX(e,t){t||(t=rt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function LX(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ma(e,t){return e.read_shift(t)===1}function Xs(e,t){return t||(t=rt(2)),t.write_shift(2,+!!e),t}function Ia(e){return e.read_shift(2,"u")}function Ao(e,t){return t||(t=rt(2)),t.write_shift(2,e),t}function Q6(e,t){return LX(e,t,Ia)}function RX(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function H6(e,t,r){return r||(r=rt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Ip(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function MX(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,c={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",f=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=o),c.t=f,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function PX(e){var t=e.t||"",r=rt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=rt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Xa(a)}function Vd(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Up(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Vd(e,n,r)}function nf(e,t,r){if(r.biff>5)return Up(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function V6(e,t,r){return r||(r=rt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function jX(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function OX(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Zs,"");return n&&(e.l+=24),a}function QX(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(Zs,"");return r+i}function HX(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return OX(e);case"0303000000000000c000000000000046":return QX(e);default:throw new Error("Unsupported Moniker "+r)}}function rx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Zs,""):"";return r}function I_(e,t){t||(t=rt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function VX(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,c,u="",f,h;a&16&&(s=rx(e,r-e.l)),a&128&&(i=rx(e,r-e.l)),(a&257)===257&&(o=rx(e,r-e.l)),(a&257)===1&&(c=HX(e,r-e.l)),a&8&&(u=rx(e,r-e.l)),a&32&&(f=e.read_shift(16)),a&64&&(h=o5(e)),e.l=r;var p=i||o||c||"";p&&u&&(p+="#"+u),p||(p="#"+u),a&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var g={Target:p};return f&&(g.guid=f),h&&(g.time=h),s&&(g.Tooltip=s),g}function GX(e){var t=rt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(s==28)n=n.slice(1),I_(n,t);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),s&8&&I_(a>-1?n.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function G6(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function z6(e,t){var r=G6(e);return r[3]=0,r}function rc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Gd(e,t,r,n){return n||(n=rt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function zX(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function KX(e,t,r){return t===0?"":nf(e,t,r)}function qX(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function K6(e){var t=e.read_shift(2),r=a5(e);return[t,r]}function WX(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Ip(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function Ev(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function q6(e,t){return t||(t=rt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function W6(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var $X=W6;function $6(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function YX(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function JX(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ts(e){e.l+=2,e.l+=e.read_shift(2)}var XX={0:Ts,4:Ts,5:Ts,6:Ts,7:JX,8:Ts,9:Ts,10:Ts,11:Ts,12:Ts,13:YX,14:Ts,15:Ts,16:Ts,17:Ts,18:Ts,19:Ts,20:Ts,21:$6};function ZX(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(XX[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function nx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function l5(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=rt(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function eZ(e,t){return t===0||e.read_shift(2),1200}function tZ(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=nf(e,0,r);return e.read_shift(t+n-e.l),a}function rZ(e,t){var r=!t||t.biff==8,n=rt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function nZ(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function aZ(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=Ip(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function sZ(e,t){var r=!t||t.biff>=8?2:1,n=rt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function iZ(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(MX(e));return s.Count=n,s.Unique=a,s}function oZ(e,t){var r=rt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=PX(e[a]);var s=Xa([r].concat(n));return s.parts=[r.length].concat(n.map(function(i){return i.length})),s}function lZ(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function cZ(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function AZ(e){var t=zX(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function uZ(e){return e.read_shift(2),e.read_shift(4)}function U_(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function dZ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:c,TabRatio:u}}function fZ(){var e=rt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function hZ(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function mZ(e){var t=rt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function pZ(){}function gZ(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Ip(e,0,r),n}function xZ(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=rt(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function vZ(e){var t=rc(e);return t.isst=e.read_shift(4),t}function wZ(e,t,r,n){var a=rt(10);return Gd(e,t,n,a),a.write_shift(4,r),a}function yZ(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=rc(e);r.biff==2&&e.l++;var s=Up(e,n-e.l,r);return a.val=s,a}function bZ(e,t,r,n,a){var s=!a||a.biff==8,i=rt(8+ +s+(1+s)*r.length);return Gd(e,t,n,i),i.write_shift(2,r.length),s&&i.write_shift(1,1),i.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),i}function CZ(e,t,r){var n=e.read_shift(2),a=nf(e,0,r);return[n,a]}function EZ(e,t,r,n){var a=r&&r.biff==5;n||(n=rt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var SZ=nf;function D_(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c}}}function BZ(e,t){var r=t.biff==8||!t.biff?4:2,n=rt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function NZ(e){var t=e.read_shift(2),r=e.read_shift(2),n=K6(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function _Z(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(K6(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function TZ(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function kZ(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=AX[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function FZ(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=kZ(e,t,n.fStyle,r),n}function L_(e,t,r,n){var a=r&&r.biff==5;n||(n=rt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function IZ(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function UZ(e){var t=rt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function R_(e,t,r){var n=rc(e);(r.biff==2||t==9)&&++e.l;var a=RX(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function DZ(e,t,r,n,a,s){var i=rt(8);return Gd(e,t,n,i),H6(r,s,i),i}function LZ(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=rc(e),a=Rs(e);return n.val=a,n}function RZ(e,t,r,n){var a=rt(14);return Gd(e,t,n,a),Hd(r,a),a}var M_=KX;function MZ(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=Vd(e,s),o=[];n>e.l;)o.push(Up(e));return[s,a,i,o]}function P_(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=WX(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var PZ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function j_(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Vd(e,i,r);a&32&&(u=PZ[u.charCodeAt(0)]);var f=n-e.l;r&&r.biff==2&&--f;var h=n==e.l||o===0||!(f>0)?[]:Zne(e,f,r,o);return{chKey:s,Name:u,itab:c,rgce:h}}function Y6(e,t,r){if(r.biff<8)return jZ(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(qX(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function jZ(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Ip(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function OZ(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=Vd(e,n,r),i=Vd(e,a,r);return[s,i]}function QZ(e,t,r){var n=W6(e);e.l++;var a=e.read_shift(1);return t-=8,[eae(e,t,r),a,n]}function O_(e,t,r){var n=$X(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Jne(e,t,r)]}function HZ(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function VZ(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=nf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function GZ(e,t,r){return VZ(e,t,r)}function zZ(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Ev(e));return r}function KZ(e){var t=rt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)q6(e[r],t);return t}function qZ(e,t,r){if(r&&r.biff<8)return $Z(e,t,r);var n=$6(e),a=ZX(e,t-22,n[1]);return{cmo:n,ft:a}}var WZ={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function $Z(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((WZ[n]||js)(e,t,r)),{cmo:[a,n,s],ft:i}}function YZ(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=jX(e,6,r);var o=e.read_shift(2);e.read_shift(2),Ia(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var f=e[e.l],h=Vd(e,e.lens[u+1]-e.lens[u]-1);if(a+=h,a.length>=(f?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function JZ(e,t){var r=Ev(e);e.l+=16;var n=VX(e,t-24);return[r,n]}function XZ(e){var t=rt(24),r=Yn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Xa([t,GX(e[1])])}function ZZ(e,t){e.read_shift(2);var r=Ev(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Zs,""),[r,n]}function eee(e){var t=e[1].Tooltip,r=rt(10+2*(t.length+1));r.write_shift(2,2048);var n=Yn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function tee(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=E_[r]||r,r=e.read_shift(2),t[1]=E_[r]||r,t}function ree(e){return e||(e=rt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function nee(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(z6(e));return r}function aee(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(z6(e));return r}function see(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function J6(e,t,r){if(!r.cellStyles)return js(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function iee(e,t){var r=rt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function oee(e,t){var r={};return t<32||(e.l+=16,r.header=Rs(e),r.footer=Rs(e),e.l+=2),r}function lee(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function cee(e){for(var t=rt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Aee=rc,uee=Q6,dee=Up;function fee(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function hee(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=rc(e);++e.l;var a=nf(e,t-7,r);return n.t="str",n.val=a,n}function mee(e){var t=rc(e);++e.l;var r=Rs(e);return t.t="n",t.val=r,t}function pee(e,t,r){var n=rt(15);return Mp(n,e,t),n.write_shift(8,r,"f"),n}function gee(e){var t=rc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function xee(e,t,r){var n=rt(9);return Mp(n,e,t),n.write_shift(2,r),n}function vee(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function wee(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function yee(e,t,r){var n=e.l+t,a=rc(e),s=e.read_shift(2),i=Vd(e,s,r);return e.l=n,a.t="str",a.val=i,a}var bee=[2,3,48,49,131,139,140,245],_b=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=yv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],f=Su(1);switch(c.type){case"base64":f=Mi(Qi(o));break;case"binary":f=Mi(o);break;case"buffer":case"array":f=o;break}fs(f,0);var h=f.read_shift(1),p=!!(h&136),g=!1,b=!1;switch(h){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var y=0,E=521;h==2&&(y=f.read_shift(2)),f.l+=3,h!=2&&(y=f.read_shift(4)),y>1048576&&(y=1e6),h!=2&&(E=f.read_shift(2));var S=f.read_shift(2),N=c.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(N=e[f[f.l]]),f.l+=1,f.l+=2),b&&(f.l+=36);for(var B=[],_={},k=Math.min(f.length,h==2?521:E-10-(g?264:0)),U=b?32:11;f.l<k&&f[f.l]!=13;)switch(_={},_.name=Jm.utils.decode(N,f.slice(f.l,f.l+U)).replace(/[\u0000\r\n].*$/g,""),f.l+=U,_.type=String.fromCharCode(f.read_shift(1)),h!=2&&!b&&(_.offset=f.read_shift(4)),_.len=f.read_shift(1),h==2&&(_.offset=f.read_shift(2)),_.dec=f.read_shift(1),_.name.length&&B.push(_),h!=2&&(f.l+=b?13:14),_.type){case"B":(!g||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(f[f.l]!==13&&(f.l=E-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=E;var F=0,L=0;for(u[0]=[],L=0;L!=B.length;++L)u[0][L]=B[L].name;for(;y-- >0;){if(f[f.l]===42){f.l+=S;continue}for(++f.l,u[++F]=[],L=0,L=0;L!=B.length;++L){var D=f.slice(f.l,f.l+B[L].len);f.l+=B[L].len,fs(D,0);var W=Jm.utils.decode(N,D);switch(B[L].type){case"C":W.trim().length&&(u[F][L]=W.replace(/\s+$/,""));break;case"D":W.length===8?u[F][L]=new Date(+W.slice(0,4),+W.slice(4,6)-1,+W.slice(6,8)):u[F][L]=W;break;case"F":u[F][L]=parseFloat(W.trim());break;case"+":case"I":u[F][L]=b?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(W.trim().toUpperCase()){case"Y":case"T":u[F][L]=!0;break;case"N":case"F":u[F][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+W+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[F][L]="##MEMO##"+(b?parseInt(W.trim(),10):D.read_shift(4));break;case"N":W=W.replace(/\u0000/g,"").trim(),W&&W!="."&&(u[F][L]=+W||0);break;case"@":u[F][L]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":u[F][L]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":u[F][L]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[F][L]=-D.read_shift(-8,"f");break;case"B":if(g&&B[L].len==8){u[F][L]=D.read_shift(8,"f");break}case"G":case"P":D.l+=B[L].len;break;case"0":if(B[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+B[L].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=B,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=ah(r(o,u),u);return f["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,f}function a(o,c){try{return Uu(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,c){var u=c||{};if(+u.codepage>=0&&Zo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=mi(),h=R1(o,{header:1,raw:!0,cellDates:!0}),p=h[0],g=h.slice(1),b=o["!cols"]||[],y=0,E=0,S=0,N=1;for(y=0;y<p.length;++y){if(((b[y]||{}).DBF||{}).name){p[y]=b[y].DBF.name,++S;continue}if(p[y]!=null){if(++S,typeof p[y]=="number"&&(p[y]=p[y].toString(10)),typeof p[y]!="string")throw new Error("DBF Invalid column name "+p[y]+" |"+typeof p[y]+"|");if(p.indexOf(p[y])!==y){for(E=0;E<1024;++E)if(p.indexOf(p[y]+"_"+E)==-1){p[y]+="_"+E;break}}}}var B=zr(o["!ref"]),_=[],k=[],U=[];for(y=0;y<=B.e.c-B.s.c;++y){var F="",L="",D=0,W=[];for(E=0;E<g.length;++E)g[E][y]!=null&&W.push(g[E][y]);if(W.length==0||p[y]==null){_[y]="?";continue}for(E=0;E<W.length;++E){switch(typeof W[E]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=W[E]instanceof Date?"D":"C";break;default:L="C"}D=Math.max(D,String(W[E]).length),F=F&&F!=L?"C":L}D>250&&(D=250),L=((b[y]||{}).DBF||{}).type,L=="C"&&b[y].DBF.len>D&&(D=b[y].DBF.len),F=="B"&&L=="N"&&(F="N",U[y]=b[y].DBF.dec,D=b[y].DBF.len),k[y]=F=="C"||L=="N"?D:s[F]||0,N+=k[y],_[y]=F}var O=f.next(32);for(O.write_shift(4,318902576),O.write_shift(4,g.length),O.write_shift(2,296+32*S),O.write_shift(2,N),y=0;y<4;++y)O.write_shift(4,0);for(O.write_shift(4,0|(+t[OI]||3)<<8),y=0,E=0;y<p.length;++y)if(p[y]!=null){var M=f.next(32),K=(p[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,K,"sbcs"),M.write_shift(1,_[y]=="?"?"C":_[y],"sbcs"),M.write_shift(4,E),M.write_shift(1,k[y]||s[_[y]]||0),M.write_shift(1,U[y]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),E+=k[y]||s[_[y]]||0}var Q=f.next(264);for(Q.write_shift(4,13),y=0;y<65;++y)Q.write_shift(4,0);for(y=0;y<g.length;++y){var ae=f.next(N);for(ae.write_shift(1,0),E=0;E<p.length;++E)if(p[E]!=null)switch(_[E]){case"L":ae.write_shift(1,g[y][E]==null?63:g[y][E]?84:70);break;case"B":ae.write_shift(8,g[y][E]||0,"f");break;case"N":var V="0";for(typeof g[y][E]=="number"&&(V=g[y][E].toFixed(U[E]||0)),S=0;S<k[E]-V.length;++S)ae.write_shift(1,32);ae.write_shift(1,V,"sbcs");break;case"D":g[y][E]?(ae.write_shift(4,("0000"+g[y][E].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(g[y][E].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+g[y][E].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var G=String(g[y][E]!=null?g[y][E]:"").slice(0,k[E]);for(ae.write_shift(1,G,"sbcs"),S=0;S<k[E]-G.length;++S)ae.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),X6=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ia(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,g){var b=e[g];return typeof b=="number"?JN(b):b},n=function(p,g,b){var y=g.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return y==59?p:JN(y)};e["|"]=254;function a(p,g){switch(g.type){case"base64":return s(Qi(p),g);case"binary":return s(p,g);case"buffer":return s(Br&&Buffer.isBuffer(p)?p.toString("binary"):Iu(p),g);case"array":return s(Qd(p),g)}throw new Error("Unrecognized type "+g.type)}function s(p,g){var b=p.split(/[\n\r]+/),y=-1,E=-1,S=0,N=0,B=[],_=[],k=null,U={},F=[],L=[],D=[],W=0,O;for(+g.codepage>=0&&Zo(+g.codepage);S!==b.length;++S){W=0;var M=b[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),K=M.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),Q=K[0],ae;if(M.length>0)switch(Q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&_.push(M.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,G=!1,re=!1,J=!1,Y=-1,ce=-1;for(N=1;N<K.length;++N)switch(K[N].charAt(0)){case"A":break;case"X":E=parseInt(K[N].slice(1))-1,G=!0;break;case"Y":for(y=parseInt(K[N].slice(1))-1,G||(E=0),O=B.length;O<=y;++O)B[O]=[];break;case"K":ae=K[N].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(tl(ae))?isNaN(V0(ae).getDate())||(ae=Ln(ae)):(ae=tl(ae),k!==null&&rh(k)&&(ae=Cv(ae))),V=!0;break;case"E":J=!0;var R=U0(K[N].slice(1),{r:y,c:E});B[y][E]=[B[y][E],R];break;case"S":re=!0,B[y][E]=[B[y][E],"S5S"];break;case"G":break;case"R":Y=parseInt(K[N].slice(1))-1;break;case"C":ce=parseInt(K[N].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}if(V&&(B[y][E]&&B[y][E].length==2?B[y][E][0]=ae:B[y][E]=ae,k=null),re){if(J)throw new Error("SYLK shared formula cannot have own formula");var z=Y>-1&&B[Y][ce];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");B[y][E][1]=pU(z[1],{r:y-Y,c:E-ce})}break;case"F":var q=0;for(N=1;N<K.length;++N)switch(K[N].charAt(0)){case"X":E=parseInt(K[N].slice(1))-1,++q;break;case"Y":for(y=parseInt(K[N].slice(1))-1,O=B.length;O<=y;++O)B[O]=[];break;case"M":W=parseInt(K[N].slice(1))/20;break;case"F":break;case"G":break;case"P":k=_[parseInt(K[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=K[N].slice(1).split(" "),O=parseInt(D[0],10);O<=parseInt(D[1],10);++O)W=parseInt(D[2],10),L[O-1]=W===0?{hidden:!0}:{wch:W},Bu(L[O-1]);break;case"C":E=parseInt(K[N].slice(1))-1,L[E]||(L[E]={});break;case"R":y=parseInt(K[N].slice(1))-1,F[y]||(F[y]={}),W>0?(F[y].hpt=W,F[y].hpx=z0(W)):W===0&&(F[y].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}q<1&&(k=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}}return F.length>0&&(U["!rows"]=F),L.length>0&&(U["!cols"]=L),g&&g.sheetRows&&(B=B.slice(0,g.sheetRows)),[B,U]}function i(p,g){var b=a(p,g),y=b[0],E=b[1],S=ah(y,g);return ia(E).forEach(function(N){S[N]=E[N]}),S}function o(p,g){return Uu(i(p,g),g)}function c(p,g,b,y){var E="C;Y"+(b+1)+";X"+(y+1)+";K";switch(p.t){case"n":E+=p.v||0,p.f&&!p.F&&(E+=";E"+h5(p.f,{r:b,c:y}));break;case"b":E+=p.v?"TRUE":"FALSE";break;case"e":E+=p.w||p.v;break;case"d":E+='"'+(p.w||p.v)+'"';break;case"s":E+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function u(p,g){g.forEach(function(b,y){var E="F;W"+(y+1)+" "+(y+1)+" ";b.hidden?E+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=sp(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=ip(b.wpx)),typeof b.wch=="number"&&(E+=Math.round(b.wch))),E.charAt(E.length-1)!=" "&&p.push(E)})}function f(p,g){g.forEach(function(b,y){var E="F;";b.hidden?E+="M0;":b.hpt?E+="M"+20*b.hpt+";":b.hpx&&(E+="M"+20*op(b.hpx)+";"),E.length>2&&p.push(E+"R"+(y+1))})}function h(p,g){var b=["ID;PWXL;N;E"],y=[],E=zr(p["!ref"]),S,N=Array.isArray(p),B=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),p["!cols"]&&u(b,p["!cols"]),p["!rows"]&&f(b,p["!rows"]),b.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var _=E.s.r;_<=E.e.r;++_)for(var k=E.s.c;k<=E.e.c;++k){var U=sr({r:_,c:k});S=N?(p[_]||[])[k]:p[U],!(!S||S.v==null&&(!S.f||S.F))&&y.push(c(S,p,_,k))}return b.join(B)+B+y.join(B)+B+"E"+B}return{to_workbook:o,to_sheet:i,from_sheet:h}}(),Z6=function(){function e(s,i){switch(i.type){case"base64":return t(Qi(s),i);case"binary":return t(s,i);case"buffer":return t(Br&&Buffer.isBuffer(s)?s.toString("binary"):Iu(s),i);case"array":return t(Qd(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),c=-1,u=-1,f=0,h=[];f!==o.length;++f){if(o[f].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var p=o[f].trim().split(","),g=p[0],b=p[1];++f;for(var y=o[f]||"";(y.match(/["]/g)||[]).length&1&&f<o.length-1;)y+=`
`+o[++f];switch(y=y.trim(),+g){case-1:if(y==="BOT"){h[++c]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?h[c][u]=!0:y==="FALSE"?h[c][u]=!1:isNaN(tl(b))?isNaN(V0(b).getDate())?h[c][u]=b:h[c][u]=Ln(b):h[c][u]=tl(b),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),h[c][u++]=y!==""?y:null;break}if(y==="EOD")break}}return i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),h}function r(s,i){return ah(e(s,i),i)}function n(s,i){return Uu(r(s,i),i)}var a=function(){var s=function(c,u,f,h,p){c.push(u),c.push(f+","+h),c.push('"'+p.replace(/"/g,'""')+'"')},i=function(c,u,f,h){c.push(u+","+f),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],f=zr(c["!ref"]),h,p=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,f.e.r-f.s.r+1,""),s(u,"TUPLES",0,f.e.c-f.s.c+1,""),s(u,"DATA",0,0,"");for(var g=f.s.r;g<=f.e.r;++g){i(u,-1,0,"BOT");for(var b=f.s.c;b<=f.e.c;++b){var y=sr({r:g,c:b});if(h=p?(c[g]||[])[b]:c[y],!h){i(u,1,0,"");continue}switch(h.t){case"n":var E=h.w;!E&&h.v!=null&&(E=h.v),E==null?h.f&&!h.F?i(u,1,0,"="+h.f):i(u,1,0,""):i(u,0,E,"V");break;case"b":i(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=wo(h.z||rr[14],Qa(Ln(h.v)))),i(u,0,h.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var S=`\r
`,N=u.join(S);return N}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),eU=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,p){for(var g=h.split(`
`),b=-1,y=-1,E=0,S=[];E!==g.length;++E){var N=g[E].trim().split(":");if(N[0]==="cell"){var B=Yn(N[1]);if(S.length<=B.r)for(b=S.length;b<=B.r;++b)S[b]||(S[b]=[]);switch(b=B.r,y=B.c,N[2]){case"t":S[b][y]=e(N[3]);break;case"v":S[b][y]=+N[3];break;case"vtf":var _=N[N.length-1];case"vtc":switch(N[3]){case"nl":S[b][y]=!!+N[4];break;default:S[b][y]=+N[4];break}N[2]=="vtf"&&(S[b][y]=[S[b][y],_])}}}return p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),S}function n(h,p){return ah(r(h,p),p)}function a(h,p){return Uu(n(h,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var p=[],g=[],b,y="",E=xi(h["!ref"]),S=Array.isArray(h),N=E.s.r;N<=E.e.r;++N)for(var B=E.s.c;B<=E.e.c;++B)if(y=sr({r:N,c:B}),b=S?(h[N]||[])[B]:h[y],!(!b||b.v==null||b.t==="z")){switch(g=["cell",y,"t"],b.t){case"s":case"str":g.push(t(b.v));break;case"n":b.f?(g[2]="vtf",g[3]="n",g[4]=b.v,g[5]=t(b.f)):(g[2]="v",g[3]=b.v);break;case"b":g[2]="vt"+(b.f?"f":"c"),g[3]="nl",g[4]=b.v?"1":"0",g[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var _=Qa(Ln(b.v));g[2]="vtc",g[3]="nd",g[4]=""+_,g[5]=b.w||wo(b.z||rr[14],_);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(h){return[s,i,o,i,u(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:f}}(),G0=function(){function e(f,h,p,g,b){b.raw?h[p][g]=f:f===""||(f==="TRUE"?h[p][g]=!0:f==="FALSE"?h[p][g]=!1:isNaN(tl(f))?isNaN(V0(f).getDate())?h[p][g]=f:h[p][g]=Ln(f):h[p][g]=tl(f))}function t(f,h){var p=h||{},g=[];if(!f||f.length===0)return g;for(var b=f.split(/[\r\n]/),y=b.length-1;y>=0&&b[y].length===0;)--y;for(var E=10,S=0,N=0;N<=y;++N)S=b[N].indexOf(" "),S==-1?S=b[N].length:S++,E=Math.max(E,S);for(N=0;N<=y;++N){g[N]=[];var B=0;for(e(b[N].slice(0,E).trim(),g,N,B,p),B=1;B<=(b[N].length-E)/10+1;++B)e(b[N].slice(E+(B-1)*10,E+B*10).trim(),g,N,B,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(f){for(var h={},p=!1,g=0,b=0;g<f.length;++g)(b=f.charCodeAt(g))==34?p=!p:!p&&b in r&&(h[b]=(h[b]||0)+1);b=[];for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&b.push([h[g],g]);if(!b.length){h=n;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&b.push([h[g],g])}return b.sort(function(y,E){return y[0]-E[0]||n[y[1]]-n[E[1]]}),r[b.pop()[1]]||44}function s(f,h){var p=h||{},g="",b=p.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(g=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(g=f.charAt(4),f=f.slice(6)):g=a(f.slice(0,1024)):p&&p.FS?g=p.FS:g=a(f.slice(0,1024));var E=0,S=0,N=0,B=0,_=0,k=g.charCodeAt(0),U=!1,F=0,L=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var D=p.dateNF!=null?lJ(p.dateNF):null;function W(){var O=f.slice(B,_),M={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)M.t="z";else if(p.raw)M.t="s",M.v=O;else if(O.trim().length===0)M.t="s",M.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(M.t="s",M.v=O.slice(2,-1).replace(/""/g,'"')):Mre(O)?(M.t="n",M.f=O.slice(1)):(M.t="s",M.v=O);else if(O=="TRUE")M.t="b",M.v=!0;else if(O=="FALSE")M.t="b",M.v=!1;else if(!isNaN(N=tl(O)))M.t="n",p.cellText!==!1&&(M.w=O),M.v=N;else if(!isNaN(V0(O).getDate())||D&&O.match(D)){M.z=p.dateNF||rr[14];var K=0;D&&O.match(D)&&(O=cJ(O,p.dateNF,O.match(D)||[]),K=1),p.cellDates?(M.t="d",M.v=Ln(O,K)):(M.t="n",M.v=Qa(Ln(O,K))),p.cellText!==!1&&(M.w=wo(M.z,M.v instanceof Date?Qa(M.v):M.v)),p.cellNF||delete M.z}else M.t="s",M.v=O;if(M.t=="z"||(p.dense?(b[E]||(b[E]=[]),b[E][S]=M):b[sr({c:S,r:E})]=M),B=_+1,L=f.charCodeAt(B),y.e.c<S&&(y.e.c=S),y.e.r<E&&(y.e.r=E),F==k)++S;else if(S=0,++E,p.sheetRows&&p.sheetRows<=E)return!0}e:for(;_<f.length;++_)switch(F=f.charCodeAt(_)){case 34:L===34&&(U=!U);break;case k:case 10:case 13:if(!U&&W())break e;break}return _-B>0&&W(),b["!ref"]=pr(y),b}function i(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,h):ah(t(f,h),h)}function o(f,h){var p="",g=h.type=="string"?[0,0,0,0]:b5(f,h);switch(h.type){case"base64":p=Qi(f);break;case"binary":p=f;break;case"buffer":h.codepage==65001?p=f.toString("utf8"):h.codepage&&typeof Jm<"u"||(p=Br&&Buffer.isBuffer(f)?f.toString("binary"):Iu(f));break;case"array":p=Qd(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+h.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=gn(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=gn(p):h.type=="binary"&&typeof Jm<"u",p.slice(0,19)=="socialcalc:version:"?eU.to_sheet(h.type=="string"?p:gn(p),h):i(p,h)}function c(f,h){return Uu(o(f,h),h)}function u(f){for(var h=[],p=zr(f["!ref"]),g,b=Array.isArray(f),y=p.s.r;y<=p.e.r;++y){for(var E=[],S=p.s.c;S<=p.e.c;++S){var N=sr({r:y,c:S});if(g=b?(f[y]||[])[S]:f[N],!g||g.v==null){E.push("          ");continue}for(var B=(g.w||($c(g),g.w)||"").slice(0,10);B.length<10;)B+=" ";E.push(B+(S===0?" ":""))}h.push(E.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function Cee(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=X6.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return G0.to_workbook(e,t)}}var Ud=function(){function e(R,z,q){if(R){fs(R,R.l||0);for(var ee=q.Enum||Y;R.l<R.length;){var ne=R.read_shift(2),le=ee[ne]||ee[65535],ue=R.read_shift(2),he=R.l+ue,Ne=le.f&&le.f(R,ue,q);if(R.l=he,z(Ne,le,ne))return}}}function t(R,z){switch(z.type){case"base64":return r(Mi(Qi(R)),z);case"binary":return r(Mi(R),z);case"buffer":case"array":return r(R,z)}throw"Unsupported type "+z.type}function r(R,z){if(!R)return R;var q=z||{},ee=q.dense?[]:{},ne="Sheet1",le="",ue=0,he={},Ne=[],ge=[],te={s:{r:0,c:0},e:{r:0,c:0}},Te=q.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)q.Enum=Y,e(R,function(je,$e,et){switch(et){case 0:q.vers=je,je>=4096&&(q.qpro=!0);break;case 6:te=je;break;case 204:je&&(le=je);break;case 222:le=je;break;case 15:case 51:q.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:et==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=q.dateNF||rr[14],q.cellDates&&(je[1].t="d",je[1].v=Cv(je[1].v))),q.qpro&&je[3]>ue&&(ee["!ref"]=pr(te),he[ne]=ee,Ne.push(ne),ee=q.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},ue=je[3],ne=le||"Sheet"+(ue+1),le="");var dt=q.dense?(ee[je[0].r]||[])[je[0].c]:ee[sr(je[0])];if(dt){dt.t=je[1].t,dt.v=je[1].v,je[1].z!=null&&(dt.z=je[1].z),je[1].f!=null&&(dt.f=je[1].f);break}q.dense?(ee[je[0].r]||(ee[je[0].r]=[]),ee[je[0].r][je[0].c]=je[1]):ee[sr(je[0])]=je[1];break}},q);else if(R[2]==26||R[2]==14)q.Enum=ce,R[2]==14&&(q.qpro=!0,R.l=0),e(R,function(je,$e,et){switch(et){case 204:ne=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>ue&&(ee["!ref"]=pr(te),he[ne]=ee,Ne.push(ne),ee=q.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},ue=je[3],ne="Sheet"+(ue+1)),Te>0&&je[0].r>=Te)break;q.dense?(ee[je[0].r]||(ee[je[0].r]=[]),ee[je[0].r][je[0].c]=je[1]):ee[sr(je[0])]=je[1],te.e.c<je[0].c&&(te.e.c=je[0].c),te.e.r<je[0].r&&(te.e.r=je[0].r);break;case 27:je[14e3]&&(ge[je[14e3][0]]=je[14e3][1]);break;case 1537:ge[je[0]]=je[1],je[0]==ue&&(ne=je[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(ee["!ref"]=pr(te),he[le||ne]=ee,Ne.push(le||ne),!ge.length)return{SheetNames:Ne,Sheets:he};for(var qe={},ke=[],we=0;we<ge.length;++we)he[Ne[we]]?(ke.push(ge[we]||Ne[we]),qe[ge[we]]=he[ge[we]]||he[Ne[we]]):(ke.push(ge[we]),qe[ge[we]]={"!ref":"A1"});return{SheetNames:ke,Sheets:qe}}function n(R,z){var q=z||{};if(+q.codepage>=0&&Zo(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=mi(),ne=zr(R["!ref"]),le=Array.isArray(R),ue=[];Et(ee,0,s(1030)),Et(ee,6,c(ne));for(var he=Math.min(ne.e.r,8191),Ne=ne.s.r;Ne<=he;++Ne)for(var ge=ya(Ne),te=ne.s.c;te<=ne.e.c;++te){Ne===ne.s.r&&(ue[te]=$n(te));var Te=ue[te]+ge,qe=le?(R[Ne]||[])[te]:R[Te];if(!(!qe||qe.t=="z"))if(qe.t=="n")(qe.v|0)==qe.v&&qe.v>=-32768&&qe.v<=32767?Et(ee,13,g(Ne,te,qe.v)):Et(ee,14,y(Ne,te,qe.v));else{var ke=$c(qe);Et(ee,15,h(Ne,te,ke.slice(0,239)))}}return Et(ee,1),ee.end()}function a(R,z){var q=z||{};if(+q.codepage>=0&&Zo(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=mi();Et(ee,0,i(R));for(var ne=0,le=0;ne<R.SheetNames.length;++ne)(R.Sheets[R.SheetNames[ne]]||{})["!ref"]&&Et(ee,27,J(R.SheetNames[ne],le++));var ue=0;for(ne=0;ne<R.SheetNames.length;++ne){var he=R.Sheets[R.SheetNames[ne]];if(!(!he||!he["!ref"])){for(var Ne=zr(he["!ref"]),ge=Array.isArray(he),te=[],Te=Math.min(Ne.e.r,8191),qe=Ne.s.r;qe<=Te;++qe)for(var ke=ya(qe),we=Ne.s.c;we<=Ne.e.c;++we){qe===Ne.s.r&&(te[we]=$n(we));var je=te[we]+ke,$e=ge?(he[qe]||[])[we]:he[je];if(!(!$e||$e.t=="z"))if($e.t=="n")Et(ee,23,W(qe,we,ue,$e.v));else{var et=$c($e);Et(ee,22,F(qe,we,ue,et.slice(0,239)))}}++ue}}return Et(ee,1),ee.end()}function s(R){var z=rt(2);return z.write_shift(2,R),z}function i(R){var z=rt(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var q=0,ee=0,ne=0,le=0;le<R.SheetNames.length;++le){var ue=R.SheetNames[le],he=R.Sheets[ue];if(!(!he||!he["!ref"])){++ne;var Ne=xi(he["!ref"]);q<Ne.e.r&&(q=Ne.e.r),ee<Ne.e.c&&(ee=Ne.e.c)}}return q>8191&&(q=8191),z.write_shift(2,q),z.write_shift(1,ne),z.write_shift(1,ee),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function o(R,z,q){var ee={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&q.qpro?(ee.s.c=R.read_shift(1),R.l++,ee.s.r=R.read_shift(2),ee.e.c=R.read_shift(1),R.l++,ee.e.r=R.read_shift(2),ee):(ee.s.c=R.read_shift(2),ee.s.r=R.read_shift(2),z==12&&q.qpro&&(R.l+=2),ee.e.c=R.read_shift(2),ee.e.r=R.read_shift(2),z==12&&q.qpro&&(R.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function c(R){var z=rt(8);return z.write_shift(2,R.s.c),z.write_shift(2,R.s.r),z.write_shift(2,R.e.c),z.write_shift(2,R.e.r),z}function u(R,z,q){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(ee[0].c=R.read_shift(1),ee[3]=R.read_shift(1),ee[0].r=R.read_shift(2),R.l+=2):(ee[2]=R.read_shift(1),ee[0].c=R.read_shift(2),ee[0].r=R.read_shift(2)),ee}function f(R,z,q){var ee=R.l+z,ne=u(R,z,q);if(ne[1].t="s",q.vers==20768){R.l++;var le=R.read_shift(1);return ne[1].v=R.read_shift(le,"utf8"),ne}return q.qpro&&R.l++,ne[1].v=R.read_shift(ee-R.l,"cstr"),ne}function h(R,z,q){var ee=rt(7+q.length);ee.write_shift(1,255),ee.write_shift(2,z),ee.write_shift(2,R),ee.write_shift(1,39);for(var ne=0;ne<ee.length;++ne){var le=q.charCodeAt(ne);ee.write_shift(1,le>=128?95:le)}return ee.write_shift(1,0),ee}function p(R,z,q){var ee=u(R,z,q);return ee[1].v=R.read_shift(2,"i"),ee}function g(R,z,q){var ee=rt(7);return ee.write_shift(1,255),ee.write_shift(2,z),ee.write_shift(2,R),ee.write_shift(2,q,"i"),ee}function b(R,z,q){var ee=u(R,z,q);return ee[1].v=R.read_shift(8,"f"),ee}function y(R,z,q){var ee=rt(13);return ee.write_shift(1,255),ee.write_shift(2,z),ee.write_shift(2,R),ee.write_shift(8,q,"f"),ee}function E(R,z,q){var ee=R.l+z,ne=u(R,z,q);if(ne[1].v=R.read_shift(8,"f"),q.qpro)R.l=ee;else{var le=R.read_shift(2);_(R.slice(R.l,R.l+le),ne),R.l+=le}return ne}function S(R,z,q){var ee=z&32768;return z&=-32769,z=(ee?R:0)+(z>=8192?z-16384:z),(ee?"":"$")+(q?$n(z):ya(z))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},B=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(R,z){fs(R,0);for(var q=[],ee=0,ne="",le="",ue="",he="";R.l<R.length;){var Ne=R[R.l++];switch(Ne){case 0:q.push(R.read_shift(8,"f"));break;case 1:le=S(z[0].c,R.read_shift(2),!0),ne=S(z[0].r,R.read_shift(2),!1),q.push(le+ne);break;case 2:{var ge=S(z[0].c,R.read_shift(2),!0),te=S(z[0].r,R.read_shift(2),!1);le=S(z[0].c,R.read_shift(2),!0),ne=S(z[0].r,R.read_shift(2),!1),q.push(ge+te+":"+le+ne)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(R.read_shift(2));break;case 6:{for(var Te="";Ne=R[R.l++];)Te+=String.fromCharCode(Ne);q.push('"'+Te.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:he=q.pop(),ue=q.pop(),q.push(["AND","OR"][Ne-20]+"("+ue+","+he+")");break;default:if(Ne<32&&B[Ne])he=q.pop(),ue=q.pop(),q.push(ue+B[Ne]+he);else if(N[Ne]){if(ee=N[Ne][1],ee==69&&(ee=R[R.l++]),ee>q.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+q.join("|")+"|");return}var qe=q.slice(-ee);q.length-=ee,q.push(N[Ne][0]+"("+qe.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}q.length==1?z[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function k(R){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=R.read_shift(2),z[3]=R[R.l++],z[0].c=R[R.l++],z}function U(R,z){var q=k(R);return q[1].t="s",q[1].v=R.read_shift(z-4,"cstr"),q}function F(R,z,q,ee){var ne=rt(6+ee.length);ne.write_shift(2,R),ne.write_shift(1,q),ne.write_shift(1,z),ne.write_shift(1,39);for(var le=0;le<ee.length;++le){var ue=ee.charCodeAt(le);ne.write_shift(1,ue>=128?95:ue)}return ne.write_shift(1,0),ne}function L(R,z){var q=k(R);q[1].v=R.read_shift(2);var ee=q[1].v>>1;if(q[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return q[1].v=ee,q}function D(R,z){var q=k(R),ee=R.read_shift(4),ne=R.read_shift(4),le=R.read_shift(2);if(le==65535)return ee===0&&ne===3221225472?(q[1].t="e",q[1].v=15):ee===0&&ne===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var ue=le&32768;return le=(le&32767)-16446,q[1].v=(1-ue*2)*(ne*Math.pow(2,le+32)+ee*Math.pow(2,le)),q}function W(R,z,q,ee){var ne=rt(14);if(ne.write_shift(2,R),ne.write_shift(1,q),ne.write_shift(1,z),ee==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var le=0,ue=0,he=0,Ne=0;return ee<0&&(le=1,ee=-ee),ue=Math.log2(ee)|0,ee/=Math.pow(2,ue-31),Ne=ee>>>0,(Ne&2147483648)==0&&(ee/=2,++ue,Ne=ee>>>0),ee-=Ne,Ne|=2147483648,Ne>>>=0,ee*=Math.pow(2,32),he=ee>>>0,ne.write_shift(4,he),ne.write_shift(4,Ne),ue+=16383+(le?32768:0),ne.write_shift(2,ue),ne}function O(R,z){var q=D(R);return R.l+=z-14,q}function M(R,z){var q=k(R),ee=R.read_shift(4);return q[1].v=ee>>6,q}function K(R,z){var q=k(R),ee=R.read_shift(8,"f");return q[1].v=ee,q}function Q(R,z){var q=K(R);return R.l+=z-10,q}function ae(R,z){return R[R.l+z-1]==0?R.read_shift(z,"cstr"):""}function V(R,z){var q=R[R.l++];q>z-1&&(q=z-1);for(var ee="";ee.length<q;)ee+=String.fromCharCode(R[R.l++]);return ee}function G(R,z,q){if(!(!q.qpro||z<21)){var ee=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var ne=R.read_shift(z-21,"cstr");return[ee,ne]}}function re(R,z){for(var q={},ee=R.l+z;R.l<ee;){var ne=R.read_shift(2);if(ne==14e3){for(q[ne]=[0,""],q[ne][0]=R.read_shift(2);R[R.l];)q[ne][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return q}function J(R,z){var q=rt(5+R.length);q.write_shift(2,14e3),q.write_shift(2,z);for(var ee=0;ee<R.length;++ee){var ne=R.charCodeAt(ee);q[q.l++]=ne>127?95:ne}return q[q.l++]=0,q}var Y={0:{n:"BOF",f:Ia},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:b},15:{n:"LABEL",f},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:Q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Eee(e){var t={},r=e.match(Qs),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=cr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=jC[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var See=function(){var e=ep("t"),t=ep("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:Gr(i[1])},c=s.match(t);return c&&(o.s=Eee(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),Bee=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),Nee=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,_ee=/<(?:\w+:)?r>/,Tee=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function c5(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Gr(gn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=gn(e),r&&(n.h=$C(n.t))):e.match(_ee)&&(n.r=gn(e),n.t=Gr(gn((e.replace(Tee,"").match(Nee)||[]).join("").replace(Qs,""))),r&&(n.h=Bee(See(n.r)))),n):{t:""}}var kee=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Fee=/<(?:\w+:)?(?:si|sstItem)>/g,Iee=/<\/(?:\w+:)?(?:si|sstItem)>/;function Uee(e,t){var r=[],n="";if(!e)return r;var a=e.match(kee);if(a){n=a[2].replace(Fee,"").split(Iee);for(var s=0;s!=n.length;++s){var i=c5(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=cr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var Dee=/^\s|\s$|[\t\n\r]/;function tU(e,t){if(!t.bookSST)return"";var r=[ba];r[r.length]=bt("sst",null,{xmlns:Xd[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(Dee)&&(s+=' xml:space="preserve"'),s+=">"+un(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Lee(e){return[e.read_shift(4),e.read_shift(4)]}function Ree(e,t){var r=[],n=!1;return rA(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Mee(e,t){return t||(t=rt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Pee=WJ;function jee(e){var t=mi();mt(t,159,Mee(e));for(var r=0;r<e.length;++r)mt(t,19,Pee(e[r]));return mt(t,160),t.end()}function rU(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Gc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Oee(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Gc(e,4),t.U=Gc(e,4),t.W=Gc(e,4),t}function Qee(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Hee(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Qee(e));return t}function Vee(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Gee(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Gc(e,4),t.U=Gc(e,4),t.W=Gc(e,4),t}function zee(e){var t=Gee(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function nU(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function aU(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Kee(e){var t=Gc(e);switch(t.Minor){case 2:return[t.Minor,qee(e)];case 3:return[t.Minor,Wee()];case 4:return[t.Minor,$ee(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function qee(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=nU(e,r),a=aU(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Wee(){throw new Error("File is password-protected: ECMA-376 Extensible")}function $ee(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Qs,function(s){var i=cr(s);switch(tc(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function Yee(e,t){var r={},n=r.EncryptionVersionInfo=Gc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=nU(e,a),t-=a,r.EncryptionVerifier=aU(e,t),r}function Jee(e){var t={},r=t.EncryptionVersionInfo=Gc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function A5(e){var t=0,r,n=rU(e),a=n.length+1,s,i,o,c,u;for(r=Su(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=(t&16384)===0?0:1,c=t<<1&32767,u=o|c,t=u^i;return t^52811}var sU=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var f=i[u],h=0;h!=7;++h)f&64&&(o^=r[c]),f*=2,--c;return o};return function(i){for(var o=rU(i),c=s(o),u=o.length,f=Su(16),h=0;h!=16;++h)f[h]=0;var p,g,b;for((u&1)===1&&(p=c>>8,f[u]=a(e[0],p),--u,p=c&255,g=o[o.length-1],f[u]=a(g,p));u>0;)--u,p=c>>8,f[u]=a(o[u],p),--u,p=c&255,f[u]=a(o[u],p);for(u=15,b=15-o.length;b>0;)p=c>>8,f[u]=a(e[b],p),--u,--b,p=c&255,f[u]=a(o[u],p),--u,--b;return f}}(),Xee=function(e,t,r,n,a){a||(a=t),n||(n=sU(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},Zee=function(e){var t=0,r=sU(e);return function(n){var a=Xee("",n,t,r);return t=a[1],a[0]}};function ete(e,t,r,n){var a={key:Ia(e),verificationBytes:Ia(e)};return r.password&&(a.verifier=A5(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Zee(r.password)),a}function tte(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Jee(e):n.Data=Yee(e,t),n}function rte(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?tte(e,t-2,n):ete(e,r.biff>=8?t:t-2,r,n),n}var iU=function(){function e(a,s){switch(s.type){case"base64":return t(Qi(a),s);case"binary":return t(a,s);case"buffer":return t(Br&&Buffer.isBuffer(a)?a.toString("binary"):Iu(a),s);case"array":return t(Qd(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,h){Array.isArray(o)&&(o[h]=[]);for(var p=/\\\w+\b/g,g=0,b,y=-1;b=p.exec(f);){switch(b[0]){case"\\cell":var E=f.slice(g,p.lastIndex-b[0].length);if(E[0]==" "&&(E=E.slice(1)),++y,E.length){var S={v:E,t:"s"};Array.isArray(o)?o[h][y]=S:o[sr({r:h,c:y})]=S}break}g=p.lastIndex}y>u.e.c&&(u.e.c=y)}),o["!ref"]=pr(u),o}function r(a,s){return Uu(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=zr(a["!ref"]),o,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var f=i.s.c;f<=i.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=i.s.c;f<=i.e.c;++f){var h=sr({r:u,c:f});o=c?(a[u]||[])[f]:a[h],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||($c(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function nte(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function ap(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function ate(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,c,u/2]}function ste(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-o),i[0]+=c,i[1]+=a;break;case 2:c=a*(o-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-o),i[1]+=c,i[2]+=a;break;case 4:c=a*(o-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-o),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function D1(e,t){if(t===0)return e;var r=ate(nte(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),ap(ste(r))}var oU=6,ite=15,ote=1,Ds=oU;function sp(e){return Math.floor((e+Math.round(128/Ds)/256)*Ds)}function ip(e){return Math.floor((e-5)/Ds*100+.5)/100}function L1(e){return Math.round((e*Ds+5)/Ds*256)/256}function Hw(e){return L1(ip(sp(e)))}function u5(e){var t=Math.abs(e-Hw(e)),r=Ds;if(t>.005)for(Ds=ote;Ds<ite;++Ds)Math.abs(e-Hw(e))<=t&&(t=Math.abs(e-Hw(e)),r=Ds);Ds=r}function Bu(e){e.width?(e.wpx=sp(e.width),e.wch=ip(e.wpx),e.MDW=Ds):e.wpx?(e.wch=ip(e.wpx),e.width=L1(e.wch),e.MDW=Ds):typeof e.wch=="number"&&(e.width=L1(e.wch),e.wpx=sp(e.width),e.MDW=Ds),e.customWidth&&delete e.customWidth}var lte=96,lU=lte;function op(e){return e*96/lU}function z0(e){return e*lU/96}var cte={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Ate(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Qs)||[]).forEach(function(i){var o=cr(i);switch(tc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Un(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Un(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function ute(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Qs)||[]).forEach(function(i){var o=cr(i);switch(tc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function dte(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Qs)||[]).forEach(function(i){var o=cr(i);switch(tc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=gn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Un(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Un(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Un(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Un(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Un(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Un(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Un(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=jC[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Un(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=Fd[a.color.index];a.color.index==81&&(c=Fd[1]),c||(c=Fd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=D1(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function fte(e,t,r){t.NumberFmt=[];for(var n=ia(rr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=rr[n[a]];var s=e[0].match(Qs);if(s)for(a=0;a<s.length;++a){var i=cr(s[a]);switch(tc(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Gr(gn(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}Vc(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function hte(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=bt("numFmt",null,{numFmtId:n,formatCode:un(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=bt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var ax=["numFmtId","fillId","fontId","borderId","xfId"],sx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function mte(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Qs)||[]).forEach(function(s){var i=cr(s),o=0;switch(tc(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<ax.length;++o)n[ax[o]]&&(n[ax[o]]=parseInt(n[ax[o]],10));for(o=0;o<sx.length;++o)n[sx[o]]&&(n[sx[o]]=Un(n[sx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=Un(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function pte(e){var t=[];return t[t.length]=bt("cellXfs",null),e.forEach(function(r){t[t.length]=bt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=bt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var gte=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var f={};if(!o)return f;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(t))&&fte(h,f,u),(h=o.match(a))&&dte(h,f,c,u),(h=o.match(n))&&ute(h,f,c,u),(h=o.match(s))&&Ate(h,f,c,u),(h=o.match(r))&&mte(h,f,u),f}}();function cU(e,t){var r=[ba,bt("styleSheet",null,{xmlns:Xd[0],"xmlns:vt":ja.vt})],n;return e.SSF&&(n=hte(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=pte(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function xte(e,t){var r=e.read_shift(2),n=Ps(e);return[r,n]}function vte(e,t,r){r||(r=rt(6+4*t.length)),r.write_shift(2,e),Za(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function wte(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=tX(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=eX(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ps(e),n}function yte(e,t){t||(t=rt(153)),t.write_shift(2,e.sz*20),rX(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),F1(e.color,t);var n=0;return n=2,t.write_shift(1,n),Za(e.name,t),t.length>t.l?t.slice(0,t.l):t}var bte=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Vw,Cte=js;function Q_(e,t){t||(t=rt(84)),Vw||(Vw=yv(bte));var r=Vw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(F1({auto:1},t),F1({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Ete(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function AU(e,t,r){r||(r=rt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function tm(e,t){return t||(t=rt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Ste=js;function Bte(e,t){return t||(t=rt(51)),t.write_shift(1,0),tm(null,t),tm(null,t),tm(null,t),tm(null,t),tm(null,t),t.length>t.l?t.slice(0,t.l):t}function Nte(e,t){return t||(t=rt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),k1(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function _te(e,t,r){var n=rt(2052);return n.write_shift(4,e),k1(t,n),k1(r,n),n.length>n.l?n.slice(0,n.l):n}function Tte(e,t,r){var n={};n.NumberFmt=[];for(var a in rr)n.NumberFmt[a]=rr[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return rA(e,function(c,u,f){switch(f){case 44:n.NumberFmt[c[0]]=c[1],Vc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=D1(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(f),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(f);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),n}function kte(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(mt(e,615,rl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&mt(e,44,vte(a,t[a]))}),mt(e,616))}}function Fte(e){var t=1;mt(e,611,rl(t)),mt(e,43,yte({sz:12,color:{theme:1},name:"Calibri",family:2})),mt(e,612)}function Ite(e){var t=2;mt(e,603,rl(t)),mt(e,45,Q_({patternType:"none"})),mt(e,45,Q_({patternType:"gray125"})),mt(e,604)}function Ute(e){var t=1;mt(e,613,rl(t)),mt(e,46,Bte()),mt(e,614)}function Dte(e){var t=1;mt(e,626,rl(t)),mt(e,47,AU({numFmtId:0},65535)),mt(e,627)}function Lte(e,t){mt(e,617,rl(t.length)),t.forEach(function(r){mt(e,47,AU(r,0))}),mt(e,618)}function Rte(e){var t=1;mt(e,619,rl(t)),mt(e,48,Nte({xfId:0,name:"Normal"})),mt(e,620)}function Mte(e){var t=0;mt(e,505,rl(t)),mt(e,506)}function Pte(e){var t=0;mt(e,508,_te(t,"TableStyleMedium9","PivotStyleMedium4")),mt(e,509)}function jte(e,t){var r=mi();return mt(r,278),kte(r,e.SSF),Fte(r),Ite(r),Ute(r),Dte(r),Lte(r,t.cellXfs),Rte(r),Mte(r),Pte(r),mt(r,279),r.end()}var Ote=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Qte(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Qs)||[]).forEach(function(a){var s=cr(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[Ote.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Hte(){}function Vte(){}var Gte=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,zte=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Kte=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function qte(e,t,r){t.themeElements={};var n;[["clrScheme",Gte,Qte],["fontScheme",zte,Hte],["fmtScheme",Kte,Vte]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Wte=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function uU(e,t){(!e||e.length===0)&&(e=d5());var r,n={};if(!(r=e.match(Wte)))throw new Error("themeElements not found in theme");return qte(r[0],n,t),n.raw=e,n}function d5(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[ba];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function $te(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=n6(s,{type:"array"})}catch{return}var o=Pi(i,"theme/theme/theme1.xml",!0);if(o)return uU(o,r)}}function Yte(e){return e.read_shift(4)}function Jte(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Xte(e,4);break;case 2:t.xclrValue=G6(e);break;case 3:t.xclrValue=Yte(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Xte(e,t){return js(e,t)}function Zte(e,t){return js(e,t)}function ere(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Jte(e);break;case 6:n[1]=Zte(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function tre(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(ere(e,r-e.l));return{ixfe:n,ext:s}}function rre(e,t){t.forEach(function(r){r[0]})}function nre(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ps(e)}}function are(e){var t=rt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Za(e.name,t),t.slice(0,t.l)}function sre(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function ire(e){var t=rt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function ore(e,t){var r=rt(8+2*t.length);return r.write_shift(4,e),Za(t,r),r.slice(0,r.l)}function lre(e){return e.l+=4,e.read_shift(4)!=0}function cre(e,t){var r=rt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Are(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return rA(e,function(c,u,f){switch(f){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(h){o==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):o==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(f),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}function ure(){var e=mi();return mt(e,332),mt(e,334,rl(1)),mt(e,335,are({name:"XLDAPR",version:12e4,flags:3496657072})),mt(e,336),mt(e,339,ore(1,"XLDAPR")),mt(e,52),mt(e,35,rl(514)),mt(e,4096,rl(0)),mt(e,4097,Ao(1)),mt(e,36),mt(e,53),mt(e,340),mt(e,337,cre(1)),mt(e,51,ire([[1,0]])),mt(e,338),mt(e,333),e.end()}function dre(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Qs,function(o){var c=cr(o);switch(tc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function dU(){var e=[ba];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function fre(e){var t=[];if(!e)return t;var r=1;return(e.match(Qs)||[]).forEach(function(n){var a=cr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function hre(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=sr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function mre(e,t,r){var n=[];return rA(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function pre(e,t,r,n){if(!e)return e;var a=n||{},s=!1;rA(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function gre(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var p0=1024;function fU(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[bt("xml",null,{"xmlns:v":Li.v,"xmlns:o":Li.o,"xmlns:x":Li.x,"xmlns:mv":Li.mv}).replace(/\/>/,">"),bt("o:shapelayout",bt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),bt("v:shapetype",[bt("v:stroke",null,{joinstyle:"miter"}),bt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];p0<e*1e3;)p0+=1e3;return t.forEach(function(s){var i=Yn(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?bt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=bt("v:fill",c,o),f={on:"t",obscured:"t"};++p0,a=a.concat(["<v:shape"+tp({id:"_x0000_s"+p0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,bt("v:shadow",null,f),bt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",hs("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),hs("x:AutoFill","False"),hs("x:Row",String(i.r)),hs("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function H_(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=Yn(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var c=zr(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=pr(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var f={a:i.author,t:i.t,r:i.r,T:r};i.h&&(f.h=i.h);for(var h=s.c.length-1;h>=0;--h){if(!r&&s.c[h].T)return;r&&!s.c[h].T&&s.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(f.a==n[h].id){f.a=n[h].name||f.a;break}}s.c.push(f)})}function xre(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=cr(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},f=Yn(c.ref);if(!(t.sheetRows&&t.sheetRows<=f.r)){var h=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!h&&!!h[1]&&c5(h[1])||{r:"",t:"",h:""};u.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),u.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=p.h),n.push(u)}}}}),n}function hU(e){var t=[ba,bt("comments",null,{xmlns:Xd[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=un(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(un(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(hs("t",un(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)i+=`Reply:
    `+s[o]+`
`;t.push(hs("t",un(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function vre(e,t){var r=[],n=!1,a={},s=0;return e.replace(Qs,function(o,c){var u=cr(o);switch(tc(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function wre(e,t,r){var n=[ba,bt("ThreadedComments",null,{xmlns:ja.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(bt("threadedComment",hs("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function yre(e,t){var r=[],n=!1;return e.replace(Qs,function(s){var i=cr(s);switch(tc(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function bre(e){var t=[ba,bt("personList",null,{xmlns:ja.TCMNT,"xmlns:x":Xd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(bt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Cre(e){var t={};t.iauthor=e.read_shift(4);var r=rf(e);return t.rfx=r.s,t.ref=sr(r.s),e.l+=16,t}function Ere(e,t){return t==null&&(t=rt(36)),t.write_shift(4,e[1].iauthor),sh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Sre=Ps;function Bre(e){return Za(e.slice(0,54))}function Nre(e,t){var r=[],n=[],a={},s=!1;return rA(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function _re(e){var t=mi(),r=[];return mt(t,628),mt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),mt(t,632,Bre(a.a)))})}),mt(t,631),mt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:Yn(n[0]),e:Yn(n[0])};mt(t,635,Ere([s,a])),a.t&&a.t.length>0&&mt(t,637,YJ(a)),mt(t,636),delete a.iauthor})}),mt(t,634),mt(t,629),t.end()}var Tre="application/vnd.ms-office.vbaProject";function kre(e){var t=Yt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Yt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Yt.write(t)}function Fre(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Yt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var mU=["xlsb","xlsm","xlam","biff8","xla"];function Ire(){return{"!type":"dialog"}}function Ure(){return{"!type":"dialog"}}function Dre(){return{"!type":"macro"}}function Lre(){return{"!type":"macro"}}var U0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,f=i.length>0?parseInt(i,10)|0:0;return o?f+=t.c:--f,c?u+=t.r:--u,a+(o?"":"$")+$n(f)+(c?"":"$")+ya(u)}return function(a,s){return t=s,a.replace(e,r)}}(),f5=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,h5=function(){return function(t,r){return t.replace(f5,function(n,a,s,i,o,c){var u=e5(i)-(s?0:r.c),f=ZC(c)-(o?0:r.r),h=f==0?"":o?f+1:"["+f+"]",p=u==0?"":s?u+1:"["+u+"]";return a+"R"+h+"C"+p})}}();function pU(e,t){return e.replace(f5,function(r,n,a,s,i,o){return n+(a=="$"?a+s:$n(e5(s)+t.c))+(i=="$"?i+o:ya(ZC(o)+t.r))})}function Rre(e,t,r){var n=xi(t),a=n.s,s=Yn(r),i={r:s.r-a.r,c:s.c-a.c};return pU(e,i)}function Mre(e){return e.length!=1}function V_(e){return e.replace(/_xlfn\./g,"")}function ka(e){e.l+=1}function Nu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function gU(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return xU(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Nu(e),o=Nu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function xU(e){var t=Nu(e),r=Nu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Pre(e,t,r){if(r.biff<8)return xU(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Nu(e),i=Nu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function vU(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return jre(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Nu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function jre(e){var t=Nu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Ore(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Qre(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Hre(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function Hre(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Vre(e,t,r){var n=(e[e.l++]&96)>>5,a=gU(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Gre(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=gU(e,s,r);return[n,a,i]}function zre(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Kre(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function qre(e,t,r){var n=(e[e.l++]&96)>>5,a=Pre(e,t-1,r);return[n,a]}function Wre(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function G_(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function $re(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Yre(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Jre(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Xre(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Zre(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function wU(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function ene(e){return e.read_shift(2),wU(e)}function tne(e){return e.read_shift(2),wU(e)}function rne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=vU(e,0,r);return[n,a]}function nne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Qre(e,0,r);return[n,a]}function ane(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=vU(e,0,r);return[n,a,s]}function sne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[lae[a],CU[a],n]}function ine(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:one(e);return[a,(s[0]===0?CU:oae)[s[1]]]}function one(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function lne(e,t,r){e.l+=r&&r.biff==2?3:4}function cne(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Ane(e){return e.l++,nA[e.read_shift(1)]}function une(e){return e.l++,e.read_shift(2)}function dne(e){return e.l++,e.read_shift(1)!==0}function fne(e){return e.l++,Rs(e)}function hne(e,t,r){return e.l++,Ip(e,t-1,r)}function mne(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ma(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=nA[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Rs(e);break;case 2:r[1]=nf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function pne(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?rf:Ev)(e));return a}function gne(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=mne(e,r.biff);return i}function xne(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function vne(e,t,r){if(r.biff==5)return wne(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function wne(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function yne(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function bne(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Cne(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Ene(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var Sne=js,Bne=js,Nne=js;function Dp(e,t,r){return e.l+=2,[Ore(e)]}function m5(e){return e.l+=6,[]}var _ne=Dp,Tne=m5,kne=m5,Fne=Dp;function yU(e){return e.l+=2,[Ia(e),e.read_shift(2)&1]}var Ine=Dp,Une=yU,Dne=m5,Lne=Dp,Rne=Dp,Mne=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Pne(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=Mne[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function jne(e){return e.l+=2,[e.read_shift(4)]}function One(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Qne(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Hne(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Vne(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Gne(e){return e.l+=4,[0,0]}var z_={1:{n:"PtgExp",f:cne},2:{n:"PtgTbl",f:Nne},3:{n:"PtgAdd",f:ka},4:{n:"PtgSub",f:ka},5:{n:"PtgMul",f:ka},6:{n:"PtgDiv",f:ka},7:{n:"PtgPower",f:ka},8:{n:"PtgConcat",f:ka},9:{n:"PtgLt",f:ka},10:{n:"PtgLe",f:ka},11:{n:"PtgEq",f:ka},12:{n:"PtgGe",f:ka},13:{n:"PtgGt",f:ka},14:{n:"PtgNe",f:ka},15:{n:"PtgIsect",f:ka},16:{n:"PtgUnion",f:ka},17:{n:"PtgRange",f:ka},18:{n:"PtgUplus",f:ka},19:{n:"PtgUminus",f:ka},20:{n:"PtgPercent",f:ka},21:{n:"PtgParen",f:ka},22:{n:"PtgMissArg",f:ka},23:{n:"PtgStr",f:hne},26:{n:"PtgSheet",f:One},27:{n:"PtgEndSheet",f:Qne},28:{n:"PtgErr",f:Ane},29:{n:"PtgBool",f:dne},30:{n:"PtgInt",f:une},31:{n:"PtgNum",f:fne},32:{n:"PtgArray",f:Wre},33:{n:"PtgFunc",f:sne},34:{n:"PtgFuncVar",f:ine},35:{n:"PtgName",f:xne},36:{n:"PtgRef",f:rne},37:{n:"PtgArea",f:Vre},38:{n:"PtgMemArea",f:yne},39:{n:"PtgMemErr",f:Sne},40:{n:"PtgMemNoMem",f:Bne},41:{n:"PtgMemFunc",f:bne},42:{n:"PtgRefErr",f:Cne},43:{n:"PtgAreaErr",f:zre},44:{n:"PtgRefN",f:nne},45:{n:"PtgAreaN",f:qre},46:{n:"PtgMemAreaN",f:Hne},47:{n:"PtgMemNoMemN",f:Vne},57:{n:"PtgNameX",f:vne},58:{n:"PtgRef3d",f:ane},59:{n:"PtgArea3d",f:Gre},60:{n:"PtgRefErr3d",f:Ene},61:{n:"PtgAreaErr3d",f:Kre},255:{}},zne={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Kne={1:{n:"PtgElfLel",f:yU},2:{n:"PtgElfRw",f:Lne},3:{n:"PtgElfCol",f:_ne},6:{n:"PtgElfRwV",f:Rne},7:{n:"PtgElfColV",f:Fne},10:{n:"PtgElfRadical",f:Ine},11:{n:"PtgElfRadicalS",f:Dne},13:{n:"PtgElfColS",f:Tne},15:{n:"PtgElfColSV",f:kne},16:{n:"PtgElfRadicalLel",f:Une},25:{n:"PtgList",f:Pne},29:{n:"PtgSxName",f:jne},255:{}},qne={0:{n:"PtgAttrNoop",f:Gne},1:{n:"PtgAttrSemi",f:Zre},2:{n:"PtgAttrIf",f:Jre},4:{n:"PtgAttrChoose",f:$re},8:{n:"PtgAttrGoto",f:Yre},16:{n:"PtgAttrSum",f:lne},32:{n:"PtgAttrBaxcel",f:G_},33:{n:"PtgAttrBaxcel",f:G_},64:{n:"PtgAttrSpace",f:ene},65:{n:"PtgAttrSpaceSemi",f:tne},128:{n:"PtgAttrIfError",f:Xre},255:{}};function Lp(e,t,r,n){if(n.biff<8)return js(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=gne(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=pne(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(js(e,t)),s}function Rp(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=z_[s]||z_[zne[s]],(s===24||s===25)&&(a=(s===24?Kne:qne)[e[e.l+1]]),!a||!a.f?js(e,t):i.push([a.n,a.f(e,t,r)]);return i}function Wne(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var $ne={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Yne(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function bU(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function K_(e,t,r){var n=bU(e,t,r);return n=="#REF"?n:Yne(n,r)}function Is(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},o=[],c,u,f,h=0,p=0,g,b="";if(!e[0]||!e[0][0])return"";for(var y=-1,E="",S=0,N=e[0].length;S<N;++S){var B=e[0][S];switch(B[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),y>=0){switch(e[0][y][1][0]){case 0:E=na(" ",e[0][y][1][1]);break;case 1:E=na("\r",e[0][y][1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}u=u+E,y=-1}o.push(u+$ne[B[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Dm(B[1][1],i,a),o.push(Lm(f,s));break;case"PtgRefN":f=r?Dm(B[1][1],r,a):B[1][1],o.push(Lm(f,s));break;case"PtgRef3d":h=B[1][1],f=Dm(B[1][2],i,a),b=K_(n,h,a),o.push(b+"!"+Lm(f,s));break;case"PtgFunc":case"PtgFuncVar":var _=B[1][0],k=B[1][1];_||(_=0),_&=127;var U=_==0?[]:o.slice(-_);o.length-=_,k==="User"&&(k=U.shift()),o.push(k+"("+U.join(",")+")");break;case"PtgBool":o.push(B[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(B[1]);break;case"PtgNum":o.push(String(B[1]));break;case"PtgStr":o.push('"'+B[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(B[1]);break;case"PtgAreaN":g=y_(B[1][1],r?{s:r}:i,a),o.push(jw(g,a));break;case"PtgArea":g=y_(B[1][1],i,a),o.push(jw(g,a));break;case"PtgArea3d":h=B[1][1],g=B[1][2],b=K_(n,h,a),o.push(b+"!"+jw(g,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=B[1][2];var F=(n.names||[])[p-1]||(n[0]||[])[p],L=F?F.Name:"SH33TJSNAME"+String(p);L&&L.slice(0,6)=="_xlfn."&&!a.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var D=B[1][1];p=B[1][2];var W;if(a.biff<=5)D<0&&(D=-D),n[D]&&(W=n[D][p]);else{var O="";if(((n[D]||[])[0]||[])[0]==14849||(((n[D]||[])[0]||[])[0]==1025?n[D][p]&&n[D][p].itab>0&&(O=n.SheetNames[n[D][p].itab-1]+"!"):O=n.SheetNames[p-1]+"!"),n[D]&&n[D][p])O+=n[D][p].Name;else if(n[0]&&n[0][p])O+=n[0][p].Name;else{var M=(bU(n,D,a)||"").split(";;");M[p-1]?O=M[p-1]:O+="SH33TJSERRX"}o.push(O);break}W||(W={Name:"SH33TJSERRY"}),o.push(W.Name);break;case"PtgParen":var K="(",Q=")";if(y>=0){switch(E="",e[0][y][1][0]){case 2:K=na(" ",e[0][y][1][1])+K;break;case 3:K=na("\r",e[0][y][1][1])+K;break;case 4:Q=na(" ",e[0][y][1][1])+Q;break;case 5:Q=na("\r",e[0][y][1][1])+Q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}o.push(K+o.pop()+Q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:B[1][1],r:B[1][0]};var ae={c:r.c,r:r.r};if(n.sharedf[sr(f)]){var V=n.sharedf[sr(f)];o.push(Is(V,i,ae,n,a))}else{var G=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){o.push(Is(u[1],i,ae,n,a)),G=!0;break}G||o.push(B[1])}break;case"PtgArray":o.push("{"+Wne(B[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+B[1].idx+"[#"+B[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(B));default:throw new Error("Unrecognized Formula Token: "+String(B))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&y>=0&&re.indexOf(e[0][S][0])==-1){B=e[0][y];var J=!0;switch(B[1][0]){case 4:J=!1;case 0:E=na(" ",B[1][1]);break;case 5:J=!1;case 1:E=na("\r",B[1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+B[1][0])}o.push((J?E:"")+o.pop()+(J?"":E)),y=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Jne(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],js(e,t-2)];var o=Rp(e,i,r);return t!==i+a&&(s=Lp(e,t-i-a,o,r)),e.l=n,[o,s]}function Xne(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],js(e,t-2)];var o=Rp(e,i,r);return t!==i+a&&(s=Lp(e,t-i-a,o,r)),e.l=n,[o,s]}function Zne(e,t,r,n){var a=e.l+t,s=Rp(e,n,r),i;return a!==e.l&&(i=Lp(e,a-e.l,s,r)),[s,i]}function eae(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=Rp(e,s,r);return s==65535?[[],js(e,t-2)]:(t!==s+2&&(a=Lp(e,n-s-2,i,r)),[i,a])}function tae(e){var t;if(Oc(e,e.l+6)!==65535)return[Rs(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function rae(e){if(e==null){var t=rt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Hd(e);return Hd(0)}function Gw(e,t,r){var n=e.l+t,a=rc(e);r.biff==2&&++e.l;var s=tae(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Xne(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function nae(e,t,r,n,a){var s=Gd(t,r,a),i=rae(e.v),o=rt(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=rt(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var h=Xa([s,i,o,u]);return h}function Sv(e,t,r){var n=e.read_shift(4),a=Rp(e,n,r),s=e.read_shift(4),i=s>0?Lp(e,s,a,r):null;return[a,i]}var aae=Sv,Bv=Sv,sae=Sv,iae=Sv,oae={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},CU={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},lae={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function q_(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function cae(e){var t="of:="+e.replace(f5,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function zw(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Aae(e){return e.replace(/\./,"!")}var Mm={},D0={},Pm=typeof Map<"u";function p5(e,t,r){var n=0,a=e.length;if(r){if(Pm?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Pm?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Pm?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Nv(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ds=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=ip(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=L1(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Dd(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Du(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Vc(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function EU(e,t,r,n,a,s){try{n.cellNF&&(e.z=rr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ln(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(rr[t]==null&&Vc(oJ[t]||"General",t),e.t==="e")e.w=e.w||nA[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zm(e.v);else if(e.t==="d"){var i=Qa(e.v);(i|0)===i?e.w=i.toString(10):e.w=Zm(i)}else{if(e.v===void 0)return"";e.w=Od(e.v,D0)}else e.t==="d"?e.w=wo(t,Qa(e.v),D0):e.w=wo(t,e.v,D0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=D1(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=D1(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function uae(e,t,r){if(e&&e["!ref"]){var n=zr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function dae(e,t){var r=zr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=pr(r))}var fae=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,hae=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,mae=/<(?:\w:)?hyperlink [^>]*>/mg,pae=/"(\w*:\w*)"/,gae=/<(?:\w:)?col\b[^>]*[\/]?>/g,xae=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,vae=/<(?:\w:)?pageMargins[^>]*\/>/g,SU=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,wae=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,yae=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function bae(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",f="",h=e.match(hae);h?(u=e.slice(0,h.index),f=e.slice(h.index+h[0].length)):u=f=e;var p=u.match(SU);p?g5(p[0],o,a,r):(p=u.match(wae))&&Eae(p[0],p[1]||"",o,a,r);var g=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var b=u.slice(g,g+50).match(pae);b&&dae(o,b[1])}var y=u.match(yae);y&&y[1]&&Mae(y[1],a);var E=[];if(t.cellStyles){var S=u.match(gae);S&&Iae(E,S)}h&&Oae(h[1],o,t,c,s,i);var N=f.match(xae);N&&(o["!autofilter"]=Dae(N[0]));var B=[],_=f.match(fae);if(_)for(g=0;g!=_.length;++g)B[g]=zr(_[g].slice(_[g].indexOf('"')+1));var k=f.match(mae);k&&Tae(o,k,n);var U=f.match(vae);if(U&&(o["!margins"]=kae(cr(U[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=pr(c)),t.sheetRows>0&&o["!ref"]){var F=zr(o["!ref"]);t.sheetRows<=+F.e.r&&(F.e.r=t.sheetRows-1,F.e.r>c.e.r&&(F.e.r=c.e.r),F.e.r<F.s.r&&(F.s.r=F.e.r),F.e.c>c.e.c&&(F.e.c=c.e.c),F.e.c<F.s.c&&(F.s.c=F.e.c),o["!fullref"]=o["!ref"],o["!ref"]=pr(F))}return E.length>0&&(o["!cols"]=E),B.length>0&&(o["!merges"]=B),o}function Cae(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+pr(e[r])+'"/>';return t+"</mergeCells>"}function g5(e,t,r,n){var a=cr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Gr(gn(a.codeName)))}function Eae(e,t,r,n,a){g5(e.slice(0,e.indexOf(">")),r,n,a)}function Sae(e,t,r,n,a){var s=!1,i={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,i.codeName=$l(un(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+bt("outlinePr",null,u)}!s&&!o||(a[a.length]=bt("sheetPr",o,i))}var Bae=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Nae=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _ae(e){var t={sheet:1};return Bae.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Nae.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=A5(e.password).toString(16).toUpperCase()),bt("sheetProtection",null,t)}function Tae(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=cr(gn(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Gr(s.location))):(s.Target="#"+Gr(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=zr(s.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var f=sr({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[f]||(e[f]={t:"z",v:void 0}),e[f].l=s)}}}function kae(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Fae(e){return Dd(e),bt("pageMargins",null,e)}function Iae(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=cr(t[n],!0);a.hidden&&(a.hidden=Un(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,u5(a.width)),Bu(a);s<=i;)e[s++]=Rn(a)}}function Uae(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=bt("col",null,Nv(a,n)));return r[r.length]="</cols>",r.join("")}function Dae(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function Lae(e,t,r,n){var a=typeof e.ref=="string"?e.ref:pr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,i=xi(a);i.s.r==i.e.r&&(i.e.r=xi(t["!ref"]).e.r,a=pr(i));for(var o=0;o<s.length;++o){var c=s[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),bt("autoFilter",null,{ref:a})}var Rae=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Mae(e,t){t.Views||(t.Views=[{}]),(e.match(Rae)||[]).forEach(function(r,n){var a=cr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Un(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function Pae(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),bt("sheetViews",bt("sheetView",null,a),{})}function jae(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=nA[e.v];break;case"d":n&&n.cellDates?a=Ln(e.v,-1).toISOString():(e=Rn(e),e.t="n",a=""+(e.v=Qa(Ln(e.v)))),typeof e.z>"u"&&(e.z=rr[14]);break;default:a=e.v;break}var o=hs("v",un(a)),c={r:t},u=Du(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=hs("v",""+p5(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=i),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=bt("f",un(e.f),f)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),bt("c",o,c)}var Oae=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=ep("v"),i=ep("f");return function(c,u,f,h,p,g){for(var b=0,y="",E=[],S=[],N=0,B=0,_=0,k="",U,F,L=0,D=0,W,O,M=0,K=0,Q=Array.isArray(g.CellXf),ae,V=[],G=[],re=Array.isArray(u),J=[],Y={},ce=!1,R=!!f.sheetStubs,z=c.split(t),q=0,ee=z.length;q!=ee;++q){y=z[q].trim();var ne=y.length;if(ne!==0){var le=0;e:for(b=0;b<ne;++b)switch(y[b]){case">":if(y[b-1]!="/"){++b;break e}if(f&&f.cellStyles){if(F=cr(y.slice(le,b),!0),L=F.r!=null?parseInt(F.r,10):L+1,D=-1,f.sheetRows&&f.sheetRows<L)continue;Y={},ce=!1,F.ht&&(ce=!0,Y.hpt=parseFloat(F.ht),Y.hpx=z0(Y.hpt)),F.hidden=="1"&&(ce=!0,Y.hidden=!0),F.outlineLevel!=null&&(ce=!0,Y.level=+F.outlineLevel),ce&&(J[L-1]=Y)}break;case"<":le=b;break}if(le>=b)break;if(F=cr(y.slice(le,b),!0),L=F.r!=null?parseInt(F.r,10):L+1,D=-1,!(f.sheetRows&&f.sheetRows<L)){h.s.r>L-1&&(h.s.r=L-1),h.e.r<L-1&&(h.e.r=L-1),f&&f.cellStyles&&(Y={},ce=!1,F.ht&&(ce=!0,Y.hpt=parseFloat(F.ht),Y.hpx=z0(Y.hpt)),F.hidden=="1"&&(ce=!0,Y.hidden=!0),F.outlineLevel!=null&&(ce=!0,Y.level=+F.outlineLevel),ce&&(J[L-1]=Y)),E=y.slice(b).split(e);for(var ue=0;ue!=E.length&&E[ue].trim().charAt(0)=="<";++ue);for(E=E.slice(ue),b=0;b!=E.length;++b)if(y=E[b].trim(),y.length!==0){if(S=y.match(r),N=b,B=0,_=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,S!=null&&S.length===2){for(N=0,k=S[1],B=0;B!=k.length&&!((_=k.charCodeAt(B)-64)<1||_>26);++B)N=26*N+_;--N,D=N}else++D;for(B=0;B!=y.length&&y.charCodeAt(B)!==62;++B);if(++B,F=cr(y.slice(0,B),!0),F.r||(F.r=sr({r:L-1,c:D})),k=y.slice(B),U={t:""},(S=k.match(s))!=null&&S[1]!==""&&(U.v=Gr(S[1])),f.cellFormula){if((S=k.match(i))!=null&&S[1]!==""){if(U.f=Gr(gn(S[1])).replace(/\r\n/g,`
`),f.xlfn||(U.f=V_(U.f)),S[0].indexOf('t="array"')>-1)U.F=(k.match(a)||[])[1],U.F.indexOf(":")>-1&&V.push([zr(U.F),U.F]);else if(S[0].indexOf('t="shared"')>-1){O=cr(S[0]);var he=Gr(gn(S[1]));f.xlfn||(he=V_(he)),G[parseInt(O.si,10)]=[O,he,F.r]}}else(S=k.match(/<f[^>]*\/>/))&&(O=cr(S[0]),G[O.si]&&(U.f=Rre(G[O.si][1],G[O.si][2],F.r)));var Ne=Yn(F.r);for(B=0;B<V.length;++B)Ne.r>=V[B][0].s.r&&Ne.r<=V[B][0].e.r&&Ne.c>=V[B][0].s.c&&Ne.c<=V[B][0].e.c&&(U.F=V[B][1])}if(F.t==null&&U.v===void 0)if(U.f||U.F)U.v=0,U.t="n";else if(R)U.t="z";else continue;else U.t=F.t||"n";switch(h.s.c>D&&(h.s.c=D),h.e.c<D&&(h.e.c=D),U.t){case"n":if(U.v==""||U.v==null){if(!R)continue;U.t="z"}else U.v=parseFloat(U.v);break;case"s":if(typeof U.v>"u"){if(!R)continue;U.t="z"}else W=Mm[parseInt(U.v,10)],U.v=W.t,U.r=W.r,f.cellHTML&&(U.h=W.h);break;case"str":U.t="s",U.v=U.v!=null?gn(U.v):"",f.cellHTML&&(U.h=$C(U.v));break;case"inlineStr":S=k.match(n),U.t="s",S!=null&&(W=c5(S[1]))?(U.v=W.t,f.cellHTML&&(U.h=W.h)):U.v="";break;case"b":U.v=Un(U.v);break;case"d":f.cellDates?U.v=Ln(U.v,1):(U.v=Qa(Ln(U.v,1)),U.t="n");break;case"e":(!f||f.cellText!==!1)&&(U.w=U.v),U.v=N6[U.v];break}if(M=K=0,ae=null,Q&&F.s!==void 0&&(ae=g.CellXf[F.s],ae!=null&&(ae.numFmtId!=null&&(M=ae.numFmtId),f.cellStyles&&ae.fillId!=null&&(K=ae.fillId))),EU(U,M,K,f,p,g),f.cellDates&&Q&&U.t=="n"&&rh(rr[M])&&(U.t="d",U.v=Cv(U.v)),F.cm&&f.xlmeta){var ge=(f.xlmeta.Cell||[])[+F.cm-1];ge&&ge.type=="XLDAPR"&&(U.D=!0)}if(re){var te=Yn(F.r);u[te.r]||(u[te.r]=[]),u[te.r][te.c]=U}else u[F.r]=U}}}}J.length>0&&(u["!rows"]=J)}}();function Qae(e,t,r,n){var a=[],s=[],i=zr(e["!ref"]),o="",c,u="",f=[],h=0,p=0,g=e["!rows"],b=Array.isArray(e),y={r:u},E,S=-1;for(p=i.s.c;p<=i.e.c;++p)f[p]=$n(p);for(h=i.s.r;h<=i.e.r;++h){for(s=[],u=ya(h),p=i.s.c;p<=i.e.c;++p){c=f[p]+u;var N=b?(e[h]||[])[p]:e[c];N!==void 0&&(o=jae(N,c,e,t))!=null&&s.push(o)}(s.length>0||g&&g[h])&&(y={r:u},g&&g[h]&&(E=g[h],E.hidden&&(y.hidden=1),S=-1,E.hpx?S=op(E.hpx):E.hpt&&(S=E.hpt),S>-1&&(y.ht=S,y.customHeight=1),E.level&&(y.outlineLevel=E.level)),a[a.length]=bt("row",s.join(""),y))}if(g)for(;h<g.length;++h)g&&g[h]&&(y={r:h+1},E=g[h],E.hidden&&(y.hidden=1),S=-1,E.hpx?S=op(E.hpx):E.hpt&&(S=E.hpt),S>-1&&(y.ht=S,y.customHeight=1),E.level&&(y.outlineLevel=E.level),a[a.length]=bt("row","",y));return a.join("")}function BU(e,t,r,n){var a=[ba,bt("worksheet",null,{xmlns:Xd[0],"xmlns:r":ja.r})],s=r.SheetNames[e],i=0,o="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",f=zr(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=pr(f)}n||(n={}),c["!comments"]=[];var h=[];Sae(c,r,e,t,a),a[a.length]=bt("dimension",null,{ref:u}),a[a.length]=Pae(c,t,e,r),t.sheetFormat&&(a[a.length]=bt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Uae(c,c["!cols"])),a[i=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Qae(c,t),o.length>0&&(a[a.length]=o)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),c["!protect"]&&(a[a.length]=_ae(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Lae(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=Cae(c["!merges"]));var p=-1,g,b=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(y){y[1].Target&&(g={ref:y[0]},y[1].Target.charAt(0)!="#"&&(b=cn(n,-1,un(y[1].Target).replace(/#.*$/,""),Tr.HLINK),g["r:id"]="rId"+b),(p=y[1].Target.indexOf("#"))>-1&&(g.location=un(y[1].Target.slice(p+1))),y[1].Tooltip&&(g.tooltip=un(y[1].Tooltip)),a[a.length]=bt("hyperlink",null,g))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Fae(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=hs("ignoredErrors",bt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(b=cn(n,-1,"../drawings/drawing"+(e+1)+".xml",Tr.DRAW),a[a.length]=bt("drawing",null,{"r:id":"rId"+b}),c["!drawing"]=h),c["!comments"].length>0&&(b=cn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Tr.VML),a[a.length]=bt("legacyDrawing",null,{"r:id":"rId"+b}),c["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Hae(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function Vae(e,t,r){var n=rt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=op(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var h=-1,p=-1,g=f<<10;g<f+1<<10;++g){u.c=g;var b=Array.isArray(r)?(r[u.r]||[])[u.c]:r[sr(u)];b&&(h<0&&(h=g),p=g)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,p))}var y=n.l;return n.l=c,n.write_shift(4,o),n.l=y,n.length>n.l?n.slice(0,n.l):n}function Gae(e,t,r,n){var a=Vae(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&mt(e,0,a)}var zae=rf,Kae=sh;function qae(){}function Wae(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=JJ(e),r}function $ae(e,t,r){r==null&&(r=rt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return F1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),b6(e,r),r.slice(0,r.l)}function Yae(e){var t=yo(e);return[t]}function Jae(e,t,r){return r==null&&(r=rt(8)),Zd(t,r)}function Xae(e){var t=ef(e);return[t]}function Zae(e,t,r){return r==null&&(r=rt(4)),tf(t,r)}function ese(e){var t=yo(e),r=e.read_shift(1);return[t,r,"b"]}function tse(e,t,r){return r==null&&(r=rt(9)),Zd(t,r),r.write_shift(1,e.v?1:0),r}function rse(e){var t=ef(e),r=e.read_shift(1);return[t,r,"b"]}function nse(e,t,r){return r==null&&(r=rt(5)),tf(t,r),r.write_shift(1,e.v?1:0),r}function ase(e){var t=yo(e),r=e.read_shift(1);return[t,r,"e"]}function sse(e,t,r){return r==null&&(r=rt(9)),Zd(t,r),r.write_shift(1,e.v),r}function ise(e){var t=ef(e),r=e.read_shift(1);return[t,r,"e"]}function ose(e,t,r){return r==null&&(r=rt(8)),tf(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function lse(e){var t=yo(e),r=e.read_shift(4);return[t,r,"s"]}function cse(e,t,r){return r==null&&(r=rt(12)),Zd(t,r),r.write_shift(4,t.v),r}function Ase(e){var t=ef(e),r=e.read_shift(4);return[t,r,"s"]}function use(e,t,r){return r==null&&(r=rt(8)),tf(t,r),r.write_shift(4,t.v),r}function dse(e){var t=yo(e),r=Rs(e);return[t,r,"n"]}function fse(e,t,r){return r==null&&(r=rt(16)),Zd(t,r),Hd(e.v,r),r}function NU(e){var t=ef(e),r=Rs(e);return[t,r,"n"]}function hse(e,t,r){return r==null&&(r=rt(12)),tf(t,r),Hd(e.v,r),r}function mse(e){var t=yo(e),r=a5(e);return[t,r,"n"]}function pse(e,t,r){return r==null&&(r=rt(12)),Zd(t,r),C6(e.v,r),r}function gse(e){var t=ef(e),r=a5(e);return[t,r,"n"]}function xse(e,t,r){return r==null&&(r=rt(8)),tf(t,r),C6(e.v,r),r}function vse(e){var t=yo(e),r=t5(e);return[t,r,"is"]}function wse(e){var t=yo(e),r=Ps(e);return[t,r,"str"]}function yse(e,t,r){return r==null&&(r=rt(12+4*e.v.length)),Zd(t,r),Za(e.v,r),r.length>r.l?r.slice(0,r.l):r}function bse(e){var t=ef(e),r=Ps(e);return[t,r,"str"]}function Cse(e,t,r){return r==null&&(r=rt(8+4*e.v.length)),tf(t,r),Za(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Ese(e,t,r){var n=e.l+t,a=yo(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=Bv(e,n-e.l,r);i[3]=Is(o,null,a,r.supbooks,r)}else e.l=n;return i}function Sse(e,t,r){var n=e.l+t,a=yo(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=Bv(e,n-e.l,r);i[3]=Is(o,null,a,r.supbooks,r)}else e.l=n;return i}function Bse(e,t,r){var n=e.l+t,a=yo(e);a.r=r["!row"];var s=Rs(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=Bv(e,n-e.l,r);i[3]=Is(o,null,a,r.supbooks,r)}else e.l=n;return i}function Nse(e,t,r){var n=e.l+t,a=yo(e);a.r=r["!row"];var s=Ps(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=Bv(e,n-e.l,r);i[3]=Is(o,null,a,r.supbooks,r)}else e.l=n;return i}var _se=rf,Tse=sh;function kse(e,t){return t==null&&(t=rt(4)),t.write_shift(4,e),t}function Fse(e,t){var r=e.l+t,n=rf(e),a=r5(e),s=Ps(e),i=Ps(e),o=Ps(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:o};return i&&(c.Tooltip=i),c}function Ise(e,t){var r=rt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));sh({s:Yn(e[0]),e:Yn(e[0])},r),n5("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Za(a||"",r),Za(e[1].Tooltip||"",r),Za("",r),r.slice(0,r.l)}function Use(){}function Dse(e,t,r){var n=e.l+t,a=E6(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=aae(e,n-e.l,r);i[1]=o}else e.l=n;return i}function Lse(e,t,r){var n=e.l+t,a=rf(e),s=[a];if(r.cellFormula){var i=iae(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}function Rse(e,t,r){r==null&&(r=rt(18));var n=Nv(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var _U=["left","right","top","bottom","header","footer"];function Mse(e){var t={};return _U.forEach(function(r){t[r]=Rs(e)}),t}function Pse(e,t){return t==null&&(t=rt(48)),Dd(e),_U.forEach(function(r){Hd(e[r],t)}),t}function jse(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Ose(e,t,r){r==null&&(r=rt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Qse(e){var t=rt(24);return t.write_shift(4,4),t.write_shift(4,1),sh(e,t),t}function Hse(e,t){return t==null&&(t=rt(66)),t.write_shift(2,e.password?A5(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Vse(){}function Gse(){}function zse(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,p=!1,g,b,y,E,S,N,B,_,k,U=[];o.biff=12,o["!row"]=0;var F=0,L=!1,D=[],W={},O=o.supbooks||a.supbooks||[[]];if(O.sharedf=W,O.arrayf=D,O.SheetNames=a.SheetNames||a.Sheets.map(function(re){return re.name}),!o.supbooks&&(o.supbooks=O,a.Names))for(var M=0;M<a.Names.length;++M)O[0][M+1]=a.Names[M];var K=[],Q=[],ae=!1;lp[16]={n:"BrtShortReal",f:NU};var V;if(rA(e,function(J,Y,ce){if(!p)switch(ce){case 148:u=J;break;case 0:g=J,o.sheetRows&&o.sheetRows<=g.r&&(p=!0),_=ya(E=g.r),o["!row"]=g.r,(J.hidden||J.hpt||J.level!=null)&&(J.hpt&&(J.hpx=z0(J.hpt)),Q[J.r]=J);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:J[2]},J[2]){case"n":b.v=J[1];break;case"s":B=Mm[J[1]],b.v=B.t,b.r=B.r;break;case"b":b.v=!!J[1];break;case"e":b.v=J[1],o.cellText!==!1&&(b.w=nA[b.v]);break;case"str":b.t="s",b.v=J[1];break;case"is":b.t="s",b.v=J[1].t;break}if((y=i.CellXf[J[0].iStyleRef])&&EU(b,y.numFmtId,null,o,s,i),S=J[0].c==-1?S+1:J[0].c,o.dense?(c[E]||(c[E]=[]),c[E][S]=b):c[$n(S)+_]=b,o.cellFormula){for(L=!1,F=0;F<D.length;++F){var R=D[F];g.r>=R[0].s.r&&g.r<=R[0].e.r&&S>=R[0].s.c&&S<=R[0].e.c&&(b.F=pr(R[0]),L=!0)}!L&&J.length>3&&(b.f=J[3])}if(f.s.r>g.r&&(f.s.r=g.r),f.s.c>S&&(f.s.c=S),f.e.r<g.r&&(f.e.r=g.r),f.e.c<S&&(f.e.c=S),o.cellDates&&y&&b.t=="n"&&rh(rr[y.numFmtId])){var z=Sd(b.v);z&&(b.t="d",b.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}V&&(V.type=="XLDAPR"&&(b.D=!0),V=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;b={t:"z",v:void 0},S=J[0].c==-1?S+1:J[0].c,o.dense?(c[E]||(c[E]=[]),c[E][S]=b):c[$n(S)+_]=b,f.s.r>g.r&&(f.s.r=g.r),f.s.c>S&&(f.s.c=S),f.e.r<g.r&&(f.e.r=g.r),f.e.c<S&&(f.e.c=S),V&&(V.type=="XLDAPR"&&(b.D=!0),V=void 0);break;case 176:U.push(J);break;case 49:V=((o.xlmeta||{}).Cell||[])[J-1];break;case 494:var q=n["!id"][J.relId];for(q?(J.Target=q.Target,J.loc&&(J.Target+="#"+J.loc),J.Rel=q):J.relId==""&&(J.Target="#"+J.loc),E=J.rfx.s.r;E<=J.rfx.e.r;++E)for(S=J.rfx.s.c;S<=J.rfx.e.c;++S)o.dense?(c[E]||(c[E]=[]),c[E][S]||(c[E][S]={t:"z",v:void 0}),c[E][S].l=J):(N=sr({c:S,r:E}),c[N]||(c[N]={t:"z",v:void 0}),c[N].l=J);break;case 426:if(!o.cellFormula)break;D.push(J),k=o.dense?c[E][S]:c[$n(S)+_],k.f=Is(J[1],f,{r:g.r,c:S},O,o),k.F=pr(J[0]);break;case 427:if(!o.cellFormula)break;W[sr(J[0].s)]=J[1],k=o.dense?c[E][S]:c[$n(S)+_],k.f=Is(J[1],f,{r:g.r,c:S},O,o);break;case 60:if(!o.cellStyles)break;for(;J.e>=J.s;)K[J.e--]={width:J.w/256,hidden:!!(J.flags&1),level:J.level},ae||(ae=!0,u5(J.w/256)),Bu(K[J.e+1]);break;case 161:c["!autofilter"]={ref:pr(J)};break;case 476:c["!margins"]=J;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),J.name&&(a.Sheets[r].CodeName=J.name),(J.above||J.left)&&(c["!outline"]={above:J.above,left:J.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),J.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!Y.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+ce.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(f.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=pr(u||f)),o.sheetRows&&c["!ref"]){var G=zr(c["!ref"]);o.sheetRows<=+G.e.r&&(G.e.r=o.sheetRows-1,G.e.r>f.e.r&&(G.e.r=f.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>f.e.c&&(G.e.c=f.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),c["!fullref"]=c["!ref"],c["!ref"]=pr(G))}return U.length>0&&(c["!merges"]=U),K.length>0&&(c["!cols"]=K),Q.length>0&&(c["!rows"]=Q),c}function Kse(e,t,r,n,a,s,i){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Rn(t),t.z=t.z||rr[14],t.v=Qa(Ln(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=Du(a.cellXfs,t,a),t.l&&s["!links"].push([sr(c),t.l]),t.c&&s["!comments"].push([sr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=p5(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,i?mt(e,18,use(t,c)):mt(e,7,cse(t,c))):(c.t="str",i?mt(e,17,Cse(t,c)):mt(e,6,yse(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?mt(e,13,xse(t,c)):mt(e,2,pse(t,c)):i?mt(e,16,hse(t,c)):mt(e,5,fse(t,c)),!0;case"b":return c.t="b",i?mt(e,15,nse(t,c)):mt(e,4,tse(t,c)),!0;case"e":return c.t="e",i?mt(e,14,ose(t,c)):mt(e,3,sse(t,c)),!0}return i?mt(e,12,Zae(t,c)):mt(e,1,Jae(t,c)),!0}function qse(e,t,r,n){var a=zr(t["!ref"]||"A1"),s,i="",o=[];mt(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=u;++f){i=ya(f),Gae(e,t,a,f);var h=!1;if(f<=a.e.r)for(var p=a.s.c;p<=a.e.c;++p){f===a.s.r&&(o[p]=$n(p)),s=o[p]+i;var g=c?(t[f]||[])[p]:t[s];if(!g){h=!1;continue}h=Kse(e,g,f,p,n,t,h)}}mt(e,146)}function Wse(e,t){!t||!t["!merges"]||(mt(e,177,kse(t["!merges"].length)),t["!merges"].forEach(function(r){mt(e,176,Tse(r))}),mt(e,178))}function $se(e,t){!t||!t["!cols"]||(mt(e,390),t["!cols"].forEach(function(r,n){r&&mt(e,60,Rse(n,r))}),mt(e,391))}function Yse(e,t){!t||!t["!ref"]||(mt(e,648),mt(e,649,Qse(zr(t["!ref"]))),mt(e,650))}function Jse(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=cn(r,-1,n[1].Target.replace(/#.*$/,""),Tr.HLINK);mt(e,494,Ise(n,a))}}),delete t["!links"]}function Xse(e,t,r,n){if(t["!comments"].length>0){var a=cn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tr.VML);mt(e,551,n5("rId"+a)),t["!legacy"]=a}}function Zse(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:pr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=xi(s);o.s.r==o.e.r&&(o.e.r=xi(t["!ref"]).e.r,s=pr(o));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),mt(e,161,sh(zr(s))),mt(e,162)}}function eie(e,t,r){mt(e,133),mt(e,137,Ose(t,r)),mt(e,138),mt(e,134)}function tie(e,t){t["!protect"]&&mt(e,535,Hse(t["!protect"]))}function rie(e,t,r,n){var a=mi(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=zr(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],mt(a,129),(r.vbaraw||i["!outline"])&&mt(a,147,$ae(o,i["!outline"])),mt(a,148,Kae(c)),eie(a,i,r.Workbook),$se(a,i),qse(a,i,e,t),tie(a,i),Zse(a,i,r,e),Wse(a,i),Jse(a,i,n),i["!margins"]&&mt(a,476,Pse(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Yse(a,i),Xse(a,i,e,n),mt(a,130),a.end()}function nie(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=Gr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function aie(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,c=0,u="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var p=nie(h);f.s.r=f.s.c=0,f.e.c=o,u=$n(o),p[0].forEach(function(g,b){i[u+ya(b)]={t:"n",v:g,z:p[1]},c=b}),f.e.r<c&&(f.e.r=c),++o}),o>0&&(i["!ref"]=pr(f)),i}function sie(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(SU);return o&&g5(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function iie(e,t){e.l+=10;var r=Ps(e);return{name:r}}function oie(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return rA(e,function(c,u,f){switch(f){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var x5=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],lie=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],cie=[],Aie=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function W_(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Un(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function $_(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Un(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function TU(e){$_(e.WBProps,x5),$_(e.CalcPr,Aie),W_(e.WBView,lie),W_(e.Sheets,cie),D0.date1904=Un(e.WBProps.date1904)}function uie(e){return!e.Workbook||!e.Workbook.WBProps?"false":Un(e.Workbook.WBProps.date1904)?"true":"false"}var die="][*?/\\".split("");function kU(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return die.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function fie(e,t,r){e.forEach(function(n,a){kU(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[a]&&t[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function hie(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];fie(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)uae(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var mie=/<\w+:workbook/;function pie(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Qs,function(c,u){var f=cr(c);switch(tc(f[0])){case"<?xml":break;case"<workbook":c.match(mie)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=f[a];break;case"</workbook>":break;case"<fileVersion":delete f[0],r.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":x5.forEach(function(h){if(f[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=Un(f[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(f[h[0]],10);break;default:r.WBProps[h[0]]=f[h[0]]}}),f.codeName&&(r.WBProps.CodeName=gn(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],r.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=Gr(gn(f.name)),delete f[0],r.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=gn(f.name),f.comment&&(s.Comment=f.comment),f.localSheetId&&(s.Sheet=+f.localSheetId),Un(f.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=Gr(gn(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete f[0],r.CalcPr=f;break;case"<calcPr/>":delete f[0],r.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return c}),Xd.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return TU(r),r}function FU(e){var t=[ba];t[t.length]=bt("workbook",null,{xmlns:Xd[0],"xmlns:r":ja.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(x5.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=bt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:un(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=bt("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=bt("definedName",un(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function gie(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bb(e),r.name=Ps(e),r}function xie(e,t){return t||(t=rt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),n5(e.strRelID,t),Za(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function vie(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ps(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function wie(e,t){t||(t=rt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),b6(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function yie(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function bie(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=XJ(e),i=sae(e,0,r),o=r5(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function Cie(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],lp[16]={n:"BrtFRTArchID$",f:yie},rA(e,function(c,u,f){switch(f){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Is(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([f,c]):i[0]=[f,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(f),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(f),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},t),TU(r),r.Names=s,r.supbooks=i,r}function Eie(e,t){mt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};mt(e,156,xie(a))}mt(e,144)}function Sie(e,t){t||(t=rt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Za("SheetJS",t),Za(E1.version,t),Za(E1.version,t),Za("7262",t),t.length>t.l?t.slice(0,t.l):t}function Bie(e,t){t||(t=rt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Nie(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(mt(e,135),mt(e,158,Bie(a)),mt(e,136))}}function _ie(e,t){var r=mi();return mt(r,131),mt(r,128,Sie()),mt(r,153,wie(e.Workbook&&e.Workbook.WBProps||null)),Nie(r,e),Eie(r,e),mt(r,132),r.end()}function Tie(e,t,r){return t.slice(-4)===".bin"?Cie(e,r):pie(e,r)}function kie(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?zse(e,n,r,a,s,i,o):bae(e,n,r,a,s,i,o)}function Fie(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?oie(e,n,r,a,s):sie(e,n,r,a,s)}function Iie(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Dre():Lre()}function Uie(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Ire():Ure()}function Die(e,t,r,n){return t.slice(-4)===".bin"?Tte(e,r,n):gte(e,r,n)}function Lie(e,t,r){return uU(e,r)}function Rie(e,t,r){return t.slice(-4)===".bin"?Ree(e,r):Uee(e,r)}function Mie(e,t,r){return t.slice(-4)===".bin"?Nre(e,r):xre(e,r)}function Pie(e,t,r){return t.slice(-4)===".bin"?mre(e):fre(e)}function jie(e,t,r,n){return r.slice(-4)===".bin"?pre(e,t,r,n):void 0}function Oie(e,t,r){return t.slice(-4)===".bin"?Are(e,t,r):dre(e,t,r)}function Qie(e,t,r){return(t.slice(-4)===".bin"?_ie:FU)(e)}function Hie(e,t,r,n,a){return(t.slice(-4)===".bin"?rie:BU)(e,r,n,a)}function Vie(e,t,r){return(t.slice(-4)===".bin"?jte:cU)(e,r)}function Gie(e,t,r){return(t.slice(-4)===".bin"?jee:tU)(e,r)}function zie(e,t,r){return(t.slice(-4)===".bin"?_re:hU)(e)}function Kie(e){return(e.slice(-4)===".bin"?ure:dU)()}var IU=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,UU=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function qo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(IU),s,i,o,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(UU),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function qie(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(IU),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(UU),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var jm;function Wie(e,t){var r=jm[e]||Gr(e);return r==="General"?Od(t):wo(r,t)}function $ie(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Un(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ln(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Gr(t)]=a}function Yie(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||nA[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zm(e.v):e.w=Od(e.v):e.w=Wie(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=jm[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&rh(n)){var a=Sd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Jie(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=cte[n.Pattern]||n.Pattern)}e[t.ID]=t}function Xie(e,t,r,n,a,s,i,o,c,u){var f="General",h=n.StyleID,p={};u=u||{};var g=[],b=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&i&&(h=i.StyleID);s[h]!==void 0&&(s[h].nf&&(f=s[h].nf),s[h].Interior&&g.push(s[h].Interior),!!s[h].Parent);)h=s[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Un(e);break;case"String":n.t="s",n.r=d_(Gr(e)),n.v=e.indexOf("<")>-1?Gr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ln(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Gr(e):n.v<60&&(n.v=n.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=N6[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=d_(t||e));break}if(Yie(n,f,u),u.cellFormula!==!1)if(n.Formula){var y=Gr(n.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),n.f=U0(y,a),delete n.Formula,n.ArrayRange=="RC"?n.F=U0("RC:RC",a):n.ArrayRange&&(n.F=U0(n.ArrayRange,a),c.push([zr(n.F),n.F]))}else for(b=0;b<c.length;++b)a.r>=c[b][0].s.r&&a.r<=c[b][0].e.r&&a.c>=c[b][0].s.c&&a.c<=c[b][0].e.c&&(n.F=c[b][1]);u.cellStyles&&(g.forEach(function(E){!p.patternType&&E.patternType&&(p.patternType=E.patternType)}),n.s=p),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Zie(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Kw(e,t){var r=t||{};nh();var n=mm(YC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=gn(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=Rn(r);return i.type="string",G0.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function($e){a.indexOf("<"+$e)>=0&&(s=!0)}),s)return Poe(n,r);jm={"General Number":"General","General Date":rr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":rr[15],"Short Date":rr[14],"Long Time":rr[19],"Medium Time":rr[18],"Short Time":rr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:rr[2],Standard:rr[4],Percent:rr[10],Scientific:rr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,f={},h=[],p=r.dense?[]:{},g="",b={},y={},E=qo('<Data ss:Type="String">'),S=0,N=0,B=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},U={},F="",L=0,D=[],W={},O={},M=0,K=[],Q=[],ae={},V=[],G,re=!1,J=[],Y=[],ce={},R=0,z=0,q={Sheets:[],WBProps:{date1904:!1}},ee={};rp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";o=rp.exec(n);)switch(o[3]=(ne=o[3]).toLowerCase()){case"data":if(ne=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Xie(n.slice(S,o.index),F,E,c[c.length-1][0]=="comment"?ae:b,{c:N,r:B},k,V[N],y,J,r):(F="",E=qo(o[0]),S=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(Q.length>0&&(b.c=Q),(!r.sheetRows||r.sheetRows>B)&&b.v!==void 0&&(r.dense?(p[B]||(p[B]=[]),p[B][N]=b):p[$n(N)+ya(B)]=b),b.HRef&&(b.l={Target:Gr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(R=N+(parseInt(b.MergeAcross,10)|0),z=B+(parseInt(b.MergeDown,10)|0),D.push({s:{c:N,r:B},e:{c:R,r:z}})),!r.sheetStubs)b.MergeAcross?N=R+1:++N;else if(b.MergeAcross||b.MergeDown){for(var le=N;le<=R;++le)for(var ue=B;ue<=z;++ue)(le>N||ue>B)&&(r.dense?(p[ue]||(p[ue]=[]),p[ue][le]={t:"z"}):p[$n(le)+ya(ue)]={t:"z"});N=R+1}else++N;else b=qie(o[0]),b.Index&&(N=+b.Index-1),N<_.s.c&&(_.s.c=N),N>_.e.c&&(_.e.c=N),o[0].slice(-2)==="/>"&&++N,Q=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(B<_.s.r&&(_.s.r=B),B>_.e.r&&(_.e.r=B),o[0].slice(-2)==="/>"&&(y=qo(o[0]),y.Index&&(B=+y.Index-1)),N=0,++B):(y=qo(o[0]),y.Index&&(B=+y.Index-1),ce={},(y.AutoFitHeight=="0"||y.Height)&&(ce.hpx=parseInt(y.Height,10),ce.hpt=op(ce.hpx),Y[B]=ce),y.Hidden=="1"&&(ce.hidden=!0,Y[B]=ce));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));h.push(g),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(p["!ref"]=pr(_),r.sheetRows&&r.sheetRows<=_.e.r&&(p["!fullref"]=p["!ref"],_.e.r=r.sheetRows-1,p["!ref"]=pr(_))),D.length&&(p["!merges"]=D),V.length>0&&(p["!cols"]=V),Y.length>0&&(p["!rows"]=Y),f[g]=p}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},B=N=0,c.push([o[3],!1]),u=qo(o[0]),g=Gr(u.Name),p=r.dense?[]:{},D=[],J=[],Y=[],ee={name:g,Hidden:0},q.Sheets.push(ee);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),V=[],re=!1}break;case"style":o[1]==="/"?Jie(k,U,r):U=qo(o[0]);break;case"numberformat":U.nf=Gr(qo(o[0]).Format||"General"),jm[U.nf]&&(U.nf=jm[U.nf]);for(var he=0;he!=392&&rr[he]!=U.nf;++he);if(he==392){for(he=57;he!=392;++he)if(rr[he]==null){Vc(U.nf,he);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(G=qo(o[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!re&&G.wpx>10){re=!0,Ds=oU;for(var Ne=0;Ne<V.length;++Ne)V[Ne]&&Bu(V[Ne])}re&&Bu(G),V[G.Index-1||V.length]=G;for(var ge=0;ge<+G.Span;++ge)V[V.length]=Rn(G);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var te=cr(o[0]),Te={Name:te.Name,Ref:U0(te.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Te.Sheet=q.Sheets.length-1),q.Names.push(Te);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?F+=n.slice(L,o.index):L=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;U.Interior=qo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?CX(W,ne,n.slice(M,o.index)):M=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));Zie(ae),Q.push(ae)}else c.push([o[3],!1]),u=qo(o[0]),ae={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var qe=qo(o[0]);p["!autofilter"]={ref:U0(qe.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return e3(n,r);var ke=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ke=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ke=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ke=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ke=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(M,o.index)){case"SheetHidden":ee.Hidden=1;break;case"SheetVeryHidden":ee.Hidden=2;break}else M=o.index+o[0].length;break;case"header":p["!margins"]||Dd(p["!margins"]={},"xlml"),isNaN(+cr(o[0]).Margin)||(p["!margins"].header=+cr(o[0]).Margin);break;case"footer":p["!margins"]||Dd(p["!margins"]={},"xlml"),isNaN(+cr(o[0]).Margin)||(p["!margins"].footer=+cr(o[0]).Margin);break;case"pagemargins":var we=cr(o[0]);p["!margins"]||Dd(p["!margins"]={},"xlml"),isNaN(+we.Top)||(p["!margins"].top=+we.Top),isNaN(+we.Left)||(p["!margins"].left=+we.Left),isNaN(+we.Right)||(p["!margins"].right=+we.Right),isNaN(+we.Bottom)||(p["!margins"].bottom=+we.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ke=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ke=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ke=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ke=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ke=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ke=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ke=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ke=!1}break;case"smarttags":break;default:ke=!1;break}if(ke||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?$ie(O,ne,K,n.slice(M,o.index)):(K=o,M=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var je={};return!r.bookSheets&&!r.bookProps&&(je.Sheets=f),je.SheetNames=h,je.Workbook=q,je.SSF=Rn(rr),je.Props=W,je.Custprops=O,je}function Tb(e,t){switch(w5(t=t||{}),t.type||"base64"){case"base64":return Kw(Qi(e),t);case"binary":case"buffer":case"file":return Kw(e,t);case"array":return Kw(Iu(e),t)}}function eoe(e,t){var r=[];return e.Props&&r.push(EX(e.Props,t)),e.Custprops&&r.push(SX(e.Props,e.Custprops)),r.join("")}function toe(){return""}function roe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(bt("NumberFormat",null,{"ss:Format":un(rr[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};r.push(bt("Style",s.join(""),i))}),bt("Styles",r.join(""))}function DU(e){return bt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+h5(e.Ref,{r:0,c:0})})}function noe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(DU(a)))}return bt("Names",r.join(""))}function aoe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var o=a[i];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(DU(o)))}return s.join("")}function soe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(bt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(bt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(bt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(bt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(hs("ProtectContents","True")),e["!protect"].objects&&a.push(hs("ProtectObjects","True")),e["!protect"].scenarios&&a.push(hs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(hs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(hs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":bt("WorksheetOptions",a.join(""),{xmlns:Li.x})}function ioe(e){return e.map(function(t){var r=NJ(t.t||""),n=bt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return bt("Comment",n,{"ss:Author":t.a})}).join("")}function ooe(e,t,r,n,a,s,i){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+un(h5(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var c=Yn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=un(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=un(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=i.c||u[f].s.r!=i.r||(u[f].e.c>u[f].s.c&&(o["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(o["ss:MergeDown"]=u[f].e.r-u[f].s.r));var h="",p="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",p=String(e.v);break;case"b":h="Boolean",p=e.v?"1":"0";break;case"e":h="Error",p=nA[e.v];break;case"d":h="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||rr[14]);break;case"s":h="String",p=BJ(e.v||"");break}var g=Du(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+g),o["ss:Index"]=i.c+1;var b=e.v!=null?p:"",y=e.t=="z"?"":'<Data ss:Type="'+h+'">'+b+"</Data>";return(e.c||[]).length>0&&(y+=ioe(e.c)),bt("Cell",y,o)}function loe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=z0(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function coe(e,t,r,n){if(!e["!ref"])return"";var a=zr(e["!ref"]),s=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach(function(E,S){Bu(E);var N=!!E.width,B=Nv(S,E),_={"ss:Index":S+1};N&&(_["ss:Width"]=sp(B.width)),E.hidden&&(_["ss:Hidden"]="1"),o.push(bt("Column",null,_))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var f=[loe(u,(e["!rows"]||[])[u])],h=a.s.c;h<=a.e.c;++h){var p=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>h)&&!(s[i].s.r>u)&&!(s[i].e.c<h)&&!(s[i].e.r<u)){(s[i].s.c!=h||s[i].s.r!=u)&&(p=!0);break}if(!p){var g={r:u,c:h},b=sr(g),y=c?(e[u]||[])[h]:e[b];f.push(ooe(y,b,e,t,r,n,g))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function Aoe(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],i=s?aoe(s,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?coe(s,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(soe(s,t,e,r)),n.join("")}function uoe(e,t){t||(t={}),e.SSF||(e.SSF=Rn(rr)),e.SSF&&(nh(),wv(e.SSF),t.revssf=bv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Du(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(eoe(e,t)),r.push(toe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(bt("Worksheet",Aoe(n,t,e),{"ss:Name":un(e.SheetNames[n])}));return r[2]=roe(e,t),r[3]=noe(e),ba+bt("Workbook",r.join(""),{xmlns:Li.ss,"xmlns:o":Li.o,"xmlns:x":Li.x,"xmlns:ss":Li.ss,"xmlns:dt":Li.dt,"xmlns:html":Li.html})}function doe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=nX(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=aX(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var foe=[60,1084,2066,2165,2175];function hoe(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var c=Oc(r,r.l),u=kb[c],f=0;u!=null&&foe.indexOf(c)>-1;)s=Oc(r,r.l+2),f=r.l+4,c==2066?f+=4:(c==2165||c==2175)&&(f+=12),o=r.slice(f,r.l+4+s),i.push(o),r.l+=4+s,u=kb[c=Oc(r,r.l)];var h=Xa(i);fs(h,0);var p=0;h.lens=[];for(var g=0;g<i.length;++g)h.lens.push(p),p+=i[g].length;if(h.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,a)}function Ql(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=rr[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||nA[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zm(e.v):e.w=Od(e.v):e.w=wo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&rh(rr[n]||String(n))){var a=Sd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function ix(e,t,r){return{v:e,ixfe:t,t:r}}function moe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,c=[],u="",f={},h,p="",g,b,y,E,S={},N=[],B,_,k=[],U=[],F={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},D=function(Ct){return Ct<8?Fd[Ct]:Ct<64&&U[Ct-8]||Fd[Ct]},W=function(Ct,ut,mr){var Mt=ut.XF.data;if(!(!Mt||!Mt.patternType||!mr||!mr.cellStyles)){ut.s={},ut.s.patternType=Mt.patternType;var Kr;(Kr=ap(D(Mt.icvFore)))&&(ut.s.fgColor={rgb:Kr}),(Kr=ap(D(Mt.icvBack)))&&(ut.s.bgColor={rgb:Kr})}},O=function(Ct,ut,mr){if(!(ce>1)&&!(mr.sheetRows&&Ct.r>=mr.sheetRows)){if(mr.cellStyles&&ut.XF&&ut.XF.data&&W(Ct,ut,mr),delete ut.ixfe,delete ut.XF,h=Ct,p=sr(Ct),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Ct.r<i.s.r&&(i.s.r=Ct.r),Ct.c<i.s.c&&(i.s.c=Ct.c),Ct.r+1>i.e.r&&(i.e.r=Ct.r+1),Ct.c+1>i.e.c&&(i.e.c=Ct.c+1),mr.cellFormula&&ut.f){for(var Mt=0;Mt<N.length;++Mt)if(!(N[Mt][0].s.c>Ct.c||N[Mt][0].s.r>Ct.r)&&!(N[Mt][0].e.c<Ct.c||N[Mt][0].e.r<Ct.r)){ut.F=pr(N[Mt][0]),(N[Mt][0].s.c!=Ct.c||N[Mt][0].s.r!=Ct.r)&&delete ut.f,ut.f&&(ut.f=""+Is(N[Mt][1],i,Ct,J,M));break}}mr.dense?(a[Ct.r]||(a[Ct.r]=[]),a[Ct.r][Ct.c]=ut):a[p]=ut}},M={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(M.password=t.password);var K,Q=[],ae=[],V=[],G=[],re=!1,J=[];J.SheetNames=M.snames,J.sharedf=M.sharedf,J.arrayf=M.arrayf,J.names=[],J.XTI=[];var Y=0,ce=0,R=0,z=[],q=[],ee;M.codepage=1200,Zo(1200);for(var ne=!1;e.l<e.length-1;){var le=e.l,ue=e.read_shift(2);if(ue===0&&Y===10)break;var he=e.l===e.length?0:e.read_shift(2),Ne=kb[ue];if(Ne&&Ne.f){if(t.bookSheets&&Y===133&&ue!==133)break;if(Y=ue,Ne.r===2||Ne.r==12){var ge=e.read_shift(2);if(he-=2,!M.enc&&ge!==ue&&((ge&255)<<8|ge>>8)!==ue)throw new Error("rt mismatch: "+ge+"!="+ue);Ne.r==12&&(e.l+=10,he-=10)}var te={};if(ue===10?te=Ne.f(e,he,M):te=hoe(ue,Ne,e,he,M),ce==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(ue){case 34:r.opts.Date1904=F.WBProps.date1904=te;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(M.enc||(e.l=0),M.enc=te,!t.password)throw new Error("File is password-protected");if(te.valid==null)throw new Error("Encryption scheme unsupported");if(!te.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=te;break;case 66:var Te=Number(te);switch(Te){case 21010:Te=1200;break;case 32768:Te=1e4;break;case 32769:Te=1252;break}Zo(M.codepage=Te),ne=!0;break;case 317:M.rrtabid=te;break;case 25:M.winlocked=te;break;case 439:r.opts.RefreshAll=te;break;case 12:r.opts.CalcCount=te;break;case 16:r.opts.CalcDelta=te;break;case 17:r.opts.CalcIter=te;break;case 13:r.opts.CalcMode=te;break;case 14:r.opts.CalcPrecision=te;break;case 95:r.opts.CalcSaveRecalc=te;break;case 15:M.CalcRefMode=te;break;case 2211:r.opts.FullCalc=te;break;case 129:te.fDialog&&(a["!type"]="dialog"),te.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),te.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:k.push(te);break;case 430:J.push([te]),J[J.length-1].XTI=[];break;case 35:case 547:J[J.length-1].push(te);break;case 24:case 536:ee={Name:te.Name,Ref:Is(te.rgce,i,null,J,M)},te.itab>0&&(ee.Sheet=te.itab-1),J.names.push(ee),J[0]||(J[0]=[],J[0].XTI=[]),J[J.length-1].push(te),te.Name=="_xlnm._FilterDatabase"&&te.itab>0&&te.rgce&&te.rgce[0]&&te.rgce[0][0]&&te.rgce[0][0][0]=="PtgArea3d"&&(q[te.itab-1]={ref:pr(te.rgce[0][0][1][2])});break;case 22:M.ExternCount=te;break;case 23:J.length==0&&(J[0]=[],J[0].XTI=[]),J[J.length-1].XTI=J[J.length-1].XTI.concat(te),J.XTI=J.XTI.concat(te);break;case 2196:if(M.biff<8)break;ee!=null&&(ee.Comment=te[1]);break;case 18:a["!protect"]=te;break;case 19:te!==0&&M.WTF&&console.error("Password verifier: "+te);break;case 133:s[te.pos]=te,M.snames.push(te.name);break;case 10:{if(--ce)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=pr(i),t.sheetRows&&t.sheetRows<=i.e.r){var qe=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=pr(i),i.e.r=qe}i.e.r++,i.e.c++}Q.length>0&&(a["!merges"]=Q),ae.length>0&&(a["!objects"]=ae),V.length>0&&(a["!cols"]=V),G.length>0&&(a["!rows"]=G),F.Sheets.push(L)}u===""?f=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[te.BIFFVer]||8),M.biffguess=te.BIFFVer==0,te.BIFFVer==0&&te.dt==4096&&(M.biff=5,ne=!0,Zo(M.codepage=28591)),M.biff==8&&te.BIFFVer==0&&te.dt==16&&(M.biff=2),ce++)break;if(a=t.dense?[]:{},M.biff<8&&!ne&&(ne=!0,Zo(M.codepage=t.codepage||1252)),M.biff<5||te.BIFFVer==0&&te.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var ke={pos:e.l-he,name:u};s[ke.pos]=ke,M.snames.push(u)}else u=(s[le]||{name:""}).name;te.dt==32&&(a["!type"]="chart"),te.dt==64&&(a["!type"]="macro"),Q=[],ae=[],M.arrayf=N=[],V=[],G=[],re=!1,L={Hidden:(s[le]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[te.r]||[])[te.c]:a[sr({c:te.c,r:te.r})])&&++te.c,B={ixfe:te.ixfe,XF:k[te.ixfe]||{},v:te.val,t:"n"},R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O({c:te.c,r:te.r},B,t);break;case 5:case 517:B={ixfe:te.ixfe,XF:k[te.ixfe],v:te.val,t:te.t},R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O({c:te.c,r:te.r},B,t);break;case 638:B={ixfe:te.ixfe,XF:k[te.ixfe],v:te.rknum,t:"n"},R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O({c:te.c,r:te.r},B,t);break;case 189:for(var we=te.c;we<=te.C;++we){var je=te.rkrec[we-te.c][0];B={ixfe:je,XF:k[je],v:te.rkrec[we-te.c][1],t:"n"},R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O({c:we,r:te.r},B,t)}break;case 6:case 518:case 1030:{if(te.val=="String"){o=te;break}if(B=ix(te.val,te.cell.ixfe,te.tt),B.XF=k[B.ixfe],t.cellFormula){var $e=te.formula;if($e&&$e[0]&&$e[0][0]&&$e[0][0][0]=="PtgExp"){var et=$e[0][0][1][0],dt=$e[0][0][1][1],pt=sr({r:et,c:dt});S[pt]?B.f=""+Is(te.formula,i,te.cell,J,M):B.F=((t.dense?(a[et]||[])[dt]:a[pt])||{}).F}else B.f=""+Is(te.formula,i,te.cell,J,M)}R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O(te.cell,B,t),o=te}break;case 7:case 519:if(o)o.val=te,B=ix(te,o.cell.ixfe,"s"),B.XF=k[B.ixfe],t.cellFormula&&(B.f=""+Is(o.formula,i,o.cell,J,M)),R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O(o.cell,B,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(te);var st=sr(te[0].s);if(g=t.dense?(a[te[0].s.r]||[])[te[0].s.c]:a[st],t.cellFormula&&g){if(!o||!st||!g)break;g.f=""+Is(te[1],i,te[0],J,M),g.F=pr(te[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;S[sr(o.cell)]=te[0],g=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[sr(o.cell)],(g||{}).f=""+Is(te[0],i,h,J,M)}}break;case 253:B=ix(c[te.isst].t,te.ixfe,"s"),c[te.isst].h&&(B.h=c[te.isst].h),B.XF=k[B.ixfe],R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O({c:te.c,r:te.r},B,t);break;case 513:t.sheetStubs&&(B={ixfe:te.ixfe,XF:k[te.ixfe],t:"z"},R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O({c:te.c,r:te.r},B,t));break;case 190:if(t.sheetStubs)for(var yt=te.c;yt<=te.C;++yt){var Nt=te.ixfe[yt-te.c];B={ixfe:Nt,XF:k[Nt],t:"z"},R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O({c:yt,r:te.r},B,t)}break;case 214:case 516:case 4:B=ix(te.val,te.ixfe,"s"),B.XF=k[B.ixfe],R>0&&(B.z=z[B.ixfe>>8&63]),Ql(B,t,r.opts.Date1904),O({c:te.c,r:te.r},B,t);break;case 0:case 512:ce===1&&(i=te);break;case 252:c=te;break;case 1054:if(M.biff==4){z[R++]=te[1];for(var Lt=0;Lt<R+163&&rr[Lt]!=te[1];++Lt);Lt>=163&&Vc(te[1],R+163)}else Vc(te[1],te[0]);break;case 30:{z[R++]=te;for(var Rt=0;Rt<R+163&&rr[Rt]!=te;++Rt);Rt>=163&&Vc(te,R+163)}break;case 229:Q=Q.concat(te);break;case 93:ae[te.cmo[0]]=M.lastobj=te;break;case 438:M.lastobj.TxO=te;break;case 127:M.lastobj.ImData=te;break;case 440:for(E=te[0].s.r;E<=te[0].e.r;++E)for(y=te[0].s.c;y<=te[0].e.c;++y)g=t.dense?(a[E]||[])[y]:a[sr({c:y,r:E})],g&&(g.l=te[1]);break;case 2048:for(E=te[0].s.r;E<=te[0].e.r;++E)for(y=te[0].s.c;y<=te[0].e.c;++y)g=t.dense?(a[E]||[])[y]:a[sr({c:y,r:E})],g&&g.l&&(g.l.Tooltip=te[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;g=t.dense?(a[te[0].r]||[])[te[0].c]:a[sr(te[0])];var Qt=ae[te[2]];g||(t.dense?(a[te[0].r]||(a[te[0].r]=[]),g=a[te[0].r][te[0].c]={t:"z"}):g=a[sr(te[0])]={t:"z"},i.e.r=Math.max(i.e.r,te[0].r),i.s.r=Math.min(i.s.r,te[0].r),i.e.c=Math.max(i.e.c,te[0].c),i.s.c=Math.min(i.s.c,te[0].c)),g.c||(g.c=[]),b={a:te[1],t:Qt.TxO.t},g.c.push(b)}break;case 2173:rre(k[te.ixfe],te.ext);break;case 125:{if(!M.cellStyles)break;for(;te.e>=te.s;)V[te.e--]={width:te.w/256,level:te.level||0,hidden:!!(te.flags&1)},re||(re=!0,u5(te.w/256)),Bu(V[te.e+1])}break;case 520:{var Vt={};te.level!=null&&(G[te.r]=Vt,Vt.level=te.level),te.hidden&&(G[te.r]=Vt,Vt.hidden=!0),te.hpt&&(G[te.r]=Vt,Vt.hpt=te.hpt,Vt.hpx=z0(te.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Dd(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=te;break;case 161:a["!margins"]||Dd(a["!margins"]={}),a["!margins"].header=te.header,a["!margins"].footer=te.footer;break;case 574:te.RTL&&(F.Views[0].RTL=!0);break;case 146:U=te;break;case 2198:K=te;break;case 140:_=te;break;case 442:u?L.CodeName=te||L.name:F.WBProps.CodeName=te||"ThisWorkbook";break}}else Ne||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=he}return r.SheetNames=ia(s).sort(function(Tt,Ct){return Number(Tt)-Number(Ct)}).map(function(Tt){return s[Tt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&f["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=f)):r.Preamble=f,r.Sheets&&q.forEach(function(Tt,Ct){r.Sheets[r.SheetNames[Ct]]["!autofilter"]=Tt}),r.Strings=c,r.SSF=Rn(rr),M.enc&&(r.Encryption=M.enc),K&&(r.Themes=K),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),J.names.length>0&&(F.Names=J.names),r.Workbook=F,r}var Om={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function poe(e,t,r){var n=Yt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=k_(n,Cb,Om.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=Yt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=k_(i,Eb,Om.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(U6(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function goe(e,t){var r=[],n=[],a=[],s=0,i,o=i_(Cb,"n"),c=i_(Eb,"n");if(e.Props)for(i=ia(e.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Props[i[s]]]);if(e.Custprops)for(i=ia(e.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Custprops[i[s]]]);var u=[];for(s=0;s<a.length;++s)O6.indexOf(a[s][0])>-1||I6.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&Yt.utils.cfb_add(t,"/SummaryInformation",F_(n,Om.SI,c,Eb)),(r.length||u.length)&&Yt.utils.cfb_add(t,"/DocumentSummaryInformation",F_(r,Om.DSI,o,Cb,u.length?u:null,Om.UDI))}function LU(e,t){t||(t={}),w5(t),QC(),t.codepage&&OC(t.codepage);var r,n;if(e.FullPaths){if(Yt.find(e,"/encryption"))throw new Error("File is password-protected");r=Yt.find(e,"!CompObj"),n=Yt.find(e,"/Workbook")||Yt.find(e,"/Book")}else{switch(t.type){case"base64":e=Mi(Qi(e));break;case"binary":e=Mi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}fs(e,0),n={content:e}}var a,s;if(r&&doe(r),t.bookProps&&!t.bookSheets)a={};else{var i=Br?"buffer":"array";if(n&&n.content)a=moe(n.content,t);else if((s=Yt.find(e,"PerfectOffice_MAIN"))&&s.content)a=Ud.to_workbook(s.content,(t.type=i,t));else if((s=Yt.find(e,"NativeContent_MAIN"))&&s.content)a=Ud.to_workbook(s.content,(t.type=i,t));else throw(s=Yt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Yt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=kre(e))}var o={};return e.FullPaths&&poe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function xoe(e,t){var r=t||{},n=Yt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Yt.utils.cfb_add(n,a,RU(e,r)),r.biff==8&&(e.Props||e.Custprops)&&goe(e,n),r.biff==8&&e.vbaraw&&Fre(n,Yt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var lp={0:{f:Hae},1:{f:Yae},2:{f:mse},3:{f:ase},4:{f:ese},5:{f:dse},6:{f:wse},7:{f:lse},8:{f:Nse},9:{f:Bse},10:{f:Ese},11:{f:Sse},12:{f:Xae},13:{f:gse},14:{f:ise},15:{f:rse},16:{f:NU},17:{f:bse},18:{f:Ase},19:{f:t5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:bie},40:{},42:{},43:{f:wte},44:{f:xte},45:{f:Cte},46:{f:Ste},47:{f:Ete},48:{},49:{f:zJ},50:{},51:{f:sre},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:J6},62:{f:vse},63:{f:hre},64:{f:Vse},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:js,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:jse},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Wae},148:{f:zae,p:16},151:{f:Use},152:{},153:{f:vie},154:{},155:{},156:{f:gie},157:{},158:{},159:{T:1,f:Lee},160:{T:-1},161:{T:1,f:rf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:_se},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:nre},336:{T:-1},337:{f:lre,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Y6},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Dse},427:{f:Lse},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Mse},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:qae},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Fse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Sre},633:{T:1},634:{T:-1},635:{T:1,f:Cre},636:{T:-1},637:{f:$J},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:iie},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Gse},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},kb={6:{f:Gw},10:{f:YA},12:{f:Ia},13:{f:Ia},14:{f:ma},15:{f:ma},16:{f:Rs},17:{f:ma},18:{f:ma},19:{f:Ia},20:{f:M_},21:{f:M_},23:{f:Y6},24:{f:j_},25:{f:ma},26:{},27:{},28:{f:GZ},29:{},34:{f:ma},35:{f:P_},38:{f:Rs},39:{f:Rs},40:{f:Rs},41:{f:Rs},42:{f:ma},43:{f:ma},47:{f:rte},49:{f:gZ},51:{f:Ia},60:{},61:{f:dZ},64:{f:ma},65:{f:pZ},66:{f:Ia},77:{},80:{},81:{},82:{},85:{f:Ia},89:{},90:{},91:{},92:{f:tZ},93:{f:qZ},94:{},95:{f:ma},96:{},97:{},99:{f:ma},125:{f:J6},128:{f:IZ},129:{f:nZ},130:{f:Ia},131:{f:ma},132:{f:ma},133:{f:aZ},134:{},140:{f:tee},141:{f:Ia},144:{},146:{f:aee},151:{},152:{},153:{},154:{},155:{},156:{f:Ia},157:{},158:{},160:{f:uee},161:{f:oee},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:_Z},190:{f:TZ},193:{f:YA},197:{},198:{},199:{},200:{},201:{},202:{f:ma},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ia},220:{},221:{f:ma},222:{},224:{f:FZ},225:{f:eZ},226:{f:YA},227:{},229:{f:zZ},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:iZ},253:{f:vZ},255:{f:lZ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Q6},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ma},353:{f:YA},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:MZ},431:{f:ma},432:{},433:{},434:{},437:{},438:{f:YZ},439:{f:ma},440:{f:JZ},441:{},442:{f:Up},443:{},444:{f:Ia},445:{},446:{},448:{f:YA},449:{f:uZ,r:2},450:{f:YA},512:{f:D_},513:{f:Aee},515:{f:LZ},516:{f:yZ},517:{f:R_},519:{f:dee},520:{f:cZ},523:{},545:{f:O_},549:{f:U_},566:{},574:{f:hZ},638:{f:NZ},659:{},1048:{},1054:{f:CZ},1084:{},1212:{f:QZ},2048:{f:ZZ},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:nx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:YA},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:see,r:12},2173:{f:tre,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ma,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:OZ,r:12},2197:{},2198:{f:$te,r:12},2199:{},2200:{},2201:{},2202:{f:HZ,r:12},2203:{f:YA},2204:{},2205:{},2206:{},2207:{},2211:{f:AZ},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ia},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:lee},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:nee},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:D_},1:{},2:{f:gee},3:{f:mee},4:{f:hee},5:{f:R_},7:{f:vee},8:{},9:{f:nx},11:{},22:{f:Ia},30:{f:SZ},31:{},32:{},33:{f:O_},36:{},37:{f:U_},50:{f:wee},62:{},52:{},67:{},68:{f:Ia},69:{},86:{},126:{},127:{f:fee},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:yee},223:{},234:{},354:{},421:{},518:{f:Gw},521:{f:nx},536:{f:j_},547:{f:P_},561:{},579:{},1030:{f:Gw},1033:{f:nx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Et(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&XC(r)&&e.push(r)}}function voe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Et(e,t,r,a);var s=t;if(!isNaN(s)){for(var i=r.parts||[],o=0,c=0,u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;var f=e.next(4);for(f.write_shift(2,s),f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Mp(e,t,r){return e||(e=rt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function woe(e,t,r,n){var a=rt(9);return Mp(a,e,t),H6(r,n||"b",a),a}function yoe(e,t,r){var n=rt(8+2*r.length);return Mp(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function boe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Qa(Ln(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Et(e,2,xee(r,n,a)):Et(e,3,pee(r,n,a));return;case"b":case"e":Et(e,5,woe(r,n,t.v,t.t));return;case"s":case"str":Et(e,4,yoe(r,n,(t.v||"").slice(0,255)));return}Et(e,1,Mp(null,r,n))}function Coe(e,t,r,n){var a=Array.isArray(t),s=zr(t["!ref"]||"A1"),i,o="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=pr(s)}for(var u=s.s.r;u<=s.e.r;++u){o=ya(u);for(var f=s.s.c;f<=s.e.c;++f){u===s.s.r&&(c[f]=$n(f)),i=c[f]+o;var h=a?(t[u]||[])[f]:t[i];h&&boe(e,h,u,f)}}}function Eoe(e,t){for(var r=t||{},n=mi(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Et(n,r.biff==4?1033:r.biff==3?521:9,l5(e,16,r)),Coe(n,e.Sheets[e.SheetNames[a]],a,r),Et(n,10),n.end()}function Soe(e,t,r){Et(e,49,xZ({sz:12,name:"Arial"},r))}function Boe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Et(e,1054,EZ(a,t[a],r))})}function Noe(e,t){var r=rt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Et(e,2151,r),r=rt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),q6(zr(t["!ref"]||"A1"),r),r.write_shift(4,4),Et(e,2152,r)}function _oe(e,t){for(var r=0;r<16;++r)Et(e,224,L_({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Et(e,224,L_(n,0,t))})}function Toe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Et(e,440,XZ(n)),n[1].Tooltip&&Et(e,2048,eee(n))}delete t["!links"]}function koe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Et(e,125,iee(Nv(a,n),a))})}}function Foe(e,t,r,n,a){var s=16+Du(a.cellXfs,t,a);if(t.v==null&&!t.bf){Et(e,513,Gd(r,n,s));return}if(t.bf)Et(e,6,nae(t,r,n,a,s));else switch(t.t){case"d":case"n":var i=t.t=="d"?Qa(Ln(t.v)):t.v;Et(e,515,RZ(r,n,i,s));break;case"b":case"e":Et(e,517,DZ(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var o=p5(a.Strings,t.v,a.revStrings);Et(e,253,wZ(r,n,o,s))}else Et(e,516,bZ(r,n,(t.v||"").slice(0,255),s,a));break;default:Et(e,513,Gd(r,n,s))}}function Ioe(e,t,r){var n=mi(),a=r.SheetNames[e],s=r.Sheets[a]||{},i=(r||{}).Workbook||{},o=(i.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,f,h="",p=[],g=zr(s["!ref"]||"A1"),b=u?65536:16384;if(g.e.c>255||g.e.r>=b){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,b-1)}Et(n,2057,l5(r,16,t)),Et(n,13,Ao(1)),Et(n,12,Ao(100)),Et(n,15,Xs(!0)),Et(n,17,Xs(!1)),Et(n,16,Hd(.001)),Et(n,95,Xs(!0)),Et(n,42,Xs(!1)),Et(n,43,Xs(!1)),Et(n,130,Ao(1)),Et(n,128,UZ()),Et(n,131,Xs(!1)),Et(n,132,Xs(!1)),u&&koe(n,s["!cols"]),Et(n,512,BZ(g,t)),u&&(s["!links"]=[]);for(var y=g.s.r;y<=g.e.r;++y){h=ya(y);for(var E=g.s.c;E<=g.e.c;++E){y===g.s.r&&(p[E]=$n(E)),f=p[E]+h;var S=c?(s[y]||[])[E]:s[f];S&&(Foe(n,S,y,E,t),u&&S.l&&s["!links"].push([f,S.l]))}}var N=o.CodeName||o.name||a;return u&&Et(n,574,mZ((i.Views||[])[0])),u&&(s["!merges"]||[]).length&&Et(n,229,KZ(s["!merges"])),u&&Toe(n,s),Et(n,442,V6(N)),u&&Noe(n,s),Et(n,10),n.end()}function Uoe(e,t,r){var n=mi(),a=(e||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(Et(n,2057,l5(e,5,r)),r.bookType=="xla"&&Et(n,135),Et(n,225,o?Ao(1200):null),Et(n,193,DX(2)),c&&Et(n,191),c&&Et(n,192),Et(n,226),Et(n,92,rZ("SheetJS",r)),Et(n,66,Ao(o?1200:1252)),o&&Et(n,353,Ao(0)),o&&Et(n,448),Et(n,317,cee(e.SheetNames.length)),o&&e.vbaraw&&Et(n,211),o&&e.vbaraw){var u=i.CodeName||"ThisWorkbook";Et(n,442,V6(u))}Et(n,156,Ao(17)),Et(n,25,Xs(!1)),Et(n,18,Xs(!1)),Et(n,19,Ao(0)),o&&Et(n,431,Xs(!1)),o&&Et(n,444,Ao(0)),Et(n,61,fZ()),Et(n,64,Xs(!1)),Et(n,141,Ao(0)),Et(n,34,Xs(uie(e)=="true")),Et(n,14,Xs(!0)),o&&Et(n,439,Xs(!1)),Et(n,218,Ao(0)),Soe(n,e,r),Boe(n,e.SSF,r),_oe(n,r),o&&Et(n,352,Xs(!1));var f=n.end(),h=mi();o&&Et(h,140,ree()),o&&r.Strings&&voe(h,252,oZ(r.Strings)),Et(h,10);var p=h.end(),g=mi(),b=0,y=0;for(y=0;y<e.SheetNames.length;++y)b+=(o?12:11)+(o?2:1)*e.SheetNames[y].length;var E=f.length+b+p.length;for(y=0;y<e.SheetNames.length;++y){var S=s[y]||{};Et(g,133,sZ({pos:E,hs:S.Hidden||0,dt:0,name:e.SheetNames[y]},r)),E+=t[y].length}var N=g.end();if(b!=N.length)throw new Error("BS8 "+b+" != "+N.length);var B=[];return f.length&&B.push(f),N.length&&B.push(N),p.length&&B.push(p),Xa(B)}function Doe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Rn(rr)),e&&e.SSF&&(nh(),wv(e.SSF),r.revssf=bv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,y5(r),r.cellXfs=[],Du(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Ioe(a,r,e);return n.unshift(Uoe(e,n,r)),Xa(n)}function RU(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=xi(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return Doe(e,t);case 4:case 3:case 2:return Eoe(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Y_(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,c=xJ(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,f=0,h=0,p=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(i=0;i<c.length;++i){var y=c[i].trim(),E=y.slice(0,3).toLowerCase();if(E=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}f=0;continue}if(!(E!="<td"&&E!="<th")){var S=y.split(/<\/t[dh]>/i);for(o=0;o<S.length;++o){var N=S[o].trim();if(N.match(/<t[dh]/i)){for(var B=N,_=0;B.charAt(0)=="<"&&(_=B.indexOf(">"))>-1;)B=B.slice(_+1);for(var k=0;k<b.length;++k){var U=b[k];U.s.c==f&&U.s.r<u&&u<=U.e.r&&(f=U.e.c+1,k=-1)}var F=cr(N.slice(0,N.indexOf(">")));p=F.colspan?+F.colspan:1,((h=+F.rowspan)>1||p>1)&&b.push({s:{r:u,c:f},e:{r:u+(h||1)-1,c:f+p-1}});var L=F.t||F["data-t"]||"";if(!B.length){f+=p;continue}if(B=i6(B),g.s.r>u&&(g.s.r=u),g.e.r<u&&(g.e.r=u),g.s.c>f&&(g.s.c=f),g.e.c<f&&(g.e.c=f),!B.length){f+=p;continue}var D={t:"s",v:B};r.raw||!B.trim().length||L=="s"||(B==="TRUE"?D={t:"b",v:!0}:B==="FALSE"?D={t:"b",v:!1}:isNaN(tl(B))?isNaN(V0(B).getDate())||(D={t:"d",v:Ln(B)},r.cellDates||(D={t:"n",v:Qa(D.v)}),D.z=r.dateNF||rr[14]):D={t:"n",v:tl(B)}),r.dense?(n[u]||(n[u]=[]),n[u][f]=D):n[sr({r:u,c:f})]=D,f+=p}}}}return n["!ref"]=pr(g),b.length&&(n["!merges"]=b),n}function Loe(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var f=sr({r,c:i}),h=n.dense?(e[r]||[])[i]:e[f],p=h&&h.v!=null&&(h.h||$C(h.w||($c(h),h.w)||""))||"",g={};o>1&&(g.rowspan=o),c>1&&(g.colspan=c),n.editable?p='<span contenteditable="true">'+p+"</span>":h&&(g["data-t"]=h&&h.t||"z",h.v!=null&&(g["data-v"]=h.v),h.z!=null&&(g["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),g.id=(n.id||"sjs")+"-"+f,s.push(bt("td",p,g))}}var b="<tr>";return b+s.join("")+"</tr>"}var Roe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Moe="</body></html>";function Poe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Uu(Y_(r[0],t),t);var n=S5();return r.forEach(function(a,s){B5(n,Y_(a,t),"Sheet"+(s+1))}),n}function joe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function MU(e,t){var r=t||{},n=r.header!=null?r.header:Roe,a=r.footer!=null?r.footer:Moe,s=[n],i=xi(e["!ref"]);r.dense=Array.isArray(e),s.push(joe(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(Loe(e,i,o,r));return s.push("</table>"+a),s.join("")}function PU(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?Yn(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var f=xi(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),a==-1&&(u.e.r=a=f.e.r+1)}var h=[],p=0,g=e["!rows"]||(e["!rows"]=[]),b=0,y=0,E=0,S=0,N=0,B=0;for(e["!cols"]||(e["!cols"]=[]);b<o.length&&y<c;++b){var _=o[b];if(J_(_)){if(n.display)continue;g[y]={hidden:!0}}var k=_.children;for(E=S=0;E<k.length;++E){var U=k[E];if(!(n.display&&J_(U))){var F=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):i6(U.innerHTML),L=U.getAttribute("data-z")||U.getAttribute("z");for(p=0;p<h.length;++p){var D=h[p];D.s.c==S+s&&D.s.r<y+a&&y+a<=D.e.r&&(S=D.e.c+1-s,p=-1)}B=+U.getAttribute("colspan")||1,((N=+U.getAttribute("rowspan")||1)>1||B>1)&&h.push({s:{r:y+a,c:S+s},e:{r:y+a+(N||1)-1,c:S+s+(B||1)-1}});var W={t:"s",v:F},O=U.getAttribute("data-t")||U.getAttribute("t")||"";F!=null&&(F.length==0?W.t=O||"z":n.raw||F.trim().length==0||O=="s"||(F==="TRUE"?W={t:"b",v:!0}:F==="FALSE"?W={t:"b",v:!1}:isNaN(tl(F))?isNaN(V0(F).getDate())||(W={t:"d",v:Ln(F)},n.cellDates||(W={t:"n",v:Qa(W.v)}),W.z=n.dateNF||rr[14]):W={t:"n",v:tl(F)})),W.z===void 0&&L!=null&&(W.z=L);var M="",K=U.getElementsByTagName("A");if(K&&K.length)for(var Q=0;Q<K.length&&!(K[Q].hasAttribute("href")&&(M=K[Q].getAttribute("href"),M.charAt(0)!="#"));++Q);M&&M.charAt(0)!="#"&&(W.l={Target:M}),n.dense?(e[y+a]||(e[y+a]=[]),e[y+a][S+s]=W):e[sr({c:S+s,r:y+a})]=W,u.e.c<S+s&&(u.e.c=S+s),S+=B}}++y}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,y-1+a),e["!ref"]=pr(u),y>=c&&(e["!fullref"]=pr((u.e.r=o.length-b+y-1+a,u))),e}function jU(e,t){var r=t||{},n=r.dense?[]:{};return PU(n,e,t)}function Ooe(e,t){return Uu(jU(e,t),t)}function J_(e){var t="",r=Qoe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Qoe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Hoe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Gr(t.replace(/<[^>]*>/g,""));return[r]}var X_={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function OU(e,t){var r=t||{},n=YC(e),a=[],s,i,o={name:""},c="",u=0,f,h,p={},g=[],b=r.dense?[]:{},y,E,S={value:""},N="",B=0,_=[],k=-1,U=-1,F={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,D={},W=[],O={},M=0,K=0,Q=[],ae=1,V=1,G=[],re={Names:[]},J={},Y=["",""],ce=[],R={},z="",q=0,ee=!1,ne=!1,le=0;for(rp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=rp.exec(n);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"工作表":y[1]==="/"?(F.e.c>=F.s.c&&F.e.r>=F.s.r?b["!ref"]=pr(F):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=F.e.r&&(b["!fullref"]=b["!ref"],F.e.r=r.sheetRows-1,b["!ref"]=pr(F)),W.length&&(b["!merges"]=W),Q.length&&(b["!rows"]=Q),f.name=f.名称||f.name,typeof JSON<"u"&&JSON.stringify(f),g.push(f.name),p[f.name]=b,ne=!1):y[0].charAt(y[0].length-2)!=="/"&&(f=cr(y[0],!1),k=U=-1,F.s.r=F.s.c=1e7,F.e.r=F.e.c=0,b=r.dense?[]:{},W=[],Q=[],ne=!0);break;case"table-row-group":y[1]==="/"?--L:++L;break;case"table-row":case"行":if(y[1]==="/"){k+=ae,ae=1;break}if(h=cr(y[0],!1),h.行号?k=h.行号-1:k==-1&&(k=0),ae=+h["number-rows-repeated"]||1,ae<10)for(le=0;le<ae;++le)L>0&&(Q[k+le]={level:L});U=-1;break;case"covered-table-cell":y[1]!=="/"&&++U,r.sheetStubs&&(r.dense?(b[k]||(b[k]=[]),b[k][U]={t:"z"}):b[sr({r:k,c:U})]={t:"z"}),N="",_=[];break;case"table-cell":case"数据":if(y[0].charAt(y[0].length-2)==="/")++U,S=cr(y[0],!1),V=parseInt(S["number-columns-repeated"]||"1",10),E={t:"z",v:null},S.formula&&r.cellFormula!=!1&&(E.f=q_(Gr(S.formula))),(S.数据类型||S["value-type"])=="string"&&(E.t="s",E.v=Gr(S["string-value"]||""),r.dense?(b[k]||(b[k]=[]),b[k][U]=E):b[sr({r:k,c:U})]=E),U+=V-1;else if(y[1]!=="/"){++U,N="",B=0,_=[],V=1;var ue=ae?k+ae-1:k;if(U>F.e.c&&(F.e.c=U),U<F.s.c&&(F.s.c=U),k<F.s.r&&(F.s.r=k),ue>F.e.r&&(F.e.r=ue),S=cr(y[0],!1),ce=[],R={},E={t:S.数据类型||S["value-type"],v:null},r.cellFormula)if(S.formula&&(S.formula=Gr(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(M=parseInt(S["number-matrix-rows-spanned"],10)||0,K=parseInt(S["number-matrix-columns-spanned"],10)||0,O={s:{r:k,c:U},e:{r:k+M-1,c:U+K-1}},E.F=pr(O),G.push([O,E.F])),S.formula)E.f=q_(S.formula);else for(le=0;le<G.length;++le)k>=G[le][0].s.r&&k<=G[le][0].e.r&&U>=G[le][0].s.c&&U<=G[le][0].e.c&&(E.F=G[le][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(M=parseInt(S["number-rows-spanned"],10)||0,K=parseInt(S["number-columns-spanned"],10)||0,O={s:{r:k,c:U},e:{r:k+M-1,c:U+K-1}},W.push(O)),S["number-columns-repeated"]&&(V=parseInt(S["number-columns-repeated"],10)),E.t){case"boolean":E.t="b",E.v=Un(S["boolean-value"]);break;case"float":E.t="n",E.v=parseFloat(S.value);break;case"percentage":E.t="n",E.v=parseFloat(S.value);break;case"currency":E.t="n",E.v=parseFloat(S.value);break;case"date":E.t="d",E.v=Ln(S["date-value"]),r.cellDates||(E.t="n",E.v=Qa(E.v)),E.z="m/d/yy";break;case"time":E.t="n",E.v=mJ(S["time-value"])/86400,r.cellDates&&(E.t="d",E.v=Cv(E.v)),E.z="HH:MM:SS";break;case"number":E.t="n",E.v=parseFloat(S.数据数值);break;default:if(E.t==="string"||E.t==="text"||!E.t)E.t="s",S["string-value"]!=null&&(N=Gr(S["string-value"]),_=[]);else throw new Error("Unsupported value type "+E.t)}}else{if(ee=!1,E.t==="s"&&(E.v=N||"",_.length&&(E.R=_),ee=B==0),J.Target&&(E.l=J),ce.length>0&&(E.c=ce,ce=[]),N&&r.cellText!==!1&&(E.w=N),ee&&(E.t="z",delete E.v),(!ee||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var he=0;he<ae;++he){if(V=parseInt(S["number-columns-repeated"]||"1",10),r.dense)for(b[k+he]||(b[k+he]=[]),b[k+he][U]=he==0?E:Rn(E);--V>0;)b[k+he][U+V]=Rn(E);else for(b[sr({r:k+he,c:U})]=E;--V>0;)b[sr({r:k+he,c:U+V})]=Rn(E);F.e.c<=U&&(F.e.c=U)}V=parseInt(S["number-columns-repeated"]||"1",10),U+=V-1,V=0,E={},N="",_=[]}J={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((s=a.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((s=a.pop())[0]!==y[3])throw"Bad state: "+s;R.t=N,_.length&&(R.R=_),R.a=z,ce.push(R)}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);z="",q=0,N="",B=0,_=[];break;case"creator":y[1]==="/"?z=n.slice(q,y.index):q=y.index+y[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((s=a.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);N="",B=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(D[o.name]=c,(s=a.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&(c="",o=cr(y[0],!1),a.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=cr(y[0],!1),c+=X_[y[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=cr(y[0],!1),c+=X_[y[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,y.index);break}else u=y.index+y[0].length;break;case"named-range":i=cr(y[0],!1),Y=zw(i["cell-range-address"]);var Ne={Name:i.name,Ref:Y[0]+"!"+Y[1]};ne&&(Ne.Sheet=g.length),re.Names.push(Ne);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(y[1]==="/"&&(!S||!S["string-value"])){var ge=Hoe(n.slice(B,y.index));N=(N.length>0?N+`
`:"")+ge[0]}else cr(y[0],!1),B=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{Y=zw(cr(y[0])["target-range-address"]),p[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(J=cr(y[0],!1),!J.href)break;J.Target=Gr(J.href),delete J.href,J.Target.charAt(0)=="#"&&J.Target.indexOf(".")>-1?(Y=zw(J.Target.slice(1)),J.Target="#"+Y[0]+"!"+Y[1]):J.Target.match(/^\.\.[\\\/]/)&&(J.Target=J.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(y)}}var te={Sheets:p,SheetNames:g,Workbook:re};return r.bookSheets&&delete te.Sheets,te}function Z_(e,t){t=t||{},lo(e,"META-INF/manifest.xml")&&mX(Fa(e,"META-INF/manifest.xml"),t);var r=Pi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=OU(gn(r),t);return lo(e,"meta.xml")&&(n.Props=k6(Fa(e,"meta.xml"))),n}function e3(e,t){return OU(e,t)}var Voe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+tp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ba+t}}(),t3=function(){var e=function(s){return un(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,i,o){var c=[];c.push('      <table:table table:name="'+un(i.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,f=0,h=xi(s["!ref"]||"A1"),p=s["!merges"]||[],g=0,b=Array.isArray(s);if(s["!cols"])for(f=0;f<=h.e.c;++f)c.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var y="",E=s["!rows"]||[];for(u=0;u<h.s.r;++u)y=E[u]?' table:style-name="ro'+E[u].ods+'"':"",c.push("        <table:table-row"+y+`></table:table-row>
`);for(;u<=h.e.r;++u){for(y=E[u]?' table:style-name="ro'+E[u].ods+'"':"",c.push("        <table:table-row"+y+`>
`),f=0;f<h.s.c;++f)c.push(t);for(;f<=h.e.c;++f){var S=!1,N={},B="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>f)&&!(p[g].s.r>u)&&!(p[g].e.c<f)&&!(p[g].e.r<u)){(p[g].s.c!=f||p[g].s.r!=u)&&(S=!0),N["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,N["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(S){c.push(r);continue}var _=sr({r:u,c:f}),k=b?(s[u]||[])[f]:s[_];if(k&&k.f&&(N["table:formula"]=un(cae(k.f)),k.F&&k.F.slice(0,_.length)==_)){var U=xi(k.F);N["table:number-matrix-columns-spanned"]=U.e.c-U.s.c+1,N["table:number-matrix-rows-spanned"]=U.e.r-U.s.r+1}if(!k){c.push(t);continue}switch(k.t){case"b":B=k.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=k.v?"true":"false";break;case"n":B=k.w||String(k.v||0),N["office:value-type"]="float",N["office:value"]=k.v||0;break;case"s":case"str":B=k.v==null?"":k.v,N["office:value-type"]="string";break;case"d":B=k.w||Ln(k.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=Ln(k.v).toISOString(),N["table:style-name"]="ce1";break;default:c.push(t);continue}var F=e(B);if(k.l&&k.l.Target){var L=k.l.Target;L=L.charAt(0)=="#"?"#"+Aae(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),F=bt("text:a",F,{"xlink:href":L.replace(/&/g,"&amp;")})}c.push("          "+bt("table:table-cell",bt("text:p",F,{}),N)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var h=u["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Bu(h),h.ods=o;var p=u["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++o}}});var c=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var h=u["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,o){var c=[ba],u=tp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=tp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(T6().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=i.SheetNames.length;++h)c.push(n(i.Sheets[i.SheetNames[h]],i,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function QU(e,t){if(t.bookType=="fods")return t3(e,t);var r=KC(),n="",a=[],s=[];return n="mimetype",yr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",yr(r,n,t3(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",yr(r,n,Voe(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",yr(r,n,ba+T6()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",yr(r,n,xX(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",yr(r,n,pX(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function zd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Fb(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):gn(Iu(e))}function Goe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Mi($l(e))}function zoe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function _u(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function r3(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Koe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function qoe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function cp(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ln(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function sa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Zr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=cp(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=cp(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function us(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(ln(n*8+a.type)),a.type==2&&t.push(ln(a.data.length)),t.push(a.data))})}),_u(t)}function v5(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function io(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=cp(e,n),s=Zr(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:sa(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=Zr(o.data),u=sa(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=sa(s[3][0].data)>>>0>0),r.push(i)}return r}function Kf(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:ln(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:ln(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:ln(i.data.length)}],n[2].push({data:us(i.meta),type:2})});var s=us(n);t.push(ln(s.length)),t.push(s),a.forEach(function(i){return t.push(i)})}),_u(t)}function Woe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=cp(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[_u(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var f=_u(a);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function oo(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Woe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return _u(t)}function qf(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=ln(n),i=s.length;t.push(s),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,r+=n}return _u(t)}function $oe(e,t,r,n){var a=zd(e),s=a.getUint32(4,!0),i=(n>1?12:8)+r3(s&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,f=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=r3(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(f.setTime(f.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(u))h={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function Yoe(e,t,r){var n=zd(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,c=NaN,u=NaN,f=new Date(2001,0,1);a&1&&(c=Koe(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(f.setTime(f.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[o]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(i>-1)h={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return h}function qw(e,t){var r=new Uint8Array(32),n=zd(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,qoe(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function Ww(e,t){var r=new Uint8Array(32),n=zd(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Joe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return $oe(e,t,r,e[0]);case 5:return Yoe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Fs(e){var t=Zr(e);return cp(t[1][0].data)}function n3(e,t){var r=Zr(t.data),n=sa(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=Zr(i.data),c=sa(o[1][0].data)>>>0;switch(n){case 1:s[c]=Fb(o[3][0].data);break;case 8:{var u=e[Fs(o[9][0].data)][0],f=Zr(u.data),h=e[Fs(f[1][0].data)][0],p=sa(h.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var g=Zr(h.data);s[c]=g[3].map(function(b){return Fb(b.data)}).join("")}break}}),s}function Xoe(e,t){var r,n,a,s,i,o,c,u,f,h,p,g,b,y,E=Zr(e),S=sa(E[1][0].data)>>>0,N=sa(E[2][0].data)>>>0,B=((n=(r=E[8])==null?void 0:r[0])==null?void 0:n.data)&&sa(E[8][0].data)>0||!1,_,k;if((s=(a=E[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(o=(i=E[7])==null?void 0:i[0])==null?void 0:o.data,k=(u=(c=E[6])==null?void 0:c[0])==null?void 0:u.data;else if((h=(f=E[4])==null?void 0:f[0])!=null&&h.data&&t!=1)_=(g=(p=E[4])==null?void 0:p[0])==null?void 0:g.data,k=(y=(b=E[3])==null?void 0:b[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var U=B?4:1,F=zd(_),L=[],D=0;D<_.length/2;++D){var W=F.getUint16(D*2,!0);W<65535&&L.push([D,W])}if(L.length!=N)throw"Expected ".concat(N," cells, found ").concat(L.length);var O=[];for(D=0;D<L.length-1;++D)O[L[D][0]]=k.subarray(L[D][1]*U,L[D+1][1]*U);return L.length>=1&&(O[L[L.length-1][0]]=k.subarray(L[L.length-1][1]*U)),{R:S,cells:O}}function Zoe(e,t){var r,n=Zr(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?sa(n[7][0].data)>>>0>0?1:0:-1,s=v5(n[5],function(i){return Xoe(i,a)});return{nrows:sa(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(c,u){if(i[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));i[o.R][u]=c}),i},[])}}function ele(e,t,r){var n,a=Zr(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(sa(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(sa(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=pr(s);var i=Zr(a[4][0].data),o=n3(e,e[Fs(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?n3(e,e[Fs(i[17][0].data)][0]):[],u=Zr(i[3][0].data),f=0;u[1].forEach(function(h){var p=Zr(h.data),g=e[Fs(p[2][0].data)][0],b=sa(g.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var y=Zoe(e,g);y.data.forEach(function(E,S){E.forEach(function(N,B){var _=sr({r:f+S,c:B}),k=Joe(N,o,c);k&&(r[_]=k)})}),f+=y.nrows})}function tle(e,t){var r=Zr(t.data),n={"!ref":"A1"},a=e[Fs(r[2][0].data)],s=sa(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return ele(e,a[0],n),n}function rle(e,t){var r,n=Zr(t.data),a={name:(r=n[1])!=null&&r[0]?Fb(n[1][0].data):"",sheets:[]},s=v5(n[2],Fs);return s.forEach(function(i){e[i].forEach(function(o){var c=sa(o.meta[1][0].data);c==6e3&&a.sheets.push(tle(e,o))})}),a}function nle(e,t){var r=S5(),n=Zr(t.data),a=v5(n[1],Fs);if(a.forEach(function(s){e[s].forEach(function(i){var o=sa(i.meta[1][0].data);if(o==2){var c=rle(e,i);c.sheets.forEach(function(u,f){B5(r,u,f==0?c.name:c.name+"_"+f,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function $w(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=oo(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var f;try{f=io(u)}catch(h){return console.log("## "+(h.message||h))}f.forEach(function(h){s[h.id]=h.messages,i.push(h.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&sa(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(c){s[c].forEach(function(u){var f=sa(u.meta[1][0].data)>>>0;if(f==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return nle(s,o)}function ale(e,t,r){var n,a,s,i;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((i=(s=e[8])==null?void 0:s[0])==null?void 0:i.data)&&sa(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=zd(e[7][0].data),f=0,h=[],p=zd(e[4][0].data),g=0,b=[],y=0;y<t.length;++y){if(t[y]==null){u.setUint16(y*2,65535,!0),p.setUint16(y*2,65535);continue}u.setUint16(y*2,f,!0),p.setUint16(y*2,g,!0);var E,S;switch(typeof t[y]){case"string":E=qw({t:"s",v:t[y]},r),S=Ww({t:"s",v:t[y]},r);break;case"number":E=qw({t:"n",v:t[y]},r),S=Ww({t:"n",v:t[y]},r);break;case"boolean":E=qw({t:"b",v:t[y]},r),S=Ww({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}h.push(E),f+=E.length,b.push(S),g+=S.length,++c}for(e[2][0].data=ln(c);y<e[7][0].data.length/2;++y)u.setUint16(y*2,65535,!0),p.setUint16(y*2,65535,!0);return e[6][0].data=_u(h),e[3][0].data=_u(b),c}function sle(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=xi(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(pr(n)));var s=R1(r,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(z){return z.forEach(function(q){typeof q=="string"&&i.push(q)})});var o={},c=[],u=Yt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(z,q){return[z,u.FullPaths[q]]}).forEach(function(z){var q=z[0],ee=z[1];if(q.type==2&&q.name.match(/\.iwa/)){var ne=q.content,le=oo(ne),ue=io(le);ue.forEach(function(he){c.push(he.id),o[he.id]={deps:[],location:ee,type:sa(he.messages[0].meta[1][0].data)}})}}),c.sort(function(z,q){return z-q});var f=c.filter(function(z){return z>1}).map(function(z){return[z,ln(z)]});u.FileIndex.map(function(z,q){return[z,u.FullPaths[q]]}).forEach(function(z){var q=z[0];if(z[1],!!q.name.match(/\.iwa/)){var ee=io(oo(q.content));ee.forEach(function(ne){ne.messages.forEach(function(le){f.forEach(function(ue){ne.messages.some(function(he){return sa(he.meta[1][0].data)!=11006&&zoe(he.data,ue[1])})&&o[ue[0]].deps.push(ne.id)})})})}});for(var h=Yt.find(u,o[1].location),p=io(oo(h.content)),g,b=0;b<p.length;++b){var y=p[b];y.id==1&&(g=y)}var E=Fs(Zr(g.messages[0].data)[1][0].data);for(h=Yt.find(u,o[E].location),p=io(oo(h.content)),b=0;b<p.length;++b)y=p[b],y.id==E&&(g=y);for(E=Fs(Zr(g.messages[0].data)[2][0].data),h=Yt.find(u,o[E].location),p=io(oo(h.content)),b=0;b<p.length;++b)y=p[b],y.id==E&&(g=y);for(E=Fs(Zr(g.messages[0].data)[2][0].data),h=Yt.find(u,o[E].location),p=io(oo(h.content)),b=0;b<p.length;++b)y=p[b],y.id==E&&(g=y);var S=Zr(g.messages[0].data);{S[6][0].data=ln(n.e.r+1),S[7][0].data=ln(n.e.c+1);var N=Fs(S[46][0].data),B=Yt.find(u,o[N].location),_=io(oo(B.content));{for(var k=0;k<_.length&&_[k].id!=N;++k);if(_[k].id!=N)throw"Bad ColumnRowUIDMapArchive";var U=Zr(_[k].messages[0].data);U[1]=[],U[2]=[],U[3]=[];for(var F=0;F<=n.e.c;++F){var L=[];L[1]=L[2]=[{type:0,data:ln(F+420690)}],U[1].push({type:2,data:us(L)}),U[2].push({type:0,data:ln(F)}),U[3].push({type:0,data:ln(F)})}U[4]=[],U[5]=[],U[6]=[];for(var D=0;D<=n.e.r;++D)L=[],L[1]=L[2]=[{type:0,data:ln(D+726270)}],U[4].push({type:2,data:us(L)}),U[5].push({type:0,data:ln(D)}),U[6].push({type:0,data:ln(D)});_[k].messages[0].data=us(U)}B.content=qf(Kf(_)),B.size=B.content.length,delete S[46];var W=Zr(S[4][0].data);{W[7][0].data=ln(n.e.r+1);var O=Zr(W[1][0].data),M=Fs(O[2][0].data);B=Yt.find(u,o[M].location),_=io(oo(B.content));{if(_[0].id!=M)throw"Bad HeaderStorageBucket";var K=Zr(_[0].messages[0].data);for(D=0;D<s.length;++D){var Q=Zr(K[2][0].data);Q[1][0].data=ln(D),Q[4][0].data=ln(s[D].length),K[2][D]={type:K[2][0].type,data:us(Q)}}_[0].messages[0].data=us(K)}B.content=qf(Kf(_)),B.size=B.content.length;var ae=Fs(W[2][0].data);B=Yt.find(u,o[ae].location),_=io(oo(B.content));{if(_[0].id!=ae)throw"Bad HeaderStorageBucket";for(K=Zr(_[0].messages[0].data),F=0;F<=n.e.c;++F)Q=Zr(K[2][0].data),Q[1][0].data=ln(F),Q[4][0].data=ln(n.e.r+1),K[2][F]={type:K[2][0].type,data:us(Q)};_[0].messages[0].data=us(K)}B.content=qf(Kf(_)),B.size=B.content.length;var V=Fs(W[4][0].data);(function(){for(var z=Yt.find(u,o[V].location),q=io(oo(z.content)),ee,ne=0;ne<q.length;++ne){var le=q[ne];le.id==V&&(ee=le)}var ue=Zr(ee.messages[0].data);{ue[3]=[];var he=[];i.forEach(function(te,Te){he[1]=[{type:0,data:ln(Te)}],he[2]=[{type:0,data:ln(1)}],he[3]=[{type:2,data:Goe(te)}],ue[3].push({type:2,data:us(he)})})}ee.messages[0].data=us(ue);var Ne=Kf(q),ge=qf(Ne);z.content=ge,z.size=z.content.length})();var G=Zr(W[3][0].data);{var re=G[1][0];delete G[2];var J=Zr(re.data);{var Y=Fs(J[2][0].data);(function(){for(var z=Yt.find(u,o[Y].location),q=io(oo(z.content)),ee,ne=0;ne<q.length;++ne){var le=q[ne];le.id==Y&&(ee=le)}var ue=Zr(ee.messages[0].data);{delete ue[6],delete G[7];var he=new Uint8Array(ue[5][0].data);ue[5]=[];for(var Ne=0,ge=0;ge<=n.e.r;++ge){var te=Zr(he);Ne+=ale(te,s[ge],i),te[1][0].data=ln(ge),ue[5].push({data:us(te),type:2})}ue[1]=[{type:0,data:ln(n.e.c+1)}],ue[2]=[{type:0,data:ln(n.e.r+1)}],ue[3]=[{type:0,data:ln(Ne)}],ue[4]=[{type:0,data:ln(n.e.r+1)}]}ee.messages[0].data=us(ue);var Te=Kf(q),qe=qf(Te);z.content=qe,z.size=z.content.length})()}re.data=us(J)}W[3][0].data=us(G)}S[4][0].data=us(W)}g.messages[0].data=us(S);var ce=Kf(p),R=qf(ce);return h.content=R,h.size=h.content.length,u}function HU(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function w5(e){HU([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function y5(e){HU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function ile(e){return Tr.WS.indexOf(e)>-1?"sheet":e==Tr.CS?"chart":e==Tr.DS?"dialog":e==Tr.MS?"macro":e&&e.length?e:"sheet"}function ole(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,ile(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function lle(e,t,r,n,a,s,i,o,c,u,f,h){try{s[n]=Rm(Pi(e,r,!0),t);var p=Fa(e,t),g;switch(o){case"sheet":g=kie(p,t,a,c,s[n],u,f,h);break;case"chart":if(g=Fie(p,t,a,c,s[n],u,f,h),!g||!g["!drawel"])break;var b=gm(g["!drawel"].Target,t),y=np(b),E=gre(Pi(e,b,!0),Rm(Pi(e,y,!0),b)),S=gm(E,b),N=np(S);g=aie(Pi(e,S,!0),S,c,Rm(Pi(e,N,!0),S),u,g);break;case"macro":g=Iie(p,t,a,c,s[n],u,f,h);break;case"dialog":g=Uie(p,t,a,c,s[n],u,f,h);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=g;var B=[];s&&s[n]&&ia(s[n]).forEach(function(_){var k="";if(s[n][_].Type==Tr.CMNT){k=gm(s[n][_].Target,t);var U=Mie(Fa(e,k,!0),k,c);if(!U||!U.length)return;H_(g,U,!1)}s[n][_].Type==Tr.TCMNT&&(k=gm(s[n][_].Target,t),B=B.concat(vre(Fa(e,k,!0),c)))}),B&&B.length&&H_(g,B,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function ao(e){return e.charAt(0)=="/"?e.slice(1):e}function cle(e,t){if(nh(),t=t||{},w5(t),lo(e,"META-INF/manifest.xml")||lo(e,"objectdata.xml"))return Z_(e,t);if(lo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof $w<"u"){if(e.FileIndex)return $w(e);var r=Yt.utils.cfb_new();return c_(e).forEach(function(Q){yr(r,Q,wJ(e,Q))}),$w(r)}throw new Error("Unsupported NUMBERS file")}if(!lo(e,"[Content_Types].xml"))throw lo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):lo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=c_(e),a=fX(Pi(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Fa(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Fa(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Mm=[],a.sst)try{Mm=Rie(Fa(e,ao(a.sst)),a.sst,t)}catch(Q){if(t.WTF)throw Q}t.cellStyles&&a.themes.length&&(c=Lie(Pi(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Die(Fa(e,ao(a.style)),a.style,c,t))}a.links.map(function(Q){try{var ae=Rm(Pi(e,np(ao(Q))),Q);return jie(Fa(e,ao(Q)),ae,Q,t)}catch{}});var f=Tie(Fa(e,ao(a.workbooks[0])),a.workbooks[0],t),h={},p="";a.coreprops.length&&(p=Fa(e,ao(a.coreprops[0]),!0),p&&(h=k6(p)),a.extprops.length!==0&&(p=Fa(e,ao(a.extprops[0]),!0),p&&wX(p,h,t)));var g={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(p=Pi(e,ao(a.custprops[0]),!0),p&&(g=bX(p,t)));var b={};if((t.bookSheets||t.bookProps)&&(f.Sheets?i=f.Sheets.map(function(ae){return ae.name}):h.Worksheets&&h.SheetNames.length>0&&(i=h.SheetNames),t.bookProps&&(b.Props=h,b.Custprops=g),t.bookSheets&&typeof i<"u"&&(b.SheetNames=i),t.bookSheets?b.SheetNames:t.bookProps))return b;i={};var y={};t.bookDeps&&a.calcchain&&(y=Pie(Fa(e,ao(a.calcchain)),a.calcchain));var E=0,S={},N,B;{var _=f.Sheets;h.Worksheets=_.length,h.SheetNames=[];for(var k=0;k!=_.length;++k)h.SheetNames[k]=_[k].name}var U=s?"bin":"xml",F=a.workbooks[0].lastIndexOf("/"),L=(a.workbooks[0].slice(0,F+1)+"_rels/"+a.workbooks[0].slice(F+1)+".rels").replace(/^\//,"");lo(e,L)||(L="xl/_rels/workbook."+U+".rels");var D=Rm(Pi(e,L,!0),L.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Oie(Fa(e,ao(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=yre(Fa(e,ao(a.people[0])),t)),D&&(D=ole(D,f.Sheets));var W=Fa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(E=0;E!=h.Worksheets;++E){var O="sheet";if(D&&D[E]?(N="xl/"+D[E][1].replace(/[\/]?xl\//,""),lo(e,N)||(N=D[E][1]),lo(e,N)||(N=L.replace(/_rels\/.*$/,"")+D[E][1]),O=D[E][2]):(N="xl/worksheets/sheet"+(E+1-W)+"."+U,N=N.replace(/sheet0\./,"sheet.")),B=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(E!=t.sheets)continue e;break;case"string":if(h.SheetNames[E].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var M=!1,K=0;K!=t.sheets.length;++K)typeof t.sheets[K]=="number"&&t.sheets[K]==E&&(M=1),typeof t.sheets[K]=="string"&&t.sheets[K].toLowerCase()==h.SheetNames[E].toLowerCase()&&(M=1);if(!M)continue e}}lle(e,N,B,h.SheetNames[E],E,S,i,O,t,f,c,u)}return b={Directory:a,Workbook:f,Props:h,Custprops:g,Deps:y,Sheets:i,SheetNames:h.SheetNames,Strings:Mm,Styles:u,Themes:c,SSF:Rn(rr)},t&&t.bookFiles&&(e.files?(b.keys=n,b.files=e.files):(b.keys=[],b.files={},e.FullPaths.forEach(function(Q,ae){Q=Q.replace(/^Root Entry[\/]/,""),b.keys.push(Q),b.files[Q]=e.FileIndex[ae]}))),t&&t.bookVBA&&(a.vba.length>0?b.vbaraw=Fa(e,ao(a.vba[0]),!0):a.defaults&&a.defaults.bin===Tre&&(b.vbaraw=Fa(e,"xl/vbaProject.bin",!0))),b}function Ale(e,t){var r=t||{},n="Workbook",a=Yt.find(e,n);try{if(n="/!DataSpaces/Version",a=Yt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Oee(a.content),n="/!DataSpaces/DataSpaceMap",a=Yt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Hee(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Yt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Vee(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Yt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);zee(a.content)}catch{}if(n="/EncryptionInfo",a=Yt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Kee(a.content);if(n="/EncryptedPackage",a=Yt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function ule(e,t){return t.bookType=="ods"?QU(e,t):t.bookType=="numbers"?sle(e,t):t.bookType=="xlsb"?dle(e,t):fle(e,t)}function dle(e,t){p0=1024,e&&!e.SSF&&(e.SSF=Rn(rr)),e&&e.SSF&&(nh(),wv(e.SSF),t.revssf=bv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Pm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=mU.indexOf(t.bookType)>-1,a=i5();y5(t=t||{});var s=KC(),i="",o=0;if(t.cellXfs=[],Du(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",yr(s,i,F6(e.Props,t)),a.coreprops.push(i),cn(t.rels,2,i,Tr.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,yr(s,i,D6(e.Props)),a.extprops.push(i),cn(t.rels,3,i,Tr.EXT_PROPS),e.Custprops!==e.Props&&ia(e.Custprops||{}).length>0&&(i="docProps/custom.xml",yr(s,i,L6(e.Custprops)),a.custprops.push(i),cn(t.rels,4,i,Tr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,yr(s,i,Hie(o-1,i,t,e,f)),a.sheets.push(i),cn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tr.WS[0])}if(h){var g=h["!comments"],b=!1,y="";g&&g.length>0&&(y="xl/comments"+o+"."+r,yr(s,y,zie(g,y)),a.comments.push(y),cn(f,-1,"../comments"+o+"."+r,Tr.CMNT),b=!0),h["!legacy"]&&b&&yr(s,"xl/drawings/vmlDrawing"+o+".vml",fU(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&yr(s,np(i),I0(f))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,yr(s,i,Gie(t.Strings,i,t)),a.strs.push(i),cn(t.wbrels,-1,"sharedStrings."+r,Tr.SST)),i="xl/workbook."+r,yr(s,i,Qie(e,i)),a.workbooks.push(i),cn(t.rels,1,i,Tr.WB),i="xl/theme/theme1.xml",yr(s,i,d5(e.Themes,t)),a.themes.push(i),cn(t.wbrels,-1,"theme/theme1.xml",Tr.THEME),i="xl/styles."+r,yr(s,i,Vie(e,i,t)),a.styles.push(i),cn(t.wbrels,-1,"styles."+r,Tr.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",yr(s,i,e.vbaraw),a.vba.push(i),cn(t.wbrels,-1,"vbaProject.bin",Tr.VBA)),i="xl/metadata."+r,yr(s,i,Kie(i)),a.metadata.push(i),cn(t.wbrels,-1,"metadata."+r,Tr.XLMETA),yr(s,"[Content_Types].xml",_6(a,t)),yr(s,"_rels/.rels",I0(t.rels)),yr(s,"xl/_rels/workbook."+r+".rels",I0(t.wbrels)),delete t.revssf,delete t.ssf,s}function fle(e,t){p0=1024,e&&!e.SSF&&(e.SSF=Rn(rr)),e&&e.SSF&&(nh(),wv(e.SSF),t.revssf=bv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Pm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=mU.indexOf(t.bookType)>-1,a=i5();y5(t=t||{});var s=KC(),i="",o=0;if(t.cellXfs=[],Du(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",yr(s,i,F6(e.Props,t)),a.coreprops.push(i),cn(t.rels,2,i,Tr.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,yr(s,i,D6(e.Props)),a.extprops.push(i),cn(t.rels,3,i,Tr.EXT_PROPS),e.Custprops!==e.Props&&ia(e.Custprops||{}).length>0&&(i="docProps/custom.xml",yr(s,i,L6(e.Custprops)),a.custprops.push(i),cn(t.rels,4,i,Tr.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,yr(s,i,BU(o-1,t,e,h)),a.sheets.push(i),cn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tr.WS[0])}if(p){var b=p["!comments"],y=!1,E="";if(b&&b.length>0){var S=!1;b.forEach(function(N){N[1].forEach(function(B){B.T==!0&&(S=!0)})}),S&&(E="xl/threadedComments/threadedComment"+o+"."+r,yr(s,E,wre(b,f,t)),a.threadedcomments.push(E),cn(h,-1,"../threadedComments/threadedComment"+o+"."+r,Tr.TCMNT)),E="xl/comments"+o+"."+r,yr(s,E,hU(b)),a.comments.push(E),cn(h,-1,"../comments"+o+"."+r,Tr.CMNT),y=!0}p["!legacy"]&&y&&yr(s,"xl/drawings/vmlDrawing"+o+".vml",fU(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&yr(s,np(i),I0(h))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,yr(s,i,tU(t.Strings,t)),a.strs.push(i),cn(t.wbrels,-1,"sharedStrings."+r,Tr.SST)),i="xl/workbook."+r,yr(s,i,FU(e)),a.workbooks.push(i),cn(t.rels,1,i,Tr.WB),i="xl/theme/theme1.xml",yr(s,i,d5(e.Themes,t)),a.themes.push(i),cn(t.wbrels,-1,"theme/theme1.xml",Tr.THEME),i="xl/styles."+r,yr(s,i,cU(e,t)),a.styles.push(i),cn(t.wbrels,-1,"styles."+r,Tr.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",yr(s,i,e.vbaraw),a.vba.push(i),cn(t.wbrels,-1,"vbaProject.bin",Tr.VBA)),i="xl/metadata."+r,yr(s,i,dU()),a.metadata.push(i),cn(t.wbrels,-1,"metadata."+r,Tr.XLMETA),f.length>1&&(i="xl/persons/person.xml",yr(s,i,bre(f)),a.people.push(i),cn(t.wbrels,-1,"persons/person.xml",Tr.PEOPLE)),yr(s,"[Content_Types].xml",_6(a,t)),yr(s,"_rels/.rels",I0(t.rels)),yr(s,"xl/_rels/workbook."+r+".rels",I0(t.wbrels)),delete t.revssf,delete t.ssf,s}function b5(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Qi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function hle(e,t){return Yt.find(e,"EncryptedPackage")?Ale(e,t):LU(e,t)}function mle(e,t){var r,n=e,a=t||{};return a.type||(a.type=Br&&Buffer.isBuffer(e)?"buffer":"base64"),r=n6(n,a),cle(r,a)}function VU(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Tb(e.slice(r),t);default:break e}return G0.to_workbook(e,t)}function ple(e,t){var r="",n=b5(e,t);switch(t.type){case"base64":r=Qi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Qd(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=gn(r)),t.type="binary",VU(r,t)}function gle(e,t){var r=e;return t.type=="base64"&&(r=Qi(r)),r=Jm.utils.decode(1200,r.slice(2),"str"),t.type="binary",VU(r,t)}function xle(e){return e.match(/[^\x00-\x7F]/)?$l(e):e}function Yw(e,t,r,n){return n?(r.type="string",G0.to_workbook(e,r)):G0.to_workbook(t,r)}function Ap(e,t){QC();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Ap(new Uint8Array(e),(r=Rn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),D0={},r.dateNF&&(D0.dateNF=r.dateNF),r.type||(r.type=Br&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Br?"buffer":"binary",n=dJ(e),typeof Uint8Array<"u"&&!Br&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=xle(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=Rn(r),r.type="array",Ap(HC(n),r)}switch((a=b5(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return hle(Yt.read(n,r),r);break;case 9:if(a[1]<=8)return LU(n,r);break;case 60:return Tb(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Cee(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Z6.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?mle(n,r):Yw(e,n,r,s);case 239:return a[3]===60?Tb(n,r):Yw(e,n,r,s);case 255:if(a[1]===254)return gle(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Ud.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Ud.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return _b.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return iU.to_workbook(n,r);break;case 10:case 13:case 32:return ple(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return bee.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?_b.to_workbook(n,r):Yw(e,n,r,s)}function GU(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return kp(t.file,Yt.write(e,{type:Br?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Yt.write(e,t)}function vle(e,t){var r=Rn(t||{}),n=ule(e,r);return wle(n,r)}function wle(e,t){var r={},n=Br?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Yt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(vv(a))}return t.password&&typeof encrypt_agile<"u"?GU(encrypt_agile(a,t.password),t):t.type==="file"?kp(t.file,a):t.type=="string"?gn(a):a}function yle(e,t){var r=t||{},n=xoe(e,r);return GU(n,r)}function zl(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Xm($l(n));case"binary":return $l(n);case"string":return e;case"file":return kp(t.file,n,"utf8");case"buffer":return Br?tA(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):zl(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ble(e,t){switch(t.type){case"base64":return Xm(e);case"binary":return e;case"string":return e;case"file":return kp(t.file,e,"binary");case"buffer":return Br?tA(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ox(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Xm(r):t.type=="string"?gn(r):r;case"file":return kp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function zU(e,t){QC(),hie(e);var r=Rn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=zU(e,r);return r.type="array",vv(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return zl(uoe(e,r),r);case"slk":case"sylk":return zl(X6.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return zl(MU(e.Sheets[e.SheetNames[a]],r),r);case"txt":return ble(KU(e.Sheets[e.SheetNames[a]],r),r);case"csv":return zl(E5(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return zl(Z6.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return ox(_b.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return zl(G0.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return zl(iU.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return zl(eU.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return zl(QU(e,r),r);case"wk1":return ox(Ud.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return ox(Ud.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ox(RU(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),yle(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return vle(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Cle(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function C5(e,t,r){var n={};return n.type="file",n.file=t,Cle(n),zU(e,n)}function Ele(e,t,r,n,a,s,i,o){var c=ya(r),u=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,p=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!i||e[r])for(var g=t.s.c;g<=t.e.c;++g){var b=i?e[r][g]:e[n[g]+c];if(b===void 0||b.t===void 0){if(u===void 0)continue;s[g]!=null&&(p[s[g]]=u);continue}var y=b.v;switch(b.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(s[g]!=null){if(y==null)if(b.t=="e"&&y===null)p[s[g]]=null;else if(u!==void 0)p[s[g]]=u;else if(f&&y===null)p[s[g]]=null;else continue;else p[s[g]]=f&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?y:$c(b,y,o);y!=null&&(h=!1)}}return{row:p,isempty:h}}function R1(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":c=zr(f);break;case"number":c=zr(e["!ref"]),c.s.r=f;break;default:c=f}n>0&&(a=0);var h=ya(c.s.r),p=[],g=[],b=0,y=0,E=Array.isArray(e),S=c.s.r,N=0,B={};E&&!e[S]&&(e[S]=[]);var _=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(N=c.s.c;N<=c.e.c;++N)if(!(_[N]||{}).hidden)switch(p[N]=$n(N),r=E?e[S][N]:e[p[N]+h],n){case 1:s[N]=N-c.s.c;break;case 2:s[N]=p[N];break;case 3:s[N]=u.header[N-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=$c(r,null,u),y=B[i]||0,!y)B[i]=1;else{do o=i+"_"+y++;while(B[o]);B[i]=y,B[o]=1}s[N]=o}for(S=c.s.r+a;S<=c.e.r;++S)if(!(k[S]||{}).hidden){var U=Ele(e,c,S,p,n,s,E,u);(U.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(g[b++]=U.row)}return g.length=b,g}var a3=/"/g;function Sle(e,t,r,n,a,s,i,o){for(var c=!0,u=[],f="",h=ya(r),p=t.s.c;p<=t.e.c;++p)if(n[p]){var g=o.dense?(e[r]||[])[p]:e[n[p]+h];if(g==null)f="";else if(g.v!=null){c=!1,f=""+(o.rawNumbers&&g.t=="n"?g.v:$c(g,null,o));for(var b=0,y=0;b!==f.length;++b)if((y=f.charCodeAt(b))===a||y===s||y===34||o.forceQuotes){f='"'+f.replace(a3,'""')+'"';break}f=="ID"&&(f='"ID"')}else g.f!=null&&!g.F?(c=!1,f="="+g.f,f.indexOf(",")>=0&&(f='"'+f.replace(a3,'""')+'"')):f="";u.push(f)}return o.blankrows===!1&&c?null:u.join(i)}function E5(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=zr(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),f="",h=[];n.dense=Array.isArray(e);for(var p=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(p[b]||{}).hidden||(h[b]=$n(b));for(var y=0,E=a.s.r;E<=a.e.r;++E)(g[E]||{}).hidden||(f=Sle(e,a,E,h,i,c,s,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((y++?o:"")+f)));return delete n.dense,r.join("")}function KU(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=E5(e,t);return r}function Ble(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=zr(e["!ref"]),s="",i=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=$n(o);for(var f=a.s.r;f<=a.e.r;++f)for(s=ya(f),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=u?(e[f]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function qU(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?Yn(n.origin):n.origin;i=c.r,o=c.c}var u,f={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var h=zr(s["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),i==-1&&(i=h.e.r+1,f.e.r=i+t.length-1+a)}else i==-1&&(i=0,f.e.r=t.length-1+a);var p=n.header||[],g=0;t.forEach(function(y,E){ia(y).forEach(function(S){(g=p.indexOf(S))==-1&&(p[g=p.length]=S);var N=y[S],B="z",_="",k=sr({c:o+g,r:i+E+a});u=up(s,k),N&&typeof N=="object"&&!(N instanceof Date)?s[k]=N:(typeof N=="number"?B="n":typeof N=="boolean"?B="b":typeof N=="string"?B="s":N instanceof Date?(B="d",n.cellDates||(B="n",N=Qa(N)),_=n.dateNF||rr[14]):N===null&&n.nullError&&(B="e",N=0),u?(u.t=B,u.v=N,delete u.w,delete u.R,_&&(u.z=_)):s[k]=u={t:B,v:N},_&&(u.z=_))})}),f.e.c=Math.max(f.e.c,o+p.length-1);var b=ya(i);if(a)for(g=0;g<p.length;++g)s[$n(g+o)+b]={t:"s",v:p[g]};return s["!ref"]=pr(f),s}function Nle(e,t){return qU(null,e,t)}function up(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Yn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?up(e,sr(t)):up(e,sr({r:t,c:r||0}))}function _le(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function S5(){return{SheetNames:[],Sheets:{}}}function B5(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(kU(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Tle(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=_le(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function kle(e,t){return e.z=t,e}function WU(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Fle(e,t,r){return WU(e,"#"+t,r)}function Ile(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Ule(e,t,r,n){for(var a=typeof t!="string"?t:zr(t),s=typeof t=="string"?t:pr(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var c=up(e,i,o);c.t="n",c.F=s,delete c.v,i==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var fo={encode_col:$n,encode_row:ya,encode_cell:sr,encode_range:pr,decode_col:e5,decode_row:ZC,split_cell:GJ,decode_cell:Yn,decode_range:xi,format_cell:$c,sheet_add_aoa:y6,sheet_add_json:qU,sheet_add_dom:PU,aoa_to_sheet:ah,json_to_sheet:Nle,table_to_sheet:jU,table_to_book:Ooe,sheet_to_csv:E5,sheet_to_txt:KU,sheet_to_json:R1,sheet_to_html:MU,sheet_to_formulae:Ble,sheet_to_row_object_array:R1,sheet_get_cell:up,book_new:S5,book_append_sheet:B5,book_set_sheet_visibility:Tle,cell_set_number_format:kle,cell_set_hyperlink:WU,cell_set_internal_link:Fle,cell_add_comment:Ile,sheet_set_array_formula:Ule,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Dle="apiCallLogs",s3=500,Wf=({title:e,value:t,description:r,alert:n})=>A.jsxs("div",{className:`p-5 rounded-xl border ${n?"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[A.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),A.jsx("p",{className:`text-3xl font-bold mt-2 ${n?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}`,children:t}),r&&A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r})]}),Jw=({title:e,data:t,colorClass:r})=>{const n=X.useMemo(()=>Math.max(...t.map(a=>a.value),1),[t]);return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md h-full",children:[A.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:e}),A.jsx("div",{className:"space-y-4",children:t.length>0?t.map(a=>A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[A.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:a.label}),A.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:a.value})]}),A.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:A.jsx("div",{className:`${r} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${a.value/n*100}%`}})})]},a.label)):A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-8",children:"No hay datos para mostrar."})})]})},Lle=()=>{const[e,t]=X.useState([]),r=X.useCallback(()=>{try{const i=localStorage.getItem(Dle);i&&t(JSON.parse(i))}catch(i){console.error("Error al cargar logs de la API:",i)}},[]);X.useEffect(()=>(r(),window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}),[r]);const{stats:n,userStats:a,moduleStats:s}=X.useMemo(()=>{const i=new Date,o=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),c=o-i.getDay()*24*60*60*1e3,u=new Date(i.getFullYear(),i.getMonth(),1).getTime(),f={today:0,week:0,month:0},h={},p={};e.forEach(y=>{const E=new Date(y.timestamp).getTime();E>=o&&f.today++,E>=c&&f.week++,E>=u&&f.month++,h[y.userId]||(h[y.userId]={email:y.userEmail,today:0,month:0,total:0}),h[y.userId].total++,E>=o&&h[y.userId].today++,E>=u&&h[y.userId].month++,p[y.module]=(p[y.module]||0)+1});const g=Object.values(h).sort((y,E)=>E.total-y.total),b=Object.entries(p).map(([y,E])=>({label:y,value:E})).sort((y,E)=>E.value-y.value);return{stats:f,userStats:g,moduleStats:b}},[e]);return A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Llamadas a la API de IA"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[A.jsx(Wf,{title:"Llamadas Hoy",value:n.today,description:`Límite recomendado: ${s3}`,alert:n.today>s3}),A.jsx(Wf,{title:"Llamadas esta Semana",value:n.week}),A.jsx(Wf,{title:"Llamadas este Mes",value:n.month})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[A.jsx(Jw,{title:"Uso por Módulo",data:s,colorClass:"bg-sky-500"}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl",children:[A.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Uso por Usuario"}),A.jsx("div",{className:"overflow-x-auto max-h-96",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Usuario"}),A.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Hoy"}),A.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Mes"}),A.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Total"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:a.length>0?a.map(i=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:i.email}),A.jsx("td",{className:"px-4 py-2 text-center text-sm",children:i.today}),A.jsx("td",{className:"px-4 py-2 text-center text-sm",children:i.month}),A.jsx("td",{className:"px-4 py-2 text-center text-sm font-bold",children:i.total})]},i.email)):A.jsx("tr",{children:A.jsx("td",{colSpan:4,className:"text-center py-6 text-slate-500",children:"No hay registros."})})})]})})]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Almacenamiento"}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Esta sección se conectará a Firebase en una futura actualización."}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 opacity-50",children:[A.jsx(Wf,{title:"Documentos Creados (Hoy)",value:"--"}),A.jsx(Wf,{title:"Lecturas de Firestore (Hoy)",value:"--"}),A.jsx(Wf,{title:"Espacio en Storage",value:"-- GB"})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8 opacity-50",children:[A.jsx(Jw,{title:"Actividad de Firestore (Últimos 7 días)",data:[],colorClass:"bg-green-500"}),A.jsx(Jw,{title:"Uso de Storage por tipo de archivo",data:[],colorClass:"bg-purple-500"})]})]})]})},i3="usuariosLiceo",o3=Object.values(Kt),Rle=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.629 5.629l-2.371 2.37-1.414-1.414 2.371-2.371A6 6 0 0115 7zm-3.707 5.293L6 17.586V20h2.414l5.293-5.293a1 1 0 00-1.414-1.414z"})}),l3=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},Mle=()=>{const[e,t]=X.useState([]),[r,n]=X.useState("Usuarios"),[a,s]=X.useState({nombreCompleto:"",email:"",rut:"",profile:Kt.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),[i,o]=X.useState(null),[c,u]=X.useState(""),[f,h]=X.useState(""),[p,g]=X.useState(""),[b,y]=X.useState(null),[E,S]=X.useState(null),[N,B]=X.useState(null);X.useEffect(()=>{try{const G=localStorage.getItem(i3);G&&t(JSON.parse(G))}catch(G){console.error("Error al cargar datos de localStorage",G),y("No se pudieron cargar los datos guardados.")}},[]);const _=G=>{t(G),localStorage.setItem(i3,JSON.stringify(G))},k=X.useCallback(G=>{const{name:re,value:J}=G.target;s(Y=>({...Y,[re]:J,curso:re==="profile"&&J!==Kt.ESTUDIANTE?"":Y.curso}))},[]),U=X.useCallback((G,re)=>{s(J=>{const Y=J[G]||[],ce=Y.includes(re)?Y.filter(R=>R!==re):[...Y,re];return{...J,[G]:ce}})},[]),F=X.useCallback(()=>{s({nombreCompleto:"",email:"",rut:"",profile:Kt.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),o(null),y(null)},[]),L=X.useCallback(G=>{var ue;G.preventDefault();const{nombreCompleto:re,email:J,profile:Y,curso:ce,cursos:R,asignaturas:z}=a;if(!re.trim()||!J.trim()){y("Nombre Completo y Email son obligatorios.");return}if(Y===Kt.ESTUDIANTE&&!ce){y('El campo "Curso" es obligatorio para el perfil de Estudiante.');return}const q=Y===Kt.ESTUDIANTE?l3(ce||""):void 0,ee=Y===Kt.PROFESORADO?R:void 0,ne=Y===Kt.PROFESORADO?z:void 0,le=(ue=a.password)!=null&&ue.trim()?a.password.trim():void 0;if(i){const he=e.find(te=>te.id===i),Ne={...he,...a,password:le||(he==null?void 0:he.password),curso:q,cursos:ee,asignaturas:ne},ge=e.map(te=>te.id===i?Ne:te);_(ge)}else{const he={id:crypto.randomUUID(),...a,password:le,curso:q,cursos:ee,asignaturas:ne};_([he,...e])}F()},[a,i,e,F]),D=X.useCallback(G=>{window.scrollTo({top:0,behavior:"smooth"}),o(G.id),s({nombreCompleto:G.nombreCompleto,email:G.email,rut:G.rut,profile:G.profile,password:"",curso:G.curso,cursos:G.cursos||[],asignaturas:G.asignaturas||[]})},[]),W=X.useCallback(G=>{window.confirm("¿Está seguro de que desea eliminar este usuario?")&&_(e.filter(re=>re.id!==G))},[e]),O=()=>{if(window.confirm(`ADVERTENCIA: Esta acción es irreversible.

¿Está seguro de que desea restablecer las contraseñas de TODOS los usuarios a la contraseña por defecto ('recoleta')?

Cualquier contraseña personalizada será eliminada.`)){const re=e.map(J=>{const{password:Y,...ce}=J;return ce});_(re),alert("Todas las contraseñas han sido restablecidas exitosamente a 'recoleta'.")}},M=X.useMemo(()=>Array.from(new Set(e.filter(G=>G.profile===Kt.ESTUDIANTE&&G.curso).map(G=>G.curso))).sort(),[e]),K=X.useMemo(()=>e.filter(G=>(c===""||G.nombreCompleto.toLowerCase().includes(c.toLowerCase())||G.email.toLowerCase().includes(c.toLowerCase()))&&(f===""||G.profile===f)&&(p===""||G.curso===p)),[e,c,f,p]),Q=G=>{var Y;const re=(Y=G.target.files)==null?void 0:Y[0];if(!re)return;S({message:"Procesando archivo de estudiantes...",isError:!1});const J=new FileReader;J.onload=ce=>{var R;try{const z=new Uint8Array((R=ce.target)==null?void 0:R.result),q=Ap(z,{type:"array"}),ee=q.SheetNames[0],ne=q.Sheets[ee],le=fo.sheet_to_json(ne);if(le.length===0)throw new Error("El archivo Excel está vacío.");const ue=Object.keys(le[0]).map(ge=>ge.trim().toLowerCase());if(!ue.includes("nombre")||!ue.includes("correo")||!ue.includes("curso"))throw new Error("El archivo debe tener las columnas: 'Nombre', 'Correo', y 'Curso'.");const he={};Object.keys(le[0]).forEach(ge=>{he[ge.trim().toLowerCase()]=ge});const Ne=le.map(ge=>{const te=ge[he.nombre],Te=ge[he.correo],qe=ge[he.curso];return!te||!Te||!qe?null:{id:crypto.randomUUID(),nombreCompleto:String(te).trim(),email:String(Te).trim(),profile:Kt.ESTUDIANTE,curso:l3(String(qe).trim())}}).filter(ge=>ge!==null&&!e.some(te=>te.email.toLowerCase()===ge.email.toLowerCase()));Ne.length>0&&_([...Ne,...e]),S({message:`Carga completada. Se agregaron ${Ne.length} nuevos estudiantes.`,isError:!1})}catch(z){S({message:`Error: ${z.message}`,isError:!0})}finally{G.target&&(G.target.value="")}},J.readAsArrayBuffer(re)},ae=G=>{var Y;const re=(Y=G.target.files)==null?void 0:Y[0];if(!re)return;B({message:"Procesando archivo de personal...",isError:!1});const J=new FileReader;J.onload=ce=>{var R;try{const z=new Uint8Array((R=ce.target)==null?void 0:R.result),q=Ap(z,{type:"array"}),ee=q.SheetNames[0],ne=q.Sheets[ee],le=fo.sheet_to_json(ne);if(le.length===0)throw new Error("El archivo Excel está vacío.");const ue=Object.keys(le[0]).map(qe=>qe.trim().toLowerCase());if(!ue.includes("nombre")||!ue.includes("correo")||!ue.includes("perfil"))throw new Error("El archivo debe tener las columnas: 'Nombre', 'Correo' y 'Perfil'.");const he={};Object.keys(le[0]).forEach(qe=>{he[qe.trim().toLowerCase()]=qe});const Ne=ue.includes("curso");let ge=0;const te=le.map(qe=>{const ke=qe[he.nombre],we=qe[he.correo],je=qe[he.perfil];if(!ke||!we||!je)return null;const $e=String(je).trim();return $e===Kt.ESTUDIANTE||!Object.values(Kt).includes($e)?(console.warn(`Perfil inválido o de estudiante omitido: ${$e}`),null):Ne&&qe[he.curso]?(console.warn(`Fila omitida: El perfil '${$e}' es para personal, pero se encontró una columna 'Curso' con datos. Use la carga de Estudiantes para este tipo de archivo.`),ge++,null):{id:crypto.randomUUID(),nombreCompleto:String(ke).trim(),email:String(we).trim(),profile:$e}}).filter(qe=>qe!==null&&!e.some(ke=>ke.email.toLowerCase()===qe.email.toLowerCase()));te.length>0&&_([...te,...e]);let Te=`Carga completada. Se agregaron ${te.length} nuevos miembros del personal.`;ge>0&&(Te+=` Se omitieron ${ge} filas porque parecían ser de estudiantes (contenían una columna 'Curso'). Por favor, use la opción 'Cargar Estudiantes' para ellas.`),B({message:Te,isError:!1})}catch(z){B({message:`Error: ${z.message}`,isError:!0})}finally{G.target&&(G.target.value="")}},J.readAsArrayBuffer(re)},V="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Administración"}),A.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:A.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[A.jsx("button",{onClick:()=>n("Usuarios"),className:`${r==="Usuarios"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Gestión de Usuarios"}),A.jsx("button",{onClick:()=>n("Monitor de Uso"),className:`${r==="Monitor de Uso"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Monitor de Uso"})]})}),r==="Usuarios"&&A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:i?"Editando usuario":"Agregar nuevo usuario"}),A.jsxs("form",{onSubmit:L,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),A.jsx("input",{type:"text",name:"nombreCompleto",value:a.nombreCompleto,onChange:k,className:V,required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),A.jsx("input",{type:"email",name:"email",value:a.email,onChange:k,className:V,required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contraseña"}),A.jsx("input",{type:"password",name:"password",value:a.password||"",onChange:k,placeholder:"Dejar en blanco para no cambiar",className:V})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT (Opcional)"}),A.jsx("input",{type:"text",name:"rut",value:a.rut||"",onChange:k,placeholder:"12.345.678-9",className:V})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Perfil de Usuario"}),A.jsx("select",{name:"profile",value:a.profile,onChange:k,className:V,required:!0,children:o3.map(G=>A.jsx("option",{value:G,children:G},G))})]}),a.profile===Kt.ESTUDIANTE&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),A.jsxs("select",{name:"curso",value:a.curso,onChange:k,className:V,required:!0,children:[A.jsx("option",{value:"",children:"Seleccione un curso"}),wa.map(G=>A.jsx("option",{value:G,children:G},G))]})]})]}),a.profile===Kt.PROFESORADO&&A.jsxs("div",{className:"lg:col-span-3 mt-6 pt-6 border-t dark:border-slate-700",children:[A.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-800 dark:text-slate-200",children:"Asignaciones de Profesor"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("fieldset",{className:"p-4 border rounded-lg dark:border-slate-600",children:[A.jsx("legend",{className:"font-semibold px-2 text-slate-700 dark:text-slate-300",children:"Cursos Asignados"}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-2 max-h-48 overflow-y-auto mt-2",children:wa.map(G=>A.jsxs("label",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"checkbox",checked:(a.cursos||[]).includes(G),onChange:()=>U("cursos",G),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300"}),A.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:G})]},G))})]}),A.jsxs("fieldset",{className:"p-4 border rounded-lg dark:border-slate-600",children:[A.jsx("legend",{className:"font-semibold px-2 text-slate-700 dark:text-slate-300",children:"Asignaturas Asignadas"}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 max-h-48 overflow-y-auto mt-2",children:Oi.map(G=>A.jsxs("label",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"checkbox",checked:(a.asignaturas||[]).includes(G),onChange:()=>U("asignaturas",G),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300"}),A.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 truncate",title:G,children:G})]},G))})]})]})]}),A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center col-span-full pt-2",children:['Nota: La contraseña por defecto para todos los usuarios es "',A.jsx("strong",{children:"recoleta"}),'".']}),b&&A.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:b}),A.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4",children:[i&&A.jsx("button",{type:"button",onClick:F,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:i?"Actualizar Usuario":"Agregar Usuario"})]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Cargas Masivas desde Excel"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[A.jsx("h3",{className:"font-semibold mb-2 text-slate-700 dark:text-slate-300",children:"Cargar Estudiantes"}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["El archivo debe tener las columnas: ",A.jsx("strong",{children:"Nombre"}),", ",A.jsx("strong",{children:"Correo"}),", ",A.jsx("strong",{children:"Curso"}),"."]}),A.jsx("input",{type:"file",onChange:Q,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sky-50 file:text-sky-700 hover:file:bg-sky-100"}),E&&A.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${E.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:E.message})]}),A.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[A.jsx("h3",{className:"font-semibold mb-2 text-slate-700 dark:text-slate-300",children:"Cargar Personal (Profesores, etc.)"}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["El archivo debe tener las columnas: ",A.jsx("strong",{children:"Nombre"}),", ",A.jsx("strong",{children:"Correo"}),", ",A.jsx("strong",{children:"Perfil"}),"."]}),A.jsx("input",{type:"file",onChange:ae,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"}),N&&A.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${N.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:N.message})]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Listado de Usuarios"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[A.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",value:c,onChange:G=>u(G.target.value),className:V}),A.jsxs("select",{value:f,onChange:G=>h(G.target.value),className:V,children:[A.jsx("option",{value:"",children:"Filtrar por Perfil"}),o3.map(G=>A.jsx("option",{value:G,children:G},G))]}),A.jsxs("select",{value:p,onChange:G=>g(G.target.value),className:V,children:[A.jsx("option",{value:"",children:"Filtrar por Curso"}),M.map(G=>A.jsx("option",{value:G,children:G},G))]})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Nombre Completo"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Email"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Perfil / Curso"}),A.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:K.map(G=>A.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:G.nombreCompleto}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:G.email}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:A.jsxs("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-sky-100 text-sky-800 dark:bg-sky-900/50 dark:text-sky-300",children:[G.profile," ",G.curso&&`(${G.curso})`]})}),A.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[A.jsx("button",{onClick:()=>D(G),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:"✏️"}),A.jsx("button",{onClick:()=>W(G.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:"🗑️"})]})]},G.id))})]})})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Gestión de Contraseñas Masivas"}),A.jsx("div",{className:"p-4 border-l-4 border-red-500 bg-red-50 dark:bg-red-900/20",children:A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:A.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),A.jsx("div",{className:"ml-3",children:A.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:"Esta acción restablecerá las contraseñas de TODOS los usuarios a la contraseña por defecto ('recoleta'). Úselo con precaución."})})]})}),A.jsx("div",{className:"mt-4",children:A.jsxs("button",{onClick:O,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 flex items-center gap-2",children:[A.jsx(Rle,{}),"Restablecer Todas las Contraseñas"]})})]})]}),r==="Monitor de Uso"&&A.jsx(Lle,{})]})},c3="seguimientoDualRecords",Ple={Vinculado:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300",Desvinculado:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Empresa:"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300"},jle=({record:e,onSave:t,onClose:r})=>{const[n,a]=X.useState(e),s="w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 dark:text-white",i=c=>{const{name:u,value:f,type:h,checked:p}=c.target;a(g=>({...g,[u]:h==="checkbox"?p:f}))},o=()=>{t(n)};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:r,children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl animate-fade-in-up",onClick:c=>c.stopPropagation(),children:[A.jsxs("div",{className:"p-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento de Supervisión"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:e.nombreEstudiante}),A.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-4 text-slate-700 dark:text-slate-300",children:[A.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[A.jsx("legend",{className:"font-semibold text-lg px-2",children:"1er Semestre"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{htmlFor:`f1s1-${e.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisión"}),A.jsx("input",{id:`f1s1-${e.id}`,type:"date",name:"fecha1raSupervision1erSemestre",value:n.fecha1raSupervision1erSemestre||"",onChange:i,className:s})]}),A.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[A.jsx("input",{type:"checkbox",name:"realizada1raSupervision1erSemestre",checked:!!n.realizada1raSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),A.jsx("span",{children:"Realizada"})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{htmlFor:`f2s1-${e.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisión"}),A.jsx("input",{id:`f2s1-${e.id}`,type:"date",name:"fecha2daSupervision1erSemestre",value:n.fecha2daSupervision1erSemestre||"",onChange:i,className:s})]}),A.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[A.jsx("input",{type:"checkbox",name:"realizada2daSupervision1erSemestre",checked:!!n.realizada2daSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),A.jsx("span",{children:"Realizada"})]})]})]}),A.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[A.jsx("legend",{className:"font-semibold text-lg px-2",children:"2do Semestre"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{htmlFor:`f1s2-${e.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisión"}),A.jsx("input",{id:`f1s2-${e.id}`,type:"date",name:"fecha1raSupervision2doSemestre",value:n.fecha1raSupervision2doSemestre||"",onChange:i,className:s})]}),A.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[A.jsx("input",{type:"checkbox",name:"realizada1raSupervision2doSemestre",checked:!!n.realizada1raSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),A.jsx("span",{children:"Realizada"})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{htmlFor:`f2s2-${e.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisión"}),A.jsx("input",{id:`f2s2-${e.id}`,type:"date",name:"fecha2daSupervision2doSemestre",value:n.fecha2daSupervision2doSemestre||"",onChange:i,className:s})]}),A.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[A.jsx("input",{type:"checkbox",name:"realizada2daSupervision2doSemestre",checked:!!n.realizada2daSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),A.jsx("span",{children:"Realizada"})]})]})]}),A.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[A.jsx("legend",{className:"font-semibold text-lg px-2",children:"Supervisión Excepcional"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{htmlFor:`fex-${e.id}`,className:"text-sm font-medium",children:"Fecha Supervisión"}),A.jsx("input",{id:`fex-${e.id}`,type:"date",name:"fechaSupervisionExcepcional",value:n.fechaSupervisionExcepcional||"",onChange:i,className:s})]}),A.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[A.jsx("input",{type:"checkbox",name:"realizadaSupervisionExcepcional",checked:!!n.realizadaSupervisionExcepcional,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),A.jsx("span",{children:"Realizada"})]})]})]}),A.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[A.jsx("legend",{className:"font-semibold text-lg px-2",children:"Maestro Guía (Empresa)"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:`mg-nombre-${e.id}`,className:"text-sm font-medium",children:"Nombre Maestro Guía"}),A.jsx("input",{id:`mg-nombre-${e.id}`,type:"text",name:"nombreMaestroGuia",value:n.nombreMaestroGuia||"",onChange:i,className:s+" mt-1"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:`mg-contacto-${e.id}`,className:"text-sm font-medium",children:"Contacto (Email/Teléfono)"}),A.jsx("input",{id:`mg-contacto-${e.id}`,type:"text",name:"contactoMaestroGuia",value:n.contactoMaestroGuia||"",onChange:i,className:s+" mt-1"})]})]})]})]})]}),A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:r,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cerrar"}),A.jsx("button",{type:"button",onClick:o,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},Ole=()=>{const[e,t]=X.useState([]),r=X.useMemo(()=>({nombreEstudiante:"",rutEstudiante:"",curso:Td[0],profesorTutorEmpresa:"",rutEmpresa:"",nombreEmpresa:"",direccionEmpresa:"",comuna:"",estado:pw[0],fechaDesvinculacion:"",motivoDesvinculacion:""}),[]),[n,a]=X.useState(r),[s,i]=X.useState(null),[o,c]=X.useState(""),[u,f]=X.useState({curso:"",empresa:"",estado:"",comuna:"",profesor:""}),[h,p]=X.useState(null),[g,b]=X.useState(null),[y,E]=X.useState(!1),[S,N]=X.useState(null);X.useEffect(()=>{try{const G=localStorage.getItem(c3);G&&t(JSON.parse(G))}catch(G){console.error("Error al cargar datos de localStorage",G)}},[]);const B=X.useCallback(G=>{t(G),localStorage.setItem(c3,JSON.stringify(G))},[]),_=X.useCallback(G=>{const{name:re,value:J}=G.target;a(Y=>({...Y,[re]:J}))},[]),k=X.useCallback(G=>{const{name:re,value:J}=G.target;f(Y=>({...Y,[re]:J}))},[]),U=X.useCallback(()=>{a(r),i(null),p(null)},[r]),F=X.useCallback(G=>{G.preventDefault();const J=["nombreEstudiante","rutEstudiante","nombreEmpresa"].find(ce=>!n[ce].trim());if(J){p(`El campo '${J}' es obligatorio.`);return}const Y=s?e.map(ce=>ce.id===s?{...ce,...n}:ce):[{...n,id:crypto.randomUUID()},...e];B(Y),U()},[n,s,e,B,U]),L=X.useCallback(G=>{window.scrollTo({top:0,behavior:"smooth"}),i(G.id),a(G)},[]),D=X.useCallback(G=>{window.confirm("¿Está seguro de que desea eliminar este registro?")&&B(e.filter(re=>re.id!==G))},[e,B]),W=G=>{N(G),E(!0)},O=()=>{N(null),E(!1)},M=G=>{const re=e.map(J=>J.id===G.id?G:J);B(re),O()},K=()=>{const G=["Nombre","RUT","Curso 2025","Profesor Tutor","1° Visita 1° Semestre","Realizada 1° Visita S1","2° Visita 1° Semestre","Realizada 2° Visita S1","Visita Emergencia 1° Semestre","3° Visita","Realizada 3° Visita S2","4° Visita","Realizada 4° Visita S2","Empresa","RUT-Empresa","Dirección","Comuna","Estado","Fecha de Desvinculación","Motivo Desvinculación","Maestro Guía","Correo maestro guía"],re=fo.aoa_to_sheet([G]),J=fo.book_new();fo.book_append_sheet(J,re,"Plantilla"),C5(J,"Plantilla_Seguimiento_Dual.xlsx")},Q=G=>{var Y;const re=(Y=G.target.files)==null?void 0:Y[0];if(!re)return;b({message:"Procesando archivo...",isError:!1});const J=new FileReader;J.onload=ce=>{var R;try{const z=new Uint8Array((R=ce.target)==null?void 0:R.result),q=Ap(z,{type:"array",cellDates:!0}),ee=q.SheetNames[0],ne=q.Sheets[ee],le=fo.sheet_to_json(ne);if(le.length===0)throw new Error("El archivo está vacío.");const ue={nombre:"nombreEstudiante",rut:"rutEstudiante","curso 2025":"curso","profesor tutor":"profesorTutorEmpresa","1° visita 1° semestre":"fecha1raSupervision1erSemestre","realizada 1° visita s1":"realizada1raSupervision1erSemestre","2° visita 1° semestre":"fecha2daSupervision1erSemestre","realizada 2° visita s1":"realizada2daSupervision1erSemestre","visita emergencia 1° semestre":"fechaSupervisionExcepcional","3° visita":"fecha1raSupervision2doSemestre","realizada 3° visita s2":"realizada1raSupervision2doSemestre","4° visita":"fecha2daSupervision2doSemestre","realizada 4° visita s2":"realizada2daSupervision2doSemestre",empresa:"nombreEmpresa","rut-empresa":"rutEmpresa",dirección:"direccionEmpresa",comuna:"comuna",estado:"estado","fecha de desvinculación":"fechaDesvinculacion","motivo desvinculación":"motivoDesvinculacion","maestro guía":"nombreMaestroGuia","correo maestro guía":"contactoMaestroGuia"},he=Object.keys(le[0]).map(Te=>Te.trim().toLowerCase()),ge=["nombre","rut","curso 2025","empresa","estado"].find(Te=>!he.includes(Te));if(ge)throw new Error(`Falta la columna requerida: '${ge}'`);const te=le.map(Te=>{const qe={id:crypto.randomUUID()};for(const ke in Te){const we=ue[ke.trim().toLowerCase()];if(we){let je=Te[ke];je instanceof Date&&(je=je.toISOString().split("T")[0]),typeof je=="boolean"||typeof je=="string"&&(je.toLowerCase()==="true"||je.toLowerCase()==="false")?qe[we]=String(je).toLowerCase()==="true":qe[we]=je}}return!qe.nombreEstudiante||!qe.rutEstudiante?null:qe}).filter(Boolean);te.length>0?(B([...te,...e]),b({message:`Carga exitosa. Se agregaron ${te.length} nuevos registros.`,isError:!1})):b({message:"No se encontraron nuevos registros válidos para agregar.",isError:!1})}catch(z){console.error(z),b({message:`Error al procesar el archivo: ${z.message}`,isError:!0})}},J.readAsArrayBuffer(re)},ae="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",V=X.useMemo(()=>e.filter(G=>(o===""||G.nombreEstudiante.toLowerCase().includes(o.toLowerCase())||G.nombreEmpresa.toLowerCase().includes(o.toLowerCase())||G.rutEstudiante.includes(o))&&(u.curso===""||G.curso===u.curso)&&(u.empresa===""||G.nombreEmpresa===u.empresa)&&(u.estado===""||G.estado===u.estado)&&(u.comuna===""||G.comuna===u.comuna)&&(u.profesor===""||G.profesorTutorEmpresa===u.profesor)).sort((G,re)=>G.nombreEstudiante.localeCompare(re.nombreEstudiante)),[e,o,u]);return X.useMemo(()=>{const G=new Set,re=new Set;return e.forEach(J=>{J.nombreEmpresa&&G.add(J.nombreEmpresa),J.comuna&&re.add(J.comuna)}),{empresas:Array.from(G).sort(),comunas:Array.from(re).sort()}},[e]),A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seguimiento de Práctica Dual"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:s?"Editando registro existente.":"Registre un nuevo estudiante en práctica."}),A.jsxs("form",{onSubmit:F,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Estudiante"}),A.jsx("input",{type:"text",name:"nombreEstudiante",value:n.nombreEstudiante,onChange:_,className:ae,required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Estudiante"}),A.jsx("input",{type:"text",name:"rutEstudiante",value:n.rutEstudiante,onChange:_,className:ae,required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),A.jsx("select",{name:"curso",value:n.curso,onChange:_,className:ae,required:!0,children:Td.map(G=>A.jsx("option",{value:G,children:G},G))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor Tutor"}),A.jsxs("select",{name:"profesorTutorEmpresa",value:n.profesorTutorEmpresa,onChange:_,className:ae,children:[A.jsx("option",{value:"",children:"Seleccione un profesor"}),Ky.map(G=>A.jsx("option",{value:G,children:G},G))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Empresa"}),A.jsx("input",{type:"text",name:"nombreEmpresa",value:n.nombreEmpresa,onChange:_,className:ae,required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Empresa"}),A.jsx("input",{type:"text",name:"rutEmpresa",value:n.rutEmpresa,onChange:_,className:ae})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Dirección Empresa"}),A.jsx("input",{type:"text",name:"direccionEmpresa",value:n.direccionEmpresa,onChange:_,className:ae})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Comuna"}),A.jsx("input",{type:"text",name:"comuna",value:n.comuna,onChange:_,className:ae})]}),A.jsxs("div",{className:"lg:col-span-4",children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estado"}),A.jsx("select",{name:"estado",value:n.estado,onChange:_,className:ae,children:pw.map(G=>A.jsx("option",{value:G,children:G},G))})]})]}),n.estado==="Desvinculado"&&A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border border-red-200 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Fecha de Desvinculación"}),A.jsx("input",{type:"date",name:"fechaDesvinculacion",value:n.fechaDesvinculacion||"",onChange:_,className:`${ae} border-red-300`})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Motivo de Desvinculación"}),A.jsx("input",{type:"text",name:"motivoDesvinculacion",value:n.motivoDesvinculacion||"",onChange:_,className:`${ae} border-red-300`})]})]}),h&&A.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:h}),A.jsxs("div",{className:"flex justify-end items-center gap-4",children:[s&&A.jsx("button",{type:"button",onClick:U,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Cancelar"}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:s?"Actualizar":"Agregar"})]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Carga Masiva"}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[A.jsx("button",{onClick:K,className:"bg-green-100 text-green-700 font-semibold py-2 px-4 rounded-lg hover:bg-green-200",children:"Descargar Plantilla Excel"}),A.jsx("input",{type:"file",onChange:Q,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]}),g&&A.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${g.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:g.message})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Registros de Estudiantes"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[A.jsx("input",{type:"text",placeholder:"Buscar por estudiante, empresa o RUT...",value:o,onChange:G=>c(G.target.value),className:`${ae} md:col-span-2 lg:col-span-1`}),A.jsxs("select",{name:"curso",value:u.curso,onChange:k,className:ae,children:[A.jsx("option",{value:"",children:"Todos los Cursos"}),Td.map(G=>A.jsx("option",{children:G},G))]}),A.jsxs("select",{name:"estado",value:u.estado,onChange:k,className:ae,children:[A.jsx("option",{value:"",children:"Todos los Estados"}),pw.map(G=>A.jsx("option",{children:G},G))]}),A.jsxs("select",{name:"profesor",value:u.profesor,onChange:k,className:ae,children:[A.jsx("option",{value:"",children:"Todos los Profesores"}),Ky.map(G=>A.jsx("option",{children:G},G))]})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estudiante"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Empresa"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Profesor Tutor"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estado"}),A.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Acciones"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:V.map(G=>A.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[A.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[A.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:G.nombreEstudiante}),A.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:G.curso})]}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:G.nombreEmpresa}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:G.profesorTutorEmpresa}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:A.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ple[G.estado]}`,children:G.estado})}),A.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm space-x-2",children:[A.jsx("button",{onClick:()=>W(G),className:"text-blue-600 hover:underline",children:"Supervisión"}),A.jsx("button",{onClick:()=>L(G),className:"text-yellow-600 hover:underline",children:"Editar"}),A.jsx("button",{onClick:()=>D(G.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},G.id))})]})})]}),y&&S&&A.jsx(jle,{record:S,onClose:O,onSave:M})]})},A3="actividadesRemotas",Qle="respuestasActividades",Hle="usuariosLiceo",Xw={Quiz:[5,10,15],"Términos Pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensión de Lectura":[1,2,3]},Vle=e=>new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=a=>r(a)}),Gle=()=>{const[e,t]=X.useState([]),[r,n]=X.useState([]),[a,s]=X.useState([]),[i,o]=X.useState(null),[c,u]=X.useState(!1),[f,h]=X.useState(!1),[p,g]=X.useState(null),[b,y]=X.useState(""),[E,S]=X.useState(null),[N,B]=X.useState([]),_={asignatura:Oi[0],nivel:h1[0],contenido:"",plazoEntrega:new Date().toISOString().split("T")[0],tipos:[],cantidadPreguntas:{},cursosDestino:[],estudiantesDestino:[],recursos:{instrucciones:"",enlaces:"",archivos:[]}},[k,U]=X.useState(_);X.useEffect(()=>{try{const ne=localStorage.getItem(A3);ne&&t(JSON.parse(ne));const le=localStorage.getItem(Qle);le&&n(JSON.parse(le));const ue=localStorage.getItem(Hle);ue&&s(JSON.parse(ue))}catch(ne){console.error("Error al cargar datos desde localStorage",ne)}},[]);const F=ne=>{U(le=>({...le,[ne.target.name]:ne.target.value}))},L=ne=>{U(le=>({...le,recursos:{...le.recursos,[ne.target.name]:ne.target.value}}))},D=ne=>{ne.target.files&&B(Array.from(ne.target.files))},W=ne=>{U(le=>{const ue=le.tipos.includes(ne)?le.tipos.filter(Ne=>Ne!==ne):[...le.tipos,ne],he={...le.cantidadPreguntas};return ue.includes(ne)?he[ne]||(he[ne]=Xw[ne][0]):delete he[ne],{...le,tipos:ue,cantidadPreguntas:he}})},O=(ne,le)=>{U(ue=>({...ue,cantidadPreguntas:{...ue.cantidadPreguntas,[ne]:le}}))},M=ne=>{U(le=>{var he;const ue=(he=le.cursosDestino)!=null&&he.includes(ne)?le.cursosDestino.filter(Ne=>Ne!==ne):[...le.cursosDestino||[],ne];return{...le,cursosDestino:ue}})},K=ne=>{U(le=>{var he;const ue=(he=le.estudiantesDestino)!=null&&he.includes(ne)?le.estudiantesDestino.filter(Ne=>Ne!==ne):[...le.estudiantesDestino||[],ne];return{...le,estudiantesDestino:ue}})},Q=ne=>{const le={Quiz:{type:xt.ARRAY,items:{type:xt.OBJECT,properties:{pregunta:{type:xt.STRING},opciones:{type:xt.ARRAY,items:{type:xt.STRING}},respuestaCorrecta:{type:xt.STRING}}}},"Comprensión de Lectura":{type:xt.OBJECT,properties:{texto:{type:xt.STRING},preguntas:{type:xt.ARRAY,items:{type:xt.OBJECT,properties:{pregunta:{type:xt.STRING},opciones:{type:xt.ARRAY,items:{type:xt.STRING}},respuestaCorrecta:{type:xt.STRING}}}}}},"Términos Pareados":{type:xt.ARRAY,items:{type:xt.OBJECT,properties:{id:{type:xt.STRING},concepto:{type:xt.STRING},definicion:{type:xt.STRING}}}},Desarrollo:{type:xt.ARRAY,items:{type:xt.OBJECT,properties:{pregunta:{type:xt.STRING},rubrica:{type:xt.STRING}}}}},ue={};return ne.forEach(he=>{ue[he]=le[he]}),{type:xt.OBJECT,properties:{introduccion:{type:xt.STRING,description:"Una breve introducción motivadora para el estudiante sobre el tema."},actividades:{type:xt.OBJECT,properties:ue,required:ne}},required:["introduccion","actividades"]}},ae=()=>{const{tipos:ne,contenido:le,asignatura:ue,nivel:he,cantidadPreguntas:Ne}=k;let ge=`Eres un experto diseñador de actividades pedagógicas. Genera un objeto JSON que se ajuste al esquema, sin texto adicional.

Contenido base: "${le}"
Asignatura: ${ue}
Nivel: ${he}

Genera los siguientes elementos:
- **introduccion**: Una breve introducción motivadora para el estudiante sobre el tema: "${le}".
- **actividades**: Un objeto que contiene las actividades. Cada actividad es una propiedad con su nombre como clave:
`;return ne.forEach(te=>{const Te=Ne[te]||Xw[te][0];switch(te){case"Quiz":ge+=`- **Quiz**: Genera un quiz de ${Te} preguntas de selección múltiple sobre el contenido. Cada una con 4 opciones.
`;break;case"Comprensión de Lectura":ge+=`- **Comprensión de Lectura**: Genera ${Te} actividad(es) de comprensión. Cada una con un texto de 150-200 palabras y 4 preguntas de selección múltiple.
`;break;case"Términos Pareados":ge+=`- **Términos Pareados**: Genera ${Te} pares de términos pareados (concepto y definición).
`;break;case"Desarrollo":ge+=`- **Desarrollo**: Genera ${Te} pregunta(s) de desarrollo con una rúbrica simple en texto.
`;break}}),ge},V=async ne=>{if(ne.preventDefault(),!k.contenido.trim()||k.tipos.length===0){g("Contenido y al menos un tipo de actividad son obligatorios.");return}h(!0),g(null);try{const le=await Promise.all(N.map(async qe=>({nombre:qe.name,url:await Vle(qe)})));gi("Actividades Remotas");const ue=new Oa({apiKey:void 0}),he=ae(),Ne=Q(k.tipos),ge=await ue.models.generateContent({model:"gemini-2.5-flash",contents:he,config:{responseMimeType:"application/json",responseSchema:Ne}}),te=JSON.parse(ge.text),Te={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),...k,recursos:{...k.recursos,archivos:le},introduccion:te.introduccion,generatedContent:te.actividades};S(Te)}catch(le){console.error("Error al generar actividad con IA",le),g("Error al generar la actividad. Por favor, revise el contenido e inténtelo de nuevo.")}finally{h(!1)}},G=()=>{if(!E)return;const ne=[E,...e];t(ne),localStorage.setItem(A3,JSON.stringify(ne)),U(_),B([]),u(!1),S(null),o(E)},re=X.useMemo(()=>{var ue,he;if(!i||!a)return[];const ne=a.filter(Ne=>{var ge;return Ne.profile===Kt.ESTUDIANTE&&((ge=i.cursosDestino)==null?void 0:ge.includes(Ne.curso||""))}).map(Ne=>Ne.nombreCompleto),le=i.estudiantesDestino||[];if(!((ue=i.cursosDestino)!=null&&ue.length)&&!((he=i.estudiantesDestino)!=null&&he.length)){const Ne=i.nivel.charAt(0);return a.filter(ge=>{var te;return ge.profile===Kt.ESTUDIANTE&&((te=ge.curso)==null?void 0:te.startsWith(Ne))}).map(ge=>ge.nombreCompleto).sort()}return Array.from(new Set([...ne,...le])).sort()},[i,a]),J=X.useMemo(()=>r.filter(ne=>ne.actividadId===(i==null?void 0:i.id)),[r,i]),Y=X.useMemo(()=>a.filter(ne=>ne.profile===Kt.ESTUDIANTE).sort((ne,le)=>ne.nombreCompleto.localeCompare(le.nombreCompleto)),[a]),ce=X.useMemo(()=>b.trim()?Y.filter(ne=>ne.nombreCompleto.toLowerCase().includes(b.toLowerCase())):Y,[Y,b]),R=()=>A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:[i==null?void 0:i.asignatura," - ",i==null?void 0:i.tipos.join(", ")]}),A.jsxs("p",{className:"text-slate-500",children:["Nivel: ",i==null?void 0:i.nivel," | Plazo: ",i==null?void 0:i.plazoEntrega]})]}),A.jsx("button",{onClick:()=>o(null),className:"text-slate-600 hover:text-slate-900 font-semibold",children:"← Volver al listado"})]}),A.jsxs("div",{className:"mt-6 border-t pt-6",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-4",children:"Resultados de Estudiantes"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[A.jsx("thead",{className:"bg-slate-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estudiante"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estado"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Puntaje"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha Completado"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:re.map(ne=>{const le=J.find(ue=>ue.estudianteId===ne);return A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800",children:ne}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:le?A.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-green-100 text-green-800",children:"Completado"}):A.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-yellow-100 text-yellow-800",children:"Pendiente"})}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:le?`${le.puntaje}/${le.puntajeMaximo}`:"-"}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:le?new Date(le.fechaCompletado).toLocaleString("es-CL"):"-"})]},ne)})})]})})]})]}),z=()=>{var ne,le;return A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Nueva Actividad Remota"}),A.jsx("button",{onClick:()=>u(!1),className:"text-slate-600 hover:text-slate-900 font-semibold",children:"← Volver al listado"})]}),A.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Complete el formulario y la IA generará una actividad interactiva para sus estudiantes."}),A.jsxs("form",{onSubmit:V,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asignatura"}),A.jsx("select",{name:"asignatura",value:k.asignatura,onChange:F,className:"w-full border-slate-300 rounded-md shadow-sm",children:Oi.map(ue=>A.jsx("option",{value:ue,children:ue},ue))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nivel"}),A.jsx("select",{name:"nivel",value:k.nivel,onChange:F,className:"w-full border-slate-300 rounded-md shadow-sm",children:h1.map(ue=>A.jsx("option",{value:ue,children:ue},ue))})]}),A.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50",children:[A.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Recursos de Aprendizaje (Opcional)"}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Instrucciones de estudio"}),A.jsx("textarea",{name:"instrucciones",value:(ne=k.recursos)==null?void 0:ne.instrucciones,onChange:L,placeholder:"Ej: Lee el siguiente texto y luego responde...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Enlaces (videos, documentos, etc.)"}),A.jsx("textarea",{name:"enlaces",value:(le=k.recursos)==null?void 0:le.enlaces,onChange:L,placeholder:"Pega un enlace por línea...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adjuntar archivos (PDF, imágenes, etc.)"}),A.jsx("input",{type:"file",multiple:!0,onChange:D,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]})]}),A.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50",children:[A.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Destinatarios"}),A.jsx("p",{className:"text-sm text-slate-500",children:"Seleccione cursos o estudiantes. Si no selecciona ninguno, la actividad será visible para todo el nivel."}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Cursos"}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:wa.map(ue=>{var he;return A.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:(he=k.cursosDestino)==null?void 0:he.includes(ue),onChange:()=>M(ue),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),A.jsx("span",{className:"text-sm font-medium text-slate-700",children:ue})]},ue)})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Estudiantes"}),A.jsx("input",{type:"text",placeholder:"Buscar...",value:b,onChange:ue=>y(ue.target.value),className:"w-full border-slate-300 rounded-md shadow-sm mb-2"}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-40 overflow-y-auto p-2 bg-white rounded",children:ce.map(ue=>{var he;return A.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:(he=k.estudiantesDestino)==null?void 0:he.includes(ue.nombreCompleto),onChange:()=>K(ue.nombreCompleto),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),A.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",title:ue.nombreCompleto,children:ue.nombreCompleto})]},ue.id)})})]})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Tipos de Actividad"}),A.jsx("div",{className:"space-y-3",children:uO.map(ue=>A.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300",children:[A.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:k.tipos.includes(ue),onChange:()=>W(ue),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),A.jsx("span",{className:"text-sm font-medium text-slate-700 flex-grow",children:ue})]}),k.tipos.includes(ue)&&A.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[A.jsx("span",{className:"text-xs text-slate-500",children:"Cantidad:"}),Xw[ue].map(he=>A.jsx("button",{type:"button",onClick:()=>O(ue,he),className:`px-3 py-1 rounded-full font-semibold text-xs ${k.cantidadPreguntas[ue]===he?"bg-amber-500 text-white":"bg-slate-200"}`,children:he},he))]})]},ue))})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsxs("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 mb-1",children:["Contenido ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("textarea",{name:"contenido",value:k.contenido,onChange:F,required:!0,rows:4,placeholder:"Ingrese los temas, conceptos clave o el texto base...",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"plazoEntrega",className:"block text-sm font-medium text-slate-600 mb-1",children:"Plazo de Entrega"}),A.jsx("input",{type:"date",name:"plazoEntrega",value:k.plazoEntrega,onChange:F,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]})]}),p&&A.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:p}),A.jsx("div",{className:"pt-4 text-right",children:A.jsx("button",{type:"submit",disabled:f,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:f?A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Generar y Previsualizar"})})]})]})},q=()=>{var ne;return A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Previsualización de la Actividad"}),A.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Revisa el contenido generado. Si todo está correcto, confirma para asignar la actividad."}),A.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-4 bg-slate-50 rounded-lg border",children:[A.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[A.jsx("h3",{className:"font-bold text-sky-800 mb-2",children:"Introducción para el Estudiante"}),A.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:E==null?void 0:E.introduccion})]}),(E==null?void 0:E.recursos)&&(E.recursos.instrucciones||E.recursos.enlaces||((ne=E.recursos.archivos)==null?void 0:ne.length))&&A.jsxs("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg",children:[A.jsx("h3",{className:"font-bold text-indigo-800 mb-2",children:"Recursos de Aprendizaje"}),A.jsxs("div",{className:"space-y-3",children:[E.recursos.instrucciones&&A.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:E.recursos.instrucciones}),E.recursos.enlaces&&A.jsx("div",{children:E.recursos.enlaces.split(`
`).map((le,ue)=>le.trim()&&A.jsx("a",{href:le,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-600 hover:underline truncate",children:le},ue))}),E.recursos.archivos&&E.recursos.archivos.length>0&&A.jsx("ul",{className:"list-disc list-inside",children:E.recursos.archivos.map(le=>A.jsx("li",{className:"text-slate-700",children:le.nombre},le.nombre))})]})]}),E==null?void 0:E.tipos.map(le=>{const ue=E.generatedContent[le];return ue?A.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:le}),A.jsxs("div",{className:"space-y-4 text-sm",children:[le==="Quiz"&&ue.map((he,Ne)=>A.jsxs("div",{children:[A.jsxs("p",{className:"font-semibold",children:[Ne+1,". ",he.pregunta]}),A.jsx("ul",{className:"list-disc pl-5 mt-1",children:he.opciones.map(ge=>A.jsx("li",{children:ge},ge))}),A.jsxs("p",{className:"text-xs text-green-600",children:["R: ",he.respuestaCorrecta]})]},Ne)),le==="Comprensión de Lectura"&&A.jsxs("div",{children:[A.jsx("p",{className:"whitespace-pre-wrap bg-slate-100 p-2 rounded",children:ue.texto}),ue.preguntas.map((he,Ne)=>A.jsxs("div",{className:"mt-2",children:[A.jsxs("p",{className:"font-semibold",children:[Ne+1,". ",he.pregunta]}),A.jsx("ul",{className:"list-disc pl-5 mt-1",children:he.opciones.map(ge=>A.jsx("li",{children:ge},ge))}),A.jsxs("p",{className:"text-xs text-green-600",children:["R: ",he.respuestaCorrecta]})]},Ne))]}),le==="Términos Pareados"&&A.jsx("ul",{className:"list-disc pl-5",children:ue.map(he=>A.jsxs("li",{children:[A.jsxs("strong",{children:[he.concepto,":"]})," ",he.definicion]},he.id))}),le==="Desarrollo"&&ue.map((he,Ne)=>A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:he.pregunta}),A.jsxs("p",{className:"text-xs italic mt-1",children:["Rúbrica: ",he.rubrica]})]},Ne))]})]},le):null})]}),A.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[A.jsx("button",{onClick:()=>S(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300",children:"Cancelar"}),A.jsx("button",{onClick:G,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"Confirmar y Asignar"})]})]})},ee=()=>A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Actividades Remotas"}),A.jsx("button",{onClick:()=>u(!0),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nueva"})]}),A.jsx("div",{className:"space-y-4",children:e.length>0?e.map(ne=>{var he,Ne;const le=[];(he=ne.cursosDestino)!=null&&he.length&&le.push(`Cursos: ${ne.cursosDestino.join(", ")}`),(Ne=ne.estudiantesDestino)!=null&&Ne.length&&le.push(`Estudiantes: ${ne.estudiantesDestino.length}`);const ue=le.length?le.join(" | "):`Todo ${ne.nivel}`;return A.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"font-bold text-slate-800",children:[ne.asignatura," - ",ne.tipos.join(", ")]}),A.jsxs("p",{className:"text-sm text-slate-500",children:["Destino: ",ue," | Creado: ",new Date(ne.fechaCreacion).toLocaleDateString("es-CL")]})]}),A.jsx("button",{onClick:()=>o(ne),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Resultados"})]})},ne.id)}):A.jsx("p",{className:"text-slate-500 text-center py-6",children:'No hay actividades creadas. Haga clic en "Crear Nueva" para comenzar.'})})]});return A.jsx("div",{className:"animate-fade-in",children:E?q():i?R():c?z():ee()})},zle="actividadesRemotas",Zw="respuestasActividades",Kle=e=>[...e].sort(()=>Math.random()-.5),qle=(e,t)=>{if(t===0)return"1.0";const n=t*.6;let a;return e>=n?a=4+(e-n)*3/(t-n):a=1+e*3/(n||1),a=Math.max(1,Math.min(7,a)),a.toFixed(1)},u3=()=>A.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Wle=({actividad:e,onComplete:t,currentUser:r})=>{var N,B,_,k;const[n,a]=X.useState({}),[s,i]=X.useState(!1),[o,c]=X.useState(!1),[u,f]=X.useState(!1),[h,p]=X.useState({}),g=`progress-${r.id}-${e.id}`;X.useEffect(()=>{const U={};e.tipos.forEach(F=>{if(F==="Términos Pareados"){const L=e.generatedContent[F];L&&(U[F]=Kle(L.map(D=>D.definicion)))}}),p(U);try{const F=localStorage.getItem(g);F&&a(JSON.parse(F))}catch(F){console.error("Could not load saved progress",F)}},[e,g]);const b=(U,F)=>{a(L=>({...L,[U]:F}))},y=()=>{c(!0),f(!1),setTimeout(()=>{try{localStorage.setItem(g,JSON.stringify(n)),f(!0),setTimeout(()=>f(!1),2e3)}catch(U){console.error("Could not save progress",U),alert("Error al guardar el progreso.")}finally{c(!1)}},500)},E=async()=>{i(!0);let U=0,F=0;const L=[],D={};for(const O of e.tipos){const M=e.generatedContent[O],K=n[O];if(O==="Quiz"||O==="Comprensión de Lectura"){const Q=O==="Quiz"?M:M.preguntas,ae=K||{};let V=0,G=0;Q.forEach((re,J)=>{G+=1,ae[J]===re.respuestaCorrecta&&(V+=1)}),U+=V,F+=G,L.push(`${O}: ${V}/${G} correctas.`),D[O]={puntaje:V,puntajeMaximo:G}}else if(O==="Términos Pareados"){const Q=M,ae=K||{};let V=0,G=0;Q.forEach(re=>{G+=2,ae[re.id]===re.definicion&&(V+=2)}),U+=V,F+=G,L.push(`${O}: ${V/2}/${Q.length} correctas.`),D[O]={puntaje:V,puntajeMaximo:G}}else if(O==="Desarrollo"){const Q=M,ae=K||{};let V=0,G=0;for(let re=0;re<Q.length;re++){const J=Q[re];G+=3;try{gi("Autoaprendizaje - Evaluar Desarrollo");const Y=new Oa({apiKey:void 0}),ce=`Evalúa la siguiente respuesta de un estudiante a la pregunta de desarrollo, basándote en la rúbrica proporcionada. Asigna un puntaje de 0 a 3. Pregunta: "${J.pregunta}". Rúbrica: "${J.rubrica}". Respuesta: "${ae[re]||""}". Proporciona también una frase corta de feedback.`,R={type:xt.OBJECT,properties:{puntaje:{type:xt.INTEGER,description:"Un puntaje de 0 a 3."},feedback:{type:xt.STRING}},required:["puntaje","feedback"]},z=await Y.models.generateContent({model:"gemini-2.5-flash",contents:ce,config:{responseMimeType:"application/json",responseSchema:R}}),q=JSON.parse(z.text),ee=Math.max(0,Math.min(3,q.puntaje||0));V+=ee,L.push(`${O} #${re+1}: Puntaje ${ee}/3. (${q.feedback})`)}catch(Y){console.error(Y),L.push(`${O} #${re+1}: No se pudo evaluar automáticamente.`)}}U+=V,F+=G,D[O]={puntaje:V,puntajeMaximo:G}}}let W=`¡Buen trabajo! Tu puntaje total es ${U} de ${F}.`;t({respuestas:n,puntaje:U,puntajeMaximo:F,retroalimentacion:W,calificacion:qle(U,F),puntajesPorSeccion:D}),localStorage.removeItem(g),i(!1)},S=e.recursos&&(e.recursos.instrucciones||e.recursos.enlaces||((N=e.recursos.archivos)==null?void 0:N.length));return A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"p-4 bg-sky-50 dark:bg-sky-900/30 border-l-4 border-sky-400 rounded-r-lg",children:[A.jsx("h2",{className:"text-xl font-bold text-sky-800 dark:text-sky-200 mb-2",children:"¡Hola!"}),A.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:e.introduccion})]}),S&&A.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 rounded-r-lg",children:[A.jsx("h2",{className:"text-xl font-bold text-indigo-800 dark:text-indigo-200 mb-3",children:"Material de Estudio"}),A.jsxs("div",{className:"space-y-4",children:[((B=e.recursos)==null?void 0:B.instrucciones)&&A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Instrucciones:"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-400 whitespace-pre-wrap",children:e.recursos.instrucciones})]}),((_=e.recursos)==null?void 0:_.enlaces)&&A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Enlaces:"}),e.recursos.enlaces.split(`
`).map((U,F)=>U.trim()&&A.jsx("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-500 hover:underline truncate",children:U},F))]}),((k=e.recursos)==null?void 0:k.archivos)&&e.recursos.archivos.length>0&&A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Archivos:"}),A.jsx("ul",{className:"list-disc list-inside",children:e.recursos.archivos.map((U,F)=>A.jsx("li",{children:A.jsx("a",{href:U.url,download:U.nombre,className:"text-blue-500 hover:underline",children:U.nombre})},F))})]})]})]}),e.tipos.map(U=>{const F=e.generatedContent[U];if(!F)return null;switch(U){case"Quiz":case"Comprensión de Lectura":{const L=U==="Quiz",D=F,W=L?D:D.preguntas;return A.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-slate-800",children:[A.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:U}),!L&&A.jsx("div",{className:"mb-4 whitespace-pre-wrap bg-slate-50 dark:bg-slate-700/50 p-3 rounded text-slate-700 dark:text-slate-300",children:D.texto}),A.jsx("div",{className:"space-y-6",children:W.map((O,M)=>A.jsxs("div",{children:[A.jsxs("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:[M+1,". ",O.pregunta]}),A.jsx("div",{className:"mt-2 space-y-2",children:O.opciones.map((K,Q)=>{var ae;return A.jsxs("label",{className:"flex items-center gap-3 p-3 rounded hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer text-slate-600 dark:text-slate-300",children:[A.jsx("input",{type:"radio",name:`q-${U}-${M}-${e.id}`,value:K,checked:((ae=n[U])==null?void 0:ae[M])===K,onChange:()=>b(U,{...n[U]||{},[M]:K}),className:"h-5 w-5 text-amber-500 focus:ring-amber-400"}),A.jsx("span",{children:K})]},Q)})})]},`${U}-${M}`))})]},U)}case"Términos Pareados":{const L=F,D=h[U]||[];return A.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-slate-800",children:[A.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:U}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("h4",{className:"font-semibold text-center text-slate-600 dark:text-slate-400",children:"Concepto"}),L.map(W=>A.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded h-14 flex items-center justify-center text-center font-medium text-slate-700 dark:text-slate-300",children:W.concepto},W.id))]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("h4",{className:"font-semibold text-center text-slate-600 dark:text-slate-400",children:"Definición"}),L.map(W=>{var O;return A.jsx("div",{className:"h-14 flex items-center",children:A.jsxs("select",{value:((O=n[U])==null?void 0:O[W.id])||"",onChange:M=>b(U,{...n[U]||{},[W.id]:M.target.value}),className:"w-full h-full border-slate-300 rounded-md shadow-sm text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-slate-300",children:[A.jsx("option",{value:"",children:"Seleccionar definición..."}),D.map((M,K)=>A.jsx("option",{value:M,children:M},K))]})},W.id)})]})]})]},U)}case"Desarrollo":{const L=F;return A.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-slate-800",children:[A.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:U}),L.map((D,W)=>{var O;return A.jsxs("div",{className:"mb-6",children:[A.jsx("p",{className:"font-semibold mb-2 text-slate-700 dark:text-slate-300",children:D.pregunta}),A.jsxs("p",{className:"text-sm italic text-slate-500 dark:text-slate-400 mb-4",children:[A.jsx("strong",{children:"Rúbrica:"})," ",D.rubrica]}),A.jsx("textarea",{value:((O=n[U])==null?void 0:O[W])||"",onChange:M=>b(U,{...n[U]||{},[W]:M.target.value}),rows:8,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-slate-300"})]},W)})]},U)}default:return null}}),A.jsxs("div",{className:"text-right mt-8 flex justify-end gap-4",children:[A.jsx("button",{onClick:y,disabled:s||o||u,className:"bg-sky-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-sky-700 disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center min-w-[200px] transition-colors duration-200",children:o?A.jsxs(A.Fragment,{children:[A.jsx(u3,{})," Guardando..."]}):u?"✓ Guardado":"Guardar Progreso"}),A.jsx("button",{onClick:E,disabled:s||o,className:"bg-slate-800 text-white font-bold py-3 px-8 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[200px]",children:s?A.jsxs(A.Fragment,{children:[A.jsx(u3,{})," Evaluando..."]}):"Entregar Actividad"})]})]})},$le=({currentUser:e})=>{const[t,r]=X.useState([]),[n,a]=X.useState([]),[s,i]=X.useState(null),[o,c]=X.useState("list"),[u,f]=X.useState(null),[h,p]=X.useState(null);X.useEffect(()=>{try{const E=localStorage.getItem(zle);if(E){const N=JSON.parse(E),B=e.curso||"",_=e.nombreCompleto,k=N.filter(U=>{var W,O,M,K;const F=!((W=U.cursosDestino)!=null&&W.length)&&!((O=U.estudiantesDestino)!=null&&O.length),L=((M=U.cursosDestino)==null?void 0:M.includes(B))??!1,D=((K=U.estudiantesDestino)==null?void 0:K.includes(_))??!1;if(L||D)return!0;if(F&&B){const Q=U.nivel.charAt(0),ae=B.charAt(0);return Q===ae}return!1});r(k)}const S=localStorage.getItem(Zw);if(S){const N=JSON.parse(S).filter(B=>B.estudianteId===e.nombreCompleto);a(N)}}catch(E){console.error("Error loading data",E)}},[e]);const g=E=>{p(E)},b=()=>{h&&(i(h),c("activity"),p(null))},y=X.useCallback(async E=>{if(!s)return;let S;const N=`
            Un estudiante ha completado una actividad sobre "${s.contenido}".
            Su puntaje total fue ${E.puntaje} de ${E.puntajeMaximo}.
            Detalle por sección: ${JSON.stringify(E.puntajesPorSeccion||{})}
            Respuestas de desarrollo: ${JSON.stringify(E.respuestas.Desarrollo||{})}
            
            Genera una retroalimentación detallada y constructiva en español. La respuesta DEBE ser un objeto JSON con la siguiente estructura:
            - "resumenGeneral": Un párrafo breve y motivador sobre el desempeño general.
            - "areasDeFortaleza": Un array de 2 o 3 strings destacando lo que hizo bien.
            - "areasDeMejora": Un array de 2 o 3 strings con áreas a mejorar.
            - "planDeMejora": Un array de 3 objetos, cada uno con "paso" (string, ej: "Repasar conceptos clave") y "detalle" (string, una sugerencia concreta).
            - "feedbackPorSeccion": Un objeto donde cada clave es el tipo de actividad (ej: "Quiz") y el valor es un string con feedback específico para esa sección.
        `;try{gi("Autoaprendizaje - Retroalimentación Detallada");const F=await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:N,config:{responseMimeType:"application/json"}});S=JSON.parse(F.text.trim().replace(/(\*\*|\*)/g,""))}catch(U){console.error("Error generating detailed feedback:",U)}const B={id:crypto.randomUUID(),actividadId:s.id,estudianteId:e.nombreCompleto,fechaCompletado:new Date().toISOString(),...E,retroalimentacionDetallada:S},_=JSON.parse(localStorage.getItem(Zw)||"[]"),k=[B,..._.filter(U=>!(U.actividadId===B.actividadId&&U.estudianteId===B.estudianteId))];localStorage.setItem(Zw,JSON.stringify(k)),a(U=>[B,...U.filter(F=>F.actividadId!==B.actividadId)]),f(B),c("result")},[s,e.nombreCompleto]);if(o==="activity"&&s)return A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsxs("h1",{className:"text-3xl font-bold text-slate-800",children:[s.asignatura,": ",s.tipos.join(", ")]}),A.jsxs("p",{className:"text-slate-500 mb-6",children:["Plazo: ",s.plazoEntrega]}),A.jsx(Wle,{actividad:s,onComplete:y,currentUser:e})]});if(o==="result"&&u){const E=u.retroalimentacionDetallada,S=u.puntajesPorSeccion||{},N=(B,_)=>{const k=_>0?B/_:0;return k<.4?"bg-red-100 text-red-800":k<.7?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"};return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Retroalimentación de la Actividad"}),E?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Retroalimentación General"}),A.jsx("p",{className:"text-slate-600 mb-6",children:E.resumenGeneral}),A.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-lg mb-6",children:[A.jsx("span",{className:"text-lg font-bold",children:"Puntaje Total:"}),A.jsxs("span",{className:`px-4 py-2 text-xl font-bold rounded-full ${N(u.puntaje,u.puntajeMaximo)}`,children:[u.puntaje," / ",u.puntajeMaximo]})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-green-600 mb-2",children:"✓ Áreas de Fortaleza"}),A.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-600",children:E.areasDeFortaleza.map((B,_)=>A.jsx("li",{children:B},_))})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-red-600 mb-2",children:"✗ Áreas de Mejora"}),A.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-600",children:E.areasDeMejora.map((B,_)=>A.jsx("li",{children:B},_))})]})]})]}),A.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Object.entries(S).map(([B,{puntaje:_,puntajeMaximo:k}])=>{var U;return A.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx("h3",{className:"text-xl font-bold",children:B}),A.jsxs("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${N(_,k)}`,children:[_," / ",k]})]}),A.jsx("p",{className:"text-slate-500 text-sm",children:(U=E.feedbackPorSeccion)==null?void 0:U[B]})]},B)})}),A.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Plan de Mejora Sugerido"}),A.jsx("div",{className:"space-y-4",children:E.planDeMejora.map((B,_)=>A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"bg-blue-500 text-white rounded-full h-8 w-8 flex-shrink-0 flex items-center justify-center font-bold mt-1",children:"✓"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold",children:B.paso}),A.jsx("p",{className:"text-slate-600 text-sm",children:B.detalle})]})]},_))})]})]}):A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md text-center",children:[A.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-4",children:"¡Actividad Completada!"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-sm mx-auto my-8",children:[A.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg",children:[A.jsx("p",{className:"text-sm text-slate-500",children:"Puntaje"}),A.jsxs("p",{className:"text-2xl font-bold",children:[u.puntaje," / ",u.puntajeMaximo]})]}),A.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg",children:[A.jsx("p",{className:"text-sm text-slate-500",children:"Calificación"}),A.jsx("p",{className:"text-2xl font-bold",children:u.calificacion})]})]}),A.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-left",children:[A.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:"Retroalimentación"}),A.jsx("p",{className:"text-blue-700 whitespace-pre-wrap",children:u.retroalimentacion})]})]}),A.jsx("button",{onClick:()=>{c("list"),f(null)},className:"w-full mt-4 bg-slate-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-slate-700",children:"Volver a Actividades"})]})}return A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[h&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full animate-fade-in-up",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Confirmar inicio de actividad"}),A.jsxs("p",{className:"mt-4 text-slate-600",children:["¿Estás seguro de que deseas comenzar esta actividad? ",A.jsx("strong",{children:"Tendrás solo una oportunidad para responder."})]}),A.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Sin embargo, puedes guardar tu progreso antes de enviarlo. Una vez enviado, no habrá una segunda oportunidad."}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx("button",{onClick:()=>p(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancelar"}),A.jsx("button",{onClick:b,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Sí, comenzar"})]})]})}),A.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Auto-aprendizaje"}),A.jsx("p",{className:"text-slate-500 mb-6",children:"Completa las actividades remotas asignadas por tus profesores."}),A.jsx("div",{className:"space-y-4",children:t.length>0?t.map(E=>{const S=n.find(B=>B.actividadId===E.id),N=!!S;return A.jsx("div",{className:`p-4 border rounded-lg ${N?"bg-green-50":"bg-slate-50"}`,children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"font-bold text-slate-800",children:[E.asignatura," - ",E.tipos.join(", ")]}),A.jsxs("p",{className:"text-sm text-slate-500",children:["Plazo: ",E.plazoEntrega]})]}),N?A.jsxs("div",{className:"text-right",children:[A.jsx("button",{onClick:()=>{f(S),c("result")},className:"font-semibold text-blue-700 hover:underline",children:"Ver Resultados"}),A.jsxs("p",{className:"text-sm text-slate-600",children:["Puntaje: ",S.puntaje,"/",S.puntajeMaximo]})]}):A.jsx("button",{onClick:()=>g(E),className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Comenzar"})]})},E.id)}):A.jsx("p",{className:"text-center text-slate-500 py-10",children:"No hay actividades disponibles en este momento."})})]})},d3="estudiantesInclusion",Yle="usuariosLiceo",Jle=({student:e,onClose:t,onSave:r,profesores:n})=>{const[a,s]=X.useState("intervenciones"),[i,o]=X.useState(e),[c,u]=X.useState(null),f={responsable:"",accion:"",observaciones:""},[h,p]=X.useState(f),[g,b]=X.useState({trimestre:"T1",meta:""}),[y,E]=X.useState({titulo:"",fecha:new Date().toISOString().split("T")[0]}),[S,N]=X.useState(null),[B,_]=X.useState(!1),k={motivo:"",acuerdos:"",asistentes:""},[U,F]=X.useState(k),L=()=>{r(i)},D=()=>{if(!h.responsable||!h.accion){alert("Responsable y Acción son campos obligatorios.");return}let ge;c?ge=(i.intervenciones||[]).map(Te=>Te.id===c.id?{...Te,...h}:Te):ge=[{id:crypto.randomUUID(),fecha:new Date().toISOString(),...h},...i.intervenciones||[]];const te=ge.sort((Te,qe)=>new Date(qe.fecha).getTime()-new Date(Te.fecha).getTime());o(Te=>({...Te,intervenciones:te})),p(f),u(null)},W=ge=>{u(ge),p({responsable:ge.responsable,accion:ge.accion,observaciones:ge.observaciones})},O=ge=>{window.confirm("¿Eliminar esta intervención?")&&o(te=>({...te,intervenciones:(te.intervenciones||[]).filter(Te=>Te.id!==ge)}))},M=ge=>{const{name:te,value:Te}=ge.target;o(qe=>({...qe,[te]:Te,fechaActualizacionApoyos:new Date().toISOString()}))},K=()=>{if(!g.meta.trim())return;const ge={...g,id:crypto.randomUUID(),cumplida:!1};o(te=>({...te,metasProgreso:[...te.metasProgreso||[],ge]})),b({trimestre:"T1",meta:""})},Q=ge=>{o(te=>({...te,metasProgreso:(te.metasProgreso||[]).map(Te=>Te.id===ge?{...Te,cumplida:!Te.cumplida}:Te)}))},ae=ge=>{o(te=>({...te,metasProgreso:(te.metasProgreso||[]).filter(Te=>Te.id!==ge)}))},V=X.useMemo(()=>{const ge=i.metasProgreso||[];if(ge.length===0)return{percent:0,color:"bg-slate-300"};const te=ge.filter(ke=>ke.cumplida).length,Te=Math.round(te/ge.length*100),qe=Te<40?"bg-red-500":Te<75?"bg-yellow-500":"bg-green-500";return{percent:Te,color:qe}},[i.metasProgreso]),G=X.useMemo(()=>{if(!i.fechaActualizacionApoyos)return!0;const ge=new Date(i.fechaActualizacionApoyos),te=new Date;return te.setMonth(te.getMonth()-3),ge<te},[i.fechaActualizacionApoyos]),re=()=>{if(!y.titulo.trim()||!y.fecha)return;const ge={...y,id:crypto.randomUUID(),resuelta:!1};o(te=>({...te,alertas:[...te.alertas||[],ge].sort((Te,qe)=>new Date(Te.fecha).getTime()-new Date(qe.fecha).getTime())})),E({titulo:"",fecha:new Date().toISOString().split("T")[0]})},J=ge=>{o(te=>({...te,alertas:(te.alertas||[]).map(Te=>Te.id===ge?{...Te,resuelta:!Te.resuelta}:Te)}))},Y=ge=>{o(te=>({...te,alertas:(te.alertas||[]).filter(Te=>Te.id!==ge)}))},ce=ge=>{ge.target.files&&ge.target.files[0]&&N(ge.target.files[0])},R=()=>{if(!S)return;_(!0);const ge=new FileReader;ge.readAsDataURL(S),ge.onloadend=()=>{const te={id:crypto.randomUUID(),nombre:S.name,url:ge.result,fechaSubida:new Date().toISOString()};o(Te=>({...Te,archivos:[te,...Te.archivos||[]]})),N(null),_(!1)},ge.onerror=()=>{alert("Error al leer el archivo."),_(!1)}},z=ge=>{window.confirm("¿Eliminar este archivo?")&&o(te=>({...te,archivos:(te.archivos||[]).filter(Te=>Te.id!==ge)}))},q=()=>{if(!U.motivo.trim()||!U.asistentes.trim()){alert("Motivo y asistentes son obligatorios.");return}const ge={...U,id:crypto.randomUUID(),fecha:new Date().toISOString()};o(te=>({...te,reuniones:[ge,...te.reuniones||[]].sort((Te,qe)=>new Date(qe.fecha).getTime()-new Date(Te.fecha).getTime())})),F(k)},ee=ge=>{window.confirm("¿Eliminar este registro de reunión?")&&o(te=>({...te,reuniones:(te.reuniones||[]).filter(Te=>Te.id!==ge)}))},ne=()=>{var et,dt,pt;const ge=new Wt("p","mm","a4"),te=20,Te=ge.internal.pageSize.getWidth(),qe=ge.internal.pageSize.getHeight();let ke=te;const we=st=>{st.setFontSize(10),st.setTextColor(100),st.text("Ficha de Seguimiento - Módulo Inclusión",te,15)};we(ge),ge.setFontSize(18),ge.setFont("helvetica","bold"),ge.setTextColor(40),ge.text(i.nombre,te,ke+10),ke+=15,ge.setFontSize(11),ge.setFont("helvetica","normal"),ge.setTextColor(80),ge.text(`Curso: ${i.curso}`,te,ke),ge.text(`Dificultad: ${i.dificultad}`,te,ke+6),ke+=15;const je=st=>{ke+st>qe-te&&(ge.addPage(),we(ge),ke=te)},$e=st=>{je(15),ge.setFontSize(14),ge.setFont("helvetica","bold"),ge.text(st,te,ke),ke+=10};if((et=i.intervenciones)!=null&&et.length&&($e("Historial de Intervenciones"),xo(ge,{startY:ke,head:[["Fecha","Responsable","Acción","Observaciones"]],body:i.intervenciones.map(st=>[new Date(st.fecha).toLocaleDateString("es-CL"),st.responsable,st.accion,st.observaciones]),theme:"grid",didDrawPage:st=>we(ge)}),ke=ge.lastAutoTable.finalY+10),i.adaptacionesCurriculares||i.apoyosRecibidos){je(30),$e("Seguimiento y Apoyos"),ge.setFontSize(11),ge.setFont("helvetica","normal");const st=`Adaptaciones: ${i.adaptacionesCurriculares||"No registradas."}
Apoyos: ${i.apoyosRecibidos||"No registrados."}`,yt=ge.splitTextToSize(st,Te-te*2);ge.text(yt,te,ke),ke+=yt.length*5+10}(dt=i.metasProgreso)!=null&&dt.length&&(je(30),$e("Metas de Progreso"),xo(ge,{startY:ke,head:[["Trimestre","Meta","Estado"]],body:i.metasProgreso.map(st=>[st.trimestre,st.meta,st.cumplida?"Cumplida":"Pendiente"]),theme:"grid",didDrawPage:st=>we(ge)}),ke=ge.lastAutoTable.finalY+10),(pt=i.reuniones)!=null&&pt.length&&($e("Reuniones con Apoderados"),xo(ge,{startY:ke,head:[["Fecha","Motivo","Acuerdos","Asistentes"]],body:i.reuniones.map(st=>[new Date(st.fecha).toLocaleDateString("es-CL"),st.motivo,st.acuerdos,st.asistentes]),theme:"grid",didDrawPage:st=>we(ge)})),ge.save(`Ficha_Inclusion_${i.nombre.replace(/\s/g,"_")}.pdf`)},le=()=>A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[A.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:c?"Editando Intervención":"Registrar Nueva Intervención"}),A.jsxs("select",{value:h.responsable,onChange:ge=>p(te=>({...te,responsable:ge.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{value:"",children:"Seleccione Responsable..."}),n.map(ge=>A.jsx("option",{value:ge,children:ge},ge))]}),A.jsx("textarea",{value:h.accion,onChange:ge=>p(te=>({...te,accion:ge.target.value})),placeholder:"Acción realizada...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsx("textarea",{value:h.observaciones,onChange:ge=>p(te=>({...te,observaciones:ge.target.value})),placeholder:"Observaciones adicionales...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsxs("div",{className:"flex justify-end gap-2",children:[c&&A.jsx("button",{onClick:()=>{u(null),p(f)},className:"text-sm bg-slate-200 dark:bg-slate-600 px-3 py-1 rounded-md",children:"Cancelar Edición"}),A.jsx("button",{onClick:D,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md",children:c?"Actualizar":"Guardar"})]})]}),A.jsx("div",{className:"space-y-3",children:(i.intervenciones||[]).map(ge=>A.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:ge.accion}),A.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:ge.observaciones}),A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[new Date(ge.fecha).toLocaleString("es-CL")," - ",ge.responsable]})]}),A.jsxs("div",{className:"flex-shrink-0 ml-4 flex gap-2",children:[A.jsx("button",{onClick:()=>W(ge),className:"text-blue-500",children:"✏️"}),A.jsx("button",{onClick:()=>O(ge.id),className:"text-red-500",children:"🗑️"})]})]})},ge.id))})]}),ue=()=>A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Adaptaciones y Apoyos"}),G&&A.jsx("span",{title:"Información no actualizada en los últimos 3 meses",className:"text-yellow-500 text-xl",children:"⚠️"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Adaptaciones Curriculares Implementadas"}),A.jsx("textarea",{name:"adaptacionesCurriculares",value:i.adaptacionesCurriculares||"",onChange:M,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Apoyos Recibidos (PIE, dupla, etc.)"}),A.jsx("textarea",{name:"apoyosRecibidos",value:i.apoyosRecibidos||"",onChange:M,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),A.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[A.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicadores de Progreso"}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Progreso Anual de Metas: ",V.percent,"%"]}),A.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4 dark:bg-slate-700",children:A.jsx("div",{className:`${V.color} h-4 rounded-full transition-all duration-500`,style:{width:`${V.percent}%`}})})]}),A.jsxs("div",{className:"flex gap-2 items-end pt-2",children:[A.jsxs("select",{value:g.trimestre,onChange:ge=>b(te=>({...te,trimestre:ge.target.value})),className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{value:"T1",children:"T1"}),A.jsx("option",{value:"T2",children:"T2"}),A.jsx("option",{value:"T3",children:"T3"})]}),A.jsx("input",{value:g.meta,onChange:ge=>b(te=>({...te,meta:ge.target.value})),placeholder:"Definir nueva meta trimestral...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsx("button",{onClick:K,className:"bg-slate-200 dark:bg-slate-600 px-3 py-2 rounded-md font-semibold text-sm",children:"Agregar"})]}),A.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(i.metasProgreso||[]).map(ge=>A.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[A.jsx("input",{type:"checkbox",checked:ge.cumplida,onChange:()=>Q(ge.id),className:"h-5 w-5 rounded text-amber-500"}),A.jsxs("span",{className:`flex-grow text-sm ${ge.cumplida?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[A.jsxs("strong",{children:[ge.trimestre,":"]})," ",ge.meta]}),A.jsx("button",{onClick:()=>ae(ge.id),className:"text-red-500 text-sm",children:"🗑️"})]},ge.id))})]})]}),he=()=>A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"space-y-4",children:[A.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Alertas y Recordatorios"}),A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[A.jsx("h5",{className:"font-medium",children:"Agendar Nueva Alerta"}),A.jsx("input",{type:"text",value:y.titulo,onChange:ge=>E(te=>({...te,titulo:ge.target.value})),placeholder:"Título de la alerta",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),A.jsx("input",{type:"date",value:y.fecha,onChange:ge=>E(te=>({...te,fecha:ge.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),A.jsx("button",{onClick:re,className:"w-full text-sm bg-amber-500 text-white font-semibold px-3 py-1.5 rounded-md",children:"Agendar"})]}),A.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(i.alertas||[]).map(ge=>A.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[A.jsx("input",{type:"checkbox",checked:ge.resuelta,onChange:()=>J(ge.id),className:"h-5 w-5 rounded text-amber-500"}),A.jsxs("span",{className:`flex-grow text-sm ${ge.resuelta?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[ge.titulo," (",new Date(ge.fecha+"T12:00:00").toLocaleDateString(),")"]}),A.jsx("button",{onClick:()=>Y(ge.id),className:"text-red-500 text-sm",children:"🗑️"})]},ge.id))})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Archivos Adjuntos"}),A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[A.jsx("h5",{className:"font-medium",children:"Subir Nuevo Archivo"}),A.jsx("input",{type:"file",onChange:ce,className:"w-full text-sm"}),A.jsx("button",{onClick:R,disabled:!S||B,className:"w-full text-sm bg-blue-500 text-white font-semibold px-3 py-1.5 rounded-md disabled:bg-slate-400",children:B?"Subiendo...":"Subir"})]}),A.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(i.archivos||[]).map(ge=>A.jsxs("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[A.jsx("a",{href:ge.url,download:ge.nombre,className:"text-sm text-blue-600 hover:underline truncate",children:ge.nombre}),A.jsx("button",{onClick:()=>z(ge.id),className:"text-red-500 text-sm ml-2",children:"🗑️"})]},ge.id))})]})]}),Ne=()=>A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[A.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Registrar Nueva Reunión"}),A.jsx("input",{value:U.motivo,onChange:ge=>F(te=>({...te,motivo:ge.target.value})),placeholder:"Motivo de la reunión...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsx("textarea",{value:U.acuerdos,onChange:ge=>F(te=>({...te,acuerdos:ge.target.value})),placeholder:"Acuerdos...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsx("input",{value:U.asistentes,onChange:ge=>F(te=>({...te,asistentes:ge.target.value})),placeholder:"Asistentes (separados por coma)...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsx("div",{className:"text-right",children:A.jsx("button",{onClick:q,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md",children:"Guardar Reunión"})})]}),A.jsx("div",{className:"space-y-3",children:(i.reuniones||[]).map(ge=>A.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:ge.motivo}),A.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[A.jsx("strong",{children:"Acuerdos:"})," ",ge.acuerdos]}),A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[new Date(ge.fecha).toLocaleString("es-CL")," - Asistentes: ",ge.asistentes]})]}),A.jsx("button",{onClick:()=>ee(ge.id),className:"text-red-500 flex-shrink-0 ml-4",children:"🗑️"})]})},ge.id))})]});return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:ge=>ge.stopPropagation(),children:[A.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Ficha de Seguimiento: ",e.nombre]}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.curso," - ",e.dificultad]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:ne,className:"text-sm bg-red-100 text-red-700 font-semibold px-3 py-1.5 rounded-md hover:bg-red-200",children:"Exportar PDF"}),A.jsx("button",{onClick:t,className:"text-2xl text-slate-500 hover:text-slate-800",children:"×"})]})]}),A.jsx("div",{className:"border-b dark:border-slate-700 px-4",children:A.jsx("nav",{className:"-mb-px flex space-x-6",children:["intervenciones","seguimiento","reuniones","alertas"].map(ge=>A.jsx("button",{onClick:()=>s(ge),className:`${a===ge?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm capitalize`,children:ge==="alertas"?"Alertas y Archivos":ge==="seguimiento"?"Seguimiento y Metas":ge},ge))})}),A.jsxs("div",{className:"p-6 overflow-y-auto flex-grow bg-slate-50 dark:bg-slate-900/50",children:[a==="intervenciones"&&le(),a==="seguimiento"&&ue(),a==="reuniones"&&Ne(),a==="alertas"&&he()]}),A.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[A.jsx("button",{onClick:t,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cerrar"}),A.jsx("button",{onClick:L,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},Xle=({student:e,onClose:t,onConfirm:r})=>{const[n,a]=X.useState(m1[0]),s=()=>{r(e,n)};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg p-6 animate-fade-in-up",onClick:i=>i.stopPropagation(),children:[A.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:["Agregar a ",e.nombreCompleto," al PIE"]}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Por favor, seleccione la dificultad de aprendizaje principal para este estudiante."}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"dificultad",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Dificultad de Aprendizaje"}),A.jsx("select",{id:"dificultad",value:n,onChange:i=>a(i.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:m1.map(i=>A.jsx("option",{value:i,children:i},i))})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Cancelar"}),A.jsx("button",{type:"button",onClick:s,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Confirmar e Ingresar"})]})]})})},f3=({currentUser:e})=>{const[t,r]=X.useState([]),[n,a]=X.useState([]),[s,i]=X.useState(null),[o,c]=X.useState(null),[u,f]=X.useState(""),[h,p]=X.useState(""),[g,b]=X.useState("");X.useEffect(()=>{try{const F=localStorage.getItem(d3);F&&r(JSON.parse(F));const L=localStorage.getItem(Yle);L&&a(JSON.parse(L))}catch(F){console.error("Error al cargar datos de Inclusión desde localStorage",F)}},[]);const y=X.useCallback(F=>{r(F),localStorage.setItem(d3,JSON.stringify(F))},[]),E=(F,L)=>{if(t.some(W=>W.nombre===F.nombreCompleto)){alert("Este estudiante ya está en el programa de inclusión.");return}const D={id:crypto.randomUUID(),nombre:F.nombreCompleto,curso:F.curso||"",dificultad:L,intervenciones:[],archivos:[],reuniones:[]};y([D,...t]),i(D)},S=F=>{y(t.map(L=>L.id===F.id?F:L)),i(F)},N=F=>{window.confirm("¿Está seguro de que desea eliminar a este estudiante del programa de inclusión?")&&(y(t.filter(L=>L.id!==F)),(s==null?void 0:s.id)===F&&i(null))},B=F=>{const L=k.map(D=>({Nombre:D.nombre,Curso:D.curso,Dificultad:D.dificultad,"N° Intervenciones":D.intervenciones.length,"Alertas Pendientes":(D.alertas||[]).filter(W=>!W.resuelta).length}));if(F==="xlsx"){const D=fo.json_to_sheet(L),W=fo.book_new();fo.book_append_sheet(W,D,"Estudiantes_Inclusion"),C5(W,"Estudiantes_Inclusion.xlsx")}else{const D=new Wt;D.text("Listado de Estudiantes - Programa de Inclusión",14,15),xo(D,{startY:20,head:[Object.keys(L[0])],body:L.map(Object.values)}),D.save("Estudiantes_Inclusion.pdf")}},_=X.useMemo(()=>n.filter(F=>{var L;return F.profile===Kt.ESTUDIANTE&&(((L=e.cursos)==null?void 0:L.includes(F.curso||""))||e.profile===Kt.SUBDIRECCION)}).filter(F=>!t.some(L=>L.nombre===F.nombreCompleto)),[n,t,e]),k=X.useMemo(()=>t.filter(F=>F.nombre.toLowerCase().includes(u.toLowerCase())&&(h===""||F.curso===h)&&(g===""||F.dificultad===g)).sort((F,L)=>F.nombre.localeCompare(L.nombre)),[t,u,h,g]),U=X.useMemo(()=>n.filter(F=>F.profile===Kt.PROFESORADO).map(F=>F.nombreCompleto).sort(),[n]);return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Programa de Inclusión Escolar (PIE)"}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Estudiantes en PIE"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>B("xlsx"),className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg",children:"Excel"}),A.jsx("button",{onClick:()=>B("pdf"),className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg",children:"PDF"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[A.jsx("input",{type:"text",placeholder:"Buscar por nombre...",value:u,onChange:F=>f(F.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsxs("select",{value:h,onChange:F=>p(F.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{value:"",children:"Todos los Cursos"}),wa.map(F=>A.jsx("option",{children:F},F))]}),A.jsxs("select",{value:g,onChange:F=>b(F.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{value:"",children:"Todas las Dificultades"}),m1.map(F=>A.jsx("option",{children:F},F))]})]}),A.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:k.map(F=>A.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700 flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:F.nombre}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[F.curso," - ",F.dificultad]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>i(F),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Ficha"}),A.jsx("button",{onClick:()=>N(F.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full text-lg",children:"🗑️"})]})]},F.id))})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Agregar Estudiante desde Nómina"}),A.jsx("ul",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:_.map(F=>A.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-200",children:F.nombreCompleto}),A.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:F.curso})]}),A.jsx("button",{onClick:()=>c(F),className:"text-2xl text-green-500 hover:text-green-700",children:"+"})]},F.id))})]})]}),o&&A.jsx(Xle,{student:o,onClose:()=>c(null),onConfirm:(F,L)=>{E(F,L),c(null)}}),s&&A.jsx(Jle,{student:s,onClose:()=>i(null),onSave:S,profesores:U})]})},h3="asistenciaDualRecords",Zle=({currentUser:e})=>{const[t,r]=X.useState(e.curso||""),[n,a]=X.useState([]),[s,i]=X.useState(!1),[o,c]=X.useState(null),u=`asistenciaPersonalDual-${e.id}`;X.useEffect(()=>{try{const p=localStorage.getItem(u);p&&a(JSON.parse(p))}catch(p){console.error("Error al cargar historial de asistencia",p),c({text:"No se pudo cargar el historial local.",type:"error"})}},[u]);const f=p=>{const g=[p,...n];a(g),localStorage.setItem(u,JSON.stringify(g));try{const b=localStorage.getItem(h3),y=b?JSON.parse(b):[],E=[p,...y];localStorage.setItem(h3,JSON.stringify(E))}catch(b){console.error("Error al guardar en el historial compartido",b),c({text:"Se registró su asistencia, pero hubo un problema al notificar a coordinación.",type:"error"})}},h=p=>{if(!t){c({text:"Por favor, seleccione su curso antes de marcar.",type:"error"});return}i(!0),c(null),navigator.geolocation.getCurrentPosition(g=>{const b={id:crypto.randomUUID(),nombreEstudiante:e.nombreCompleto,emailEstudiante:e.email,curso:t,tipo:p,fechaHora:new Date().toISOString(),ubicacion:{latitud:g.coords.latitude,longitud:g.coords.longitude}};f(b),i(!1),c({text:`¡Marca de ${p} registrada con éxito!`,type:"success"})},g=>{console.error("Geolocation error:",g);let b="No se pudo obtener la ubicación.";switch(g.code){case g.PERMISSION_DENIED:b="Permiso de ubicación denegado. Por favor, habilite la ubicación en su navegador y dispositivo.";break;case g.POSITION_UNAVAILABLE:b="La información de ubicación no está disponible en este momento. Verifique su conexión y GPS.";break;case g.TIMEOUT:b="La solicitud de ubicación ha tardado demasiado. Inténtelo de nuevo en un lugar con mejor señal.";break;default:b=`Ocurrió un error desconocido al obtener la ubicación (código: ${g.code}).`;break}c({text:b,type:"error"}),i(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Asistencia a Empresa"}),A.jsx("p",{className:"text-slate-500 mb-6",children:"Registre su entrada y salida de la empresa de práctica."}),A.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 mb-1",children:"Seleccione su curso"}),A.jsxs("select",{id:"curso",value:t,onChange:p=>r(p.target.value),className:"w-full border-slate-300 rounded-md shadow-sm text-lg p-2",children:[A.jsx("option",{value:"",children:"-- Mi curso --"}),Td.map(p=>A.jsx("option",{value:p,children:p},p))]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[A.jsx("button",{onClick:()=>h("Entrada"),disabled:s||!t,className:"bg-green-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-green-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Entrada"}),A.jsx("button",{onClick:()=>h("Salida"),disabled:s||!t,className:"bg-red-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-red-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Salida"})]}),s&&A.jsxs("div",{className:"text-center text-slate-600 pt-4 flex items-center justify-center gap-2",children:[A.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.jsx("span",{children:"Obteniendo ubicación..."})]}),o&&A.jsx("div",{className:`text-center p-3 rounded-md mt-4 ${o.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.text})]})]}),A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mi Historial de Asistencia"}),A.jsx("div",{className:"overflow-x-auto max-h-96",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[A.jsx("thead",{className:"bg-slate-50 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Fecha y Hora"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Tipo"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Curso"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:n.length>0?n.map(p=>A.jsxs("tr",{className:"hover:bg-slate-50",children:[A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:new Date(p.fechaHora).toLocaleString("es-CL")}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:A.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${p.tipo==="Entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.tipo})}),A.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:p.curso})]},p.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500",children:"No tienes marcas de asistencia registradas."})})})]})})]})]})},ece="asistenciaDualRecords",tce="usuariosLiceo",lx=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},rce=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"})}),nce=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd",transform:"rotate(180 10 10)"})}),ace=()=>{const[e,t]=X.useState([]),[r,n]=X.useState([]),[a,s]=X.useState(new Date),[i,o]=X.useState("todos"),[c,u]=X.useState("");X.useEffect(()=>{const S=()=>{const N=localStorage.getItem(ece);N&&t(JSON.parse(N));const B=localStorage.getItem(tce);B&&n(JSON.parse(B))};return S(),window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[]);const{monthDays:f,monthName:h,year:p}=X.useMemo(()=>{const S=a.getFullYear(),N=a.getMonth();return{monthDays:new Date(S,N+1,0).getDate(),monthName:a.toLocaleString("es-CL",{month:"long"}),year:S}},[a]),g=X.useMemo(()=>{let S=r.filter(N=>N.profile===Kt.ESTUDIANTE&&N.curso&&Td.includes(lx(N.curso)));return i!=="todos"&&(S=S.filter(N=>lx(N.curso||"")===i)),c&&(S=S.filter(N=>N.nombreCompleto.toLowerCase().includes(c.toLowerCase()))),S.sort((N,B)=>N.nombreCompleto.localeCompare(B.nombreCompleto))},[r,i,c]),b=X.useMemo(()=>{const S=new Map,N=a.getMonth(),B=a.getFullYear();return e.filter(k=>{const U=new Date(k.fechaHora);return U.getMonth()!==N||U.getFullYear()!==B?!1:i==="todos"?Td.includes(lx(k.curso||"")):lx(k.curso||"")===i}).forEach(k=>{const U=new Date(k.fechaHora).getDate();S.has(k.nombreEstudiante)||S.set(k.nombreEstudiante,new Map);const F=S.get(k.nombreEstudiante);F.has(U)||F.set(U,{});const L=F.get(U);k.tipo==="Entrada"?(!L.entrada||new Date(k.fechaHora)<new Date(L.entrada.fechaHora))&&(L.entrada=k):k.tipo==="Salida"&&(!L.salida||new Date(k.fechaHora)>new Date(L.salida.fechaHora))&&(L.salida=k)}),S},[e,a,i]),y=S=>{s(N=>{const B=new Date(N);return B.setMonth(B.getMonth()+S),B})},E=["D","L","M","M","J","V","S"];return A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Asistencia Dual Mensual"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700",children:[A.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[A.jsx("button",{onClick:()=>y(-1),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600",children:"<"}),A.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize w-48 text-center",children:`${h} ${p}`}),A.jsx("button",{onClick:()=>y(1),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600",children:">"})]}),A.jsxs("select",{value:i,onChange:S=>o(S.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{value:"todos",children:"Todos los Cursos"}),Td.map(S=>A.jsx("option",{value:S,children:S},S))]}),A.jsx("input",{type:"text",placeholder:"Buscar estudiante...",value:c,onChange:S=>u(S.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full border-collapse border border-slate-200 dark:border-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"sticky left-0 bg-slate-100 dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-semibold w-48",children:"Estudiante"}),Array.from({length:f},(S,N)=>{const _=new Date(p,a.getMonth(),N+1).getDay(),k=_===0||_===6;return A.jsxs("th",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-xs w-16 ${k?"bg-slate-100 dark:bg-slate-700/50":""}`,children:[A.jsx("div",{className:"font-semibold",children:E[_]}),A.jsx("div",{children:N+1})]},N)})]})}),A.jsx("tbody",{children:g.length>0?g.map(S=>A.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[A.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-medium whitespace-nowrap",children:S.nombreCompleto}),Array.from({length:f},(N,B)=>{var L;const _=B+1,k=(L=b.get(S.nombreCompleto))==null?void 0:L.get(_),U=new Date(p,a.getMonth(),B+1),F=U.getDay()===0||U.getDay()===6;return A.jsx("td",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-center align-middle ${F?"bg-slate-100 dark:bg-slate-700/50":""}`,children:A.jsxs("div",{className:"flex justify-center items-center gap-1.5 h-full",children:[(k==null?void 0:k.entrada)&&A.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var D,W;return window.open(`https://www.google.com/maps?q=${(D=k.entrada)==null?void 0:D.ubicacion.latitud},${(W=k.entrada)==null?void 0:W.ubicacion.longitud}`,"_blank")},children:[A.jsx(rce,{}),A.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(k.entrada.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),(k==null?void 0:k.salida)&&A.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var D,W;return window.open(`https://www.google.com/maps?q=${(D=k.salida)==null?void 0:D.ubicacion.latitud},${(W=k.salida)==null?void 0:W.ubicacion.longitud}`,"_blank")},children:[A.jsx(nce,{}),A.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(k.salida.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]})]})},_)})]},S.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:f+1,className:"text-center p-8 text-slate-500",children:"No hay estudiantes en el curso seleccionado o que coincidan con la búsqueda."})})})]})})]})},m3="evaluacionesFormativas",p3="calificacionesFormativas",g3="trabajosGrupalesFormativos",sce="usuariosLiceo",$U=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},M1={"Lengua y Literatura":"📚",Matemática:"➗",Inglés:"🇬🇧",Filosofía:"🤔","Historia y Geografía":"🌍","Educación Ciudadana":"🏛️",Ciencias:"🔬","Ciencias para la Ciudadanía":"💡",Artes:"🎨",Música:"🎵","Educación Física":"🏃‍♂️",Orientación:"🧭","Mecánica Industrial":"⚙️","Mecánica Automotriz":"🚗",Emprendimiento:"💼",Tecnología:"💻","Pensamiento Lógico":"🧠","Competencia Lectora":"📖",Default:"✏️"},YU=e=>e.startsWith("1º")?{bg:"bg-blue-500",text:"text-white",border:"border-blue-700",spine:"bg-blue-800"}:e.startsWith("2º")?{bg:"bg-green-500",text:"text-white",border:"border-green-700",spine:"bg-green-800"}:e.startsWith("3º")?{bg:"bg-yellow-400",text:"text-yellow-900",border:"border-yellow-600",spine:"bg-yellow-700"}:e.startsWith("4º")?{bg:"bg-red-500",text:"text-white",border:"border-red-700",spine:"bg-red-800"}:{bg:"bg-slate-500",text:"text-white",border:"border-slate-700",spine:"bg-slate-800"},ice=({cursos:e,onSelect:t})=>A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione un Libro de Clases"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Cada libro representa un curso y contiene sus evaluaciones formativas."}),e.length>0?A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:e.map(r=>{const n=YU(r);return A.jsxs("div",{className:"space-y-2 text-center",children:[A.jsxs("button",{onClick:()=>t(r),className:`relative w-full h-48 rounded-md shadow-lg ${n.bg} ${n.border} border-b-4 transform hover:-translate-y-2 transition-transform duration-300 group`,children:[A.jsx("div",{className:`absolute top-0 left-0 w-6 h-full ${n.spine} rounded-l-md`}),A.jsxs("div",{className:`flex flex-col items-center justify-center h-full p-2 ${n.text}`,children:[A.jsx("span",{className:"font-bold text-2xl drop-shadow-sm",children:r.slice(0,2)}),A.jsx("span",{className:"font-black text-5xl drop-shadow-md",children:r.slice(2)})]})]}),A.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:r})]},r)})}):A.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[A.jsx("p",{className:"text-slate-500",children:"No tiene cursos asignados."}),A.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador para que le asigne cursos a su perfil."})]})]}),oce=({curso:e,asignaturas:t,onSelect:r,onBack:n})=>{const a=YU(e);return A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[A.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800 dark:hover:text-slate-200",children:"← Volver a Cursos"}),A.jsxs("div",{className:`p-2 rounded-md ${a.bg} ${a.text} font-bold`,children:["Libro de Clases: ",e]})]}),A.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione una Asignatura"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Elija la asignatura para ver o agregar calificaciones."}),t.length>0?A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map(s=>A.jsxs("button",{onClick:()=>r(s),className:"flex items-center gap-3 p-4 rounded-lg bg-slate-100 hover:bg-amber-100 dark:bg-slate-700 dark:hover:bg-amber-900/50 transition-colors",children:[A.jsx("span",{className:"text-2xl",children:M1[s]||M1.Default}),A.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200 text-left",children:s})]},s))}):A.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[A.jsx("p",{className:"text-slate-500",children:"No tiene asignaturas asignadas."}),A.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador."})]})]})},lce=({curso:e,asignatura:t,allUsers:r,onBack:n})=>{const[a,s]=X.useState([]),[i,o]=X.useState({}),[c,u]=X.useState({fecha:new Date().toISOString().split("T")[0],nombreActividad:""}),[f,h]=X.useState(null),[p,g]=X.useState(null);X.useEffect(()=>{try{const D=localStorage.getItem(m3);D&&s(JSON.parse(D));const W=localStorage.getItem(p3);W&&o(JSON.parse(W))}catch(D){console.error("Error al cargar datos",D)}},[]);const b=D=>{s(D),localStorage.setItem(m3,JSON.stringify(D))},y=D=>{o(D),localStorage.setItem(p3,JSON.stringify(D))},E=X.useMemo(()=>r.filter(D=>D.profile===Kt.ESTUDIANTE&&$U(D.curso||"")===e).map(D=>D.nombreCompleto).sort((D,W)=>D.localeCompare(W)),[r,e]),S=X.useMemo(()=>a.filter(D=>D.curso===e&&D.asignatura===t).sort((D,W)=>new Date(D.fecha).getTime()-new Date(W.fecha).getTime()),[a,e,t]),N=D=>{const{name:W,value:O}=D.target;f?h(M=>M?{...M,[W]:O}:null):u(M=>({...M,[W]:O}))},B=D=>{if(D.preventDefault(),!c.nombreActividad.trim()){g("El nombre de la actividad es obligatorio.");return}const W={id:crypto.randomUUID(),asignatura:t,curso:e,...c};b([...a,W]);const O=E.reduce((M,K)=>(M[K]="trabajado",M),{});y({...i,[W.id]:O}),u({fecha:new Date().toISOString().split("T")[0],nombreActividad:""}),g(null)},_=(D,W)=>{var K;const M=(((K=i[D])==null?void 0:K[W])||"trabajado")==="trabajado"?"no trabajado":"trabajado";y({...i,[D]:{...i[D]||{},[W]:M}})},k=D=>h(D),U=()=>{f&&(b(a.map(D=>D.id===f.id?f:D)),h(null))},F=D=>{if(window.confirm("¿Eliminar esta evaluación y todas sus calificaciones?")){b(a.filter(O=>O.id!==D));const W={...i};delete W[D],y(W)}},L=X.useCallback(D=>{if(S.length===0)return"-";let W=0,O=0;return S.forEach(M=>{var Q;const K=(Q=i[M.id])==null?void 0:Q[D];K==="trabajado"?(W+=7,O++):K==="no trabajado"&&(W+=2,O++)}),O===0?"-":(W/O).toFixed(1)},[i,S]);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800",children:"← Volver a Asignaturas"}),A.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[e," / ",t]})]}),A.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[A.jsx("h3",{className:"text-lg font-semibold col-span-full text-slate-700 dark:text-slate-200",children:"Crear Nueva Evaluación"}),A.jsxs("div",{className:"w-full",children:[A.jsx("label",{htmlFor:"nombreActividad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Actividad"}),A.jsx("input",{id:"nombreActividad",type:"text",name:"nombreActividad",value:c.nombreActividad,onChange:N,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),A.jsxs("div",{className:"w-full",children:[A.jsx("label",{htmlFor:"fecha",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha"}),A.jsx("input",{id:"fecha",type:"date",name:"fecha",value:c.fecha,onChange:N,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),A.jsx("div",{className:"w-full",children:A.jsx("button",{type:"submit",className:"w-full bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear"})}),p&&A.jsx("p",{className:"text-red-500 text-sm col-span-full",children:p})]}),A.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"sticky left-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-48",children:"Estudiante"}),S.map(D=>A.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase w-36",children:(f==null?void 0:f.id)===D.id?A.jsxs("div",{className:"flex flex-col gap-1",children:[A.jsx("input",{type:"text",name:"nombreActividad",value:f.nombreActividad,onChange:N,className:"text-xs p-1 w-full dark:bg-slate-600"}),A.jsx("input",{type:"date",name:"fecha",value:f.fecha,onChange:N,className:"text-xs p-1 w-full dark:bg-slate-600"}),A.jsx("button",{onClick:U,className:"text-xs bg-green-200 text-green-800 rounded px-1",children:"✓"})]}):A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("span",{className:"font-semibold",children:D.nombreActividad}),A.jsx("span",{className:"font-normal text-slate-500",children:D.fecha}),A.jsxs("div",{className:"flex gap-2 mt-1",children:[A.jsx("button",{onClick:()=>k(D),className:"text-blue-500 hover:text-blue-700",children:"✏️"}),A.jsx("button",{onClick:()=>F(D.id),className:"text-red-500 hover:text-red-700",children:"🗑️"})]})]})},D.id)),A.jsx("th",{scope:"col",className:"sticky right-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-24",children:"Promedio"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-700",children:E.map(D=>A.jsxs("tr",{children:[A.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200 w-48",children:D}),S.map(W=>{var K;const M=((K=i[W.id])==null?void 0:K[D])==="trabajado";return A.jsx("td",{className:"px-2 py-1 whitespace-nowrap w-36 text-center",children:A.jsx("button",{onClick:()=>_(W.id,D),className:`text-3xl transition-opacity duration-200 ${M?"opacity-100":"opacity-20"}`,children:M1[t]||M1.Default})},W.id)}),A.jsx("td",{className:"sticky right-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-bold text-slate-800 dark:text-slate-200 w-24 text-center",children:L(D)})]},D))})]})})]})},cce=({curso:e,asignatura:t,allUsers:r,onBack:n})=>{const[a,s]=X.useState([]),[i,o]=X.useState(null),[c,u]=X.useState({nombre:"",fecha:new Date().toISOString().split("T")[0]}),[f,h]=X.useState({}),[p,g]=X.useState(2);X.useEffect(()=>{try{const k=localStorage.getItem(g3);k&&s(JSON.parse(k))}catch(k){console.error("Error al cargar trabajos grupales",k)}},[]);const b=k=>{s(k),localStorage.setItem(g3,JSON.stringify(k))},y=X.useMemo(()=>r.filter(k=>k.profile===Kt.ESTUDIANTE&&$U(k.curso||"")===e).sort((k,U)=>k.nombreCompleto.localeCompare(U.nombreCompleto)),[r,e]);X.useEffect(()=>{if(i){const k={};i.grupos.forEach(U=>{U.integrantes.forEach(F=>{k[F.nombre]={groupNumber:String(U.numero),role:F.rol||""}})}),h(k)}else h({})},[i]);const E=k=>{if(k.preventDefault(),!c.nombre.trim())return;const U={id:crypto.randomUUID(),curso:e,asignatura:t,nombreActividad:c.nombre,fechaPresentacion:c.fecha,grupos:[]};b([U,...a]),u({nombre:"",fecha:new Date().toISOString().split("T")[0]})},S=()=>{if(!i)return;const k=new Map;for(const L of y){const D=f[L.nombreCompleto];if(D&&D.groupNumber){const W=parseInt(D.groupNumber,10);isNaN(W)||(k.has(W)||k.set(W,[]),k.get(W).push({nombre:L.nombreCompleto,rol:D.role||void 0}))}}const U=Array.from(k.entries()).map(([L,D])=>({numero:L,integrantes:D})).sort((L,D)=>L.numero-D.numero),F={...i,grupos:U};b(a.map(L=>L.id===F.id?F:L)),o(F),alert("Grupos guardados con éxito.")},N=()=>{if(p<2){alert("Debe haber al menos 2 grupos.");return}const k=[...y].sort(()=>Math.random()-.5),U={};k.forEach((F,L)=>{var D;U[F.nombreCompleto]={groupNumber:String(L%p+1),role:((D=f[F.nombreCompleto])==null?void 0:D.role)||""}}),h(U)},B=(k,U,F)=>{h(L=>({...L,[k]:{...L[k],[U]:F}}))},_=X.useMemo(()=>{const k=new Map;return Object.entries(f).forEach(([U,F])=>{F.groupNumber&&(k.has(F.groupNumber)||k.set(F.groupNumber,[]),k.get(F.groupNumber).push({nombre:U,rol:F.role}))}),Array.from(k.entries()).sort((U,F)=>parseInt(U[0])-parseInt(F[0]))},[f]);return i?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("button",{onClick:()=>o(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:"← Volver a Actividades"}),A.jsx("h2",{className:"text-2xl font-bold",children:i.nombreActividad})]}),A.jsx("button",{onClick:S,className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Guardar Grupos"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[A.jsxs("div",{className:"md:col-span-1 space-y-4",children:[A.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[A.jsx("h3",{className:"font-semibold mb-2",children:"Auto-asignación"}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"number",value:p,onChange:k=>g(parseInt(k.target.value,10)),min:"2",className:"w-20 border-slate-300 rounded"}),A.jsx("button",{onClick:N,className:"flex-1 bg-slate-200 font-semibold py-2 px-3 rounded",children:"Asignar"})]})]}),A.jsxs("div",{className:"p-4 border rounded-lg h-[60vh] overflow-y-auto",children:[A.jsx("h3",{className:"font-semibold mb-2",children:"Nómina del Curso"}),A.jsx("table",{className:"w-full text-sm",children:A.jsx("tbody",{children:y.map(k=>{var U;return A.jsxs("tr",{children:[A.jsx("td",{className:"py-1 pr-2",children:k.nombreCompleto}),A.jsx("td",{className:"py-1",children:A.jsx("input",{type:"number",value:((U=f[k.nombreCompleto])==null?void 0:U.groupNumber)||"",onChange:F=>B(k.nombreCompleto,"groupNumber",F.target.value),className:"w-16 p-1 border rounded text-center",placeholder:"N°"})})]},k.id)})})})]})]}),A.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg h-[70vh] overflow-y-auto",children:[A.jsx("h3",{className:"font-semibold mb-2",children:"Grupos Formados"}),A.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:_.map(([k,U])=>A.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[A.jsxs("h4",{className:"font-bold border-b pb-1 mb-2",children:["Grupo ",k]}),A.jsx("ul",{className:"space-y-2",children:U.map(F=>A.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[A.jsx("span",{className:"flex-1 truncate",children:F.nombre}),A.jsxs("select",{value:F.rol||"",onChange:L=>B(F.nombre,"role",L.target.value),className:"p-1 border rounded text-xs w-32",children:[A.jsx("option",{value:"",children:"-- Asignar Rol --"}),BF.map(L=>A.jsx("option",{value:L,children:L},L))]})]},F.nombre))})]},k))})]})]})]}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800",children:"← Volver a Asignaturas"}),A.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[e," / ",t]})]}),A.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[A.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Crear Actividad Grupal"}),A.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[A.jsx("input",{value:c.nombre,onChange:k=>u({...c,nombre:k.target.value}),placeholder:"Nombre de la actividad",className:"w-full border-slate-300 rounded-md",required:!0}),A.jsx("input",{type:"date",value:c.fecha,onChange:k=>u({...c,fecha:k.target.value}),className:"w-full border-slate-300 rounded-md",required:!0}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Crear"})]})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("h3",{className:"text-lg font-semibold",children:"Actividades Creadas"}),a.filter(k=>k.curso===e&&k.asignatura===t).map(k=>A.jsxs("button",{onClick:()=>o(k),className:"w-full text-left p-3 bg-white dark:bg-slate-700 hover:bg-slate-100 rounded-md border",children:[A.jsx("p",{className:"font-bold",children:k.nombreActividad}),A.jsxs("p",{className:"text-sm text-slate-500",children:["Fecha: ",k.fechaPresentacion]})]},k.id))]})]})},Ace=({currentUser:e})=>{const[t,r]=X.useState("calificaciones"),[n,a]=X.useState(null),[s,i]=X.useState(null),[o,c]=X.useState([]);X.useEffect(()=>{try{const g=localStorage.getItem(sce);g&&c(JSON.parse(g))}catch(g){console.error("Error al cargar usuarios",g)}},[]);const u=X.useMemo(()=>e.cursos||[],[e.cursos]),f=X.useMemo(()=>e.asignaturas||[],[e.asignaturas]),h=({tab:g,label:b})=>A.jsx("button",{onClick:()=>r(g),className:`${t===g?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:b}),p=()=>{if(!n)return A.jsx(ice,{cursos:u,onSelect:a});if(!s)return A.jsx(oce,{curso:n,asignaturas:f,onSelect:i,onBack:()=>a(null)});if(t==="calificaciones")return A.jsx(lce,{curso:n,asignatura:s,allUsers:o,onBack:()=>i(null)});if(t==="grupos")return A.jsx(cce,{curso:n,asignatura:s,allUsers:o,onBack:()=>i(null)})};return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluaciones Formativas"}),A.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:A.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[A.jsx(h,{tab:"calificaciones",label:"Calificaciones"}),A.jsx(h,{tab:"grupos",label:"Trabajos Grupales"})]})}),A.jsx("div",{className:"mt-6",children:p()})]})},x3="acompanamientoDocenteRecords",uce="usuariosLiceo",dce=()=>{const[e,t]=X.useState([]),[r,n]=X.useState([]),[a,s]=X.useState("list"),[i,o]=X.useState(null),[c,u]=X.useState(!1),[f,h]=X.useState(!1),p=p1,g=X.useMemo(()=>({fecha:new Date().toISOString(),docente:"",curso:"",asignatura:"",bloques:"",rubricaResultados:{},observacionesGenerales:"",retroalimentacionConsolidada:""}),[]),[b,y]=X.useState(g);X.useEffect(()=>{try{const O=localStorage.getItem(x3);O&&t(JSON.parse(O));const M=localStorage.getItem(uce);if(M){const Q=JSON.parse(M).filter(ae=>ae.profile===Kt.PROFESORADO).map(ae=>ae.nombreCompleto).sort();n(Q)}}catch(O){console.error("Error al cargar datos de localStorage",O)}},[]);const E=O=>{t(O),localStorage.setItem(x3,JSON.stringify(O)),window.dispatchEvent(new Event("storage"))},S=O=>{y(M=>({...M,[O.target.name]:O.target.value}))},N=(O,M)=>{y(K=>({...K,rubricaResultados:{...K.rubricaResultados,[O]:M}}))},B=async()=>{u(!0);const{rubricaResultados:O,observacionesGenerales:M}=b;let K=`Resultados de la Rúbrica:
`;p.forEach(ae=>{ae.criteria.forEach(V=>{const G=O[V.name];if(G&&V.levels[G-1]){const re=V.levels[G-1];K+=`- Criterio: "${V.name}" | Nivel: ${G} (${re})
`}})}),K+=`
Observaciones Generales del Evaluador:
${M||"No se proveyeron observaciones adicionales."}`;const Q=`
            Eres un asesor pedagógico experto. Tu tarea es generar una retroalimentación formal, técnica y constructiva para un docente, basada en una observación de clase.
            La retroalimentación debe ser estructurada y usar un lenguaje pedagógico preciso.

            A continuación, los datos de la observación:
            ${K}

            Genera una retroalimentación que incluya obligatoriamente los siguientes puntos en formato Markdown:
            - ## Fortalezas Observadas: Destaca 2 o 3 puntos positivos clave, conectándolos con los criterios de la rúbrica.
            - ## Áreas de Mejora: Identifica 2 o 3 aspectos donde el docente puede mejorar, explicando el porqué con base en la evidencia.
            - ## Sugerencias y Pasos a Seguir: Ofrece recomendaciones concretas, prácticas y accionables que el docente pueda implementar.
        `;try{gi("Acompañamiento - Consolidar Feedback");const G=(await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:Q})).text.replace(/(\*\*|\*)/g,"");y(re=>({...re,retroalimentacionConsolidada:G}))}catch(ae){console.error("Error al generar retroalimentación con IA",ae),alert("No se pudo generar la retroalimentación. Inténtelo de nuevo.")}finally{u(!1)}},_=async()=>{const O=i;if(!O)return;h(!0);const M=e.find(z=>z.id===O);if(!M){h(!1);return}const K=new Wt({orientation:"p",unit:"mm",format:"a4"}),Q=20,ae=K.internal.pageSize.getWidth(),V=K.internal.pageSize.getHeight(),G=ae-Q*2;let re=Q;const J=z=>{z.setFont("helvetica","bold"),z.setFontSize(10),z.setTextColor(100),z.text("LICEO INDUSTRIAL DE RECOLETA",ae/2,15,{align:"center"})};J(K),K.setFont("helvetica","bold"),K.setFontSize(18),K.setTextColor(40),K.text("Informe de Acompañamiento Docente",ae/2,re+10,{align:"center"}),re+=25,xo(K,{startY:re,body:[[{content:"Docente:",styles:{fontStyle:"bold"}},M.docente],[{content:"Fecha:",styles:{fontStyle:"bold"}},new Date(M.fecha).toLocaleDateString("es-CL")],[{content:"Asignatura:",styles:{fontStyle:"bold"}},M.asignatura],[{content:"Curso:",styles:{fontStyle:"bold"}},M.curso]],theme:"plain",styles:{fontSize:11,cellPadding:2,textColor:[50,50,50]},columnStyles:{0:{cellWidth:35}}}),re=K.lastAutoTable.finalY+10;const Y=[],ce=["Débil","Incipiente","Satisfactorio","Avanzado"];p.forEach(z=>{Y.push([{content:z.domain,colSpan:2,styles:{fontStyle:"bold",fillColor:[220,220,220],textColor:[40,40,40],halign:"left"}}]),z.criteria.forEach(q=>{const ee=M.rubricaResultados[q.name],ne=ee?ce[ee-1]:"No evaluado";Y.push([q.name,ne])})}),xo(K,{startY:re,head:[["Indicador","Nivel de Logro"]],body:Y,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:255},didDrawPage:z=>{z.pageNumber>1&&J(K)}}),re=K.lastAutoTable.finalY+15;const R=(z,q)=>{re>V-Q-10&&(K.addPage(),J(K),re=Q),K.setFont("helvetica",q.style),K.setFontSize(q.size);const ee=K.splitTextToSize(z,G),ne=ee.length*(q.size*.352778*1.15);re+ne>V-Q&&(K.addPage(),J(K),re=Q),K.text(ee,Q,re,{align:"left"}),re+=ne+(q.isTitle?5:8)};M.retroalimentacionConsolidada?M.retroalimentacionConsolidada.split(/(?=## )/).forEach(q=>{if(q.trim()){const ee=q.trim().split(`
`),ne=ee[0].replace("## ",""),le=ee.slice(1).join(`
`).trim();R(ne,{size:14,style:"bold",isTitle:!0}),R(le,{size:11,style:"normal",isTitle:!1})}}):(R("Retroalimentación Consolidada",{size:14,style:"bold",isTitle:!0}),R("No se ha generado retroalimentación.",{size:11,style:"normal",isTitle:!1})),K.save(`Acompanamiento_${M.docente.replace(/\s/g,"_")}_${new Date(M.fecha).toLocaleDateString("es-CL")}.pdf`),h(!1)},k=O=>{if(O.preventDefault(),!b.docente||!b.curso||!b.asignatura){alert("Docente, curso y asignatura son campos obligatorios.");return}let M=i;if(i){const K=e.map(Q=>Q.id===i?{...b,id:i}:Q);E(K)}else{const K={...b,id:crypto.randomUUID()};E([K,...e]),o(K.id),y(K),M=K.id}M&&alert("¡Guardado correctamente!")},U=()=>{y(g),o(null),s("form")},F=O=>{y(O),o(O.id),s("form")},L=O=>{window.confirm("¿Está seguro de que desea eliminar este registro de acompañamiento?")&&E(e.filter(M=>M.id!==O))},D=()=>A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Registros de Acompañamiento"}),A.jsx("button",{onClick:U,className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Crear Nuevo"})]}),A.jsx("div",{className:"space-y-4",children:e.length>0?e.map(O=>A.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:O.docente}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[O.curso," - ",O.asignatura]}),A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(O.fecha).toLocaleDateString("es-CL")]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>F(O),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver y Editar"}),A.jsx("button",{onClick:()=>L(O.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:"🗑️"})]})]},O.id)):A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-6",children:'No hay registros de acompañamiento. Haga clic en "Crear Nuevo" para comenzar.'})})]}),W=()=>A.jsx("div",{className:"animate-fade-in",children:A.jsxs("form",{onSubmit:k,className:"space-y-8",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:i?"Editando Acompañamiento":"Nuevo Acompañamiento Docente"}),A.jsx("button",{type:"button",onClick:()=>s("list"),className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold",children:"← Volver al listado"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"docente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Docente"}),A.jsxs("select",{name:"docente",value:b.docente,onChange:S,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{value:"",children:"Seleccione"}),r.map(O=>A.jsx("option",{value:O,children:O},O))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),A.jsxs("select",{name:"curso",value:b.curso,onChange:S,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{value:"",children:"Seleccione"}),wa.map(O=>A.jsx("option",{value:O,children:O},O))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),A.jsxs("select",{name:"asignatura",value:b.asignatura,onChange:S,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{value:"",children:"Seleccione"}),Oi.map(O=>A.jsx("option",{value:O,children:O},O))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"bloques",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bloques Horarios"}),A.jsx("input",{type:"text",name:"bloques",value:b.bloques,onChange:S,placeholder:"Ej: 3-4",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),A.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-1/12",children:"Dominio"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-3/12",children:"Criterio"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Débil (1)"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Incipiente (2)"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Satisfactorio (3)"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Avanzado (4)"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:p.map(O=>A.jsx(at.Fragment,{children:O.criteria.map((M,K)=>A.jsxs("tr",{children:[K===0&&A.jsx("td",{rowSpan:O.criteria.length,className:"px-3 py-4 align-top text-sm font-semibold text-slate-800 dark:text-slate-200 border-r dark:border-slate-600",children:O.domain}),A.jsx("td",{className:"px-3 py-4 align-top text-sm font-medium text-slate-700 dark:text-slate-300 border-r dark:border-slate-600",children:M.name}),M.levels.map((Q,ae)=>{const V=ae+1,G=b.rubricaResultados[M.name]===V;return A.jsx("td",{onClick:()=>N(M.name,V),className:`px-3 py-4 align-top text-sm text-slate-600 dark:text-slate-300 border-r dark:border-slate-600 cursor-pointer transition-colors ${G?"bg-amber-100 dark:bg-amber-900/30":"hover:bg-amber-50 dark:hover:bg-slate-700"}`,children:Q},V)})]},M.name))},O.domain))})]})}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"observacionesGenerales",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones Generales"}),A.jsx("textarea",{name:"observacionesGenerales",value:b.observacionesGenerales,onChange:S,rows:5,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("label",{htmlFor:"retroalimentacionConsolidada",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Retroalimentación Consolidada"}),A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("textarea",{name:"retroalimentacionConsolidada",value:b.retroalimentacionConsolidada,onChange:S,rows:8,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",placeholder:"Haga clic en 'Consolidar' para generar la retroalimentación aquí..."}),A.jsx("button",{type:"button",onClick:B,disabled:c,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 disabled:bg-slate-400",children:c?"...":"Consolidar"})]})]}),A.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t dark:border-slate-700",children:[A.jsx("button",{type:"button",onClick:_,disabled:!i||f,className:"bg-red-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 disabled:bg-slate-400",children:f?"...":"Exportar PDF"}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar Acompañamiento"})]})]})});return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Acompañamiento Docente"}),A.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:a==="list"?D():W()})]})},ey="mensajesInternos",fce="usuariosLiceo",v3="lir-read-status",hce=({currentUser:e,refreshUnreadCount:t})=>{const[r,n]=X.useState("inbox"),[a,s]=X.useState([]),[i,o]=X.useState([]),[c,u]=X.useState(null),[f,h]=X.useState({announcements:[],messages:[]}),p={para:"",asunto:"",cuerpo:""},[g,b]=X.useState(p);X.useEffect(()=>{try{const F=localStorage.getItem(ey);F&&s(JSON.parse(F));const L=localStorage.getItem(fce);L&&o(JSON.parse(L));const D=localStorage.getItem(`${v3}-${e.id}`);D&&h(JSON.parse(D))}catch(F){console.error("Error loading messaging data",F)}},[e.id]);const y=F=>{s(F),localStorage.setItem(ey,JSON.stringify(F))},E=F=>{h(F),localStorage.setItem(`${v3}-${e.id}`,JSON.stringify(F)),t()},S=F=>{if(u(F),r==="inbox"&&!f.messages.includes(F.id)){const L={...f,messages:[...f.messages,F.id]};E(L)}},N=F=>{if(F.preventDefault(),!g.para||!g.asunto.trim()||!g.cuerpo.trim()){alert("Destinatario, asunto y cuerpo son obligatorios.");return}const L={id:crypto.randomUUID(),de:e.email,para:g.para,asunto:g.asunto,cuerpo:g.cuerpo,fecha:new Date().toISOString()},D=localStorage.getItem(ey),W=D?JSON.parse(D):[],O=[L,...W];y(O),b(p),n("sent")},B=F=>{window.confirm("¿Está seguro de que desea eliminar este mensaje?")&&(y(a.filter(L=>L.id!==F)),u(null))},_=F=>{b({para:F.de,asunto:`Re: ${F.asunto}`,cuerpo:`

--- Mensaje Original ---
${F.cuerpo}`}),n("compose")},k=X.useMemo(()=>a.filter(F=>F.para===e.email).sort((F,L)=>new Date(L.fecha).getTime()-new Date(F.fecha).getTime()),[a,e.email]),U=X.useMemo(()=>a.filter(F=>F.de===e.email).sort((F,L)=>new Date(L.fecha).getTime()-new Date(F.fecha).getTime()),[a,e.email]);return A.jsxs("div",{className:"bg-white rounded-xl shadow-md flex overflow-hidden min-h-[75vh]",children:[A.jsxs("aside",{className:"w-1/4 md:w-1/5 border-r bg-slate-50 flex flex-col",children:[A.jsx("div",{className:"p-4 border-b",children:A.jsx("button",{onClick:()=>{n("compose"),u(null)},className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700",children:"Redactar"})}),A.jsxs("nav",{className:"p-2 space-y-1",children:[A.jsx("button",{onClick:()=>{n("inbox"),u(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${r==="inbox"?"bg-amber-100 text-amber-800":"hover:bg-slate-200"}`,children:"Recibidos"}),A.jsx("button",{onClick:()=>{n("sent"),u(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${r==="sent"?"bg-amber-100 text-amber-800":"hover:bg-slate-200"}`,children:"Enviados"})]})]}),r!=="compose"&&A.jsx("div",{className:"w-1/3 md:w-2/5 border-r overflow-y-auto",children:(r==="inbox"?k:U).map(F=>{const L=r==="inbox"&&!f.messages.includes(F.id);return A.jsxs("div",{onClick:()=>S(F),className:`p-4 border-b cursor-pointer ${(c==null?void 0:c.id)===F.id?"bg-amber-50":"hover:bg-slate-50"}`,children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("p",{className:`font-bold truncate ${L?"text-slate-800":"text-slate-600"}`,children:r==="inbox"?F.de:`Para: ${F.para}`}),L&&A.jsx("span",{className:"h-2.5 w-2.5 bg-blue-500 rounded-full flex-shrink-0 ml-2 mt-1"})]}),A.jsx("p",{className:`truncate text-sm ${L?"text-slate-700 font-semibold":"text-slate-500"}`,children:F.asunto}),A.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(F.fecha).toLocaleString("es-CL")})]},F.id)})}),A.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:r==="compose"?A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Nuevo Mensaje"}),A.jsxs("form",{onSubmit:N,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"para",className:"block text-sm font-medium text-slate-600 mb-1",children:"Para:"}),A.jsxs("select",{id:"para",value:g.para,onChange:F=>b({...g,para:F.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm",children:[A.jsx("option",{value:"",children:"Seleccione un destinatario..."}),i.filter(F=>F.email!==e.email).map(F=>A.jsxs("option",{value:F.email,children:[F.nombreCompleto," (",F.email,")"]},F.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"asunto",className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto:"}),A.jsx("input",{type:"text",id:"asunto",value:g.asunto,onChange:F=>b({...g,asunto:F.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"cuerpo",className:"block text-sm font-medium text-slate-600 mb-1",children:"Cuerpo del Mensaje:"}),A.jsx("textarea",{id:"cuerpo",value:g.cuerpo,onChange:F=>b({...g,cuerpo:F.target.value}),required:!0,rows:12,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),A.jsx("div",{className:"text-right",children:A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700",children:"Enviar Mensaje"})})]})]}):c?A.jsxs("div",{children:[A.jsxs("div",{className:"border-b pb-4 mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:c.asunto}),A.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:[A.jsx("strong",{children:"De:"})," ",c.de," ",A.jsx("br",{}),A.jsx("strong",{children:"Para:"})," ",c.para," ",A.jsx("br",{}),A.jsx("strong",{children:"Fecha:"})," ",new Date(c.fecha).toLocaleString("es-CL")]})]}),A.jsx("div",{className:"whitespace-pre-wrap text-slate-700",children:c.cuerpo}),A.jsxs("div",{className:"mt-8 pt-4 border-t flex gap-2",children:[r==="inbox"&&A.jsx("button",{onClick:()=>_(c),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Responder"}),A.jsx("button",{onClick:()=>B(c.id),className:"bg-red-100 text-red-700 font-semibold py-2 px-4 rounded-lg hover:bg-red-200",children:"Eliminar"})]})]}):A.jsx("div",{className:"flex items-center justify-center h-full text-center text-slate-500",children:A.jsx("p",{children:"Seleccione un mensaje para leerlo."})})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ib=function(e,t){return Ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Ib(e,t)};function ol(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ib(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ub=function(){return Ub=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ub.apply(this,arguments)};function Ys(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?s(f.value):a(f.value).then(o,c)}u((n=n.apply(e,[])).next())})}function ks(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function cx(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||t)}var Yc=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),_v=function(e,t){return Yc.fromClientRect(e,t.getBoundingClientRect())},mce=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Yc(0,0,n,a)},Tv=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},pa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},w3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ax=0;Ax<w3.length;Ax++)pce[w3.charCodeAt(Ax)]=Ax;var y3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ux=0;ux<y3.length;ux++)xm[y3.charCodeAt(ux)]=ux;var gce=function(e){var t=e.length*.75,r=e.length,n,a=0,s,i,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=xm[e.charCodeAt(n)],i=xm[e.charCodeAt(n+1)],o=xm[e.charCodeAt(n+2)],c=xm[e.charCodeAt(n+3)],f[a++]=s<<2|i>>4,f[a++]=(i&15)<<4|o>>2,f[a++]=(o&3)<<6|c&63;return u},xce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},vce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ld=5,N5=11,ty=2,wce=N5-Ld,JU=65536>>Ld,yce=1<<Ld,ry=yce-1,bce=1024>>Ld,Cce=JU+bce,Ece=Cce,Sce=32,Bce=Ece+Sce,Nce=65536>>N5,_ce=1<<wce,Tce=_ce-1,b3=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},kce=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Fce=function(e,t){var r=gce(e),n=Array.isArray(r)?vce(r):new Uint32Array(r),a=Array.isArray(r)?xce(r):new Uint16Array(r),s=24,i=b3(a,s/2,n[4]/2),o=n[5]===2?b3(a,(s+n[4])/2):kce(n,Math.ceil((s+n[4])/4));return new Ice(n[0],n[1],n[2],n[3],i,o)},Ice=function(){function e(t,r,n,a,s,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Ld],r=(r<<ty)+(t&ry),this.data[r];if(t<=65535)return r=this.index[JU+(t-55296>>Ld)],r=(r<<ty)+(t&ry),this.data[r];if(t<this.highStart)return r=Bce-Nce+(t>>N5),r=this.index[r],r+=t>>Ld&Tce,r=this.index[r],r=(r<<ty)+(t&ry),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),C3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Uce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dx=0;dx<C3.length;dx++)Uce[C3.charCodeAt(dx)]=dx;var Dce="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",E3=50,Lce=1,XU=2,ZU=3,Rce=4,Mce=5,S3=7,e8=8,B3=9,du=10,Db=11,N3=12,Lb=13,Pce=14,vm=15,Rb=16,fx=17,rm=18,jce=19,_3=20,Mb=21,nm=22,ny=23,$f=24,Di=25,wm=26,ym=27,Yf=28,Oce=29,Ed=30,Qce=31,hx=32,mx=33,Pb=34,jb=35,Ob=36,dp=37,Qb=38,Zx=39,e1=40,ay=41,t8=42,Hce=43,Vce=[9001,65288],r8="!",Rr="×",px="÷",Hb=Fce(Dce),Dc=[Ed,Ob],Vb=[Lce,XU,ZU,Mce],n8=[du,e8],T3=[ym,wm],Gce=Vb.concat(n8),k3=[Qb,Zx,e1,Pb,jb],zce=[vm,Lb],Kce=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(s,i){var o=Hb.get(s);if(o>E3?(a.push(!0),o-=E3):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),r.push(Rb);if(o===Rce||o===Db){if(i===0)return n.push(i),r.push(Ed);var c=r[i-1];return Gce.indexOf(c)===-1?(n.push(n[i-1]),r.push(c)):(n.push(i),r.push(Ed))}if(n.push(i),o===Qce)return r.push(t==="strict"?Mb:dp);if(o===t8||o===Oce)return r.push(Ed);if(o===Hce)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(dp):r.push(Ed);r.push(o)}),[n,r,a]},sy=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var s=r;s<=n.length;){s++;var i=n[s];if(i===t)return!0;if(i!==du)break}if(a===du)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var c=r;c<=n.length;){c++;var i=n[c];if(i===t)return!0;if(i!==du)break}if(o!==du)break}return!1},F3=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===du)r--;else return n}return 0},qce=function(e,t,r,n,a){if(r[n]===0)return Rr;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return Rr;var i=s-1,o=s+1,c=t[s],u=i>=0?t[i]:0,f=t[o];if(c===XU&&f===ZU)return Rr;if(Vb.indexOf(c)!==-1)return r8;if(Vb.indexOf(f)!==-1||n8.indexOf(f)!==-1)return Rr;if(F3(s,t)===e8)return px;if(Hb.get(e[s])===Db||(c===hx||c===mx)&&Hb.get(e[o])===Db||c===S3||f===S3||c===B3||[du,Lb,vm].indexOf(c)===-1&&f===B3||[fx,rm,jce,$f,Yf].indexOf(f)!==-1||F3(s,t)===nm||sy(ny,nm,s,t)||sy([fx,rm],Mb,s,t)||sy(N3,N3,s,t))return Rr;if(c===du)return px;if(c===ny||f===ny)return Rr;if(f===Rb||c===Rb)return px;if([Lb,vm,Mb].indexOf(f)!==-1||c===Pce||u===Ob&&zce.indexOf(c)!==-1||c===Yf&&f===Ob||f===_3||Dc.indexOf(f)!==-1&&c===Di||Dc.indexOf(c)!==-1&&f===Di||c===ym&&[dp,hx,mx].indexOf(f)!==-1||[dp,hx,mx].indexOf(c)!==-1&&f===wm||Dc.indexOf(c)!==-1&&T3.indexOf(f)!==-1||T3.indexOf(c)!==-1&&Dc.indexOf(f)!==-1||[ym,wm].indexOf(c)!==-1&&(f===Di||[nm,vm].indexOf(f)!==-1&&t[o+1]===Di)||[nm,vm].indexOf(c)!==-1&&f===Di||c===Di&&[Di,Yf,$f].indexOf(f)!==-1)return Rr;if([Di,Yf,$f,fx,rm].indexOf(f)!==-1)for(var h=s;h>=0;){var p=t[h];if(p===Di)return Rr;if([Yf,$f].indexOf(p)!==-1)h--;else break}if([ym,wm].indexOf(f)!==-1)for(var h=[fx,rm].indexOf(c)!==-1?i:s;h>=0;){var p=t[h];if(p===Di)return Rr;if([Yf,$f].indexOf(p)!==-1)h--;else break}if(Qb===c&&[Qb,Zx,Pb,jb].indexOf(f)!==-1||[Zx,Pb].indexOf(c)!==-1&&[Zx,e1].indexOf(f)!==-1||[e1,jb].indexOf(c)!==-1&&f===e1||k3.indexOf(c)!==-1&&[_3,wm].indexOf(f)!==-1||k3.indexOf(f)!==-1&&c===ym||Dc.indexOf(c)!==-1&&Dc.indexOf(f)!==-1||c===$f&&Dc.indexOf(f)!==-1||Dc.concat(Di).indexOf(c)!==-1&&f===nm&&Vce.indexOf(e[o])===-1||Dc.concat(Di).indexOf(f)!==-1&&c===rm)return Rr;if(c===ay&&f===ay){for(var g=r[s],b=1;g>0&&(g--,t[g]===ay);)b++;if(b%2!==0)return Rr}return c===hx&&f===mx?Rr:px},Wce=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Kce(e,t.lineBreak),n=r[0],a=r[1],s=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(o){return[Di,Ed,t8].indexOf(o)!==-1?dp:o}));var i=t.wordBreak==="keep-all"?s.map(function(o,c){return o&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,a,i]},$ce=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===r8,this.start=n,this.end=a}return e.prototype.slice=function(){return pa.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Yce=function(e,t){var r=Tv(e),n=Wce(r,t),a=n[0],s=n[1],i=n[2],o=r.length,c=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var f=Rr;u<o&&(f=qce(r,s,a,++u,i))===Rr;);if(f!==Rr||u===o){var h=new $ce(r,f,c,u);return c=u,{value:h,done:!1}}return{done:!0,value:null}}}},Jce=1,Xce=2,Pp=4,I3=8,P1=10,U3=47,Qm=92,Zce=9,eAe=32,gx=34,am=61,tAe=35,rAe=36,nAe=37,xx=39,vx=40,sm=41,aAe=95,fi=45,sAe=33,iAe=60,oAe=62,lAe=64,cAe=91,AAe=93,uAe=61,dAe=123,wx=63,fAe=125,D3=124,hAe=126,mAe=128,L3=65533,iy=42,Bd=43,pAe=44,gAe=58,xAe=59,fp=46,vAe=0,wAe=8,yAe=11,bAe=14,CAe=31,EAe=127,Hl=-1,a8=48,s8=97,i8=101,SAe=102,BAe=117,NAe=122,o8=65,l8=69,c8=70,_Ae=85,TAe=90,Us=function(e){return e>=a8&&e<=57},kAe=function(e){return e>=55296&&e<=57343},Jf=function(e){return Us(e)||e>=o8&&e<=c8||e>=s8&&e<=SAe},FAe=function(e){return e>=s8&&e<=NAe},IAe=function(e){return e>=o8&&e<=TAe},UAe=function(e){return FAe(e)||IAe(e)},DAe=function(e){return e>=mAe},yx=function(e){return e===P1||e===Zce||e===eAe},j1=function(e){return UAe(e)||DAe(e)||e===aAe},R3=function(e){return j1(e)||Us(e)||e===fi},LAe=function(e){return e>=vAe&&e<=wAe||e===yAe||e>=bAe&&e<=CAe||e===EAe},tu=function(e,t){return e!==Qm?!1:t!==P1},bx=function(e,t,r){return e===fi?j1(t)||tu(t,r):j1(e)?!0:!!(e===Qm&&tu(e,t))},oy=function(e,t,r){return e===Bd||e===fi?Us(t)?!0:t===fp&&Us(r):Us(e===fp?t:e)},RAe=function(e){var t=0,r=1;(e[t]===Bd||e[t]===fi)&&(e[t]===fi&&(r=-1),t++);for(var n=[];Us(e[t]);)n.push(e[t++]);var a=n.length?parseInt(pa.apply(void 0,n),10):0;e[t]===fp&&t++;for(var s=[];Us(e[t]);)s.push(e[t++]);var i=s.length,o=i?parseInt(pa.apply(void 0,s),10):0;(e[t]===l8||e[t]===i8)&&t++;var c=1;(e[t]===Bd||e[t]===fi)&&(e[t]===fi&&(c=-1),t++);for(var u=[];Us(e[t]);)u.push(e[t++]);var f=u.length?parseInt(pa.apply(void 0,u),10):0;return r*(a+o*Math.pow(10,-i))*Math.pow(10,c*f)},MAe={type:2},PAe={type:3},jAe={type:4},OAe={type:13},QAe={type:8},HAe={type:21},VAe={type:9},GAe={type:10},zAe={type:11},KAe={type:12},qAe={type:14},Cx={type:23},WAe={type:1},$Ae={type:25},YAe={type:24},JAe={type:26},XAe={type:27},ZAe={type:28},eue={type:29},tue={type:31},Gb={type:32},A8=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Tv(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==Gb;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case gx:return this.consumeStringToken(gx);case tAe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(R3(r)||tu(n,a)){var s=bx(r,n,a)?Xce:Jce,i=this.consumeName();return{type:5,value:i,flags:s}}break;case rAe:if(this.peekCodePoint(0)===am)return this.consumeCodePoint(),OAe;break;case xx:return this.consumeStringToken(xx);case vx:return MAe;case sm:return PAe;case iy:if(this.peekCodePoint(0)===am)return this.consumeCodePoint(),qAe;break;case Bd:if(oy(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case pAe:return jAe;case fi:var o=t,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(oy(o,c,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(bx(o,c,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===fi&&u===oAe)return this.consumeCodePoint(),this.consumeCodePoint(),YAe;break;case fp:if(oy(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case U3:if(this.peekCodePoint(0)===iy)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===iy&&(f=this.consumeCodePoint(),f===U3))return this.consumeToken();if(f===Hl)return this.consumeToken()}break;case gAe:return JAe;case xAe:return XAe;case iAe:if(this.peekCodePoint(0)===sAe&&this.peekCodePoint(1)===fi&&this.peekCodePoint(2)===fi)return this.consumeCodePoint(),this.consumeCodePoint(),$Ae;break;case lAe:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(bx(h,p,g)){var i=this.consumeName();return{type:7,value:i}}break;case cAe:return ZAe;case Qm:if(tu(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case AAe:return eue;case uAe:if(this.peekCodePoint(0)===am)return this.consumeCodePoint(),QAe;break;case dAe:return zAe;case fAe:return KAe;case BAe:case _Ae:var b=this.peekCodePoint(0),y=this.peekCodePoint(1);return b===Bd&&(Jf(y)||y===wx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case D3:if(this.peekCodePoint(0)===am)return this.consumeCodePoint(),VAe;if(this.peekCodePoint(0)===D3)return this.consumeCodePoint(),HAe;break;case hAe:if(this.peekCodePoint(0)===am)return this.consumeCodePoint(),GAe;break;case Hl:return Gb}return yx(t)?(this.consumeWhiteSpace(),tue):Us(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):j1(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:pa(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Jf(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===wx&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(pa.apply(void 0,t.map(function(c){return c===wx?a8:c})),16),s=parseInt(pa.apply(void 0,t.map(function(c){return c===wx?c8:c})),16);return{type:30,start:a,end:s}}var i=parseInt(pa.apply(void 0,t),16);if(this.peekCodePoint(0)===fi&&Jf(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];Jf(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(pa.apply(void 0,o),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===vx?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===vx?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Hl)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===xx||r===gx){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Hl||this.peekCodePoint(0)===sm)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Cx)}for(;;){var a=this.consumeCodePoint();if(a===Hl||a===sm)return{type:22,value:pa.apply(void 0,t)};if(yx(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Hl||this.peekCodePoint(0)===sm?(this.consumeCodePoint(),{type:22,value:pa.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Cx);if(a===gx||a===xx||a===vx||LAe(a))return this.consumeBadUrlRemnants(),Cx;if(a===Qm)if(tu(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Cx;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;yx(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===sm||t===Hl)return;tu(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=pa.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===Hl||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===P1)return this._value.splice(0,n),WAe;if(a===Qm){var s=this._value[n+1];s!==Hl&&s!==void 0&&(s===P1?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):tu(a,s)&&(r+=this.consumeStringSlice(n),r+=pa(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Pp,n=this.peekCodePoint(0);for((n===Bd||n===fi)&&t.push(this.consumeCodePoint());Us(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===fp&&Us(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=I3;Us(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===l8||n===i8)&&((a===Bd||a===fi)&&Us(s)||Us(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=I3;Us(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[RAe(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(bx(a,s,i)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return a===nAe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Jf(t)){for(var r=pa(t);Jf(this.peekCodePoint(0))&&r.length<6;)r+=pa(this.consumeCodePoint());yx(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||kAe(n)||n>1114111?L3:n}return t===Hl?L3:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(R3(r))t+=pa(r);else if(tu(r,this.peekCodePoint(0)))t+=pa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),u8=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new A8;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||nue(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Gb:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),jp=function(e){return e.type===15},ih=function(e){return e.type===17},pn=function(e){return e.type===20},rue=function(e){return e.type===0},zb=function(e,t){return pn(e)&&e.value===t},d8=function(e){return e.type!==31},K0=function(e){return e.type!==31&&e.type!==4},nc=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},nue=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Tu=function(e){return e.type===17||e.type===15},Ua=function(e){return e.type===16||Tu(e)},f8=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},ms={type:17,number:0,flags:Pp},_5={type:16,number:50,flags:Pp},fu={type:16,number:100,flags:Pp},bm=function(e,t,r){var n=e[0],a=e[1];return[Nn(n,t),Nn(typeof a<"u"?a:n,r)]},Nn=function(e,t){if(e.type===16)return e.number/100*t;if(jp(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},h8="deg",m8="grad",p8="rad",g8="turn",kv={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case h8:return Math.PI*t.number/180;case m8:return Math.PI/200*t.number;case p8:return t.number;case g8:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},x8=function(e){return e.type===15&&(e.unit===h8||e.unit===m8||e.unit===p8||e.unit===g8)},v8=function(e){var t=e.filter(pn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ms,ms];case"to top":case"bottom":return ho(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ms,fu];case"to right":case"left":return ho(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[fu,fu];case"to bottom":case"top":return ho(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[fu,ms];case"to left":case"right":return ho(270)}return 0},ho=function(e){return Math.PI*e/180},xu={name:"color",parse:function(e,t){if(t.type===18){var r=aue[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3);return hu(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3),i=t.value.substring(3,4);return hu(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6);return hu(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6),i=t.value.substring(6,8);return hu(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(i,16)/255)}}if(t.type===20){var o=zc[t.value.toUpperCase()];if(typeof o<"u")return o}return zc.TRANSPARENT}},vu=function(e){return(255&e)===0},$a=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},hu=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},M3=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},P3=function(e,t){var r=t.filter(K0);if(r.length===3){var n=r.map(M3),a=n[0],s=n[1],i=n[2];return hu(a,s,i,1)}if(r.length===4){var o=r.map(M3),a=o[0],s=o[1],i=o[2],c=o[3];return hu(a,s,i,c)}return 0};function ly(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var j3=function(e,t){var r=t.filter(K0),n=r[0],a=r[1],s=r[2],i=r[3],o=(n.type===17?ho(n.number):kv.parse(e,n))/(Math.PI*2),c=Ua(a)?a.number/100:0,u=Ua(s)?s.number/100:0,f=typeof i<"u"&&Ua(i)?Nn(i,1):1;if(c===0)return hu(u*255,u*255,u*255,1);var h=u<=.5?u*(c+1):u+c-u*c,p=u*2-h,g=ly(p,h,o+1/3),b=ly(p,h,o),y=ly(p,h,o-1/3);return hu(g*255,b*255,y*255,f)},aue={hsl:j3,hsla:j3,rgb:P3,rgba:P3},Hm=function(e,t){return xu.parse(e,u8.create(t).parseComponentValue())},zc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},sue={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(pn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},iue={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fv=function(e,t){var r=xu.parse(e,t[0]),n=t[1];return n&&Ua(n)?{color:r,stop:n}:{color:r,stop:null}},O3=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=ms),n.stop===null&&(n.stop=fu);for(var a=[],s=0,i=0;i<e.length;i++){var o=e[i].stop;if(o!==null){var c=Nn(o,t);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var u=null,i=0;i<a.length;i++){var f=a[i];if(f===null)u===null&&(u=i);else if(u!==null){for(var h=i-u,p=a[u-1],g=(f-p)/(h+1),b=1;b<=h;b++)a[u+b-1]=g*b;u=null}}return e.map(function(y,E){var S=y.color;return{color:S,stop:Math.max(Math.min(1,a[E]/t),0)}})},oue=function(e,t,r){var n=t/2,a=r/2,s=Nn(e[0],t)-n,i=a-Nn(e[1],r);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},lue=function(e,t,r){var n=typeof e=="number"?e:oue(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),s=t/2,i=r/2,o=a/2,c=Math.sin(n-Math.PI/2)*o,u=Math.cos(n-Math.PI/2)*o;return[a,s-u,s+u,i-c,i+c]},Wo=function(e,t){return Math.sqrt(e*e+t*t)},Q3=function(e,t,r,n,a){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(i,o){var c=o[0],u=o[1],f=Wo(r-c,n-u);return(a?f<i.optimumDistance:f>i.optimumDistance)?{optimumCorner:o,optimumDistance:f}:i},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},cue=function(e,t,r,n,a){var s=0,i=0;switch(e.size){case 0:e.shape===0?s=i=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-n)),i=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)s=i=Math.min(Wo(t,r),Wo(t,r-a),Wo(t-n,r),Wo(t-n,r-a));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),c=Q3(n,a,t,r,!0),u=c[0],f=c[1];s=Wo(u-t,(f-r)/o),i=o*s}break;case 1:e.shape===0?s=i=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-n)),i=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)s=i=Math.max(Wo(t,r),Wo(t,r-a),Wo(t-n,r),Wo(t-n,r-a));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),h=Q3(n,a,t,r,!1),u=h[0],f=h[1];s=Wo(u-t,(f-r)/o),i=o*s}break}return Array.isArray(e.size)&&(s=Nn(e.size[0],n),i=e.size.length===2?Nn(e.size[1],a):s),[s,i]},Aue=function(e,t){var r=ho(180),n=[];return nc(t).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&i.value==="to"){r=v8(a);return}else if(x8(i)){r=kv.parse(e,i);return}}var o=Fv(e,a);n.push(o)}),{angle:r,stops:n,type:1}},Ex=function(e,t){var r=ho(180),n=[];return nc(t).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){r=v8(a);return}else if(x8(i)){r=(kv.parse(e,i)+ho(270))%ho(360);return}}var o=Fv(e,a);n.push(o)}),{angle:r,stops:n,type:1}},uue=function(e,t){var r=ho(180),n=[],a=1,s=0,i=3,o=[];return nc(t).forEach(function(c,u){var f=c[0];if(u===0){if(pn(f)&&f.value==="linear"){a=1;return}else if(pn(f)&&f.value==="radial"){a=2;return}}if(f.type===18){if(f.name==="from"){var h=xu.parse(e,f.values[0]);n.push({stop:ms,color:h})}else if(f.name==="to"){var h=xu.parse(e,f.values[0]);n.push({stop:fu,color:h})}else if(f.name==="color-stop"){var p=f.values.filter(K0);if(p.length===2){var h=xu.parse(e,p[1]),g=p[0];ih(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),a===1?{angle:(r+ho(180))%ho(360),stops:n,type:a}:{size:i,shape:s,stops:n,position:o,type:a}},w8="closest-side",y8="farthest-side",b8="closest-corner",C8="farthest-corner",E8="circle",S8="ellipse",B8="cover",N8="contain",due=function(e,t){var r=0,n=3,a=[],s=[];return nc(t).forEach(function(i,o){var c=!0;if(o===0){var u=!1;c=i.reduce(function(h,p){if(u)if(pn(p))switch(p.value){case"center":return s.push(_5),h;case"top":case"left":return s.push(ms),h;case"right":case"bottom":return s.push(fu),h}else(Ua(p)||Tu(p))&&s.push(p);else if(pn(p))switch(p.value){case E8:return r=0,!1;case S8:return r=1,!1;case"at":return u=!0,!1;case w8:return n=0,!1;case B8:case y8:return n=1,!1;case N8:case b8:return n=2,!1;case C8:return n=3,!1}else if(Tu(p)||Ua(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return h},c)}if(c){var f=Fv(e,i);a.push(f)}}),{size:n,shape:r,stops:a,position:s,type:2}},Sx=function(e,t){var r=0,n=3,a=[],s=[];return nc(t).forEach(function(i,o){var c=!0;if(o===0?c=i.reduce(function(f,h){if(pn(h))switch(h.value){case"center":return s.push(_5),!1;case"top":case"left":return s.push(ms),!1;case"right":case"bottom":return s.push(fu),!1}else if(Ua(h)||Tu(h))return s.push(h),!1;return f},c):o===1&&(c=i.reduce(function(f,h){if(pn(h))switch(h.value){case E8:return r=0,!1;case S8:return r=1,!1;case N8:case w8:return n=0,!1;case y8:return n=1,!1;case b8:return n=2,!1;case B8:case C8:return n=3,!1}else if(Tu(h)||Ua(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return f},c)),c){var u=Fv(e,i);a.push(u)}}),{size:n,shape:r,stops:a,position:s,type:2}},fue=function(e){return e.type===1},hue=function(e){return e.type===2},T5={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=_8[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function mue(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!_8[e.name])}var _8={"linear-gradient":Aue,"-moz-linear-gradient":Ex,"-ms-linear-gradient":Ex,"-o-linear-gradient":Ex,"-webkit-linear-gradient":Ex,"radial-gradient":due,"-moz-radial-gradient":Sx,"-ms-radial-gradient":Sx,"-o-radial-gradient":Sx,"-webkit-radial-gradient":Sx,"-webkit-gradient":uue},pue={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return K0(n)&&mue(n)}).map(function(n){return T5.parse(e,n)})}},gue={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(pn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xue={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return nc(t).map(function(r){return r.filter(Ua)}).map(f8)}},vue={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return nc(t).map(function(r){return r.filter(pn).map(function(n){return n.value}).join(" ")}).map(wue)}},wue=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},L0;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(L0||(L0={}));var yue={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return nc(t).map(function(r){return r.filter(bue)})}},bue=function(e){return pn(e)||Ua(e)},Iv=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Cue=Iv("top"),Eue=Iv("right"),Sue=Iv("bottom"),Bue=Iv("left"),Uv=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return f8(r.filter(Ua))}}},Nue=Uv("top-left"),_ue=Uv("top-right"),Tue=Uv("bottom-right"),kue=Uv("bottom-left"),Dv=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Fue=Dv("top"),Iue=Dv("right"),Uue=Dv("bottom"),Due=Dv("left"),Lv=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return jp(r)?r.number:0}}},Lue=Lv("top"),Rue=Lv("right"),Mue=Lv("bottom"),Pue=Lv("left"),jue={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Oue={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Que={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(pn).reduce(function(r,n){return r|Hue(n.value)},0)}},Hue=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Vue={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Gue={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},O1;(function(e){e.NORMAL="normal",e.STRICT="strict"})(O1||(O1={}));var zue={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return O1.STRICT;case"normal":default:return O1.NORMAL}}},Kue={name:"line-height",initialValue:"normal",prefix:!1,type:4},H3=function(e,t){return pn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Ua(e)?Nn(e,t):t},que={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:T5.parse(e,t)}},Wue={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Kb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Rv=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},$ue=Rv("top"),Yue=Rv("right"),Jue=Rv("bottom"),Xue=Rv("left"),Zue={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(pn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ede={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Mv=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},tde=Mv("top"),rde=Mv("right"),nde=Mv("bottom"),ade=Mv("left"),sde={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ide={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ode={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&zb(t[0],"none")?[]:nc(t).map(function(r){for(var n={color:zc.TRANSPARENT,offsetX:ms,offsetY:ms,blur:ms},a=0,s=0;s<r.length;s++){var i=r[s];Tu(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:n.blur=i,a++):n.color=xu.parse(e,i)}return n})}},lde={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},cde={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=dde[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Ade=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},ude=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,a,s,i,o]:null},dde={matrix:Ade,matrix3d:ude},V3={type:16,number:50,flags:Pp},fde=[V3,V3],hde={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Ua);return r.length!==2?fde:[r[0],r[1]]}},mde={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Vm;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Vm||(Vm={}));var pde={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Vm.BREAK_ALL;case"keep-all":return Vm.KEEP_ALL;case"normal":default:return Vm.NORMAL}}},gde={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(ih(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},T8={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},xde={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return ih(t)?t.number:1}},vde={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wde={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(pn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},yde={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},bde={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Cde={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(ih(t))return t.number;if(pn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ede={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(pn).map(function(r){return r.value})}},Sde={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Pa=function(e,t){return(e&t)!==0},Bde={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Nde={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(d8),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(i.type===20){var c=o&&ih(o)?o.number:1;n.push({counter:i.value,increment:c})}}return n}},_de={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(d8),a=0;a<n.length;a++){var s=n[a],i=n[a+1];if(pn(s)&&s.value!=="none"){var o=i&&ih(i)?i.number:0;r.push({counter:s.value,reset:o})}}return r}},Tde={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(jp).map(function(r){return T8.parse(e,r)})}},kde={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(rue);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var i=a[s].value,o=a[s+1].value;n.push({open:i,close:o})}return n}},G3=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},Fde={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&zb(t[0],"none")?[]:nc(t).map(function(r){for(var n={color:255,offsetX:ms,offsetY:ms,blur:ms,spread:ms,inset:!1},a=0,s=0;s<r.length;s++){var i=r[s];zb(i,"inset")?n.inset=!0:Tu(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:a===2?n.blur=i:n.spread=i,a++):n.color=xu.parse(e,i)}return n})}},Ide={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(pn).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},Ude={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Dde={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return jp(t)?t.number:0}},Lde=function(){function e(t,r){var n,a;this.animationDuration=Dt(t,Tde,r.animationDuration),this.backgroundClip=Dt(t,sue,r.backgroundClip),this.backgroundColor=Dt(t,iue,r.backgroundColor),this.backgroundImage=Dt(t,pue,r.backgroundImage),this.backgroundOrigin=Dt(t,gue,r.backgroundOrigin),this.backgroundPosition=Dt(t,xue,r.backgroundPosition),this.backgroundRepeat=Dt(t,vue,r.backgroundRepeat),this.backgroundSize=Dt(t,yue,r.backgroundSize),this.borderTopColor=Dt(t,Cue,r.borderTopColor),this.borderRightColor=Dt(t,Eue,r.borderRightColor),this.borderBottomColor=Dt(t,Sue,r.borderBottomColor),this.borderLeftColor=Dt(t,Bue,r.borderLeftColor),this.borderTopLeftRadius=Dt(t,Nue,r.borderTopLeftRadius),this.borderTopRightRadius=Dt(t,_ue,r.borderTopRightRadius),this.borderBottomRightRadius=Dt(t,Tue,r.borderBottomRightRadius),this.borderBottomLeftRadius=Dt(t,kue,r.borderBottomLeftRadius),this.borderTopStyle=Dt(t,Fue,r.borderTopStyle),this.borderRightStyle=Dt(t,Iue,r.borderRightStyle),this.borderBottomStyle=Dt(t,Uue,r.borderBottomStyle),this.borderLeftStyle=Dt(t,Due,r.borderLeftStyle),this.borderTopWidth=Dt(t,Lue,r.borderTopWidth),this.borderRightWidth=Dt(t,Rue,r.borderRightWidth),this.borderBottomWidth=Dt(t,Mue,r.borderBottomWidth),this.borderLeftWidth=Dt(t,Pue,r.borderLeftWidth),this.boxShadow=Dt(t,Fde,r.boxShadow),this.color=Dt(t,jue,r.color),this.direction=Dt(t,Oue,r.direction),this.display=Dt(t,Que,r.display),this.float=Dt(t,Vue,r.cssFloat),this.fontFamily=Dt(t,yde,r.fontFamily),this.fontSize=Dt(t,bde,r.fontSize),this.fontStyle=Dt(t,Sde,r.fontStyle),this.fontVariant=Dt(t,Ede,r.fontVariant),this.fontWeight=Dt(t,Cde,r.fontWeight),this.letterSpacing=Dt(t,Gue,r.letterSpacing),this.lineBreak=Dt(t,zue,r.lineBreak),this.lineHeight=Dt(t,Kue,r.lineHeight),this.listStyleImage=Dt(t,que,r.listStyleImage),this.listStylePosition=Dt(t,Wue,r.listStylePosition),this.listStyleType=Dt(t,Kb,r.listStyleType),this.marginTop=Dt(t,$ue,r.marginTop),this.marginRight=Dt(t,Yue,r.marginRight),this.marginBottom=Dt(t,Jue,r.marginBottom),this.marginLeft=Dt(t,Xue,r.marginLeft),this.opacity=Dt(t,xde,r.opacity);var s=Dt(t,Zue,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Dt(t,ede,r.overflowWrap),this.paddingTop=Dt(t,tde,r.paddingTop),this.paddingRight=Dt(t,rde,r.paddingRight),this.paddingBottom=Dt(t,nde,r.paddingBottom),this.paddingLeft=Dt(t,ade,r.paddingLeft),this.paintOrder=Dt(t,Ide,r.paintOrder),this.position=Dt(t,ide,r.position),this.textAlign=Dt(t,sde,r.textAlign),this.textDecorationColor=Dt(t,vde,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Dt(t,wde,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=Dt(t,ode,r.textShadow),this.textTransform=Dt(t,lde,r.textTransform),this.transform=Dt(t,cde,r.transform),this.transformOrigin=Dt(t,hde,r.transformOrigin),this.visibility=Dt(t,mde,r.visibility),this.webkitTextStrokeColor=Dt(t,Ude,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Dt(t,Dde,r.webkitTextStrokeWidth),this.wordBreak=Dt(t,pde,r.wordBreak),this.zIndex=Dt(t,gde,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return vu(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Pa(this.display,4)||Pa(this.display,33554432)||Pa(this.display,268435456)||Pa(this.display,536870912)||Pa(this.display,67108864)||Pa(this.display,134217728)},e}(),Rde=function(){function e(t,r){this.content=Dt(t,Bde,r.content),this.quotes=Dt(t,kde,r.quotes)}return e}(),z3=function(){function e(t,r){this.counterIncrement=Dt(t,Nde,r.counterIncrement),this.counterReset=Dt(t,_de,r.counterReset)}return e}(),Dt=function(e,t,r){var n=new A8,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var s=new u8(n.read());switch(t.type){case 2:var i=s.parseComponentValue();return t.parse(e,pn(i)?i.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return kv.parse(e,s.parseComponentValue());case"color":return xu.parse(e,s.parseComponentValue());case"image":return T5.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Tu(o)?o:ms;case"length-percentage":var c=s.parseComponentValue();return Ua(c)?c:ms;case"time":return T8.parse(e,s.parseComponentValue())}break}},Mde="data-html2canvas-debug",Pde=function(e){var t=e.getAttribute(Mde);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},qb=function(e,t){var r=Pde(e);return r===1||t===r},ac=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,qb(r,3))debugger;this.styles=new Lde(t,window.getComputedStyle(r,null)),Yb(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=_v(this.context,r),qb(r,4)&&(this.flags|=16)}return e}(),jde="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",K3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bx=0;Bx<K3.length;Bx++)Cm[K3.charCodeAt(Bx)]=Bx;var Ode=function(e){var t=e.length*.75,r=e.length,n,a=0,s,i,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=Cm[e.charCodeAt(n)],i=Cm[e.charCodeAt(n+1)],o=Cm[e.charCodeAt(n+2)],c=Cm[e.charCodeAt(n+3)],f[a++]=s<<2|i>>4,f[a++]=(i&15)<<4|o>>2,f[a++]=(o&3)<<6|c&63;return u},Qde=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Hde=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Rd=5,k5=11,cy=2,Vde=k5-Rd,k8=65536>>Rd,Gde=1<<Rd,Ay=Gde-1,zde=1024>>Rd,Kde=k8+zde,qde=Kde,Wde=32,$de=qde+Wde,Yde=65536>>k5,Jde=1<<Vde,Xde=Jde-1,q3=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Zde=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},efe=function(e,t){var r=Ode(e),n=Array.isArray(r)?Hde(r):new Uint32Array(r),a=Array.isArray(r)?Qde(r):new Uint16Array(r),s=24,i=q3(a,s/2,n[4]/2),o=n[5]===2?q3(a,(s+n[4])/2):Zde(n,Math.ceil((s+n[4])/4));return new tfe(n[0],n[1],n[2],n[3],i,o)},tfe=function(){function e(t,r,n,a,s,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Rd],r=(r<<cy)+(t&Ay),this.data[r];if(t<=65535)return r=this.index[k8+(t-55296>>Rd)],r=(r<<cy)+(t&Ay),this.data[r];if(t<this.highStart)return r=$de-Yde+(t>>k5),r=this.index[r],r+=t>>Rd&Xde,r=this.index[r],r=(r<<cy)+(t&Ay),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),W3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rfe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nx=0;Nx<W3.length;Nx++)rfe[W3.charCodeAt(Nx)]=Nx;var nfe=1,uy=2,dy=3,$3=4,Y3=5,afe=7,J3=8,fy=9,hy=10,X3=11,Z3=12,eT=13,tT=14,my=15,sfe=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},ife=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},ofe=efe(jde),co="×",py="÷",lfe=function(e){return ofe.get(e)},cfe=function(e,t,r){var n=r-2,a=t[n],s=t[r-1],i=t[r];if(s===uy&&i===dy)return co;if(s===uy||s===dy||s===$3||i===uy||i===dy||i===$3)return py;if(s===J3&&[J3,fy,X3,Z3].indexOf(i)!==-1||(s===X3||s===fy)&&(i===fy||i===hy)||(s===Z3||s===hy)&&i===hy||i===eT||i===Y3||i===afe||s===nfe)return co;if(s===eT&&i===tT){for(;a===Y3;)a=t[--n];if(a===tT)return co}if(s===my&&i===my){for(var o=0;a===my;)o++,a=t[--n];if(o%2===0)return co}return py},Afe=function(e){var t=sfe(e),r=t.length,n=0,a=0,s=t.map(lfe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var i=co;n<r&&(i=cfe(t,s,++n))===co;);if(i!==co||n===r){var o=ife.apply(null,t.slice(a,n));return a=n,{value:o,done:!1}}return{done:!0,value:null}}}},ufe=function(e){for(var t=Afe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},dfe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),s=Math.round(a.height);if(e.body.removeChild(n),s===t)return!0}}return!1},ffe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=Tv(n.data).map(function(c){return pa(c)}),s=0,i={},o=a.every(function(c,u){r.setStart(n,s),r.setEnd(n,s+c.length);var f=r.getBoundingClientRect();s+=c.length;var h=f.x>i.x||f.y>i.y;return i=f,u===0?!0:h});return e.body.removeChild(t),o},hfe=function(){return typeof new Image().crossOrigin<"u"},mfe=function(){return typeof new XMLHttpRequest().responseType=="string"},pfe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},rT=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},gfe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,s=t.toDataURL();a.src=s;var i=Wb(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),nT(i).then(function(o){n.drawImage(o,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=r+"px",rT(c)?nT(Wb(r,r,0,0,u)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),rT(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Wb=function(e,t,r,n,a){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(a),i},nT=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ds={get SUPPORT_RANGE_BOUNDS(){var e=dfe(document);return Object.defineProperty(ds,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ds.SUPPORT_RANGE_BOUNDS&&ffe(document);return Object.defineProperty(ds,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=pfe(document);return Object.defineProperty(ds,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?gfe(document):Promise.resolve(!1);return Object.defineProperty(ds,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=hfe();return Object.defineProperty(ds,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=mfe();return Object.defineProperty(ds,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ds,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ds,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Gm=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),xfe=function(e,t,r,n){var a=yfe(t,r),s=[],i=0;return a.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(ds.SUPPORT_RANGE_BOUNDS){var c=aT(n,i,o.length).getClientRects();if(c.length>1){var u=F5(o),f=0;u.forEach(function(p){s.push(new Gm(p,Yc.fromDOMRectList(e,aT(n,f+i,p.length).getClientRects()))),f+=p.length})}else s.push(new Gm(o,Yc.fromDOMRectList(e,c)))}else{var h=n.splitText(o.length);s.push(new Gm(o,vfe(e,n))),n=h}else ds.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));i+=o.length}),s},vfe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var s=_v(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return Yc.EMPTY},aT=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},F5=function(e){if(ds.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return ufe(e)},wfe=function(e,t){if(ds.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return Cfe(e,t)},yfe=function(e,t){return t.letterSpacing!==0?F5(e):wfe(e,t)},bfe=[32,160,4961,65792,65793,4153,4241],Cfe=function(e,t){for(var r=Yce(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,s=function(){if(a.value){var i=a.value.slice(),o=Tv(i),c="";o.forEach(function(u){bfe.indexOf(u)===-1?c+=pa(u):(c.length&&n.push(c),n.push(pa(u)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)s();return n},Efe=function(){function e(t,r,n){this.text=Sfe(r.data,n.textTransform),this.textBounds=xfe(t,this.text,n,r)}return e}(),Sfe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Bfe,Nfe);case 2:return e.toUpperCase();default:return e}},Bfe=/(^|\s|:|-|\(|\))([a-z])/g,Nfe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},F8=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(ac),I8=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(ac),U8=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=new XMLSerializer,i=_v(r,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(ac),D8=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(ac),$b=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(ac),_fe=[{type:15,flags:0,unit:"px",number:3}],Tfe=[{type:16,flags:0,number:50}],kfe=function(e){return e.width>e.height?new Yc(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Yc(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Ffe=function(e){var t=e.type===Ife?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},Q1="checkbox",H1="radio",Ife="password",sT=707406591,I5=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=Ffe(n),(a.type===Q1||a.type===H1)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=kfe(a.bounds)),a.type){case Q1:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=_fe;break;case H1:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Tfe;break}return a}return t}(ac),L8=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return t}(ac),R8=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(ac),M8=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=j8(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Hm(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):zc.TRANSPARENT,i=n.contentWindow.document.body?Hm(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):zc.TRANSPARENT;a.backgroundColor=vu(s)?vu(i)?a.styles.backgroundColor:i:s}}catch{}return a}return t}(ac),Ufe=["OL","UL","MENU"],t1=function(e,t,r,n){for(var a=t.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,O8(a)&&a.data.trim().length>0)r.textNodes.push(new Efe(e,a,r.styles));else if(g0(a))if(G8(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return t1(e,o,r,n)});else{var i=P8(e,a);i.styles.isVisible()&&(Dfe(a,i,n)?i.flags|=4:Lfe(i.styles)&&(i.flags|=2),Ufe.indexOf(a.tagName)!==-1&&(i.flags|=8),r.elements.push(i),a.slot,a.shadowRoot?t1(e,a.shadowRoot,i,n):!V1(a)&&!Q8(a)&&!G1(a)&&t1(e,a,i,n))}},P8=function(e,t){return Jb(t)?new F8(e,t):H8(t)?new I8(e,t):Q8(t)?new U8(e,t):Rfe(t)?new D8(e,t):Mfe(t)?new $b(e,t):Pfe(t)?new I5(e,t):G1(t)?new L8(e,t):V1(t)?new R8(e,t):V8(t)?new M8(e,t):new ac(e,t)},j8=function(e,t){var r=P8(e,t);return r.flags|=4,t1(e,t,r,r),r},Dfe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||U5(e)&&r.styles.isTransparent()},Lfe=function(e){return e.isPositioned()||e.isFloating()},O8=function(e){return e.nodeType===Node.TEXT_NODE},g0=function(e){return e.nodeType===Node.ELEMENT_NODE},Yb=function(e){return g0(e)&&typeof e.style<"u"&&!r1(e)},r1=function(e){return typeof e.className=="object"},Rfe=function(e){return e.tagName==="LI"},Mfe=function(e){return e.tagName==="OL"},Pfe=function(e){return e.tagName==="INPUT"},jfe=function(e){return e.tagName==="HTML"},Q8=function(e){return e.tagName==="svg"},U5=function(e){return e.tagName==="BODY"},H8=function(e){return e.tagName==="CANVAS"},iT=function(e){return e.tagName==="VIDEO"},Jb=function(e){return e.tagName==="IMG"},V8=function(e){return e.tagName==="IFRAME"},oT=function(e){return e.tagName==="STYLE"},Ofe=function(e){return e.tagName==="SCRIPT"},V1=function(e){return e.tagName==="TEXTAREA"},G1=function(e){return e.tagName==="SELECT"},G8=function(e){return e.tagName==="SLOT"},lT=function(e){return e.tagName.indexOf("-")>0},Qfe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,s=!0;n!==null&&n.forEach(function(o){var c=r.counters[o.counter];c&&o.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var i=[];return s&&a.forEach(function(o){var c=r.counters[o.counter];i.push(o.counter),c||(c=r.counters[o.counter]=[]),c.push(o.reset)}),i},e}(),cT={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},AT={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Hfe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Vfe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Xf=function(e,t,r,n,a,s){return e<t||e>r?hp(e,a,s.length>0):n.integers.reduce(function(i,o,c){for(;e>=o;)e-=o,i+=n.values[c];return i},"")+s},z8=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},ha=function(e,t,r,n,a){var s=r-t+1;return(e<0?"-":"")+(z8(Math.abs(e),s,n,function(i){return pa(Math.floor(i%s)+t)})+a)},gd=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return z8(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},u0=1,ZA=2,eu=4,Em=8,Lc=function(e,t,r,n,a,s){if(e<-9999||e>9999)return hp(e,4,a.length>0);var i=Math.abs(e),o=a;if(i===0)return t[0]+o;for(var c=0;i>0&&c<=4;c++){var u=i%10;u===0&&Pa(s,u0)&&o!==""?o=t[u]+o:u>1||u===1&&c===0||u===1&&c===1&&Pa(s,ZA)||u===1&&c===1&&Pa(s,eu)&&e>100||u===1&&c>1&&Pa(s,Em)?o=t[u]+(c>0?r[c-1]:"")+o:u===1&&c>0&&(o=r[c-1]+o),i=Math.floor(i/10)}return(e<0?n:"")+o},uT="十百千萬",dT="拾佰仟萬",fT="マイナス",gy="마이너스",hp=function(e,t,r){var n=r?". ":"",a=r?"、":"",s=r?", ":"",i=r?" ":"";switch(t){case 0:return"•"+i;case 1:return"◦"+i;case 2:return"◾"+i;case 5:var o=ha(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return gd(e,"〇一二三四五六七八九",a);case 6:return Xf(e,1,3999,cT,3,n).toLowerCase();case 7:return Xf(e,1,3999,cT,3,n);case 8:return ha(e,945,969,!1,n);case 9:return ha(e,97,122,!1,n);case 10:return ha(e,65,90,!1,n);case 11:return ha(e,1632,1641,!0,n);case 12:case 49:return Xf(e,1,9999,AT,3,n);case 35:return Xf(e,1,9999,AT,3,n).toLowerCase();case 13:return ha(e,2534,2543,!0,n);case 14:case 30:return ha(e,6112,6121,!0,n);case 15:return gd(e,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return gd(e,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return Lc(e,"零一二三四五六七八九",uT,"負",a,ZA|eu|Em);case 47:return Lc(e,"零壹貳參肆伍陸柒捌玖",dT,"負",a,u0|ZA|eu|Em);case 42:return Lc(e,"零一二三四五六七八九",uT,"负",a,ZA|eu|Em);case 41:return Lc(e,"零壹贰叁肆伍陆柒捌玖",dT,"负",a,u0|ZA|eu|Em);case 26:return Lc(e,"〇一二三四五六七八九","十百千万",fT,a,0);case 25:return Lc(e,"零壱弐参四伍六七八九","拾百千万",fT,a,u0|ZA|eu);case 31:return Lc(e,"영일이삼사오육칠팔구","십백천만",gy,s,u0|ZA|eu);case 33:return Lc(e,"零一二三四五六七八九","十百千萬",gy,s,0);case 32:return Lc(e,"零壹貳參四五六七八九","拾百千",gy,s,u0|ZA|eu);case 18:return ha(e,2406,2415,!0,n);case 20:return Xf(e,1,19999,Vfe,3,n);case 21:return ha(e,2790,2799,!0,n);case 22:return ha(e,2662,2671,!0,n);case 22:return Xf(e,1,10999,Hfe,3,n);case 23:return gd(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return gd(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return ha(e,3302,3311,!0,n);case 28:return gd(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return gd(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return ha(e,3792,3801,!0,n);case 37:return ha(e,6160,6169,!0,n);case 38:return ha(e,4160,4169,!0,n);case 39:return ha(e,2918,2927,!0,n);case 40:return ha(e,1776,1785,!0,n);case 43:return ha(e,3046,3055,!0,n);case 44:return ha(e,3174,3183,!0,n);case 45:return ha(e,3664,3673,!0,n);case 46:return ha(e,3872,3881,!0,n);case 3:default:return ha(e,48,57,!0,n)}},K8="data-html2canvas-ignore",hT=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Qfe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=Gfe(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,i=t.defaultView.pageYOffset,o=a.contentWindow,c=o.document,u=qfe(a).then(function(){return Ys(n,void 0,void 0,function(){var f,h;return ks(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(Jfe),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Kfe(c)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write($fe(document.doctype)+"<html></html>"),Yfe(this.referenceElement.ownerDocument,s,i),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(t){if(qb(t,2))debugger;if(H8(t))return this.createCanvasClone(t);if(iT(t))return this.createVideoClone(t);if(oT(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return Jb(r)&&(Jb(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),lT(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return xy(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var s=t.getContext("2d"),i=a.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var c=o.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!g0(r)||!Ofe(r)&&!r.hasAttribute(K8)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!g0(r)||!oT(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(g0(s)&&G8(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(o){return a.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},e.prototype.cloneNode=function(t,r){if(O8(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&g0(t)&&(Yb(t)||r1(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var s=n.getComputedStyle(t),i=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&Yb(a)&&(this.clonedReferenceElement=a),U5(a)&&e0e(a);var c=this.counters.parse(new z3(this.context,s)),u=this.resolvePseudoContent(t,a,i,zm.BEFORE);lT(t)&&(r=!0),iT(t)||this.cloneChildNodes(t,a,r),u&&a.insertBefore(u,a.firstChild);var f=this.resolvePseudoContent(t,a,o,zm.AFTER);return f&&a.appendChild(f),this.counters.pop(c),(s&&(this.options.copyStyles||r1(t))&&!V8(t)||r)&&xy(s,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(V1(t)||G1(t))&&(V1(a)||G1(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var s=this;if(n){var i=n.content,o=r.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new z3(this.context,n));var c=new Rde(this.context,n),u=o.createElement("html2canvaspseudoelement");xy(n,u),c.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var p=o.createElement("img");p.src=h.value,p.style.opacity="1",u.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(pn);g.length&&u.appendChild(o.createTextNode(t.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(K0),y=b[0],E=b[1];if(y&&pn(y)){var S=s.counters.getCounterValue(y.value),N=E&&pn(E)?Kb.parse(s.context,E.value):3;u.appendChild(o.createTextNode(hp(S,N,!1)))}}else if(h.name==="counters"){var B=h.values.filter(K0),y=B[0],_=B[1],E=B[2];if(y&&pn(y)){var k=s.counters.getCounterValues(y.value),U=E&&pn(E)?Kb.parse(s.context,E.value):3,F=_&&_.type===0?_.value:"",L=k.map(function(O){return hp(O,U,!1)}).join(F);u.appendChild(o.createTextNode(L))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(G3(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(G3(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=Xb+" "+Zb;var f=a===zm.BEFORE?" "+Xb:" "+Zb;return r1(r)?r.className.baseValue+=f:r.className+=f,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),zm;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(zm||(zm={}));var Gfe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(K8,"true"),e.body.appendChild(r),r},zfe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Kfe=function(e){return Promise.all([].slice.call(e.images,0).map(zfe))},qfe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},Wfe=["all","d","content"],xy=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);Wfe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},$fe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Yfe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},Jfe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},Xfe=":before",Zfe=":after",Xb="___html2canvas___pseudoelement_before",Zb="___html2canvas___pseudoelement_after",mT=`{
    content: "" !important;
    display: none !important;
}`,e0e=function(e){t0e(e,"."+Xb+Xfe+mT+`
         .`+Zb+Zfe+mT)},t0e=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},q8=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),r0e=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(wy(t)||i0e(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Ys(this,void 0,void 0,function(){var r,n,a,s,i=this;return ks(this,function(o){switch(o.label){case 0:return r=q8.isSameOrigin(t),n=!vy(t)&&this._options.useCORS===!0&&ds.SUPPORT_CORS_IMAGES&&!r,a=!vy(t)&&!r&&!wy(t)&&typeof this._options.proxy=="string"&&ds.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!vy(t)&&!wy(t)&&!a&&!n?[2]:(s=t,a?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,u){var f=new Image;f.onload=function(){return c(f)},f.onerror=u,(o0e(s)||n)&&(f.crossOrigin="anonymous"),f.src=s,f.complete===!0&&setTimeout(function(){return c(f)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(s,i){var o=ds.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")s(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(p){return i(p)},!1),h.readAsDataURL(c.response)}else i("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),r._options.imageTimeout){var f=r._options.imageTimeout;c.timeout=f,c.ontimeout=function(){return i("Timed out ("+f+"ms) proxying "+a)}}c.send()})},e}(),n0e=/^data:image\/svg\+xml/i,a0e=/^data:image\/.*;base64,/i,s0e=/^data:image\/.*/i,i0e=function(e){return ds.SUPPORT_SVG_DRAWING||!l0e(e)},vy=function(e){return s0e.test(e)},o0e=function(e){return a0e.test(e)},wy=function(e){return e.substr(0,4)==="blob"},l0e=function(e){return e.substr(-3).toLowerCase()==="svg"||n0e.test(e)},Ut=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Zf=function(e,t,r){return new Ut(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},_x=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=Zf(this.start,this.startControl,t),a=Zf(this.startControl,this.endControl,t),s=Zf(this.endControl,this.end,t),i=Zf(n,a,t),o=Zf(a,s,t),c=Zf(i,o,t);return r?new e(this.start,n,i,c):new e(c,o,s,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),uo=function(e){return e.type===1},c0e=function(){function e(t){var r=t.styles,n=t.bounds,a=bm(r.borderTopLeftRadius,n.width,n.height),s=a[0],i=a[1],o=bm(r.borderTopRightRadius,n.width,n.height),c=o[0],u=o[1],f=bm(r.borderBottomRightRadius,n.width,n.height),h=f[0],p=f[1],g=bm(r.borderBottomLeftRadius,n.width,n.height),b=g[0],y=g[1],E=[];E.push((s+c)/n.width),E.push((b+h)/n.width),E.push((i+y)/n.height),E.push((u+p)/n.height);var S=Math.max.apply(Math,E);S>1&&(s/=S,i/=S,c/=S,u/=S,h/=S,p/=S,b/=S,y/=S);var N=n.width-c,B=n.height-p,_=n.width-h,k=n.height-y,U=r.borderTopWidth,F=r.borderRightWidth,L=r.borderBottomWidth,D=r.borderLeftWidth,W=Nn(r.paddingTop,t.bounds.width),O=Nn(r.paddingRight,t.bounds.width),M=Nn(r.paddingBottom,t.bounds.width),K=Nn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?Hn(n.left+D/3,n.top+U/3,s-D/3,i-U/3,rn.TOP_LEFT):new Ut(n.left+D/3,n.top+U/3),this.topRightBorderDoubleOuterBox=s>0||i>0?Hn(n.left+N,n.top+U/3,c-F/3,u-U/3,rn.TOP_RIGHT):new Ut(n.left+n.width-F/3,n.top+U/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?Hn(n.left+_,n.top+B,h-F/3,p-L/3,rn.BOTTOM_RIGHT):new Ut(n.left+n.width-F/3,n.top+n.height-L/3),this.bottomLeftBorderDoubleOuterBox=b>0||y>0?Hn(n.left+D/3,n.top+k,b-D/3,y-L/3,rn.BOTTOM_LEFT):new Ut(n.left+D/3,n.top+n.height-L/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?Hn(n.left+D*2/3,n.top+U*2/3,s-D*2/3,i-U*2/3,rn.TOP_LEFT):new Ut(n.left+D*2/3,n.top+U*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?Hn(n.left+N,n.top+U*2/3,c-F*2/3,u-U*2/3,rn.TOP_RIGHT):new Ut(n.left+n.width-F*2/3,n.top+U*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?Hn(n.left+_,n.top+B,h-F*2/3,p-L*2/3,rn.BOTTOM_RIGHT):new Ut(n.left+n.width-F*2/3,n.top+n.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||y>0?Hn(n.left+D*2/3,n.top+k,b-D*2/3,y-L*2/3,rn.BOTTOM_LEFT):new Ut(n.left+D*2/3,n.top+n.height-L*2/3),this.topLeftBorderStroke=s>0||i>0?Hn(n.left+D/2,n.top+U/2,s-D/2,i-U/2,rn.TOP_LEFT):new Ut(n.left+D/2,n.top+U/2),this.topRightBorderStroke=s>0||i>0?Hn(n.left+N,n.top+U/2,c-F/2,u-U/2,rn.TOP_RIGHT):new Ut(n.left+n.width-F/2,n.top+U/2),this.bottomRightBorderStroke=h>0||p>0?Hn(n.left+_,n.top+B,h-F/2,p-L/2,rn.BOTTOM_RIGHT):new Ut(n.left+n.width-F/2,n.top+n.height-L/2),this.bottomLeftBorderStroke=b>0||y>0?Hn(n.left+D/2,n.top+k,b-D/2,y-L/2,rn.BOTTOM_LEFT):new Ut(n.left+D/2,n.top+n.height-L/2),this.topLeftBorderBox=s>0||i>0?Hn(n.left,n.top,s,i,rn.TOP_LEFT):new Ut(n.left,n.top),this.topRightBorderBox=c>0||u>0?Hn(n.left+N,n.top,c,u,rn.TOP_RIGHT):new Ut(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||p>0?Hn(n.left+_,n.top+B,h,p,rn.BOTTOM_RIGHT):new Ut(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||y>0?Hn(n.left,n.top+k,b,y,rn.BOTTOM_LEFT):new Ut(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?Hn(n.left+D,n.top+U,Math.max(0,s-D),Math.max(0,i-U),rn.TOP_LEFT):new Ut(n.left+D,n.top+U),this.topRightPaddingBox=c>0||u>0?Hn(n.left+Math.min(N,n.width-F),n.top+U,N>n.width+F?0:Math.max(0,c-F),Math.max(0,u-U),rn.TOP_RIGHT):new Ut(n.left+n.width-F,n.top+U),this.bottomRightPaddingBox=h>0||p>0?Hn(n.left+Math.min(_,n.width-D),n.top+Math.min(B,n.height-L),Math.max(0,h-F),Math.max(0,p-L),rn.BOTTOM_RIGHT):new Ut(n.left+n.width-F,n.top+n.height-L),this.bottomLeftPaddingBox=b>0||y>0?Hn(n.left+D,n.top+Math.min(k,n.height-L),Math.max(0,b-D),Math.max(0,y-L),rn.BOTTOM_LEFT):new Ut(n.left+D,n.top+n.height-L),this.topLeftContentBox=s>0||i>0?Hn(n.left+D+K,n.top+U+W,Math.max(0,s-(D+K)),Math.max(0,i-(U+W)),rn.TOP_LEFT):new Ut(n.left+D+K,n.top+U+W),this.topRightContentBox=c>0||u>0?Hn(n.left+Math.min(N,n.width+D+K),n.top+U+W,N>n.width+D+K?0:c-D+K,u-(U+W),rn.TOP_RIGHT):new Ut(n.left+n.width-(F+O),n.top+U+W),this.bottomRightContentBox=h>0||p>0?Hn(n.left+Math.min(_,n.width-(D+K)),n.top+Math.min(B,n.height+U+W),Math.max(0,h-(F+O)),p-(L+M),rn.BOTTOM_RIGHT):new Ut(n.left+n.width-(F+O),n.top+n.height-(L+M)),this.bottomLeftContentBox=b>0||y>0?Hn(n.left+D+K,n.top+k,Math.max(0,b-(D+K)),y-(L+M),rn.BOTTOM_LEFT):new Ut(n.left+D+K,n.top+n.height-(L+M))}return e}(),rn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(rn||(rn={}));var Hn=function(e,t,r,n,a){var s=4*((Math.sqrt(2)-1)/3),i=r*s,o=n*s,c=e+r,u=t+n;switch(a){case rn.TOP_LEFT:return new _x(new Ut(e,u),new Ut(e,u-o),new Ut(c-i,t),new Ut(c,t));case rn.TOP_RIGHT:return new _x(new Ut(e,t),new Ut(e+i,t),new Ut(c,u-o),new Ut(c,u));case rn.BOTTOM_RIGHT:return new _x(new Ut(c,t),new Ut(c,t+o),new Ut(e+i,u),new Ut(e,u));case rn.BOTTOM_LEFT:default:return new _x(new Ut(c,u),new Ut(c-i,u),new Ut(e,t+o),new Ut(e,t))}},z1=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},A0e=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},K1=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},u0e=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),Tx=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),d0e=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),f0e=function(e){return e.type===0},W8=function(e){return e.type===1},h0e=function(e){return e.type===2},pT=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},m0e=function(e,t,r,n,a){return e.map(function(s,i){switch(i){case 0:return s.add(t,r);case 1:return s.add(t+n,r);case 2:return s.add(t+n,r+a);case 3:return s.add(t,r+a)}return s})},$8=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Y8=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new c0e(this.container),this.container.styles.opacity<1&&this.effects.push(new d0e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new u0e(n,a,s))}if(this.container.styles.overflowX!==0){var i=z1(this.curves),o=K1(this.curves);pT(i,o)?this.effects.push(new Tx(i,6)):(this.effects.push(new Tx(i,2)),this.effects.push(new Tx(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!W8(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=z1(n.curves),o=K1(n.curves);pT(i,o)||a.unshift(new Tx(o,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(c){return Pa(c.target,t)})},e}(),eC=function(e,t,r,n){e.container.elements.forEach(function(a){var s=Pa(a.flags,4),i=Pa(a.flags,2),o=new Y8(a,e);Pa(a.styles.display,2048)&&n.push(o);var c=Pa(a.flags,8)?[]:n;if(s||i){var u=s||a.styles.isPositioned()?r:t,f=new $8(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var p=0;u.negativeZIndex.some(function(b,y){return h>b.element.container.styles.zIndex.order?(p=y,!1):p>0}),u.negativeZIndex.splice(p,0,f)}else if(h>0){var g=0;u.positiveZIndex.some(function(b,y){return h>=b.element.container.styles.zIndex.order?(g=y+1,!1):g>0}),u.positiveZIndex.splice(g,0,f)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else a.styles.isFloating()?u.nonPositionedFloats.push(f):u.nonPositionedInlineLevel.push(f);eC(o,f,s?f:r,c)}else a.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),eC(o,t,r,c);Pa(a.flags,8)&&J8(a,c)})},J8=function(e,t){for(var r=e instanceof $b?e.start:1,n=e instanceof $b?e.reversed:!1,a=0;a<t.length;a++){var s=t[a];s.container instanceof D8&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=hp(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},p0e=function(e){var t=new Y8(e,null),r=new $8(t),n=[];return eC(t,r,r,n),J8(t.container,n),r},gT=function(e,t){switch(t){case 0:return mo(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return mo(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return mo(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return mo(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},g0e=function(e,t){switch(t){case 0:return mo(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return mo(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return mo(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return mo(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},x0e=function(e,t){switch(t){case 0:return mo(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return mo(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return mo(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return mo(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},v0e=function(e,t){switch(t){case 0:return kx(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return kx(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return kx(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return kx(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},kx=function(e,t){var r=[];return uo(e)?r.push(e.subdivide(.5,!1)):r.push(e),uo(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},mo=function(e,t,r,n){var a=[];return uo(e)?a.push(e.subdivide(.5,!1)):a.push(e),uo(r)?a.push(r.subdivide(.5,!0)):a.push(r),uo(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),uo(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},X8=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},q1=function(e){var t=e.styles,r=e.bounds,n=Nn(t.paddingLeft,r.width),a=Nn(t.paddingRight,r.width),s=Nn(t.paddingTop,r.width),i=Nn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+s+i))},w0e=function(e,t){return e===0?t.bounds:e===2?q1(t):X8(t)},y0e=function(e,t){return e===0?t.bounds:e===2?q1(t):X8(t)},yy=function(e,t,r){var n=w0e(d0(e.styles.backgroundOrigin,t),e),a=y0e(d0(e.styles.backgroundClip,t),e),s=b0e(d0(e.styles.backgroundSize,t),r,n),i=s[0],o=s[1],c=bm(d0(e.styles.backgroundPosition,t),n.width-i,n.height-o),u=C0e(d0(e.styles.backgroundRepeat,t),c,s,n,a),f=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[u,f,h,i,o]},e0=function(e){return pn(e)&&e.value===L0.AUTO},Fx=function(e){return typeof e=="number"},b0e=function(e,t,r){var n=t[0],a=t[1],s=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Ua(i)&&o&&Ua(o))return[Nn(i,r.width),Nn(o,r.height)];var c=Fx(s);if(pn(i)&&(i.value===L0.CONTAIN||i.value===L0.COVER)){if(Fx(s)){var u=r.width/r.height;return u<s!=(i.value===L0.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var f=Fx(n),h=Fx(a),p=f||h;if(e0(i)&&(!o||e0(o))){if(f&&h)return[n,a];if(!c&&!p)return[r.width,r.height];if(p&&c){var g=f?n:a*s,b=h?a:n/s;return[g,b]}var y=f?n:r.width,E=h?a:r.height;return[y,E]}if(c){var S=0,N=0;return Ua(i)?S=Nn(i,r.width):Ua(o)&&(N=Nn(o,r.height)),e0(i)?S=N*s:(!o||e0(o))&&(N=S/s),[S,N]}var B=null,_=null;if(Ua(i)?B=Nn(i,r.width):o&&Ua(o)&&(_=Nn(o,r.height)),B!==null&&(!o||e0(o))&&(_=f&&h?B/n*a:r.height),_!==null&&e0(i)&&(B=f&&h?_/a*n:r.width),B!==null&&_!==null)return[B,_];throw new Error("Unable to calculate background-size for element")},d0=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},C0e=function(e,t,r,n,a){var s=t[0],i=t[1],o=r[0],c=r[1];switch(e){case 2:return[new Ut(Math.round(n.left),Math.round(n.top+i)),new Ut(Math.round(n.left+n.width),Math.round(n.top+i)),new Ut(Math.round(n.left+n.width),Math.round(c+n.top+i)),new Ut(Math.round(n.left),Math.round(c+n.top+i))];case 3:return[new Ut(Math.round(n.left+s),Math.round(n.top)),new Ut(Math.round(n.left+s+o),Math.round(n.top)),new Ut(Math.round(n.left+s+o),Math.round(n.height+n.top)),new Ut(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Ut(Math.round(n.left+s),Math.round(n.top+i)),new Ut(Math.round(n.left+s+o),Math.round(n.top+i)),new Ut(Math.round(n.left+s+o),Math.round(n.top+i+c)),new Ut(Math.round(n.left+s),Math.round(n.top+i+c))];default:return[new Ut(Math.round(a.left),Math.round(a.top)),new Ut(Math.round(a.left+a.width),Math.round(a.top)),new Ut(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Ut(Math.round(a.left),Math.round(a.height+a.top))]}},E0e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",xT="Hidden Text",S0e=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),a.src=E0e,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(xT)),n.appendChild(s),n.appendChild(a);var o=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(xT)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),Z8=function(){function e(t,r){this.context=t,this.options=r}return e}(),B0e=1e4,N0e=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new S0e(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),h0e(r)&&(this.ctx.globalAlpha=r.opacity),f0e(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),W8(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Ys(this,void 0,void 0,function(){var n;return ks(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Ys(this,void 0,void 0,function(){return ks(this,function(n){switch(n.label){case 0:if(Pa(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var i=F5(r.text);i.reduce(function(o,c){return s.ctx.fillText(c,o,r.bounds.top+a),o+s.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),a=I0e(r.fontFamily).join(", "),s=jp(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,a].join(" "),a,s]},t.prototype.renderTextNode=function(r,n){return Ys(this,void 0,void 0,function(){var a,s,i,o,c,u,f,h,p=this;return ks(this,function(g){return a=this.createFontStyle(n),s=a[0],i=a[1],o=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(i,o),u=c.baseline,f=c.middle,h=n.paintOrder,r.textBounds.forEach(function(b){h.forEach(function(y){switch(y){case 0:p.ctx.fillStyle=$a(n.color),p.renderTextWithLetterSpacing(b,n.letterSpacing,u);var E=n.textShadow;E.length&&b.text.trim().length&&(E.slice(0).reverse().forEach(function(S){p.ctx.shadowColor=$a(S.color),p.ctx.shadowOffsetX=S.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=S.offsetY.number*p.options.scale,p.ctx.shadowBlur=S.blur.number,p.renderTextWithLetterSpacing(b,n.letterSpacing,u)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=$a(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(S){switch(S){case 1:p.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:p.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:p.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+f),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(p.ctx.strokeStyle=$a(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=q1(r),i=K1(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Ys(this,void 0,void 0,function(){var n,a,s,i,o,c,N,N,u,f,h,p,_,g,b,k,y,E,S,N,B,_,k;return ks(this,function(U){switch(U.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,s=n.styles,i=0,o=n.textNodes,U.label=1;case 1:return i<o.length?(c=o[i],[4,this.renderTextNode(c,s)]):[3,4];case 2:U.sent(),U.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof F8))return[3,8];U.label=5;case 5:return U.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return N=U.sent(),this.renderReplacedElement(n,a,N),[3,8];case 7:return U.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof I8&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof U8))return[3,12];U.label=9;case 9:return U.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return N=U.sent(),this.renderReplacedElement(n,a,N),[3,12];case 11:return U.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof M8&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:f=U.sent(),n.width&&n.height&&this.ctx.drawImage(f,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),U.label=14;case 14:if(n instanceof I5&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Q1?n.checked&&(this.ctx.save(),this.path([new Ut(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Ut(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Ut(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Ut(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Ut(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Ut(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Ut(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=$a(sT),this.ctx.fill(),this.ctx.restore()):n.type===H1&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=$a(sT),this.ctx.fill(),this.ctx.restore())),_0e(n)&&n.value.length){switch(p=this.createFontStyle(s),_=p[0],g=p[1],b=this.fontMetrics.getMetrics(_,g).baseline,this.ctx.font=_,this.ctx.fillStyle=$a(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=k0e(n.styles.textAlign),k=q1(n),y=0,n.styles.textAlign){case 1:y+=k.width/2;break;case 2:y+=k.width;break}E=k.add(y,0,0,-k.height/2+1),this.ctx.save(),this.path([new Ut(k.left,k.top),new Ut(k.left+k.width,k.top),new Ut(k.left+k.width,k.top+k.height),new Ut(k.left,k.top+k.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Gm(n.value,E),s.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Pa(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(S=n.styles.listStyleImage,S.type!==0)return[3,18];N=void 0,B=S.url,U.label=15;case 15:return U.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return N=U.sent(),this.ctx.drawImage(N,n.bounds.left-(N.width+10),n.bounds.top),[3,18];case 17:return U.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(s)[0],this.ctx.font=_,this.ctx.fillStyle=$a(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",k=new Yc(n.bounds.left,n.bounds.top+Nn(n.styles.paddingTop,n.bounds.width),n.bounds.width,H3(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Gm(r.listValue,k),s.letterSpacing,H3(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),U.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Ys(this,void 0,void 0,function(){var n,a,S,s,i,S,o,c,S,u,f,S,h,p,S,g,b,S,y,E,S;return ks(this,function(N){switch(N.label){case 0:if(Pa(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:N.sent(),n=0,a=r.negativeZIndex,N.label=2;case 2:return n<a.length?(S=a[n],[4,this.renderStack(S)]):[3,5];case 3:N.sent(),N.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:N.sent(),s=0,i=r.nonInlineLevel,N.label=7;case 7:return s<i.length?(S=i[s],[4,this.renderNode(S)]):[3,10];case 8:N.sent(),N.label=9;case 9:return s++,[3,7];case 10:o=0,c=r.nonPositionedFloats,N.label=11;case 11:return o<c.length?(S=c[o],[4,this.renderStack(S)]):[3,14];case 12:N.sent(),N.label=13;case 13:return o++,[3,11];case 14:u=0,f=r.nonPositionedInlineLevel,N.label=15;case 15:return u<f.length?(S=f[u],[4,this.renderStack(S)]):[3,18];case 16:N.sent(),N.label=17;case 17:return u++,[3,15];case 18:h=0,p=r.inlineLevel,N.label=19;case 19:return h<p.length?(S=p[h],[4,this.renderNode(S)]):[3,22];case 20:N.sent(),N.label=21;case 21:return h++,[3,19];case 22:g=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,N.label=23;case 23:return g<b.length?(S=b[g],[4,this.renderStack(S)]):[3,26];case 24:N.sent(),N.label=25;case 25:return g++,[3,23];case 26:y=0,E=r.positiveZIndex,N.label=27;case 27:return y<E.length?(S=E[y],[4,this.renderStack(S)]):[3,30];case 28:N.sent(),N.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,s){var i=uo(a)?a.start:a;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),uo(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},t.prototype.resizeImage=function(r,n,a){var s;if(r.width===n&&r.height===a)return r;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=i.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,a);var c=o.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),o},t.prototype.renderBackgroundImage=function(r){return Ys(this,void 0,void 0,function(){var n,a,s,i,o,c;return ks(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(f){var h,p,g,W,V,G,K,Q,L,b,W,V,G,K,Q,y,E,S,N,B,_,k,U,F,L,D,W,O,M,K,Q,ae,V,G,re,J,Y,ce,R,z,q,ee;return ks(this,function(ne){switch(ne.label){case 0:if(f.type!==0)return[3,5];h=void 0,p=f.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return h=ne.sent(),[3,4];case 3:return ne.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(g=yy(r,n,[h.width,h.height,h.width/h.height]),W=g[0],V=g[1],G=g[2],K=g[3],Q=g[4],L=s.ctx.createPattern(s.resizeImage(h,K,Q),"repeat"),s.renderRepeat(W,L,V,G)),[3,6];case 5:fue(f)?(b=yy(r,n,[null,null,null]),W=b[0],V=b[1],G=b[2],K=b[3],Q=b[4],y=lue(f.angle,K,Q),E=y[0],S=y[1],N=y[2],B=y[3],_=y[4],k=document.createElement("canvas"),k.width=K,k.height=Q,U=k.getContext("2d"),F=U.createLinearGradient(S,B,N,_),O3(f.stops,E).forEach(function(le){return F.addColorStop(le.stop,$a(le.color))}),U.fillStyle=F,U.fillRect(0,0,K,Q),K>0&&Q>0&&(L=s.ctx.createPattern(k,"repeat"),s.renderRepeat(W,L,V,G))):hue(f)&&(D=yy(r,n,[null,null,null]),W=D[0],O=D[1],M=D[2],K=D[3],Q=D[4],ae=f.position.length===0?[_5]:f.position,V=Nn(ae[0],K),G=Nn(ae[ae.length-1],Q),re=cue(f,V,G,K,Q),J=re[0],Y=re[1],J>0&&Y>0&&(ce=s.ctx.createRadialGradient(O+V,M+G,0,O+V,M+G,J),O3(f.stops,J*2).forEach(function(le){return ce.addColorStop(le.stop,$a(le.color))}),s.path(W),s.ctx.fillStyle=ce,J!==Y?(R=r.bounds.left+.5*r.bounds.width,z=r.bounds.top+.5*r.bounds.height,q=Y/J,ee=1/q,s.ctx.save(),s.ctx.translate(R,z),s.ctx.transform(1,0,0,q,0,0),s.ctx.translate(-R,-z),s.ctx.fillRect(O,ee*(M-z)+z,K,Q*ee),s.ctx.restore()):s.ctx.fill())),ne.label=6;case 6:return n--,[2]}})},s=this,i=0,o=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<o.length?(c=o[i],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return Ys(this,void 0,void 0,function(){return ks(this,function(s){return this.path(gT(a,n)),this.ctx.fillStyle=$a(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,s){return Ys(this,void 0,void 0,function(){var i,o;return ks(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return i=g0e(s,a),this.path(i),this.ctx.fillStyle=$a(r),this.ctx.fill(),o=x0e(s,a),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Ys(this,void 0,void 0,function(){var n,a,s,i,o,c,u,f,h=this;return ks(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!vu(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=T0e(d0(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),vu(n.backgroundColor)||(this.ctx.fillStyle=$a(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var b=z1(r.curves),y=g.inset?0:B0e,E=m0e(b,-y+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(b),h.ctx.clip(),h.mask(E)):(h.mask(b),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=g.offsetX.number+y,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=$a(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?$a(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:o=0,c=0,u=s,p.label=3;case 3:return c<u.length?(f=u[c],f.style!==0&&!vu(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,o,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,o,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,o,r.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,s,i){return Ys(this,void 0,void 0,function(){var o,c,u,f,h,p,g,b,y,E,S,N,B,_,k,U,k,U;return ks(this,function(F){return this.ctx.save(),o=v0e(s,a),c=gT(s,a),i===2&&(this.path(c),this.ctx.clip()),uo(c[0])?(u=c[0].start.x,f=c[0].start.y):(u=c[0].x,f=c[0].y),uo(c[1])?(h=c[1].end.x,p=c[1].end.y):(h=c[1].x,p=c[1].y),a===0||a===2?g=Math.abs(u-h):g=Math.abs(f-p),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(c.slice(0,2)),b=n<3?n*3:n*2,y=n<3?n*2:n,i===3&&(b=n,y=n),E=!0,g<=b*2?E=!1:g<=b*2+y?(S=g/(2*b+y),b*=S,y*=S):(N=Math.floor((g+y)/(b+y)),B=(g-N*b)/(N-1),_=(g-(N+1)*b)/N,y=_<=0||Math.abs(y-B)<Math.abs(y-_)?B:_),E&&(i===3?this.ctx.setLineDash([0,b+y]):this.ctx.setLineDash([b,y])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=$a(r),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(uo(c[0])&&(k=c[3],U=c[0],this.ctx.beginPath(),this.formatPath([new Ut(k.end.x,k.end.y),new Ut(U.start.x,U.start.y)]),this.ctx.stroke()),uo(c[1])&&(k=c[1],U=c[2],this.ctx.beginPath(),this.formatPath([new Ut(k.end.x,k.end.y),new Ut(U.start.x,U.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Ys(this,void 0,void 0,function(){var n;return ks(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=$a(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=p0e(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(Z8),_0e=function(e){return e instanceof R8||e instanceof L8?!0:e instanceof I5&&e.type!==H1&&e.type!==Q1},T0e=function(e,t){switch(e){case 0:return z1(t);case 2:return A0e(t);case 1:default:return K1(t)}},k0e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},F0e=["-apple-system","system-ui"],I0e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return F0e.indexOf(t)===-1}):e},U0e=function(e){ol(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return Ys(this,void 0,void 0,function(){var n,a;return ks(this,function(s){switch(s.label){case 0:return n=Wb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,D0e(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=$a(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(Z8),D0e=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},L0e=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,cx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,cx([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,cx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,cx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),R0e=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new L0e({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new r0e(this,t)}return e.instanceCount=1,e}(),eD=function(e,t){return t===void 0&&(t={}),M0e(e,t)};typeof window<"u"&&q8.setContext(window);var M0e=function(e,t){return Ys(void 0,void 0,void 0,function(){var r,n,a,s,i,o,c,u,f,h,p,g,b,y,E,S,N,B,_,k,F,U,F,L,D,W,O,M,K,Q,ae,V,G,re,J,Y,ce,R,z,q;return ks(this,function(ee){switch(ee.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(L=t.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(D=t.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:t.proxy,useCORS:(W=t.useCORS)!==null&&W!==void 0?W:!1},s=Ub({logging:(O=t.logging)!==null&&O!==void 0?O:!0,cache:t.cache},a),i={windowWidth:(M=t.windowWidth)!==null&&M!==void 0?M:n.innerWidth,windowHeight:(K=t.windowHeight)!==null&&K!==void 0?K:n.innerHeight,scrollX:(Q=t.scrollX)!==null&&Q!==void 0?Q:n.pageXOffset,scrollY:(ae=t.scrollY)!==null&&ae!==void 0?ae:n.pageYOffset},o=new Yc(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),c=new R0e(s,o),u=(V=t.foreignObjectRendering)!==null&&V!==void 0?V:!1,f={allowTaint:(G=t.allowTaint)!==null&&G!==void 0?G:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new hT(c,e,f),p=h.clonedReferenceElement,p?[4,h.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=ee.sent(),b=U5(p)||jfe(p)?mce(p.ownerDocument):_v(c,p),y=b.width,E=b.height,S=b.left,N=b.top,B=P0e(c,p,t.backgroundColor),_={canvas:t.canvas,backgroundColor:B,scale:(J=(re=t.scale)!==null&&re!==void 0?re:n.devicePixelRatio)!==null&&J!==void 0?J:1,x:((Y=t.x)!==null&&Y!==void 0?Y:0)+S,y:((ce=t.y)!==null&&ce!==void 0?ce:0)+N,width:(R=t.width)!==null&&R!==void 0?R:Math.ceil(y),height:(z=t.height)!==null&&z!==void 0?z:Math.ceil(E)},u?(c.logger.debug("Document cloned, using foreign object rendering"),F=new U0e(c,_),[4,F.render(p)]):[3,3];case 2:return k=ee.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+S+","+N+" with size "+y+"x"+E+" using computed rendering"),c.logger.debug("Starting DOM parsing"),U=j8(c,p),B===U.styles.backgroundColor&&(U.styles.backgroundColor=zc.TRANSPARENT),c.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),F=new N0e(c,_),[4,F.render(U)];case 4:k=ee.sent(),ee.label=5;case 5:return(!((q=t.removeContainer)!==null&&q!==void 0)||q)&&(hT.destroy(g)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,k]}})})},P0e=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?Hm(e,getComputedStyle(n.documentElement).backgroundColor):zc.TRANSPARENT,s=n.body?Hm(e,getComputedStyle(n.body).backgroundColor):zc.TRANSPARENT,i=typeof r=="string"?Hm(e,r):r===null?zc.TRANSPARENT:4294967295;return t===n.documentElement?vu(a)?vu(s)?i:s:a:i};const j0e=Object.freeze(Object.defineProperty({__proto__:null,default:eD},Symbol.toStringTag,{value:"Module"})),vT="planificacionesInterdisciplinarias",wT="entregasTareasInterdisciplinarias",O0e="usuariosLiceo",Q0e=({planificaciones:e,onActivityUpdate:t})=>{const[r,n]=X.useState(null),a=X.useMemo(()=>{const c=[];return e.forEach(u=>{u.actividades.forEach(f=>c.push({...f,planId:u.id,type:"activity"})),u.fechasClave.forEach(f=>c.push({id:f.id,planId:u.id,type:"keyDate",nombre:f.nombre,fechaInicio:f.fecha,fechaFin:f.fecha,responsables:u.docentesResponsables,asignaturaPrincipal:"Milestone"}))}),c.sort((u,f)=>new Date(u.fechaInicio).getTime()-new Date(f.fechaInicio).getTime())},[e]),s=X.useCallback(c=>{if(c.type==="keyDate")return{text:"Fecha Clave",color:"bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-300"};const u=new Date;u.setHours(0,0,0,0);const f=new Date(`${c.fechaInicio}T00:00:00`),h=new Date(`${c.fechaFin}T00:00:00`);return h<u?{text:"Completado",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}:f<=u&&h>=u?{text:"En Progreso",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"}:{text:"Planificado",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}},[]),i=({name:c})=>{const u=(c||"").split(" ").map(g=>g[0]).join("").toUpperCase(),f=g=>{let b=0;for(let y=0;y<g.length;y++)b=g.charCodeAt(y)+((b<<5)-b);return b},h=["bg-pink-100 text-pink-800 dark:bg-pink-900/50 dark:text-pink-300","bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300","bg-teal-100 text-teal-800 dark:bg-teal-900/50 dark:text-teal-300","bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300","bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300","bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300","bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"],p=Math.abs(f(c))%h.length;return A.jsx("div",{className:`w-9 h-9 rounded-full ${h[p]} flex items-center justify-center font-bold text-sm ring-2 ring-white dark:ring-slate-800`,children:u.slice(0,2)})},o=({data:c,onClose:u,onSave:f})=>{const[h,p]=X.useState(c.activity),g=y=>{p({...h,[y.target.name]:y.target.value})},b=()=>{f(c.planId,h),u()};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-lg p-6 animate-fade-in-up",children:[A.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Editar Actividad"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Nombre"}),A.jsx("input",{name:"nombre",value:h.nombre,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Responsables"}),A.jsx("input",{name:"responsables",value:h.responsables,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Inicio"}),A.jsx("input",{type:"date",name:"fechaInicio",value:h.fechaInicio,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Fecha Fin"}),A.jsx("input",{type:"date",name:"fechaFin",value:h.fechaFin,onChange:g,className:"w-full mt-1 p-2 border rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]})]}),A.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[A.jsx("button",{onClick:u,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-md font-semibold",children:"Cancelar"}),A.jsx("button",{onClick:b,className:"px-4 py-2 bg-amber-500 text-white rounded-md font-semibold",children:"Guardar"})]})]})})};return a.length===0?A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Cronograma del Proyecto"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades para mostrar. Cree una planificación primero."})]}):A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200",children:"Cronograma del Proyecto"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 mb-6",children:"Visualice el progreso y las dependencias del proyecto."}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[A.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Tarea"}),A.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),A.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Inicio"}),A.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Fecha de Fin"}),A.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Asignado"})]})}),A.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(c=>{const u=s(c),f=c.type==="activity";return A.jsxs("tr",{className:`${f?"hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer":""}`,onClick:()=>f&&n({planId:c.planId,activity:c}),children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium text-slate-900 dark:text-slate-200",children:c.nombre}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${u.color}`,children:u.text})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:c.fechaInicio}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-slate-600 dark:text-slate-400",children:c.fechaFin}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx(i,{name:c.responsables||"N/A"})})]},c.id)})})]})}),r&&A.jsx(o,{data:r,onClose:()=>n(null),onSave:t})]})},H0e=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),V0e=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 006-5.197M15 12a4 4 0 110-8 4 4 0 010 8z"})}),G0e=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[A.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),A.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0v6"})]}),z0e=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),K0e=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),q0e=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6H8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),W0e=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),$0e=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),yT=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),JA=({icon:e,label:t,children:r,aiButton:n})=>A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border dark:border-slate-700",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("div",{className:"flex items-center gap-3 text-slate-500 dark:text-slate-400 font-medium",children:[e,A.jsx("span",{children:t})]}),n]}),r]}),Y0e=({initialPlan:e,onSave:t})=>{const[r,n]=X.useState(e||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]}),[a,s]=X.useState({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""}),[i,o]=X.useState({nombre:"",fecha:""}),[c,u]=X.useState({instrucciones:"",fechaEntrega:"",recursoUrl:""}),[f,h]=X.useState(!1),[p,g]=X.useState(!1);X.useEffect(()=>{n(e||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:"",objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]})},[e]);const b=async _=>{if(!r.descripcionProyecto.trim()){alert("Por favor, ingrese una descripción del proyecto para usar la IA.");return}_==="objetivos"?h(!0):g(!0);let k="";_==="objetivos"?k=`Basado en la siguiente descripción de un proyecto escolar interdisciplinario, genera 3 a 5 objetivos de aprendizaje claros, medibles y concisos. La respuesta debe ser solo el texto de los objetivos, formateado en una lista.
            Descripción del Proyecto: "${r.descripcionProyecto}"`:k=`Basado en la siguiente descripción y objetivos de un proyecto escolar interdisciplinario, genera una lista de 5 a 7 indicadores de logro concretos y observables que permitan evaluar el cumplimiento de los objetivos. La respuesta debe ser solo el texto de los indicadores, formateado en una lista.
            Descripción del Proyecto: "${r.descripcionProyecto}"
            Objetivos (si existen): "${r.objetivos||"Aún no definidos, genéralos a partir de la descripción."}"`;try{const F=await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:k});n(L=>({...L,[_]:F.text.replace(/(\*\*|\*)/g,"")}))}catch(U){console.error(`Error al generar ${_}`,U),alert(`Hubo un error al generar los ${_}. Inténtelo de nuevo.`)}finally{_==="objetivos"?h(!1):g(!1)}},y=_=>{n(k=>({...k,[_.target.name]:_.target.value}))},E=(_,k)=>{n(U=>{const F=U[_],L=F.includes(k)?F.filter(D=>D!==k):[...F,k];return{...U,[_]:L}})},S=()=>{if(!a.nombre||!a.fechaInicio||!a.fechaFin){alert("Nombre y fechas son obligatorios para la actividad.");return}n(_=>({..._,actividades:[..._.actividades,{...a,id:crypto.randomUUID()}]})),s({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:""})},N=()=>{!i.nombre||!i.fecha||(n(_=>({..._,fechasClave:[..._.fechasClave,{...i,id:crypto.randomUUID()}]})),o({nombre:"",fecha:""}))},B=()=>{var k;if(!c.instrucciones||!c.fechaEntrega){alert("Instrucciones y fecha son obligatorios para la tarea.");return}const _={id:crypto.randomUUID(),numero:(((k=r.tareas)==null?void 0:k.length)||0)+1,...c};n(U=>({...U,tareas:[...U.tareas||[],_]})),u({instrucciones:"",fechaEntrega:"",recursoUrl:""})};return A.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[A.jsx("div",{className:"text-center mb-12",children:A.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 dark:text-slate-200",children:"Proyecto Interdisciplinario en Liceo Industrial Recoleta"})}),A.jsxs("div",{className:"space-y-6",children:[A.jsx(JA,{icon:A.jsx(H0e,{}),label:"Nombre del Proyecto",children:A.jsx("input",{name:"nombreProyecto",value:r.nombreProyecto,onChange:y,placeholder:"Ingrese el nombre del proyecto...",className:"w-full mt-1 bg-transparent text-lg font-semibold focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),A.jsx(JA,{icon:A.jsx(V0e,{}),label:"Profesores",children:A.jsx("input",{name:"docentesResponsables",value:r.docentesResponsables,onChange:y,placeholder:"Ingrese nombres separados por comas...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 dark:text-slate-200 placeholder:text-slate-400"})}),A.jsx(JA,{icon:A.jsx(G0e,{}),label:"Cursos",children:A.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 mt-2",children:wa.map(_=>A.jsx("button",{type:"button",onClick:()=>E("cursos",_),className:`w-full text-center p-2 rounded-md text-sm transition-colors ${r.cursos.includes(_)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:_},_))})}),A.jsx(JA,{icon:A.jsx(z0e,{}),label:"Asignaturas",children:A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 mt-2",children:Oi.map(_=>A.jsx("button",{type:"button",onClick:()=>E("asignaturas",_),className:`w-full text-left p-2 rounded-md text-sm transition-colors ${r.asignaturas.includes(_)?"bg-amber-500 text-white font-semibold":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:_},_))})}),A.jsx(JA,{icon:A.jsx(K0e,{}),label:"Descripción del Proyecto",children:A.jsx("textarea",{name:"descripcionProyecto",value:r.descripcionProyecto,onChange:y,placeholder:"Detalle aquí la metodología, el producto final esperado y el propósito del proyecto. Esta información es clave para la IA.",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[100px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),A.jsx(JA,{icon:A.jsx(q0e,{}),label:"Objetivos",aiButton:A.jsx("button",{type:"button",onClick:()=>b("objetivos"),disabled:!r.descripcionProyecto.trim()||f,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:A.jsx(yT,{})}),children:f?A.jsx("div",{className:"p-4 text-center",children:"Generando..."}):A.jsx("textarea",{name:"objetivos",value:r.objetivos,onChange:y,placeholder:"Liste los objetivos de aprendizaje...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),A.jsx(JA,{icon:A.jsx(W0e,{}),label:"Indicadores de Éxito",aiButton:A.jsx("button",{type:"button",onClick:()=>b("indicadoresLogro"),disabled:!r.descripcionProyecto.trim()||p,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",title:"Generar con IA",children:A.jsx(yT,{})}),children:p?A.jsx("div",{className:"p-4 text-center",children:"Generando..."}):A.jsx("textarea",{name:"indicadoresLogro",value:r.indicadoresLogro,onChange:y,placeholder:"Liste los indicadores de logro o evaluación...",className:"w-full mt-1 bg-transparent focus:ring-0 border-none p-0 min-h-[80px] resize-none dark:text-slate-200 placeholder:text-slate-400"})}),A.jsx(JA,{icon:A.jsx($0e,{}),label:"Carta Gantt",children:A.jsxs("div",{className:"space-y-4 mt-2",children:[A.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[A.jsx("h4",{className:"text-sm font-semibold",children:"Actividades"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 items-end",children:[A.jsx("input",{value:a.nombre,onChange:_=>s({...a,nombre:_.target.value}),placeholder:"Nombre",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),A.jsx("input",{type:"date",value:a.fechaInicio,onChange:_=>s({...a,fechaInicio:_.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),A.jsx("input",{type:"date",value:a.fechaFin,onChange:_=>s({...a,fechaFin:_.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),A.jsx("button",{onClick:S,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),A.jsx("ul",{className:"text-xs",children:r.actividades.map(_=>A.jsx("li",{children:_.nombre},_.id))})]}),A.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[A.jsx("h4",{className:"text-sm font-semibold",children:"Fechas Clave (Hitos)"}),A.jsxs("div",{className:"grid grid-cols-3 gap-2 items-end",children:[A.jsx("input",{value:i.nombre,onChange:_=>o({...i,nombre:_.target.value}),placeholder:"Hito",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 col-span-1"}),A.jsx("input",{type:"date",value:i.fecha,onChange:_=>o({...i,fecha:_.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),A.jsx("button",{onClick:N,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),A.jsx("ul",{className:"text-xs",children:r.fechasClave.map(_=>A.jsxs("li",{children:[_.nombre," (",_.fecha,")"]},_.id))})]}),A.jsxs("div",{className:"space-y-2 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[A.jsx("h4",{className:"text-sm font-semibold",children:"Tareas para Estudiantes"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 items-end",children:[A.jsx("input",{value:c.instrucciones,onChange:_=>u({...c,instrucciones:_.target.value}),placeholder:"Instrucciones",className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600 md:col-span-2"}),A.jsx("input",{type:"date",value:c.fechaEntrega,onChange:_=>u({...c,fechaEntrega:_.target.value}),className:"w-full p-1 border rounded bg-white dark:bg-slate-700 dark:border-slate-600"}),A.jsx("button",{type:"button",onClick:B,className:"bg-slate-200 dark:bg-slate-600 p-2 rounded h-8 text-sm font-semibold",children:"Agregar"})]}),A.jsx("ul",{className:"text-xs",children:(r.tareas||[]).map(_=>A.jsxs("li",{children:[_.numero,". ",_.instrucciones]},_.id))})]})]})}),A.jsx("div",{className:"flex justify-end pt-6",children:A.jsx("button",{onClick:()=>t(r),className:"px-8 py-3 bg-slate-800 text-white rounded-lg font-semibold hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:e?"Guardar Cambios":"Guardar Proyecto"})})]})]})},bT=()=>{const[e,t]=X.useState([]),[r,n]=X.useState("list"),[a,s]=X.useState(null),[i,o]=X.useState(null),[c,u]=X.useState(null);X.useEffect(()=>{try{const N=localStorage.getItem(vT);N&&t(JSON.parse(N))}catch(N){console.error("Error al cargar planificaciones interdisciplinarias",N)}},[]);const f=N=>{t(N),localStorage.setItem(vT,JSON.stringify(N))},h=X.useCallback((N,B)=>{const _=e.map(k=>k.id===N?{...k,actividades:k.actividades.map(U=>U.id===B.id?B:U)}:k);f(_)},[e]),p=N=>{f(a?e.map(B=>B.id===a.id?N:B):[{...N,id:crypto.randomUUID()},...e]),n("list"),s(null)},g=N=>{s(N),n("form")},b=N=>{window.confirm("¿Está seguro de eliminar esta planificación?")&&f(e.filter(B=>B.id!==N))},y=()=>{s(null),n("form")},E=async N=>{o(N.id);const B=new Wt("p","mm","a4"),_=15,k=B.internal.pageSize.getWidth(),U=B.internal.pageSize.getHeight(),F=k-_*2;let L=_;const D=22,W=14,O=11,M=()=>{B.setFont("helvetica","normal"),B.setFontSize(9),B.setTextColor(150),B.text("Proyecto Interdisciplinario",_,12),B.text("Liceo Industrial de Recoleta",k-_,12,{align:"right"}),B.setDrawColor(220),B.line(_,15,k-_,15)},K=re=>{L+re>U-_&&(B.addPage(),M(),L=_+15)},Q=(re,J)=>{if(!J||Array.isArray(J)&&J.length===0||typeof J=="string"&&!J.trim())return;const Y=10;B.setFontSize(O);const ce=Array.isArray(J)?J.join(", "):String(J),R=B.splitTextToSize(ce,F),z=R.length*(O*.35*1.15);K(Y+z+12),B.setFont("helvetica","bold"),B.setFontSize(W),B.setTextColor(40),B.text(re,_,L),L+=6,B.setDrawColor(200),B.line(_,L,_+30,L),L+=8,B.setFont("helvetica","normal"),B.setFontSize(O),B.setTextColor(80),B.text(R,_,L),L+=z+12};M(),L=_+20,B.setFont("helvetica","bold"),B.setFontSize(D),B.setTextColor(0);const ae=B.splitTextToSize(N.nombreProyecto,F);if(B.text(ae,_,L),L+=ae.length*(D*.4)+10,xo(B,{startY:L,body:[[{content:"Docentes Responsables:",styles:{fontStyle:"bold"}},N.docentesResponsables],[{content:"Cursos Involucrados:",styles:{fontStyle:"bold"}},N.cursos.join(", ")],[{content:"Asignaturas:",styles:{fontStyle:"bold"}},N.asignaturas.join(", ")]],theme:"grid",styles:{fontSize:O,cellPadding:3,lineColor:[220,220,220]},columnStyles:{0:{cellWidth:50,fontStyle:"bold"}}}),L=B.lastAutoTable.finalY+15,Q("Descripción del Proyecto",N.descripcionProyecto),Q("Objetivos de Aprendizaje",N.objetivos),Q("Indicadores de Logro",N.indicadoresLogro),N.tareas&&N.tareas.length>0){const re=N.tareas.map(Y=>[Y.numero.toString(),Y.instrucciones,Y.fechaEntrega]),J=(re.length+1)*10+15;K(J+15),B.setFont("helvetica","bold"),B.setFontSize(W),B.setTextColor(40),B.text("Tareas para Estudiantes",_,L),L+=10,xo(B,{startY:L,head:[["#","Instrucciones","Fecha de Entrega"]],body:re,theme:"striped",headStyles:{fillColor:[52,73,94]}}),L=B.lastAutoTable.finalY+15}const V=document.getElementById("gantt-container-vertical");if(V)try{const J=(await eD(V,{scale:2,backgroundColor:"#ffffff"})).toDataURL("image/png");B.addPage(),M(),L=_+15,B.setFont("helvetica","bold"),B.setFontSize(W),B.setTextColor(40),B.text("Cronograma del Proyecto",_,L),L+=10;const Y=B.getImageProperties(J),ce=F,R=Y.height*ce/Y.width;B.addImage(J,"PNG",_,L,ce,R)}catch(re){console.error("Error generating timeline image:",re)}const G=B.internal.pages.length-1;for(let re=1;re<=G;re++)B.setPage(re),B.setFont("helvetica","normal"),B.setFontSize(9),B.setTextColor(150),B.text(`Página ${re} de ${G}`,k-_,B.internal.pageSize.getHeight()-10,{align:"right"});B.save(`Proyecto_${N.nombreProyecto.replace(/\s/g,"_")}.pdf`),o(null)},S=({plan:N,onBack:B})=>{var M,K;const[_,k]=X.useState([]),[U,F]=X.useState([]),[L,D]=X.useState(((M=N.tareas)==null?void 0:M[0])||null);X.useEffect(()=>{try{const Q=localStorage.getItem(O0e);Q&&k(JSON.parse(Q));const ae=localStorage.getItem(wT);ae&&F(JSON.parse(ae))}catch(Q){console.error(Q)}},[]);const W=X.useMemo(()=>_.filter(Q=>Q.profile===Kt.ESTUDIANTE&&N.cursos.includes(Q.curso||"")).sort((Q,ae)=>Q.nombreCompleto.localeCompare(ae.nombreCompleto)),[_,N.cursos]),O=(Q,ae)=>{const V=U.map(G=>G.id===Q?{...G,feedbackProfesor:ae,fechaFeedback:new Date().toISOString()}:G);F(V),localStorage.setItem(wT,JSON.stringify(V))};return L?A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Entregas de Tareas"}),A.jsx("button",{onClick:B,className:"font-semibold",children:"← Volver"})]}),A.jsx("select",{value:L.id,onChange:Q=>{var ae;return D(((ae=N.tareas)==null?void 0:ae.find(V=>V.id===Q.target.value))||null)},className:"mb-4 p-2 border rounded",children:(K=N.tareas)==null?void 0:K.map(Q=>A.jsxs("option",{value:Q.id,children:["Tarea ",Q.numero,": ",Q.instrucciones]},Q.id))}),A.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:W.map(Q=>{const ae=U.find(V=>V.planificacionId===N.id&&V.tareaId===L.id&&V.estudianteId===Q.id);return A.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[A.jsxs("p",{className:"font-bold",children:[Q.nombreCompleto," - ",ae!=null&&ae.completada?A.jsx("span",{className:"text-green-600",children:"Entregado"}):A.jsx("span",{className:"text-red-600",children:"Pendiente"})]}),ae&&A.jsxs("div",{className:"text-sm mt-2 space-y-2",children:[ae.observacionesEstudiante&&A.jsxs("p",{children:[A.jsx("strong",{children:"Comentario:"})," ",ae.observacionesEstudiante]}),ae.enlaceUrl&&A.jsxs("p",{children:[A.jsx("strong",{children:"Enlace:"})," ",A.jsx("a",{href:ae.enlaceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:ae.enlaceUrl})]}),ae.archivoAdjunto&&A.jsxs("p",{children:[A.jsx("strong",{children:"Archivo:"})," ",A.jsx("a",{href:ae.archivoAdjunto.url,download:ae.archivoAdjunto.nombre,className:"text-blue-500 hover:underline",children:ae.archivoAdjunto.nombre})]}),A.jsx("textarea",{placeholder:"Escribir retroalimentación...",defaultValue:ae.feedbackProfesor||"",onBlur:V=>O(ae.id,V.target.value),rows:2,className:"w-full mt-2 p-1 border rounded"})]})]},Q.id)})})]}):A.jsx("div",{className:"text-center p-8",children:"Este proyecto no tiene tareas asignadas."})};return c?A.jsx(S,{plan:c,onBack:()=>u(null)}):A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r==="list"?A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Proyectos Interdisciplinarios"}),A.jsx("button",{onClick:y,className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Crear Nuevo"})]}),A.jsx("div",{className:"space-y-4",children:e.map(N=>A.jsx("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:N.nombreProyecto}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Cursos: ",N.cursos.join(", ")]})]}),A.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[A.jsx("button",{onClick:()=>u(N),className:"text-green-600 hover:text-green-800 dark:text-green-400 font-semibold text-sm",children:"Ver Entregas"}),A.jsx("button",{onClick:()=>E(N),disabled:i===N.id,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold text-sm disabled:opacity-50",children:i===N.id?"Exportando...":"Exportar PDF"}),A.jsx("button",{onClick:()=>g(N),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Editar"}),A.jsx("button",{onClick:()=>b(N.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:"🗑️"})]})]})},N.id))})]}):A.jsx(Y0e,{initialPlan:a,onSave:p}),e.length>0&&A.jsx("div",{id:"gantt-container-vertical",children:A.jsx(Q0e,{planificaciones:e,onActivityUpdate:h})})]})},by="pañolMaquinas",CT="pañolRegistros",J0e=()=>{const[e,t]=X.useState([]),[r,n]=X.useState([]),a={fecha:new Date().toISOString().split("T")[0],curso:"",profesorResponsable:"",maquinaId:"",totalHoras:0,observaciones:""},[s,i]=X.useState(a),[o,c]=X.useState(null),u={nombre:"",especialidad:"Industrial"},[f,h]=X.useState(u),[p,g]=X.useState(null),[b,y]=X.useState({maquinaId:"",curso:"",profesor:"",fecha:""});X.useEffect(()=>{try{const M=localStorage.getItem(by);if(M&&JSON.parse(M).length>0)t(JSON.parse(M));else{const Q=[{id:crypto.randomUUID(),nombre:"Torno",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Fresadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora MIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Soldadora TIG",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Torno CNC",especialidad:"Industrial"},{id:crypto.randomUUID(),nombre:"Elevador",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Compresor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Rectificadora",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta de motor",especialidad:"Automotriz"},{id:crypto.randomUUID(),nombre:"Maqueta hidráulica",especialidad:"Automotriz"}];t(Q),localStorage.setItem(by,JSON.stringify(Q))}const K=localStorage.getItem(CT);K&&n(JSON.parse(K))}catch(M){console.error("Error al cargar datos de Pañol desde localStorage",M)}},[]);const E=X.useCallback(M=>{t(M),localStorage.setItem(by,JSON.stringify(M))},[]),S=X.useCallback(M=>{n(M),localStorage.setItem(CT,JSON.stringify(M))},[]),N=M=>{M.preventDefault(),f.nombre.trim()&&(E(p?e.map(K=>K.id===p.id?{...p,...f}:K):[{...f,id:crypto.randomUUID()},...e]),h(u),g(null))},B=X.useCallback(M=>{if(r.some(K=>K.maquinaId===M)){alert("No se puede eliminar una máquina con registros de uso. Elimine los registros primero.");return}window.confirm("¿Eliminar esta máquina?")&&E(e.filter(K=>K.id!==M))},[e,r,E]),_=M=>{M.preventDefault();const K=o||s;if(!K.curso||!K.profesorResponsable.trim()||!K.maquinaId||K.totalHoras<=0){alert("Curso, Profesor, Máquina y un Total de Horas mayor a cero son obligatorios.");return}S(o?r.map(Q=>Q.id===o.id?o:Q):[{...s,id:crypto.randomUUID()},...r]),i(a),c(null)},k=X.useCallback(M=>{window.confirm("¿Eliminar este registro de uso?")&&S(r.filter(K=>K.id!==M))},[r,S]),U=X.useMemo(()=>r.filter(M=>(b.maquinaId===""||M.maquinaId===b.maquinaId)&&(b.curso===""||M.curso===b.curso)&&(b.profesor===""||M.profesorResponsable.toLowerCase().includes(b.profesor.toLowerCase()))&&(b.fecha===""||M.fecha===b.fecha)).sort((M,K)=>new Date(K.fecha).getTime()-new Date(M.fecha).getTime()),[r,b]),F=X.useMemo(()=>new Map(e.map(M=>[M.id,M])),[e]),L=()=>{const M=U.map(ae=>{var V,G;return{Fecha:ae.fecha,Curso:ae.curso,Profesor:ae.profesorResponsable,Máquina:((V=F.get(ae.maquinaId))==null?void 0:V.nombre)||"N/A",Especialidad:((G=F.get(ae.maquinaId))==null?void 0:G.especialidad)||"N/A","Total Horas":ae.totalHoras,Observaciones:ae.observaciones}}),K=fo.json_to_sheet(M),Q=fo.book_new();fo.book_append_sheet(Q,K,"RegistrosPañol"),C5(Q,"Registros_Pañol.xlsx")},D=()=>{const M=new Wt;xo(M,{head:[["Fecha","Curso","Profesor","Máquina","Especialidad","Total Horas","Observaciones"]],body:U.map(K=>{var Q,ae;return[K.fecha,K.curso,K.profesorResponsable,((Q=F.get(K.maquinaId))==null?void 0:Q.nombre)||"N/A",((ae=F.get(K.maquinaId))==null?void 0:ae.especialidad)||"N/A",K.totalHoras,K.observaciones]}),margin:{top:20,right:10,bottom:20,left:10},didDrawPage:K=>{M.setFontSize(10),M.setFont("helvetica","bold"),M.text("LICEO INDUSTRIAL DE RECOLETA",K.settings.margin.left,15)}}),M.save("Registros_Pañol.pdf")},W="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",O=()=>{const M=o||s,K=o?c:i;return A.jsxs("form",{onSubmit:_,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"Fecha"}),A.jsx("input",{name:"fecha",type:"date",value:M.fecha,onChange:Q=>K({...M,fecha:Q.target.value}),className:W,required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"Curso"}),A.jsxs("select",{name:"curso",value:M.curso,onChange:Q=>K({...M,curso:Q.target.value}),className:W,required:!0,children:[A.jsx("option",{value:"",children:"Curso"}),wa.map(Q=>A.jsx("option",{children:Q},Q))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"Profesor"}),A.jsxs("select",{name:"profesorResponsable",value:M.profesorResponsable,onChange:Q=>K({...M,profesorResponsable:Q.target.value}),className:W,required:!0,children:[A.jsx("option",{value:"",children:"Profesor Responsable"}),Ky.map(Q=>A.jsx("option",{value:Q,children:Q},Q))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"Máquina"}),A.jsxs("select",{name:"maquinaId",value:M.maquinaId,onChange:Q=>K({...M,maquinaId:Q.target.value}),className:W,required:!0,children:[A.jsx("option",{value:"",children:"Máquina"}),e.map(Q=>A.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium",children:"Total de Horas"}),A.jsx("input",{name:"totalHoras",type:"number",value:M.totalHoras,onChange:Q=>K({...M,totalHoras:Number(Q.target.value)}),className:W,required:!0,min:"0.5",step:"0.5"})]}),A.jsxs("div",{className:"lg:col-span-3",children:[A.jsx("label",{className:"text-sm font-medium",children:"Observaciones"}),A.jsx("textarea",{name:"observaciones",value:M.observaciones,onChange:Q=>K({...M,observaciones:Q.target.value}),placeholder:"Observaciones...",className:`${W}`,rows:1})]})]}),A.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o&&A.jsx("button",{type:"button",onClick:()=>c(null),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg",children:"Cancelar"}),A.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:o?"Actualizar":"Registrar"})]})]})};return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Pañol: Registro de Uso de Máquinas"}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:o?`Editando Registro #${o.id.substring(0,4)}`:"Nuevo Registro de Uso"}),O()]}),A.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Administrar Máquinas"}),A.jsxs("form",{onSubmit:N,className:"flex gap-2 mb-4",children:[A.jsx("input",{value:f.nombre,onChange:M=>h({...f,nombre:M.target.value}),placeholder:"Nombre máquina",className:W}),A.jsxs("select",{value:f.especialidad,onChange:M=>h({...f,especialidad:M.target.value}),className:W,children:[A.jsx("option",{value:"Industrial",children:"Industrial"}),A.jsx("option",{value:"Automotriz",children:"Automotriz"})]}),A.jsx("button",{type:"submit",className:"bg-slate-200 p-2 rounded-lg font-bold",children:p?"✓":"+"})]}),A.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:e.map(M=>A.jsxs("li",{className:"flex justify-between items-center bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[A.jsxs("span",{children:[M.nombre," ",A.jsxs("span",{className:"text-xs text-slate-500",children:["(",M.especialidad,")"]})]}),A.jsxs("div",{className:"space-x-2",children:[A.jsx("button",{onClick:()=>{g(M),h(M)},className:"text-blue-500",children:"✏️"}),A.jsx("button",{onClick:()=>B(M.id),className:"text-red-500",children:"🗑️"})]})]},M.id))})]}),A.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Historial de Uso"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:L,className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg",children:"Excel"}),A.jsx("button",{onClick:D,className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg",children:"PDF"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:[A.jsx("input",{type:"date",value:b.fecha,onChange:M=>y({...b,fecha:M.target.value}),className:W}),A.jsxs("select",{value:b.curso,onChange:M=>y({...b,curso:M.target.value}),className:W,children:[A.jsx("option",{value:"",children:"Todos los Cursos"}),wa.map(M=>A.jsx("option",{children:M},M))]}),A.jsxs("select",{value:b.maquinaId,onChange:M=>y({...b,maquinaId:M.target.value}),className:W,children:[A.jsx("option",{value:"",children:"Todas las Máquinas"}),e.map(M=>A.jsx("option",{value:M.id,children:M.nombre},M.id))]}),A.jsx("input",{value:b.profesor,onChange:M=>y({...b,profesor:M.target.value}),placeholder:"Buscar profesor...",className:W})]}),A.jsx("div",{className:"max-h-96 overflow-y-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Máquina"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Profesor"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Total Horas"}),A.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-slate-500 uppercase",children:"Acciones"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:U.map(M=>{var K;return A.jsxs("tr",{children:[A.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:M.fecha}),A.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium",children:((K=F.get(M.maquinaId))==null?void 0:K.nombre)||"N/A"}),A.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:[M.profesorResponsable," (",M.curso,")"]}),A.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:M.totalHoras}),A.jsxs("td",{className:"px-3 py-2 text-center",children:[A.jsx("button",{onClick:()=>c(M),className:"text-blue-500",children:"✏️"}),A.jsx("button",{onClick:()=>k(M.id),className:"text-red-500 ml-2",children:"🗑️"})]})]},M.id)})})]})})]})]})]})};function ti(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=ti(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var Cy={exports:{}},Ey={},Sy={exports:{}},By={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function X0e(){if(ET)return By;ET=1;var e=bp();function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,i=e.useDebugValue;function o(h,p){var g=p(),b=n({inst:{value:g,getSnapshot:p}}),y=b[0].inst,E=b[1];return s(function(){y.value=g,y.getSnapshot=p,c(y)&&E({inst:y})},[h,g,p]),a(function(){return c(y)&&E({inst:y}),h(function(){c(y)&&E({inst:y})})},[h]),i(g),g}function c(h){var p=h.getSnapshot;h=h.value;try{var g=p();return!r(h,g)}catch{return!0}}function u(h,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return By.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,By}var ST;function Z0e(){return ST||(ST=1,Sy.exports=X0e()),Sy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function ehe(){if(BT)return Ey;BT=1;var e=bp(),t=Z0e();function r(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return Ey.useSyncExternalStoreWithSelector=function(u,f,h,p,g){var b=s(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=o(function(){function S(U){if(!N){if(N=!0,B=U,U=p(U),g!==void 0&&y.hasValue){var F=y.value;if(g(F,U))return _=F}return _=U}if(F=_,n(B,U))return F;var L=p(U);return g!==void 0&&g(F,L)?(B=U,F):(B=U,_=L)}var N=!1,B,_,k=h===void 0?null:h;return[function(){return S(f())},k===null?void 0:function(){return S(k())}]},[f,h,p,g]);var E=a(u,b[0],b[1]);return i(function(){y.hasValue=!0,y.value=E},[E]),c(E),E},Ey}var NT;function the(){return NT||(NT=1,Cy.exports=ehe()),Cy.exports}var rhe=the();const nhe=wC(rhe),ahe={},_T=e=>{let t;const r=new Set,n=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(b=>b(t,g))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(ahe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},she=e=>e?_T(e):_T,{useDebugValue:ihe}=at,{useSyncExternalStoreWithSelector:ohe}=nhe,lhe=e=>e;function tD(e,t=lhe,r){const n=ohe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return ihe(n),n}const TT=(e,t)=>{const r=she(e),n=(a,s=t)=>tD(r,a,s);return Object.assign(n,r),n},che=(e,t)=>e?TT(e,t):TT;function Os(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var Ahe={value:()=>{}};function Pv(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new n1(r)}function n1(e){this._=e}function uhe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}n1.prototype=Pv.prototype={constructor:n1,on:function(e,t){var r=this._,n=uhe(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=dhe(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=kT(r[a],e.name,t);else if(t==null)for(a in r)r[a]=kT(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new n1(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function dhe(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function kT(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=Ahe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var tC="http://www.w3.org/1999/xhtml";const FT={svg:"http://www.w3.org/2000/svg",xhtml:tC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jv(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),FT.hasOwnProperty(t)?{space:FT[t],local:e}:e}function fhe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===tC&&t.documentElement.namespaceURI===tC?t.createElement(e):t.createElementNS(r,e)}}function hhe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function rD(e){var t=jv(e);return(t.local?hhe:fhe)(t)}function mhe(){}function D5(e){return e==null?mhe:function(){return this.querySelector(e)}}function phe(e){typeof e!="function"&&(e=D5(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=new Array(i),c,u,f=0;f<i;++f)(c=s[f])&&(u=e.call(c,c.__data__,f,s))&&("__data__"in c&&(u.__data__=c.__data__),o[f]=u);return new Hi(n,this._parents)}function ghe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function xhe(){return[]}function nD(e){return e==null?xhe:function(){return this.querySelectorAll(e)}}function vhe(e){return function(){return ghe(e.apply(this,arguments))}}function whe(e){typeof e=="function"?e=vhe(e):e=nD(e);for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var i=t[s],o=i.length,c,u=0;u<o;++u)(c=i[u])&&(n.push(e.call(c,c.__data__,u,i)),a.push(c));return new Hi(n,a)}function aD(e){return function(){return this.matches(e)}}function sD(e){return function(t){return t.matches(e)}}var yhe=Array.prototype.find;function bhe(e){return function(){return yhe.call(this.children,e)}}function Che(){return this.firstElementChild}function Ehe(e){return this.select(e==null?Che:bhe(typeof e=="function"?e:sD(e)))}var She=Array.prototype.filter;function Bhe(){return Array.from(this.children)}function Nhe(e){return function(){return She.call(this.children,e)}}function _he(e){return this.selectAll(e==null?Bhe:Nhe(typeof e=="function"?e:sD(e)))}function The(e){typeof e!="function"&&(e=aD(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&o.push(c);return new Hi(n,this._parents)}function iD(e){return new Array(e.length)}function khe(){return new Hi(this._enter||this._groups.map(iD),this._parents)}function W1(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}W1.prototype={constructor:W1,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Fhe(e){return function(){return e}}function Ihe(e,t,r,n,a,s){for(var i=0,o,c=t.length,u=s.length;i<u;++i)(o=t[i])?(o.__data__=s[i],n[i]=o):r[i]=new W1(e,s[i]);for(;i<c;++i)(o=t[i])&&(a[i]=o)}function Uhe(e,t,r,n,a,s,i){var o,c,u=new Map,f=t.length,h=s.length,p=new Array(f),g;for(o=0;o<f;++o)(c=t[o])&&(p[o]=g=i.call(c,c.__data__,o,t)+"",u.has(g)?a[o]=c:u.set(g,c));for(o=0;o<h;++o)g=i.call(e,s[o],o,s)+"",(c=u.get(g))?(n[o]=c,c.__data__=s[o],u.delete(g)):r[o]=new W1(e,s[o]);for(o=0;o<f;++o)(c=t[o])&&u.get(p[o])===c&&(a[o]=c)}function Dhe(e){return e.__data__}function Lhe(e,t){if(!arguments.length)return Array.from(this,Dhe);var r=t?Uhe:Ihe,n=this._parents,a=this._groups;typeof e!="function"&&(e=Fhe(e));for(var s=a.length,i=new Array(s),o=new Array(s),c=new Array(s),u=0;u<s;++u){var f=n[u],h=a[u],p=h.length,g=Rhe(e.call(f,f&&f.__data__,u,n)),b=g.length,y=o[u]=new Array(b),E=i[u]=new Array(b),S=c[u]=new Array(p);r(f,h,y,E,S,g,t);for(var N=0,B=0,_,k;N<b;++N)if(_=y[N]){for(N>=B&&(B=N+1);!(k=E[B])&&++B<b;);_._next=k||null}}return i=new Hi(i,n),i._enter=o,i._exit=c,i}function Rhe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Mhe(){return new Hi(this._exit||this._groups.map(iD),this._parents)}function Phe(e,t,r){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}function jhe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,s=n.length,i=Math.min(a,s),o=new Array(a),c=0;c<i;++c)for(var u=r[c],f=n[c],h=u.length,p=o[c]=new Array(h),g,b=0;b<h;++b)(g=u[b]||f[b])&&(p[b]=g);for(;c<a;++c)o[c]=r[c];return new Hi(o,this._parents)}function Ohe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],i;--a>=0;)(i=n[a])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function Qhe(e){e||(e=Hhe);function t(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var i=r[s],o=i.length,c=a[s]=new Array(o),u,f=0;f<o;++f)(u=i[f])&&(c[f]=u);c.sort(t)}return new Hi(a,this._parents).order()}function Hhe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Vhe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ghe(){return Array.from(this)}function zhe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var i=n[a];if(i)return i}return null}function Khe(){let e=0;for(const t of this)++e;return e}function qhe(){return!this.node()}function Whe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,i=a.length,o;s<i;++s)(o=a[s])&&e.call(o,o.__data__,s,a);return this}function $he(e){return function(){this.removeAttribute(e)}}function Yhe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Jhe(e,t){return function(){this.setAttribute(e,t)}}function Xhe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Zhe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function eme(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function tme(e,t){var r=jv(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Yhe:$he:typeof t=="function"?r.local?eme:Zhe:r.local?Xhe:Jhe)(r,t))}function oD(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function rme(e){return function(){this.style.removeProperty(e)}}function nme(e,t,r){return function(){this.style.setProperty(e,t,r)}}function ame(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function sme(e,t,r){return arguments.length>1?this.each((t==null?rme:typeof t=="function"?ame:nme)(e,t,r??"")):q0(this.node(),e)}function q0(e,t){return e.style.getPropertyValue(t)||oD(e).getComputedStyle(e,null).getPropertyValue(t)}function ime(e){return function(){delete this[e]}}function ome(e,t){return function(){this[e]=t}}function lme(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function cme(e,t){return arguments.length>1?this.each((t==null?ime:typeof t=="function"?lme:ome)(e,t)):this.node()[e]}function lD(e){return e.trim().split(/^|\s+/)}function L5(e){return e.classList||new cD(e)}function cD(e){this._node=e,this._names=lD(e.getAttribute("class")||"")}cD.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function AD(e,t){for(var r=L5(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function uD(e,t){for(var r=L5(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function Ame(e){return function(){AD(this,e)}}function ume(e){return function(){uD(this,e)}}function dme(e,t){return function(){(t.apply(this,arguments)?AD:uD)(this,e)}}function fme(e,t){var r=lD(e+"");if(arguments.length<2){for(var n=L5(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?dme:t?Ame:ume)(r,t))}function hme(){this.textContent=""}function mme(e){return function(){this.textContent=e}}function pme(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function gme(e){return arguments.length?this.each(e==null?hme:(typeof e=="function"?pme:mme)(e)):this.node().textContent}function xme(){this.innerHTML=""}function vme(e){return function(){this.innerHTML=e}}function wme(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function yme(e){return arguments.length?this.each(e==null?xme:(typeof e=="function"?wme:vme)(e)):this.node().innerHTML}function bme(){this.nextSibling&&this.parentNode.appendChild(this)}function Cme(){return this.each(bme)}function Eme(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sme(){return this.each(Eme)}function Bme(e){var t=typeof e=="function"?e:rD(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Nme(){return null}function _me(e,t){var r=typeof e=="function"?e:rD(e),n=t==null?Nme:typeof t=="function"?t:D5(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Tme(){var e=this.parentNode;e&&e.removeChild(this)}function kme(){return this.each(Tme)}function Fme(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ime(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ume(e){return this.select(e?Ime:Fme)}function Dme(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Lme(e){return function(t){e.call(this,t,this.__data__)}}function Rme(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Mme(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function Pme(e,t,r){return function(){var n=this.__on,a,s=Lme(t);if(n){for(var i=0,o=n.length;i<o;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=r),a.value=t;return}}this.addEventListener(e.type,s,r),a={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(a):this.__on=[a]}}function jme(e,t,r){var n=Rme(e+""),a,s=n.length,i;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,u=o.length,f;c<u;++c)for(a=0,f=o[c];a<s;++a)if((i=n[a]).type===f.type&&i.name===f.name)return f.value}return}for(o=t?Pme:Mme,a=0;a<s;++a)this.each(o(n[a],t,r));return this}function dD(e,t,r){var n=oD(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Ome(e,t){return function(){return dD(this,e,t)}}function Qme(e,t){return function(){return dD(this,e,t.apply(this,arguments))}}function Hme(e,t){return this.each((typeof t=="function"?Qme:Ome)(e,t))}function*Vme(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,i;a<s;++a)(i=n[a])&&(yield i)}var fD=[null];function Hi(e,t){this._groups=e,this._parents=t}function Op(){return new Hi([[document.documentElement]],fD)}function Gme(){return this}Hi.prototype=Op.prototype={constructor:Hi,select:phe,selectAll:whe,selectChild:Ehe,selectChildren:_he,filter:The,data:Lhe,enter:khe,exit:Mhe,join:Phe,merge:jhe,selection:Gme,order:Ohe,sort:Qhe,call:Vhe,nodes:Ghe,node:zhe,size:Khe,empty:qhe,each:Whe,attr:tme,style:sme,property:cme,classed:fme,text:gme,html:yme,raise:Cme,lower:Sme,append:Bme,insert:_me,remove:kme,clone:Ume,datum:Dme,on:jme,dispatch:Hme,[Symbol.iterator]:Vme};function Yo(e){return typeof e=="string"?new Hi([[document.querySelector(e)]],[document.documentElement]):new Hi([[e]],fD)}function zme(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Kl(e,t){if(e=zme(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const Kme={passive:!1},mp={capture:!0,passive:!1};function Ny(e){e.stopImmediatePropagation()}function R0(e){e.preventDefault(),e.stopImmediatePropagation()}function hD(e){var t=e.document.documentElement,r=Yo(e).on("dragstart.drag",R0,mp);"onselectstart"in t?r.on("selectstart.drag",R0,mp):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function mD(e,t){var r=e.document.documentElement,n=Yo(e).on("dragstart.drag",null);t&&(n.on("click.drag",R0,mp),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Ix=e=>()=>e;function rC(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:s,x:i,y:o,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}rC.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function qme(e){return!e.ctrlKey&&!e.button}function Wme(){return this.parentNode}function $me(e,t){return t??{x:e.x,y:e.y}}function Yme(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jme(){var e=qme,t=Wme,r=$me,n=Yme,a={},s=Pv("start","drag","end"),i=0,o,c,u,f,h=0;function p(_){_.on("mousedown.drag",g).filter(n).on("touchstart.drag",E).on("touchmove.drag",S,Kme).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(_,k){if(!(f||!e.call(this,_,k))){var U=B(this,t.call(this,_,k),_,k,"mouse");U&&(Yo(_.view).on("mousemove.drag",b,mp).on("mouseup.drag",y,mp),hD(_.view),Ny(_),u=!1,o=_.clientX,c=_.clientY,U("start",_))}}function b(_){if(R0(_),!u){var k=_.clientX-o,U=_.clientY-c;u=k*k+U*U>h}a.mouse("drag",_)}function y(_){Yo(_.view).on("mousemove.drag mouseup.drag",null),mD(_.view,u),R0(_),a.mouse("end",_)}function E(_,k){if(e.call(this,_,k)){var U=_.changedTouches,F=t.call(this,_,k),L=U.length,D,W;for(D=0;D<L;++D)(W=B(this,F,_,k,U[D].identifier,U[D]))&&(Ny(_),W("start",_,U[D]))}}function S(_){var k=_.changedTouches,U=k.length,F,L;for(F=0;F<U;++F)(L=a[k[F].identifier])&&(R0(_),L("drag",_,k[F]))}function N(_){var k=_.changedTouches,U=k.length,F,L;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),F=0;F<U;++F)(L=a[k[F].identifier])&&(Ny(_),L("end",_,k[F]))}function B(_,k,U,F,L,D){var W=s.copy(),O=Kl(D||U,k),M,K,Q;if((Q=r.call(_,new rC("beforestart",{sourceEvent:U,target:p,identifier:L,active:i,x:O[0],y:O[1],dx:0,dy:0,dispatch:W}),F))!=null)return M=Q.x-O[0]||0,K=Q.y-O[1]||0,function ae(V,G,re){var J=O,Y;switch(V){case"start":a[L]=ae,Y=i++;break;case"end":delete a[L],--i;case"drag":O=Kl(re||G,k),Y=i;break}W.call(V,_,new rC(V,{sourceEvent:G,subject:Q,target:p,identifier:L,active:Y,x:O[0]+M,y:O[1]+K,dx:O[0]-J[0],dy:O[1]-J[1],dispatch:W}),F)}}return p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Ix(!!_),p):e},p.container=function(_){return arguments.length?(t=typeof _=="function"?_:Ix(_),p):t},p.subject=function(_){return arguments.length?(r=typeof _=="function"?_:Ix(_),p):r},p.touchable=function(_){return arguments.length?(n=typeof _=="function"?_:Ix(!!_),p):n},p.on=function(){var _=s.on.apply(s,arguments);return _===s?p:_},p.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,p):Math.sqrt(h)},p}function R5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function pD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qp(){}var pp=.7,$1=1/pp,M0="\\s*([+-]?\\d+)\\s*",gp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xme=/^#([0-9a-f]{3,8})$/,Zme=new RegExp(`^rgb\\(${M0},${M0},${M0}\\)$`),epe=new RegExp(`^rgb\\(${Zl},${Zl},${Zl}\\)$`),tpe=new RegExp(`^rgba\\(${M0},${M0},${M0},${gp}\\)$`),rpe=new RegExp(`^rgba\\(${Zl},${Zl},${Zl},${gp}\\)$`),npe=new RegExp(`^hsl\\(${gp},${Zl},${Zl}\\)$`),ape=new RegExp(`^hsla\\(${gp},${Zl},${Zl},${gp}\\)$`),IT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R5(Qp,xp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UT,formatHex:UT,formatHex8:spe,formatHsl:ipe,formatRgb:DT,toString:DT});function UT(){return this.rgb().formatHex()}function spe(){return this.rgb().formatHex8()}function ipe(){return gD(this).formatHsl()}function DT(){return this.rgb().formatRgb()}function xp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Xme.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?LT(t):r===3?new hi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ux(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ux(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zme.exec(e))?new hi(t[1],t[2],t[3],1):(t=epe.exec(e))?new hi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tpe.exec(e))?Ux(t[1],t[2],t[3],t[4]):(t=rpe.exec(e))?Ux(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=npe.exec(e))?PT(t[1],t[2]/100,t[3]/100,1):(t=ape.exec(e))?PT(t[1],t[2]/100,t[3]/100,t[4]):IT.hasOwnProperty(e)?LT(IT[e]):e==="transparent"?new hi(NaN,NaN,NaN,0):null}function LT(e){return new hi(e>>16&255,e>>8&255,e&255,1)}function Ux(e,t,r,n){return n<=0&&(e=t=r=NaN),new hi(e,t,r,n)}function ope(e){return e instanceof Qp||(e=xp(e)),e?(e=e.rgb(),new hi(e.r,e.g,e.b,e.opacity)):new hi}function nC(e,t,r,n){return arguments.length===1?ope(e):new hi(e,t,r,n??1)}function hi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}R5(hi,nC,pD(Qp,{brighter(e){return e=e==null?$1:Math.pow($1,e),new hi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pp:Math.pow(pp,e),new hi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hi(Md(this.r),Md(this.g),Md(this.b),Y1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RT,formatHex:RT,formatHex8:lpe,formatRgb:MT,toString:MT}));function RT(){return`#${Nd(this.r)}${Nd(this.g)}${Nd(this.b)}`}function lpe(){return`#${Nd(this.r)}${Nd(this.g)}${Nd(this.b)}${Nd((isNaN(this.opacity)?1:this.opacity)*255)}`}function MT(){const e=Y1(this.opacity);return`${e===1?"rgb(":"rgba("}${Md(this.r)}, ${Md(this.g)}, ${Md(this.b)}${e===1?")":`, ${e})`}`}function Y1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Md(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nd(e){return e=Md(e),(e<16?"0":"")+e.toString(16)}function PT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Jo(e,t,r,n)}function gD(e){if(e instanceof Jo)return new Jo(e.h,e.s,e.l,e.opacity);if(e instanceof Qp||(e=xp(e)),!e)return new Jo;if(e instanceof Jo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,c=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=c<.5?s+a:2-s-a,i*=60):o=c>0&&c<1?0:i,new Jo(i,o,c,e.opacity)}function cpe(e,t,r,n){return arguments.length===1?gD(e):new Jo(e,t,r,n??1)}function Jo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}R5(Jo,cpe,pD(Qp,{brighter(e){return e=e==null?$1:Math.pow($1,e),new Jo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pp:Math.pow(pp,e),new Jo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new hi(_y(e>=240?e-240:e+120,a,n),_y(e,a,n),_y(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Jo(jT(this.h),Dx(this.s),Dx(this.l),Y1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Y1(this.opacity);return`${e===1?"hsl(":"hsla("}${jT(this.h)}, ${Dx(this.s)*100}%, ${Dx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jT(e){return e=(e||0)%360,e<0?e+360:e}function Dx(e){return Math.max(0,Math.min(1,e||0))}function _y(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const xD=e=>()=>e;function Ape(e,t){return function(r){return e+r*t}}function upe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function dpe(e){return(e=+e)==1?vD:function(t,r){return r-t?upe(t,r,e):xD(isNaN(t)?r:t)}}function vD(e,t){var r=t-e;return r?Ape(e,r):xD(isNaN(e)?t:e)}const OT=function e(t){var r=dpe(t);function n(a,s){var i=r((a=nC(a)).r,(s=nC(s)).r),o=r(a.g,s.g),c=r(a.b,s.b),u=vD(a.opacity,s.opacity);return function(f){return a.r=i(f),a.g=o(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function ru(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var aC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ty=new RegExp(aC.source,"g");function fpe(e){return function(){return e}}function hpe(e){return function(t){return e(t)+""}}function mpe(e,t){var r=aC.lastIndex=Ty.lastIndex=0,n,a,s,i=-1,o=[],c=[];for(e=e+"",t=t+"";(n=aC.exec(e))&&(a=Ty.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,c.push({i,x:ru(n,a)})),r=Ty.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?c[0]?hpe(c[0].x):fpe(t):(t=c.length,function(u){for(var f=0,h;f<t;++f)o[(h=c[f]).i]=h.x(u);return o.join("")})}var QT=180/Math.PI,sC={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wD(e,t,r,n,a,s){var i,o,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,c/=o),e*n<t*r&&(e=-e,t=-t,c=-c,i=-i),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*QT,skewX:Math.atan(c)*QT,scaleX:i,scaleY:o}}var Lx;function ppe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?sC:wD(t.a,t.b,t.c,t.d,t.e,t.f)}function gpe(e){return e==null||(Lx||(Lx=document.createElementNS("http://www.w3.org/2000/svg","g")),Lx.setAttribute("transform",e),!(e=Lx.transform.baseVal.consolidate()))?sC:(e=e.matrix,wD(e.a,e.b,e.c,e.d,e.e,e.f))}function yD(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function s(u,f,h,p,g,b){if(u!==h||f!==p){var y=g.push("translate(",null,t,null,r);b.push({i:y-4,x:ru(u,h)},{i:y-2,x:ru(f,p)})}else(h||p)&&g.push("translate("+h+t+p+r)}function i(u,f,h,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:h.push(a(h)+"rotate(",null,n)-2,x:ru(u,f)})):f&&h.push(a(h)+"rotate("+f+n)}function o(u,f,h,p){u!==f?p.push({i:h.push(a(h)+"skewX(",null,n)-2,x:ru(u,f)}):f&&h.push(a(h)+"skewX("+f+n)}function c(u,f,h,p,g,b){if(u!==h||f!==p){var y=g.push(a(g)+"scale(",null,",",null,")");b.push({i:y-4,x:ru(u,h)},{i:y-2,x:ru(f,p)})}else(h!==1||p!==1)&&g.push(a(g)+"scale("+h+","+p+")")}return function(u,f){var h=[],p=[];return u=e(u),f=e(f),s(u.translateX,u.translateY,f.translateX,f.translateY,h,p),i(u.rotate,f.rotate,h,p),o(u.skewX,f.skewX,h,p),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,p),u=f=null,function(g){for(var b=-1,y=p.length,E;++b<y;)h[(E=p[b]).i]=E.x(g);return h.join("")}}}var xpe=yD(ppe,"px, ","px)","deg)"),vpe=yD(gpe,", ",")",")"),wpe=1e-12;function HT(e){return((e=Math.exp(e))+1/e)/2}function ype(e){return((e=Math.exp(e))-1/e)/2}function bpe(e){return((e=Math.exp(2*e))-1)/(e+1)}const Cpe=function e(t,r,n){function a(s,i){var o=s[0],c=s[1],u=s[2],f=i[0],h=i[1],p=i[2],g=f-o,b=h-c,y=g*g+b*b,E,S;if(y<wpe)S=Math.log(p/u)/t,E=function(F){return[o+F*g,c+F*b,u*Math.exp(t*F*S)]};else{var N=Math.sqrt(y),B=(p*p-u*u+n*y)/(2*u*r*N),_=(p*p-u*u-n*y)/(2*p*r*N),k=Math.log(Math.sqrt(B*B+1)-B),U=Math.log(Math.sqrt(_*_+1)-_);S=(U-k)/t,E=function(F){var L=F*S,D=HT(k),W=u/(r*N)*(D*bpe(t*L+k)-ype(k));return[o+W*g,c+W*b,u*D/HT(t*L+k)]}}return E.duration=S*1e3*t/Math.SQRT2,E}return a.rho=function(s){var i=Math.max(.001,+s),o=i*i,c=o*o;return e(i,o,c)},a}(Math.SQRT2,2,4);var W0=0,Sm=0,im=0,bD=1e3,J1,Bm,X1=0,Kd=0,Ov=0,vp=typeof performance=="object"&&performance.now?performance:Date,CD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function M5(){return Kd||(CD(Epe),Kd=vp.now()+Ov)}function Epe(){Kd=0}function Z1(){this._call=this._time=this._next=null}Z1.prototype=ED.prototype={constructor:Z1,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?M5():+r)+(t==null?0:+t),!this._next&&Bm!==this&&(Bm?Bm._next=this:J1=this,Bm=this),this._call=e,this._time=r,iC()},stop:function(){this._call&&(this._call=null,this._time=1/0,iC())}};function ED(e,t,r){var n=new Z1;return n.restart(e,t,r),n}function Spe(){M5(),++W0;for(var e=J1,t;e;)(t=Kd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--W0}function VT(){Kd=(X1=vp.now())+Ov,W0=Sm=0;try{Spe()}finally{W0=0,Npe(),Kd=0}}function Bpe(){var e=vp.now(),t=e-X1;t>bD&&(Ov-=t,X1=e)}function Npe(){for(var e,t=J1,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:J1=r);Bm=e,iC(n)}function iC(e){if(!W0){Sm&&(Sm=clearTimeout(Sm));var t=e-Kd;t>24?(e<1/0&&(Sm=setTimeout(VT,e-vp.now()-Ov)),im&&(im=clearInterval(im))):(im||(X1=vp.now(),im=setInterval(Bpe,bD)),W0=1,CD(VT))}}function GT(e,t,r){var n=new Z1;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var _pe=Pv("start","end","cancel","interrupt"),Tpe=[],SD=0,zT=1,oC=2,a1=3,KT=4,lC=5,s1=6;function Qv(e,t,r,n,a,s){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;kpe(e,r,{name:t,index:n,group:a,on:_pe,tween:Tpe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:SD})}function P5(e,t){var r=ll(e,t);if(r.state>SD)throw new Error("too late; already scheduled");return r}function sc(e,t){var r=ll(e,t);if(r.state>a1)throw new Error("too late; already running");return r}function ll(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function kpe(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=ED(s,0,r.time);function s(u){r.state=zT,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var f,h,p,g;if(r.state!==zT)return c();for(f in n)if(g=n[f],g.name===r.name){if(g.state===a1)return GT(i);g.state===KT?(g.state=s1,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete n[f]):+f<t&&(g.state=s1,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete n[f])}if(GT(function(){r.state===a1&&(r.state=KT,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=oC,r.on.call("start",e,e.__data__,r.index,r.group),r.state===oC){for(r.state=a1,a=new Array(p=r.tween.length),f=0,h=-1;f<p;++f)(g=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(a[++h]=g);a.length=h+1}}function o(u){for(var f=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=lC,1),h=-1,p=a.length;++h<p;)a[h].call(e,f);r.state===lC&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=s1,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function i1(e,t){var r=e.__transition,n,a,s=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){s=!1;continue}a=n.state>oC&&n.state<lC,n.state=s1,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}s&&delete e.__transition}}function Fpe(e){return this.each(function(){i1(this,e)})}function Ipe(e,t){var r,n;return function(){var a=sc(this,e),s=a.tween;if(s!==r){n=r=s;for(var i=0,o=n.length;i<o;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function Upe(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=sc(this,e),i=s.tween;if(i!==n){a=(n=i).slice();for(var o={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=o;break}c===u&&a.push(o)}s.tween=a}}function Dpe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ll(this.node(),r).tween,a=0,s=n.length,i;a<s;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?Ipe:Upe)(r,e,t))}function j5(e,t,r){var n=e._id;return e.each(function(){var a=sc(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return ll(a,n).value[t]}}function BD(e,t){var r;return(typeof t=="number"?ru:t instanceof xp?OT:(r=xp(t))?(t=r,OT):mpe)(e,t)}function Lpe(e){return function(){this.removeAttribute(e)}}function Rpe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mpe(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttribute(e);return i===a?null:i===n?s:s=t(n=i,r)}}function Ppe(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?s:s=t(n=i,r)}}function jpe(e,t,r){var n,a,s;return function(){var i,o=r(this),c;return o==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=o+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,o)))}}function Ope(e,t,r){var n,a,s;return function(){var i,o=r(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=o+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,o)))}}function Qpe(e,t){var r=jv(e),n=r==="transform"?vpe:BD;return this.attrTween(e,typeof t=="function"?(r.local?Ope:jpe)(r,n,j5(this,"attr."+e,t)):t==null?(r.local?Rpe:Lpe)(r):(r.local?Ppe:Mpe)(r,n,t))}function Hpe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Vpe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Gpe(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Vpe(e,s)),r}return a._value=t,a}function zpe(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Hpe(e,s)),r}return a._value=t,a}function Kpe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=jv(e);return this.tween(r,(n.local?Gpe:zpe)(n,t))}function qpe(e,t){return function(){P5(this,e).delay=+t.apply(this,arguments)}}function Wpe(e,t){return t=+t,function(){P5(this,e).delay=t}}function $pe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?qpe:Wpe)(t,e)):ll(this.node(),t).delay}function Ype(e,t){return function(){sc(this,e).duration=+t.apply(this,arguments)}}function Jpe(e,t){return t=+t,function(){sc(this,e).duration=t}}function Xpe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ype:Jpe)(t,e)):ll(this.node(),t).duration}function Zpe(e,t){if(typeof t!="function")throw new Error;return function(){sc(this,e).ease=t}}function ege(e){var t=this._id;return arguments.length?this.each(Zpe(t,e)):ll(this.node(),t).ease}function tge(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;sc(this,e).ease=r}}function rge(e){if(typeof e!="function")throw new Error;return this.each(tge(this._id,e))}function nge(e){typeof e!="function"&&(e=aD(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&o.push(c);return new Jc(n,this._parents,this._name,this._id)}function age(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),i=new Array(n),o=0;o<s;++o)for(var c=t[o],u=r[o],f=c.length,h=i[o]=new Array(f),p,g=0;g<f;++g)(p=c[g]||u[g])&&(h[g]=p);for(;o<n;++o)i[o]=t[o];return new Jc(i,this._parents,this._name,this._id)}function sge(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function ige(e,t,r){var n,a,s=sge(t)?P5:sc;return function(){var i=s(this,e),o=i.on;o!==n&&(a=(n=o).copy()).on(t,r),i.on=a}}function oge(e,t){var r=this._id;return arguments.length<2?ll(this.node(),r).on.on(e):this.each(ige(r,e,t))}function lge(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function cge(){return this.on("end.remove",lge(this._id))}function Age(e){var t=this._name,r=this._id;typeof e!="function"&&(e=D5(e));for(var n=this._groups,a=n.length,s=new Array(a),i=0;i<a;++i)for(var o=n[i],c=o.length,u=s[i]=new Array(c),f,h,p=0;p<c;++p)(f=o[p])&&(h=e.call(f,f.__data__,p,o))&&("__data__"in f&&(h.__data__=f.__data__),u[p]=h,Qv(u[p],t,r,p,u,ll(f,r)));return new Jc(s,this._parents,t,r)}function uge(e){var t=this._name,r=this._id;typeof e!="function"&&(e=nD(e));for(var n=this._groups,a=n.length,s=[],i=[],o=0;o<a;++o)for(var c=n[o],u=c.length,f,h=0;h<u;++h)if(f=c[h]){for(var p=e.call(f,f.__data__,h,c),g,b=ll(f,r),y=0,E=p.length;y<E;++y)(g=p[y])&&Qv(g,t,r,y,p,b);s.push(p),i.push(f)}return new Jc(s,i,t,r)}var dge=Op.prototype.constructor;function fge(){return new dge(this._groups,this._parents)}function hge(e,t){var r,n,a;return function(){var s=q0(this,e),i=(this.style.removeProperty(e),q0(this,e));return s===i?null:s===r&&i===n?a:a=t(r=s,n=i)}}function ND(e){return function(){this.style.removeProperty(e)}}function mge(e,t,r){var n,a=r+"",s;return function(){var i=q0(this,e);return i===a?null:i===n?s:s=t(n=i,r)}}function pge(e,t,r){var n,a,s;return function(){var i=q0(this,e),o=r(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),q0(this,e))),i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,o))}}function gge(e,t){var r,n,a,s="style."+t,i="end."+s,o;return function(){var c=sc(this,e),u=c.on,f=c.value[s]==null?o||(o=ND(t)):void 0;(u!==r||a!==f)&&(n=(r=u).copy()).on(i,a=f),c.on=n}}function xge(e,t,r){var n=(e+="")=="transform"?xpe:BD;return t==null?this.styleTween(e,hge(e,n)).on("end.style."+e,ND(e)):typeof t=="function"?this.styleTween(e,pge(e,n,j5(this,"style."+e,t))).each(gge(this._id,e)):this.styleTween(e,mge(e,n,t),r).on("end.style."+e,null)}function vge(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function wge(e,t,r){var n,a;function s(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&vge(e,i,r)),n}return s._value=t,s}function yge(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,wge(e,t,r??""))}function bge(e){return function(){this.textContent=e}}function Cge(e){return function(){var t=e(this);this.textContent=t??""}}function Ege(e){return this.tween("text",typeof e=="function"?Cge(j5(this,"text",e)):bge(e==null?"":e+""))}function Sge(e){return function(t){this.textContent=e.call(this,t)}}function Bge(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&Sge(a)),t}return n._value=e,n}function Nge(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Bge(e))}function _ge(){for(var e=this._name,t=this._id,r=_D(),n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],o=i.length,c,u=0;u<o;++u)if(c=i[u]){var f=ll(c,t);Qv(c,e,r,u,i,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Jc(n,this._parents,e,r)}function Tge(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,i){var o={value:i},c={value:function(){--a===0&&s()}};r.each(function(){var u=sc(this,n),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),u.on=t}),a===0&&s()})}var kge=0;function Jc(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function _D(){return++kge}var Rc=Op.prototype;Jc.prototype={constructor:Jc,select:Age,selectAll:uge,selectChild:Rc.selectChild,selectChildren:Rc.selectChildren,filter:nge,merge:age,selection:fge,transition:_ge,call:Rc.call,nodes:Rc.nodes,node:Rc.node,size:Rc.size,empty:Rc.empty,each:Rc.each,on:oge,attr:Qpe,attrTween:Kpe,style:xge,styleTween:yge,text:Ege,textTween:Nge,remove:cge,tween:Dpe,delay:$pe,duration:Xpe,ease:ege,easeVarying:rge,end:Tge,[Symbol.iterator]:Rc[Symbol.iterator]};function Fge(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ige={time:null,delay:0,duration:250,ease:Fge};function Uge(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Dge(e){var t,r;e instanceof Jc?(t=e._id,e=e._name):(t=_D(),(r=Ige).time=M5(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],o=i.length,c,u=0;u<o;++u)(c=i[u])&&Qv(c,e,t,u,i,r||Uge(c,t));return new Jc(n,this._parents,e,t)}Op.prototype.interrupt=Fpe;Op.prototype.transition=Dge;const Rx=e=>()=>e;function Lge(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function Qc(e,t,r){this.k=e,this.x=t,this.y=r}Qc.prototype={constructor:Qc,scale:function(e){return e===1?this:new Qc(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Qc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wu=new Qc(1,0,0);Qc.prototype;function ky(e){e.stopImmediatePropagation()}function om(e){e.preventDefault(),e.stopImmediatePropagation()}function Rge(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Mge(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function qT(){return this.__zoom||wu}function Pge(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function jge(){return navigator.maxTouchPoints||"ontouchstart"in this}function Oge(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function Qge(){var e=Rge,t=Mge,r=Oge,n=Pge,a=jge,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],o=250,c=Cpe,u=Pv("start","zoom","end"),f,h,p,g=500,b=150,y=0,E=10;function S(Q){Q.property("__zoom",qT).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",W).filter(a).on("touchstart.zoom",O).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(Q,ae,V,G){var re=Q.selection?Q.selection():Q;re.property("__zoom",qT),Q!==re?k(Q,ae,V,G):re.interrupt().each(function(){U(this,arguments).event(G).start().zoom(null,typeof ae=="function"?ae.apply(this,arguments):ae).end()})},S.scaleBy=function(Q,ae,V,G){S.scaleTo(Q,function(){var re=this.__zoom.k,J=typeof ae=="function"?ae.apply(this,arguments):ae;return re*J},V,G)},S.scaleTo=function(Q,ae,V,G){S.transform(Q,function(){var re=t.apply(this,arguments),J=this.__zoom,Y=V==null?_(re):typeof V=="function"?V.apply(this,arguments):V,ce=J.invert(Y),R=typeof ae=="function"?ae.apply(this,arguments):ae;return r(B(N(J,R),Y,ce),re,i)},V,G)},S.translateBy=function(Q,ae,V,G){S.transform(Q,function(){return r(this.__zoom.translate(typeof ae=="function"?ae.apply(this,arguments):ae,typeof V=="function"?V.apply(this,arguments):V),t.apply(this,arguments),i)},null,G)},S.translateTo=function(Q,ae,V,G,re){S.transform(Q,function(){var J=t.apply(this,arguments),Y=this.__zoom,ce=G==null?_(J):typeof G=="function"?G.apply(this,arguments):G;return r(wu.translate(ce[0],ce[1]).scale(Y.k).translate(typeof ae=="function"?-ae.apply(this,arguments):-ae,typeof V=="function"?-V.apply(this,arguments):-V),J,i)},G,re)};function N(Q,ae){return ae=Math.max(s[0],Math.min(s[1],ae)),ae===Q.k?Q:new Qc(ae,Q.x,Q.y)}function B(Q,ae,V){var G=ae[0]-V[0]*Q.k,re=ae[1]-V[1]*Q.k;return G===Q.x&&re===Q.y?Q:new Qc(Q.k,G,re)}function _(Q){return[(+Q[0][0]+ +Q[1][0])/2,(+Q[0][1]+ +Q[1][1])/2]}function k(Q,ae,V,G){Q.on("start.zoom",function(){U(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){U(this,arguments).event(G).end()}).tween("zoom",function(){var re=this,J=arguments,Y=U(re,J).event(G),ce=t.apply(re,J),R=V==null?_(ce):typeof V=="function"?V.apply(re,J):V,z=Math.max(ce[1][0]-ce[0][0],ce[1][1]-ce[0][1]),q=re.__zoom,ee=typeof ae=="function"?ae.apply(re,J):ae,ne=c(q.invert(R).concat(z/q.k),ee.invert(R).concat(z/ee.k));return function(le){if(le===1)le=ee;else{var ue=ne(le),he=z/ue[2];le=new Qc(he,R[0]-ue[0]*he,R[1]-ue[1]*he)}Y.zoom(null,le)}})}function U(Q,ae,V){return!V&&Q.__zooming||new F(Q,ae)}function F(Q,ae){this.that=Q,this.args=ae,this.active=0,this.sourceEvent=null,this.extent=t.apply(Q,ae),this.taps=0}F.prototype={event:function(Q){return Q&&(this.sourceEvent=Q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Q,ae){return this.mouse&&Q!=="mouse"&&(this.mouse[1]=ae.invert(this.mouse[0])),this.touch0&&Q!=="touch"&&(this.touch0[1]=ae.invert(this.touch0[0])),this.touch1&&Q!=="touch"&&(this.touch1[1]=ae.invert(this.touch1[0])),this.that.__zoom=ae,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Q){var ae=Yo(this.that).datum();u.call(Q,this.that,new Lge(Q,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:u}),ae)}};function L(Q,...ae){if(!e.apply(this,arguments))return;var V=U(this,ae).event(Q),G=this.__zoom,re=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,n.apply(this,arguments)))),J=Kl(Q);if(V.wheel)(V.mouse[0][0]!==J[0]||V.mouse[0][1]!==J[1])&&(V.mouse[1]=G.invert(V.mouse[0]=J)),clearTimeout(V.wheel);else{if(G.k===re)return;V.mouse=[J,G.invert(J)],i1(this),V.start()}om(Q),V.wheel=setTimeout(Y,b),V.zoom("mouse",r(B(N(G,re),V.mouse[0],V.mouse[1]),V.extent,i));function Y(){V.wheel=null,V.end()}}function D(Q,...ae){if(p||!e.apply(this,arguments))return;var V=Q.currentTarget,G=U(this,ae,!0).event(Q),re=Yo(Q.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",z,!0),J=Kl(Q,V),Y=Q.clientX,ce=Q.clientY;hD(Q.view),ky(Q),G.mouse=[J,this.__zoom.invert(J)],i1(this),G.start();function R(q){if(om(q),!G.moved){var ee=q.clientX-Y,ne=q.clientY-ce;G.moved=ee*ee+ne*ne>y}G.event(q).zoom("mouse",r(B(G.that.__zoom,G.mouse[0]=Kl(q,V),G.mouse[1]),G.extent,i))}function z(q){re.on("mousemove.zoom mouseup.zoom",null),mD(q.view,G.moved),om(q),G.event(q).end()}}function W(Q,...ae){if(e.apply(this,arguments)){var V=this.__zoom,G=Kl(Q.changedTouches?Q.changedTouches[0]:Q,this),re=V.invert(G),J=V.k*(Q.shiftKey?.5:2),Y=r(B(N(V,J),G,re),t.apply(this,ae),i);om(Q),o>0?Yo(this).transition().duration(o).call(k,Y,G,Q):Yo(this).call(S.transform,Y,G,Q)}}function O(Q,...ae){if(e.apply(this,arguments)){var V=Q.touches,G=V.length,re=U(this,ae,Q.changedTouches.length===G).event(Q),J,Y,ce,R;for(ky(Q),Y=0;Y<G;++Y)ce=V[Y],R=Kl(ce,this),R=[R,this.__zoom.invert(R),ce.identifier],re.touch0?!re.touch1&&re.touch0[2]!==R[2]&&(re.touch1=R,re.taps=0):(re.touch0=R,J=!0,re.taps=1+!!f);f&&(f=clearTimeout(f)),J&&(re.taps<2&&(h=R[0],f=setTimeout(function(){f=null},g)),i1(this),re.start())}}function M(Q,...ae){if(this.__zooming){var V=U(this,ae).event(Q),G=Q.changedTouches,re=G.length,J,Y,ce,R;for(om(Q),J=0;J<re;++J)Y=G[J],ce=Kl(Y,this),V.touch0&&V.touch0[2]===Y.identifier?V.touch0[0]=ce:V.touch1&&V.touch1[2]===Y.identifier&&(V.touch1[0]=ce);if(Y=V.that.__zoom,V.touch1){var z=V.touch0[0],q=V.touch0[1],ee=V.touch1[0],ne=V.touch1[1],le=(le=ee[0]-z[0])*le+(le=ee[1]-z[1])*le,ue=(ue=ne[0]-q[0])*ue+(ue=ne[1]-q[1])*ue;Y=N(Y,Math.sqrt(le/ue)),ce=[(z[0]+ee[0])/2,(z[1]+ee[1])/2],R=[(q[0]+ne[0])/2,(q[1]+ne[1])/2]}else if(V.touch0)ce=V.touch0[0],R=V.touch0[1];else return;V.zoom("touch",r(B(Y,ce,R),V.extent,i))}}function K(Q,...ae){if(this.__zooming){var V=U(this,ae).event(Q),G=Q.changedTouches,re=G.length,J,Y;for(ky(Q),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),J=0;J<re;++J)Y=G[J],V.touch0&&V.touch0[2]===Y.identifier?delete V.touch0:V.touch1&&V.touch1[2]===Y.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(Y=Kl(Y,this),Math.hypot(h[0]-Y[0],h[1]-Y[1])<E)){var ce=Yo(this).on("dblclick.zoom");ce&&ce.apply(this,arguments)}}}return S.wheelDelta=function(Q){return arguments.length?(n=typeof Q=="function"?Q:Rx(+Q),S):n},S.filter=function(Q){return arguments.length?(e=typeof Q=="function"?Q:Rx(!!Q),S):e},S.touchable=function(Q){return arguments.length?(a=typeof Q=="function"?Q:Rx(!!Q),S):a},S.extent=function(Q){return arguments.length?(t=typeof Q=="function"?Q:Rx([[+Q[0][0],+Q[0][1]],[+Q[1][0],+Q[1][1]]]),S):t},S.scaleExtent=function(Q){return arguments.length?(s[0]=+Q[0],s[1]=+Q[1],S):[s[0],s[1]]},S.translateExtent=function(Q){return arguments.length?(i[0][0]=+Q[0][0],i[1][0]=+Q[1][0],i[0][1]=+Q[0][1],i[1][1]=+Q[1][1],S):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},S.constrain=function(Q){return arguments.length?(r=Q,S):r},S.duration=function(Q){return arguments.length?(o=+Q,S):o},S.interpolate=function(Q){return arguments.length?(c=Q,S):c},S.on=function(){var Q=u.on.apply(u,arguments);return Q===u?S:Q},S.clickDistance=function(Q){return arguments.length?(y=(Q=+Q)*Q,S):Math.sqrt(y)},S.tapDistance=function(Q){return arguments.length?(E=+Q,S):E},S}Fk();const Hv=X.createContext(null),Hge=Hv.Provider,Xc={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},TD=Xc.error001();function Jn(e,t){const r=X.useContext(Hv);if(r===null)throw new Error(TD);return tD(r,e,t)}const es=()=>{const e=X.useContext(Hv);if(e===null)throw new Error(TD);return X.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Vge=e=>e.userSelectionActive?"none":"all";function kD({position:e,children:t,className:r,style:n,...a}){const s=Jn(Vge),i=`${e}`.split("-");return at.createElement("div",{className:ti(["react-flow__panel",r,...i]),style:{...n,pointerEvents:s},...a},t)}function Gge({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:at.createElement(kD,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},at.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const zge=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:a=!0,labelBgStyle:s={},labelBgPadding:i=[2,4],labelBgBorderRadius:o=2,children:c,className:u,...f})=>{const h=X.useRef(null),[p,g]=X.useState({x:0,y:0,width:0,height:0}),b=ti(["react-flow__edge-textwrapper",u]);return X.useEffect(()=>{if(h.current){const y=h.current.getBBox();g({x:y.x,y:y.y,width:y.width,height:y.height})}},[r]),typeof r>"u"||!r?null:at.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:b,visibility:p.width?"visible":"hidden",...f},a&&at.createElement("rect",{width:p.width+2*i[0],x:-i[0],y:-i[1],height:p.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:o,ry:o}),at.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:n},r),c)};var Kge=X.memo(zge);const O5=e=>({width:e.offsetWidth,height:e.offsetHeight}),$0=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Q5=(e={x:0,y:0},t)=>({x:$0(e.x,t[0][0],t[1][0]),y:$0(e.y,t[0][1],t[1][1])}),WT=(e,t,r)=>e<t?$0(Math.abs(e-t),1,50)/50:e>r?-$0(Math.abs(e-r),1,50)/50:0,FD=(e,t)=>{const r=WT(e.x,35,t.width-35)*20,n=WT(e.y,35,t.height-35)*20;return[r,n]},ID=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},qge=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),H5=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Wge=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),$T=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),cC=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},$ge=e=>po(e.width)&&po(e.height)&&po(e.x)&&po(e.y),po=e=>!isNaN(e)&&isFinite(e),aa=Symbol.for("internals"),UD=["Enter"," ","Escape"],Yge=(e,t)=>{},Jge=e=>"nativeEvent"in e;function AC(e){var a,s;const t=Jge(e)?e.nativeEvent:e,r=((s=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const DD=e=>"clientX"in e,yu=(e,t)=>{var s,i;const r=DD(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},ev=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Hp=({id:e,path:t,labelX:r,labelY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:h,markerStart:p,interactionWidth:g=20})=>at.createElement(at.Fragment,null,at.createElement("path",{id:e,style:f,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),g&&at.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),a&&po(r)&&po(n)?at.createElement(Kge,{x:r,y:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u}):null);Hp.displayName="BaseEdge";function lm(e,t,r){return r===void 0?r:n=>{const a=t().edges.find(s=>s.id===e);a&&r(n,{...a})}}function LD({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,s=r<e?r+a:r-a,i=Math.abs(n-t)/2,o=n<t?n+i:n-i;return[s,o,a,i]}function RD({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:s,targetControlX:i,targetControlY:o}){const c=e*.125+a*.375+i*.375+r*.125,u=t*.125+s*.375+o*.375+n*.125,f=Math.abs(c-e),h=Math.abs(u-t);return[c,u,f,h]}var qd;(function(e){e.Strict="strict",e.Loose="loose"})(qd||(qd={}));var _d;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(_d||(_d={}));var wp;(function(e){e.Partial="partial",e.Full="full"})(wp||(wp={}));var lu;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(lu||(lu={}));var tv;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(tv||(tv={}));var $t;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})($t||($t={}));function YT({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===$t.Left||e===$t.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function MD({sourceX:e,sourceY:t,sourcePosition:r=$t.Bottom,targetX:n,targetY:a,targetPosition:s=$t.Top}){const[i,o]=YT({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=YT({pos:s,x1:n,y1:a,x2:e,y2:t}),[f,h,p,g]=RD({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:o,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${o} ${c},${u} ${n},${a}`,f,h,p,g]}const V5=X.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=$t.Bottom,targetPosition:s=$t.Top,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:b,interactionWidth:y})=>{const[E,S,N]=MD({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:s});return at.createElement(Hp,{path:E,labelX:S,labelY:N,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:b,interactionWidth:y})});V5.displayName="SimpleBezierEdge";const JT={[$t.Left]:{x:-1,y:0},[$t.Right]:{x:1,y:0},[$t.Top]:{x:0,y:-1},[$t.Bottom]:{x:0,y:1}},Xge=({source:e,sourcePosition:t=$t.Bottom,target:r})=>t===$t.Left||t===$t.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},XT=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Zge({source:e,sourcePosition:t=$t.Bottom,target:r,targetPosition:n=$t.Top,center:a,offset:s}){const i=JT[t],o=JT[n],c={x:e.x+i.x*s,y:e.y+i.y*s},u={x:r.x+o.x*s,y:r.y+o.y*s},f=Xge({source:c,sourcePosition:t,target:u}),h=f.x!==0?"x":"y",p=f[h];let g=[],b,y;const E={x:0,y:0},S={x:0,y:0},[N,B,_,k]=LD({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(i[h]*o[h]===-1){b=a.x??N,y=a.y??B;const F=[{x:b,y:c.y},{x:b,y:u.y}],L=[{x:c.x,y},{x:u.x,y}];i[h]===p?g=h==="x"?F:L:g=h==="x"?L:F}else{const F=[{x:c.x,y:u.y}],L=[{x:u.x,y:c.y}];if(h==="x"?g=i.x===p?L:F:g=i.y===p?F:L,t===n){const K=Math.abs(e[h]-r[h]);if(K<=s){const Q=Math.min(s-1,s-K);i[h]===p?E[h]=(c[h]>e[h]?-1:1)*Q:S[h]=(u[h]>r[h]?-1:1)*Q}}if(t!==n){const K=h==="x"?"y":"x",Q=i[h]===o[K],ae=c[K]>u[K],V=c[K]<u[K];(i[h]===1&&(!Q&&ae||Q&&V)||i[h]!==1&&(!Q&&V||Q&&ae))&&(g=h==="x"?F:L)}const D={x:c.x+E.x,y:c.y+E.y},W={x:u.x+S.x,y:u.y+S.y},O=Math.max(Math.abs(D.x-g[0].x),Math.abs(W.x-g[0].x)),M=Math.max(Math.abs(D.y-g[0].y),Math.abs(W.y-g[0].y));O>=M?(b=(D.x+W.x)/2,y=g[0].y):(b=g[0].x,y=(D.y+W.y)/2)}return[[e,{x:c.x+E.x,y:c.y+E.y},...g,{x:u.x+S.x,y:u.y+S.y},r],b,y,_,k]}function exe(e,t,r,n){const a=Math.min(XT(e,t)/2,XT(t,r)/2,n),{x:s,y:i}=t;if(e.x===s&&s===r.x||e.y===i&&i===r.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<r.x?-1:1,f=e.y<r.y?1:-1;return`L ${s+a*u},${i}Q ${s},${i} ${s},${i+a*f}`}const o=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${s},${i+a*c}Q ${s},${i} ${s+a*o},${i}`}function uC({sourceX:e,sourceY:t,sourcePosition:r=$t.Bottom,targetX:n,targetY:a,targetPosition:s=$t.Top,borderRadius:i=5,centerX:o,centerY:c,offset:u=20}){const[f,h,p,g,b]=Zge({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:s,center:{x:o,y:c},offset:u});return[f.reduce((E,S,N)=>{let B="";return N>0&&N<f.length-1?B=exe(f[N-1],S,f[N+1],i):B=`${N===0?"M":"L"}${S.x} ${S.y}`,E+=B,E},""),h,p,g,b]}const Vv=X.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:f,sourcePosition:h=$t.Bottom,targetPosition:p=$t.Top,markerEnd:g,markerStart:b,pathOptions:y,interactionWidth:E})=>{const[S,N,B]=uC({sourceX:e,sourceY:t,sourcePosition:h,targetX:r,targetY:n,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return at.createElement(Hp,{path:S,labelX:N,labelY:B,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:g,markerStart:b,interactionWidth:E})});Vv.displayName="SmoothStepEdge";const G5=X.memo(e=>{var t;return at.createElement(Vv,{...e,pathOptions:X.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});G5.displayName="StepEdge";function txe({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,s,i,o]=LD({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,s,i,o]}const z5=X.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[b,y,E]=txe({sourceX:e,sourceY:t,targetX:r,targetY:n});return at.createElement(Hp,{path:b,labelX:y,labelY:E,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:h,markerStart:p,interactionWidth:g})});z5.displayName="StraightEdge";function Mx(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ZT({pos:e,x1:t,y1:r,x2:n,y2:a,c:s}){switch(e){case $t.Left:return[t-Mx(t-n,s),r];case $t.Right:return[t+Mx(n-t,s),r];case $t.Top:return[t,r-Mx(r-a,s)];case $t.Bottom:return[t,r+Mx(a-r,s)]}}function PD({sourceX:e,sourceY:t,sourcePosition:r=$t.Bottom,targetX:n,targetY:a,targetPosition:s=$t.Top,curvature:i=.25}){const[o,c]=ZT({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[u,f]=ZT({pos:s,x1:n,y1:a,x2:e,y2:t,c:i}),[h,p,g,b]=RD({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:f});return[`M${e},${t} C${o},${c} ${u},${f} ${n},${a}`,h,p,g,b]}const rv=X.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=$t.Bottom,targetPosition:s=$t.Top,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:b,pathOptions:y,interactionWidth:E})=>{const[S,N,B]=PD({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:s,curvature:y==null?void 0:y.curvature});return at.createElement(Hp,{path:S,labelX:N,labelY:B,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:b,interactionWidth:E})});rv.displayName="BezierEdge";const K5=X.createContext(null),rxe=K5.Provider;K5.Consumer;const nxe=()=>X.useContext(K5),axe=e=>"id"in e&&"source"in e&&"target"in e,sxe=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,dC=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,ixe=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),oxe=(e,t)=>{if(!e.source||!e.target)return t;let r;return axe(e)?r={...e}:r={...e,id:sxe(e)},ixe(r,t)?t:t.concat(r)},fC=({x:e,y:t},[r,n,a],s,[i,o])=>{const c={x:(e-r)/a,y:(t-n)/a};return s?{x:i*Math.round(c.x/i),y:o*Math.round(c.y/o)}:c},jD=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n}),P0=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],a={x:e.position.x-r,y:e.position.y-n};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:a}},q5=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const{x:s,y:i}=P0(a,t).positionAbsolute;return qge(n,H5({x:s,y:i,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Wge(r)},OD=(e,t,[r,n,a]=[0,0,1],s=!1,i=!1,o=[0,0])=>{const c={x:(t.x-r)/a,y:(t.y-n)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(f=>{const{width:h,height:p,selectable:g=!0,hidden:b=!1}=f;if(i&&!g||b)return!1;const{positionAbsolute:y}=P0(f,o),E={x:y.x,y:y.y,width:h||0,height:p||0},S=cC(c,E),N=typeof h>"u"||typeof p>"u"||h===null||p===null,B=s&&S>0,_=(h||0)*(p||0);(N||B||S>=_||f.dragging)&&u.push(f)}),u},QD=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},HD=(e,t,r,n,a,s=.1)=>{const i=t/(e.width*(1+s)),o=r/(e.height*(1+s)),c=Math.min(i,o),u=$0(c,n,a),f=e.x+e.width/2,h=e.y+e.height/2,p=t/2-f*u,g=r/2-h*u;return{x:p,y:g,zoom:u}},wd=(e,t=0)=>e.transition().duration(t);function ek(e,t,r,n){return(t[r]||[]).reduce((a,s)=>{var i,o;return`${e.id}-${s.id}-${r}`!==n&&a.push({id:s.id||null,type:r,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+s.x+s.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+s.y+s.height/2}),a},[])}function lxe(e,t,r,n,a,s){const{x:i,y:o}=yu(e),u=t.elementsFromPoint(i,o).find(b=>b.classList.contains("react-flow__handle"));if(u){const b=u.getAttribute("data-nodeid");if(b){const y=W5(void 0,u),E=u.getAttribute("data-handleid"),S=s({nodeId:b,id:E,type:y});if(S){const N=a.find(B=>B.nodeId===b&&B.type===y&&B.id===E);return{handle:{id:E,type:y,nodeId:b,x:(N==null?void 0:N.x)||r.x,y:(N==null?void 0:N.y)||r.y},validHandleResult:S}}}}let f=[],h=1/0;if(a.forEach(b=>{const y=Math.sqrt((b.x-r.x)**2+(b.y-r.y)**2);if(y<=n){const E=s(b);y<=h&&(y<h?f=[{handle:b,validHandleResult:E}]:y===h&&f.push({handle:b,validHandleResult:E}),h=y)}}),!f.length)return{handle:null,validHandleResult:VD()};if(f.length===1)return f[0];const p=f.some(({validHandleResult:b})=>b.isValid),g=f.some(({handle:b})=>b.type==="target");return f.find(({handle:b,validHandleResult:y})=>g?b.type==="target":p?y.isValid:!0)||f[0]}const cxe={source:null,target:null,sourceHandle:null,targetHandle:null},VD=()=>({handleDomNode:null,isValid:!1,connection:cxe,endHandle:null});function GD(e,t,r,n,a,s,i){const o=a==="target",c=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...VD(),handleDomNode:c};if(c){const f=W5(void 0,c),h=c.getAttribute("data-nodeid"),p=c.getAttribute("data-handleid"),g=c.classList.contains("connectable"),b=c.classList.contains("connectableend"),y={source:o?h:r,sourceHandle:o?p:n,target:o?r:h,targetHandle:o?n:p};u.connection=y,g&&b&&(t===qd.Strict?o&&f==="source"||!o&&f==="target":h!==r||p!==n)&&(u.endHandle={nodeId:h,handleId:p,type:f},u.isValid=s(y))}return u}function Axe({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((a,s)=>{if(s[aa]){const{handleBounds:i}=s[aa];let o=[],c=[];i&&(o=ek(s,i,"source",`${t}-${r}-${n}`),c=ek(s,i,"target",`${t}-${r}-${n}`)),a.push(...o,...c)}return a},[])}function W5(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Fy(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function uxe(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function zD({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:a,getState:s,setState:i,isValidConnection:o,edgeUpdaterType:c,onReconnectEnd:u}){const f=ID(e.target),{connectionMode:h,domNode:p,autoPanOnConnect:g,connectionRadius:b,onConnectStart:y,panBy:E,getNodes:S,cancelConnection:N}=s();let B=0,_;const{x:k,y:U}=yu(e),F=f==null?void 0:f.elementFromPoint(k,U),L=W5(c,F),D=p==null?void 0:p.getBoundingClientRect();if(!D||!L)return;let W,O=yu(e,D),M=!1,K=null,Q=!1,ae=null;const V=Axe({nodes:S(),nodeId:r,handleId:t,handleType:L}),G=()=>{if(!g)return;const[Y,ce]=FD(O,D);E({x:Y,y:ce}),B=requestAnimationFrame(G)};i({connectionPosition:O,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:L,connectionStartHandle:{nodeId:r,handleId:t,type:L},connectionEndHandle:null}),y==null||y(e,{nodeId:r,handleId:t,handleType:L});function re(Y){const{transform:ce}=s();O=yu(Y,D);const{handle:R,validHandleResult:z}=lxe(Y,f,fC(O,ce,!1,[1,1]),b,V,q=>GD(q,h,r,t,a?"target":"source",o,f));if(_=R,M||(G(),M=!0),ae=z.handleDomNode,K=z.connection,Q=z.isValid,i({connectionPosition:_&&Q?jD({x:_.x,y:_.y},ce):O,connectionStatus:uxe(!!_,Q),connectionEndHandle:z.endHandle}),!_&&!Q&&!ae)return Fy(W);K.source!==K.target&&ae&&(Fy(W),W=ae,ae.classList.add("connecting","react-flow__handle-connecting"),ae.classList.toggle("valid",Q),ae.classList.toggle("react-flow__handle-valid",Q))}function J(Y){var ce,R;(_||ae)&&K&&Q&&(n==null||n(K)),(R=(ce=s()).onConnectEnd)==null||R.call(ce,Y),c&&(u==null||u(Y)),Fy(W),N(),cancelAnimationFrame(B),M=!1,Q=!1,K=null,ae=null,f.removeEventListener("mousemove",re),f.removeEventListener("mouseup",J),f.removeEventListener("touchmove",re),f.removeEventListener("touchend",J)}f.addEventListener("mousemove",re),f.addEventListener("mouseup",J),f.addEventListener("touchmove",re),f.addEventListener("touchend",J)}const tk=()=>!0,dxe=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),fxe=(e,t,r)=>n=>{const{connectionStartHandle:a,connectionEndHandle:s,connectionClickStartHandle:i}=n;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===r||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===r,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r}},KD=X.forwardRef(({type:e="source",position:t=$t.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:i,onConnect:o,children:c,className:u,onMouseDown:f,onTouchStart:h,...p},g)=>{var D,W;const b=i||null,y=e==="target",E=es(),S=nxe(),{connectOnClick:N,noPanClassName:B}=Jn(dxe,Os),{connecting:_,clickConnecting:k}=Jn(fxe(S,b,e),Os);S||(W=(D=E.getState()).onError)==null||W.call(D,"010",Xc.error010());const U=O=>{const{defaultEdgeOptions:M,onConnect:K,hasDefaultEdges:Q}=E.getState(),ae={...M,...O};if(Q){const{edges:V,setEdges:G}=E.getState();G(oxe(ae,V))}K==null||K(ae),o==null||o(ae)},F=O=>{if(!S)return;const M=DD(O);a&&(M&&O.button===0||!M)&&zD({event:O,handleId:b,nodeId:S,onConnect:U,isTarget:y,getState:E.getState,setState:E.setState,isValidConnection:r||E.getState().isValidConnection||tk}),M?f==null||f(O):h==null||h(O)},L=O=>{const{onClickConnectStart:M,onClickConnectEnd:K,connectionClickStartHandle:Q,connectionMode:ae,isValidConnection:V}=E.getState();if(!S||!Q&&!a)return;if(!Q){M==null||M(O,{nodeId:S,handleId:b,handleType:e}),E.setState({connectionClickStartHandle:{nodeId:S,type:e,handleId:b}});return}const G=ID(O.target),re=r||V||tk,{connection:J,isValid:Y}=GD({nodeId:S,id:b,type:e},ae,Q.nodeId,Q.handleId||null,Q.type,re,G);Y&&U(J),K==null||K(O),E.setState({connectionClickStartHandle:null})};return at.createElement("div",{"data-handleid":b,"data-nodeid":S,"data-handlepos":t,"data-id":`${S}-${b}-${e}`,className:ti(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",B,u,{source:!y,target:y,connectable:n,connectablestart:a,connectableend:s,connecting:k,connectionindicator:n&&(a&&!_||s&&_)}]),onMouseDown:F,onTouchStart:F,onClick:N?L:void 0,ref:g,...p},c)});KD.displayName="Handle";var nv=X.memo(KD);const qD=({data:e,isConnectable:t,targetPosition:r=$t.Top,sourcePosition:n=$t.Bottom})=>at.createElement(at.Fragment,null,at.createElement(nv,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,at.createElement(nv,{type:"source",position:n,isConnectable:t}));qD.displayName="DefaultNode";var hC=X.memo(qD);const WD=({data:e,isConnectable:t,sourcePosition:r=$t.Bottom})=>at.createElement(at.Fragment,null,e==null?void 0:e.label,at.createElement(nv,{type:"source",position:r,isConnectable:t}));WD.displayName="InputNode";var $D=X.memo(WD);const YD=({data:e,isConnectable:t,targetPosition:r=$t.Top})=>at.createElement(at.Fragment,null,at.createElement(nv,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);YD.displayName="OutputNode";var JD=X.memo(YD);const $5=()=>null;$5.displayName="GroupNode";const hxe=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Px=e=>e.id;function mxe(e,t){return Os(e.selectedNodes.map(Px),t.selectedNodes.map(Px))&&Os(e.selectedEdges.map(Px),t.selectedEdges.map(Px))}const XD=X.memo(({onSelectionChange:e})=>{const t=es(),{selectedNodes:r,selectedEdges:n}=Jn(hxe,mxe);return X.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChange.forEach(s=>s(a))},[r,n,e]),null});XD.displayName="SelectionListener";const pxe=e=>!!e.onSelectionChange;function gxe({onSelectionChange:e}){const t=Jn(pxe);return e||t?at.createElement(XD,{onSelectionChange:e}):null}const xxe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function t0(e,t){X.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function _r(e,t,r){X.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const vxe=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:a,onConnectStart:s,onConnectEnd:i,onClickConnectStart:o,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:f,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:g,elevateNodesOnSelect:b,minZoom:y,maxZoom:E,nodeExtent:S,onNodesChange:N,onEdgesChange:B,elementsSelectable:_,connectionMode:k,snapGrid:U,snapToGrid:F,translateExtent:L,connectOnClick:D,defaultEdgeOptions:W,fitView:O,fitViewOptions:M,onNodesDelete:K,onEdgesDelete:Q,onNodeDrag:ae,onNodeDragStart:V,onNodeDragStop:G,onSelectionDrag:re,onSelectionDragStart:J,onSelectionDragStop:Y,noPanClassName:ce,nodeOrigin:R,rfId:z,autoPanOnConnect:q,autoPanOnNodeDrag:ee,onError:ne,connectionRadius:le,isValidConnection:ue,nodeDragThreshold:he})=>{const{setNodes:Ne,setEdges:ge,setDefaultNodesAndEdges:te,setMinZoom:Te,setMaxZoom:qe,setTranslateExtent:ke,setNodeExtent:we,reset:je}=Jn(xxe,Os),$e=es();return X.useEffect(()=>{const et=n==null?void 0:n.map(dt=>({...dt,...W}));return te(r,et),()=>{je()}},[]),_r("defaultEdgeOptions",W,$e.setState),_r("connectionMode",k,$e.setState),_r("onConnect",a,$e.setState),_r("onConnectStart",s,$e.setState),_r("onConnectEnd",i,$e.setState),_r("onClickConnectStart",o,$e.setState),_r("onClickConnectEnd",c,$e.setState),_r("nodesDraggable",u,$e.setState),_r("nodesConnectable",f,$e.setState),_r("nodesFocusable",h,$e.setState),_r("edgesFocusable",p,$e.setState),_r("edgesUpdatable",g,$e.setState),_r("elementsSelectable",_,$e.setState),_r("elevateNodesOnSelect",b,$e.setState),_r("snapToGrid",F,$e.setState),_r("snapGrid",U,$e.setState),_r("onNodesChange",N,$e.setState),_r("onEdgesChange",B,$e.setState),_r("connectOnClick",D,$e.setState),_r("fitViewOnInit",O,$e.setState),_r("fitViewOnInitOptions",M,$e.setState),_r("onNodesDelete",K,$e.setState),_r("onEdgesDelete",Q,$e.setState),_r("onNodeDrag",ae,$e.setState),_r("onNodeDragStart",V,$e.setState),_r("onNodeDragStop",G,$e.setState),_r("onSelectionDrag",re,$e.setState),_r("onSelectionDragStart",J,$e.setState),_r("onSelectionDragStop",Y,$e.setState),_r("noPanClassName",ce,$e.setState),_r("nodeOrigin",R,$e.setState),_r("rfId",z,$e.setState),_r("autoPanOnConnect",q,$e.setState),_r("autoPanOnNodeDrag",ee,$e.setState),_r("onError",ne,$e.setState),_r("connectionRadius",le,$e.setState),_r("isValidConnection",ue,$e.setState),_r("nodeDragThreshold",he,$e.setState),t0(e,Ne),t0(t,ge),t0(y,Te),t0(E,qe),t0(L,ke),t0(S,we),null},rk={display:"none"},wxe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ZD="react-flow__node-desc",eL="react-flow__edge-desc",yxe="react-flow__aria-live",bxe=e=>e.ariaLiveMessage;function Cxe({rfId:e}){const t=Jn(bxe);return at.createElement("div",{id:`${yxe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:wxe},t)}function Exe({rfId:e,disableKeyboardA11y:t}){return at.createElement(at.Fragment,null,at.createElement("div",{id:`${ZD}-${e}`,style:rk},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),at.createElement("div",{id:`${eL}-${e}`,style:rk},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&at.createElement(Cxe,{rfId:e}))}var yp=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=X.useState(!1),a=X.useRef(!1),s=X.useRef(new Set([])),[i,o]=X.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.split("+")),f=u.reduce((h,p)=>h.concat(...p),[]);return[u,f]}return[[],[]]},[e]);return X.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const f=g=>{if(a.current=g.ctrlKey||g.metaKey||g.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&AC(g))return!1;const y=ak(g.code,o);s.current.add(g[y]),nk(i,s.current,!1)&&(g.preventDefault(),n(!0))},h=g=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&AC(g))return!1;const y=ak(g.code,o);nk(i,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(g[y]),g.key==="Meta"&&s.current.clear(),a.current=!1},p=()=>{s.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",f),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",p),()=>{u==null||u.removeEventListener("keydown",f),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",p)}}},[e,n]),r};function nk(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function ak(e,t){return t.includes(e)?"code":"key"}function tL(e,t,r,n){var o,c;const a=e.parentNode||e.parentId;if(!a)return r;const s=t.get(a),i=P0(s,n);return tL(s,t,{x:(r.x??0)+i.x,y:(r.y??0)+i.y,z:(((o=s[aa])==null?void 0:o.z)??0)>(r.z??0)?((c=s[aa])==null?void 0:c.z)??0:r.z??0},n)}function rL(e,t,r){e.forEach(n=>{var s;const a=n.parentNode||n.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||r!=null&&r[n.id]){const{x:i,y:o,z:c}=tL(n,e,{...n.position,z:((s=n[aa])==null?void 0:s.z)??0},t);n.positionAbsolute={x:i,y:o},n[aa].z=c,r!=null&&r[n.id]&&(n[aa].isParent=!0)}})}function Iy(e,t,r,n){const a=new Map,s={},i=n?1e3:0;return e.forEach(o=>{var g;const c=(po(o.zIndex)?o.zIndex:0)+(o.selected?i:0),u=t.get(o.id),f={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},h=o.parentNode||o.parentId;h&&(s[h]=!0);const p=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(f,aa,{enumerable:!1,value:{handleBounds:p||(g=u==null?void 0:u[aa])==null?void 0:g.handleBounds,z:c}}),a.set(o.id,f)}),rL(a,r,s),a}function nL(e,t={}){const{getNodes:r,width:n,height:a,minZoom:s,maxZoom:i,d3Zoom:o,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:f,nodeOrigin:h}=e(),p=t.initial&&!u&&f;if(o&&c&&(p||!t.initial)){const b=r().filter(E=>{var N;const S=t.includeHiddenNodes?E.width&&E.height:!E.hidden;return(N=t.nodes)!=null&&N.length?S&&t.nodes.some(B=>B.id===E.id):S}),y=b.every(E=>E.width&&E.height);if(b.length>0&&y){const E=q5(b,h),{x:S,y:N,zoom:B}=HD(E,n,a,t.minZoom??s,t.maxZoom??i,t.padding??.1),_=wu.translate(S,N).scale(B);return typeof t.duration=="number"&&t.duration>0?o.transform(wd(c,t.duration),_):o.transform(c,_),!0}}return!1}function Sxe(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[aa]:n[aa],selected:r.selected})}),new Map(t)}function Bxe(e,t){return t.map(r=>{const n=e.find(a=>a.id===r.id);return n&&(r.selected=n.selected),r})}function jx({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:a,edges:s,onNodesChange:i,onEdgesChange:o,hasDefaultNodes:c,hasDefaultEdges:u}=r();e!=null&&e.length&&(c&&n({nodeInternals:Sxe(e,a)}),i==null||i(e)),t!=null&&t.length&&(u&&n({edges:Bxe(t,s)}),o==null||o(t))}const r0=()=>{},Nxe={zoomIn:r0,zoomOut:r0,zoomTo:r0,getZoom:()=>1,setViewport:r0,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:r0,fitBounds:r0,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},_xe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Txe=()=>{const e=es(),{d3Zoom:t,d3Selection:r}=Jn(_xe,Os);return X.useMemo(()=>r&&t?{zoomIn:a=>t.scaleBy(wd(r,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(wd(r,a==null?void 0:a.duration),1/1.2),zoomTo:(a,s)=>t.scaleTo(wd(r,s==null?void 0:s.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,s)=>{const[i,o,c]=e.getState().transform,u=wu.translate(a.x??i,a.y??o).scale(a.zoom??c);t.transform(wd(r,s==null?void 0:s.duration),u)},getViewport:()=>{const[a,s,i]=e.getState().transform;return{x:a,y:s,zoom:i}},fitView:a=>nL(e.getState,a),setCenter:(a,s,i)=>{const{width:o,height:c,maxZoom:u}=e.getState(),f=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,h=o/2-a*f,p=c/2-s*f,g=wu.translate(h,p).scale(f);t.transform(wd(r,i==null?void 0:i.duration),g)},fitBounds:(a,s)=>{const{width:i,height:o,minZoom:c,maxZoom:u}=e.getState(),{x:f,y:h,zoom:p}=HD(a,i,o,c,u,(s==null?void 0:s.padding)??.1),g=wu.translate(f,h).scale(p);t.transform(wd(r,s==null?void 0:s.duration),g)},project:a=>{const{transform:s,snapToGrid:i,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),fC(a,s,i,o)},screenToFlowPosition:a=>{const{transform:s,snapToGrid:i,snapGrid:o,domNode:c}=e.getState();if(!c)return a;const{x:u,y:f}=c.getBoundingClientRect(),h={x:a.x-u,y:a.y-f};return fC(h,s,i,o)},flowToScreenPosition:a=>{const{transform:s,domNode:i}=e.getState();if(!i)return a;const{x:o,y:c}=i.getBoundingClientRect(),u=jD(a,s);return{x:u.x+o,y:u.y+c}},viewportInitialized:!0}:Nxe,[t,r])};function Gv(){const e=Txe(),t=es(),r=X.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),n=X.useCallback(y=>t.getState().nodeInternals.get(y),[]),a=X.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(E=>({...E}))},[]),s=X.useCallback(y=>{const{edges:E=[]}=t.getState();return E.find(S=>S.id===y)},[]),i=X.useCallback(y=>{const{getNodes:E,setNodes:S,hasDefaultNodes:N,onNodesChange:B}=t.getState(),_=E(),k=typeof y=="function"?y(_):y;if(N)S(k);else if(B){const U=k.length===0?_.map(F=>({type:"remove",id:F.id})):k.map(F=>({item:F,type:"reset"}));B(U)}},[]),o=X.useCallback(y=>{const{edges:E=[],setEdges:S,hasDefaultEdges:N,onEdgesChange:B}=t.getState(),_=typeof y=="function"?y(E):y;if(N)S(_);else if(B){const k=_.length===0?E.map(U=>({type:"remove",id:U.id})):_.map(U=>({item:U,type:"reset"}));B(k)}},[]),c=X.useCallback(y=>{const E=Array.isArray(y)?y:[y],{getNodes:S,setNodes:N,hasDefaultNodes:B,onNodesChange:_}=t.getState();if(B){const U=[...S(),...E];N(U)}else if(_){const k=E.map(U=>({item:U,type:"add"}));_(k)}},[]),u=X.useCallback(y=>{const E=Array.isArray(y)?y:[y],{edges:S=[],setEdges:N,hasDefaultEdges:B,onEdgesChange:_}=t.getState();if(B)N([...S,...E]);else if(_){const k=E.map(U=>({item:U,type:"add"}));_(k)}},[]),f=X.useCallback(()=>{const{getNodes:y,edges:E=[],transform:S}=t.getState(),[N,B,_]=S;return{nodes:y().map(k=>({...k})),edges:E.map(k=>({...k})),viewport:{x:N,y:B,zoom:_}}},[]),h=X.useCallback(({nodes:y,edges:E})=>{const{nodeInternals:S,getNodes:N,edges:B,hasDefaultNodes:_,hasDefaultEdges:k,onNodesDelete:U,onEdgesDelete:F,onNodesChange:L,onEdgesChange:D}=t.getState(),W=(y||[]).map(ae=>ae.id),O=(E||[]).map(ae=>ae.id),M=N().reduce((ae,V)=>{const G=V.parentNode||V.parentId,re=!W.includes(V.id)&&G&&ae.find(Y=>Y.id===G);return(typeof V.deletable=="boolean"?V.deletable:!0)&&(W.includes(V.id)||re)&&ae.push(V),ae},[]),K=B.filter(ae=>typeof ae.deletable=="boolean"?ae.deletable:!0),Q=K.filter(ae=>O.includes(ae.id));if(M||Q){const ae=QD(M,K),V=[...Q,...ae],G=V.reduce((re,J)=>(re.includes(J.id)||re.push(J.id),re),[]);if((k||_)&&(k&&t.setState({edges:B.filter(re=>!G.includes(re.id))}),_&&(M.forEach(re=>{S.delete(re.id)}),t.setState({nodeInternals:new Map(S)}))),G.length>0&&(F==null||F(V),D&&D(G.map(re=>({id:re,type:"remove"})))),M.length>0&&(U==null||U(M),L)){const re=M.map(J=>({id:J.id,type:"remove"}));L(re)}}},[]),p=X.useCallback(y=>{const E=$ge(y),S=E?null:t.getState().nodeInternals.get(y.id);return!E&&!S?[null,null,E]:[E?y:$T(S),S,E]},[]),g=X.useCallback((y,E=!0,S)=>{const[N,B,_]=p(y);return N?(S||t.getState().getNodes()).filter(k=>{if(!_&&(k.id===B.id||!k.positionAbsolute))return!1;const U=$T(k),F=cC(U,N);return E&&F>0||F>=N.width*N.height}):[]},[]),b=X.useCallback((y,E,S=!0)=>{const[N]=p(y);if(!N)return!1;const B=cC(N,E);return S&&B>0||B>=N.width*N.height},[]);return X.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:a,getEdge:s,setNodes:i,setEdges:o,addNodes:c,addEdges:u,toObject:f,deleteElements:h,getIntersectingNodes:g,isNodeIntersecting:b}),[e,r,n,a,s,i,o,c,u,f,h,g,b])}const kxe={actInsideInputWithModifier:!1};var Fxe=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=es(),{deleteElements:n}=Gv(),a=yp(e,kxe),s=yp(t);X.useEffect(()=>{if(a){const{edges:i,getNodes:o}=r.getState(),c=o().filter(f=>f.selected),u=i.filter(f=>f.selected);n({nodes:c,edges:u}),r.setState({nodesSelectionActive:!1})}},[a]),X.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])};function Ixe(e){const t=es();X.useEffect(()=>{let r;const n=()=>{var s,i;if(!e.current)return;const a=O5(e.current);(a.height===0||a.width===0)&&((i=(s=t.getState()).onError)==null||i.call(s,"004",Xc.error004())),t.setState({width:a.width||500,height:a.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const Y5={position:"absolute",width:"100%",height:"100%",top:0,left:0},Uxe=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ox=e=>({x:e.x,y:e.y,zoom:e.k}),n0=(e,t)=>e.target.closest(`.${t}`),sk=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),ik=e=>{const t=e.ctrlKey&&ev()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Dxe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Lxe=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:o=.5,panOnScrollMode:c=_d.Free,zoomOnDoubleClick:u=!0,elementsSelectable:f,panOnDrag:h=!0,defaultViewport:p,translateExtent:g,minZoom:b,maxZoom:y,zoomActivationKeyCode:E,preventScrolling:S=!0,children:N,noWheelClassName:B,noPanClassName:_})=>{const k=X.useRef(),U=es(),F=X.useRef(!1),L=X.useRef(!1),D=X.useRef(null),W=X.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:M,d3ZoomHandler:K,userSelectionActive:Q}=Jn(Dxe,Os),ae=yp(E),V=X.useRef(0),G=X.useRef(!1),re=X.useRef();return Ixe(D),X.useEffect(()=>{if(D.current){const J=D.current.getBoundingClientRect(),Y=Qge().scaleExtent([b,y]).translateExtent(g),ce=Yo(D.current).call(Y),R=wu.translate(p.x,p.y).scale($0(p.zoom,b,y)),z=[[0,0],[J.width,J.height]],q=Y.constrain()(R,z,g);Y.transform(ce,q),Y.wheelDelta(ik),U.setState({d3Zoom:Y,d3Selection:ce,d3ZoomHandler:ce.on("wheel.zoom"),transform:[q.x,q.y,q.k],domNode:D.current.closest(".react-flow")})}},[]),X.useEffect(()=>{M&&O&&(i&&!ae&&!Q?M.on("wheel.zoom",J=>{if(n0(J,B))return!1;J.preventDefault(),J.stopImmediatePropagation();const Y=M.property("__zoom").k||1;if(J.ctrlKey&&s){const ue=Kl(J),he=ik(J),Ne=Y*Math.pow(2,he);O.scaleTo(M,Ne,ue,J);return}const ce=J.deltaMode===1?20:1;let R=c===_d.Vertical?0:J.deltaX*ce,z=c===_d.Horizontal?0:J.deltaY*ce;!ev()&&J.shiftKey&&c!==_d.Vertical&&(R=J.deltaY*ce,z=0),O.translateBy(M,-(R/Y)*o,-(z/Y)*o,{internal:!0});const q=Ox(M.property("__zoom")),{onViewportChangeStart:ee,onViewportChange:ne,onViewportChangeEnd:le}=U.getState();clearTimeout(re.current),G.current||(G.current=!0,t==null||t(J,q),ee==null||ee(q)),G.current&&(e==null||e(J,q),ne==null||ne(q),re.current=setTimeout(()=>{r==null||r(J,q),le==null||le(q),G.current=!1},150))},{passive:!1}):typeof K<"u"&&M.on("wheel.zoom",function(J,Y){if(!S&&J.type==="wheel"&&!J.ctrlKey||n0(J,B))return null;J.preventDefault(),K.call(this,J,Y)},{passive:!1}))},[Q,i,c,M,O,K,ae,s,S,B,t,e,r]),X.useEffect(()=>{O&&O.on("start",J=>{var R,z;if(!J.sourceEvent||J.sourceEvent.internal)return null;V.current=(R=J.sourceEvent)==null?void 0:R.button;const{onViewportChangeStart:Y}=U.getState(),ce=Ox(J.transform);F.current=!0,W.current=ce,((z=J.sourceEvent)==null?void 0:z.type)==="mousedown"&&U.setState({paneDragging:!0}),Y==null||Y(ce),t==null||t(J.sourceEvent,ce)})},[O,t]),X.useEffect(()=>{O&&(Q&&!F.current?O.on("zoom",null):Q||O.on("zoom",J=>{var ce;const{onViewportChange:Y}=U.getState();if(U.setState({transform:[J.transform.x,J.transform.y,J.transform.k]}),L.current=!!(n&&sk(h,V.current??0)),(e||Y)&&!((ce=J.sourceEvent)!=null&&ce.internal)){const R=Ox(J.transform);Y==null||Y(R),e==null||e(J.sourceEvent,R)}}))},[Q,O,e,h,n]),X.useEffect(()=>{O&&O.on("end",J=>{if(!J.sourceEvent||J.sourceEvent.internal)return null;const{onViewportChangeEnd:Y}=U.getState();if(F.current=!1,U.setState({paneDragging:!1}),n&&sk(h,V.current??0)&&!L.current&&n(J.sourceEvent),L.current=!1,(r||Y)&&Uxe(W.current,J.transform)){const ce=Ox(J.transform);W.current=ce,clearTimeout(k.current),k.current=setTimeout(()=>{Y==null||Y(ce),r==null||r(J.sourceEvent,ce)},i?150:0)}})},[O,i,h,r,n]),X.useEffect(()=>{O&&O.filter(J=>{const Y=ae||a,ce=s&&J.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&J.button===1&&J.type==="mousedown"&&(n0(J,"react-flow__node")||n0(J,"react-flow__edge")))return!0;if(!h&&!Y&&!i&&!u&&!s||Q||!u&&J.type==="dblclick"||n0(J,B)&&J.type==="wheel"||n0(J,_)&&(J.type!=="wheel"||i&&J.type==="wheel"&&!ae)||!s&&J.ctrlKey&&J.type==="wheel"||!Y&&!i&&!ce&&J.type==="wheel"||!h&&(J.type==="mousedown"||J.type==="touchstart")||Array.isArray(h)&&!h.includes(J.button)&&J.type==="mousedown")return!1;const R=Array.isArray(h)&&h.includes(J.button)||!J.button||J.button<=1;return(!J.ctrlKey||J.type==="wheel")&&R})},[Q,O,a,s,i,u,h,f,ae]),at.createElement("div",{className:"react-flow__renderer",ref:D,style:Y5},N)},Rxe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Mxe(){const{userSelectionActive:e,userSelectionRect:t}=Jn(Rxe,Os);return e&&t?at.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function ok(e,t){const r=t.parentNode||t.parentId,n=e.find(a=>a.id===r);if(n){const a=t.position.x+t.width-n.width,s=t.position.y+t.height-n.height;if(a>0||s>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,a>0&&(n.style.width+=a),s>0&&(n.style.height+=s),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function aL(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,a)=>{const s=e.filter(o=>o.id===a.id);if(s.length===0)return n.push(a),n;const i={...a};for(const o of s)if(o)switch(o.type){case"select":{i.selected=o.selected;break}case"position":{typeof o.position<"u"&&(i.position=o.position),typeof o.positionAbsolute<"u"&&(i.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(i.dragging=o.dragging),i.expandParent&&ok(n,i);break}case"dimensions":{typeof o.dimensions<"u"&&(i.width=o.dimensions.width,i.height=o.dimensions.height),typeof o.updateStyle<"u"&&(i.style={...i.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(i.resizing=o.resizing),i.expandParent&&ok(n,i);break}case"remove":return n}return n.push(i),n},r)}function sL(e,t){return aL(e,t)}function Pxe(e,t){return aL(e,t)}const nu=(e,t)=>({id:e,type:"select",selected:t});function x0(e,t){return e.reduce((r,n)=>{const a=t.includes(n.id);return!n.selected&&a?(n.selected=!0,r.push(nu(n.id,!0))):n.selected&&!a&&(n.selected=!1,r.push(nu(n.id,!1))),r},[])}const Uy=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},jxe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),iL=X.memo(({isSelecting:e,selectionMode:t=wp.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:i,onPaneScroll:o,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:f,children:h})=>{const p=X.useRef(null),g=es(),b=X.useRef(0),y=X.useRef(0),E=X.useRef(),{userSelectionActive:S,elementsSelectable:N,dragging:B}=Jn(jxe,Os),_=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),b.current=0,y.current=0},k=K=>{s==null||s(K),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},U=K=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){K.preventDefault();return}i==null||i(K)},F=o?K=>o(K):void 0,L=K=>{const{resetSelectedElements:Q,domNode:ae}=g.getState();if(E.current=ae==null?void 0:ae.getBoundingClientRect(),!N||!e||K.button!==0||K.target!==p.current||!E.current)return;const{x:V,y:G}=yu(K,E.current);Q(),g.setState({userSelectionRect:{width:0,height:0,startX:V,startY:G,x:V,y:G}}),n==null||n(K)},D=K=>{const{userSelectionRect:Q,nodeInternals:ae,edges:V,transform:G,onNodesChange:re,onEdgesChange:J,nodeOrigin:Y,getNodes:ce}=g.getState();if(!e||!E.current||!Q)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const R=yu(K,E.current),z=Q.startX??0,q=Q.startY??0,ee={...Q,x:R.x<z?R.x:z,y:R.y<q?R.y:q,width:Math.abs(R.x-z),height:Math.abs(R.y-q)},ne=ce(),le=OD(ae,ee,G,t===wp.Partial,!0,Y),ue=QD(le,V).map(Ne=>Ne.id),he=le.map(Ne=>Ne.id);if(b.current!==he.length){b.current=he.length;const Ne=x0(ne,he);Ne.length&&(re==null||re(Ne))}if(y.current!==ue.length){y.current=ue.length;const Ne=x0(V,ue);Ne.length&&(J==null||J(Ne))}g.setState({userSelectionRect:ee})},W=K=>{if(K.button!==0)return;const{userSelectionRect:Q}=g.getState();!S&&Q&&K.target===p.current&&(k==null||k(K)),g.setState({nodesSelectionActive:b.current>0}),_(),a==null||a(K)},O=K=>{S&&(g.setState({nodesSelectionActive:b.current>0}),a==null||a(K)),_()},M=N&&(e||S);return at.createElement("div",{className:ti(["react-flow__pane",{dragging:B,selection:e}]),onClick:M?void 0:Uy(k,p),onContextMenu:Uy(U,p),onWheel:Uy(F,p),onMouseEnter:M?void 0:c,onMouseDown:M?L:void 0,onMouseMove:M?D:u,onMouseUp:M?W:void 0,onMouseLeave:M?O:f,ref:p,style:Y5},h,at.createElement(Mxe,null))});iL.displayName="Pane";function oL(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:oL(n,t):!1}function lk(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function Oxe(e,t,r,n){return Array.from(e.values()).filter(a=>(a.selected||a.id===n)&&(!a.parentNode||a.parentId||!oL(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var s,i;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((s=a.positionAbsolute)==null?void 0:s.x)??0),y:r.y-(((i=a.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function Qxe(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function lL(e,t,r,n,a=[0,0],s){const i=Qxe(e,e.extent||n);let o=i;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const h=r.get(c),{x:p,y:g}=P0(h,a).positionAbsolute;o=h&&po(p)&&po(g)&&po(h.width)&&po(h.height)?[[p+e.width*a[0],g+e.height*a[1]],[p+h.width-e.width+e.width*a[0],g+h.height-e.height+e.height*a[1]]]:o}else s==null||s("005",Xc.error005()),o=i;else if(e.extent&&c&&e.extent!=="parent"){const h=r.get(c),{x:p,y:g}=P0(h,a).positionAbsolute;o=[[e.extent[0][0]+p,e.extent[0][1]+g],[e.extent[1][0]+p,e.extent[1][1]+g]]}let u={x:0,y:0};if(c){const h=r.get(c);u=P0(h,a).positionAbsolute}const f=o&&o!=="parent"?Q5(t,o):t;return{position:{x:f.x-u.x,y:f.y-u.y},positionAbsolute:f}}function Dy({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(a=>({...r.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?n.find(a=>a.id===e):n[0],n]}const ck=(e,t,r,n)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const s=Array.from(a),i=t.getBoundingClientRect(),o={x:i.width*n[0],y:i.height*n[1]};return s.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-i.left-o.x)/r,y:(u.top-i.top-o.y)/r,...O5(c)}})};function cm(e,t,r){return r===void 0?r:n=>{const a=t().nodeInternals.get(e);a&&r(n,{...a})}}function mC({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:o,onError:c}=t.getState(),u=o.get(e);if(!u){c==null||c("012",Xc.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=n==null?void 0:n.current)==null?void 0:f.blur()})):a([e])}function Hxe(){const e=es();return X.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:a,snapToGrid:s}=e.getState(),i=r.touches?r.touches[0].clientX:r.clientX,o=r.touches?r.touches[0].clientY:r.clientY,c={x:(i-n[0])/n[2],y:(o-n[1])/n[2]};return{xSnapped:s?a[0]*Math.round(c.x/a[0]):c.x,ySnapped:s?a[1]*Math.round(c.y/a[1]):c.y,...c}},[])}function Ly(e){return(t,r,n)=>e==null?void 0:e(t,n)}function cL({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:s,selectNodesOnDrag:i}){const o=es(),[c,u]=X.useState(!1),f=X.useRef([]),h=X.useRef({x:null,y:null}),p=X.useRef(0),g=X.useRef(null),b=X.useRef({x:0,y:0}),y=X.useRef(null),E=X.useRef(!1),S=X.useRef(!1),N=X.useRef(!1),B=Hxe();return X.useEffect(()=>{if(e!=null&&e.current){const _=Yo(e.current),k=({x:L,y:D})=>{const{nodeInternals:W,onNodeDrag:O,onSelectionDrag:M,updateNodePositions:K,nodeExtent:Q,snapGrid:ae,snapToGrid:V,nodeOrigin:G,onError:re}=o.getState();h.current={x:L,y:D};let J=!1,Y={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&Q){const R=q5(f.current,G);Y=H5(R)}if(f.current=f.current.map(R=>{const z={x:L-R.distance.x,y:D-R.distance.y};V&&(z.x=ae[0]*Math.round(z.x/ae[0]),z.y=ae[1]*Math.round(z.y/ae[1]));const q=[[Q[0][0],Q[0][1]],[Q[1][0],Q[1][1]]];f.current.length>1&&Q&&!R.extent&&(q[0][0]=R.positionAbsolute.x-Y.x+Q[0][0],q[1][0]=R.positionAbsolute.x+(R.width??0)-Y.x2+Q[1][0],q[0][1]=R.positionAbsolute.y-Y.y+Q[0][1],q[1][1]=R.positionAbsolute.y+(R.height??0)-Y.y2+Q[1][1]);const ee=lL(R,z,W,q,G,re);return J=J||R.position.x!==ee.position.x||R.position.y!==ee.position.y,R.position=ee.position,R.positionAbsolute=ee.positionAbsolute,R}),!J)return;K(f.current,!0,!0),u(!0);const ce=a?O:Ly(M);if(ce&&y.current){const[R,z]=Dy({nodeId:a,dragItems:f.current,nodeInternals:W});ce(y.current,R,z)}},U=()=>{if(!g.current)return;const[L,D]=FD(b.current,g.current);if(L!==0||D!==0){const{transform:W,panBy:O}=o.getState();h.current.x=(h.current.x??0)-L/W[2],h.current.y=(h.current.y??0)-D/W[2],O({x:L,y:D})&&k(h.current)}p.current=requestAnimationFrame(U)},F=L=>{var G;const{nodeInternals:D,multiSelectionActive:W,nodesDraggable:O,unselectNodesAndEdges:M,onNodeDragStart:K,onSelectionDragStart:Q}=o.getState();S.current=!0;const ae=a?K:Ly(Q);(!i||!s)&&!W&&a&&((G=D.get(a))!=null&&G.selected||M()),a&&s&&i&&mC({id:a,store:o,nodeRef:e});const V=B(L);if(h.current=V,f.current=Oxe(D,O,V,a),ae&&f.current){const[re,J]=Dy({nodeId:a,dragItems:f.current,nodeInternals:D});ae(L.sourceEvent,re,J)}};if(t)_.on(".drag",null);else{const L=Jme().on("start",D=>{const{domNode:W,nodeDragThreshold:O}=o.getState();O===0&&F(D),N.current=!1;const M=B(D);h.current=M,g.current=(W==null?void 0:W.getBoundingClientRect())||null,b.current=yu(D.sourceEvent,g.current)}).on("drag",D=>{var K,Q;const W=B(D),{autoPanOnNodeDrag:O,nodeDragThreshold:M}=o.getState();if(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1&&(N.current=!0),!N.current){if(!E.current&&S.current&&O&&(E.current=!0,U()),!S.current){const ae=W.xSnapped-(((K=h==null?void 0:h.current)==null?void 0:K.x)??0),V=W.ySnapped-(((Q=h==null?void 0:h.current)==null?void 0:Q.y)??0);Math.sqrt(ae*ae+V*V)>M&&F(D)}(h.current.x!==W.xSnapped||h.current.y!==W.ySnapped)&&f.current&&S.current&&(y.current=D.sourceEvent,b.current=yu(D.sourceEvent,g.current),k(W))}}).on("end",D=>{if(!(!S.current||N.current)&&(u(!1),E.current=!1,S.current=!1,cancelAnimationFrame(p.current),f.current)){const{updateNodePositions:W,nodeInternals:O,onNodeDragStop:M,onSelectionDragStop:K}=o.getState(),Q=a?M:Ly(K);if(W(f.current,!1,!1),Q){const[ae,V]=Dy({nodeId:a,dragItems:f.current,nodeInternals:O});Q(D.sourceEvent,ae,V)}}}).filter(D=>{const W=D.target;return!D.button&&(!r||!lk(W,`.${r}`,e))&&(!n||lk(W,n,e))});return _.call(L),()=>{_.on(".drag",null)}}}},[e,t,r,n,s,o,a,i,B]),c}function AL(){const e=es();return X.useCallback(r=>{const{nodeInternals:n,nodeExtent:a,updateNodePositions:s,getNodes:i,snapToGrid:o,snapGrid:c,onError:u,nodesDraggable:f}=e.getState(),h=i().filter(N=>N.selected&&(N.draggable||f&&typeof N.draggable>"u")),p=o?c[0]:5,g=o?c[1]:5,b=r.isShiftPressed?4:1,y=r.x*p*b,E=r.y*g*b,S=h.map(N=>{if(N.positionAbsolute){const B={x:N.positionAbsolute.x+y,y:N.positionAbsolute.y+E};o&&(B.x=c[0]*Math.round(B.x/c[0]),B.y=c[1]*Math.round(B.y/c[1]));const{positionAbsolute:_,position:k}=lL(N,B,n,a,void 0,u);N.position=k,N.positionAbsolute=_}return N});s(S,!0,!1)},[])}const j0={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Am=e=>{const t=({id:r,type:n,data:a,xPos:s,yPos:i,xPosOrigin:o,yPosOrigin:c,selected:u,onClick:f,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onContextMenu:b,onDoubleClick:y,style:E,className:S,isDraggable:N,isSelectable:B,isConnectable:_,isFocusable:k,selectNodesOnDrag:U,sourcePosition:F,targetPosition:L,hidden:D,resizeObserver:W,dragHandle:O,zIndex:M,isParent:K,noDragClassName:Q,noPanClassName:ae,initialized:V,disableKeyboardA11y:G,ariaLabel:re,rfId:J,hasHandleBounds:Y})=>{const ce=es(),R=X.useRef(null),z=X.useRef(null),q=X.useRef(F),ee=X.useRef(L),ne=X.useRef(n),le=B||N||f||h||p||g,ue=AL(),he=cm(r,ce.getState,h),Ne=cm(r,ce.getState,p),ge=cm(r,ce.getState,g),te=cm(r,ce.getState,b),Te=cm(r,ce.getState,y),qe=je=>{const{nodeDragThreshold:$e}=ce.getState();if(B&&(!U||!N||$e>0)&&mC({id:r,store:ce,nodeRef:R}),f){const et=ce.getState().nodeInternals.get(r);et&&f(je,{...et})}},ke=je=>{if(!AC(je)&&!G)if(UD.includes(je.key)&&B){const $e=je.key==="Escape";mC({id:r,store:ce,unselect:$e,nodeRef:R})}else N&&u&&Object.prototype.hasOwnProperty.call(j0,je.key)&&(ce.setState({ariaLiveMessage:`Moved selected node ${je.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~i}`}),ue({x:j0[je.key].x,y:j0[je.key].y,isShiftPressed:je.shiftKey}))};X.useEffect(()=>()=>{z.current&&(W==null||W.unobserve(z.current),z.current=null)},[]),X.useEffect(()=>{if(R.current&&!D){const je=R.current;(!V||!Y||z.current!==je)&&(z.current&&(W==null||W.unobserve(z.current)),W==null||W.observe(je),z.current=je)}},[D,V,Y]),X.useEffect(()=>{const je=ne.current!==n,$e=q.current!==F,et=ee.current!==L;R.current&&(je||$e||et)&&(je&&(ne.current=n),$e&&(q.current=F),et&&(ee.current=L),ce.getState().updateNodeDimensions([{id:r,nodeElement:R.current,forceUpdate:!0}]))},[r,n,F,L]);const we=cL({nodeRef:R,disabled:D||!N,noDragClassName:Q,handleSelector:O,nodeId:r,isSelectable:B,selectNodesOnDrag:U});return D?null:at.createElement("div",{className:ti(["react-flow__node",`react-flow__node-${n}`,{[ae]:N},S,{selected:u,selectable:B,parent:K,dragging:we}]),ref:R,style:{zIndex:M,transform:`translate(${o}px,${c}px)`,pointerEvents:le?"all":"none",visibility:V?"visible":"hidden",...E},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:he,onMouseMove:Ne,onMouseLeave:ge,onContextMenu:te,onClick:qe,onDoubleClick:Te,onKeyDown:k?ke:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":G?void 0:`${ZD}-${J}`,"aria-label":re},at.createElement(rxe,{value:r},at.createElement(e,{id:r,data:a,type:n,xPos:s,yPos:i,selected:u,isConnectable:_,sourcePosition:F,targetPosition:L,dragging:we,dragHandle:O,zIndex:M})))};return t.displayName="NodeWrapper",X.memo(t)};const Vxe=e=>{const t=e.getNodes().filter(r=>r.selected);return{...q5(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Gxe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=es(),{width:a,height:s,x:i,y:o,transformString:c,userSelectionActive:u}=Jn(Vxe,Os),f=AL(),h=X.useRef(null);if(X.useEffect(()=>{var b;r||(b=h.current)==null||b.focus({preventScroll:!0})},[r]),cL({nodeRef:h}),u||!a||!s)return null;const p=e?b=>{const y=n.getState().getNodes().filter(E=>E.selected);e(b,y)}:void 0,g=b=>{Object.prototype.hasOwnProperty.call(j0,b.key)&&f({x:j0[b.key].x,y:j0[b.key].y,isShiftPressed:b.shiftKey})};return at.createElement("div",{className:ti(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},at.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:g,style:{width:a,height:s,top:o,left:i}}))}var zxe=X.memo(Gxe);const Kxe=e=>e.nodesSelectionActive,uL=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,deleteKeyCode:o,onMove:c,onMoveStart:u,onMoveEnd:f,selectionKeyCode:h,selectionOnDrag:p,selectionMode:g,onSelectionStart:b,onSelectionEnd:y,multiSelectionKeyCode:E,panActivationKeyCode:S,zoomActivationKeyCode:N,elementsSelectable:B,zoomOnScroll:_,zoomOnPinch:k,panOnScroll:U,panOnScrollSpeed:F,panOnScrollMode:L,zoomOnDoubleClick:D,panOnDrag:W,defaultViewport:O,translateExtent:M,minZoom:K,maxZoom:Q,preventScrolling:ae,onSelectionContextMenu:V,noWheelClassName:G,noPanClassName:re,disableKeyboardA11y:J})=>{const Y=Jn(Kxe),ce=yp(h),R=yp(S),z=R||W,q=R||U,ee=ce||p&&z!==!0;return Fxe({deleteKeyCode:o,multiSelectionKeyCode:E}),at.createElement(Lxe,{onMove:c,onMoveStart:u,onMoveEnd:f,onPaneContextMenu:s,elementsSelectable:B,zoomOnScroll:_,zoomOnPinch:k,panOnScroll:q,panOnScrollSpeed:F,panOnScrollMode:L,zoomOnDoubleClick:D,panOnDrag:!ce&&z,defaultViewport:O,translateExtent:M,minZoom:K,maxZoom:Q,zoomActivationKeyCode:N,preventScrolling:ae,noWheelClassName:G,noPanClassName:re},at.createElement(iL,{onSelectionStart:b,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:z,isSelecting:!!ee,selectionMode:g},e,Y&&at.createElement(zxe,{onSelectionContextMenu:V,noPanClassName:re,disableKeyboardA11y:J})))};uL.displayName="FlowRenderer";var qxe=X.memo(uL);function Wxe(e){return Jn(X.useCallback(r=>e?OD(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function $xe(e){const t={input:Am(e.input||$D),default:Am(e.default||hC),output:Am(e.output||JD),group:Am(e.group||$5)},r={},n=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,s)=>(a[s]=Am(e[s]||hC),a),r);return{...t,...n}}const Yxe=({x:e,y:t,width:r,height:n,origin:a})=>!r||!n?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-r*a[0],y:t-n*a[1]},Jxe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),dL=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,updateNodeDimensions:s,onError:i}=Jn(Jxe,Os),o=Wxe(e.onlyRenderVisibleElements),c=X.useRef(),u=X.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(h=>{const p=h.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));s(p)});return c.current=f,f},[]);return X.useEffect(()=>()=>{var f;(f=c==null?void 0:c.current)==null||f.disconnect()},[]),at.createElement("div",{className:"react-flow__nodes",style:Y5},o.map(f=>{var k,U,F;let h=f.type||"default";e.nodeTypes[h]||(i==null||i("003",Xc.error003(h)),h="default");const p=e.nodeTypes[h]||e.nodeTypes.default,g=!!(f.draggable||t&&typeof f.draggable>"u"),b=!!(f.selectable||a&&typeof f.selectable>"u"),y=!!(f.connectable||r&&typeof f.connectable>"u"),E=!!(f.focusable||n&&typeof f.focusable>"u"),S=e.nodeExtent?Q5(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,N=(S==null?void 0:S.x)??0,B=(S==null?void 0:S.y)??0,_=Yxe({x:N,y:B,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return at.createElement(p,{key:f.id,id:f.id,className:f.className,style:f.style,type:h,data:f.data,sourcePosition:f.sourcePosition||$t.Bottom,targetPosition:f.targetPosition||$t.Top,hidden:f.hidden,xPos:N,yPos:B,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:g,isSelectable:b,isConnectable:y,isFocusable:E,resizeObserver:u,dragHandle:f.dragHandle,zIndex:((k=f[aa])==null?void 0:k.z)??0,isParent:!!((U=f[aa])!=null&&U.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel,hasHandleBounds:!!((F=f[aa])!=null&&F.handleBounds)})}))};dL.displayName="NodeRenderer";var Xxe=X.memo(dL);const Zxe=(e,t,r)=>r===$t.Left?e-t:r===$t.Right?e+t:e,e1e=(e,t,r)=>r===$t.Top?e-t:r===$t.Bottom?e+t:e,Ak="react-flow__edgeupdater",uk=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:s,onMouseOut:i,type:o})=>at.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:i,className:ti([Ak,`${Ak}-${o}`]),cx:Zxe(t,n,e),cy:e1e(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),t1e=()=>!0;var a0=e=>{const t=({id:r,className:n,type:a,data:s,onClick:i,onEdgeDoubleClick:o,selected:c,animated:u,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:b,labelBgBorderRadius:y,style:E,source:S,target:N,sourceX:B,sourceY:_,targetX:k,targetY:U,sourcePosition:F,targetPosition:L,elementsSelectable:D,hidden:W,sourceHandleId:O,targetHandleId:M,onContextMenu:K,onMouseEnter:Q,onMouseMove:ae,onMouseLeave:V,reconnectRadius:G,onReconnect:re,onReconnectStart:J,onReconnectEnd:Y,markerEnd:ce,markerStart:R,rfId:z,ariaLabel:q,isFocusable:ee,isReconnectable:ne,pathOptions:le,interactionWidth:ue,disableKeyboardA11y:he})=>{const Ne=X.useRef(null),[ge,te]=X.useState(!1),[Te,qe]=X.useState(!1),ke=es(),we=X.useMemo(()=>`url('#${dC(R,z)}')`,[R,z]),je=X.useMemo(()=>`url('#${dC(ce,z)}')`,[ce,z]);if(W)return null;const $e=ut=>{var nn;const{edges:mr,addSelectedEdges:Mt,unselectNodesAndEdges:Kr,multiSelectionActive:ur}=ke.getState(),gr=mr.find(xr=>xr.id===r);gr&&(D&&(ke.setState({nodesSelectionActive:!1}),gr.selected&&ur?(Kr({nodes:[],edges:[gr]}),(nn=Ne.current)==null||nn.blur()):Mt([r])),i&&i(ut,gr))},et=lm(r,ke.getState,o),dt=lm(r,ke.getState,K),pt=lm(r,ke.getState,Q),st=lm(r,ke.getState,ae),yt=lm(r,ke.getState,V),Nt=(ut,mr)=>{if(ut.button!==0)return;const{edges:Mt,isValidConnection:Kr}=ke.getState(),ur=mr?N:S,gr=(mr?M:O)||null,nn=mr?"target":"source",xr=Kr||t1e,ts=mr,jr=Mt.find(kr=>kr.id===r);qe(!0),J==null||J(ut,jr,nn);const oa=kr=>{qe(!1),Y==null||Y(kr,jr,nn)};zD({event:ut,handleId:gr,nodeId:ur,onConnect:kr=>re==null?void 0:re(jr,kr),isTarget:ts,getState:ke.getState,setState:ke.setState,isValidConnection:xr,edgeUpdaterType:nn,onReconnectEnd:oa})},Lt=ut=>Nt(ut,!0),Rt=ut=>Nt(ut,!1),Qt=()=>te(!0),Vt=()=>te(!1),Tt=!D&&!i,Ct=ut=>{var mr;if(!he&&UD.includes(ut.key)&&D){const{unselectNodesAndEdges:Mt,addSelectedEdges:Kr,edges:ur}=ke.getState();ut.key==="Escape"?((mr=Ne.current)==null||mr.blur(),Mt({edges:[ur.find(nn=>nn.id===r)]})):Kr([r])}};return at.createElement("g",{className:ti(["react-flow__edge",`react-flow__edge-${a}`,n,{selected:c,animated:u,inactive:Tt,updating:ge}]),onClick:$e,onDoubleClick:et,onContextMenu:dt,onMouseEnter:pt,onMouseMove:st,onMouseLeave:yt,onKeyDown:ee?Ct:void 0,tabIndex:ee?0:void 0,role:ee?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":q===null?void 0:q||`Edge from ${S} to ${N}`,"aria-describedby":ee?`${eL}-${z}`:void 0,ref:Ne},!Te&&at.createElement(e,{id:r,source:S,target:N,selected:c,animated:u,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:b,labelBgBorderRadius:y,data:s,style:E,sourceX:B,sourceY:_,targetX:k,targetY:U,sourcePosition:F,targetPosition:L,sourceHandleId:O,targetHandleId:M,markerStart:we,markerEnd:je,pathOptions:le,interactionWidth:ue}),ne&&at.createElement(at.Fragment,null,(ne==="source"||ne===!0)&&at.createElement(uk,{position:F,centerX:B,centerY:_,radius:G,onMouseDown:Lt,onMouseEnter:Qt,onMouseOut:Vt,type:"source"}),(ne==="target"||ne===!0)&&at.createElement(uk,{position:L,centerX:k,centerY:U,radius:G,onMouseDown:Rt,onMouseEnter:Qt,onMouseOut:Vt,type:"target"})))};return t.displayName="EdgeWrapper",X.memo(t)};function r1e(e){const t={default:a0(e.default||rv),straight:a0(e.bezier||z5),step:a0(e.step||G5),smoothstep:a0(e.step||Vv),simplebezier:a0(e.simplebezier||V5)},r={},n=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,s)=>(a[s]=a0(e[s]||rv),a),r);return{...t,...n}}function dk(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,a=((r==null?void 0:r.y)||0)+t.y,s=(r==null?void 0:r.width)||t.width,i=(r==null?void 0:r.height)||t.height;switch(e){case $t.Top:return{x:n+s/2,y:a};case $t.Right:return{x:n+s,y:a+i/2};case $t.Bottom:return{x:n+s/2,y:a+i};case $t.Left:return{x:n,y:a+i/2}}}function fk(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const n1e=(e,t,r,n,a,s)=>{const i=dk(r,e,t),o=dk(s,n,a);return{sourceX:i.x,sourceY:i.y,targetX:o.x,targetY:o.y}};function a1e({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:a,targetHeight:s,width:i,height:o,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+a),y2:Math.max(e.y+n,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const f=H5({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:o/c[2]}),h=Math.max(0,Math.min(f.x2,u.x2)-Math.max(f.x,u.x)),p=Math.max(0,Math.min(f.y2,u.y2)-Math.max(f.y,u.y));return Math.ceil(h*p)>0}function hk(e){var n,a,s,i,o;const t=((n=e==null?void 0:e[aa])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const s1e=[{level:0,isMaxLevel:!0,edges:[]}];function i1e(e,t,r=!1){let n=-1;const a=e.reduce((i,o)=>{var f,h;const c=po(o.zIndex);let u=c?o.zIndex:0;if(r){const p=t.get(o.target),g=t.get(o.source),b=o.selected||(p==null?void 0:p.selected)||(g==null?void 0:g.selected),y=Math.max(((f=g==null?void 0:g[aa])==null?void 0:f.z)||0,((h=p==null?void 0:p[aa])==null?void 0:h.z)||0,1e3);u=(c?o.zIndex:0)+(b?y:0)}return i[u]?i[u].push(o):i[u]=[o],n=u>n?u:n,i},{}),s=Object.entries(a).map(([i,o])=>{const c=+i;return{edges:o,level:c,isMaxLevel:c===n}});return s.length===0?s1e:s}function o1e(e,t,r){const n=Jn(X.useCallback(a=>e?a.edges.filter(s=>{const i=t.get(s.source),o=t.get(s.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&a1e({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:o.width,targetHeight:o.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return i1e(n,t,r)}const l1e=({color:e="none",strokeWidth:t=1})=>at.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),c1e=({color:e="none",strokeWidth:t=1})=>at.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),mk={[tv.Arrow]:l1e,[tv.ArrowClosed]:c1e};function A1e(e){const t=es();return X.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(mk,e)?mk[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",Xc.error009(e)),null)},[e])}const u1e=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:o="auto-start-reverse"})=>{const c=A1e(t);return c?at.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:o,refX:"0",refY:"0"},at.createElement(c,{color:r,strokeWidth:i})):null},d1e=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((a,s)=>([s.markerStart,s.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const o=dC(i,t);n.includes(o)||(a.push({id:o,color:i.color||e,...i}),n.push(o))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))},fL=({defaultColor:e,rfId:t})=>{const r=Jn(X.useCallback(d1e({defaultColor:e,rfId:t}),[e,t]),(n,a)=>!(n.length!==a.length||n.some((s,i)=>s.id!==a[i].id)));return at.createElement("defs",null,r.map(n=>at.createElement(u1e,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};fL.displayName="MarkerDefinitions";var f1e=X.memo(fL);const h1e=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),hL=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:i,onEdgeMouseEnter:o,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:f,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:b,reconnectRadius:y,children:E,disableKeyboardA11y:S})=>{const{edgesFocusable:N,edgesUpdatable:B,elementsSelectable:_,width:k,height:U,connectionMode:F,nodeInternals:L,onError:D}=Jn(h1e,Os),W=o1e(t,L,r);return k?at.createElement(at.Fragment,null,W.map(({level:O,edges:M,isMaxLevel:K})=>at.createElement("svg",{key:O,style:{zIndex:O},width:k,height:U,className:"react-flow__edges react-flow__container"},K&&at.createElement(f1e,{defaultColor:e,rfId:n}),at.createElement("g",null,M.map(Q=>{const[ae,V,G]=hk(L.get(Q.source)),[re,J,Y]=hk(L.get(Q.target));if(!G||!Y)return null;let ce=Q.type||"default";a[ce]||(D==null||D("011",Xc.error011(ce)),ce="default");const R=a[ce]||a.default,z=F===qd.Strict?J.target:(J.target??[]).concat(J.source??[]),q=fk(V.source,Q.sourceHandle),ee=fk(z,Q.targetHandle),ne=(q==null?void 0:q.position)||$t.Bottom,le=(ee==null?void 0:ee.position)||$t.Top,ue=!!(Q.focusable||N&&typeof Q.focusable>"u"),he=Q.reconnectable||Q.updatable,Ne=typeof p<"u"&&(he||B&&typeof he>"u");if(!q||!ee)return D==null||D("008",Xc.error008(q,Q)),null;const{sourceX:ge,sourceY:te,targetX:Te,targetY:qe}=n1e(ae,q,ne,re,ee,le);return at.createElement(R,{key:Q.id,id:Q.id,className:ti([Q.className,s]),type:ce,data:Q.data,selected:!!Q.selected,animated:!!Q.animated,hidden:!!Q.hidden,label:Q.label,labelStyle:Q.labelStyle,labelShowBg:Q.labelShowBg,labelBgStyle:Q.labelBgStyle,labelBgPadding:Q.labelBgPadding,labelBgBorderRadius:Q.labelBgBorderRadius,style:Q.style,source:Q.source,target:Q.target,sourceHandleId:Q.sourceHandle,targetHandleId:Q.targetHandle,markerEnd:Q.markerEnd,markerStart:Q.markerStart,sourceX:ge,sourceY:te,targetX:Te,targetY:qe,sourcePosition:ne,targetPosition:le,elementsSelectable:_,onContextMenu:i,onMouseEnter:o,onMouseMove:c,onMouseLeave:u,onClick:f,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:b,reconnectRadius:y,rfId:n,ariaLabel:Q.ariaLabel,isFocusable:ue,isReconnectable:Ne,pathOptions:"pathOptions"in Q?Q.pathOptions:void 0,interactionWidth:Q.interactionWidth,disableKeyboardA11y:S})})))),E):null};hL.displayName="EdgeRenderer";var m1e=X.memo(hL);const p1e=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function g1e({children:e}){const t=Jn(p1e);return at.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function x1e(e){const t=Gv(),r=X.useRef(!1);X.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const v1e={[$t.Left]:$t.Right,[$t.Right]:$t.Left,[$t.Top]:$t.Bottom,[$t.Bottom]:$t.Top},mL=({nodeId:e,handleType:t,style:r,type:n=lu.Bezier,CustomComponent:a,connectionStatus:s})=>{var U,F,L;const{fromNode:i,handleId:o,toX:c,toY:u,connectionMode:f}=Jn(X.useCallback(D=>({fromNode:D.nodeInternals.get(e),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[e]),Os),h=(U=i==null?void 0:i[aa])==null?void 0:U.handleBounds;let p=h==null?void 0:h[t];if(f===qd.Loose&&(p=p||(h==null?void 0:h[t==="source"?"target":"source"])),!i||!p)return null;const g=o?p.find(D=>D.id===o):p[0],b=g?g.x+g.width/2:(i.width??0)/2,y=g?g.y+g.height/2:i.height??0,E=(((F=i.positionAbsolute)==null?void 0:F.x)??0)+b,S=(((L=i.positionAbsolute)==null?void 0:L.y)??0)+y,N=g==null?void 0:g.position,B=N?v1e[N]:null;if(!N||!B)return null;if(a)return at.createElement(a,{connectionLineType:n,connectionLineStyle:r,fromNode:i,fromHandle:g,fromX:E,fromY:S,toX:c,toY:u,fromPosition:N,toPosition:B,connectionStatus:s});let _="";const k={sourceX:E,sourceY:S,sourcePosition:N,targetX:c,targetY:u,targetPosition:B};return n===lu.Bezier?[_]=PD(k):n===lu.Step?[_]=uC({...k,borderRadius:0}):n===lu.SmoothStep?[_]=uC(k):n===lu.SimpleBezier?[_]=MD(k):_=`M${E},${S} ${c},${u}`,at.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:r})};mL.displayName="ConnectionLine";const w1e=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function y1e({containerStyle:e,style:t,type:r,component:n}){const{nodeId:a,handleType:s,nodesConnectable:i,width:o,height:c,connectionStatus:u}=Jn(w1e,Os);return!(a&&s&&o&&i)?null:at.createElement("svg",{style:e,width:o,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},at.createElement("g",{className:ti(["react-flow__connection",u])},at.createElement(mL,{nodeId:a,handleType:s,style:t,type:r,CustomComponent:n,connectionStatus:u})))}function pk(e,t){return X.useRef(null),es(),X.useMemo(()=>t(e),[e])}const pL=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:a,onInit:s,onNodeClick:i,onEdgeClick:o,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:b,onSelectionStart:y,onSelectionEnd:E,connectionLineType:S,connectionLineStyle:N,connectionLineComponent:B,connectionLineContainerStyle:_,selectionKeyCode:k,selectionOnDrag:U,selectionMode:F,multiSelectionKeyCode:L,panActivationKeyCode:D,zoomActivationKeyCode:W,deleteKeyCode:O,onlyRenderVisibleElements:M,elementsSelectable:K,selectNodesOnDrag:Q,defaultViewport:ae,translateExtent:V,minZoom:G,maxZoom:re,preventScrolling:J,defaultMarkerColor:Y,zoomOnScroll:ce,zoomOnPinch:R,panOnScroll:z,panOnScrollSpeed:q,panOnScrollMode:ee,zoomOnDoubleClick:ne,panOnDrag:le,onPaneClick:ue,onPaneMouseEnter:he,onPaneMouseMove:Ne,onPaneMouseLeave:ge,onPaneScroll:te,onPaneContextMenu:Te,onEdgeContextMenu:qe,onEdgeMouseEnter:ke,onEdgeMouseMove:we,onEdgeMouseLeave:je,onReconnect:$e,onReconnectStart:et,onReconnectEnd:dt,reconnectRadius:pt,noDragClassName:st,noWheelClassName:yt,noPanClassName:Nt,elevateEdgesOnSelect:Lt,disableKeyboardA11y:Rt,nodeOrigin:Qt,nodeExtent:Vt,rfId:Tt})=>{const Ct=pk(e,$xe),ut=pk(t,r1e);return x1e(s),at.createElement(qxe,{onPaneClick:ue,onPaneMouseEnter:he,onPaneMouseMove:Ne,onPaneMouseLeave:ge,onPaneContextMenu:Te,onPaneScroll:te,deleteKeyCode:O,selectionKeyCode:k,selectionOnDrag:U,selectionMode:F,onSelectionStart:y,onSelectionEnd:E,multiSelectionKeyCode:L,panActivationKeyCode:D,zoomActivationKeyCode:W,elementsSelectable:K,onMove:r,onMoveStart:n,onMoveEnd:a,zoomOnScroll:ce,zoomOnPinch:R,zoomOnDoubleClick:ne,panOnScroll:z,panOnScrollSpeed:q,panOnScrollMode:ee,panOnDrag:le,defaultViewport:ae,translateExtent:V,minZoom:G,maxZoom:re,onSelectionContextMenu:b,preventScrolling:J,noDragClassName:st,noWheelClassName:yt,noPanClassName:Nt,disableKeyboardA11y:Rt},at.createElement(g1e,null,at.createElement(m1e,{edgeTypes:ut,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:M,onEdgeContextMenu:qe,onEdgeMouseEnter:ke,onEdgeMouseMove:we,onEdgeMouseLeave:je,onReconnect:$e,onReconnectStart:et,onReconnectEnd:dt,reconnectRadius:pt,defaultMarkerColor:Y,noPanClassName:Nt,elevateEdgesOnSelect:!!Lt,disableKeyboardA11y:Rt,rfId:Tt},at.createElement(y1e,{style:N,type:S,component:B,containerStyle:_})),at.createElement("div",{className:"react-flow__edgelabel-renderer"}),at.createElement(Xxe,{nodeTypes:Ct,onNodeClick:i,onNodeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:Q,onlyRenderVisibleElements:M,noPanClassName:Nt,noDragClassName:st,disableKeyboardA11y:Rt,nodeOrigin:Qt,nodeExtent:Vt,rfId:Tt})))};pL.displayName="GraphView";var b1e=X.memo(pL);const pC=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],XA={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:pC,nodeExtent:pC,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:qd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Yge,isValidConnection:void 0},C1e=()=>che((e,t)=>({...XA,setNodes:r=>{const{nodeInternals:n,nodeOrigin:a,elevateNodesOnSelect:s}=t();e({nodeInternals:Iy(r,n,a,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(a=>({...n,...a}))})},setDefaultNodesAndEdges:(r,n)=>{const a=typeof r<"u",s=typeof n<"u",i=a?Iy(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:s?n:[],hasDefaultNodes:a,hasDefaultEdges:s})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:a,fitViewOnInit:s,fitViewOnInitDone:i,fitViewOnInitOptions:o,domNode:c,nodeOrigin:u}=t(),f=c==null?void 0:c.querySelector(".react-flow__viewport");if(!f)return;const h=window.getComputedStyle(f),{m22:p}=new window.DOMMatrixReadOnly(h.transform),g=r.reduce((y,E)=>{const S=a.get(E.id);if(S!=null&&S.hidden)a.set(S.id,{...S,[aa]:{...S[aa],handleBounds:void 0}});else if(S){const N=O5(E.nodeElement);!!(N.width&&N.height&&(S.width!==N.width||S.height!==N.height||E.forceUpdate))&&(a.set(S.id,{...S,[aa]:{...S[aa],handleBounds:{source:ck(".source",E.nodeElement,p,u),target:ck(".target",E.nodeElement,p,u)}},...N}),y.push({id:S.id,type:"dimensions",dimensions:N}))}return y},[]);rL(a,u);const b=i||s&&!i&&nL(t,{initial:!0,...o});e({nodeInternals:new Map(a),fitViewOnInitDone:b}),(g==null?void 0:g.length)>0&&(n==null||n(g))},updateNodePositions:(r,n=!0,a=!1)=>{const{triggerNodeChanges:s}=t(),i=r.map(o=>{const c={id:o.id,type:"position",dragging:a};return n&&(c.positionAbsolute=o.positionAbsolute,c.position=o.position),c});s(i)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:a,hasDefaultNodes:s,nodeOrigin:i,getNodes:o,elevateNodesOnSelect:c}=t();if(r!=null&&r.length){if(s){const u=sL(r,o()),f=Iy(u,a,i,c);e({nodeInternals:f})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:a,getNodes:s}=t();let i,o=null;n?i=r.map(c=>nu(c,!0)):(i=x0(s(),r),o=x0(a,[])),jx({changedNodes:i,changedEdges:o,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:a,getNodes:s}=t();let i,o=null;n?i=r.map(c=>nu(c,!0)):(i=x0(a,r),o=x0(s(),[])),jx({changedNodes:o,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:a,getNodes:s}=t(),i=r||s(),o=n||a,c=i.map(f=>(f.selected=!1,nu(f.id,!1))),u=o.map(f=>nu(f.id,!1));jx({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:a}=t();n==null||n.scaleExtent([r,a]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:a}=t();n==null||n.scaleExtent([a,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),s=n().filter(o=>o.selected).map(o=>nu(o.id,!1)),i=r.filter(o=>o.selected).map(o=>nu(o.id,!1));jx({changedNodes:s,changedEdges:i,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(a=>{a.positionAbsolute=Q5(a.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:a,height:s,d3Zoom:i,d3Selection:o,translateExtent:c}=t();if(!i||!o||!r.x&&!r.y)return!1;const u=wu.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),f=[[0,0],[a,s]],h=i==null?void 0:i.constrain()(u,f,c);return i.transform(o,h),n[0]!==h.x||n[1]!==h.y||n[2]!==h.k},cancelConnection:()=>e({connectionNodeId:XA.connectionNodeId,connectionHandleId:XA.connectionHandleId,connectionHandleType:XA.connectionHandleType,connectionStatus:XA.connectionStatus,connectionStartHandle:XA.connectionStartHandle,connectionEndHandle:XA.connectionEndHandle}),reset:()=>e({...XA})}),Object.is),J5=({children:e})=>{const t=X.useRef(null);return t.current||(t.current=C1e()),at.createElement(Hge,{value:t.current},e)};J5.displayName="ReactFlowProvider";const gL=({children:e})=>X.useContext(Hv)?at.createElement(at.Fragment,null,e):at.createElement(J5,null,e);gL.displayName="ReactFlowWrapper";const E1e={input:$D,default:hC,output:JD,group:$5},S1e={default:rv,straight:z5,step:G5,smoothstep:Vv,simplebezier:V5},B1e=[0,0],N1e=[15,15],_1e={x:0,y:0,zoom:1},T1e={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},xL=X.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:s=E1e,edgeTypes:i=S1e,onNodeClick:o,onEdgeClick:c,onInit:u,onMove:f,onMoveStart:h,onMoveEnd:p,onConnect:g,onConnectStart:b,onConnectEnd:y,onClickConnectStart:E,onClickConnectEnd:S,onNodeMouseEnter:N,onNodeMouseMove:B,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:U,onNodeDragStart:F,onNodeDrag:L,onNodeDragStop:D,onNodesDelete:W,onEdgesDelete:O,onSelectionChange:M,onSelectionDragStart:K,onSelectionDrag:Q,onSelectionDragStop:ae,onSelectionContextMenu:V,onSelectionStart:G,onSelectionEnd:re,connectionMode:J=qd.Strict,connectionLineType:Y=lu.Bezier,connectionLineStyle:ce,connectionLineComponent:R,connectionLineContainerStyle:z,deleteKeyCode:q="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:ne=!1,selectionMode:le=wp.Full,panActivationKeyCode:ue="Space",multiSelectionKeyCode:he=ev()?"Meta":"Control",zoomActivationKeyCode:Ne=ev()?"Meta":"Control",snapToGrid:ge=!1,snapGrid:te=N1e,onlyRenderVisibleElements:Te=!1,selectNodesOnDrag:qe=!0,nodesDraggable:ke,nodesConnectable:we,nodesFocusable:je,nodeOrigin:$e=B1e,edgesFocusable:et,edgesUpdatable:dt,elementsSelectable:pt,defaultViewport:st=_1e,minZoom:yt=.5,maxZoom:Nt=2,translateExtent:Lt=pC,preventScrolling:Rt=!0,nodeExtent:Qt,defaultMarkerColor:Vt="#b1b1b7",zoomOnScroll:Tt=!0,zoomOnPinch:Ct=!0,panOnScroll:ut=!1,panOnScrollSpeed:mr=.5,panOnScrollMode:Mt=_d.Free,zoomOnDoubleClick:Kr=!0,panOnDrag:ur=!0,onPaneClick:gr,onPaneMouseEnter:nn,onPaneMouseMove:xr,onPaneMouseLeave:ts,onPaneScroll:jr,onPaneContextMenu:oa,children:Ca,onEdgeContextMenu:kr,onEdgeDoubleClick:Xt,onEdgeMouseEnter:Fr,onEdgeMouseMove:Hs,onEdgeMouseLeave:_n,onEdgeUpdate:rs,onEdgeUpdateStart:ps,onEdgeUpdateEnd:Ot,onReconnect:qr,onReconnectStart:en,onReconnectEnd:Tn,reconnectRadius:xn=10,edgeUpdaterRadius:Cn=10,onNodesChange:de,onEdgesChange:Ee,noDragClassName:ve="nodrag",noWheelClassName:ye="nowheel",noPanClassName:Ce="nopan",fitView:Se=!1,fitViewOptions:Qe,connectOnClick:Xe=!0,attributionPosition:Re,proOptions:ze,defaultEdgeOptions:We,elevateNodesOnSelect:ht=!0,elevateEdgesOnSelect:wt=!1,disableKeyboardA11y:kt=!1,autoPanOnConnect:vt=!0,autoPanOnNodeDrag:_t=!0,connectionRadius:Zt=20,isValidConnection:Ir,onError:Mr,style:Wr,id:Ha,nodeDragThreshold:ri,...La},ns)=>{const Va=Ha||"1";return at.createElement("div",{...La,style:{...Wr,...T1e},ref:ns,className:ti(["react-flow",a]),"data-testid":"rf__wrapper",id:Ha},at.createElement(gL,null,at.createElement(b1e,{onInit:u,onMove:f,onMoveStart:h,onMoveEnd:p,onNodeClick:o,onEdgeClick:c,onNodeMouseEnter:N,onNodeMouseMove:B,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:U,nodeTypes:s,edgeTypes:i,connectionLineType:Y,connectionLineStyle:ce,connectionLineComponent:R,connectionLineContainerStyle:z,selectionKeyCode:ee,selectionOnDrag:ne,selectionMode:le,deleteKeyCode:q,multiSelectionKeyCode:he,panActivationKeyCode:ue,zoomActivationKeyCode:Ne,onlyRenderVisibleElements:Te,selectNodesOnDrag:qe,defaultViewport:st,translateExtent:Lt,minZoom:yt,maxZoom:Nt,preventScrolling:Rt,zoomOnScroll:Tt,zoomOnPinch:Ct,zoomOnDoubleClick:Kr,panOnScroll:ut,panOnScrollSpeed:mr,panOnScrollMode:Mt,panOnDrag:ur,onPaneClick:gr,onPaneMouseEnter:nn,onPaneMouseMove:xr,onPaneMouseLeave:ts,onPaneScroll:jr,onPaneContextMenu:oa,onSelectionContextMenu:V,onSelectionStart:G,onSelectionEnd:re,onEdgeContextMenu:kr,onEdgeDoubleClick:Xt,onEdgeMouseEnter:Fr,onEdgeMouseMove:Hs,onEdgeMouseLeave:_n,onReconnect:qr??rs,onReconnectStart:en??ps,onReconnectEnd:Tn??Ot,reconnectRadius:xn??Cn,defaultMarkerColor:Vt,noDragClassName:ve,noWheelClassName:ye,noPanClassName:Ce,elevateEdgesOnSelect:wt,rfId:Va,disableKeyboardA11y:kt,nodeOrigin:$e,nodeExtent:Qt}),at.createElement(vxe,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:g,onConnectStart:b,onConnectEnd:y,onClickConnectStart:E,onClickConnectEnd:S,nodesDraggable:ke,nodesConnectable:we,nodesFocusable:je,edgesFocusable:et,edgesUpdatable:dt,elementsSelectable:pt,elevateNodesOnSelect:ht,minZoom:yt,maxZoom:Nt,nodeExtent:Qt,onNodesChange:de,onEdgesChange:Ee,snapToGrid:ge,snapGrid:te,connectionMode:J,translateExtent:Lt,connectOnClick:Xe,defaultEdgeOptions:We,fitView:Se,fitViewOptions:Qe,onNodesDelete:W,onEdgesDelete:O,onNodeDragStart:F,onNodeDrag:L,onNodeDragStop:D,onSelectionDrag:Q,onSelectionDragStart:K,onSelectionDragStop:ae,noPanClassName:Ce,nodeOrigin:$e,rfId:Va,autoPanOnConnect:vt,autoPanOnNodeDrag:_t,onError:Mr,connectionRadius:Zt,isValidConnection:Ir,nodeDragThreshold:ri}),at.createElement(gxe,{onSelectionChange:M}),Ca,at.createElement(Gge,{proOptions:ze,position:Re}),at.createElement(Exe,{rfId:Va,disableKeyboardA11y:kt})))});xL.displayName="ReactFlow";function vL(e){return t=>{const[r,n]=X.useState(t),a=X.useCallback(s=>n(i=>e(s,i)),[]);return[r,n,a]}}const k1e=vL(sL),F1e=vL(Pxe);function I1e(){return at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},at.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function U1e(){return at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},at.createElement("path",{d:"M0 0h32v4.2H0z"}))}function D1e(){return at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},at.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function L1e(){return at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},at.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function R1e(){return at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},at.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Nm=({children:e,className:t,...r})=>at.createElement("button",{type:"button",className:ti(["react-flow__controls-button",t]),...r},e);Nm.displayName="ControlButton";const M1e=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),wL=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:i,onFitView:o,onInteractiveChange:c,className:u,children:f,position:h="bottom-left"})=>{const p=es(),[g,b]=X.useState(!1),{isInteractive:y,minZoomReached:E,maxZoomReached:S}=Jn(M1e,Os),{zoomIn:N,zoomOut:B,fitView:_}=Gv();if(X.useEffect(()=>{b(!0)},[]),!g)return null;const k=()=>{N(),s==null||s()},U=()=>{B(),i==null||i()},F=()=>{_(a),o==null||o()},L=()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),c==null||c(!y)};return at.createElement(kD,{className:ti(["react-flow__controls",u]),position:h,style:e,"data-testid":"rf__controls"},t&&at.createElement(at.Fragment,null,at.createElement(Nm,{onClick:k,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:S},at.createElement(I1e,null)),at.createElement(Nm,{onClick:U,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E},at.createElement(U1e,null))),r&&at.createElement(Nm,{className:"react-flow__controls-fitview",onClick:F,title:"fit view","aria-label":"fit view"},at.createElement(D1e,null)),n&&at.createElement(Nm,{className:"react-flow__controls-interactive",onClick:L,title:"toggle interactivity","aria-label":"toggle interactivity"},y?at.createElement(R1e,null):at.createElement(L1e,null)),f)};wL.displayName="Controls";var P1e=X.memo(wL),nl;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(nl||(nl={}));function j1e({color:e,dimensions:t,lineWidth:r}){return at.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function O1e({color:e,radius:t}){return at.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Q1e={[nl.Dots]:"#91919a",[nl.Lines]:"#eee",[nl.Cross]:"#e2e2e2"},H1e={[nl.Dots]:1,[nl.Lines]:1,[nl.Cross]:6},V1e=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function yL({id:e,variant:t=nl.Dots,gap:r=20,size:n,lineWidth:a=1,offset:s=2,color:i,style:o,className:c}){const u=X.useRef(null),{transform:f,patternId:h}=Jn(V1e,Os),p=i||Q1e[t],g=n||H1e[t],b=t===nl.Dots,y=t===nl.Cross,E=Array.isArray(r)?r:[r,r],S=[E[0]*f[2]||1,E[1]*f[2]||1],N=g*f[2],B=y?[N,N]:S,_=b?[N/s,N/s]:[B[0]/s,B[1]/s];return at.createElement("svg",{className:ti(["react-flow__background",c]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},at.createElement("pattern",{id:h+e,x:f[0]%S[0],y:f[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},b?at.createElement(O1e,{color:p,radius:N/s}):at.createElement(j1e,{dimensions:B,color:p,lineWidth:a})),at.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`}))}yL.displayName="Background";var G1e=X.memo(yL);function z1e(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const K1e=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function bu(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let s0=null;function bL(e={}){return s0||(e.includeStyleProperties?(s0=e.includeStyleProperties,s0):(s0=bu(window.getComputedStyle(document.documentElement)),s0))}function av(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function q1e(e){const t=av(e,"border-left-width"),r=av(e,"border-right-width");return e.clientWidth+t+r}function W1e(e){const t=av(e,"border-top-width"),r=av(e,"border-bottom-width");return e.clientHeight+t+r}function CL(e,t={}){const r=t.width||q1e(e),n=t.height||W1e(e);return{width:r,height:n}}function $1e(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Ui=16384;function Y1e(e){(e.width>Ui||e.height>Ui)&&(e.width>Ui&&e.height>Ui?e.width>e.height?(e.height*=Ui/e.width,e.width=Ui):(e.width*=Ui/e.height,e.height=Ui):e.width>Ui?(e.height*=Ui/e.width,e.width=Ui):(e.width*=Ui/e.height,e.height=Ui))}function sv(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function J1e(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function X1e(e,t,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${t} ${r}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(e),J1e(a)}const pi=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||pi(r,t)};function Z1e(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function eve(e,t){return bL(t).map(r=>{const n=e.getPropertyValue(r),a=e.getPropertyPriority(r);return`${r}: ${n}${a?" !important":""};`}).join(" ")}function tve(e,t,r,n){const a=`.${e}:${t}`,s=r.cssText?Z1e(r):eve(r,n);return document.createTextNode(`${a}{${s}}`)}function gk(e,t,r,n){const a=window.getComputedStyle(e,r),s=a.getPropertyValue("content");if(s===""||s==="none")return;const i=K1e();try{t.className=`${t.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild(tve(i,r,a,n)),t.appendChild(o)}function rve(e,t,r){gk(e,t,":before",r),gk(e,t,":after",r)}const xk="application/font-woff",vk="image/jpeg",nve={woff:xk,woff2:xk,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:vk,jpeg:vk,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function ave(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function X5(e){const t=ave(e).toLowerCase();return nve[t]||""}function sve(e){return e.split(/,/)[1]}function gC(e){return e.search(/^(data:)/)!==-1}function ive(e,t){return`data:${t};base64,${e}`}async function EL(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((s,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{s(r({res:n,result:o.result}))}catch(c){i(c)}},o.readAsDataURL(a)})}const Ry={};function ove(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function Z5(e,t,r){const n=ove(e,t,r.includeQueryParams);if(Ry[n]!=null)return Ry[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const s=await EL(e,r.fetchRequestInit,({res:i,result:o})=>(t||(t=i.headers.get("Content-Type")||""),sve(o)));a=ive(s,t)}catch(s){a=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;s&&(i=typeof s=="string"?s:s.message),i&&console.warn(i)}return Ry[n]=a,a}async function lve(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):sv(t)}async function cve(e,t){if(e.currentSrc){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,i==null||i.drawImage(e,0,0,s.width,s.height);const o=s.toDataURL();return sv(o)}const r=e.poster,n=X5(r),a=await Z5(r,n,t);return sv(a)}async function Ave(e,t){var r;try{if(!((r=e==null?void 0:e.contentDocument)===null||r===void 0)&&r.body)return await zv(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function uve(e,t){return pi(e,HTMLCanvasElement)?lve(e):pi(e,HTMLVideoElement)?cve(e,t):pi(e,HTMLIFrameElement)?Ave(e,t):e.cloneNode(SL(e))}const dve=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",SL=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function fve(e,t,r){var n,a;if(SL(t))return t;let s=[];return dve(e)&&e.assignedNodes?s=bu(e.assignedNodes()):pi(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?s=bu(e.contentDocument.body.childNodes):s=bu(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),s.length===0||pi(e,HTMLVideoElement)||await s.reduce((i,o)=>i.then(()=>zv(o,r)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function hve(e,t,r){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):bL(r).forEach(s=>{let i=a.getPropertyValue(s);s==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),pi(e,HTMLIFrameElement)&&s==="display"&&i==="inline"&&(i="block"),s==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(s,i,a.getPropertyPriority(s))})}function mve(e,t){pi(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),pi(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function pve(e,t){if(pi(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function gve(e,t,r){return pi(t,Element)&&(hve(e,t,r),rve(e,t,r),mve(e,t),pve(e,t)),t}async function xve(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let s=0;s<r.length;s++){const o=r[s].getAttribute("xlink:href");if(o){const c=e.querySelector(o),u=document.querySelector(o);!c&&u&&!n[o]&&(n[o]=await zv(u,t,!0))}}const a=Object.values(n);if(a.length){const s="http://www.w3.org/1999/xhtml",i=document.createElementNS(s,"svg");i.setAttribute("xmlns",s),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(s,"defs");i.appendChild(o);for(let c=0;c<a.length;c++)o.appendChild(a[c]);e.appendChild(i)}return e}async function zv(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>uve(n,t)).then(n=>fve(e,n,t)).then(n=>gve(e,n,t)).then(n=>xve(n,t))}const BL=/url\((['"]?)([^'"]+?)\1\)/g,vve=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,wve=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function yve(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function bve(e){const t=[];return e.replace(BL,(r,n,a)=>(t.push(a),r)),t.filter(r=>!gC(r))}async function Cve(e,t,r,n,a){try{const s=r?z1e(t,r):t,i=X5(t);let o;return a||(o=await Z5(s,i,n)),e.replace(yve(t),`$1${o}$3`)}catch{}return e}function Eve(e,{preferredFontFormat:t}){return t?e.replace(wve,r=>{for(;;){const[n,,a]=vve.exec(r)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function NL(e){return e.search(BL)!==-1}async function _L(e,t,r){if(!NL(e))return e;const n=Eve(e,r);return bve(n).reduce((s,i)=>s.then(o=>Cve(o,i,t,r)),Promise.resolve(n))}async function i0(e,t,r){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const s=await _L(a,null,r);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function Sve(e,t){await i0("background",e,t)||await i0("background-image",e,t),await i0("mask",e,t)||await i0("-webkit-mask",e,t)||await i0("mask-image",e,t)||await i0("-webkit-mask-image",e,t)}async function Bve(e,t){const r=pi(e,HTMLImageElement);if(!(r&&!gC(e.src))&&!(pi(e,SVGImageElement)&&!gC(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,a=await Z5(n,X5(n),t);await new Promise((s,i)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...c)=>{try{s(t.onImageErrorHandler(...c))}catch(u){i(u)}}:i;const o=e;o.decode&&(o.decode=s),o.loading==="lazy"&&(o.loading="eager"),r?(e.srcset="",e.src=a):e.href.baseVal=a})}async function Nve(e,t){const n=bu(e.childNodes).map(a=>TL(a,t));await Promise.all(n).then(()=>e)}async function TL(e,t){pi(e,Element)&&(await Sve(e,t),await Bve(e,t),await Nve(e,t))}function _ve(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),e}const wk={};async function yk(e){let t=wk[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},wk[e]=t,t}async function bk(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),EL(o,t.fetchRequestInit,({result:c})=>(r=r.replace(i,`url(${c})`),[i,c]))});return Promise.all(s).then(()=>r)}function Ck(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=a.exec(n);if(c===null)break;t.push(c[0])}n=n.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let c=s.exec(n);if(c===null){if(c=o.exec(n),c===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;t.push(c[0])}return t}async function Tve(e,t){const r=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{bu(a.cssRules||[]).forEach((s,i)=>{if(s.type===CSSRule.IMPORT_RULE){let o=i+1;const c=s.href,u=yk(c).then(f=>bk(f,t)).then(f=>Ck(f).forEach(h=>{try{a.insertRule(h,h.startsWith("@import")?o+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:h,error:p})}})).catch(f=>{console.error("Error loading remote css",f.toString())});n.push(u)}})}catch(s){const i=e.find(o=>o.href==null)||document.styleSheets[0];a.href!=null&&n.push(yk(a.href).then(o=>bk(o,t)).then(o=>Ck(o).forEach(c=>{i.insertRule(c,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",s)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{bu(a.cssRules||[]).forEach(s=>{r.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s)}}),r))}function kve(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>NL(t.style.getPropertyValue("src")))}async function Fve(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=bu(e.ownerDocument.styleSheets),n=await Tve(r,t);return kve(n)}function kL(e){return e.trim().replace(/["']/g,"")}function Ive(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(s=>{t.add(kL(s))}),Array.from(n.children).forEach(s=>{s instanceof HTMLElement&&r(s)})}return r(e),t}async function Uve(e,t){const r=await Fve(e,t),n=Ive(e);return(await Promise.all(r.filter(s=>n.has(kL(s.style.fontFamily))).map(s=>{const i=s.parentStyleSheet?s.parentStyleSheet.href:null;return _L(s.cssText,i,t)}))).join(`
`)}async function Dve(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Uve(e,t);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function Lve(e,t={}){const{width:r,height:n}=CL(e,t),a=await zv(e,t,!0);return await Dve(a,t),await TL(a,t),_ve(a,t),await X1e(a,r,n)}async function Rve(e,t={}){const{width:r,height:n}=CL(e,t),a=await Lve(e,t),s=await sv(a),i=document.createElement("canvas"),o=i.getContext("2d"),c=t.pixelRatio||$1e(),u=t.canvasWidth||r,f=t.canvasHeight||n;return i.width=u*c,i.height=f*c,t.skipAutoScale||Y1e(i),i.style.width=`${u}`,i.style.height=`${f}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(s,0,0,i.width,i.height),i}async function Kv(e,t={}){return(await Rve(e,t)).toDataURL()}const Ek="recursosAprendizaje_mindMaps_v2",Mve=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1v4m0 0h-4m4-4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 4l-5-5"})}),Pve=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657l-4.243 4.243a1 1 0 01-1.414 0l-4.243-4.243a1 1 0 010-1.414l4.243-4.243a1 1 0 011.414 0l4.243 4.243a1 1 0 010 1.414z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6"})]}),jve=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5l7 7-7 7"})]}),Ove=()=>A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),xC=(e,t)=>e.children.length===0?t:e.children.reduce((r,n)=>r+xC(n,t),0),vC=(e,t="tree")=>{const r=[],n=[];if(t==="tree"){const i=(o,c,u,f)=>{const h=c*250;r.push({id:o.id,position:{x:h,y:u},data:{label:o.label},type:c===0?"input":"default",sourcePosition:$t.Right,targetPosition:$t.Left});const p=xC(o,80);let g=u-p/2;o.children.forEach(b=>{const y=xC(b,80),E=g+y/2;n.push({id:`e-${o.id}-${b.id}`,source:o.id,target:b.id,type:"smoothstep",animated:!0}),i(b,c+1,E),g+=y})};i(e,0,0)}else{r.push({id:e.id,position:{x:0,y:0},data:{label:e.label},type:"input"});const i=250,o=450;e.children.forEach((c,u)=>{const f=u/e.children.length*2*Math.PI,h=i*Math.cos(f),p=i*Math.sin(f);r.push({id:c.id,position:{x:h,y:p},data:{label:c.label}}),n.push({id:`e-${e.id}-${c.id}`,source:e.id,target:c.id,type:"smoothstep"}),c.children.forEach((g,b)=>{const y=f+(b-(c.children.length-1)/2)*.2,E=h+o*.5*Math.cos(y),S=p+o*.5*Math.sin(y);r.push({id:g.id,position:{x:E,y:S},data:{label:g.label}}),n.push({id:`e-${c.id}-${g.id}`,source:c.id,target:g.id,type:"smoothstep"})})})}return{nodes:r,edges:n}},FL=({node:e,onUpdate:t,onAddChild:r,onDelete:n,level:a=0})=>{const s=["bg-blue-100/50 dark:bg-blue-900/20","bg-yellow-100/50 dark:bg-yellow-900/20","bg-green-100/50 dark:bg-green-900/20"],i=["border-blue-300 dark:border-blue-700","border-yellow-300 dark:border-yellow-700","border-green-300 dark:border-green-700"];return A.jsxs("div",{className:`pl-4 ${a>0?"border-l "+i[a-1%i.length]:""}`,children:[A.jsx("div",{className:`p-2 rounded-lg my-1 ${s[a%s.length]}`,children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"text",value:e.label,onChange:o=>t(e.id,o.target.value),className:"w-full bg-transparent focus:bg-white dark:focus:bg-slate-700 p-1 rounded border border-transparent focus:border-slate-300 dark:focus:border-slate-600 outline-none transition-colors"}),A.jsx("button",{onClick:()=>r(e.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:"➕"}),a>0&&A.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:"🗑️"})]})}),e.children.map(o=>A.jsx(FL,{node:o,onUpdate:t,onAddChild:r,onDelete:n,level:a+1},o.id))]})},Qve=({mapData:e,onBack:t,onSave:r})=>{const[n,a]=X.useState(e.treeData),[s,i]=X.useState("tree"),[o,c]=X.useState(!1),[u,f,h]=k1e([]),[p,g,b]=F1e([]),{fitView:y}=Gv();X.useEffect(()=>{const{nodes:k,edges:U}=vC(n,s);f(k),g(U),setTimeout(()=>y({duration:300}),50)},[n,s,f,g,y]);const E=(k,U)=>{const F=JSON.parse(JSON.stringify(n)),L=D=>D.id===k?(D.label=U,!0):D.children.some(L);L(F),a(F)},S=k=>{const U=JSON.parse(JSON.stringify(n)),F=L=>L.id===k?(L.children.push({id:crypto.randomUUID(),label:"Nuevo Nodo",children:[]}),!0):L.children.some(F);F(U),a(U)},N=k=>{const U=JSON.parse(JSON.stringify(n)),F=L=>{const D=L.children.findIndex(W=>W.id===k);return D!==-1?(L.children.splice(D,1),!0):L.children.some(F)};F(U),a(U)},B=()=>{c(!0);const{nodes:k,edges:U}=vC(n,s);r({...e,treeData:n,nodes:k,edges:U}),setTimeout(()=>c(!1),1e3)},_=async k=>{const U=document.querySelector(".react-flow");U&&Kv(U,{backgroundColor:"#ffffff",cacheBust:!0,pixelRatio:2}).then(F=>{{const L=document.createElement("a");L.download=`${e.tema}.png`,L.href=F,L.click()}}).catch(F=>console.error("oops, something went wrong!",F))};return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 truncate pr-4",children:e.tema}),A.jsx("button",{onClick:t,className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold flex-shrink-0",children:"← Volver a la lista"})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[A.jsxs("div",{className:"lg:col-span-2 w-full h-[70vh] rounded-lg border dark:border-slate-700 relative",children:[A.jsxs(xL,{nodes:u,edges:p,onNodesChange:h,onEdgesChange:b,fitView:!0,children:[A.jsx(P1e,{}),A.jsx(G1e,{})]}),A.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:A.jsxs("button",{onClick:()=>{},className:"bg-white/80 backdrop-blur-sm dark:bg-slate-800/80 p-2 rounded-lg shadow border dark:border-slate-700 flex items-center gap-2 text-sm",children:[A.jsx(Mve,{})," Pantalla completa"]})})]}),A.jsxs("div",{className:"w-full h-[70vh] flex flex-col bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Editar"}),A.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b dark:border-slate-700 pb-2",children:[A.jsxs("button",{onClick:()=>i("tree"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${s==="tree"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[A.jsx(Pve,{})," Vista en árbol"]}),A.jsxs("button",{onClick:()=>i("central"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${s==="central"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[A.jsx(jve,{})," Vista con tema central"]})]}),A.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:A.jsx(FL,{node:n,onUpdate:E,onAddChild:S,onDelete:N})}),A.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex justify-end gap-4",children:[A.jsx("button",{onClick:()=>_(),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Exportar PNG"}),A.jsx("button",{onClick:B,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 w-28",children:o?"Guardado!":"Guardar"})]})]})]})]})},Hve=({onBack:e})=>{const[t,r]=X.useState("list"),[n,a]=X.useState([]),[s,i]=X.useState(null),[o,c]=X.useState(!1),[u,f]=X.useState(""),[h,p]=X.useState(""),[g,b]=X.useState("");X.useEffect(()=>{try{const k=localStorage.getItem(Ek);k&&a(JSON.parse(k))}catch(k){console.error("Error loading mind maps",k)}},[]);const y=k=>{a(k),localStorage.setItem(Ek,JSON.stringify(k))},E=async k=>{if(k.preventDefault(),!u.trim()){alert("El tema es obligatorio.");return}c(!0);const U=`Basado en el tema central "${u}", y considerando el contenido adicional "${g}", genera una estructura jerárquica detallada para un mapa mental con al menos 3 niveles de profundidad. La estructura debe ser un desglose lógico del tema en subtemas.

La respuesta DEBE ser un único objeto JSON válido. Cada nodo en el JSON debe tener las propiedades "id" (un string único generado con crypto.randomUUID()), "label" (el texto del nodo), y "children" (un array de nodos hijos con la misma estructura).`;try{const L=await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:U,config:{responseMimeType:"application/json"}}),D=JSON.parse(L.text.trim()),{nodes:W,edges:O}=vC(D),M={id:crypto.randomUUID(),tema:u,nivel:h,treeData:D,nodes:W,edges:O,createdAt:new Date().toISOString()};i(M),r("editor")}catch(F){console.error("AI Generation Error:",F),alert("Hubo un error al generar el mapa mental con la IA. Inténtelo de nuevo.")}finally{c(!1)}},S=k=>{const F=n.findIndex(L=>L.id===k.id)>-1?n.map(L=>L.id===k.id?k:L):[k,...n];y(F)},N=k=>{i(k),r("editor")},B=k=>{window.confirm("¿Eliminar este mapa mental?")&&y(n.filter(U=>U.id!==k))},_=()=>{switch(t){case"editor":return s?A.jsx(J5,{children:A.jsx(Qve,{mapData:s,onBack:()=>r("list"),onSave:S})}):null;case"config":return A.jsxs("div",{className:"max-w-2xl mx-auto",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nuevo Mapa Mental con IA"}),A.jsx("button",{onClick:()=>r("list"),className:"text-slate-600 hover:text-slate-900 font-semibold",children:"← Volver"})]}),A.jsxs("form",{onSubmit:E,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Tema Central ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{type:"text",id:"tema",value:u,onChange:k=>f(k.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenido o ideas clave (Opcional)"}),A.jsx("textarea",{id:"contenido",value:g,onChange:k=>b(k.target.value),rows:4,placeholder:"Añade más detalles para guiar a la IA...",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),A.jsx("div",{className:"flex justify-end pt-4",children:A.jsx("button",{type:"submit",disabled:o,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[200px]",children:o?A.jsx(Ove,{}):"Generar Mapa con IA"})})]})]});case"list":default:return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Mapas Mentales"}),A.jsx("button",{onClick:()=>r("config"),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nuevo"})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(k=>A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg shadow border dark:border-slate-700",children:[A.jsx("h3",{className:"font-bold text-lg truncate text-slate-800 dark:text-slate-200",children:k.tema}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(k.createdAt).toLocaleDateString("es-CL")]}),A.jsxs("div",{className:"mt-4 flex gap-2",children:[A.jsx("button",{onClick:()=>N(k),className:"flex-1 bg-slate-200 dark:bg-slate-600 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Editar"}),A.jsx("button",{onClick:()=>B(k.id),className:"flex-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Eliminar"})]})]},k.id)):A.jsx("p",{className:"col-span-full text-center text-slate-500 dark:text-slate-400 py-8",children:"No has creado ningún mapa mental todavía."})})]})}};return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[A.jsx("span",{className:"text-4xl",children:"🧠"}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mapas Mentales"}),A.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),_()]})},Vve=()=>A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Gve=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),zve=({onBack:e})=>{const[t,r]=X.useState("Media"),[n,a]=X.useState(10),[s,i]=X.useState(!1),[o,c]=X.useState(Array(10).fill("")),[u,f]=X.useState(""),[h,p]=X.useState(null),[g,b]=X.useState({ai:!1,puzzle:!1}),y=X.useRef(null);X.useEffect(()=>{c(U=>{const F=Array(n).fill("");for(let L=0;L<Math.min(U.length,n);L++)F[L]=U[L];return F})},[n]);const E=(U,F)=>{const L=[...o];L[U]=F,c(L)},S=async()=>{if(u.trim()){b(U=>({...U,ai:!0}));try{const U=new Oa({apiKey:void 0}),F=`Genera una lista de ${n} palabras clave, en español, relacionadas con el tema "${u}". Las palabras no deben contener espacios ni caracteres especiales.`,L={type:xt.OBJECT,properties:{palabras:{type:xt.ARRAY,items:{type:xt.STRING}}},required:["palabras"]},D=await U.models.generateContent({model:"gemini-2.5-flash",contents:F,config:{responseMimeType:"application/json",responseSchema:L}}),M=[...JSON.parse(D.text).palabras.map(K=>K.toUpperCase().replace(/\s/g,"")).slice(0,n)];for(;M.length<n;)M.push("");c(M)}catch(U){console.error("Error generating words with AI:",U),alert("No se pudieron generar las palabras. Inténtelo de nuevo.")}finally{b(U=>({...U,ai:!1}))}}},N=(U,F,L,D,W,O)=>{for(let M=0;M<U.length;M++){const K=L+M*W.y,Q=D+M*W.x;if(K<0||K>=O||Q<0||Q>=O||F[K][Q]&&F[K][Q]!==U[M])return!1}return!0},B=(U,F,L,D,W)=>{for(let O=0;O<U.length;O++)F[L+O*W.y][D+O*W.x]=U[O]},_=()=>{b(U=>({...U,puzzle:!0})),p(null),setTimeout(()=>{const U=o.map(M=>M.toUpperCase().replace(/[^A-ZÑ]/g,"")).filter(Boolean);if(U.length===0){alert("Por favor, ingrese al menos una palabra válida."),b(M=>({...M,puzzle:!1}));return}const F=Math.max(...U.map(M=>M.length));let L=Math.max(F,U.length)+2;t==="Media"&&(L+=3),t==="Difícil"&&(L+=5),L=Math.min(Math.max(L,10),25);const D=Array(L).fill(null).map(()=>Array(L).fill(null)),W=[{x:1,y:0},{x:0,y:1},{x:1,y:1}];t!=="Fácil"&&W.push({x:1,y:-1}),t==="Difícil"&&W.push({x:-1,y:0},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:1});for(const M of U.sort((K,Q)=>Q.length-K.length)){let K=!1;for(let Q=0;Q<100;Q++){const ae=W[Math.floor(Math.random()*W.length)],V=Math.floor(Math.random()*L),G=Math.floor(Math.random()*L);if(N(M,D,V,G,ae,L)){B(M,D,V,G,ae),K=!0;break}}K||console.warn(`No se pudo colocar la palabra: ${M}`)}const O=D.map(M=>M.map(K=>K||"ABCDEFGHIJKLMNOPQRSTUVWXYZÑ"[Math.floor(Math.random()*27)]));p({grid:O,words:U.sort()}),b(M=>({...M,puzzle:!1}))},100)},k=()=>{y.current&&Kv(y.current,{cacheBust:!0,backgroundColor:"white",quality:.95,pixelRatio:2}).then(U=>{const F=document.createElement("a");F.download="sopa-de-letras.png",F.href=U,F.click()}).catch(U=>{console.error("oops, something went wrong!",U),alert("No se pudo generar la imagen. Inténtelo de nuevo.")})};return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:"text-4xl",children:"🅰️"}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Sopa de Letras"}),A.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),!h&&A.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Dificultad"}),A.jsxs("select",{value:t,onChange:U=>r(U.target.value),className:"w-full md:w-1/3 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[A.jsx("option",{children:"Fácil"}),A.jsx("option",{children:"Media"}),A.jsx("option",{children:"Difícil"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Número de palabras"}),A.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(U=>A.jsx("button",{onClick:()=>{a(U),i(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!s&&n===U?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:U},U)),A.jsx("button",{onClick:()=>i(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${s?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),s&&A.jsx("input",{type:"number",value:n,onChange:U=>a(parseInt(U.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras con IA (Opcional)"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{id:"ai-theme",type:"text",value:u,onChange:U=>f(U.target.value),placeholder:"Envía un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsx("button",{onClick:S,disabled:g.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:g.ai?A.jsx(Vve,{}):A.jsxs(A.Fragment,{children:[A.jsx(Gve,{}),A.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Palabras ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3",children:o.map((U,F)=>A.jsx("input",{type:"text",value:U,onChange:L=>E(F,L.target.value),placeholder:`Palabra ${F+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"},F))})]}),A.jsx("div",{className:"text-right pt-4",children:A.jsx("button",{onClick:_,disabled:g.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:g.puzzle?"Generando...":"Generar Sopa de Letras"})})]}),h&&A.jsxs("div",{className:"space-y-6",children:[A.jsx("div",{ref:y,className:"p-6 bg-white",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[A.jsx("div",{className:"md:col-span-2",children:A.jsx("div",{className:"grid border-2 border-slate-700",style:{gridTemplateColumns:`repeat(${h.grid.length}, minmax(0, 1fr))`},children:h.grid.flat().map((U,F)=>A.jsx("div",{className:"flex items-center justify-center aspect-square border border-slate-300 font-mono font-bold text-lg text-slate-800",children:U},F))})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4 border-b-2 border-slate-700 pb-2",children:"PALABRAS A BUSCAR"}),A.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-2 font-semibold text-slate-700",children:h.words.map(U=>A.jsx("li",{children:U},U))})]})]})}),A.jsxs("div",{className:"flex justify-end gap-4",children:[A.jsx("button",{onClick:()=>p(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otra"}),A.jsx("button",{onClick:k,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})]})},Sk="recursosAprendizaje_timelines",Kve=()=>A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),qve=({timeline:e,onSave:t,onBack:r})=>{const[n,a]=X.useState(e),s=X.useRef(null),i=(f,h,p)=>{a(g=>({...g,events:g.events.map(b=>b.id===f?{...b,[h]:p}:b)}))},o=()=>{const f={id:crypto.randomUUID(),date:new Date().getFullYear().toString(),description:"Nuevo hito",icon:"🗓️"},h=[...n.events,f].sort((p,g)=>parseInt(p.date)-parseInt(g.date));a(p=>({...p,events:h}))},c=f=>{a(h=>({...h,events:h.events.filter(p=>p.id!==f)}))},u=()=>{s.current&&Kv(s.current,{cacheBust:!0,backgroundColor:"#f1f5f9",quality:.95,pixelRatio:2}).then(f=>{const h=document.createElement("a");h.download=`linea-tiempo-${n.tema.replace(/\s+/g,"_")}.png`,h.href=f,h.click()}).catch(f=>{console.error("Error al generar la imagen:",f),alert("No se pudo generar la imagen. Inténtelo de nuevo.")})};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:n.tema}),A.jsx("button",{onClick:r,className:"text-sm font-semibold text-slate-500 hover:underline",children:"← Volver a la lista"})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsx("div",{className:"lg:col-span-2 bg-slate-100 dark:bg-slate-900 rounded-lg",children:A.jsxs("div",{ref:s,className:"relative p-10",children:[A.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-full bg-slate-300 dark:bg-slate-600 rounded"}),A.jsx("div",{className:"relative",children:n.events.sort((f,h)=>parseInt(f.date)-parseInt(h.date)).map((f,h)=>{const p=h%2===0;return A.jsxs("div",{className:"mb-8 flex justify-between items-center w-full",children:[A.jsx("div",{className:"w-1/2",children:p&&A.jsx("div",{className:"text-right pr-8",children:A.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[A.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:f.icon}),A.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:f.date}),A.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:f.description})]})})}),A.jsx("div",{className:"z-10 flex-shrink-0",children:A.jsx("div",{className:"w-5 h-5 bg-white dark:bg-slate-500 border-4 border-slate-400 dark:border-slate-300 rounded-full"})}),A.jsx("div",{className:"w-1/2",children:!p&&A.jsx("div",{className:"text-left pl-8",children:A.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[A.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:f.icon}),A.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:f.date}),A.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:f.description})]})})})]},f.id)})})]})}),A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700 h-[70vh] flex flex-col",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Editar Hitos"}),A.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:n.events.map(f=>A.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700 rounded-md border dark:border-slate-600 space-y-2",children:[A.jsx("input",{type:"text",value:f.date,onChange:h=>i(f.id,"date",h.target.value),placeholder:"Año/Fecha",className:"w-full bg-transparent font-semibold dark:text-slate-200"}),A.jsx("textarea",{value:f.description,onChange:h=>i(f.id,"description",h.target.value),placeholder:"Descripción",rows:2,className:"w-full bg-transparent text-sm dark:text-slate-300"}),A.jsx("button",{onClick:()=>c(f.id),className:"text-xs text-red-500 hover:underline",children:"Eliminar"})]},f.id))}),A.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex flex-col gap-2",children:[A.jsx("button",{onClick:o,className:"w-full bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Añadir Hito"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:u,className:"flex-1 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:"Descargar PNG"}),A.jsx("button",{onClick:()=>t(n),className:"flex-1 bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar"})]})]})]})]})]})},Wve=({onBack:e})=>{const[t,r]=X.useState("list"),[n,a]=X.useState([]),[s,i]=X.useState(null),[o,c]=X.useState(!1),[u,f]=X.useState(""),[h,p]=X.useState(""),[g,b]=X.useState("");X.useEffect(()=>{try{const B=localStorage.getItem(Sk);B&&a(JSON.parse(B))}catch(B){console.error("Error al cargar líneas de tiempo",B)}},[]);const y=B=>{a(B),localStorage.setItem(Sk,JSON.stringify(B))},E=async B=>{if(B.preventDefault(),!u.trim()){alert("El tema es obligatorio.");return}c(!0);const _=h&&g?`entre ${h} y ${g}`:h?`a partir de ${h}`:g?`hasta ${g}`:"",k=`Genera una línea de tiempo sobre el tema "${u}" ${_}. Crea entre 5 y 10 hitos clave ordenados cronológicamente. Para cada hito, proporciona una fecha o año, una descripción breve y un emoji representativo.`,U={type:xt.OBJECT,properties:{events:{type:xt.ARRAY,items:{type:xt.OBJECT,properties:{date:{type:xt.STRING},description:{type:xt.STRING},icon:{type:xt.STRING}},required:["date","description"]}}},required:["events"]};try{const L=await new Oa({apiKey:void 0}).models.generateContent({model:"gemini-2.5-flash",contents:k,config:{responseMimeType:"application/json",responseSchema:U}}),D=JSON.parse(L.text),W={id:crypto.randomUUID(),tema:u,fechaInicio:h,fechaFin:g,createdAt:new Date().toISOString(),events:D.events.map(O=>({...O,id:crypto.randomUUID()}))};i(W),r("editor")}catch(F){console.error("AI Generation Error:",F),alert("Hubo un error al generar la línea de tiempo. Inténtelo de nuevo.")}finally{c(!1)}},S=B=>{n.findIndex(k=>k.id===B.id)>-1?y(n.map(k=>k.id===B.id?B:k)):y([B,...n]),r("list"),i(null)},N=B=>{window.confirm("¿Eliminar esta línea de tiempo?")&&y(n.filter(_=>_.id!==B))};return t==="editor"&&s?A.jsx(qve,{timeline:s,onSave:S,onBack:()=>r("list")}):A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:"text-4xl",children:"🕒"}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Líneas de Tiempo"}),A.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),A.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-800/50",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear nueva Línea de Tiempo"}),A.jsxs("form",{onSubmit:E,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tema ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{type:"text",id:"tema",value:u,onChange:B=>f(B.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"fechaInicio",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Inicio (Opcional)"}),A.jsx("input",{type:"text",id:"fechaInicio",value:h,onChange:B=>p(B.target.value),placeholder:"Ej: 1947",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"fechaFin",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Término (Opcional)"}),A.jsx("input",{type:"text",id:"fechaFin",value:g,onChange:B=>b(B.target.value),placeholder:"Ej: 1991",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]})]}),A.jsx("div",{className:"text-right",children:A.jsx("button",{type:"submit",disabled:o,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:o?A.jsx(Kve,{}):"Generar con IA"})})]})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Líneas de Tiempo Guardadas"}),n.length>0?n.map(B=>A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border dark:border-slate-700 flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:B.tema}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creada: ",new Date(B.createdAt).toLocaleDateString("es-CL")]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>{i(B),r("editor")},className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md",children:"Editar"}),A.jsx("button",{onClick:()=>N(B.id),className:"text-sm font-semibold bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 py-1 px-3 rounded-md",children:"Eliminar"})]})]},B.id)):A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-6",children:"No hay líneas de tiempo guardadas."})]})]})},$ve=()=>A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Yve=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),Jve=({onBack:e})=>{const[t,r]=X.useState(10),[n,a]=X.useState(!1),[s,i]=X.useState(Array(10).fill("")),[o,c]=X.useState(Array(10).fill("")),[u,f]=X.useState(""),[h,p]=X.useState(null),[g,b]=X.useState(!1),[y,E]=X.useState({ai:!1,puzzle:!1}),S=X.useRef(null);X.useEffect(()=>{const D=t;i(W=>Array.from({length:D},(O,M)=>W[M]||"")),c(W=>Array.from({length:D},(O,M)=>W[M]||""))},[t]);const N=(D,W)=>{const O=[...s];O[D]=W,i(O)},B=(D,W)=>{const O=[...o];O[D]=W,c(O)},_=async()=>{if(u.trim()){E(D=>({...D,ai:!0}));try{const D=new Oa({apiKey:void 0}),W=`Genera una lista de ${t} palabras y sus pistas correspondientes para un crucigrama, basado en el tema "${u}". Las palabras no deben contener espacios.`,O={type:xt.OBJECT,properties:{items:{type:xt.ARRAY,items:{type:xt.OBJECT,properties:{word:{type:xt.STRING},clue:{type:xt.STRING}},required:["word","clue"]}}},required:["items"]},M=await D.models.generateContent({model:"gemini-2.5-flash",contents:W,config:{responseMimeType:"application/json",responseSchema:O}}),K=JSON.parse(M.text),Q=K.items.map(V=>V.word.toUpperCase().replace(/\s/g,"")),ae=K.items.map(V=>V.clue);i(Array.from({length:t},(V,G)=>Q[G]||"")),c(Array.from({length:t},(V,G)=>ae[G]||""))}catch(D){console.error("Error generating words/clues with AI:",D),alert("No se pudieron generar las palabras y pistas. Inténtelo de nuevo.")}finally{E(D=>({...D,ai:!1}))}}},k=X.useCallback(()=>{try{const D=s.map((te,Te)=>({word:te.toUpperCase().replace(/[^A-ZÑ]/g,""),clue:o[Te]})).filter(te=>te.word.length>0);if(D.length===0)return alert("Por favor, ingrese al menos una palabra válida."),null;D.sort((te,Te)=>Te.word.length-te.word.length);const W=D[0].word.length,O=Math.max(W,D.length)*2;let M=Array.from({length:O},()=>Array(O).fill(null));const K=[],Q=D.shift(),ae=Math.floor(O/2),V=Math.floor((O-Q.word.length)/2);for(let te=0;te<Q.word.length;te++)M[ae][V+te]=Q.word[te];K.push({word:Q.word,clue:Q.clue,direction:"across",row:ae,col:V});for(const te of D){let Te={score:-1,row:-1,col:-1,direction:"across"};for(const qe of K)for(let ke=0;ke<qe.word.length;ke++)for(let we=0;we<te.word.length;we++)if(qe.word[ke]===te.word[we]){let je=0,$e,et,dt;qe.direction==="across"?(dt="down",$e=qe.row-we,et=qe.col+ke):(dt="across",$e=qe.row+ke,et=qe.col-we);let pt=!0;for(let st=0;st<te.word.length;st++){const yt=$e+(dt==="down"?st:0),Nt=et+(dt==="across"?st:0);if(yt<0||yt>=O||Nt<0||Nt>=O){pt=!1;break}const Lt=M[yt][Nt],Rt=yt===qe.row+(qe.direction==="down"?ke:0)&&Nt===qe.col+(qe.direction==="across"?ke:0);if(Lt&&!Rt){pt=!1;break}if(Lt&&Rt&&Lt!==te.word[we]){pt=!1;break}if(!Rt){if(dt==="across"&&(yt>0&&M[yt-1][Nt]||yt<O-1&&M[yt+1][Nt])){pt=!1;break}if(dt==="down"&&(Nt>0&&M[yt][Nt-1]||Nt<O-1&&M[yt][Nt+1])){pt=!1;break}}Lt&&je++}pt&&je>Te.score&&(Te={score:je,row:$e,col:et,direction:dt})}if(Te.score>-1){for(let qe=0;qe<te.word.length;qe++){const ke=Te.row+(Te.direction==="down"?qe:0),we=Te.col+(Te.direction==="across"?qe:0);M[ke][we]=te.word[qe]}K.push({word:te.word,clue:te.clue,direction:Te.direction,row:Te.row,col:Te.col})}}let G=O,re=-1,J=O,Y=-1;K.forEach(te=>{G=Math.min(G,te.row),re=Math.max(re,te.row+(te.direction==="down"?te.word.length-1:0)),J=Math.min(J,te.col),Y=Math.max(Y,te.col+(te.direction==="across"?te.word.length-1:0))}),re===-1&&(G=K[0].row,re=K[0].row,J=K[0].col,Y=K[0].col+K[0].word.length-1);const ce=1,R=Math.max(0,G-ce),z=Math.min(O,re+1+ce),q=Math.max(0,J-ce),ee=Math.min(O,Y+1+ce),ne=M.slice(R,z).map(te=>te.slice(q,ee)),le=K.map(te=>({...te,row:te.row-R,col:te.col-q})).sort((te,Te)=>te.row-Te.row||te.col-Te.col);let ue=1;const he=[],Ne=new Map;le.forEach(te=>{const Te=`${te.row},${te.col}`;Ne.has(Te)||Ne.set(Te,ue++),he.push({...te,number:Ne.get(Te)})});const ge=ne.map(te=>te.map(Te=>({char:Te,number:null})));return he.forEach(te=>{const Te=`${te.row},${te.col}`;ge[te.row]&&ge[te.row][te.col]!==void 0&&(ge[te.row][te.col].number=Ne.get(Te))}),{grid:ge,clues:{across:he.filter(te=>te.direction==="across").sort((te,Te)=>te.number-Te.number),down:he.filter(te=>te.direction==="down").sort((te,Te)=>te.number-Te.number)}}}catch(D){return console.error("Error generating crossword grid:",D),alert("Ocurrió un error inesperado al generar el crucigrama. Intente con palabras diferentes."),null}},[s,o]),U=()=>{E(D=>({...D,puzzle:!0})),p(null),setTimeout(()=>{const D=k();D&&p(D),E(W=>({...W,puzzle:!1}))},100)},F=()=>{S.current&&(b(!1),setTimeout(()=>{Kv(S.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(D=>{const W=document.createElement("a");W.download="crucigrama.png",W.href=D,W.click()}).catch(D=>console.error("Error generating image",D))},100))},L=()=>h?A.jsxs("div",{className:"space-y-6",children:[A.jsx("div",{ref:S,className:"p-6 bg-white dark:bg-slate-900 text-black dark:text-white",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsx("div",{children:A.jsx("div",{className:"border border-black dark:border-white",style:{display:"grid",gridTemplateColumns:`repeat(${h.grid[0].length}, 2rem)`},children:h.grid.flat().map((D,W)=>A.jsxs("div",{className:"relative w-8 h-8 border border-black dark:border-white flex items-center justify-center font-bold uppercase",style:{backgroundColor:D.char?"white":"black"},children:[D.number&&A.jsx("span",{className:"absolute top-0 left-0.5 text-[8px]",children:D.number}),g&&D.char&&A.jsx("span",{children:D.char})]},W))})}),A.jsxs("div",{className:"text-sm",children:[A.jsx("h3",{className:"font-bold text-lg mb-2",children:"HORIZONTALES"}),A.jsx("ul",{className:"space-y-1",children:h.clues.across.map(D=>A.jsxs("li",{children:[A.jsxs("strong",{children:[D.number,"."]})," ",D.clue]},`${D.word}-${D.clue}`))}),A.jsx("h3",{className:"font-bold text-lg mt-4 mb-2",children:"VERTICALES"}),A.jsx("ul",{className:"space-y-1",children:h.clues.down.map(D=>A.jsxs("li",{children:[A.jsxs("strong",{children:[D.number,"."]})," ",D.clue]},`${D.word}-${D.clue}`))})]})]})}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:g,onChange:()=>b(!g),className:"h-5 w-5 rounded"}),A.jsx("span",{children:"Mostrar Solución"})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("button",{onClick:()=>p(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otro"}),A.jsx("button",{onClick:F,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})]}):null;return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:"text-4xl",children:"✏️"}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Crucigramas"}),A.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),h?L():A.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Número de palabras"}),A.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(D=>A.jsx("button",{onClick:()=>{r(D),a(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!n&&t===D?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:D},D)),A.jsx("button",{onClick:()=>a(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${n?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),n&&A.jsx("input",{type:"number",value:t,onChange:D=>r(parseInt(D.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras y pistas con IA (Opcional)"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{id:"ai-theme",type:"text",value:u,onChange:D=>f(D.target.value),placeholder:"Envía un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsx("button",{onClick:_,disabled:y.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:y.ai?A.jsx($ve,{}):A.jsxs(A.Fragment,{children:[A.jsx(Yve,{}),A.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),A.jsx("div",{className:"space-y-3",children:Array.from({length:t}).map((D,W)=>A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[A.jsx("input",{type:"text",value:s[W],onChange:O=>N(W,O.target.value),placeholder:`Palabra ${W+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),A.jsx("textarea",{value:o[W],onChange:O=>B(W,O.target.value),placeholder:`Pista ${W+1}`,rows:1,className:"md:col-span-2 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]},W))}),A.jsx("div",{className:"text-right pt-4",children:A.jsx("button",{onClick:U,disabled:y.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:y.puzzle?"Generando...":"Generar Crucigrama"})})]})]})},Xve=[{id:"sopaDeLetras",icon:"🅰️",nombre:"Sopa de Letras",descripcion:"Crea y resuelve sopas de letras personalizadas para aprender palabras clave de cualquier asignatura."},{id:"mapasMentales",icon:"🧠",nombre:"Mapas Mentales",descripcion:"Organiza ideas y conceptos de forma visual para facilitar el estudio y la memoria."},{id:"crucigramas",icon:"✏️",nombre:"Crucigramas",descripcion:"Crea y resuelve crucigramas para reforzar vocabulario y conceptos clave."},{id:"lineasDeTiempo",icon:"🕒",nombre:"Líneas de Tiempo",descripcion:"Construye líneas de tiempo para comprender procesos, hechos históricos o secuencias."}],Zve=({recurso:e,onClick:t})=>A.jsxs("button",{onClick:t,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-in-out cursor-pointer flex flex-col items-center text-center h-full",children:[A.jsx("div",{className:"text-6xl mb-4",children:e.icon}),A.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:e.nombre}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm flex-grow",children:e.descripcion})]}),e2e=()=>{const[e,t]=X.useState("menu"),r=()=>e==="mapasMentales"?A.jsx(Hve,{onBack:()=>t("menu")}):e==="sopaDeLetras"?A.jsx(zve,{onBack:()=>t("menu")}):e==="lineasDeTiempo"?A.jsx(Wve,{onBack:()=>t("menu")}):e==="crucigramas"?A.jsx(Jve,{onBack:()=>t("menu")}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Recursos de Aprendizaje"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Seleccione una herramienta para crear una nueva actividad educativa para sus estudiantes."})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Xve.map(n=>A.jsx(Zve,{recurso:n,onClick:()=>t(n.id)},n.id))})]});return A.jsx("div",{className:"animate-fade-in space-y-6",children:r()})},t2e="evaluacionesFormativas",r2e="calificacionesFormativas",My="trabajosGrupalesFormativos",n2e=({currentUser:e})=>{const[t,r]=X.useState([]),[n,a]=X.useState({}),[s,i]=X.useState([]),[o,c]=X.useState(null),[u,f]=X.useState(!1),[h,p]=X.useState(null),g=X.useRef(null);X.useEffect(()=>{try{const N=localStorage.getItem(t2e);N&&r(JSON.parse(N));const B=localStorage.getItem(r2e);B&&a(JSON.parse(B));const _=localStorage.getItem(My);_&&i(JSON.parse(_))}catch(N){console.error("Error al cargar datos desde localStorage",N)}},[]);const b=X.useMemo(()=>{if(!e.curso)return[];const B=t.filter(_=>_.curso===e.curso).reduce((_,k)=>((_[k.asignatura]=_[k.asignatura]||[]).push(k),_),{});return Object.entries(B).map(([_,k])=>{let U=0,F=0;const L=k.map(W=>{var K;const O=(K=n[W.id])==null?void 0:K[e.nombreCompleto];let M="No Trabajado";return O==="trabajado"?(U+=7,F++,M="Trabajado"):O==="no trabajado"&&(U+=2,F++,M="No Trabajado"),{id:W.id,nombreActividad:W.nombreActividad,fecha:W.fecha,estado:M}}).filter(W=>{var O;return(O=n[W.id])==null?void 0:O[e.nombreCompleto]}),D=F>0?(U/F).toFixed(1):"N/A";return{asignatura:_,promedio:D,actividades:L.sort((W,O)=>new Date(O.fecha).getTime()-new Date(W.fecha).getTime())}}).filter(_=>_.actividades.length>0).sort((_,k)=>_.asignatura.localeCompare(k.asignatura))},[t,n,e]);X.useEffect(()=>{if(b.reduce((F,L)=>F+L.actividades.length,0)===0){c(null);return}const B=b.reduce((F,L)=>{const D=parseFloat(L.promedio);return isNaN(D)?F:F+D},0),_=b.length>0?B/b.length:0,k=Vg.find(F=>_>=F.promedioMin&&_<=F.promedioMax)||null,U=Vg.filter(F=>_>=F.promedioMin);if(c({puntajeTotal:0,promedio:_,rangoActual:k,insigniasGanadas:U}),g.current!==null){const F=Vg.find(L=>g.current>=L.promedioMin&&g.current<=L.promedioMax)||null;k&&(!F||k.nombre!==F.nombre)&&p(k)}g.current=_},[b]);const y=X.useMemo(()=>e.curso?s.filter(N=>N.curso===e.curso).map(N=>{const B=N.grupos.find(_=>_.integrantes.some(k=>k.nombre===e.nombreCompleto));return B?{...N,miGrupo:B}:null}).filter(N=>N!==null).sort((N,B)=>new Date(B.fechaPresentacion).getTime()-new Date(N.fechaPresentacion).getTime()):[],[s,e]),E=(N,B)=>{const _=localStorage.getItem(My),U=(_?JSON.parse(_):[]).map(F=>{if(F.id===N){const L=F.grupos.map(D=>{if(D.integrantes.some(O=>O.nombre===e.nombreCompleto)){const O=D.integrantes.map(M=>M.nombre===e.nombreCompleto?{...M,rol:B||void 0}:M);return{...D,integrantes:O}}return D});return{...F,grupos:L}}return F});localStorage.setItem(My,JSON.stringify(U)),i(U)},S=N=>{const B=parseFloat(N);return isNaN(B)?"bg-slate-400":B<4?"bg-red-500":B<5.5?"bg-yellow-500":"bg-green-500"};return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[h&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md text-center p-8 animate-fade-in-up transform transition-all",onClick:N=>N.stopPropagation(),children:[A.jsx("div",{className:"text-8xl animate-bounce",children:h.emoji}),A.jsx("h2",{className:"text-3xl font-bold text-slate-800 mt-4",children:"¡Subiste de Rango!"}),A.jsx("p",{className:"text-2xl font-semibold text-amber-500 mt-2",children:h.nombre}),A.jsx("p",{className:"text-slate-600 mt-4",children:h.mensaje}),A.jsx("button",{onClick:()=>p(null),className:"mt-6 bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700",children:"¡Genial!"})]})}),u&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>f(!1),children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 max-h-[80vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Logros"}),A.jsx("div",{className:"overflow-y-auto space-y-3",children:Vg.map(N=>{const B=o==null?void 0:o.insigniasGanadas.some(_=>_.nombre===N.nombre);return A.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${B?"bg-amber-50 border-amber-200":"bg-slate-100 border-slate-200 opacity-60"}`,children:[A.jsx("div",{className:"text-5xl",children:N.emoji}),A.jsxs("div",{children:[A.jsx("h3",{className:`font-bold ${B?"text-amber-700":"text-slate-600"}`,children:N.nombre}),A.jsxs("p",{className:"text-sm text-slate-500",children:["Requisito: Promedio entre ",N.promedioMin," y ",N.promedioMax]})]})]},N.nombre)})})]})}),A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Mi Rendimiento Formativo"}),A.jsx("p",{className:"text-slate-500 mb-6",children:"Aquí puedes ver un resumen de tu trabajo en clases por cada asignatura."}),o&&o.rangoActual&&A.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 text-white p-6 rounded-xl mb-8 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm opacity-80",children:"RANGO ACTUAL"}),A.jsx("h2",{className:"text-3xl font-bold",children:o.rangoActual.nombre}),A.jsx("button",{onClick:()=>f(!0),className:"mt-2 text-xs font-semibold bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full",children:"Ver todos los logros"})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-7xl",children:o.rangoActual.emoji}),A.jsx("p",{className:"font-bold text-2xl mt-2",children:o.promedio.toFixed(1)}),A.jsx("p",{className:"text-sm opacity-80",children:"Promedio General"})]})]}),b.length>0?A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(N=>A.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-5 flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800",children:N.asignatura}),A.jsx("p",{className:"text-sm text-slate-500",children:"Promedio Formativo"})]}),A.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-3xl ${S(N.promedio)}`,children:N.promedio})]}),A.jsxs("div",{className:"flex-grow space-y-2 pt-4 border-t border-slate-200",children:[A.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Detalle de Actividades:"}),N.actividades.map(B=>A.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-slate-700",children:B.nombreActividad}),A.jsx("p",{className:"text-xs text-slate-500",children:new Date(B.fecha+"T12:00:00").toLocaleDateString("es-CL")})]}),A.jsx("span",{className:`font-semibold ${B.estado==="Trabajado"?"text-green-600":"text-red-600"}`,children:B.estado==="Trabajado"?"✅ Trabajado":"❌ No Trabajado"})]},B.id))]})]},N.asignatura))}):A.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-lg",children:[A.jsx("span",{className:"text-5xl",children:"📊"}),A.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"Aún sin registros"}),A.jsx("p",{className:"text-slate-500 mt-2",children:"Todavía no tienes evaluaciones formativas registradas por tus profesores."})]})]}),y.length>0&&A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Trabajos Grupales"}),A.jsx("div",{className:"space-y-4",children:y.map(N=>{const B=N.miGrupo.integrantes.filter(k=>k.nombre!==e.nombreCompleto&&k.rol).map(k=>k.rol),_=BF.filter(k=>!B.includes(k));return A.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[A.jsx("h3",{className:"font-bold text-slate-800",children:N.nombreActividad}),A.jsxs("p",{className:"text-sm text-slate-500",children:[N.asignatura," - Presentación: ",new Date(N.fechaPresentacion+"T12:00:00").toLocaleDateString("es-CL")]}),A.jsxs("div",{className:"mt-3 pt-3 border-t",children:[A.jsxs("h4",{className:"font-semibold text-sm",children:["Grupo ",N.miGrupo.numero]}),A.jsx("ul",{className:"list-disc list-inside text-sm mt-2 space-y-2",children:N.miGrupo.integrantes.map(k=>A.jsxs("li",{className:"grid grid-cols-2 items-center",children:[A.jsx("span",{className:k.nombre===e.nombreCompleto?"font-bold":"",children:k.nombre}),k.nombre===e.nombreCompleto?A.jsxs("select",{value:k.rol||"",onChange:U=>E(N.id,U.target.value),className:"text-sm p-1 border rounded w-full",children:[A.jsx("option",{value:"",children:"-- Seleccionar rol --"}),k.rol&&!_.includes(k.rol)&&A.jsx("option",{value:k.rol,children:k.rol}),_.map(U=>A.jsx("option",{value:U,children:U},U))]}):A.jsx("span",{className:"text-xs italic bg-slate-200 px-2 py-1 rounded-full",children:k.rol||"Sin rol"})]},k.nombre))})]})]},N.id)})})]})]})},a2e="planificacionesInterdisciplinarias",Bk="entregasTareasInterdisciplinarias",s2e=({currentUser:e})=>{const[t,r]=X.useState([]),[n,a]=X.useState([]),[s,i]=X.useState(null);X.useEffect(()=>{const p=()=>{try{const g=localStorage.getItem(a2e);g&&r(JSON.parse(g));const b=localStorage.getItem(Bk);b&&a(JSON.parse(b))}catch(g){console.error("Error al cargar datos desde localStorage",g)}};return p(),window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[]);const o=X.useMemo(()=>t.filter(p=>p.cursos.includes(e.curso||"")),[t,e.curso]),c=p=>{a(p),localStorage.setItem(Bk,JSON.stringify(p)),window.dispatchEvent(new Event("storage"))},u=(p,g)=>{let b=n.find(y=>y.planificacionId===p&&y.tareaId===g&&y.estudianteId===e.id);return b||(b={id:crypto.randomUUID(),planificacionId:p,tareaId:g,estudianteId:e.id,estudianteNombre:e.nombreCompleto,completada:!1}),b},f=p=>{const g=n.findIndex(y=>y.id===p.id);let b;g>-1?b=n.map(y=>y.id===p.id?p:y):b=[...n,p],c(b)},h=({plan:p,tarea:g})=>{const b=X.useMemo(()=>u(p.id,g.id),[p.id,g.id,n]),[y,E]=X.useState(!1),[S,N]=X.useState({observaciones:b.observacionesEstudiante||"",enlace:b.enlaceUrl||""}),B=U=>{var L;const F=(L=U.target.files)==null?void 0:L[0];if(F){const D=new FileReader;D.onloadend=()=>{f({...b,archivoAdjunto:{nombre:F.name,url:D.result},fechaCompletado:new Date().toISOString()})},D.readAsDataURL(F)}},_=()=>{f({...b,observacionesEstudiante:S.observaciones,enlaceUrl:S.enlace,fechaCompletado:new Date().toISOString()})},k=()=>{f({...b,completada:!b.completada,fechaCompletado:new Date().toISOString()})};return A.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700/50 rounded-lg border dark:border-slate-600",children:[A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("input",{type:"checkbox",checked:b.completada,onChange:k,className:"mt-1 h-5 w-5 rounded text-amber-500 focus:ring-amber-400"}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("p",{className:`font-semibold ${b.completada?"line-through text-slate-500":"text-slate-800"}`,children:["Tarea ",g.numero,": ",g.instrucciones]}),A.jsxs("p",{className:"text-xs text-slate-500",children:["Fecha de entrega: ",g.fechaEntrega]}),g.recursoUrl&&A.jsx("a",{href:g.recursoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"Ver Recurso"})]}),A.jsx("button",{onClick:()=>E(!y),className:"text-sm font-semibold",children:y?"Ocultar":"Entregar"})]}),y&&A.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t dark:border-slate-600 space-y-3 animate-fade-in-up",children:[A.jsx("textarea",{value:S.observaciones,onChange:U=>N({...S,observaciones:U.target.value}),onBlur:_,placeholder:"Añadir observaciones o comentarios...",rows:2,className:"w-full text-sm p-1 border rounded"}),A.jsx("input",{type:"url",value:S.enlace,onChange:U=>N({...S,enlace:U.target.value}),onBlur:_,placeholder:"Pegar un enlace (ej: Google Docs, video)...",className:"w-full text-sm p-1 border rounded"}),A.jsx("input",{type:"file",onChange:B,className:"text-sm"}),b.archivoAdjunto&&A.jsxs("p",{className:"text-xs text-green-600",children:["✓ Archivo subido: ",b.archivoAdjunto.nombre]})]}),b.feedbackProfesor&&A.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t border-amber-300 bg-amber-50 dark:bg-amber-900/20 p-2 rounded",children:[A.jsx("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:"Retroalimentación del profesor:"}),A.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:b.feedbackProfesor})]})]})};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Tareas Interdisciplinarias"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Revisa y completa las tareas de tus proyectos."})]}),o.length>0?o.map(p=>{const g=p.tareas||[],y=n.filter(S=>S.planificacionId===p.id&&S.estudianteId===e.id).filter(S=>S.completada).length,E=g.length>0?y/g.length*100:0;return A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsxs("button",{onClick:()=>i(s===p.id?null:p.id),className:"w-full text-left",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:p.nombreProyecto}),A.jsxs("div",{className:"mt-2 space-y-1",children:[A.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-500",children:[A.jsx("span",{children:"Progreso"}),A.jsxs("span",{children:[Math.round(E),"%"]})]}),A.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:A.jsx("div",{className:"bg-amber-500 h-2.5 rounded-full",style:{width:`${E}%`}})})]})]}),s===p.id&&A.jsx("div",{className:"mt-4 pt-4 border-t space-y-3",children:g.length>0?g.map(S=>A.jsx(h,{plan:p,tarea:S},S.id)):A.jsx("p",{className:"text-slate-500 text-center",children:"Este proyecto aún no tiene tareas asignadas."})})]},p.id)}):A.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[A.jsx("span",{className:"text-5xl",children:"🎉"}),A.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"¡Todo al día!"}),A.jsx("p",{className:"text-slate-500 mt-2",children:"No tienes tareas de proyectos interdisciplinarios asignadas por el momento."})]})]})},i2e="acompanamientoDocenteRecords",o2e="acompanamientoDocenteCustomRubrica",l2e=({data:e})=>A.jsx("div",{className:"space-y-4",children:e.map((r,n)=>A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[A.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:r.label.replace("Dominio A: ","A: ").replace("Dominio B: ","B: ").replace("Dominio C: ","C: ")}),A.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:[r.value.toFixed(2)," / 4.00"]})]}),A.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:A.jsx("div",{className:"bg-sky-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${r.value/4*100}%`}})})]},r.label+n))}),c2e=({currentUser:e})=>{const[t,r]=X.useState([]),[n,a]=X.useState(null),[s,i]=X.useState(p1);X.useEffect(()=>{try{const u=localStorage.getItem(i2e);if(u){const p=JSON.parse(u).filter(g=>g.docente===e.nombreCompleto).sort((g,b)=>new Date(b.fecha).getTime()-new Date(g.fecha).getTime());r(p)}const f=localStorage.getItem(o2e);f&&i(JSON.parse(f))}catch(u){console.error("Error al cargar datos de acompañamiento",u)}},[e.nombreCompleto]);const o=X.useMemo(()=>{if(!n)return[];const u={};return s.forEach(f=>{u[f.domain]={total:0,count:0},f.criteria.forEach(h=>{const p=n.rubricaResultados[h.name];p&&(u[f.domain].total+=p,u[f.domain].count++)})}),Object.entries(u).map(([f,h])=>({label:f,value:h.count>0?h.total/h.count:0}))},[n,s]),c=u=>{const f=new Wt;f.setFont("helvetica","bold"),f.setFontSize(16),f.text("Informe de Acompañamiento Docente",105,20,{align:"center"}),f.setFontSize(12),f.setFont("helvetica","normal"),xo(f,{startY:30,body:[["Docente:",u.docente],["Fecha:",new Date(u.fecha).toLocaleDateString("es-CL")],["Asignatura:",u.asignatura],["Curso:",u.curso]],theme:"plain"});let h=f.lastAutoTable.finalY+10;const p=(g,b)=>{if(!b)return;h>250&&(f.addPage(),h=20),f.setFont("helvetica","bold"),f.setFontSize(14),f.text(g,14,h),h+=8,f.setFont("helvetica","normal"),f.setFontSize(11);const y=f.splitTextToSize(b.replace(/## /g,"").replace(/(\*\*|\*)/g,""),180);f.text(y,14,h),h+=y.length*5+10};p("Observaciones Generales",u.observacionesGenerales),p("Retroalimentación Consolidada",u.retroalimentacionConsolidada),f.save(`Acompanamiento_${e.nombreCompleto.replace(/\s/g,"_")}.pdf`)};return n?A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("div",{children:[A.jsx("button",{onClick:()=>a(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:"← Volver a mi historial"}),A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Detalle del Acompañamiento"}),A.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[new Date(n.fecha).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})," | ",n.curso," - ",n.asignatura]})]}),A.jsxs("button",{onClick:()=>c(n),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-red-700",children:[A.jsx(SF,{})," Exportar PDF"]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsx("div",{className:"lg:col-span-2 space-y-6",children:A.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[A.jsx("h3",{children:"Retroalimentación Consolidada (IA)"}),A.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:A.jsx("p",{className:"whitespace-pre-wrap",children:n.retroalimentacionConsolidada||"No se ha generado retroalimentación."})}),A.jsx("h3",{children:"Observaciones Generales"}),A.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:A.jsx("p",{className:"whitespace-pre-wrap",children:n.observacionesGenerales||"Sin observaciones."})})]})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Desempeño por Dominio"}),A.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:A.jsx(l2e,{data:o})})]})]})]}):A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Mis Acompañamientos"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Aquí encontrarás el historial de tus observaciones de clase y la retroalimentación asociada."}),A.jsx("div",{className:"space-y-4",children:t.length>0?t.map(u=>A.jsx("button",{onClick:()=>a(u),className:"w-full text-left p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[u.curso," - ",u.asignatura]}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(u.fecha).toLocaleDateString("es-CL")]})]}),A.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 text-sm",children:"Ver Detalles"})]})},u.id)):A.jsxs("div",{className:"text-center py-16 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[A.jsx("span",{className:"text-5xl",children:"👍"}),A.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700 dark:text-slate-300",children:"Sin Registros"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Aún no tienes acompañamientos de clase registrados."})]})})]})},A2e="planificacionesDocente",u2e=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),d2e=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),f2e=({plan:e,onClose:t})=>{const r=a=>A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",a.objetivosAprendizaje]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Indicadores de Evaluación:"})," ",a.indicadoresEvaluacion]}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:[A.jsx("strong",{children:"Contenidos Clave:"})," ",a.contenidos]})]}),A.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 border-b pb-2",children:["Secuencia de Clases (",a.cantidadClases,")"]}),A.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto pr-2",children:a.detallesLeccion.map((s,i)=>A.jsxs("div",{className:"p-3 border dark:border-slate-600 rounded-md bg-white dark:bg-slate-800",children:[A.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:["Clase ",i+1,": ",s.actividades]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 mt-2 text-sm text-slate-600 dark:text-slate-400",children:[A.jsxs("span",{children:[A.jsx("strong",{children:"Objetivo:"})," ",s.objetivosAprendizaje]}),A.jsxs("span",{children:[A.jsx("strong",{children:"Contenidos:"})," ",s.contenidosConceptuales]}),A.jsxs("span",{children:[A.jsx("strong",{children:"Habilidad (Bloom):"})," ",s.habilidadesBloom]}),A.jsxs("span",{children:[A.jsx("strong",{children:"Perfil de Egreso:"})," ",s.perfilEgreso]}),A.jsxs("span",{className:"md:col-span-2",children:[A.jsx("strong",{children:"Interdisciplinariedad:"})," ",s.asignaturasInterdisciplinariedad]})]})]},i))})]}),n=a=>A.jsxs("div",{className:"space-y-4",children:[A.jsxs("p",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[A.jsx("strong",{children:"Contenidos:"})," ",a.contenidos]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:"Inicio"}),A.jsx("p",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600 whitespace-pre-wrap",children:a.momentosClase.inicio})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:"Desarrollo"}),A.jsx("p",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600 whitespace-pre-wrap",children:a.momentosClase.desarrollo})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:"Cierre"}),A.jsx("p",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600 whitespace-pre-wrap",children:a.momentosClase.cierre})]})]})]});return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:t,children:A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:a=>a.stopPropagation(),children:[A.jsxs("header",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:e.tipo==="Unidad"?e.nombreUnidad:e.nombreClase}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.asignatura," | ",e.nivel," | Autor: ",e.autor||"N/A"]})]}),A.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:A.jsx(d2e,{})})]}),A.jsx("main",{className:"p-4 flex-1 overflow-y-auto",children:e.tipo==="Unidad"?r(e):n(e)})]})})},h2e=()=>{const[e,t]=X.useState([]),[r,n]=X.useState("1º"),[a,s]=X.useState(null),[i,o]=X.useState(null),c=X.useCallback(()=>{try{const p=localStorage.getItem(A2e);p&&t(JSON.parse(p))}catch(p){console.error("Error al leer planificaciones de localStorage",p)}},[]);X.useEffect(()=>(c(),window.addEventListener("storage",c),()=>{window.removeEventListener("storage",c)}),[c]);const u=X.useMemo(()=>{const g={"1º":"1º Medio","2º":"2º Medio","3º":"3º Medio","4º":"4º Medio"}[r];return e.filter(b=>b.nivel===g)},[e,r]),f=p=>{s(g=>g===p?null:p)},h=[{key:"1º",label:"1º Medio"},{key:"2º",label:"2º Medio"},{key:"3º",label:"3º Medio"},{key:"4º",label:"4º Medio"}];return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in max-w-4xl mx-auto",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Seguimiento Curricular"}),A.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:A.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:h.map(p=>A.jsx("button",{onClick:()=>n(p.key),className:`${r===p.key?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg transition-colors focus:outline-none`,children:p.label},p.key))})}),A.jsx("div",{className:"space-y-4",children:Oi.map(p=>{const g=u.filter(y=>y.asignatura===p);if(g.length===0)return null;const b=a===p;return A.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[A.jsxs("button",{onClick:()=>f(p),className:"w-full flex justify-between items-center p-4 text-left",children:[A.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:p}),A.jsx("span",{className:`transform transition-transform duration-200 ${b?"rotate-180":""}`,children:A.jsx(u2e,{})})]}),b&&A.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 animate-fade-in-up",children:A.jsx("ul",{className:"space-y-3",children:g.length>0?g.map(y=>A.jsx("li",{children:A.jsxs("button",{onClick:()=>o(y),className:"w-full text-left p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[A.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:y.tipo==="Unidad"?y.nombreUnidad:y.nombreClase}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Autor: ",y.autor||"No especificado"," - Creado: ",new Date(y.fechaCreacion).toLocaleDateString("es-CL")]})]})},y.id)):A.jsx("li",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No hay planificaciones para esta asignatura."})})})]},p)})})]}),i&&A.jsx(f2e,{plan:i,onClose:()=>o(null)})]})},Nk="analisisTaxonomicos",_k=["Recordar","Comprender","Aplicar","Analizar","Evaluar","Crear"],Tk={Recordar:"bg-sky-500",Comprender:"bg-blue-500",Aplicar:"bg-green-500",Analizar:"bg-yellow-500",Evaluar:"bg-orange-500",Crear:"bg-red-500"},m2e=()=>A.jsxs("svg",{className:"animate-spin h-5 w-5 text-slate-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),kk=({currentUser:e})=>{const[t,r]=X.useState([]),[n,a]=X.useState(null),[s,i]=X.useState(""),[o,c]=X.useState(!1),[u,f]=X.useState(null),[h,p]=X.useState(null),[g,b]=X.useState(null);X.useEffect(()=>{try{const _=localStorage.getItem(Nk);if(_){const k=JSON.parse(_);r(k)}}catch(_){console.error("Error al cargar historial de análisis",_)}},[]);const y=_=>{r(_),localStorage.setItem(Nk,JSON.stringify(_))},E=async _=>{var U;const k=(U=_.target.files)==null?void 0:U[0];if(k){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(k.type)){f("Por favor, suba un archivo PDF o DOCX válido."),p(null),b(null),i("");return}p(k),i(k.name),f(null);const L=new FileReader;L.onloadend=()=>{const D=L.result.split(",")[1];if(!D){f("No se pudo procesar el archivo. Puede que esté vacío o corrupto."),b(null);return}b({mimeType:k.type,data:D})},L.onerror=()=>{f("Error al leer el archivo."),b(null)},L.readAsDataURL(k)}},S=async()=>{if(!s.trim()||!g){f("Debe subir un documento PDF o DOCX y asignarle un nombre para analizar.");return}c(!0),f(null);const _=`
            Eres un experto en pedagogía y en la Taxonomía de Bloom. Analiza el siguiente documento de una evaluación educativa.
            Tu tarea es:
            1. Identificar cada pregunta o ítem de evaluación en el documento.
            2. Clasificar cada pregunta en uno de los seis niveles de la Taxonomía de Bloom: Recordar, Comprender, Aplicar, Analizar, Evaluar, Crear.
            3. Devolver un objeto JSON estructurado con los resultados.
        `,k={type:xt.OBJECT,properties:{analysisResults:{type:xt.ARRAY,description:"Un array con cada pregunta identificada y su clasificación de Bloom.",items:{type:xt.OBJECT,properties:{question:{type:xt.STRING,description:"El texto exacto de la pregunta."},habilidadBloom:{type:xt.STRING,description:"El nivel de Bloom correspondiente.",enum:_k}},required:["question","habilidadBloom"]}},summary:{type:xt.OBJECT,description:"Un resumen con el conteo de preguntas por cada nivel de Bloom.",properties:{Recordar:{type:xt.INTEGER},Comprender:{type:xt.INTEGER},Aplicar:{type:xt.INTEGER},Analizar:{type:xt.INTEGER},Evaluar:{type:xt.INTEGER},Crear:{type:xt.INTEGER}}}},required:["analysisResults","summary"]};try{gi("Análisis Taxonómico");const U=new Oa({apiKey:void 0}),F={inlineData:{mimeType:g.mimeType,data:g.data}},L=await U.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:_},F]},config:{responseMimeType:"application/json",responseSchema:k}}),D=JSON.parse(L.text),W={id:crypto.randomUUID(),documentName:s,uploadDate:new Date().toISOString(),userId:e.id,analysisResults:D.analysisResults,summary:D.summary},O=[W,...t];y(O),a(W),i(""),p(null),b(null)}catch(U){console.error(U),f("Hubo un error al analizar el documento. Asegúrese de que el archivo no esté protegido o vacío. Inténtelo de nuevo.")}finally{c(!1)}},N=_=>{if(window.confirm("¿Está seguro de eliminar este análisis?")){const k=t.filter(U=>U.id!==_);y(k),(n==null?void 0:n.id)===_&&a(null)}},B=X.useMemo(()=>n?Object.values(n.summary).reduce((_,k)=>_+(k||0),0):0,[n]);return A.jsxs("div",{className:"space-y-8 animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Análisis Taxonómico de Evaluaciones"}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Analizar Nuevo Documento"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subir Archivo (.pdf, .docx)"}),A.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md",children:A.jsxs("div",{className:"space-y-1 text-center",children:[A.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:A.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),A.jsxs("div",{className:"flex text-sm text-slate-600 dark:text-slate-400",children:[A.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-amber-600 hover:text-amber-500 focus-within:outline-none",children:[A.jsx("span",{children:"Cargue un archivo"}),A.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:E,accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"})]}),A.jsx("p",{className:"pl-1",children:"o arrástrelo aquí"})]}),A.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:h?h.name:"PDF, DOCX hasta 10MB"})]})})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre del Documento/Prueba"}),A.jsx("input",{type:"text",id:"documentName",value:s,onChange:_=>i(_.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),u&&A.jsx("p",{className:"text-sm text-red-600 bg-red-100 p-3 rounded-md",children:u}),A.jsx("button",{onClick:S,disabled:o||!g,className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center",children:o?A.jsx(m2e,{}):"Analizar con IA"})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Análisis"}),A.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:t.length>0?t.map(_=>A.jsxs("button",{onClick:()=>a(_),className:`w-full text-left p-3 rounded-md border ${(n==null?void 0:n.id)===_.id?"bg-amber-100 border-amber-300 dark:bg-amber-900/30 dark:border-amber-700":"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[A.jsx("p",{className:"font-semibold truncate",children:_.documentName}),A.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(_.uploadDate).toLocaleString("es-CL")})]},_.id)):A.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No hay análisis guardados."})})]})]}),A.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:n?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:n.documentName}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Analizado el ",new Date(n.uploadDate).toLocaleString("es-CL")]})]}),A.jsx("button",{onClick:()=>N(n.id),className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:"Eliminar"})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:["Consolidado Taxonómico (",B," preguntas)"]}),A.jsx("div",{className:"space-y-3",children:_k.map(_=>{const k=n.summary[_]||0,U=B>0?k/B*100:0;return A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[A.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:_}),A.jsxs("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:[k," (",U.toFixed(0),"%)"]})]}),A.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:A.jsx("div",{className:`${Tk[_]} h-4 rounded-full`,style:{width:`${U}%`}})})]},_)})})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Detalle del Análisis"}),A.jsx("div",{className:"overflow-x-auto max-h-96 border rounded-lg dark:border-slate-700",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase w-3/4",children:"Pregunta / Ítem"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Habilidad (Bloom)"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:n.analysisResults.map((_,k)=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:_.question}),A.jsx("td",{className:"px-4 py-3 text-sm",children:A.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full text-white ${Tk[_.habilidadBloom]}`,children:_.habilidadBloom})})]},k))})]})})]})]}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[A.jsx("span",{className:"text-6xl mb-4 text-slate-400",children:"📊"}),A.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:"Resultados del Análisis"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Realice un nuevo análisis o seleccione uno del historial para ver los resultados aquí."})]})})]})]})},p2e=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},g2e=({currentUser:e,onLogout:t,onUserUpdate:r,onChangeProfile:n,unreadMessagesCount:a,refreshUnreadCount:s})=>{const i=e.profile,o=X.useMemo(()=>{const E=lO[i];return i!==Kt.ESTUDIANTE?E:E.filter(S=>{if(S.name==="Asistencia a Empresa"){const N=p2e(e.curso||"");return N.startsWith("3º")||N.startsWith("4º")}return!0})},[i,e.curso]),[c,u]=X.useState(null),[f,h]=X.useState(!1);X.useEffect(()=>{o&&o.length>0?u(o[0]):u(null)},[i,o]);const p=X.useCallback(E=>{u(E),window.innerWidth<768&&h(!1)},[]),g=X.useCallback(E=>{const S=o.find(N=>N.name===E);S&&p(S)},[o,p]),b=()=>A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex items-center justify-center h-16 border-b border-slate-700 px-4 flex-shrink-0",children:[A.jsx(Kj,{}),A.jsx("span",{className:"ml-3 text-white font-bold text-xl whitespace-nowrap",children:"Gestión LIR"})]}),A.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto sidebar-scroll",children:o.map(E=>A.jsxs("button",{onClick:()=>p(E),className:`w-full flex items-center py-3 px-4 rounded-lg transition-colors duration-200 text-left ${(c==null?void 0:c.name)===E.name?"bg-slate-900 text-amber-400 font-semibold":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[E.icon,A.jsx("span",{className:"ml-4",children:E.name})]},E.name))})]}),y=()=>{if(!c)return A.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex items-center justify-center",children:A.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xl",children:"Seleccione un módulo del menú para comenzar."})});if(c.name==="Calendario Académico")return A.jsx(jW,{profile:i});if(c.name==="Muro de Anuncios")return A.jsx(OW,{currentUser:e});if(c.name==="Mensajería Interna")return A.jsx(hce,{currentUser:e,refreshUnreadCount:s});if(c.name==="Generador de Actas")return A.jsx(HW,{});if(i===Kt.SUBDIRECCION){if(c.name==="Dashboard")return A.jsx(EO,{});if(c.name==="Administración")return A.jsx(Mle,{});if(c.name==="Seguimiento Curricular")return A.jsx(h2e,{});if(c.name==="Acompañamiento docente")return A.jsx(dce,{});if(c.name==="Análisis Taxonómico")return A.jsx(kk,{currentUser:e});if(c.name==="Interdisciplinario")return A.jsx(bT,{});if(c.name==="Registro de inasistencias y reemplazos docentes")return A.jsx(wO,{});if(c.name==="Crear horarios")return A.jsx(_W,{});if(c.name==="Seguimiento de acciones pedagógicas")return A.jsx(kW,{});if(c.name==="Inclusión")return A.jsx(f3,{currentUser:e})}if(i===Kt.PROFESORADO){if(c.name==="Planificación")return A.jsx(LW,{currentUser:e});if(c.name==="Mis Acompañamientos")return A.jsx(c2e,{currentUser:e});if(c.name==="Recursos de Aprendizaje")return A.jsx(e2e,{});if(c.name==="Análisis Taxonómico")return A.jsx(kk,{currentUser:e});if(c.name==="Interdisciplinario")return A.jsx(bT,{});if(c.name==="Inclusión")return A.jsx(f3,{currentUser:e});if(c.name==="Actividades Remotas")return A.jsx(Gle,{});if(c.name==="Evaluación de Aprendizajes")return A.jsx(UY,{});if(c.name==="Evaluaciones Formativas")return A.jsx(Ace,{currentUser:e})}if(i===Kt.COORDINACION_TP){if(c.name==="Seguimiento Dual")return A.jsx(Ole,{});if(c.name==="Asistencia Dual")return A.jsx(ace,{});if(c.name==="Pañol")return A.jsx(J0e,{})}if(i===Kt.ESTUDIANTE){if(c.name==="Auto-aprendizaje")return A.jsx($le,{currentUser:e});if(c.name==="Evaluación Formativa")return A.jsx(n2e,{currentUser:e});if(c.name==="Tareas Interdisciplinarias")return A.jsx(s2e,{currentUser:e});if(c.name==="Asistencia a Empresa")return A.jsx(Zle,{currentUser:e})}return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full animate-fade-in",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:c.name}),A.jsx("div",{className:"border-l-4 border-amber-400 pl-4",children:A.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:["Aquí irá la funcionalidad de ",A.jsx("span",{className:"font-semibold",children:c.name}),"."]})})]})};return A.jsxs("div",{className:"h-screen flex flex-col bg-slate-100",children:[A.jsx(pO,{currentUser:e,onLogout:t,onNavigate:g,onUserUpdate:r,onChangeProfile:n,toggleSidebar:()=>h(!f),unreadMessagesCount:a,refreshUnreadCount:s}),A.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f&&A.jsx("div",{onClick:()=>h(!1),className:"fixed inset-0 bg-black opacity-50 z-20 md:hidden"}),A.jsx("aside",{className:`fixed md:relative z-30 inset-y-0 left-0 w-72 bg-slate-800 text-white flex flex-col transform md:translate-x-0 ${f?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,children:A.jsx(b,{})}),A.jsx("main",{className:"flex-1 overflow-y-auto",children:A.jsx("div",{className:"p-6 md:p-8",children:y()})})]})]})},x2e=({onSelectProfile:e,isAdminView:t=!1})=>A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[A.jsxs("div",{className:"text-center mb-10",children:[A.jsx("div",{className:"mb-4 flex justify-center items-center",children:A.jsx(EF,{})}),A.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestión Pedagógica LIR"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:t?"Como administrador, seleccione el perfil que desea visualizar:":"Seleccione su perfil para continuar"})]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-6xl",children:oO.map(r=>A.jsxs("button",{onClick:()=>e(r.id),className:"group bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-amber-400 focus:ring-opacity-50 transition-all duration-300 ease-in-out flex flex-col items-center justify-center text-center",children:[A.jsx("div",{className:"text-slate-700 dark:text-slate-300 group-hover:text-amber-400 transition-colors duration-300",children:r.icon}),A.jsx("h2",{className:"text-xl font-semibold mt-4 text-slate-800 dark:text-slate-200",children:r.label})]},r.id))}),A.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:["© ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]}),v2e=()=>{const[e,t]=X.useState(null),[r,n]=X.useState(null),[a,s]=X.useState(!1),[i,o]=X.useState(null);X.useEffect(()=>{const p=_P(uw,g=>{t(g)});return()=>p()},[]);const c=async(p,g)=>{n(null);try{await SP(uw,p,g),p.toLowerCase()==="subdi@lir.cl"?s(!0):s(!1)}catch{n("Credenciales incorrectas o usuario no registrado.")}},u=p=>{o(p),s(!1)},f=async()=>{await TP(uw),t(null),o(null),s(!1)},h=()=>e&&a?A.jsx(x2e,{onSelectProfile:u,isAdminView:!0}):e?A.jsx(g2e,{currentUser:e,adminProfile:i,onLogout:f}):A.jsx(dO,{onLoginAttempt:c,error:r});return A.jsx("div",{className:"min-h-screen bg-slate-100 font-sans",children:h()})},IL=document.getElementById("root");if(!IL)throw new Error("Could not find root element to mount to");const w2e=GR.createRoot(IL);w2e.render(A.jsx(at.StrictMode,{children:A.jsx(v2e,{})}));export{An as _,y2e as c,wC as g};
