var yxe=Object.defineProperty;var wxe=(e,t,r)=>t in e?yxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fg=(e,t,r)=>wxe(e,typeof t!="symbol"?t+"":t,r);function Cxe(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var LEt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Exe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var nI={exports:{}},gw={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w$;function Sxe(){if(w$)return gw;w$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var i=null;if(s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),"key"in a){s={};for(var o in a)o!=="key"&&(s[o]=a[o])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:i,ref:a!==void 0?a:null,props:s}}return gw.Fragment=t,gw.jsx=r,gw.jsxs=r,gw}var C$;function _xe(){return C$||(C$=1,nI.exports=Sxe()),nI.exports}var l=_xe(),aI={exports:{}},mn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E$;function Nxe(){if(E$)return mn;E$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function h(Y){return Y===null||typeof Y!="object"?null:(Y=f&&Y[f]||Y["@@iterator"],typeof Y=="function"?Y:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,x={};function v(Y,ee,M){this.props=Y,this.context=ee,this.refs=x,this.updater=M||p}v.prototype.isReactComponent={},v.prototype.setState=function(Y,ee){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ee,"setState")},v.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function y(){}y.prototype=v.prototype;function w(Y,ee,M){this.props=Y,this.context=ee,this.refs=x,this.updater=M||p}var E=w.prototype=new y;E.constructor=w,g(E,v.prototype),E.isPureReactComponent=!0;var k=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function C(Y,ee,M,H,W,Z){return M=Z.ref,{$$typeof:e,type:Y,key:ee,ref:M!==void 0?M:null,props:Z}}function N(Y,ee){return C(Y.type,ee,void 0,void 0,void 0,Y.props)}function I(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function L(Y){var ee={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(M){return ee[M]})}var O=/\/+/g;function T(Y,ee){return typeof Y=="object"&&Y!==null&&Y.key!=null?L(""+Y.key):ee.toString(36)}function P(){}function R(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(P,P):(Y.status="pending",Y.then(function(ee){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ee)},function(ee){Y.status==="pending"&&(Y.status="rejected",Y.reason=ee)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function q(Y,ee,M,H,W){var Z=typeof Y;(Z==="undefined"||Z==="boolean")&&(Y=null);var ae=!1;if(Y===null)ae=!0;else switch(Z){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(Y.$$typeof){case e:case t:ae=!0;break;case d:return ae=Y._init,q(ae(Y._payload),ee,M,H,W)}}if(ae)return W=W(Y),ae=H===""?"."+T(Y,0):H,k(W)?(M="",ae!=null&&(M=ae.replace(O,"$&/")+"/"),q(W,ee,M,"",function(ce){return ce})):W!=null&&(I(W)&&(W=N(W,M+(W.key==null||Y&&Y.key===W.key?"":(""+W.key).replace(O,"$&/")+"/")+ae)),ee.push(W)),1;ae=0;var oe=H===""?".":H+":";if(k(Y))for(var se=0;se<Y.length;se++)H=Y[se],Z=oe+T(H,se),ae+=q(H,ee,M,Z,W);else if(se=h(Y),typeof se=="function")for(Y=se.call(Y),se=0;!(H=Y.next()).done;)H=H.value,Z=oe+T(H,se++),ae+=q(H,ee,M,Z,W);else if(Z==="object"){if(typeof Y.then=="function")return q(R(Y),ee,M,H,W);throw ee=String(Y),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ae}function Q(Y,ee,M){if(Y==null)return Y;var H=[],W=0;return q(Y,H,"","",function(Z){return ee.call(M,Z,W++)}),H}function G(Y){if(Y._status===-1){var ee=Y._result;ee=ee(),ee.then(function(M){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=M)},function(M){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=M)}),Y._status===-1&&(Y._status=0,Y._result=ee)}if(Y._status===1)return Y._result.default;throw Y._result}var K=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function z(){}return mn.Children={map:Q,forEach:function(Y,ee,M){Q(Y,function(){ee.apply(this,arguments)},M)},count:function(Y){var ee=0;return Q(Y,function(){ee++}),ee},toArray:function(Y){return Q(Y,function(ee){return ee})||[]},only:function(Y){if(!I(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},mn.Component=v,mn.Fragment=r,mn.Profiler=a,mn.PureComponent=w,mn.StrictMode=n,mn.Suspense=c,mn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,mn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return B.H.useMemoCache(Y)}},mn.cache=function(Y){return function(){return Y.apply(null,arguments)}},mn.cloneElement=function(Y,ee,M){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var H=g({},Y.props),W=Y.key,Z=void 0;if(ee!=null)for(ae in ee.ref!==void 0&&(Z=void 0),ee.key!==void 0&&(W=""+ee.key),ee)!j.call(ee,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&ee.ref===void 0||(H[ae]=ee[ae]);var ae=arguments.length-2;if(ae===1)H.children=M;else if(1<ae){for(var oe=Array(ae),se=0;se<ae;se++)oe[se]=arguments[se+2];H.children=oe}return C(Y.type,W,void 0,void 0,Z,H)},mn.createContext=function(Y){return Y={$$typeof:i,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},mn.createElement=function(Y,ee,M){var H,W={},Z=null;if(ee!=null)for(H in ee.key!==void 0&&(Z=""+ee.key),ee)j.call(ee,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(W[H]=ee[H]);var ae=arguments.length-2;if(ae===1)W.children=M;else if(1<ae){for(var oe=Array(ae),se=0;se<ae;se++)oe[se]=arguments[se+2];W.children=oe}if(Y&&Y.defaultProps)for(H in ae=Y.defaultProps,ae)W[H]===void 0&&(W[H]=ae[H]);return C(Y,Z,void 0,void 0,null,W)},mn.createRef=function(){return{current:null}},mn.forwardRef=function(Y){return{$$typeof:o,render:Y}},mn.isValidElement=I,mn.lazy=function(Y){return{$$typeof:d,_payload:{_status:-1,_result:Y},_init:G}},mn.memo=function(Y,ee){return{$$typeof:u,type:Y,compare:ee===void 0?null:ee}},mn.startTransition=function(Y){var ee=B.T,M={};B.T=M;try{var H=Y(),W=B.S;W!==null&&W(M,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(z,K)}catch(Z){K(Z)}finally{B.T=ee}},mn.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},mn.use=function(Y){return B.H.use(Y)},mn.useActionState=function(Y,ee,M){return B.H.useActionState(Y,ee,M)},mn.useCallback=function(Y,ee){return B.H.useCallback(Y,ee)},mn.useContext=function(Y){return B.H.useContext(Y)},mn.useDebugValue=function(){},mn.useDeferredValue=function(Y,ee){return B.H.useDeferredValue(Y,ee)},mn.useEffect=function(Y,ee,M){var H=B.H;if(typeof M=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(Y,ee)},mn.useId=function(){return B.H.useId()},mn.useImperativeHandle=function(Y,ee,M){return B.H.useImperativeHandle(Y,ee,M)},mn.useInsertionEffect=function(Y,ee){return B.H.useInsertionEffect(Y,ee)},mn.useLayoutEffect=function(Y,ee){return B.H.useLayoutEffect(Y,ee)},mn.useMemo=function(Y,ee){return B.H.useMemo(Y,ee)},mn.useOptimistic=function(Y,ee){return B.H.useOptimistic(Y,ee)},mn.useReducer=function(Y,ee,M){return B.H.useReducer(Y,ee,M)},mn.useRef=function(Y){return B.H.useRef(Y)},mn.useState=function(Y){return B.H.useState(Y)},mn.useSyncExternalStore=function(Y,ee,M){return B.H.useSyncExternalStore(Y,ee,M)},mn.useTransition=function(){return B.H.useTransition()},mn.version="19.1.1",mn}var S$;function qb(){return S$||(S$=1,aI.exports=Nxe()),aI.exports}var S=qb();const Ze=Tl(S),KN=Cxe({__proto__:null,default:Ze},[S]);var sI={exports:{}},xw={},iI={exports:{}},oI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _$;function kxe(){return _$||(_$=1,function(e){function t(Q,G){var K=Q.length;Q.push(G);e:for(;0<K;){var z=K-1>>>1,Y=Q[z];if(0<a(Y,G))Q[z]=G,Q[K]=Y,K=z;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var G=Q[0],K=Q.pop();if(K!==G){Q[0]=K;e:for(var z=0,Y=Q.length,ee=Y>>>1;z<ee;){var M=2*(z+1)-1,H=Q[M],W=M+1,Z=Q[W];if(0>a(H,K))W<Y&&0>a(Z,H)?(Q[z]=Z,Q[W]=K,z=W):(Q[z]=H,Q[M]=K,z=M);else if(W<Y&&0>a(Z,K))Q[z]=Z,Q[W]=K,z=W;else break e}}return G}function a(Q,G){var K=Q.sortIndex-G.sortIndex;return K!==0?K:Q.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(Q){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=Q)n(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(u)}}function B(Q){if(x=!1,k(Q),!g)if(r(c)!==null)g=!0,j||(j=!0,T());else{var G=r(u);G!==null&&q(B,G.startTime-Q)}}var j=!1,C=-1,N=5,I=-1;function L(){return v?!0:!(e.unstable_now()-I<N)}function O(){if(v=!1,j){var Q=e.unstable_now();I=Q;var G=!0;try{e:{g=!1,x&&(x=!1,w(C),C=-1),p=!0;var K=h;try{t:{for(k(Q),f=r(c);f!==null&&!(f.expirationTime>Q&&L());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var Y=z(f.expirationTime<=Q);if(Q=e.unstable_now(),typeof Y=="function"){f.callback=Y,k(Q),G=!0;break t}f===r(c)&&n(c),k(Q)}else n(c);f=r(c)}if(f!==null)G=!0;else{var ee=r(u);ee!==null&&q(B,ee.startTime-Q),G=!1}}break e}finally{f=null,h=K,p=!1}G=void 0}}finally{G?T():j=!1}}}var T;if(typeof E=="function")T=function(){E(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,R=P.port2;P.port1.onmessage=O,T=function(){R.postMessage(null)}}else T=function(){y(O,0)};function q(Q,G){C=y(function(){Q(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(Q){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var K=h;h=G;try{return Q()}finally{h=K}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(Q,G){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var K=h;h=Q;try{return G()}finally{h=K}},e.unstable_scheduleCallback=function(Q,G,K){var z=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?z+K:z):K=z,Q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=K+Y,Q={id:d++,callback:G,priorityLevel:Q,startTime:K,expirationTime:Y,sortIndex:-1},K>z?(Q.sortIndex=K,t(u,Q),r(c)===null&&Q===r(u)&&(x?(w(C),C=-1):x=!0,q(B,K-z))):(Q.sortIndex=Y,t(c,Q),g||p||(g=!0,j||(j=!0,T()))),Q},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(Q){var G=h;return function(){var K=h;h=G;try{return Q.apply(this,arguments)}finally{h=K}}}}(oI)),oI}var N$;function Txe(){return N$||(N$=1,iI.exports=kxe()),iI.exports}var lI={exports:{}},tl={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k$;function Bxe(){if(k$)return tl;k$=1;var e=qb();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(c,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:c,containerInfo:u,implementation:d}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return tl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,tl.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(c,u,null,d)},tl.flushSync=function(c){var u=i.T,d=n.p;try{if(i.T=null,n.p=2,c)return c()}finally{i.T=u,n.p=d,n.d.f()}},tl.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},tl.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},tl.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:p}):d==="script"&&n.d.X(c,{crossOrigin:f,integrity:h,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},tl.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},tl.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin);n.d.L(c,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},tl.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},tl.requestFormReset=function(c){n.d.r(c)},tl.unstable_batchedUpdates=function(c,u){return c(u)},tl.useFormState=function(c,u,d){return i.H.useFormState(c,u,d)},tl.useFormStatus=function(){return i.H.useHostTransitionStatus()},tl.version="19.1.1",tl}var T$;function xre(){if(T$)return lI.exports;T$=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lI.exports=Bxe(),lI.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B$;function jxe(){if(B$)return xw;B$=1;var e=Txe(),t=qb(),r=xre();function n(A){var m="https://react.dev/errors/"+A;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+A+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var m=A,b=A;if(A.alternate)for(;m.return;)m=m.return;else{A=m;do m=A,(m.flags&4098)!==0&&(b=m.return),A=m.return;while(A)}return m.tag===3?b:null}function i(A){if(A.tag===13){var m=A.memoizedState;if(m===null&&(A=A.alternate,A!==null&&(m=A.memoizedState)),m!==null)return m.dehydrated}return null}function o(A){if(s(A)!==A)throw Error(n(188))}function c(A){var m=A.alternate;if(!m){if(m=s(A),m===null)throw Error(n(188));return m!==A?null:A}for(var b=A,_=m;;){var U=b.return;if(U===null)break;var X=U.alternate;if(X===null){if(_=U.return,_!==null){b=_;continue}break}if(U.child===X.child){for(X=U.child;X;){if(X===b)return o(U),A;if(X===_)return o(U),m;X=X.sibling}throw Error(n(188))}if(b.return!==_.return)b=U,_=X;else{for(var ue=!1,ye=U.child;ye;){if(ye===b){ue=!0,b=U,_=X;break}if(ye===_){ue=!0,_=U,b=X;break}ye=ye.sibling}if(!ue){for(ye=X.child;ye;){if(ye===b){ue=!0,b=X,_=U;break}if(ye===_){ue=!0,_=X,b=U;break}ye=ye.sibling}if(!ue)throw Error(n(189))}}if(b.alternate!==_)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?A:m}function u(A){var m=A.tag;if(m===5||m===26||m===27||m===6)return A;for(A=A.child;A!==null;){if(m=u(A),m!==null)return m;A=A.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function T(A){return A===null||typeof A!="object"?null:(A=O&&A[O]||A["@@iterator"],typeof A=="function"?A:null)}var P=Symbol.for("react.client.reference");function R(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===P?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case g:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case B:return"Suspense";case j:return"SuspenseList";case I:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case p:return"Portal";case E:return(A.displayName||"Context")+".Provider";case w:return(A._context.displayName||"Context")+".Consumer";case k:var m=A.render;return A=A.displayName,A||(A=m.displayName||m.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case C:return m=A.displayName||null,m!==null?m:R(A.type)||"Memo";case N:m=A._payload,A=A._init;try{return R(A(m))}catch{}}return null}var q=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},z=[],Y=-1;function ee(A){return{current:A}}function M(A){0>Y||(A.current=z[Y],z[Y]=null,Y--)}function H(A,m){Y++,z[Y]=A.current,A.current=m}var W=ee(null),Z=ee(null),ae=ee(null),oe=ee(null);function se(A,m){switch(H(ae,m),H(Z,A),H(W,null),m.nodeType){case 9:case 11:A=(A=m.documentElement)&&(A=A.namespaceURI)?XH(A):0;break;default:if(A=m.tagName,m=m.namespaceURI)m=XH(m),A=YH(m,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}M(W),H(W,A)}function ce(){M(W),M(Z),M(ae)}function de(A){A.memoizedState!==null&&H(oe,A);var m=W.current,b=YH(m,A.type);m!==b&&(H(Z,A),H(W,b))}function ke(A){Z.current===A&&(M(W),M(Z)),oe.current===A&&(M(oe),fw._currentValue=K)}var re=Object.prototype.hasOwnProperty,_e=e.unstable_scheduleCallback,Ne=e.unstable_cancelCallback,Se=e.unstable_shouldYield,he=e.unstable_requestPaint,Be=e.unstable_now,Le=e.unstable_getCurrentPriorityLevel,Ge=e.unstable_ImmediatePriority,xe=e.unstable_UserBlockingPriority,Ie=e.unstable_NormalPriority,De=e.unstable_LowPriority,Ve=e.unstable_IdlePriority,We=e.log,at=e.unstable_setDisableYieldValue,ht=null,Tt=null;function Rt(A){if(typeof We=="function"&&at(A),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(ht,A)}catch{}}var Ft=Math.clz32?Math.clz32:Cr,Pt=Math.log,ut=Math.LN2;function Cr(A){return A>>>=0,A===0?32:31-(Pt(A)/ut|0)|0}var Kt=256,ln=4194304;function kr(A){var m=A&42;if(m!==0)return m;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Mr(A,m,b){var _=A.pendingLanes;if(_===0)return 0;var U=0,X=A.suspendedLanes,ue=A.pingedLanes;A=A.warmLanes;var ye=_&134217727;return ye!==0?(_=ye&~X,_!==0?U=kr(_):(ue&=ye,ue!==0?U=kr(ue):b||(b=ye&~A,b!==0&&(U=kr(b))))):(ye=_&~X,ye!==0?U=kr(ye):ue!==0?U=kr(ue):b||(b=_&~A,b!==0&&(U=kr(b)))),U===0?0:m!==0&&m!==U&&(m&X)===0&&(X=U&-U,b=m&-m,X>=b||X===32&&(b&4194048)!==0)?m:U}function En(A,m){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&m)===0}function Pr(A,m){switch(A){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(){var A=Kt;return Kt<<=1,(Kt&4194048)===0&&(Kt=256),A}function gr(){var A=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),A}function en(A){for(var m=[],b=0;31>b;b++)m.push(A);return m}function zn(A,m){A.pendingLanes|=m,m!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function rn(A,m,b,_,U,X){var ue=A.pendingLanes;A.pendingLanes=b,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=b,A.entangledLanes&=b,A.errorRecoveryDisabledLanes&=b,A.shellSuspendCounter=0;var ye=A.entanglements,Re=A.expirationTimes,ct=A.hiddenUpdates;for(b=ue&~b;0<b;){var kt=31-Ft(b),Lt=1<<kt;ye[kt]=0,Re[kt]=-1;var At=ct[kt];if(At!==null)for(ct[kt]=null,kt=0;kt<At.length;kt++){var pt=At[kt];pt!==null&&(pt.lane&=-536870913)}b&=~Lt}_!==0&&yr(A,_,0),X!==0&&U===0&&A.tag!==0&&(A.suspendedLanes|=X&~(ue&~m))}function yr(A,m,b){A.pendingLanes|=m,A.suspendedLanes&=~m;var _=31-Ft(m);A.entangledLanes|=m,A.entanglements[_]=A.entanglements[_]|1073741824|b&4194090}function tt(A,m){var b=A.entangledLanes|=m;for(A=A.entanglements;b;){var _=31-Ft(b),U=1<<_;U&m|A[_]&m&&(A[_]|=m),b&=~U}}function xt(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function et(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function vt(){var A=G.p;return A!==0?A:(A=window.event,A===void 0?32:m$(A.type))}function Ct(A,m){var b=G.p;try{return G.p=A,m()}finally{G.p=b}}var yt=Math.random().toString(36).slice(2),sr="__reactFiber$"+yt,Er="__reactProps$"+yt,nn="__reactContainer$"+yt,cn="__reactEvents$"+yt,tn="__reactListeners$"+yt,pe="__reactHandles$"+yt,Fe="__reactResources$"+yt,Ee="__reactMarker$"+yt;function we(A){delete A[sr],delete A[Er],delete A[cn],delete A[tn],delete A[pe]}function Te(A){var m=A[sr];if(m)return m;for(var b=A.parentNode;b;){if(m=b[nn]||b[sr]){if(b=m.alternate,m.child!==null||b!==null&&b.child!==null)for(A=t$(A);A!==null;){if(b=A[sr])return b;A=t$(A)}return m}A=b,b=A.parentNode}return null}function Oe(A){if(A=A[sr]||A[nn]){var m=A.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return A}return null}function Je(A){var m=A.tag;if(m===5||m===26||m===27||m===6)return A.stateNode;throw Error(n(33))}function ft(A){var m=A[Fe];return m||(m=A[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Ke(A){A[Ee]=!0}var nt=new Set,ot={};function Dt(A,m){Vt(A,m),Vt(A+"Capture",m)}function Vt(A,m){for(ot[A]=m,A=0;A<m.length;A++)nt.add(m[A])}var tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$t={},qt={};function Fr(A){return re.call(qt,A)?!0:re.call($t,A)?!1:tr.test(A)?qt[A]=!0:($t[A]=!0,!1)}function An(A,m,b){if(Fr(m))if(b===null)A.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":A.removeAttribute(m);return;case"boolean":var _=m.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){A.removeAttribute(m);return}}A.setAttribute(m,""+b)}}function hn(A,m,b){if(b===null)A.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(m);return}A.setAttribute(m,""+b)}}function vn(A,m,b,_){if(_===null)A.removeAttribute(b);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(b);return}A.setAttributeNS(m,b,""+_)}}var Ns,Vo;function ks(A){if(Ns===void 0)try{throw Error()}catch(b){var m=b.stack.trim().match(/\n( *(at )?)/);Ns=m&&m[1]||"",Vo=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+A+Vo}var mi=!1;function qs(A,m){if(!A||mi)return"";mi=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(m){var Lt=function(){throw Error()};if(Object.defineProperty(Lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Lt,[])}catch(pt){var At=pt}Reflect.construct(A,[],Lt)}else{try{Lt.call()}catch(pt){At=pt}A.call(Lt.prototype)}}else{try{throw Error()}catch(pt){At=pt}(Lt=A())&&typeof Lt.catch=="function"&&Lt.catch(function(){})}}catch(pt){if(pt&&At&&typeof pt.stack=="string")return[pt.stack,At.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var X=_.DetermineComponentFrameRoot(),ue=X[0],ye=X[1];if(ue&&ye){var Re=ue.split(`
`),ct=ye.split(`
`);for(U=_=0;_<Re.length&&!Re[_].includes("DetermineComponentFrameRoot");)_++;for(;U<ct.length&&!ct[U].includes("DetermineComponentFrameRoot");)U++;if(_===Re.length||U===ct.length)for(_=Re.length-1,U=ct.length-1;1<=_&&0<=U&&Re[_]!==ct[U];)U--;for(;1<=_&&0<=U;_--,U--)if(Re[_]!==ct[U]){if(_!==1||U!==1)do if(_--,U--,0>U||Re[_]!==ct[U]){var kt=`
`+Re[_].replace(" at new "," at ");return A.displayName&&kt.includes("<anonymous>")&&(kt=kt.replace("<anonymous>",A.displayName)),kt}while(1<=_&&0<=U);break}}}finally{mi=!1,Error.prepareStackTrace=b}return(b=A?A.displayName||A.name:"")?ks(b):""}function Oi(A){switch(A.tag){case 26:case 27:case 5:return ks(A.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return qs(A.type,!1);case 11:return qs(A.type.render,!1);case 1:return qs(A.type,!0);case 31:return ks("Activity");default:return""}}function Ta(A){try{var m="";do m+=Oi(A),A=A.return;while(A);return m}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function gi(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Bf(A){var m=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function F0(A){var m=Bf(A)?"checked":"value",b=Object.getOwnPropertyDescriptor(A.constructor.prototype,m),_=""+A[m];if(!A.hasOwnProperty(m)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var U=b.get,X=b.set;return Object.defineProperty(A,m,{configurable:!0,get:function(){return U.call(this)},set:function(ue){_=""+ue,X.call(this,ue)}}),Object.defineProperty(A,m,{enumerable:b.enumerable}),{getValue:function(){return _},setValue:function(ue){_=""+ue},stopTracking:function(){A._valueTracker=null,delete A[m]}}}}function wu(A){A._valueTracker||(A._valueTracker=F0(A))}function YA(A){if(!A)return!1;var m=A._valueTracker;if(!m)return!0;var b=m.getValue(),_="";return A&&(_=Bf(A)?A.checked?"true":"false":A.value),A=_,A!==b?(m.setValue(A),!0):!1}function Di(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var jf=/[\n"\\]/g;function Mn(A){return A.replace(jf,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Pi(A,m,b,_,U,X,ue,ye){A.name="",ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?A.type=ue:A.removeAttribute("type"),m!=null?ue==="number"?(m===0&&A.value===""||A.value!=m)&&(A.value=""+gi(m)):A.value!==""+gi(m)&&(A.value=""+gi(m)):ue!=="submit"&&ue!=="reset"||A.removeAttribute("value"),m!=null?Eu(A,ue,gi(m)):b!=null?Eu(A,ue,gi(b)):_!=null&&A.removeAttribute("value"),U==null&&X!=null&&(A.defaultChecked=!!X),U!=null&&(A.checked=U&&typeof U!="function"&&typeof U!="symbol"),ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?A.name=""+gi(ye):A.removeAttribute("name")}function Cu(A,m,b,_,U,X,ue,ye){if(X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(A.type=X),m!=null||b!=null){if(!(X!=="submit"&&X!=="reset"||m!=null))return;b=b!=null?""+gi(b):"",m=m!=null?""+gi(m):b,ye||m===A.value||(A.value=m),A.defaultValue=m}_=_??U,_=typeof _!="function"&&typeof _!="symbol"&&!!_,A.checked=ye?A.checked:!!_,A.defaultChecked=!!_,ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"&&(A.name=ue)}function Eu(A,m,b){m==="number"&&Di(A.ownerDocument)===A||A.defaultValue===""+b||(A.defaultValue=""+b)}function Yl(A,m,b,_){if(A=A.options,m){m={};for(var U=0;U<b.length;U++)m["$"+b[U]]=!0;for(b=0;b<A.length;b++)U=m.hasOwnProperty("$"+A[b].value),A[b].selected!==U&&(A[b].selected=U),U&&_&&(A[b].defaultSelected=!0)}else{for(b=""+gi(b),m=null,U=0;U<A.length;U++){if(A[U].value===b){A[U].selected=!0,_&&(A[U].defaultSelected=!0);return}m!==null||A[U].disabled||(m=A[U])}m!==null&&(m.selected=!0)}}function Xn(A,m,b){if(m!=null&&(m=""+gi(m),m!==A.value&&(A.value=m),b==null)){A.defaultValue!==m&&(A.defaultValue=m);return}A.defaultValue=b!=null?""+gi(b):""}function Su(A,m,b,_){if(m==null){if(_!=null){if(b!=null)throw Error(n(92));if(q(_)){if(1<_.length)throw Error(n(93));_=_[0]}b=_}b==null&&(b=""),m=b}b=gi(m),A.defaultValue=b,_=A.textContent,_===b&&_!==""&&_!==null&&(A.value=_)}function zo(A,m){if(m){var b=A.firstChild;if(b&&b===A.lastChild&&b.nodeType===3){b.nodeValue=m;return}}A.textContent=m}var Ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function O0(A,m,b){var _=m.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?_?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="":_?A.setProperty(m,b):typeof b!="number"||b===0||Ic.has(m)?m==="float"?A.cssFloat=b:A[m]=(""+b).trim():A[m]=b+"px"}function JA(A,m,b){if(m!=null&&typeof m!="object")throw Error(n(62));if(A=A.style,b!=null){for(var _ in b)!b.hasOwnProperty(_)||m!=null&&m.hasOwnProperty(_)||(_.indexOf("--")===0?A.setProperty(_,""):_==="float"?A.cssFloat="":A[_]="");for(var U in m)_=m[U],m.hasOwnProperty(U)&&b[U]!==_&&O0(A,U,_)}else for(var X in m)m.hasOwnProperty(X)&&O0(A,X,m[X])}function ZA(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),If=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(A){return If.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}var Jl=null;function ga(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Dc=null,Zl=null;function Ur(A){var m=Oe(A);if(m&&(A=m.stateNode)){var b=A[Er]||null;e:switch(A=m.stateNode,m.type){case"input":if(Pi(A,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),m=b.name,b.type==="radio"&&m!=null){for(b=A;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+Mn(""+m)+'"][type="radio"]'),m=0;m<b.length;m++){var _=b[m];if(_!==A&&_.form===A.form){var U=_[Er]||null;if(!U)throw Error(n(90));Pi(_,U.value,U.defaultValue,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name)}}for(m=0;m<b.length;m++)_=b[m],_.form===A.form&&YA(_)}break e;case"textarea":Xn(A,b.value,b.defaultValue);break e;case"select":m=b.value,m!=null&&Yl(A,!!b.multiple,m,!1)}}}var ec=!1;function D0(A,m,b){if(ec)return A(m,b);ec=!0;try{var _=A(m);return _}finally{if(ec=!1,(Dc!==null||Zl!==null)&&(qS(),Dc&&(m=Dc,A=Zl,Zl=Dc=null,Ur(m),A)))for(m=0;m<A.length;m++)Ur(A[m])}}function Yi(A,m){var b=A.stateNode;if(b===null)return null;var _=b[Er]||null;if(_===null)return null;b=_[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(A=A.type,_=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!_;break e;default:A=!1}if(A)return null;if(b&&typeof b!="function")throw Error(n(231,m,typeof b));return b}var Go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=!1;if(Go)try{var tc={};Object.defineProperty(tc,"passive",{get:function(){Co=!0}}),window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{Co=!1}var Ko=null,_u=null,Pc=null;function eh(){if(Pc)return Pc;var A,m=_u,b=m.length,_,U="value"in Ko?Ko.value:Ko.textContent,X=U.length;for(A=0;A<b&&m[A]===U[A];A++);var ue=b-A;for(_=1;_<=ue&&m[b-_]===U[X-_];_++);return Pc=U.slice(A,1<_?1-_:void 0)}function qo(A){var m=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&m===13&&(A=13)):A=m,A===10&&(A=13),32<=A||A===13?A:0}function Ji(){return!0}function rc(){return!1}function Ts(A){function m(b,_,U,X,ue){this._reactName=b,this._targetInst=U,this.type=_,this.nativeEvent=X,this.target=ue,this.currentTarget=null;for(var ye in A)A.hasOwnProperty(ye)&&(b=A[ye],this[ye]=b?b(X):X[ye]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?Ji:rc,this.isPropagationStopped=rc,this}return d(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),m}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Ts(Sn),nc=d({},Sn,{view:0,detail:0}),th=Ts(nc),Sd,_d,Il,Zi=d({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Il&&(Il&&A.type==="mousemove"?(Sd=A.screenX-Il.screenX,_d=A.screenY-Il.screenY):_d=Sd=0,Il=A),Sd)},movementY:function(A){return"movementY"in A?A.movementY:_d}}),Bs=Ts(Zi),P0=d({},Zi,{dataTransfer:0}),ku=Ts(P0),Ri=d({},nc,{relatedTarget:0}),Tu=Ts(Ri),Rc=d({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ff=Ts(Rc),Nd=d({},Sn,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),Of=Ts(Nd),rh=d({},Sn,{data:0}),kd=Ts(rh),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Df={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bd(A){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(A):(A=Df[A])?!!m[A]:!1}function ju(){return Bd}var R0=d({},nc,{key:function(A){if(A.key){var m=Bu[A.key]||A.key;if(m!=="Unidentified")return m}return A.type==="keypress"?(A=qo(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?Td[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(A){return A.type==="keypress"?qo(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?qo(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),Lc=Ts(R0),Iu=d({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jd=Ts(Iu),eo=d({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),Pf=Ts(eo),J=d({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ae=Ts(J),Pe=d({},Zi,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Ts(Pe),qe=d({},Sn,{newState:0,oldState:0}),bt=Ts(qe),Qt=[9,13,27,32],rr=Go&&"CompositionEvent"in window,D=null;Go&&"documentMode"in document&&(D=document.documentMode);var ne=Go&&"TextEvent"in window&&!D,le=Go&&(!rr||D&&8<D&&11>=D),be=" ",ze=!1;function lt(A,m){switch(A){case"keyup":return Qt.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ht(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Qr=!1;function _n(A,m){switch(A){case"compositionend":return Ht(m);case"keypress":return m.which!==32?null:(ze=!0,be);case"textInput":return A=m.data,A===be&&ze?null:A;default:return null}}function an(A,m){if(Qr)return A==="compositionend"||!rr&&lt(A,m)?(A=eh(),Pc=_u=Ko=null,Qr=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return le&&m.locale!=="ko"?null:m.data;default:return null}}var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ua(A){var m=A&&A.nodeName&&A.nodeName.toLowerCase();return m==="input"?!!Yn[A.type]:m==="textarea"}function ac(A,m,b,_){Dc?Zl?Zl.push(_):Zl=[_]:Dc=_,m=e_(m,"onChange"),0<m.length&&(b=new Nu("onChange","change",null,b,_),A.push({event:b,listeners:m}))}var ps=null,Wo=null;function Fu(A){zH(A,0)}function Rf(A){var m=Je(A);if(YA(m))return A}function L0(A,m){if(A==="change")return m}var nh=!1;if(Go){var Ws;if(Go){var Lf="oninput"in document;if(!Lf){var ah=document.createElement("div");ah.setAttribute("oninput","return;"),Lf=typeof ah.oninput=="function"}Ws=Lf}else Ws=!1;nh=Ws&&(!document.documentMode||9<document.documentMode)}function sh(){ps&&(ps.detachEvent("onpropertychange",M0),Wo=ps=null)}function M0(A){if(A.propertyName==="value"&&Rf(Wo)){var m=[];ac(m,Wo,A,ga(A)),D0(Fu,m)}}function Xo(A,m,b){A==="focusin"?(sh(),ps=m,Wo=b,ps.attachEvent("onpropertychange",M0)):A==="focusout"&&sh()}function Fy(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Rf(Wo)}function Vm(A,m){if(A==="click")return Rf(m)}function tv(A,m){if(A==="input"||A==="change")return Rf(m)}function sc(A,m){return A===m&&(A!==0||1/A===1/m)||A!==A&&m!==m}var xi=typeof Object.is=="function"?Object.is:sc;function Mf(A,m){if(xi(A,m))return!0;if(typeof A!="object"||A===null||typeof m!="object"||m===null)return!1;var b=Object.keys(A),_=Object.keys(m);if(b.length!==_.length)return!1;for(_=0;_<b.length;_++){var U=b[_];if(!re.call(m,U)||!xi(A[U],m[U]))return!1}return!0}function zm(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Id(A,m){var b=zm(A);A=0;for(var _;b;){if(b.nodeType===3){if(_=A+b.textContent.length,A<=m&&_>=m)return{node:b,offset:m-A};A=_}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=zm(b)}}function Uf(A,m){return A&&m?A===m?!0:A&&A.nodeType===3?!1:m&&m.nodeType===3?Uf(A,m.parentNode):"contains"in A?A.contains(m):A.compareDocumentPosition?!!(A.compareDocumentPosition(m)&16):!1:!1}function Eo(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var m=Di(A.document);m instanceof A.HTMLIFrameElement;){try{var b=typeof m.contentWindow.location.href=="string"}catch{b=!1}if(b)A=m.contentWindow;else break;m=Di(A.document)}return m}function Li(A){var m=A&&A.nodeName&&A.nodeName.toLowerCase();return m&&(m==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||m==="textarea"||A.contentEditable==="true")}var Qf=Go&&"documentMode"in document&&11>=document.documentMode,Yo=null,Mc=null,Ou=null,Uc=!1;function ss(A,m,b){var _=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Uc||Yo==null||Yo!==Di(_)||(_=Yo,"selectionStart"in _&&Li(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Ou&&Mf(Ou,_)||(Ou=_,_=e_(Mc,"onSelect"),0<_.length&&(m=new Nu("onSelect","select",null,m,b),A.push({event:m,listeners:_}),m.target=Yo)))}function Qc(A,m){var b={};return b[A.toLowerCase()]=m.toLowerCase(),b["Webkit"+A]="webkit"+m,b["Moz"+A]="moz"+m,b}var js={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionrun:Qc("Transition","TransitionRun"),transitionstart:Qc("Transition","TransitionStart"),transitioncancel:Qc("Transition","TransitionCancel"),transitionend:Qc("Transition","TransitionEnd")},Jo={},ih={};Go&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Du(A){if(Jo[A])return Jo[A];if(!js[A])return A;var m=js[A],b;for(b in m)if(m.hasOwnProperty(b)&&b in ih)return Jo[A]=m[b];return A}var U0=Du("animationend"),Hf=Du("animationiteration"),$f=Du("animationstart"),Vf=Du("transitionrun"),oh=Du("transitionstart"),Q0=Du("transitioncancel"),zf=Du("transitionend"),Fd=new Map,lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lh.push("scrollEnd");function is(A,m){Fd.set(A,m),Dt(m,[A])}var Fl=new WeakMap;function yn(A,m){if(typeof A=="object"&&A!==null){var b=Fl.get(A);return b!==void 0?b:(m={value:A,source:m,stack:Ta(m)},Fl.set(A,m),m)}return{value:A,source:m,stack:Ta(m)}}var wn=[],Ba=0,ms=0;function ic(){for(var A=Ba,m=ms=Ba=0;m<A;){var b=wn[m];wn[m++]=null;var _=wn[m];wn[m++]=null;var U=wn[m];wn[m++]=null;var X=wn[m];if(wn[m++]=null,_!==null&&U!==null){var ue=_.pending;ue===null?U.next=U:(U.next=ue.next,ue.next=U),_.pending=U}X!==0&&rv(b,U,X)}}function Gf(A,m,b,_){wn[Ba++]=A,wn[Ba++]=m,wn[Ba++]=b,wn[Ba++]=_,ms|=_,A.lanes|=_,A=A.alternate,A!==null&&(A.lanes|=_)}function Kf(A,m,b,_){return Gf(A,m,b,_),ch(A)}function Od(A,m){return Gf(A,null,null,m),ch(A)}function rv(A,m,b){A.lanes|=b;var _=A.alternate;_!==null&&(_.lanes|=b);for(var U=!1,X=A.return;X!==null;)X.childLanes|=b,_=X.alternate,_!==null&&(_.childLanes|=b),X.tag===22&&(A=X.stateNode,A===null||A._visibility&1||(U=!0)),A=X,X=X.return;return A.tag===3?(X=A.stateNode,U&&m!==null&&(U=31-Ft(b),A=X.hiddenUpdates,_=A[U],_===null?A[U]=[m]:_.push(m),m.lane=b|536870912),X):null}function ch(A){if(50<aw)throw aw=0,N3=null,Error(n(185));for(var m=A.return;m!==null;)A=m,m=A.return;return A.tag===3?A.stateNode:null}var vi={};function oc(A,m,b,_){this.tag=A,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function to(A,m,b,_){return new oc(A,m,b,_)}function H0(A){return A=A.prototype,!(!A||!A.isReactComponent)}function Pu(A,m){var b=A.alternate;return b===null?(b=to(A.tag,m,A.key,A.mode),b.elementType=A.elementType,b.type=A.type,b.stateNode=A.stateNode,b.alternate=A,A.alternate=b):(b.pendingProps=m,b.type=A.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=A.flags&65011712,b.childLanes=A.childLanes,b.lanes=A.lanes,b.child=A.child,b.memoizedProps=A.memoizedProps,b.memoizedState=A.memoizedState,b.updateQueue=A.updateQueue,m=A.dependencies,b.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},b.sibling=A.sibling,b.index=A.index,b.ref=A.ref,b.refCleanup=A.refCleanup,b}function Gm(A,m){A.flags&=65011714;var b=A.alternate;return b===null?(A.childLanes=0,A.lanes=m,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=b.childLanes,A.lanes=b.lanes,A.child=b.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=b.memoizedProps,A.memoizedState=b.memoizedState,A.updateQueue=b.updateQueue,A.type=b.type,m=b.dependencies,A.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A}function uh(A,m,b,_,U,X){var ue=0;if(_=A,typeof A=="function")H0(A)&&(ue=1);else if(typeof A=="string")ue=lxe(A,b,W.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case I:return A=to(31,b,m,U),A.elementType=I,A.lanes=X,A;case g:return Dd(b.children,U,X,m);case x:ue=8,U|=24;break;case v:return A=to(12,b,m,U|2),A.elementType=v,A.lanes=X,A;case B:return A=to(13,b,m,U),A.elementType=B,A.lanes=X,A;case j:return A=to(19,b,m,U),A.elementType=j,A.lanes=X,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case y:case E:ue=10;break e;case w:ue=9;break e;case k:ue=11;break e;case C:ue=14;break e;case N:ue=16,_=null;break e}ue=29,b=Error(n(130,A===null?"null":typeof A,"")),_=null}return m=to(ue,b,m,U),m.elementType=A,m.type=_,m.lanes=X,m}function Dd(A,m,b,_){return A=to(7,A,_,m),A.lanes=b,A}function nv(A,m,b){return A=to(6,A,null,m),A.lanes=b,A}function Km(A,m,b){return m=to(4,A.children!==null?A.children:[],A.key,m),m.lanes=b,m.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},m}var qf=[],Pd=0,$0=null,av=0,lc=[],Ol=0,dh=null,Rd=1,Ld="";function fh(A,m){qf[Pd++]=av,qf[Pd++]=$0,$0=A,av=m}function xS(A,m,b){lc[Ol++]=Rd,lc[Ol++]=Ld,lc[Ol++]=dh,dh=A;var _=Rd;A=Ld;var U=32-Ft(_)-1;_&=~(1<<U),b+=1;var X=32-Ft(m)+U;if(30<X){var ue=U-U%5;X=(_&(1<<ue)-1).toString(32),_>>=ue,U-=ue,Rd=1<<32-Ft(m)+U|b<<U|_,Ld=X+A}else Rd=1<<X|b<<U|_,Ld=A}function qm(A){A.return!==null&&(fh(A,1),xS(A,1,0))}function Wm(A){for(;A===$0;)$0=qf[--Pd],qf[Pd]=null,av=qf[--Pd],qf[Pd]=null;for(;A===dh;)dh=lc[--Ol],lc[Ol]=null,Ld=lc[--Ol],lc[Ol]=null,Rd=lc[--Ol],lc[Ol]=null}var Xs=null,os=null,Gn=!1,Wf=null,Ru=!1,Oy=Error(n(519));function Ah(A){var m=Error(n(418,""));throw V0(yn(m,A)),Oy}function vS(A){var m=A.stateNode,b=A.type,_=A.memoizedProps;switch(m[sr]=A,m[Er]=_,b){case"dialog":In("cancel",m),In("close",m);break;case"iframe":case"object":case"embed":In("load",m);break;case"video":case"audio":for(b=0;b<iw.length;b++)In(iw[b],m);break;case"source":In("error",m);break;case"img":case"image":case"link":In("error",m),In("load",m);break;case"details":In("toggle",m);break;case"input":In("invalid",m),Cu(m,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0),wu(m);break;case"select":In("invalid",m);break;case"textarea":In("invalid",m),Su(m,_.value,_.defaultValue,_.children),wu(m)}b=_.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||m.textContent===""+b||_.suppressHydrationWarning===!0||WH(m.textContent,b)?(_.popover!=null&&(In("beforetoggle",m),In("toggle",m)),_.onScroll!=null&&In("scroll",m),_.onScrollEnd!=null&&In("scrollend",m),_.onClick!=null&&(m.onclick=t_),m=!0):m=!1,m||Ah(A)}function Md(A){for(Xs=A.return;Xs;)switch(Xs.tag){case 5:case 13:Ru=!1;return;case 27:case 3:Ru=!0;return;default:Xs=Xs.return}}function So(A){if(A!==Xs)return!1;if(!Gn)return Md(A),Gn=!0,!1;var m=A.tag,b;if((b=m!==3&&m!==27)&&((b=m===5)&&(b=A.type,b=!(b!=="form"&&b!=="button")||$3(A.type,A.memoizedProps)),b=!b),b&&os&&Ah(A),Md(A),m===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));e:{for(A=A.nextSibling,m=0;A;){if(A.nodeType===8)if(b=A.data,b==="/$"){if(m===0){os=Kd(A.nextSibling);break e}m--}else b!=="$"&&b!=="$!"&&b!=="$?"||m++;A=A.nextSibling}os=null}}else m===27?(m=os,op(A.type)?(A=K3,K3=null,os=A):os=m):os=Xs?Kd(A.stateNode.nextSibling):null;return!0}function Dl(){os=Xs=null,Gn=!1}function bS(){var A=Wf;return A!==null&&(dc===null?dc=A:dc.push.apply(dc,A),Wf=null),A}function V0(A){Wf===null?Wf=[A]:Wf.push(A)}var Lu=ee(null),bi=null,Ud=null;function Xf(A,m,b){H(Lu,m._currentValue),m._currentValue=b}function Mu(A){A._currentValue=Lu.current,M(Lu)}function sv(A,m,b){for(;A!==null;){var _=A.alternate;if((A.childLanes&m)!==m?(A.childLanes|=m,_!==null&&(_.childLanes|=m)):_!==null&&(_.childLanes&m)!==m&&(_.childLanes|=m),A===b)break;A=A.return}}function iv(A,m,b,_){var U=A.child;for(U!==null&&(U.return=A);U!==null;){var X=U.dependencies;if(X!==null){var ue=U.child;X=X.firstContext;e:for(;X!==null;){var ye=X;X=U;for(var Re=0;Re<m.length;Re++)if(ye.context===m[Re]){X.lanes|=b,ye=X.alternate,ye!==null&&(ye.lanes|=b),sv(X.return,b,A),_||(ue=null);break e}X=ye.next}}else if(U.tag===18){if(ue=U.return,ue===null)throw Error(n(341));ue.lanes|=b,X=ue.alternate,X!==null&&(X.lanes|=b),sv(ue,b,A),ue=null}else ue=U.child;if(ue!==null)ue.return=U;else for(ue=U;ue!==null;){if(ue===A){ue=null;break}if(U=ue.sibling,U!==null){U.return=ue.return,ue=U;break}ue=ue.return}U=ue}}function z0(A,m,b,_){A=null;for(var U=m,X=!1;U!==null;){if(!X){if((U.flags&524288)!==0)X=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var ue=U.alternate;if(ue===null)throw Error(n(387));if(ue=ue.memoizedProps,ue!==null){var ye=U.type;xi(U.pendingProps.value,ue.value)||(A!==null?A.push(ye):A=[ye])}}else if(U===oe.current){if(ue=U.alternate,ue===null)throw Error(n(387));ue.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(A!==null?A.push(fw):A=[fw])}U=U.return}A!==null&&iv(m,A,b,_),m.flags|=262144}function ov(A){for(A=A.firstContext;A!==null;){if(!xi(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Uu(A){bi=A,Ud=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Ys(A){return lv(bi,A)}function Yf(A,m){return bi===null&&Uu(A),lv(A,m)}function lv(A,m){var b=m._currentValue;if(m={context:m,memoizedValue:b,next:null},Ud===null){if(A===null)throw Error(n(308));Ud=m,A.dependencies={lanes:0,firstContext:m},A.flags|=524288}else Ud=Ud.next=m;return b}var Jj=typeof AbortController<"u"?AbortController:function(){var A=[],m=this.signal={aborted:!1,addEventListener:function(b,_){A.push(_)}};this.abort=function(){m.aborted=!0,A.forEach(function(b){return b()})}},yS=e.unstable_scheduleCallback,Zj=e.unstable_NormalPriority,Js={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dy(){return{controller:new Jj,data:new Map,refCount:0}}function Xm(A){A.refCount--,A.refCount===0&&yS(Zj,function(){A.controller.abort()})}var Ym=null,Py=0,hh=0,Qd=null;function e3(A,m){if(Ym===null){var b=Ym=[];Py=0,hh=O3(),Qd={status:"pending",value:void 0,then:function(_){b.push(_)}}}return Py++,m.then(wS,wS),m}function wS(){if(--Py===0&&Ym!==null){Qd!==null&&(Qd.status="fulfilled");var A=Ym;Ym=null,hh=0,Qd=null;for(var m=0;m<A.length;m++)(0,A[m])()}}function CS(A,m){var b=[],_={status:"pending",value:null,reason:null,then:function(U){b.push(U)}};return A.then(function(){_.status="fulfilled",_.value=m;for(var U=0;U<b.length;U++)(0,b[U])(m)},function(U){for(_.status="rejected",_.reason=U,U=0;U<b.length;U++)(0,b[U])(void 0)}),_}var F=Q.S;Q.S=function(A,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&e3(A,m),F!==null&&F(A,m)};var V=ee(null);function te(){var A=V.current;return A!==null?A:Ha.pooledCache}function ie(A,m){m===null?H(V,V.current):H(V,m.pool)}function fe(){var A=te();return A===null?null:{parent:Js._currentValue,pool:A}}var me=Error(n(460)),ge=Error(n(474)),ve=Error(n(542)),Ce={then:function(){}};function je(A){return A=A.status,A==="fulfilled"||A==="rejected"}function Ue(){}function it(A,m,b){switch(b=A[b],b===void 0?A.push(m):b!==m&&(m.then(Ue,Ue),m=b),m.status){case"fulfilled":return m.value;case"rejected":throw A=m.reason,It(A),A;default:if(typeof m.status=="string")m.then(Ue,Ue);else{if(A=Ha,A!==null&&100<A.shellSuspendCounter)throw Error(n(482));A=m,A.status="pending",A.then(function(_){if(m.status==="pending"){var U=m;U.status="fulfilled",U.value=_}},function(_){if(m.status==="pending"){var U=m;U.status="rejected",U.reason=_}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw A=m.reason,It(A),A}throw rt=m,me}}var rt=null;function Xe(){if(rt===null)throw Error(n(459));var A=rt;return rt=null,A}function It(A){if(A===me||A===ve)throw Error(n(483))}var gt=!1;function Qe(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $e(A,m){A=A.updateQueue,m.updateQueue===A&&(m.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function Nt(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Ot(A,m,b){var _=A.updateQueue;if(_===null)return null;if(_=_.shared,(va&2)!==0){var U=_.pending;return U===null?m.next=m:(m.next=U.next,U.next=m),_.pending=m,m=ch(A),rv(A,null,b),m}return Gf(A,_,m,b),ch(A)}function Bt(A,m,b){if(m=m.updateQueue,m!==null&&(m=m.shared,(b&4194048)!==0)){var _=m.lanes;_&=A.pendingLanes,b|=_,m.lanes=b,tt(A,b)}}function ar(A,m){var b=A.updateQueue,_=A.alternate;if(_!==null&&(_=_.updateQueue,b===_)){var U=null,X=null;if(b=b.firstBaseUpdate,b!==null){do{var ue={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};X===null?U=X=ue:X=X.next=ue,b=b.next}while(b!==null);X===null?U=X=m:X=X.next=m}else U=X=m;b={baseState:_.baseState,firstBaseUpdate:U,lastBaseUpdate:X,shared:_.shared,callbacks:_.callbacks},A.updateQueue=b;return}A=b.lastBaseUpdate,A===null?b.firstBaseUpdate=m:A.next=m,b.lastBaseUpdate=m}var er=!1;function _r(){if(er){var A=Qd;if(A!==null)throw A}}function nr(A,m,b,_){er=!1;var U=A.updateQueue;gt=!1;var X=U.firstBaseUpdate,ue=U.lastBaseUpdate,ye=U.shared.pending;if(ye!==null){U.shared.pending=null;var Re=ye,ct=Re.next;Re.next=null,ue===null?X=ct:ue.next=ct,ue=Re;var kt=A.alternate;kt!==null&&(kt=kt.updateQueue,ye=kt.lastBaseUpdate,ye!==ue&&(ye===null?kt.firstBaseUpdate=ct:ye.next=ct,kt.lastBaseUpdate=Re))}if(X!==null){var Lt=U.baseState;ue=0,kt=ct=Re=null,ye=X;do{var At=ye.lane&-536870913,pt=At!==ye.lane;if(pt?($n&At)===At:(_&At)===At){At!==0&&At===hh&&(er=!0),kt!==null&&(kt=kt.next={lane:0,tag:ye.tag,payload:ye.payload,callback:null,next:null});e:{var Jr=A,Hr=ye;At=m;var Ia=b;switch(Hr.tag){case 1:if(Jr=Hr.payload,typeof Jr=="function"){Lt=Jr.call(Ia,Lt,At);break e}Lt=Jr;break e;case 3:Jr.flags=Jr.flags&-65537|128;case 0:if(Jr=Hr.payload,At=typeof Jr=="function"?Jr.call(Ia,Lt,At):Jr,At==null)break e;Lt=d({},Lt,At);break e;case 2:gt=!0}}At=ye.callback,At!==null&&(A.flags|=64,pt&&(A.flags|=8192),pt=U.callbacks,pt===null?U.callbacks=[At]:pt.push(At))}else pt={lane:At,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},kt===null?(ct=kt=pt,Re=Lt):kt=kt.next=pt,ue|=At;if(ye=ye.next,ye===null){if(ye=U.shared.pending,ye===null)break;pt=ye,ye=pt.next,pt.next=null,U.lastBaseUpdate=pt,U.shared.pending=null}}while(!0);kt===null&&(Re=Lt),U.baseState=Re,U.firstBaseUpdate=ct,U.lastBaseUpdate=kt,X===null&&(U.shared.lanes=0),np|=ue,A.lanes=ue,A.memoizedState=Lt}}function Qn(A,m){if(typeof A!="function")throw Error(n(191,A));A.call(m)}function Jn(A,m){var b=A.callbacks;if(b!==null)for(A.callbacks=null,A=0;A<b.length;A++)Qn(b[A],m)}var bn=ee(null),pn=ee(0);function da(A,m){A=Eh,H(pn,A),H(bn,m),Eh=A|m.baseLanes}function Zn(){H(pn,Eh),H(bn,bn.current)}function sn(){Eh=pn.current,M(bn),M(pn)}var xa=0,Or=null,Kr=null,Un=null,Hn=!1,yi=!1,Zs=!1,gs=0,xs=0,Is=null,cc=0;function ea(){throw Error(n(321))}function Fs(A,m){if(m===null)return!1;for(var b=0;b<m.length&&b<A.length;b++)if(!xi(A[b],m[b]))return!1;return!0}function Hc(A,m,b,_,U,X){return xa=X,Or=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Q.H=A===null||A.memoizedState===null?TQ:BQ,Zs=!1,X=b(_,U),Zs=!1,yi&&(X=ph(m,b,_,U)),Jf(A),X}function Jf(A){Q.H=DS;var m=Kr!==null&&Kr.next!==null;if(xa=0,Un=Kr=Or=null,Hn=!1,xs=0,Is=null,m)throw Error(n(300));A===null||ro||(A=A.dependencies,A!==null&&ov(A)&&(ro=!0))}function ph(A,m,b,_){Or=A;var U=0;do{if(yi&&(Is=null),xs=0,yi=!1,25<=U)throw Error(n(301));if(U+=1,Un=Kr=null,A.updateQueue!=null){var X=A.updateQueue;X.lastEffect=null,X.events=null,X.stores=null,X.memoCache!=null&&(X.memoCache.index=0)}Q.H=vge,X=m(b,_)}while(yi);return X}function Zf(){var A=Q.H,m=A.useState()[0];return m=typeof m.then=="function"?eA(m):m,A=A.useState()[0],(Kr!==null?Kr.memoizedState:null)!==A&&(Or.flags|=1024),m}function Qa(){var A=gs!==0;return gs=0,A}function Jm(A,m,b){m.updateQueue=A.updateQueue,m.flags&=-2053,A.lanes&=~b}function cv(A){if(Hn){for(A=A.memoizedState;A!==null;){var m=A.queue;m!==null&&(m.pending=null),A=A.next}Hn=!1}xa=0,Un=Kr=Or=null,yi=!1,xs=gs=0,Is=null}function _o(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Or.memoizedState=Un=A:Un=Un.next=A,Un}function Xa(){if(Kr===null){var A=Or.alternate;A=A!==null?A.memoizedState:null}else A=Kr.next;var m=Un===null?Or.memoizedState:Un.next;if(m!==null)Un=m,Kr=A;else{if(A===null)throw Or.alternate===null?Error(n(467)):Error(n(310));Kr=A,A={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},Un===null?Or.memoizedState=Un=A:Un=Un.next=A}return Un}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eA(A){var m=xs;return xs+=1,Is===null&&(Is=[]),A=it(Is,A,m),m=Or,(Un===null?m.memoizedState:Un.next)===null&&(m=m.alternate,Q.H=m===null||m.memoizedState===null?TQ:BQ),A}function Zo(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return eA(A);if(A.$$typeof===E)return Ys(A)}throw Error(n(438,String(A)))}function tA(A){var m=null,b=Or.updateQueue;if(b!==null&&(m=b.memoCache),m==null){var _=Or.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(m={data:_.data.map(function(U){return U.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),b===null&&(b=mh(),Or.updateQueue=b),b.memoCache=m,b=m.data[m.index],b===void 0)for(b=m.data[m.index]=Array(A),_=0;_<A;_++)b[_]=L;return m.index++,b}function el(A,m){return typeof m=="function"?m(A):m}function Zm(A){var m=Xa();return G0(m,Kr,A)}function G0(A,m,b){var _=A.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=b;var U=A.baseQueue,X=_.pending;if(X!==null){if(U!==null){var ue=U.next;U.next=X.next,X.next=ue}m.baseQueue=U=X,_.pending=null}if(X=A.baseState,U===null)A.memoizedState=X;else{m=U.next;var ye=ue=null,Re=null,ct=m,kt=!1;do{var Lt=ct.lane&-536870913;if(Lt!==ct.lane?($n&Lt)===Lt:(xa&Lt)===Lt){var At=ct.revertLane;if(At===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),Lt===hh&&(kt=!0);else if((xa&At)===At){ct=ct.next,At===hh&&(kt=!0);continue}else Lt={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Re===null?(ye=Re=Lt,ue=X):Re=Re.next=Lt,Or.lanes|=At,np|=At;Lt=ct.action,Zs&&b(X,Lt),X=ct.hasEagerState?ct.eagerState:b(X,Lt)}else At={lane:Lt,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Re===null?(ye=Re=At,ue=X):Re=Re.next=At,Or.lanes|=Lt,np|=Lt;ct=ct.next}while(ct!==null&&ct!==m);if(Re===null?ue=X:Re.next=ye,!xi(X,A.memoizedState)&&(ro=!0,kt&&(b=Qd,b!==null)))throw b;A.memoizedState=X,A.baseState=ue,A.baseQueue=Re,_.lastRenderedState=X}return U===null&&(_.lanes=0),[A.memoizedState,_.dispatch]}function uv(A){var m=Xa(),b=m.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=A;var _=b.dispatch,U=b.pending,X=m.memoizedState;if(U!==null){b.pending=null;var ue=U=U.next;do X=A(X,ue.action),ue=ue.next;while(ue!==U);xi(X,m.memoizedState)||(ro=!0),m.memoizedState=X,m.baseQueue===null&&(m.baseState=X),b.lastRenderedState=X}return[X,_]}function eg(A,m,b){var _=Or,U=Xa(),X=Gn;if(X){if(b===void 0)throw Error(n(407));b=b()}else b=m();var ue=!xi((Kr||U).memoizedState,b);ue&&(U.memoizedState=b,ro=!0),U=U.queue;var ye=K0.bind(null,_,U,A);if(X0(2048,8,ye,[A]),U.getSnapshot!==m||ue||Un!==null&&Un.memoizedState.tag&1){if(_.flags|=2048,$d(9,ag(),tg.bind(null,_,U,b,m),null),Ha===null)throw Error(n(349));X||(xa&124)!==0||dv(_,m,b)}return b}function dv(A,m,b){A.flags|=16384,A={getSnapshot:m,value:b},m=Or.updateQueue,m===null?(m=mh(),Or.updateQueue=m,m.stores=[A]):(b=m.stores,b===null?m.stores=[A]:b.push(A))}function tg(A,m,b,_){m.value=b,m.getSnapshot=_,ES(m)&&SS(A)}function K0(A,m,b){return b(function(){ES(m)&&SS(A)})}function ES(A){var m=A.getSnapshot;A=A.value;try{var b=m();return!xi(A,b)}catch{return!0}}function SS(A){var m=Od(A,2);m!==null&&qc(m,A,2)}function rg(A){var m=_o();if(typeof A=="function"){var b=A;if(A=b(),Zs){Rt(!0);try{b()}finally{Rt(!1)}}}return m.memoizedState=m.baseState=A,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:A},m}function Hd(A,m,b,_){return A.baseState=b,G0(A,Kr,typeof _=="function"?_:el)}function t3(A,m,b,_,U){if(OS(A))throw Error(n(485));if(A=m.action,A!==null){var X={payload:U,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ue){X.listeners.push(ue)}};Q.T!==null?b(!0):X.isTransition=!1,_(X),b=m.pending,b===null?(X.next=m.pending=X,_S(m,X)):(X.next=b.next,m.pending=b.next=X)}}function _S(A,m){var b=m.action,_=m.payload,U=A.state;if(m.isTransition){var X=Q.T,ue={};Q.T=ue;try{var ye=b(U,_),Re=Q.S;Re!==null&&Re(ue,ye),NS(A,m,ye)}catch(ct){q0(A,m,ct)}finally{Q.T=X}}else try{X=b(U,_),NS(A,m,X)}catch(ct){q0(A,m,ct)}}function NS(A,m,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(_){Ry(A,m,_)},function(_){return q0(A,m,_)}):Ry(A,m,b)}function Ry(A,m,b){m.status="fulfilled",m.value=b,Ly(m),A.state=b,m=A.pending,m!==null&&(b=m.next,b===m?A.pending=null:(b=b.next,m.next=b,_S(A,b)))}function q0(A,m,b){var _=A.pending;if(A.pending=null,_!==null){_=_.next;do m.status="rejected",m.reason=b,Ly(m),m=m.next;while(m!==_)}A.action=null}function Ly(A){A=A.listeners;for(var m=0;m<A.length;m++)(0,A[m])()}function My(A,m){return m}function ng(A,m){if(Gn){var b=Ha.formState;if(b!==null){e:{var _=Or;if(Gn){if(os){t:{for(var U=os,X=Ru;U.nodeType!==8;){if(!X){U=null;break t}if(U=Kd(U.nextSibling),U===null){U=null;break t}}X=U.data,U=X==="F!"||X==="F"?U:null}if(U){os=Kd(U.nextSibling),_=U.data==="F!";break e}}Ah(_)}_=!1}_&&(m=b[0])}}return b=_o(),b.memoizedState=b.baseState=m,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:m},b.queue=_,b=_Q.bind(null,Or,_),_.dispatch=b,_=rg(!1),X=r3.bind(null,Or,!1,_.queue),_=_o(),U={state:m,dispatch:null,action:A,pending:null},_.queue=U,b=t3.bind(null,Or,U,X,b),U.dispatch=b,_.memoizedState=A,[m,b,!1]}function fv(A){var m=Xa();return W0(m,Kr,A)}function W0(A,m,b){if(m=G0(A,m,My)[0],A=Zm(el)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var _=eA(m)}catch(ue){throw ue===me?ve:ue}else _=m;m=Xa();var U=m.queue,X=U.dispatch;return b!==m.memoizedState&&(Or.flags|=2048,$d(9,ag(),kS.bind(null,U,b),null)),[_,X,A]}function kS(A,m){A.action=m}function TS(A){var m=Xa(),b=Kr;if(b!==null)return W0(m,b,A);Xa(),m=m.memoizedState,b=Xa();var _=b.queue.dispatch;return b.memoizedState=A,[m,_,!1]}function $d(A,m,b,_){return A={tag:A,create:b,deps:_,inst:m,next:null},m=Or.updateQueue,m===null&&(m=mh(),Or.updateQueue=m),b=m.lastEffect,b===null?m.lastEffect=A.next=A:(_=b.next,b.next=A,A.next=_,m.lastEffect=A),A}function ag(){return{destroy:void 0,resource:void 0}}function Av(){return Xa().memoizedState}function $c(A,m,b,_){var U=_o();_=_===void 0?null:_,Or.flags|=A,U.memoizedState=$d(1|m,ag(),b,_)}function X0(A,m,b,_){var U=Xa();_=_===void 0?null:_;var X=U.memoizedState.inst;Kr!==null&&_!==null&&Fs(_,Kr.memoizedState.deps)?U.memoizedState=$d(m,X,b,_):(Or.flags|=A,U.memoizedState=$d(1|m,X,b,_))}function Uy(A,m){$c(8390656,8,A,m)}function BS(A,m){X0(2048,8,A,m)}function Qy(A,m){return X0(4,2,A,m)}function gh(A,m){return X0(4,4,A,m)}function jS(A,m){if(typeof m=="function"){A=A();var b=m(A);return function(){typeof b=="function"?b():m(null)}}if(m!=null)return A=A(),m.current=A,function(){m.current=null}}function Hy(A,m,b){b=b!=null?b.concat([A]):null,X0(4,4,jS.bind(null,m,A),b)}function $y(){}function Vy(A,m){var b=Xa();m=m===void 0?null:m;var _=b.memoizedState;return m!==null&&Fs(m,_[1])?_[0]:(b.memoizedState=[A,m],A)}function IS(A,m){var b=Xa();m=m===void 0?null:m;var _=b.memoizedState;if(m!==null&&Fs(m,_[1]))return _[0];if(_=A(),Zs){Rt(!0);try{A()}finally{Rt(!1)}}return b.memoizedState=[_,m],_}function xh(A,m,b){return b===void 0||(xa&1073741824)!==0?A.memoizedState=m:(A.memoizedState=b,A=wH(),Or.lanes|=A,np|=A,b)}function hv(A,m,b,_){return xi(b,m)?b:bn.current!==null?(A=xh(A,b,_),xi(A,m)||(ro=!0),A):(xa&42)===0?(ro=!0,A.memoizedState=b):(A=wH(),Or.lanes|=A,np|=A,m)}function sg(A,m,b,_,U){var X=G.p;G.p=X!==0&&8>X?X:8;var ue=Q.T,ye={};Q.T=ye,r3(A,!1,m,b);try{var Re=U(),ct=Q.S;if(ct!==null&&ct(ye,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var kt=CS(Re,_);qy(A,m,kt,Kc(A))}else qy(A,m,_,Kc(A))}catch(Lt){qy(A,m,{then:function(){},status:"rejected",reason:Lt},Kc())}finally{G.p=X,Q.T=ue}}function Vd(){}function Qu(A,m,b,_){if(A.tag!==5)throw Error(n(476));var U=zd(A).queue;sg(A,U,m,K,b===null?Vd:function(){return ig(A),b(_)})}function zd(A){var m=A.memoizedState;if(m!==null)return m;m={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:K},next:null};var b={};return m.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:b},next:null},A.memoizedState=m,A=A.alternate,A!==null&&(A.memoizedState=m),m}function ig(A){var m=zd(A).next.queue;qy(A,m,{},Kc())}function og(){return Ys(fw)}function zy(){return Xa().memoizedState}function FS(){return Xa().memoizedState}function Gy(A){for(var m=A.return;m!==null;){switch(m.tag){case 24:case 3:var b=Kc();A=Nt(b);var _=Ot(m,A,b);_!==null&&(qc(_,m,b),Bt(_,m,b)),m={cache:Dy()},A.payload=m;return}m=m.return}}function Ky(A,m,b){var _=Kc();b={lane:_,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},OS(A)?NQ(m,b):(b=Kf(A,m,b,_),b!==null&&(qc(b,A,_),kQ(b,m,_)))}function _Q(A,m,b){var _=Kc();qy(A,m,b,_)}function qy(A,m,b,_){var U={lane:_,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(OS(A))NQ(m,U);else{var X=A.alternate;if(A.lanes===0&&(X===null||X.lanes===0)&&(X=m.lastRenderedReducer,X!==null))try{var ue=m.lastRenderedState,ye=X(ue,b);if(U.hasEagerState=!0,U.eagerState=ye,xi(ye,ue))return Gf(A,m,U,0),Ha===null&&ic(),!1}catch{}finally{}if(b=Kf(A,m,U,_),b!==null)return qc(b,A,_),kQ(b,m,_),!0}return!1}function r3(A,m,b,_){if(_={lane:2,revertLane:O3(),action:_,hasEagerState:!1,eagerState:null,next:null},OS(A)){if(m)throw Error(n(479))}else m=Kf(A,b,_,2),m!==null&&qc(m,A,2)}function OS(A){var m=A.alternate;return A===Or||m!==null&&m===Or}function NQ(A,m){yi=Hn=!0;var b=A.pending;b===null?m.next=m:(m.next=b.next,b.next=m),A.pending=m}function kQ(A,m,b){if((b&4194048)!==0){var _=m.lanes;_&=A.pendingLanes,b|=_,m.lanes=b,tt(A,b)}}var DS={readContext:Ys,use:Zo,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useInsertionEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useSyncExternalStore:ea,useId:ea,useHostTransitionStatus:ea,useFormState:ea,useActionState:ea,useOptimistic:ea,useMemoCache:ea,useCacheRefresh:ea},TQ={readContext:Ys,use:Zo,useCallback:function(A,m){return _o().memoizedState=[A,m===void 0?null:m],A},useContext:Ys,useEffect:Uy,useImperativeHandle:function(A,m,b){b=b!=null?b.concat([A]):null,$c(4194308,4,jS.bind(null,m,A),b)},useLayoutEffect:function(A,m){return $c(4194308,4,A,m)},useInsertionEffect:function(A,m){$c(4,2,A,m)},useMemo:function(A,m){var b=_o();m=m===void 0?null:m;var _=A();if(Zs){Rt(!0);try{A()}finally{Rt(!1)}}return b.memoizedState=[_,m],_},useReducer:function(A,m,b){var _=_o();if(b!==void 0){var U=b(m);if(Zs){Rt(!0);try{b(m)}finally{Rt(!1)}}}else U=m;return _.memoizedState=_.baseState=U,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:U},_.queue=A,A=A.dispatch=Ky.bind(null,Or,A),[_.memoizedState,A]},useRef:function(A){var m=_o();return A={current:A},m.memoizedState=A},useState:function(A){A=rg(A);var m=A.queue,b=_Q.bind(null,Or,m);return m.dispatch=b,[A.memoizedState,b]},useDebugValue:$y,useDeferredValue:function(A,m){var b=_o();return xh(b,A,m)},useTransition:function(){var A=rg(!1);return A=sg.bind(null,Or,A.queue,!0,!1),_o().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,m,b){var _=Or,U=_o();if(Gn){if(b===void 0)throw Error(n(407));b=b()}else{if(b=m(),Ha===null)throw Error(n(349));($n&124)!==0||dv(_,m,b)}U.memoizedState=b;var X={value:b,getSnapshot:m};return U.queue=X,Uy(K0.bind(null,_,X,A),[A]),_.flags|=2048,$d(9,ag(),tg.bind(null,_,X,b,m),null),b},useId:function(){var A=_o(),m=Ha.identifierPrefix;if(Gn){var b=Ld,_=Rd;b=(_&~(1<<32-Ft(_)-1)).toString(32)+b,m="«"+m+"R"+b,b=gs++,0<b&&(m+="H"+b.toString(32)),m+="»"}else b=cc++,m="«"+m+"r"+b.toString(32)+"»";return A.memoizedState=m},useHostTransitionStatus:og,useFormState:ng,useActionState:ng,useOptimistic:function(A){var m=_o();m.memoizedState=m.baseState=A;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=b,m=r3.bind(null,Or,!0,b),b.dispatch=m,[A,m]},useMemoCache:tA,useCacheRefresh:function(){return _o().memoizedState=Gy.bind(null,Or)}},BQ={readContext:Ys,use:Zo,useCallback:Vy,useContext:Ys,useEffect:BS,useImperativeHandle:Hy,useInsertionEffect:Qy,useLayoutEffect:gh,useMemo:IS,useReducer:Zm,useRef:Av,useState:function(){return Zm(el)},useDebugValue:$y,useDeferredValue:function(A,m){var b=Xa();return hv(b,Kr.memoizedState,A,m)},useTransition:function(){var A=Zm(el)[0],m=Xa().memoizedState;return[typeof A=="boolean"?A:eA(A),m]},useSyncExternalStore:eg,useId:zy,useHostTransitionStatus:og,useFormState:fv,useActionState:fv,useOptimistic:function(A,m){var b=Xa();return Hd(b,Kr,A,m)},useMemoCache:tA,useCacheRefresh:FS},vge={readContext:Ys,use:Zo,useCallback:Vy,useContext:Ys,useEffect:BS,useImperativeHandle:Hy,useInsertionEffect:Qy,useLayoutEffect:gh,useMemo:IS,useReducer:uv,useRef:Av,useState:function(){return uv(el)},useDebugValue:$y,useDeferredValue:function(A,m){var b=Xa();return Kr===null?xh(b,A,m):hv(b,Kr.memoizedState,A,m)},useTransition:function(){var A=uv(el)[0],m=Xa().memoizedState;return[typeof A=="boolean"?A:eA(A),m]},useSyncExternalStore:eg,useId:zy,useHostTransitionStatus:og,useFormState:TS,useActionState:TS,useOptimistic:function(A,m){var b=Xa();return Kr!==null?Hd(b,Kr,A,m):(b.baseState=A,[A,b.queue.dispatch])},useMemoCache:tA,useCacheRefresh:FS},pv=null,Wy=0;function PS(A){var m=Wy;return Wy+=1,pv===null&&(pv=[]),it(pv,A,m)}function Xy(A,m){m=m.props.ref,A.ref=m!==void 0?m:null}function RS(A,m){throw m.$$typeof===f?Error(n(525)):(A=Object.prototype.toString.call(m),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":A)))}function jQ(A){var m=A._init;return m(A._payload)}function IQ(A){function m(Ye,He){if(A){var st=Ye.deletions;st===null?(Ye.deletions=[He],Ye.flags|=16):st.push(He)}}function b(Ye,He){if(!A)return null;for(;He!==null;)m(Ye,He),He=He.sibling;return null}function _(Ye){for(var He=new Map;Ye!==null;)Ye.key!==null?He.set(Ye.key,Ye):He.set(Ye.index,Ye),Ye=Ye.sibling;return He}function U(Ye,He){return Ye=Pu(Ye,He),Ye.index=0,Ye.sibling=null,Ye}function X(Ye,He,st){return Ye.index=st,A?(st=Ye.alternate,st!==null?(st=st.index,st<He?(Ye.flags|=67108866,He):st):(Ye.flags|=67108866,He)):(Ye.flags|=1048576,He)}function ue(Ye){return A&&Ye.alternate===null&&(Ye.flags|=67108866),Ye}function ye(Ye,He,st,jt){return He===null||He.tag!==6?(He=nv(st,Ye.mode,jt),He.return=Ye,He):(He=U(He,st),He.return=Ye,He)}function Re(Ye,He,st,jt){var xr=st.type;return xr===g?kt(Ye,He,st.props.children,jt,st.key):He!==null&&(He.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===N&&jQ(xr)===He.type)?(He=U(He,st.props),Xy(He,st),He.return=Ye,He):(He=uh(st.type,st.key,st.props,null,Ye.mode,jt),Xy(He,st),He.return=Ye,He)}function ct(Ye,He,st,jt){return He===null||He.tag!==4||He.stateNode.containerInfo!==st.containerInfo||He.stateNode.implementation!==st.implementation?(He=Km(st,Ye.mode,jt),He.return=Ye,He):(He=U(He,st.children||[]),He.return=Ye,He)}function kt(Ye,He,st,jt,xr){return He===null||He.tag!==7?(He=Dd(st,Ye.mode,jt,xr),He.return=Ye,He):(He=U(He,st),He.return=Ye,He)}function Lt(Ye,He,st){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return He=nv(""+He,Ye.mode,st),He.return=Ye,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case h:return st=uh(He.type,He.key,He.props,null,Ye.mode,st),Xy(st,He),st.return=Ye,st;case p:return He=Km(He,Ye.mode,st),He.return=Ye,He;case N:var jt=He._init;return He=jt(He._payload),Lt(Ye,He,st)}if(q(He)||T(He))return He=Dd(He,Ye.mode,st,null),He.return=Ye,He;if(typeof He.then=="function")return Lt(Ye,PS(He),st);if(He.$$typeof===E)return Lt(Ye,Yf(Ye,He),st);RS(Ye,He)}return null}function At(Ye,He,st,jt){var xr=He!==null?He.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return xr!==null?null:ye(Ye,He,""+st,jt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case h:return st.key===xr?Re(Ye,He,st,jt):null;case p:return st.key===xr?ct(Ye,He,st,jt):null;case N:return xr=st._init,st=xr(st._payload),At(Ye,He,st,jt)}if(q(st)||T(st))return xr!==null?null:kt(Ye,He,st,jt,null);if(typeof st.then=="function")return At(Ye,He,PS(st),jt);if(st.$$typeof===E)return At(Ye,He,Yf(Ye,st),jt);RS(Ye,st)}return null}function pt(Ye,He,st,jt,xr){if(typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint")return Ye=Ye.get(st)||null,ye(He,Ye,""+jt,xr);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case h:return Ye=Ye.get(jt.key===null?st:jt.key)||null,Re(He,Ye,jt,xr);case p:return Ye=Ye.get(jt.key===null?st:jt.key)||null,ct(He,Ye,jt,xr);case N:var Nn=jt._init;return jt=Nn(jt._payload),pt(Ye,He,st,jt,xr)}if(q(jt)||T(jt))return Ye=Ye.get(st)||null,kt(He,Ye,jt,xr,null);if(typeof jt.then=="function")return pt(Ye,He,st,PS(jt),xr);if(jt.$$typeof===E)return pt(Ye,He,st,Yf(He,jt),xr);RS(He,jt)}return null}function Jr(Ye,He,st,jt){for(var xr=null,Nn=null,Tr=He,$r=He=0,ao=null;Tr!==null&&$r<st.length;$r++){Tr.index>$r?(ao=Tr,Tr=null):ao=Tr.sibling;var ta=At(Ye,Tr,st[$r],jt);if(ta===null){Tr===null&&(Tr=ao);break}A&&Tr&&ta.alternate===null&&m(Ye,Tr),He=X(ta,He,$r),Nn===null?xr=ta:Nn.sibling=ta,Nn=ta,Tr=ao}if($r===st.length)return b(Ye,Tr),Gn&&fh(Ye,$r),xr;if(Tr===null){for(;$r<st.length;$r++)Tr=Lt(Ye,st[$r],jt),Tr!==null&&(He=X(Tr,He,$r),Nn===null?xr=Tr:Nn.sibling=Tr,Nn=Tr);return Gn&&fh(Ye,$r),xr}for(Tr=_(Tr);$r<st.length;$r++)ao=pt(Tr,Ye,$r,st[$r],jt),ao!==null&&(A&&ao.alternate!==null&&Tr.delete(ao.key===null?$r:ao.key),He=X(ao,He,$r),Nn===null?xr=ao:Nn.sibling=ao,Nn=ao);return A&&Tr.forEach(function(fp){return m(Ye,fp)}),Gn&&fh(Ye,$r),xr}function Hr(Ye,He,st,jt){if(st==null)throw Error(n(151));for(var xr=null,Nn=null,Tr=He,$r=He=0,ao=null,ta=st.next();Tr!==null&&!ta.done;$r++,ta=st.next()){Tr.index>$r?(ao=Tr,Tr=null):ao=Tr.sibling;var fp=At(Ye,Tr,ta.value,jt);if(fp===null){Tr===null&&(Tr=ao);break}A&&Tr&&fp.alternate===null&&m(Ye,Tr),He=X(fp,He,$r),Nn===null?xr=fp:Nn.sibling=fp,Nn=fp,Tr=ao}if(ta.done)return b(Ye,Tr),Gn&&fh(Ye,$r),xr;if(Tr===null){for(;!ta.done;$r++,ta=st.next())ta=Lt(Ye,ta.value,jt),ta!==null&&(He=X(ta,He,$r),Nn===null?xr=ta:Nn.sibling=ta,Nn=ta);return Gn&&fh(Ye,$r),xr}for(Tr=_(Tr);!ta.done;$r++,ta=st.next())ta=pt(Tr,Ye,$r,ta.value,jt),ta!==null&&(A&&ta.alternate!==null&&Tr.delete(ta.key===null?$r:ta.key),He=X(ta,He,$r),Nn===null?xr=ta:Nn.sibling=ta,Nn=ta);return A&&Tr.forEach(function(bxe){return m(Ye,bxe)}),Gn&&fh(Ye,$r),xr}function Ia(Ye,He,st,jt){if(typeof st=="object"&&st!==null&&st.type===g&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case h:e:{for(var xr=st.key;He!==null;){if(He.key===xr){if(xr=st.type,xr===g){if(He.tag===7){b(Ye,He.sibling),jt=U(He,st.props.children),jt.return=Ye,Ye=jt;break e}}else if(He.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===N&&jQ(xr)===He.type){b(Ye,He.sibling),jt=U(He,st.props),Xy(jt,st),jt.return=Ye,Ye=jt;break e}b(Ye,He);break}else m(Ye,He);He=He.sibling}st.type===g?(jt=Dd(st.props.children,Ye.mode,jt,st.key),jt.return=Ye,Ye=jt):(jt=uh(st.type,st.key,st.props,null,Ye.mode,jt),Xy(jt,st),jt.return=Ye,Ye=jt)}return ue(Ye);case p:e:{for(xr=st.key;He!==null;){if(He.key===xr)if(He.tag===4&&He.stateNode.containerInfo===st.containerInfo&&He.stateNode.implementation===st.implementation){b(Ye,He.sibling),jt=U(He,st.children||[]),jt.return=Ye,Ye=jt;break e}else{b(Ye,He);break}else m(Ye,He);He=He.sibling}jt=Km(st,Ye.mode,jt),jt.return=Ye,Ye=jt}return ue(Ye);case N:return xr=st._init,st=xr(st._payload),Ia(Ye,He,st,jt)}if(q(st))return Jr(Ye,He,st,jt);if(T(st)){if(xr=T(st),typeof xr!="function")throw Error(n(150));return st=xr.call(st),Hr(Ye,He,st,jt)}if(typeof st.then=="function")return Ia(Ye,He,PS(st),jt);if(st.$$typeof===E)return Ia(Ye,He,Yf(Ye,st),jt);RS(Ye,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,He!==null&&He.tag===6?(b(Ye,He.sibling),jt=U(He,st),jt.return=Ye,Ye=jt):(b(Ye,He),jt=nv(st,Ye.mode,jt),jt.return=Ye,Ye=jt),ue(Ye)):b(Ye,He)}return function(Ye,He,st,jt){try{Wy=0;var xr=Ia(Ye,He,st,jt);return pv=null,xr}catch(Tr){if(Tr===me||Tr===ve)throw Tr;var Nn=to(29,Tr,null,Ye.mode);return Nn.lanes=jt,Nn.return=Ye,Nn}finally{}}}var mv=IQ(!0),FQ=IQ(!1),Hu=ee(null),rA=null;function Y0(A){var m=A.alternate;H(Mi,Mi.current&1),H(Hu,A),rA===null&&(m===null||bn.current!==null||m.memoizedState!==null)&&(rA=A)}function OQ(A){if(A.tag===22){if(H(Mi,Mi.current),H(Hu,A),rA===null){var m=A.alternate;m!==null&&m.memoizedState!==null&&(rA=A)}}else J0()}function J0(){H(Mi,Mi.current),H(Hu,Hu.current)}function vh(A){M(Hu),rA===A&&(rA=null),M(Mi)}var Mi=ee(0);function LS(A){for(var m=A;m!==null;){if(m.tag===13){var b=m.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||G3(b)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===A)break;for(;m.sibling===null;){if(m.return===null||m.return===A)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function n3(A,m,b,_){m=A.memoizedState,b=b(_,m),b=b==null?m:d({},m,b),A.memoizedState=b,A.lanes===0&&(A.updateQueue.baseState=b)}var a3={enqueueSetState:function(A,m,b){A=A._reactInternals;var _=Kc(),U=Nt(_);U.payload=m,b!=null&&(U.callback=b),m=Ot(A,U,_),m!==null&&(qc(m,A,_),Bt(m,A,_))},enqueueReplaceState:function(A,m,b){A=A._reactInternals;var _=Kc(),U=Nt(_);U.tag=1,U.payload=m,b!=null&&(U.callback=b),m=Ot(A,U,_),m!==null&&(qc(m,A,_),Bt(m,A,_))},enqueueForceUpdate:function(A,m){A=A._reactInternals;var b=Kc(),_=Nt(b);_.tag=2,m!=null&&(_.callback=m),m=Ot(A,_,b),m!==null&&(qc(m,A,b),Bt(m,A,b))}};function DQ(A,m,b,_,U,X,ue){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(_,X,ue):m.prototype&&m.prototype.isPureReactComponent?!Mf(b,_)||!Mf(U,X):!0}function PQ(A,m,b,_){A=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(b,_),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(b,_),m.state!==A&&a3.enqueueReplaceState(m,m.state,null)}function lg(A,m){var b=m;if("ref"in m){b={};for(var _ in m)_!=="ref"&&(b[_]=m[_])}if(A=A.defaultProps){b===m&&(b=d({},b));for(var U in A)b[U]===void 0&&(b[U]=A[U])}return b}var MS=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function RQ(A){MS(A)}function LQ(A){console.error(A)}function MQ(A){MS(A)}function US(A,m){try{var b=A.onUncaughtError;b(m.value,{componentStack:m.stack})}catch(_){setTimeout(function(){throw _})}}function UQ(A,m,b){try{var _=A.onCaughtError;_(b.value,{componentStack:b.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function s3(A,m,b){return b=Nt(b),b.tag=3,b.payload={element:null},b.callback=function(){US(A,m)},b}function QQ(A){return A=Nt(A),A.tag=3,A}function HQ(A,m,b,_){var U=b.type.getDerivedStateFromError;if(typeof U=="function"){var X=_.value;A.payload=function(){return U(X)},A.callback=function(){UQ(m,b,_)}}var ue=b.stateNode;ue!==null&&typeof ue.componentDidCatch=="function"&&(A.callback=function(){UQ(m,b,_),typeof U!="function"&&(ap===null?ap=new Set([this]):ap.add(this));var ye=_.stack;this.componentDidCatch(_.value,{componentStack:ye!==null?ye:""})})}function bge(A,m,b,_,U){if(b.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(m=b.alternate,m!==null&&z0(m,b,U,!0),b=Hu.current,b!==null){switch(b.tag){case 13:return rA===null?T3():b.alternate===null&&Os===0&&(Os=3),b.flags&=-257,b.flags|=65536,b.lanes=U,_===Ce?b.flags|=16384:(m=b.updateQueue,m===null?b.updateQueue=new Set([_]):m.add(_),j3(A,_,U)),!1;case 22:return b.flags|=65536,_===Ce?b.flags|=16384:(m=b.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([_])},b.updateQueue=m):(b=m.retryQueue,b===null?m.retryQueue=new Set([_]):b.add(_)),j3(A,_,U)),!1}throw Error(n(435,b.tag))}return j3(A,_,U),T3(),!1}if(Gn)return m=Hu.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=U,_!==Oy&&(A=Error(n(422),{cause:_}),V0(yn(A,b)))):(_!==Oy&&(m=Error(n(423),{cause:_}),V0(yn(m,b))),A=A.current.alternate,A.flags|=65536,U&=-U,A.lanes|=U,_=yn(_,b),U=s3(A.stateNode,_,U),ar(A,U),Os!==4&&(Os=2)),!1;var X=Error(n(520),{cause:_});if(X=yn(X,b),nw===null?nw=[X]:nw.push(X),Os!==4&&(Os=2),m===null)return!0;_=yn(_,b),b=m;do{switch(b.tag){case 3:return b.flags|=65536,A=U&-U,b.lanes|=A,A=s3(b.stateNode,_,A),ar(b,A),!1;case 1:if(m=b.type,X=b.stateNode,(b.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(ap===null||!ap.has(X))))return b.flags|=65536,U&=-U,b.lanes|=U,U=QQ(U),HQ(U,A,b,_),ar(b,U),!1}b=b.return}while(b!==null);return!1}var $Q=Error(n(461)),ro=!1;function No(A,m,b,_){m.child=A===null?FQ(m,null,b,_):mv(m,A.child,b,_)}function VQ(A,m,b,_,U){b=b.render;var X=m.ref;if("ref"in _){var ue={};for(var ye in _)ye!=="ref"&&(ue[ye]=_[ye])}else ue=_;return Uu(m),_=Hc(A,m,b,ue,X,U),ye=Qa(),A!==null&&!ro?(Jm(A,m,U),bh(A,m,U)):(Gn&&ye&&qm(m),m.flags|=1,No(A,m,_,U),m.child)}function zQ(A,m,b,_,U){if(A===null){var X=b.type;return typeof X=="function"&&!H0(X)&&X.defaultProps===void 0&&b.compare===null?(m.tag=15,m.type=X,GQ(A,m,X,_,U)):(A=uh(b.type,null,_,m,m.mode,U),A.ref=m.ref,A.return=m,m.child=A)}if(X=A.child,!A3(A,U)){var ue=X.memoizedProps;if(b=b.compare,b=b!==null?b:Mf,b(ue,_)&&A.ref===m.ref)return bh(A,m,U)}return m.flags|=1,A=Pu(X,_),A.ref=m.ref,A.return=m,m.child=A}function GQ(A,m,b,_,U){if(A!==null){var X=A.memoizedProps;if(Mf(X,_)&&A.ref===m.ref)if(ro=!1,m.pendingProps=_=X,A3(A,U))(A.flags&131072)!==0&&(ro=!0);else return m.lanes=A.lanes,bh(A,m,U)}return i3(A,m,b,_,U)}function KQ(A,m,b){var _=m.pendingProps,U=_.children,X=A!==null?A.memoizedState:null;if(_.mode==="hidden"){if((m.flags&128)!==0){if(_=X!==null?X.baseLanes|b:b,A!==null){for(U=m.child=A.child,X=0;U!==null;)X=X|U.lanes|U.childLanes,U=U.sibling;m.childLanes=X&~_}else m.childLanes=0,m.child=null;return qQ(A,m,_,b)}if((b&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},A!==null&&ie(m,X!==null?X.cachePool:null),X!==null?da(m,X):Zn(),OQ(m);else return m.lanes=m.childLanes=536870912,qQ(A,m,X!==null?X.baseLanes|b:b,b)}else X!==null?(ie(m,X.cachePool),da(m,X),J0(),m.memoizedState=null):(A!==null&&ie(m,null),Zn(),J0());return No(A,m,U,b),m.child}function qQ(A,m,b,_){var U=te();return U=U===null?null:{parent:Js._currentValue,pool:U},m.memoizedState={baseLanes:b,cachePool:U},A!==null&&ie(m,null),Zn(),OQ(m),A!==null&&z0(A,m,_,!0),null}function QS(A,m){var b=m.ref;if(b===null)A!==null&&A.ref!==null&&(m.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(n(284));(A===null||A.ref!==b)&&(m.flags|=4194816)}}function i3(A,m,b,_,U){return Uu(m),b=Hc(A,m,b,_,void 0,U),_=Qa(),A!==null&&!ro?(Jm(A,m,U),bh(A,m,U)):(Gn&&_&&qm(m),m.flags|=1,No(A,m,b,U),m.child)}function WQ(A,m,b,_,U,X){return Uu(m),m.updateQueue=null,b=ph(m,_,b,U),Jf(A),_=Qa(),A!==null&&!ro?(Jm(A,m,X),bh(A,m,X)):(Gn&&_&&qm(m),m.flags|=1,No(A,m,b,X),m.child)}function XQ(A,m,b,_,U){if(Uu(m),m.stateNode===null){var X=vi,ue=b.contextType;typeof ue=="object"&&ue!==null&&(X=Ys(ue)),X=new b(_,X),m.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,X.updater=a3,m.stateNode=X,X._reactInternals=m,X=m.stateNode,X.props=_,X.state=m.memoizedState,X.refs={},Qe(m),ue=b.contextType,X.context=typeof ue=="object"&&ue!==null?Ys(ue):vi,X.state=m.memoizedState,ue=b.getDerivedStateFromProps,typeof ue=="function"&&(n3(m,b,ue,_),X.state=m.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(ue=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),ue!==X.state&&a3.enqueueReplaceState(X,X.state,null),nr(m,_,X,U),_r(),X.state=m.memoizedState),typeof X.componentDidMount=="function"&&(m.flags|=4194308),_=!0}else if(A===null){X=m.stateNode;var ye=m.memoizedProps,Re=lg(b,ye);X.props=Re;var ct=X.context,kt=b.contextType;ue=vi,typeof kt=="object"&&kt!==null&&(ue=Ys(kt));var Lt=b.getDerivedStateFromProps;kt=typeof Lt=="function"||typeof X.getSnapshotBeforeUpdate=="function",ye=m.pendingProps!==ye,kt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ye||ct!==ue)&&PQ(m,X,_,ue),gt=!1;var At=m.memoizedState;X.state=At,nr(m,_,X,U),_r(),ct=m.memoizedState,ye||At!==ct||gt?(typeof Lt=="function"&&(n3(m,b,Lt,_),ct=m.memoizedState),(Re=gt||DQ(m,b,Re,_,At,ct,ue))?(kt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(m.flags|=4194308)):(typeof X.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=_,m.memoizedState=ct),X.props=_,X.state=ct,X.context=ue,_=Re):(typeof X.componentDidMount=="function"&&(m.flags|=4194308),_=!1)}else{X=m.stateNode,$e(A,m),ue=m.memoizedProps,kt=lg(b,ue),X.props=kt,Lt=m.pendingProps,At=X.context,ct=b.contextType,Re=vi,typeof ct=="object"&&ct!==null&&(Re=Ys(ct)),ye=b.getDerivedStateFromProps,(ct=typeof ye=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ue!==Lt||At!==Re)&&PQ(m,X,_,Re),gt=!1,At=m.memoizedState,X.state=At,nr(m,_,X,U),_r();var pt=m.memoizedState;ue!==Lt||At!==pt||gt||A!==null&&A.dependencies!==null&&ov(A.dependencies)?(typeof ye=="function"&&(n3(m,b,ye,_),pt=m.memoizedState),(kt=gt||DQ(m,b,kt,_,At,pt,Re)||A!==null&&A.dependencies!==null&&ov(A.dependencies))?(ct||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(_,pt,Re),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(_,pt,Re)),typeof X.componentDidUpdate=="function"&&(m.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof X.componentDidUpdate!="function"||ue===A.memoizedProps&&At===A.memoizedState||(m.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ue===A.memoizedProps&&At===A.memoizedState||(m.flags|=1024),m.memoizedProps=_,m.memoizedState=pt),X.props=_,X.state=pt,X.context=Re,_=kt):(typeof X.componentDidUpdate!="function"||ue===A.memoizedProps&&At===A.memoizedState||(m.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ue===A.memoizedProps&&At===A.memoizedState||(m.flags|=1024),_=!1)}return X=_,QS(A,m),_=(m.flags&128)!==0,X||_?(X=m.stateNode,b=_&&typeof b.getDerivedStateFromError!="function"?null:X.render(),m.flags|=1,A!==null&&_?(m.child=mv(m,A.child,null,U),m.child=mv(m,null,b,U)):No(A,m,b,U),m.memoizedState=X.state,A=m.child):A=bh(A,m,U),A}function YQ(A,m,b,_){return Dl(),m.flags|=256,No(A,m,b,_),m.child}var o3={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l3(A){return{baseLanes:A,cachePool:fe()}}function c3(A,m,b){return A=A!==null?A.childLanes&~b:0,m&&(A|=$u),A}function JQ(A,m,b){var _=m.pendingProps,U=!1,X=(m.flags&128)!==0,ue;if((ue=X)||(ue=A!==null&&A.memoizedState===null?!1:(Mi.current&2)!==0),ue&&(U=!0,m.flags&=-129),ue=(m.flags&32)!==0,m.flags&=-33,A===null){if(Gn){if(U?Y0(m):J0(),Gn){var ye=os,Re;if(Re=ye){e:{for(Re=ye,ye=Ru;Re.nodeType!==8;){if(!ye){ye=null;break e}if(Re=Kd(Re.nextSibling),Re===null){ye=null;break e}}ye=Re}ye!==null?(m.memoizedState={dehydrated:ye,treeContext:dh!==null?{id:Rd,overflow:Ld}:null,retryLane:536870912,hydrationErrors:null},Re=to(18,null,null,0),Re.stateNode=ye,Re.return=m,m.child=Re,Xs=m,os=null,Re=!0):Re=!1}Re||Ah(m)}if(ye=m.memoizedState,ye!==null&&(ye=ye.dehydrated,ye!==null))return G3(ye)?m.lanes=32:m.lanes=536870912,null;vh(m)}return ye=_.children,_=_.fallback,U?(J0(),U=m.mode,ye=HS({mode:"hidden",children:ye},U),_=Dd(_,U,b,null),ye.return=m,_.return=m,ye.sibling=_,m.child=ye,U=m.child,U.memoizedState=l3(b),U.childLanes=c3(A,ue,b),m.memoizedState=o3,_):(Y0(m),u3(m,ye))}if(Re=A.memoizedState,Re!==null&&(ye=Re.dehydrated,ye!==null)){if(X)m.flags&256?(Y0(m),m.flags&=-257,m=d3(A,m,b)):m.memoizedState!==null?(J0(),m.child=A.child,m.flags|=128,m=null):(J0(),U=_.fallback,ye=m.mode,_=HS({mode:"visible",children:_.children},ye),U=Dd(U,ye,b,null),U.flags|=2,_.return=m,U.return=m,_.sibling=U,m.child=_,mv(m,A.child,null,b),_=m.child,_.memoizedState=l3(b),_.childLanes=c3(A,ue,b),m.memoizedState=o3,m=U);else if(Y0(m),G3(ye)){if(ue=ye.nextSibling&&ye.nextSibling.dataset,ue)var ct=ue.dgst;ue=ct,_=Error(n(419)),_.stack="",_.digest=ue,V0({value:_,source:null,stack:null}),m=d3(A,m,b)}else if(ro||z0(A,m,b,!1),ue=(b&A.childLanes)!==0,ro||ue){if(ue=Ha,ue!==null&&(_=b&-b,_=(_&42)!==0?1:xt(_),_=(_&(ue.suspendedLanes|b))!==0?0:_,_!==0&&_!==Re.retryLane))throw Re.retryLane=_,Od(A,_),qc(ue,A,_),$Q;ye.data==="$?"||T3(),m=d3(A,m,b)}else ye.data==="$?"?(m.flags|=192,m.child=A.child,m=null):(A=Re.treeContext,os=Kd(ye.nextSibling),Xs=m,Gn=!0,Wf=null,Ru=!1,A!==null&&(lc[Ol++]=Rd,lc[Ol++]=Ld,lc[Ol++]=dh,Rd=A.id,Ld=A.overflow,dh=m),m=u3(m,_.children),m.flags|=4096);return m}return U?(J0(),U=_.fallback,ye=m.mode,Re=A.child,ct=Re.sibling,_=Pu(Re,{mode:"hidden",children:_.children}),_.subtreeFlags=Re.subtreeFlags&65011712,ct!==null?U=Pu(ct,U):(U=Dd(U,ye,b,null),U.flags|=2),U.return=m,_.return=m,_.sibling=U,m.child=_,_=U,U=m.child,ye=A.child.memoizedState,ye===null?ye=l3(b):(Re=ye.cachePool,Re!==null?(ct=Js._currentValue,Re=Re.parent!==ct?{parent:ct,pool:ct}:Re):Re=fe(),ye={baseLanes:ye.baseLanes|b,cachePool:Re}),U.memoizedState=ye,U.childLanes=c3(A,ue,b),m.memoizedState=o3,_):(Y0(m),b=A.child,A=b.sibling,b=Pu(b,{mode:"visible",children:_.children}),b.return=m,b.sibling=null,A!==null&&(ue=m.deletions,ue===null?(m.deletions=[A],m.flags|=16):ue.push(A)),m.child=b,m.memoizedState=null,b)}function u3(A,m){return m=HS({mode:"visible",children:m},A.mode),m.return=A,A.child=m}function HS(A,m){return A=to(22,A,null,m),A.lanes=0,A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},A}function d3(A,m,b){return mv(m,A.child,null,b),A=u3(m,m.pendingProps.children),A.flags|=2,m.memoizedState=null,A}function ZQ(A,m,b){A.lanes|=m;var _=A.alternate;_!==null&&(_.lanes|=m),sv(A.return,m,b)}function f3(A,m,b,_,U){var X=A.memoizedState;X===null?A.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:_,tail:b,tailMode:U}:(X.isBackwards=m,X.rendering=null,X.renderingStartTime=0,X.last=_,X.tail=b,X.tailMode=U)}function eH(A,m,b){var _=m.pendingProps,U=_.revealOrder,X=_.tail;if(No(A,m,_.children,b),_=Mi.current,(_&2)!==0)_=_&1|2,m.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=m.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&ZQ(A,b,m);else if(A.tag===19)ZQ(A,b,m);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break e;for(;A.sibling===null;){if(A.return===null||A.return===m)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}_&=1}switch(H(Mi,_),U){case"forwards":for(b=m.child,U=null;b!==null;)A=b.alternate,A!==null&&LS(A)===null&&(U=b),b=b.sibling;b=U,b===null?(U=m.child,m.child=null):(U=b.sibling,b.sibling=null),f3(m,!1,U,b,X);break;case"backwards":for(b=null,U=m.child,m.child=null;U!==null;){if(A=U.alternate,A!==null&&LS(A)===null){m.child=U;break}A=U.sibling,U.sibling=b,b=U,U=A}f3(m,!0,b,null,X);break;case"together":f3(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function bh(A,m,b){if(A!==null&&(m.dependencies=A.dependencies),np|=m.lanes,(b&m.childLanes)===0)if(A!==null){if(z0(A,m,b,!1),(b&m.childLanes)===0)return null}else return null;if(A!==null&&m.child!==A.child)throw Error(n(153));if(m.child!==null){for(A=m.child,b=Pu(A,A.pendingProps),m.child=b,b.return=m;A.sibling!==null;)A=A.sibling,b=b.sibling=Pu(A,A.pendingProps),b.return=m;b.sibling=null}return m.child}function A3(A,m){return(A.lanes&m)!==0?!0:(A=A.dependencies,!!(A!==null&&ov(A)))}function yge(A,m,b){switch(m.tag){case 3:se(m,m.stateNode.containerInfo),Xf(m,Js,A.memoizedState.cache),Dl();break;case 27:case 5:de(m);break;case 4:se(m,m.stateNode.containerInfo);break;case 10:Xf(m,m.type,m.memoizedProps.value);break;case 13:var _=m.memoizedState;if(_!==null)return _.dehydrated!==null?(Y0(m),m.flags|=128,null):(b&m.child.childLanes)!==0?JQ(A,m,b):(Y0(m),A=bh(A,m,b),A!==null?A.sibling:null);Y0(m);break;case 19:var U=(A.flags&128)!==0;if(_=(b&m.childLanes)!==0,_||(z0(A,m,b,!1),_=(b&m.childLanes)!==0),U){if(_)return eH(A,m,b);m.flags|=128}if(U=m.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),H(Mi,Mi.current),_)break;return null;case 22:case 23:return m.lanes=0,KQ(A,m,b);case 24:Xf(m,Js,A.memoizedState.cache)}return bh(A,m,b)}function tH(A,m,b){if(A!==null)if(A.memoizedProps!==m.pendingProps)ro=!0;else{if(!A3(A,b)&&(m.flags&128)===0)return ro=!1,yge(A,m,b);ro=(A.flags&131072)!==0}else ro=!1,Gn&&(m.flags&1048576)!==0&&xS(m,av,m.index);switch(m.lanes=0,m.tag){case 16:e:{A=m.pendingProps;var _=m.elementType,U=_._init;if(_=U(_._payload),m.type=_,typeof _=="function")H0(_)?(A=lg(_,A),m.tag=1,m=XQ(null,m,_,A,b)):(m.tag=0,m=i3(null,m,_,A,b));else{if(_!=null){if(U=_.$$typeof,U===k){m.tag=11,m=VQ(null,m,_,A,b);break e}else if(U===C){m.tag=14,m=zQ(null,m,_,A,b);break e}}throw m=R(_)||_,Error(n(306,m,""))}}return m;case 0:return i3(A,m,m.type,m.pendingProps,b);case 1:return _=m.type,U=lg(_,m.pendingProps),XQ(A,m,_,U,b);case 3:e:{if(se(m,m.stateNode.containerInfo),A===null)throw Error(n(387));_=m.pendingProps;var X=m.memoizedState;U=X.element,$e(A,m),nr(m,_,null,b);var ue=m.memoizedState;if(_=ue.cache,Xf(m,Js,_),_!==X.cache&&iv(m,[Js],b,!0),_r(),_=ue.element,X.isDehydrated)if(X={element:_,isDehydrated:!1,cache:ue.cache},m.updateQueue.baseState=X,m.memoizedState=X,m.flags&256){m=YQ(A,m,_,b);break e}else if(_!==U){U=yn(Error(n(424)),m),V0(U),m=YQ(A,m,_,b);break e}else{switch(A=m.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(os=Kd(A.firstChild),Xs=m,Gn=!0,Wf=null,Ru=!0,b=FQ(m,null,_,b),m.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling}else{if(Dl(),_===U){m=bh(A,m,b);break e}No(A,m,_,b)}m=m.child}return m;case 26:return QS(A,m),A===null?(b=s$(m.type,null,m.pendingProps,null))?m.memoizedState=b:Gn||(b=m.type,A=m.pendingProps,_=r_(ae.current).createElement(b),_[sr]=m,_[Er]=A,To(_,b,A),Ke(_),m.stateNode=_):m.memoizedState=s$(m.type,A.memoizedProps,m.pendingProps,A.memoizedState),null;case 27:return de(m),A===null&&Gn&&(_=m.stateNode=r$(m.type,m.pendingProps,ae.current),Xs=m,Ru=!0,U=os,op(m.type)?(K3=U,os=Kd(_.firstChild)):os=U),No(A,m,m.pendingProps.children,b),QS(A,m),A===null&&(m.flags|=4194304),m.child;case 5:return A===null&&Gn&&((U=_=os)&&(_=Wge(_,m.type,m.pendingProps,Ru),_!==null?(m.stateNode=_,Xs=m,os=Kd(_.firstChild),Ru=!1,U=!0):U=!1),U||Ah(m)),de(m),U=m.type,X=m.pendingProps,ue=A!==null?A.memoizedProps:null,_=X.children,$3(U,X)?_=null:ue!==null&&$3(U,ue)&&(m.flags|=32),m.memoizedState!==null&&(U=Hc(A,m,Zf,null,null,b),fw._currentValue=U),QS(A,m),No(A,m,_,b),m.child;case 6:return A===null&&Gn&&((A=b=os)&&(b=Xge(b,m.pendingProps,Ru),b!==null?(m.stateNode=b,Xs=m,os=null,A=!0):A=!1),A||Ah(m)),null;case 13:return JQ(A,m,b);case 4:return se(m,m.stateNode.containerInfo),_=m.pendingProps,A===null?m.child=mv(m,null,_,b):No(A,m,_,b),m.child;case 11:return VQ(A,m,m.type,m.pendingProps,b);case 7:return No(A,m,m.pendingProps,b),m.child;case 8:return No(A,m,m.pendingProps.children,b),m.child;case 12:return No(A,m,m.pendingProps.children,b),m.child;case 10:return _=m.pendingProps,Xf(m,m.type,_.value),No(A,m,_.children,b),m.child;case 9:return U=m.type._context,_=m.pendingProps.children,Uu(m),U=Ys(U),_=_(U),m.flags|=1,No(A,m,_,b),m.child;case 14:return zQ(A,m,m.type,m.pendingProps,b);case 15:return GQ(A,m,m.type,m.pendingProps,b);case 19:return eH(A,m,b);case 31:return _=m.pendingProps,b=m.mode,_={mode:_.mode,children:_.children},A===null?(b=HS(_,b),b.ref=m.ref,m.child=b,b.return=m,m=b):(b=Pu(A.child,_),b.ref=m.ref,m.child=b,b.return=m,m=b),m;case 22:return KQ(A,m,b);case 24:return Uu(m),_=Ys(Js),A===null?(U=te(),U===null&&(U=Ha,X=Dy(),U.pooledCache=X,X.refCount++,X!==null&&(U.pooledCacheLanes|=b),U=X),m.memoizedState={parent:_,cache:U},Qe(m),Xf(m,Js,U)):((A.lanes&b)!==0&&($e(A,m),nr(m,null,null,b),_r()),U=A.memoizedState,X=m.memoizedState,U.parent!==_?(U={parent:_,cache:_},m.memoizedState=U,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=U),Xf(m,Js,_)):(_=X.cache,Xf(m,Js,_),_!==U.cache&&iv(m,[Js],b,!0))),No(A,m,m.pendingProps.children,b),m.child;case 29:throw m.pendingProps}throw Error(n(156,m.tag))}function yh(A){A.flags|=4}function rH(A,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!u$(m)){if(m=Hu.current,m!==null&&(($n&4194048)===$n?rA!==null:($n&62914560)!==$n&&($n&536870912)===0||m!==rA))throw rt=Ce,ge;A.flags|=8192}}function $S(A,m){m!==null&&(A.flags|=4),A.flags&16384&&(m=A.tag!==22?gr():536870912,A.lanes|=m,bv|=m)}function Yy(A,m){if(!Gn)switch(A.tailMode){case"hidden":m=A.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?A.tail=null:b.sibling=null;break;case"collapsed":b=A.tail;for(var _=null;b!==null;)b.alternate!==null&&(_=b),b=b.sibling;_===null?m||A.tail===null?A.tail=null:A.tail.sibling=null:_.sibling=null}}function vs(A){var m=A.alternate!==null&&A.alternate.child===A.child,b=0,_=0;if(m)for(var U=A.child;U!==null;)b|=U.lanes|U.childLanes,_|=U.subtreeFlags&65011712,_|=U.flags&65011712,U.return=A,U=U.sibling;else for(U=A.child;U!==null;)b|=U.lanes|U.childLanes,_|=U.subtreeFlags,_|=U.flags,U.return=A,U=U.sibling;return A.subtreeFlags|=_,A.childLanes=b,m}function wge(A,m,b){var _=m.pendingProps;switch(Wm(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(m),null;case 1:return vs(m),null;case 3:return b=m.stateNode,_=null,A!==null&&(_=A.memoizedState.cache),m.memoizedState.cache!==_&&(m.flags|=2048),Mu(Js),ce(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(A===null||A.child===null)&&(So(m)?yh(m):A===null||A.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,bS())),vs(m),null;case 26:return b=m.memoizedState,A===null?(yh(m),b!==null?(vs(m),rH(m,b)):(vs(m),m.flags&=-16777217)):b?b!==A.memoizedState?(yh(m),vs(m),rH(m,b)):(vs(m),m.flags&=-16777217):(A.memoizedProps!==_&&yh(m),vs(m),m.flags&=-16777217),null;case 27:ke(m),b=ae.current;var U=m.type;if(A!==null&&m.stateNode!=null)A.memoizedProps!==_&&yh(m);else{if(!_){if(m.stateNode===null)throw Error(n(166));return vs(m),null}A=W.current,So(m)?vS(m):(A=r$(U,_,b),m.stateNode=A,yh(m))}return vs(m),null;case 5:if(ke(m),b=m.type,A!==null&&m.stateNode!=null)A.memoizedProps!==_&&yh(m);else{if(!_){if(m.stateNode===null)throw Error(n(166));return vs(m),null}if(A=W.current,So(m))vS(m);else{switch(U=r_(ae.current),A){case 1:A=U.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:A=U.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":A=U.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":A=U.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":A=U.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof _.is=="string"?U.createElement("select",{is:_.is}):U.createElement("select"),_.multiple?A.multiple=!0:_.size&&(A.size=_.size);break;default:A=typeof _.is=="string"?U.createElement(b,{is:_.is}):U.createElement(b)}}A[sr]=m,A[Er]=_;e:for(U=m.child;U!==null;){if(U.tag===5||U.tag===6)A.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===m)break e;for(;U.sibling===null;){if(U.return===null||U.return===m)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}m.stateNode=A;e:switch(To(A,b,_),b){case"button":case"input":case"select":case"textarea":A=!!_.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&yh(m)}}return vs(m),m.flags&=-16777217,null;case 6:if(A&&m.stateNode!=null)A.memoizedProps!==_&&yh(m);else{if(typeof _!="string"&&m.stateNode===null)throw Error(n(166));if(A=ae.current,So(m)){if(A=m.stateNode,b=m.memoizedProps,_=null,U=Xs,U!==null)switch(U.tag){case 27:case 5:_=U.memoizedProps}A[sr]=m,A=!!(A.nodeValue===b||_!==null&&_.suppressHydrationWarning===!0||WH(A.nodeValue,b)),A||Ah(m)}else A=r_(A).createTextNode(_),A[sr]=m,m.stateNode=A}return vs(m),null;case 13:if(_=m.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(U=So(m),_!==null&&_.dehydrated!==null){if(A===null){if(!U)throw Error(n(318));if(U=m.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[sr]=m}else Dl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;vs(m),U=!1}else U=bS(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=U),U=!0;if(!U)return m.flags&256?(vh(m),m):(vh(m),null)}if(vh(m),(m.flags&128)!==0)return m.lanes=b,m;if(b=_!==null,A=A!==null&&A.memoizedState!==null,b){_=m.child,U=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(U=_.alternate.memoizedState.cachePool.pool);var X=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(X=_.memoizedState.cachePool.pool),X!==U&&(_.flags|=2048)}return b!==A&&b&&(m.child.flags|=8192),$S(m,m.updateQueue),vs(m),null;case 4:return ce(),A===null&&L3(m.stateNode.containerInfo),vs(m),null;case 10:return Mu(m.type),vs(m),null;case 19:if(M(Mi),U=m.memoizedState,U===null)return vs(m),null;if(_=(m.flags&128)!==0,X=U.rendering,X===null)if(_)Yy(U,!1);else{if(Os!==0||A!==null&&(A.flags&128)!==0)for(A=m.child;A!==null;){if(X=LS(A),X!==null){for(m.flags|=128,Yy(U,!1),A=X.updateQueue,m.updateQueue=A,$S(m,A),m.subtreeFlags=0,A=b,b=m.child;b!==null;)Gm(b,A),b=b.sibling;return H(Mi,Mi.current&1|2),m.child}A=A.sibling}U.tail!==null&&Be()>GS&&(m.flags|=128,_=!0,Yy(U,!1),m.lanes=4194304)}else{if(!_)if(A=LS(X),A!==null){if(m.flags|=128,_=!0,A=A.updateQueue,m.updateQueue=A,$S(m,A),Yy(U,!0),U.tail===null&&U.tailMode==="hidden"&&!X.alternate&&!Gn)return vs(m),null}else 2*Be()-U.renderingStartTime>GS&&b!==536870912&&(m.flags|=128,_=!0,Yy(U,!1),m.lanes=4194304);U.isBackwards?(X.sibling=m.child,m.child=X):(A=U.last,A!==null?A.sibling=X:m.child=X,U.last=X)}return U.tail!==null?(m=U.tail,U.rendering=m,U.tail=m.sibling,U.renderingStartTime=Be(),m.sibling=null,A=Mi.current,H(Mi,_?A&1|2:A&1),m):(vs(m),null);case 22:case 23:return vh(m),sn(),_=m.memoizedState!==null,A!==null?A.memoizedState!==null!==_&&(m.flags|=8192):_&&(m.flags|=8192),_?(b&536870912)!==0&&(m.flags&128)===0&&(vs(m),m.subtreeFlags&6&&(m.flags|=8192)):vs(m),b=m.updateQueue,b!==null&&$S(m,b.retryQueue),b=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(b=A.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==b&&(m.flags|=2048),A!==null&&M(V),null;case 24:return b=null,A!==null&&(b=A.memoizedState.cache),m.memoizedState.cache!==b&&(m.flags|=2048),Mu(Js),vs(m),null;case 25:return null;case 30:return null}throw Error(n(156,m.tag))}function Cge(A,m){switch(Wm(m),m.tag){case 1:return A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 3:return Mu(Js),ce(),A=m.flags,(A&65536)!==0&&(A&128)===0?(m.flags=A&-65537|128,m):null;case 26:case 27:case 5:return ke(m),null;case 13:if(vh(m),A=m.memoizedState,A!==null&&A.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Dl()}return A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 19:return M(Mi),null;case 4:return ce(),null;case 10:return Mu(m.type),null;case 22:case 23:return vh(m),sn(),A!==null&&M(V),A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 24:return Mu(Js),null;case 25:return null;default:return null}}function nH(A,m){switch(Wm(m),m.tag){case 3:Mu(Js),ce();break;case 26:case 27:case 5:ke(m);break;case 4:ce();break;case 13:vh(m);break;case 19:M(Mi);break;case 10:Mu(m.type);break;case 22:case 23:vh(m),sn(),A!==null&&M(V);break;case 24:Mu(Js)}}function Jy(A,m){try{var b=m.updateQueue,_=b!==null?b.lastEffect:null;if(_!==null){var U=_.next;b=U;do{if((b.tag&A)===A){_=void 0;var X=b.create,ue=b.inst;_=X(),ue.destroy=_}b=b.next}while(b!==U)}}catch(ye){Pa(m,m.return,ye)}}function Z0(A,m,b){try{var _=m.updateQueue,U=_!==null?_.lastEffect:null;if(U!==null){var X=U.next;_=X;do{if((_.tag&A)===A){var ue=_.inst,ye=ue.destroy;if(ye!==void 0){ue.destroy=void 0,U=m;var Re=b,ct=ye;try{ct()}catch(kt){Pa(U,Re,kt)}}}_=_.next}while(_!==X)}}catch(kt){Pa(m,m.return,kt)}}function aH(A){var m=A.updateQueue;if(m!==null){var b=A.stateNode;try{Jn(m,b)}catch(_){Pa(A,A.return,_)}}}function sH(A,m,b){b.props=lg(A.type,A.memoizedProps),b.state=A.memoizedState;try{b.componentWillUnmount()}catch(_){Pa(A,m,_)}}function Zy(A,m){try{var b=A.ref;if(b!==null){switch(A.tag){case 26:case 27:case 5:var _=A.stateNode;break;case 30:_=A.stateNode;break;default:_=A.stateNode}typeof b=="function"?A.refCleanup=b(_):b.current=_}}catch(U){Pa(A,m,U)}}function nA(A,m){var b=A.ref,_=A.refCleanup;if(b!==null)if(typeof _=="function")try{_()}catch(U){Pa(A,m,U)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(U){Pa(A,m,U)}else b.current=null}function iH(A){var m=A.type,b=A.memoizedProps,_=A.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":b.autoFocus&&_.focus();break e;case"img":b.src?_.src=b.src:b.srcSet&&(_.srcset=b.srcSet)}}catch(U){Pa(A,A.return,U)}}function h3(A,m,b){try{var _=A.stateNode;Vge(_,A.type,b,m),_[Er]=m}catch(U){Pa(A,A.return,U)}}function oH(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&op(A.type)||A.tag===4}function p3(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||oH(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&op(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function m3(A,m,b){var _=A.tag;if(_===5||_===6)A=A.stateNode,m?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(A,m):(m=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,m.appendChild(A),b=b._reactRootContainer,b!=null||m.onclick!==null||(m.onclick=t_));else if(_!==4&&(_===27&&op(A.type)&&(b=A.stateNode,m=null),A=A.child,A!==null))for(m3(A,m,b),A=A.sibling;A!==null;)m3(A,m,b),A=A.sibling}function VS(A,m,b){var _=A.tag;if(_===5||_===6)A=A.stateNode,m?b.insertBefore(A,m):b.appendChild(A);else if(_!==4&&(_===27&&op(A.type)&&(b=A.stateNode),A=A.child,A!==null))for(VS(A,m,b),A=A.sibling;A!==null;)VS(A,m,b),A=A.sibling}function lH(A){var m=A.stateNode,b=A.memoizedProps;try{for(var _=A.type,U=m.attributes;U.length;)m.removeAttributeNode(U[0]);To(m,_,b),m[sr]=A,m[Er]=b}catch(X){Pa(A,A.return,X)}}var wh=!1,ei=!1,g3=!1,cH=typeof WeakSet=="function"?WeakSet:Set,no=null;function Ege(A,m){if(A=A.containerInfo,Q3=l_,A=Eo(A),Li(A)){if("selectionStart"in A)var b={start:A.selectionStart,end:A.selectionEnd};else e:{b=(b=A.ownerDocument)&&b.defaultView||window;var _=b.getSelection&&b.getSelection();if(_&&_.rangeCount!==0){b=_.anchorNode;var U=_.anchorOffset,X=_.focusNode;_=_.focusOffset;try{b.nodeType,X.nodeType}catch{b=null;break e}var ue=0,ye=-1,Re=-1,ct=0,kt=0,Lt=A,At=null;t:for(;;){for(var pt;Lt!==b||U!==0&&Lt.nodeType!==3||(ye=ue+U),Lt!==X||_!==0&&Lt.nodeType!==3||(Re=ue+_),Lt.nodeType===3&&(ue+=Lt.nodeValue.length),(pt=Lt.firstChild)!==null;)At=Lt,Lt=pt;for(;;){if(Lt===A)break t;if(At===b&&++ct===U&&(ye=ue),At===X&&++kt===_&&(Re=ue),(pt=Lt.nextSibling)!==null)break;Lt=At,At=Lt.parentNode}Lt=pt}b=ye===-1||Re===-1?null:{start:ye,end:Re}}else b=null}b=b||{start:0,end:0}}else b=null;for(H3={focusedElem:A,selectionRange:b},l_=!1,no=m;no!==null;)if(m=no,A=m.child,(m.subtreeFlags&1024)!==0&&A!==null)A.return=m,no=A;else for(;no!==null;){switch(m=no,X=m.alternate,A=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((A&1024)!==0&&X!==null){A=void 0,b=m,U=X.memoizedProps,X=X.memoizedState,_=b.stateNode;try{var Jr=lg(b.type,U,b.elementType===b.type);A=_.getSnapshotBeforeUpdate(Jr,X),_.__reactInternalSnapshotBeforeUpdate=A}catch(Hr){Pa(b,b.return,Hr)}}break;case 3:if((A&1024)!==0){if(A=m.stateNode.containerInfo,b=A.nodeType,b===9)z3(A);else if(b===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":z3(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(n(163))}if(A=m.sibling,A!==null){A.return=m.return,no=A;break}no=m.return}}function uH(A,m,b){var _=b.flags;switch(b.tag){case 0:case 11:case 15:ep(A,b),_&4&&Jy(5,b);break;case 1:if(ep(A,b),_&4)if(A=b.stateNode,m===null)try{A.componentDidMount()}catch(ue){Pa(b,b.return,ue)}else{var U=lg(b.type,m.memoizedProps);m=m.memoizedState;try{A.componentDidUpdate(U,m,A.__reactInternalSnapshotBeforeUpdate)}catch(ue){Pa(b,b.return,ue)}}_&64&&aH(b),_&512&&Zy(b,b.return);break;case 3:if(ep(A,b),_&64&&(A=b.updateQueue,A!==null)){if(m=null,b.child!==null)switch(b.child.tag){case 27:case 5:m=b.child.stateNode;break;case 1:m=b.child.stateNode}try{Jn(A,m)}catch(ue){Pa(b,b.return,ue)}}break;case 27:m===null&&_&4&&lH(b);case 26:case 5:ep(A,b),m===null&&_&4&&iH(b),_&512&&Zy(b,b.return);break;case 12:ep(A,b);break;case 13:ep(A,b),_&4&&AH(A,b),_&64&&(A=b.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(b=Fge.bind(null,b),Yge(A,b))));break;case 22:if(_=b.memoizedState!==null||wh,!_){m=m!==null&&m.memoizedState!==null||ei,U=wh;var X=ei;wh=_,(ei=m)&&!X?tp(A,b,(b.subtreeFlags&8772)!==0):ep(A,b),wh=U,ei=X}break;case 30:break;default:ep(A,b)}}function dH(A){var m=A.alternate;m!==null&&(A.alternate=null,dH(m)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(m=A.stateNode,m!==null&&we(m)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var ls=null,uc=!1;function Ch(A,m,b){for(b=b.child;b!==null;)fH(A,m,b),b=b.sibling}function fH(A,m,b){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(ht,b)}catch{}switch(b.tag){case 26:ei||nA(b,m),Ch(A,m,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:ei||nA(b,m);var _=ls,U=uc;op(b.type)&&(ls=b.stateNode,uc=!1),Ch(A,m,b),lw(b.stateNode),ls=_,uc=U;break;case 5:ei||nA(b,m);case 6:if(_=ls,U=uc,ls=null,Ch(A,m,b),ls=_,uc=U,ls!==null)if(uc)try{(ls.nodeType===9?ls.body:ls.nodeName==="HTML"?ls.ownerDocument.body:ls).removeChild(b.stateNode)}catch(X){Pa(b,m,X)}else try{ls.removeChild(b.stateNode)}catch(X){Pa(b,m,X)}break;case 18:ls!==null&&(uc?(A=ls,e$(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,b.stateNode),mw(A)):e$(ls,b.stateNode));break;case 4:_=ls,U=uc,ls=b.stateNode.containerInfo,uc=!0,Ch(A,m,b),ls=_,uc=U;break;case 0:case 11:case 14:case 15:ei||Z0(2,b,m),ei||Z0(4,b,m),Ch(A,m,b);break;case 1:ei||(nA(b,m),_=b.stateNode,typeof _.componentWillUnmount=="function"&&sH(b,m,_)),Ch(A,m,b);break;case 21:Ch(A,m,b);break;case 22:ei=(_=ei)||b.memoizedState!==null,Ch(A,m,b),ei=_;break;default:Ch(A,m,b)}}function AH(A,m){if(m.memoizedState===null&&(A=m.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{mw(A)}catch(b){Pa(m,m.return,b)}}function Sge(A){switch(A.tag){case 13:case 19:var m=A.stateNode;return m===null&&(m=A.stateNode=new cH),m;case 22:return A=A.stateNode,m=A._retryCache,m===null&&(m=A._retryCache=new cH),m;default:throw Error(n(435,A.tag))}}function x3(A,m){var b=Sge(A);m.forEach(function(_){var U=Oge.bind(null,A,_);b.has(_)||(b.add(_),_.then(U,U))})}function Vc(A,m){var b=m.deletions;if(b!==null)for(var _=0;_<b.length;_++){var U=b[_],X=A,ue=m,ye=ue;e:for(;ye!==null;){switch(ye.tag){case 27:if(op(ye.type)){ls=ye.stateNode,uc=!1;break e}break;case 5:ls=ye.stateNode,uc=!1;break e;case 3:case 4:ls=ye.stateNode.containerInfo,uc=!0;break e}ye=ye.return}if(ls===null)throw Error(n(160));fH(X,ue,U),ls=null,uc=!1,X=U.alternate,X!==null&&(X.return=null),U.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)hH(m,A),m=m.sibling}var Gd=null;function hH(A,m){var b=A.alternate,_=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:Vc(m,A),zc(A),_&4&&(Z0(3,A,A.return),Jy(3,A),Z0(5,A,A.return));break;case 1:Vc(m,A),zc(A),_&512&&(ei||b===null||nA(b,b.return)),_&64&&wh&&(A=A.updateQueue,A!==null&&(_=A.callbacks,_!==null&&(b=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=b===null?_:b.concat(_))));break;case 26:var U=Gd;if(Vc(m,A),zc(A),_&512&&(ei||b===null||nA(b,b.return)),_&4){var X=b!==null?b.memoizedState:null;if(_=A.memoizedState,b===null)if(_===null)if(A.stateNode===null){e:{_=A.type,b=A.memoizedProps,U=U.ownerDocument||U;t:switch(_){case"title":X=U.getElementsByTagName("title")[0],(!X||X[Ee]||X[sr]||X.namespaceURI==="http://www.w3.org/2000/svg"||X.hasAttribute("itemprop"))&&(X=U.createElement(_),U.head.insertBefore(X,U.querySelector("head > title"))),To(X,_,b),X[sr]=A,Ke(X),_=X;break e;case"link":var ue=l$("link","href",U).get(_+(b.href||""));if(ue){for(var ye=0;ye<ue.length;ye++)if(X=ue[ye],X.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&X.getAttribute("rel")===(b.rel==null?null:b.rel)&&X.getAttribute("title")===(b.title==null?null:b.title)&&X.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){ue.splice(ye,1);break t}}X=U.createElement(_),To(X,_,b),U.head.appendChild(X);break;case"meta":if(ue=l$("meta","content",U).get(_+(b.content||""))){for(ye=0;ye<ue.length;ye++)if(X=ue[ye],X.getAttribute("content")===(b.content==null?null:""+b.content)&&X.getAttribute("name")===(b.name==null?null:b.name)&&X.getAttribute("property")===(b.property==null?null:b.property)&&X.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&X.getAttribute("charset")===(b.charSet==null?null:b.charSet)){ue.splice(ye,1);break t}}X=U.createElement(_),To(X,_,b),U.head.appendChild(X);break;default:throw Error(n(468,_))}X[sr]=A,Ke(X),_=X}A.stateNode=_}else c$(U,A.type,A.stateNode);else A.stateNode=o$(U,_,A.memoizedProps);else X!==_?(X===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):X.count--,_===null?c$(U,A.type,A.stateNode):o$(U,_,A.memoizedProps)):_===null&&A.stateNode!==null&&h3(A,A.memoizedProps,b.memoizedProps)}break;case 27:Vc(m,A),zc(A),_&512&&(ei||b===null||nA(b,b.return)),b!==null&&_&4&&h3(A,A.memoizedProps,b.memoizedProps);break;case 5:if(Vc(m,A),zc(A),_&512&&(ei||b===null||nA(b,b.return)),A.flags&32){U=A.stateNode;try{zo(U,"")}catch(pt){Pa(A,A.return,pt)}}_&4&&A.stateNode!=null&&(U=A.memoizedProps,h3(A,U,b!==null?b.memoizedProps:U)),_&1024&&(g3=!0);break;case 6:if(Vc(m,A),zc(A),_&4){if(A.stateNode===null)throw Error(n(162));_=A.memoizedProps,b=A.stateNode;try{b.nodeValue=_}catch(pt){Pa(A,A.return,pt)}}break;case 3:if(s_=null,U=Gd,Gd=n_(m.containerInfo),Vc(m,A),Gd=U,zc(A),_&4&&b!==null&&b.memoizedState.isDehydrated)try{mw(m.containerInfo)}catch(pt){Pa(A,A.return,pt)}g3&&(g3=!1,pH(A));break;case 4:_=Gd,Gd=n_(A.stateNode.containerInfo),Vc(m,A),zc(A),Gd=_;break;case 12:Vc(m,A),zc(A);break;case 13:Vc(m,A),zc(A),A.child.flags&8192&&A.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(E3=Be()),_&4&&(_=A.updateQueue,_!==null&&(A.updateQueue=null,x3(A,_)));break;case 22:U=A.memoizedState!==null;var Re=b!==null&&b.memoizedState!==null,ct=wh,kt=ei;if(wh=ct||U,ei=kt||Re,Vc(m,A),ei=kt,wh=ct,zc(A),_&8192)e:for(m=A.stateNode,m._visibility=U?m._visibility&-2:m._visibility|1,U&&(b===null||Re||wh||ei||cg(A)),b=null,m=A;;){if(m.tag===5||m.tag===26){if(b===null){Re=b=m;try{if(X=Re.stateNode,U)ue=X.style,typeof ue.setProperty=="function"?ue.setProperty("display","none","important"):ue.display="none";else{ye=Re.stateNode;var Lt=Re.memoizedProps.style,At=Lt!=null&&Lt.hasOwnProperty("display")?Lt.display:null;ye.style.display=At==null||typeof At=="boolean"?"":(""+At).trim()}}catch(pt){Pa(Re,Re.return,pt)}}}else if(m.tag===6){if(b===null){Re=m;try{Re.stateNode.nodeValue=U?"":Re.memoizedProps}catch(pt){Pa(Re,Re.return,pt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===A)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===A)break e;for(;m.sibling===null;){if(m.return===null||m.return===A)break e;b===m&&(b=null),m=m.return}b===m&&(b=null),m.sibling.return=m.return,m=m.sibling}_&4&&(_=A.updateQueue,_!==null&&(b=_.retryQueue,b!==null&&(_.retryQueue=null,x3(A,b))));break;case 19:Vc(m,A),zc(A),_&4&&(_=A.updateQueue,_!==null&&(A.updateQueue=null,x3(A,_)));break;case 30:break;case 21:break;default:Vc(m,A),zc(A)}}function zc(A){var m=A.flags;if(m&2){try{for(var b,_=A.return;_!==null;){if(oH(_)){b=_;break}_=_.return}if(b==null)throw Error(n(160));switch(b.tag){case 27:var U=b.stateNode,X=p3(A);VS(A,X,U);break;case 5:var ue=b.stateNode;b.flags&32&&(zo(ue,""),b.flags&=-33);var ye=p3(A);VS(A,ye,ue);break;case 3:case 4:var Re=b.stateNode.containerInfo,ct=p3(A);m3(A,ct,Re);break;default:throw Error(n(161))}}catch(kt){Pa(A,A.return,kt)}A.flags&=-3}m&4096&&(A.flags&=-4097)}function pH(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var m=A;pH(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),A=A.sibling}}function ep(A,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)uH(A,m.alternate,m),m=m.sibling}function cg(A){for(A=A.child;A!==null;){var m=A;switch(m.tag){case 0:case 11:case 14:case 15:Z0(4,m,m.return),cg(m);break;case 1:nA(m,m.return);var b=m.stateNode;typeof b.componentWillUnmount=="function"&&sH(m,m.return,b),cg(m);break;case 27:lw(m.stateNode);case 26:case 5:nA(m,m.return),cg(m);break;case 22:m.memoizedState===null&&cg(m);break;case 30:cg(m);break;default:cg(m)}A=A.sibling}}function tp(A,m,b){for(b=b&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var _=m.alternate,U=A,X=m,ue=X.flags;switch(X.tag){case 0:case 11:case 15:tp(U,X,b),Jy(4,X);break;case 1:if(tp(U,X,b),_=X,U=_.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(ct){Pa(_,_.return,ct)}if(_=X,U=_.updateQueue,U!==null){var ye=_.stateNode;try{var Re=U.shared.hiddenCallbacks;if(Re!==null)for(U.shared.hiddenCallbacks=null,U=0;U<Re.length;U++)Qn(Re[U],ye)}catch(ct){Pa(_,_.return,ct)}}b&&ue&64&&aH(X),Zy(X,X.return);break;case 27:lH(X);case 26:case 5:tp(U,X,b),b&&_===null&&ue&4&&iH(X),Zy(X,X.return);break;case 12:tp(U,X,b);break;case 13:tp(U,X,b),b&&ue&4&&AH(U,X);break;case 22:X.memoizedState===null&&tp(U,X,b),Zy(X,X.return);break;case 30:break;default:tp(U,X,b)}m=m.sibling}}function v3(A,m){var b=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(b=A.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==b&&(A!=null&&A.refCount++,b!=null&&Xm(b))}function b3(A,m){A=null,m.alternate!==null&&(A=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==A&&(m.refCount++,A!=null&&Xm(A))}function aA(A,m,b,_){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)mH(A,m,b,_),m=m.sibling}function mH(A,m,b,_){var U=m.flags;switch(m.tag){case 0:case 11:case 15:aA(A,m,b,_),U&2048&&Jy(9,m);break;case 1:aA(A,m,b,_);break;case 3:aA(A,m,b,_),U&2048&&(A=null,m.alternate!==null&&(A=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==A&&(m.refCount++,A!=null&&Xm(A)));break;case 12:if(U&2048){aA(A,m,b,_),A=m.stateNode;try{var X=m.memoizedProps,ue=X.id,ye=X.onPostCommit;typeof ye=="function"&&ye(ue,m.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(Re){Pa(m,m.return,Re)}}else aA(A,m,b,_);break;case 13:aA(A,m,b,_);break;case 23:break;case 22:X=m.stateNode,ue=m.alternate,m.memoizedState!==null?X._visibility&2?aA(A,m,b,_):ew(A,m):X._visibility&2?aA(A,m,b,_):(X._visibility|=2,gv(A,m,b,_,(m.subtreeFlags&10256)!==0)),U&2048&&v3(ue,m);break;case 24:aA(A,m,b,_),U&2048&&b3(m.alternate,m);break;default:aA(A,m,b,_)}}function gv(A,m,b,_,U){for(U=U&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var X=A,ue=m,ye=b,Re=_,ct=ue.flags;switch(ue.tag){case 0:case 11:case 15:gv(X,ue,ye,Re,U),Jy(8,ue);break;case 23:break;case 22:var kt=ue.stateNode;ue.memoizedState!==null?kt._visibility&2?gv(X,ue,ye,Re,U):ew(X,ue):(kt._visibility|=2,gv(X,ue,ye,Re,U)),U&&ct&2048&&v3(ue.alternate,ue);break;case 24:gv(X,ue,ye,Re,U),U&&ct&2048&&b3(ue.alternate,ue);break;default:gv(X,ue,ye,Re,U)}m=m.sibling}}function ew(A,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var b=A,_=m,U=_.flags;switch(_.tag){case 22:ew(b,_),U&2048&&v3(_.alternate,_);break;case 24:ew(b,_),U&2048&&b3(_.alternate,_);break;default:ew(b,_)}m=m.sibling}}var tw=8192;function xv(A){if(A.subtreeFlags&tw)for(A=A.child;A!==null;)gH(A),A=A.sibling}function gH(A){switch(A.tag){case 26:xv(A),A.flags&tw&&A.memoizedState!==null&&uxe(Gd,A.memoizedState,A.memoizedProps);break;case 5:xv(A);break;case 3:case 4:var m=Gd;Gd=n_(A.stateNode.containerInfo),xv(A),Gd=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=tw,tw=16777216,xv(A),tw=m):xv(A));break;default:xv(A)}}function xH(A){var m=A.alternate;if(m!==null&&(A=m.child,A!==null)){m.child=null;do m=A.sibling,A.sibling=null,A=m;while(A!==null)}}function rw(A){var m=A.deletions;if((A.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var _=m[b];no=_,bH(_,A)}xH(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)vH(A),A=A.sibling}function vH(A){switch(A.tag){case 0:case 11:case 15:rw(A),A.flags&2048&&Z0(9,A,A.return);break;case 3:rw(A);break;case 12:rw(A);break;case 22:var m=A.stateNode;A.memoizedState!==null&&m._visibility&2&&(A.return===null||A.return.tag!==13)?(m._visibility&=-3,zS(A)):rw(A);break;default:rw(A)}}function zS(A){var m=A.deletions;if((A.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var _=m[b];no=_,bH(_,A)}xH(A)}for(A=A.child;A!==null;){switch(m=A,m.tag){case 0:case 11:case 15:Z0(8,m,m.return),zS(m);break;case 22:b=m.stateNode,b._visibility&2&&(b._visibility&=-3,zS(m));break;default:zS(m)}A=A.sibling}}function bH(A,m){for(;no!==null;){var b=no;switch(b.tag){case 0:case 11:case 15:Z0(8,b,m);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var _=b.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:Xm(b.memoizedState.cache)}if(_=b.child,_!==null)_.return=b,no=_;else e:for(b=A;no!==null;){_=no;var U=_.sibling,X=_.return;if(dH(_),_===b){no=null;break e}if(U!==null){U.return=X,no=U;break e}no=X}}}var _ge={getCacheForType:function(A){var m=Ys(Js),b=m.data.get(A);return b===void 0&&(b=A(),m.data.set(A,b)),b}},Nge=typeof WeakMap=="function"?WeakMap:Map,va=0,Ha=null,jn=null,$n=0,ba=0,Gc=null,rp=!1,vv=!1,y3=!1,Eh=0,Os=0,np=0,ug=0,w3=0,$u=0,bv=0,nw=null,dc=null,C3=!1,E3=0,GS=1/0,KS=null,ap=null,ko=0,sp=null,yv=null,wv=0,S3=0,_3=null,yH=null,aw=0,N3=null;function Kc(){if((va&2)!==0&&$n!==0)return $n&-$n;if(Q.T!==null){var A=hh;return A!==0?A:O3()}return vt()}function wH(){$u===0&&($u=($n&536870912)===0||Gn?or():536870912);var A=Hu.current;return A!==null&&(A.flags|=32),$u}function qc(A,m,b){(A===Ha&&(ba===2||ba===9)||A.cancelPendingCommit!==null)&&(Cv(A,0),ip(A,$n,$u,!1)),zn(A,b),((va&2)===0||A!==Ha)&&(A===Ha&&((va&2)===0&&(ug|=b),Os===4&&ip(A,$n,$u,!1)),sA(A))}function CH(A,m,b){if((va&6)!==0)throw Error(n(327));var _=!b&&(m&124)===0&&(m&A.expiredLanes)===0||En(A,m),U=_?Bge(A,m):B3(A,m,!0),X=_;do{if(U===0){vv&&!_&&ip(A,m,0,!1);break}else{if(b=A.current.alternate,X&&!kge(b)){U=B3(A,m,!1),X=!1;continue}if(U===2){if(X=m,A.errorRecoveryDisabledLanes&X)var ue=0;else ue=A.pendingLanes&-536870913,ue=ue!==0?ue:ue&536870912?536870912:0;if(ue!==0){m=ue;e:{var ye=A;U=nw;var Re=ye.current.memoizedState.isDehydrated;if(Re&&(Cv(ye,ue).flags|=256),ue=B3(ye,ue,!1),ue!==2){if(y3&&!Re){ye.errorRecoveryDisabledLanes|=X,ug|=X,U=4;break e}X=dc,dc=U,X!==null&&(dc===null?dc=X:dc.push.apply(dc,X))}U=ue}if(X=!1,U!==2)continue}}if(U===1){Cv(A,0),ip(A,m,0,!0);break}e:{switch(_=A,X=U,X){case 0:case 1:throw Error(n(345));case 4:if((m&4194048)!==m)break;case 6:ip(_,m,$u,!rp);break e;case 2:dc=null;break;case 3:case 5:break;default:throw Error(n(329))}if((m&62914560)===m&&(U=E3+300-Be(),10<U)){if(ip(_,m,$u,!rp),Mr(_,0,!0)!==0)break e;_.timeoutHandle=JH(EH.bind(null,_,b,dc,KS,C3,m,$u,ug,bv,rp,X,2,-0,0),U);break e}EH(_,b,dc,KS,C3,m,$u,ug,bv,rp,X,0,-0,0)}}break}while(!0);sA(A)}function EH(A,m,b,_,U,X,ue,ye,Re,ct,kt,Lt,At,pt){if(A.timeoutHandle=-1,Lt=m.subtreeFlags,(Lt&8192||(Lt&16785408)===16785408)&&(dw={stylesheets:null,count:0,unsuspend:cxe},gH(m),Lt=dxe(),Lt!==null)){A.cancelPendingCommit=Lt(jH.bind(null,A,m,X,b,_,U,ue,ye,Re,kt,1,At,pt)),ip(A,X,ue,!ct);return}jH(A,m,X,b,_,U,ue,ye,Re)}function kge(A){for(var m=A;;){var b=m.tag;if((b===0||b===11||b===15)&&m.flags&16384&&(b=m.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var _=0;_<b.length;_++){var U=b[_],X=U.getSnapshot;U=U.value;try{if(!xi(X(),U))return!1}catch{return!1}}if(b=m.child,m.subtreeFlags&16384&&b!==null)b.return=m,m=b;else{if(m===A)break;for(;m.sibling===null;){if(m.return===null||m.return===A)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function ip(A,m,b,_){m&=~w3,m&=~ug,A.suspendedLanes|=m,A.pingedLanes&=~m,_&&(A.warmLanes|=m),_=A.expirationTimes;for(var U=m;0<U;){var X=31-Ft(U),ue=1<<X;_[X]=-1,U&=~ue}b!==0&&yr(A,b,m)}function qS(){return(va&6)===0?(sw(0),!1):!0}function k3(){if(jn!==null){if(ba===0)var A=jn.return;else A=jn,Ud=bi=null,cv(A),pv=null,Wy=0,A=jn;for(;A!==null;)nH(A.alternate,A),A=A.return;jn=null}}function Cv(A,m){var b=A.timeoutHandle;b!==-1&&(A.timeoutHandle=-1,Gge(b)),b=A.cancelPendingCommit,b!==null&&(A.cancelPendingCommit=null,b()),k3(),Ha=A,jn=b=Pu(A.current,null),$n=m,ba=0,Gc=null,rp=!1,vv=En(A,m),y3=!1,bv=$u=w3=ug=np=Os=0,dc=nw=null,C3=!1,(m&8)!==0&&(m|=m&32);var _=A.entangledLanes;if(_!==0)for(A=A.entanglements,_&=m;0<_;){var U=31-Ft(_),X=1<<U;m|=A[U],_&=~X}return Eh=m,ic(),b}function SH(A,m){Or=null,Q.H=DS,m===me||m===ve?(m=Xe(),ba=3):m===ge?(m=Xe(),ba=4):ba=m===$Q?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Gc=m,jn===null&&(Os=1,US(A,yn(m,A.current)))}function _H(){var A=Q.H;return Q.H=DS,A===null?DS:A}function NH(){var A=Q.A;return Q.A=_ge,A}function T3(){Os=4,rp||($n&4194048)!==$n&&Hu.current!==null||(vv=!0),(np&134217727)===0&&(ug&134217727)===0||Ha===null||ip(Ha,$n,$u,!1)}function B3(A,m,b){var _=va;va|=2;var U=_H(),X=NH();(Ha!==A||$n!==m)&&(KS=null,Cv(A,m)),m=!1;var ue=Os;e:do try{if(ba!==0&&jn!==null){var ye=jn,Re=Gc;switch(ba){case 8:k3(),ue=6;break e;case 3:case 2:case 9:case 6:Hu.current===null&&(m=!0);var ct=ba;if(ba=0,Gc=null,Ev(A,ye,Re,ct),b&&vv){ue=0;break e}break;default:ct=ba,ba=0,Gc=null,Ev(A,ye,Re,ct)}}Tge(),ue=Os;break}catch(kt){SH(A,kt)}while(!0);return m&&A.shellSuspendCounter++,Ud=bi=null,va=_,Q.H=U,Q.A=X,jn===null&&(Ha=null,$n=0,ic()),ue}function Tge(){for(;jn!==null;)kH(jn)}function Bge(A,m){var b=va;va|=2;var _=_H(),U=NH();Ha!==A||$n!==m?(KS=null,GS=Be()+500,Cv(A,m)):vv=En(A,m);e:do try{if(ba!==0&&jn!==null){m=jn;var X=Gc;t:switch(ba){case 1:ba=0,Gc=null,Ev(A,m,X,1);break;case 2:case 9:if(je(X)){ba=0,Gc=null,TH(m);break}m=function(){ba!==2&&ba!==9||Ha!==A||(ba=7),sA(A)},X.then(m,m);break e;case 3:ba=7;break e;case 4:ba=5;break e;case 7:je(X)?(ba=0,Gc=null,TH(m)):(ba=0,Gc=null,Ev(A,m,X,7));break;case 5:var ue=null;switch(jn.tag){case 26:ue=jn.memoizedState;case 5:case 27:var ye=jn;if(!ue||u$(ue)){ba=0,Gc=null;var Re=ye.sibling;if(Re!==null)jn=Re;else{var ct=ye.return;ct!==null?(jn=ct,WS(ct)):jn=null}break t}}ba=0,Gc=null,Ev(A,m,X,5);break;case 6:ba=0,Gc=null,Ev(A,m,X,6);break;case 8:k3(),Os=6;break e;default:throw Error(n(462))}}jge();break}catch(kt){SH(A,kt)}while(!0);return Ud=bi=null,Q.H=_,Q.A=U,va=b,jn!==null?0:(Ha=null,$n=0,ic(),Os)}function jge(){for(;jn!==null&&!Se();)kH(jn)}function kH(A){var m=tH(A.alternate,A,Eh);A.memoizedProps=A.pendingProps,m===null?WS(A):jn=m}function TH(A){var m=A,b=m.alternate;switch(m.tag){case 15:case 0:m=WQ(b,m,m.pendingProps,m.type,void 0,$n);break;case 11:m=WQ(b,m,m.pendingProps,m.type.render,m.ref,$n);break;case 5:cv(m);default:nH(b,m),m=jn=Gm(m,Eh),m=tH(b,m,Eh)}A.memoizedProps=A.pendingProps,m===null?WS(A):jn=m}function Ev(A,m,b,_){Ud=bi=null,cv(m),pv=null,Wy=0;var U=m.return;try{if(bge(A,U,m,b,$n)){Os=1,US(A,yn(b,A.current)),jn=null;return}}catch(X){if(U!==null)throw jn=U,X;Os=1,US(A,yn(b,A.current)),jn=null;return}m.flags&32768?(Gn||_===1?A=!0:vv||($n&536870912)!==0?A=!1:(rp=A=!0,(_===2||_===9||_===3||_===6)&&(_=Hu.current,_!==null&&_.tag===13&&(_.flags|=16384))),BH(m,A)):WS(m)}function WS(A){var m=A;do{if((m.flags&32768)!==0){BH(m,rp);return}A=m.return;var b=wge(m.alternate,m,Eh);if(b!==null){jn=b;return}if(m=m.sibling,m!==null){jn=m;return}jn=m=A}while(m!==null);Os===0&&(Os=5)}function BH(A,m){do{var b=Cge(A.alternate,A);if(b!==null){b.flags&=32767,jn=b;return}if(b=A.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!m&&(A=A.sibling,A!==null)){jn=A;return}jn=A=b}while(A!==null);Os=6,jn=null}function jH(A,m,b,_,U,X,ue,ye,Re){A.cancelPendingCommit=null;do XS();while(ko!==0);if((va&6)!==0)throw Error(n(327));if(m!==null){if(m===A.current)throw Error(n(177));if(X=m.lanes|m.childLanes,X|=ms,rn(A,b,X,ue,ye,Re),A===Ha&&(jn=Ha=null,$n=0),yv=m,sp=A,wv=b,S3=X,_3=U,yH=_,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,Dge(Ie,function(){return PH(),null})):(A.callbackNode=null,A.callbackPriority=0),_=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||_){_=Q.T,Q.T=null,U=G.p,G.p=2,ue=va,va|=4;try{Ege(A,m,b)}finally{va=ue,G.p=U,Q.T=_}}ko=1,IH(),FH(),OH()}}function IH(){if(ko===1){ko=0;var A=sp,m=yv,b=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||b){b=Q.T,Q.T=null;var _=G.p;G.p=2;var U=va;va|=4;try{hH(m,A);var X=H3,ue=Eo(A.containerInfo),ye=X.focusedElem,Re=X.selectionRange;if(ue!==ye&&ye&&ye.ownerDocument&&Uf(ye.ownerDocument.documentElement,ye)){if(Re!==null&&Li(ye)){var ct=Re.start,kt=Re.end;if(kt===void 0&&(kt=ct),"selectionStart"in ye)ye.selectionStart=ct,ye.selectionEnd=Math.min(kt,ye.value.length);else{var Lt=ye.ownerDocument||document,At=Lt&&Lt.defaultView||window;if(At.getSelection){var pt=At.getSelection(),Jr=ye.textContent.length,Hr=Math.min(Re.start,Jr),Ia=Re.end===void 0?Hr:Math.min(Re.end,Jr);!pt.extend&&Hr>Ia&&(ue=Ia,Ia=Hr,Hr=ue);var Ye=Id(ye,Hr),He=Id(ye,Ia);if(Ye&&He&&(pt.rangeCount!==1||pt.anchorNode!==Ye.node||pt.anchorOffset!==Ye.offset||pt.focusNode!==He.node||pt.focusOffset!==He.offset)){var st=Lt.createRange();st.setStart(Ye.node,Ye.offset),pt.removeAllRanges(),Hr>Ia?(pt.addRange(st),pt.extend(He.node,He.offset)):(st.setEnd(He.node,He.offset),pt.addRange(st))}}}}for(Lt=[],pt=ye;pt=pt.parentNode;)pt.nodeType===1&&Lt.push({element:pt,left:pt.scrollLeft,top:pt.scrollTop});for(typeof ye.focus=="function"&&ye.focus(),ye=0;ye<Lt.length;ye++){var jt=Lt[ye];jt.element.scrollLeft=jt.left,jt.element.scrollTop=jt.top}}l_=!!Q3,H3=Q3=null}finally{va=U,G.p=_,Q.T=b}}A.current=m,ko=2}}function FH(){if(ko===2){ko=0;var A=sp,m=yv,b=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||b){b=Q.T,Q.T=null;var _=G.p;G.p=2;var U=va;va|=4;try{uH(A,m.alternate,m)}finally{va=U,G.p=_,Q.T=b}}ko=3}}function OH(){if(ko===4||ko===3){ko=0,he();var A=sp,m=yv,b=wv,_=yH;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?ko=5:(ko=0,yv=sp=null,DH(A,A.pendingLanes));var U=A.pendingLanes;if(U===0&&(ap=null),et(b),m=m.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(ht,m,void 0,(m.current.flags&128)===128)}catch{}if(_!==null){m=Q.T,U=G.p,G.p=2,Q.T=null;try{for(var X=A.onRecoverableError,ue=0;ue<_.length;ue++){var ye=_[ue];X(ye.value,{componentStack:ye.stack})}}finally{Q.T=m,G.p=U}}(wv&3)!==0&&XS(),sA(A),U=A.pendingLanes,(b&4194090)!==0&&(U&42)!==0?A===N3?aw++:(aw=0,N3=A):aw=0,sw(0)}}function DH(A,m){(A.pooledCacheLanes&=m)===0&&(m=A.pooledCache,m!=null&&(A.pooledCache=null,Xm(m)))}function XS(A){return IH(),FH(),OH(),PH()}function PH(){if(ko!==5)return!1;var A=sp,m=S3;S3=0;var b=et(wv),_=Q.T,U=G.p;try{G.p=32>b?32:b,Q.T=null,b=_3,_3=null;var X=sp,ue=wv;if(ko=0,yv=sp=null,wv=0,(va&6)!==0)throw Error(n(331));var ye=va;if(va|=4,vH(X.current),mH(X,X.current,ue,b),va=ye,sw(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(ht,X)}catch{}return!0}finally{G.p=U,Q.T=_,DH(A,m)}}function RH(A,m,b){m=yn(b,m),m=s3(A.stateNode,m,2),A=Ot(A,m,2),A!==null&&(zn(A,2),sA(A))}function Pa(A,m,b){if(A.tag===3)RH(A,A,b);else for(;m!==null;){if(m.tag===3){RH(m,A,b);break}else if(m.tag===1){var _=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(ap===null||!ap.has(_))){A=yn(b,A),b=QQ(2),_=Ot(m,b,2),_!==null&&(HQ(b,_,m,A),zn(_,2),sA(_));break}}m=m.return}}function j3(A,m,b){var _=A.pingCache;if(_===null){_=A.pingCache=new Nge;var U=new Set;_.set(m,U)}else U=_.get(m),U===void 0&&(U=new Set,_.set(m,U));U.has(b)||(y3=!0,U.add(b),A=Ige.bind(null,A,m,b),m.then(A,A))}function Ige(A,m,b){var _=A.pingCache;_!==null&&_.delete(m),A.pingedLanes|=A.suspendedLanes&b,A.warmLanes&=~b,Ha===A&&($n&b)===b&&(Os===4||Os===3&&($n&62914560)===$n&&300>Be()-E3?(va&2)===0&&Cv(A,0):w3|=b,bv===$n&&(bv=0)),sA(A)}function LH(A,m){m===0&&(m=gr()),A=Od(A,m),A!==null&&(zn(A,m),sA(A))}function Fge(A){var m=A.memoizedState,b=0;m!==null&&(b=m.retryLane),LH(A,b)}function Oge(A,m){var b=0;switch(A.tag){case 13:var _=A.stateNode,U=A.memoizedState;U!==null&&(b=U.retryLane);break;case 19:_=A.stateNode;break;case 22:_=A.stateNode._retryCache;break;default:throw Error(n(314))}_!==null&&_.delete(m),LH(A,b)}function Dge(A,m){return _e(A,m)}var YS=null,Sv=null,I3=!1,JS=!1,F3=!1,dg=0;function sA(A){A!==Sv&&A.next===null&&(Sv===null?YS=Sv=A:Sv=Sv.next=A),JS=!0,I3||(I3=!0,Rge())}function sw(A,m){if(!F3&&JS){F3=!0;do for(var b=!1,_=YS;_!==null;){if(A!==0){var U=_.pendingLanes;if(U===0)var X=0;else{var ue=_.suspendedLanes,ye=_.pingedLanes;X=(1<<31-Ft(42|A)+1)-1,X&=U&~(ue&~ye),X=X&201326741?X&201326741|1:X?X|2:0}X!==0&&(b=!0,HH(_,X))}else X=$n,X=Mr(_,_===Ha?X:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(X&3)===0||En(_,X)||(b=!0,HH(_,X));_=_.next}while(b);F3=!1}}function Pge(){MH()}function MH(){JS=I3=!1;var A=0;dg!==0&&(zge()&&(A=dg),dg=0);for(var m=Be(),b=null,_=YS;_!==null;){var U=_.next,X=UH(_,m);X===0?(_.next=null,b===null?YS=U:b.next=U,U===null&&(Sv=b)):(b=_,(A!==0||(X&3)!==0)&&(JS=!0)),_=U}sw(A)}function UH(A,m){for(var b=A.suspendedLanes,_=A.pingedLanes,U=A.expirationTimes,X=A.pendingLanes&-62914561;0<X;){var ue=31-Ft(X),ye=1<<ue,Re=U[ue];Re===-1?((ye&b)===0||(ye&_)!==0)&&(U[ue]=Pr(ye,m)):Re<=m&&(A.expiredLanes|=ye),X&=~ye}if(m=Ha,b=$n,b=Mr(A,A===m?b:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),_=A.callbackNode,b===0||A===m&&(ba===2||ba===9)||A.cancelPendingCommit!==null)return _!==null&&_!==null&&Ne(_),A.callbackNode=null,A.callbackPriority=0;if((b&3)===0||En(A,b)){if(m=b&-b,m===A.callbackPriority)return m;switch(_!==null&&Ne(_),et(b)){case 2:case 8:b=xe;break;case 32:b=Ie;break;case 268435456:b=Ve;break;default:b=Ie}return _=QH.bind(null,A),b=_e(b,_),A.callbackPriority=m,A.callbackNode=b,m}return _!==null&&_!==null&&Ne(_),A.callbackPriority=2,A.callbackNode=null,2}function QH(A,m){if(ko!==0&&ko!==5)return A.callbackNode=null,A.callbackPriority=0,null;var b=A.callbackNode;if(XS()&&A.callbackNode!==b)return null;var _=$n;return _=Mr(A,A===Ha?_:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),_===0?null:(CH(A,_,m),UH(A,Be()),A.callbackNode!=null&&A.callbackNode===b?QH.bind(null,A):null)}function HH(A,m){if(XS())return null;CH(A,m,!0)}function Rge(){Kge(function(){(va&6)!==0?_e(Ge,Pge):MH()})}function O3(){return dg===0&&(dg=or()),dg}function $H(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:Oc(""+A)}function VH(A,m){var b=m.ownerDocument.createElement("input");return b.name=m.name,b.value=m.value,A.id&&b.setAttribute("form",A.id),m.parentNode.insertBefore(b,m),A=new FormData(A),b.parentNode.removeChild(b),A}function Lge(A,m,b,_,U){if(m==="submit"&&b&&b.stateNode===U){var X=$H((U[Er]||null).action),ue=_.submitter;ue&&(m=(m=ue[Er]||null)?$H(m.formAction):ue.getAttribute("formAction"),m!==null&&(X=m,ue=null));var ye=new Nu("action","action",null,_,U);A.push({event:ye,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(dg!==0){var Re=ue?VH(U,ue):new FormData(U);Qu(b,{pending:!0,data:Re,method:U.method,action:X},null,Re)}}else typeof X=="function"&&(ye.preventDefault(),Re=ue?VH(U,ue):new FormData(U),Qu(b,{pending:!0,data:Re,method:U.method,action:X},X,Re))},currentTarget:U}]})}}for(var D3=0;D3<lh.length;D3++){var P3=lh[D3],Mge=P3.toLowerCase(),Uge=P3[0].toUpperCase()+P3.slice(1);is(Mge,"on"+Uge)}is(U0,"onAnimationEnd"),is(Hf,"onAnimationIteration"),is($f,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(Vf,"onTransitionRun"),is(oh,"onTransitionStart"),is(Q0,"onTransitionCancel"),is(zf,"onTransitionEnd"),Vt("onMouseEnter",["mouseout","mouseover"]),Vt("onMouseLeave",["mouseout","mouseover"]),Vt("onPointerEnter",["pointerout","pointerover"]),Vt("onPointerLeave",["pointerout","pointerover"]),Dt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qge=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iw));function zH(A,m){m=(m&4)!==0;for(var b=0;b<A.length;b++){var _=A[b],U=_.event;_=_.listeners;e:{var X=void 0;if(m)for(var ue=_.length-1;0<=ue;ue--){var ye=_[ue],Re=ye.instance,ct=ye.currentTarget;if(ye=ye.listener,Re!==X&&U.isPropagationStopped())break e;X=ye,U.currentTarget=ct;try{X(U)}catch(kt){MS(kt)}U.currentTarget=null,X=Re}else for(ue=0;ue<_.length;ue++){if(ye=_[ue],Re=ye.instance,ct=ye.currentTarget,ye=ye.listener,Re!==X&&U.isPropagationStopped())break e;X=ye,U.currentTarget=ct;try{X(U)}catch(kt){MS(kt)}U.currentTarget=null,X=Re}}}}function In(A,m){var b=m[cn];b===void 0&&(b=m[cn]=new Set);var _=A+"__bubble";b.has(_)||(GH(m,A,2,!1),b.add(_))}function R3(A,m,b){var _=0;m&&(_|=4),GH(b,A,_,m)}var ZS="_reactListening"+Math.random().toString(36).slice(2);function L3(A){if(!A[ZS]){A[ZS]=!0,nt.forEach(function(b){b!=="selectionchange"&&(Qge.has(b)||R3(b,!1,A),R3(b,!0,A))});var m=A.nodeType===9?A:A.ownerDocument;m===null||m[ZS]||(m[ZS]=!0,R3("selectionchange",!1,m))}}function GH(A,m,b,_){switch(m$(m)){case 2:var U=hxe;break;case 8:U=pxe;break;default:U=J3}b=U.bind(null,m,b,A),U=void 0,!Co||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(U=!0),_?U!==void 0?A.addEventListener(m,b,{capture:!0,passive:U}):A.addEventListener(m,b,!0):U!==void 0?A.addEventListener(m,b,{passive:U}):A.addEventListener(m,b,!1)}function M3(A,m,b,_,U){var X=_;if((m&1)===0&&(m&2)===0&&_!==null)e:for(;;){if(_===null)return;var ue=_.tag;if(ue===3||ue===4){var ye=_.stateNode.containerInfo;if(ye===U)break;if(ue===4)for(ue=_.return;ue!==null;){var Re=ue.tag;if((Re===3||Re===4)&&ue.stateNode.containerInfo===U)return;ue=ue.return}for(;ye!==null;){if(ue=Te(ye),ue===null)return;if(Re=ue.tag,Re===5||Re===6||Re===26||Re===27){_=X=ue;continue e}ye=ye.parentNode}}_=_.return}D0(function(){var ct=X,kt=ga(b),Lt=[];e:{var At=Fd.get(A);if(At!==void 0){var pt=Nu,Jr=A;switch(A){case"keypress":if(qo(b)===0)break e;case"keydown":case"keyup":pt=Lc;break;case"focusin":Jr="focus",pt=Tu;break;case"focusout":Jr="blur",pt=Tu;break;case"beforeblur":case"afterblur":pt=Tu;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Pf;break;case U0:case Hf:case $f:pt=Ff;break;case zf:pt=Ae;break;case"scroll":case"scrollend":pt=th;break;case"wheel":pt=Me;break;case"copy":case"cut":case"paste":pt=Of;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=jd;break;case"toggle":case"beforetoggle":pt=bt}var Hr=(m&4)!==0,Ia=!Hr&&(A==="scroll"||A==="scrollend"),Ye=Hr?At!==null?At+"Capture":null:At;Hr=[];for(var He=ct,st;He!==null;){var jt=He;if(st=jt.stateNode,jt=jt.tag,jt!==5&&jt!==26&&jt!==27||st===null||Ye===null||(jt=Yi(He,Ye),jt!=null&&Hr.push(ow(He,jt,st))),Ia)break;He=He.return}0<Hr.length&&(At=new pt(At,Jr,null,b,kt),Lt.push({event:At,listeners:Hr}))}}if((m&7)===0){e:{if(At=A==="mouseover"||A==="pointerover",pt=A==="mouseout"||A==="pointerout",At&&b!==Jl&&(Jr=b.relatedTarget||b.fromElement)&&(Te(Jr)||Jr[nn]))break e;if((pt||At)&&(At=kt.window===kt?kt:(At=kt.ownerDocument)?At.defaultView||At.parentWindow:window,pt?(Jr=b.relatedTarget||b.toElement,pt=ct,Jr=Jr?Te(Jr):null,Jr!==null&&(Ia=s(Jr),Hr=Jr.tag,Jr!==Ia||Hr!==5&&Hr!==27&&Hr!==6)&&(Jr=null)):(pt=null,Jr=ct),pt!==Jr)){if(Hr=Bs,jt="onMouseLeave",Ye="onMouseEnter",He="mouse",(A==="pointerout"||A==="pointerover")&&(Hr=jd,jt="onPointerLeave",Ye="onPointerEnter",He="pointer"),Ia=pt==null?At:Je(pt),st=Jr==null?At:Je(Jr),At=new Hr(jt,He+"leave",pt,b,kt),At.target=Ia,At.relatedTarget=st,jt=null,Te(kt)===ct&&(Hr=new Hr(Ye,He+"enter",Jr,b,kt),Hr.target=st,Hr.relatedTarget=Ia,jt=Hr),Ia=jt,pt&&Jr)t:{for(Hr=pt,Ye=Jr,He=0,st=Hr;st;st=_v(st))He++;for(st=0,jt=Ye;jt;jt=_v(jt))st++;for(;0<He-st;)Hr=_v(Hr),He--;for(;0<st-He;)Ye=_v(Ye),st--;for(;He--;){if(Hr===Ye||Ye!==null&&Hr===Ye.alternate)break t;Hr=_v(Hr),Ye=_v(Ye)}Hr=null}else Hr=null;pt!==null&&KH(Lt,At,pt,Hr,!1),Jr!==null&&Ia!==null&&KH(Lt,Ia,Jr,Hr,!0)}}e:{if(At=ct?Je(ct):window,pt=At.nodeName&&At.nodeName.toLowerCase(),pt==="select"||pt==="input"&&At.type==="file")var xr=L0;else if(ua(At))if(nh)xr=tv;else{xr=Fy;var Nn=Xo}else pt=At.nodeName,!pt||pt.toLowerCase()!=="input"||At.type!=="checkbox"&&At.type!=="radio"?ct&&ZA(ct.elementType)&&(xr=L0):xr=Vm;if(xr&&(xr=xr(A,ct))){ac(Lt,xr,b,kt);break e}Nn&&Nn(A,At,ct),A==="focusout"&&ct&&At.type==="number"&&ct.memoizedProps.value!=null&&Eu(At,"number",At.value)}switch(Nn=ct?Je(ct):window,A){case"focusin":(ua(Nn)||Nn.contentEditable==="true")&&(Yo=Nn,Mc=ct,Ou=null);break;case"focusout":Ou=Mc=Yo=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,ss(Lt,b,kt);break;case"selectionchange":if(Qf)break;case"keydown":case"keyup":ss(Lt,b,kt)}var Tr;if(rr)e:{switch(A){case"compositionstart":var $r="onCompositionStart";break e;case"compositionend":$r="onCompositionEnd";break e;case"compositionupdate":$r="onCompositionUpdate";break e}$r=void 0}else Qr?lt(A,b)&&($r="onCompositionEnd"):A==="keydown"&&b.keyCode===229&&($r="onCompositionStart");$r&&(le&&b.locale!=="ko"&&(Qr||$r!=="onCompositionStart"?$r==="onCompositionEnd"&&Qr&&(Tr=eh()):(Ko=kt,_u="value"in Ko?Ko.value:Ko.textContent,Qr=!0)),Nn=e_(ct,$r),0<Nn.length&&($r=new kd($r,A,null,b,kt),Lt.push({event:$r,listeners:Nn}),Tr?$r.data=Tr:(Tr=Ht(b),Tr!==null&&($r.data=Tr)))),(Tr=ne?_n(A,b):an(A,b))&&($r=e_(ct,"onBeforeInput"),0<$r.length&&(Nn=new kd("onBeforeInput","beforeinput",null,b,kt),Lt.push({event:Nn,listeners:$r}),Nn.data=Tr)),Lge(Lt,A,ct,b,kt)}zH(Lt,m)})}function ow(A,m,b){return{instance:A,listener:m,currentTarget:b}}function e_(A,m){for(var b=m+"Capture",_=[];A!==null;){var U=A,X=U.stateNode;if(U=U.tag,U!==5&&U!==26&&U!==27||X===null||(U=Yi(A,b),U!=null&&_.unshift(ow(A,U,X)),U=Yi(A,m),U!=null&&_.push(ow(A,U,X))),A.tag===3)return _;A=A.return}return[]}function _v(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function KH(A,m,b,_,U){for(var X=m._reactName,ue=[];b!==null&&b!==_;){var ye=b,Re=ye.alternate,ct=ye.stateNode;if(ye=ye.tag,Re!==null&&Re===_)break;ye!==5&&ye!==26&&ye!==27||ct===null||(Re=ct,U?(ct=Yi(b,X),ct!=null&&ue.unshift(ow(b,ct,Re))):U||(ct=Yi(b,X),ct!=null&&ue.push(ow(b,ct,Re)))),b=b.return}ue.length!==0&&A.push({event:m,listeners:ue})}var Hge=/\r\n?/g,$ge=/\u0000|\uFFFD/g;function qH(A){return(typeof A=="string"?A:""+A).replace(Hge,`
`).replace($ge,"")}function WH(A,m){return m=qH(m),qH(A)===m}function t_(){}function ja(A,m,b,_,U,X){switch(b){case"children":typeof _=="string"?m==="body"||m==="textarea"&&_===""||zo(A,_):(typeof _=="number"||typeof _=="bigint")&&m!=="body"&&zo(A,""+_);break;case"className":hn(A,"class",_);break;case"tabIndex":hn(A,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(A,b,_);break;case"style":JA(A,_,X);break;case"data":if(m!=="object"){hn(A,"data",_);break}case"src":case"href":if(_===""&&(m!=="a"||b!=="href")){A.removeAttribute(b);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){A.removeAttribute(b);break}_=Oc(""+_),A.setAttribute(b,_);break;case"action":case"formAction":if(typeof _=="function"){A.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof X=="function"&&(b==="formAction"?(m!=="input"&&ja(A,m,"name",U.name,U,null),ja(A,m,"formEncType",U.formEncType,U,null),ja(A,m,"formMethod",U.formMethod,U,null),ja(A,m,"formTarget",U.formTarget,U,null)):(ja(A,m,"encType",U.encType,U,null),ja(A,m,"method",U.method,U,null),ja(A,m,"target",U.target,U,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){A.removeAttribute(b);break}_=Oc(""+_),A.setAttribute(b,_);break;case"onClick":_!=null&&(A.onclick=t_);break;case"onScroll":_!=null&&In("scroll",A);break;case"onScrollEnd":_!=null&&In("scrollend",A);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(b=_.__html,b!=null){if(U.children!=null)throw Error(n(60));A.innerHTML=b}}break;case"multiple":A.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":A.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){A.removeAttribute("xlink:href");break}b=Oc(""+_),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?A.setAttribute(b,""+_):A.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?A.setAttribute(b,""):A.removeAttribute(b);break;case"capture":case"download":_===!0?A.setAttribute(b,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?A.setAttribute(b,_):A.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?A.setAttribute(b,_):A.removeAttribute(b);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?A.removeAttribute(b):A.setAttribute(b,_);break;case"popover":In("beforetoggle",A),In("toggle",A),An(A,"popover",_);break;case"xlinkActuate":vn(A,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":vn(A,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":vn(A,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":vn(A,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":vn(A,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":vn(A,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":vn(A,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":vn(A,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":vn(A,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":An(A,"is",_);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=Fc.get(b)||b,An(A,b,_))}}function U3(A,m,b,_,U,X){switch(b){case"style":JA(A,_,X);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(b=_.__html,b!=null){if(U.children!=null)throw Error(n(60));A.innerHTML=b}}break;case"children":typeof _=="string"?zo(A,_):(typeof _=="number"||typeof _=="bigint")&&zo(A,""+_);break;case"onScroll":_!=null&&In("scroll",A);break;case"onScrollEnd":_!=null&&In("scrollend",A);break;case"onClick":_!=null&&(A.onclick=t_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ot.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(U=b.endsWith("Capture"),m=b.slice(2,U?b.length-7:void 0),X=A[Er]||null,X=X!=null?X[b]:null,typeof X=="function"&&A.removeEventListener(m,X,U),typeof _=="function")){typeof X!="function"&&X!==null&&(b in A?A[b]=null:A.hasAttribute(b)&&A.removeAttribute(b)),A.addEventListener(m,_,U);break e}b in A?A[b]=_:_===!0?A.setAttribute(b,""):An(A,b,_)}}}function To(A,m,b){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":In("error",A),In("load",A);var _=!1,U=!1,X;for(X in b)if(b.hasOwnProperty(X)){var ue=b[X];if(ue!=null)switch(X){case"src":_=!0;break;case"srcSet":U=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:ja(A,m,X,ue,b,null)}}U&&ja(A,m,"srcSet",b.srcSet,b,null),_&&ja(A,m,"src",b.src,b,null);return;case"input":In("invalid",A);var ye=X=ue=U=null,Re=null,ct=null;for(_ in b)if(b.hasOwnProperty(_)){var kt=b[_];if(kt!=null)switch(_){case"name":U=kt;break;case"type":ue=kt;break;case"checked":Re=kt;break;case"defaultChecked":ct=kt;break;case"value":X=kt;break;case"defaultValue":ye=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(n(137,m));break;default:ja(A,m,_,kt,b,null)}}Cu(A,X,ye,Re,ct,ue,U,!1),wu(A);return;case"select":In("invalid",A),_=ue=X=null;for(U in b)if(b.hasOwnProperty(U)&&(ye=b[U],ye!=null))switch(U){case"value":X=ye;break;case"defaultValue":ue=ye;break;case"multiple":_=ye;default:ja(A,m,U,ye,b,null)}m=X,b=ue,A.multiple=!!_,m!=null?Yl(A,!!_,m,!1):b!=null&&Yl(A,!!_,b,!0);return;case"textarea":In("invalid",A),X=U=_=null;for(ue in b)if(b.hasOwnProperty(ue)&&(ye=b[ue],ye!=null))switch(ue){case"value":_=ye;break;case"defaultValue":U=ye;break;case"children":X=ye;break;case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(91));break;default:ja(A,m,ue,ye,b,null)}Su(A,_,U,X),wu(A);return;case"option":for(Re in b)if(b.hasOwnProperty(Re)&&(_=b[Re],_!=null))switch(Re){case"selected":A.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:ja(A,m,Re,_,b,null)}return;case"dialog":In("beforetoggle",A),In("toggle",A),In("cancel",A),In("close",A);break;case"iframe":case"object":In("load",A);break;case"video":case"audio":for(_=0;_<iw.length;_++)In(iw[_],A);break;case"image":In("error",A),In("load",A);break;case"details":In("toggle",A);break;case"embed":case"source":case"link":In("error",A),In("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in b)if(b.hasOwnProperty(ct)&&(_=b[ct],_!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:ja(A,m,ct,_,b,null)}return;default:if(ZA(m)){for(kt in b)b.hasOwnProperty(kt)&&(_=b[kt],_!==void 0&&U3(A,m,kt,_,b,void 0));return}}for(ye in b)b.hasOwnProperty(ye)&&(_=b[ye],_!=null&&ja(A,m,ye,_,b,null))}function Vge(A,m,b,_){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var U=null,X=null,ue=null,ye=null,Re=null,ct=null,kt=null;for(pt in b){var Lt=b[pt];if(b.hasOwnProperty(pt)&&Lt!=null)switch(pt){case"checked":break;case"value":break;case"defaultValue":Re=Lt;default:_.hasOwnProperty(pt)||ja(A,m,pt,null,_,Lt)}}for(var At in _){var pt=_[At];if(Lt=b[At],_.hasOwnProperty(At)&&(pt!=null||Lt!=null))switch(At){case"type":X=pt;break;case"name":U=pt;break;case"checked":ct=pt;break;case"defaultChecked":kt=pt;break;case"value":ue=pt;break;case"defaultValue":ye=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(n(137,m));break;default:pt!==Lt&&ja(A,m,At,pt,_,Lt)}}Pi(A,ue,ye,Re,ct,kt,X,U);return;case"select":pt=ue=ye=At=null;for(X in b)if(Re=b[X],b.hasOwnProperty(X)&&Re!=null)switch(X){case"value":break;case"multiple":pt=Re;default:_.hasOwnProperty(X)||ja(A,m,X,null,_,Re)}for(U in _)if(X=_[U],Re=b[U],_.hasOwnProperty(U)&&(X!=null||Re!=null))switch(U){case"value":At=X;break;case"defaultValue":ye=X;break;case"multiple":ue=X;default:X!==Re&&ja(A,m,U,X,_,Re)}m=ye,b=ue,_=pt,At!=null?Yl(A,!!b,At,!1):!!_!=!!b&&(m!=null?Yl(A,!!b,m,!0):Yl(A,!!b,b?[]:"",!1));return;case"textarea":pt=At=null;for(ye in b)if(U=b[ye],b.hasOwnProperty(ye)&&U!=null&&!_.hasOwnProperty(ye))switch(ye){case"value":break;case"children":break;default:ja(A,m,ye,null,_,U)}for(ue in _)if(U=_[ue],X=b[ue],_.hasOwnProperty(ue)&&(U!=null||X!=null))switch(ue){case"value":At=U;break;case"defaultValue":pt=U;break;case"children":break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(91));break;default:U!==X&&ja(A,m,ue,U,_,X)}Xn(A,At,pt);return;case"option":for(var Jr in b)if(At=b[Jr],b.hasOwnProperty(Jr)&&At!=null&&!_.hasOwnProperty(Jr))switch(Jr){case"selected":A.selected=!1;break;default:ja(A,m,Jr,null,_,At)}for(Re in _)if(At=_[Re],pt=b[Re],_.hasOwnProperty(Re)&&At!==pt&&(At!=null||pt!=null))switch(Re){case"selected":A.selected=At&&typeof At!="function"&&typeof At!="symbol";break;default:ja(A,m,Re,At,_,pt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Hr in b)At=b[Hr],b.hasOwnProperty(Hr)&&At!=null&&!_.hasOwnProperty(Hr)&&ja(A,m,Hr,null,_,At);for(ct in _)if(At=_[ct],pt=b[ct],_.hasOwnProperty(ct)&&At!==pt&&(At!=null||pt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(n(137,m));break;default:ja(A,m,ct,At,_,pt)}return;default:if(ZA(m)){for(var Ia in b)At=b[Ia],b.hasOwnProperty(Ia)&&At!==void 0&&!_.hasOwnProperty(Ia)&&U3(A,m,Ia,void 0,_,At);for(kt in _)At=_[kt],pt=b[kt],!_.hasOwnProperty(kt)||At===pt||At===void 0&&pt===void 0||U3(A,m,kt,At,_,pt);return}}for(var Ye in b)At=b[Ye],b.hasOwnProperty(Ye)&&At!=null&&!_.hasOwnProperty(Ye)&&ja(A,m,Ye,null,_,At);for(Lt in _)At=_[Lt],pt=b[Lt],!_.hasOwnProperty(Lt)||At===pt||At==null&&pt==null||ja(A,m,Lt,At,_,pt)}var Q3=null,H3=null;function r_(A){return A.nodeType===9?A:A.ownerDocument}function XH(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YH(A,m){if(A===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&m==="foreignObject"?0:A}function $3(A,m){return A==="textarea"||A==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var V3=null;function zge(){var A=window.event;return A&&A.type==="popstate"?A===V3?!1:(V3=A,!0):(V3=null,!1)}var JH=typeof setTimeout=="function"?setTimeout:void 0,Gge=typeof clearTimeout=="function"?clearTimeout:void 0,ZH=typeof Promise=="function"?Promise:void 0,Kge=typeof queueMicrotask=="function"?queueMicrotask:typeof ZH<"u"?function(A){return ZH.resolve(null).then(A).catch(qge)}:JH;function qge(A){setTimeout(function(){throw A})}function op(A){return A==="head"}function e$(A,m){var b=m,_=0,U=0;do{var X=b.nextSibling;if(A.removeChild(b),X&&X.nodeType===8)if(b=X.data,b==="/$"){if(0<_&&8>_){b=_;var ue=A.ownerDocument;if(b&1&&lw(ue.documentElement),b&2&&lw(ue.body),b&4)for(b=ue.head,lw(b),ue=b.firstChild;ue;){var ye=ue.nextSibling,Re=ue.nodeName;ue[Ee]||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&ue.rel.toLowerCase()==="stylesheet"||b.removeChild(ue),ue=ye}}if(U===0){A.removeChild(X),mw(m);return}U--}else b==="$"||b==="$?"||b==="$!"?U++:_=b.charCodeAt(0)-48;else _=0;b=X}while(b);mw(m)}function z3(A){var m=A.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var b=m;switch(m=m.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":z3(b),we(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}A.removeChild(b)}}function Wge(A,m,b,_){for(;A.nodeType===1;){var U=b;if(A.nodeName.toLowerCase()!==m.toLowerCase()){if(!_&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(_){if(!A[Ee])switch(m){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(X=A.getAttribute("rel"),X==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(X!==U.rel||A.getAttribute("href")!==(U.href==null||U.href===""?null:U.href)||A.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin)||A.getAttribute("title")!==(U.title==null?null:U.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(X=A.getAttribute("src"),(X!==(U.src==null?null:U.src)||A.getAttribute("type")!==(U.type==null?null:U.type)||A.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin))&&X&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(m==="input"&&A.type==="hidden"){var X=U.name==null?null:""+U.name;if(U.type==="hidden"&&A.getAttribute("name")===X)return A}else return A;if(A=Kd(A.nextSibling),A===null)break}return null}function Xge(A,m,b){if(m==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!b||(A=Kd(A.nextSibling),A===null))return null;return A}function G3(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState==="complete"}function Yge(A,m){var b=A.ownerDocument;if(A.data!=="$?"||b.readyState==="complete")m();else{var _=function(){m(),b.removeEventListener("DOMContentLoaded",_)};b.addEventListener("DOMContentLoaded",_),A._reactRetry=_}}function Kd(A){for(;A!=null;A=A.nextSibling){var m=A.nodeType;if(m===1||m===3)break;if(m===8){if(m=A.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return A}var K3=null;function t$(A){A=A.previousSibling;for(var m=0;A;){if(A.nodeType===8){var b=A.data;if(b==="$"||b==="$!"||b==="$?"){if(m===0)return A;m--}else b==="/$"&&m++}A=A.previousSibling}return null}function r$(A,m,b){switch(m=r_(b),A){case"html":if(A=m.documentElement,!A)throw Error(n(452));return A;case"head":if(A=m.head,!A)throw Error(n(453));return A;case"body":if(A=m.body,!A)throw Error(n(454));return A;default:throw Error(n(451))}}function lw(A){for(var m=A.attributes;m.length;)A.removeAttributeNode(m[0]);we(A)}var Vu=new Map,n$=new Set;function n_(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var Sh=G.d;G.d={f:Jge,r:Zge,D:exe,C:txe,L:rxe,m:nxe,X:sxe,S:axe,M:ixe};function Jge(){var A=Sh.f(),m=qS();return A||m}function Zge(A){var m=Oe(A);m!==null&&m.tag===5&&m.type==="form"?ig(m):Sh.r(A)}var Nv=typeof document>"u"?null:document;function a$(A,m,b){var _=Nv;if(_&&typeof m=="string"&&m){var U=Mn(m);U='link[rel="'+A+'"][href="'+U+'"]',typeof b=="string"&&(U+='[crossorigin="'+b+'"]'),n$.has(U)||(n$.add(U),A={rel:A,crossOrigin:b,href:m},_.querySelector(U)===null&&(m=_.createElement("link"),To(m,"link",A),Ke(m),_.head.appendChild(m)))}}function exe(A){Sh.D(A),a$("dns-prefetch",A,null)}function txe(A,m){Sh.C(A,m),a$("preconnect",A,m)}function rxe(A,m,b){Sh.L(A,m,b);var _=Nv;if(_&&A&&m){var U='link[rel="preload"][as="'+Mn(m)+'"]';m==="image"&&b&&b.imageSrcSet?(U+='[imagesrcset="'+Mn(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(U+='[imagesizes="'+Mn(b.imageSizes)+'"]')):U+='[href="'+Mn(A)+'"]';var X=U;switch(m){case"style":X=kv(A);break;case"script":X=Tv(A)}Vu.has(X)||(A=d({rel:"preload",href:m==="image"&&b&&b.imageSrcSet?void 0:A,as:m},b),Vu.set(X,A),_.querySelector(U)!==null||m==="style"&&_.querySelector(cw(X))||m==="script"&&_.querySelector(uw(X))||(m=_.createElement("link"),To(m,"link",A),Ke(m),_.head.appendChild(m)))}}function nxe(A,m){Sh.m(A,m);var b=Nv;if(b&&A){var _=m&&typeof m.as=="string"?m.as:"script",U='link[rel="modulepreload"][as="'+Mn(_)+'"][href="'+Mn(A)+'"]',X=U;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":X=Tv(A)}if(!Vu.has(X)&&(A=d({rel:"modulepreload",href:A},m),Vu.set(X,A),b.querySelector(U)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(uw(X)))return}_=b.createElement("link"),To(_,"link",A),Ke(_),b.head.appendChild(_)}}}function axe(A,m,b){Sh.S(A,m,b);var _=Nv;if(_&&A){var U=ft(_).hoistableStyles,X=kv(A);m=m||"default";var ue=U.get(X);if(!ue){var ye={loading:0,preload:null};if(ue=_.querySelector(cw(X)))ye.loading=5;else{A=d({rel:"stylesheet",href:A,"data-precedence":m},b),(b=Vu.get(X))&&q3(A,b);var Re=ue=_.createElement("link");Ke(Re),To(Re,"link",A),Re._p=new Promise(function(ct,kt){Re.onload=ct,Re.onerror=kt}),Re.addEventListener("load",function(){ye.loading|=1}),Re.addEventListener("error",function(){ye.loading|=2}),ye.loading|=4,a_(ue,m,_)}ue={type:"stylesheet",instance:ue,count:1,state:ye},U.set(X,ue)}}}function sxe(A,m){Sh.X(A,m);var b=Nv;if(b&&A){var _=ft(b).hoistableScripts,U=Tv(A),X=_.get(U);X||(X=b.querySelector(uw(U)),X||(A=d({src:A,async:!0},m),(m=Vu.get(U))&&W3(A,m),X=b.createElement("script"),Ke(X),To(X,"link",A),b.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},_.set(U,X))}}function ixe(A,m){Sh.M(A,m);var b=Nv;if(b&&A){var _=ft(b).hoistableScripts,U=Tv(A),X=_.get(U);X||(X=b.querySelector(uw(U)),X||(A=d({src:A,async:!0,type:"module"},m),(m=Vu.get(U))&&W3(A,m),X=b.createElement("script"),Ke(X),To(X,"link",A),b.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},_.set(U,X))}}function s$(A,m,b,_){var U=(U=ae.current)?n_(U):null;if(!U)throw Error(n(446));switch(A){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(m=kv(b.href),b=ft(U).hoistableStyles,_=b.get(m),_||(_={type:"style",instance:null,count:0,state:null},b.set(m,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){A=kv(b.href);var X=ft(U).hoistableStyles,ue=X.get(A);if(ue||(U=U.ownerDocument||U,ue={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},X.set(A,ue),(X=U.querySelector(cw(A)))&&!X._p&&(ue.instance=X,ue.state.loading=5),Vu.has(A)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},Vu.set(A,b),X||oxe(U,A,b,ue.state))),m&&_===null)throw Error(n(528,""));return ue}if(m&&_!==null)throw Error(n(529,""));return null;case"script":return m=b.async,b=b.src,typeof b=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Tv(b),b=ft(U).hoistableScripts,_=b.get(m),_||(_={type:"script",instance:null,count:0,state:null},b.set(m,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,A))}}function kv(A){return'href="'+Mn(A)+'"'}function cw(A){return'link[rel="stylesheet"]['+A+"]"}function i$(A){return d({},A,{"data-precedence":A.precedence,precedence:null})}function oxe(A,m,b,_){A.querySelector('link[rel="preload"][as="style"]['+m+"]")?_.loading=1:(m=A.createElement("link"),_.preload=m,m.addEventListener("load",function(){return _.loading|=1}),m.addEventListener("error",function(){return _.loading|=2}),To(m,"link",b),Ke(m),A.head.appendChild(m))}function Tv(A){return'[src="'+Mn(A)+'"]'}function uw(A){return"script[async]"+A}function o$(A,m,b){if(m.count++,m.instance===null)switch(m.type){case"style":var _=A.querySelector('style[data-href~="'+Mn(b.href)+'"]');if(_)return m.instance=_,Ke(_),_;var U=d({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return _=(A.ownerDocument||A).createElement("style"),Ke(_),To(_,"style",U),a_(_,b.precedence,A),m.instance=_;case"stylesheet":U=kv(b.href);var X=A.querySelector(cw(U));if(X)return m.state.loading|=4,m.instance=X,Ke(X),X;_=i$(b),(U=Vu.get(U))&&q3(_,U),X=(A.ownerDocument||A).createElement("link"),Ke(X);var ue=X;return ue._p=new Promise(function(ye,Re){ue.onload=ye,ue.onerror=Re}),To(X,"link",_),m.state.loading|=4,a_(X,b.precedence,A),m.instance=X;case"script":return X=Tv(b.src),(U=A.querySelector(uw(X)))?(m.instance=U,Ke(U),U):(_=b,(U=Vu.get(X))&&(_=d({},b),W3(_,U)),A=A.ownerDocument||A,U=A.createElement("script"),Ke(U),To(U,"link",_),A.head.appendChild(U),m.instance=U);case"void":return null;default:throw Error(n(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(_=m.instance,m.state.loading|=4,a_(_,b.precedence,A));return m.instance}function a_(A,m,b){for(var _=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),U=_.length?_[_.length-1]:null,X=U,ue=0;ue<_.length;ue++){var ye=_[ue];if(ye.dataset.precedence===m)X=ye;else if(X!==U)break}X?X.parentNode.insertBefore(A,X.nextSibling):(m=b.nodeType===9?b.head:b,m.insertBefore(A,m.firstChild))}function q3(A,m){A.crossOrigin==null&&(A.crossOrigin=m.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=m.referrerPolicy),A.title==null&&(A.title=m.title)}function W3(A,m){A.crossOrigin==null&&(A.crossOrigin=m.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=m.referrerPolicy),A.integrity==null&&(A.integrity=m.integrity)}var s_=null;function l$(A,m,b){if(s_===null){var _=new Map,U=s_=new Map;U.set(b,_)}else U=s_,_=U.get(b),_||(_=new Map,U.set(b,_));if(_.has(A))return _;for(_.set(A,null),b=b.getElementsByTagName(A),U=0;U<b.length;U++){var X=b[U];if(!(X[Ee]||X[sr]||A==="link"&&X.getAttribute("rel")==="stylesheet")&&X.namespaceURI!=="http://www.w3.org/2000/svg"){var ue=X.getAttribute(m)||"";ue=A+ue;var ye=_.get(ue);ye?ye.push(X):_.set(ue,[X])}}return _}function c$(A,m,b){A=A.ownerDocument||A,A.head.insertBefore(b,m==="title"?A.querySelector("head > title"):null)}function lxe(A,m,b){if(b===1||m.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return A=m.disabled,typeof m.precedence=="string"&&A==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function u$(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}var dw=null;function cxe(){}function uxe(A,m,b){if(dw===null)throw Error(n(475));var _=dw;if(m.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var U=kv(b.href),X=A.querySelector(cw(U));if(X){A=X._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(_.count++,_=i_.bind(_),A.then(_,_)),m.state.loading|=4,m.instance=X,Ke(X);return}X=A.ownerDocument||A,b=i$(b),(U=Vu.get(U))&&q3(b,U),X=X.createElement("link"),Ke(X);var ue=X;ue._p=new Promise(function(ye,Re){ue.onload=ye,ue.onerror=Re}),To(X,"link",b),m.instance=X}_.stylesheets===null&&(_.stylesheets=new Map),_.stylesheets.set(m,A),(A=m.state.preload)&&(m.state.loading&3)===0&&(_.count++,m=i_.bind(_),A.addEventListener("load",m),A.addEventListener("error",m))}}function dxe(){if(dw===null)throw Error(n(475));var A=dw;return A.stylesheets&&A.count===0&&X3(A,A.stylesheets),0<A.count?function(m){var b=setTimeout(function(){if(A.stylesheets&&X3(A,A.stylesheets),A.unsuspend){var _=A.unsuspend;A.unsuspend=null,_()}},6e4);return A.unsuspend=m,function(){A.unsuspend=null,clearTimeout(b)}}:null}function i_(){if(this.count--,this.count===0){if(this.stylesheets)X3(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var o_=null;function X3(A,m){A.stylesheets=null,A.unsuspend!==null&&(A.count++,o_=new Map,m.forEach(fxe,A),o_=null,i_.call(A))}function fxe(A,m){if(!(m.state.loading&4)){var b=o_.get(A);if(b)var _=b.get(null);else{b=new Map,o_.set(A,b);for(var U=A.querySelectorAll("link[data-precedence],style[data-precedence]"),X=0;X<U.length;X++){var ue=U[X];(ue.nodeName==="LINK"||ue.getAttribute("media")!=="not all")&&(b.set(ue.dataset.precedence,ue),_=ue)}_&&b.set(null,_)}U=m.instance,ue=U.getAttribute("data-precedence"),X=b.get(ue)||_,X===_&&b.set(null,U),b.set(ue,U),this.count++,_=i_.bind(this),U.addEventListener("load",_),U.addEventListener("error",_),X?X.parentNode.insertBefore(U,X.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(U,A.firstChild)),m.state.loading|=4}}var fw={$$typeof:E,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Axe(A,m,b,_,U,X,ue,ye){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=_,this.onUncaughtError=U,this.onCaughtError=X,this.onRecoverableError=ue,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function d$(A,m,b,_,U,X,ue,ye,Re,ct,kt,Lt){return A=new Axe(A,m,b,ue,ye,Re,ct,Lt),m=1,X===!0&&(m|=24),X=to(3,null,null,m),A.current=X,X.stateNode=A,m=Dy(),m.refCount++,A.pooledCache=m,m.refCount++,X.memoizedState={element:_,isDehydrated:b,cache:m},Qe(X),A}function f$(A){return A?(A=vi,A):vi}function A$(A,m,b,_,U,X){U=f$(U),_.context===null?_.context=U:_.pendingContext=U,_=Nt(m),_.payload={element:b},X=X===void 0?null:X,X!==null&&(_.callback=X),b=Ot(A,_,m),b!==null&&(qc(b,A,m),Bt(b,A,m))}function h$(A,m){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var b=A.retryLane;A.retryLane=b!==0&&b<m?b:m}}function Y3(A,m){h$(A,m),(A=A.alternate)&&h$(A,m)}function p$(A){if(A.tag===13){var m=Od(A,67108864);m!==null&&qc(m,A,67108864),Y3(A,67108864)}}var l_=!0;function hxe(A,m,b,_){var U=Q.T;Q.T=null;var X=G.p;try{G.p=2,J3(A,m,b,_)}finally{G.p=X,Q.T=U}}function pxe(A,m,b,_){var U=Q.T;Q.T=null;var X=G.p;try{G.p=8,J3(A,m,b,_)}finally{G.p=X,Q.T=U}}function J3(A,m,b,_){if(l_){var U=Z3(_);if(U===null)M3(A,m,_,c_,b),g$(A,_);else if(gxe(U,A,m,b,_))_.stopPropagation();else if(g$(A,_),m&4&&-1<mxe.indexOf(A)){for(;U!==null;){var X=Oe(U);if(X!==null)switch(X.tag){case 3:if(X=X.stateNode,X.current.memoizedState.isDehydrated){var ue=kr(X.pendingLanes);if(ue!==0){var ye=X;for(ye.pendingLanes|=2,ye.entangledLanes|=2;ue;){var Re=1<<31-Ft(ue);ye.entanglements[1]|=Re,ue&=~Re}sA(X),(va&6)===0&&(GS=Be()+500,sw(0))}}break;case 13:ye=Od(X,2),ye!==null&&qc(ye,X,2),qS(),Y3(X,2)}if(X=Z3(_),X===null&&M3(A,m,_,c_,b),X===U)break;U=X}U!==null&&_.stopPropagation()}else M3(A,m,_,null,b)}}function Z3(A){return A=ga(A),eI(A)}var c_=null;function eI(A){if(c_=null,A=Te(A),A!==null){var m=s(A);if(m===null)A=null;else{var b=m.tag;if(b===13){if(A=i(m),A!==null)return A;A=null}else if(b===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;A=null}else m!==A&&(A=null)}}return c_=A,null}function m$(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case Ge:return 2;case xe:return 8;case Ie:case De:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var tI=!1,lp=null,cp=null,up=null,Aw=new Map,hw=new Map,dp=[],mxe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g$(A,m){switch(A){case"focusin":case"focusout":lp=null;break;case"dragenter":case"dragleave":cp=null;break;case"mouseover":case"mouseout":up=null;break;case"pointerover":case"pointerout":Aw.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":hw.delete(m.pointerId)}}function pw(A,m,b,_,U,X){return A===null||A.nativeEvent!==X?(A={blockedOn:m,domEventName:b,eventSystemFlags:_,nativeEvent:X,targetContainers:[U]},m!==null&&(m=Oe(m),m!==null&&p$(m)),A):(A.eventSystemFlags|=_,m=A.targetContainers,U!==null&&m.indexOf(U)===-1&&m.push(U),A)}function gxe(A,m,b,_,U){switch(m){case"focusin":return lp=pw(lp,A,m,b,_,U),!0;case"dragenter":return cp=pw(cp,A,m,b,_,U),!0;case"mouseover":return up=pw(up,A,m,b,_,U),!0;case"pointerover":var X=U.pointerId;return Aw.set(X,pw(Aw.get(X)||null,A,m,b,_,U)),!0;case"gotpointercapture":return X=U.pointerId,hw.set(X,pw(hw.get(X)||null,A,m,b,_,U)),!0}return!1}function x$(A){var m=Te(A.target);if(m!==null){var b=s(m);if(b!==null){if(m=b.tag,m===13){if(m=i(b),m!==null){A.blockedOn=m,Ct(A.priority,function(){if(b.tag===13){var _=Kc();_=xt(_);var U=Od(b,_);U!==null&&qc(U,b,_),Y3(b,_)}});return}}else if(m===3&&b.stateNode.current.memoizedState.isDehydrated){A.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}A.blockedOn=null}function u_(A){if(A.blockedOn!==null)return!1;for(var m=A.targetContainers;0<m.length;){var b=Z3(A.nativeEvent);if(b===null){b=A.nativeEvent;var _=new b.constructor(b.type,b);Jl=_,b.target.dispatchEvent(_),Jl=null}else return m=Oe(b),m!==null&&p$(m),A.blockedOn=b,!1;m.shift()}return!0}function v$(A,m,b){u_(A)&&b.delete(m)}function xxe(){tI=!1,lp!==null&&u_(lp)&&(lp=null),cp!==null&&u_(cp)&&(cp=null),up!==null&&u_(up)&&(up=null),Aw.forEach(v$),hw.forEach(v$)}function d_(A,m){A.blockedOn===m&&(A.blockedOn=null,tI||(tI=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xxe)))}var f_=null;function b$(A){f_!==A&&(f_=A,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){f_===A&&(f_=null);for(var m=0;m<A.length;m+=3){var b=A[m],_=A[m+1],U=A[m+2];if(typeof _!="function"){if(eI(_||b)===null)continue;break}var X=Oe(b);X!==null&&(A.splice(m,3),m-=3,Qu(X,{pending:!0,data:U,method:b.method,action:_},_,U))}}))}function mw(A){function m(Re){return d_(Re,A)}lp!==null&&d_(lp,A),cp!==null&&d_(cp,A),up!==null&&d_(up,A),Aw.forEach(m),hw.forEach(m);for(var b=0;b<dp.length;b++){var _=dp[b];_.blockedOn===A&&(_.blockedOn=null)}for(;0<dp.length&&(b=dp[0],b.blockedOn===null);)x$(b),b.blockedOn===null&&dp.shift();if(b=(A.ownerDocument||A).$$reactFormReplay,b!=null)for(_=0;_<b.length;_+=3){var U=b[_],X=b[_+1],ue=U[Er]||null;if(typeof X=="function")ue||b$(b);else if(ue){var ye=null;if(X&&X.hasAttribute("formAction")){if(U=X,ue=X[Er]||null)ye=ue.formAction;else if(eI(U)!==null)continue}else ye=ue.action;typeof ye=="function"?b[_+1]=ye:(b.splice(_,3),_-=3),b$(b)}}}function rI(A){this._internalRoot=A}A_.prototype.render=rI.prototype.render=function(A){var m=this._internalRoot;if(m===null)throw Error(n(409));var b=m.current,_=Kc();A$(b,_,A,m,null,null)},A_.prototype.unmount=rI.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var m=A.containerInfo;A$(A.current,2,null,A,null,null),qS(),m[nn]=null}};function A_(A){this._internalRoot=A}A_.prototype.unstable_scheduleHydration=function(A){if(A){var m=vt();A={blockedOn:null,target:A,priority:m};for(var b=0;b<dp.length&&m!==0&&m<dp[b].priority;b++);dp.splice(b,0,A),b===0&&x$(A)}};var y$=t.version;if(y$!=="19.1.1")throw Error(n(527,y$,"19.1.1"));G.findDOMNode=function(A){var m=A._reactInternals;if(m===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=c(m),A=A!==null?u(A):null,A=A===null?null:A.stateNode,A};var vxe={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var h_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h_.isDisabled&&h_.supportsFiber)try{ht=h_.inject(vxe),Tt=h_}catch{}}return xw.createRoot=function(A,m){if(!a(A))throw Error(n(299));var b=!1,_="",U=RQ,X=LQ,ue=MQ,ye=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(_=m.identifierPrefix),m.onUncaughtError!==void 0&&(U=m.onUncaughtError),m.onCaughtError!==void 0&&(X=m.onCaughtError),m.onRecoverableError!==void 0&&(ue=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ye=m.unstable_transitionCallbacks)),m=d$(A,1,!1,null,null,b,_,U,X,ue,ye,null),A[nn]=m.current,L3(A),new rI(m)},xw.hydrateRoot=function(A,m,b){if(!a(A))throw Error(n(299));var _=!1,U="",X=RQ,ue=LQ,ye=MQ,Re=null,ct=null;return b!=null&&(b.unstable_strictMode===!0&&(_=!0),b.identifierPrefix!==void 0&&(U=b.identifierPrefix),b.onUncaughtError!==void 0&&(X=b.onUncaughtError),b.onCaughtError!==void 0&&(ue=b.onCaughtError),b.onRecoverableError!==void 0&&(ye=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(Re=b.unstable_transitionCallbacks),b.formState!==void 0&&(ct=b.formState)),m=d$(A,1,!0,m,b??null,_,U,X,ue,ye,Re,ct),m.context=f$(null),b=m.current,_=Kc(),_=xt(_),U=Nt(_),U.callback=null,Ot(b,U,_),b=_,m.current.lanes=b,zn(m,b),sA(m),A[nn]=m.current,L3(A),new A_(m)},xw.version="19.1.1",xw}var j$;function Ixe(){if(j$)return sI.exports;j$=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sI.exports=jxe(),sI.exports}var Fxe=Ixe();const Oxe=Tl(Fxe),Dxe=()=>{};var I$={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Pxe=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[r++];t[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[r++],i=e[r++],o=e[r++],c=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const s=e[r++],i=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63)}}return t.join("")},bre={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const s=e[a],i=a+1<e.length,o=i?e[a+1]:0,c=a+2<e.length,u=c?e[a+2]:0,d=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;c||(p=64,i||(h=64)),n.push(r[d],r[f],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vre(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Pxe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const s=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const u=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,s==null||o==null||u==null||f==null)throw new Rxe;const h=s<<2|o>>4;if(n.push(h),u!==64){const p=o<<4&240|u>>2;if(n.push(p),f!==64){const g=u<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Rxe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lxe=function(e){const t=vre(e);return bre.encodeByteArray(t,!0)},qN=function(e){return Lxe(e).replace(/\./g,"")},yre=function(e){try{return bre.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mxe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uxe=()=>Mxe().__FIREBASE_DEFAULTS__,Qxe=()=>{if(typeof process>"u"||typeof I$>"u")return;const e=I$.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Hxe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&yre(e[1]);return t&&JSON.parse(t)},dT=()=>{try{return Dxe()||Uxe()||Qxe()||Hxe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wre=e=>{var t,r;return(r=(t=dT())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},LL=e=>{const t=wre(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},Cre=()=>{var e;return(e=dT())==null?void 0:e.config},Ere=e=>{var t;return(t=dT())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fT(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[qN(JSON.stringify(r)),qN(JSON.stringify(i)),""].join(".")}const T2={};function Vxe(){const e={prod:[],emulator:[]};for(const t of Object.keys(T2))T2[t]?e.emulator.push(t):e.prod.push(t);return e}function zxe(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let F$=!1;function AT(e,t){if(typeof window>"u"||typeof document>"u"||!C0(window.location.host)||T2[e]===t||T2[e]||F$)return;T2[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",s=Vxe().prod.length>0;function i(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{F$=!0,i()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=zxe(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),x=r("learnmore"),v=document.getElementById(x)||document.createElement("a"),y=r("preprendIcon"),w=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const E=h.element;o(E),d(v,x);const k=u();c(w,y),E.append(w,g,v,k),document.body.appendChild(E)}s?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gxe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sl())}function Kxe(){var t;const e=(t=dT())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qxe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wxe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Xxe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yxe(){const e=Sl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Jxe(){return!Kxe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zxe(){try{return typeof indexedDB=="object"}catch{return!1}}function eve(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;t(((s=a.error)==null?void 0:s.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tve="FirebaseError";class Cf extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=tve,Object.setPrototypeOf(this,Cf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,AE.prototype.create)}}class AE{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,s=this.errors[t],i=s?rve(s,n):"Error",o=`${this.serviceName}: ${i} (${a}).`;return new Cf(a,o,n)}}function rve(e,t){return e.replace(nve,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const nve=/\{\$([^}]+)}/g;function ave(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function om(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const s=e[a],i=t[a];if(O$(s)&&O$(i)){if(!om(s,i))return!1}else if(s!==i)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function O$(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function r2(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(s)}}),t}function n2(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function sve(e,t){const r=new ive(e,t);return r.subscribe.bind(r)}class ive{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");ove(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=cI),a.error===void 0&&(a.error=cI),a.complete===void 0&&(a.complete=cI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ove(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function cI(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(e){return e&&e._delegate?e._delegate:e}class r0{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lve=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new $xe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uve(t))try{this.getOrInitializeService({instanceIdentifier:wg})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(t=wg){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wg){return this.instances.has(t)}getOptions(t=wg){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&i.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const s=this.instances.get(n);return s&&t(s,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:cve(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=wg){return this.component?this.component.multipleInstances?t:wg:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cve(e){return e===wg?void 0:e}function uve(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dve{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new lve(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Dn||(Dn={}));const fve={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},Ave=Dn.INFO,hve={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},pve=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=hve[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let ML=class{constructor(t){this.name=t,this._logLevel=Ave,this._logHandler=pve,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fve[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...t),this._logHandler(this,Dn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...t),this._logHandler(this,Dn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...t),this._logHandler(this,Dn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...t),this._logHandler(this,Dn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...t),this._logHandler(this,Dn.ERROR,...t)}};const mve=(e,t)=>t.some(r=>e instanceof r);let D$,P$;function gve(){return D$||(D$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xve(){return P$||(P$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _re=new WeakMap,AD=new WeakMap,Nre=new WeakMap,uI=new WeakMap,UL=new WeakMap;function vve(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{r(Gp(e.result)),a()},i=()=>{n(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(r=>{r instanceof IDBCursor&&_re.set(r,e)}).catch(()=>{}),UL.set(t,e),t}function bve(e){if(AD.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{r(),a()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});AD.set(e,t)}let hD={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return AD.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Nre.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Gp(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function yve(e){hD=e(hD)}function wve(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(dI(this),t,...r);return Nre.set(n,t.sort?t.sort():[t]),Gp(n)}:xve().includes(e)?function(...t){return e.apply(dI(this),t),Gp(_re.get(this))}:function(...t){return Gp(e.apply(dI(this),t))}}function Cve(e){return typeof e=="function"?wve(e):(e instanceof IDBTransaction&&bve(e),mve(e,gve())?new Proxy(e,hD):e)}function Gp(e){if(e instanceof IDBRequest)return vve(e);if(uI.has(e))return uI.get(e);const t=Cve(e);return t!==e&&(uI.set(e,t),UL.set(t,e)),t}const dI=e=>UL.get(e);function Eve(e,t,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const i=indexedDB.open(e,t),o=Gp(i);return n&&i.addEventListener("upgradeneeded",c=>{n(Gp(i.result),c.oldVersion,c.newVersion,Gp(i.transaction),c)}),r&&i.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Sve=["get","getKey","getAll","getAllKeys","count"],_ve=["put","add","delete","clear"],fI=new Map;function R$(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fI.get(t))return fI.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=_ve.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Sve.includes(r)))return;const s=async function(i,...o){const c=this.transaction(i,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),a&&c.done]))[0]};return fI.set(t,s),s}yve(e=>({...e,get:(t,r,n)=>R$(t,r)||e.get(t,r,n),has:(t,r)=>!!R$(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nve{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(kve(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function kve(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const pD="@firebase/app",L$="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new ML("@firebase/app"),Tve="@firebase/app-compat",Bve="@firebase/analytics-compat",jve="@firebase/analytics",Ive="@firebase/app-check-compat",Fve="@firebase/app-check",Ove="@firebase/auth",Dve="@firebase/auth-compat",Pve="@firebase/database",Rve="@firebase/data-connect",Lve="@firebase/database-compat",Mve="@firebase/functions",Uve="@firebase/functions-compat",Qve="@firebase/installations",Hve="@firebase/installations-compat",$ve="@firebase/messaging",Vve="@firebase/messaging-compat",zve="@firebase/performance",Gve="@firebase/performance-compat",Kve="@firebase/remote-config",qve="@firebase/remote-config-compat",Wve="@firebase/storage",Xve="@firebase/storage-compat",Yve="@firebase/firestore",Jve="@firebase/ai",Zve="@firebase/firestore-compat",e1e="firebase",t1e="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="[DEFAULT]",r1e={[pD]:"fire-core",[Tve]:"fire-core-compat",[jve]:"fire-analytics",[Bve]:"fire-analytics-compat",[Fve]:"fire-app-check",[Ive]:"fire-app-check-compat",[Ove]:"fire-auth",[Dve]:"fire-auth-compat",[Pve]:"fire-rtdb",[Rve]:"fire-data-connect",[Lve]:"fire-rtdb-compat",[Mve]:"fire-fn",[Uve]:"fire-fn-compat",[Qve]:"fire-iid",[Hve]:"fire-iid-compat",[$ve]:"fire-fcm",[Vve]:"fire-fcm-compat",[zve]:"fire-perf",[Gve]:"fire-perf-compat",[Kve]:"fire-rc",[qve]:"fire-rc-compat",[Wve]:"fire-gcs",[Xve]:"fire-gcs-compat",[Yve]:"fire-fst",[Zve]:"fire-fst-compat",[Jve]:"fire-vertex","fire-js":"fire-js",[e1e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Map,n1e=new Map,gD=new Map;function M$(e,t){try{e.container.addComponent(t)}catch(r){n0.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function lm(e){const t=e.name;if(gD.has(t))return n0.debug(`There were multiple attempts to register component ${t}.`),!1;gD.set(t,e);for(const r of lC.values())M$(r,e);for(const r of n1e.values())M$(r,e);return!0}function pE(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function nu(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kp=new AE("app","Firebase",a1e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1e{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r0("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kp.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=t1e;function QL(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:mD,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw Kp.create("bad-app-name",{appName:String(a)});if(r||(r=Cre()),!r)throw Kp.create("no-options");const s=lC.get(a);if(s){if(om(r,s.options)&&om(n,s.config))return s;throw Kp.create("duplicate-app",{appName:a})}const i=new dve(a);for(const c of gD.values())i.addComponent(c);const o=new s1e(r,n,i);return lC.set(a,o),o}function hT(e=mD){const t=lC.get(e);if(!t&&e===mD&&Cre())return QL();if(!t)throw Kp.create("no-app",{appName:e});return t}function U$(){return Array.from(lC.values())}function Ad(e,t,r){let n=r1e[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const i=[`Unable to register library "${n}" with version "${t}":`];a&&i.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&s&&i.push("and"),s&&i.push(`version name "${t}" contains illegal characters (whitespace or "/")`),n0.warn(i.join(" "));return}lm(new r0(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1e="firebase-heartbeat-database",o1e=1,cC="firebase-heartbeat-store";let AI=null;function kre(){return AI||(AI=Eve(i1e,o1e,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(cC)}catch(r){console.warn(r)}}}}).catch(e=>{throw Kp.create("idb-open",{originalErrorMessage:e.message})})),AI}async function l1e(e){try{const r=(await kre()).transaction(cC),n=await r.objectStore(cC).get(Tre(e));return await r.done,n}catch(t){if(t instanceof Cf)n0.warn(t.message);else{const r=Kp.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});n0.warn(r.message)}}}async function Q$(e,t){try{const n=(await kre()).transaction(cC,"readwrite");await n.objectStore(cC).put(t,Tre(e)),await n.done}catch(r){if(r instanceof Cf)n0.warn(r.message);else{const n=Kp.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});n0.warn(n.message)}}}function Tre(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1e=1024,u1e=30;class d1e{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new A1e(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=H$();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>u1e){const i=h1e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){n0.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=H$(),{heartbeatsToSend:n,unsentEntries:a}=f1e(this._heartbeatsCache.heartbeats),s=qN(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return n0.warn(r),""}}}function H$(){return new Date().toISOString().substring(0,10)}function f1e(e,t=c1e){const r=[];let n=e.slice();for(const a of e){const s=r.find(i=>i.agent===a.agent);if(s){if(s.dates.push(a.date),$$(r)>t){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),$$(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class A1e{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zxe()?eve().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await l1e(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Q$(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Q$(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function $$(e){return qN(JSON.stringify({version:2,heartbeats:e})).length}function h1e(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1e(e){lm(new r0("platform-logger",t=>new Nve(t),"PRIVATE")),lm(new r0("heartbeat",t=>new d1e(t),"PRIVATE")),Ad(pD,L$,e),Ad(pD,L$,"esm2020"),Ad("fire-js","")}p1e("");function Bre(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m1e=Bre,jre=new AE("auth","Firebase",Bre());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new ML("@firebase/auth");function g1e(e,...t){WN.logLevel<=Dn.WARN&&WN.warn(`Auth (${Dx}): ${e}`,...t)}function eN(e,...t){WN.logLevel<=Dn.ERROR&&WN.error(`Auth (${Dx}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(e,...t){throw HL(e,...t)}function IA(e,...t){return HL(e,...t)}function Ire(e,t,r){const n={...m1e(),[t]:r};return new AE("auth","Firebase",n).create(t,{appName:e.name})}function qp(e){return Ire(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HL(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return jre.create(e,...t)}function Xr(e,t,...r){if(!e)throw HL(t,...r)}function Lh(e){const t="INTERNAL ASSERTION FAILED: "+e;throw eN(t),new Error(t)}function a0(e,t){e||Lh(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function x1e(){return V$()==="http:"||V$()==="https:"}function V$(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x1e()||Wxe()||"connection"in navigator)?navigator.onLine:!0}function b1e(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,r){this.shortDelay=t,this.longDelay=r,a0(r>t,"Short delay should be less than long delay!"),this.isMobile=Gxe()||Xxe()}get(){return v1e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(e,t){a0(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C1e=new mE(3e4,6e4);function Bm(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function E0(e,t,r,n,a={}){return Ore(e,a,async()=>{let s={},i={};n&&(t==="GET"?i=n:s={body:JSON.stringify(n)});const o=hE({key:e.config.apiKey,...i}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:c,...s};return qxe()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&C0(e.emulatorConfig.host)&&(u.credentials="include"),Fre.fetch()(await Dre(e,e.config.apiHost,r,o),u)})}async function Ore(e,t,r){e._canInitEmulator=!1;const n={...y1e,...t};try{const a=new S1e(e),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw p_(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const o=s.ok?i.errorMessage:i.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw p_(e,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw p_(e,"email-already-in-use",i);if(c==="USER_DISABLED")throw p_(e,"user-disabled",i);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ire(e,d,u);xf(e,d)}}catch(a){if(a instanceof Cf)throw a;xf(e,"network-request-failed",{message:String(a)})}}async function pT(e,t,r,n,a={}){const s=await E0(e,t,r,n,a);return"mfaPendingCredential"in s&&xf(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Dre(e,t,r,n){const a=`${t}${r}?${n}`,s=e,i=s.config.emulator?$L(e.config,a):`${e.config.apiScheme}://${a}`;return w1e.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(i).toString():i}function E1e(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S1e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(IA(this.auth,"network-request-failed")),C1e.get())})}}function p_(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=IA(e,t,n);return a.customData._tokenResponse=r,a}function z$(e){return e!==void 0&&e.enterprise!==void 0}class _1e{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return E1e(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function N1e(e,t){return E0(e,"GET","/v2/recaptchaConfig",Bm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1e(e,t){return E0(e,"POST","/v1/accounts:delete",t)}async function XN(e,t){return E0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function T1e(e,t=!1){const r=aa(e),n=await r.getIdToken(t),a=VL(n);Xr(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:a,token:n,authTime:B2(hI(a.auth_time)),issuedAtTime:B2(hI(a.iat)),expirationTime:B2(hI(a.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hI(e){return Number(e)*1e3}function VL(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return eN("JWT malformed, contained fewer than 3 sections"),null;try{const a=yre(r);return a?JSON.parse(a):(eN("Failed to decode base64 JWT payload"),null)}catch(a){return eN("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function G$(e){const t=VL(e);return Xr(t,"internal-error"),Xr(typeof t.exp<"u","internal-error"),Xr(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Cf&&B1e(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function B1e({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1e{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=B2(this.lastLoginAt),this.creationTime=B2(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(e){var f;const t=e.auth,r=await e.getIdToken(),n=await uC(e,XN(t,{idToken:r}));Xr(n==null?void 0:n.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const s=(f=a.providerUserInfo)!=null&&f.length?Pre(a.providerUserInfo):[],i=F1e(e.providerData,s),o=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(i!=null&&i.length),u=o?c:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new vD(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function I1e(e){const t=aa(e);await YN(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function F1e(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function Pre(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1e(e,t){const r=await Ore(e,{},async()=>{const n=hE({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:s}=e.config,i=await Dre(e,a,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:n};return e.emulatorConfig&&C0(e.emulatorConfig.host)&&(c.credentials="include"),Fre.fetch()(i,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function D1e(e,t){return E0(e,"POST","/v2/accounts:revokeToken",Bm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Xr(t.idToken,"internal-error"),Xr(typeof t.idToken<"u","internal-error"),Xr(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):G$(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){Xr(t.length!==0,"internal-error");const r=G$(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Xr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await O1e(t,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,i=new D1;return n&&(Xr(typeof n=="string","internal-error",{appName:t}),i.refreshToken=n),a&&(Xr(typeof a=="string","internal-error",{appName:t}),i.accessToken=a),s&&(Xr(typeof s=="number","internal-error",{appName:t}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new D1,this.toJSON())}_performRefresh(){return Lh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(e,t){Xr(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class nf{constructor({uid:t,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new j1e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new vD(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await uC(this,this.stsTokenManager.getToken(this.auth,t));return Xr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return T1e(this,t)}reload(){return I1e(this)}_assign(t){this!==t&&(Xr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new nf({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){Xr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await YN(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nu(this.auth.app))return Promise.reject(qp(this.auth));const t=await this.getIdToken();return await uC(this,k1e(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,a=r.email??void 0,s=r.phoneNumber??void 0,i=r.photoURL??void 0,o=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:x}=r;Xr(f&&x,t,"internal-error");const v=D1.fromJSON(this.name,x);Xr(typeof f=="string",t,"internal-error"),Ap(n,t.name),Ap(a,t.name),Xr(typeof h=="boolean",t,"internal-error"),Xr(typeof p=="boolean",t,"internal-error"),Ap(s,t.name),Ap(i,t.name),Ap(o,t.name),Ap(c,t.name),Ap(u,t.name),Ap(d,t.name);const y=new nf({uid:f,auth:t,email:a,emailVerified:h,displayName:n,isAnonymous:p,photoURL:i,phoneNumber:s,tenantId:o,stsTokenManager:v,createdAt:u,lastLoginAt:d});return g&&Array.isArray(g)&&(y.providerData=g.map(w=>({...w}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(t,r,n=!1){const a=new D1;a.updateFromServerResponse(r);const s=new nf({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await YN(s),s}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];Xr(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?Pre(a.providerUserInfo):[],i=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),o=new D1;o.updateFromIdToken(n);const c=new nf({uid:a.localId,auth:t,stsTokenManager:o,isAnonymous:i}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new vD(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=new Map;function Mh(e){a0(e instanceof Function,"Expected a class definition");let t=K$.get(e);return t?(a0(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,K$.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}Rre.type="NONE";const q$=Rre;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e,t,r){return`firebase:${e}:${t}:${r}`}class P1{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=tN(this.userKey,a.apiKey,s),this.fullPersistenceKey=tN("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await XN(this.auth,{idToken:t}).catch(()=>{});return r?nf._fromGetAccountInfoResponse(this.auth,r,t):null}return nf._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new P1(Mh(q$),t,n);const a=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=a[0]||Mh(q$);const i=tN(n,t.config.apiKey,t.name);let o=null;for(const u of r)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const h=await XN(t,{idToken:d}).catch(()=>{});if(!h)break;f=await nf._fromGetAccountInfoResponse(t,h,d)}else f=nf._fromJSON(t,d);u!==s&&(o=f),s=u;break}}catch{}const c=a.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new P1(s,t,n):(s=c[0],o&&await s._set(i,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(i)}catch{}})),new P1(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qre(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lre(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($re(t))return"Blackberry";if(Vre(t))return"Webos";if(Mre(t))return"Safari";if((t.includes("chrome/")||Ure(t))&&!t.includes("edge/"))return"Chrome";if(Hre(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Lre(e=Sl()){return/firefox\//i.test(e)}function Mre(e=Sl()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ure(e=Sl()){return/crios\//i.test(e)}function Qre(e=Sl()){return/iemobile/i.test(e)}function Hre(e=Sl()){return/android/i.test(e)}function $re(e=Sl()){return/blackberry/i.test(e)}function Vre(e=Sl()){return/webos/i.test(e)}function zL(e=Sl()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function P1e(e=Sl()){var t;return zL(e)&&!!((t=window.navigator)!=null&&t.standalone)}function R1e(){return Yxe()&&document.documentMode===10}function zre(e=Sl()){return zL(e)||Hre(e)||Vre(e)||$re(e)||/windows phone/i.test(e)||Qre(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gre(e,t=[]){let r;switch(e){case"Browser":r=W$(Sl());break;case"Worker":r=`${W$(Sl())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Dx}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=s=>new Promise((i,o)=>{try{const c=t(s);i(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1e(e,t={}){return E0(e,"GET","/v2/passwordPolicy",Bm(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1e=6;class Q1e{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??U1e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1e{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X$(this),this.idTokenSubscription=new X$(this),this.beforeStateQueue=new L1e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jre,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Mh(r)),this._initializationPromise=this.queue(async()=>{var n,a,s;if(!this._deleted&&(this.persistenceManager=await P1.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await XN(this,{idToken:t}),n=await nf._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(nu(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!i||i===o)&&(c!=null&&c.user)&&(n=c.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Xr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await YN(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=b1e()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(nu(this.app))return Promise.reject(qp(this));const r=t?aa(t):null;return r&&Xr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&Xr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return nu(this.app)?Promise.reject(qp(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return nu(this.app)?Promise.reject(qp(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mh(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await M1e(this),r=new Q1e(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new AE("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await D1e(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Mh(t)||this._popupRedirectResolver;Xr(r,this,"argument-error"),this.redirectPersistenceManager=await P1.create(this,[Mh(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xr(o,this,"internal-error"),o.then(()=>{i||s(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,a);return()=>{i=!0,c()}}else{const c=t.addObserver(r);return()=>{i=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Xr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Gre(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(nu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&g1e(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Px(e){return aa(e)}class X${constructor(t){this.auth=t,this.observer=null,this.addObserver=sve(r=>this.observer=r)}get next(){return Xr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $1e(e){mT=e}function Kre(e){return mT.loadJS(e)}function V1e(){return mT.recaptchaEnterpriseScript}function z1e(){return mT.gapiScript}function G1e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class K1e{constructor(){this.enterprise=new q1e}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class q1e{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const W1e="recaptcha-enterprise",qre="NO_RECAPTCHA";class X1e{constructor(t){this.type=W1e,this.auth=Px(t)}async verify(t="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(i,o)=>{N1e(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new _1e(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,i(u.siteKey)}}).catch(c=>{o(c)})})}function a(s,i,o){const c=window.grecaptcha;z$(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:t}).then(u=>{i(u)}).catch(()=>{i(qre)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K1e().execute("siteKey",{action:"verify"}):new Promise((s,i)=>{n(this.auth).then(o=>{if(!r&&z$(window.grecaptcha))a(o,s,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let c=V1e();c.length!==0&&(c+=o),Kre(c).then(()=>{a(o,s,i)}).catch(u=>{i(u)})}}).catch(o=>{i(o)})})}}async function Y$(e,t,r,n=!1,a=!1){const s=new X1e(e);let i;if(a)i=qre;else try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function bD(e,t,r,n,a){var s;if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Y$(e,t,r,r==="getOobCode");return n(e,i)}else return n(e,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Y$(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1e(e,t){const r=pE(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(om(s,t??{}))return a;xf(a,"already-initialized")}return r.initialize({options:t})}function J1e(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Mh);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function Z1e(e,t,r){const n=Px(e);Xr(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,s=Wre(t),{host:i,port:o}=ebe(t),c=o===null?"":`:${o}`,u={url:`${s}//${i}${c}/`},d=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Xr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Xr(om(u,n.config.emulator)&&om(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,C0(i)?(fT(`${s}//${i}${c}`),AT("Auth",!0)):tbe()}function Wre(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ebe(e){const t=Wre(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:J$(n.substr(s.length+1))}}else{const[s,i]=n.split(":");return{host:s,port:J$(i)}}}function J$(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function tbe(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Lh("not implemented")}_getIdTokenResponse(t){return Lh("not implemented")}_linkToIdToken(t,r){return Lh("not implemented")}_getReauthenticationResolver(t){return Lh("not implemented")}}async function rbe(e,t){return E0(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nbe(e,t){return pT(e,"POST","/v1/accounts:signInWithPassword",Bm(e,t))}async function abe(e,t){return E0(e,"POST","/v1/accounts:sendOobCode",Bm(e,t))}async function sbe(e,t){return abe(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ibe(e,t){return pT(e,"POST","/v1/accounts:signInWithEmailLink",Bm(e,t))}async function obe(e,t){return pT(e,"POST","/v1/accounts:signInWithEmailLink",Bm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC extends GL{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new dC(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new dC(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bD(t,r,"signInWithPassword",nbe);case"emailLink":return ibe(t,{email:this._email,oobCode:this._password});default:xf(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bD(t,n,"signUpPassword",rbe);case"emailLink":return obe(t,{idToken:r,email:this._email,oobCode:this._password});default:xf(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(e,t){return pT(e,"POST","/v1/accounts:signInWithIdp",Bm(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lbe="http://localhost";class fx extends GL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new fx(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):xf("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a,...s}=r;if(!n||!a)return null;const i=new fx(n,a);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(t){const r=this.buildRequest();return R1(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,R1(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,R1(t,r)}buildRequest(){const t={requestUri:lbe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=hE(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cbe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ube(e){const t=r2(n2(e)).link,r=t?r2(n2(t)).deep_link_id:null,n=r2(n2(e)).deep_link_id;return(n?r2(n2(n)).link:null)||n||r||t||e}class KL{constructor(t){const r=r2(n2(t)),n=r.apiKey??null,a=r.oobCode??null,s=cbe(r.mode??null);Xr(n&&a&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=ube(t);try{return new KL(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.providerId=Wb.PROVIDER_ID}static credential(t,r){return dC._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=KL.parseLink(r);return Xr(n,"argument-error"),dC._fromEmailAndCode(t,n.code,n.tenantId)}}Wb.PROVIDER_ID="password";Wb.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends Xre{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends gE{constructor(){super("facebook.com")}static credential(t){return fx._fromParams({providerId:Bp.PROVIDER_ID,signInMethod:Bp.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bp.credentialFromTaggedObject(t)}static credentialFromError(t){return Bp.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bp.credential(t.oauthAccessToken)}catch{return null}}}Bp.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bp.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends gE{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return fx._fromParams({providerId:jp.PROVIDER_ID,signInMethod:jp.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return jp.credentialFromTaggedObject(t)}static credentialFromError(t){return jp.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return jp.credential(r,n)}catch{return null}}}jp.GOOGLE_SIGN_IN_METHOD="google.com";jp.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends gE{constructor(){super("github.com")}static credential(t){return fx._fromParams({providerId:Ip.PROVIDER_ID,signInMethod:Ip.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ip.credentialFromTaggedObject(t)}static credentialFromError(t){return Ip.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ip.credential(t.oauthAccessToken)}catch{return null}}}Ip.GITHUB_SIGN_IN_METHOD="github.com";Ip.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp extends gE{constructor(){super("twitter.com")}static credential(t,r){return fx._fromParams({providerId:Fp.PROVIDER_ID,signInMethod:Fp.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Fp.credentialFromTaggedObject(t)}static credentialFromError(t){return Fp.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Fp.credential(r,n)}catch{return null}}}Fp.TWITTER_SIGN_IN_METHOD="twitter.com";Fp.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const s=await nf._fromIdTokenResponse(t,n,a),i=Z$(n);return new ob({user:s,providerId:i,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=Z$(n);return new ob({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function Z$(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN extends Cf{constructor(t,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,JN.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new JN(t,r,n,a)}}function Yre(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?JN._fromErrorAndOperation(e,s,t,n):s})}async function dbe(e,t,r=!1){const n=await uC(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return ob._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fbe(e,t,r=!1){const{auth:n}=e;if(nu(n.app))return Promise.reject(qp(n));const a="reauthenticate";try{const s=await uC(e,Yre(n,a,t,e),r);Xr(s.idToken,n,"internal-error");const i=VL(s.idToken);Xr(i,n,"internal-error");const{sub:o}=i;return Xr(e.uid===o,n,"user-mismatch"),ob._forOperation(e,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xf(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jre(e,t,r=!1){if(nu(e.app))return Promise.reject(qp(e));const n="signIn",a=await Yre(e,n,t),s=await ob._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(s.user),s}async function Abe(e,t){return Jre(Px(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hbe(e){const t=Px(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function pbe(e,t,r){const n=Px(e);await bD(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sbe)}function mbe(e,t,r){return nu(e.app)?Promise.reject(qp(e)):Abe(aa(e),Wb.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&hbe(e),n})}function gbe(e,t,r,n){return aa(e).onIdTokenChanged(t,r,n)}function xbe(e,t,r){return aa(e).beforeAuthStateChanged(t,r)}function Zre(e,t,r,n){return aa(e).onAuthStateChanged(t,r,n)}function vbe(e){return aa(e).signOut()}const ZN="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(ZN,"1"),this.storage.removeItem(ZN),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bbe=1e3,ybe=10;class tne extends ene{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zre(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((i,o,c)=>{this.notifyListeners(i,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const i=this.storage.getItem(n);!r&&this.localCache[n]===i||this.notifyListeners(n,i)},s=this.storage.getItem(n);R1e()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,ybe):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},bbe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}tne.type="LOCAL";const wbe=tne;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne extends ene{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}rne.type="SESSION";const nne=rne;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cbe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new gT(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:s}=r.data,i=this.handlersMap[a];if(!(i!=null&&i.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(i).map(async u=>u(r.origin,s)),c=await Cbe(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gT.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ebe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,i;return new Promise((o,c)=>{const u=qL("",20);a.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);i={messageChannel:a,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){return window}function Sbe(e){FA().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(){return typeof FA().WorkerGlobalScope<"u"&&typeof FA().importScripts=="function"}async function _be(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nbe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function kbe(){return ane()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne="firebaseLocalStorageDb",Tbe=1,e4="firebaseLocalStorage",ine="fbase_key";class xE{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function xT(e,t){return e.transaction([e4],t?"readwrite":"readonly").objectStore(e4)}function Bbe(){const e=indexedDB.deleteDatabase(sne);return new xE(e).toPromise()}function yD(){const e=indexedDB.open(sne,Tbe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(e4,{keyPath:ine})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(e4)?t(n):(n.close(),await Bbe(),t(await yD()))})})}async function eV(e,t,r){const n=xT(e,!0).put({[ine]:t,value:r});return new xE(n).toPromise()}async function jbe(e,t){const r=xT(e,!1).get(t),n=await new xE(r).toPromise();return n===void 0?null:n.value}function tV(e,t){const r=xT(e,!0).delete(t);return new xE(r).toPromise()}const Ibe=800,Fbe=3;class one{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yD(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>Fbe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ane()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gT._getInstance(kbe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await _be(),!this.activeServiceWorker)return;this.sender=new Ebe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Nbe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yD();return await eV(t,ZN,"1"),await tV(t,ZN),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>eV(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>jbe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>tV(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const s=xT(a,!1).getAll();return new xE(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:s}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ibe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}one.type="LOCAL";const Obe=one;new mE(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dbe(e,t){return t?Mh(t):(Xr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL extends GL{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return R1(t,this._buildIdpRequest())}_linkToIdToken(t,r){return R1(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return R1(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function Pbe(e){return Jre(e.auth,new WL(e),e.bypassAuthState)}function Rbe(e){const{auth:t,user:r}=e;return Xr(r,t,"internal-error"),fbe(r,new WL(e),e.bypassAuthState)}async function Lbe(e){const{auth:t,user:r}=e;return Xr(r,t,"internal-error"),dbe(r,new WL(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(t,r,n,a,s=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:i,type:o}=t;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Pbe;case"linkViaPopup":case"linkViaRedirect":return Lbe;case"reauthViaPopup":case"reauthViaRedirect":return Rbe;default:xf(this.auth,"internal-error")}}resolve(t){a0(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){a0(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mbe=new mE(2e3,1e4);class b1 extends lne{constructor(t,r,n,a,s){super(t,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,b1.currentPopupAction&&b1.currentPopupAction.cancel(),b1.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Xr(t,this.auth,"internal-error"),t}async onExecution(){a0(this.filter.length===1,"Popup operations only handle one event");const t=qL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(IA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(IA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b1.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(IA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Mbe.get())};t()}}b1.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ube="pendingRedirect",rN=new Map;class Qbe extends lne{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=rN.get(this.auth._key());if(!t){try{const n=await Hbe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}rN.set(this.auth._key(),t)}return this.bypassAuthState||rN.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hbe(e,t){const r=zbe(t),n=Vbe(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function $be(e,t){rN.set(e._key(),t)}function Vbe(e){return Mh(e._redirectPersistence)}function zbe(e){return tN(Ube,e.config.apiKey,e.name)}async function Gbe(e,t,r=!1){if(nu(e.app))return Promise.reject(qp(e));const n=Px(e),a=Dbe(n,t),i=await new Qbe(n,a,r).execute();return i&&!r&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,t)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kbe=600*1e3;class qbe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Wbe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!cne(t)){const a=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(IA(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Kbe&&this.cachedEventUids.clear(),this.cachedEventUids.has(rV(t))}saveEventToCache(t){this.cachedEventUids.add(rV(t)),this.lastProcessedEventTime=Date.now()}}function rV(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function cne({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Wbe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cne(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xbe(e,t={}){return E0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ybe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jbe=/^https?/;async function Zbe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Xbe(e);for(const r of t)try{if(eye(r))return}catch{}xf(e,"unauthorized-domain")}function eye(e){const t=xD(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return i.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&i.hostname===n}if(!Jbe.test(r))return!1;if(Ybe.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tye=new mE(3e4,6e4);function nV(){const e=FA().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function rye(e){return new Promise((t,r)=>{var a,s,i;function n(){nV(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nV(),r(IA(e,"network-request-failed"))},timeout:tye.get()})}if((s=(a=FA().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((i=FA().gapi)!=null&&i.load)n();else{const o=G1e("iframefcb");return FA()[o]=()=>{gapi.load?n():r(IA(e,"network-request-failed"))},Kre(`${z1e()}?onload=${o}`).catch(c=>r(c))}}).catch(t=>{throw nN=null,t})}let nN=null;function nye(e){return nN=nN||rye(e),nN}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aye=new mE(5e3,15e3),sye="__/auth/iframe",iye="emulator/auth/iframe",oye={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lye=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cye(e){const t=e.config;Xr(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?$L(t,iye):`https://${e.config.authDomain}/${sye}`,n={apiKey:t.apiKey,appName:e.name,v:Dx},a=lye.get(e.config.apiHost);a&&(n.eid=a);const s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${hE(n).slice(1)}`}async function uye(e){const t=await nye(e),r=FA().gapi;return Xr(r,e,"internal-error"),t.open({where:document.body,url:cye(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oye,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const i=IA(e,"network-request-failed"),o=FA().setTimeout(()=>{s(i)},aye.get());function c(){FA().clearTimeout(o),a(n)}n.ping(c).then(c,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dye={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fye=500,Aye=600,hye="_blank",pye="http://localhost";class aV{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mye(e,t,r,n=fye,a=Aye){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c={...dye,width:n.toString(),height:a.toString(),top:s,left:i},u=Sl().toLowerCase();r&&(o=Ure(u)?hye:r),Lre(u)&&(t=t||pye,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(P1e(u)&&o!=="_self")return gye(t||"",o),new aV(null);const f=window.open(t||"",o,d);Xr(f,e,"popup-blocked");try{f.focus()}catch{}return new aV(f)}function gye(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xye="__/auth/handler",vye="emulator/auth/handler",bye=encodeURIComponent("fac");async function sV(e,t,r,n,a,s){Xr(e.config.authDomain,e,"auth-domain-config-required"),Xr(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Dx,eventId:a};if(t instanceof Xre){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",ave(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))i[d]=f}if(t instanceof gE){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}e.tenantId&&(i.tid=e.tenantId);const o=i;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await e._getAppCheckToken(),u=c?`#${bye}=${encodeURIComponent(c)}`:"";return`${yye(e)}?${hE(o).slice(1)}${u}`}function yye({config:e}){return e.emulator?$L(e,vye):`https://${e.authDomain}/${xye}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="webStorageSupport";class wye{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nne,this._completeRedirectFn=Gbe,this._overrideRedirectResult=$be}async _openPopup(t,r,n,a){var i;a0((i=this.eventManagers[t._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await sV(t,r,n,xD(),a);return mye(t,s,qL())}async _openRedirect(t,r,n,a){await this._originValidation(t);const s=await sV(t,r,n,xD(),a);return Sbe(s),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(a0(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await uye(t),n=new qbe(t);return r.register("authEvent",a=>(Xr(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(pI,{type:pI},a=>{var i;const s=(i=a==null?void 0:a[0])==null?void 0:i[pI];s!==void 0&&r(!!s),xf(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Zbe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return zre()||Mre()||zL()}}const Cye=wye;var iV="@firebase/auth",oV="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eye{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Xr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sye(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _ye(e){lm(new r0("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=n.options;Xr(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:i,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gre(e)},u=new H1e(n,a,s,c);return J1e(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),lm(new r0("auth-internal",t=>{const r=Px(t.getProvider("auth").getImmediate());return(n=>new Eye(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ad(iV,oV,Sye(e)),Ad(iV,oV,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nye=300,kye=Ere("authIdTokenMaxAge")||Nye;let lV=null;const Tye=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>kye)return;const a=r==null?void 0:r.token;lV!==a&&(lV=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function une(e=hT()){const t=pE(e,"auth");if(t.isInitialized())return t.getImmediate();const r=Y1e(e,{popupRedirectResolver:Cye,persistence:[Obe,wbe,nne]}),n=Ere("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const i=Tye(s.toString());xbe(r,i,()=>i(r.currentUser)),gbe(r,o=>i(o))}}const a=wre("auth");return a&&Z1e(r,`http://${a}`),r}function Bye(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}$1e({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const s=IA("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",Bye().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_ye("Browser");var jye="firebase",Iye="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ad(jye,Iye,"app");var cV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wp,dne;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,N){function I(){}I.prototype=N.prototype,C.D=N.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(L,O,T){for(var P=Array(arguments.length-2),R=2;R<arguments.length;R++)P[R-2]=arguments[R];return N.prototype[O].apply(L,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,N,I){I||(I=0);var L=Array(16);if(typeof N=="string")for(var O=0;16>O;++O)L[O]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(O=0;16>O;++O)L[O]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=C.g[0],I=C.g[1],O=C.g[2];var T=C.g[3],P=N+(T^I&(O^T))+L[0]+3614090360&4294967295;N=I+(P<<7&4294967295|P>>>25),P=T+(O^N&(I^O))+L[1]+3905402710&4294967295,T=N+(P<<12&4294967295|P>>>20),P=O+(I^T&(N^I))+L[2]+606105819&4294967295,O=T+(P<<17&4294967295|P>>>15),P=I+(N^O&(T^N))+L[3]+3250441966&4294967295,I=O+(P<<22&4294967295|P>>>10),P=N+(T^I&(O^T))+L[4]+4118548399&4294967295,N=I+(P<<7&4294967295|P>>>25),P=T+(O^N&(I^O))+L[5]+1200080426&4294967295,T=N+(P<<12&4294967295|P>>>20),P=O+(I^T&(N^I))+L[6]+2821735955&4294967295,O=T+(P<<17&4294967295|P>>>15),P=I+(N^O&(T^N))+L[7]+4249261313&4294967295,I=O+(P<<22&4294967295|P>>>10),P=N+(T^I&(O^T))+L[8]+1770035416&4294967295,N=I+(P<<7&4294967295|P>>>25),P=T+(O^N&(I^O))+L[9]+2336552879&4294967295,T=N+(P<<12&4294967295|P>>>20),P=O+(I^T&(N^I))+L[10]+4294925233&4294967295,O=T+(P<<17&4294967295|P>>>15),P=I+(N^O&(T^N))+L[11]+2304563134&4294967295,I=O+(P<<22&4294967295|P>>>10),P=N+(T^I&(O^T))+L[12]+1804603682&4294967295,N=I+(P<<7&4294967295|P>>>25),P=T+(O^N&(I^O))+L[13]+4254626195&4294967295,T=N+(P<<12&4294967295|P>>>20),P=O+(I^T&(N^I))+L[14]+2792965006&4294967295,O=T+(P<<17&4294967295|P>>>15),P=I+(N^O&(T^N))+L[15]+1236535329&4294967295,I=O+(P<<22&4294967295|P>>>10),P=N+(O^T&(I^O))+L[1]+4129170786&4294967295,N=I+(P<<5&4294967295|P>>>27),P=T+(I^O&(N^I))+L[6]+3225465664&4294967295,T=N+(P<<9&4294967295|P>>>23),P=O+(N^I&(T^N))+L[11]+643717713&4294967295,O=T+(P<<14&4294967295|P>>>18),P=I+(T^N&(O^T))+L[0]+3921069994&4294967295,I=O+(P<<20&4294967295|P>>>12),P=N+(O^T&(I^O))+L[5]+3593408605&4294967295,N=I+(P<<5&4294967295|P>>>27),P=T+(I^O&(N^I))+L[10]+38016083&4294967295,T=N+(P<<9&4294967295|P>>>23),P=O+(N^I&(T^N))+L[15]+3634488961&4294967295,O=T+(P<<14&4294967295|P>>>18),P=I+(T^N&(O^T))+L[4]+3889429448&4294967295,I=O+(P<<20&4294967295|P>>>12),P=N+(O^T&(I^O))+L[9]+568446438&4294967295,N=I+(P<<5&4294967295|P>>>27),P=T+(I^O&(N^I))+L[14]+3275163606&4294967295,T=N+(P<<9&4294967295|P>>>23),P=O+(N^I&(T^N))+L[3]+4107603335&4294967295,O=T+(P<<14&4294967295|P>>>18),P=I+(T^N&(O^T))+L[8]+1163531501&4294967295,I=O+(P<<20&4294967295|P>>>12),P=N+(O^T&(I^O))+L[13]+2850285829&4294967295,N=I+(P<<5&4294967295|P>>>27),P=T+(I^O&(N^I))+L[2]+4243563512&4294967295,T=N+(P<<9&4294967295|P>>>23),P=O+(N^I&(T^N))+L[7]+1735328473&4294967295,O=T+(P<<14&4294967295|P>>>18),P=I+(T^N&(O^T))+L[12]+2368359562&4294967295,I=O+(P<<20&4294967295|P>>>12),P=N+(I^O^T)+L[5]+4294588738&4294967295,N=I+(P<<4&4294967295|P>>>28),P=T+(N^I^O)+L[8]+2272392833&4294967295,T=N+(P<<11&4294967295|P>>>21),P=O+(T^N^I)+L[11]+1839030562&4294967295,O=T+(P<<16&4294967295|P>>>16),P=I+(O^T^N)+L[14]+4259657740&4294967295,I=O+(P<<23&4294967295|P>>>9),P=N+(I^O^T)+L[1]+2763975236&4294967295,N=I+(P<<4&4294967295|P>>>28),P=T+(N^I^O)+L[4]+1272893353&4294967295,T=N+(P<<11&4294967295|P>>>21),P=O+(T^N^I)+L[7]+4139469664&4294967295,O=T+(P<<16&4294967295|P>>>16),P=I+(O^T^N)+L[10]+3200236656&4294967295,I=O+(P<<23&4294967295|P>>>9),P=N+(I^O^T)+L[13]+681279174&4294967295,N=I+(P<<4&4294967295|P>>>28),P=T+(N^I^O)+L[0]+3936430074&4294967295,T=N+(P<<11&4294967295|P>>>21),P=O+(T^N^I)+L[3]+3572445317&4294967295,O=T+(P<<16&4294967295|P>>>16),P=I+(O^T^N)+L[6]+76029189&4294967295,I=O+(P<<23&4294967295|P>>>9),P=N+(I^O^T)+L[9]+3654602809&4294967295,N=I+(P<<4&4294967295|P>>>28),P=T+(N^I^O)+L[12]+3873151461&4294967295,T=N+(P<<11&4294967295|P>>>21),P=O+(T^N^I)+L[15]+530742520&4294967295,O=T+(P<<16&4294967295|P>>>16),P=I+(O^T^N)+L[2]+3299628645&4294967295,I=O+(P<<23&4294967295|P>>>9),P=N+(O^(I|~T))+L[0]+4096336452&4294967295,N=I+(P<<6&4294967295|P>>>26),P=T+(I^(N|~O))+L[7]+1126891415&4294967295,T=N+(P<<10&4294967295|P>>>22),P=O+(N^(T|~I))+L[14]+2878612391&4294967295,O=T+(P<<15&4294967295|P>>>17),P=I+(T^(O|~N))+L[5]+4237533241&4294967295,I=O+(P<<21&4294967295|P>>>11),P=N+(O^(I|~T))+L[12]+1700485571&4294967295,N=I+(P<<6&4294967295|P>>>26),P=T+(I^(N|~O))+L[3]+2399980690&4294967295,T=N+(P<<10&4294967295|P>>>22),P=O+(N^(T|~I))+L[10]+4293915773&4294967295,O=T+(P<<15&4294967295|P>>>17),P=I+(T^(O|~N))+L[1]+2240044497&4294967295,I=O+(P<<21&4294967295|P>>>11),P=N+(O^(I|~T))+L[8]+1873313359&4294967295,N=I+(P<<6&4294967295|P>>>26),P=T+(I^(N|~O))+L[15]+4264355552&4294967295,T=N+(P<<10&4294967295|P>>>22),P=O+(N^(T|~I))+L[6]+2734768916&4294967295,O=T+(P<<15&4294967295|P>>>17),P=I+(T^(O|~N))+L[13]+1309151649&4294967295,I=O+(P<<21&4294967295|P>>>11),P=N+(O^(I|~T))+L[4]+4149444226&4294967295,N=I+(P<<6&4294967295|P>>>26),P=T+(I^(N|~O))+L[11]+3174756917&4294967295,T=N+(P<<10&4294967295|P>>>22),P=O+(N^(T|~I))+L[2]+718787259&4294967295,O=T+(P<<15&4294967295|P>>>17),P=I+(T^(O|~N))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+T&4294967295}n.prototype.u=function(C,N){N===void 0&&(N=C.length);for(var I=N-this.blockSize,L=this.B,O=this.h,T=0;T<N;){if(O==0)for(;T<=I;)a(this,C,T),T+=this.blockSize;if(typeof C=="string"){for(;T<N;)if(L[O++]=C.charCodeAt(T++),O==this.blockSize){a(this,L),O=0;break}}else for(;T<N;)if(L[O++]=C[T++],O==this.blockSize){a(this,L),O=0;break}}this.h=O,this.o+=N},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;var I=8*this.o;for(N=C.length-8;N<C.length;++N)C[N]=I&255,I/=256;for(this.u(C),C=Array(16),N=I=0;4>N;++N)for(var L=0;32>L;L+=8)C[I++]=this.g[N]>>>L&255;return C};function s(C,N){var I=o;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=N(C)}function i(C,N){this.h=N;for(var I=[],L=!0,O=C.length-1;0<=O;O--){var T=C[O]|0;L&&T==N||(I[O]=T,L=!1)}this.g=I}var o={};function c(C){return-128<=C&&128>C?s(C,function(N){return new i([N|0],0>N?-1:0)}):new i([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return v(u(-C));for(var N=[],I=1,L=0;C>=I;L++)N[L]=C/I|0,I*=4294967296;return new i(N,0)}function d(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return v(d(C.substring(1),N));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(N,8)),L=f,O=0;O<C.length;O+=8){var T=Math.min(8,C.length-O),P=parseInt(C.substring(O,O+T),N);8>T?(T=u(Math.pow(N,T)),L=L.j(T).add(u(P))):(L=L.j(I),L=L.add(u(P)))}return L}var f=c(0),h=c(1),p=c(16777216);e=i.prototype,e.m=function(){if(x(this))return-v(this).m();for(var C=0,N=1,I=0;I<this.g.length;I++){var L=this.i(I);C+=(0<=L?L:4294967296+L)*N,N*=4294967296}return C},e.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(g(this))return"0";if(x(this))return"-"+v(this).toString(C);for(var N=u(Math.pow(C,6)),I=this,L="";;){var O=k(I,N).g;I=y(I,O.j(N));var T=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=O,g(I))return T+L;for(;6>T.length;)T="0"+T;L=T+L}},e.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function g(C){if(C.h!=0)return!1;for(var N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function x(C){return C.h==-1}e.l=function(C){return C=y(this,C),x(C)?-1:g(C)?0:1};function v(C){for(var N=C.g.length,I=[],L=0;L<N;L++)I[L]=~C.g[L];return new i(I,~C.h).add(h)}e.abs=function(){return x(this)?v(this):this},e.add=function(C){for(var N=Math.max(this.g.length,C.g.length),I=[],L=0,O=0;O<=N;O++){var T=L+(this.i(O)&65535)+(C.i(O)&65535),P=(T>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);L=P>>>16,T&=65535,P&=65535,I[O]=P<<16|T}return new i(I,I[I.length-1]&-2147483648?-1:0)};function y(C,N){return C.add(v(N))}e.j=function(C){if(g(this)||g(C))return f;if(x(this))return x(C)?v(this).j(v(C)):v(v(this).j(C));if(x(C))return v(this.j(v(C)));if(0>this.l(p)&&0>C.l(p))return u(this.m()*C.m());for(var N=this.g.length+C.g.length,I=[],L=0;L<2*N;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var O=0;O<C.g.length;O++){var T=this.i(L)>>>16,P=this.i(L)&65535,R=C.i(O)>>>16,q=C.i(O)&65535;I[2*L+2*O]+=P*q,w(I,2*L+2*O),I[2*L+2*O+1]+=T*q,w(I,2*L+2*O+1),I[2*L+2*O+1]+=P*R,w(I,2*L+2*O+1),I[2*L+2*O+2]+=T*R,w(I,2*L+2*O+2)}for(L=0;L<N;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=N;L<2*N;L++)I[L]=0;return new i(I,0)};function w(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function E(C,N){this.g=C,this.h=N}function k(C,N){if(g(N))throw Error("division by zero");if(g(C))return new E(f,f);if(x(C))return N=k(v(C),N),new E(v(N.g),v(N.h));if(x(N))return N=k(C,v(N)),new E(v(N.g),N.h);if(30<C.g.length){if(x(C)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var I=h,L=N;0>=L.l(C);)I=B(I),L=B(L);var O=j(I,1),T=j(L,1);for(L=j(L,2),I=j(I,2);!g(L);){var P=T.add(L);0>=P.l(C)&&(O=O.add(I),T=P),L=j(L,1),I=j(I,1)}return N=y(C,O.j(N)),new E(O,N)}for(O=f;0<=C.l(N);){for(I=Math.max(1,Math.floor(C.m()/N.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),T=u(I),P=T.j(N);x(P)||0<P.l(C);)I-=L,T=u(I),P=T.j(N);g(T)&&(T=h),O=O.add(T),C=y(C,P)}return new E(O,C)}e.A=function(C){return k(this,C).h},e.and=function(C){for(var N=Math.max(this.g.length,C.g.length),I=[],L=0;L<N;L++)I[L]=this.i(L)&C.i(L);return new i(I,this.h&C.h)},e.or=function(C){for(var N=Math.max(this.g.length,C.g.length),I=[],L=0;L<N;L++)I[L]=this.i(L)|C.i(L);return new i(I,this.h|C.h)},e.xor=function(C){for(var N=Math.max(this.g.length,C.g.length),I=[],L=0;L<N;L++)I[L]=this.i(L)^C.i(L);return new i(I,this.h^C.h)};function B(C){for(var N=C.g.length+1,I=[],L=0;L<N;L++)I[L]=C.i(L)<<1|C.i(L-1)>>>31;return new i(I,C.h)}function j(C,N){var I=N>>5;N%=32;for(var L=C.g.length-I,O=[],T=0;T<L;T++)O[T]=0<N?C.i(T+I)>>>N|C.i(T+I+1)<<32-N:C.i(T+I);return new i(O,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,dne=n,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,Wp=i}).apply(typeof cV<"u"?cV:typeof self<"u"?self:typeof window<"u"?window:{});var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fne,a2,Ane,aN,wD,hne,pne,mne;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(D,ne,le){return D==Array.prototype||D==Object.prototype||(D[ne]=le.value),D};function r(D){D=[typeof globalThis=="object"&&globalThis,D,typeof window=="object"&&window,typeof self=="object"&&self,typeof m_=="object"&&m_];for(var ne=0;ne<D.length;++ne){var le=D[ne];if(le&&le.Math==Math)return le}throw Error("Cannot find global object")}var n=r(this);function a(D,ne){if(ne)e:{var le=n;D=D.split(".");for(var be=0;be<D.length-1;be++){var ze=D[be];if(!(ze in le))break e;le=le[ze]}D=D[D.length-1],be=le[D],ne=ne(be),ne!=be&&ne!=null&&t(le,D,{configurable:!0,writable:!0,value:ne})}}function s(D,ne){D instanceof String&&(D+="");var le=0,be=!1,ze={next:function(){if(!be&&le<D.length){var lt=le++;return{value:ne(lt,D[lt]),done:!1}}return be=!0,{done:!0,value:void 0}}};return ze[Symbol.iterator]=function(){return ze},ze}a("Array.prototype.values",function(D){return D||function(){return s(this,function(ne,le){return le})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function c(D){var ne=typeof D;return ne=ne!="object"?ne:D?Array.isArray(D)?"array":ne:"null",ne=="array"||ne=="object"&&typeof D.length=="number"}function u(D){var ne=typeof D;return ne=="object"&&D!=null||ne=="function"}function d(D,ne,le){return D.call.apply(D.bind,arguments)}function f(D,ne,le){if(!D)throw Error();if(2<arguments.length){var be=Array.prototype.slice.call(arguments,2);return function(){var ze=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ze,be),D.apply(ne,ze)}}return function(){return D.apply(ne,arguments)}}function h(D,ne,le){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(D,ne){var le=Array.prototype.slice.call(arguments,1);return function(){var be=le.slice();return be.push.apply(be,arguments),D.apply(this,be)}}function g(D,ne){function le(){}le.prototype=ne.prototype,D.aa=ne.prototype,D.prototype=new le,D.prototype.constructor=D,D.Qb=function(be,ze,lt){for(var Ht=Array(arguments.length-2),Qr=2;Qr<arguments.length;Qr++)Ht[Qr-2]=arguments[Qr];return ne.prototype[ze].apply(be,Ht)}}function x(D){const ne=D.length;if(0<ne){const le=Array(ne);for(let be=0;be<ne;be++)le[be]=D[be];return le}return[]}function v(D,ne){for(let le=1;le<arguments.length;le++){const be=arguments[le];if(c(be)){const ze=D.length||0,lt=be.length||0;D.length=ze+lt;for(let Ht=0;Ht<lt;Ht++)D[ze+Ht]=be[Ht]}else D.push(be)}}class y{constructor(ne,le){this.i=ne,this.j=le,this.h=0,this.g=null}get(){let ne;return 0<this.h?(this.h--,ne=this.g,this.g=ne.next,ne.next=null):ne=this.i(),ne}}function w(D){return/^[\s\xa0]*$/.test(D)}function E(){var D=o.navigator;return D&&(D=D.userAgent)?D:""}function k(D){return k[" "](D),D}k[" "]=function(){};var B=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(D,ne,le){for(const be in D)ne.call(le,D[be],be,D)}function C(D,ne){for(const le in D)ne.call(void 0,D[le],le,D)}function N(D){const ne={};for(const le in D)ne[le]=D[le];return ne}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(D,ne){let le,be;for(let ze=1;ze<arguments.length;ze++){be=arguments[ze];for(le in be)D[le]=be[le];for(let lt=0;lt<I.length;lt++)le=I[lt],Object.prototype.hasOwnProperty.call(be,le)&&(D[le]=be[le])}}function O(D){var ne=1;D=D.split(":");const le=[];for(;0<ne&&D.length;)le.push(D.shift()),ne--;return D.length&&le.push(D.join(":")),le}function T(D){o.setTimeout(()=>{throw D},0)}function P(){var D=z;let ne=null;return D.g&&(ne=D.g,D.g=D.g.next,D.g||(D.h=null),ne.next=null),ne}class R{constructor(){this.h=this.g=null}add(ne,le){const be=q.get();be.set(ne,le),this.h?this.h.next=be:this.g=be,this.h=be}}var q=new y(()=>new Q,D=>D.reset());class Q{constructor(){this.next=this.g=this.h=null}set(ne,le){this.h=ne,this.g=le,this.next=null}reset(){this.next=this.g=this.h=null}}let G,K=!1,z=new R,Y=()=>{const D=o.Promise.resolve(void 0);G=()=>{D.then(ee)}};var ee=()=>{for(var D;D=P();){try{D.h.call(D.g)}catch(le){T(le)}var ne=q;ne.j(D),100>ne.h&&(ne.h++,D.next=ne.g,ne.g=D)}K=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(D,ne){this.type=D,this.g=this.target=ne,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var D=!1,ne=Object.defineProperty({},"passive",{get:function(){D=!0}});try{const le=()=>{};o.addEventListener("test",le,ne),o.removeEventListener("test",le,ne)}catch{}return D}();function Z(D,ne){if(H.call(this,D?D.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,D){var le=this.type=D.type,be=D.changedTouches&&D.changedTouches.length?D.changedTouches[0]:null;if(this.target=D.target||D.srcElement,this.g=ne,ne=D.relatedTarget){if(B){e:{try{k(ne.nodeName);var ze=!0;break e}catch{}ze=!1}ze||(ne=null)}}else le=="mouseover"?ne=D.fromElement:le=="mouseout"&&(ne=D.toElement);this.relatedTarget=ne,be?(this.clientX=be.clientX!==void 0?be.clientX:be.pageX,this.clientY=be.clientY!==void 0?be.clientY:be.pageY,this.screenX=be.screenX||0,this.screenY=be.screenY||0):(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0),this.button=D.button,this.key=D.key||"",this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.pointerId=D.pointerId||0,this.pointerType=typeof D.pointerType=="string"?D.pointerType:ae[D.pointerType]||"",this.state=D.state,this.i=D,D.defaultPrevented&&Z.aa.h.call(this)}}g(Z,H);var ae={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var D=this.i;D.preventDefault?D.preventDefault():D.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),se=0;function ce(D,ne,le,be,ze){this.listener=D,this.proxy=null,this.src=ne,this.type=le,this.capture=!!be,this.ha=ze,this.key=++se,this.da=this.fa=!1}function de(D){D.da=!0,D.listener=null,D.proxy=null,D.src=null,D.ha=null}function ke(D){this.src=D,this.g={},this.h=0}ke.prototype.add=function(D,ne,le,be,ze){var lt=D.toString();D=this.g[lt],D||(D=this.g[lt]=[],this.h++);var Ht=_e(D,ne,be,ze);return-1<Ht?(ne=D[Ht],le||(ne.fa=!1)):(ne=new ce(ne,this.src,lt,!!be,ze),ne.fa=le,D.push(ne)),ne};function re(D,ne){var le=ne.type;if(le in D.g){var be=D.g[le],ze=Array.prototype.indexOf.call(be,ne,void 0),lt;(lt=0<=ze)&&Array.prototype.splice.call(be,ze,1),lt&&(de(ne),D.g[le].length==0&&(delete D.g[le],D.h--))}}function _e(D,ne,le,be){for(var ze=0;ze<D.length;++ze){var lt=D[ze];if(!lt.da&&lt.listener==ne&&lt.capture==!!le&&lt.ha==be)return ze}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),Se={};function he(D,ne,le,be,ze){if(Array.isArray(ne)){for(var lt=0;lt<ne.length;lt++)he(D,ne[lt],le,be,ze);return null}return le=at(le),D&&D[oe]?D.K(ne,le,u(be)?!!be.capture:!1,ze):Be(D,ne,le,!1,be,ze)}function Be(D,ne,le,be,ze,lt){if(!ne)throw Error("Invalid event type");var Ht=u(ze)?!!ze.capture:!!ze,Qr=Ve(D);if(Qr||(D[Ne]=Qr=new ke(D)),le=Qr.add(ne,le,be,Ht,lt),le.proxy)return le;if(be=Le(),le.proxy=be,be.src=D,be.listener=le,D.addEventListener)W||(ze=Ht),ze===void 0&&(ze=!1),D.addEventListener(ne.toString(),be,ze);else if(D.attachEvent)D.attachEvent(Ie(ne.toString()),be);else if(D.addListener&&D.removeListener)D.addListener(be);else throw Error("addEventListener and attachEvent are unavailable.");return le}function Le(){function D(le){return ne.call(D.src,D.listener,le)}const ne=De;return D}function Ge(D,ne,le,be,ze){if(Array.isArray(ne))for(var lt=0;lt<ne.length;lt++)Ge(D,ne[lt],le,be,ze);else be=u(be)?!!be.capture:!!be,le=at(le),D&&D[oe]?(D=D.i,ne=String(ne).toString(),ne in D.g&&(lt=D.g[ne],le=_e(lt,le,be,ze),-1<le&&(de(lt[le]),Array.prototype.splice.call(lt,le,1),lt.length==0&&(delete D.g[ne],D.h--)))):D&&(D=Ve(D))&&(ne=D.g[ne.toString()],D=-1,ne&&(D=_e(ne,le,be,ze)),(le=-1<D?ne[D]:null)&&xe(le))}function xe(D){if(typeof D!="number"&&D&&!D.da){var ne=D.src;if(ne&&ne[oe])re(ne.i,D);else{var le=D.type,be=D.proxy;ne.removeEventListener?ne.removeEventListener(le,be,D.capture):ne.detachEvent?ne.detachEvent(Ie(le),be):ne.addListener&&ne.removeListener&&ne.removeListener(be),(le=Ve(ne))?(re(le,D),le.h==0&&(le.src=null,ne[Ne]=null)):de(D)}}}function Ie(D){return D in Se?Se[D]:Se[D]="on"+D}function De(D,ne){if(D.da)D=!0;else{ne=new Z(ne,this);var le=D.listener,be=D.ha||D.src;D.fa&&xe(D),D=le.call(be,ne)}return D}function Ve(D){return D=D[Ne],D instanceof ke?D:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(D){return typeof D=="function"?D:(D[We]||(D[We]=function(ne){return D.handleEvent(ne)}),D[We])}function ht(){M.call(this),this.i=new ke(this),this.M=this,this.F=null}g(ht,M),ht.prototype[oe]=!0,ht.prototype.removeEventListener=function(D,ne,le,be){Ge(this,D,ne,le,be)};function Tt(D,ne){var le,be=D.F;if(be)for(le=[];be;be=be.F)le.push(be);if(D=D.M,be=ne.type||ne,typeof ne=="string")ne=new H(ne,D);else if(ne instanceof H)ne.target=ne.target||D;else{var ze=ne;ne=new H(be,D),L(ne,ze)}if(ze=!0,le)for(var lt=le.length-1;0<=lt;lt--){var Ht=ne.g=le[lt];ze=Rt(Ht,be,!0,ne)&&ze}if(Ht=ne.g=D,ze=Rt(Ht,be,!0,ne)&&ze,ze=Rt(Ht,be,!1,ne)&&ze,le)for(lt=0;lt<le.length;lt++)Ht=ne.g=le[lt],ze=Rt(Ht,be,!1,ne)&&ze}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var D=this.i,ne;for(ne in D.g){for(var le=D.g[ne],be=0;be<le.length;be++)de(le[be]);delete D.g[ne],D.h--}}this.F=null},ht.prototype.K=function(D,ne,le,be){return this.i.add(String(D),ne,!1,le,be)},ht.prototype.L=function(D,ne,le,be){return this.i.add(String(D),ne,!0,le,be)};function Rt(D,ne,le,be){if(ne=D.i.g[String(ne)],!ne)return!0;ne=ne.concat();for(var ze=!0,lt=0;lt<ne.length;++lt){var Ht=ne[lt];if(Ht&&!Ht.da&&Ht.capture==le){var Qr=Ht.listener,_n=Ht.ha||Ht.src;Ht.fa&&re(D.i,Ht),ze=Qr.call(_n,be)!==!1&&ze}}return ze&&!be.defaultPrevented}function Ft(D,ne,le){if(typeof D=="function")le&&(D=h(D,le));else if(D&&typeof D.handleEvent=="function")D=h(D.handleEvent,D);else throw Error("Invalid listener argument");return 2147483647<Number(ne)?-1:o.setTimeout(D,ne||0)}function Pt(D){D.g=Ft(()=>{D.g=null,D.i&&(D.i=!1,Pt(D))},D.l);const ne=D.h;D.h=null,D.m.apply(null,ne)}class ut extends M{constructor(ne,le){super(),this.m=ne,this.l=le,this.h=null,this.i=!1,this.g=null}j(ne){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(D){M.call(this),this.h=D,this.g={}}g(Cr,M);var Kt=[];function ln(D){j(D.g,function(ne,le){this.g.hasOwnProperty(le)&&xe(ne)},D),D.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),ln(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kr=o.JSON.stringify,Mr=o.JSON.parse,En=class{stringify(D){return o.JSON.stringify(D,void 0)}parse(D){return o.JSON.parse(D,void 0)}};function Pr(){}Pr.prototype.h=null;function or(D){return D.h||(D.h=D.i())}function gr(){}var en={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zn(){H.call(this,"d")}g(zn,H);function rn(){H.call(this,"c")}g(rn,H);var yr={},tt=null;function xt(){return tt=tt||new ht}yr.La="serverreachability";function et(D){H.call(this,yr.La,D)}g(et,H);function vt(D){const ne=xt();Tt(ne,new et(ne))}yr.STAT_EVENT="statevent";function Ct(D,ne){H.call(this,yr.STAT_EVENT,D),this.stat=ne}g(Ct,H);function yt(D){const ne=xt();Tt(ne,new Ct(ne,D))}yr.Ma="timingevent";function sr(D,ne){H.call(this,yr.Ma,D),this.size=ne}g(sr,H);function Er(D,ne){if(typeof D!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){D()},ne)}function nn(){this.g=!0}nn.prototype.xa=function(){this.g=!1};function cn(D,ne,le,be,ze,lt){D.info(function(){if(D.g)if(lt)for(var Ht="",Qr=lt.split("&"),_n=0;_n<Qr.length;_n++){var an=Qr[_n].split("=");if(1<an.length){var Yn=an[0];an=an[1];var ua=Yn.split("_");Ht=2<=ua.length&&ua[1]=="type"?Ht+(Yn+"="+an+"&"):Ht+(Yn+"=redacted&")}}else Ht=null;else Ht=lt;return"XMLHTTP REQ ("+be+") [attempt "+ze+"]: "+ne+`
`+le+`
`+Ht})}function tn(D,ne,le,be,ze,lt,Ht){D.info(function(){return"XMLHTTP RESP ("+be+") [ attempt "+ze+"]: "+ne+`
`+le+`
`+lt+" "+Ht})}function pe(D,ne,le,be){D.info(function(){return"XMLHTTP TEXT ("+ne+"): "+Ee(D,le)+(be?" "+be:"")})}function Fe(D,ne){D.info(function(){return"TIMEOUT: "+ne})}nn.prototype.info=function(){};function Ee(D,ne){if(!D.g)return ne;if(!ne)return null;try{var le=JSON.parse(ne);if(le){for(D=0;D<le.length;D++)if(Array.isArray(le[D])){var be=le[D];if(!(2>be.length)){var ze=be[1];if(Array.isArray(ze)&&!(1>ze.length)){var lt=ze[0];if(lt!="noop"&&lt!="stop"&&lt!="close")for(var Ht=1;Ht<ze.length;Ht++)ze[Ht]=""}}}}return kr(le)}catch{return ne}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Oe;function Je(){}g(Je,Pr),Je.prototype.g=function(){return new XMLHttpRequest},Je.prototype.i=function(){return{}},Oe=new Je;function ft(D,ne,le,be){this.j=D,this.i=ne,this.l=le,this.R=be||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}var nt={},ot={};function Dt(D,ne,le){D.L=1,D.v=Su(Pi(ne)),D.m=le,D.P=!0,Vt(D,null)}function Vt(D,ne){D.F=Date.now(),qt(D),D.A=Pi(D.v);var le=D.A,be=D.R;Array.isArray(be)||(be=[String(be)]),Ur(le.i,"t",be),D.C=0,le=D.j.J,D.h=new Ke,D.g=Ae(D.j,le?ne:null,!D.m),0<D.O&&(D.M=new ut(h(D.Y,D,D.g),D.O)),ne=D.U,le=D.g,be=D.ca;var ze="readystatechange";Array.isArray(ze)||(ze&&(Kt[0]=ze.toString()),ze=Kt);for(var lt=0;lt<ze.length;lt++){var Ht=he(le,ze[lt],be||ne.handleEvent,!1,ne.h||ne);if(!Ht)break;ne.g[Ht.key]=Ht}ne=D.H?N(D.H):{},D.m?(D.u||(D.u="POST"),ne["Content-Type"]="application/x-www-form-urlencoded",D.g.ea(D.A,D.u,D.m,ne)):(D.u="GET",D.g.ea(D.A,D.u,null,ne)),vt(),cn(D.i,D.u,D.A,D.l,D.R,D.m)}ft.prototype.ca=function(D){D=D.target;const ne=this.M;ne&&Bs(D)==3?ne.j():this.Y(D)},ft.prototype.Y=function(D){try{if(D==this.g)e:{const ua=Bs(this.g);var ne=this.g.Ba();const ac=this.g.Z();if(!(3>ua)&&(ua!=3||this.g&&(this.h.h||this.g.oa()||P0(this.g)))){this.J||ua!=4||ne==7||(ne==8||0>=ac?vt(3):vt(2)),An(this);var le=this.g.Z();this.X=le;t:if(tr(this)){var be=P0(this.g);D="";var ze=be.length,lt=Bs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),hn(this);var Ht="";break t}this.h.i=new o.TextDecoder}for(ne=0;ne<ze;ne++)this.h.h=!0,D+=this.h.i.decode(be[ne],{stream:!(lt&&ne==ze-1)});be.length=0,this.h.g+=D,this.C=0,Ht=this.h.g}else Ht=this.g.oa();if(this.o=le==200,tn(this.i,this.u,this.A,this.l,this.R,ua,le),this.o){if(this.T&&!this.K){t:{if(this.g){var Qr,_n=this.g;if((Qr=_n.g?_n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Qr)){var an=Qr;break t}}an=null}if(le=an)pe(this.i,this.l,le,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,le);else{this.o=!1,this.s=3,yt(12),vn(this),hn(this);break e}}if(this.P){le=!0;let ps;for(;!this.J&&this.C<Ht.length;)if(ps=$t(this,Ht),ps==ot){ua==4&&(this.s=4,yt(14),le=!1),pe(this.i,this.l,null,"[Incomplete Response]");break}else if(ps==nt){this.s=4,yt(15),pe(this.i,this.l,Ht,"[Invalid Chunk]"),le=!1;break}else pe(this.i,this.l,ps,null),Ns(this,ps);if(tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ua!=4||Ht.length!=0||this.h.h||(this.s=1,yt(16),le=!1),this.o=this.o&&le,!le)pe(this.i,this.l,Ht,"[Invalid Chunked Response]"),vn(this),hn(this);else if(0<Ht.length&&!this.W){this.W=!0;var Yn=this.j;Yn.g==this&&Yn.ba&&!Yn.M&&(Yn.j.info("Great, no buffering proxy detected. Bytes received: "+Ht.length),ju(Yn),Yn.M=!0,yt(11))}}else pe(this.i,this.l,Ht,null),Ns(this,Ht);ua==4&&vn(this),this.o&&!this.J&&(ua==4?Iu(this.j,this):(this.o=!1,qt(this)))}else ku(this.g),le==400&&0<Ht.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),vn(this),hn(this)}}}catch{}finally{}};function tr(D){return D.g?D.u=="GET"&&D.L!=2&&D.j.Ca:!1}function $t(D,ne){var le=D.C,be=ne.indexOf(`
`,le);return be==-1?ot:(le=Number(ne.substring(le,be)),isNaN(le)?nt:(be+=1,be+le>ne.length?ot:(ne=ne.slice(be,be+le),D.C=be+le,ne)))}ft.prototype.cancel=function(){this.J=!0,vn(this)};function qt(D){D.S=Date.now()+D.I,Fr(D,D.I)}function Fr(D,ne){if(D.B!=null)throw Error("WatchDog timer not null");D.B=Er(h(D.ba,D),ne)}function An(D){D.B&&(o.clearTimeout(D.B),D.B=null)}ft.prototype.ba=function(){this.B=null;const D=Date.now();0<=D-this.S?(Fe(this.i,this.A),this.L!=2&&(vt(),yt(17)),vn(this),this.s=2,hn(this)):Fr(this,this.S-D)};function hn(D){D.j.G==0||D.J||Iu(D.j,D)}function vn(D){An(D);var ne=D.M;ne&&typeof ne.ma=="function"&&ne.ma(),D.M=null,ln(D.U),D.g&&(ne=D.g,D.g=null,ne.abort(),ne.ma())}function Ns(D,ne){try{var le=D.j;if(le.G!=0&&(le.g==D||Oi(le.h,D))){if(!D.K&&Oi(le.h,D)&&le.G==3){try{var be=le.Da.g.parse(ne)}catch{be=null}if(Array.isArray(be)&&be.length==3){var ze=be;if(ze[0]==0){e:if(!le.u){if(le.g)if(le.g.F+3e3<D.F)Lc(le),Ff(le);else break e;Bd(le),yt(18)}}else le.za=ze[1],0<le.za-le.T&&37500>ze[2]&&le.F&&le.v==0&&!le.C&&(le.C=Er(h(le.Za,le),6e3));if(1>=qs(le.h)&&le.ca){try{le.ca()}catch{}le.ca=void 0}}else eo(le,11)}else if((D.K||le.g==D)&&Lc(le),!w(ne))for(ze=le.Da.g.parse(ne),ne=0;ne<ze.length;ne++){let an=ze[ne];if(le.T=an[0],an=an[1],le.G==2)if(an[0]=="c"){le.K=an[1],le.ia=an[2];const Yn=an[3];Yn!=null&&(le.la=Yn,le.j.info("VER="+le.la));const ua=an[4];ua!=null&&(le.Aa=ua,le.j.info("SVER="+le.Aa));const ac=an[5];ac!=null&&typeof ac=="number"&&0<ac&&(be=1.5*ac,le.L=be,le.j.info("backChannelRequestTimeoutMs_="+be)),be=le;const ps=D.g;if(ps){const Wo=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wo){var lt=be.h;lt.g||Wo.indexOf("spdy")==-1&&Wo.indexOf("quic")==-1&&Wo.indexOf("h2")==-1||(lt.j=lt.l,lt.g=new Set,lt.h&&(Ta(lt,lt.h),lt.h=null))}if(be.D){const Fu=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;Fu&&(be.ya=Fu,Xn(be.I,be.D,Fu))}}le.G=3,le.l&&le.l.ua(),le.ba&&(le.R=Date.now()-D.F,le.j.info("Handshake RTT: "+le.R+"ms")),be=le;var Ht=D;if(be.qa=J(be,be.J?be.ia:null,be.W),Ht.K){gi(be.h,Ht);var Qr=Ht,_n=be.L;_n&&(Qr.I=_n),Qr.B&&(An(Qr),qt(Qr)),be.g=Ht}else Df(be);0<le.i.length&&Of(le)}else an[0]!="stop"&&an[0]!="close"||eo(le,7);else le.G==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?eo(le,7):Rc(le):an[0]!="noop"&&le.l&&le.l.ta(an),le.v=0)}}vt(4)}catch{}}var Vo=class{constructor(D,ne){this.g=D,this.map=ne}};function ks(D){this.l=D||10,o.PerformanceNavigationTiming?(D=o.performance.getEntriesByType("navigation"),D=0<D.length&&(D[0].nextHopProtocol=="hq"||D[0].nextHopProtocol=="h2")):D=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=D?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mi(D){return D.h?!0:D.g?D.g.size>=D.j:!1}function qs(D){return D.h?1:D.g?D.g.size:0}function Oi(D,ne){return D.h?D.h==ne:D.g?D.g.has(ne):!1}function Ta(D,ne){D.g?D.g.add(ne):D.h=ne}function gi(D,ne){D.h&&D.h==ne?D.h=null:D.g&&D.g.has(ne)&&D.g.delete(ne)}ks.prototype.cancel=function(){if(this.i=Bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const D of this.g.values())D.cancel();this.g.clear()}};function Bf(D){if(D.h!=null)return D.i.concat(D.h.D);if(D.g!=null&&D.g.size!==0){let ne=D.i;for(const le of D.g.values())ne=ne.concat(le.D);return ne}return x(D.i)}function F0(D){if(D.V&&typeof D.V=="function")return D.V();if(typeof Map<"u"&&D instanceof Map||typeof Set<"u"&&D instanceof Set)return Array.from(D.values());if(typeof D=="string")return D.split("");if(c(D)){for(var ne=[],le=D.length,be=0;be<le;be++)ne.push(D[be]);return ne}ne=[],le=0;for(be in D)ne[le++]=D[be];return ne}function wu(D){if(D.na&&typeof D.na=="function")return D.na();if(!D.V||typeof D.V!="function"){if(typeof Map<"u"&&D instanceof Map)return Array.from(D.keys());if(!(typeof Set<"u"&&D instanceof Set)){if(c(D)||typeof D=="string"){var ne=[];D=D.length;for(var le=0;le<D;le++)ne.push(le);return ne}ne=[],le=0;for(const be in D)ne[le++]=be;return ne}}}function YA(D,ne){if(D.forEach&&typeof D.forEach=="function")D.forEach(ne,void 0);else if(c(D)||typeof D=="string")Array.prototype.forEach.call(D,ne,void 0);else for(var le=wu(D),be=F0(D),ze=be.length,lt=0;lt<ze;lt++)ne.call(void 0,be[lt],le&&le[lt],D)}var Di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jf(D,ne){if(D){D=D.split("&");for(var le=0;le<D.length;le++){var be=D[le].indexOf("="),ze=null;if(0<=be){var lt=D[le].substring(0,be);ze=D[le].substring(be+1)}else lt=D[le];ne(lt,ze?decodeURIComponent(ze.replace(/\+/g," ")):"")}}}function Mn(D){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,D instanceof Mn){this.h=D.h,Cu(this,D.j),this.o=D.o,this.g=D.g,Eu(this,D.s),this.l=D.l;var ne=D.i,le=new Jl;le.i=ne.i,ne.g&&(le.g=new Map(ne.g),le.h=ne.h),Yl(this,le),this.m=D.m}else D&&(ne=String(D).match(Di))?(this.h=!1,Cu(this,ne[1]||"",!0),this.o=zo(ne[2]||""),this.g=zo(ne[3]||"",!0),Eu(this,ne[4]),this.l=zo(ne[5]||"",!0),Yl(this,ne[6]||"",!0),this.m=zo(ne[7]||"")):(this.h=!1,this.i=new Jl(null,this.h))}Mn.prototype.toString=function(){var D=[],ne=this.j;ne&&D.push(Ic(ne,JA,!0),":");var le=this.g;return(le||ne=="file")&&(D.push("//"),(ne=this.o)&&D.push(Ic(ne,JA,!0),"@"),D.push(encodeURIComponent(String(le)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),le=this.s,le!=null&&D.push(":",String(le))),(le=this.l)&&(this.g&&le.charAt(0)!="/"&&D.push("/"),D.push(Ic(le,le.charAt(0)=="/"?Fc:ZA,!0))),(le=this.i.toString())&&D.push("?",le),(le=this.m)&&D.push("#",Ic(le,Oc)),D.join("")};function Pi(D){return new Mn(D)}function Cu(D,ne,le){D.j=le?zo(ne,!0):ne,D.j&&(D.j=D.j.replace(/:$/,""))}function Eu(D,ne){if(ne){if(ne=Number(ne),isNaN(ne)||0>ne)throw Error("Bad port number "+ne);D.s=ne}else D.s=null}function Yl(D,ne,le){ne instanceof Jl?(D.i=ne,D0(D.i,D.h)):(le||(ne=Ic(ne,If)),D.i=new Jl(ne,D.h))}function Xn(D,ne,le){D.i.set(ne,le)}function Su(D){return Xn(D,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),D}function zo(D,ne){return D?ne?decodeURI(D.replace(/%25/g,"%2525")):decodeURIComponent(D):""}function Ic(D,ne,le){return typeof D=="string"?(D=encodeURI(D).replace(ne,O0),le&&(D=D.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D):null}function O0(D){return D=D.charCodeAt(0),"%"+(D>>4&15).toString(16)+(D&15).toString(16)}var JA=/[#\/\?@]/g,ZA=/[#\?:]/g,Fc=/[#\?]/g,If=/[#\?@]/g,Oc=/#/g;function Jl(D,ne){this.h=this.g=null,this.i=D||null,this.j=!!ne}function ga(D){D.g||(D.g=new Map,D.h=0,D.i&&jf(D.i,function(ne,le){D.add(decodeURIComponent(ne.replace(/\+/g," ")),le)}))}e=Jl.prototype,e.add=function(D,ne){ga(this),this.i=null,D=ec(this,D);var le=this.g.get(D);return le||this.g.set(D,le=[]),le.push(ne),this.h+=1,this};function Dc(D,ne){ga(D),ne=ec(D,ne),D.g.has(ne)&&(D.i=null,D.h-=D.g.get(ne).length,D.g.delete(ne))}function Zl(D,ne){return ga(D),ne=ec(D,ne),D.g.has(ne)}e.forEach=function(D,ne){ga(this),this.g.forEach(function(le,be){le.forEach(function(ze){D.call(ne,ze,be,this)},this)},this)},e.na=function(){ga(this);const D=Array.from(this.g.values()),ne=Array.from(this.g.keys()),le=[];for(let be=0;be<ne.length;be++){const ze=D[be];for(let lt=0;lt<ze.length;lt++)le.push(ne[be])}return le},e.V=function(D){ga(this);let ne=[];if(typeof D=="string")Zl(this,D)&&(ne=ne.concat(this.g.get(ec(this,D))));else{D=Array.from(this.g.values());for(let le=0;le<D.length;le++)ne=ne.concat(D[le])}return ne},e.set=function(D,ne){return ga(this),this.i=null,D=ec(this,D),Zl(this,D)&&(this.h-=this.g.get(D).length),this.g.set(D,[ne]),this.h+=1,this},e.get=function(D,ne){return D?(D=this.V(D),0<D.length?String(D[0]):ne):ne};function Ur(D,ne,le){Dc(D,ne),0<le.length&&(D.i=null,D.g.set(ec(D,ne),x(le)),D.h+=le.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const D=[],ne=Array.from(this.g.keys());for(var le=0;le<ne.length;le++){var be=ne[le];const lt=encodeURIComponent(String(be)),Ht=this.V(be);for(be=0;be<Ht.length;be++){var ze=lt;Ht[be]!==""&&(ze+="="+encodeURIComponent(String(Ht[be]))),D.push(ze)}}return this.i=D.join("&")};function ec(D,ne){return ne=String(ne),D.j&&(ne=ne.toLowerCase()),ne}function D0(D,ne){ne&&!D.j&&(ga(D),D.i=null,D.g.forEach(function(le,be){var ze=be.toLowerCase();be!=ze&&(Dc(this,be),Ur(this,ze,le))},D)),D.j=ne}function Yi(D,ne){const le=new nn;if(o.Image){const be=new Image;be.onload=p(Co,le,"TestLoadImage: loaded",!0,ne,be),be.onerror=p(Co,le,"TestLoadImage: error",!1,ne,be),be.onabort=p(Co,le,"TestLoadImage: abort",!1,ne,be),be.ontimeout=p(Co,le,"TestLoadImage: timeout",!1,ne,be),o.setTimeout(function(){be.ontimeout&&be.ontimeout()},1e4),be.src=D}else ne(!1)}function Go(D,ne){const le=new nn,be=new AbortController,ze=setTimeout(()=>{be.abort(),Co(le,"TestPingServer: timeout",!1,ne)},1e4);fetch(D,{signal:be.signal}).then(lt=>{clearTimeout(ze),lt.ok?Co(le,"TestPingServer: ok",!0,ne):Co(le,"TestPingServer: server error",!1,ne)}).catch(()=>{clearTimeout(ze),Co(le,"TestPingServer: error",!1,ne)})}function Co(D,ne,le,be,ze){try{ze&&(ze.onload=null,ze.onerror=null,ze.onabort=null,ze.ontimeout=null),be(le)}catch{}}function tc(){this.g=new En}function Ko(D,ne,le){const be=le||"";try{YA(D,function(ze,lt){let Ht=ze;u(ze)&&(Ht=kr(ze)),ne.push(be+lt+"="+encodeURIComponent(Ht))})}catch(ze){throw ne.push(be+"type="+encodeURIComponent("_badmap")),ze}}function _u(D){this.l=D.Ub||null,this.j=D.eb||!1}g(_u,Pr),_u.prototype.g=function(){return new Pc(this.l,this.j)},_u.prototype.i=function(D){return function(){return D}}({});function Pc(D,ne){ht.call(this),this.D=D,this.o=ne,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Pc,ht),e=Pc.prototype,e.open=function(D,ne){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=D,this.A=ne,this.readyState=1,Ji(this)},e.send=function(D){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ne={headers:this.u,method:this.B,credentials:this.m,cache:void 0};D&&(ne.body=D),(this.D||o).fetch(new Request(this.A,ne)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qo(this)),this.readyState=0},e.Sa=function(D){if(this.g&&(this.l=D,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=D.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")D.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in D){if(this.j=D.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eh(this)}else D.text().then(this.Ra.bind(this),this.ga.bind(this))};function eh(D){D.j.read().then(D.Pa.bind(D)).catch(D.ga.bind(D))}e.Pa=function(D){if(this.g){if(this.o&&D.value)this.response.push(D.value);else if(!this.o){var ne=D.value?D.value:new Uint8Array(0);(ne=this.v.decode(ne,{stream:!D.done}))&&(this.response=this.responseText+=ne)}D.done?qo(this):Ji(this),this.readyState==3&&eh(this)}},e.Ra=function(D){this.g&&(this.response=this.responseText=D,qo(this))},e.Qa=function(D){this.g&&(this.response=D,qo(this))},e.ga=function(){this.g&&qo(this)};function qo(D){D.readyState=4,D.l=null,D.j=null,D.v=null,Ji(D)}e.setRequestHeader=function(D,ne){this.u.append(D,ne)},e.getResponseHeader=function(D){return this.h&&this.h.get(D.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const D=[],ne=this.h.entries();for(var le=ne.next();!le.done;)le=le.value,D.push(le[0]+": "+le[1]),le=ne.next();return D.join(`\r
`)};function Ji(D){D.onreadystatechange&&D.onreadystatechange.call(D)}Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(D){this.m=D?"include":"same-origin"}});function rc(D){let ne="";return j(D,function(le,be){ne+=be,ne+=":",ne+=le,ne+=`\r
`}),ne}function Ts(D,ne,le){e:{for(be in le){var be=!1;break e}be=!0}be||(le=rc(le),typeof D=="string"?le!=null&&encodeURIComponent(String(le)):Xn(D,ne,le))}function Sn(D){ht.call(this),this.headers=new Map,this.o=D||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Sn,ht);var Nu=/^https?$/i,nc=["POST","PUT"];e=Sn.prototype,e.Ha=function(D){this.J=D},e.ea=function(D,ne,le,be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+D);ne=ne?ne.toUpperCase():"GET",this.D=D,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?or(this.o):or(Oe),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(ne,String(D),!0),this.B=!1}catch(lt){th(this,lt);return}if(D=le||"",le=new Map(this.headers),be)if(Object.getPrototypeOf(be)===Object.prototype)for(var ze in be)le.set(ze,be[ze]);else if(typeof be.keys=="function"&&typeof be.get=="function")for(const lt of be.keys())le.set(lt,be.get(lt));else throw Error("Unknown input type for opt_headers: "+String(be));be=Array.from(le.keys()).find(lt=>lt.toLowerCase()=="content-type"),ze=o.FormData&&D instanceof o.FormData,!(0<=Array.prototype.indexOf.call(nc,ne,void 0))||be||ze||le.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[lt,Ht]of le)this.g.setRequestHeader(lt,Ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zi(this),this.u=!0,this.g.send(D),this.u=!1}catch(lt){th(this,lt)}};function th(D,ne){D.h=!1,D.g&&(D.j=!0,D.g.abort(),D.j=!1),D.l=ne,D.m=5,Sd(D),Il(D)}function Sd(D){D.A||(D.A=!0,Tt(D,"complete"),Tt(D,"error"))}e.abort=function(D){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=D||7,Tt(this,"complete"),Tt(this,"abort"),Il(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Il(this,!0)),Sn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?_d(this):this.bb())},e.bb=function(){_d(this)};function _d(D){if(D.h&&typeof i<"u"&&(!D.v[1]||Bs(D)!=4||D.Z()!=2)){if(D.u&&Bs(D)==4)Ft(D.Ea,0,D);else if(Tt(D,"readystatechange"),Bs(D)==4){D.h=!1;try{const Ht=D.Z();e:switch(Ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ne=!0;break e;default:ne=!1}var le;if(!(le=ne)){var be;if(be=Ht===0){var ze=String(D.D).match(Di)[1]||null;!ze&&o.self&&o.self.location&&(ze=o.self.location.protocol.slice(0,-1)),be=!Nu.test(ze?ze.toLowerCase():"")}le=be}if(le)Tt(D,"complete"),Tt(D,"success");else{D.m=6;try{var lt=2<Bs(D)?D.g.statusText:""}catch{lt=""}D.l=lt+" ["+D.Z()+"]",Sd(D)}}finally{Il(D)}}}}function Il(D,ne){if(D.g){Zi(D);const le=D.g,be=D.v[0]?()=>{}:null;D.g=null,D.v=null,ne||Tt(D,"ready");try{le.onreadystatechange=be}catch{}}}function Zi(D){D.I&&(o.clearTimeout(D.I),D.I=null)}e.isActive=function(){return!!this.g};function Bs(D){return D.g?D.g.readyState:0}e.Z=function(){try{return 2<Bs(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(D){if(this.g){var ne=this.g.responseText;return D&&ne.indexOf(D)==0&&(ne=ne.substring(D.length)),Mr(ne)}};function P0(D){try{if(!D.g)return null;if("response"in D.g)return D.g.response;switch(D.H){case"":case"text":return D.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in D.g)return D.g.mozResponseArrayBuffer}return null}catch{return null}}function ku(D){const ne={};D=(D.g&&2<=Bs(D)&&D.g.getAllResponseHeaders()||"").split(`\r
`);for(let be=0;be<D.length;be++){if(w(D[be]))continue;var le=O(D[be]);const ze=le[0];if(le=le[1],typeof le!="string")continue;le=le.trim();const lt=ne[ze]||[];ne[ze]=lt,lt.push(le)}C(ne,function(be){return be.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(D,ne,le){return le&&le.internalChannelParams&&le.internalChannelParams[D]||ne}function Tu(D){this.Aa=0,this.i=[],this.j=new nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ri("failFast",!1,D),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ri("baseRetryDelayMs",5e3,D),this.cb=Ri("retryDelaySeedMs",1e4,D),this.Wa=Ri("forwardChannelMaxRetries",2,D),this.wa=Ri("forwardChannelRequestTimeoutMs",2e4,D),this.pa=D&&D.xmlHttpFactory||void 0,this.Xa=D&&D.Tb||void 0,this.Ca=D&&D.useFetchStreams||!1,this.L=void 0,this.J=D&&D.supportsCrossDomainXhr||!1,this.K="",this.h=new ks(D&&D.concurrentRequestLimit),this.Da=new tc,this.P=D&&D.fastHandshake||!1,this.O=D&&D.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=D&&D.Rb||!1,D&&D.xa&&this.j.xa(),D&&D.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&D&&D.detectBufferingProxy||!1,this.ja=void 0,D&&D.longPollingTimeout&&0<D.longPollingTimeout&&(this.ja=D.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Tu.prototype,e.la=8,e.G=1,e.connect=function(D,ne,le,be){yt(0),this.W=D,this.H=ne||{},le&&be!==void 0&&(this.H.OSID=le,this.H.OAID=be),this.F=this.X,this.I=J(this,null,this.W),Of(this)};function Rc(D){if(Nd(D),D.G==3){var ne=D.U++,le=Pi(D.I);if(Xn(le,"SID",D.K),Xn(le,"RID",ne),Xn(le,"TYPE","terminate"),Bu(D,le),ne=new ft(D,D.j,ne),ne.L=2,ne.v=Su(Pi(le)),le=!1,o.navigator&&o.navigator.sendBeacon)try{le=o.navigator.sendBeacon(ne.v.toString(),"")}catch{}!le&&o.Image&&(new Image().src=ne.v,le=!0),le||(ne.g=Ae(ne.j,null),ne.g.ea(ne.v)),ne.F=Date.now(),qt(ne)}Pf(D)}function Ff(D){D.g&&(ju(D),D.g.cancel(),D.g=null)}function Nd(D){Ff(D),D.u&&(o.clearTimeout(D.u),D.u=null),Lc(D),D.h.cancel(),D.s&&(typeof D.s=="number"&&o.clearTimeout(D.s),D.s=null)}function Of(D){if(!mi(D.h)&&!D.s){D.s=!0;var ne=D.Ga;G||Y(),K||(G(),K=!0),z.add(ne,D),D.B=0}}function rh(D,ne){return qs(D.h)>=D.h.j-(D.s?1:0)?!1:D.s?(D.i=ne.D.concat(D.i),!0):D.G==1||D.G==2||D.B>=(D.Va?0:D.Wa)?!1:(D.s=Er(h(D.Ga,D,ne),jd(D,D.B)),D.B++,!0)}e.Ga=function(D){if(this.s)if(this.s=null,this.G==1){if(!D){this.U=Math.floor(1e5*Math.random()),D=this.U++;const ze=new ft(this,this.j,D);let lt=this.o;if(this.S&&(lt?(lt=N(lt),L(lt,this.S)):lt=this.S),this.m!==null||this.O||(ze.H=lt,lt=null),this.P)e:{for(var ne=0,le=0;le<this.i.length;le++){t:{var be=this.i[le];if("__data__"in be.map&&(be=be.map.__data__,typeof be=="string")){be=be.length;break t}be=void 0}if(be===void 0)break;if(ne+=be,4096<ne){ne=le;break e}if(ne===4096||le===this.i.length-1){ne=le+1;break e}}ne=1e3}else ne=1e3;ne=Td(this,ze,ne),le=Pi(this.I),Xn(le,"RID",D),Xn(le,"CVER",22),this.D&&Xn(le,"X-HTTP-Session-Id",this.D),Bu(this,le),lt&&(this.O?ne="headers="+encodeURIComponent(String(rc(lt)))+"&"+ne:this.m&&Ts(le,this.m,lt)),Ta(this.h,ze),this.Ua&&Xn(le,"TYPE","init"),this.P?(Xn(le,"$req",ne),Xn(le,"SID","null"),ze.T=!0,Dt(ze,le,null)):Dt(ze,le,ne),this.G=2}}else this.G==3&&(D?kd(this,D):this.i.length==0||mi(this.h)||kd(this))};function kd(D,ne){var le;ne?le=ne.l:le=D.U++;const be=Pi(D.I);Xn(be,"SID",D.K),Xn(be,"RID",le),Xn(be,"AID",D.T),Bu(D,be),D.m&&D.o&&Ts(be,D.m,D.o),le=new ft(D,D.j,le,D.B+1),D.m===null&&(le.H=D.o),ne&&(D.i=ne.D.concat(D.i)),ne=Td(D,le,1e3),le.I=Math.round(.5*D.wa)+Math.round(.5*D.wa*Math.random()),Ta(D.h,le),Dt(le,be,ne)}function Bu(D,ne){D.H&&j(D.H,function(le,be){Xn(ne,be,le)}),D.l&&YA({},function(le,be){Xn(ne,be,le)})}function Td(D,ne,le){le=Math.min(D.i.length,le);var be=D.l?h(D.l.Na,D.l,D):null;e:{var ze=D.i;let lt=-1;for(;;){const Ht=["count="+le];lt==-1?0<le?(lt=ze[0].g,Ht.push("ofs="+lt)):lt=0:Ht.push("ofs="+lt);let Qr=!0;for(let _n=0;_n<le;_n++){let an=ze[_n].g;const Yn=ze[_n].map;if(an-=lt,0>an)lt=Math.max(0,ze[_n].g-100),Qr=!1;else try{Ko(Yn,Ht,"req"+an+"_")}catch{be&&be(Yn)}}if(Qr){be=Ht.join("&");break e}}}return D=D.i.splice(0,le),ne.D=D,be}function Df(D){if(!D.g&&!D.u){D.Y=1;var ne=D.Fa;G||Y(),K||(G(),K=!0),z.add(ne,D),D.v=0}}function Bd(D){return D.g||D.u||3<=D.v?!1:(D.Y++,D.u=Er(h(D.Fa,D),jd(D,D.v)),D.v++,!0)}e.Fa=function(){if(this.u=null,R0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var D=2*this.R;this.j.info("BP detection timer enabled: "+D),this.A=Er(h(this.ab,this),D)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Ff(this),R0(this))};function ju(D){D.A!=null&&(o.clearTimeout(D.A),D.A=null)}function R0(D){D.g=new ft(D,D.j,"rpc",D.Y),D.m===null&&(D.g.H=D.o),D.g.O=0;var ne=Pi(D.qa);Xn(ne,"RID","rpc"),Xn(ne,"SID",D.K),Xn(ne,"AID",D.T),Xn(ne,"CI",D.F?"0":"1"),!D.F&&D.ja&&Xn(ne,"TO",D.ja),Xn(ne,"TYPE","xmlhttp"),Bu(D,ne),D.m&&D.o&&Ts(ne,D.m,D.o),D.L&&(D.g.I=D.L);var le=D.g;D=D.ia,le.L=1,le.v=Su(Pi(ne)),le.m=null,le.P=!0,Vt(le,D)}e.Za=function(){this.C!=null&&(this.C=null,Ff(this),Bd(this),yt(19))};function Lc(D){D.C!=null&&(o.clearTimeout(D.C),D.C=null)}function Iu(D,ne){var le=null;if(D.g==ne){Lc(D),ju(D),D.g=null;var be=2}else if(Oi(D.h,ne))le=ne.D,gi(D.h,ne),be=1;else return;if(D.G!=0){if(ne.o)if(be==1){le=ne.m?ne.m.length:0,ne=Date.now()-ne.F;var ze=D.B;be=xt(),Tt(be,new sr(be,le)),Of(D)}else Df(D);else if(ze=ne.s,ze==3||ze==0&&0<ne.X||!(be==1&&rh(D,ne)||be==2&&Bd(D)))switch(le&&0<le.length&&(ne=D.h,ne.i=ne.i.concat(le)),ze){case 1:eo(D,5);break;case 4:eo(D,10);break;case 3:eo(D,6);break;default:eo(D,2)}}}function jd(D,ne){let le=D.Ta+Math.floor(Math.random()*D.cb);return D.isActive()||(le*=2),le*ne}function eo(D,ne){if(D.j.info("Error code "+ne),ne==2){var le=h(D.fb,D),be=D.Xa;const ze=!be;be=new Mn(be||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Cu(be,"https"),Su(be),ze?Yi(be.toString(),le):Go(be.toString(),le)}else yt(2);D.G=0,D.l&&D.l.sa(ne),Pf(D),Nd(D)}e.fb=function(D){D?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Pf(D){if(D.G=0,D.ka=[],D.l){const ne=Bf(D.h);(ne.length!=0||D.i.length!=0)&&(v(D.ka,ne),v(D.ka,D.i),D.h.i.length=0,x(D.i),D.i.length=0),D.l.ra()}}function J(D,ne,le){var be=le instanceof Mn?Pi(le):new Mn(le);if(be.g!="")ne&&(be.g=ne+"."+be.g),Eu(be,be.s);else{var ze=o.location;be=ze.protocol,ne=ne?ne+"."+ze.hostname:ze.hostname,ze=+ze.port;var lt=new Mn(null);be&&Cu(lt,be),ne&&(lt.g=ne),ze&&Eu(lt,ze),le&&(lt.l=le),be=lt}return le=D.D,ne=D.ya,le&&ne&&Xn(be,le,ne),Xn(be,"VER",D.la),Bu(D,be),be}function Ae(D,ne,le){if(ne&&!D.J)throw Error("Can't create secondary domain capable XhrIo object.");return ne=D.Ca&&!D.pa?new Sn(new _u({eb:le})):new Sn(D.pa),ne.Ha(D.J),ne}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pe(){}e=Pe.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Me(){}Me.prototype.g=function(D,ne){return new qe(D,ne)};function qe(D,ne){ht.call(this),this.g=new Tu(ne),this.l=D,this.h=ne&&ne.messageUrlParams||null,D=ne&&ne.messageHeaders||null,ne&&ne.clientProtocolHeaderRequired&&(D?D["X-Client-Protocol"]="webchannel":D={"X-Client-Protocol":"webchannel"}),this.g.o=D,D=ne&&ne.initMessageHeaders||null,ne&&ne.messageContentType&&(D?D["X-WebChannel-Content-Type"]=ne.messageContentType:D={"X-WebChannel-Content-Type":ne.messageContentType}),ne&&ne.va&&(D?D["X-WebChannel-Client-Profile"]=ne.va:D={"X-WebChannel-Client-Profile":ne.va}),this.g.S=D,(D=ne&&ne.Sb)&&!w(D)&&(this.g.m=D),this.v=ne&&ne.supportsCrossDomainXhr||!1,this.u=ne&&ne.sendRawJson||!1,(ne=ne&&ne.httpSessionIdParam)&&!w(ne)&&(this.g.D=ne,D=this.h,D!==null&&ne in D&&(D=this.h,ne in D&&delete D[ne])),this.j=new rr(this)}g(qe,ht),qe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qe.prototype.close=function(){Rc(this.g)},qe.prototype.o=function(D){var ne=this.g;if(typeof D=="string"){var le={};le.__data__=D,D=le}else this.u&&(le={},le.__data__=kr(D),D=le);ne.i.push(new Vo(ne.Ya++,D)),ne.G==3&&Of(ne)},qe.prototype.N=function(){this.g.l=null,delete this.j,Rc(this.g),delete this.g,qe.aa.N.call(this)};function bt(D){zn.call(this),D.__headers__&&(this.headers=D.__headers__,this.statusCode=D.__status__,delete D.__headers__,delete D.__status__);var ne=D.__sm__;if(ne){e:{for(const le in ne){D=le;break e}D=void 0}(this.i=D)&&(D=this.i,ne=ne!==null&&D in ne?ne[D]:void 0),this.data=ne}else this.data=D}g(bt,zn);function Qt(){rn.call(this),this.status=1}g(Qt,rn);function rr(D){this.g=D}g(rr,Pe),rr.prototype.ua=function(){Tt(this.g,"a")},rr.prototype.ta=function(D){Tt(this.g,new bt(D))},rr.prototype.sa=function(D){Tt(this.g,new Qt)},rr.prototype.ra=function(){Tt(this.g,"b")},Me.prototype.createWebChannel=Me.prototype.g,qe.prototype.send=qe.prototype.o,qe.prototype.open=qe.prototype.m,qe.prototype.close=qe.prototype.close,mne=function(){return new Me},pne=function(){return xt()},hne=yr,wD={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,aN=we,Te.COMPLETE="complete",Ane=Te,gr.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",ht.prototype.listen=ht.prototype.K,a2=gr,Sn.prototype.listenOnce=Sn.prototype.L,Sn.prototype.getLastError=Sn.prototype.Ka,Sn.prototype.getLastErrorCode=Sn.prototype.Ba,Sn.prototype.getStatus=Sn.prototype.Z,Sn.prototype.getResponseJson=Sn.prototype.Oa,Sn.prototype.getResponseText=Sn.prototype.oa,Sn.prototype.send=Sn.prototype.ea,Sn.prototype.setWithCredentials=Sn.prototype.Ha,fne=Sn}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});const uV="@firebase/firestore",dV="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};dl.UNAUTHENTICATED=new dl(null),dl.GOOGLE_CREDENTIALS=new dl("google-credentials-uid"),dl.FIRST_PARTY=new dl("first-party-uid"),dl.MOCK_USER=new dl("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xb="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new ML("@firebase/firestore");function u1(){return Ax.logLevel}function Ar(e,...t){if(Ax.logLevel<=Dn.DEBUG){const r=t.map(XL);Ax.debug(`Firestore (${Xb}): ${e}`,...r)}}function s0(e,...t){if(Ax.logLevel<=Dn.ERROR){const r=t.map(XL);Ax.error(`Firestore (${Xb}): ${e}`,...r)}}function hx(e,...t){if(Ax.logLevel<=Dn.WARN){const r=t.map(XL);Ax.warn(`Firestore (${Xb}): ${e}`,...r)}}function XL(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,gne(e,n,r)}function gne(e,t,r){let n=`FIRESTORE (${Xb}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw s0(n),new Error(n)}function pa(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||gne(t,a,n)}function dn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends Cf{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(dl.UNAUTHENTICATED))}shutdown(){}}class Fye{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Oye{constructor(t){this.t=t,this.currentUser=dl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){pa(this.o===void 0,42304);let n=this.i;const a=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new Kh;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kh,t.enqueueRetryable(()=>a(this.currentUser))};const i=()=>{const c=s;t.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},o=c=>{Ar("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Ar("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kh)}},0),i()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Ar("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(pa(typeof n.accessToken=="string",31837,{l:n}),new xne(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pa(t===null||typeof t=="string",2055,{h:t}),new dl(t)}}class Dye{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=dl.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Pye{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Dye(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(dl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rye{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nu(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){pa(this.o===void 0,3512);const n=s=>{s.error!=null&&Ar("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.m;return this.m=s.token,Ar("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?r(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};const a=s=>{Ar("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Ar("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fV(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(pa(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new fV(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lye(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Lye(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=t.charAt(a[s]%62))}return n}}function Pn(e,t){return e<t?-1:e>t?1:0}function CD(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const a=e.charAt(n),s=t.charAt(n);if(a!==s)return mI(a)===mI(s)?Pn(a,s):mI(a)?1:-1}return Pn(e.length,t.length)}const Mye=55296,Uye=57343;function mI(e){const t=e.charCodeAt(0);return t>=Mye&&t<=Uye}function lb(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="__name__";class pA{constructor(t,r,n){r===void 0?r=0:r>t.length&&Yr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Yr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return pA.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof pA?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const s=pA.compareSegments(t.get(a),r.get(a));if(s!==0)return s}return Pn(t.length,r.length)}static compareSegments(t,r){const n=pA.isNumericId(t),a=pA.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?pA.extractNumericId(t).compare(pA.extractNumericId(r)):CD(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wp.fromString(t.substring(4,t.length-2))}}class La extends pA{construct(t,r,n){return new La(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Jt(St.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new La(r)}static emptyPath(){return new La([])}}const Qye=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ao extends pA{construct(t,r,n){return new Ao(t,r,n)}static isValidIdentifier(t){return Qye.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ao.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AV}static keyField(){return new Ao([AV])}static fromServerFormat(t){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Jt(St.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let i=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Jt(St.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Jt(St.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,a+=2}else o==="`"?(i=!i,a++):o!=="."||i?(n+=o,a++):(s(),a++)}if(s(),i)throw new Jt(St.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ao(r)}static emptyPath(){return new Ao([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t){this.path=t}static fromPath(t){return new Nr(La.fromString(t))}static fromName(t){return new Nr(La.fromString(t).popFirst(5))}static empty(){return new Nr(La.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&La.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return La.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nr(new La(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bne(e,t,r){if(!r)throw new Jt(St.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function yne(e,t,r,n){if(t===!0&&n===!0)throw new Jt(St.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function hV(e){if(!Nr.isDocumentKey(e))throw new Jt(St.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function pV(e){if(Nr.isDocumentKey(e))throw new Jt(St.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function wne(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function bT(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Yr(12329,{type:typeof e})}function wl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jt(St.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=bT(e);throw new Jt(St.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Hye(e,t){if(t<=0)throw new Jt(St.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e,t){const r={typeString:e};return t&&(r.value=t),r}function vE(e,t){if(!wne(e))throw new Jt(St.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,s="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const i=e[n];if(a&&typeof i!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(s!==void 0&&i!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new Jt(St.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=-62135596800,gV=1e6;class lr{static now(){return lr.fromMillis(Date.now())}static fromDate(t){return lr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*gV);return new lr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Jt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Jt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<mV)throw new Jt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gV}_compareTo(t){return this.seconds===t.seconds?Pn(this.nanoseconds,t.nanoseconds):Pn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vE(t,lr._jsonSchema))return new lr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-mV;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lr._jsonSchemaVersion="firestore/timestamp/1.0",lr._jsonSchema={type:Ii("string",lr._jsonSchemaVersion),seconds:Ii("number"),nanoseconds:Ii("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{static fromTimestamp(t){return new on(t)}static min(){return new on(new lr(0,0))}static max(){return new on(new lr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=-1;function $ye(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=on.fromTimestamp(n===1e9?new lr(r+1,0):new lr(r,n));return new cm(a,Nr.empty(),t)}function Vye(e){return new cm(e.readTime,e.key,fC)}class cm{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new cm(on.min(),Nr.empty(),fC)}static max(){return new cm(on.max(),Nr.empty(),fC)}}function zye(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Nr.comparator(e.documentKey,t.documentKey),r!==0?r:Pn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gye="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kye{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(e){if(e.code!==St.FAILED_PRECONDITION||e.message!==Gye)throw e;Ar("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Yr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Mt((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Mt?r:Mt.resolve(r)}catch(r){return Mt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Mt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Mt.reject(r)}static resolve(t){return new Mt((r,n)=>{r(t)})}static reject(t){return new Mt((r,n)=>{n(t)})}static waitFor(t){return new Mt((r,n)=>{let a=0,s=0,i=!1;t.forEach(o=>{++a,o.next(()=>{++s,i&&s===a&&r()},c=>n(c))}),i=!0,s===a&&r()})}static or(t){let r=Mt.resolve(!1);for(const n of t)r=r.next(a=>a?Mt.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,s)=>{n.push(r.call(this,a,s))}),this.waitFor(n)}static mapArray(t,r){return new Mt((n,a)=>{const s=t.length,i=new Array(s);let o=0;for(let c=0;c<s;c++){const u=c;r(t[u]).next(d=>{i[u]=d,++o,o===s&&n(i)},d=>a(d))}})}static doWhile(t,r){return new Mt((n,a)=>{const s=()=>{t()===!0?r().next(()=>{s()},a):n()};s()})}}function qye(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Jb(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yT.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=-1;function wT(e){return e==null}function t4(e){return e===0&&1/e==-1/0}function Wye(e){return typeof e=="number"&&Number.isInteger(e)&&!t4(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cne="";function Xye(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=xV(t)),t=Yye(e.get(r),t);return xV(t)}function Yye(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const s=e.charAt(a);switch(s){case"\0":r+="";break;case Cne:r+="";break;default:r+=s}}return r}function xV(e){return e+Cne+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function jm(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Ene(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,r){this.comparator=t,this.root=r||Do.EMPTY}insert(t,r){return new Cs(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Do.BLACK,null,null))}remove(t){return new Cs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Do.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new g_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new g_(this.root,t,this.comparator,!1)}getReverseIterator(){return new g_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new g_(this.root,t,this.comparator,!0)}}class g_{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=r?n(t.key,r):1,r&&a&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Do{constructor(t,r,n,a,s){this.key=t,this.value=r,this.color=n??Do.RED,this.left=a??Do.EMPTY,this.right=s??Do.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,s){return new Do(t??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const s=n(t,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(t,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Do.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Do.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Do.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Do.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Yr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Yr(27949);return t+(this.isRed()?0:1)}}Do.EMPTY=null,Do.RED=!0,Do.BLACK=!1;Do.EMPTY=new class{constructor(){this.size=0}get key(){throw Yr(57766)}get value(){throw Yr(16141)}get color(){throw Yr(16727)}get left(){throw Yr(29726)}get right(){throw Yr(36894)}copy(t,r,n,a,s){return this}insert(t,r,n){return new Do(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.comparator=t,this.data=new Cs(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new bV(this.data.getIterator())}getIteratorFrom(t){return new bV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof $i)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new $i(this.comparator);return r.data=t,r}}class bV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t){this.fields=t,t.sort(Ao.comparator)}static empty(){return new cu([])}unionWith(t){let r=new $i(Ao.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new cu(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return lb(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sne extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Sne("Invalid base64 string: "+s):s}}(t);return new vo(r)}static fromUint8Array(t){const r=function(a){let s="";for(let i=0;i<a.length;++i)s+=String.fromCharCode(a[i]);return s}(t);return new vo(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vo.EMPTY_BYTE_STRING=new vo("");const Jye=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function um(e){if(pa(!!e,39018),typeof e=="string"){let t=0;const r=Jye.exec(e);if(pa(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:si(e.seconds),nanos:si(e.nanos)}}function si(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function dm(e){return typeof e=="string"?vo.fromBase64String(e):vo.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne="server_timestamp",Nne="__type__",kne="__previous_value__",Tne="__local_write_time__";function CT(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[Nne])==null?void 0:n.stringValue)===_ne}function ET(e){const t=e.mapValue.fields[kne];return CT(t)?ET(t):t}function AC(e){const t=um(e.mapValue.fields[Tne].timestampValue);return new lr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zye{constructor(t,r,n,a,s,i,o,c,u,d){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const r4="(default)";class cb{constructor(t,r){this.projectId=t,this.database=r||r4}static empty(){return new cb("","")}get isDefaultDatabase(){return this.database===r4}isEqual(t){return t instanceof cb&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne="__type__",ewe="__max__",x_={mapValue:{}},jne="__vector__",n4="value";function fm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?CT(e)?4:rwe(e)?9007199254740991:twe(e)?10:11:Yr(28295,{value:e})}function QA(e,t){if(e===t)return!0;const r=fm(e);if(r!==fm(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return AC(e).isEqual(AC(t));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const i=um(a.timestampValue),o=um(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,s){return dm(a.bytesValue).isEqual(dm(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,s){return si(a.geoPointValue.latitude)===si(s.geoPointValue.latitude)&&si(a.geoPointValue.longitude)===si(s.geoPointValue.longitude)}(e,t);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return si(a.integerValue)===si(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const i=si(a.doubleValue),o=si(s.doubleValue);return i===o?t4(i)===t4(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return lb(e.arrayValue.values||[],t.arrayValue.values||[],QA);case 10:case 11:return function(a,s){const i=a.mapValue.fields||{},o=s.mapValue.fields||{};if(vV(i)!==vV(o))return!1;for(const c in i)if(i.hasOwnProperty(c)&&(o[c]===void 0||!QA(i[c],o[c])))return!1;return!0}(e,t);default:return Yr(52216,{left:e})}}function hC(e,t){return(e.values||[]).find(r=>QA(r,t))!==void 0}function ub(e,t){if(e===t)return 0;const r=fm(e),n=fm(t);if(r!==n)return Pn(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Pn(e.booleanValue,t.booleanValue);case 2:return function(s,i){const o=si(s.integerValue||s.doubleValue),c=si(i.integerValue||i.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(e,t);case 3:return yV(e.timestampValue,t.timestampValue);case 4:return yV(AC(e),AC(t));case 5:return CD(e.stringValue,t.stringValue);case 6:return function(s,i){const o=dm(s),c=dm(i);return o.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const o=s.split("/"),c=i.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Pn(o[u],c[u]);if(d!==0)return d}return Pn(o.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const o=Pn(si(s.latitude),si(i.latitude));return o!==0?o:Pn(si(s.longitude),si(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return wV(e.arrayValue,t.arrayValue);case 10:return function(s,i){var h,p,g,x;const o=s.fields||{},c=i.fields||{},u=(h=o[n4])==null?void 0:h.arrayValue,d=(p=c[n4])==null?void 0:p.arrayValue,f=Pn(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return f!==0?f:wV(u,d)}(e.mapValue,t.mapValue);case 11:return function(s,i){if(s===x_.mapValue&&i===x_.mapValue)return 0;if(s===x_.mapValue)return 1;if(i===x_.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),u=i.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=CD(c[f],d[f]);if(h!==0)return h;const p=ub(o[c[f]],u[d[f]]);if(p!==0)return p}return Pn(c.length,d.length)}(e.mapValue,t.mapValue);default:throw Yr(23264,{he:r})}}function yV(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pn(e,t);const r=um(e),n=um(t),a=Pn(r.seconds,n.seconds);return a!==0?a:Pn(r.nanos,n.nanos)}function wV(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=ub(r[a],n[a]);if(s)return s}return Pn(r.length,n.length)}function db(e){return ED(e)}function ED(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=um(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return dm(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Nr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=ED(s);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const i of n)s?s=!1:a+=",",a+=`${i}:${ED(r.fields[i])}`;return a+"}"}(e.mapValue):Yr(61005,{value:e})}function sN(e){switch(fm(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ET(e);return t?16+sN(t):16;case 5:return 2*e.stringValue.length;case 6:return dm(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,s)=>a+sN(s),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return jm(n.fields,(s,i)=>{a+=s.length+sN(i)}),a}(e.mapValue);default:throw Yr(13486,{value:e})}}function a4(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function SD(e){return!!e&&"integerValue"in e}function JL(e){return!!e&&"arrayValue"in e}function CV(e){return!!e&&"nullValue"in e}function EV(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function iN(e){return!!e&&"mapValue"in e}function twe(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[Bne])==null?void 0:n.stringValue)===jne}function j2(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return jm(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=j2(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=j2(e.arrayValue.values[r]);return t}return{...e}}function rwe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ewe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t){this.value=t}static empty(){return new bc({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!iN(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=j2(r)}setAll(t){let r=Ao.emptyPath(),n={},a=[];t.forEach((i,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,a),n={},a=[],r=o.popLast()}i?n[o.lastSegment()]=j2(i):a.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(t){const r=this.field(t.popLast());iN(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return QA(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];iN(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){jm(r,(a,s)=>t[a]=s);for(const a of n)delete t[a]}clone(){return new bc(j2(this.value))}}function Ine(e){const t=[];return jm(e.fields,(r,n)=>{const a=new Ao([r]);if(iN(n)){const s=Ine(n.mapValue).fields;if(s.length===0)t.push(a);else for(const i of s)t.push(a.child(i))}else t.push(a)}),new cu(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,r,n,a,s,i,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=i,this.documentState=o}static newInvalidDocument(t){return new pl(t,0,on.min(),on.min(),on.min(),bc.empty(),0)}static newFoundDocument(t,r,n,a){return new pl(t,1,r,on.min(),n,a,0)}static newNoDocument(t,r){return new pl(t,2,r,on.min(),on.min(),bc.empty(),0)}static newUnknownDocument(t,r){return new pl(t,3,r,on.min(),on.min(),bc.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(on.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bc.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pl&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,r){this.position=t,this.inclusive=r}}function SV(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const s=t[a],i=e.position[a];if(s.field.isKeyField()?n=Nr.comparator(Nr.fromName(i.referenceValue),r.key):n=ub(i,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function _V(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!QA(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,r="asc"){this.field=t,this.dir=r}}function nwe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{}class ji extends Fne{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new swe(t,r,n):r==="array-contains"?new lwe(t,n):r==="in"?new cwe(t,n):r==="not-in"?new uwe(t,n):r==="array-contains-any"?new dwe(t,n):new ji(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new iwe(t,n):new owe(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ub(r,this.value)):r!==null&&fm(this.value)===fm(r)&&this.matchesComparison(ub(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Yr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vf extends Fne{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new vf(t,r)}matches(t){return One(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function One(e){return e.op==="and"}function Dne(e){return awe(e)&&One(e)}function awe(e){for(const t of e.filters)if(t instanceof vf)return!1;return!0}function _D(e){if(e instanceof ji)return e.field.canonicalString()+e.op.toString()+db(e.value);if(Dne(e))return e.filters.map(t=>_D(t)).join(",");{const t=e.filters.map(r=>_D(r)).join(",");return`${e.op}(${t})`}}function Pne(e,t){return e instanceof ji?function(n,a){return a instanceof ji&&n.op===a.op&&n.field.isEqual(a.field)&&QA(n.value,a.value)}(e,t):e instanceof vf?function(n,a){return a instanceof vf&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,i,o)=>s&&Pne(i,a.filters[o]),!0):!1}(e,t):void Yr(19439)}function Rne(e){return e instanceof ji?function(r){return`${r.field.canonicalString()} ${r.op} ${db(r.value)}`}(e):e instanceof vf?function(r){return r.op.toString()+" {"+r.getFilters().map(Rne).join(" ,")+"}"}(e):"Filter"}class swe extends ji{constructor(t,r,n){super(t,r,n),this.key=Nr.fromName(n.referenceValue)}matches(t){const r=Nr.comparator(t.key,this.key);return this.matchesComparison(r)}}class iwe extends ji{constructor(t,r){super(t,"in",r),this.keys=Lne("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class owe extends ji{constructor(t,r){super(t,"not-in",r),this.keys=Lne("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Lne(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>Nr.fromName(n.referenceValue))}class lwe extends ji{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return JL(r)&&hC(r.arrayValue,this.value)}}class cwe extends ji{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&hC(this.value.arrayValue,r)}}class uwe extends ji{constructor(t,r){super(t,"not-in",r)}matches(t){if(hC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!hC(this.value.arrayValue,r)}}class dwe extends ji{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!JL(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>hC(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fwe{constructor(t,r=null,n=[],a=[],s=null,i=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=i,this.endAt=o,this.Te=null}}function NV(e,t=null,r=[],n=[],a=null,s=null,i=null){return new fwe(e,t,r,n,a,s,i)}function ZL(e){const t=dn(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>_D(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),wT(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>db(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>db(n)).join(",")),t.Te=r}return t.Te}function e8(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!nwe(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!Pne(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_V(e.startAt,t.startAt)&&_V(e.endAt,t.endAt)}function ND(e){return Nr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t,r=null,n=[],a=[],s=null,i="F",o=null,c=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Awe(e,t,r,n,a,s,i,o){return new Rx(e,t,r,n,a,s,i,o)}function ST(e){return new Rx(e)}function kV(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function t8(e){return e.collectionGroup!==null}function L1(e){const t=dn(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),r.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new $i(Ao.comparator);return i.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new pC(s,n))}),r.has(Ao.keyField().canonicalString())||t.Ie.push(new pC(Ao.keyField(),n))}return t.Ie}function OA(e){const t=dn(e);return t.Ee||(t.Ee=hwe(t,L1(e))),t.Ee}function hwe(e,t){if(e.limitType==="F")return NV(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new pC(a.field,s)});const r=e.endAt?new fb(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new fb(e.startAt.position,e.startAt.inclusive):null;return NV(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function kD(e,t){const r=e.filters.concat([t]);return new Rx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function s4(e,t,r){return new Rx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function _T(e,t){return e8(OA(e),OA(t))&&e.limitType===t.limitType}function Mne(e){return`${ZL(OA(e))}|lt:${e.limitType}`}function d1(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>Rne(a)).join(", ")}]`),wT(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>db(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>db(a)).join(",")),`Target(${n})`}(OA(e))}; limitType=${e.limitType})`}function NT(e,t){return t.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Nr.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,a){for(const s of L1(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(i,o,c){const u=SV(i,o,c);return i.inclusive?u<=0:u<0}(n.startAt,L1(n),a)||n.endAt&&!function(i,o,c){const u=SV(i,o,c);return i.inclusive?u>=0:u>0}(n.endAt,L1(n),a))}(e,t)}function pwe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Une(e){return(t,r)=>{let n=!1;for(const a of L1(e)){const s=mwe(a,t,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function mwe(e,t,r){const n=e.field.isKeyField()?Nr.comparator(t.key,r.key):function(s,i,o){const c=i.data.field(s),u=o.data.field(s);return c!==null&&u!==null?ub(c,u):Yr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Yr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,t))return s}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],t))return void(a[s]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){jm(this.inner,(r,n)=>{for(const[a,s]of n)t(a,s)})}isEmpty(){return Ene(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gwe=new Cs(Nr.comparator);function i0(){return gwe}const Qne=new Cs(Nr.comparator);function s2(...e){let t=Qne;for(const r of e)t=t.insert(r.key,r);return t}function Hne(e){let t=Qne;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Pg(){return I2()}function $ne(){return I2()}function I2(){return new Lx(e=>e.toString(),(e,t)=>e.isEqual(t))}const xwe=new Cs(Nr.comparator),vwe=new $i(Nr.comparator);function Rn(...e){let t=vwe;for(const r of e)t=t.add(r);return t}const bwe=new $i(Pn);function ywe(){return bwe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t4(t)?"-0":t}}function Vne(e){return{integerValue:""+e}}function wwe(e,t){return Wye(t)?Vne(t):r8(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this._=void 0}}function Cwe(e,t,r){return e instanceof mC?function(a,s){const i={fields:{[Nne]:{stringValue:_ne},[Tne]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&CT(s)&&(s=ET(s)),s&&(i.fields[kne]=s),{mapValue:i}}(r,t):e instanceof Ab?Gne(e,t):e instanceof gC?Kne(e,t):function(a,s){const i=zne(a,s),o=TV(i)+TV(a.Ae);return SD(i)&&SD(a.Ae)?Vne(o):r8(a.serializer,o)}(e,t)}function Ewe(e,t,r){return e instanceof Ab?Gne(e,t):e instanceof gC?Kne(e,t):r}function zne(e,t){return e instanceof i4?function(n){return SD(n)||function(s){return!!s&&"doubleValue"in s}(n)}(t)?t:{integerValue:0}:null}class mC extends kT{}class Ab extends kT{constructor(t){super(),this.elements=t}}function Gne(e,t){const r=qne(t);for(const n of e.elements)r.some(a=>QA(a,n))||r.push(n);return{arrayValue:{values:r}}}class gC extends kT{constructor(t){super(),this.elements=t}}function Kne(e,t){let r=qne(t);for(const n of e.elements)r=r.filter(a=>!QA(a,n));return{arrayValue:{values:r}}}class i4 extends kT{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function TV(e){return si(e.integerValue||e.doubleValue)}function qne(e){return JL(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(t,r){this.field=t,this.transform=r}}function Swe(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Ab&&a instanceof Ab||n instanceof gC&&a instanceof gC?lb(n.elements,a.elements,QA):n instanceof i4&&a instanceof i4?QA(n.Ae,a.Ae):n instanceof mC&&a instanceof mC}(e.transform,t.transform)}class _we{constructor(t,r){this.version=t,this.transformResults=r}}class Gl{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Gl}static exists(t){return new Gl(void 0,t)}static updateTime(t){return new Gl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oN(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class TT{}function Xne(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new BT(e.key,Gl.none()):new bE(e.key,e.data,Gl.none());{const r=e.data,n=bc.empty();let a=new $i(Ao.comparator);for(let s of t.fields)if(!a.has(s)){let i=r.field(s);i===null&&s.length>1&&(s=s.popLast(),i=r.field(s)),i===null?n.delete(s):n.set(s,i),a=a.add(s)}return new Im(e.key,n,new cu(a.toArray()),Gl.none())}}function Nwe(e,t,r){e instanceof bE?function(a,s,i){const o=a.value.clone(),c=jV(a.fieldTransforms,s,i.transformResults);o.setAll(c),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Im?function(a,s,i){if(!oN(a.precondition,s))return void s.convertToUnknownDocument(i.version);const o=jV(a.fieldTransforms,s,i.transformResults),c=s.data;c.setAll(Yne(a)),c.setAll(o),s.convertToFoundDocument(i.version,c).setHasCommittedMutations()}(e,t,r):function(a,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,r)}function F2(e,t,r,n){return e instanceof bE?function(s,i,o,c){if(!oN(s.precondition,i))return o;const u=s.value.clone(),d=IV(s.fieldTransforms,c,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof Im?function(s,i,o,c){if(!oN(s.precondition,i))return o;const u=IV(s.fieldTransforms,c,i),d=i.data;return d.setAll(Yne(s)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(s,i,o){return oN(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(e,t,r)}function kwe(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),s=zne(n.transform,a||null);s!=null&&(r===null&&(r=bc.empty()),r.set(n.field,s))}return r||null}function BV(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&lb(n,a,(s,i)=>Swe(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bE extends TT{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Im extends TT{constructor(t,r,n,a,s=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Yne(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function jV(e,t,r){const n=new Map;pa(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const s=e[a],i=s.transform,o=t.data.field(s.field);n.set(s.field,Ewe(i,o,r[a]))}return n}function IV(e,t,r){const n=new Map;for(const a of e){const s=a.transform,i=r.data.field(a.field);n.set(a.field,Cwe(s,i,t))}return n}class BT extends TT{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Twe extends TT{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bwe{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(t.key)&&Nwe(s,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=F2(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=F2(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=$ne();return this.mutations.forEach(a=>{const s=t.get(a.key),i=s.overlayedDocument;let o=this.applyToLocalView(i,s.mutatedFields);o=r.has(a.key)?null:o;const c=Xne(i,o);c!==null&&n.set(a.key,c),i.isValidDocument()||i.convertToNoDocument(on.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Rn())}isEqual(t){return this.batchId===t.batchId&&lb(this.mutations,t.mutations,(r,n)=>BV(r,n))&&lb(this.baseMutations,t.baseMutations,(r,n)=>BV(r,n))}}class n8{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){pa(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let a=function(){return xwe}();const s=t.mutations;for(let i=0;i<s.length;i++)a=a.insert(s[i].key,n[i].version);return new n8(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jwe{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iwe{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci,Vn;function Fwe(e){switch(e){case St.OK:return Yr(64938);case St.CANCELLED:case St.UNKNOWN:case St.DEADLINE_EXCEEDED:case St.RESOURCE_EXHAUSTED:case St.INTERNAL:case St.UNAVAILABLE:case St.UNAUTHENTICATED:return!1;case St.INVALID_ARGUMENT:case St.NOT_FOUND:case St.ALREADY_EXISTS:case St.PERMISSION_DENIED:case St.FAILED_PRECONDITION:case St.ABORTED:case St.OUT_OF_RANGE:case St.UNIMPLEMENTED:case St.DATA_LOSS:return!0;default:return Yr(15467,{code:e})}}function Jne(e){if(e===void 0)return s0("GRPC error has no .code"),St.UNKNOWN;switch(e){case Ci.OK:return St.OK;case Ci.CANCELLED:return St.CANCELLED;case Ci.UNKNOWN:return St.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return St.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return St.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return St.INTERNAL;case Ci.UNAVAILABLE:return St.UNAVAILABLE;case Ci.UNAUTHENTICATED:return St.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return St.INVALID_ARGUMENT;case Ci.NOT_FOUND:return St.NOT_FOUND;case Ci.ALREADY_EXISTS:return St.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return St.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return St.FAILED_PRECONDITION;case Ci.ABORTED:return St.ABORTED;case Ci.OUT_OF_RANGE:return St.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return St.UNIMPLEMENTED;case Ci.DATA_LOSS:return St.DATA_LOSS;default:return Yr(39323,{code:e})}}(Vn=Ci||(Ci={}))[Vn.OK=0]="OK",Vn[Vn.CANCELLED=1]="CANCELLED",Vn[Vn.UNKNOWN=2]="UNKNOWN",Vn[Vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vn[Vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vn[Vn.NOT_FOUND=5]="NOT_FOUND",Vn[Vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vn[Vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vn[Vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vn[Vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vn[Vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vn[Vn.ABORTED=10]="ABORTED",Vn[Vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vn[Vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vn[Vn.INTERNAL=13]="INTERNAL",Vn[Vn.UNAVAILABLE=14]="UNAVAILABLE",Vn[Vn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Owe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dwe=new Wp([4294967295,4294967295],0);function FV(e){const t=Owe().encode(e),r=new dne;return r.update(t),new Uint8Array(r.digest())}function OV(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Wp([r,n],0),new Wp([a,s],0)]}class a8{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new i2(`Invalid padding: ${r}`);if(n<0)throw new i2(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new i2(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new i2(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Wp.fromNumber(this.ge)}ye(t,r,n){let a=t.add(r.multiply(Wp.fromNumber(n)));return a.compare(Dwe)===1&&(a=new Wp([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=FV(t),[n,a]=OV(r);for(let s=0;s<this.hashCount;s++){const i=this.ye(n,a,s);if(!this.we(i))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),i=new a8(s,a,r);return n.forEach(o=>i.insert(o)),i}insert(t){if(this.ge===0)return;const r=FV(t),[n,a]=OV(r);for(let s=0;s<this.hashCount;s++){const i=this.ye(n,a,s);this.Se(i)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class i2 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,r,n,a,s){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,yE.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new jT(on.min(),a,new Cs(Pn),i0(),Rn())}}class yE{constructor(t,r,n,a,s){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new yE(n,r,Rn(),Rn(),Rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,r,n,a){this.be=t,this.removedTargetIds=r,this.key=n,this.De=a}}class Zne{constructor(t,r){this.targetId=t,this.Ce=r}}class eae{constructor(t,r,n=vo.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class DV{constructor(){this.ve=0,this.Fe=PV(),this.Me=vo.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Rn(),r=Rn(),n=Rn();return this.Fe.forEach((a,s)=>{switch(s){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Yr(38017,{changeType:s})}}),new yE(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=PV()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,pa(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Pwe{constructor(t){this.Ge=t,this.ze=new Map,this.je=i0(),this.Je=v_(),this.He=v_(),this.Ye=new Cs(Pn)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:Yr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(t){const r=t.targetId,n=t.Ce.count,a=this.ot(r);if(a){const s=a.target;if(ND(s))if(n===0){const i=new Nr(s.path);this.et(r,i,pl.newNoDocument(i,on.min()))}else pa(n===1,20013,{expectedCount:n});else{const i=this._t(r);if(i!==n){const o=this.ut(t),c=o?this.ct(o,t,i):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:s=0}=r;let i,o;try{i=dm(n).toUint8Array()}catch(c){if(c instanceof Sne)return hx("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new a8(i,a,s)}catch(c){return hx(c instanceof i2?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(s=>{const i=this.Ge.ht(),o=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.et(r,s,null),a++)}),a}Tt(t){const r=new Map;this.ze.forEach((s,i)=>{const o=this.ot(i);if(o){if(s.current&&ND(o.target)){const c=new Nr(o.target.path);this.It(c).has(i)||this.Et(i,c)||this.et(i,c,pl.newNoDocument(c,t))}s.Be&&(r.set(i,s.ke()),s.qe())}});let n=Rn();this.He.forEach((s,i)=>{let o=!0;i.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.je.forEach((s,i)=>i.setReadTime(t));const a=new jT(t,r,this.Ye,this.je,n);return this.je=i0(),this.Je=v_(),this.He=v_(),this.Ye=new Cs(Pn),a}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new DV,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new $i(Pn),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new $i(Pn),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||Ar("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new DV),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function v_(){return new Cs(Nr.comparator)}function PV(){return new Cs(Nr.comparator)}const Rwe={asc:"ASCENDING",desc:"DESCENDING"},Lwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mwe={and:"AND",or:"OR"};class Uwe{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function TD(e,t){return e.useProto3Json||wT(t)?t:{value:t}}function o4(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tae(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qwe(e,t){return o4(e,t.toTimestamp())}function DA(e){return pa(!!e,49232),on.fromTimestamp(function(r){const n=um(r);return new lr(n.seconds,n.nanos)}(e))}function s8(e,t){return BD(e,t).canonicalString()}function BD(e,t){const r=function(a){return new La(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function rae(e){const t=La.fromString(e);return pa(oae(t),10190,{key:t.toString()}),t}function jD(e,t){return s8(e.databaseId,t.path)}function gI(e,t){const r=rae(t);if(r.get(1)!==e.databaseId.projectId)throw new Jt(St.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Jt(St.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Nr(aae(r))}function nae(e,t){return s8(e.databaseId,t)}function Hwe(e){const t=rae(e);return t.length===4?La.emptyPath():aae(t)}function ID(e){return new La(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function aae(e){return pa(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function RV(e,t,r){return{name:jD(e,t),fields:r.value.mapValue.fields}}function $we(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Yr(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(pa(d===void 0||typeof d=="string",58123),vo.fromBase64String(d||"")):(pa(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vo.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&function(u){const d=u.code===void 0?St.UNKNOWN:Jne(u.code);return new Jt(d,u.message||"")}(i);r=new eae(n,a,s,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=gI(e,n.document.name),s=DA(n.document.updateTime),i=n.document.createTime?DA(n.document.createTime):on.min(),o=new bc({mapValue:{fields:n.document.fields}}),c=pl.newFoundDocument(a,s,i,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new lN(u,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=gI(e,n.document),s=n.readTime?DA(n.readTime):on.min(),i=pl.newNoDocument(a,s),o=n.removedTargetIds||[];r=new lN([],o,i.key,i)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=gI(e,n.document),s=n.removedTargetIds||[];r=new lN([],s,a,null)}else{if(!("filter"in t))return Yr(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:s}=n,i=new Iwe(a,s),o=n.targetId;r=new Zne(o,i)}}return r}function Vwe(e,t){let r;if(t instanceof bE)r={update:RV(e,t.key,t.value)};else if(t instanceof BT)r={delete:jD(e,t.key)};else if(t instanceof Im)r={update:RV(e,t.key,t.data),updateMask:Zwe(t.fieldMask)};else{if(!(t instanceof Twe))return Yr(16599,{Vt:t.type});r={verify:jD(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(s,i){const o=i.transform;if(o instanceof mC)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ab)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof gC)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof i4)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw Yr(20930,{transform:i.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:Qwe(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Yr(27497)}(e,t.precondition)),r}function zwe(e,t){return e&&e.length>0?(pa(t!==void 0,14353),e.map(r=>function(a,s){let i=a.updateTime?DA(a.updateTime):DA(s);return i.isEqual(on.min())&&(i=DA(s)),new _we(i,a.transformResults||[])}(r,t))):[]}function Gwe(e,t){return{documents:[nae(e,t.path)]}}function Kwe(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=nae(e,a);const s=function(u){if(u.length!==0)return iae(vf.create(u,"and"))}(t.filters);s&&(r.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:f1(h.field),direction:Xwe(h.dir)}}(d))}(t.orderBy);i&&(r.structuredQuery.orderBy=i);const o=TD(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:a}}function qwe(e){let t=Hwe(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){pa(n===1,65062);const d=r.from[0];d.allDescendants?a=d.collectionId:t=t.child(d.collectionId)}let s=[];r.where&&(s=function(f){const h=sae(f);return h instanceof vf&&Dne(h)?h.getFilters():[h]}(r.where));let i=[];r.orderBy&&(i=function(f){return f.map(h=>function(g){return new pC(A1(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,wT(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(f){const h=!!f.before,p=f.values||[];return new fb(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new fb(p,h)}(r.endAt)),Awe(t,a,i,s,o,"F",c,u)}function Wwe(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function sae(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=A1(r.unaryFilter.field);return ji.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=A1(r.unaryFilter.field);return ji.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=A1(r.unaryFilter.field);return ji.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=A1(r.unaryFilter.field);return ji.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Yr(61313);default:return Yr(60726)}}(e):e.fieldFilter!==void 0?function(r){return ji.create(A1(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Yr(58110);default:return Yr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return vf.create(r.compositeFilter.filters.map(n=>sae(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Yr(1026)}}(r.compositeFilter.op))}(e):Yr(30097,{filter:e})}function Xwe(e){return Rwe[e]}function Ywe(e){return Lwe[e]}function Jwe(e){return Mwe[e]}function f1(e){return{fieldPath:e.canonicalString()}}function A1(e){return Ao.fromServerFormat(e.fieldPath)}function iae(e){return e instanceof ji?function(r){if(r.op==="=="){if(EV(r.value))return{unaryFilter:{field:f1(r.field),op:"IS_NAN"}};if(CV(r.value))return{unaryFilter:{field:f1(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(EV(r.value))return{unaryFilter:{field:f1(r.field),op:"IS_NOT_NAN"}};if(CV(r.value))return{unaryFilter:{field:f1(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:f1(r.field),op:Ywe(r.op),value:r.value}}}(e):e instanceof vf?function(r){const n=r.getFilters().map(a=>iae(a));return n.length===1?n[0]:{compositeFilter:{op:Jwe(r.op),filters:n}}}(e):Yr(54877,{filter:e})}function Zwe(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function oae(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,r,n,a,s=on.min(),i=on.min(),o=vo.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(t){return new Rp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Rp(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2e{constructor(t){this.yt=t}}function t2e(e){const t=qwe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?s4(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2e{constructor(){this.Cn=new n2e}addToCollectionParentIndex(t,r){return this.Cn.add(r),Mt.resolve()}getCollectionParents(t,r){return Mt.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return Mt.resolve()}deleteFieldIndex(t,r){return Mt.resolve()}deleteAllFieldIndexes(t){return Mt.resolve()}createTargetIndexes(t,r){return Mt.resolve()}getDocumentsMatchingTarget(t,r){return Mt.resolve(null)}getIndexType(t,r){return Mt.resolve(0)}getFieldIndexes(t,r){return Mt.resolve([])}getNextCollectionGroupToUpdate(t){return Mt.resolve(null)}getMinOffset(t,r){return Mt.resolve(cm.min())}getMinOffsetFromCollectionGroup(t,r){return Mt.resolve(cm.min())}updateCollectionGroup(t,r,n){return Mt.resolve()}updateIndexEntries(t,r){return Mt.resolve()}}class n2e{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new $i(La.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new $i(La.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lae=41943040;class pc{static withCacheSize(t){return new pc(t,pc.DEFAULT_COLLECTION_PERCENTILE,pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pc.DEFAULT_COLLECTION_PERCENTILE=10,pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pc.DEFAULT=new pc(lae,pc.DEFAULT_COLLECTION_PERCENTILE,pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pc.DISABLED=new pc(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new hb(0)}static cr(){return new hb(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="LruGarbageCollector",a2e=1048576;function UV([e,t],[r,n]){const a=Pn(e,r);return a===0?Pn(t,n):a}class s2e{constructor(t){this.Ir=t,this.buffer=new $i(UV),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();UV(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class i2e{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ar(MV,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Jb(r)?Ar(MV,"Ignoring IndexedDB error during garbage collection: ",r):await Yb(r)}await this.Vr(3e5)})}}class o2e{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return Mt.resolve(yT.ce);const n=new s2e(r);return this.mr.forEachTarget(t,a=>n.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>n.Ar(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Ar("LruGarbageCollector","Garbage collection skipped; disabled"),Mt.resolve(LV)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ar("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LV):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,a,s,i,o,c,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ar("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,i=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(u=Date.now(),u1()<=Dn.DEBUG&&Ar("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${a} in `+(o-i)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Mt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:f})))}}function l2e(e,t){return new o2e(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2e{constructor(){this.changes=new Lx(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,pl.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Mt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2e{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2e{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&F2(n.mutation,a,cu.empty(),lr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Rn()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Rn()){const a=Pg();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(s=>{let i=s2();return s.forEach((o,c)=>{i=i.insert(o,c.overlayedDocument)}),i}))}getOverlayedDocuments(t,r){const n=Pg();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Rn()))}populateOverlays(t,r,n){const a=[];return n.forEach(s=>{r.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(t,a).next(s=>{s.forEach((i,o)=>{r.set(i,o)})})}computeViews(t,r,n,a){let s=i0();const i=I2(),o=function(){return I2()}();return r.forEach((c,u)=>{const d=n.get(u.key);a.has(u.key)&&(d===void 0||d.mutation instanceof Im)?s=s.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),F2(d.mutation,u,d.mutation.getFieldMask(),lr.now())):i.set(u.key,cu.empty())}),this.recalculateAndSaveOverlays(t,s).next(c=>(c.forEach((u,d)=>i.set(u,d)),r.forEach((u,d)=>o.set(u,new u2e(d,i.get(u)??null))),o))}recalculateAndSaveOverlays(t,r){const n=I2();let a=new Cs((i,o)=>i-o),s=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(i=>{for(const o of i)o.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||cu.empty();d=o.applyToLocalView(u,d),n.set(c,d);const f=(a.get(o.batchId)||Rn()).add(c);a=a.insert(o.batchId,f)})}).next(()=>{const i=[],o=a.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,f=$ne();d.forEach(h=>{if(!s.has(h)){const p=Xne(r.get(h),n.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),i.push(this.documentOverlayCache.saveOverlays(t,u,f))}return Mt.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(i){return Nr.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):t8(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(s=>{const i=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-s.size):Mt.resolve(Pg());let o=fC,c=s;return i.next(u=>Mt.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(d)?Mt.resolve():this.remoteDocumentCache.getEntry(t,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,c,u,Rn())).next(d=>({batchId:o,changes:Hne(d)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Nr(r)).next(n=>{let a=s2();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const s=r.collectionGroup;let i=s2();return this.indexManager.getCollectionParents(t,s).next(o=>Mt.forEach(o,c=>{const u=function(f,h){return new Rx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,n,a).next(d=>{d.forEach((f,h)=>{i=i.insert(f,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,s,a))).next(i=>{s.forEach((c,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,pl.newInvalidDocument(d)))});let o=s2();return i.forEach((c,u)=>{const d=s.get(c);d!==void 0&&F2(d.mutation,u,cu.empty(),lr.now()),NT(r,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2e{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return Mt.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:DA(a.createTime)}}(r)),Mt.resolve()}getNamedQuery(t,r){return Mt.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(a){return{name:a.name,query:t2e(a.bundledQuery),readTime:DA(a.readTime)}}(r)),Mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2e{constructor(){this.overlays=new Cs(Nr.comparator),this.qr=new Map}getOverlay(t,r){return Mt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Pg();return Mt.forEach(r,a=>this.getOverlay(t,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,s)=>{this.St(t,r,s)}),Mt.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),Mt.resolve()}getOverlaysForCollection(t,r,n){const a=Pg(),s=r.length+1,i=new Nr(r.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>n&&a.set(c.getKey(),c)}return Mt.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let s=new Cs((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=Pg(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Pg(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=a)););return Mt.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const i=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new jwe(r,n));let s=this.qr.get(r);s===void 0&&(s=Rn(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2e{constructor(){this.sessionToken=vo.EMPTY_BYTE_STRING}getSessionToken(t){return Mt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.Qr=new $i(oo.$r),this.Ur=new $i(oo.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new oo(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new oo(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new Nr(new La([])),n=new oo(r,t),a=new oo(r,t+1),s=[];return this.Ur.forEachInRange([n,a],i=>{this.Gr(i),s.push(i.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new Nr(new La([])),n=new oo(r,t),a=new oo(r,t+1);let s=Rn();return this.Ur.forEachInRange([n,a],i=>{s=s.add(i.key)}),s}containsKey(t){const r=new oo(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class oo{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return Nr.comparator(t.key,r.key)||Pn(t.Yr,r.Yr)}static Kr(t,r){return Pn(t.Yr,r.Yr)||Nr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2e{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new $i(oo.$r)}checkEmpty(t){return Mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Bwe(s,r,n,a);this.mutationQueue.push(i);for(const o of a)this.Zr=this.Zr.add(new oo(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Mt.resolve(i)}lookupMutationBatch(t,r){return Mt.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.ei(n),s=a<0?0:a;return Mt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Mt.resolve(this.mutationQueue.length===0?YL:this.tr-1)}getAllMutationBatches(t){return Mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new oo(r,0),a=new oo(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,a],i=>{const o=this.Xr(i.Yr);s.push(o)}),Mt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new $i(Pn);return r.forEach(a=>{const s=new oo(a,0),i=new oo(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,i],o=>{n=n.add(o.Yr)})}),Mt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let s=n;Nr.isDocumentKey(s)||(s=s.child(""));const i=new oo(new Nr(s),0);let o=new $i(Pn);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===a&&(o=o.add(c.Yr)),!0)},i),Mt.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const a=this.Xr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){pa(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Mt.forEach(r.mutations,a=>{const s=new oo(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new oo(r,0),a=this.Zr.firstAfterOrEqual(n);return Mt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Mt.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2e{constructor(t){this.ri=t,this.docs=function(){return new Cs(Nr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,i=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return Mt.resolve(n?n.document.mutableCopy():pl.newInvalidDocument(r))}getEntries(t,r){let n=i0();return r.forEach(a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():pl.newInvalidDocument(a))}),Mt.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let s=i0();const i=r.path,o=new Nr(i.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||zye(Vye(d),n)<=0||(a.has(d.key)||NT(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Mt.resolve(s)}getAllFromCollectionGroup(t,r,n,a){Yr(9500)}ii(t,r){return Mt.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new g2e(this)}getSize(t){return Mt.resolve(this.size)}}class g2e extends c2e{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(n)}),Mt.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2e{constructor(t){this.persistence=t,this.si=new Lx(r=>ZL(r),e8),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this.oi=0,this._i=new i8,this.targetCount=0,this.ai=hb.ur()}forEachTarget(t,r){return this.si.forEach((n,a)=>r(a)),Mt.resolve()}getLastRemoteSnapshotVersion(t){return Mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Mt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Mt.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new hb(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,Mt.resolve()}updateTargetData(t,r){return this.Pr(r),Mt.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Mt.resolve()}removeTargets(t,r,n){let a=0;const s=[];return this.si.forEach((i,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),Mt.waitFor(s).next(()=>a)}getTargetCount(t){return Mt.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return Mt.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),Mt.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(i=>{s.push(a.markPotentiallyOrphaned(t,i))}),Mt.waitFor(s)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),Mt.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return Mt.resolve(n)}containsKey(t,r){return Mt.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cae{constructor(t,r){this.ui={},this.overlays={},this.ci=new yT(0),this.li=!1,this.li=!0,this.hi=new h2e,this.referenceDelegate=t(this),this.Pi=new x2e(this),this.indexManager=new r2e,this.remoteDocumentCache=function(a){return new m2e(a)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new e2e(r),this.Ii=new f2e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new A2e,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new p2e(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){Ar("MemoryPersistence","Starting transaction:",t);const a=new v2e(this.ci.next());return this.referenceDelegate.Ei(),n(a).next(s=>this.referenceDelegate.di(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ai(t,r){return Mt.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class v2e extends Kye{constructor(t){super(),this.currentSequenceNumber=t}}class o8{constructor(t){this.persistence=t,this.Ri=new i8,this.Vi=null}static mi(t){return new o8(t)}get fi(){if(this.Vi)return this.Vi;throw Yr(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Mt.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Mt.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),Mt.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(a=>this.fi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mt.forEach(this.fi,n=>{const a=Nr.fromPath(n);return this.gi(t,a).next(s=>{s||r.removeEntry(a,on.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return Mt.or([()=>Mt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class l4{constructor(t,r){this.persistence=t,this.pi=new Lx(n=>Xye(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=l2e(this,r)}static mi(t,r){return new l4(t,r)}Ei(){}di(t){return Mt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return Mt.forEach(this.pi,(n,a)=>this.br(t,n,a).next(s=>s?Mt.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(t,i=>this.br(t,i,r).next(o=>{o||(n++,s.removeEntry(i,on.min()))})).next(()=>s.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),Mt.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Mt.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Mt.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),Mt.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=sN(t.data.value)),r}br(t,r,n){return Mt.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.pi.get(r);return Mt.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=a}static As(t,r){let n=Rn(),a=Rn();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new l8(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2e{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Jxe()?8:qye(Sl())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,a){const s={result:null};return this.ys(t,r).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ws(t,r,a,n).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new b2e;return this.Ss(t,r,i).next(o=>{if(s.result=o,this.Vs)return this.bs(t,r,i,o.size)})}).next(()=>s.result)}bs(t,r,n,a){return n.documentReadCount<this.fs?(u1()<=Dn.DEBUG&&Ar("QueryEngine","SDK will not create cache indexes for query:",d1(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Mt.resolve()):(u1()<=Dn.DEBUG&&Ar("QueryEngine","Query:",d1(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(u1()<=Dn.DEBUG&&Ar("QueryEngine","The SDK decides to create cache indexes for query:",d1(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,OA(r))):Mt.resolve())}ys(t,r){if(kV(r))return Mt.resolve(null);let n=OA(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=s4(r,null,"F"),n=OA(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{const i=Rn(...s);return this.ps.getDocuments(t,i).next(o=>this.indexManager.getMinOffset(t,n).next(c=>{const u=this.Ds(r,o);return this.Cs(r,u,i,c.readTime)?this.ys(t,s4(r,null,"F")):this.vs(t,u,r,c)}))})))}ws(t,r,n,a){return kV(r)||a.isEqual(on.min())?Mt.resolve(null):this.ps.getDocuments(t,n).next(s=>{const i=this.Ds(r,s);return this.Cs(r,i,n,a)?Mt.resolve(null):(u1()<=Dn.DEBUG&&Ar("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),d1(r)),this.vs(t,i,r,$ye(a,fC)).next(o=>o))})}Ds(t,r){let n=new $i(Une(t));return r.forEach((a,s)=>{NT(t,s)&&(n=n.add(s))}),n}Cs(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const s=t.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(t,r,n){return u1()<=Dn.DEBUG&&Ar("QueryEngine","Using full collection scan to execute query:",d1(r)),this.ps.getDocumentsMatchingQuery(t,r,cm.min(),n)}vs(t,r,n,a){return this.ps.getDocumentsMatchingQuery(t,n,a).next(s=>(r.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="LocalStore",w2e=3e8;class C2e{constructor(t,r,n,a){this.persistence=t,this.Fs=r,this.serializer=a,this.Ms=new Cs(Pn),this.xs=new Lx(s=>ZL(s),e8),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new d2e(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function E2e(e,t,r,n){return new C2e(e,t,r,n)}async function uae(e,t){const r=dn(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(s=>(a=s,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const i=[],o=[];let c=Rn();for(const u of a){i.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:o}))})})}function S2e(e,t){const r=dn(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,c,u,d){const f=u.batch,h=f.keys();let p=Mt.resolve();return h.forEach(g=>{p=p.next(()=>d.getEntry(c,g)).next(x=>{const v=u.docVersions.get(g);pa(v!==null,48541),x.version.compareTo(v)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(c,f))}(r,n,t,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let c=Rn();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function dae(e){const t=dn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function _2e(e,t){const r=dn(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const o=[];t.targetChanges.forEach((d,f)=>{const h=a.get(f);if(!h)return;o.push(r.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(s,d.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(vo.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),a=a.insert(f,p),function(x,v,y){return x.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=w2e?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,d)&&o.push(r.Pi.updateTargetData(s,p))});let c=i0(),u=Rn();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(N2e(s,i,t.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(on.min())){const d=r.Pi.getLastRemoteSnapshotVersion(s).next(f=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(d)}return Mt.waitFor(o).next(()=>i.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(r.Ms=a,s))}function N2e(e,t,r){let n=Rn(),a=Rn();return r.forEach(s=>n=n.add(s)),t.getEntries(e,n).next(s=>{let i=i0();return r.forEach((o,c)=>{const u=s.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(a=a.add(o)),c.isNoDocument()&&c.version.isEqual(on.min())?(t.removeEntry(o,c.readTime),i=i.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),i=i.insert(o,c)):Ar(c8,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{ks:i,qs:a}})}function k2e(e,t){const r=dn(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=YL),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function T2e(e,t){const r=dn(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Pi.getTargetData(n,t).next(s=>s?(a=s,Mt.resolve(a)):r.Pi.allocateTargetId(n).next(i=>(a=new Rp(t,i,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function FD(e,t,r){const n=dn(e),a=n.Ms.get(t),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,i=>n.persistence.referenceDelegate.removeTarget(i,a))}catch(i){if(!Jb(i))throw i;Ar(c8,`Failed to update sequence numbers for target ${t}: ${i}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function QV(e,t,r){const n=dn(e);let a=on.min(),s=Rn();return n.persistence.runTransaction("Execute query","readwrite",i=>function(c,u,d){const f=dn(c),h=f.xs.get(d);return h!==void 0?Mt.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(n,i,OA(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(i,o.targetId).next(c=>{s=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(i,t,r?a:on.min(),r?s:Rn())).next(o=>(B2e(n,pwe(t),o),{documents:o,Qs:s})))}function B2e(e,t,r){let n=e.Os.get(t)||on.min();r.forEach((a,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),e.Os.set(t,n)}class HV{constructor(){this.activeTargetIds=ywe()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j2e{constructor(){this.Mo=new HV,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new HV,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2e{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="ConnectivityMonitor";class VV{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ar($V,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ar($V,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b_=null;function OD(){return b_===null?b_=function(){return 268435456+Math.round(2147483648*Math.random())}():b_++,"0x"+b_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="RestConnection",F2e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O2e{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===r4?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(t,r,n,a,s){const i=OD(),o=this.zo(t,r.toUriEncodedString());Ar(xI,`Sending RPC '${t}' ${i}:`,o,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,a,s);const{host:u}=new URL(o),d=C0(u);return this.Jo(t,o,c,n,d).then(f=>(Ar(xI,`Received RPC '${t}' ${i}: `,f),f),f=>{throw hx(xI,`RPC '${t}' ${i} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,a,s,i){return this.Go(t,r,n,a,s)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xb}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>t[s]=a),n&&n.headers.forEach((a,s)=>t[s]=a)}zo(t,r){const n=F2e[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2e{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="WebChannelConnection";class P2e extends O2e{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,a,s){const i=OD();return new Promise((o,c)=>{const u=new fne;u.setWithCredentials(!0),u.listenOnce(Ane.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case aN.NO_ERROR:const f=u.getResponseJson();Ar(rl,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(f)),o(f);break;case aN.TIMEOUT:Ar(rl,`RPC '${t}' ${i} timed out`),c(new Jt(St.DEADLINE_EXCEEDED,"Request time out"));break;case aN.HTTP_ERROR:const h=u.getStatus();if(Ar(rl,`RPC '${t}' ${i} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(St).indexOf(w)>=0?w:St.UNKNOWN}(g.status);c(new Jt(x,g.message))}else c(new Jt(St.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Jt(St.UNAVAILABLE,"Connection failed."));break;default:Yr(9055,{l_:t,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ar(rl,`RPC '${t}' ${i} completed.`)}});const d=JSON.stringify(a);Ar(rl,`RPC '${t}' ${i} sending request:`,a),u.send(r,"POST",d,n,15)})}T_(t,r,n){const a=OD(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=mne(),o=pne(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=s.join("");Ar(rl,`Creating RPC '${t}' stream ${a}: ${d}`,c);const f=i.createWebChannel(d,c);this.I_(f);let h=!1,p=!1;const g=new D2e({Yo:v=>{p?Ar(rl,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Ar(rl,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),Ar(rl,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},Zo:()=>f.close()}),x=(v,y,w)=>{v.listen(y,E=>{try{w(E)}catch(k){setTimeout(()=>{throw k},0)}})};return x(f,a2.EventType.OPEN,()=>{p||(Ar(rl,`RPC '${t}' stream ${a} transport opened.`),g.o_())}),x(f,a2.EventType.CLOSE,()=>{p||(p=!0,Ar(rl,`RPC '${t}' stream ${a} transport closed`),g.a_(),this.E_(f))}),x(f,a2.EventType.ERROR,v=>{p||(p=!0,hx(rl,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.a_(new Jt(St.UNAVAILABLE,"The operation could not be completed")))}),x(f,a2.EventType.MESSAGE,v=>{var y;if(!p){const w=v.data[0];pa(!!w,16349);const E=w,k=(E==null?void 0:E.error)||((y=E[0])==null?void 0:y.error);if(k){Ar(rl,`RPC '${t}' stream ${a} received error:`,k);const B=k.status;let j=function(I){const L=Ci[I];if(L!==void 0)return Jne(L)}(B),C=k.message;j===void 0&&(j=St.INTERNAL,C="Unknown error status: "+B+" with message "+k.message),p=!0,g.a_(new Jt(j,C)),f.close()}else Ar(rl,`RPC '${t}' stream ${a} received:`,w),g.u_(w)}}),x(o,hne.STAT_EVENT,v=>{v.stat===wD.PROXY?Ar(rl,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===wD.NOPROXY&&Ar(rl,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function vI(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e){return new Uwe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fae{constructor(t,r,n=1e3,a=1.5,s=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&Ar("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="PersistentStream";class Aae{constructor(t,r,n,a,s,i,o,c){this.Mi=t,this.S_=n,this.b_=a,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fae(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===St.RESOURCE_EXHAUSTED?(s0(r.toString()),s0("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===St.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{t(()=>{const a=new Jt(St.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ar(zV,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(Ar(zV,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R2e extends Aae{constructor(t,r,n,a,s,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,i),this.serializer=s}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=$we(this.serializer,t),n=function(s){if(!("targetChange"in s))return on.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?on.min():i.readTime?DA(i.readTime):on.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=ID(this.serializer),r.addTarget=function(s,i){let o;const c=i.target;if(o=ND(c)?{documents:Gwe(s,c)}:{query:Kwe(s,c).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=tae(s,i.resumeToken);const u=TD(s,i.expectedCount);u!==null&&(o.expectedCount=u)}else if(i.snapshotVersion.compareTo(on.min())>0){o.readTime=o4(s,i.snapshotVersion.toTimestamp());const u=TD(s,i.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=Wwe(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=ID(this.serializer),r.removeTarget=t,this.q_(r)}}class L2e extends Aae{constructor(t,r,n,a,s,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return pa(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,pa(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){pa(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=zwe(t.writeResults,t.commitTime),n=DA(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=ID(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Vwe(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2e{}class U2e extends M2e{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Jt(St.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Go(t,BD(r,n),a,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Jt(St.UNKNOWN,s.toString())})}Ho(t,r,n,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Ho(t,BD(r,n),a,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Jt(St.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Q2e{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(s0(r),this.aa=!1):Ar("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="RemoteStore";class H2e{constructor(t,r,n,a,s){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(i=>{n.enqueueAndForget(async()=>{Mx(this)&&(Ar(px,"Restarting streams for network reachability change."),await async function(c){const u=dn(c);u.Ea.add(4),await wE(u),u.Ra.set("Unknown"),u.Ea.delete(4),await FT(u)}(this))})}),this.Ra=new Q2e(n,a)}}async function FT(e){if(Mx(e))for(const t of e.da)await t(!0)}async function wE(e){for(const t of e.da)await t(!1)}function hae(e,t){const r=dn(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),A8(r)?f8(r):Zb(r).O_()&&d8(r,t))}function u8(e,t){const r=dn(e),n=Zb(r);r.Ia.delete(t),n.O_()&&pae(r,t),r.Ia.size===0&&(n.O_()?n.L_():Mx(r)&&r.Ra.set("Unknown"))}function d8(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(on.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Zb(e).Y_(t)}function pae(e,t){e.Va.Ue(t),Zb(e).Z_(t)}function f8(e){e.Va=new Pwe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Zb(e).start(),e.Ra.ua()}function A8(e){return Mx(e)&&!Zb(e).x_()&&e.Ia.size>0}function Mx(e){return dn(e).Ea.size===0}function mae(e){e.Va=void 0}async function $2e(e){e.Ra.set("Online")}async function V2e(e){e.Ia.forEach((t,r)=>{d8(e,t)})}async function z2e(e,t){mae(e),A8(e)?(e.Ra.ha(t),f8(e)):e.Ra.set("Unknown")}async function G2e(e,t,r){if(e.Ra.set("Online"),t instanceof eae&&t.state===2&&t.cause)try{await async function(a,s){const i=s.cause;for(const o of s.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,i),a.Ia.delete(o),a.Va.removeTarget(o))}(e,t)}catch(n){Ar(px,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await c4(e,n)}else if(t instanceof lN?e.Va.Ze(t):t instanceof Zne?e.Va.st(t):e.Va.tt(t),!r.isEqual(on.min()))try{const n=await dae(e.localStore);r.compareTo(n)>=0&&await function(s,i){const o=s.Va.Tt(i);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(c.resumeToken,i))}}),o.targetMismatches.forEach((c,u)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(vo.EMPTY_BYTE_STRING,d.snapshotVersion)),pae(s,c);const f=new Rp(d.target,c,u,d.sequenceNumber);d8(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Ar(px,"Failed to raise snapshot:",n),await c4(e,n)}}async function c4(e,t,r){if(!Jb(t))throw t;e.Ea.add(1),await wE(e),e.Ra.set("Offline"),r||(r=()=>dae(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ar(px,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await FT(e)})}function gae(e,t){return t().catch(r=>c4(e,r,t))}async function OT(e){const t=dn(e),r=Am(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:YL;for(;K2e(t);)try{const a=await k2e(t.localStore,n);if(a===null){t.Ta.length===0&&r.L_();break}n=a.batchId,q2e(t,a)}catch(a){await c4(t,a)}xae(t)&&vae(t)}function K2e(e){return Mx(e)&&e.Ta.length<10}function q2e(e,t){e.Ta.push(t);const r=Am(e);r.O_()&&r.X_&&r.ea(t.mutations)}function xae(e){return Mx(e)&&!Am(e).x_()&&e.Ta.length>0}function vae(e){Am(e).start()}async function W2e(e){Am(e).ra()}async function X2e(e){const t=Am(e);for(const r of e.Ta)t.ea(r.mutations)}async function Y2e(e,t,r){const n=e.Ta.shift(),a=n8.from(n,t,r);await gae(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await OT(e)}async function J2e(e,t){t&&Am(e).X_&&await async function(n,a){if(function(i){return Fwe(i)&&i!==St.ABORTED}(a.code)){const s=n.Ta.shift();Am(n).B_(),await gae(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await OT(n)}}(e,t),xae(e)&&vae(e)}async function GV(e,t){const r=dn(e);r.asyncQueue.verifyOperationInProgress(),Ar(px,"RemoteStore received new credentials");const n=Mx(r);r.Ea.add(3),await wE(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await FT(r)}async function Z2e(e,t){const r=dn(e);t?(r.Ea.delete(2),await FT(r)):t||(r.Ea.add(2),await wE(r),r.Ra.set("Unknown"))}function Zb(e){return e.ma||(e.ma=function(r,n,a){const s=dn(r);return s.sa(),new R2e(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Xo:$2e.bind(null,e),t_:V2e.bind(null,e),r_:z2e.bind(null,e),H_:G2e.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),A8(e)?f8(e):e.Ra.set("Unknown")):(await e.ma.stop(),mae(e))})),e.ma}function Am(e){return e.fa||(e.fa=function(r,n,a){const s=dn(r);return s.sa(),new L2e(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:W2e.bind(null,e),r_:J2e.bind(null,e),ta:X2e.bind(null,e),na:Y2e.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await OT(e)):(await e.fa.stop(),e.Ta.length>0&&(Ar(px,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(t,r,n,a,s){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new Kh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,s){const i=Date.now()+n,o=new h8(t,r,i,a,s);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Jt(St.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p8(e,t){if(s0("AsyncQueue",`${t}: ${e}`),Jb(e))return new Jt(St.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{static emptySet(t){return new M1(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||Nr.comparator(r.key,n.key):(r,n)=>Nr.comparator(r.key,n.key),this.keyedMap=s2(),this.sortedSet=new Cs(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof M1)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new M1;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.ga=new Cs(Nr.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Yr(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class pb{constructor(t,r,n,a,s,i,o,c,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,a,s){const i=[];return r.forEach(o=>{i.push({type:0,doc:o})}),new pb(t,r,M1.emptySet(r),i,n,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_T(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eCe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class tCe{constructor(){this.queries=qV(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=dn(r),s=a.queries;a.queries=qV(),s.forEach((i,o)=>{for(const c of o.Sa)c.onError(n)})})(this,new Jt(St.ABORTED,"Firestore shutting down"))}}function qV(){return new Lx(e=>Mne(e),_T)}async function m8(e,t){const r=dn(e);let n=3;const a=t.query;let s=r.queries.get(a);s?!s.ba()&&t.Da()&&(n=2):(s=new eCe,n=t.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(a,!0);break;case 1:s.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(i){const o=p8(i,`Initialization of query '${d1(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,s),s.Sa.push(t),t.va(r.onlineState),s.wa&&t.Fa(s.wa)&&x8(r)}async function g8(e,t){const r=dn(e),n=t.query;let a=3;const s=r.queries.get(n);if(s){const i=s.Sa.indexOf(t);i>=0&&(s.Sa.splice(i,1),s.Sa.length===0?a=t.Da()?0:1:!s.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function rCe(e,t){const r=dn(e);let n=!1;for(const a of t){const s=a.query,i=r.queries.get(s);if(i){for(const o of i.Sa)o.Fa(a)&&(n=!0);i.wa=a}}n&&x8(r)}function nCe(e,t,r){const n=dn(e),a=n.queries.get(t);if(a)for(const s of a.Sa)s.onError(r);n.queries.delete(t)}function x8(e){e.Ca.forEach(t=>{t.next()})}var DD,WV;(WV=DD||(DD={})).Ma="default",WV.Cache="cache";class v8{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new pb(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=pb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==DD.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(t){this.key=t}}class yae{constructor(t){this.key=t}}class aCe{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Rn(),this.mutatedKeys=Rn(),this.eu=Une(t),this.tu=new M1(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new KV,a=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,i=a,o=!1;const c=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,u=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((d,f)=>{const h=a.get(d),p=NT(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==x&&(n.track({type:3,doc:p}),v=!0):this.su(h,p)||(n.track({type:2,doc:p}),v=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(c||u)&&(o=!0)),v&&(p?(i=i.add(p),s=x?s.add(d):s.delete(d)):(i=i.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{tu:i,iu:n,Cs:o,mutatedKeys:s}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const i=t.iu.ya();i.sort((d,f)=>function(p,g){const x=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yr(20277,{Rt:v})}};return x(p)-x(g)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(n),a=a??!1;const o=r&&!a?this._u():[],c=this.Xa.size===0&&this.current&&!a?1:0,u=c!==this.Za;return this.Za=c,i.length!==0||u?{snapshot:new pb(this.query,t.tu,s,i,t.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KV,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Rn(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new yae(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new bae(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=Rn();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return pb.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const b8="SyncEngine";class sCe{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class iCe{constructor(t){this.key=t,this.hu=!1}}class oCe{constructor(t,r,n,a,s,i){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Lx(o=>Mne(o),_T),this.Iu=new Map,this.Eu=new Set,this.du=new Cs(Nr.comparator),this.Au=new Map,this.Ru=new i8,this.Vu={},this.mu=new Map,this.fu=hb.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lCe(e,t,r=!0){const n=Nae(e);let a;const s=n.Tu.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await wae(n,t,r,!0),a}async function cCe(e,t){const r=Nae(e);await wae(r,t,!0,!1)}async function wae(e,t,r,n){const a=await T2e(e.localStore,OA(t)),s=a.targetId,i=e.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await uCe(e,t,s,i==="current",a.resumeToken)),e.isPrimaryClient&&r&&hae(e.remoteStore,a),o}async function uCe(e,t,r,n,a){e.pu=(f,h,p)=>async function(x,v,y,w){let E=v.view.ru(y);E.Cs&&(E=await QV(x.localStore,v.query,!1).then(({documents:C})=>v.view.ru(C,E)));const k=w&&w.targetChanges.get(v.targetId),B=w&&w.targetMismatches.get(v.targetId)!=null,j=v.view.applyChanges(E,x.isPrimaryClient,k,B);return YV(x,v.targetId,j.au),j.snapshot}(e,f,h,p);const s=await QV(e.localStore,t,!0),i=new aCe(t,s.Qs),o=i.ru(s.documents),c=yE.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),u=i.applyChanges(o,e.isPrimaryClient,c);YV(e,r,u.au);const d=new sCe(t,r,i);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function dCe(e,t,r){const n=dn(e),a=n.Tu.get(t),s=n.Iu.get(a.targetId);if(s.length>1)return n.Iu.set(a.targetId,s.filter(i=>!_T(i,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await FD(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&u8(n.remoteStore,a.targetId),PD(n,a.targetId)}).catch(Yb)):(PD(n,a.targetId),await FD(n.localStore,a.targetId,!0))}async function fCe(e,t){const r=dn(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),u8(r.remoteStore,n.targetId))}async function ACe(e,t,r){const n=bCe(e);try{const a=await function(i,o){const c=dn(i),u=lr.now(),d=o.reduce((p,g)=>p.add(g.key),Rn());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=i0(),x=Rn();return c.Ns.getEntries(p,d).next(v=>{g=v,g.forEach((y,w)=>{w.isValidDocument()||(x=x.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const y=[];for(const w of o){const E=kwe(w,f.get(w.key).overlayedDocument);E!=null&&y.push(new Im(w.key,E,Ine(E.value.mapValue),Gl.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:Hne(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(i,o,c){let u=i.Vu[i.currentUser.toKey()];u||(u=new Cs(Pn)),u=u.insert(o,c),i.Vu[i.currentUser.toKey()]=u}(n,a.batchId,r),await CE(n,a.changes),await OT(n.remoteStore)}catch(a){const s=p8(a,"Failed to persist write");r.reject(s)}}async function Cae(e,t){const r=dn(e);try{const n=await _2e(r.localStore,t);t.targetChanges.forEach((a,s)=>{const i=r.Au.get(s);i&&(pa(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?i.hu=!0:a.modifiedDocuments.size>0?pa(i.hu,14607):a.removedDocuments.size>0&&(pa(i.hu,42227),i.hu=!1))}),await CE(r,n,t)}catch(n){await Yb(n)}}function XV(e,t,r){const n=dn(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((s,i)=>{const o=i.view.va(t);o.snapshot&&a.push(o.snapshot)}),function(i,o){const c=dn(i);c.onlineState=o;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(o)&&(u=!0)}),u&&x8(c)}(n.eventManager,t),a.length&&n.Pu.H_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function hCe(e,t,r){const n=dn(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),s=a&&a.key;if(s){let i=new Cs(Nr.comparator);i=i.insert(s,pl.newNoDocument(s,on.min()));const o=Rn().add(s),c=new jT(on.min(),new Map,new Cs(Pn),i,o);await Cae(n,c),n.du=n.du.remove(s),n.Au.delete(t),y8(n)}else await FD(n.localStore,t,!1).then(()=>PD(n,t,r)).catch(Yb)}async function pCe(e,t){const r=dn(e),n=t.batch.batchId;try{const a=await S2e(r.localStore,t);Sae(r,n,null),Eae(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await CE(r,a)}catch(a){await Yb(a)}}async function mCe(e,t,r){const n=dn(e);try{const a=await function(i,o){const c=dn(i);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next(f=>(pa(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,t);Sae(n,t,r),Eae(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await CE(n,a)}catch(a){await Yb(a)}}function Eae(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function Sae(e,t,r){const n=dn(e);let a=n.Vu[n.currentUser.toKey()];if(a){const s=a.get(t);s&&(r?s.reject(r):s.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function PD(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||_ae(e,n)})}function _ae(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(u8(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),y8(e))}function YV(e,t,r){for(const n of r)n instanceof bae?(e.Ru.addReference(n.key,t),gCe(e,n)):n instanceof yae?(Ar(b8,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||_ae(e,n.key)):Yr(19791,{wu:n})}function gCe(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(Ar(b8,"New document in limbo: "+r),e.Eu.add(n),y8(e))}function y8(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new Nr(La.fromString(t)),n=e.fu.next();e.Au.set(n,new iCe(r)),e.du=e.du.insert(r,n),hae(e.remoteStore,new Rp(OA(ST(r.path)),n,"TargetPurposeLimboResolution",yT.ce))}}async function CE(e,t,r){const n=dn(e),a=[],s=[],i=[];n.Tu.isEmpty()||(n.Tu.forEach((o,c)=>{i.push(n.pu(c,t,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){a.push(u);const f=l8.As(c.targetId,u);s.push(f)}}))}),await Promise.all(i),n.Pu.H_(a),await async function(c,u){const d=dn(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Mt.forEach(u,h=>Mt.forEach(h.Es,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>Mt.forEach(h.ds,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Jb(f))throw f;Ar(c8,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.Ms.get(h),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);d.Ms=d.Ms.insert(h,x)}}}(n.localStore,s))}async function xCe(e,t){const r=dn(e);if(!r.currentUser.isEqual(t)){Ar(b8,"User change. New user:",t.toKey());const n=await uae(r.localStore,t);r.currentUser=t,function(s,i){s.mu.forEach(o=>{o.forEach(c=>{c.reject(new Jt(St.CANCELLED,i))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await CE(r,n.Ls)}}function vCe(e,t){const r=dn(e),n=r.Au.get(t);if(n&&n.hu)return Rn().add(n.key);{let a=Rn();const s=r.Iu.get(t);if(!s)return a;for(const i of s){const o=r.Tu.get(i);a=a.unionWith(o.view.nu)}return a}}function Nae(e){const t=dn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cae.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vCe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hCe.bind(null,t),t.Pu.H_=rCe.bind(null,t.eventManager),t.Pu.yu=nCe.bind(null,t.eventManager),t}function bCe(e){const t=dn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pCe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mCe.bind(null,t),t}class u4{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=IT(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return E2e(this.persistence,new y2e,t.initialUser,this.serializer)}Cu(t){return new cae(o8.mi,this.serializer)}Du(t){return new j2e}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}u4.provider={build:()=>new u4};class yCe extends u4{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){pa(this.persistence.referenceDelegate instanceof l4,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new i2e(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?pc.withCacheSize(this.cacheSizeBytes):pc.DEFAULT;return new cae(n=>l4.mi(n,r),this.serializer)}}class RD{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>XV(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=xCe.bind(null,this.syncEngine),await Z2e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new tCe}()}createDatastore(t){const r=IT(t.databaseInfo.databaseId),n=function(s){return new P2e(s)}(t.databaseInfo);return function(s,i,o,c){return new U2e(s,i,o,c)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,s,i,o){return new H2e(n,a,s,i,o)}(this.localStore,this.datastore,t.asyncQueue,r=>XV(this.syncEngine,r,0),function(){return VV.v()?new VV:new I2e}())}createSyncEngine(t,r){return function(a,s,i,o,c,u,d){const f=new oCe(a,s,i,o,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const s=dn(a);Ar(px,"RemoteStore shutting down."),s.Ea.add(5),await wE(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}RD.provider={build:()=>new RD};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):s0("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="FirestoreClient";class wCe{constructor(t,r,n,a,s){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=dl.UNAUTHENTICATED,this.clientId=vT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async i=>{Ar(hm,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(n,i=>(Ar(hm,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Kh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=p8(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function bI(e,t){e.asyncQueue.verifyOperationInProgress(),Ar(hm,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await uae(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function JV(e,t){e.asyncQueue.verifyOperationInProgress();const r=await CCe(e);Ar(hm,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>GV(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>GV(t.remoteStore,a)),e._onlineComponents=t}async function CCe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ar(hm,"Using user provided OfflineComponentProvider");try{await bI(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===St.FAILED_PRECONDITION||a.code===St.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;hx("Error using user provided cache. Falling back to memory cache: "+r),await bI(e,new u4)}}else Ar(hm,"Using default OfflineComponentProvider"),await bI(e,new yCe(void 0));return e._offlineComponents}async function kae(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ar(hm,"Using user provided OnlineComponentProvider"),await JV(e,e._uninitializedComponentsProvider._online)):(Ar(hm,"Using default OnlineComponentProvider"),await JV(e,new RD))),e._onlineComponents}function ECe(e){return kae(e).then(t=>t.syncEngine)}async function d4(e){const t=await kae(e),r=t.eventManager;return r.onListen=lCe.bind(null,t.syncEngine),r.onUnlisten=dCe.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=cCe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=fCe.bind(null,t.syncEngine),r}function SCe(e,t,r={}){const n=new Kh;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,c,u){const d=new w8({next:h=>{d.Nu(),i.enqueueAndForget(()=>g8(s,f));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new Jt(St.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new Jt(St.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new v8(ST(o.path),d,{includeMetadataChanges:!0,qa:!0});return m8(s,f)}(await d4(e),e.asyncQueue,t,r,n)),n.promise}function _Ce(e,t,r={}){const n=new Kh;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,c,u){const d=new w8({next:h=>{d.Nu(),i.enqueueAndForget(()=>g8(s,f)),h.fromCache&&c.source==="server"?u.reject(new Jt(St.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new v8(o,d,{includeMetadataChanges:!0,qa:!0});return m8(s,f)}(await d4(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bae="firestore.googleapis.com",ez=!0;class tz{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Jt(St.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bae,this.ssl=ez}else this.host=t.host,this.ssl=t.ssl??ez;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lae;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<a2e)throw new Jt(St.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yne("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tae(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Jt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Jt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Jt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class DT{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tz({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Jt(St.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Jt(St.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tz(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new vne;switch(n.type){case"firstParty":return new Pye(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Jt(St.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ZV.get(r);n&&(Ar("ComponentProvider","Removing Datastore"),ZV.delete(r),n.terminate())}(this),Promise.resolve()}}function jae(e,t,r,n={}){var u;e=wl(e,DT);const a=C0(t),s=e._getSettings(),i={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;a&&(fT(`https://${o}`),AT("Firestore",!0)),s.host!==Bae&&s.host!==o&&hx("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:o,ssl:a,emulatorOptions:n};if(!om(c,i)&&(e._setSettings(c),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=dl.MOCK_USER;else{d=Sre(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Jt(St.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new dl(h)}e._authCredentials=new Fye(new xne(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Ef(this.firestore,t,this._query)}}class bs{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bs(this.firestore,t,this._key)}toJSON(){return{type:bs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(vE(r,bs._jsonSchema))return new bs(t,n||null,new Nr(La.fromString(r.referencePath)))}}bs._jsonSchemaVersion="firestore/documentReference/1.0",bs._jsonSchema={type:Ii("string",bs._jsonSchemaVersion),referencePath:Ii("string")};class qh extends Ef{constructor(t,r,n){super(t,r,ST(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bs(this.firestore,null,new Nr(t))}withConverter(t){return new qh(this.firestore,t,this._path)}}function wt(e,t,...r){if(e=aa(e),bne("collection","path",t),e instanceof DT){const n=La.fromString(t,...r);return pV(n),new qh(e,null,n)}{if(!(e instanceof bs||e instanceof qh))throw new Jt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(La.fromString(t,...r));return pV(n),new qh(e.firestore,null,n)}}function dr(e,t,...r){if(e=aa(e),arguments.length===1&&(t=vT.newId()),bne("doc","path",t),e instanceof DT){const n=La.fromString(t,...r);return hV(n),new bs(e,null,new Nr(n))}{if(!(e instanceof bs||e instanceof qh))throw new Jt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(La.fromString(t,...r));return hV(n),new bs(e.firestore,e instanceof qh?e.converter:null,new Nr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz="AsyncQueue";class nz{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fae(this,"async_queue_retry"),this._c=()=>{const n=vI();n&&Ar(rz,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=vI();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=vI();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Kh;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Jb(t))throw t;Ar(rz,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,s0("INTERNAL UNHANDLED ERROR: ",az(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=h8.createAndSchedule(this,t,r,n,s=>this.hc(s));return this.tc.push(a),a}uc(){this.nc&&Yr(47125,{Pc:az(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function az(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const s of n)if(s in a&&typeof a[s]=="function")return!0;return!1}(e,["next","error","complete"])}class bf extends DT{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new nz,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nz(t),this._firestoreClient=void 0,await t}}}function C8(e,t){const r=typeof e=="object"?e:hT(),n=typeof e=="string"?e:r4,a=pE(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=LL("firestore");s&&jae(a,...s)}return a}function ey(e){if(e._terminated)throw new Jt(St.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||NCe(e),e._firestoreClient}function NCe(e){var n,a,s;const t=e._freezeSettings(),r=function(o,c,u,d){return new Zye(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Tae(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new wCe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t){this._byteString=t}static fromBase64String(t){try{return new au(vo.fromBase64String(t))}catch(r){throw new Jt(St.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new au(vo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:au._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vE(t,au._jsonSchema))return au.fromBase64String(t.bytes)}}au._jsonSchemaVersion="firestore/bytes/1.0",au._jsonSchema={type:Ii("string",au._jsonSchemaVersion),bytes:Ii("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Jt(St.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ao(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Jt(St.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Jt(St.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pn(this._lat,t._lat)||Pn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:uf._jsonSchemaVersion}}static fromJSON(t){if(vE(t,uf._jsonSchema))return new uf(t.latitude,t.longitude)}}uf._jsonSchemaVersion="firestore/geoPoint/1.0",uf._jsonSchema={type:Ii("string",uf._jsonSchemaVersion),latitude:Ii("number"),longitude:Ii("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:df._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vE(t,df._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new df(t.vectorValues);throw new Jt(St.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}df._jsonSchemaVersion="firestore/vectorValue/1.0",df._jsonSchema={type:Ii("string",df._jsonSchemaVersion),vectorValues:Ii("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kCe=/^__.*__$/;class TCe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Im(t,this.data,this.fieldMask,r,this.fieldTransforms):new bE(t,this.data,r,this.fieldTransforms)}}class Iae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Im(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function Fae(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yr(40011,{Ac:e})}}class PT{constructor(t,r,n,a,s,i){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new PT({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return f4(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Fae(this.Ac)&&kCe.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class BCe{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||IT(t)}Cc(t,r,n,a=!1){return new PT({Ac:t,methodName:r,Dc:n,path:Ao.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(e){const t=e._freezeSettings(),r=IT(e._databaseId);return new BCe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function E8(e,t,r,n,a,s={}){const i=e.Cc(s.merge||s.mergeFields?2:0,t,r,a);N8("Data must be an object, but it was:",i,n);const o=Rae(n,i);let c,u;if(s.merge)c=new cu(i.fieldMask),u=i.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=LD(t,f,r);if(!i.contains(h))throw new Jt(St.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Mae(d,h)||d.push(h)}c=new cu(d),u=i.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=i.fieldTransforms;return new TCe(new bc(o),c,u)}class RT extends ry{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof RT}}function jCe(e,t,r){return new PT({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class S8 extends ry{_toFieldTransform(t){return new Wne(t.path,new mC)}isEqual(t){return t instanceof S8}}class _8 extends ry{constructor(t,r){super(t),this.vc=r}_toFieldTransform(t){const r=jCe(this,t,!0),n=this.vc.map(s=>ay(s,r)),a=new Ab(n);return new Wne(t.path,a)}isEqual(t){return t instanceof _8&&om(this.vc,t.vc)}}function Oae(e,t,r,n){const a=e.Cc(1,t,r);N8("Data must be an object, but it was:",a,n);const s=[],i=bc.empty();jm(n,(c,u)=>{const d=k8(t,c,r);u=aa(u);const f=a.yc(d);if(u instanceof RT)s.push(d);else{const h=ay(u,f);h!=null&&(s.push(d),i.set(d,h))}});const o=new cu(s);return new Iae(i,o,a.fieldTransforms)}function Dae(e,t,r,n,a,s){const i=e.Cc(1,t,r),o=[LD(t,n,r)],c=[a];if(s.length%2!=0)throw new Jt(St.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(LD(t,s[h])),c.push(s[h+1]);const u=[],d=bc.empty();for(let h=o.length-1;h>=0;--h)if(!Mae(u,o[h])){const p=o[h];let g=c[h];g=aa(g);const x=i.yc(p);if(g instanceof RT)u.push(p);else{const v=ay(g,x);v!=null&&(u.push(p),d.set(p,v))}}const f=new cu(u);return new Iae(d,f,i.fieldTransforms)}function Pae(e,t,r,n=!1){return ay(r,e.Cc(n?4:3,t))}function ay(e,t){if(Lae(e=aa(e)))return N8("Unsupported field value:",t,e),Rae(e,t);if(e instanceof ry)return function(n,a){if(!Fae(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,a){const s=[];let i=0;for(const o of n){let c=ay(o,a.wc(i));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),i++}return{arrayValue:{values:s}}}(e,t)}return function(n,a){if((n=aa(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wwe(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=lr.fromDate(n);return{timestampValue:o4(a.serializer,s)}}if(n instanceof lr){const s=new lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:o4(a.serializer,s)}}if(n instanceof uf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof au)return{bytesValue:tae(a.serializer,n._byteString)};if(n instanceof bs){const s=a.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw a.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:s8(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof df)return function(i,o){return{mapValue:{fields:{[Bne]:{stringValue:jne},[n4]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return r8(o.serializer,u)})}}}}}}(n,a);throw a.Sc(`Unsupported field value: ${bT(n)}`)}(e,t)}function Rae(e,t){const r={};return Ene(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jm(e,(n,a)=>{const s=ay(a,t.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function Lae(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof lr||e instanceof uf||e instanceof au||e instanceof bs||e instanceof ry||e instanceof df)}function N8(e,t,r){if(!Lae(r)||!wne(r)){const n=bT(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function LD(e,t,r){if((t=aa(t))instanceof ty)return t._internalPath;if(typeof t=="string")return k8(e,t);throw f4("Field path arguments must be of type string or ",e,!1,void 0,r)}const ICe=new RegExp("[~\\*/\\[\\]]");function k8(e,t,r){if(t.search(ICe)>=0)throw f4(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new ty(...t.split("."))._internalPath}catch{throw f4(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function f4(e,t,r,n,a){const s=n&&!n.isEmpty(),i=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||i)&&(c+=" (found",s&&(c+=` in field ${n}`),i&&(c+=` in document ${a}`),c+=")"),new Jt(St.INVALID_ARGUMENT,o+e+c)}function Mae(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(t,r,n,a,s){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new FCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(LT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class FCe extends T8{data(){return super.data()}}function LT(e,t){return typeof t=="string"?k8(e,t):t instanceof ty?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uae(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Jt(St.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B8{}class EE extends B8{}function zt(e,t,...r){let n=[];t instanceof B8&&n.push(t),n=n.concat(r),function(s){const i=s.filter(c=>c instanceof MT).length,o=s.filter(c=>c instanceof SE).length;if(i>1||i>0&&o>0)throw new Jt(St.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class SE extends EE{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new SE(t,r,n)}_apply(t){const r=this._parse(t);return Hae(t._query,r),new Ef(t.firestore,t.converter,kD(t._query,r))}_parse(t){const r=ny(t.firestore);return function(s,i,o,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Jt(St.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){oz(f,d);const g=[];for(const x of f)g.push(iz(c,s,x));h={arrayValue:{values:g}}}else h=iz(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||oz(f,d),h=Pae(o,i,f,d==="in"||d==="not-in");return ji.create(u,d,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Gr(e,t,r){const n=t,a=LT("where",e);return SE._create(a,n,r)}class MT extends B8{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new MT(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:vf.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,s){let i=a;const o=s.getFlattenedFilters();for(const c of o)Hae(i,c),i=kD(i,c)}(t._query,r),new Ef(t.firestore,t.converter,kD(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class UT extends EE{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new UT(t,r)}_apply(t){const r=function(a,s,i){if(a.startAt!==null)throw new Jt(St.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Jt(St.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pC(s,i)}(t._query,this._field,this._direction);return new Ef(t.firestore,t.converter,function(a,s){const i=a.explicitOrderBy.concat([s]);return new Rx(a.path,a.collectionGroup,i,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function wr(e,t="asc"){const r=t,n=LT("orderBy",e);return UT._create(n,r)}class QT extends EE{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new QT(t,r,n)}_apply(t){return new Ef(t.firestore,t.converter,s4(t._query,this._limit,this._limitType))}}function ff(e){return Hye("limit",e),QT._create("limit",e,"F")}class HT extends EE{constructor(t,r,n){super(),this.type=t,this._docOrFields=r,this._inclusive=n}static _create(t,r,n){return new HT(t,r,n)}_apply(t){const r=OCe(t,this.type,this._docOrFields,this._inclusive);return new Ef(t.firestore,t.converter,function(a,s){return new Rx(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,s,a.endAt)}(t._query,r))}}function Qae(...e){return HT._create("startAfter",e,!1)}function OCe(e,t,r,n){if(r[0]=aa(r[0]),r[0]instanceof T8)return function(s,i,o,c,u){if(!c)throw new Jt(St.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const f of L1(s))if(f.field.isKeyField())d.push(a4(i,c.key));else{const h=c.data.field(f.field);if(CT(h))throw new Jt(St.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new Jt(St.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}d.push(h)}return new fb(d,u)}(e._query,e.firestore._databaseId,t,r[0]._document,n);{const a=ny(e.firestore);return function(i,o,c,u,d,f){const h=i.explicitOrderBy;if(d.length>h.length)throw new Jt(St.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<d.length;g++){const x=d[g];if(h[g].field.isKeyField()){if(typeof x!="string")throw new Jt(St.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof x}`);if(!t8(i)&&x.indexOf("/")!==-1)throw new Jt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${x}' contains a slash.`);const v=i.path.child(La.fromString(x));if(!Nr.isDocumentKey(v))throw new Jt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const y=new Nr(v);p.push(a4(o,y))}else{const v=Pae(c,u,x);p.push(v)}}return new fb(p,f)}(e._query,e.firestore._databaseId,a,t,r,n)}}function iz(e,t,r){if(typeof(r=aa(r))=="string"){if(r==="")throw new Jt(St.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t8(t)&&r.indexOf("/")!==-1)throw new Jt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(La.fromString(r));if(!Nr.isDocumentKey(n))throw new Jt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return a4(e,new Nr(n))}if(r instanceof bs)return a4(e,r._key);throw new Jt(St.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bT(r)}.`)}function oz(e,t){if(!Array.isArray(e)||e.length===0)throw new Jt(St.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Hae(e,t){const r=function(a,s){for(const i of a)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Jt(St.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Jt(St.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class $ae{convertValue(t,r="none"){switch(fm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return si(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(dm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Yr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return jm(t,(a,s)=>{n[a]=this.convertValue(s,r)}),n}convertVectorValue(t){var n,a,s;const r=(s=(a=(n=t.fields)==null?void 0:n[n4].arrayValue)==null?void 0:a.values)==null?void 0:s.map(i=>si(i.doubleValue));return new df(r)}convertGeoPoint(t){return new uf(si(t.latitude),si(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=ET(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(AC(t));default:return null}}convertTimestamp(t){const r=um(t);return new lr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=La.fromString(t);pa(oae(n),9688,{name:t});const a=new cb(n.get(1),n.get(3)),s=new Nr(n.popFirst(5));return a.isEqual(r)||s0(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class y1{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xp extends T8{constructor(t,r,n,a,s,i){super(t,r,n,a,i),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new O2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(LT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Jt(St.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Xp._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Xp._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xp._jsonSchema={type:Ii("string",Xp._jsonSchemaVersion),bundleSource:Ii("string","DocumentSnapshot"),bundleName:Ii("string"),bundle:Ii("string")};class O2 extends Xp{data(t={}){return super.data(t)}}class Yp{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new y1(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new O2(this._firestore,this._userDataWriter,n.key,n,new y1(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Jt(St.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let i=0;return a._snapshot.docChanges.map(o=>{const c=new O2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new y1(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:i++}})}{let i=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const c=new O2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new y1(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let u=-1,d=-1;return o.type!==0&&(u=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:DCe(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Jt(St.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Yp._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DCe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(e){e=wl(e,bs);const t=wl(e.firestore,bf);return SCe(ey(t),e._key).then(r=>Vae(t,e,r))}Yp._jsonSchemaVersion="firestore/querySnapshot/1.0",Yp._jsonSchema={type:Ii("string",Yp._jsonSchemaVersion),bundleSource:Ii("string","QuerySnapshot"),bundleName:Ii("string"),bundle:Ii("string")};class I8 extends $ae{constructor(t){super(),this.firestore=t}convertBytes(t){return new au(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new bs(this.firestore,null,r)}}function qn(e){e=wl(e,Ef);const t=wl(e.firestore,bf),r=ey(t),n=new I8(t);return Uae(e._query),_Ce(r,e._query).then(a=>new Yp(t,n,e,a))}function Gi(e,t,r){e=wl(e,bs);const n=wl(e.firestore,bf),a=j8(e.converter,t,r);return sy(n,[E8(ny(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Gl.none())])}function bu(e,t,r,...n){e=wl(e,bs);const a=wl(e.firestore,bf),s=ny(a);let i;return i=typeof(t=aa(t))=="string"||t instanceof ty?Dae(s,"updateDoc",e._key,t,r,n):Oae(s,"updateDoc",e._key,t),sy(a,[i.toMutation(e._key,Gl.exists(!0))])}function hs(e){return sy(wl(e.firestore,bf),[new BT(e._key,Gl.none())])}function Bn(e,t){const r=wl(e.firestore,bf),n=dr(e),a=j8(e.converter,t);return sy(r,[E8(ny(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,Gl.exists(!1))]).then(()=>n)}function br(e,...t){var c,u,d;e=aa(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||sz(t[n])||(r=t[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(sz(t[n])){const f=t[n];t[n]=(c=f.next)==null?void 0:c.bind(f),t[n+1]=(u=f.error)==null?void 0:u.bind(f),t[n+2]=(d=f.complete)==null?void 0:d.bind(f)}let s,i,o;if(e instanceof bs)i=wl(e.firestore,bf),o=ST(e._key.path),s={next:f=>{t[n]&&t[n](Vae(i,e,f))},error:t[n+1],complete:t[n+2]};else{const f=wl(e,Ef);i=wl(f.firestore,bf),o=f._query;const h=new I8(i);s={next:p=>{t[n]&&t[n](new Yp(i,h,f,p))},error:t[n+1],complete:t[n+2]},Uae(e._query)}return function(h,p,g,x){const v=new w8(x),y=new v8(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>m8(await d4(h),y)),()=>{v.Nu(),h.asyncQueue.enqueueAndForget(async()=>g8(await d4(h),y))}}(ey(i),o,a,s)}function sy(e,t){return function(n,a){const s=new Kh;return n.asyncQueue.enqueueAndForget(async()=>ACe(await ECe(n),a,s)),s.promise}(ey(e),t)}function Vae(e,t,r){const n=r.docs.get(t._key),a=new I8(e);return new Xp(e,a,t._key,n,new y1(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ny(t)}set(t,r,n){this._verifyNotCommitted();const a=yI(t,this._firestore),s=j8(a.converter,r,n),i=E8(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,n);return this._mutations.push(i.toMutation(a._key,Gl.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const s=yI(t,this._firestore);let i;return i=typeof(r=aa(r))=="string"||r instanceof ty?Dae(this._dataReader,"WriteBatch.update",s._key,r,n,a):Oae(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(i.toMutation(s._key,Gl.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=yI(t,this._firestore);return this._mutations=this._mutations.concat(new BT(r._key,Gl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Jt(St.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yI(e,t){if((e=aa(e)).firestore!==t)throw new Jt(St.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Vi(){return new S8("serverTimestamp")}function Gae(...e){return new _8("arrayUnion",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(e){return ey(e=wl(e,bf)),new zae(e,t=>sy(e,t))}(function(t,r=!0){(function(a){Xb=a})(Dx),lm(new r0("firestore",(n,{instanceIdentifier:a,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new bf(new Oye(n.getProvider("auth-internal")),new Rye(i,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Jt(St.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cb(u.options.projectId,d)}(i,a),i);return s={useFetchStreams:r,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ad(uV,dV,t),Ad(uV,dV,"esm2020")})();const PCe=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:$ae,Bytes:au,CollectionReference:qh,DocumentReference:bs,DocumentSnapshot:Xp,FieldPath:ty,FieldValue:ry,Firestore:bf,FirestoreError:Jt,GeoPoint:uf,Query:Ef,QueryCompositeFilterConstraint:MT,QueryConstraint:EE,QueryDocumentSnapshot:O2,QueryFieldFilterConstraint:SE,QueryLimitConstraint:QT,QueryOrderByConstraint:UT,QuerySnapshot:Yp,QueryStartAtConstraint:HT,SnapshotMetadata:y1,Timestamp:lr,VectorValue:df,WriteBatch:zae,_AutoId:vT,_ByteString:vo,_DatabaseId:cb,_DocumentKey:Nr,_EmptyAuthCredentialsProvider:vne,_FieldPath:Ao,_cast:wl,_logWarn:hx,_validateIsNotUsedTogether:yne,addDoc:Bn,arrayUnion:Gae,collection:wt,connectFirestoreEmulator:jae,deleteDoc:hs,doc:dr,ensureFirestoreConfigured:ey,executeWrite:sy,getDoc:Ux,getDocs:qn,getFirestore:C8,limit:ff,onSnapshot:br,orderBy:wr,query:zt,serverTimestamp:Vi,setDoc:Gi,startAfter:Qae,updateDoc:bu,where:Gr,writeBatch:Qx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kae="firebasestorage.googleapis.com",qae="storageBucket",RCe=120*1e3,LCe=600*1e3,MCe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Cf{constructor(t,r,n=0){super(wI(t),`Firebase Storage: ${r} (${wI(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_s.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return wI(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rs;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rs||(rs={}));function wI(e){return"storage/"+e}function F8(){const e="An unknown error occurred, please check the error payload for server response.";return new _s(rs.UNKNOWN,e)}function UCe(e){return new _s(rs.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function QCe(e){return new _s(rs.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HCe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _s(rs.UNAUTHENTICATED,e)}function $Ce(){return new _s(rs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VCe(e){return new _s(rs.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Wae(){return new _s(rs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xae(){return new _s(rs.CANCELED,"User canceled the upload/download.")}function zCe(e){return new _s(rs.INVALID_URL,"Invalid URL '"+e+"'.")}function GCe(e){return new _s(rs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function KCe(){return new _s(rs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qae+"' property when initializing the app?")}function Yae(){return new _s(rs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qCe(){return new _s(rs.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function WCe(){return new _s(rs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XCe(e){return new _s(rs.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function MD(e){return new _s(rs.INVALID_ARGUMENT,e)}function Jae(){return new _s(rs.APP_DELETED,"The Firebase app was deleted.")}function YCe(e){return new _s(rs.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function D2(e,t){return new _s(rs.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function vw(e){throw new _s(rs.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=Hl.makeFromUrl(t,r)}catch{return new Hl(t,"")}if(n.path==="")return n;throw GCe(t)}static makeFromUrl(t,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const i="(/(.*))?$",o=new RegExp("^gs://"+a+i,"i"),c={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${a}/o${h}`,"i"),g={bucket:1,path:3},x=r===Kae?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",y=new RegExp(`^https?://${x}/${a}/${v}`,"i"),E=[{regex:o,indices:c,postModify:s},{regex:p,indices:g,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<E.length;k++){const B=E[k],j=B.regex.exec(t);if(j){const C=j[B.indices.bucket];let N=j[B.indices.path];N||(N=""),n=new Hl(C,N),B.postModify(n);break}}if(n==null)throw zCe(t);return n}}class JCe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZCe(e,t,r){let n=1,a=null,s=null,i=!1,o=0;function c(){return o===2}let u=!1;function d(...v){u||(u=!0,t.apply(null,v))}function f(v){a=setTimeout(()=>{a=null,e(p,c())},v)}function h(){s&&clearTimeout(s)}function p(v,...y){if(u){h();return}if(v){h(),d.call(null,v,...y);return}if(c()||i){h(),d.call(null,v,...y);return}n<64&&(n*=2);let E;o===1?(o=2,E=0):E=(n+Math.random())*1e3,f(E)}let g=!1;function x(v){g||(g=!0,h(),!u&&(a!==null?(v||(o=2),clearTimeout(a),f(0)):v||(o=1)))}return f(0),s=setTimeout(()=>{i=!0,x(!0)},r),x}function eEe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tEe(e){return e!==void 0}function rEe(e){return typeof e=="function"}function nEe(e){return typeof e=="object"&&!Array.isArray(e)}function $T(e){return typeof e=="string"||e instanceof String}function lz(e){return O8()&&e instanceof Blob}function O8(){return typeof Blob<"u"}function UD(e,t,r,n){if(n<t)throw MD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw MD(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function Zae(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const a=t(n)+"="+t(e[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var qg;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(qg||(qg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ese(e,t){const r=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return r||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aEe{constructor(t,r,n,a,s,i,o,c,u,d,f,h=!0,p=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const t=(n,a)=>{if(a){n(!1,new y_(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const i=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(i),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(i),this.pendingConnection_=null;const o=s.getErrorCode()===qg.NO_ERROR,c=s.getStatus();if(!o||ese(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===qg.ABORT;n(!1,new y_(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new y_(u,s))})},r=(n,a)=>{const s=this.resolve_,i=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());tEe(c)?s(c):s()}catch(c){i(c)}else if(o!==null){const c=F8();c.serverResponse=o.getErrorText(),this.errorCallback_?i(this.errorCallback_(o,c)):i(c)}else if(a.canceled){const c=this.appDelete_?Jae():Xae();i(c)}else{const c=Wae();i(c)}};this.canceled_?r(!1,new y_(!1,null,!0)):this.backoffId_=ZCe(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&eEe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class y_{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function sEe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function iEe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function oEe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function lEe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function cEe(e,t,r,n,a,s,i=!0,o=!1){const c=Zae(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return oEe(d,t),sEe(d,r),iEe(d,s),lEe(d,n),new aEe(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uEe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dEe(...e){const t=uEe();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(O8())return new Blob(e);throw new _s(rs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fEe(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AEe(e){if(typeof atob>"u")throw XCe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CI{constructor(t,r){this.data=t,this.contentType=r||null}}function hEe(e,t){switch(e){case _A.RAW:return new CI(tse(t));case _A.BASE64:case _A.BASE64URL:return new CI(rse(e,t));case _A.DATA_URL:return new CI(mEe(t),gEe(t))}throw F8()}function tse(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const s=n,i=e.charCodeAt(++r);n=65536|(s&1023)<<10|i&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function pEe(e){let t;try{t=decodeURIComponent(e)}catch{throw D2(_A.DATA_URL,"Malformed data URL.")}return tse(t)}function rse(e,t){switch(e){case _A.BASE64:{const a=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(a||s)throw D2(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case _A.BASE64URL:{const a=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(a||s)throw D2(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=AEe(t)}catch(a){throw a.message.includes("polyfill")?a:D2(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class nse{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw D2(_A.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=xEe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function mEe(e){const t=new nse(e);return t.base64?rse(_A.BASE64,t.rest):pEe(t.rest)}function gEe(e){return new nse(e).contentType}function xEe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,r){let n=0,a="";lz(t)?(this.data_=t,n=t.size,a=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,r){if(lz(this.data_)){const n=this.data_,a=fEe(n,t,r);return a===null?null:new Oh(a)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Oh(n,!0)}}static getBlob(...t){if(O8()){const r=t.map(n=>n instanceof Oh?n.data_:n);return new Oh(dEe.apply(null,r))}else{const r=t.map(i=>$T(i)?hEe(_A.RAW,i).data:i.data_);let n=0;r.forEach(i=>{n+=i.byteLength});const a=new Uint8Array(n);let s=0;return r.forEach(i=>{for(let o=0;o<i.length;o++)a[s++]=i[o]}),new Oh(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(e){let t;try{t=JSON.parse(e)}catch{return null}return nEe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vEe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function bEe(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function ase(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yEe(e,t){return t}class Pl{constructor(t,r,n,a){this.server=t,this.local=r||t,this.writable=!!n,this.xform=a||yEe}}let w_=null;function wEe(e){return!$T(e)||e.length<2?e:ase(e)}function P8(){if(w_)return w_;const e=[];e.push(new Pl("bucket")),e.push(new Pl("generation")),e.push(new Pl("metageneration")),e.push(new Pl("name","fullPath",!0));function t(s,i){return wEe(i)}const r=new Pl("name");r.xform=t,e.push(r);function n(s,i){return i!==void 0?Number(i):i}const a=new Pl("size");return a.xform=n,e.push(a),e.push(new Pl("timeCreated")),e.push(new Pl("updated")),e.push(new Pl("md5Hash",null,!0)),e.push(new Pl("cacheControl",null,!0)),e.push(new Pl("contentDisposition",null,!0)),e.push(new Pl("contentEncoding",null,!0)),e.push(new Pl("contentLanguage",null,!0)),e.push(new Pl("contentType",null,!0)),e.push(new Pl("metadata","customMetadata",!0)),w_=e,w_}function CEe(e,t){function r(){const n=e.bucket,a=e.fullPath,s=new Hl(n,a);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:r})}function EEe(e,t,r){const n={};n.type="file";const a=r.length;for(let s=0;s<a;s++){const i=r[s];n[i.local]=i.xform(n,t[i.server])}return CEe(n,e),n}function sse(e,t,r){const n=D8(t);return n===null?null:EEe(e,n,r)}function SEe(e,t,r,n){const a=D8(t);if(a===null||!$T(a.downloadTokens))return null;const s=a.downloadTokens;if(s.length===0)return null;const i=encodeURIComponent;return s.split(",").map(u=>{const d=e.bucket,f=e.fullPath,h="/b/"+i(d)+"/o/"+i(f),p=Hx(h,r,n),g=Zae({alt:"media",token:u});return p+g})[0]}function ise(e,t){const r={},n=t.length;for(let a=0;a<n;a++){const s=t[a];s.writable&&(r[s.server]=e[s.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz="prefixes",uz="items";function _Ee(e,t,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[cz])for(const a of r[cz]){const s=a.replace(/\/$/,""),i=e._makeStorageReference(new Hl(t,s));n.prefixes.push(i)}if(r[uz])for(const a of r[uz]){const s=e._makeStorageReference(new Hl(t,a.name));n.items.push(s)}return n}function NEe(e,t,r){const n=D8(r);return n===null?null:_Ee(e,t,n)}class Fm{constructor(t,r,n,a){this.url=t,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(e){if(!e)throw F8()}function R8(e,t){function r(n,a){const s=sse(e,a,t);return PA(s!==null),s}return r}function kEe(e,t){function r(n,a){const s=NEe(e,t,a);return PA(s!==null),s}return r}function TEe(e,t){function r(n,a){const s=sse(e,a,t);return PA(s!==null),SEe(s,a,e.host,e._protocol)}return r}function iy(e){function t(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=$Ce():a=HCe():r.getStatus()===402?a=QCe(e.bucket):r.getStatus()===403?a=VCe(e.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return t}function L8(e){const t=iy(e);function r(n,a){let s=t(n,a);return n.getStatus()===404&&(s=UCe(e.path)),s.serverResponse=a.serverResponse,s}return r}function BEe(e,t,r){const n=t.fullServerUrl(),a=Hx(n,e.host,e._protocol),s="GET",i=e.maxOperationRetryTime,o=new Fm(a,s,R8(e,r),i);return o.errorHandler=L8(t),o}function jEe(e,t,r,n,a){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",r.length>0&&(s.delimiter=r),n&&(s.pageToken=n),a&&(s.maxResults=a);const i=t.bucketOnlyServerUrl(),o=Hx(i,e.host,e._protocol),c="GET",u=e.maxOperationRetryTime,d=new Fm(o,c,kEe(e,t.bucket),u);return d.urlParams=s,d.errorHandler=iy(t),d}function IEe(e,t,r){const n=t.fullServerUrl(),a=Hx(n,e.host,e._protocol),s="GET",i=e.maxOperationRetryTime,o=new Fm(a,s,TEe(e,r),i);return o.errorHandler=L8(t),o}function FEe(e,t){const r=t.fullServerUrl(),n=Hx(r,e.host,e._protocol),a="DELETE",s=e.maxOperationRetryTime;function i(c,u){}const o=new Fm(n,a,i,s);return o.successCodes=[200,204],o.errorHandler=L8(t),o}function OEe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function ose(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=OEe(null,t)),n}function lse(e,t,r,n,a){const s=t.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function o(){let E="";for(let k=0;k<2;k++)E=E+Math.random().toString().slice(2);return E}const c=o();i["Content-Type"]="multipart/related; boundary="+c;const u=ose(t,n,a),d=ise(u,r),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",p=Oh.getBlob(f,n,h);if(p===null)throw Yae();const g={name:u.fullPath},x=Hx(s,e.host,e._protocol),v="POST",y=e.maxUploadRetryTime,w=new Fm(x,v,R8(e,r),y);return w.urlParams=g,w.headers=i,w.body=p.uploadData(),w.errorHandler=iy(t),w}class A4{constructor(t,r,n,a){this.current=t,this.total=r,this.finalized=!!n,this.metadata=a||null}}function M8(e,t){let r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch{PA(!1)}return PA(!!r&&(t||["active"]).indexOf(r)!==-1),r}function DEe(e,t,r,n,a){const s=t.bucketOnlyServerUrl(),i=ose(t,n,a),o={name:i.fullPath},c=Hx(s,e.host,e._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},f=ise(i,r),h=e.maxUploadRetryTime;function p(x){M8(x);let v;try{v=x.getResponseHeader("X-Goog-Upload-URL")}catch{PA(!1)}return PA($T(v)),v}const g=new Fm(c,u,p,h);return g.urlParams=o,g.headers=d,g.body=f,g.errorHandler=iy(t),g}function PEe(e,t,r,n){const a={"X-Goog-Upload-Command":"query"};function s(u){const d=M8(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{PA(!1)}f||PA(!1);const h=Number(f);return PA(!isNaN(h)),new A4(h,n.size(),d==="final")}const i="POST",o=e.maxUploadRetryTime,c=new Fm(r,i,s,o);return c.headers=a,c.errorHandler=iy(t),c}const dz=256*1024;function REe(e,t,r,n,a,s,i,o){const c=new A4(0,0);if(i?(c.current=i.current,c.total=i.total):(c.current=0,c.total=n.size()),n.size()!==c.total)throw qCe();const u=c.total-c.current;let d=u;a>0&&(d=Math.min(d,a));const f=c.current,h=f+d;let p="";d===0?p="finalize":u===d?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},x=n.slice(f,h);if(x===null)throw Yae();function v(k,B){const j=M8(k,["active","final"]),C=c.current+d,N=n.size();let I;return j==="final"?I=R8(t,s)(k,B):I=null,new A4(C,N,j==="final",I)}const y="POST",w=t.maxUploadRetryTime,E=new Fm(r,y,v,w);return E.headers=g,E.body=x.uploadData(),E.progressCallback=o||null,E.errorHandler=iy(e),E}const mc={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function EI(e){switch(e){case"running":case"pausing":case"canceling":return mc.RUNNING;case"paused":return mc.PAUSED;case"success":return mc.SUCCESS;case"canceled":return mc.CANCELED;case"error":return mc.ERROR;default:return mc.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LEe{constructor(t,r,n){if(rEe(t)||r!=null||n!=null)this.next=t,this.error=r??void 0,this.complete=n??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class MEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qg.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qg.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qg.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,a,s){if(this.sent_)throw vw("cannot .send() more than once");if(C0(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class UEe extends MEe{initXhr(){this.xhr_.responseType="text"}}function Dh(){return new UEe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QEe{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,r,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=r,this._metadata=n,this._mappings=P8(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(rs.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(ese(a.status,[]))if(s)a=Wae();else{this.sleepTime=Math.max(this.sleepTime*2,MCe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(rs.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,s)=>{this._resolve=a,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return r=>this._updateProgress(t+r)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,n])=>{switch(this._state){case"running":t(r,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,r)=>{const n=DEe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(n,Dh,t,r);this._request=a,a.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((r,n)=>{const a=PEe(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(a,Dh,r,n);this._request=s,s.getPromise().then(i=>{i=i,this._request=void 0,this._updateProgress(i.current),this._needToFetchStatus=!1,i.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=dz*this._chunkMultiplier,r=new A4(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((a,s)=>{let i;try{i=REe(this._ref._location,this._ref.storage,n,this._blob,t,this._mappings,r,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const o=this._ref.storage._makeRequest(i,Dh,a,s,!1);this._request=o,o.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){dz*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,r)=>{const n=BEe(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(n,Dh,t,r);this._request=a,a.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,r)=>{const n=lse(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(n,Dh,t,r);this._request=a,a.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const r=this._transferred;this._transferred=t,this._transferred!==r&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=t,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Xae(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=EI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,r,n,a){const s=new LEe(r||void 0,n||void 0,a||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,r){return this._promise.then(t,r)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const r=this._observers.indexOf(t);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(EI(this._state)){case mc.SUCCESS:Bv(this._resolve.bind(null,this.snapshot))();break;case mc.CANCELED:case mc.ERROR:const r=this._reject;Bv(r.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(EI(this._state)){case mc.RUNNING:case mc.PAUSED:t.next&&Bv(t.next.bind(t,this.snapshot))();break;case mc.SUCCESS:t.complete&&Bv(t.complete.bind(t))();break;case mc.CANCELED:case mc.ERROR:t.error&&Bv(t.error.bind(t,this._error))();break;default:t.error&&Bv(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,r){this._service=t,r instanceof Hl?this._location=r:this._location=Hl.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new mx(t,r)}get root(){const t=new Hl(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ase(this._location.path)}get storage(){return this._service}get parent(){const t=vEe(this._location.path);if(t===null)return null;const r=new Hl(this._location.bucket,t);return new mx(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw YCe(t)}}function HEe(e,t,r){e._throwIfRoot("uploadBytes");const n=lse(e.storage,e._location,P8(),new Oh(t,!0),r);return e.storage.makeRequestWithTokens(n,Dh).then(a=>({metadata:a,ref:e}))}function $Ee(e,t,r){return e._throwIfRoot("uploadBytesResumable"),new QEe(e,new Oh(t),r)}function VEe(e){const t={prefixes:[],items:[]};return cse(e,t).then(()=>t)}async function cse(e,t,r){const a=await zEe(e,{pageToken:r});t.prefixes.push(...a.prefixes),t.items.push(...a.items),a.nextPageToken!=null&&await cse(e,t,a.nextPageToken)}function zEe(e,t){t!=null&&typeof t.maxResults=="number"&&UD("options.maxResults",1,1e3,t.maxResults);const r=t||{},n=jEe(e.storage,e._location,"/",r.pageToken,r.maxResults);return e.storage.makeRequestWithTokens(n,Dh)}function GEe(e){e._throwIfRoot("getDownloadURL");const t=IEe(e.storage,e._location,P8());return e.storage.makeRequestWithTokens(t,Dh).then(r=>{if(r===null)throw WCe();return r})}function KEe(e){e._throwIfRoot("deleteObject");const t=FEe(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Dh)}function qEe(e,t){const r=bEe(e._location.path,t),n=new Hl(e._location.bucket,r);return new mx(e.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WEe(e){return/^[A-Za-z]+:\/\//.test(e)}function XEe(e,t){return new mx(e,t)}function use(e,t){if(e instanceof U8){const r=e;if(r._bucket==null)throw KCe();const n=new mx(r,r._bucket);return t!=null?use(n,t):n}else return t!==void 0?qEe(e,t):e}function YEe(e,t){if(t&&WEe(t)){if(e instanceof U8)return XEe(e,t);throw MD("To use ref(service, url), the first argument must be a Storage instance.")}else return use(e,t)}function fz(e,t){const r=t==null?void 0:t[qae];return r==null?null:Hl.makeFromBucketSpec(r,e)}function JEe(e,t,r,n={}){e.host=`${t}:${r}`;const a=C0(t);a&&(fT(`https://${e.host}/b`),AT("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:s}=n;s&&(e._overrideAuthToken=typeof s=="string"?s:Sre(s,e.app.options.projectId))}class U8{constructor(t,r,n,a,s,i=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=i,this._bucket=null,this._host=Kae,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RCe,this._maxUploadRetryTime=LCe,this._requests=new Set,a!=null?this._bucket=Hl.makeFromBucketSpec(a,this._host):this._bucket=fz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Hl.makeFromBucketSpec(this._url,t):this._bucket=fz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){UD("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){UD("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(nu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new mx(this,t)}_makeRequest(t,r,n,a,s=!0){if(this._deleted)return new JCe(Jae());{const i=cEe(t,this._appId,n,a,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,a).getPromise()}}const Az="@firebase/storage",hz="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dse="storage";function Q8(e,t,r){return e=aa(e),HEe(e,t,r)}function ZEe(e,t,r){return e=aa(e),$Ee(e,t,r)}function eSe(e){return e=aa(e),VEe(e)}function VT(e){return e=aa(e),GEe(e)}function tSe(e){return e=aa(e),KEe(e)}function _E(e,t){return e=aa(e),YEe(e,t)}function H8(e=hT(),t){e=aa(e);const n=pE(e,dse).getImmediate({identifier:t}),a=LL("storage");return a&&rSe(n,...a),n}function rSe(e,t,r,n={}){JEe(e,t,r,n)}function nSe(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new U8(r,n,a,t,Dx)}function aSe(){lm(new r0(dse,nSe,"PUBLIC").setMultipleInstances(!0)),Ad(Az,hz,""),Ad(Az,hz,"esm2020")}aSe();const sSe={apiKey:"AIzaSyAfL9dpeLfpWQPg4orpFSh3X5dzXrSsBwc",authDomain:"planificador-145df.firebaseapp.com",projectId:"planificador-145df",storageBucket:"planificador-145df.firebasestorage.app",messagingSenderId:"1022861144167",appId:"1:1022861144167:web:7c277dd701dad5986864c2",measurementId:"G-LKJRFMVC9F"},$8=QL(sSe),NE=une($8),Lr=C8($8),V8=H8($8),fse=Object.freeze(Object.defineProperty({__proto__:null,auth:NE,db:Lr,storage:V8},Symbol.toStringTag,{value:"Module"})),iSe=async(e,t)=>{try{return(await mbe(NE,e,t)).user}catch(r){throw console.error("Error en loginUser helper:",r),r}},SI=async()=>{try{await vbe(NE)}catch(e){throw console.error("Error en logoutUser helper:",e),e}},oSe=async e=>{try{await pbe(NE,e)}catch(t){throw console.error("Error en resetPassword helper:",t),t}},Ase=async e=>{try{const t=dr(Lr,"usuarios",e),r=await Ux(t);return r.exists()?{id:r.id,...r.data()}:(console.warn(`No se encontró perfil en Firestore para: ${e}`),null)}catch(t){throw console.error("Error en getUserProfile helper:",t),t}};var Yt=(e=>(e.SUBDIRECCION="SUBDIRECCION",e.PROFESORADO="PROFESORADO",e.COORDINACION_TP="COORDINACION_TP",e.ESTUDIANTE="ESTUDIANTE",e))(Yt||{}),xn=(e=>(e.EVALUACION="Evaluación",e.ACTO="Acto",e.ACTIVIDAD_FOCALIZADA="Actividad Focalizada",e.SALIDA_PEDAGOGICA="Salida Pedagógica",e))(xn||{}),Bg=(e=>(e.PRUEBA_PARCIAL="Prueba parcial",e.GUIA_APRENDIZAJE="Guía de Aprendizaje",e.RUBRICA="Rúbrica",e.PAUTA_COTEJO="Pauta de Cotejo",e))(Bg||{});const lSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m-1 4h1m5-4h1m-1 4h1"})}),cSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),fi="w-6 h-6",zT="w-24 h-24",z8=()=>l.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo Gestión Pedagógica LIR",className:"w-32 h-32 object-contain"}),uSe=()=>l.jsxs("svg",{className:"w-10 h-10 text-amber-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M9 18h6"}),l.jsx("path",{d:"M10 22h4"}),l.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 3 2 5 2 7h10c0-2 2-4 2-7a7 7 0 0 0-7-7z"})]}),dSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),fSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),o2=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),l2=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),hse=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),ASe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:zT,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125z"})}),hSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:zT,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),pSe=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:zT,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 010 1.255c-.008.378.137.75.43.99l1.004.828c.421.346.564.95.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.68 6.68 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.68 6.68 0 01-.22-.127c-.325-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.369-.491l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 010-1.255c.008-.378-.137-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),mSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:zT,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-2.072-1.036A48.257 48.257 0 0112 10.045a48.258 48.258 0 0110.332-1.036l-2.072 1.036m-16.425 0a48.27 48.27 0 00-2.223 2.218c.958.056 1.91.118 2.857.185m16.425 0c.947-.067 1.9-.129 2.857-.185a48.27 48.27 0 00-2.223-2.218m-12.182 0A11.947 11.947 0 0112 8.636a11.947 11.947 0 014.09 1.511"})}),gSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),pz=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),C_=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),_I=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),E_=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),NI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),mz=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),xSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})}),vSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),bSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),ySe=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),S_=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l9-5-9-5-9 5 9 5z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14v6"})]}),wSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),kI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m0 18a9 9 0 009-9m-9 9a9 9 0 00-9-9"})}),CSe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:fi,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.528-1.036.94-2.197 1.088-3.386l-.7M11.42 15.17l-1.06-1.06a4.5 4.5 0 01-5.656-5.656l-1.06 1.06c-1.37.66-2.58 1.6-3.58 2.75a4.5 4.5 0 00-1.06 5.656l1.06 1.06c1.15.998 2.52 1.93 3.99 2.58l1.06-1.06a4.5 4.5 0 015.656-5.656l3.032 2.496m-3.582-2.58a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06m-3.032-2.496a4.5 4.5 0 00-5.656 5.656l1.06-1.06a4.5 4.5 0 015.656-5.656l1.06 1.06"})}),ESe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:fi,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),gz=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:fi,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-1.125 0-2.25 1.125-2.25 2.25v15c0 1.125 1.125 2.25 2.25 2.25h11.25c1.125 0 2.25-1.125 2.25-2.25v-9.75M10.125 2.25c.621 0 1.125.504 1.125 1.125v3.375c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125v-3.375c0-.621.504-1.125 1.125-1.125h1.5zM17.25 10.5h.375c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125h-.375m0-3.75V6.375c0-.621-.504-1.125-1.125-1.125h-1.5c-.621 0-1.125.504-1.125 1.125v3.375c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-1.5m-6.375 5.25v-1.5c0-.621.504-1.125 1.125-1.125h.375c.621 0 1.125.504 1.125 1.125v1.5m0 3.75V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5m6.375 0V16.5c0-.621-.504-1.125-1.125-1.125h-.375a1.125 1.125 0 00-1.125 1.125v1.5"})}),SSe=[{id:Yt.SUBDIRECCION,label:"Subdirección Pedagógica",icon:l.jsx(ASe,{})},{id:Yt.PROFESORADO,label:"Profesorado",icon:l.jsx(hSe,{})},{id:Yt.COORDINACION_TP,label:"Coordinación TP",icon:l.jsx(pSe,{})},{id:Yt.ESTUDIANTE,label:"Estudiantes",icon:l.jsx(mSe,{})}],_Se={[Yt.SUBDIRECCION]:[{name:"Dashboard",icon:l.jsx(gSe,{})},{name:"Administración",icon:l.jsx(ySe,{})},{name:"Seguimiento Curricular",icon:l.jsx(ESe,{})},{name:"Acompañamiento docente",icon:l.jsx(bSe,{})},{name:"Análisis Taxonómico",icon:l.jsx(gz,{})},{name:"Interdisciplinario",icon:l.jsx(kI,{})},{name:"Registro de inasistencias y reemplazos docentes",icon:l.jsx(pz,{})},{name:"Crear horarios",icon:l.jsx(_I,{})},{name:"Seguimiento de acciones pedagógicas",icon:l.jsx(E_,{})},{name:"Inclusión",icon:l.jsx(S_,{})},{name:"Calendario Académico",icon:l.jsx(C_,{})},{name:"Muro de Anuncios",icon:l.jsx(o2,{})},{name:"Mensajería Interna",icon:l.jsx(l2,{})},{name:"Generador de Actas",icon:l.jsx(NI,{})}],[Yt.PROFESORADO]:[{name:"Planificación",icon:l.jsx(mz,{})},{name:"Mis Acompañamientos",icon:l.jsx(wSe,{})},{name:"Recursos de Aprendizaje",icon:l.jsx(xSe,{})},{name:"Análisis Taxonómico",icon:l.jsx(gz,{})},{name:"Interdisciplinario",icon:l.jsx(kI,{})},{name:"Inclusión",icon:l.jsx(S_,{})},{name:"Actividades Remotas",icon:l.jsx(vSe,{})},{name:"Evaluación de Aprendizajes",icon:l.jsx(NI,{})},{name:"Evaluaciones Formativas",icon:l.jsx(E_,{})},{name:"Desarrollo Profesional",icon:l.jsx(S_,{})},{name:"Evaluación de Competencias",icon:l.jsx(cSe,{})},{name:"Calendario Académico",icon:l.jsx(C_,{})},{name:"Muro de Anuncios",icon:l.jsx(o2,{})},{name:"Mensajería Interna",icon:l.jsx(l2,{})},{name:"Generador de Actas",icon:l.jsx(pz,{})}],[Yt.COORDINACION_TP]:[{name:"Seguimiento Dual",icon:l.jsx(E_,{})},{name:"Asistencia Dual",icon:l.jsx(_I,{})},{name:"Pañol",icon:l.jsx(CSe,{})},{name:"Gestión de Empresas",icon:l.jsx(lSe,{})},{name:"Calendario Académico",icon:l.jsx(C_,{})},{name:"Muro de Anuncios",icon:l.jsx(o2,{})},{name:"Mensajería Interna",icon:l.jsx(l2,{})},{name:"Alternancia TP",icon:"🔄"},{name:"Desarrollo Profesional",icon:l.jsx(S_,{})},{name:"Generador de Actas",icon:l.jsx(NI,{})}],[Yt.ESTUDIANTE]:[{name:"Auto-aprendizaje",icon:l.jsx(mz,{})},{name:"Evaluación Formativa",icon:l.jsx(E_,{})},{name:"Tareas Interdisciplinarias",icon:l.jsx(kI,{})},{name:"Asistencia a Empresa",icon:l.jsx(_I,{})},{name:"Calendario Académico",icon:l.jsx(C_,{})},{name:"Muro de Anuncios",icon:l.jsx(o2,{})},{name:"Mensajería Interna",icon:l.jsx(l2,{})}]},xz=["1º Medio","2º Medio","3º Medio","4º Medio"],po=["Lengua y Literatura","Matemática","Inglés","Filosofía","Historia y Geografía","Educación Ciudadana","Ciencias","Ciencias para la Ciudadanía","Artes","Música","Educación Física","Orientación","Mecánica Industrial","Mecánica Automotriz","Emprendimiento","Tecnología","Pensamiento Lógico","Competencia Lectora"],Kl=["1ºA","1ºB","1ºC","1ºD","1ºE","2ºA","2ºB","2ºC","2ºD","3ºA","3ºB","3ºC","3ºD","4ºA","4ºB","4ºC","4ºD"],QD=["Nelson Laubreaux","Julian Seguel","Martin Moya","Leonel Moya","Miguel Becerra"],U1={[xn.EVALUACION]:{label:"Evaluación",icon:"📝",color:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"},[xn.ACTO]:{label:"Acto",icon:"🏛️",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"},[xn.ACTIVIDAD_FOCALIZADA]:{label:"Act. Focalizada",icon:"🎯",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},[xn.SALIDA_PEDAGOGICA]:{label:"Salida Pedagógica",icon:"🚌",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}},NSe=Object.values(Bg),TI=["Humanidades","TP","Ciencias","Interdisciplinario","Gestión Pedagógica","Equipo Directivo","Equipo de Gestión","Consejo Escolar"],BI=["Vinculado","Desvinculado","En proceso","Empresa"],Wg=["3ºA","3ºB","3ºC","3ºD","4ºA","4ºB","4ºC","4ºD"],kSe=["Quiz","Comprensión de Lectura","Términos Pareados","Desarrollo"],h4=["Discapacidad Intelectual Leve","Funcionamiento Intelectual Limítrofe","Trastorno Déficit Atencional (TDA)","Trastorno Déficit Atencional con Hiperactividad (TDAH)","Trastorno del Lenguaje","Dificultad Específica del Aprendizaje","Dificultad Específica de Aprendizaje en Matemáticas","Dificultades de Aprendizaje","Problemas de Idioma y de Escolarización"],P2=[{domain:"Dominio A: Preparación de la Enseñanza",criteria:[{name:"Conocimiento de la disciplina",levels:["Demuestra conocimiento parcial por la disciplina que enseña, evidenciando manejo poco preciso y confuso de los conceptos centrales en los que se articula la clase.","Conoce los principios centrales de la disciplina que enseña, no obstante evidencia falencias en el tratamiento conceptual a la luz de actualizaciones epistemológicas o metodológicas en su área.","Conoce y comprende los principios y conceptos centrales de las disciplinas que enseña, atendiendo a la permanente actualización curricular en su área.","Conoce, comprende y cuestiona los principios centrales de la disciplina que enseña a la luz de nuevos paradigmas epistemológicos o teóricos, permitiendo que el trabajo o la exposición conceptual invite al desarrollo del pensamiento crítico o la investigación continua."]},{name:"Conocimiento de los estudiantes",levels:["No conoce las fortalezas y debilidades de sus estudiantes, evidenciando una planificación o gestión de la clase estándar, sin atender a particularidades.","Conoce las fortalezas y debilidades de sus estudiantes de manera parcial en relación al contexto y características del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que enseña en consonancia con el contexto y características propias del medio.","Conoce las fortalezas y debilidades de sus estudiantes respecto de los contenidos que enseña en consonancia con el contexto y características propias del medio, siendo capaz de desarrollar diversas explicaciones y/o actividades para un mismo objetivo."]},{name:"Selección de recursos de aprendizaje",levels:["Los recursos de aprendizaje seleccionados demuestran desconocimiento respecto a las características de sus estudiantes y a la relación con el contenido y objetivo de la clase.","Conoce parcialmente distintos recursos didácticos de aprendizaje, siendo congruentes al contenido pero no a las características de sus estudiantes, o bien, siendo pertinentes a sus particularidades pero alejándose de los objetivos y contenidos de la clase.","Conoce y selecciona distintos recursos didácticos de aprendizaje congruentes con la complejidad de los contenidos y las características de sus alumnos.","Conoce y selecciona distintos recursos didácticos de aprendizaje que promueven el desarrollo de habilidades transversales y permiten asegurar la adquisición de aprendizajes profundos, todo en consonancia con las particularidades de sus estudiantes."]},{name:"Estrategias de evaluación",levels:["Establece estrategias de evaluación incongruentes con los contenidos o el desarrollo cognitivo de sus estudiantes, omitiendo además, las metodologías empleadas previamente en clases.","Establece estrategias de evaluación coherentes con los contenidos pero no con la complejidad, o bien, con una complejidad adecuada al desarrollo cognitivo de los estudiantes, pero no necesariamente a los contenidos y objetivos desarrollados previamente en clases.","Establece estrategias de evaluación coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases.","Establece estrategias de evaluación coherentes con la complejidad de los contenidos involucrados y con las actividades previamente desarrolladas en clases. Dichas estrategias promueven la reflexión, y, la retroalimentación descriptiva."]},{name:"Estrategias de enseñanza-aprendizaje",levels:["*Los docentes establecen estrategias generales de apoyo sin considerar los distintos niveles de dominio de las competencias ni tampoco, las necesidades de los estudiantes","*Los docentes diseñan e implementan estrategias de enseñanza- aprendizaje efectivas, pero sin considerar las competencias involucradas en el perfil de egreso, o los recursos disponibles, o los espacios dentro fuera y del aula.","*Los docentes diseñan e implementan estrategias efectivas de enseñanza-aprendizaje para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula.","*Los docentes diseñan e implementan estrategias avanzadas de enseñanza-aprendizaje tales como (ABP, ABD, Gamificación, Aprendizaje basado en juegos) para el desarrollo de competencias definidas en el perfil de egreso de cada especialidad considerando el contexto educativo, los recursos de aprendizaje disponibles y los espacios de aprendizaje dentro y fuera del aula."]}]},{domain:"Dominio B: Creación de ambiente propicio para el aprendizaje",criteria:[{name:"Clima de respeto y empatía",levels:["Establece un clima centrado exclusivamente en las normas, pero no da cuenta de vínculos fundados en el respeto y/o en la empatía.","Establece un clima de relaciones interpersonales respetuosas y empáticas con la mayoría de sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empáticas con todos sus alumnos.","Establece un clima de relaciones interpersonales respetuosas y empáticas con todos sus alumnos, generando situaciones concretas de cooperación y ayuda mutua entre él/ella y los/las estudiantes, o entre los/las propios estudiantes."]},{name:"Interés por las especialidades",levels:["No transmite interés por las especialidades, centrándose exclusivamente en su área de desempeño.","Transmite interés general por las especialidades, no obstante no es capaz de acercarse a las características concretas de los módulos.","Transmite interés por los contenidos y actividades de las asignaturas, módulos y especialidades.","Transmite interés por los contenidos y actividades de las asignaturas, módulos y especialidades, ejemplificando o relacionando de manera concreta, con situaciones reales en dicha área de desempeño."]},{name:"Actitudes de compromiso y solidaridad",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Promueve implícitamente actitudes de compromiso y solidaridad entre los alumnos.","Promueve explícitamente actitudes de compromiso y solidaridad entre los alumnos, a través de estrategias, instrucciones o análisis que tiendan a ello.","Promueve explícitamente actitudes de compromiso y solidaridad entre los alumnos, a través de estrategias, instrucciones o análisis que tiendan a ello, generando experiencias concretas para desarrollar estas habilidades y valores."]},{name:"Situaciones de aprendizaje",levels:["Presenta situaciones de aprendizaje estándar que implican un desarrollo mecánico y que no tienden hacia la consolidación de aprendizajes esperados o no movilizan a los estudiantes.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, no obstante no atiende a sus características personales y/o motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus características personales y motivacionales.","Presenta situaciones de aprendizaje desafiantes y apropiadas para sus alumnos, atendiendo a sus características personales y motivacionales, integrando a sus clases actividades que complementan o profundizan aprendizajes en los casos que sean necesarios."]},{name:"Motivación por el aprendizaje",levels:["No transmite motivación por el aprendizaje, la búsqueda o la indagación.","Transmite una motivación positiva por el aprendizaje, no obstante no insta a los estudiantes a indagar o buscar de manera autónoma","Transmite una motivación positiva por el aprendizaje, la indagación y la búsqueda.","Transmite una motivación positiva por el aprendizaje, la indagación y la búsqueda, ejemplificando o comunicando experiencias reales que permitan valorar estas actitudes."]},{name:"Normas de comportamiento",levels:["No establece normas de comportamento para sus estudiantes.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, no obstante, no es sistemático en su cumplimiento.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado.","Establece normas de comportamento que son conocidas y comprensibles para sus alumnos, creando y manteniendo un ambiente de aprendizaje organizado, permitiendo altos niveles de participación."]},{name:"Respuestas frente al quiebre de normas",levels:["No genera respuestas frente al quiebre de las normas de convivencia.","Genera respuestas efectivas frente al quiebre de las normas de convivencia, pero debe mejorar la asertividad.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia.","Genera respuestas asertivas y efectivas frente al quiebre de las normas de convivencia, que entregan sentido de la importancia de los acuerdos y las normas previamente comunicadas."]}]},{domain:"Dominio C: Enseñanza para el aprendizaje de todos los estudiantes",criteria:[{name:"Presentación de objetivos",levels:["Al iniciar las clases no presenta el objetivo o sólo lo enuncia sin profundizar en él.","Al iniciar las clases presenta el objetivo de aprendizaje y el propósito, pero no logra dar cuenta de la relación con el futuro laboral de los estudiantes o con otras áreas del conocimiento.","Al iniciar las clases presentan el objetivo de aprendizaje, relacionándolo con el propósito que posee desde la disciplina, otras áreas del conocimiento o para su desempeño laboral futuro.","Al iniciar las clases presentan el objetivo de aprendizaje involucrando a los estudiantes a través de la relación con el propósito que posee desde la disciplina, otras áreas del conocimiento o para su desempeño laboral futuro."]},{name:"Clase en función de objetivos",levels:["No realiza su clase en función de los objetivos de aprendizaje estipulados en las bases curriculares, o bien, los incorpora pero sin mantener coherencia con las habilidades, contenidos o competencias del currículum nacional","Realiza sus clases en función de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando sólo uno de los siguientes elementos: desarrollo de competencias, habilidades, conocimientos o actitudes establecidos en el currículum nacional.","Realiza sus clases en función de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currículum nacional.","Realiza sus clases en función de los Objetivos de Aprendizaje estipulados en las Bases Curriculares, considerando el desarrollo de competencias, habilidades, conocimientos y actitudes establecidos en el currículum nacional y en el PEI."]},{name:"Introducción de nueva información",levels:["Promueve actitudes de buen comportamento en el aula, no obstante, no incorpora ni la solidaridad ni el compromiso con el otro ni con ellos mismos, en sus clases.","Los docentes introducen a los estudiantes a nueva información, sin considerar el desarrollo de habilidades y actitudes.","Los docentes introducen a sus estudiantes a nueva información y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos.","Los docentes introducen a sus estudiantes a nueva información y al desarrollo de nuevas habilidades y actitudes, mediante estrategias efectivas y variadas, que consideran sus conocimientos previos y su realidad inmediata."]},{name:"Desarrollo de contenidos",levels:["Desarrolla los contenidos de la clase sin precisión conceptual ni claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual, pero sin una extrapolación que permita entregar claridad a los estudiantes.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad.","Desarrolla los contenidos de la clase con rigurosidad conceptual y claridad, recurriendo al ejemplo y a la vida cotidiana para anclar el conocimiento."]},{name:"Retroalimentación",levels:["No retroalimenta a los estudiantes","Retroalimentan constantemente a sus estudiantes sólo de modo general.","Retroalimentan constantemente a sus estudiantes sobre su desempeño, de manera individual o grupal.","Retroalimentan constantemente a sus estudiantes sobre su desempeño, de manera individual o grupal, a través de preguntas o instancias que permiten modelar su aprendizaje."]},{name:"Monitoreo del aprendizaje",levels:["No monitorea el grado de comprensión y desempeño de sus estudiantes.","Monitorea parcialmente el grado de comprensión y desempeño de sus estudiantes, no siempre a través de evidencia.","Monitorea constantemente el grado de comprensión y el desempeño de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que están aprendiendo.","Monitorea constantemente y en diferentes instancias el grado de comprensión y el desempeño de sus estudiantes durante el desarrollo de las clases para obtener evidencias acerca de lo que están aprendiendo."]},{name:"Orientación a objetivos transversales",levels:["No enuncia o enuncia de modo incorrecto elementos ligados hacia los objetivos transversales.","Orienta a sus estudiantes hacia temáticas ligadas a los objetivos transversales, no obstante, la orientación es superficial y no predispone la construcción de valores.","Orienta a sus estudiantes hacia temáticas ligadas a los objetivos transversales del currículum, con el fin de favorecer su proceso de construcción de valores.","Orienta a sus estudiantes hacia temáticas ligadas a los objetivos transversales del currículum, con el fin de favorecer su proceso de construcción de valores en consonancia a elementos propios del PEI."]},{name:"Conclusión de la clase",levels:["El docente concluye la clase sin actividad o reactivo hacia los estudiantes.*","El docente concluye la clase con una explicación que resume los contenidos fundamentales, no obstante, no moviliza acciones en los estudiantes, que permitan activar contenidos.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido.","El docente concluye las clases con una actividad breve que permite a sus estudiantes realizar algunas de las siguientes acciones: demostrar, identificar, sintetizar, jerarquizar, formular dudas, conectar o valorar lo aprendido. Incorpora además preguntas de metacognición y/o autoevaluación."]},{name:"Abordaje de errores",levels:["No aborda los errores, únicamente los señala.","Aborda los errores no como fracasos, sino que corrige oportunamente, no obstante no entrega nuevas herramientas para construir de mejor forma nuevos aprendizajes.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje.","Aborda los errores no como fracasos, sino como ocasiones para enriquecer el proceso de aprendizaje a través de estrategias o precisiones claves en virtud de las habilidades o contenidos tratados."]},{name:"Apoyo a todos los estudiantes",levels:["El docente se centra en un grupo objetivo y homogéneo, descuidando la diversidad y las características particulares de todos sus estudiantes.","El docente apoya parcialmente a todos los estudiantes en sus procesos educativos, no obstante no consideran diversas estrategias según nivel de dominio por parte de los estudiantes.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos según el nivel de dominio de las competencias definidas en el perfil de egreso.","El docente apoya a todos los estudiantes en sus procesos educativos, considerando estrategias de apoyo por grupos según el nivel de dominio de las competencias definidas en el perfil de egreso y en consonancia con el PEI."]}]}],pse=["Líder de Proyecto","Secretario/a","Encargado/a de Materiales","Expositor/a","Investigador/a","Editor/a"],__=[{nombre:"Aprendiz Emergente",emoji:"🌱",promedioMin:1,promedioMax:3.9,mensaje:"¡Estás comenzando tu viaje de aprendizaje! Sigue esforzándote."},{nombre:"Explorador del Conocimiento",emoji:"🧭",promedioMin:4,promedioMax:4.9,mensaje:"¡Buen trabajo! Estás construyendo una base sólida."},{nombre:"Arquitecto de Ideas",emoji:"🏛️",promedioMin:5,promedioMax:5.9,mensaje:"¡Excelente! Demuestras un gran dominio de los temas."},{nombre:"Maestro del Saber",emoji:"🎓",promedioMin:6,promedioMax:6.5,mensaje:"¡Impresionante! Tu dedicación te lleva a la excelencia."},{nombre:"Sabio Luminar",emoji:"🌟",promedioMin:6.6,promedioMax:7,mensaje:"¡Extraordinario! Eres una inspiración para tus compañeros."}],TSe=["Mecánica Industrial","Mecánica Automotriz"],BSe=["INACAP","UNAB","DUOC","Universidad de Las Américas"],jSe={"Mecánica Automotriz":["3ºA","3ºB","4ºA","4ºB"],"Mecánica Industrial":["3ºC","3ºD","4ºC","4ºD"]},ISe=["Pasantía","Visita","Certificación","Formación en empresa"],FSe={"Mecánica Industrial":["Soldadura industrial","Mantenimiento de herramientas","Medición y verificación","Mecánica de banco","Torneado de piezas y conjuntos mecánicos","Fresado de piezas mecánicas","Taladrado de piezas mecánicas","Rectificado de piezas mecánicas","Fabricación asistida por computador (CNC)"],"Mecánica Automotriz":["Ajuste de motores","Lectura de planos y manuales técnicos","Manejo de residuos y desechos automotrices","Mantenimiento de sistemas de seguridad y confortabilidad","Mantenimiento de sistemas eléctricos y electrónicos","Mantenimiento de motores","Mantenimiento de sistemas hidráulicos y neumáticos","Mantenimiento de los sistemas de transmisión y frenos","Mantenimiento de sistemas de dirección y suspensión","Emprendimiento y empleabilidad"]},OSe={"Mecánica Automotriz":{"Ajuste de motores":["Reparar y probar el funcionamiento de motores (gasolina, diésel, gas e híbridos), incluyendo sistemas de control de emisiones, lubricación y refrigeración, usando herramientas e instrumentos apropiados y siguiendo especificaciones del fabricante."],"Lectura de planos y manuales técnicos":["Leer e interpretar información técnica (manuales, planos, diagramas y normas de emisiones) para resolver diagnósticos y fallas."],"Manejo de residuos y desechos automotrices":["Aplicar procedimientos y normativas de seguridad, higiene y cuidado ambiental en la manipulación y disposición de residuos y desechos automotrices."],"Mantenimiento de sistemas de seguridad y confortabilidad":["Diagnosticar, reparar y mantener sistemas de seguridad (frenos ABS, airbags) y confortabilidad (climatización, cierre centralizado, asientos eléctricos) según especificaciones técnicas."],"Mantenimiento de sistemas eléctricos y electrónicos":["Reemplazar, ajustar y probar sistemas eléctricos y electrónicos automotrices, siguiendo procedimientos y normas internacionales."],"Mantenimiento de motores":["Realizar mantenimiento preventivo y correctivo de motores y sus sistemas asociados, verificando tolerancias y parámetros operativos según especificaciones."],"Mantenimiento de sistemas hidráulicos y neumáticos":["Inspeccionar, diagnosticar y reparar sistemas hidráulicos y neumáticos de vehículos automotrices."],"Mantenimiento de los sistemas de transmisión y frenos":["Verificar, ajustar o reemplazar componentes de transmisión y frenos, según manual del fabricante."],"Mantenimiento de sistemas de dirección y suspensión":["Diagnosticar, alinear y corregir sistemas de dirección y suspensión, cumpliendo normas de seguridad."],"Emprendimiento y empleabilidad":["Desarrollar un proyecto o plan de negocio relacionado con el sector automotriz, aplicando conceptos de gestión, marketing y normativa vigente."]},"Mecánica Industrial":{"Soldadura industrial":["Ejecutar procesos de corte y soldadura (oxiacetileno, arco manual, TIG, MIG) en distintas posiciones y materiales, aplicando normas de seguridad, higiene y cuidado ambiental."],"Mantenimiento de herramientas":["Mantener y reparar herramientas manuales y de máquinas, asegurando su operatividad y prolongando su vida útil."],"Medición y verificación":["Utilizar instrumentos de medición y verificación para controlar dimensiones y tolerancias según planos y especificaciones técnicas."],"Mecánica de banco":["Realizar operaciones manuales de mecanizado, ajuste, limado, roscado y ensamblaje, siguiendo planos y tolerancias indicadas."],"Torneado de piezas y conjuntos mecánicos":["Operar tornos convencionales para fabricar piezas y conjuntos mecánicos, cumpliendo con las especificaciones técnicas y de seguridad."],"Fresado de piezas mecánicas":["Operar fresadoras para fabricar piezas mecánicas, seleccionando herramientas de corte y parámetros de mecanizado adecuados."],"Taladrado de piezas mecánicas":["Ejecutar operaciones de taladrado, escariado y roscado en taladros de banco o columna, cumpliendo especificaciones técnicas y de seguridad."],"Rectificado de piezas mecánicas":["Utilizar rectificadoras para mejorar el acabado y precisión dimensional de piezas mecánicas, cumpliendo tolerancias indicadas."],"Fabricación asistida por computador (CNC)":["Programar y operar máquinas CNC para fabricar piezas mecánicas con precisión, optimizando procesos y aplicando normas de seguridad."]}},Ph={"Liderazgo Curricular":["Planificación y organización del currículo","Asegurar la cobertura y secuenciación de los contenidos","Monitoreo del cumplimiento de los planes de estudio"],"Prácticas Pedagógicas en el Aula":["Estrategias de enseñanza y metodologías activas","Evaluación de los aprendizajes para retroalimentar el proceso","Uso de recursos y tecnologías para apoyar la enseñanza"],"Acompañamiento y Desarrollo Profesional Docente":["Observación de clases y retroalimentación","Planes de formación continua y actualización pedagógica","Fomento de comunidades de aprendizaje docente"],"Monitoreo y Evaluación de los Aprendizajes":["Uso de datos e indicadores para tomar decisiones pedagógicas","Evaluaciones internas y externas","Ajuste de estrategias según resultados y metas de aprendizaje"]},vz=["Pendiente","En Proceso","Cumplida"],bz=["PROFESORADO","SUBDIRECCION","COORDINACION_TP"],DSe=({onLoginAttempt:e,onForgotPasswordRequest:t,error:r})=>{const[n,a]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("login"),u=h=>{h.preventDefault(),e(n,s)},d=h=>{h.preventDefault(),t(n),c("forgot_sent")},f=()=>o==="forgot"?l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrónico Registrado"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:h=>a(h.target.value),placeholder:"Ingrese su correo",className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm"})})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700",children:"Enviar Enlace de Recuperación"})}),l.jsx("div",{className:"text-sm text-center",children:l.jsx("button",{type:"button",onClick:()=>c("login"),className:"font-medium text-amber-600 hover:text-amber-500",children:"Volver a Iniciar Sesión"})})]}):o==="forgot_sent"?l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Revise su Correo"}),l.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Si existe una cuenta asociada a ",l.jsx("strong",{children:n}),", hemos enviado un enlace para restablecer su contraseña."]}),l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"(Para esta simulación, revise la consola del navegador para ver el enlace)."}),l.jsx("button",{type:"button",onClick:()=>{c("login"),a("")},className:"mt-6 font-medium text-amber-600 hover:text-amber-500",children:"← Volver a Iniciar Sesión"})]}):l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Correo Electrónico"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:h=>a(h.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contraseña"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:h=>i(h.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),r&&l.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:l.jsx("p",{children:r})}),l.jsx("div",{className:"text-sm text-center",children:l.jsx("button",{type:"button",onClick:()=>c("forgot"),className:"font-medium text-amber-600 hover:text-amber-500",children:"¿Olvidó su contraseña?"})}),l.jsx("div",{children:l.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-slate-800 hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Ingresar"})})]});return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-slate-100 dark:bg-slate-900",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("div",{className:"mb-4 flex justify-center items-center",children:l.jsx(z8,{})}),l.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:"Gestión Pedagógica LIR"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-lg",children:o==="login"?"Bienvenido/a, por favor inicie sesión":"Recuperación de Contraseña"})]}),l.jsx("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:f()}),l.jsxs("footer",{className:"absolute bottom-4 text-slate-500 dark:text-slate-400 text-sm",children:["© ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]})},N_=({trigger:e,children:t,onOpen:r})=>{const[n,a]=S.useState(!1),s=S.useRef(null),i=()=>{const c=!n;a(c),c&&r&&r()},o=c=>{s.current&&!s.current.contains(c.target)&&a(!1)};return S.useEffect(()=>(document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}),[]),l.jsxs("div",{className:"relative",ref:s,children:[l.jsx("div",{onClick:i,children:e}),n&&l.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-700 rounded-lg shadow-xl border border-slate-200 dark:border-slate-600 z-50 animate-fade-in-up",onClick:()=>a(!1),children:t})]})},yz="usuariosLiceo",PSe=({user:e,onClose:t,onSave:r})=>{const[n,a]=S.useState({nombreCompleto:e.nombreCompleto,email:e.email,fotoUrl:e.fotoUrl||""}),s=o=>{a({...n,[o.target.name]:o.target.value})},i=o=>{o.preventDefault();const c={...e,...n};try{const u=localStorage.getItem(yz);let d=u?JSON.parse(u):[];const f=d.findIndex(h=>h.id===e.id);f>-1?d[f]=c:d.push(c),localStorage.setItem(yz,JSON.stringify(d)),r(c),t()}catch(u){console.error("Failed to save user profile:",u),alert("No se pudo guardar el perfil.")}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:o=>o.stopPropagation(),children:l.jsxs("form",{onSubmit:i,children:[l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Editar Perfil"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fotoUrl",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"URL de la Foto de Perfil"}),l.jsx("input",{type:"url",id:"fotoUrl",name:"fotoUrl",value:n.fotoUrl,onChange:s,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"https://ejemplo.com/foto.jpg"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"nombreCompleto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),l.jsx("input",{type:"text",id:"nombreCompleto",name:"nombreCompleto",value:n.nombreCompleto,onChange:s,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Correo Electrónico"}),l.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:s,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Función"}),l.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:e.profile})]})]})]}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Guardar Cambios"})]})]})})})},wz="usuariosLiceo",RSe=({user:e,onClose:t,onSave:r})=>{const[n,a]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState(null),u=d=>{if(d.preventDefault(),c(null),!n){c("La contraseña no puede estar en blanco.");return}if(n!==s){c("Las contraseñas no coinciden.");return}const f={...e,password:n};try{const h=localStorage.getItem(wz);let p=h?JSON.parse(h):[];const g=p.findIndex(x=>x.id===e.id);g>-1?p[g]=f:p.push(f),localStorage.setItem(wz,JSON.stringify(p)),r(f),t()}catch(h){console.error("Failed to save new password:",h),c("No se pudo guardar la nueva contraseña.")}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md animate-fade-in-up",onClick:d=>d.stopPropagation(),children:l.jsxs("form",{onSubmit:u,children:[l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Configuración de Cuenta"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Usuario"}),l.jsx("p",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-300",children:e.email})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nueva Contraseña"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:n,onChange:d=>a(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Confirmar Nueva Contraseña"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:s,onChange:d=>i(d.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white"})})]}),o&&l.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 text-sm",role:"alert",children:l.jsx("p",{children:o})})]})]}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700",children:"Cambiar Contraseña"})]})]})})})};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LSe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MSe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Cz=e=>{const t=MSe(e);return t.charAt(0).toUpperCase()+t.slice(1)},mse=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),USe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QSe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HSe=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},c)=>S.createElement("svg",{ref:c,...QSe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:mse("lucide",a),...!s&&!USe(o)&&{"aria-hidden":"true"},...o},[...i.map(([u,d])=>S.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(e,t)=>{const r=S.forwardRef(({className:n,...a},s)=>S.createElement(HSe,{ref:s,iconNode:t,className:mse(`lucide-${LSe(Cz(e))}`,`lucide-${e}`,n),...a}));return r.displayName=Cz(e),r};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Se=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],VSe=Gt("activity",$Se);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zSe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],k_=Gt("arrow-left",zSe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GSe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],KSe=Gt("bell-ring",GSe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qSe=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],WSe=Gt("book-marked",qSe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XSe=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],YSe=Gt("book-open-check",XSe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JSe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yf=Gt("book-open",JSe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZSe=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],e_e=Gt("brain-circuit",ZSe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_e=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],xC=Gt("brain",t_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_e=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gse=Gt("briefcase",r_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_e=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],p4=Gt("building-2",n_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_e=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],s_e=Gt("building",a_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],o_e=Gt("calendar-check",i_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hd=Gt("calendar",l_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_e=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],af=Gt("chart-column",c_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_e=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],d_e=Gt("chart-line",u_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_e=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],A_e=Gt("chart-no-axes-column",f_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_e=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],xse=Gt("chart-pie",h_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_e=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vC=Gt("chevron-left",p_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_e=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],G8=Gt("chevron-right",m_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Af=Gt("circle-alert",g_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_e=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],K8=Gt("circle-check-big",x_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mo=Gt("circle-check",v_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],T_=Gt("circle-plus",b_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_e=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],w_e=Gt("clipboard-check",y_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_e=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],gx=Gt("clipboard-list",C_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_e=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lp=Gt("clock",E_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pm=Gt("download",S_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __e=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],N_e=Gt("factory",__e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],T_e=Gt("file-check",k_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_e=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],j_e=Gt("file-pen",B_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_e=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]],F_e=Gt("file-play",I_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],D_e=Gt("file-spreadsheet",O_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hf=Gt("file-text",P_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_e=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]],L_e=Gt("folder-closed",R_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_e=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ez=Gt("folder-open",M_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_e=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],q8=Gt("funnel",U_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_e=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],m4=Gt("gauge",Q_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_e=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],xx=Gt("graduation-cap",H_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_e=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],V_e=Gt("hash",$_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_e=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],vse=Gt("hourglass",z_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],K_e=Gt("image",G_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],W_e=Gt("info",q_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_e=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bse=Gt("layout-dashboard",X_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_e=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],W8=Gt("layers",Y_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_e=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Z_e=Gt("layout-grid",J_e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5e=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],t5e=Gt("layout-list",e5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5e=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Sz=Gt("link-2",r5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5e=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],a5e=Gt("link",n5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5e=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],R2=Gt("list-checks",s5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5e=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mp=Gt("loader-circle",i5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5e=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],l5e=Gt("mail",o5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5e=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],g4=Gt("map-pin",c5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5e=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],d5e=Gt("megaphone",u5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5e=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],A5e=Gt("menu",f5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5e=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],yse=Gt("message-square",h5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5e=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],_z=Gt("notebook-pen",p5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5e=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],g5e=Gt("palette",m5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5e=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],HD=Gt("pen-line",x5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5e=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],X8=Gt("pencil",v5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5e=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],y5e=Gt("percent",b5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pd=Gt("plus",w5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5e=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],E5e=Gt("puzzle",C5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5e=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],wse=Gt("refresh-ccw",S5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5e=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],N5e=Gt("route",_5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5e=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],T5e=Gt("ruler",k5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5e=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],o0=Gt("save",B5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5e=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],jI=Gt("school",j5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5e=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Nz=Gt("scroll-text",I5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],GT=Gt("search",F5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5e=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D5e=Gt("settings",O5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],R5e=Gt("shield-check",P5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5e=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xg=Gt("sparkles",L5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Cse=Gt("square-pen",M5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],$D=Gt("square-plus",U5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5e=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],H5e=Gt("star",Q5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mb=Gt("target",$5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$o=Gt("trash-2",V5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5e=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],x4=Gt("trending-up",z5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5e=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 16h.01",key:"plv8zi"}],["path",{d:"M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z",key:"1ogmi3"}],["path",{d:"M6 12h.01",key:"c2rlol"}],["path",{d:"M6 16h.01",key:"1pmjb7"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}]],K5e=Gt("university",G5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],kE=Gt("upload",q5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],X5e=Gt("user-minus",W5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],J5e=Gt("user-plus",Y5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bC=Gt("user",Z5e);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eNe=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],bw=Gt("users-round",eNe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tNe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ec=Gt("users",tNe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rNe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],jg=Gt("video",rNe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nNe=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],aNe=Gt("wand-sparkles",nNe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sNe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],cN=Gt("wrench",sNe);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iNe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],v4=Gt("x",iNe);async function oNe(e){const t={...e,docenteEmailLower:e.docenteEmail?e.docenteEmail.toLowerCase():e.docenteEmailLower,leida:!1,createdAt:Vi()};return Object.keys(t).forEach(n=>t[n]===void 0&&delete t[n]),(await Bn(wt(Lr,"notificaciones"),t)).id}function lNe(e,t){const r=[];let n=[],a=[];const s=()=>{const i=new Map;[...n,...a].forEach(c=>{c.id&&(i.has(c.id)||i.set(c.id,c))});const o=Array.from(i.values()).sort((c,u)=>{var h,p;const d=(h=c.createdAt)!=null&&h.toDate?c.createdAt.toDate().getTime():0;return((p=u.createdAt)!=null&&p.toDate?u.createdAt.toDate().getTime():0)-d});t(o)};if(e.email){const i=zt(wt(Lr,"notificaciones"),Gr("docenteEmailLower","==",e.email.toLowerCase()),wr("createdAt","desc"));r.push(br(i,o=>{n=o.docs.map(c=>({id:c.id,...c.data()})),s()}))}if(e.nombreCompleto){const i=zt(wt(Lr,"notificaciones"),Gr("docenteNombre","==",e.nombreCompleto),wr("createdAt","desc"));r.push(br(i,o=>{a=o.docs.map(c=>({id:c.id,...c.data()})),s()}))}return()=>r.forEach(i=>i())}async function cNe(e){const t=dr(Lr,"notificaciones",e);await bu(t,{leida:!0})}async function uNe(e){const t=dr(Lr,"notificaciones",e);await hs(t)}const kz="anunciosMuro",Tz="mensajesInternos",Bz="lir-read-status",dNe=({user:e})=>{if(e.fotoUrl)return l.jsx("img",{src:e.fotoUrl,alt:e.nombreCompleto||"Avatar de usuario",className:"h-9 w-9 rounded-full object-cover"});const t=e.nombreCompleto||"",r=String(t).split(" ").filter(n=>n).map(n=>n[0]).join("").toUpperCase();return l.jsx("div",{className:"h-9 w-9 rounded-full bg-amber-500 text-white flex items-center justify-center font-bold",children:r.substring(0,2)})},fNe=({currentUser:e,onLogout:t,onNavigate:r,onUserUpdate:n,onChangeProfile:a,canChangeProfile:s,toggleSidebar:i,unreadMessagesCount:o,refreshUnreadCount:c})=>{const[u,d]=S.useState([]),[f,h]=S.useState([]),[p,g]=S.useState(!1),[x,v]=S.useState(!1),[y,w]=S.useState([]),E=S.useCallback(()=>{try{const I=localStorage.getItem(`${Bz}-${e.id}`);return I?JSON.parse(I):{announcements:[],messages:[]}}catch{return{announcements:[],messages:[]}}},[e.id]),k=S.useCallback(I=>{try{localStorage.setItem(`${Bz}-${e.id}`,JSON.stringify(I))}catch(L){console.error("Failed to set read status:",L)}},[e.id]);S.useEffect(()=>{const I=JSON.parse(localStorage.getItem(kz)||"[]"),L=E();d(I.filter(T=>!L.announcements.includes(T.id)));const O=JSON.parse(localStorage.getItem(Tz)||"[]");h(O.filter(T=>T.para===e.email).sort((T,P)=>new Date(P.fecha).getTime()-new Date(T.fecha).getTime()).slice(0,5))},[e.id,E,o]),S.useEffect(()=>{if(!(e!=null&&e.email))return;const I=lNe({email:e.email,nombreCompleto:e.nombreCompleto},L=>{const O=L.filter(T=>T.tipo&&(T.tipo.toLowerCase()==="pie"||T.tipo==="nueva_intervencion"));w(O)});return()=>I()},[e==null?void 0:e.email,e==null?void 0:e.nombreCompleto]);const B=()=>{const I=E(),L=JSON.parse(localStorage.getItem(kz)||"[]").map(O=>O.id);I.announcements=L,k(I),d([])},j=()=>{const I=E(),O=JSON.parse(localStorage.getItem(Tz)||"[]").filter(T=>T.para===e.email).map(T=>T.id);I.messages=[...new Set([...I.messages,...O])],k(I),c()},C=y.filter(I=>!I.leida).length,N=I=>{var L;try{const O=(L=I.createdAt)!=null&&L.toDate?I.createdAt.toDate():new Date(I.createdAt);return O?O.toLocaleString("es-CL"):""}catch{return""}};return l.jsxs(l.Fragment,{children:[l.jsx("header",{className:"bg-white shadow-md sticky top-0 z-40 h-16",children:l.jsxs("div",{className:"container mx-auto px-4 h-full flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"text-slate-600 dark:text-slate-300 md:hidden mr-2",onClick:i,children:l.jsx(dSe,{})}),l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r("Dashboard"),children:[l.jsxs("svg",{className:"w-8 h-8 text-slate-700 dark:text-slate-200",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6.5A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v13Z",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M16 4.5V17",stroke:"currentColor",strokeWidth:"1.5"})]}),l.jsx("span",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 hidden sm:block",children:"Gestión LIR"})]})]}),l.jsx("div",{className:"flex-1 flex justify-center",children:l.jsx("button",{onClick:()=>r("Calendario Académico"),className:"p-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300",title:"Calendario Académico",children:l.jsx(fSe,{})})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754153206/ChatGPT_Image_2_ago_2025_12_46_35_p.m._qsqj5e.png",alt:"Logo LIR",className:"h-10 w-10 object-contain"})}),l.jsx(N_,{onOpen:B,trigger:l.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Anuncios",children:[l.jsx(o2,{}),u.length>0&&l.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:u.length})]}),children:l.jsxs("div",{className:"p-2",children:[l.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Anuncios Recientes"}),l.jsxs("ul",{className:"mt-1",children:[u.slice(0,3).map(I=>l.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[l.jsx("p",{className:"font-bold dark:text-slate-200",children:I.titulo}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:I.mensaje})]},I.id)),u.length===0&&l.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay anuncios nuevos."})]}),l.jsx("button",{onClick:()=>r("Muro de Anuncios"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ver todo"})]})}),l.jsx(N_,{trigger:l.jsxs("button",{className:"relative p-2 rounded-full bg-sky-100 hover:bg-sky-200 text-sky-700 dark:bg-sky-900/30 dark:hover:bg-sky-900/40 dark:text-sky-300 transition-colors",title:"Notificaciones PIE",children:[l.jsx(E5e,{className:"w-5 h-5"}),C>0&&l.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:C})]}),children:l.jsxs("div",{className:"p-2 w-80",children:[l.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Notificaciones PIE"}),l.jsxs("ul",{className:"mt-1 max-h-80 overflow-y-auto divide-y dark:divide-slate-700",children:[y.length===0&&l.jsx("li",{className:"p-3 text-sm text-slate-500 dark:text-slate-400",children:"No hay notificaciones."}),y.map(I=>l.jsx("li",{className:"p-2 text-sm",children:l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:I.titulo}),l.jsx("div",{className:"text-slate-600 dark:text-slate-400 whitespace-pre-line",children:I.mensaje}),I.estudianteNombre&&l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Estudiante: ",l.jsx("b",{children:I.estudianteNombre})]}),l.jsx("div",{className:"text-[11px] text-slate-400 mt-1",children:N(I)})]}),l.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-1",children:[!I.leida&&l.jsx("button",{onClick:()=>I.id&&cNe(I.id),className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded hover:bg-green-200",children:"Marcar leída"}),l.jsx("button",{onClick:()=>I.id&&uNe(I.id),className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded hover:bg-red-200",children:"Eliminar"})]})]})},I.id))]})]})}),l.jsx(N_,{onOpen:j,trigger:l.jsxs("button",{className:"relative p-2 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-300 transition-colors",title:"Mensajes",children:[l.jsx(l2,{}),o>0&&l.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:o})]}),children:l.jsxs("div",{className:"p-2",children:[l.jsx("h3",{className:"font-semibold px-2 pb-1 border-b dark:border-slate-600 text-slate-800 dark:text-slate-200",children:"Mensajes"}),l.jsxs("ul",{className:"mt-1",children:[f.slice(0,3).map(I=>l.jsxs("li",{className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[l.jsxs("p",{className:"font-bold dark:text-slate-200",children:["De: ",I.de]}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 truncate",children:I.asunto})]},I.id)),f.length===0&&l.jsx("li",{className:"p-2 text-sm text-slate-500 dark:text-slate-400",children:"No hay mensajes recientes."})]}),l.jsx("button",{onClick:()=>r("Mensajería Interna"),className:"w-full mt-2 text-center text-sm font-semibold text-amber-600 hover:underline p-2",children:"Ir a la bandeja"})]})}),l.jsx(N_,{trigger:l.jsx("button",{className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:l.jsx(dNe,{user:e})}),children:l.jsxs("div",{className:"p-2",children:[l.jsxs("div",{className:"px-2 py-2 border-b dark:border-slate-600",children:[l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:e.nombreCompleto}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.profile})]}),l.jsxs("ul",{className:"mt-2 text-slate-700 dark:text-slate-300",children:[l.jsx("li",{children:l.jsx("button",{onClick:()=>g(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Editar Perfil"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>v(!0),className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Configuración"})}),s&&l.jsx("li",{children:l.jsx("button",{onClick:a,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"👑 Cambiar Vista"})}),l.jsx("li",{children:l.jsx("button",{onClick:t,className:"w-full text-left p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-600",children:"Cerrar Sesión"})})]})]})})]})]})}),p&&l.jsx(PSe,{user:e,onClose:()=>g(!1),onSave:n}),x&&l.jsx(RSe,{user:e,onClose:()=>v(!1),onSave:n})]})},ANe={apiKey:void 0,authDomain:"planificador-145df.firebaseapp.com",projectId:"planificador-145df",storageBucket:"planificador-145df.firebasestorage.app",messagingSenderId:"1022861144167",appId:"1:1022861144167:web:7c277dd701dad5986864c2",measurementId:"G-LKJRFMVC9F"},Y8=U$().length?U$()[0]:QL(ANe),mt=C8(Y8),VD=une(Y8),hNe=H8(Y8),TE="reemplazos_docentes",pNe="usuarios",J8=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,fechaActualizacion:((s=(a=t.fechaActualizacion)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString())||t.fechaActualizacion}},mNe=e=>{const t=e.data();return{id:e.id,...t}},gNe=async(e,t)=>{try{const r={...e,userId:t,fechaCreacion:lr.fromDate(new Date),fechaActualizacion:lr.fromDate(new Date)};return(await Bn(wt(mt,TE),r)).id}catch(r){throw console.error("Error al guardar reemplazo:",r),new Error("No se pudo guardar el reemplazo")}},xNe=async(e,t)=>{try{const r=dr(mt,TE,e),n=await Ux(r);if(!n.exists()||n.data().userId!==t)throw new Error("No tienes permisos para eliminar este reemplazo");await hs(r)}catch(r){throw console.error("Error al eliminar reemplazo:",r),new Error("No se pudo eliminar el reemplazo")}},vNe=(e,t,r=50)=>{try{const n=zt(wt(mt,TE),Gr("userId","==",e),wr("diaAusencia","desc"),ff(r));return br(n,a=>{const s=a.docs.map(J8);t(s)},a=>{console.error("Error en suscripción a reemplazos:",a),t([])})}catch(n){return console.error("Error al crear la suscripción de reemplazos:",n),()=>{}}},Ese=e=>{try{const t=zt(wt(mt,pNe),Gr("profile","==",Yt.PROFESORADO));return br(t,n=>{const a=n.docs.map(mNe);e(a)},n=>{console.error("Error al obtener la lista de profesores:",n),e([])})}catch(t){return console.error("Error al crear la suscripción de profesores:",t),()=>{}}},bNe=async e=>{try{const t=zt(wt(mt,TE),Gr("userId","==",e)),n=(await qn(t)).docs.map(J8),a=n.length,s=n.filter(o=>o.resultado==="Hora realizada").length,i=n.filter(o=>o.resultado==="Hora cubierta, no realizada").length;return{totalReemplazos:a,horasRealizadas:s,horasCubiertas:i,porcentajeRealizadas:a>0?s/a*100:0}}catch(t){throw console.error("Error al obtener estadísticas:",t),new Error("No se pudieron obtener las estadísticas")}},yNe=async(e,t)=>{try{if(!t.trim())return[];const r=zt(wt(mt,TE),Gr("userId","==",e),wr("diaAusencia","desc"),ff(100)),a=(await qn(r)).docs.map(J8),s=t.toLowerCase();return a.filter(i=>i.docenteAusente.toLowerCase().includes(s)||i.docenteReemplazante.toLowerCase().includes(s)||i.curso.toLowerCase().includes(s)||i.diaAusencia.includes(s)||i.asignaturaAusente.toLowerCase().includes(s)||i.asignaturaReemplazante.toLowerCase().includes(s))}catch(r){return console.error("Error en búsqueda de reemplazos:",r),[]}},wNe=Array.from({length:12},(e,t)=>t+1),jz={docenteAusente:"",asignaturaAusente:"",curso:"",diaAusencia:"",bloquesAfectados:[],docenteReemplazante:"",asignaturaReemplazante:""},CNe=e=>{const[t,r]=S.useState([]),[n,a]=S.useState(!0),[s,i]=S.useState(null);S.useEffect(()=>e?vNe(e,f=>{r(f),a(!1)}):void 0,[e]);const o=S.useCallback(async d=>{try{return i(null),await gNe(d,e)}catch(f){throw i(f instanceof Error?f.message:"Error al guardar"),f}},[e]),c=S.useCallback(async d=>{try{i(null),await xNe(d,e)}catch(f){throw i(f instanceof Error?f.message:"Error al eliminar"),f}},[e]),u=S.useCallback(async d=>{try{return i(null),d.trim()?await yNe(e,d):t}catch(f){return i(f instanceof Error?f.message:"Error en la búsqueda"),[]}},[e,t]);return{reemplazos:t,loading:n,error:s,save:o,remove:c,search:u}},ENe=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!0);S.useEffect(()=>Ese(i=>{t(i),n(!1)}),[]);const a=S.useMemo(()=>e.map(s=>s.nombreCompleto).sort(),[e]);return{profesores:e,profesorNames:a,loading:r}},jv=({label:e,icon:t,children:r})=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:e}),l.jsxs("div",{className:"relative",children:[t&&l.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400",children:t}),r]})]}),SNe="inline-flex items-center justify-center rounded-xl border text-sm px-3 py-2 transition-all",_Ne="bg-emerald-50 border-emerald-200 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-200 dark:border-emerald-700",NNe="bg-white border-slate-200 text-slate-600 hover:bg-slate-50 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700 dark:hover:bg-slate-700",hp=({title:e,value:t,icon:r})=>l.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[l.jsx("div",{className:"grid place-items-center h-12 w-12 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 text-slate-700 dark:from-slate-700 dark:to-slate-600 dark:text-slate-200",children:r}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400",children:e}),l.jsx("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:t})]})]}),kNe=({data:e})=>{const t=Math.max(1,...e.map(r=>r.value));return l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[l.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Distribución (graficable)"}),l.jsx("div",{className:"grid gap-3",children:e.map(r=>l.jsxs("div",{children:[l.jsxs("div",{className:"mb-1 flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[l.jsx("span",{children:r.label}),l.jsx("span",{children:r.value})]}),l.jsx("div",{className:"h-2 w-full rounded bg-slate-200/60 dark:bg-slate-700",children:l.jsx("div",{className:"h-2 rounded bg-slate-900 dark:bg-amber-500",style:{width:`${r.value/t*100}%`}})})]},r.label))})]})},TNe=({data:e})=>{const t=Math.max(1,...e.map(n=>n.value)),r=["from-indigo-500 to-sky-500","from-emerald-500 to-lime-500","from-amber-500 to-orange-600","from-fuchsia-500 to-pink-500","from-cyan-500 to-teal-500","from-rose-500 to-red-500","from-violet-500 to-purple-500"];return l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[l.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[l.jsx(af,{className:"h-5 w-5 text-slate-400"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Reemplazos / Inasistencias por curso (mes actual)"})]}),e.length===0?l.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No hay registros este mes."}):l.jsx("div",{className:"grid gap-3",children:e.map((n,a)=>l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"mb-1 flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[l.jsx("span",{className:"font-medium",children:n.label}),l.jsx("span",{children:n.value})]}),l.jsx("div",{className:"h-3 w-full rounded-lg bg-slate-100 dark:bg-slate-700",children:l.jsx("div",{className:`h-3 rounded-lg bg-gradient-to-r ${r[a%r.length]}`,style:{width:`${n.value/t*100}%`}})})]},n.label))})]})},BNe=({userId:e,reemplazos:t})=>{const[r,n]=S.useState(null),[a,s]=S.useState(!1),i=S.useCallback(async()=>{try{s(!0);const v=await bNe(e);n(v)}finally{s(!1)}},[e]);S.useEffect(()=>{e&&i()},[e,i]);const o=new Date,c=o.getMonth(),u=o.getFullYear(),d=S.useMemo(()=>(t||[]).filter(v=>{const y=new Date(v.diaAusencia+"T00:00:00");return y.getMonth()===c&&y.getFullYear()===u}),[t,c,u]),f=new Set(d.map(v=>v.docenteAusente).filter(Boolean)),h=new Set(d.map(v=>v.docenteReemplazante).filter(Boolean)),p=new Set(d.map(v=>v.curso).filter(Boolean)),g=new Set(d.map(v=>v.asignaturaAusente).filter(Boolean)),x=[{label:"Prof. ausentes",value:f.size},{label:"Prof. que reemplazan",value:h.size},{label:"Cursos",value:p.size},{label:"Asignaturas ausentes",value:g.size}];return a||!r?l.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:l.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-500",children:[l.jsx(Mp,{className:"h-5 w-5 animate-spin"}),"Cargando estadísticas…"]})}):l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx(hp,{title:"Total",value:r.totalReemplazos,icon:l.jsx(KSe,{className:"h-6 w-6"})}),l.jsx(hp,{title:"Realizadas",value:r.horasRealizadas,icon:l.jsx(mo,{className:"h-6 w-6"})}),l.jsx(hp,{title:"Cubiertas",value:r.horasCubiertas,icon:l.jsx(w_e,{className:"h-6 w-6"})}),l.jsx(hp,{title:"Efectividad",value:`${r.porcentajeRealizadas.toFixed(1)}%`,icon:l.jsx(y5e,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx(hp,{title:"Profesores ausentes",value:f.size,icon:l.jsx(X5e,{className:"h-6 w-6"})}),l.jsx(hp,{title:"Profesores que reemplazan",value:h.size,icon:l.jsx(J5e,{className:"h-6 w-6"})}),l.jsx(hp,{title:"Cursos (únicos)",value:p.size,icon:l.jsx(Ec,{className:"h-6 w-6"})}),l.jsx(hp,{title:"Asignaturas ausentes",value:g.size,icon:l.jsx(yf,{className:"h-6 w-6"})})]}),l.jsx(kNe,{data:x})]})},jNe=({currentUser:e})=>{const t=e.email||e.id||"",{reemplazos:r,save:n,remove:a,search:s,loading:i,error:o}=CNe(t),{profesorNames:c,loading:u}=ENe(),[d,f]=S.useState(jz),[h,p]=S.useState(""),[g,x]=S.useState([]),[v,y]=S.useState(null),[w,E]=S.useState(!1),[k,B]=S.useState(!1);S.useEffect(()=>{(async()=>{if(!h.trim())return x(r);B(!0);try{const K=await s(h);x(K)}finally{B(!1)}})()},[r,h,s]);const j=S.useCallback(G=>{const{name:K,value:z}=G.target;f(Y=>({...Y,[K]:z}))},[]),C=S.useCallback(G=>{f(K=>{const Y=K.bloquesAfectados.includes(G)?K.bloquesAfectados.filter(ee=>ee!==G):[...K.bloquesAfectados,G].sort((ee,M)=>ee-M);return{...K,bloquesAfectados:Y}})},[]),N=S.useCallback(async G=>{G.preventDefault(),y(null),E(!0);const{docenteAusente:K,asignaturaAusente:z,curso:Y,diaAusencia:ee,bloquesAfectados:M,docenteReemplazante:H,asignaturaReemplazante:W}=d;if(!K||!z||!Y||!ee||!H||!W||M.length===0){y("Todos los campos son obligatorios y debe seleccionar al menos un bloque."),E(!1);return}if(K===H){y("El docente ausente y el reemplazante no pueden ser la misma persona."),E(!1);return}try{const Z=z.trim().toLowerCase()===W.trim().toLowerCase()?"Hora realizada":"Hora cubierta, no realizada",ae={...d,resultado:Z};await n(ae),f(jz);const oe=document.createElement("div");oe.className="fixed top-4 right-4 z-50 rounded-lg bg-emerald-600 px-4 py-2 text-white shadow-lg",oe.textContent=Z==="Hora realizada"?"✅ Reemplazo registrado — Hora realizada":"⚠️ Reemplazo registrado — Hora cubierta, no realizada",document.body.appendChild(oe),setTimeout(()=>{document.body.contains(oe)&&document.body.removeChild(oe)},2500)}catch(Z){console.error(Z),y("Error al guardar el reemplazo. Intente nuevamente.")}finally{E(!1)}},[d,n]),I=S.useCallback(async G=>{if(window.confirm("¿Eliminar este registro?"))try{await a(G)}catch(K){console.error(K),alert("No se pudo eliminar. Intente nuevamente.")}},[a]),L="w-full rounded-lg border bg-white px-10 py-2.5 text-slate-700 placeholder-slate-400 shadow-sm outline-none transition focus:ring-2 focus:ring-amber-400 disabled:opacity-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100";if(!e||!e.email&&!e.id)return l.jsx("div",{className:"grid place-items-center rounded-xl border border-slate-200 bg-white p-8 text-center shadow-sm dark:border-slate-700 dark:bg-slate-800",children:l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Error: Usuario no autenticado."})});const O=new Date,T=O.getMonth(),P=O.getFullYear(),R=S.useMemo(()=>(r||[]).filter(G=>{if(!G.diaAusencia)return!1;const K=new Date(G.diaAusencia+"T00:00:00");return K.getMonth()===T&&K.getFullYear()===P}),[r,T,P]),q=S.useMemo(()=>{const G={};for(const K of R){const z=K.curso||"Sin curso";G[z]=(G[z]||0)+1}return G},[R]),Q=S.useMemo(()=>Object.entries(q).sort(([G],[K])=>G.localeCompare(K,"es")).map(([G,K])=>({label:G,value:K})),[q]);return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"mb-1 text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Estadísticas del Mes"}),l.jsx(BNe,{userId:t,reemplazos:r})]}),l.jsx(TNe,{data:Q}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Registro de Inasistencias y Reemplazos"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Complete el formulario para registrar una nueva suplencia."})]}),u?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-8 text-slate-500",children:[l.jsx(Mp,{className:"h-5 w-5 animate-spin"})," Cargando profesores…"]}):l.jsxs("form",{onSubmit:N,className:"space-y-8",children:[l.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ec,{className:"h-5 w-5 text-slate-400"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Docente Ausente"})]}),l.jsx(jv,{label:"Nombre",icon:l.jsx(xx,{className:"h-5 w-5"}),children:l.jsxs("select",{name:"docenteAusente",value:d.docenteAusente,onChange:j,className:L,required:!0,disabled:w,children:[l.jsx("option",{value:"",children:"Seleccione un docente"}),c.map(G=>l.jsx("option",{value:G,children:G},G))]})}),l.jsx(jv,{label:"Asignatura",icon:l.jsx(yf,{className:"h-5 w-5"}),children:l.jsxs("select",{name:"asignaturaAusente",value:d.asignaturaAusente,onChange:j,className:L,required:!0,disabled:w,children:[l.jsx("option",{value:"",children:"Seleccione una asignatura"}),po.map(G=>l.jsx("option",{value:G,children:G},G))]})}),l.jsx(jv,{label:"Curso",icon:l.jsx(Ec,{className:"h-5 w-5"}),children:l.jsxs("select",{name:"curso",value:d.curso,onChange:j,className:L,required:!0,disabled:w,children:[l.jsx("option",{value:"",children:"Seleccione un curso"}),Kl.map(G=>l.jsx("option",{value:G,children:G},G))]})}),l.jsx(jv,{label:"Día de ausencia",icon:l.jsx(hd,{className:"h-5 w-5"}),children:l.jsx("input",{type:"date",name:"diaAusencia",value:d.diaAusencia,onChange:j,className:L,required:!0,disabled:w})}),l.jsxs("div",{children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[l.jsx(Lp,{className:"h-5 w-5 text-slate-400"}),l.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Bloques afectados"})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2 sm:grid-cols-6",children:wNe.map(G=>{const K=d.bloquesAfectados.includes(G);return l.jsx("button",{type:"button",onClick:()=>C(G),disabled:w,className:`${SNe} ${K?_Ne:NNe}`,"aria-pressed":K,children:G},G)})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ec,{className:"h-5 w-5 text-slate-400"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Docente Reemplazante"})]}),l.jsx(jv,{label:"Nombre",icon:l.jsx(xx,{className:"h-5 w-5"}),children:l.jsxs("select",{name:"docenteReemplazante",value:d.docenteReemplazante,onChange:j,className:L,required:!0,disabled:w,children:[l.jsx("option",{value:"",children:"Seleccione un docente"}),c.map(G=>l.jsx("option",{value:G,children:G},G))]})}),l.jsx(jv,{label:"Asignatura",icon:l.jsx(yf,{className:"h-5 w-5"}),children:l.jsxs("select",{name:"asignaturaReemplazante",value:d.asignaturaReemplazante,onChange:j,className:L,required:!0,disabled:w,children:[l.jsx("option",{value:"",children:"Seleccione una asignatura"}),po.map(G=>l.jsx("option",{value:G,children:G},G))]})}),d.asignaturaAusente&&d.asignaturaReemplazante&&l.jsxs("div",{className:"mt-4 rounded-xl border-2 border-dashed border-slate-200 p-4 dark:border-slate-700",children:[l.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Vista previa del resultado"}),l.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${d.asignaturaAusente.toLowerCase()===d.asignaturaReemplazante.toLowerCase()?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-200":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-200"}`,children:[l.jsx(mo,{className:"h-4 w-4"}),d.asignaturaAusente.toLowerCase()===d.asignaturaReemplazante.toLowerCase()?"Hora realizada":"Hora cubierta, no realizada"]}),l.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:d.asignaturaAusente.toLowerCase()===d.asignaturaReemplazante.toLowerCase()?"Las asignaturas coinciden.":"Las asignaturas no coinciden."})]})]})]}),(v||o)&&l.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-red-700 dark:border-red-800 dark:bg-red-900/20 dark:text-red-300",children:v||o}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:w||u,className:"inline-flex items-center gap-2 rounded-xl bg-slate-900 px-5 py-2.5 font-semibold text-white shadow hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-amber-400 disabled:opacity-50 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:w?l.jsxs(l.Fragment,{children:[l.jsx(Mp,{className:"h-4 w-4 animate-spin"})," Registrando…"]}):l.jsxs(l.Fragment,{children:[l.jsx(o0,{className:"h-4 w-4"})," Registrar Reemplazo"]})})})]})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Historial de Reemplazos"}),l.jsxs("div",{className:"relative w-full max-w-md",children:[l.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400",children:k?l.jsx(Mp,{className:"h-5 w-5 animate-spin"}):l.jsx(GT,{className:"h-5 w-5"})}),l.jsx("input",{type:"text",placeholder:"Buscar por docente, curso o fecha (YYYY-MM-DD)…",value:h,onChange:G=>p(G.target.value),className:L,disabled:k})]})]}),i?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-10 text-slate-500",children:[l.jsx(Mp,{className:"h-5 w-5 animate-spin"})," Cargando reemplazos…"]}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:l.jsx("tr",{children:["Fecha","Curso","Docente Ausente","Docente Reemplazante","Bloques","Resultado","Acciones"].map(G=>l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-slate-500 dark:text-slate-400",children:G},G))})}),l.jsx("tbody",{className:"divide-y divide-slate-200 bg-white dark:divide-slate-700 dark:bg-slate-800",children:g.length>0?g.map(G=>l.jsxs("tr",{className:"transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/40",children:[l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700 dark:text-slate-200",children:new Date(G.diaAusencia+"T12:00:00").toLocaleDateString("es-CL")}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700 dark:text-slate-300",children:G.curso}),l.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-slate-900 dark:text-slate-100",children:[G.docenteAusente,l.jsx("div",{className:"text-xs font-normal text-slate-500 dark:text-slate-400",children:G.asignaturaAusente})]}),l.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-slate-900 dark:text-slate-100",children:[G.docenteReemplazante,l.jsx("div",{className:"text-xs font-normal text-slate-500 dark:text-slate-400",children:G.asignaturaReemplazante})]}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700 dark:text-slate-300",children:G.bloquesAfectados.join(", ")}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:l.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${G.resultado==="Hora realizada"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-200":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-200"}`,children:[l.jsx(mo,{className:"h-4 w-4"}),G.resultado]})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:l.jsx("button",{onClick:()=>I(G.id),title:"Eliminar registro",className:"rounded-full p-2 text-red-600 hover:bg-red-50 hover:text-red-700 dark:text-red-300 dark:hover:bg-red-900/30",disabled:w,children:l.jsx($o,{className:"h-4 w-4"})})})]},G.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:h?"No se encontraron resultados para tu búsqueda.":"Aún no hay registros."})})})]}),g.length>0&&!h&&l.jsxs("div",{className:"mt-4 text-center text-sm text-slate-500 dark:text-slate-400",children:["Mostrando los últimos ",g.length," registros"]})]})]})]})},INe=e=>{console.log("🔄 Iniciando suscripción a todos los reemplazos...");try{const t=wt(Lr,"reemplazos"),r=zt(t,wr("fecha","desc"));return br(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log("✅ Reemplazos cargados para dashboard:",s.length),e(s)},a=>{throw console.error("❌ Error al cargar reemplazos:",a),a})}catch(t){throw console.error("❌ Error al configurar suscripción a reemplazos:",t),t}},FNe=e=>{console.log("🔄 Iniciando suscripción a todos los acompañamientos...");try{const t=wt(Lr,"acompanamientos"),r=zt(t,wr("fecha","desc"));return br(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log("✅ Acompañamientos cargados para dashboard:",s.length),e(s)},a=>{throw console.error("❌ Error al cargar acompañamientos:",a),a})}catch(t){throw console.error("❌ Error al configurar suscripción a acompañamientos:",t),t}},ONe=e=>{console.log("🔄 Iniciando suscripción a todos los eventos del calendario...");try{const t=wt(Lr,"calendar_events"),r=zt(t,wr("date","asc"));return br(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log("✅ Eventos del calendario cargados para dashboard:",s.length),e(s)},a=>{throw console.error("❌ Error al cargar eventos del calendario:",a),a})}catch(t){throw console.error("❌ Error al configurar suscripción a eventos del calendario:",t),t}},iA=({title:e,value:t,description:r,isLoading:n=!1})=>l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),n?l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx("div",{className:"w-8 h-8 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"ml-2 text-slate-500 dark:text-slate-400",children:"Cargando..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mt-2",children:t}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r})]})]}),Ag=({title:e,data:t,colorClass:r,valueFormatter:n=s=>String(s),isLoading:a=!1})=>{const s=S.useMemo(()=>t.map(o=>typeof o.value=="number"?o.value:parseFloat(String(o.value))||0),[t]),i=S.useMemo(()=>Math.max(...s,1),[s]);return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:e}),a?l.jsxs("div",{className:"flex justify-center items-center py-8",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"ml-2 text-slate-500 dark:text-slate-400",children:"Cargando datos..."})]}):l.jsx("div",{className:"space-y-4",children:t.length>0?t.sort((o,c)=>(typeof c.value=="number"?c.value:0)-(typeof o.value=="number"?o.value:0)).map((o,c)=>{const u=typeof o.value=="number"?o.value:parseFloat(String(o.value))||0;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:o.label}),l.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:n(o.value)})]}),l.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:l.jsx("div",{className:`${r} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${u/i*100}%`}})})]},o.label+c)}):l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay datos para mostrar."})})]})},DNe=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,s]=S.useState([]),[i,o]=S.useState(!0),[c,u]=S.useState(null);return S.useEffect(()=>{console.log("🔄 Iniciando carga de datos del dashboard...");let d=0;const f=3,h=()=>{d++,d>=f&&(o(!1),console.log("✅ Todos los datos del dashboard cargados"))};try{const p=INe(v=>{t(v),h()}),g=FNe(v=>{n(v),h()}),x=ONe(v=>{s(v),h()});return()=>{p(),g(),x()}}catch(p){console.error("❌ Error al configurar suscripciones del dashboard:",p),u(p instanceof Error?p.message:"Error al cargar datos del dashboard"),o(!1)}},[]),{registros:e,acompanamientos:r,calendarEvents:a,loading:i,error:c}},PNe=({currentUser:e})=>{var f,h;console.log("=== DASHBOARD SUBDIRECCION DEBUG ==="),console.log("🔍 Dashboard - currentUser completo:",e),console.log("🔍 Dashboard - currentUser.profile:",e==null?void 0:e.profile),console.log("🔍 Dashboard - Verificación de perfil:",(e==null?void 0:e.profile)==="SUBDIRECCION"),console.log("🔍 Dashboard - Typeof profile:",typeof(e==null?void 0:e.profile)),console.log("🔍 Dashboard - Profile length:",(f=e==null?void 0:e.profile)==null?void 0:f.length),console.log("🔍 Dashboard - Profile con comillas:",`"${e==null?void 0:e.profile}"`),console.log("🔍 Dashboard - Comparación con trim:",((h=e==null?void 0:e.profile)==null?void 0:h.trim())==="SUBDIRECCION"),console.log("=====================================");const{registros:t,acompanamientos:r,calendarEvents:n,loading:a,error:s}=DNe(),[i,o]=S.useState(P2);if(console.log("🔍 Dashboard - Datos recibidos:",{registros:t.length,acompanamientos:r.length,calendarEvents:n.length,loading:a,error:s,currentUser:e==null?void 0:e.profile}),S.useEffect(()=>{try{const p=localStorage.getItem("acompanamientoDocenteCustomRubrica");o(p?JSON.parse(p):P2)}catch(p){console.error("Error al leer rúbrica personalizada",p),o(P2)}},[]),console.log("🔍 Dashboard - Verificando permisos..."),console.log("🔍 Dashboard - currentUser existe:",!!e),console.log("🔍 Dashboard - profile value:",`"${e==null?void 0:e.profile}"`),console.log("🔍 Dashboard - comparación exacta:",(e==null?void 0:e.profile)==="SUBDIRECCION"),!e)return console.log("❌ Dashboard - currentUser es null/undefined"),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Cargando usuario..."}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md",children:"Esperando datos del usuario autenticado..."})]});if(e.profile!=="SUBDIRECCION")return console.log("❌ Dashboard - Perfil no autorizado:",e.profile),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[l.jsx("span",{className:"text-6xl mb-4",children:"🚫"}),l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Acceso Restringido"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md mb-4",children:"Este dashboard está disponible solo para usuarios con perfil de Subdirección."}),l.jsxs("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700 rounded text-xs text-slate-600 dark:text-slate-400",children:[l.jsx("p",{children:l.jsx("strong",{children:"Debug Info:"})}),l.jsxs("p",{children:['Su perfil actual: "',e.profile,'"']}),l.jsx("p",{children:'Perfil requerido: "SUBDIRECCION"'}),l.jsxs("p",{children:["Usuario: ",e.email||e.nombreCompleto]})]})]});if(console.log("✅ Dashboard - Permisos verificados correctamente"),s)return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[l.jsx("span",{className:"text-6xl mb-4",children:"⚠️"}),l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Error al Cargar Datos"}),l.jsx("p",{className:"text-red-500 dark:text-red-400 text-lg max-w-md mb-4",children:s}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 transition-colors",children:"Recargar Página"})]});const c=S.useMemo(()=>{const p=t.length;if(p===0)return{totalInasistencias:0,horasRealizadas:0,horasCubiertas:0,tasaCobertura:"0%",inasistenciasPorDocente:[],reemplazosPorDocente:[],distribucionResultados:[],inasistenciasPorCurso:[]};const g=t.filter(B=>B.resultado==="Hora realizada").length,x=p-g,v=`${(g/p*100).toFixed(1)}%`,y=(B,j)=>B.reduce((C,N)=>{const I=N[j];return typeof I=="string"&&(C[I]=(C[I]||0)+1),C},{}),w=y(t,"docenteAusente"),E=y(t,"docenteReemplazante"),k=y(t,"curso");return{totalInasistencias:p,horasRealizadas:g,horasCubiertas:x,tasaCobertura:v,inasistenciasPorDocente:Object.entries(w).map(([B,j])=>({label:B,value:j})),reemplazosPorDocente:Object.entries(E).map(([B,j])=>({label:B,value:j})),inasistenciasPorCurso:Object.entries(k).map(([B,j])=>({label:B,value:j})),distribucionResultados:[{label:"Hora Realizada",value:g},{label:"Hora Cubierta",value:x}]}},[t]),u=S.useMemo(()=>{const p=r.length;if(p===0)return{totalAcompanamientos:0,promedioGeneral:"N/A",desempenoPorDocente:[],desempenoPorDominio:[]};const g=new Map;i.forEach(j=>{j.criteria.forEach(C=>{g.set(C.name,j.domain)})});let x=0,v=0;const y={},w={};r.forEach(j=>{y[j.docente]||(y[j.docente]={total:0,count:0}),Object.entries(j.rubricaResultados).forEach(([C,N])=>{x+=N,v++,y[j.docente].total+=N,y[j.docente].count++;const I=g.get(C);I&&(w[I]||(w[I]={total:0,count:0}),w[I].total+=N,w[I].count++)})});const E=v>0?(x/v).toFixed(2):"N/A",k=Object.entries(y).map(([j,C])=>({label:j,value:C.count>0?(C.total/C.count).toFixed(2):0})),B=Object.entries(w).map(([j,C])=>({label:j,value:C.count>0?(C.total/C.count).toFixed(2):0}));return{totalAcompanamientos:p,promedioGeneral:E,desempenoPorDocente:k,desempenoPorDominio:B}},[r,i]),d=S.useMemo(()=>{const p={[xn.EVALUACION]:0,[xn.ACTO]:0,[xn.ACTIVIDAD_FOCALIZADA]:0,[xn.SALIDA_PEDAGOGICA]:0};for(const x of n)p.hasOwnProperty(x.type)&&p[x.type]++;const g=Object.entries(p).map(([x,v])=>({label:U1[x].label,value:v}));return{totalEvaluaciones:p[xn.EVALUACION],totalActos:p[xn.ACTO],totalActividadesFocalizadas:p[xn.ACTIVIDAD_FOCALIZADA],totalSalidasPedagogicas:p[xn.SALIDA_PEDAGOGICA],distribucionEventos:g}},[n]);return a?l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Cargando Dashboard"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md",children:"Obteniendo datos desde la base de datos..."})]}):c.totalInasistencias===0&&u.totalAcompanamientos===0&&n.length===0?l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md h-full w-full flex flex-col items-center justify-center text-center animate-fade-in",children:[l.jsx("span",{className:"text-6xl mb-4",children:"📊"}),l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Dashboard de Subdirección"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-md mb-4",children:"Aún no hay datos para mostrar. Comience por añadir registros en los módulos correspondientes."}),l.jsxs("div",{className:"text-sm text-slate-400 dark:text-slate-500",children:[l.jsx("p",{children:"• Módulo de Inasistencias y Reemplazos"}),l.jsx("p",{children:"• Módulo de Acompañamiento Docente"}),l.jsx("p",{children:"• Calendario Académico"})]})]}):l.jsxs("div",{className:"space-y-12 animate-fade-in",children:[l.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 dark:from-amber-600 dark:to-amber-700 text-white p-6 rounded-xl shadow-lg",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard de Subdirección"}),l.jsx("p",{className:"text-amber-100",children:"Vista consolidada de datos institucionales"}),l.jsxs("p",{className:"text-sm text-amber-200 mt-2",children:["Última actualización: ",new Date().toLocaleString("es-CL")]})]}),t.length>0&&l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700 pb-2",children:"📋 Dashboard de Inasistencias y Reemplazos"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(iA,{title:"Total Inasistencias",value:c.totalInasistencias,description:"Registros totales",isLoading:a}),l.jsx(iA,{title:"Horas Realizadas",value:c.horasRealizadas,description:"Reemplazo con misma asignatura",isLoading:a}),l.jsx(iA,{title:"Horas Cubiertas",value:c.horasCubiertas,description:"Reemplazo con otra asignatura",isLoading:a}),l.jsx(iA,{title:"Tasa de Cobertura Efectiva",value:c.tasaCobertura,description:"% de horas realizadas",isLoading:a})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(Ag,{title:"Inasistencias por Docente",data:c.inasistenciasPorDocente,colorClass:"bg-red-400",isLoading:a}),l.jsx(Ag,{title:"Reemplazos por Docente",data:c.reemplazosPorDocente,colorClass:"bg-sky-400",isLoading:a}),l.jsx(Ag,{title:"Inasistencias por Curso",data:c.inasistenciasPorCurso,colorClass:"bg-amber-400",isLoading:a}),l.jsx(Ag,{title:"Distribución de Resultados",data:c.distribucionResultados,colorClass:"bg-green-400",isLoading:a})]})]}),r.length>0&&l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700 pb-2",children:"👥 Dashboard de Acompañamiento Docente"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(iA,{title:"Total Acompañamientos",value:u.totalAcompanamientos,description:"Registros realizados",isLoading:a}),l.jsx(iA,{title:"Promedio General",value:u.promedioGeneral,description:"Calificación promedio (1-4)",isLoading:a})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(Ag,{title:"Desempeño Promedio por Docente",data:u.desempenoPorDocente,colorClass:"bg-indigo-400",valueFormatter:p=>Number(p).toFixed(2),isLoading:a}),l.jsx(Ag,{title:"Desempeño Promedio por Dominio",data:u.desempenoPorDominio,colorClass:"bg-teal-400",valueFormatter:p=>Number(p).toFixed(2),isLoading:a})]})]}),n.length>0&&l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700 pb-2",children:"📅 Resumen del Calendario Académico"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(iA,{title:"Evaluaciones",value:d.totalEvaluaciones,description:"Eventos registrados",isLoading:a}),l.jsx(iA,{title:"Actos",value:d.totalActos,description:"Eventos registrados",isLoading:a}),l.jsx(iA,{title:"Act. Focalizadas",value:d.totalActividadesFocalizadas,description:"Eventos registrados",isLoading:a}),l.jsx(iA,{title:"Salidas Pedagógicas",value:d.totalSalidasPedagogicas,description:"Eventos registrados",isLoading:a})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(Ag,{title:"Distribución de Eventos del Calendario",data:d.distribucionEventos,colorClass:"bg-violet-400",isLoading:a}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Próximos Eventos"}),a?l.jsxs("div",{className:"flex justify-center items-center py-8",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"ml-2 text-slate-500 dark:text-slate-400",children:"Cargando eventos..."})]}):l.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[n.filter(p=>new Date(p.date)>=new Date).slice(0,5).map((p,g)=>{var x,v;return l.jsx("div",{className:"p-3 border dark:border-slate-600 rounded-md",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:p.responsables||"Evento sin título"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(p.date).toLocaleDateString("es-CL")}),p.ubicacion&&l.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:["📍 ",p.ubicacion]})]}),l.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${((x=U1[p.type])==null?void 0:x.color)||"bg-gray-100 text-gray-800"}`,children:((v=U1[p.type])==null?void 0:v.label)||p.type})]})},p.id||g)}),n.filter(p=>new Date(p.date)>=new Date).length===0&&l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-4",children:"No hay eventos próximos programados"})]})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 p-6 rounded-xl",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"📈 Resumen Ejecutivo"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:t.length+r.length+n.length}),l.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Total de registros en el sistema"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:new Set([...t.map(p=>p.docenteAusente),...r.map(p=>p.docente)]).size}),l.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Docentes con registros"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[Math.round(t.filter(p=>p.resultado==="Hora realizada").length/Math.max(t.length,1)*100),"%"]}),l.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Efectividad en cobertura"})]})]})]}),l.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400 border-t border-slate-200 dark:border-slate-700 pt-6",children:[l.jsx("p",{children:"Dashboard de Subdirección - Sistema de Gestión Pedagógica"}),l.jsx("p",{children:"Los datos se actualizan en tiempo real desde la base de datos"})]})]})},yC={black:"#000",white:"#fff"},Iv={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Fv={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ov={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Dv={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Pv={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},yw={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},RNe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function l0(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}const KT="$$material";function b4(){return b4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b4.apply(null,arguments)}function LNe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function MNe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var UNe=function(){function e(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(MNe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=LNe(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ll="-ms-",y4="-moz-",ia="-webkit-",Sse="comm",Z8="rule",eM="decl",QNe="@import",_se="@keyframes",HNe="@layer",$Ne=Math.abs,qT=String.fromCharCode,VNe=Object.assign;function zNe(e,t){return Ro(e,0)^45?(((t<<2^Ro(e,0))<<2^Ro(e,1))<<2^Ro(e,2))<<2^Ro(e,3):0}function Nse(e){return e.trim()}function GNe(e,t){return(e=t.exec(e))?e[0]:e}function la(e,t,r){return e.replace(t,r)}function zD(e,t){return e.indexOf(t)}function Ro(e,t){return e.charCodeAt(t)|0}function wC(e,t,r){return e.slice(t,r)}function xA(e){return e.length}function tM(e){return e.length}function B_(e,t){return t.push(e),e}function KNe(e,t){return e.map(t).join("")}var WT=1,gb=1,kse=0,Nc=0,ki=0,oy="";function XT(e,t,r,n,a,s,i){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:WT,column:gb,length:i,return:""}}function ww(e,t){return VNe(XT("",null,null,"",null,null,0),e,{length:-e.length},t)}function qNe(){return ki}function WNe(){return ki=Nc>0?Ro(oy,--Nc):0,gb--,ki===10&&(gb=1,WT--),ki}function du(){return ki=Nc<kse?Ro(oy,Nc++):0,gb++,ki===10&&(gb=1,WT++),ki}function RA(){return Ro(oy,Nc)}function uN(){return Nc}function BE(e,t){return wC(oy,e,t)}function CC(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Tse(e){return WT=gb=1,kse=xA(oy=e),Nc=0,[]}function Bse(e){return oy="",e}function dN(e){return Nse(BE(Nc-1,GD(e===91?e+2:e===40?e+1:e)))}function XNe(e){for(;(ki=RA())&&ki<33;)du();return CC(e)>2||CC(ki)>3?"":" "}function YNe(e,t){for(;--t&&du()&&!(ki<48||ki>102||ki>57&&ki<65||ki>70&&ki<97););return BE(e,uN()+(t<6&&RA()==32&&du()==32))}function GD(e){for(;du();)switch(ki){case e:return Nc;case 34:case 39:e!==34&&e!==39&&GD(ki);break;case 40:e===41&&GD(e);break;case 92:du();break}return Nc}function JNe(e,t){for(;du()&&e+ki!==57;)if(e+ki===84&&RA()===47)break;return"/*"+BE(t,Nc-1)+"*"+qT(e===47?e:du())}function ZNe(e){for(;!CC(RA());)du();return BE(e,Nc)}function e4e(e){return Bse(fN("",null,null,null,[""],e=Tse(e),0,[0],e))}function fN(e,t,r,n,a,s,i,o,c){for(var u=0,d=0,f=i,h=0,p=0,g=0,x=1,v=1,y=1,w=0,E="",k=a,B=s,j=n,C=E;v;)switch(g=w,w=du()){case 40:if(g!=108&&Ro(C,f-1)==58){zD(C+=la(dN(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:C+=dN(w);break;case 9:case 10:case 13:case 32:C+=XNe(g);break;case 92:C+=YNe(uN()-1,7);continue;case 47:switch(RA()){case 42:case 47:B_(t4e(JNe(du(),uN()),t,r),c);break;default:C+="/"}break;case 123*x:o[u++]=xA(C)*y;case 125*x:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+d:y==-1&&(C=la(C,/\f/g,"")),p>0&&xA(C)-f&&B_(p>32?Fz(C+";",n,r,f-1):Fz(la(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(B_(j=Iz(C,t,r,u,d,a,o,E,k=[],B=[],f),s),w===123)if(d===0)fN(C,t,j,j,k,s,f,o,B);else switch(h===99&&Ro(C,3)===110?100:h){case 100:case 108:case 109:case 115:fN(e,j,j,n&&B_(Iz(e,j,j,0,0,a,o,E,a,k=[],f),B),a,B,f,o,n?k:B);break;default:fN(C,j,j,j,[""],B,0,o,B)}}u=d=p=0,x=y=1,E=C="",f=i;break;case 58:f=1+xA(C),p=g;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&WNe()==125)continue}switch(C+=qT(w),w*x){case 38:y=d>0?1:(C+="\f",-1);break;case 44:o[u++]=(xA(C)-1)*y,y=1;break;case 64:RA()===45&&(C+=dN(du())),h=RA(),d=f=xA(E=C+=ZNe(uN())),w++;break;case 45:g===45&&xA(C)==2&&(x=0)}}return s}function Iz(e,t,r,n,a,s,i,o,c,u,d){for(var f=a-1,h=a===0?s:[""],p=tM(h),g=0,x=0,v=0;g<n;++g)for(var y=0,w=wC(e,f+1,f=$Ne(x=i[g])),E=e;y<p;++y)(E=Nse(x>0?h[y]+" "+w:la(w,/&\f/g,h[y])))&&(c[v++]=E);return XT(e,t,r,a===0?Z8:o,c,u,d)}function t4e(e,t,r){return XT(e,t,r,Sse,qT(qNe()),wC(e,2,-2),0)}function Fz(e,t,r,n){return XT(e,t,r,eM,wC(e,0,n),wC(e,n+1,-1),n)}function Q1(e,t){for(var r="",n=tM(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function r4e(e,t,r,n){switch(e.type){case HNe:if(e.children.length)break;case QNe:case eM:return e.return=e.return||e.value;case Sse:return"";case _se:return e.return=e.value+"{"+Q1(e.children,n)+"}";case Z8:e.value=e.props.join(",")}return xA(r=Q1(e.children,n))?e.return=e.value+"{"+r+"}":""}function n4e(e){var t=tM(e);return function(r,n,a,s){for(var i="",o=0;o<t;o++)i+=e[o](r,n,a,s)||"";return i}}function a4e(e){return function(t){t.root||(t=t.return)&&e(t)}}function jse(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var s4e=function(t,r,n){for(var a=0,s=0;a=s,s=RA(),a===38&&s===12&&(r[n]=1),!CC(s);)du();return BE(t,Nc)},i4e=function(t,r){var n=-1,a=44;do switch(CC(a)){case 0:a===38&&RA()===12&&(r[n]=1),t[n]+=s4e(Nc-1,r,n);break;case 2:t[n]+=dN(a);break;case 4:if(a===44){t[++n]=RA()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=qT(a)}while(a=du());return t},o4e=function(t,r){return Bse(i4e(Tse(t),r))},Oz=new WeakMap,l4e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Oz.get(n))&&!a){Oz.set(t,!0);for(var s=[],i=o4e(r,s),o=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<o.length;d++,u++)t.props[u]=s[c]?i[c].replace(/&\f/g,o[d]):o[d]+" "+i[c]}}},c4e=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Ise(e,t){switch(zNe(e,t)){case 5103:return ia+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ia+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ia+e+y4+e+ll+e+e;case 6828:case 4268:return ia+e+ll+e+e;case 6165:return ia+e+ll+"flex-"+e+e;case 5187:return ia+e+la(e,/(\w+).+(:[^]+)/,ia+"box-$1$2"+ll+"flex-$1$2")+e;case 5443:return ia+e+ll+"flex-item-"+la(e,/flex-|-self/,"")+e;case 4675:return ia+e+ll+"flex-line-pack"+la(e,/align-content|flex-|-self/,"")+e;case 5548:return ia+e+ll+la(e,"shrink","negative")+e;case 5292:return ia+e+ll+la(e,"basis","preferred-size")+e;case 6060:return ia+"box-"+la(e,"-grow","")+ia+e+ll+la(e,"grow","positive")+e;case 4554:return ia+la(e,/([^-])(transform)/g,"$1"+ia+"$2")+e;case 6187:return la(la(la(e,/(zoom-|grab)/,ia+"$1"),/(image-set)/,ia+"$1"),e,"")+e;case 5495:case 3959:return la(e,/(image-set\([^]*)/,ia+"$1$`$1");case 4968:return la(la(e,/(.+:)(flex-)?(.*)/,ia+"box-pack:$3"+ll+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ia+e+e;case 4095:case 3583:case 4068:case 2532:return la(e,/(.+)-inline(.+)/,ia+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xA(e)-1-t>6)switch(Ro(e,t+1)){case 109:if(Ro(e,t+4)!==45)break;case 102:return la(e,/(.+:)(.+)-([^]+)/,"$1"+ia+"$2-$3$1"+y4+(Ro(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~zD(e,"stretch")?Ise(la(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ro(e,t+1)!==115)break;case 6444:switch(Ro(e,xA(e)-3-(~zD(e,"!important")&&10))){case 107:return la(e,":",":"+ia)+e;case 101:return la(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ia+(Ro(e,14)===45?"inline-":"")+"box$3$1"+ia+"$2$3$1"+ll+"$2box$3")+e}break;case 5936:switch(Ro(e,t+11)){case 114:return ia+e+ll+la(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ia+e+ll+la(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ia+e+ll+la(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ia+e+ll+e+e}return e}var u4e=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case eM:t.return=Ise(t.value,t.length);break;case _se:return Q1([ww(t,{value:la(t.value,"@","@"+ia)})],a);case Z8:if(t.length)return KNe(t.props,function(s){switch(GNe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Q1([ww(t,{props:[la(s,/:(read-\w+)/,":"+y4+"$1")]})],a);case"::placeholder":return Q1([ww(t,{props:[la(s,/:(plac\w+)/,":"+ia+"input-$1")]}),ww(t,{props:[la(s,/:(plac\w+)/,":"+y4+"$1")]}),ww(t,{props:[la(s,/:(plac\w+)/,ll+"input-$1")]})],a)}return""})}},d4e=[u4e],f4e=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(x){var v=x.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var a=t.stylisPlugins||d4e,s={},i,o=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(x){for(var v=x.getAttribute("data-emotion").split(" "),y=1;y<v.length;y++)s[v[y]]=!0;o.push(x)});var c,u=[l4e,c4e];{var d,f=[r4e,a4e(function(x){d.insert(x)})],h=n4e(u.concat(a,f)),p=function(v){return Q1(e4e(v),h)};c=function(v,y,w,E){d=w,p(v?v+"{"+y.styles+"}":y.styles),E&&(g.inserted[y.name]=!0)}}var g={key:r,sheet:new UNe({key:r,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:c};return g.sheet.hydrate(o),g},II={exports:{}},fa={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dz;function A4e(){if(Dz)return fa;Dz=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,x=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function E(B){if(typeof B=="object"&&B!==null){var j=B.$$typeof;switch(j){case t:switch(B=B.type,B){case c:case u:case n:case s:case a:case f:return B;default:switch(B=B&&B.$$typeof,B){case o:case d:case g:case p:case i:return B;default:return j}}case r:return j}}}function k(B){return E(B)===u}return fa.AsyncMode=c,fa.ConcurrentMode=u,fa.ContextConsumer=o,fa.ContextProvider=i,fa.Element=t,fa.ForwardRef=d,fa.Fragment=n,fa.Lazy=g,fa.Memo=p,fa.Portal=r,fa.Profiler=s,fa.StrictMode=a,fa.Suspense=f,fa.isAsyncMode=function(B){return k(B)||E(B)===c},fa.isConcurrentMode=k,fa.isContextConsumer=function(B){return E(B)===o},fa.isContextProvider=function(B){return E(B)===i},fa.isElement=function(B){return typeof B=="object"&&B!==null&&B.$$typeof===t},fa.isForwardRef=function(B){return E(B)===d},fa.isFragment=function(B){return E(B)===n},fa.isLazy=function(B){return E(B)===g},fa.isMemo=function(B){return E(B)===p},fa.isPortal=function(B){return E(B)===r},fa.isProfiler=function(B){return E(B)===s},fa.isStrictMode=function(B){return E(B)===a},fa.isSuspense=function(B){return E(B)===f},fa.isValidElementType=function(B){return typeof B=="string"||typeof B=="function"||B===n||B===u||B===s||B===a||B===f||B===h||typeof B=="object"&&B!==null&&(B.$$typeof===g||B.$$typeof===p||B.$$typeof===i||B.$$typeof===o||B.$$typeof===d||B.$$typeof===v||B.$$typeof===y||B.$$typeof===w||B.$$typeof===x)},fa.typeOf=E,fa}var Pz;function Fse(){return Pz||(Pz=1,II.exports=A4e()),II.exports}var FI,Rz;function h4e(){if(Rz)return FI;Rz=1;var e=Fse(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=n,s[e.Memo]=a;function i(g){return e.isMemo(g)?a:s[g.$$typeof]||t}var o=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;function p(g,x,v){if(typeof x!="string"){if(h){var y=f(x);y&&y!==h&&p(g,y,v)}var w=c(x);u&&(w=w.concat(u(x)));for(var E=i(g),k=i(x),B=0;B<w.length;++B){var j=w[B];if(!r[j]&&!(v&&v[j])&&!(k&&k[j])&&!(E&&E[j])){var C=d(x,j);try{o(g,j,C)}catch{}}}}return g}return FI=p,FI}h4e();var p4e=!0;function Ose(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var rM=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||p4e===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},nM=function(t,r,n){rM(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+a:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function m4e(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var g4e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},x4e=/[A-Z]|^ms/g,v4e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Dse=function(t){return t.charCodeAt(1)===45},Lz=function(t){return t!=null&&typeof t!="boolean"},OI=jse(function(e){return Dse(e)?e:e.replace(x4e,"-$&").toLowerCase()}),Mz=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(v4e,function(n,a,s){return vA={name:a,styles:s,next:vA},a})}return g4e[t]!==1&&!Dse(t)&&typeof r=="number"&&r!==0?r+"px":r};function EC(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return vA={name:a.name,styles:a.styles,next:vA},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)vA={name:i.name,styles:i.styles,next:vA},i=i.next;var o=s.styles+";";return o}return b4e(e,t,r)}case"function":{if(e!==void 0){var c=vA,u=r(e);return vA=c,EC(e,t,u)}break}}var d=r;if(t==null)return d;var f=t[d];return f!==void 0?f:d}function b4e(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=EC(e,t,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var o=i;t!=null&&t[o]!==void 0?n+=s+"{"+t[o]+"}":Lz(o)&&(n+=OI(s)+":"+Mz(s,o)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var c=0;c<i.length;c++)Lz(i[c])&&(n+=OI(s)+":"+Mz(s,i[c])+";");else{var u=EC(e,t,i);switch(s){case"animation":case"animationName":{n+=OI(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var Uz=/label:\s*([^\s;{]+)\s*(;|$)/g,vA;function jE(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";vA=void 0;var s=e[0];if(s==null||s.raw===void 0)n=!1,a+=EC(r,t,s);else{var i=s;a+=i[0]}for(var o=1;o<e.length;o++)if(a+=EC(r,t,e[o]),n){var c=s;a+=c[o]}Uz.lastIndex=0;for(var u="",d;(d=Uz.exec(a))!==null;)u+="-"+d[1];var f=m4e(a)+u;return{name:f,styles:a,next:vA}}var y4e=function(t){return t()},Pse=KN.useInsertionEffect?KN.useInsertionEffect:!1,Rse=Pse||y4e,Qz=Pse||S.useLayoutEffect,Lse=S.createContext(typeof HTMLElement<"u"?f4e({key:"css"}):null);Lse.Provider;var aM=function(t){return S.forwardRef(function(r,n){var a=S.useContext(Lse);return t(r,a,n)})},YT=S.createContext({}),sM={}.hasOwnProperty,KD="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",w4e=function(t,r){var n={};for(var a in r)sM.call(r,a)&&(n[a]=r[a]);return n[KD]=t,n},C4e=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return rM(r,n,a),Rse(function(){return nM(r,n,a)}),null},E4e=aM(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[KD],s=[n],i="";typeof e.className=="string"?i=Ose(t.registered,s,e.className):e.className!=null&&(i=e.className+" ");var o=jE(s,void 0,S.useContext(YT));i+=t.key+"-"+o.name;var c={};for(var u in e)sM.call(e,u)&&u!=="css"&&u!==KD&&(c[u]=e[u]);return c.className=i,r&&(c.ref=r),S.createElement(S.Fragment,null,S.createElement(C4e,{cache:t,serialized:o,isStringTag:typeof a=="string"}),S.createElement(a,c))}),S4e=E4e,Hz=function(t,r){var n=arguments;if(r==null||!sM.call(r,"css"))return S.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=S4e,s[1]=w4e(t,r);for(var i=2;i<a;i++)s[i]=n[i];return S.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Hz||(Hz={}));var _4e=aM(function(e,t){var r=e.styles,n=jE([r],void 0,S.useContext(YT)),a=S.useRef();return Qz(function(){var s=t.key+"-global",i=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,c=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),c!==null&&(o=!0,c.setAttribute("data-emotion",s),i.hydrate([c])),a.current=[i,o],function(){i.flush()}},[t]),Qz(function(){var s=a.current,i=s[0],o=s[1];if(o){s[1]=!1;return}if(n.next!==void 0&&nM(t,n.next,!0),i.tags.length){var c=i.tags[i.tags.length-1].nextElementSibling;i.before=c,i.flush()}t.insert("",n,i,!1)},[t,n.name]),null});function iM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return jE(t)}function IE(){var e=iM.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var N4e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,k4e=jse(function(e){return N4e.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),T4e=k4e,B4e=function(t){return t!=="theme"},$z=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?T4e:B4e},Vz=function(t,r,n){var a;if(r){var s=r.shouldForwardProp;a=t.__emotion_forwardProp&&s?function(i){return t.__emotion_forwardProp(i)&&s(i)}:s}return typeof a!="function"&&n&&(a=t.__emotion_forwardProp),a},j4e=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return rM(r,n,a),Rse(function(){return nM(r,n,a)}),null},I4e=function e(t,r){var n=t.__emotion_real===t,a=n&&t.__emotion_base||t,s,i;r!==void 0&&(s=r.label,i=r.target);var o=Vz(t,r,n),c=o||$z(a),u=!c("as");return function(){var d=arguments,f=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{var h=d[0];f.push(h[0]);for(var p=d.length,g=1;g<p;g++)f.push(d[g],h[g])}var x=aM(function(v,y,w){var E=u&&v.as||a,k="",B=[],j=v;if(v.theme==null){j={};for(var C in v)j[C]=v[C];j.theme=S.useContext(YT)}typeof v.className=="string"?k=Ose(y.registered,B,v.className):v.className!=null&&(k=v.className+" ");var N=jE(f.concat(B),y.registered,j);k+=y.key+"-"+N.name,i!==void 0&&(k+=" "+i);var I=u&&o===void 0?$z(E):c,L={};for(var O in v)u&&O==="as"||I(O)&&(L[O]=v[O]);return L.className=k,w&&(L.ref=w),S.createElement(S.Fragment,null,S.createElement(j4e,{cache:y,serialized:N,isStringTag:typeof E=="string"}),S.createElement(E,L))});return x.displayName=s!==void 0?s:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=a,x.__emotion_styles=f,x.__emotion_forwardProp=o,Object.defineProperty(x,"toString",{value:function(){return"."+i}}),x.withComponent=function(v,y){var w=e(v,b4({},r,y,{shouldForwardProp:Vz(x,y,!0)}));return w.apply(void 0,f)},x}},F4e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],qD=I4e.bind(null);F4e.forEach(function(e){qD[e]=qD(e)});function O4e(e){return e==null||Object.keys(e).length===0}function D4e(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?a=>t(O4e(a)?r:a):t;return l.jsx(_4e,{styles:n})}function Mse(e,t){return qD(e,t)}function P4e(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const zz=[];function Jp(e){return zz[0]=e,jE(zz)}var DI={exports:{}},Fa={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gz;function R4e(){if(Gz)return Fa;Gz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function g(x){if(typeof x=="object"&&x!==null){var v=x.$$typeof;switch(v){case e:switch(x=x.type,x){case r:case a:case n:case c:case u:case h:return x;default:switch(x=x&&x.$$typeof,x){case i:case o:case f:case d:return x;case s:return x;default:return v}}case t:return v}}}return Fa.ContextConsumer=s,Fa.ContextProvider=i,Fa.Element=e,Fa.ForwardRef=o,Fa.Fragment=r,Fa.Lazy=f,Fa.Memo=d,Fa.Portal=t,Fa.Profiler=a,Fa.StrictMode=n,Fa.Suspense=c,Fa.SuspenseList=u,Fa.isContextConsumer=function(x){return g(x)===s},Fa.isContextProvider=function(x){return g(x)===i},Fa.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},Fa.isForwardRef=function(x){return g(x)===o},Fa.isFragment=function(x){return g(x)===r},Fa.isLazy=function(x){return g(x)===f},Fa.isMemo=function(x){return g(x)===d},Fa.isPortal=function(x){return g(x)===t},Fa.isProfiler=function(x){return g(x)===a},Fa.isStrictMode=function(x){return g(x)===n},Fa.isSuspense=function(x){return g(x)===c},Fa.isSuspenseList=function(x){return g(x)===u},Fa.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===a||x===n||x===c||x===u||typeof x=="object"&&x!==null&&(x.$$typeof===f||x.$$typeof===d||x.$$typeof===i||x.$$typeof===s||x.$$typeof===o||x.$$typeof===p||x.getModuleId!==void 0)},Fa.typeOf=g,Fa}var Kz;function L4e(){return Kz||(Kz=1,DI.exports=R4e()),DI.exports}var Use=L4e();function wA(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Qse(e){if(S.isValidElement(e)||Use.isValidElementType(e)||!wA(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=Qse(e[r])}),t}function Cl(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return wA(e)&&wA(t)&&Object.keys(t).forEach(a=>{S.isValidElement(t[a])||Use.isValidElementType(t[a])?n[a]=t[a]:wA(t[a])&&Object.prototype.hasOwnProperty.call(e,a)&&wA(e[a])?n[a]=Cl(e[a],t[a],r):r.clone?n[a]=wA(t[a])?Qse(t[a]):t[a]:n[a]=t[a]}),n}const M4e=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function U4e(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...a}=e,s=M4e(t),i=Object.keys(s);function o(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r})`}function c(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-n/100}${r})`}function u(h,p){const g=i.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r}) and (max-width:${(g!==-1&&typeof t[i[g]]=="number"?t[i[g]]:p)-n/100}${r})`}function d(h){return i.indexOf(h)+1<i.length?u(h,i[i.indexOf(h)+1]):o(h)}function f(h){const p=i.indexOf(h);return p===0?o(i[1]):p===i.length-1?c(i[p]):u(h,i[i.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:i,values:s,up:o,down:c,between:u,only:d,not:f,unit:r,...a}}function qz(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,a)=>{var i,o;const s=/min-width:\s*([0-9.]+)/;return+(((i=n.match(s))==null?void 0:i[1])||0)-+(((o=a.match(s))==null?void 0:o[1])||0)});return r.length?r.reduce((n,a)=>{const s=t[a];return delete n[a],n[a]=s,n},{...t}):t}function Q4e(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function H4e(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,a]=r,s=Number.isNaN(+n)?n||0:+n;return e.containerQueries(a).up(s)}function $4e(e){const t=(s,i)=>s.replace("@media",i?`@container ${i}`:"@container");function r(s,i){s.up=(...o)=>t(e.breakpoints.up(...o),i),s.down=(...o)=>t(e.breakpoints.down(...o),i),s.between=(...o)=>t(e.breakpoints.between(...o),i),s.only=(...o)=>t(e.breakpoints.only(...o),i),s.not=(...o)=>{const c=t(e.breakpoints.not(...o),i);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const n={},a=s=>(r(n,s),n);return r(a),{...e,containerQueries:a}}const V4e={borderRadius:4};function L2(e,t){return t?Cl(e,t,{clone:!1}):e}const JT={xs:0,sm:600,md:900,lg:1200,xl:1536},Wz={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${JT[e]}px)`},z4e={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:JT[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function c0(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const s=n.breakpoints||Wz;return t.reduce((i,o,c)=>(i[s.up(s.keys[c])]=r(t[c]),i),{})}if(typeof t=="object"){const s=n.breakpoints||Wz;return Object.keys(t).reduce((i,o)=>{if(Q4e(s.keys,o)){const c=H4e(n.containerQueries?n:z4e,o);c&&(i[c]=r(t[o],o))}else if(Object.keys(s.values||JT).includes(o)){const c=s.up(o);i[c]=r(t[o],o)}else{const c=o;i[c]=t[c]}return i},{})}return r(t)}function G4e(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((n,a)=>{const s=e.up(a);return n[s]={},n},{}))||{}}function Xz(e,t){return e.reduce((r,n)=>{const a=r[n];return(!a||Object.keys(a).length===0)&&delete r[n],r},t)}function pr(e){if(typeof e!="string")throw new Error(l0(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ZT(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((a,s)=>a&&a[s]?a[s]:null,e);if(n!=null)return n}return t.split(".").reduce((n,a)=>n&&n[a]!=null?n[a]:null,e)}function w4(e,t,r,n=r){let a;return typeof e=="function"?a=e(r):Array.isArray(e)?a=e[r]||n:a=ZT(e,r)||n,t&&(a=t(a,n,e)),a}function Ai(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:a}=e,s=i=>{if(i[t]==null)return null;const o=i[t],c=i.theme,u=ZT(c,n)||{};return c0(i,o,f=>{let h=w4(u,a,f);return f===h&&typeof f=="string"&&(h=w4(u,a,`${t}${f==="default"?"":pr(f)}`,f)),r===!1?h:{[r]:h}})};return s.propTypes={},s.filterProps=[t],s}function K4e(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const q4e={m:"margin",p:"padding"},W4e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Yz={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},X4e=K4e(e=>{if(e.length>2)if(Yz[e])e=Yz[e];else return[e];const[t,r]=e.split(""),n=q4e[t],a=W4e[r]||"";return Array.isArray(a)?a.map(s=>n+s):[n+a]}),oM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...oM,...lM];function FE(e,t,r,n){const a=ZT(e,t,!0)??r;return typeof a=="number"||typeof a=="string"?s=>typeof s=="string"?s:typeof a=="string"?a.startsWith("var(")&&s===0?0:a.startsWith("var(")&&s===1?a:`calc(${s} * ${a})`:a*s:Array.isArray(a)?s=>{if(typeof s=="string")return s;const i=Math.abs(s),o=a[i];return s>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof a=="function"?a:()=>{}}function cM(e){return FE(e,"spacing",8)}function OE(e,t){return typeof t=="string"||t==null?t:e(t)}function Y4e(e,t){return r=>e.reduce((n,a)=>(n[a]=OE(t,r),n),{})}function J4e(e,t,r,n){if(!t.includes(r))return null;const a=X4e(r),s=Y4e(a,n),i=e[r];return c0(e,i,s)}function Hse(e,t){const r=cM(e.theme);return Object.keys(e).map(n=>J4e(e,t,n,r)).reduce(L2,{})}function Ds(e){return Hse(e,oM)}Ds.propTypes={};Ds.filterProps=oM;function Ps(e){return Hse(e,lM)}Ps.propTypes={};Ps.filterProps=lM;function $se(e=8,t=cM({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(s=>{const i=t(s);return typeof i=="number"?`${i}px`:i}).join(" ");return r.mui=!0,r}function eB(...e){const t=e.reduce((n,a)=>(a.filterProps.forEach(s=>{n[s]=a}),n),{}),r=n=>Object.keys(n).reduce((a,s)=>t[s]?L2(a,t[s](n)):a,{});return r.propTypes={},r.filterProps=e.reduce((n,a)=>n.concat(a.filterProps),[]),r}function ad(e){return typeof e!="number"?e:`${e}px solid`}function bd(e,t){return Ai({prop:e,themeKey:"borders",transform:t})}const Z4e=bd("border",ad),eke=bd("borderTop",ad),tke=bd("borderRight",ad),rke=bd("borderBottom",ad),nke=bd("borderLeft",ad),ake=bd("borderColor"),ske=bd("borderTopColor"),ike=bd("borderRightColor"),oke=bd("borderBottomColor"),lke=bd("borderLeftColor"),cke=bd("outline",ad),uke=bd("outlineColor"),tB=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=FE(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:OE(t,n)});return c0(e,e.borderRadius,r)}return null};tB.propTypes={};tB.filterProps=["borderRadius"];eB(Z4e,eke,tke,rke,nke,ake,ske,ike,oke,lke,tB,cke,uke);const rB=e=>{if(e.gap!==void 0&&e.gap!==null){const t=FE(e.theme,"spacing",8),r=n=>({gap:OE(t,n)});return c0(e,e.gap,r)}return null};rB.propTypes={};rB.filterProps=["gap"];const nB=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=FE(e.theme,"spacing",8),r=n=>({columnGap:OE(t,n)});return c0(e,e.columnGap,r)}return null};nB.propTypes={};nB.filterProps=["columnGap"];const aB=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=FE(e.theme,"spacing",8),r=n=>({rowGap:OE(t,n)});return c0(e,e.rowGap,r)}return null};aB.propTypes={};aB.filterProps=["rowGap"];const dke=Ai({prop:"gridColumn"}),fke=Ai({prop:"gridRow"}),Ake=Ai({prop:"gridAutoFlow"}),hke=Ai({prop:"gridAutoColumns"}),pke=Ai({prop:"gridAutoRows"}),mke=Ai({prop:"gridTemplateColumns"}),gke=Ai({prop:"gridTemplateRows"}),xke=Ai({prop:"gridTemplateAreas"}),vke=Ai({prop:"gridArea"});eB(rB,nB,aB,dke,fke,Ake,hke,pke,mke,gke,xke,vke);function H1(e,t){return t==="grey"?t:e}const bke=Ai({prop:"color",themeKey:"palette",transform:H1}),yke=Ai({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:H1}),wke=Ai({prop:"backgroundColor",themeKey:"palette",transform:H1});eB(bke,yke,wke);function su(e){return e<=1&&e!==0?`${e*100}%`:e}const Cke=Ai({prop:"width",transform:su}),uM=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var a,s,i,o,c;const n=((i=(s=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:s.values)==null?void 0:i[r])||JT[r];return n?((c=(o=e.theme)==null?void 0:o.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:su(r)}};return c0(e,e.maxWidth,t)}return null};uM.filterProps=["maxWidth"];const Eke=Ai({prop:"minWidth",transform:su}),Ske=Ai({prop:"height",transform:su}),_ke=Ai({prop:"maxHeight",transform:su}),Nke=Ai({prop:"minHeight",transform:su});Ai({prop:"size",cssProperty:"width",transform:su});Ai({prop:"size",cssProperty:"height",transform:su});const kke=Ai({prop:"boxSizing"});eB(Cke,uM,Eke,Ske,_ke,Nke,kke);const DE={border:{themeKey:"borders",transform:ad},borderTop:{themeKey:"borders",transform:ad},borderRight:{themeKey:"borders",transform:ad},borderBottom:{themeKey:"borders",transform:ad},borderLeft:{themeKey:"borders",transform:ad},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ad},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:tB},color:{themeKey:"palette",transform:H1},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:H1},backgroundColor:{themeKey:"palette",transform:H1},p:{style:Ps},pt:{style:Ps},pr:{style:Ps},pb:{style:Ps},pl:{style:Ps},px:{style:Ps},py:{style:Ps},padding:{style:Ps},paddingTop:{style:Ps},paddingRight:{style:Ps},paddingBottom:{style:Ps},paddingLeft:{style:Ps},paddingX:{style:Ps},paddingY:{style:Ps},paddingInline:{style:Ps},paddingInlineStart:{style:Ps},paddingInlineEnd:{style:Ps},paddingBlock:{style:Ps},paddingBlockStart:{style:Ps},paddingBlockEnd:{style:Ps},m:{style:Ds},mt:{style:Ds},mr:{style:Ds},mb:{style:Ds},ml:{style:Ds},mx:{style:Ds},my:{style:Ds},margin:{style:Ds},marginTop:{style:Ds},marginRight:{style:Ds},marginBottom:{style:Ds},marginLeft:{style:Ds},marginX:{style:Ds},marginY:{style:Ds},marginInline:{style:Ds},marginInlineStart:{style:Ds},marginInlineEnd:{style:Ds},marginBlock:{style:Ds},marginBlockStart:{style:Ds},marginBlockEnd:{style:Ds},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:rB},rowGap:{style:aB},columnGap:{style:nB},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:su},maxWidth:{style:uM},minWidth:{transform:su},height:{transform:su},maxHeight:{transform:su},minHeight:{transform:su},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Tke(...e){const t=e.reduce((n,a)=>n.concat(Object.keys(a)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function Bke(e,t){return typeof e=="function"?e(t):e}function jke(){function e(r,n,a,s){const i={[r]:n,theme:a},o=s[r];if(!o)return{[r]:n};const{cssProperty:c=r,themeKey:u,transform:d,style:f}=o;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const h=ZT(a,u)||{};return f?f(i):c0(i,n,g=>{let x=w4(h,d,g);return g===x&&typeof g=="string"&&(x=w4(h,d,`${r}${g==="default"?"":pr(g)}`,g)),c===!1?x:{[c]:x}})}function t(r){const{sx:n,theme:a={},nested:s}=r||{};if(!n)return null;const i=a.unstable_sxConfig??DE;function o(c){let u=c;if(typeof c=="function")u=c(a);else if(typeof c!="object")return c;if(!u)return null;const d=G4e(a.breakpoints),f=Object.keys(d);let h=d;return Object.keys(u).forEach(p=>{const g=Bke(u[p],a);if(g!=null)if(typeof g=="object")if(i[p])h=L2(h,e(p,g,a,i));else{const x=c0({theme:a},g,v=>({[p]:v}));Tke(x,g)?h[p]=t({sx:g,theme:a,nested:!0}):h=L2(h,x)}else h=L2(h,e(p,g,a,i))}),!s&&a.modularCssLayers?{"@layer sx":qz(a,Xz(f,h))}:qz(a,Xz(f,h))}return Array.isArray(n)?n.map(o):o(n)}return t}const vx=jke();vx.filterProps=["sx"];function Ike(e,t){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[e])||typeof r.getColorSchemeSelector!="function")return{};let a=r.getColorSchemeSelector(e);return a==="&"?t:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:t})}return r.palette.mode===e?t:{}}function sB(e={},...t){const{breakpoints:r={},palette:n={},spacing:a,shape:s={},...i}=e,o=U4e(r),c=$se(a);let u=Cl({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:c,shape:{...V4e,...s}},i);return u=$4e(u),u.applyStyles=Ike,u=t.reduce((d,f)=>Cl(d,f),u),u.unstable_sxConfig={...DE,...i==null?void 0:i.unstable_sxConfig},u.unstable_sx=function(f){return vx({sx:f,theme:this})},u}function Fke(e){return Object.keys(e).length===0}function Oke(e=null){const t=S.useContext(YT);return!t||Fke(t)?e:t}const Dke=sB();function PE(e=Dke){return Oke(e)}function PI(e){const t=Jp(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Pke({styles:e,themeId:t,defaultTheme:r={}}){const n=PE(r),a=t&&n[t]||n;let s=typeof e=="function"?e(a):e;return a.modularCssLayers&&(Array.isArray(s)?s=s.map(i=>PI(typeof i=="function"?i(a):i)):s=PI(s)),l.jsx(D4e,{styles:s})}const Rke=e=>{var n;const t={systemProps:{},otherProps:{}},r=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??DE;return Object.keys(e).forEach(a=>{r[a]?t.systemProps[a]=e[a]:t.otherProps[a]=e[a]}),t};function dM(e){const{sx:t,...r}=e,{systemProps:n,otherProps:a}=Rke(r);let s;return Array.isArray(t)?s=[n,...t]:typeof t=="function"?s=(...i)=>{const o=t(...i);return wA(o)?{...n,...o}:n}:s={...n,...t},{...a,sx:s}}const Jz=e=>e,Lke=()=>{let e=Jz;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Jz}}},Vse=Lke();function zse(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=zse(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Zt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=zse(e))&&(n&&(n+=" "),n+=t);return n}function Mke(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:a}=e,s=Mse("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(vx);return S.forwardRef(function(c,u){const d=PE(r),{className:f,component:h="div",...p}=dM(c);return l.jsx(s,{as:h,ref:u,className:Zt(f,a?a(n):n),theme:t&&d[t]||d,...p})})}const Uke={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function qa(e,t,r="Mui"){const n=Uke[t];return n?`${r}-${n}`:`${Vse.generate(e)}-${t}`}function ka(e,t,r="Mui"){const n={};return t.forEach(a=>{n[a]=qa(e,a,r)}),n}function Gse(e){const{variants:t,...r}=e,n={variants:t,style:Jp(r),isProcessed:!0};return n.style===r||t&&t.forEach(a=>{typeof a.style!="function"&&(a.style=Jp(a.style))}),n}const Qke=sB();function RI(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Rg(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function Hke(e){return e?(t,r)=>r[e]:null}function $ke(e,t,r){e.theme=zke(e.theme)?r:e.theme[t]||e.theme}function AN(e,t,r){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(a=>AN(e,a,r));if(Array.isArray(n==null?void 0:n.variants)){let a;if(n.isProcessed)a=r?Rg(n.style,r):n.style;else{const{variants:s,...i}=n;a=r?Rg(Jp(i),r):i}return Kse(e,n.variants,[a],r)}return n!=null&&n.isProcessed?r?Rg(Jp(n.style),r):n.style:r?Rg(Jp(n),r):n}function Kse(e,t,r=[],n=void 0){var s;let a;e:for(let i=0;i<t.length;i+=1){const o=t[i];if(typeof o.props=="function"){if(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),!o.props(a))continue}else for(const c in o.props)if(e[c]!==o.props[c]&&((s=e.ownerState)==null?void 0:s[c])!==o.props[c])continue e;typeof o.style=="function"?(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),r.push(n?Rg(Jp(o.style(a)),n):o.style(a))):r.push(n?Rg(Jp(o.style),n):o.style)}return r}function qse(e={}){const{themeId:t,defaultTheme:r=Qke,rootShouldForwardProp:n=RI,slotShouldForwardProp:a=RI}=e;function s(o){$ke(o,t,r)}return(o,c={})=>{P4e(o,j=>j.filter(C=>C!==vx));const{name:u,slot:d,skipVariantsResolver:f,skipSx:h,overridesResolver:p=Hke(Kke(d)),...g}=c,x=u&&u.startsWith("Mui")||d?"components":"custom",v=f!==void 0?f:d&&d!=="Root"&&d!=="root"||!1,y=h||!1;let w=RI;d==="Root"||d==="root"?w=n:d?w=a:Gke(o)&&(w=void 0);const E=Mse(o,{shouldForwardProp:w,label:Vke(),...g}),k=j=>{if(j.__emotion_real===j)return j;if(typeof j=="function")return function(N){return AN(N,j,N.theme.modularCssLayers?x:void 0)};if(wA(j)){const C=Gse(j);return function(I){return C.variants?AN(I,C,I.theme.modularCssLayers?x:void 0):I.theme.modularCssLayers?Rg(C.style,x):C.style}}return j},B=(...j)=>{const C=[],N=j.map(k),I=[];if(C.push(s),u&&p&&I.push(function(P){var G,K;const q=(K=(G=P.theme.components)==null?void 0:G[u])==null?void 0:K.styleOverrides;if(!q)return null;const Q={};for(const z in q)Q[z]=AN(P,q[z],P.theme.modularCssLayers?"theme":void 0);return p(P,Q)}),u&&!v&&I.push(function(P){var Q,G;const R=P.theme,q=(G=(Q=R==null?void 0:R.components)==null?void 0:Q[u])==null?void 0:G.variants;return q?Kse(P,q,[],P.theme.modularCssLayers?"theme":void 0):null}),y||I.push(vx),Array.isArray(N[0])){const T=N.shift(),P=new Array(C.length).fill(""),R=new Array(I.length).fill("");let q;q=[...P,...T,...R],q.raw=[...P,...T.raw,...R],C.unshift(q)}const L=[...C,...N,...I],O=E(...L);return o.muiName&&(O.muiName=o.muiName),O};return E.withConfig&&(B.withConfig=E.withConfig),B}}function Vke(e,t){return void 0}function zke(e){for(const t in e)return!1;return!0}function Gke(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Kke(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const qke=qse();function SC(e,t,r=!1){const n={...t};for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=a;if(s==="components"||s==="slots")n[s]={...e[s],...n[s]};else if(s==="componentsProps"||s==="slotProps"){const i=e[s],o=t[s];if(!o)n[s]=i||{};else if(!i)n[s]=o;else{n[s]={...o};for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)){const u=c;n[s][u]=SC(i[u],o[u],r)}}}else s==="className"&&r&&t.className?n.className=Zt(e==null?void 0:e.className,t==null?void 0:t.className):s==="style"&&r&&t.style?n.style={...e==null?void 0:e.style,...t==null?void 0:t.style}:n[s]===void 0&&(n[s]=e[s])}return n}function Wke(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:SC(t.components[r].defaultProps,n)}function Xke({props:e,name:t,defaultTheme:r,themeId:n}){let a=PE(r);return n&&(a=a[n]||a),Wke({theme:a,name:t,props:e})}const mm=typeof window<"u"?S.useLayoutEffect:S.useEffect;function Yke(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function fM(e,t=0,r=1){return Yke(e,t,r)}function Jke(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,a)=>a<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function gm(e){if(e.type)return e;if(e.charAt(0)==="#")return gm(Jke(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(l0(9,e));let n=e.substring(t+1,e.length-1),a;if(r==="color"){if(n=n.split(" "),a=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(l0(10,a))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:a}}const Zke=e=>{const t=gm(e);return t.values.slice(0,3).map((r,n)=>t.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},c2=(e,t)=>{try{return Zke(e)}catch{return e}};function iB(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((a,s)=>s<3?parseInt(a,10):a):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function Wse(e){e=gm(e);const{values:t}=e,r=t[0],n=t[1]/100,a=t[2]/100,s=n*Math.min(a,1-a),i=(u,d=(u+r/30)%12)=>a-s*Math.max(Math.min(d-3,9-d,1),-1);let o="rgb";const c=[Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255)];return e.type==="hsla"&&(o+="a",c.push(t[3])),iB({type:o,values:c})}function WD(e){e=gm(e);let t=e.type==="hsl"||e.type==="hsla"?gm(Wse(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function eTe(e,t){const r=WD(e),n=WD(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function C4(e,t){return e=gm(e),t=fM(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,iB(e)}function hg(e,t,r){try{return C4(e,t)}catch{return e}}function oB(e,t){if(e=gm(e),t=fM(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return iB(e)}function ya(e,t,r){try{return oB(e,t)}catch{return e}}function lB(e,t){if(e=gm(e),t=fM(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return iB(e)}function wa(e,t,r){try{return lB(e,t)}catch{return e}}function tTe(e,t=.15){return WD(e)>.5?oB(e,t):lB(e,t)}function j_(e,t,r){try{return tTe(e,t)}catch{return e}}const rTe=S.createContext(),nTe=()=>S.useContext(rTe)??!1,aTe=S.createContext(void 0);function sTe(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const a=t.components[r];return a.defaultProps?SC(a.defaultProps,n,t.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?SC(a,n,t.components.mergeClassNameAndStyle):n}function iTe({props:e,name:t}){const r=S.useContext(aTe);return sTe({props:e,name:t,theme:{components:r}})}let Zz=0;function oTe(e){const[t,r]=S.useState(e),n=e||t;return S.useEffect(()=>{t==null&&(Zz+=1,r(`mui-${Zz}`))},[t]),n}const lTe={...KN},eG=lTe.useId;function AM(e){if(eG!==void 0){const t=eG();return e??t}return oTe(e)}const tG={theme:void 0};function cTe(e){let t,r;return function(a){let s=t;return(s===void 0||a.theme!==r)&&(tG.theme=a.theme,s=Gse(e(tG)),t=s,r=a.theme),s}}function uTe(e=""){function t(...n){if(!n.length)return"";const a=n[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${a}${t(...n.slice(1))})`:`, ${a}`}return(n,...a)=>`var(--${e?`${e}-`:""}${n}${t(...a)})`}const rG=(e,t,r,n=[])=>{let a=e;t.forEach((s,i)=>{i===t.length-1?Array.isArray(a)?a[Number(s)]=r:a&&typeof a=="object"&&(a[s]=r):a&&typeof a=="object"&&(a[s]||(a[s]=n.includes(s)?[]:{}),a=a[s])})},dTe=(e,t,r)=>{function n(a,s=[],i=[]){Object.entries(a).forEach(([o,c])=>{(!r||r&&!r([...s,o]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?n(c,[...s,o],Array.isArray(c)?[...i,o]:i):t([...s,o],c,i))})}n(e)},fTe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function LI(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},a={},s={},i={};return dTe(e,(o,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!n||!n(o,c))){const d=`--${r?`${r}-`:""}${o.join("-")}`,f=fTe(o,c);Object.assign(a,{[d]:f}),rG(s,o,`var(${d})`,u),rG(i,o,`var(${d}, ${f})`,u)}},o=>o[0]==="vars"),{css:a,vars:s,varsWithDefaults:i}}function ATe(e,t={}){const{getSelector:r=y,disableCssColorScheme:n,colorSchemeSelector:a,enableContrastVars:s}=t,{colorSchemes:i={},components:o,defaultColorScheme:c="light",...u}=e,{vars:d,css:f,varsWithDefaults:h}=LI(u,t);let p=h;const g={},{[c]:x,...v}=i;if(Object.entries(v||{}).forEach(([k,B])=>{const{vars:j,css:C,varsWithDefaults:N}=LI(B,t);p=Cl(p,N),g[k]={css:C,vars:j}}),x){const{css:k,vars:B,varsWithDefaults:j}=LI(x,t);p=Cl(p,j),g[c]={css:k,vars:B}}function y(k,B){var C,N;let j=a;if(a==="class"&&(j=".%s"),a==="data"&&(j="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(j=`[${a}="%s"]`),k){if(j==="media")return e.defaultColorScheme===k?":root":{[`@media (prefers-color-scheme: ${((N=(C=i[k])==null?void 0:C.palette)==null?void 0:N.mode)||k})`]:{":root":B}};if(j)return e.defaultColorScheme===k?`:root, ${j.replace("%s",String(k))}`:j.replace("%s",String(k))}return":root"}return{vars:p,generateThemeVars:()=>{let k={...d};return Object.entries(g).forEach(([,{vars:B}])=>{k=Cl(k,B)}),k},generateStyleSheets:()=>{var I,L;const k=[],B=e.defaultColorScheme||"light";function j(O,T){Object.keys(T).length&&k.push(typeof O=="string"?{[O]:{...T}}:O)}j(r(void 0,{...f}),f);const{[B]:C,...N}=g;if(C){const{css:O}=C,T=(L=(I=i[B])==null?void 0:I.palette)==null?void 0:L.mode,P=!n&&T?{colorScheme:T,...O}:{...O};j(r(B,{...P}),P)}return Object.entries(N).forEach(([O,{css:T}])=>{var q,Q;const P=(Q=(q=i[O])==null?void 0:q.palette)==null?void 0:Q.mode,R=!n&&P?{colorScheme:P,...T}:{...T};j(r(O,{...R}),R)}),s&&k.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),k}}}function hTe(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function Wa(e,t,r=void 0){const n={};for(const a in e){const s=e[a];let i="",o=!0;for(let c=0;c<s.length;c+=1){const u=s[c];u&&(i+=(o===!0?"":" ")+t(u),o=!1,r&&r[u]&&(i+=" "+r[u]))}n[a]=i}return n}function hN(e,t){var r,n,a;return S.isValidElement(e)&&t.indexOf(e.type.muiName??((a=(n=(r=e.type)==null?void 0:r._payload)==null?void 0:n.value)==null?void 0:a.muiName))!==-1}const pTe=(e,t)=>e.filter(r=>t.includes(r)),ly=(e,t,r)=>{const n=e.keys[0];Array.isArray(t)?t.forEach((a,s)=>{r((i,o)=>{s<=e.keys.length-1&&(s===0?Object.assign(i,o):i[e.up(e.keys[s])]=o)},a)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:pTe(e.keys,Object.keys(t))).forEach(s=>{if(e.keys.includes(s)){const i=t[s];i!==void 0&&r((o,c)=>{n===s?Object.assign(o,c):o[e.up(s)]=c},i)}}):(typeof t=="number"||typeof t=="string")&&r((a,s)=>{Object.assign(a,s)},t)};function E4(e){return`--Grid-${e}Spacing`}function cB(e){return`--Grid-parent-${e}Spacing`}const nG="--Grid-columns",$1="--Grid-parent-columns",mTe=({theme:e,ownerState:t})=>{const r={};return ly(e.breakpoints,t.size,(n,a)=>{let s={};a==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),a==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof a=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / var(${$1}) - (var(${$1}) - ${a}) * (var(${cB("column")}) / var(${$1})))`}),n(r,s)}),r},gTe=({theme:e,ownerState:t})=>{const r={};return ly(e.breakpoints,t.offset,(n,a)=>{let s={};a==="auto"&&(s={marginLeft:"auto"}),typeof a=="number"&&(s={marginLeft:a===0?"0px":`calc(100% * ${a} / var(${$1}) + var(${cB("column")}) * ${a} / var(${$1}))`}),n(r,s)}),r},xTe=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={[nG]:12};return ly(e.breakpoints,t.columns,(n,a)=>{const s=a??12;n(r,{[nG]:s,"> *":{[$1]:s}})}),r},vTe=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return ly(e.breakpoints,t.rowSpacing,(n,a)=>{var i;const s=typeof a=="string"?a:(i=e.spacing)==null?void 0:i.call(e,a);n(r,{[E4("row")]:s,"> *":{[cB("row")]:s}})}),r},bTe=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return ly(e.breakpoints,t.columnSpacing,(n,a)=>{var i;const s=typeof a=="string"?a:(i=e.spacing)==null?void 0:i.call(e,a);n(r,{[E4("column")]:s,"> *":{[cB("column")]:s}})}),r},yTe=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return ly(e.breakpoints,t.direction,(n,a)=>{n(r,{flexDirection:a})}),r},wTe=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${E4("row")}) var(${E4("column")})`}}),CTe=e=>{const t=[];return Object.entries(e).forEach(([r,n])=>{n!==!1&&n!==void 0&&t.push(`grid-${r}-${String(n)}`)}),t},ETe=(e,t="xs")=>{function r(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(r(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const n=[];return Object.entries(e).forEach(([a,s])=>{r(s)&&n.push(`spacing-${a}-${String(s)}`)}),n}return[]},STe=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,r])=>`direction-${t}-${r}`):[`direction-xs-${String(e)}`];function _Te(e,t){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,t.keys.forEach(r=>{e[r]!==void 0&&delete e[r]})}const NTe=sB(),kTe=qke("div",{name:"MuiGrid",slot:"Root"});function TTe(e){return Xke({props:e,name:"MuiGrid",defaultTheme:NTe})}function BTe(e={}){const{createStyledComponent:t=kTe,useThemeProps:r=TTe,useTheme:n=PE,componentName:a="MuiGrid"}=e,s=(u,d)=>{const{container:f,direction:h,spacing:p,wrap:g,size:x}=u,v={root:["root",f&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...STe(h),...CTe(x),...f?ETe(p,d.breakpoints.keys[0]):[]]};return Wa(v,y=>qa(a,y),{})};function i(u,d,f=()=>!0){const h={};return u===null||(Array.isArray(u)?u.forEach((p,g)=>{p!==null&&f(p)&&d.keys[g]&&(h[d.keys[g]]=p)}):typeof u=="object"?Object.keys(u).forEach(p=>{const g=u[p];g!=null&&f(g)&&(h[p]=g)}):h[d.keys[0]]=u),h}const o=t(xTe,bTe,vTe,mTe,yTe,wTe,gTe),c=S.forwardRef(function(d,f){const h=n(),p=r(d),g=dM(p);_Te(g,h.breakpoints);const{className:x,children:v,columns:y=12,container:w=!1,component:E="div",direction:k="row",wrap:B="wrap",size:j={},offset:C={},spacing:N=0,rowSpacing:I=N,columnSpacing:L=N,unstable_level:O=0,...T}=g,P=i(j,h.breakpoints,ee=>ee!==!1),R=i(C,h.breakpoints),q=d.columns??(O?void 0:y),Q=d.spacing??(O?void 0:N),G=d.rowSpacing??d.spacing??(O?void 0:I),K=d.columnSpacing??d.spacing??(O?void 0:L),z={...g,level:O,columns:q,container:w,direction:k,wrap:B,spacing:Q,rowSpacing:G,columnSpacing:K,size:P,offset:R},Y=s(z,h);return l.jsx(o,{ref:f,as:E,ownerState:z,className:Zt(Y.root,x),...T,children:S.Children.map(v,ee=>{var M;return S.isValidElement(ee)&&hN(ee,["Grid"])&&w&&ee.props.container?S.cloneElement(ee,{unstable_level:((M=ee.props)==null?void 0:M.unstable_level)??O+1}):ee})})});return c.muiName="Grid",c}function Xse(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:yC.white,default:yC.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Yse=Xse();function Jse(){return{text:{primary:yC.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:yC.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const XD=Jse();function aG(e,t,r,n){const a=n.light||n,s=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=lB(e.main,a):t==="dark"&&(e.dark=oB(e.main,s)))}function sG(e,t,r,n,a){const s=a.light||a,i=a.dark||a*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(s*100).toFixed(0)}%)`:r==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(i*100).toFixed(0)}%)`))}function jTe(e="light"){return e==="dark"?{main:Ov[200],light:Ov[50],dark:Ov[400]}:{main:Ov[700],light:Ov[400],dark:Ov[800]}}function ITe(e="light"){return e==="dark"?{main:Fv[200],light:Fv[50],dark:Fv[400]}:{main:Fv[500],light:Fv[300],dark:Fv[700]}}function FTe(e="light"){return e==="dark"?{main:Iv[500],light:Iv[300],dark:Iv[700]}:{main:Iv[700],light:Iv[400],dark:Iv[800]}}function OTe(e="light"){return e==="dark"?{main:Dv[400],light:Dv[300],dark:Dv[700]}:{main:Dv[700],light:Dv[500],dark:Dv[900]}}function DTe(e="light"){return e==="dark"?{main:Pv[400],light:Pv[300],dark:Pv[700]}:{main:Pv[800],light:Pv[500],dark:Pv[900]}}function PTe(e="light"){return e==="dark"?{main:yw[400],light:yw[300],dark:yw[700]}:{main:"#ed6c02",light:yw[500],dark:yw[900]}}function RTe(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function hM(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:a,...s}=e,i=e.primary||jTe(t),o=e.secondary||ITe(t),c=e.error||FTe(t),u=e.info||OTe(t),d=e.success||DTe(t),f=e.warning||PTe(t);function h(v){return a?RTe(v):eTe(v,XD.text.primary)>=r?XD.text.primary:Yse.text.primary}const p=({color:v,name:y,mainShade:w=500,lightShade:E=300,darkShade:k=700})=>{if(v={...v},!v.main&&v[w]&&(v.main=v[w]),!v.hasOwnProperty("main"))throw new Error(l0(11,y?` (${y})`:"",w));if(typeof v.main!="string")throw new Error(l0(12,y?` (${y})`:"",JSON.stringify(v.main)));return a?(sG(a,v,"light",E,n),sG(a,v,"dark",k,n)):(aG(v,"light",E,n),aG(v,"dark",k,n)),v.contrastText||(v.contrastText=h(v.main)),v};let g;return t==="light"?g=Xse():t==="dark"&&(g=Jse()),Cl({common:{...yC},mode:t,primary:p({color:i,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:c,name:"error"}),warning:p({color:f,name:"warning"}),info:p({color:u,name:"info"}),success:p({color:d,name:"success"}),grey:RNe,contrastThreshold:r,getContrastText:h,augmentColor:p,tonalOffset:n,...g},s)}function LTe(e){const t={};return Object.entries(e).forEach(n=>{const[a,s]=n;typeof s=="object"&&(t[a]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function MTe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function UTe(e){return Math.round(e*1e5)/1e5}const iG={textTransform:"uppercase"},oG='"Roboto", "Helvetica", "Arial", sans-serif';function QTe(e,t){const{fontFamily:r=oG,fontSize:n=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:i=500,fontWeightBold:o=700,htmlFontSize:c=16,allVariants:u,pxToRem:d,...f}=typeof t=="function"?t(e):t,h=n/14,p=d||(v=>`${v/c*h}rem`),g=(v,y,w,E,k)=>({fontFamily:r,fontWeight:v,fontSize:p(y),lineHeight:w,...r===oG?{letterSpacing:`${UTe(E/y)}em`}:{},...k,...u}),x={h1:g(a,96,1.167,-1.5),h2:g(a,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(i,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(i,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(i,14,1.75,.4,iG),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,iG),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cl({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:n,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:i,fontWeightBold:o,...x},f,{clone:!1})}const HTe=.2,$Te=.14,VTe=.12;function cs(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${HTe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${$Te})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${VTe})`].join(",")}const zTe=["none",cs(0,2,1,-1,0,1,1,0,0,1,3,0),cs(0,3,1,-2,0,2,2,0,0,1,5,0),cs(0,3,3,-2,0,3,4,0,0,1,8,0),cs(0,2,4,-1,0,4,5,0,0,1,10,0),cs(0,3,5,-1,0,5,8,0,0,1,14,0),cs(0,3,5,-1,0,6,10,0,0,1,18,0),cs(0,4,5,-2,0,7,10,1,0,2,16,1),cs(0,5,5,-3,0,8,10,1,0,3,14,2),cs(0,5,6,-3,0,9,12,1,0,3,16,2),cs(0,6,6,-3,0,10,14,1,0,4,18,3),cs(0,6,7,-4,0,11,15,1,0,4,20,3),cs(0,7,8,-4,0,12,17,2,0,5,22,4),cs(0,7,8,-4,0,13,19,2,0,5,24,4),cs(0,7,9,-4,0,14,21,2,0,5,26,4),cs(0,8,9,-5,0,15,22,2,0,6,28,5),cs(0,8,10,-5,0,16,24,2,0,6,30,5),cs(0,8,11,-5,0,17,26,2,0,6,32,5),cs(0,9,11,-5,0,18,28,2,0,7,34,6),cs(0,9,12,-6,0,19,29,2,0,7,36,6),cs(0,10,13,-6,0,20,31,3,0,8,38,7),cs(0,10,13,-6,0,21,33,3,0,8,40,7),cs(0,10,14,-6,0,22,35,3,0,8,42,7),cs(0,11,14,-7,0,23,36,3,0,9,44,8),cs(0,11,15,-7,0,24,38,3,0,9,46,8)],GTe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},KTe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lG(e){return`${Math.round(e)}ms`}function qTe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function WTe(e){const t={...GTe,...e.easing},r={...KTe,...e.duration};return{getAutoHeightDuration:qTe,create:(a=["all"],s={})=>{const{duration:i=r.standard,easing:o=t.easeInOut,delay:c=0,...u}=s;return(Array.isArray(a)?a:[a]).map(d=>`${d} ${typeof i=="string"?i:lG(i)} ${o} ${typeof c=="string"?c:lG(c)}`).join(",")},...e,easing:t,duration:r}}const XTe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function YTe(e){return wA(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Zse(e={}){const t={...e};function r(n){const a=Object.entries(n);for(let s=0;s<a.length;s++){const[i,o]=a[s];!YTe(o)||i.startsWith("unstable_")?delete n[i]:wA(o)&&(n[i]={...o},r(n[i]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function cG(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const JTe=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let r=0;for(let n=0;n<t.length;n+=1)r+=+t[n];return r};function ZTe(e){Object.assign(e,{alpha(t,r){const n=this||e;return n.colorSpace?`oklch(from ${t} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:C4(t,JTe(r))},lighten(t,r){const n=this||e;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${t}, #fff ${cG(r)})`:lB(t,r)},darken(t,r){const n=this||e;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${t}, #000 ${cG(r)})`:oB(t,r)}})}function YD(e={},...t){const{breakpoints:r,mixins:n={},spacing:a,palette:s={},transitions:i={},typography:o={},shape:c,colorSpace:u,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(l0(20));const f=hM({...s,colorSpace:u}),h=sB(e);let p=Cl(h,{mixins:MTe(h.breakpoints,n),palette:f,shadows:zTe.slice(),typography:QTe(f,o),transitions:WTe(i),zIndex:{...XTe}});return p=Cl(p,d),p=t.reduce((g,x)=>Cl(g,x),p),p.unstable_sxConfig={...DE,...d==null?void 0:d.unstable_sxConfig},p.unstable_sx=function(x){return vx({sx:x,theme:this})},p.toRuntimeSource=Zse,ZTe(p),p}function JD(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const eBe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=JD(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function eie(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function tie(e){return e==="dark"?eBe:[]}function tBe(e){const{palette:t={mode:"light"},opacity:r,overlays:n,colorSpace:a,...s}=e,i=hM({...t,colorSpace:a});return{palette:i,opacity:{...eie(i.mode),...r},overlays:n||tie(i.mode),...s}}function rBe(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const nBe=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],aBe=e=>(t,r)=>{const n=e.rootSelector||":root",a=e.colorSchemeSelector;let s=a;if(a==="class"&&(s=".%s"),a==="data"&&(s="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(s=`[${a}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const i={};return nBe(e.cssVarPrefix).forEach(o=>{i[o]=r[o],delete r[o]}),s==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:i}}:s?{[s.replace("%s",t)]:i,[`${n}, ${s.replace("%s",t)}`]:r}:{[n]:{...r,...i}}}if(s&&s!=="media")return`${n}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:r}};if(s)return s.replace("%s",String(t))}return n};function sBe(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function _t(e,t,r){!e[t]&&r&&(e[t]=r)}function u2(e){return typeof e!="string"||!e.startsWith("hsl")?e:Wse(e)}function _h(e,t){`${t}Channel`in e||(e[`${t}Channel`]=c2(u2(e[t])))}function iBe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const oA=e=>{try{return e()}catch{}},oBe=(e="mui")=>uTe(e);function MI(e,t,r,n,a){if(!r)return;r=r===!0?{}:r;const s=a==="dark"?"dark":"light";if(!n){t[a]=tBe({...r,palette:{mode:s,...r==null?void 0:r.palette},colorSpace:e});return}const{palette:i,...o}=YD({...n,palette:{mode:s,...r==null?void 0:r.palette},colorSpace:e});return t[a]={...r,palette:i,opacity:{...eie(s),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||tie(s)},o}function lBe(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:a=!1,cssVarPrefix:s="mui",nativeColor:i=!1,shouldSkipGeneratingVar:o=rBe,colorSchemeSelector:c=r.light&&r.dark?"media":void 0,rootSelector:u=":root",...d}=e,f=Object.keys(r)[0],h=n||(r.light&&f!=="light"?"light":f),p=oBe(s),{[h]:g,light:x,dark:v,...y}=r,w={...y};let E=g;if((h==="dark"&&!("dark"in r)||h==="light"&&!("light"in r))&&(E=!0),!E)throw new Error(l0(21,h));let k;i&&(k="oklch");const B=MI(k,w,E,d,h);x&&!w.light&&MI(k,w,x,void 0,"light"),v&&!w.dark&&MI(k,w,v,void 0,"dark");let j={defaultColorScheme:h,...B,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:u,getCssVar:p,colorSchemes:w,font:{...LTe(B.typography),...B.font},spacing:iBe(d.spacing)};Object.keys(j.colorSchemes).forEach(O=>{const T=j.colorSchemes[O].palette,P=q=>{const Q=q.split("-"),G=Q[1],K=Q[2];return p(q,T[G][K])};T.mode==="light"&&(_t(T.common,"background","#fff"),_t(T.common,"onBackground","#000")),T.mode==="dark"&&(_t(T.common,"background","#000"),_t(T.common,"onBackground","#fff"));function R(q,Q,G){if(k){let K;return q===hg&&(K=`transparent ${((1-G)*100).toFixed(0)}%`),q===ya&&(K=`#000 ${(G*100).toFixed(0)}%`),q===wa&&(K=`#fff ${(G*100).toFixed(0)}%`),`color-mix(in ${k}, ${Q}, ${K})`}return q(Q,G)}if(sBe(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){_t(T.Alert,"errorColor",R(ya,T.error.light,.6)),_t(T.Alert,"infoColor",R(ya,T.info.light,.6)),_t(T.Alert,"successColor",R(ya,T.success.light,.6)),_t(T.Alert,"warningColor",R(ya,T.warning.light,.6)),_t(T.Alert,"errorFilledBg",P("palette-error-main")),_t(T.Alert,"infoFilledBg",P("palette-info-main")),_t(T.Alert,"successFilledBg",P("palette-success-main")),_t(T.Alert,"warningFilledBg",P("palette-warning-main")),_t(T.Alert,"errorFilledColor",oA(()=>T.getContrastText(T.error.main))),_t(T.Alert,"infoFilledColor",oA(()=>T.getContrastText(T.info.main))),_t(T.Alert,"successFilledColor",oA(()=>T.getContrastText(T.success.main))),_t(T.Alert,"warningFilledColor",oA(()=>T.getContrastText(T.warning.main))),_t(T.Alert,"errorStandardBg",R(wa,T.error.light,.9)),_t(T.Alert,"infoStandardBg",R(wa,T.info.light,.9)),_t(T.Alert,"successStandardBg",R(wa,T.success.light,.9)),_t(T.Alert,"warningStandardBg",R(wa,T.warning.light,.9)),_t(T.Alert,"errorIconColor",P("palette-error-main")),_t(T.Alert,"infoIconColor",P("palette-info-main")),_t(T.Alert,"successIconColor",P("palette-success-main")),_t(T.Alert,"warningIconColor",P("palette-warning-main")),_t(T.AppBar,"defaultBg",P("palette-grey-100")),_t(T.Avatar,"defaultBg",P("palette-grey-400")),_t(T.Button,"inheritContainedBg",P("palette-grey-300")),_t(T.Button,"inheritContainedHoverBg",P("palette-grey-A100")),_t(T.Chip,"defaultBorder",P("palette-grey-400")),_t(T.Chip,"defaultAvatarColor",P("palette-grey-700")),_t(T.Chip,"defaultIconColor",P("palette-grey-700")),_t(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),_t(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),_t(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),_t(T.LinearProgress,"primaryBg",R(wa,T.primary.main,.62)),_t(T.LinearProgress,"secondaryBg",R(wa,T.secondary.main,.62)),_t(T.LinearProgress,"errorBg",R(wa,T.error.main,.62)),_t(T.LinearProgress,"infoBg",R(wa,T.info.main,.62)),_t(T.LinearProgress,"successBg",R(wa,T.success.main,.62)),_t(T.LinearProgress,"warningBg",R(wa,T.warning.main,.62)),_t(T.Skeleton,"bg",k?R(hg,T.text.primary,.11):`rgba(${P("palette-text-primaryChannel")} / 0.11)`),_t(T.Slider,"primaryTrack",R(wa,T.primary.main,.62)),_t(T.Slider,"secondaryTrack",R(wa,T.secondary.main,.62)),_t(T.Slider,"errorTrack",R(wa,T.error.main,.62)),_t(T.Slider,"infoTrack",R(wa,T.info.main,.62)),_t(T.Slider,"successTrack",R(wa,T.success.main,.62)),_t(T.Slider,"warningTrack",R(wa,T.warning.main,.62));const q=k?R(ya,T.background.default,.6825):j_(T.background.default,.8);_t(T.SnackbarContent,"bg",q),_t(T.SnackbarContent,"color",oA(()=>k?XD.text.primary:T.getContrastText(q))),_t(T.SpeedDialAction,"fabHoverBg",j_(T.background.paper,.15)),_t(T.StepConnector,"border",P("palette-grey-400")),_t(T.StepContent,"border",P("palette-grey-400")),_t(T.Switch,"defaultColor",P("palette-common-white")),_t(T.Switch,"defaultDisabledColor",P("palette-grey-100")),_t(T.Switch,"primaryDisabledColor",R(wa,T.primary.main,.62)),_t(T.Switch,"secondaryDisabledColor",R(wa,T.secondary.main,.62)),_t(T.Switch,"errorDisabledColor",R(wa,T.error.main,.62)),_t(T.Switch,"infoDisabledColor",R(wa,T.info.main,.62)),_t(T.Switch,"successDisabledColor",R(wa,T.success.main,.62)),_t(T.Switch,"warningDisabledColor",R(wa,T.warning.main,.62)),_t(T.TableCell,"border",R(wa,R(hg,T.divider,1),.88)),_t(T.Tooltip,"bg",R(hg,T.grey[700],.92))}if(T.mode==="dark"){_t(T.Alert,"errorColor",R(wa,T.error.light,.6)),_t(T.Alert,"infoColor",R(wa,T.info.light,.6)),_t(T.Alert,"successColor",R(wa,T.success.light,.6)),_t(T.Alert,"warningColor",R(wa,T.warning.light,.6)),_t(T.Alert,"errorFilledBg",P("palette-error-dark")),_t(T.Alert,"infoFilledBg",P("palette-info-dark")),_t(T.Alert,"successFilledBg",P("palette-success-dark")),_t(T.Alert,"warningFilledBg",P("palette-warning-dark")),_t(T.Alert,"errorFilledColor",oA(()=>T.getContrastText(T.error.dark))),_t(T.Alert,"infoFilledColor",oA(()=>T.getContrastText(T.info.dark))),_t(T.Alert,"successFilledColor",oA(()=>T.getContrastText(T.success.dark))),_t(T.Alert,"warningFilledColor",oA(()=>T.getContrastText(T.warning.dark))),_t(T.Alert,"errorStandardBg",R(ya,T.error.light,.9)),_t(T.Alert,"infoStandardBg",R(ya,T.info.light,.9)),_t(T.Alert,"successStandardBg",R(ya,T.success.light,.9)),_t(T.Alert,"warningStandardBg",R(ya,T.warning.light,.9)),_t(T.Alert,"errorIconColor",P("palette-error-main")),_t(T.Alert,"infoIconColor",P("palette-info-main")),_t(T.Alert,"successIconColor",P("palette-success-main")),_t(T.Alert,"warningIconColor",P("palette-warning-main")),_t(T.AppBar,"defaultBg",P("palette-grey-900")),_t(T.AppBar,"darkBg",P("palette-background-paper")),_t(T.AppBar,"darkColor",P("palette-text-primary")),_t(T.Avatar,"defaultBg",P("palette-grey-600")),_t(T.Button,"inheritContainedBg",P("palette-grey-800")),_t(T.Button,"inheritContainedHoverBg",P("palette-grey-700")),_t(T.Chip,"defaultBorder",P("palette-grey-700")),_t(T.Chip,"defaultAvatarColor",P("palette-grey-300")),_t(T.Chip,"defaultIconColor",P("palette-grey-300")),_t(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),_t(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),_t(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),_t(T.LinearProgress,"primaryBg",R(ya,T.primary.main,.5)),_t(T.LinearProgress,"secondaryBg",R(ya,T.secondary.main,.5)),_t(T.LinearProgress,"errorBg",R(ya,T.error.main,.5)),_t(T.LinearProgress,"infoBg",R(ya,T.info.main,.5)),_t(T.LinearProgress,"successBg",R(ya,T.success.main,.5)),_t(T.LinearProgress,"warningBg",R(ya,T.warning.main,.5)),_t(T.Skeleton,"bg",k?R(hg,T.text.primary,.13):`rgba(${P("palette-text-primaryChannel")} / 0.13)`),_t(T.Slider,"primaryTrack",R(ya,T.primary.main,.5)),_t(T.Slider,"secondaryTrack",R(ya,T.secondary.main,.5)),_t(T.Slider,"errorTrack",R(ya,T.error.main,.5)),_t(T.Slider,"infoTrack",R(ya,T.info.main,.5)),_t(T.Slider,"successTrack",R(ya,T.success.main,.5)),_t(T.Slider,"warningTrack",R(ya,T.warning.main,.5));const q=k?R(wa,T.background.default,.985):j_(T.background.default,.98);_t(T.SnackbarContent,"bg",q),_t(T.SnackbarContent,"color",oA(()=>k?Yse.text.primary:T.getContrastText(q))),_t(T.SpeedDialAction,"fabHoverBg",j_(T.background.paper,.15)),_t(T.StepConnector,"border",P("palette-grey-600")),_t(T.StepContent,"border",P("palette-grey-600")),_t(T.Switch,"defaultColor",P("palette-grey-300")),_t(T.Switch,"defaultDisabledColor",P("palette-grey-600")),_t(T.Switch,"primaryDisabledColor",R(ya,T.primary.main,.55)),_t(T.Switch,"secondaryDisabledColor",R(ya,T.secondary.main,.55)),_t(T.Switch,"errorDisabledColor",R(ya,T.error.main,.55)),_t(T.Switch,"infoDisabledColor",R(ya,T.info.main,.55)),_t(T.Switch,"successDisabledColor",R(ya,T.success.main,.55)),_t(T.Switch,"warningDisabledColor",R(ya,T.warning.main,.55)),_t(T.TableCell,"border",R(ya,R(hg,T.divider,1),.68)),_t(T.Tooltip,"bg",R(hg,T.grey[700],.92))}_h(T.background,"default"),_h(T.background,"paper"),_h(T.common,"background"),_h(T.common,"onBackground"),_h(T,"divider"),Object.keys(T).forEach(q=>{const Q=T[q];q!=="tonalOffset"&&Q&&typeof Q=="object"&&(Q.main&&_t(T[q],"mainChannel",c2(u2(Q.main))),Q.light&&_t(T[q],"lightChannel",c2(u2(Q.light))),Q.dark&&_t(T[q],"darkChannel",c2(u2(Q.dark))),Q.contrastText&&_t(T[q],"contrastTextChannel",c2(u2(Q.contrastText))),q==="text"&&(_h(T[q],"primary"),_h(T[q],"secondary")),q==="action"&&(Q.active&&_h(T[q],"active"),Q.selected&&_h(T[q],"selected")))})}),j=t.reduce((O,T)=>Cl(O,T),j);const C={prefix:s,disableCssColorScheme:a,shouldSkipGeneratingVar:o,getSelector:aBe(j),enableContrastVars:i},{vars:N,generateThemeVars:I,generateStyleSheets:L}=ATe(j,C);return j.vars=N,Object.entries(j.colorSchemes[j.defaultColorScheme]).forEach(([O,T])=>{j[O]=T}),j.generateThemeVars=I,j.generateStyleSheets=L,j.generateSpacing=function(){return $se(d.spacing,cM(this))},j.getColorSchemeSelector=hTe(c),j.spacing=j.generateSpacing(),j.shouldSkipGeneratingVar=o,j.unstable_sxConfig={...DE,...d==null?void 0:d.unstable_sxConfig},j.unstable_sx=function(T){return vx({sx:T,theme:this})},j.toRuntimeSource=Zse,j}function uG(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:hM({...r===!0?{}:r.palette,mode:t})})}function rie(e={},...t){const{palette:r,cssVariables:n=!1,colorSchemes:a=r?void 0:{light:!0},defaultColorScheme:s=r==null?void 0:r.mode,...i}=e,o=s||"light",c=a==null?void 0:a[o],u={...a,...r?{[o]:{...typeof c!="boolean"&&c,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return YD(e,...t);let d=r;"palette"in e||u[o]&&(u[o]!==!0?d=u[o].palette:o==="dark"&&(d={mode:"dark"}));const f=YD({...e,palette:d},...t);return f.defaultColorScheme=o,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},uG(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},uG(f,"light",u.light)),f}return!r&&!("light"in u)&&o==="light"&&(u.light=!0),lBe({...i,colorSchemes:u,defaultColorScheme:o,...typeof n!="boolean"&&n},...t)}const pM=rie();function uB(){const e=PE(pM);return e[KT]||e}function nie(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const yd=e=>nie(e)&&e!=="classes",Dr=qse({themeId:KT,defaultTheme:pM,rootShouldForwardProp:yd});function dG(...e){return e.reduce((t,r)=>r==null?t:function(...a){t.apply(this,a),r.apply(this,a)},()=>{})}function cBe(e){return l.jsx(Pke,{...e,defaultTheme:pM,themeId:KT})}function uBe(e){return function(r){return l.jsx(cBe,{styles:typeof e=="function"?n=>e({theme:n,...r}):e})}}function dBe(){return dM}const Ks=cTe;function ns(e){return iTe(e)}function fBe(e){return qa("MuiSvgIcon",e)}ka("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ABe=e=>{const{color:t,fontSize:r,classes:n}=e,a={root:["root",t!=="inherit"&&`color${pr(t)}`,`fontSize${pr(r)}`]};return Wa(a,fBe,n)},hBe=Dr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${pr(r.color)}`],t[`fontSize${pr(r.fontSize)}`]]}})(Ks(({theme:e})=>{var t,r,n,a,s,i,o,c,u,d,f,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(t=e.transitions)==null?void 0:t.create)==null?void 0:a.call(t,"fill",{duration:(n=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((i=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:i.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:c.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,x])=>x&&x.main).map(([x])=>{var v,y;return{props:{color:x},style:{color:(y=(v=(e.vars??e).palette)==null?void 0:v[x])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(h=(f=(e.vars??e).palette)==null?void 0:f.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(g=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),ZD=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiSvgIcon"}),{children:a,className:s,color:i="inherit",component:o="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:h="0 0 24 24",...p}=n,g=S.isValidElement(a)&&a.type==="svg",x={...n,color:i,component:o,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:h,hasSvgAsChild:g},v={};d||(v.viewBox=h);const y=ABe(x);return l.jsxs(hBe,{as:o,className:Zt(y.root,s),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:r,...v,...p,...g&&a.props,ownerState:x,children:[g?a.props.children:a,f?l.jsx("title",{children:f}):null]})});ZD.muiName="SvgIcon";function aie(e,t){function r(n,a){return l.jsx(ZD,{"data-testid":void 0,ref:a,...n,children:e})}return r.muiName=ZD.muiName,S.memo(S.forwardRef(r))}function sie(e,t=166){let r;function n(...a){const s=()=>{e.apply(this,a)};clearTimeout(r),r=setTimeout(s,t)}return n.clear=()=>{clearTimeout(r)},n}function wf(e){return e&&e.ownerDocument||document}function u0(e){return wf(e).defaultView||window}function fG(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function AG(e){const{controlled:t,default:r,name:n,state:a="value"}=e,{current:s}=S.useRef(t!==void 0),[i,o]=S.useState(r),c=s?t:i,u=S.useCallback(d=>{s||o(d)},[]);return[c,u]}function Yg(e){const t=S.useRef(e);return mm(()=>{t.current=e}),S.useRef((...r)=>(0,t.current)(...r)).current}function _l(...e){const t=S.useRef(void 0),r=S.useCallback(n=>{const a=e.map(s=>{if(s==null)return null;if(typeof s=="function"){const i=s,o=i(n);return typeof o=="function"?o:()=>{i(null)}}return s.current=n,()=>{s.current=null}});return()=>{a.forEach(s=>s==null?void 0:s())}},e);return S.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}function pBe(e,t){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof t=="function"}function mBe(e,t){if(!e)return t;function r(i,o){const c={};return Object.keys(o).forEach(u=>{pBe(u,o[u])&&typeof i[u]=="function"&&(c[u]=(...d)=>{i[u](...d),o[u](...d)})}),c}if(typeof e=="function"||typeof t=="function")return i=>{const o=typeof t=="function"?t(i):t,c=typeof e=="function"?e({...i,...o}):e,u=Zt(i==null?void 0:i.className,o==null?void 0:o.className,c==null?void 0:c.className),d=r(c,o);return{...o,...c,...d,...!!u&&{className:u},...(o==null?void 0:o.style)&&(c==null?void 0:c.style)&&{style:{...o.style,...c.style}},...(o==null?void 0:o.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const n=t,a=r(e,n),s=Zt(n==null?void 0:n.className,e==null?void 0:e.className);return{...t,...e,...a,...!!s&&{className:s},...(n==null?void 0:n.style)&&(e==null?void 0:e.style)&&{style:{...n.style,...e.style}},...(n==null?void 0:n.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function iie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eP(e,t){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},eP(e,t)}function oie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,eP(e,t)}var RE=xre();const I_=Tl(RE),hG={disabled:!1},S4=Ze.createContext(null);var gBe=function(t){return t.scrollTop},d2="unmounted",Cg="exited",Eg="entering",h1="entered",tP="exiting",VA=function(e){oie(t,e);function t(n,a){var s;s=e.call(this,n,a)||this;var i=a,o=i&&!i.isMounting?n.enter:n.appear,c;return s.appearStatus=null,n.in?o?(c=Cg,s.appearStatus=Eg):c=h1:n.unmountOnExit||n.mountOnEnter?c=d2:c=Cg,s.state={status:c},s.nextCallback=null,s}t.getDerivedStateFromProps=function(a,s){var i=a.in;return i&&s.status===d2?{status:Cg}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var s=null;if(a!==this.props){var i=this.state.status;this.props.in?i!==Eg&&i!==h1&&(s=Eg):(i===Eg||i===h1)&&(s=tP)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,s,i,o;return s=i=o=a,a!=null&&typeof a!="number"&&(s=a.exit,i=a.enter,o=a.appear!==void 0?a.appear:i),{exit:s,enter:i,appear:o}},r.updateStatus=function(a,s){if(a===void 0&&(a=!1),s!==null)if(this.cancelNextCallback(),s===Eg){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:I_.findDOMNode(this);i&&gBe(i)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cg&&this.setState({status:d2})},r.performEnter=function(a){var s=this,i=this.props.enter,o=this.context?this.context.isMounting:a,c=this.props.nodeRef?[o]:[I_.findDOMNode(this),o],u=c[0],d=c[1],f=this.getTimeouts(),h=o?f.appear:f.enter;if(!a&&!i||hG.disabled){this.safeSetState({status:h1},function(){s.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Eg},function(){s.props.onEntering(u,d),s.onTransitionEnd(h,function(){s.safeSetState({status:h1},function(){s.props.onEntered(u,d)})})})},r.performExit=function(){var a=this,s=this.props.exit,i=this.getTimeouts(),o=this.props.nodeRef?void 0:I_.findDOMNode(this);if(!s||hG.disabled){this.safeSetState({status:Cg},function(){a.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:tP},function(){a.props.onExiting(o),a.onTransitionEnd(i.exit,function(){a.safeSetState({status:Cg},function(){a.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,s){s=this.setNextCallback(s),this.setState(a,s)},r.setNextCallback=function(a){var s=this,i=!0;return this.nextCallback=function(o){i&&(i=!1,s.nextCallback=null,a(o))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},r.onTransitionEnd=function(a,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:I_.findDOMNode(this),o=a==null&&!this.props.addEndListener;if(!i||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===d2)return null;var s=this.props,i=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=iie(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ze.createElement(S4.Provider,{value:null},typeof i=="function"?i(a,o):Ze.cloneElement(Ze.Children.only(i),o))},t}(Ze.Component);VA.contextType=S4;VA.propTypes={};function Rv(){}VA.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Rv,onEntering:Rv,onEntered:Rv,onExit:Rv,onExiting:Rv,onExited:Rv};VA.UNMOUNTED=d2;VA.EXITED=Cg;VA.ENTERING=Eg;VA.ENTERED=h1;VA.EXITING=tP;function xBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mM(e,t){var r=function(s){return t&&S.isValidElement(s)?t(s):s},n=Object.create(null);return e&&S.Children.map(e,function(a){return a}).forEach(function(a){n[a.key]=r(a)}),n}function vBe(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),a=[];for(var s in e)s in t?a.length&&(n[s]=a,a=[]):a.push(s);var i,o={};for(var c in t){if(n[c])for(i=0;i<n[c].length;i++){var u=n[c][i];o[n[c][i]]=r(u)}o[c]=r(c)}for(i=0;i<a.length;i++)o[a[i]]=r(a[i]);return o}function Lg(e,t,r){return r[t]!=null?r[t]:e.props[t]}function bBe(e,t){return mM(e.children,function(r){return S.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Lg(r,"appear",e),enter:Lg(r,"enter",e),exit:Lg(r,"exit",e)})})}function yBe(e,t,r){var n=mM(e.children),a=vBe(t,n);return Object.keys(a).forEach(function(s){var i=a[s];if(S.isValidElement(i)){var o=s in t,c=s in n,u=t[s],d=S.isValidElement(u)&&!u.props.in;c&&(!o||d)?a[s]=S.cloneElement(i,{onExited:r.bind(null,i),in:!0,exit:Lg(i,"exit",e),enter:Lg(i,"enter",e)}):!c&&o&&!d?a[s]=S.cloneElement(i,{in:!1}):c&&o&&S.isValidElement(u)&&(a[s]=S.cloneElement(i,{onExited:r.bind(null,i),in:u.props.in,exit:Lg(i,"exit",e),enter:Lg(i,"enter",e)}))}}),a}var wBe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},CBe={component:"div",childFactory:function(t){return t}},gM=function(e){oie(t,e);function t(n,a){var s;s=e.call(this,n,a)||this;var i=s.handleExited.bind(xBe(s));return s.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},s}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,s){var i=s.children,o=s.handleExited,c=s.firstRender;return{children:c?bBe(a,o):yBe(a,i,o),firstRender:!1}},r.handleExited=function(a,s){var i=mM(this.props.children);a.key in i||(a.props.onExited&&a.props.onExited(s),this.mounted&&this.setState(function(o){var c=b4({},o.children);return delete c[a.key],{children:c}}))},r.render=function(){var a=this.props,s=a.component,i=a.childFactory,o=iie(a,["component","childFactory"]),c=this.state.contextValue,u=wBe(this.state.children).map(i);return delete o.appear,delete o.enter,delete o.exit,s===null?Ze.createElement(S4.Provider,{value:c},u):Ze.createElement(S4.Provider,{value:c},Ze.createElement(s,o,u))},t}(Ze.Component);gM.propTypes={};gM.defaultProps=CBe;const pG={};function lie(e,t){const r=S.useRef(pG);return r.current===pG&&(r.current=e(t)),r}const EBe=[];function SBe(e){S.useEffect(e,EBe)}class xM{constructor(){fg(this,"currentId",null);fg(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});fg(this,"disposeEffect",()=>this.clear)}static create(){return new xM}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function cie(){const e=lie(xM.create).current;return SBe(e.disposeEffect),e}const uie=e=>e.scrollTop;function _4(e,t){const{timeout:r,easing:n,style:a={}}=e;return{duration:a.transitionDuration??(typeof r=="number"?r:r[t.mode]||0),easing:a.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:a.transitionDelay}}function _Be(e){return qa("MuiPaper",e)}ka("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const NBe=e=>{const{square:t,elevation:r,variant:n,classes:a}=e,s={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return Wa(s,_Be,a)},kBe=Dr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(Ks(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),rP=S.forwardRef(function(t,r){var p;const n=ns({props:t,name:"MuiPaper"}),a=uB(),{className:s,component:i="div",elevation:o=1,square:c=!1,variant:u="elevation",...d}=n,f={...n,component:i,elevation:o,square:c,variant:u},h=NBe(f);return l.jsx(kBe,{as:i,ownerState:f,className:Zt(h.root,s),ref:r,...d,style:{...u==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[o],...a.vars&&{"--Paper-overlay":(p=a.vars.overlays)==null?void 0:p[o]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${C4("#fff",JD(o))}, ${C4("#fff",JD(o))})`}},...d.style}})});function TBe(e){return typeof e=="string"}function die(e,t,r){return e===void 0||TBe(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function fie(e,t,r){return typeof e=="function"?e(t,r):e}function Aie(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function mG(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function hie(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:a,className:s}=e;if(!t){const p=Zt(r==null?void 0:r.className,s,a==null?void 0:a.className,n==null?void 0:n.className),g={...r==null?void 0:r.style,...a==null?void 0:a.style,...n==null?void 0:n.style},x={...r,...a,...n};return p.length>0&&(x.className=p),Object.keys(g).length>0&&(x.style=g),{props:x,internalRef:void 0}}const i=Aie({...a,...n}),o=mG(n),c=mG(a),u=t(i),d=Zt(u==null?void 0:u.className,r==null?void 0:r.className,s,a==null?void 0:a.className,n==null?void 0:n.className),f={...u==null?void 0:u.style,...r==null?void 0:r.style,...a==null?void 0:a.style,...n==null?void 0:n.style},h={...u,...r,...c,...o};return d.length>0&&(h.className=d),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:u.ref}}function fo(e,t){const{className:r,elementType:n,ownerState:a,externalForwardedProps:s,internalForwardedProps:i,shouldForwardComponentProp:o=!1,...c}=t,{component:u,slots:d={[e]:void 0},slotProps:f={[e]:void 0},...h}=s,p=d[e]||n,g=fie(f[e],a),{props:{component:x,...v},internalRef:y}=hie({className:r,...c,externalForwardedProps:e==="root"?h:void 0,externalSlotProps:g}),w=_l(y,g==null?void 0:g.ref,t.ref),E=e==="root"?x||u:x,k=die(p,{...e==="root"&&!u&&!d[e]&&i,...e!=="root"&&!d[e]&&i,...v,...E&&!o&&{as:E},...E&&o&&{component:E},ref:w},a);return[p,k]}function gG(e){try{return e.matches(":focus-visible")}catch{}return!1}class N4{constructor(){fg(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new N4}static use(){const t=lie(N4.create).current,[r,n]=S.useState(!1);return t.shouldMount=r,t.setShouldMount=n,S.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=jBe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function BBe(){return N4.use()}function jBe(){let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r}function IBe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:a,rippleY:s,rippleSize:i,in:o,onExited:c,timeout:u}=e,[d,f]=S.useState(!1),h=Zt(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),p={width:i,height:i,top:-(i/2)+s,left:-(i/2)+a},g=Zt(r.child,d&&r.childLeaving,n&&r.childPulsate);return!o&&!d&&f(!0),S.useEffect(()=>{if(!o&&c!=null){const x=setTimeout(c,u);return()=>{clearTimeout(x)}}},[c,o,u]),l.jsx("span",{className:h,style:p,children:l.jsx("span",{className:g})})}const nd=ka("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),nP=550,FBe=80,OBe=IE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,DBe=IE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,PBe=IE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,RBe=Dr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),LBe=Dr(IBe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${nd.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${OBe};
    animation-duration: ${nP}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${nd.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${nd.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${nd.childLeaving} {
    opacity: 0;
    animation-name: ${DBe};
    animation-duration: ${nP}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${nd.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${PBe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,MBe=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiTouchRipple"}),{center:a=!1,classes:s={},className:i,...o}=n,[c,u]=S.useState([]),d=S.useRef(0),f=S.useRef(null);S.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const h=S.useRef(!1),p=cie(),g=S.useRef(null),x=S.useRef(null),v=S.useCallback(k=>{const{pulsate:B,rippleX:j,rippleY:C,rippleSize:N,cb:I}=k;u(L=>[...L,l.jsx(LBe,{classes:{ripple:Zt(s.ripple,nd.ripple),rippleVisible:Zt(s.rippleVisible,nd.rippleVisible),ripplePulsate:Zt(s.ripplePulsate,nd.ripplePulsate),child:Zt(s.child,nd.child),childLeaving:Zt(s.childLeaving,nd.childLeaving),childPulsate:Zt(s.childPulsate,nd.childPulsate)},timeout:nP,pulsate:B,rippleX:j,rippleY:C,rippleSize:N},d.current)]),d.current+=1,f.current=I},[s]),y=S.useCallback((k={},B={},j=()=>{})=>{const{pulsate:C=!1,center:N=a||B.pulsate,fakeElement:I=!1}=B;if((k==null?void 0:k.type)==="mousedown"&&h.current){h.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(h.current=!0);const L=I?null:x.current,O=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let T,P,R;if(N||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)T=Math.round(O.width/2),P=Math.round(O.height/2);else{const{clientX:q,clientY:Q}=k.touches&&k.touches.length>0?k.touches[0]:k;T=Math.round(q-O.left),P=Math.round(Q-O.top)}if(N)R=Math.sqrt((2*O.width**2+O.height**2)/3),R%2===0&&(R+=1);else{const q=Math.max(Math.abs((L?L.clientWidth:0)-T),T)*2+2,Q=Math.max(Math.abs((L?L.clientHeight:0)-P),P)*2+2;R=Math.sqrt(q**2+Q**2)}k!=null&&k.touches?g.current===null&&(g.current=()=>{v({pulsate:C,rippleX:T,rippleY:P,rippleSize:R,cb:j})},p.start(FBe,()=>{g.current&&(g.current(),g.current=null)})):v({pulsate:C,rippleX:T,rippleY:P,rippleSize:R,cb:j})},[a,v,p]),w=S.useCallback(()=>{y({},{pulsate:!0})},[y]),E=S.useCallback((k,B)=>{if(p.clear(),(k==null?void 0:k.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{E(k,B)});return}g.current=null,u(j=>j.length>0?j.slice(1):j),f.current=B},[p]);return S.useImperativeHandle(r,()=>({pulsate:w,start:y,stop:E}),[w,y,E]),l.jsx(RBe,{className:Zt(nd.root,s.root,i),ref:x,...o,children:l.jsx(gM,{component:null,exit:!0,children:c})})});function UBe(e){return qa("MuiButtonBase",e)}const QBe=ka("MuiButtonBase",["root","disabled","focusVisible"]),HBe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:a}=e,i=Wa({root:["root",t&&"disabled",r&&"focusVisible"]},UBe,a);return r&&n&&(i.root+=` ${n}`),i},$Be=Dr("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${QBe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),k4=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiButtonBase"}),{action:a,centerRipple:s=!1,children:i,className:o,component:c="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:f=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:x,onClick:v,onContextMenu:y,onDragLeave:w,onFocus:E,onFocusVisible:k,onKeyDown:B,onKeyUp:j,onMouseDown:C,onMouseLeave:N,onMouseUp:I,onTouchEnd:L,onTouchMove:O,onTouchStart:T,tabIndex:P=0,TouchRippleProps:R,touchRippleRef:q,type:Q,...G}=n,K=S.useRef(null),z=BBe(),Y=_l(z.ref,q),[ee,M]=S.useState(!1);u&&ee&&M(!1),S.useImperativeHandle(a,()=>({focusVisible:()=>{M(!0),K.current.focus()}}),[]);const H=z.shouldMount&&!d&&!u;S.useEffect(()=>{ee&&h&&!d&&z.pulsate()},[d,h,ee,z]);const W=Nh(z,"start",C,f),Z=Nh(z,"stop",y,f),ae=Nh(z,"stop",w,f),oe=Nh(z,"stop",I,f),se=Nh(z,"stop",De=>{ee&&De.preventDefault(),N&&N(De)},f),ce=Nh(z,"start",T,f),de=Nh(z,"stop",L,f),ke=Nh(z,"stop",O,f),re=Nh(z,"stop",De=>{gG(De.target)||M(!1),x&&x(De)},!1),_e=Yg(De=>{K.current||(K.current=De.currentTarget),gG(De.target)&&(M(!0),k&&k(De)),E&&E(De)}),Ne=()=>{const De=K.current;return c&&c!=="button"&&!(De.tagName==="A"&&De.href)},Se=Yg(De=>{h&&!De.repeat&&ee&&De.key===" "&&z.stop(De,()=>{z.start(De)}),De.target===De.currentTarget&&Ne()&&De.key===" "&&De.preventDefault(),B&&B(De),De.target===De.currentTarget&&Ne()&&De.key==="Enter"&&!u&&(De.preventDefault(),v&&v(De))}),he=Yg(De=>{h&&De.key===" "&&ee&&!De.defaultPrevented&&z.stop(De,()=>{z.pulsate(De)}),j&&j(De),v&&De.target===De.currentTarget&&Ne()&&De.key===" "&&!De.defaultPrevented&&v(De)});let Be=c;Be==="button"&&(G.href||G.to)&&(Be=g);const Le={};Be==="button"?(Le.type=Q===void 0?"button":Q,Le.disabled=u):(!G.href&&!G.to&&(Le.role="button"),u&&(Le["aria-disabled"]=u));const Ge=_l(r,K),xe={...n,centerRipple:s,component:c,disabled:u,disableRipple:d,disableTouchRipple:f,focusRipple:h,tabIndex:P,focusVisible:ee},Ie=HBe(xe);return l.jsxs($Be,{as:Be,className:Zt(Ie.root,o),ownerState:xe,onBlur:re,onClick:v,onContextMenu:Z,onFocus:_e,onKeyDown:Se,onKeyUp:he,onMouseDown:W,onMouseLeave:se,onMouseUp:oe,onDragLeave:ae,onTouchEnd:de,onTouchMove:ke,onTouchStart:ce,ref:Ge,tabIndex:u?-1:P,type:Q,...Le,...G,children:[i,H?l.jsx(MBe,{ref:Y,center:s,...R}):null]})});function Nh(e,t,r,n=!1){return Yg(a=>(r&&r(a),n||e[t](a),!0))}function VBe(e){return typeof e.main=="string"}function zBe(e,t=[]){if(!VBe(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function sf(e=[]){return([,t])=>t&&zBe(t,e)}function GBe(e){return qa("MuiCircularProgress",e)}ka("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const pp=44,aP=IE`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,sP=IE`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,KBe=typeof aP!="string"?iM`
        animation: ${aP} 1.4s linear infinite;
      `:null,qBe=typeof sP!="string"?iM`
        animation: ${sP} 1.4s ease-in-out infinite;
      `:null,WBe=e=>{const{classes:t,variant:r,color:n,disableShrink:a}=e,s={root:["root",r,`color${pr(n)}`],svg:["svg"],circle:["circle",`circle${pr(r)}`,a&&"circleDisableShrink"]};return Wa(s,GBe,t)},XBe=Dr("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${pr(r.color)}`]]}})(Ks(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:KBe||{animation:`${aP} 1.4s linear infinite`}},...Object.entries(e.palette).filter(sf()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),YBe=Dr("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),JBe=Dr("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${pr(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(Ks(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:qBe||{animation:`${sP} 1.4s ease-in-out infinite`}}]}))),pie=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiCircularProgress"}),{className:a,color:s="primary",disableShrink:i=!1,size:o=40,style:c,thickness:u=3.6,value:d=0,variant:f="indeterminate",...h}=n,p={...n,color:s,disableShrink:i,size:o,thickness:u,value:d,variant:f},g=WBe(p),x={},v={},y={};if(f==="determinate"){const w=2*Math.PI*((pp-u)/2);x.strokeDasharray=w.toFixed(3),y["aria-valuenow"]=Math.round(d),x.strokeDashoffset=`${((100-d)/100*w).toFixed(3)}px`,v.transform="rotate(-90deg)"}return l.jsx(XBe,{className:Zt(g.root,a),style:{width:o,height:o,...v,...c},ownerState:p,ref:r,role:"progressbar",...y,...h,children:l.jsx(YBe,{className:g.svg,ownerState:p,viewBox:`${pp/2} ${pp/2} ${pp} ${pp}`,children:l.jsx(JBe,{className:g.circle,style:x,ownerState:p,cx:pp,cy:pp,r:(pp-u)/2,fill:"none",strokeWidth:u})})})});function ZBe(e){return qa("MuiTypography",e)}ka("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const eje={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},tje=dBe(),rje=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:a,variant:s,classes:i}=e,o={root:["root",s,e.align!=="inherit"&&`align${pr(t)}`,r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]};return Wa(o,ZBe,i)},nje=Dr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${pr(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(Ks(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(e.palette).filter(sf()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${pr(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),xG={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},F_=S.forwardRef(function(t,r){const{color:n,...a}=ns({props:t,name:"MuiTypography"}),s=!eje[n],i=tje({...a,...s&&{color:n}}),{align:o="inherit",className:c,component:u,gutterBottom:d=!1,noWrap:f=!1,paragraph:h=!1,variant:p="body1",variantMapping:g=xG,...x}=i,v={...i,align:o,color:n,className:c,component:u,gutterBottom:d,noWrap:f,paragraph:h,variant:p,variantMapping:g},y=u||(h?"p":g[p]||xG[p])||"span",w=rje(v);return l.jsx(nje,{as:y,ref:r,className:Zt(w.root,c),...x,ownerState:v,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...x.style}})});function aje(e){var f;const{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:a=!1,...s}=e,i=a?{}:fie(r,n),{props:o,internalRef:c}=hie({...s,externalSlotProps:i}),u=_l(c,i==null?void 0:i.ref,(f=e.additionalProps)==null?void 0:f.ref);return die(t,{...o,ref:u},n)}function LE(e){var t;return parseInt(S.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function sje(e){return typeof e=="function"?e():e}const ije=S.forwardRef(function(t,r){const{children:n,container:a,disablePortal:s=!1}=t,[i,o]=S.useState(null),c=_l(S.isValidElement(n)?LE(n):null,r);if(mm(()=>{s||o(sje(a)||document.body)},[a,s]),mm(()=>{if(i&&!s)return fG(r,i),()=>{fG(r,null)}},[r,i,s]),s){if(S.isValidElement(n)){const u={ref:c};return S.cloneElement(n,u)}return n}return i&&RE.createPortal(n,i)}),oje=aie(l.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function lje(e){return qa("MuiChip",e)}const Fn=ka("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),cje=e=>{const{classes:t,disabled:r,size:n,color:a,iconColor:s,onDelete:i,clickable:o,variant:c}=e,u={root:["root",c,r&&"disabled",`size${pr(n)}`,`color${pr(a)}`,o&&"clickable",o&&`clickableColor${pr(a)}`,i&&"deletable",i&&`deletableColor${pr(a)}`,`${c}${pr(a)}`],label:["label",`label${pr(n)}`],avatar:["avatar",`avatar${pr(n)}`,`avatarColor${pr(a)}`],icon:["icon",`icon${pr(n)}`,`iconColor${pr(s)}`],deleteIcon:["deleteIcon",`deleteIcon${pr(n)}`,`deleteIconColor${pr(a)}`,`deleteIcon${pr(c)}Color${pr(a)}`]};return Wa(u,lje,t)},uje=Dr("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:a,clickable:s,onDelete:i,size:o,variant:c}=r;return[{[`& .${Fn.avatar}`]:t.avatar},{[`& .${Fn.avatar}`]:t[`avatar${pr(o)}`]},{[`& .${Fn.avatar}`]:t[`avatarColor${pr(n)}`]},{[`& .${Fn.icon}`]:t.icon},{[`& .${Fn.icon}`]:t[`icon${pr(o)}`]},{[`& .${Fn.icon}`]:t[`iconColor${pr(a)}`]},{[`& .${Fn.deleteIcon}`]:t.deleteIcon},{[`& .${Fn.deleteIcon}`]:t[`deleteIcon${pr(o)}`]},{[`& .${Fn.deleteIcon}`]:t[`deleteIconColor${pr(n)}`]},{[`& .${Fn.deleteIcon}`]:t[`deleteIcon${pr(c)}Color${pr(n)}`]},t.root,t[`size${pr(o)}`],t[`color${pr(n)}`],s&&t.clickable,s&&n!=="default"&&t[`clickableColor${pr(n)})`],i&&t.deletable,i&&n!=="default"&&t[`deletableColor${pr(n)}`],t[c],t[`${c}${pr(n)}`]]}})(Ks(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Fn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Fn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Fn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Fn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Fn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Fn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Fn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Fn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Fn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(sf(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main,color:(e.vars||e).palette[r].contrastText,[`& .${Fn.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[r].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${Fn.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${Fn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Fn.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(sf(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${Fn.focusVisible}`]:{background:(e.vars||e).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${Fn.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(sf(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${Fn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Fn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Fn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Fn.avatar}`]:{marginLeft:4},[`& .${Fn.avatarSmall}`]:{marginLeft:2},[`& .${Fn.icon}`]:{marginLeft:4},[`& .${Fn.iconSmall}`]:{marginLeft:2},[`& .${Fn.deleteIcon}`]:{marginRight:5},[`& .${Fn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(sf()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(e.vars||e).palette[r].main,border:`1px solid ${e.alpha((e.vars||e).palette[r].main,.7)}`,[`&.${Fn.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${Fn.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.focusOpacity)},[`& .${Fn.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[r].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].main}}}}))]}})),dje=Dr("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${pr(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function vG(e){return e.key==="Backspace"||e.key==="Delete"}const fje=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiChip"}),{avatar:a,className:s,clickable:i,color:o="default",component:c,deleteIcon:u,disabled:d=!1,icon:f,label:h,onClick:p,onDelete:g,onKeyDown:x,onKeyUp:v,size:y="medium",variant:w="filled",tabIndex:E,skipFocusWhenDisabled:k=!1,slots:B={},slotProps:j={},...C}=n,N=S.useRef(null),I=_l(N,r),L=ae=>{ae.stopPropagation(),g&&g(ae)},O=ae=>{ae.currentTarget===ae.target&&vG(ae)&&ae.preventDefault(),x&&x(ae)},T=ae=>{ae.currentTarget===ae.target&&g&&vG(ae)&&g(ae),v&&v(ae)},P=i!==!1&&p?!0:i,R=P||g?k4:c||"div",q={...n,component:R,disabled:d,size:y,color:o,iconColor:S.isValidElement(f)&&f.props.color||o,onDelete:!!g,clickable:P,variant:w},Q=cje(q),G=R===k4?{component:c||"div",focusVisibleClassName:Q.focusVisible,...g&&{disableRipple:!0}}:{};let K=null;g&&(K=u&&S.isValidElement(u)?S.cloneElement(u,{className:Zt(u.props.className,Q.deleteIcon),onClick:L}):l.jsx(oje,{className:Q.deleteIcon,onClick:L}));let z=null;a&&S.isValidElement(a)&&(z=S.cloneElement(a,{className:Zt(Q.avatar,a.props.className)}));let Y=null;f&&S.isValidElement(f)&&(Y=S.cloneElement(f,{className:Zt(Q.icon,f.props.className)}));const ee={slots:B,slotProps:j},[M,H]=fo("root",{elementType:uje,externalForwardedProps:{...ee,...C},ownerState:q,shouldForwardComponentProp:!0,ref:I,className:Zt(Q.root,s),additionalProps:{disabled:P&&d?!0:void 0,tabIndex:k&&d?-1:E,...G},getSlotProps:ae=>({...ae,onClick:oe=>{var se;(se=ae.onClick)==null||se.call(ae,oe),p==null||p(oe)},onKeyDown:oe=>{var se;(se=ae.onKeyDown)==null||se.call(ae,oe),O==null||O(oe)},onKeyUp:oe=>{var se;(se=ae.onKeyUp)==null||se.call(ae,oe),T==null||T(oe)}})}),[W,Z]=fo("label",{elementType:dje,externalForwardedProps:ee,ownerState:q,className:Q.label});return l.jsxs(M,{as:R,...H,children:[z||Y,l.jsx(W,{...Z,children:h}),K]})});function O_(e){return parseInt(e,10)||0}const Aje={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function hje(e){for(const t in e)return!1;return!0}function bG(e){return hje(e)||e.outerHeightStyle===0&&!e.overflowing}const pje=S.forwardRef(function(t,r){const{onChange:n,maxRows:a,minRows:s=1,style:i,value:o,...c}=t,{current:u}=S.useRef(o!=null),d=S.useRef(null),f=_l(r,d),h=S.useRef(null),p=S.useRef(null),g=S.useCallback(()=>{const E=d.current,k=p.current;if(!E||!k)return;const j=u0(E).getComputedStyle(E);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};k.style.width=j.width,k.value=E.value||t.placeholder||"x",k.value.slice(-1)===`
`&&(k.value+=" ");const C=j.boxSizing,N=O_(j.paddingBottom)+O_(j.paddingTop),I=O_(j.borderBottomWidth)+O_(j.borderTopWidth),L=k.scrollHeight;k.value="x";const O=k.scrollHeight;let T=L;s&&(T=Math.max(Number(s)*O,T)),a&&(T=Math.min(Number(a)*O,T)),T=Math.max(T,O);const P=T+(C==="border-box"?N+I:0),R=Math.abs(T-L)<=1;return{outerHeightStyle:P,overflowing:R}},[a,s,t.placeholder]),x=Yg(()=>{const E=d.current,k=g();if(!E||!k||bG(k))return!1;const B=k.outerHeightStyle;return h.current!=null&&h.current!==B}),v=S.useCallback(()=>{const E=d.current,k=g();if(!E||!k||bG(k))return;const B=k.outerHeightStyle;h.current!==B&&(h.current=B,E.style.height=`${B}px`),E.style.overflow=k.overflowing?"hidden":""},[g]),y=S.useRef(-1);mm(()=>{const E=sie(v),k=d==null?void 0:d.current;if(!k)return;const B=u0(k);B.addEventListener("resize",E);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(()=>{x()&&(j.unobserve(k),cancelAnimationFrame(y.current),v(),y.current=requestAnimationFrame(()=>{j.observe(k)}))}),j.observe(k)),()=>{E.clear(),cancelAnimationFrame(y.current),B.removeEventListener("resize",E),j&&j.disconnect()}},[g,v,x]),mm(()=>{v()});const w=E=>{u||v();const k=E.target,B=k.value.length,j=k.value.endsWith(`
`),C=k.selectionStart===B;j&&C&&k.setSelectionRange(B,B),n&&n(E)};return l.jsxs(S.Fragment,{children:[l.jsx("textarea",{value:o,onChange:w,ref:f,rows:s,style:i,...c}),l.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:p,tabIndex:-1,style:{...Aje.shadow,...i,paddingTop:0,paddingBottom:0}})]})});function iP(e){return typeof e=="string"}function cy({props:e,states:t,muiFormControl:r}){return t.reduce((n,a)=>(n[a]=e[a],r&&typeof e[a]>"u"&&(n[a]=r[a]),n),{})}const vM=S.createContext(void 0);function uy(){return S.useContext(vM)}function yG(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function T4(e,t=!1){return e&&(yG(e.value)&&e.value!==""||t&&yG(e.defaultValue)&&e.defaultValue!=="")}function mje(e){return e.startAdornment}function gje(e){return qa("MuiInputBase",e)}const xb=ka("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var wG;const dB=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${pr(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},fB=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},xje=e=>{const{classes:t,color:r,disabled:n,error:a,endAdornment:s,focused:i,formControl:o,fullWidth:c,hiddenLabel:u,multiline:d,readOnly:f,size:h,startAdornment:p,type:g}=e,x={root:["root",`color${pr(r)}`,n&&"disabled",a&&"error",c&&"fullWidth",i&&"focused",o&&"formControl",h&&h!=="medium"&&`size${pr(h)}`,d&&"multiline",p&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",n&&"disabled",g==="search"&&"inputTypeSearch",d&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",f&&"readOnly"]};return Wa(x,gje,t)},AB=Dr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:dB})(Ks(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${xb.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),hB=Dr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:fB})(Ks(({theme:e})=>{const t=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${xb.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${xb.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),CG=uBe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),bM=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:s,autoFocus:i,className:o,color:c,components:u={},componentsProps:d={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:g,error:x,fullWidth:v=!1,id:y,inputComponent:w="input",inputProps:E={},inputRef:k,margin:B,maxRows:j,minRows:C,multiline:N=!1,name:I,onBlur:L,onChange:O,onClick:T,onFocus:P,onKeyDown:R,onKeyUp:q,placeholder:Q,readOnly:G,renderSuffix:K,rows:z,size:Y,slotProps:ee={},slots:M={},startAdornment:H,type:W="text",value:Z,...ae}=n,oe=E.value!=null?E.value:Z,{current:se}=S.useRef(oe!=null),ce=S.useRef(),de=S.useCallback(ut=>{},[]),ke=_l(ce,k,E.ref,de),[re,_e]=S.useState(!1),Ne=uy(),Se=cy({props:n,muiFormControl:Ne,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Se.focused=Ne?Ne.focused:re,S.useEffect(()=>{!Ne&&h&&re&&(_e(!1),L&&L())},[Ne,h,re,L]);const he=Ne&&Ne.onFilled,Be=Ne&&Ne.onEmpty,Le=S.useCallback(ut=>{T4(ut)?he&&he():Be&&Be()},[he,Be]);mm(()=>{se&&Le({value:oe})},[oe,Le,se]);const Ge=ut=>{P&&P(ut),E.onFocus&&E.onFocus(ut),Ne&&Ne.onFocus?Ne.onFocus(ut):_e(!0)},xe=ut=>{L&&L(ut),E.onBlur&&E.onBlur(ut),Ne&&Ne.onBlur?Ne.onBlur(ut):_e(!1)},Ie=(ut,...Cr)=>{if(!se){const Kt=ut.target||ce.current;if(Kt==null)throw new Error(l0(1));Le({value:Kt.value})}E.onChange&&E.onChange(ut,...Cr),O&&O(ut,...Cr)};S.useEffect(()=>{Le(ce.current)},[]);const De=ut=>{ce.current&&ut.currentTarget===ut.target&&ce.current.focus(),T&&T(ut)};let Ve=w,We=E;N&&Ve==="input"&&(z?We={type:void 0,minRows:z,maxRows:z,...We}:We={type:void 0,maxRows:j,minRows:C,...We},Ve=pje);const at=ut=>{Le(ut.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};S.useEffect(()=>{Ne&&Ne.setAdornedStart(!!H)},[Ne,H]);const ht={...n,color:Se.color||"primary",disabled:Se.disabled,endAdornment:g,error:Se.error,focused:Se.focused,formControl:Ne,fullWidth:v,hiddenLabel:Se.hiddenLabel,multiline:N,size:Se.size,startAdornment:H,type:W},Tt=xje(ht),Rt=M.root||u.Root||AB,Ft=ee.root||d.root||{},Pt=M.input||u.Input||hB;return We={...We,...ee.input??d.input},l.jsxs(S.Fragment,{children:[!p&&typeof CG=="function"&&(wG||(wG=l.jsx(CG,{}))),l.jsxs(Rt,{...Ft,ref:r,onClick:De,...ae,...!iP(Rt)&&{ownerState:{...ht,...Ft.ownerState}},className:Zt(Tt.root,Ft.className,o,G&&"MuiInputBase-readOnly"),children:[H,l.jsx(vM.Provider,{value:null,children:l.jsx(Pt,{"aria-invalid":Se.error,"aria-describedby":a,autoComplete:s,autoFocus:i,defaultValue:f,disabled:Se.disabled,id:y,onAnimationStart:at,name:I,placeholder:Q,readOnly:G,required:Se.required,rows:z,value:oe,onKeyDown:R,onKeyUp:q,type:W,...We,...!iP(Pt)&&{as:Ve,ownerState:{...ht,...We.ownerState}},ref:ke,className:Zt(Tt.input,We.className,G&&"MuiInputBase-readOnly"),onBlur:xe,onChange:Ie,onFocus:Ge})}),g,K?K({...Se,startAdornment:H}):null]})]})});function vje(e){return qa("MuiInput",e)}const Cw={...xb,...ka("MuiInput",["root","underline","input"])};function bje(e){return qa("MuiOutlinedInput",e)}const lA={...xb,...ka("MuiOutlinedInput",["root","notchedOutline","input"])};function yje(e){return qa("MuiFilledInput",e)}const pg={...xb,...ka("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},wje=aie(l.jsx("path",{d:"M7 10l5 5 5-5z"})),Cje={entering:{opacity:1},entered:{opacity:1}},Eje=S.forwardRef(function(t,r){const n=uB(),a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:i=!0,children:o,easing:c,in:u,onEnter:d,onEntered:f,onEntering:h,onExit:p,onExited:g,onExiting:x,style:v,timeout:y=a,TransitionComponent:w=VA,...E}=t,k=S.useRef(null),B=_l(k,LE(o),r),j=R=>q=>{if(R){const Q=k.current;q===void 0?R(Q):R(Q,q)}},C=j(h),N=j((R,q)=>{uie(R);const Q=_4({style:v,timeout:y,easing:c},{mode:"enter"});R.style.webkitTransition=n.transitions.create("opacity",Q),R.style.transition=n.transitions.create("opacity",Q),d&&d(R,q)}),I=j(f),L=j(x),O=j(R=>{const q=_4({style:v,timeout:y,easing:c},{mode:"exit"});R.style.webkitTransition=n.transitions.create("opacity",q),R.style.transition=n.transitions.create("opacity",q),p&&p(R)}),T=j(g),P=R=>{s&&s(k.current,R)};return l.jsx(w,{appear:i,in:u,nodeRef:k,onEnter:N,onEntered:I,onEntering:C,onExit:O,onExited:T,onExiting:L,addEndListener:P,timeout:y,...E,children:(R,{ownerState:q,...Q})=>S.cloneElement(o,{style:{opacity:0,visibility:R==="exited"&&!u?"hidden":void 0,...Cje[R],...v,...o.props.style},ref:B,...Q})})});function Sje(e){return qa("MuiBackdrop",e)}ka("MuiBackdrop",["root","invisible"]);const _je=e=>{const{classes:t,invisible:r}=e;return Wa({root:["root",r&&"invisible"]},Sje,t)},Nje=Dr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),kje=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiBackdrop"}),{children:a,className:s,component:i="div",invisible:o=!1,open:c,components:u={},componentsProps:d={},slotProps:f={},slots:h={},TransitionComponent:p,transitionDuration:g,...x}=n,v={...n,component:i,invisible:o},y=_je(v),w={transition:p,root:u.Root,...h},E={...d,...f},k={component:i,slots:w,slotProps:E},[B,j]=fo("root",{elementType:Nje,externalForwardedProps:k,className:Zt(y.root,s),ownerState:v}),[C,N]=fo("transition",{elementType:Eje,externalForwardedProps:k,ownerState:v});return l.jsx(C,{in:c,timeout:g,...x,...N,children:l.jsx(B,{"aria-hidden":!0,...j,classes:y,ref:r,children:a})})}),Tje=ka("MuiBox",["root"]),Bje=rie(),UI=Mke({themeId:KT,defaultTheme:Bje,defaultClassName:Tje.root,generateClassName:Vse.generate});function jje(e){return qa("MuiButton",e)}const mg=ka("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Ije=S.createContext({}),Fje=S.createContext(void 0),Oje=e=>{const{color:t,disableElevation:r,fullWidth:n,size:a,variant:s,loading:i,loadingPosition:o,classes:c}=e,u={root:["root",i&&"loading",s,`${s}${pr(t)}`,`size${pr(a)}`,`${s}Size${pr(a)}`,`color${pr(t)}`,r&&"disableElevation",n&&"fullWidth",i&&`loadingPosition${pr(o)}`],startIcon:["icon","startIcon",`iconSize${pr(a)}`],endIcon:["icon","endIcon",`iconSize${pr(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=Wa(u,jje,c);return{...c,...d}},mie=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Dje=Dr(k4,{shouldForwardProp:e=>yd(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${pr(r.color)}`],t[`size${pr(r.size)}`],t[`${r.variant}Size${pr(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(Ks(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${mg.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${mg.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${mg.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${mg.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(sf()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${mg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${mg.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${mg.loading}`]:{color:"transparent"}}}]}})),Pje=Dr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${pr(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...mie]})),Rje=Dr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${pr(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...mie]})),Lje=Dr("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),EG=Dr("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),SG=S.forwardRef(function(t,r){const n=S.useContext(Ije),a=S.useContext(Fje),s=SC(n,t),i=ns({props:s,name:"MuiButton"}),{children:o,color:c="primary",component:u="button",className:d,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:x,fullWidth:v=!1,id:y,loading:w=null,loadingIndicator:E,loadingPosition:k="center",size:B="medium",startIcon:j,type:C,variant:N="text",...I}=i,L=AM(y),O=E??l.jsx(pie,{"aria-labelledby":L,color:"inherit",size:16}),T={...i,color:c,component:u,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:v,loading:w,loadingIndicator:O,loadingPosition:k,size:B,type:C,variant:N},P=Oje(T),R=(j||w&&k==="start")&&l.jsx(Pje,{className:P.startIcon,ownerState:T,children:j||l.jsx(EG,{className:P.loadingIconPlaceholder,ownerState:T})}),q=(g||w&&k==="end")&&l.jsx(Rje,{className:P.endIcon,ownerState:T,children:g||l.jsx(EG,{className:P.loadingIconPlaceholder,ownerState:T})}),Q=a||"",G=typeof w=="boolean"?l.jsx("span",{className:P.loadingWrapper,style:{display:"contents"},children:w&&l.jsx(Lje,{className:P.loadingIndicator,ownerState:T,children:O})}):null;return l.jsxs(Dje,{ownerState:T,className:Zt(n.className,P.root,d,Q),component:u,disabled:f||w,focusRipple:!p,focusVisibleClassName:Zt(P.focusVisible,x),ref:r,type:C,id:w?L:y,...I,classes:P,children:[R,k!=="end"&&G,o,k==="end"&&G,q]})});function gie(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Mje(e){const t=wf(e);return t.body===e?u0(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function M2(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function _G(e){return parseInt(u0(e).getComputedStyle(e).paddingRight,10)||0}function Uje(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function NG(e,t,r,n,a){const s=[t,r,...n];[].forEach.call(e.children,i=>{const o=!s.includes(i),c=!Uje(i);o&&c&&M2(i,a)})}function QI(e,t){let r=-1;return e.some((n,a)=>t(n)?(r=a,!0):!1),r}function Qje(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(Mje(n)){const i=gie(u0(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${_G(n)+i}px`;const o=wf(n).querySelectorAll(".mui-fixed");[].forEach.call(o,c=>{r.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${_G(c)+i}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=wf(n).body;else{const i=n.parentElement,o=u0(n);s=(i==null?void 0:i.nodeName)==="HTML"&&o.getComputedStyle(i).overflowY==="scroll"?i:n}r.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{r.forEach(({value:s,el:i,property:o})=>{s?i.style.setProperty(o,s):i.style.removeProperty(o)})}}function Hje(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class $je{constructor(){this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&M2(t.modalRef,!1);const a=Hje(r);NG(r,t.mount,t.modalRef,a,!0);const s=QI(this.containers,i=>i.container===r);return s!==-1?(this.containers[s].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:a}),n)}mount(t,r){const n=QI(this.containers,s=>s.modals.includes(t)),a=this.containers[n];a.restore||(a.restore=Qje(a,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const a=QI(this.containers,i=>i.modals.includes(t)),s=this.containers[a];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&M2(t.modalRef,r),NG(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(a,1);else{const i=s.modals[s.modals.length-1];i.modalRef&&M2(i.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const Vje=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function zje(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Gje(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function Kje(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Gje(e))}function qje(e){const t=[],r=[];return Array.from(e.querySelectorAll(Vje)).forEach((n,a)=>{const s=zje(n);s===-1||!Kje(n)||(s===0?t.push(n):r.push({documentOrder:a,tabIndex:s,node:n}))}),r.sort((n,a)=>n.tabIndex===a.tabIndex?n.documentOrder-a.documentOrder:n.tabIndex-a.tabIndex).map(n=>n.node).concat(t)}function Wje(){return!0}function Xje(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:a=!1,getTabbable:s=qje,isEnabled:i=Wje,open:o}=e,c=S.useRef(!1),u=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=S.useRef(null),p=S.useRef(!1),g=S.useRef(null),x=_l(LE(t),g),v=S.useRef(null);S.useEffect(()=>{!o||!g.current||(p.current=!r)},[r,o]),S.useEffect(()=>{if(!o||!g.current)return;const E=wf(g.current);return g.current.contains(E.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{a||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[o]),S.useEffect(()=>{if(!o||!g.current)return;const E=wf(g.current),k=C=>{v.current=C,!(n||!i()||C.key!=="Tab")&&E.activeElement===g.current&&C.shiftKey&&(c.current=!0,d.current&&d.current.focus())},B=()=>{var I,L;const C=g.current;if(C===null)return;if(!E.hasFocus()||!i()||c.current){c.current=!1;return}if(C.contains(E.activeElement)||n&&E.activeElement!==u.current&&E.activeElement!==d.current)return;if(E.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let N=[];if((E.activeElement===u.current||E.activeElement===d.current)&&(N=s(g.current)),N.length>0){const O=!!((I=v.current)!=null&&I.shiftKey&&((L=v.current)==null?void 0:L.key)==="Tab"),T=N[0],P=N[N.length-1];typeof T!="string"&&typeof P!="string"&&(O?P.focus():T.focus())}else C.focus()};E.addEventListener("focusin",B),E.addEventListener("keydown",k,!0);const j=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&B()},50);return()=>{clearInterval(j),E.removeEventListener("focusin",B),E.removeEventListener("keydown",k,!0)}},[r,n,a,i,o,s]);const y=E=>{f.current===null&&(f.current=E.relatedTarget),p.current=!0,h.current=E.target;const k=t.props.onFocus;k&&k(E)},w=E=>{f.current===null&&(f.current=E.relatedTarget),p.current=!0};return l.jsxs(S.Fragment,{children:[l.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),S.cloneElement(t,{ref:x,onFocus:y}),l.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:d,"data-testid":"sentinelEnd"})]})}function Yje(e){return typeof e=="function"?e():e}function Jje(e){return e?e.props.hasOwnProperty("in"):!1}const kG=()=>{},D_=new $je;function Zje(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:a=!1,onTransitionEnter:s,onTransitionExited:i,children:o,onClose:c,open:u,rootRef:d}=e,f=S.useRef({}),h=S.useRef(null),p=S.useRef(null),g=_l(p,d),[x,v]=S.useState(!u),y=Jje(o);let w=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(w=!1);const E=()=>wf(h.current),k=()=>(f.current.modalRef=p.current,f.current.mount=h.current,f.current),B=()=>{D_.mount(k(),{disableScrollLock:n}),p.current&&(p.current.scrollTop=0)},j=Yg(()=>{const q=Yje(t)||E().body;D_.add(k(),q),p.current&&B()}),C=()=>D_.isTopModal(k()),N=Yg(q=>{h.current=q,q&&(u&&C()?B():p.current&&M2(p.current,w))}),I=S.useCallback(()=>{D_.remove(k(),w)},[w]);S.useEffect(()=>()=>{I()},[I]),S.useEffect(()=>{u?j():(!y||!a)&&I()},[u,I,y,a,j]);const L=q=>Q=>{var G;(G=q.onKeyDown)==null||G.call(q,Q),!(Q.key!=="Escape"||Q.which===229||!C())&&(r||(Q.stopPropagation(),c&&c(Q,"escapeKeyDown")))},O=q=>Q=>{var G;(G=q.onClick)==null||G.call(q,Q),Q.target===Q.currentTarget&&c&&c(Q,"backdropClick")};return{getRootProps:(q={})=>{const Q=Aie(e);delete Q.onTransitionEnter,delete Q.onTransitionExited;const G={...Q,...q};return{role:"presentation",...G,onKeyDown:L(G),ref:g}},getBackdropProps:(q={})=>{const Q=q;return{"aria-hidden":!0,...Q,onClick:O(Q),open:u}},getTransitionProps:()=>{const q=()=>{v(!1),s&&s()},Q=()=>{v(!0),i&&i(),a&&I()};return{onEnter:dG(q,(o==null?void 0:o.props.onEnter)??kG),onExited:dG(Q,(o==null?void 0:o.props.onExited)??kG)}},rootRef:g,portalRef:N,isTopModal:C,exited:x,hasTransition:y}}function e3e(e){return qa("MuiModal",e)}ka("MuiModal",["root","hidden","backdrop"]);const t3e=e=>{const{open:t,exited:r,classes:n}=e;return Wa({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},e3e,n)},r3e=Dr("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(Ks(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),n3e=Dr(kje,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),a3e=S.forwardRef(function(t,r){const n=ns({name:"MuiModal",props:t}),{BackdropComponent:a=n3e,BackdropProps:s,classes:i,className:o,closeAfterTransition:c=!1,children:u,container:d,component:f,components:h={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:v=!1,disablePortal:y=!1,disableRestoreFocus:w=!1,disableScrollLock:E=!1,hideBackdrop:k=!1,keepMounted:B=!1,onClose:j,onTransitionEnter:C,onTransitionExited:N,open:I,slotProps:L={},slots:O={},theme:T,...P}=n,R={...n,closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:x,disableEscapeKeyDown:v,disablePortal:y,disableRestoreFocus:w,disableScrollLock:E,hideBackdrop:k,keepMounted:B},{getRootProps:q,getBackdropProps:Q,getTransitionProps:G,portalRef:K,isTopModal:z,exited:Y,hasTransition:ee}=Zje({...R,rootRef:r}),M={...R,exited:Y},H=t3e(M),W={};if(u.props.tabIndex===void 0&&(W.tabIndex="-1"),ee){const{onEnter:de,onExited:ke}=G();W.onEnter=de,W.onExited=ke}const Z={slots:{root:h.Root,backdrop:h.Backdrop,...O},slotProps:{...p,...L}},[ae,oe]=fo("root",{ref:r,elementType:r3e,externalForwardedProps:{...Z,...P,component:f},getSlotProps:q,ownerState:M,className:Zt(o,H==null?void 0:H.root,!M.open&&M.exited&&(H==null?void 0:H.hidden))}),[se,ce]=fo("backdrop",{ref:s==null?void 0:s.ref,elementType:a,externalForwardedProps:Z,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:de=>Q({...de,onClick:ke=>{de!=null&&de.onClick&&de.onClick(ke)}}),className:Zt(s==null?void 0:s.className,H==null?void 0:H.backdrop),ownerState:M});return!B&&!I&&(!ee||Y)?null:l.jsx(ije,{ref:K,container:d,disablePortal:y,children:l.jsxs(ae,{...oe,children:[!k&&a?l.jsx(se,{...ce}):null,l.jsx(Xje,{disableEnforceFocus:x,disableAutoFocus:g,disableRestoreFocus:w,isEnabled:z,open:I,children:S.cloneElement(u,W)})]})})}),TG=ka("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),s3e=e=>{const{classes:t,disableUnderline:r,startAdornment:n,endAdornment:a,size:s,hiddenLabel:i,multiline:o}=e,c={root:["root",!r&&"underline",n&&"adornedStart",a&&"adornedEnd",s==="small"&&`size${pr(s)}`,i&&"hiddenLabel",o&&"multiline"],input:["input"]},u=Wa(c,yje,t);return{...t,...u}},i3e=Dr(AB,{shouldForwardProp:e=>yd(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...dB(e,t),!r.disableUnderline&&t.underline]}})(Ks(({theme:e})=>{const t=e.palette.mode==="light",r=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n}},[`&.${pg.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n},[`&.${pg.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pg.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pg.disabled}, .${pg.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${pg.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(sf()).map(([i])=>{var o;return{props:{disableUnderline:!1,color:i},style:{"&::after":{borderBottom:`2px solid ${(o=(e.vars||e).palette[i])==null?void 0:o.main}`}}}}),{props:({ownerState:i})=>i.startAdornment,style:{paddingLeft:12}},{props:({ownerState:i})=>i.endAdornment,style:{paddingRight:12}},{props:({ownerState:i})=>i.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:i,size:o})=>i.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel&&i.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),o3e=Dr(hB,{name:"MuiFilledInput",slot:"Input",overridesResolver:fB})(Ks(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),yM=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:s={},componentsProps:i,fullWidth:o=!1,hiddenLabel:c,inputComponent:u="input",multiline:d=!1,slotProps:f,slots:h={},type:p="text",...g}=n,x={...n,disableUnderline:a,fullWidth:o,inputComponent:u,multiline:d,type:p},v=s3e(n),y={root:{ownerState:x},input:{ownerState:x}},w=f??i?Cl(y,f??i):y,E=h.root??s.Root??i3e,k=h.input??s.Input??o3e;return l.jsx(bM,{slots:{root:E,input:k},slotProps:w,fullWidth:o,inputComponent:u,multiline:d,ref:r,type:p,...g,classes:v})});yM.muiName="Input";function l3e(e){return qa("MuiFormControl",e)}ka("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const c3e=e=>{const{classes:t,margin:r,fullWidth:n}=e,a={root:["root",r!=="none"&&`margin${pr(r)}`,n&&"fullWidth"]};return Wa(a,l3e,t)},u3e=Dr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`margin${pr(r.margin)}`],r.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),f2=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiFormControl"}),{children:a,className:s,color:i="primary",component:o="div",disabled:c=!1,error:u=!1,focused:d,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:g=!1,size:x="medium",variant:v="outlined",...y}=n,w={...n,color:i,component:o,disabled:c,error:u,fullWidth:f,hiddenLabel:h,margin:p,required:g,size:x,variant:v},E=c3e(w),[k,B]=S.useState(()=>{let q=!1;return a&&S.Children.forEach(a,Q=>{if(!hN(Q,["Input","Select"]))return;const G=hN(Q,["Select"])?Q.props.input:Q;G&&mje(G.props)&&(q=!0)}),q}),[j,C]=S.useState(()=>{let q=!1;return a&&S.Children.forEach(a,Q=>{hN(Q,["Input","Select"])&&(T4(Q.props,!0)||T4(Q.props.inputProps,!0))&&(q=!0)}),q}),[N,I]=S.useState(!1);c&&N&&I(!1);const L=d!==void 0&&!c?d:N;let O;S.useRef(!1);const T=S.useCallback(()=>{C(!0)},[]),P=S.useCallback(()=>{C(!1)},[]),R=S.useMemo(()=>({adornedStart:k,setAdornedStart:B,color:i,disabled:c,error:u,filled:j,focused:L,fullWidth:f,hiddenLabel:h,size:x,onBlur:()=>{I(!1)},onFocus:()=>{I(!0)},onEmpty:P,onFilled:T,registerEffect:O,required:g,variant:v}),[k,i,c,u,j,L,f,h,O,P,T,g,x,v]);return l.jsx(vM.Provider,{value:R,children:l.jsx(u3e,{as:o,ownerState:w,className:Zt(E.root,s),ref:r,...y,children:a})})});function d3e(e){return qa("MuiFormHelperText",e)}const BG=ka("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var jG;const f3e=e=>{const{classes:t,contained:r,size:n,disabled:a,error:s,filled:i,focused:o,required:c}=e,u={root:["root",a&&"disabled",s&&"error",n&&`size${pr(n)}`,r&&"contained",o&&"focused",i&&"filled",c&&"required"]};return Wa(u,d3e,t)},A3e=Dr("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${pr(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(Ks(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${BG.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${BG.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),h3e=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiFormHelperText"}),{children:a,className:s,component:i="p",disabled:o,error:c,filled:u,focused:d,margin:f,required:h,variant:p,...g}=n,x=uy(),v=cy({props:n,muiFormControl:x,states:["variant","size","disabled","error","filled","focused","required"]}),y={...n,component:i,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete y.ownerState;const w=f3e(y);return l.jsx(A3e,{as:i,className:Zt(w.root,s),ref:r,...g,ownerState:y,children:a===" "?jG||(jG=l.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):a})});function p3e(e){return qa("MuiFormLabel",e)}const U2=ka("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),m3e=e=>{const{classes:t,color:r,focused:n,disabled:a,error:s,filled:i,required:o}=e,c={root:["root",`color${pr(r)}`,a&&"disabled",s&&"error",i&&"filled",n&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return Wa(c,p3e,t)},g3e=Dr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color==="secondary"&&t.colorSecondary,r.filled&&t.filled]}})(Ks(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(sf()).map(([t])=>({props:{color:t},style:{[`&.${U2.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${U2.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${U2.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),x3e=Dr("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ks(({theme:e})=>({[`&.${U2.error}`]:{color:(e.vars||e).palette.error.main}}))),v3e=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiFormLabel"}),{children:a,className:s,color:i,component:o="label",disabled:c,error:u,filled:d,focused:f,required:h,...p}=n,g=uy(),x=cy({props:n,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),v={...n,color:x.color||"primary",component:o,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required},y=m3e(v);return l.jsxs(g3e,{as:o,ownerState:v,className:Zt(y.root,s),ref:r,...p,children:[a,x.required&&l.jsxs(x3e,{ownerState:v,"aria-hidden":!0,className:y.asterisk,children:[" ","*"]})]})}),gg=BTe({createStyledComponent:Dr("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>ns({props:e,name:"MuiGrid"}),useTheme:uB});function oP(e){return`scale(${e}, ${e**2})`}const b3e={entering:{opacity:1,transform:oP(1)},entered:{opacity:1,transform:"none"}},HI=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),lP=S.forwardRef(function(t,r){const{addEndListener:n,appear:a=!0,children:s,easing:i,in:o,onEnter:c,onEntered:u,onEntering:d,onExit:f,onExited:h,onExiting:p,style:g,timeout:x="auto",TransitionComponent:v=VA,...y}=t,w=cie(),E=S.useRef(),k=uB(),B=S.useRef(null),j=_l(B,LE(s),r),C=q=>Q=>{if(q){const G=B.current;Q===void 0?q(G):q(G,Q)}},N=C(d),I=C((q,Q)=>{uie(q);const{duration:G,delay:K,easing:z}=_4({style:g,timeout:x,easing:i},{mode:"enter"});let Y;x==="auto"?(Y=k.transitions.getAutoHeightDuration(q.clientHeight),E.current=Y):Y=G,q.style.transition=[k.transitions.create("opacity",{duration:Y,delay:K}),k.transitions.create("transform",{duration:HI?Y:Y*.666,delay:K,easing:z})].join(","),c&&c(q,Q)}),L=C(u),O=C(p),T=C(q=>{const{duration:Q,delay:G,easing:K}=_4({style:g,timeout:x,easing:i},{mode:"exit"});let z;x==="auto"?(z=k.transitions.getAutoHeightDuration(q.clientHeight),E.current=z):z=Q,q.style.transition=[k.transitions.create("opacity",{duration:z,delay:G}),k.transitions.create("transform",{duration:HI?z:z*.666,delay:HI?G:G||z*.333,easing:K})].join(","),q.style.opacity=0,q.style.transform=oP(.75),f&&f(q)}),P=C(h),R=q=>{x==="auto"&&w.start(E.current||0,q),n&&n(B.current,q)};return l.jsx(v,{appear:a,in:o,nodeRef:B,onEnter:I,onEntered:L,onEntering:N,onExit:T,onExited:P,onExiting:O,addEndListener:R,timeout:x==="auto"?null:x,...y,children:(q,{ownerState:Q,...G})=>S.cloneElement(s,{style:{opacity:0,transform:oP(.75),visibility:q==="exited"&&!o?"hidden":void 0,...b3e[q],...g,...s.props.style},ref:j,...G})})});lP&&(lP.muiSupportAuto=!0);const y3e=e=>{const{classes:t,disableUnderline:r}=e,a=Wa({root:["root",!r&&"underline"],input:["input"]},vje,t);return{...t,...a}},w3e=Dr(AB,{shouldForwardProp:e=>yd(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...dB(e,t),!r.disableUnderline&&t.underline]}})(Ks(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Cw.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Cw.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Cw.disabled}, .${Cw.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Cw.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(sf()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n].main}`}}}))]}})),C3e=Dr(hB,{name:"MuiInput",slot:"Input",overridesResolver:fB})({}),wM=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiInput"}),{disableUnderline:a=!1,components:s={},componentsProps:i,fullWidth:o=!1,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:f={},type:h="text",...p}=n,g=y3e(n),v={root:{ownerState:{disableUnderline:a}}},y=d??i?Cl(d??i,v):v,w=f.root??s.Root??w3e,E=f.input??s.Input??C3e;return l.jsx(bM,{slots:{root:w,input:E},slotProps:y,fullWidth:o,inputComponent:c,multiline:u,ref:r,type:h,...p,classes:g})});wM.muiName="Input";function E3e(e){return qa("MuiInputLabel",e)}ka("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const S3e=e=>{const{classes:t,formControl:r,size:n,shrink:a,disableAnimation:s,variant:i,required:o}=e,c={root:["root",r&&"formControl",!s&&"animated",a&&"shrink",n&&n!=="medium"&&`size${pr(n)}`,i],asterisk:[o&&"asterisk"]},u=Wa(c,E3e,t);return{...t,...u}},_3e=Dr(v3e,{shouldForwardProp:e=>yd(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${U2.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(Ks(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:r,size:n})=>t==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),A2=S.forwardRef(function(t,r){const n=ns({name:"MuiInputLabel",props:t}),{disableAnimation:a=!1,margin:s,shrink:i,variant:o,className:c,...u}=n,d=uy();let f=i;typeof f>"u"&&d&&(f=d.filled||d.focused||d.adornedStart);const h=cy({props:n,muiFormControl:d,states:["size","variant","required","focused"]}),p={...n,disableAnimation:a,formControl:d,shrink:f,size:h.size,variant:h.variant,required:h.required,focused:h.focused},g=S3e(p);return l.jsx(_3e,{"data-shrink":f,ref:r,className:Zt(g.root,c),...u,ownerState:p,classes:g})}),cP=S.createContext({});function N3e(e){return qa("MuiList",e)}ka("MuiList",["root","padding","dense","subheader"]);const k3e=e=>{const{classes:t,disablePadding:r,dense:n,subheader:a}=e;return Wa({root:["root",!r&&"padding",n&&"dense",a&&"subheader"]},N3e,t)},T3e=Dr("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),B3e=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiList"}),{children:a,className:s,component:i="ul",dense:o=!1,disablePadding:c=!1,subheader:u,...d}=n,f=S.useMemo(()=>({dense:o}),[o]),h={...n,component:i,dense:o,disablePadding:c},p=k3e(h);return l.jsx(cP.Provider,{value:f,children:l.jsxs(T3e,{as:i,className:Zt(p.root,s),ref:r,ownerState:h,...d,children:[u,a]})})}),IG=ka("MuiListItemIcon",["root","alignItemsFlexStart"]),FG=ka("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function $I(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function OG(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function xie(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join(""))}function Ew(e,t,r,n,a,s){let i=!1,o=a(e,t,t?r:!1);for(;o;){if(o===e.firstChild){if(i)return!1;i=!0}const c=n?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!xie(o,s)||c)o=a(e,o,r);else return o.focus(),!0}return!1}const j3e=S.forwardRef(function(t,r){const{actions:n,autoFocus:a=!1,autoFocusItem:s=!1,children:i,className:o,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:d,variant:f="selectedMenu",...h}=t,p=S.useRef(null),g=S.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});mm(()=>{a&&p.current.focus()},[a]),S.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(E,{direction:k})=>{const B=!p.current.style.width;if(E.clientHeight<p.current.clientHeight&&B){const j=`${gie(u0(E))}px`;p.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=j,p.current.style.width=`calc(100% + ${j})`}return p.current}}),[]);const x=E=>{const k=p.current,B=E.key;if(E.ctrlKey||E.metaKey||E.altKey){d&&d(E);return}const C=wf(k).activeElement;if(B==="ArrowDown")E.preventDefault(),Ew(k,C,u,c,$I);else if(B==="ArrowUp")E.preventDefault(),Ew(k,C,u,c,OG);else if(B==="Home")E.preventDefault(),Ew(k,null,u,c,$I);else if(B==="End")E.preventDefault(),Ew(k,null,u,c,OG);else if(B.length===1){const N=g.current,I=B.toLowerCase(),L=performance.now();N.keys.length>0&&(L-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&I!==N.keys[0]&&(N.repeating=!1)),N.lastTime=L,N.keys.push(I);const O=C&&!N.repeating&&xie(C,N);N.previousKeyMatched&&(O||Ew(k,C,!1,c,$I,N))?E.preventDefault():N.previousKeyMatched=!1}d&&d(E)},v=_l(p,r);let y=-1;S.Children.forEach(i,(E,k)=>{if(!S.isValidElement(E)){y===k&&(y+=1,y>=i.length&&(y=-1));return}E.props.disabled||(f==="selectedMenu"&&E.props.selected||y===-1)&&(y=k),y===k&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(y+=1,y>=i.length&&(y=-1))});const w=S.Children.map(i,(E,k)=>{if(k===y){const B={};return s&&(B.autoFocus=!0),E.props.tabIndex===void 0&&f==="selectedMenu"&&(B.tabIndex=0),S.cloneElement(E,B)}return E});return l.jsx(B3e,{role:"menu",ref:v,className:o,onKeyDown:x,tabIndex:a?0:-1,...h,children:w})});function I3e(e){return qa("MuiPopover",e)}ka("MuiPopover",["root","paper"]);function DG(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function PG(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function RG(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function P_(e){return typeof e=="function"?e():e}const F3e=e=>{const{classes:t}=e;return Wa({root:["root"],paper:["paper"]},I3e,t)},O3e=Dr(a3e,{name:"MuiPopover",slot:"Root"})({}),vie=Dr(rP,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),D3e=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiPopover"}),{action:a,anchorEl:s,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:c="anchorEl",children:u,className:d,container:f,elevation:h=8,marginThreshold:p=16,open:g,PaperProps:x={},slots:v={},slotProps:y={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:E,transitionDuration:k="auto",TransitionProps:B={},disableScrollLock:j=!1,...C}=n,N=S.useRef(),I={...n,anchorOrigin:i,anchorReference:c,elevation:h,marginThreshold:p,transformOrigin:w,TransitionComponent:E,transitionDuration:k,TransitionProps:B},L=F3e(I),O=S.useCallback(()=>{if(c==="anchorPosition")return o;const de=P_(s),re=(de&&de.nodeType===1?de:wf(N.current).body).getBoundingClientRect();return{top:re.top+DG(re,i.vertical),left:re.left+PG(re,i.horizontal)}},[s,i.horizontal,i.vertical,o,c]),T=S.useCallback(de=>({vertical:DG(de,w.vertical),horizontal:PG(de,w.horizontal)}),[w.horizontal,w.vertical]),P=S.useCallback(de=>{const ke={width:de.offsetWidth,height:de.offsetHeight},re=T(ke);if(c==="none")return{top:null,left:null,transformOrigin:RG(re)};const _e=O();let Ne=_e.top-re.vertical,Se=_e.left-re.horizontal;const he=Ne+ke.height,Be=Se+ke.width,Le=u0(P_(s)),Ge=Le.innerHeight-p,xe=Le.innerWidth-p;if(p!==null&&Ne<p){const Ie=Ne-p;Ne-=Ie,re.vertical+=Ie}else if(p!==null&&he>Ge){const Ie=he-Ge;Ne-=Ie,re.vertical+=Ie}if(p!==null&&Se<p){const Ie=Se-p;Se-=Ie,re.horizontal+=Ie}else if(Be>xe){const Ie=Be-xe;Se-=Ie,re.horizontal+=Ie}return{top:`${Math.round(Ne)}px`,left:`${Math.round(Se)}px`,transformOrigin:RG(re)}},[s,c,O,T,p]),[R,q]=S.useState(g),Q=S.useCallback(()=>{const de=N.current;if(!de)return;const ke=P(de);ke.top!==null&&de.style.setProperty("top",ke.top),ke.left!==null&&(de.style.left=ke.left),de.style.transformOrigin=ke.transformOrigin,q(!0)},[P]);S.useEffect(()=>(j&&window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)),[s,j,Q]);const G=()=>{Q()},K=()=>{q(!1)};S.useEffect(()=>{g&&Q()}),S.useImperativeHandle(a,()=>g?{updatePosition:()=>{Q()}}:null,[g,Q]),S.useEffect(()=>{if(!g)return;const de=sie(()=>{Q()}),ke=u0(P_(s));return ke.addEventListener("resize",de),()=>{de.clear(),ke.removeEventListener("resize",de)}},[s,g,Q]);let z=k;const Y={slots:{transition:E,...v},slotProps:{transition:B,paper:x,...y}},[ee,M]=fo("transition",{elementType:lP,externalForwardedProps:Y,ownerState:I,getSlotProps:de=>({...de,onEntering:(ke,re)=>{var _e;(_e=de.onEntering)==null||_e.call(de,ke,re),G()},onExited:ke=>{var re;(re=de.onExited)==null||re.call(de,ke),K()}}),additionalProps:{appear:!0,in:g}});k==="auto"&&!ee.muiSupportAuto&&(z=void 0);const H=f||(s?wf(P_(s)).body:void 0),[W,{slots:Z,slotProps:ae,...oe}]=fo("root",{ref:r,elementType:O3e,externalForwardedProps:{...Y,...C},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:mBe(typeof y.backdrop=="function"?y.backdrop(I):y.backdrop,{invisible:!0})},container:H,open:g},ownerState:I,className:Zt(L.root,d)}),[se,ce]=fo("paper",{ref:N,className:L.paper,elementType:vie,externalForwardedProps:Y,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:R?void 0:{opacity:0}},ownerState:I});return l.jsx(W,{...oe,...!iP(W)&&{slots:Z,slotProps:ae,disableScrollLock:j},children:l.jsx(ee,{...M,timeout:z,children:l.jsx(se,{...ce,children:u})})})});function P3e(e){return qa("MuiMenu",e)}ka("MuiMenu",["root","paper","list"]);const R3e={vertical:"top",horizontal:"right"},L3e={vertical:"top",horizontal:"left"},M3e=e=>{const{classes:t}=e;return Wa({root:["root"],paper:["paper"],list:["list"]},P3e,t)},U3e=Dr(D3e,{shouldForwardProp:e=>yd(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),Q3e=Dr(vie,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),H3e=Dr(j3e,{name:"MuiMenu",slot:"List"})({outline:0}),$3e=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:i,disableAutoFocusItem:o=!1,MenuListProps:c={},onClose:u,open:d,PaperProps:f={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:g,...x}={},variant:v="selectedMenu",slots:y={},slotProps:w={},...E}=n,k=nTe(),B={...n,autoFocus:a,disableAutoFocusItem:o,MenuListProps:c,onEntering:g,PaperProps:f,transitionDuration:p,TransitionProps:x,variant:v},j=M3e(B),C=a&&!o&&d,N=S.useRef(null),I=(z,Y)=>{N.current&&N.current.adjustStyleForScrollbar(z,{direction:k?"rtl":"ltr"}),g&&g(z,Y)},L=z=>{z.key==="Tab"&&(z.preventDefault(),u&&u(z,"tabKeyDown"))};let O=-1;S.Children.map(s,(z,Y)=>{S.isValidElement(z)&&(z.props.disabled||(v==="selectedMenu"&&z.props.selected||O===-1)&&(O=Y))});const T={slots:y,slotProps:{list:c,transition:x,paper:f,...w}},P=aje({elementType:y.root,externalSlotProps:w.root,ownerState:B,className:[j.root,i]}),[R,q]=fo("paper",{className:j.paper,elementType:Q3e,externalForwardedProps:T,shouldForwardComponentProp:!0,ownerState:B}),[Q,G]=fo("list",{className:Zt(j.list,c.className),elementType:H3e,shouldForwardComponentProp:!0,externalForwardedProps:T,getSlotProps:z=>({...z,onKeyDown:Y=>{var ee;L(Y),(ee=z.onKeyDown)==null||ee.call(z,Y)}}),ownerState:B}),K=typeof T.slotProps.transition=="function"?T.slotProps.transition(B):T.slotProps.transition;return l.jsx(U3e,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?R3e:L3e,slots:{root:y.root,paper:R,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:P,paper:q,backdrop:typeof w.backdrop=="function"?w.backdrop(B):w.backdrop,transition:{...K,onEntering:(...z)=>{var Y;I(...z),(Y=K==null?void 0:K.onEntering)==null||Y.call(K,...z)}}},open:d,ref:r,transitionDuration:p,ownerState:B,...E,classes:h,children:l.jsx(Q,{actions:N,autoFocus:a&&(O===-1||o),autoFocusItem:C,variant:v,...G,children:s})})});function V3e(e){return qa("MuiMenuItem",e)}const Sw=ka("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),z3e=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},G3e=e=>{const{disabled:t,dense:r,divider:n,disableGutters:a,selected:s,classes:i}=e,c=Wa({root:["root",r&&"dense",t&&"disabled",!a&&"gutters",n&&"divider",s&&"selected"]},V3e,i);return{...i,...c}},K3e=Dr(k4,{shouldForwardProp:e=>yd(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:z3e})(Ks(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Sw.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${Sw.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${Sw.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${Sw.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Sw.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${TG.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${TG.inset}`]:{marginLeft:52},[`& .${FG.root}`]:{marginTop:0,marginBottom:0},[`& .${FG.inset}`]:{paddingLeft:36},[`& .${IG.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${IG.root} svg`]:{fontSize:"1.25rem"}}}]}))),R_=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiMenuItem"}),{autoFocus:a=!1,component:s="li",dense:i=!1,divider:o=!1,disableGutters:c=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:f,className:h,...p}=n,g=S.useContext(cP),x=S.useMemo(()=>({dense:i||g.dense||!1,disableGutters:c}),[g.dense,i,c]),v=S.useRef(null);mm(()=>{a&&v.current&&v.current.focus()},[a]);const y={...n,dense:x.dense,divider:o,disableGutters:c},w=G3e(n),E=_l(v,r);let k;return n.disabled||(k=f!==void 0?f:-1),l.jsx(cP.Provider,{value:x,children:l.jsx(K3e,{ref:E,role:d,tabIndex:k,component:s,focusVisibleClassName:Zt(w.focusVisible,u),className:Zt(w.root,h),...p,ownerState:y,classes:w})})});function q3e(e){return qa("MuiNativeSelect",e)}const CM=ka("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),W3e=e=>{const{classes:t,variant:r,disabled:n,multiple:a,open:s,error:i}=e,o={select:["select",r,n&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${pr(r)}`,s&&"iconOpen",n&&"disabled"]};return Wa(o,q3e,t)},bie=Dr("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${CM.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),X3e=Dr(bie,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:yd,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${CM.multiple}`]:t.multiple}]}})({}),yie=Dr("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${CM.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Y3e=Dr(yie,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${pr(r.variant)}`],r.open&&t.iconOpen]}})({}),J3e=S.forwardRef(function(t,r){const{className:n,disabled:a,error:s,IconComponent:i,inputRef:o,variant:c="standard",...u}=t,d={...t,disabled:a,variant:c,error:s},f=W3e(d);return l.jsxs(S.Fragment,{children:[l.jsx(X3e,{ownerState:d,className:Zt(f.select,n),disabled:a,ref:o||r,...u}),t.multiple?null:l.jsx(Y3e,{as:i,ownerState:d,className:f.icon})]})});var LG;const Z3e=Dr("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:yd})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),eIe=Dr("legend",{name:"MuiNotchedOutlined",shouldForwardProp:yd})(Ks(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function tIe(e){const{children:t,classes:r,className:n,label:a,notched:s,...i}=e,o=a!=null&&a!=="",c={...e,notched:s,withLabel:o};return l.jsx(Z3e,{"aria-hidden":!0,className:n,ownerState:c,...i,children:l.jsx(eIe,{ownerState:c,children:o?l.jsx("span",{children:a}):LG||(LG=l.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const rIe=e=>{const{classes:t}=e,n=Wa({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},bje,t);return{...t,...n}},nIe=Dr(AB,{shouldForwardProp:e=>yd(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:dB})(Ks(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${lA.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${lA.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${lA.focused} .${lA.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(sf()).map(([r])=>({props:{color:r},style:{[`&.${lA.focused} .${lA.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${lA.error} .${lA.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${lA.disabled} .${lA.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),aIe=Dr(tIe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ks(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),sIe=Dr(hB,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:fB})(Ks(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),EM=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiOutlinedInput"}),{components:a={},fullWidth:s=!1,inputComponent:i="input",label:o,multiline:c=!1,notched:u,slots:d={},slotProps:f={},type:h="text",...p}=n,g=rIe(n),x=uy(),v=cy({props:n,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),y={...n,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:x,fullWidth:s,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:h},w=d.root??a.Root??nIe,E=d.input??a.Input??sIe,[k,B]=fo("notchedOutline",{elementType:aIe,className:g.notchedOutline,shouldForwardComponentProp:!0,ownerState:y,externalForwardedProps:{slots:d,slotProps:f},additionalProps:{label:o!=null&&o!==""&&v.required?l.jsxs(S.Fragment,{children:[o," ","*"]}):o}});return l.jsx(bM,{slots:{root:w,input:E},slotProps:f,renderSuffix:j=>l.jsx(k,{...B,notched:typeof u<"u"?u:!!(j.startAdornment||j.filled||j.focused)}),fullWidth:s,inputComponent:i,multiline:c,ref:r,type:h,...p,classes:{...g,notchedOutline:null}})});EM.muiName="Input";function wie(e){return qa("MuiSelect",e)}const _w=ka("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var MG;const iIe=Dr(bie,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${_w.select}`]:t.select},{[`&.${_w.select}`]:t[r.variant]},{[`&.${_w.error}`]:t.error},{[`&.${_w.multiple}`]:t.multiple}]}})({[`&.${_w.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),oIe=Dr(yie,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${pr(r.variant)}`],r.open&&t.iconOpen]}})({}),lIe=Dr("input",{shouldForwardProp:e=>nie(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function UG(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function cIe(e){return e==null||typeof e=="string"&&!e.trim()}const uIe=e=>{const{classes:t,variant:r,disabled:n,multiple:a,open:s,error:i}=e,o={select:["select",r,n&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${pr(r)}`,s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Wa(o,wie,t)},dIe=S.forwardRef(function(t,r){var kr,Mr,En,Pr;const{"aria-describedby":n,"aria-label":a,autoFocus:s,autoWidth:i,children:o,className:c,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:h,error:p=!1,IconComponent:g,inputRef:x,labelId:v,MenuProps:y={},multiple:w,name:E,onBlur:k,onChange:B,onClose:j,onFocus:C,onOpen:N,open:I,readOnly:L,renderValue:O,required:T,SelectDisplayProps:P={},tabIndex:R,type:q,value:Q,variant:G="standard",...K}=t,[z,Y]=AG({controlled:Q,default:d,name:"Select"}),[ee,M]=AG({controlled:I,default:u,name:"Select"}),H=S.useRef(null),W=S.useRef(null),[Z,ae]=S.useState(null),{current:oe}=S.useRef(I!=null),[se,ce]=S.useState(),de=_l(r,x),ke=S.useCallback(or=>{W.current=or,or&&ae(or)},[]),re=Z==null?void 0:Z.parentNode;S.useImperativeHandle(de,()=>({focus:()=>{W.current.focus()},node:H.current,value:z}),[z]),S.useEffect(()=>{u&&ee&&Z&&!oe&&(ce(i?null:re.clientWidth),W.current.focus())},[Z,i]),S.useEffect(()=>{s&&W.current.focus()},[s]),S.useEffect(()=>{if(!v)return;const or=wf(W.current).getElementById(v);if(or){const gr=()=>{getSelection().isCollapsed&&W.current.focus()};return or.addEventListener("click",gr),()=>{or.removeEventListener("click",gr)}}},[v]);const _e=(or,gr)=>{or?N&&N(gr):j&&j(gr),oe||(ce(i?null:re.clientWidth),M(or))},Ne=or=>{or.button===0&&(or.preventDefault(),W.current.focus(),_e(!0,or))},Se=or=>{_e(!1,or)},he=S.Children.toArray(o),Be=or=>{const gr=he.find(en=>en.props.value===or.target.value);gr!==void 0&&(Y(gr.props.value),B&&B(or,gr))},Le=or=>gr=>{let en;if(gr.currentTarget.hasAttribute("tabindex")){if(w){en=Array.isArray(z)?z.slice():[];const zn=z.indexOf(or.props.value);zn===-1?en.push(or.props.value):en.splice(zn,1)}else en=or.props.value;if(or.props.onClick&&or.props.onClick(gr),z!==en&&(Y(en),B)){const zn=gr.nativeEvent||gr,rn=new zn.constructor(zn.type,zn);Object.defineProperty(rn,"target",{writable:!0,value:{value:en,name:E}}),B(rn,or)}w||_e(!1,gr)}},Ge=or=>{L||[" ","ArrowUp","ArrowDown","Enter"].includes(or.key)&&(or.preventDefault(),_e(!0,or))},xe=Z!==null&&ee,Ie=or=>{!xe&&k&&(Object.defineProperty(or,"target",{writable:!0,value:{value:z,name:E}}),k(or))};delete K["aria-invalid"];let De,Ve;const We=[];let at=!1;(T4({value:z})||h)&&(O?De=O(z):at=!0);const ht=he.map(or=>{if(!S.isValidElement(or))return null;let gr;if(w){if(!Array.isArray(z))throw new Error(l0(2));gr=z.some(en=>UG(en,or.props.value)),gr&&at&&We.push(or.props.children)}else gr=UG(z,or.props.value),gr&&at&&(Ve=or.props.children);return S.cloneElement(or,{"aria-selected":gr?"true":"false",onClick:Le(or),onKeyUp:en=>{en.key===" "&&en.preventDefault(),or.props.onKeyUp&&or.props.onKeyUp(en)},role:"option",selected:gr,value:void 0,"data-value":or.props.value})});at&&(w?We.length===0?De=null:De=We.reduce((or,gr,en)=>(or.push(gr),en<We.length-1&&or.push(", "),or),[]):De=Ve);let Tt=se;!i&&oe&&Z&&(Tt=re.clientWidth);let Rt;typeof R<"u"?Rt=R:Rt=f?null:0;const Ft=P.id||(E?`mui-component-select-${E}`:void 0),Pt={...t,variant:G,value:z,open:xe,error:p},ut=uIe(Pt),Cr={...y.PaperProps,...typeof((kr=y.slotProps)==null?void 0:kr.paper)=="function"?y.slotProps.paper(Pt):(Mr=y.slotProps)==null?void 0:Mr.paper},Kt={...y.MenuListProps,...typeof((En=y.slotProps)==null?void 0:En.list)=="function"?y.slotProps.list(Pt):(Pr=y.slotProps)==null?void 0:Pr.list},ln=AM();return l.jsxs(S.Fragment,{children:[l.jsx(iIe,{as:"div",ref:ke,tabIndex:Rt,role:"combobox","aria-controls":xe?ln:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":xe?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[v,Ft].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":T?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:Ge,onMouseDown:f||L?null:Ne,onBlur:Ie,onFocus:C,...P,ownerState:Pt,className:Zt(P.className,ut.select,c),id:Ft,children:cIe(De)?MG||(MG=l.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):De}),l.jsx(lIe,{"aria-invalid":p,value:Array.isArray(z)?z.join(","):z,name:E,ref:H,"aria-hidden":!0,onChange:Be,tabIndex:-1,disabled:f,className:ut.nativeInput,autoFocus:s,required:T,...K,ownerState:Pt}),l.jsx(oIe,{as:g,className:ut.icon,ownerState:Pt}),l.jsx($3e,{id:`menu-${E||""}`,anchorEl:re,open:xe,onClose:Se,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...y,slotProps:{...y.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ln,...Kt},paper:{...Cr,style:{minWidth:Tt,...Cr!=null?Cr.style:null}}},children:ht})]})}),fIe=e=>{const{classes:t}=e,n=Wa({root:["root"]},wie,t);return{...t,...n}},SM={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>yd(e)&&e!=="variant"},AIe=Dr(wM,SM)(""),hIe=Dr(EM,SM)(""),pIe=Dr(yM,SM)(""),w1=S.forwardRef(function(t,r){const n=ns({name:"MuiSelect",props:t}),{autoWidth:a=!1,children:s,classes:i={},className:o,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:d=wje,id:f,input:h,inputProps:p,label:g,labelId:x,MenuProps:v,multiple:y=!1,native:w=!1,onClose:E,onOpen:k,open:B,renderValue:j,SelectDisplayProps:C,variant:N="outlined",...I}=n,L=w?J3e:dIe,O=uy(),T=cy({props:n,muiFormControl:O,states:["variant","error"]}),P=T.variant||N,R={...n,variant:P,classes:i},q=fIe(R),{root:Q,...G}=q,K=h||{standard:l.jsx(AIe,{ownerState:R}),outlined:l.jsx(hIe,{label:g,ownerState:R}),filled:l.jsx(pIe,{ownerState:R})}[P],z=_l(r,LE(K));return l.jsx(S.Fragment,{children:S.cloneElement(K,{inputComponent:L,inputProps:{children:s,error:T.error,IconComponent:d,variant:P,type:void 0,multiple:y,...w?{id:f}:{autoWidth:a,defaultOpen:c,displayEmpty:u,labelId:x,MenuProps:v,onClose:E,onOpen:k,open:B,renderValue:j,SelectDisplayProps:{id:f,...C}},...p,classes:p?Cl(G,p.classes):G,...h?h.props.inputProps:{}},...(y&&w||u)&&P==="outlined"?{notched:!0}:{},ref:z,className:Zt(K.props.className,o,q.root),...!h&&{variant:P},...I})})});w1.muiName="Select";function mIe(e){return qa("MuiTextField",e)}ka("MuiTextField",["root"]);const gIe={standard:wM,filled:yM,outlined:EM},xIe=e=>{const{classes:t}=e;return Wa({root:["root"]},mIe,t)},vIe=Dr(f2,{name:"MuiTextField",slot:"Root"})({}),bIe=S.forwardRef(function(t,r){const n=ns({props:t,name:"MuiTextField"}),{autoComplete:a,autoFocus:s=!1,children:i,className:o,color:c="primary",defaultValue:u,disabled:d=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:g,id:x,InputLabelProps:v,inputProps:y,InputProps:w,inputRef:E,label:k,maxRows:B,minRows:j,multiline:C=!1,name:N,onBlur:I,onChange:L,onFocus:O,placeholder:T,required:P=!1,rows:R,select:q=!1,SelectProps:Q,slots:G={},slotProps:K={},type:z,value:Y,variant:ee="outlined",...M}=n,H={...n,autoFocus:s,color:c,disabled:d,error:f,fullWidth:p,multiline:C,required:P,select:q,variant:ee},W=xIe(H),Z=AM(x),ae=g&&Z?`${Z}-helper-text`:void 0,oe=k&&Z?`${Z}-label`:void 0,se=gIe[ee],ce={slots:G,slotProps:{input:w,inputLabel:v,htmlInput:y,formHelperText:h,select:Q,...K}},de={},ke=ce.slotProps.inputLabel;ee==="outlined"&&(ke&&typeof ke.shrink<"u"&&(de.notched=ke.shrink),de.label=k),q&&((!Q||!Q.native)&&(de.id=void 0),de["aria-describedby"]=void 0);const[re,_e]=fo("root",{elementType:vIe,shouldForwardComponentProp:!0,externalForwardedProps:{...ce,...M},ownerState:H,className:Zt(W.root,o),ref:r,additionalProps:{disabled:d,error:f,fullWidth:p,required:P,color:c,variant:ee}}),[Ne,Se]=fo("input",{elementType:se,externalForwardedProps:ce,additionalProps:de,ownerState:H}),[he,Be]=fo("inputLabel",{elementType:A2,externalForwardedProps:ce,ownerState:H}),[Le,Ge]=fo("htmlInput",{elementType:"input",externalForwardedProps:ce,ownerState:H}),[xe,Ie]=fo("formHelperText",{elementType:h3e,externalForwardedProps:ce,ownerState:H}),[De,Ve]=fo("select",{elementType:w1,externalForwardedProps:ce,ownerState:H}),We=l.jsx(Ne,{"aria-describedby":ae,autoComplete:a,autoFocus:s,defaultValue:u,fullWidth:p,multiline:C,name:N,rows:R,maxRows:B,minRows:j,type:z,value:Y,id:Z,inputRef:E,onBlur:I,onChange:L,onFocus:O,placeholder:T,inputProps:Ge,slots:{input:G.htmlInput?Le:void 0},...Se});return l.jsxs(re,{..._e,children:[k!=null&&k!==""&&l.jsx(he,{htmlFor:Z,id:oe,...Be,children:k}),q?l.jsx(De,{"aria-describedby":ae,id:Z,labelId:oe,value:Y,input:We,...Ve,children:i}):We,g&&l.jsx(xe,{id:ae,...Ie,children:g})]})});function yIe(){const[e,t]=S.useState(!1),[r,n]=S.useState(null),[a,s]=S.useState(null),[i,o]=S.useState([]),[c,u]=S.useState([]),[d,f]=S.useState([]),[h,p]=S.useState({}),[g,x]=S.useState({});S.useEffect(()=>{const E=Ese(k=>{const B=k.filter(j=>j.profile===Yt.PROFESORADO);f(B)});return()=>E()},[]);const v=()=>{h.name&&h.subject&&h.hoursPerWeek&&h.teacher&&(o([...i,{...h,id:`course-${Date.now()}`}]),p({}))},y=E=>{o(i.filter(k=>k.id!==E))},w=async()=>{t(!0),n(null);try{const E={courses:i.map(j=>({id:j.id,name:j.name,subject:j.subject,blocksPerWeek:j.hoursPerWeek,teacherId:j.teacher,roomType:j.roomType})),teachers:c.map(j=>({id:j.id,name:j.name,availability:j.availability})),periods:Array.from({length:40},(j,C)=>{const N=Math.floor(C/8),I=C%8+1;return`${["lunes","martes","miercoles","jueves","viernes"][N]}-${I}`}),rooms:Array.from({length:20},(j,C)=>({id:`sala${C+1}`,type:`sala${C+1}`})),weights:{holes:10,late:5,early:5,imbalance:3,specialRoom:2}},k=await fetch("http://localhost:8000/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!k.ok)throw new Error("Error al generar el horario");const B=await k.json();s(B)}catch(E){console.error("Error:",E),n("Error al generar el horario: "+E.message)}finally{t(!1)}};return l.jsxs(UI,{sx:{p:3},children:[l.jsx(F_,{variant:"h4",gutterBottom:!0,children:"Generador de Horarios"}),l.jsxs(rP,{sx:{p:3,mb:3},children:[l.jsx(F_,{variant:"h6",gutterBottom:!0,children:"Configuración de Cursos"}),l.jsxs(gg,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(gg,{item:!0,xs:12,sm:2,children:l.jsxs(f2,{fullWidth:!0,children:[l.jsx(A2,{children:"Curso"}),l.jsx(w1,{value:h.name||"",label:"Curso",onChange:E=>p({...h,name:E.target.value}),children:Kl.map(E=>l.jsx(R_,{value:E,children:E},E))})]})}),l.jsx(gg,{item:!0,xs:12,sm:3,children:l.jsxs(f2,{fullWidth:!0,children:[l.jsx(A2,{children:"Asignatura"}),l.jsx(w1,{value:h.subject||"",label:"Asignatura",onChange:E=>p({...h,subject:E.target.value}),children:po.map(E=>l.jsx(R_,{value:E,children:E},E))})]})}),l.jsx(gg,{item:!0,xs:12,sm:2,children:l.jsx(bIe,{fullWidth:!0,type:"number",label:"Horas Semanales",value:h.hoursPerWeek||"",onChange:E=>p({...h,hoursPerWeek:parseInt(E.target.value)})})}),l.jsx(gg,{item:!0,xs:12,sm:2,children:l.jsxs(f2,{fullWidth:!0,children:[l.jsx(A2,{children:"Profesor"}),l.jsx(w1,{value:h.teacher||"",label:"Profesor",onChange:E=>p({...h,teacher:E.target.value}),children:d.map(E=>l.jsx(R_,{value:E.nombreCompleto,children:E.nombreCompleto},E.id))})]})}),l.jsx(gg,{item:!0,xs:12,sm:2,children:l.jsxs(f2,{fullWidth:!0,children:[l.jsx(A2,{children:"Número de Sala"}),l.jsx(w1,{value:h.roomType||"",label:"Número de Sala",onChange:E=>p({...h,roomType:E.target.value}),children:Array.from({length:20},(E,k)=>k+1).map(E=>l.jsxs(R_,{value:`sala${E}`,children:["Sala ",E]},E))})]})}),l.jsx(gg,{item:!0,xs:12,sm:1,children:l.jsx(SG,{fullWidth:!0,variant:"contained",onClick:v,disabled:!h.name||!h.subject||!h.hoursPerWeek||!h.teacher||!h.roomType,children:"Agregar"})})]}),l.jsx(UI,{sx:{mt:2},children:i.map(E=>l.jsx(fje,{label:`${E.name} - ${E.subject} (${E.hoursPerWeek}h) - ${E.teacher} - Sala ${E.roomType.replace("sala","")}`,onDelete:()=>y(E.id),sx:{m:.5}},E.id))})]}),l.jsx(SG,{variant:"contained",onClick:w,disabled:e||i.length===0,sx:{mb:3},children:e?"Generando...":"Generar Horario"}),e&&l.jsx(UI,{sx:{display:"flex",justifyContent:"center",my:3},children:l.jsx(pie,{})}),r&&l.jsx(F_,{color:"error",sx:{my:2},children:r}),a&&l.jsxs(rP,{sx:{p:3,mt:2},children:[l.jsx(F_,{variant:"h6",gutterBottom:!0,children:"Horario Generado:"}),l.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:JSON.stringify(a,null,2)})]})]})}const pB="acciones_pedagogicas",wIe=(e,t)=>{var a,s,i,o;if(t.dimension||t.subdimension||t.indicadores||t.avance!==void 0)return{id:e,fechaRegistro:t.fechaRegistro??"",responsable:t.responsable??"",dimension:t.dimension??"",subdimension:t.subdimension??"",descripcion:t.descripcion??"",objetivos:t.objetivos??"",indicadores:Array.isArray(t.indicadores)?t.indicadores:t.indicadores?String(t.indicadores).split(",").map(c=>c.trim()).filter(Boolean):[],cobertura:t.cobertura??"",fechaInicio:t.fechaInicio??"",fechaCumplimiento:t.fechaCumplimiento??"",estado:t.estado??"Pendiente",avance:typeof t.avance=="number"?t.avance:0,enlaces:Array.isArray(t.enlaces)?t.enlaces:t.enlaces?[String(t.enlaces)]:[],creadoTs:typeof t.creadoTs=="number"?t.creadoTs:((s=(a=t.creadoTs)==null?void 0:a.toMillis)==null?void 0:s.call(a))??Date.now()};const r=t,n=r.enlaceDocumento?[String(r.enlaceDocumento)]:[];return{id:e,fechaRegistro:r.fechaRegistro??"",responsable:r.responsable??"",dimension:r.area??"",subdimension:"",descripcion:r.descripcion??"",objetivos:"",indicadores:[],cobertura:"",fechaInicio:"",fechaCumplimiento:r.fechaCumplimiento??"",estado:r.estado??"Pendiente",avance:0,enlaces:n,creadoTs:typeof r.creadoTs=="number"?r.creadoTs:((o=(i=r.creadoTs)==null?void 0:i.toMillis)==null?void 0:o.call(i))??Date.now()}};async function CIe(){const e=[];try{const t=zt(wt(mt,pB),wr("creadoTs","desc"));(await qn(t)).docs.forEach(n=>e.push(wIe(n.id,n.data())))}catch{}return e.sort((t,r)=>(r.creadoTs??0)-(t.creadoTs??0))}async function EIe(e){const t={fechaRegistro:e.fechaRegistro??new Date().toISOString().slice(0,10),responsable:e.responsable??"",dimension:e.dimension??e.area??"",subdimension:e.subdimension??"",descripcion:e.descripcion??"",objetivos:e.objetivos??"",indicadores:Array.isArray(e.indicadores)?e.indicadores:e.indicadores?String(e.indicadores).split(",").map(r=>r.trim()).filter(Boolean):[],cobertura:e.cobertura??"",fechaInicio:e.fechaInicio??"",fechaCumplimiento:e.fechaCumplimiento??"",estado:e.estado??"Pendiente",avance:typeof e.avance=="number"?e.avance:0,enlaces:Array.isArray(e.enlaces)?e.enlaces:e.enlaces?[String(e.enlaces)]:e.enlaceDocumento?[String(e.enlaceDocumento)]:[],creadoTs:lr.now()};await Bn(wt(mt,pB),t)}async function SIe(e,t){const r=dr(wt(mt,pB),e),n={...t};n.area&&!n.dimension&&(n.dimension=n.area,delete n.area),n.enlaceDocumento&&(n.enlaces=[String(n.enlaceDocumento)],delete n.enlaceDocumento),Array.isArray(n.indicadores)===!1&&typeof n.indicadores=="string"&&(n.indicadores=String(n.indicadores).split(",").map(a=>a.trim()).filter(Boolean)),await bu(r,n)}async function _Ie(e){const t=dr(wt(mt,pB),e);await hs(t)}var VI={},zI={},QG;function NIe(){return QG||(QG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(zI)),zI}var GI={},HG;function Cie(){return HG||(HG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(GI)),GI}var KI={},$G;function Eie(){return $G||($G=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t}(KI)),KI}var qI={},VG;function _M(){return VG||(VG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let s=0,i="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<a;){const u=r[s];o?u==="\\"&&s+1<a?(s++,i+=r[s]):u===o?o="":i+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,n.push(i),i=""):i+=u:u==="["?(c=!0,i&&(n.push(i),i="")):u==="."?i&&(n.push(i),i=""):i+=u,s++}return i&&n.push(i),n}e.toPath=t}(qI)),qI}var zG;function NM(){return zG||(zG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NIe(),r=Cie(),n=Eie(),a=_M();function s(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?s(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function i(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s}(VI)),VI}var WI,GG;function kIe(){return GG||(GG=1,WI=NM().get),WI}var TIe=kIe();const xm=Tl(TIe);var BIe=Fse(),go=e=>e===0?0:e>0?1:-1,hu=e=>typeof e=="number"&&e!=+e,Mg=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,hr=e=>(typeof e=="number"||e instanceof Number)&&!hu(e),HA=e=>hr(e)||typeof e=="string",jIe=0,_C=e=>{var t=++jIe;return"".concat(e||"").concat(t)},ql=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!hr(t)&&typeof t!="string")return n;var s;if(Mg(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return hu(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},Sie=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},C1=(e,t)=>hr(e)&&hr(t)?r=>e+r*(t-e):()=>t;function Lv(e,t,r){return hr(e)&&hr(t)?e+r*(t-e):t}function IIe(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):xm(n,t))===r)}var $s=e=>e===null||typeof e>"u",ME=e=>$s(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),FIe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kM(e){if(typeof e!="string")return!1;var t=FIe;return t.includes(e)}var OIe=["viewBox","children"],KG=["points","pathLength"],XI={svg:OIe,polygon:KG,polyline:KG},TM=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{kM(a)&&(n[a]=s=>r[a](r,s))}),n},DIe=(e,t,r)=>n=>(e(t,r,n),null),$x=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];kM(a)&&typeof s=="function"&&(n||(n={}),n[a]=DIe(s,t,r))}),n},PIe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function _ie(e){if(typeof e!="string")return!1;var t=PIe;return t.includes(e)}function Bl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return _ie(n)});return Object.fromEntries(t)}var qG=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",WG=null,YI=null,Nie=e=>{if(e===WG&&Array.isArray(YI))return YI;var t=[];return S.Children.forEach(e,r=>{$s(r)||(BIe.isFragment(r)?t=t.concat(Nie(r.props.children)):t.push(r))}),YI=t,WG=e,t};function UE(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>qG(a)):n=[qG(t)],Nie(e).forEach(a=>{var s=xm(a,"type.displayName")||xm(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}var RIe=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(a=n&&(XI==null?void 0:XI[n]))!==null&&a!==void 0?a:[],i=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&s.includes(t)||_ie(t)),c=!!r&&kM(t);return i||o||c},na=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{var i;RIe((i=n)===null||i===void 0?void 0:i[s],s,t,r)&&(a[s]=n[s])}),a},LIe=["children","width","height","viewBox","className","style","title","desc"];function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uP.apply(null,arguments)}function MIe(e,t){if(e==null)return{};var r,n,a=UIe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BM=S.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:o,title:c,desc:u}=e,d=MIe(e,LIe),f=s||{width:n,height:a,x:0,y:0},h=Zt("recharts-surface",i);return S.createElement("svg",uP({},na(d,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),S.createElement("title",null,c),S.createElement("desc",null,u),r)}),QIe=["children","className"];function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dP.apply(null,arguments)}function HIe(e,t){if(e==null)return{};var r,n,a=$Ie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Ie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Es=S.forwardRef((e,t)=>{var{children:r,className:n}=e,a=HIe(e,QIe),s=Zt("recharts-layer",n);return S.createElement("g",dP({className:s},na(a,!0),{ref:t}),r)}),kie=S.createContext(null),VIe=()=>S.useContext(kie);function za(e){return function(){return e}}const Tie=Math.cos,B4=Math.sin,Sf=Math.sqrt,j4=Math.PI,mB=2*j4,fP=Math.PI,AP=2*fP,Sg=1e-6,zIe=AP-Sg;function Bie(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function GIe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Bie;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class KIe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Bie:GIe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,c=n-t,u=a-r,d=i-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Sg)if(!(Math.abs(f*c-u*d)>Sg)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,g=a-o,x=c*c+u*u,v=p*p+g*g,y=Math.sqrt(x),w=Math.sqrt(h),E=s*Math.tan((fP-Math.acos((x+h-v)/(2*y*w)))/2),k=E/w,B=E/y;Math.abs(k-1)>Sg&&this._append`L${t+k*d},${r+k*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=t+B*c},${this._y1=r+B*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sg||Math.abs(this._y1-d)>Sg)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%AP+AP),h>zIe?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Sg&&this._append`A${n},${n},0,${+(h>=fP)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function jM(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new KIe(t)}function IM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jie(e){this._context=e}jie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gB(e){return new jie(e)}function Iie(e){return e[0]}function Fie(e){return e[1]}function Oie(e,t){var r=za(!0),n=null,a=gB,s=null,i=jM(o);e=typeof e=="function"?e:e===void 0?Iie:za(e),t=typeof t=="function"?t:t===void 0?Fie:za(t);function o(c){var u,d=(c=IM(c)).length,f,h=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:za(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:za(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:za(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),o):n},o}function L_(e,t,r){var n=null,a=za(!0),s=null,i=gB,o=null,c=jM(u);e=typeof e=="function"?e:e===void 0?Iie:za(+e),t=typeof t=="function"?t:za(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Fie:za(+r);function u(f){var h,p,g,x=(f=IM(f)).length,v,y=!1,w,E=new Array(x),k=new Array(x);for(s==null&&(o=i(w=c())),h=0;h<=x;++h){if(!(h<x&&a(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(E[g],k[g]);o.lineEnd(),o.areaEnd()}y&&(E[h]=+e(v,h,f),k[h]=+t(v,h,f),o.point(n?+n(v,h,f):E[h],r?+r(v,h,f):k[h]))}if(w)return o=null,w+""||null}function d(){return Oie().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:za(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:za(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:za(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:za(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:za(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:za(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:za(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(o=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=o=null:o=i(s=f),u):s},u}class Die{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qIe(e){return new Die(e,!0)}function WIe(e){return new Die(e,!1)}const FM={draw(e,t){const r=Sf(t/j4);e.moveTo(r,0),e.arc(0,0,r,0,mB)}},XIe={draw(e,t){const r=Sf(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Pie=Sf(1/3),YIe=Pie*2,JIe={draw(e,t){const r=Sf(t/YIe),n=r*Pie;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ZIe={draw(e,t){const r=Sf(t),n=-r/2;e.rect(n,n,r,r)}},e6e=.8908130915292852,Rie=B4(j4/10)/B4(7*j4/10),t6e=B4(mB/10)*Rie,r6e=-Tie(mB/10)*Rie,n6e={draw(e,t){const r=Sf(t*e6e),n=t6e*r,a=r6e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=mB*s/5,o=Tie(i),c=B4(i);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},JI=Sf(3),a6e={draw(e,t){const r=-Sf(t/(JI*3));e.moveTo(0,r*2),e.lineTo(-JI*r,-r),e.lineTo(JI*r,-r),e.closePath()}},zu=-.5,Gu=Sf(3)/2,hP=1/Sf(12),s6e=(hP/2+1)*3,i6e={draw(e,t){const r=Sf(t/s6e),n=r/2,a=r*hP,s=n,i=r*hP+r,o=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,c),e.lineTo(zu*n-Gu*a,Gu*n+zu*a),e.lineTo(zu*s-Gu*i,Gu*s+zu*i),e.lineTo(zu*o-Gu*c,Gu*o+zu*c),e.lineTo(zu*n+Gu*a,zu*a-Gu*n),e.lineTo(zu*s+Gu*i,zu*i-Gu*s),e.lineTo(zu*o+Gu*c,zu*c-Gu*o),e.closePath()}};function o6e(e,t){let r=null,n=jM(a);e=typeof e=="function"?e:za(e||FM),t=typeof t=="function"?t:za(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:za(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:za(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function I4(){}function F4(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Lie(e){this._context=e}Lie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:F4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:F4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l6e(e){return new Lie(e)}function Mie(e){this._context=e}Mie.prototype={areaStart:I4,areaEnd:I4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:F4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c6e(e){return new Mie(e)}function Uie(e){this._context=e}Uie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:F4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u6e(e){return new Uie(e)}function Qie(e){this._context=e}Qie.prototype={areaStart:I4,areaEnd:I4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function d6e(e){return new Qie(e)}function XG(e){return e<0?-1:1}function YG(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(XG(s)+XG(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function JG(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ZI(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function O4(e){this._context=e}O4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZI(this,this._t0,JG(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ZI(this,JG(this,r=YG(this,e,t)),r);break;default:ZI(this,this._t0,r=YG(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Hie(e){this._context=new $ie(e)}(Hie.prototype=Object.create(O4.prototype)).point=function(e,t){O4.prototype.point.call(this,t,e)};function $ie(e){this._context=e}$ie.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function f6e(e){return new O4(e)}function A6e(e){return new Hie(e)}function Vie(e){this._context=e}Vie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ZG(e),a=ZG(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ZG(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function h6e(e){return new Vie(e)}function xB(e,t){this._context=e,this._t=t}xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function p6e(e){return new xB(e,.5)}function m6e(e){return new xB(e,0)}function g6e(e){return new xB(e,1)}function vb(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,o=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function pP(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function x6e(e,t){return e[t]}function v6e(e){const t=[];return t.key=e,t}function b6e(){var e=za([]),t=pP,r=vb,n=x6e;function a(s){var i=Array.from(e.apply(this,arguments),v6e),o,c=i.length,u=-1,d;for(const f of s)for(o=0,++u;o<c;++o)(i[o][u]=[0,+n(f,i[o].key,u,s)]).data=f;for(o=0,d=IM(t(i));o<c;++o)i[d[o]].index=o;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:za(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:za(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?pP:typeof s=="function"?s:za(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??vb,a):r},a}function y6e(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}vb(e,t)}}function w6e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,o=0;i<a;++i)o+=e[i][r][1]||0;n[r][1]+=n[r][0]=-o/2}vb(e,t)}}function C6e(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var o=0,c=0,u=0;o<i;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var x=e[t[g]],v=x[n][1]||0,y=x[n-1][1]||0;p+=v-y}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,vb(e,t)}}var E6e=["type","size","sizeType"];function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mP.apply(null,arguments)}function eK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eK(Object(r),!0).forEach(function(n){S6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S6e(e,t,r){return(t=_6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _6e(e){var t=N6e(e,"string");return typeof t=="symbol"?t:t+""}function N6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k6e(e,t){if(e==null)return{};var r,n,a=T6e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zie={symbolCircle:FM,symbolCross:XIe,symbolDiamond:JIe,symbolSquare:ZIe,symbolStar:n6e,symbolTriangle:a6e,symbolWye:i6e},B6e=Math.PI/180,j6e=e=>{var t="symbol".concat(ME(e));return zie[t]||FM},I6e=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*B6e;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},F6e=(e,t)=>{zie["symbol".concat(ME(e))]=t},OM=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=k6e(e,E6e),s=tK(tK({},a),{},{type:t,size:r,sizeType:n}),i=()=>{var f=j6e(t),h=o6e().type(f).size(I6e(r,n,t));return h()},{className:o,cx:c,cy:u}=s,d=na(s,!0);return c===+c&&u===+u&&r===+r?S.createElement("path",mP({},d,{className:Zt("recharts-symbols",o),transform:"translate(".concat(c,", ").concat(u,")"),d:i()})):null};OM.registerSymbol=F6e;function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gP.apply(null,arguments)}function rK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O6e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rK(Object(r),!0).forEach(function(n){DM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DM(e,t,r){return(t=D6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D6e(e){var t=P6e(e,"string");return typeof t=="symbol"?t:t+""}function P6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ku=32;class PM extends S.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Ku/2,s=Ku/6,i=Ku/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return S.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Ku,y2:a,className:"recharts-legend-icon"});if(c==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(Ku,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return S.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ku/8,"h").concat(Ku,"v").concat(Ku*3/4,"h").concat(-Ku,"z"),className:"recharts-legend-icon"});if(S.isValidElement(t.legendIcon)){var u=O6e({},t);return delete u.legendIcon,S.cloneElement(t.legendIcon,u)}return S.createElement(OM,{fill:o,cx:a,cy:a,size:Ku,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=this.props,o={x:0,y:0,width:Ku,height:Ku},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,p=Zt({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?s:d.color,x=h?h(d.value,d,f):d.value;return S.createElement("li",gP({className:p,style:c,key:"legend-item-".concat(f)},$x(this.props,d,f)),S.createElement(BM,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,i)),S.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}DM(PM,"displayName","Legend");DM(PM,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var e6={},t6={},nK;function R6e(){return nK||(nK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],o=n(i);a.has(o)||a.set(o,i)}return Array.from(a.values())}e.uniqBy=t}(t6)),t6}var r6={},aK;function vB(){return aK||(aK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(r6)),r6}var n6={},a6={},s6={},sK;function L6e(){return sK||(sK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(s6)),s6}var iK;function RM(){return iK||(iK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L6e();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(a6)),a6}var i6={},oK;function M6e(){return oK||(oK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(i6)),i6}var lK;function U6e(){return lK||(lK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RM(),r=M6e();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n}(n6)),n6}var o6={},l6={},cK;function Q6e(){return cK||(cK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NM();function r(n){return function(a){return t.get(a,n)}}e.property=r}(l6)),l6}var c6={},u6={},d6={},f6={},uK;function Gie(){return uK||(uK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(f6)),f6}var A6={},dK;function Kie(){return dK||(dK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(A6)),A6}var h6={},fK;function LM(){return fK||(fK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(h6)),h6}var AK;function H6e(){return AK||(AK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MM(),r=Gie(),n=Kie(),a=LM();function s(f,h,p){return typeof p!="function"?t.isMatch(f,h):i(f,h,function g(x,v,y,w,E,k){const B=p(x,v,y,w,E,k);return B!==void 0?!!B:i(x,v,g,k)},new Map)}function i(f,h,p,g){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,p,g);case"function":return Object.keys(h).length>0?i(f,{...h},p,g):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,p,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,g);if(h instanceof Map)return c(f,h,p,g);if(h instanceof Set)return d(f,h,p,g);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let v=0;v<x.length;v++){const y=x[v];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!p(f[y],h[y],y,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(f,h,p,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,v]of h.entries()){const y=f.get(x);if(p(y,v,x,f,h,g)===!1)return!1}return!0}function u(f,h,p,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let v=0;v<h.length;v++){const y=h[v];let w=!1;for(let E=0;E<f.length;E++){if(x.has(E))continue;const k=f[E];let B=!1;if(p(k,y,v,f,h,g)&&(B=!0),B){x.add(E),w=!0;break}}if(!w)return!1}return!0}function d(f,h,p,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,g):!1}e.isMatchWith=s,e.isSetMatch=d}(d6)),d6}var hK;function MM(){return hK||(hK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H6e();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(u6)),u6}var p6={},m6={},g6={},pK;function qie(){return pK||(pK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(g6)),g6}var x6={},mK;function UM(){return mK||(mK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(x6)),x6}var v6={},gK;function QM(){return gK||(gK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",x="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",B="[object Int8Array]",j="[object Int16Array]",C="[object Int32Array]",N="[object BigInt64Array]",I="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=k,e.booleanTag=a,e.dataViewTag=x,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=I,e.float64ArrayTag=L,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=C,e.int8ArrayTag=B,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=w,e.uint32ArrayTag=E,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y}(v6)),v6}var b6={},xK;function $6e(){return xK||(xK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(b6)),b6}var vK;function Wie(){return vK||(vK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qie(),r=UM(),n=QM(),a=Kie(),s=$6e();function i(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,p=new Map,g=void 0){const x=g==null?void 0:g(d,f,h,p);if(x!=null)return x;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const v=new Array(d.length);p.set(d,v);for(let y=0;y<d.length;y++)v[y]=o(d[y],y,h,p,g);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;p.set(d,v);for(const[y,w]of d)v.set(y,o(w,y,h,p,g));return v}if(d instanceof Set){const v=new Set;p.set(d,v);for(const y of d)v.add(o(y,void 0,h,p,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,v);for(let y=0;y<d.length;y++)v[y]=o(d[y],y,h,p,g);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,v),c(v,d,h,p,g),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return p.set(d,v),c(v,d,h,p,g),v}if(d instanceof Blob){const v=new Blob([d],{type:d.type});return p.set(d,v),c(v,d,h,p,g),v}if(d instanceof Error){const v=new d.constructor;return p.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,p,g),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return p.set(d,v),c(v,d,h,p,g),v}return d}function c(d,f,h=d,p,g){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const y=x[v],w=Object.getOwnPropertyDescriptor(d,y);(w==null||w.writable)&&(d[y]=o(f[y],y,h,p,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=o,e.copyProperties=c}(m6)),m6}var bK;function V6e(){return bK||(bK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wie();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(p6)),p6}var yK;function z6e(){return yK||(yK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MM(),r=V6e();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n}(c6)),c6}var y6={},w6={},C6={},wK;function G6e(){return wK||(wK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wie(),r=QM();function n(a,s){return t.cloneDeepWith(a,(i,o,c,u)=>{const d=s==null?void 0:s(i,o,c,u);if(d!=null)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n}(C6)),C6}var CK;function K6e(){return CK||(CK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G6e();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(w6)),w6}var E6={},S6={},EK;function Xie(){return EK||(EK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(S6)),S6}var _6={},SK;function q6e(){return SK||(SK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UM();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(_6)),_6}var _K;function W6e(){return _K||(_K=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cie(),r=Xie(),n=q6e(),a=_M();function s(i,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(i==null?void 0:i[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s}(E6)),E6}var NK;function X6e(){return NK||(NK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MM(),r=Eie(),n=K6e(),a=NM(),s=W6e();function i(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?s.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=i}(y6)),y6}var kK;function HM(){return kK||(kK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vB(),r=Q6e(),n=z6e(),a=X6e();function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s}(o6)),o6}var TK;function Y6e(){return TK||(TK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R6e(),r=vB(),n=U6e(),a=HM();function s(i,o=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(o)):[]}e.uniqBy=s}(e6)),e6}var N6,BK;function J6e(){return BK||(BK=1,N6=Y6e().uniqBy),N6}var Z6e=J6e();const jK=Tl(Z6e);function Yie(e,t,r){return t===!0?jK(e,r):typeof t=="function"?jK(e,t):e}var k6={exports:{}},T6={},B6={exports:{}},j6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IK;function eFe(){if(IK)return j6;IK=1;var e=qb();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,i=e.useDebugValue;function o(f,h){var p=h(),g=n({inst:{value:p,getSnapshot:h}}),x=g[0].inst,v=g[1];return s(function(){x.value=p,x.getSnapshot=h,c(x)&&v({inst:x})},[f,p,h]),a(function(){return c(x)&&v({inst:x}),f(function(){c(x)&&v({inst:x})})},[f]),i(p),p}function c(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!r(f,p)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return j6.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,j6}var FK;function tFe(){return FK||(FK=1,B6.exports=eFe()),B6.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OK;function rFe(){if(OK)return T6;OK=1;var e=qb(),t=tFe();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return T6.useSyncExternalStoreWithSelector=function(u,d,f,h,p){var g=s(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=o(function(){function y(j){if(!w){if(w=!0,E=j,j=h(j),p!==void 0&&x.hasValue){var C=x.value;if(p(C,j))return k=C}return k=j}if(C=k,n(E,j))return C;var N=h(j);return p!==void 0&&p(C,N)?(E=j,C):(E=j,k=N)}var w=!1,E,k,B=f===void 0?null:f;return[function(){return y(d())},B===null?void 0:function(){return y(B())}]},[d,f,h,p]);var v=a(u,g[0],g[1]);return i(function(){x.hasValue=!0,x.value=v},[v]),c(v),v},T6}var DK;function nFe(){return DK||(DK=1,k6.exports=rFe()),k6.exports}var Jie=nFe();const aFe=Tl(Jie);var $M=S.createContext(null),sFe=e=>e,as=()=>{var e=S.useContext($M);return e?e.store.dispatch:sFe},pN=()=>{},iFe=()=>pN,oFe=(e,t)=>e===t;function cr(e){var t=S.useContext($M);return Jie.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:iFe,t?t.store.getState:pN,t?t.store.getState:pN,t?e:pN,oFe)}function lFe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function cFe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function uFe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var PK=e=>Array.isArray(e)?e:[e];function dFe(e){const t=Array.isArray(e[0])?e[0]:e;return uFe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fFe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var AFe=class{constructor(e){this.value=e}deref(){return this.value}},hFe=typeof WeakRef<"u"?WeakRef:AFe,pFe=0,RK=1;function M_(){return{s:pFe,v:void 0,o:null,p:null}}function Zie(e,t={}){let r=M_();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let o=r;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const v=x.get(g);v===void 0?(o=M_(),x.set(g,o)):o=v}else{let x=o.p;x===null&&(o.p=x=new Map);const v=x.get(g);v===void 0?(o=M_(),x.set(g,o)):o=v}}const u=o;let d;if(o.s===RK)d=o.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new hFe(d):d}return u.s=RK,u.v=d,d}return i.clearCache=()=>{r=M_(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function mFe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),lFe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=Zie,argsMemoizeOptions:g=[]}=d,x=PK(h),v=PK(g),y=dFe(a),w=f(function(){return s++,u.apply(null,arguments)},...x),E=p(function(){i++;const B=fFe(y,arguments);return o=w.apply(null,B),o},...v);return Object.assign(E,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var dt=mFe(Zie),gFe=Object.assign((e,t=dt)=>{cFe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,o,c)=>(i[r[c]]=o,i),{}))},{withTypes:()=>gFe}),I6={},F6={},O6={},LK;function xFe(){return LK||(LK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),o=t(a);if(i===o&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-i:i-o}return 0};e.compareValues=r}(O6)),O6}var D6={},P6={},MK;function eoe(){return MK||(MK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(P6)),P6}var UK;function vFe(){return UK||(UK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eoe(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a}(D6)),D6}var QK;function bFe(){return QK||(QK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xFe(),r=vFe(),n=_M();function a(s,i,o,c){if(s==null)return[];o=c?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let x=p;for(let v=0;v<g.length&&x!=null;++v)x=x[g[v]];return x},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=i.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(p.criteria[x],g.criteria[x],o[x]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a}(F6)),F6}var R6={},HK;function yFe(){return HK||(HK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<s?i(d,c+1):a.push(d)}};return i(r,0),a}e.flatten=t}(R6)),R6}var L6={},$K;function toe(){return $K||($K=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xie(),r=RM(),n=Gie(),a=LM();function s(i,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],i):!1}e.isIterateeCall=s}(L6)),L6}var VK;function wFe(){return VK||(VK=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bFe(),r=yFe(),n=toe();function a(s,...i){const o=i.length;return o>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:o>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a}(I6)),I6}var M6,zK;function CFe(){return zK||(zK=1,M6=wFe().sortBy),M6}var EFe=CFe();const bB=Tl(EFe);var roe=e=>e.legend.settings,SFe=e=>e.legend.size,_Fe=e=>e.legend.payload,NFe=dt([_Fe,roe],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?bB(n,r):n});function kFe(){return cr(NFe)}var U_=1;function noe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=S.useState({height:0,left:0,top:0,width:0}),n=S.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>U_||Math.abs(i.left-t.left)>U_||Math.abs(i.top-t.top)>U_||Math.abs(i.width-t.width)>U_)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Io(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TFe=typeof Symbol=="function"&&Symbol.observable||"@@observable",GK=TFe,U6=()=>Math.random().toString(36).substring(7).split("").join("."),BFe={INIT:`@@redux/INIT${U6()}`,REPLACE:`@@redux/REPLACE${U6()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${U6()}`},D4=BFe;function VM(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function aoe(e,t,r){if(typeof e!="function")throw new Error(Io(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Io(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Io(1));return r(aoe)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((v,y)=>{i.set(y,v)}))}function d(){if(c)throw new Error(Io(3));return a}function f(v){if(typeof v!="function")throw new Error(Io(4));if(c)throw new Error(Io(5));let y=!0;u();const w=o++;return i.set(w,v),function(){if(y){if(c)throw new Error(Io(6));y=!1,u(),i.delete(w),s=null}}}function h(v){if(!VM(v))throw new Error(Io(7));if(typeof v.type>"u")throw new Error(Io(8));if(typeof v.type!="string")throw new Error(Io(17));if(c)throw new Error(Io(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=i).forEach(w=>{w()}),v}function p(v){if(typeof v!="function")throw new Error(Io(10));n=v,h({type:D4.REPLACE})}function g(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Io(11));function w(){const k=y;k.next&&k.next(d())}return w(),{unsubscribe:v(w)}},[GK](){return this}}}return h({type:D4.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[GK]:g}}function jFe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:D4.INIT})>"u")throw new Error(Io(12));if(typeof r(void 0,{type:D4.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Io(13))})}function soe(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{jFe(r)}catch(s){a=s}return function(i={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=i[f],g=h(p,o);if(typeof g>"u")throw o&&o.type,new Error(Io(14));u[f]=g,c=c||g!==p}return c=c||n.length!==Object.keys(i).length,c?u:i}}function P4(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function IFe(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Io(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},o=e.map(c=>c(i));return s=P4(...o)(a.dispatch),{...a,dispatch:s}}}function ioe(e){return VM(e)&&"type"in e&&typeof e.type=="string"}var ooe=Symbol.for("immer-nothing"),KK=Symbol.for("immer-draftable"),pu=Symbol.for("immer-state");function ef(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bb=Object.getPrototypeOf;function bx(e){return!!e&&!!e[pu]}function d0(e){var t;return e?loe(e)||Array.isArray(e)||!!e[KK]||!!((t=e.constructor)!=null&&t[KK])||wB(e)||CB(e):!1}var FFe=Object.prototype.constructor.toString();function loe(e){if(!e||typeof e!="object")return!1;const t=bb(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===FFe}function R4(e,t){yB(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function yB(e){const t=e[pu];return t?t.type_:Array.isArray(e)?1:wB(e)?2:CB(e)?3:0}function xP(e,t){return yB(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function coe(e,t,r){const n=yB(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function OFe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function wB(e){return e instanceof Map}function CB(e){return e instanceof Set}function _g(e){return e.copy_||e.base_}function vP(e,t){if(wB(e))return new Map(e);if(CB(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=loe(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[pu];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(bb(e),n)}else{const n=bb(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function zM(e,t=!1){return EB(e)||bx(e)||!d0(e)||(yB(e)>1&&(e.set=e.add=e.clear=e.delete=DFe),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>zM(n,!0))),e}function DFe(){ef(2)}function EB(e){return Object.isFrozen(e)}var PFe={};function yx(e){const t=PFe[e];return t||ef(0,e),t}var NC;function uoe(){return NC}function RFe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qK(e,t){t&&(yx("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bP(e){yP(e),e.drafts_.forEach(LFe),e.drafts_=null}function yP(e){e===NC&&(NC=e.parent_)}function WK(e){return NC=RFe(NC,e)}function LFe(e){const t=e[pu];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function XK(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[pu].modified_&&(bP(t),ef(4)),d0(e)&&(e=L4(t,e),t.parent_||M4(t,e)),t.patches_&&yx("Patches").generateReplacementPatches_(r[pu].base_,e,t.patches_,t.inversePatches_)):e=L4(t,r,[]),bP(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ooe?e:void 0}function L4(e,t,r){if(EB(t))return t;const n=t[pu];if(!n)return R4(t,(a,s)=>YK(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return M4(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),R4(s,(o,c)=>YK(e,n,a,o,c,r,i)),M4(e,a,!1),r&&e.patches_&&yx("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function YK(e,t,r,n,a,s,i){if(bx(a)){const o=s&&t&&t.type_!==3&&!xP(t.assigned_,n)?s.concat(n):void 0,c=L4(e,a,o);if(coe(r,n,c),bx(c))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(d0(a)&&!EB(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;L4(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&M4(e,a)}}function M4(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zM(t,r)}function MFe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:uoe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=GM;r&&(a=[n],s=kC);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var GM={get(e,t){if(t===pu)return e;const r=_g(e);if(!xP(r,t))return UFe(e,r,t);const n=r[t];return e.finalized_||!d0(n)?n:n===Q6(e.base_,t)?(H6(e),e.copy_[t]=CP(n,e)):n},has(e,t){return t in _g(e)},ownKeys(e){return Reflect.ownKeys(_g(e))},set(e,t,r){const n=doe(_g(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Q6(_g(e),t),s=a==null?void 0:a[pu];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(OFe(r,a)&&(r!==void 0||xP(e.base_,t)))return!0;H6(e),wP(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Q6(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,H6(e),wP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=_g(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ef(11)},getPrototypeOf(e){return bb(e.base_)},setPrototypeOf(){ef(12)}},kC={};R4(GM,(e,t)=>{kC[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});kC.deleteProperty=function(e,t){return kC.set.call(this,e,t,void 0)};kC.set=function(e,t,r){return GM.set.call(this,e[0],t,r,e[0])};function Q6(e,t){const r=e[pu];return(r?_g(r):e)[t]}function UFe(e,t,r){var a;const n=doe(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function doe(e,t){if(!(t in e))return;let r=bb(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bb(r)}}function wP(e){e.modified_||(e.modified_=!0,e.parent_&&wP(e.parent_))}function H6(e){e.copy_||(e.copy_=vP(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QFe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&ef(6),n!==void 0&&typeof n!="function"&&ef(7);let a;if(d0(t)){const s=WK(this),i=CP(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?bP(s):yP(s)}return qK(s,n),XK(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===ooe&&(a=void 0),this.autoFreeze_&&zM(a,!0),n){const s=[],i=[];yx("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else ef(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,c=>t(c,...o));let n,a;return[this.produce(t,r,(i,o)=>{n=i,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){d0(e)||ef(8),bx(e)&&(e=Wh(e));const t=WK(this),r=CP(e,void 0);return r[pu].isManual_=!0,yP(t),r}finishDraft(e,t){const r=e&&e[pu];(!r||!r.isManual_)&&ef(9);const{scope_:n}=r;return qK(n,t),XK(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=yx("Patches").applyPatches_;return bx(e)?n(e,t):this.produce(e,a=>n(a,t))}};function CP(e,t){const r=wB(e)?yx("MapSet").proxyMap_(e,t):CB(e)?yx("MapSet").proxySet_(e,t):MFe(e,t);return(t?t.scope_:uoe()).drafts_.push(r),r}function Wh(e){return bx(e)||ef(10,e),foe(e)}function foe(e){if(!d0(e)||EB(e))return e;const t=e[pu];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=vP(e,t.scope_.immer_.useStrictShallowCopy_)}else r=vP(e,!0);return R4(r,(n,a)=>{coe(r,n,foe(a))}),t&&(t.finalized_=!1),r}var mu=new QFe,Aoe=mu.produce;mu.produceWithPatches.bind(mu);mu.setAutoFreeze.bind(mu);mu.setUseStrictShallowCopy.bind(mu);mu.applyPatches.bind(mu);mu.createDraft.bind(mu);mu.finishDraft.bind(mu);function hoe(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var HFe=hoe(),$Fe=hoe,VFe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?P4:P4.apply(null,arguments)};function gd(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(fu(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>ioe(n)&&n.type===e,r}var poe=class h2 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,h2.prototype)}static get[Symbol.species](){return h2}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new h2(...t[0].concat(this)):new h2(...t.concat(this))}};function JK(e){return d0(e)?Aoe(e,()=>{}):e}function Q_(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function zFe(e){return typeof e=="boolean"}var GFe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new poe;return r&&(zFe(r)?i.push(HFe):i.push($Fe(r.extraArgument))),i},KFe="RTK_autoBatch",ZK=e=>t=>{setTimeout(t,e)},qFe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ZK(10):e.type==="callback"?e.queueNotification:ZK(e.timeout),u=()=>{i=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[KFe]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},WFe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new poe(e);return n&&a.push(qFe(typeof n=="object"?n:void 0)),a};function XFe(e){const t=GFe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(VM(r))o=soe(r);else throw new Error(fu(1));let c;typeof n=="function"?c=n(t):c=t();let u=P4;a&&(u=VFe({trace:!1,...typeof a=="object"&&a}));const d=IFe(...c),f=WFe(d);let h=typeof i=="function"?i(f):f();const p=u(...h);return aoe(o,s,p)}function moe(e){const t={},r=[];let n;const a={addCase(s,i){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(fu(28));if(o in t)throw new Error(fu(29));return t[o]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function YFe(e){return typeof e=="function"}function JFe(e,t){let[r,n,a]=moe(t),s;if(YFe(e))s=()=>JK(e());else{const o=JK(e);s=()=>o}function i(o=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(bx(d)){const p=f(d,c);return p===void 0?d:p}else{if(d0(d))return Aoe(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return i.getInitialState=s,i}var ZFe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eOe=(e=21)=>{let t="",r=e;for(;r--;)t+=ZFe[Math.random()*64|0];return t},tOe=Symbol.for("rtk-slice-createasyncthunk");function rOe(e,t){return`${e}/${t}`}function nOe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[tOe];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(fu(11));const o=(typeof a.reducers=="function"?a.reducers(sOe()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,B){const j=typeof k=="string"?k:k.type;if(!j)throw new Error(fu(12));if(j in u.sliceCaseReducersByType)throw new Error(fu(13));return u.sliceCaseReducersByType[j]=B,d},addMatcher(k,B){return u.sliceMatchers.push({matcher:k,reducer:B}),d},exposeAction(k,B){return u.actionCreators[k]=B,d},exposeCaseReducer(k,B){return u.sliceCaseReducersByName[k]=B,d}};c.forEach(k=>{const B=o[k],j={reducerName:k,type:rOe(s,k),createNotation:typeof a.reducers=="function"};oOe(B)?cOe(j,B,d,t):iOe(j,B,d)});function f(){const[k={},B=[],j=void 0]=typeof a.extraReducers=="function"?moe(a.extraReducers):[a.extraReducers],C={...k,...u.sliceCaseReducersByType};return JFe(a.initialState,N=>{for(let I in C)N.addCase(I,C[I]);for(let I of u.sliceMatchers)N.addMatcher(I.matcher,I.reducer);for(let I of B)N.addMatcher(I.matcher,I.reducer);j&&N.addDefaultCase(j)})}const h=k=>k,p=new Map,g=new WeakMap;let x;function v(k,B){return x||(x=f()),x(k,B)}function y(){return x||(x=f()),x.getInitialState()}function w(k,B=!1){function j(N){let I=N[k];return typeof I>"u"&&B&&(I=Q_(g,j,y)),I}function C(N=h){const I=Q_(p,B,()=>new WeakMap);return Q_(I,N,()=>{const L={};for(const[O,T]of Object.entries(a.selectors??{}))L[O]=aOe(T,N,()=>Q_(g,N,y),B);return L})}return{reducerPath:k,getSelectors:C,get selectors(){return C(j)},selectSlice:j}}const E={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...w(i),injectInto(k,{reducerPath:B,...j}={}){const C=B??i;return k.inject({reducerPath:C,reducer:v},j),{...E,...w(C,!0)}}};return E}}function aOe(e,t,r,n){function a(s,...i){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...i)}return a.unwrapped=e,a}var yu=nOe();function sOe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function iOe({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!lOe(n))throw new Error(fu(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?gd(e,i):gd(e))}function oOe(e){return e._reducerDefinitionType==="asyncThunk"}function lOe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function cOe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(fu(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||H_,pending:o||H_,rejected:c||H_,settled:u||H_})}function H_(){}var uOe="task",goe="listener",xoe="completed",KM="cancelled",dOe=`task-${KM}`,fOe=`task-${xoe}`,EP=`${goe}-${KM}`,AOe=`${goe}-${xoe}`,SB=class{constructor(e){fg(this,"name","TaskAbortError");fg(this,"message");this.code=e,this.message=`${uOe} ${KM} (reason: ${e})`}},qM=(e,t)=>{if(typeof e!="function")throw new TypeError(fu(32))},U4=()=>{},voe=(e,t=U4)=>(e.catch(t),e),boe=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Jg=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Zg=e=>{if(e.aborted){const{reason:t}=e;throw new SB(t)}};function yoe(e,t){let r=U4;return new Promise((n,a)=>{const s=()=>a(new SB(e.reason));if(e.aborted){s();return}r=boe(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=U4})}var hOe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof SB?"cancelled":"rejected",error:r}}finally{t==null||t()}},Q4=e=>t=>voe(yoe(e,t).then(r=>(Zg(e),r))),woe=e=>{const t=Q4(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:V1}=Object,eq={},_B="listenerMiddleware",pOe=(e,t)=>{const r=n=>boe(e,()=>Jg(n,e.reason));return(n,a)=>{qM(n);const s=new AbortController;r(s);const i=hOe(async()=>{Zg(e),Zg(s.signal);const o=await n({pause:Q4(s.signal),delay:woe(s.signal),signal:s.signal});return Zg(s.signal),o},()=>Jg(s,fOe));return a!=null&&a.autoJoin&&t.push(i.catch(U4)),{result:Q4(e)(i),cancel(){Jg(s,dOe)}}}},mOe=(e,t)=>{const r=async(n,a)=>{Zg(t);let s=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await yoe(t,Promise.race(o));return Zg(t),c}finally{s()}};return(n,a)=>voe(r(n,a))},Coe=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=gd(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(fu(21));return qM(s),{predicate:a,type:t,effect:s}},Eoe=V1(e=>{const{type:t,predicate:r,effect:n}=Coe(e);return{id:eOe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(fu(22))}}},{withTypes:()=>Eoe}),tq=(e,t)=>{const{type:r,effect:n,predicate:a}=Coe(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},SP=e=>{e.pending.forEach(t=>{Jg(t,EP)})},gOe=e=>()=>{e.forEach(SP),e.clear()},rq=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Soe=V1(gd(`${_B}/add`),{withTypes:()=>Soe}),xOe=gd(`${_B}/removeAll`),_oe=V1(gd(`${_B}/remove`),{withTypes:()=>_oe}),vOe=(...e)=>{console.error(`${_B}/error`,...e)},QE=(e={})=>{const t=new Map,{extra:r,onError:n=vOe}=e;qM(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&SP(d)}),s=d=>{const f=tq(t,d)??Eoe(d);return a(f)};V1(s,{withTypes:()=>s});const i=d=>{const f=tq(t,d);return f&&(f.unsubscribe(),d.cancelActive&&SP(f)),!!f};V1(i,{withTypes:()=>i});const o=async(d,f,h,p)=>{const g=new AbortController,x=mOe(s,g.signal),v=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,V1({},h,{getOriginalState:p,condition:(y,w)=>x(y,w).then(Boolean),take:x,delay:woe(g.signal),pause:Q4(g.signal),extra:r,signal:g.signal,fork:pOe(g.signal,v),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,w,E)=>{y!==g&&(Jg(y,EP),E.delete(y))})},cancel:()=>{Jg(g,EP),d.pending.delete(g)},throwIfCancelled:()=>{Zg(g.signal)}})))}catch(y){y instanceof SB||rq(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),Jg(g,AOe),d.pending.delete(g)}},c=gOe(t);return{middleware:d=>f=>h=>{if(!ioe(h))return f(h);if(Soe.match(h))return s(h.payload);if(xOe.match(h)){c();return}if(_oe.match(h))return i(h.payload);let p=d.getState();const g=()=>{if(p===eq)throw new Error(fu(23));return p};let x;try{if(x=f(h),t.size>0){const v=d.getState(),y=Array.from(t.values());for(const w of y){let E=!1;try{E=w.predicate(h,v,p)}catch(k){E=!1,rq(n,k,{raisedBy:"predicate"})}E&&o(w,h,d,g)}}}finally{p=eq}return x},startListening:s,stopListening:i,clearListeners:c}};function fu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bOe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Noe=yu({name:"chartLayout",initialState:bOe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:yOe,setLayout:wOe,setChartSize:COe,setScale:EOe}=Noe.actions,SOe=Noe.reducer;function nq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nq(Object(r),!0).forEach(function(n){_Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Oe(e,t,r){return(t=NOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NOe(e){var t=kOe(e,"string");return typeof t=="symbol"?t:t+""}function kOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H4=Math.PI/180,TOe=e=>e*180/Math.PI,ca=(e,t,r,n)=>({x:e+Math.cos(-H4*n)*r,y:t+Math.sin(-H4*n)*r}),koe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},BOe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},jOe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=BOe({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-a)/i,c=Math.acos(o);return n>s&&(c=2*Math.PI-c),{radius:i,angle:TOe(c),angleInRadian:c}},IOe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},FOe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},OOe=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:s}=jOe({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o||a===0)return null;var{startAngle:c,endAngle:u}=IOe(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?aq(aq({},t),{},{radius:a,angle:FOe(d,t)}):null},Toe=e=>!S.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function Boe(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function sq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sq(Object(r),!0).forEach(function(n){DOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DOe(e,t,r){return(t=POe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function POe(e){var t=ROe(e,"string");return typeof t=="symbol"?t:t+""}function ROe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ka(e,t,r){return $s(e)||$s(t)?r:HA(t)?xm(e,t,r):typeof t=="function"?t(e):r}var LOe=(e,t,r,n,a)=>{var s,i=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(go(d-u)!==go(f-d)){var p=[];if(go(f-d)===go(a[1]-a[0])){h=f;var g=d+a[1]-a[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var x=f+a[1]-a[0];p[0]=Math.min(d,(x+d)/2),p[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:i}=r[c]);break}}else{var y=Math.min(u,f),w=Math.max(u,f);if(e>(y+d)/2&&e<=(w+d)/2){({index:i}=r[c]);break}}}else if(t){for(var E=0;E<o;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<o-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===o-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:i}=t[E]);break}}return i},MOe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if((o==="vertical"||o==="horizontal"&&i==="middle")&&s!=="center"&&hr(e[s]))return sd(sd({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&i!=="middle"&&hr(e[i]))return sd(sd({},e),{},{[i]:e[i]+(a||0)})}return e},Om=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",joe=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,i=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||i.push(t),s||i.push(r),i},Ioe=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!i)return null;var g=o==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,x=a==="category"&&i.bandwidth?i.bandwidth()/g:0;if(x=p==="angleAxis"&&s&&s.length>=2?go(s[0]-s[1])*2*x:x,f||h){var v=(f||h||[]).map((y,w)=>{var E=n?n.indexOf(y):y;return{coordinate:i(E)+x,value:y,offset:x,index:w}});return v.filter(y=>!hu(y.coordinate))}return c&&u?u.map((y,w)=>({coordinate:i(y)+x,value:y,index:w,offset:x})):i.ticks&&d!=null?i.ticks(d).map((y,w)=>({coordinate:i(y)+x,value:y,offset:x,index:w})):i.domain().map((y,w)=>({coordinate:i(y)+x,value:n?n[y]:y,index:w,offset:x}))},iq=1e-4,UOe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-iq,s=Math.max(n[0],n[1])+iq,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},QOe=(e,t)=>{if(!t||t.length!==2||!hr(t[0])||!hr(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!hr(e[0])||e[0]<r)&&(a[0]=r),(!hr(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},HOe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=hu(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},$Oe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=hu(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},VOe={sign:HOe,expand:y6e,none:vb,silhouette:w6e,wiggle:C6e,positive:$Oe},zOe=(e,t,r)=>{var n=VOe[r],a=b6e().keys(t).value((s,i)=>+Ka(s,i,0)).order(pP).offset(n);return a(e)};function GOe(e){return e==null?void 0:String(e)}var oq=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var o=Ka(s,t.dataKey,t.scale.domain()[i]);return $s(o)?null:t.scale(o)-a/2+n},KOe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},qOe=e=>{var t=e.flat(2).filter(hr);return[Math.min(...t),Math.max(...t)]},WOe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],XOe=(e,t,r)=>{if(e!=null)return WOe(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((c,u)=>{var d=Boe(u,t,r),f=qOe(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},lq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TC=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=bB(t,d=>d.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var c=a[i],u=a[i-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function uq(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return sd(sd({},t),{},{dataKey:r,payload:n,value:a,name:s})}function dy(e,t){if(e)return String(e);if(typeof t=="string")return t}function YOe(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var s=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return s?{x:e,y:t}:null}return n?OOe({x:e,y:t},n):null}var JOe=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,{radius:i}=n;return sd(sd(sd({},n),ca(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:c}=n;return sd(sd(sd({},n),ca(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},ZOe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,S0=e=>e.layout.width,_0=e=>e.layout.height,eDe=e=>e.layout.scale,Foe=e=>e.layout.margin,WM=dt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),XM=dt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ooe="data-recharts-item-index",Doe="data-recharts-item-data-key",NB=60;function dq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dq(Object(r),!0).forEach(function(n){tDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tDe(e,t,r){return(t=rDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rDe(e){var t=nDe(e,"string");return typeof t=="symbol"?t:t+""}function nDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aDe=e=>e.brush.height,Ki=dt([S0,_0,Foe,aDe,WM,XM,roe,SFe],(e,t,r,n,a,s,i,o)=>{var c=s.reduce((g,x)=>{var{orientation:v}=x;if(!x.mirror&&!x.hide){var y=typeof x.width=="number"?x.width:NB;return mp(mp({},g),{},{[v]:g[v]+y})}return g},{left:r.left||0,right:r.right||0}),u=a.reduce((g,x)=>{var{orientation:v}=x;return!x.mirror&&!x.hide?mp(mp({},g),{},{[v]:xm(g,"".concat(v))+x.height}):g},{top:r.top||0,bottom:r.bottom||0}),d=mp(mp({},u),c),f=d.bottom;d.bottom+=n,d=MOe(d,i,o);var h=e-d.left-d.right,p=t-d.top-d.bottom;return mp(mp({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(p,0)})}),sDe=dt(Ki,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Poe=dt(S0,_0,(e,t)=>({x:0,y:0,width:e,height:t})),iDe=S.createContext(null),Bc=()=>S.useContext(iDe)!=null,kB=e=>e.brush,TB=dt([kB,Ki,Foe],(e,t,r)=>({height:e.height,x:hr(e.x)?e.x:t.left,y:hr(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:hr(e.width)?e.width:t.width})),YM=()=>{var e,t=Bc(),r=cr(sDe),n=cr(TB),a=(e=cr(kB))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},oDe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Roe=()=>{var e;return(e=cr(Ki))!==null&&e!==void 0?e:oDe},JM=()=>cr(S0),ZM=()=>cr(_0),lDe={top:0,right:0,bottom:0,left:0},cDe=()=>{var e;return(e=cr(t=>t.layout.margin))!==null&&e!==void 0?e:lDe},Ln=e=>e.layout.layoutType,eU=()=>cr(Ln),uDe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Loe=yu({name:"legend",initialState:uDe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Wh(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:fq,setLegendSettings:dDe,addLegendPayload:Moe,removeLegendPayload:Uoe}=Loe.actions,fDe=Loe.reducer,ADe=["contextPayload"];function _P(){return _P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_P.apply(null,arguments)}function Aq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aq(Object(r),!0).forEach(function(n){tU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tU(e,t,r){return(t=hDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hDe(e){var t=pDe(e,"string");return typeof t=="symbol"?t:t+""}function pDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mDe(e,t){if(e==null)return{};var r,n,a=gDe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xDe(e){return e.value}function vDe(e){var{contextPayload:t}=e,r=mDe(e,ADe),n=Yie(t,e.payloadUniqBy,xDe),a=yb(yb({},r),{},{payload:n});return S.isValidElement(e.content)?S.cloneElement(e.content,a):typeof e.content=="function"?S.createElement(e.content,a):S.createElement(PM,a)}function bDe(e,t,r,n,a,s){var{layout:i,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),yb(yb({},u),d)}function yDe(e){var t=as();return S.useEffect(()=>{t(dDe(e))},[t,e]),null}function wDe(e){var t=as();return S.useEffect(()=>(t(fq(e)),()=>{t(fq({width:0,height:0}))}),[t,e]),null}function CDe(e){var t=kFe(),r=VIe(),n=cDe(),{width:a,height:s,wrapperStyle:i,portal:o}=e,[c,u]=noe([t]),d=JM(),f=ZM(),h=d-(n.left||0)-(n.right||0),p=fy.getWidthOrHeight(e.layout,s,a,h),g=o?i:yb(yb({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},bDe(i,e,n,d,f,c)),i),x=o??r;if(x==null)return null;var v=S.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},S.createElement(yDe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),S.createElement(wDe,{width:c.width,height:c.height}),S.createElement(vDe,_P({},e,p,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return RE.createPortal(v,x)}class fy extends S.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&hr(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return S.createElement(CDe,this.props)}}tU(fy,"displayName","Legend");tU(fy,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function NP(){return NP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NP.apply(null,arguments)}function hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hq(Object(r),!0).forEach(function(n){EDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EDe(e,t,r){return(t=SDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SDe(e){var t=_De(e,"string");return typeof t=="symbol"?t:t+""}function _De(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NDe(e){return Array.isArray(e)&&HA(e[0])&&HA(e[1])?e.join(" ~ "):e}var kDe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(s&&s.length){var B={padding:0,margin:0},j=(o?bB(s,o):s).map((C,N)=>{if(C.type==="none")return null;var I=C.formatter||i||NDe,{value:L,name:O}=C,T=L,P=O;if(I){var R=I(L,O,C,N,s);if(Array.isArray(R))[T,P]=R;else if(R!=null)T=R;else return null}var q=$6({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:q},HA(P)?S.createElement("span",{className:"recharts-tooltip-item-name"},P):null,HA(P)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},T),S.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:B},j)}return null},g=$6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=$6({margin:0},a),v=!$s(d),y=v?d:"",w=Zt("recharts-default-tooltip",c),E=Zt("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(y=f(d,s));var k=h?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",NP({className:w,style:g},k),S.createElement("p",{className:E,style:x},S.isValidElement(y)?y:"".concat(y)),p())},Nw="recharts-tooltip-wrapper",TDe={visibility:"hidden"};function BDe(e){var{coordinate:t,translateX:r,translateY:n}=e;return Zt(Nw,{["".concat(Nw,"-right")]:hr(r)&&t&&hr(t.x)&&r>=t.x,["".concat(Nw,"-left")]:hr(r)&&t&&hr(t.x)&&r<t.x,["".concat(Nw,"-bottom")]:hr(n)&&t&&hr(t.y)&&n>=t.y,["".concat(Nw,"-top")]:hr(n)&&t&&hr(t.y)&&n<t.y})}function pq(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(s&&hr(s[n]))return s[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var h=c[n];if(h==null)return 0;if(i[n]){var p=d,g=h;return p<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+o,v=h+u;return x>v?Math.max(d,h):Math.max(f,h)}function jDe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function IDe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:o,viewBox:c}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=pq({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=pq({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=jDe({translateX:d,translateY:f,useTranslate3d:o})):u=TDe,{cssProperties:u,cssClasses:BDe({translateX:d,translateY:f,coordinate:r})}}function mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mq(Object(r),!0).forEach(function(n){kP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kP(e,t,r){return(t=FDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FDe(e){var t=ODe(e,"string");return typeof t=="symbol"?t:t+""}function ODe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DDe extends S.PureComponent{constructor(){super(...arguments),kP(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),kP(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:x,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:E}=IDe({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:p}),k=y?{}:$_($_({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),B=$_($_({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:B,ref:v},s)}}var PDe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vx={isSsr:PDe()},Qoe=()=>cr(e=>e.rootProps.accessibilityLayer);function gu(e){return Number.isFinite(e)}function wb(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TP.apply(null,arguments)}function gq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gq(Object(r),!0).forEach(function(n){RDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RDe(e,t,r){return(t=LDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LDe(e){var t=MDe(e,"string");return typeof t=="symbol"?t:t+""}function MDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vq={curveBasisClosed:c6e,curveBasisOpen:u6e,curveBasis:l6e,curveBumpX:qIe,curveBumpY:WIe,curveLinearClosed:d6e,curveLinear:gB,curveMonotoneX:f6e,curveMonotoneY:A6e,curveNatural:h6e,curveStep:p6e,curveStepAfter:g6e,curveStepBefore:m6e},V_=e=>gu(e.x)&&gu(e.y),kw=e=>e.x,Tw=e=>e.y,UDe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ME(e));return(r==="curveMonotone"||r==="curveBump")&&t?vq["".concat(r).concat(t==="vertical"?"Y":"X")]:vq[r]||gB},QDe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=UDe(t,a),o=s?r.filter(V_):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>V_(f)):n,d=o.map((f,h)=>xq(xq({},f),{},{base:u[h]}));return a==="vertical"?c=L_().y(Tw).x1(kw).x0(f=>f.base.x):c=L_().x(kw).y1(Tw).y0(f=>f.base.y),c.defined(V_).curve(i),c(d)}return a==="vertical"&&hr(n)?c=L_().y(Tw).x1(kw).x0(n):hr(n)?c=L_().x(kw).y1(Tw).y0(n):c=Oie().x(kw).y(Tw),c.defined(V_).curve(i),c(o)},Hoe=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?QDe(e):n;return S.createElement("path",TP({},Bl(e),TM(e),{className:Zt("recharts-curve",t),d:s===null?void 0:s,ref:a}))},HDe=["x","y","top","left","width","height","className"];function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BP.apply(null,arguments)}function bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bq(Object(r),!0).forEach(function(n){VDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VDe(e,t,r){return(t=zDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zDe(e){var t=GDe(e,"string");return typeof t=="symbol"?t:t+""}function GDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KDe(e,t){if(e==null)return{};var r,n,a=qDe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WDe=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),XDe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:o}=e,c=KDe(e,HDe),u=$De({x:t,y:r,top:n,left:a,width:s,height:i},c);return!hr(t)||!hr(r)||!hr(s)||!hr(i)||!hr(n)||!hr(a)?null:S.createElement("path",BP({},na(u,!0),{className:Zt("recharts-cross",o),d:WDe(t,r,s,i,n,a)}))};function YDe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yq(Object(r),!0).forEach(function(n){ZDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZDe(e,t,r){return(t=ePe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ePe(e){var t=tPe(e,"string");return typeof t=="symbol"?t:t+""}function tPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wd(e,t){var r=JDe({},e),n=t,a=Object.keys(t),s=a.reduce((i,o)=>(i[o]===void 0&&n[o]!==void 0&&(i[o]=n[o]),i),r);return s}var V6={},z6={},G6={},wq;function rPe(){return wq||(wq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(G6)),G6}var Cq;function nPe(){return Cq||(Cq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rPe(),r=qie(),n=UM(),a=QM(),s=LM();function i(u,d,f){return o(u,d,void 0,void 0,void 0,void 0,f)}function o(u,d,f,h,p,g,x){const v=x(u,d,f,h,p,g);if(v!==void 0)return v;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,g,x)}return c(u,d,g,x)}function c(u,d,f,h){if(Object.is(u,d))return!0;let p=n.getTag(u),g=n.getTag(d);if(p===a.argumentsTag&&(p=a.objectTag),g===a.argumentsTag&&(g=a.objectTag),p!==g)return!1;switch(p){case a.stringTag:return u.toString()===d.toString();case a.numberTag:{const y=u.valueOf(),w=d.valueOf();return s.eq(y,w)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(u.valueOf(),d.valueOf());case a.regexpTag:return u.source===d.source&&u.flags===d.flags;case a.functionTag:return u===d}f=f??new Map;const x=f.get(u),v=f.get(d);if(x!=null&&v!=null)return x===d;f.set(u,d),f.set(d,u);try{switch(p){case a.mapTag:{if(u.size!==d.size)return!1;for(const[y,w]of u.entries())if(!d.has(y)||!o(w,d.get(y),y,u,d,f,h))return!1;return!0}case a.setTag:{if(u.size!==d.size)return!1;const y=Array.from(u.values()),w=Array.from(d.values());for(let E=0;E<y.length;E++){const k=y[E],B=w.findIndex(j=>o(k,j,void 0,u,d,f,h));if(B===-1)return!1;w.splice(B,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let y=0;y<u.length;y++)if(!o(u[y],d[y],y,u,d,f,h))return!1;return!0}case a.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case a.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case a.errorTag:return u.name===d.name&&u.message===d.message;case a.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const w=[...Object.keys(u),...r.getSymbols(u)],E=[...Object.keys(d),...r.getSymbols(d)];if(w.length!==E.length)return!1;for(let k=0;k<w.length;k++){const B=w[k],j=u[B];if(!Object.hasOwn(d,B))return!1;const C=d[B];if(!o(j,C,B,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=i}(z6)),z6}var K6={},Eq;function aPe(){return Eq||(Eq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(K6)),K6}var Sq;function sPe(){return Sq||(Sq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nPe(),r=aPe();function n(a,s){return t.isEqualWith(a,s,r.noop)}e.isEqual=n}(V6)),V6}var q6,_q;function iPe(){return _q||(_q=1,q6=sPe().isEqual),q6}var oPe=iPe();const lPe=Tl(oPe);var $4=1e-4,$oe=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Voe=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Nq=(e,t)=>r=>{var n=$oe(e,t);return Voe(n,r)},cPe=(e,t)=>r=>{var n=$oe(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return Voe(a,r)},kq=function(){for(var t,r,n,a,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];if(i.length===1)switch(i[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=i[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else i.length===4&&([t,n,r,a]=i);var u=Nq(t,r),d=Nq(n,a),f=cPe(t,r),h=g=>g>1?1:g<0?0:g,p=g=>{for(var x=g>1?1:g,v=x,y=0;y<8;++y){var w=u(v)-x,E=f(v);if(Math.abs(w-x)<$4||E<$4)return d(v);v=h(v-w/E)}return d(v)};return p.isStepper=!1,p},uPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,o,c)=>{var u=-(i-o)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+i;return Math.abs(h-o)<$4&&Math.abs(f)<$4?[o,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},zoe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kq(e);case"spring":return uPe();default:if(e.split("(")[0]==="cubic-bezier")return kq(e)}return typeof e=="function"?e:null};function Tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tq(Object(r),!0).forEach(function(n){dPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dPe(e,t,r){return(t=fPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fPe(e){var t=APe(e,"string");return typeof t=="symbol"?t:t+""}function APe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hPe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),pPe=(e,t,r)=>e.map(n=>"".concat(hPe(n)," ").concat(t,"ms ").concat(r)).join(","),mPe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),BC=(e,t)=>Object.keys(t).reduce((r,n)=>Bq(Bq({},r),{},{[n]:e(n,t[n])}),{});function jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jq(Object(r),!0).forEach(function(n){gPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gPe(e,t,r){return(t=xPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xPe(e){var t=vPe(e,"string");return typeof t=="symbol"?t:t+""}function vPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V4=(e,t,r)=>e+(t-e)*r,jP=e=>{var{from:t,to:r}=e;return t!==r},Goe=(e,t,r)=>{var n=BC((a,s)=>{if(jP(s)){var[i,o]=e(s.from,s.to,s.velocity);return Po(Po({},s),{},{from:i,velocity:o})}return s},t);return r<1?BC((a,s)=>jP(s)?Po(Po({},s),{},{velocity:V4(s.velocity,n[a].velocity,r),from:V4(s.from,n[a].from,r)}):s,t):Goe(e,n,r-1)};function bPe(e,t,r,n,a,s){var i,o=n.reduce((h,p)=>Po(Po({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>BC((h,p)=>p.from,o),u=()=>!Object.values(o).filter(jP).length,d=null,f=h=>{i||(i=h);var p=h-i,g=p/r.dt;o=Goe(r,o,g),a(Po(Po(Po({},e),t),c())),i=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function yPe(e,t,r,n,a,s,i){var o=null,c=a.reduce((f,h)=>Po(Po({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,p=BC((x,v)=>V4(...v,r(h)),c);if(s(Po(Po(Po({},e),t),p)),h<1)o=i.setTimeout(d);else{var g=BC((x,v)=>V4(...v,r(1)),c);s(Po(Po(Po({},e),t),g))}};return()=>(o=i.setTimeout(d),()=>{o()})}const Koe=(e,t,r,n,a,s)=>{var i=mPe(e,t);return r.isStepper===!0?bPe(e,t,r,i,a,s):yPe(e,t,r,n,i,a,s)};function wPe(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class CPe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function EPe(){return wPe(new CPe)}var SPe=S.createContext(EPe);function qoe(e,t){var r=S.useContext(SPe);return S.useMemo(()=>t??r(e),[e,t,r])}var _Pe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function IP(){return IP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IP.apply(null,arguments)}function NPe(e,t){if(e==null)return{};var r,n,a=kPe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kPe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Iq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iq(Object(r),!0).forEach(function(n){Ug(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ug(e,t,r){return(t=TPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TPe(e){var t=BPe(e,"string");return typeof t=="symbol"?t:t+""}function BPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rU extends S.PureComponent{constructor(t,r){super(t,r),Ug(this,"mounted",!1),Ug(this,"manager",void 0),Ug(this,"stopJSAnimation",null),Ug(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:s,to:i,children:o,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:i});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:a?{[a]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:s,to:i,from:o}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:a?{[a]:i}:i};this.state&&c&&(a&&c[a]!==i||!a&&c!==i)&&this.setState(u);return}if(!(lPe(t.to,i)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?o:t.to;if(this.state&&c){var h={style:a?{[a]:f}:f};(a&&c[a]!==f||!a&&c!==f)&&this.setState(h)}this.runAnimation(gp(gp({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:c}=t,u=Koe(r,n,zoe(s),a,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,i,d,a,o])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:s,easing:i,onAnimationStart:o,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof i=="function"||typeof u=="function"||i==="spring"){this.runJSAnimation(t);return}var d=a?{[a]:s}:s,f=pPe(Object.keys(d),n,i);this.manager.start([o,r,gp(gp({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:s,easing:i,isActive:o,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:g}=t,x=NPe(t,_Pe),v=S.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!o||v===0||a<=0)return r;var w=E=>{var{style:k={},className:B}=E.props,j=S.cloneElement(E,gp(gp({},x),{},{style:gp(gp({},k),y),className:B}));return j};return v===1?w(S.Children.only(r)):S.createElement("div",null,S.Children.map(r,E=>w(E)))}}Ug(rU,"displayName","Animate");Ug(rU,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function z4(e){var t,r=qoe((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return S.createElement(rU,IP({},e,{animationManager:r}))}function G4(){return G4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G4.apply(null,arguments)}var Fq=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>s?s:a[f];u="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*d[1])),u+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);u="M ".concat(e,",").concat(t+i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*p,`
            L `).concat(e+r,",").concat(t+n-i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},jPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Woe=e=>{var t=wd(e,jPe),r=S.useRef(null),[n,a]=S.useState(-1);S.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&a(y)}catch{}},[]);var{x:s,y:i,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:x}=t;if(s!==+s||i!==+i||o!==+o||c!==+c||o===0||c===0)return null;var v=Zt("recharts-rectangle",d);return x?S.createElement(z4,{canBegin:n>0,from:{width:o,height:c,x:s,y:i},to:{width:o,height:c,x:s,y:i},duration:h,animationEasing:f,isActive:x},y=>{var{width:w,height:E,x:k,y:B}=y;return S.createElement(z4,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:g,easing:f},S.createElement("path",G4({},na(t,!0),{className:v,d:Fq(k,B,w,E,u),ref:r})))}):S.createElement("path",G4({},na(t,!0),{className:v,d:Fq(s,i,o,c,u)}))};function Xoe(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=ca(t,r,n,a),o=ca(t,r,n,s);return{points:[i,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FP.apply(null,arguments)}var IPe=(e,t)=>{var r=go(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},z_=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:c}=e,u=o*(i?1:-1)+n,d=Math.asin(o/u)/H4,f=c?a:a+s*d,h=ca(t,r,u,f),p=ca(t,r,n,f),g=c?a-s*d:a,x=ca(t,r,u*Math.cos(d*H4),g);return{center:h,circleTangency:p,lineTangency:x,theta:d}},Yoe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=IPe(s,i),c=s+o,u=ca(t,r,a,s),d=ca(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=ca(t,r,n,s),p=ca(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},FPe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=go(u-c),{circleTangency:f,lineTangency:h,theta:p}=z_({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:g,lineTangency:x,theta:v}=z_({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(c-u):Math.abs(c-u)-p-v;if(y<0)return i?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Yoe({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:k,theta:B}=z_({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:j,lineTangency:C,theta:N}=z_({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),I=o?Math.abs(c-u):Math.abs(c-u)-B-N;if(I<0&&s===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},OPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Joe=e=>{var t=wd(e,OPe),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var h=Zt("recharts-sector",f),p=s-a,g=ql(i,p,0,!0),x;return g>0&&Math.abs(u-d)<360?x=FPe({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):x=Yoe({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),S.createElement("path",FP({},na(t,!0),{className:h,d:x}))};function DPe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=ca(o,c,u,f),p=ca(o,c,d,f);n=h.x,a=h.y,s=p.x,i=p.y}else return Xoe(t);return[{x:n,y:a},{x:s,y:i}]}var W6={},X6={},Y6={},Oq;function PPe(){return Oq||(Oq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eoe();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(Y6)),Y6}var Dq;function RPe(){return Dq||(Dq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PPe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(X6)),X6}var Pq;function LPe(){return Pq||(Pq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=toe(),r=RPe();function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const o=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=i;return c}e.range=n}(W6)),W6}var J6,Rq;function MPe(){return Rq||(Rq=1,J6=LPe().range),J6}var UPe=MPe();const Zoe=Tl(UPe);function Zp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nU(e){let t,r,n;e.length!==2?(t=Zp,r=(o,c)=>Zp(e(o),c),n=(o,c)=>e(o)-c):(t=e===Zp||e===QPe?e:HPe,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:i,right:s}}function HPe(){return 0}function ele(e){return e===null?NaN:+e}function*$Pe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const VPe=nU(Zp),HE=VPe.right;nU(ele).center;class Lq extends Map{constructor(t,r=KPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Mq(this,t))}has(t){return super.has(Mq(this,t))}set(t,r){return super.set(zPe(this,t),r)}delete(t){return super.delete(GPe(this,t))}}function Mq({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function zPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function GPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function KPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qPe(e=Zp){if(e===Zp)return tle;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function tle(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const WPe=Math.sqrt(50),XPe=Math.sqrt(10),YPe=Math.sqrt(2);function K4(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=WPe?10:s>=XPe?5:s>=YPe?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/i,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?K4(e,t,r*2):[o,c,u]}function OP(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?K4(t,e,r):K4(e,t,r);if(!(s>=a))return[];const o=s-a+1,c=new Array(o);if(n)if(i<0)for(let u=0;u<o;++u)c[u]=(s-u)/-i;else for(let u=0;u<o;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<o;++u)c[u]=(a+u)/-i;else for(let u=0;u<o;++u)c[u]=(a+u)*i;return c}function DP(e,t,r){return t=+t,e=+e,r=+r,K4(e,t,r)[2]}function PP(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?DP(t,e,r):DP(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Uq(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Qq(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rle(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?tle:qPe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));rle(e,t,p,g,a)}const s=e[t];let i=r,o=n;for(Bw(e,r,t),a(e[n],s)>0&&Bw(e,r,n);i<o;){for(Bw(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?Bw(e,r,o):(++o,Bw(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Bw(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function JPe(e,t,r){if(e=Float64Array.from($Pe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Qq(e);if(t>=1)return Uq(e);var n,a=(n-1)*t,s=Math.floor(a),i=Uq(rle(e,s).subarray(0,s+1)),o=Qq(e.subarray(s+1));return i+(o-i)*(a-s)}}function ZPe(e,t,r=ele){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return i+(o-i)*(a-s)}}function eRe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Cd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function N0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const RP=Symbol("implicit");function BB(){var e=new Lq,t=[],r=[],n=RP;function a(s){let i=e.get(s);if(i===void 0){if(n!==RP)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Lq;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return BB(t,r).unknown(n)},Cd.apply(a,arguments),a}function aU(){var e=BB().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,x=p?n:a;s=(x-g)/Math.max(1,h-c+u*2),o&&(s=Math.floor(s)),g+=(x-g-s*(h-c))*d,i=s*(1-c),o&&(g=Math.round(g),i=Math.round(i));var v=eRe(h).map(function(y){return g+s*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return aU(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Cd.apply(f(),arguments)}function nle(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nle(t())},e}function tRe(){return nle(aU.apply(null,arguments).paddingInner(1))}function sU(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ale(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $E(){}var jC=.7,q4=1/jC,z1="\\s*([+-]?\\d+)\\s*",IC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",LA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rRe=/^#([0-9a-f]{3,8})$/,nRe=new RegExp(`^rgb\\(${z1},${z1},${z1}\\)$`),aRe=new RegExp(`^rgb\\(${LA},${LA},${LA}\\)$`),sRe=new RegExp(`^rgba\\(${z1},${z1},${z1},${IC}\\)$`),iRe=new RegExp(`^rgba\\(${LA},${LA},${LA},${IC}\\)$`),oRe=new RegExp(`^hsl\\(${IC},${LA},${LA}\\)$`),lRe=new RegExp(`^hsla\\(${IC},${LA},${LA},${IC}\\)$`),Hq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sU($E,wx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$q,formatHex:$q,formatHex8:cRe,formatHsl:uRe,formatRgb:Vq,toString:Vq});function $q(){return this.rgb().formatHex()}function cRe(){return this.rgb().formatHex8()}function uRe(){return sle(this).formatHsl()}function Vq(){return this.rgb().formatRgb()}function wx(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=rRe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zq(t):r===3?new yc(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?G_(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?G_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nRe.exec(e))?new yc(t[1],t[2],t[3],1):(t=aRe.exec(e))?new yc(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sRe.exec(e))?G_(t[1],t[2],t[3],t[4]):(t=iRe.exec(e))?G_(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oRe.exec(e))?qq(t[1],t[2]/100,t[3]/100,1):(t=lRe.exec(e))?qq(t[1],t[2]/100,t[3]/100,t[4]):Hq.hasOwnProperty(e)?zq(Hq[e]):e==="transparent"?new yc(NaN,NaN,NaN,0):null}function zq(e){return new yc(e>>16&255,e>>8&255,e&255,1)}function G_(e,t,r,n){return n<=0&&(e=t=r=NaN),new yc(e,t,r,n)}function dRe(e){return e instanceof $E||(e=wx(e)),e?(e=e.rgb(),new yc(e.r,e.g,e.b,e.opacity)):new yc}function LP(e,t,r,n){return arguments.length===1?dRe(e):new yc(e,t,r,n??1)}function yc(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sU(yc,LP,ale($E,{brighter(e){return e=e==null?q4:Math.pow(q4,e),new yc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jC:Math.pow(jC,e),new yc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yc(ex(this.r),ex(this.g),ex(this.b),W4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gq,formatHex:Gq,formatHex8:fRe,formatRgb:Kq,toString:Kq}));function Gq(){return`#${Qg(this.r)}${Qg(this.g)}${Qg(this.b)}`}function fRe(){return`#${Qg(this.r)}${Qg(this.g)}${Qg(this.b)}${Qg((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kq(){const e=W4(this.opacity);return`${e===1?"rgb(":"rgba("}${ex(this.r)}, ${ex(this.g)}, ${ex(this.b)}${e===1?")":`, ${e})`}`}function W4(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ex(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qg(e){return e=ex(e),(e<16?"0":"")+e.toString(16)}function qq(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tf(e,t,r,n)}function sle(e){if(e instanceof tf)return new tf(e.h,e.s,e.l,e.opacity);if(e instanceof $E||(e=wx(e)),!e)return new tf;if(e instanceof tf)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,c=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=c<.5?s+a:2-s-a,i*=60):o=c>0&&c<1?0:i,new tf(i,o,c,e.opacity)}function ARe(e,t,r,n){return arguments.length===1?sle(e):new tf(e,t,r,n??1)}function tf(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sU(tf,ARe,ale($E,{brighter(e){return e=e==null?q4:Math.pow(q4,e),new tf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jC:Math.pow(jC,e),new tf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new yc(Z6(e>=240?e-240:e+120,a,n),Z6(e,a,n),Z6(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new tf(Wq(this.h),K_(this.s),K_(this.l),W4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=W4(this.opacity);return`${e===1?"hsl(":"hsla("}${Wq(this.h)}, ${K_(this.s)*100}%, ${K_(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wq(e){return e=(e||0)%360,e<0?e+360:e}function K_(e){return Math.max(0,Math.min(1,e||0))}function Z6(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const iU=e=>()=>e;function hRe(e,t){return function(r){return e+r*t}}function pRe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mRe(e){return(e=+e)==1?ile:function(t,r){return r-t?pRe(t,r,e):iU(isNaN(t)?r:t)}}function ile(e,t){var r=t-e;return r?hRe(e,r):iU(isNaN(e)?t:e)}const X4=function e(t){var r=mRe(t);function n(a,s){var i=r((a=LP(a)).r,(s=LP(s)).r),o=r(a.g,s.g),c=r(a.b,s.b),u=ile(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function gRe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function xRe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vRe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Ay(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(o){for(i=0;i<n;++i)s[i]=a[i](o);return s}}function bRe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yRe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ay(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var MP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eF=new RegExp(MP.source,"g");function wRe(e){return function(){return e}}function CRe(e){return function(t){return e(t)+""}}function ole(e,t){var r=MP.lastIndex=eF.lastIndex=0,n,a,s,i=-1,o=[],c=[];for(e=e+"",t=t+"";(n=MP.exec(e))&&(a=eF.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,c.push({i,x:Zd(n,a)})),r=eF.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?c[0]?CRe(c[0].x):wRe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Ay(e,t){var r=typeof t,n;return t==null||r==="boolean"?iU(t):(r==="number"?Zd:r==="string"?(n=wx(t))?(t=n,X4):ole:t instanceof wx?X4:t instanceof Date?bRe:xRe(t)?gRe:Array.isArray(t)?vRe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yRe:Zd)(e,t)}function oU(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Xq=180/Math.PI,UP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lle(e,t,r,n,a,s){var i,o,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,c/=o),e*n<t*r&&(e=-e,t=-t,c=-c,i=-i),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*Xq,skewX:Math.atan(c)*Xq,scaleX:i,scaleY:o}}var q_;function ERe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?UP:lle(t.a,t.b,t.c,t.d,t.e,t.f)}function SRe(e){return e==null||(q_||(q_=document.createElementNS("http://www.w3.org/2000/svg","g")),q_.setAttribute("transform",e),!(e=q_.transform.baseVal.consolidate()))?UP:(e=e.matrix,lle(e.a,e.b,e.c,e.d,e.e,e.f))}function cle(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,h,p,g){if(u!==f||d!==h){var x=p.push("translate(",null,t,null,r);g.push({i:x-4,x:Zd(u,f)},{i:x-2,x:Zd(d,h)})}else(f||h)&&p.push("translate("+f+t+h+r)}function i(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,n)-2,x:Zd(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function o(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,n)-2,x:Zd(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function c(u,d,f,h,p,g){if(u!==f||d!==h){var x=p.push(a(p)+"scale(",null,",",null,")");g.push({i:x-4,x:Zd(u,f)},{i:x-2,x:Zd(d,h)})}else(f!==1||h!==1)&&p.push(a(p)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,h),i(u.rotate,d.rotate,f,h),o(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(p){for(var g=-1,x=h.length,v;++g<x;)f[(v=h[g]).i]=v.x(p);return f.join("")}}}var _Re=cle(ERe,"px, ","px)","deg)"),NRe=cle(SRe,", ",")",")"),kRe=1e-12;function Yq(e){return((e=Math.exp(e))+1/e)/2}function TRe(e){return((e=Math.exp(e))-1/e)/2}function BRe(e){return((e=Math.exp(2*e))-1)/(e+1)}const jRe=function e(t,r,n){function a(s,i){var o=s[0],c=s[1],u=s[2],d=i[0],f=i[1],h=i[2],p=d-o,g=f-c,x=p*p+g*g,v,y;if(x<kRe)y=Math.log(h/u)/t,v=function(C){return[o+C*p,c+C*g,u*Math.exp(t*C*y)]};else{var w=Math.sqrt(x),E=(h*h-u*u+n*x)/(2*u*r*w),k=(h*h-u*u-n*x)/(2*h*r*w),B=Math.log(Math.sqrt(E*E+1)-E),j=Math.log(Math.sqrt(k*k+1)-k);y=(j-B)/t,v=function(C){var N=C*y,I=Yq(B),L=u/(r*w)*(I*BRe(t*N+B)-TRe(B));return[o+L*p,c+L*g,u*I/Yq(t*N+B)]}}return v.duration=y*1e3*t/Math.SQRT2,v}return a.rho=function(s){var i=Math.max(.001,+s),o=i*i,c=o*o;return e(i,o,c)},a}(Math.SQRT2,2,4);function IRe(e,t){t===void 0&&(t=e,e=Ay);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var o=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[o](i-o)}}function FRe(e){return function(){return e}}function Y4(e){return+e}var Jq=[0,1];function $l(e){return e}function QP(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:FRe(isNaN(t)?NaN:.5)}function ORe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function DRe(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=QP(a,n),s=r(i,s)):(n=QP(n,a),s=r(s,i)),function(o){return s(n(o))}}function PRe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=QP(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(o){var c=HE(e,o,1,n)-1;return s[c](a[c](o))}}function VE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jB(){var e=Jq,t=Jq,r=Ay,n,a,s,i=$l,o,c,u;function d(){var h=Math.min(e.length,t.length);return i!==$l&&(i=ORe(e[0],e[h-1])),o=h>2?PRe:DRe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=o(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=o(t,e.map(n),Zd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Y4),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=oU,d()},f.clamp=function(h){return arguments.length?(i=h?!0:$l,d()):i!==$l},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,d()}}function lU(){return jB()($l,$l)}function RRe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function J4(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Cb(e){return e=J4(Math.abs(e)),e?e[1]:NaN}function LRe(e,t){return function(r,n){for(var a=r.length,s=[],i=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[i=(i+1)%e.length];return s.reverse().join(t)}}function MRe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var URe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function FC(e){if(!(t=URe.exec(e)))throw new Error("invalid format: "+e);var t;return new cU({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}FC.prototype=cU.prototype;function cU(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QRe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ule;function HRe(e,t){var r=J4(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(ule=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+J4(e,Math.max(0,t+s-1))[0]}function Zq(e,t){var r=J4(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const eW={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:RRe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zq(e*100,t),r:Zq,s:HRe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tW(e){return e}var rW=Array.prototype.map,nW=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $Re(e){var t=e.grouping===void 0||e.thousands===void 0?tW:LRe(rW.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?tW:MRe(rW.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=FC(f);var h=f.fill,p=f.align,g=f.sign,x=f.symbol,v=f.zero,y=f.width,w=f.comma,E=f.precision,k=f.trim,B=f.type;B==="n"?(w=!0,B="g"):eW[B]||(E===void 0&&(E=12),k=!0,B="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var j=x==="$"?r:x==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",C=x==="$"?n:/[%p]/.test(B)?i:"",N=eW[B],I=/[defgprs%]/.test(B);E=E===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L(O){var T=j,P=C,R,q,Q;if(B==="c")P=N(O)+P,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?c:N(Math.abs(O),E),k&&(O=QRe(O)),G&&+O==0&&g!=="+"&&(G=!1),T=(G?g==="("?g:o:g==="-"||g==="("?"":g)+T,P=(B==="s"?nW[8+ule/3]:"")+P+(G&&g==="("?")":""),I){for(R=-1,q=O.length;++R<q;)if(Q=O.charCodeAt(R),48>Q||Q>57){P=(Q===46?a+O.slice(R+1):O.slice(R))+P,O=O.slice(0,R);break}}}w&&!v&&(O=t(O,1/0));var K=T.length+O.length+P.length,z=K<y?new Array(y-K+1).join(h):"";switch(w&&v&&(O=t(z+O,z.length?y-P.length:1/0),z=""),p){case"<":O=T+O+P+z;break;case"=":O=T+z+O+P;break;case"^":O=z.slice(0,K=z.length>>1)+T+O+P+z.slice(K);break;default:O=z+T+O+P;break}return s(O)}return L.toString=function(){return f+""},L}function d(f,h){var p=u((f=FC(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Cb(h)/3)))*3,x=Math.pow(10,-g),v=nW[8+g/3];return function(y){return p(x*y)+v}}return{format:u,formatPrefix:d}}var W_,uU,dle;VRe({thousands:",",grouping:[3],currency:["$",""]});function VRe(e){return W_=$Re(e),uU=W_.format,dle=W_.formatPrefix,W_}function zRe(e){return Math.max(0,-Cb(Math.abs(e)))}function GRe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cb(t)/3)))*3-Cb(Math.abs(e)))}function KRe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cb(t)-Cb(e))+1}function fle(e,t,r,n){var a=PP(e,t,r),s;switch(n=FC(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=GRe(a,i))&&(n.precision=s),dle(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=KRe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=zRe(a))&&(n.precision=s-(n.type==="%")*2);break}}return uU(n)}function Dm(e){var t=e.domain;return e.ticks=function(r){var n=t();return OP(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return fle(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],o=n[s],c,u,d=10;for(o<i&&(u=i,i=o,o=u,u=a,a=s,s=u);d-- >0;){if(u=DP(i,o,r),u===c)return n[a]=i,n[s]=o,t(n);if(u>0)i=Math.floor(i/u)*u,o=Math.ceil(o/u)*u;else if(u<0)i=Math.ceil(i*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Ale(){var e=lU();return e.copy=function(){return VE(e,Ale())},Cd.apply(e,arguments),Dm(e)}function hle(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Y4),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return hle(e).unknown(t)},e=arguments.length?Array.from(e,Y4):[0,1],Dm(r)}function ple(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function aW(e){return Math.log(e)}function sW(e){return Math.exp(e)}function qRe(e){return-Math.log(-e)}function WRe(e){return-Math.exp(-e)}function XRe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YRe(e){return e===10?XRe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function JRe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iW(e){return(t,r)=>-e(-t,r)}function dU(e){const t=e(aW,sW),r=t.domain;let n=10,a,s;function i(){return a=JRe(n),s=YRe(n),r()[0]<0?(a=iW(a),s=iW(s),e(qRe,WRe)):e(aW,sW),t}return t.base=function(o){return arguments.length?(n=+o,i()):n},t.domain=function(o){return arguments.length?(r(o),i()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,x;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(x=h<0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;y.push(x)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(x=h>0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;y.push(x)}y.length*2<v&&(y=OP(u,d,v))}else y=OP(h,p,Math.min(p-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=FC(c)).precision==null&&(c.trim=!0),c=uU(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(ple(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function mle(){const e=dU(jB()).domain([1,10]);return e.copy=()=>VE(e,mle()).base(e.base()),Cd.apply(e,arguments),e}function oW(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lW(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fU(e){var t=1,r=e(oW(t),lW(t));return r.constant=function(n){return arguments.length?e(oW(t=+n),lW(t)):t},Dm(r)}function gle(){var e=fU(jB());return e.copy=function(){return VE(e,gle()).constant(e.constant())},Cd.apply(e,arguments)}function cW(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ZRe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eLe(e){return e<0?-e*e:e*e}function AU(e){var t=e($l,$l),r=1;function n(){return r===1?e($l,$l):r===.5?e(ZRe,eLe):e(cW(r),cW(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Dm(t)}function hU(){var e=AU(jB());return e.copy=function(){return VE(e,hU()).exponent(e.exponent())},Cd.apply(e,arguments),e}function tLe(){return hU.apply(null,arguments).exponent(.5)}function uW(e){return Math.sign(e)*e*e}function rLe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xle(){var e=lU(),t=[0,1],r=!1,n;function a(s){var i=rLe(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(uW(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Y4)).map(uW)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return xle(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Cd.apply(a,arguments),Dm(a)}function vle(){var e=[],t=[],r=[],n;function a(){var i=0,o=Math.max(1,t.length);for(r=new Array(o-1);++i<o;)r[i-1]=ZPe(e,i/o);return s}function s(i){return i==null||isNaN(i=+i)?n:t[HE(r,i)]}return s.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Zp),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return vle().domain(e).range(t).unknown(n)},Cd.apply(s,arguments)}function ble(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[HE(n,c,0,r)]:s}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return ble().domain([e,t]).range(a).unknown(s)},Cd.apply(Dm(i),arguments)}function yle(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[HE(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return yle().domain(e).range(t).unknown(r)},Cd.apply(a,arguments)}const tF=new Date,rF=new Date;function qi(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),o=a.ceil(s);return s-i<o-s?i:o},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,o)=>{const c=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<i)||!(o>0))return c;let u;do c.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<i);return c},a.filter=s=>qi(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!s(i););else for(;--o>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(tF.setTime(+s),rF.setTime(+i),e(tF),e(rF),Math.floor(r(tF,rF))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Z4=qi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Z4.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Z4);Z4.range;const Uh=1e3,cd=Uh*60,Qh=cd*60,f0=Qh*24,pU=f0*7,dW=f0*30,nF=f0*365,Hg=qi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Uh)},(e,t)=>(t-e)/Uh,e=>e.getUTCSeconds());Hg.range;const mU=qi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uh)},(e,t)=>{e.setTime(+e+t*cd)},(e,t)=>(t-e)/cd,e=>e.getMinutes());mU.range;const gU=qi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cd)},(e,t)=>(t-e)/cd,e=>e.getUTCMinutes());gU.range;const xU=qi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uh-e.getMinutes()*cd)},(e,t)=>{e.setTime(+e+t*Qh)},(e,t)=>(t-e)/Qh,e=>e.getHours());xU.range;const vU=qi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qh)},(e,t)=>(t-e)/Qh,e=>e.getUTCHours());vU.range;const zE=qi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cd)/f0,e=>e.getDate()-1);zE.range;const IB=qi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/f0,e=>e.getUTCDate()-1);IB.range;const wle=qi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/f0,e=>Math.floor(e/f0));wle.range;function zx(e){return qi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*cd)/pU)}const FB=zx(0),ek=zx(1),nLe=zx(2),aLe=zx(3),Eb=zx(4),sLe=zx(5),iLe=zx(6);FB.range;ek.range;nLe.range;aLe.range;Eb.range;sLe.range;iLe.range;function Gx(e){return qi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/pU)}const OB=Gx(0),tk=Gx(1),oLe=Gx(2),lLe=Gx(3),Sb=Gx(4),cLe=Gx(5),uLe=Gx(6);OB.range;tk.range;oLe.range;lLe.range;Sb.range;cLe.range;uLe.range;const bU=qi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bU.range;const yU=qi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yU.range;const A0=qi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());A0.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});A0.range;const h0=qi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());h0.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});h0.range;function Cle(e,t,r,n,a,s){const i=[[Hg,1,Uh],[Hg,5,5*Uh],[Hg,15,15*Uh],[Hg,30,30*Uh],[s,1,cd],[s,5,5*cd],[s,15,15*cd],[s,30,30*cd],[a,1,Qh],[a,3,3*Qh],[a,6,6*Qh],[a,12,12*Qh],[n,1,f0],[n,2,2*f0],[r,1,pU],[t,1,dW],[t,3,3*dW],[e,1,nF]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=nU(([,,v])=>v).right(i,h);if(p===i.length)return e.every(PP(u/nF,d/nF,f));if(p===0)return Z4.every(Math.max(PP(u,d,f),1));const[g,x]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return g.every(x)}return[o,c]}const[dLe,fLe]=Cle(h0,yU,OB,wle,vU,gU),[ALe,hLe]=Cle(A0,bU,FB,zE,xU,mU);function aF(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sF(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jw(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function pLe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,c=e.shortMonths,u=Iw(a),d=Fw(a),f=Iw(s),h=Fw(s),p=Iw(i),g=Fw(i),x=Iw(o),v=Fw(o),y=Iw(c),w=Fw(c),E={a:G,A:K,b:z,B:Y,c:null,d:gW,e:gW,f:LLe,g:qLe,G:XLe,H:DLe,I:PLe,j:RLe,L:Ele,m:MLe,M:ULe,p:ee,q:M,Q:bW,s:yW,S:QLe,u:HLe,U:$Le,V:VLe,w:zLe,W:GLe,x:null,X:null,y:KLe,Y:WLe,Z:YLe,"%":vW},k={a:H,A:W,b:Z,B:ae,c:null,d:xW,e:xW,f:t8e,g:d8e,G:A8e,H:JLe,I:ZLe,j:e8e,L:_le,m:r8e,M:n8e,p:oe,q:se,Q:bW,s:yW,S:a8e,u:s8e,U:i8e,V:o8e,w:l8e,W:c8e,x:null,X:null,y:u8e,Y:f8e,Z:h8e,"%":vW},B={a:L,A:O,b:T,B:P,c:R,d:pW,e:pW,f:jLe,g:hW,G:AW,H:mW,I:mW,j:NLe,L:BLe,m:_Le,M:kLe,p:I,q:SLe,Q:FLe,s:OLe,S:TLe,u:bLe,U:yLe,V:wLe,w:vLe,W:CLe,x:q,X:Q,y:hW,Y:AW,Z:ELe,"%":ILe};E.x=j(r,E),E.X=j(n,E),E.c=j(t,E),k.x=j(r,k),k.X=j(n,k),k.c=j(t,k);function j(ce,de){return function(ke){var re=[],_e=-1,Ne=0,Se=ce.length,he,Be,Le;for(ke instanceof Date||(ke=new Date(+ke));++_e<Se;)ce.charCodeAt(_e)===37&&(re.push(ce.slice(Ne,_e)),(Be=fW[he=ce.charAt(++_e)])!=null?he=ce.charAt(++_e):Be=he==="e"?" ":"0",(Le=de[he])&&(he=Le(ke,Be)),re.push(he),Ne=_e+1);return re.push(ce.slice(Ne,_e)),re.join("")}}function C(ce,de){return function(ke){var re=jw(1900,void 0,1),_e=N(re,ce,ke+="",0),Ne,Se;if(_e!=ke.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(de&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ne=sF(jw(re.y,0,1)),Se=Ne.getUTCDay(),Ne=Se>4||Se===0?tk.ceil(Ne):tk(Ne),Ne=IB.offset(Ne,(re.V-1)*7),re.y=Ne.getUTCFullYear(),re.m=Ne.getUTCMonth(),re.d=Ne.getUTCDate()+(re.w+6)%7):(Ne=aF(jw(re.y,0,1)),Se=Ne.getDay(),Ne=Se>4||Se===0?ek.ceil(Ne):ek(Ne),Ne=zE.offset(Ne,(re.V-1)*7),re.y=Ne.getFullYear(),re.m=Ne.getMonth(),re.d=Ne.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Se="Z"in re?sF(jw(re.y,0,1)).getUTCDay():aF(jw(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Se+5)%7:re.w+re.U*7-(Se+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,sF(re)):aF(re)}}function N(ce,de,ke,re){for(var _e=0,Ne=de.length,Se=ke.length,he,Be;_e<Ne;){if(re>=Se)return-1;if(he=de.charCodeAt(_e++),he===37){if(he=de.charAt(_e++),Be=B[he in fW?de.charAt(_e++):he],!Be||(re=Be(ce,ke,re))<0)return-1}else if(he!=ke.charCodeAt(re++))return-1}return re}function I(ce,de,ke){var re=u.exec(de.slice(ke));return re?(ce.p=d.get(re[0].toLowerCase()),ke+re[0].length):-1}function L(ce,de,ke){var re=p.exec(de.slice(ke));return re?(ce.w=g.get(re[0].toLowerCase()),ke+re[0].length):-1}function O(ce,de,ke){var re=f.exec(de.slice(ke));return re?(ce.w=h.get(re[0].toLowerCase()),ke+re[0].length):-1}function T(ce,de,ke){var re=y.exec(de.slice(ke));return re?(ce.m=w.get(re[0].toLowerCase()),ke+re[0].length):-1}function P(ce,de,ke){var re=x.exec(de.slice(ke));return re?(ce.m=v.get(re[0].toLowerCase()),ke+re[0].length):-1}function R(ce,de,ke){return N(ce,t,de,ke)}function q(ce,de,ke){return N(ce,r,de,ke)}function Q(ce,de,ke){return N(ce,n,de,ke)}function G(ce){return i[ce.getDay()]}function K(ce){return s[ce.getDay()]}function z(ce){return c[ce.getMonth()]}function Y(ce){return o[ce.getMonth()]}function ee(ce){return a[+(ce.getHours()>=12)]}function M(ce){return 1+~~(ce.getMonth()/3)}function H(ce){return i[ce.getUTCDay()]}function W(ce){return s[ce.getUTCDay()]}function Z(ce){return c[ce.getUTCMonth()]}function ae(ce){return o[ce.getUTCMonth()]}function oe(ce){return a[+(ce.getUTCHours()>=12)]}function se(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var de=j(ce+="",E);return de.toString=function(){return ce},de},parse:function(ce){var de=C(ce+="",!1);return de.toString=function(){return ce},de},utcFormat:function(ce){var de=j(ce+="",k);return de.toString=function(){return ce},de},utcParse:function(ce){var de=C(ce+="",!0);return de.toString=function(){return ce},de}}}var fW={"-":"",_:" ",0:"0"},bo=/^\s*\d+/,mLe=/^%/,gLe=/[\\^$*+?|[\]().{}]/g;function sa(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function xLe(e){return e.replace(gLe,"\\$&")}function Iw(e){return new RegExp("^(?:"+e.map(xLe).join("|")+")","i")}function Fw(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function vLe(e,t,r){var n=bo.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bLe(e,t,r){var n=bo.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function yLe(e,t,r){var n=bo.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function wLe(e,t,r){var n=bo.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function CLe(e,t,r){var n=bo.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function AW(e,t,r){var n=bo.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function hW(e,t,r){var n=bo.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ELe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SLe(e,t,r){var n=bo.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function _Le(e,t,r){var n=bo.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function pW(e,t,r){var n=bo.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function NLe(e,t,r){var n=bo.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function mW(e,t,r){var n=bo.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kLe(e,t,r){var n=bo.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function TLe(e,t,r){var n=bo.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BLe(e,t,r){var n=bo.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function jLe(e,t,r){var n=bo.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ILe(e,t,r){var n=mLe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function FLe(e,t,r){var n=bo.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function OLe(e,t,r){var n=bo.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function gW(e,t){return sa(e.getDate(),t,2)}function DLe(e,t){return sa(e.getHours(),t,2)}function PLe(e,t){return sa(e.getHours()%12||12,t,2)}function RLe(e,t){return sa(1+zE.count(A0(e),e),t,3)}function Ele(e,t){return sa(e.getMilliseconds(),t,3)}function LLe(e,t){return Ele(e,t)+"000"}function MLe(e,t){return sa(e.getMonth()+1,t,2)}function ULe(e,t){return sa(e.getMinutes(),t,2)}function QLe(e,t){return sa(e.getSeconds(),t,2)}function HLe(e){var t=e.getDay();return t===0?7:t}function $Le(e,t){return sa(FB.count(A0(e)-1,e),t,2)}function Sle(e){var t=e.getDay();return t>=4||t===0?Eb(e):Eb.ceil(e)}function VLe(e,t){return e=Sle(e),sa(Eb.count(A0(e),e)+(A0(e).getDay()===4),t,2)}function zLe(e){return e.getDay()}function GLe(e,t){return sa(ek.count(A0(e)-1,e),t,2)}function KLe(e,t){return sa(e.getFullYear()%100,t,2)}function qLe(e,t){return e=Sle(e),sa(e.getFullYear()%100,t,2)}function WLe(e,t){return sa(e.getFullYear()%1e4,t,4)}function XLe(e,t){var r=e.getDay();return e=r>=4||r===0?Eb(e):Eb.ceil(e),sa(e.getFullYear()%1e4,t,4)}function YLe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sa(t/60|0,"0",2)+sa(t%60,"0",2)}function xW(e,t){return sa(e.getUTCDate(),t,2)}function JLe(e,t){return sa(e.getUTCHours(),t,2)}function ZLe(e,t){return sa(e.getUTCHours()%12||12,t,2)}function e8e(e,t){return sa(1+IB.count(h0(e),e),t,3)}function _le(e,t){return sa(e.getUTCMilliseconds(),t,3)}function t8e(e,t){return _le(e,t)+"000"}function r8e(e,t){return sa(e.getUTCMonth()+1,t,2)}function n8e(e,t){return sa(e.getUTCMinutes(),t,2)}function a8e(e,t){return sa(e.getUTCSeconds(),t,2)}function s8e(e){var t=e.getUTCDay();return t===0?7:t}function i8e(e,t){return sa(OB.count(h0(e)-1,e),t,2)}function Nle(e){var t=e.getUTCDay();return t>=4||t===0?Sb(e):Sb.ceil(e)}function o8e(e,t){return e=Nle(e),sa(Sb.count(h0(e),e)+(h0(e).getUTCDay()===4),t,2)}function l8e(e){return e.getUTCDay()}function c8e(e,t){return sa(tk.count(h0(e)-1,e),t,2)}function u8e(e,t){return sa(e.getUTCFullYear()%100,t,2)}function d8e(e,t){return e=Nle(e),sa(e.getUTCFullYear()%100,t,2)}function f8e(e,t){return sa(e.getUTCFullYear()%1e4,t,4)}function A8e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sb(e):Sb.ceil(e),sa(e.getUTCFullYear()%1e4,t,4)}function h8e(){return"+0000"}function vW(){return"%"}function bW(e){return+e}function yW(e){return Math.floor(+e/1e3)}var Mv,kle,Tle;p8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p8e(e){return Mv=pLe(e),kle=Mv.format,Mv.parse,Tle=Mv.utcFormat,Mv.utcParse,Mv}function m8e(e){return new Date(e)}function g8e(e){return e instanceof Date?+e:+new Date(+e)}function wU(e,t,r,n,a,s,i,o,c,u){var d=lU(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),x=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),w=u("%b %d"),E=u("%B"),k=u("%Y");function B(j){return(c(j)<j?p:o(j)<j?g:i(j)<j?x:s(j)<j?v:n(j)<j?a(j)<j?y:w:r(j)<j?E:k)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,g8e)):h().map(m8e)},d.ticks=function(j){var C=h();return e(C[0],C[C.length-1],j??10)},d.tickFormat=function(j,C){return C==null?B:u(C)},d.nice=function(j){var C=h();return(!j||typeof j.range!="function")&&(j=t(C[0],C[C.length-1],j??10)),j?h(ple(C,j)):d},d.copy=function(){return VE(d,wU(e,t,r,n,a,s,i,o,c,u))},d}function x8e(){return Cd.apply(wU(ALe,hLe,A0,bU,FB,zE,xU,mU,Hg,kle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function v8e(){return Cd.apply(wU(dLe,fLe,h0,yU,OB,IB,vU,gU,Hg,Tle).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function DB(){var e=0,t=1,r,n,a,s,i=$l,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,i=f(p,g),u):[i(0),i(1)]}}return u.range=d(Ay),u.rangeRound=d(oU),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Pm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ble(){var e=Dm(DB()($l));return e.copy=function(){return Pm(e,Ble())},N0.apply(e,arguments)}function jle(){var e=dU(DB()).domain([1,10]);return e.copy=function(){return Pm(e,jle()).base(e.base())},N0.apply(e,arguments)}function Ile(){var e=fU(DB());return e.copy=function(){return Pm(e,Ile()).constant(e.constant())},N0.apply(e,arguments)}function CU(){var e=AU(DB());return e.copy=function(){return Pm(e,CU()).exponent(e.exponent())},N0.apply(e,arguments)}function b8e(){return CU.apply(null,arguments).exponent(.5)}function Fle(){var e=[],t=$l;function r(n){if(n!=null&&!isNaN(n=+n))return t((HE(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Zp),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>JPe(e,s/n))},r.copy=function(){return Fle(t).domain(e)},N0.apply(r,arguments)}function PB(){var e=0,t=.5,r=1,n=1,a,s,i,o,c,u=$l,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?o:c),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),s=d(t=+t),i=d(r=+r),o=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function g(x){return function(v){var y,w,E;return arguments.length?([y,w,E]=v,u=IRe(x,[y,w,E]),p):[u(0),u(.5),u(1)]}}return p.range=g(Ay),p.rangeRound=g(oU),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,a=x(e),s=x(t),i=x(r),o=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function Ole(){var e=Dm(PB()($l));return e.copy=function(){return Pm(e,Ole())},N0.apply(e,arguments)}function Dle(){var e=dU(PB()).domain([.1,1,10]);return e.copy=function(){return Pm(e,Dle()).base(e.base())},N0.apply(e,arguments)}function Ple(){var e=fU(PB());return e.copy=function(){return Pm(e,Ple()).constant(e.constant())},N0.apply(e,arguments)}function EU(){var e=AU(PB());return e.copy=function(){return Pm(e,EU()).exponent(e.exponent())},N0.apply(e,arguments)}function y8e(){return EU.apply(null,arguments).exponent(.5)}const p2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:aU,scaleDiverging:Ole,scaleDivergingLog:Dle,scaleDivergingPow:EU,scaleDivergingSqrt:y8e,scaleDivergingSymlog:Ple,scaleIdentity:hle,scaleImplicit:RP,scaleLinear:Ale,scaleLog:mle,scaleOrdinal:BB,scalePoint:tRe,scalePow:hU,scaleQuantile:vle,scaleQuantize:ble,scaleRadial:xle,scaleSequential:Ble,scaleSequentialLog:jle,scaleSequentialPow:CU,scaleSequentialQuantile:Fle,scaleSequentialSqrt:b8e,scaleSequentialSymlog:Ile,scaleSqrt:tLe,scaleSymlog:gle,scaleThreshold:yle,scaleTime:x8e,scaleUtc:v8e,tickFormat:fle},Symbol.toStringTag,{value:"Module"}));var Rm=e=>e.chartData,RB=dt([Rm],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),SU=(e,t,r,n)=>n?RB(e):Rm(e);function _b(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(gu(t)&&gu(r))return!0}return!1}function wW(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function w8e(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(gu(r))a=r;else if(typeof r=="function")return;if(gu(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(_b(i))return i}}function C8e(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(_b(n))return wW(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,o;if(a==="auto")t!=null&&(i=Math.min(...t));else if(hr(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&lq.test(a)){var c=lq.exec(a);if(c==null||t==null)i=void 0;else{var u=+c[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(hr(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&cq.test(s)){var d=cq.exec(s);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[i,o];if(_b(h))return t==null?h:wW(h,t,r)}}}var hy=1e9,E8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NU,As=!0,xd="[DecimalError] ",tx=xd+"Invalid argument: ",_U=xd+"Exponent out of range: ",py=Math.floor,Ng=Math.pow,S8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,iu,lo=1e7,Ya=7,Rle=9007199254740991,rk=py(Rle/Ya),mr={};mr.absoluteValue=mr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mr.comparedTo=mr.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};mr.decimalPlaces=mr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ya;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};mr.dividedBy=mr.div=function(e){return Xh(this,new this.constructor(e))};mr.dividedToIntegerBy=mr.idiv=function(e){var t=this,r=t.constructor;return Ma(Xh(t,new r(e),0,1),r.precision)};mr.equals=mr.eq=function(e){return!this.cmp(e)};mr.exponent=function(){return Fi(this)};mr.greaterThan=mr.gt=function(e){return this.cmp(e)>0};mr.greaterThanOrEqualTo=mr.gte=function(e){return this.cmp(e)>=0};mr.isInteger=mr.isint=function(){return this.e>this.d.length-2};mr.isNegative=mr.isneg=function(){return this.s<0};mr.isPositive=mr.ispos=function(){return this.s>0};mr.isZero=function(){return this.s===0};mr.lessThan=mr.lt=function(e){return this.cmp(e)<0};mr.lessThanOrEqualTo=mr.lte=function(e){return this.cmp(e)<1};mr.logarithm=mr.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(iu))throw Error(xd+"NaN");if(r.s<1)throw Error(xd+(r.s?"NaN":"-Infinity"));return r.eq(iu)?new n(0):(As=!1,t=Xh(OC(r,s),OC(e,s),s),As=!0,Ma(t,a))};mr.minus=mr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ule(t,e):Lle(t,(e.s=-e.s,e))};mr.modulo=mr.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(xd+"NaN");return r.s?(As=!1,t=Xh(r,e,0,1).times(e),As=!0,r.minus(t)):Ma(new n(r),a)};mr.naturalExponential=mr.exp=function(){return Mle(this)};mr.naturalLogarithm=mr.ln=function(){return OC(this)};mr.negated=mr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mr.plus=mr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Lle(t,e):Ule(t,(e.s=-e.s,e))};mr.precision=mr.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(tx+e);if(t=Fi(a)+1,n=a.d.length-1,r=n*Ya+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};mr.squareRoot=mr.sqrt=function(){var e,t,r,n,a,s,i,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(xd+"NaN")}for(e=Fi(o),As=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=NA(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=py((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Xh(o,s,i+2)).times(.5),NA(s.d).slice(0,i)===(t=NA(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Ma(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;i+=4}return As=!0,Ma(n,r)};mr.times=mr.mul=function(e){var t,r,n,a,s,i,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=s[a]+p[n]*h[a-n-1]+t,s[a--]=o%lo|0,t=o/lo|0;s[a]=(s[a]+t)%lo|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,As?Ma(e,f.precision):e};mr.toDecimalPlaces=mr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:($A(e,0,hy),t===void 0?t=n.rounding:$A(t,0,8),Ma(r,e+Fi(r)+1,t))};mr.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Cx(n,!0):($A(e,0,hy),t===void 0?t=a.rounding:$A(t,0,8),n=Ma(new a(n),e+1,t),r=Cx(n,!0,e+1)),r};mr.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Cx(a):($A(e,0,hy),t===void 0?t=s.rounding:$A(t,0,8),n=Ma(new s(a),e+Fi(a)+1,t),r=Cx(n.abs(),!1,e+Fi(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};mr.toInteger=mr.toint=function(){var e=this,t=e.constructor;return Ma(new t(e),Fi(e)+1,t.rounding)};mr.toNumber=function(){return+this};mr.toPower=mr.pow=function(e){var t,r,n,a,s,i,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(iu);if(o=new c(o),!o.s){if(e.s<1)throw Error(xd+"Infinity");return o}if(o.eq(iu))return o;if(n=c.precision,e.eq(iu))return Ma(o,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=o.s,i){if((r=d<0?-d:d)<=Rle){for(a=new c(iu),t=Math.ceil(n/Ya+4),As=!1;r%2&&(a=a.times(o),EW(a.d,t)),r=py(r/2),r!==0;)o=o.times(o),EW(o.d,t);return As=!0,e.s<0?new c(iu).div(a):Ma(a,n)}}else if(s<0)throw Error(xd+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,As=!1,a=e.times(OC(o,n+u)),As=!0,a=Mle(a),a.s=s,a};mr.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Fi(a),n=Cx(a,r<=s.toExpNeg||r>=s.toExpPos)):($A(e,1,hy),t===void 0?t=s.rounding:$A(t,0,8),a=Ma(new s(a),e,t),r=Fi(a),n=Cx(a,e<=r||r<=s.toExpNeg,e)),n};mr.toSignificantDigits=mr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):($A(e,1,hy),t===void 0?t=n.rounding:$A(t,0,8)),Ma(new n(r),e,t)};mr.toString=mr.valueOf=mr.val=mr.toJSON=mr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Fi(e),r=e.constructor;return Cx(e,t<=r.toExpNeg||t>=r.toExpPos)};function Lle(e,t){var r,n,a,s,i,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),As?Ma(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,o=u.length):(n=u,a=i,o=c.length),i=Math.ceil(f/Ya),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/lo|0,c[s]%=lo;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,As?Ma(t,f):t}function $A(e,t,r){if(e!==~~e||e<t||e>r)throw Error(tx+e)}function NA(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Ya-n.length,r&&(s+=_p(r)),s+=n;i=e[t],n=i+"",r=Ya-n.length,r&&(s+=_p(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Xh=function(){function e(n,a){var s,i=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+i,n[o]=s%lo|0,i=s/lo|0;return i&&n.unshift(i),n}function t(n,a,s,i){var o,c;if(s!=i)c=s>i?1:-1;else for(o=c=0;o<s;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*lo+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var o,c,u,d,f,h,p,g,x,v,y,w,E,k,B,j,C,N,I=n.constructor,L=n.s==a.s?1:-1,O=n.d,T=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(xd+"Division by zero");for(c=n.e-a.e,C=T.length,B=O.length,p=new I(L),g=p.d=[],u=0;T[u]==(O[u]||0);)++u;if(T[u]>(O[u]||0)&&--c,s==null?w=s=I.precision:i?w=s+(Fi(n)-Fi(a))+1:w=s,w<0)return new I(0);if(w=w/Ya+2|0,u=0,C==1)for(d=0,T=T[0],w++;(u<B||d)&&w--;u++)E=d*lo+(O[u]||0),g[u]=E/T|0,d=E%T|0;else{for(d=lo/(T[0]+1)|0,d>1&&(T=e(T,d),O=e(O,d),C=T.length,B=O.length),k=C,x=O.slice(0,C),v=x.length;v<C;)x[v++]=0;N=T.slice(),N.unshift(0),j=T[0],T[1]>=lo/2&&++j;do d=0,o=t(T,x,C,v),o<0?(y=x[0],C!=v&&(y=y*lo+(x[1]||0)),d=y/j|0,d>1?(d>=lo&&(d=lo-1),f=e(T,d),h=f.length,v=x.length,o=t(f,x,h,v),o==1&&(d--,r(f,C<h?N:T,h))):(d==0&&(o=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(x,f,v),o==-1&&(v=x.length,o=t(T,x,C,v),o<1&&(d++,r(x,C<v?N:T,v))),v=x.length):o===0&&(d++,x=[0]),g[u++]=d,o&&x[0]?x[v++]=O[k]||0:(x=[O[k]],v=1);while((k++<B||x[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=c,Ma(p,i?s+Fi(p)+1:s)}}();function Mle(e,t){var r,n,a,s,i,o,c=0,u=0,d=e.constructor,f=d.precision;if(Fi(e)>16)throw Error(_U+Fi(e));if(!e.s)return new d(iu);for(As=!1,o=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Ng(2,u))/Math.LN10*2+5|0,o+=n,r=a=s=new d(iu),d.precision=o;;){if(a=Ma(a.times(e),o),r=r.times(++c),i=s.plus(Xh(a,r,o)),NA(i.d).slice(0,o)===NA(s.d).slice(0,o)){for(;u--;)s=Ma(s.times(s),o);return d.precision=f,t==null?(As=!0,Ma(s,f)):s}s=i}}function Fi(e){for(var t=e.e*Ya,r=e.d[0];r>=10;r/=10)t++;return t}function iF(e,t,r){if(t>e.LN10.sd())throw As=!0,r&&(e.precision=r),Error(xd+"LN10 precision limit exceeded");return Ma(new e(e.LN10),t)}function _p(e){for(var t="";e--;)t+="0";return t}function OC(e,t){var r,n,a,s,i,o,c,u,d,f=1,h=10,p=e,g=p.d,x=p.constructor,v=x.precision;if(p.s<1)throw Error(xd+(p.s?"NaN":"-Infinity"));if(p.eq(iu))return new x(0);if(t==null?(As=!1,u=v):u=t,p.eq(10))return t==null&&(As=!0),iF(x,u);if(u+=h,x.precision=u,r=NA(g),n=r.charAt(0),s=Fi(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=NA(p.d),n=r.charAt(0),f++;s=Fi(p),n>1?(p=new x("0."+r),s++):p=new x(n+"."+r.slice(1))}else return c=iF(x,u+2,v).times(s+""),p=OC(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=v,t==null?(As=!0,Ma(p,v)):p;for(o=i=p=Xh(p.minus(iu),p.plus(iu),u),d=Ma(p.times(p),u),a=3;;){if(i=Ma(i.times(d),u),c=o.plus(Xh(i,new x(a),u)),NA(c.d).slice(0,u)===NA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(iF(x,u+2,v).times(s+""))),o=Xh(o,new x(f),u),x.precision=v,t==null?(As=!0,Ma(o,v)):o;o=c,a+=2}}function CW(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=py(r/Ya),e.d=[],n=(r+1)%Ya,r<0&&(n+=Ya),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ya;n<a;)e.d.push(+t.slice(n,n+=Ya));t=t.slice(n),n=Ya-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),As&&(e.e>rk||e.e<-rk))throw Error(_U+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ma(e,t,r){var n,a,s,i,o,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Ya,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ya),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Ya,a=n-Ya+i}if(r!==void 0&&(s=Ng(10,i-a-1),o=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/Ng(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Fi(e),f.length=1,t=t-s-1,f[0]=Ng(10,(Ya-t%Ya)%Ya),e.e=py(-t/Ya)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Ng(10,Ya-n),f[d]=a>0?(u/Ng(10,i-a)%Ng(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==lo&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=lo)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(As&&(e.e>rk||e.e<-rk))throw Error(_U+Fi(e));return e}function Ule(e,t){var r,n,a,s,i,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),As?Ma(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(p/Ya),o)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=lo-1;--c[s],c[a]+=lo}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,As?Ma(t,p):t):new h(0)}function Cx(e,t,r){var n,a=Fi(e),s=NA(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+_p(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+_p(-a-1)+s,r&&(n=r-i)>0&&(s+=_p(n))):a>=i?(s+=_p(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+_p(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=_p(n))),e.s<0?"-"+s:s}function EW(e,t){if(e.length>t)return e.length=t,!0}function Qle(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(tx+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return CW(i,s.toString())}else if(typeof s!="string")throw Error(tx+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,S8e.test(s))CW(i,s);else throw Error(tx+s)}if(a.prototype=mr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Qle,a.config=a.set=_8e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function _8e(e){if(!e||typeof e!="object")throw Error(xd+"Object expected");var t,r,n,a=["precision",1,hy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(py(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(tx+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(tx+r+": "+n);return this}var NU=Qle(E8e);iu=new NU(1);const Sa=NU;var N8e=e=>e,Hle={},$le=e=>e===Hle,SW=e=>function t(){return arguments.length===0||arguments.length===1&&$le(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Vle=(e,t)=>e===1?t:SW(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==Hle).length;return s>=e?t(...n):Vle(e-s,SW(function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];var u=n.map(d=>$le(d)?o.shift():d);return t(...u,...o)}))}),LB=e=>Vle(e.length,e),HP=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},k8e=LB((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),T8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return N8e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((o,c)=>c(o),s(...arguments))}},$P=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),zle=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every((i,o)=>{var c;return i===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function Gle(e){var t;return e===0?t=1:t=Math.floor(new Sa(e).abs().log(10).toNumber())+1,t}function Kle(e,t,r){for(var n=new Sa(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}LB((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});LB((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});LB((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var qle=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Wle=(e,t,r)=>{if(e.lte(0))return new Sa(0);var n=Gle(e.toNumber()),a=new Sa(10).pow(n),s=e.div(a),i=n!==1?.05:.1,o=new Sa(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=o.mul(a);return t?new Sa(c.toNumber()):new Sa(Math.ceil(c.toNumber()))},B8e=(e,t,r)=>{var n=new Sa(1),a=new Sa(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Sa(10).pow(Gle(e)-1),a=new Sa(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Sa(Math.floor(e)))}else e===0?a=new Sa(Math.floor((t-1)/2)):r||(a=new Sa(Math.floor(e)));var i=Math.floor((t-1)/2),o=T8e(k8e(c=>a.add(new Sa(c-i).mul(n)).toNumber()),HP);return o(0,t)},Xle=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Sa(0),tickMin:new Sa(0),tickMax:new Sa(0)};var i=Wle(new Sa(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new Sa(0):(o=new Sa(t).add(r).div(2),o=o.sub(new Sa(o).mod(i)));var c=Math.ceil(o.sub(t).div(i).toNumber()),u=Math.ceil(new Sa(r).sub(o).div(i).toNumber()),d=c+u+1;return d>n?Xle(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:o.sub(new Sa(c).mul(i)),tickMax:o.add(new Sa(u).mul(i))})};function j8e(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[i,o]=qle([t,r]);if(i===-1/0||o===1/0){var c=o===1/0?[i,...HP(0,n-1).map(()=>1/0)]:[...HP(0,n-1).map(()=>-1/0),o];return t>r?$P(c):c}if(i===o)return B8e(i,n,a);var{step:u,tickMin:d,tickMax:f}=Xle(i,o,s,a,0),h=Kle(d,f.add(new Sa(.1).mul(u)),u);return t>r?$P(h):h}function I8e(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,i]=qle([r,n]);if(s===-1/0||i===1/0)return[r,n];if(s===i)return[s];var o=Math.max(t,2),c=Wle(new Sa(i).sub(s).div(o-1),a,0),u=[...Kle(new Sa(s),new Sa(i),c),i];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?$P(u):u}var F8e=zle(j8e),O8e=zle(I8e),Yle=e=>e.rootProps.maxBarSize,D8e=e=>e.rootProps.barGap,Jle=e=>e.rootProps.barCategoryGap,P8e=e=>e.rootProps.barSize,GE=e=>e.rootProps.stackOffset,kU=e=>e.options.chartName,TU=e=>e.rootProps.syncId,Zle=e=>e.rootProps.syncMethod,BU=e=>e.options.eventEmitter,CA={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},gc={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},MB=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},R8e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:CA.angleAxisId,includeHidden:!1,name:void 0,reversed:CA.reversed,scale:CA.scale,tick:CA.tick,tickCount:void 0,ticks:void 0,type:CA.type,unit:void 0},L8e={allowDataOverflow:gc.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gc.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gc.scale,tick:gc.tick,tickCount:gc.tickCount,ticks:void 0,type:gc.type,unit:void 0},M8e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:CA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:CA.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:CA.scale,tick:CA.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},U8e={allowDataOverflow:gc.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gc.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gc.scale,tick:gc.tick,tickCount:gc.tickCount,ticks:void 0,type:"category",unit:void 0},my=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?M8e:R8e,KE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?U8e:L8e,UB=e=>e.polarOptions,jU=dt([S0,_0,Ki],koe),ece=dt([UB,jU],(e,t)=>{if(e!=null)return ql(e.innerRadius,t,0)}),tce=dt([UB,jU],(e,t)=>{if(e!=null)return ql(e.outerRadius,t,t*.8)}),Q8e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},rce=dt([UB],Q8e),H8e=dt([my,rce],MB),nce=dt([jU,ece,tce],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),$8e=dt([KE,nce],MB),gy=dt([Ln,UB,ece,tce,S0,_0],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:o,startAngle:c,endAngle:u}=t;return{cx:ql(i,a,a/2),cy:ql(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ua=(e,t)=>t,qE=(e,t,r)=>r;function IU(e){return e==null?void 0:e.id}var Wi=e=>{var t=Ln(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xy=e=>e.tooltip.settings.axisId,Xi=e=>{var t=Wi(e),r=xy(e);return vy(e,t,r)};function ace(e,t,r){var{chartData:n=[]}=t,a=r==null?void 0:r.dataKey,s=new Map;return e.forEach(i=>{var o,c=(o=i.data)!==null&&o!==void 0?o:n;if(!(c==null||c.length===0)){var u=IU(i);c.forEach((d,f)=>{var h=a==null?f:String(Ka(d,a,null)),p=Ka(d,i.dataKey,0),g;s.has(h)?g=s.get(h):g={},Object.assign(g,{[u]:p}),s.set(h,g)})}}),Array.from(s.values())}function QB(e){return e.stackId!=null&&e.dataKey!=null}function _W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_W(Object(r),!0).forEach(function(n){V8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V8e(e,t,r){return(t=z8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8e(e){var t=G8e(e,"string");return typeof t=="symbol"?t:t+""}function G8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VP=[0,"auto"],Zc={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},k0=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Zc},eu={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:VP,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:NB},Lm=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??eu},K8e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FU=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??K8e},hi=(e,t,r)=>{switch(t){case"xAxis":return k0(e,r);case"yAxis":return Lm(e,r);case"zAxis":return FU(e,r);case"angleAxis":return my(e,r);case"radiusAxis":return KE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},q8e=(e,t,r)=>{switch(t){case"xAxis":return k0(e,r);case"yAxis":return Lm(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vy=(e,t,r)=>{switch(t){case"xAxis":return k0(e,r);case"yAxis":return Lm(e,r);case"angleAxis":return my(e,r);case"radiusAxis":return KE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sce=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function OU(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var DU=e=>e.graphicalItems.cartesianItems,W8e=dt([Ua,qE],OU),PU=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),WE=dt([DU,hi,W8e],PU),ice=dt([WE],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(QB)),oce=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),lce=dt([WE],oce),RU=e=>e.map(t=>t.data).filter(Boolean).flat(1),X8e=dt([WE],RU),LU=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},MU=dt([X8e,SU],LU),UU=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ka(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Ka(a,n)}))):e.map(n=>({value:n})),HB=dt([MU,hi,WE],UU);function cce(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Kx(e){return e.filter(t=>HA(t)||t instanceof Date).map(Number).filter(t=>hu(t)===!1)}function Y8e(e,t,r){return!r||typeof t!="number"||hu(t)?[]:r.length?Kx(r.flatMap(n=>{var a=Ka(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!gu(s)||!gu(i)))return[t-s,t+i]})):[]}var J8e=dt([ice,SU,Xi],ace),uce=(e,t,r)=>{var n={},a=t.reduce((s,i)=>(i.stackId==null||(s[i.stackId]==null&&(s[i.stackId]=[]),s[i.stackId].push(i)),s),n);return Object.fromEntries(Object.entries(a).map(s=>{var[i,o]=s,c=o.map(IU);return[i,{stackedData:zOe(e,c,r),graphicalItems:o}]}))},zP=dt([J8e,ice,GE],uce),dce=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var s=XOe(e,n,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Z8e=dt([zP,Rm,Ua],dce),fce=(e,t,r,n,a)=>r.length>0?e.flatMap(s=>r.flatMap(i=>{var o,c,u=(o=n[i.id])===null||o===void 0?void 0:o.filter(f=>cce(a,f)),d=Ka(s,(c=t.dataKey)!==null&&c!==void 0?c:i.dataKey);return{value:d,errorDomain:Y8e(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Ka(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),$B=e=>e.errorBars,Ace=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>cce(r,n));dt([lce,$B,Ua],Ace);var eMe=dt([MU,hi,lce,$B,Ua],fce);function tMe(e){var{value:t}=e;if(HA(t)||t instanceof Date)return t}var NW=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Kx(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rMe=(e,t,r)=>{var n=e.map(tMe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Sie(n))?Zoe(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},QU=e=>{var t;if(e==null||!("domain"in e))return VP;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Kx(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:VP},ak=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),o=Math.max(...s);return[i,o]}},hce=e=>e.referenceElements.dots,by=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),nMe=dt([hce,Ua,qE],by),pce=e=>e.referenceElements.areas,aMe=dt([pce,Ua,qE],by),mce=e=>e.referenceElements.lines,sMe=dt([mce,Ua,qE],by),gce=(e,t)=>{var r=Kx(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iMe=dt(nMe,Ua,gce),xce=(e,t)=>{var r=Kx(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},oMe=dt([aMe,Ua],xce),vce=(e,t)=>{var r=Kx(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lMe=dt(sMe,Ua,vce),cMe=dt(iMe,lMe,oMe,(e,t,r)=>ak(e,r,t)),bce=dt([hi],QU),HU=(e,t,r,n,a,s,i)=>{var o=w8e(t,e.allowDataOverflow);if(o!=null)return o;var c=s==="vertical"&&i==="xAxis"||s==="horizontal"&&i==="yAxis",u=c?ak(r,a,NW(n)):ak(a,NW(n));return C8e(t,u,e.allowDataOverflow)},uMe=dt([hi,bce,Z8e,eMe,cMe,Ln,Ua],HU),dMe=[0,1],$U=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:o,type:c}=e,u=Om(t,s);return u&&o==null?Zoe(0,r.length):c==="category"?rMe(n,e,u):a==="expand"?dMe:i}},VU=dt([hi,Ln,MU,HB,GE,Ua,uMe],$U),yce=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(ME(s));return o in p2?o:"point"}}},Mm=dt([hi,Ln,sce,kU,Ua],yce);function fMe(e){if(e!=null){if(e in p2)return p2[e]();var t="scale".concat(ME(e));if(t in p2)return p2[t]()}}function VB(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=fMe(t);if(a!=null){var s=a.domain(r).range(n);return UOe(s),s}}}var zU=(e,t,r)=>{var n=QU(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&_b(e))return F8e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&_b(e))return O8e(e,t.tickCount,t.allowDecimals)}},GU=dt([VU,vy,Mm],zU),KU=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&_b(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},AMe=dt([hi,VU,GU,Ua],KU),hMe=dt(HB,hi,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Kx(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),wce=dt(hMe,Ln,Jle,Ki,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!gu(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=ql(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),pMe=(e,t)=>{var r=k0(e,t);return r==null||typeof r.padding!="string"?0:wce(e,"xAxis",t,r.padding)},mMe=(e,t)=>{var r=Lm(e,t);return r==null||typeof r.padding!="string"?0:wce(e,"yAxis",t,r.padding)},gMe=dt(k0,pMe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),xMe=dt(Lm,mMe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),vMe=dt([Ki,gMe,TB,kB,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),bMe=dt([Ki,Ln,xMe,TB,kB,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),XE=(e,t,r,n)=>{var a;switch(t){case"xAxis":return vMe(e,r,n);case"yAxis":return bMe(e,r,n);case"zAxis":return(a=FU(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return rce(e);case"radiusAxis":return nce(e,r);default:return}},Cce=dt([hi,XE],MB),yy=dt([hi,Mm,AMe,Cce],VB);dt([WE,$B,Ua],Ace);function Ece(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zB=(e,t)=>t,GB=(e,t,r)=>r,yMe=dt(WM,zB,GB,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Ece)),wMe=dt(XM,zB,GB,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Ece)),Sce=(e,t)=>({width:e.width,height:t.height}),CMe=(e,t)=>{var r=typeof t.width=="number"?t.width:NB;return{width:r,height:e.height}},_ce=dt(Ki,k0,Sce),EMe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},SMe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},_Me=dt(_0,Ki,yMe,zB,GB,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var c=Sce(t,o);i==null&&(i=EMe(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[o.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),NMe=dt(S0,Ki,wMe,zB,GB,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var c=CMe(t,o);i==null&&(i=SMe(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[o.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),kMe=(e,t)=>{var r=Ki(e),n=k0(e,t);if(n!=null){var a=_Me(e,n.orientation,n.mirror),s=a[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},TMe=(e,t)=>{var r=Ki(e),n=Lm(e,t);if(n!=null){var a=NMe(e,n.orientation,n.mirror),s=a[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},Nce=dt(Ki,Lm,(e,t)=>{var r=typeof t.width=="number"?t.width:NB;return{width:r,height:e.height}}),kW=(e,t,r)=>{switch(t){case"xAxis":return _ce(e,r).width;case"yAxis":return Nce(e,r).height;default:return}},kce=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=Om(e,n),c=t.map(u=>u.value);if(i&&o&&s==="category"&&a&&Sie(c))return c}},YE=dt([Ln,HB,hi,Ua],kce),qU=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=Om(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},WU=dt([Ln,HB,vy,Ua],qU),TW=dt([Ln,q8e,Mm,yy,YE,WU,XE,GU,Ua],(e,t,r,n,a,s,i,o,c)=>{if(t==null)return null;var u=Om(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:o,range:i,realScaleType:r,scale:n}}),Tce=(e,t,r,n,a,s,i,o,c)=>{if(!(t==null||n==null)){var u=Om(e,c),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=c==="angleAxis"&&s!=null&&s.length>=2?go(s[0]-s[1])*2*g:g;var x=f||a;if(x){var v=x.map((y,w)=>{var E=i?i.indexOf(y):y;return{index:w,coordinate:n(E)+g,value:y,offset:g}});return v.filter(y=>!hu(y.coordinate))}return u&&o?o.map((y,w)=>({coordinate:n(y)+g,value:y,index:w,offset:g})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+g,value:y,offset:g})):n.domain().map((y,w)=>({coordinate:n(y)+g,value:i?i[y]:y,index:w,offset:g}))}},Bce=dt([Ln,vy,Mm,yy,GU,XE,YE,WU,Ua],Tce),jce=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Om(e,i),{tickCount:c}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?go(n[0]-n[1])*2*u:u,o&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Nb=dt([Ln,vy,yy,XE,YE,WU,Ua],jce),kb=dt(hi,yy,(e,t)=>{if(!(e==null||t==null))return nk(nk({},e),{},{scale:t})}),BMe=dt([hi,Mm,VU,Cce],VB);dt((e,t,r)=>FU(e,r),BMe,(e,t)=>{if(!(e==null||t==null))return nk(nk({},e),{},{scale:t})});var jMe=dt([Ln,WM,XM],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Ice=e=>e.options.defaultTooltipEventType,Fce=e=>e.options.validateTooltipEventTypes;function Oce(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function XU(e,t){var r=Ice(e),n=Fce(e);return Oce(t,r,n)}function IMe(e){return cr(t=>XU(t,e))}var Dce=(e,t)=>{var r,n=Number(t);if(!(hu(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},FMe=e=>e.tooltip.settings,Op={active:!1,index:null,dataKey:void 0,coordinate:void 0},OMe={itemInteraction:{click:Op,hover:Op},axisInteraction:{click:Op,hover:Op},keyboardInteraction:Op,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Pce=yu({name:"tooltip",initialState:OMe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Wh(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:DMe,removeTooltipEntrySettings:PMe,setTooltipSettingsState:RMe,setActiveMouseOverItemIndex:Rce,mouseLeaveItem:LMe,mouseLeaveChart:Lce,setActiveClickItemIndex:MMe,setMouseOverAxisIndex:Mce,setMouseClickAxisIndex:UMe,setSyncInteraction:GP,setKeyboardInteraction:KP}=Pce.actions,QMe=Pce.reducer;function BW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BW(Object(r),!0).forEach(function(n){HMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HMe(e,t,r){return(t=$Me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Me(e){var t=VMe(e,"string");return typeof t=="symbol"?t:t+""}function VMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zMe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function GMe(e){return e.index!=null}var Uce=(e,t,r,n)=>{if(t==null)return Op;var a=zMe(e,t,r);if(a==null)return Op;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(GMe(a)){if(s)return X_(X_({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return X_(X_({},Op),{},{coordinate:a.coordinate})},YU=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!gu(n))return r;var a=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(a,Math.min(n,s)))},Qce=(e,t,r,n,a,s,i,o)=>{if(!(s==null||o==null)){var c=i[0],u=c==null?void 0:o(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},Hce=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},JE=e=>e.options.tooltipPayloadSearcher,wy=e=>e.tooltip;function jW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jW(Object(r),!0).forEach(function(n){KMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KMe(e,t,r){return(t=qMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qMe(e){var t=WMe(e,"string");return typeof t=="symbol"?t:t+""}function WMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XMe(e,t){return e??t}var $ce=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:x,settings:v}=p,y=XMe(x,o),w=Array.isArray(y)?Boe(y,u,d):y,E=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,k=v==null?void 0:v.nameKey,B;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&i==="axis"?B=IIe(w,n.dataKey,a):B=s(w,t,c,k),Array.isArray(B))B.forEach(C=>{var N=IW(IW({},v),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});h.push(uq({tooltipEntrySettings:N,dataKey:C.dataKey,payload:C.payload,value:Ka(C.payload,C.dataKey),name:C.name}))});else{var j;h.push(uq({tooltipEntrySettings:v,dataKey:E,payload:B,value:Ka(B,E),name:(j=Ka(B,k))!==null&&j!==void 0?j:v==null?void 0:v.name}))}return h},f)}},JU=dt([Xi,Ln,sce,kU,Wi],yce),YMe=dt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),JMe=dt([Wi,xy],OU),ZE=dt([YMe,Xi,JMe],PU),ZMe=dt([ZE],e=>e.filter(QB)),eUe=dt([ZE],RU),Cy=dt([eUe,Rm],LU),tUe=dt([ZMe,Rm,Xi],ace),ZU=dt([Cy,Xi,ZE],UU),rUe=dt([Xi],QU),nUe=dt([ZE],e=>e.filter(QB)),aUe=dt([tUe,nUe,GE],uce),sUe=dt([aUe,Rm,Wi],dce),iUe=dt([ZE],oce),oUe=dt([Cy,Xi,iUe,$B,Wi],fce),lUe=dt([hce,Wi,xy],by),cUe=dt([lUe,Wi],gce),uUe=dt([pce,Wi,xy],by),dUe=dt([uUe,Wi],xce),fUe=dt([mce,Wi,xy],by),AUe=dt([fUe,Wi],vce),hUe=dt([cUe,AUe,dUe],ak),pUe=dt([Xi,rUe,sUe,oUe,hUe,Ln,Wi],HU),Vce=dt([Xi,Ln,Cy,ZU,GE,Wi,pUe],$U),mUe=dt([Vce,Xi,JU],zU),gUe=dt([Xi,Vce,mUe,Wi],KU),zce=e=>{var t=Wi(e),r=xy(e),n=!1;return XE(e,t,r,n)},Gce=dt([Xi,zce],MB),Kce=dt([Xi,JU,gUe,Gce],VB),xUe=dt([Ln,ZU,Xi,Wi],kce),vUe=dt([Ln,ZU,Xi,Wi],qU),bUe=(e,t,r,n,a,s,i,o)=>{if(t){var{type:c}=t,u=Om(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?go(a[0]-a[1])*2*f:f,u&&i?i.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:s?s[h]:h,index:p,offset:f}))}}},T0=dt([Ln,Xi,JU,Kce,zce,xUe,vUe,Wi],bUe),e7=dt([Ice,Fce,FMe],(e,t,r)=>Oce(r.shared,e,t)),qce=e=>e.tooltip.settings.trigger,t7=e=>e.tooltip.settings.defaultIndex,KB=dt([wy,e7,qce,t7],Uce),vm=dt([KB,Cy],YU),Wce=dt([T0,vm],Dce),Xce=dt([KB],e=>{if(e)return e.dataKey}),Yce=dt([wy,e7,qce,t7],Hce),yUe=dt([S0,_0,Ln,Ki,T0,t7,Yce,JE],Qce),wUe=dt([KB,yUe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),CUe=dt([KB],e=>e.active),EUe=dt([Yce,vm,Rm,Xi,Wce,JE,e7],$ce),SUe=dt([EUe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function FW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FW(Object(r),!0).forEach(function(n){_Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ue(e,t,r){return(t=NUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NUe(e){var t=kUe(e,"string");return typeof t=="symbol"?t:t+""}function kUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TUe=()=>cr(Xi),BUe=()=>{var e=TUe(),t=cr(T0),r=cr(Kce);return TC(OW(OW({},e),{},{scale:r}),t)},jUe=()=>cr(kU),r7=(e,t)=>t,Jce=(e,t,r)=>r,n7=(e,t,r,n)=>n,IUe=dt(T0,e=>bB(e,t=>t.coordinate)),a7=dt([wy,r7,Jce,n7],Uce),Zce=dt([a7,Cy],YU),FUe=(e,t,r)=>{if(t!=null){var n=wy(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},eue=dt([wy,r7,Jce,n7],Hce),sk=dt([S0,_0,Ln,Ki,T0,n7,eue,JE],Qce),OUe=dt([a7,sk],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),tue=dt(T0,Zce,Dce),DUe=dt([eue,Zce,Rm,Xi,tue,JE,r7],$ce),PUe=dt([a7],e=>({isActive:e.active,activeIndex:e.index})),RUe=(e,t,r,n,a,s,i,o)=>{if(!(!e||!t||!n||!a||!s)){var c=YOe(e.chartX,e.chartY,t,r,o);if(c){var u=ZOe(c,t),d=LOe(u,i,s,n,a),f=JOe(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function qP(){return qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qP.apply(null,arguments)}function DW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DW(Object(r),!0).forEach(function(n){LUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LUe(e,t,r){return(t=MUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MUe(e){var t=UUe(e,"string");return typeof t=="symbol"?t:t+""}function UUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QUe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:s,layout:i,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,g;if(u==="ScatterChart")p=d,g=XDe;else if(u==="BarChart")p=YDe(i,d,a,s),g=Woe;else if(i==="radial"){var{cx:x,cy:v,radius:y,startAngle:w,endAngle:E}=Xoe(d);p={cx:x,cy:v,startAngle:w,endAngle:E,innerRadius:y,outerRadius:y},g=Joe}else p={points:DPe(i,d,a)},g=Hoe;var k=typeof o=="object"&&"className"in o?o.className:void 0,B=Y_(Y_(Y_(Y_({stroke:"#ccc",pointerEvents:"none"},a),p),na(o,!1)),{},{payload:f,payloadIndex:h,className:Zt("recharts-tooltip-cursor",k)});return S.isValidElement(o)?S.cloneElement(o,B):S.createElement(g,B)}function HUe(e){var t=BUe(),r=Roe(),n=eU(),a=jUe();return S.createElement(QUe,qP({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var rue=S.createContext(null),$Ue=()=>S.useContext(rue),oF={exports:{}},PW;function VUe(){return PW||(PW=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],y=arguments.length,w,E;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(E=1,w=new Array(y-1);E<y;E++)w[E-1]=arguments[E];v.fn.apply(v.context,w)}else{var k=v.length,B;for(E=0;E<k;E++)switch(v[E].once&&this.removeListener(u,v[E].fn,void 0,!0),y){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,d);break;case 3:v[E].fn.call(v[E].context,d,f);break;case 4:v[E].fn.call(v[E].context,d,f,h);break;default:if(!w)for(B=1,w=new Array(y-1);B<y;B++)w[B-1]=arguments[B];v[E].fn.apply(v[E].context,w)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&i(this,p);else{for(var x=0,v=[],y=g.length;x<y;x++)(g[x].fn!==d||h&&!g[x].once||f&&g[x].context!==f)&&v.push(g[x]);v.length?this._events[p]=v.length===1?v[0]:v:i(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(oF)),oF.exports}var zUe=VUe();const GUe=Tl(zUe);var DC=new GUe,WP="recharts.syncEvent.tooltip",RW="recharts.syncEvent.brush";function s7(e,t){if(t){var r=Number.parseInt(t,10);if(!hu(r))return e==null?void 0:e[r]}}var KUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},nue=yu({name:"options",initialState:KUe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qUe=nue.reducer,{createEventEmitter:WUe}=nue.actions;function XUe(e){return e.tooltip.syncInteraction}var YUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aue=yu({name:"chartData",initialState:YUe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:LW,setDataStartEndIndexes:JUe,setComputedData:$Et}=aue.actions,ZUe=aue.reducer,sue=()=>{};function e7e(){var e=cr(TU),t=cr(BU),r=as(),n=cr(Zle),a=cr(T0),s=eU(),i=YM(),o=cr(c=>c.rootProps.className);S.useEffect(()=>{if(e==null)return sue;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(a!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},g=n(a,p);h=a[g]}else n==="value"&&(h=a.find(j=>String(j.value)===d.payload.label));var{coordinate:x}=d.payload;if(h==null||d.payload.active===!1||x==null||i==null){r(GP({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y}=x,w=Math.min(v,i.x+i.width),E=Math.min(y,i.y+i.height),k={x:s==="horizontal"?h.coordinate:w,y:s==="horizontal"?E:h.coordinate},B=GP({active:d.payload.active,coordinate:k,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(B)}}};return DC.on(WP,c),()=>{DC.off(WP,c)}},[o,r,t,e,n,a,s,i])}function t7e(){var e=cr(TU),t=cr(BU),r=as();S.useEffect(()=>{if(e==null)return sue;var n=(a,s,i)=>{t!==i&&e===a&&r(JUe(s))};return DC.on(RW,n),()=>{DC.off(RW,n)}},[r,t,e])}function r7e(){var e=as();S.useEffect(()=>{e(WUe())},[e]),e7e(),t7e()}function n7e(e,t,r,n,a,s){var i=cr(h=>FUe(h,e,t)),o=cr(BU),c=cr(TU),u=cr(Zle),d=cr(XUe),f=d==null?void 0:d.active;S.useEffect(()=>{if(!f&&c!=null&&o!=null){var h=GP({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n});DC.emit(WP,c,h,o)}},[f,r,i,a,n,o,c,u,s])}function MW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MW(Object(r),!0).forEach(function(n){a7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a7e(e,t,r){return(t=s7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7e(e){var t=i7e(e,"string");return typeof t=="symbol"?t:t+""}function i7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o7e(e){return e.dataKey}function l7e(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(kDe,t)}var QW=[],c7e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Vx.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Hh(e){var t=wd(e,c7e),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:i,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:g,cursor:x,shared:v,trigger:y,defaultIndex:w,portal:E,axisId:k}=t,B=as(),j=typeof w=="number"?String(w):w;S.useEffect(()=>{B(RMe({shared:v,trigger:y,axisId:k,active:r,defaultIndex:j}))},[B,v,y,k,r,j]);var C=YM(),N=Qoe(),I=IMe(v),{activeIndex:L,isActive:O}=cr(Z=>PUe(Z,I,y,j)),T=cr(Z=>DUe(Z,I,y,j)),P=cr(Z=>tue(Z,I,y,j)),R=cr(Z=>OUe(Z,I,y,j)),q=T,Q=$Ue(),G=r??O,[K,z]=noe([q,G]),Y=I==="axis"?P:void 0;n7e(I,y,R,Y,L,G);var ee=E??Q;if(ee==null)return null;var M=q??QW;G||(M=QW),o&&M.length&&(M=Yie(q.filter(Z=>Z.value!=null&&(Z.hide!==!0||t.includeHidden)),d,o7e));var H=M.length>0,W=S.createElement(DDe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:c,active:G,coordinate:R,hasPayload:H,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:C,wrapperStyle:g,lastBoundingBox:K,innerRef:z,hasPortalFromProps:!!E},l7e(i,UW(UW({},t),{},{payload:M,label:Y,active:G,coordinate:R,accessibilityLayer:N})));return S.createElement(S.Fragment,null,RE.createPortal(W,ee),G&&S.createElement(HUe,{cursor:x,tooltipEventType:I,coordinate:R,payload:q,index:L}))}var lF={},cF={},uF={},HW;function u7e(){return HW||(HW=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,o=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},f=()=>{u&&d(),x()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{g(),i=void 0,o=null},v=()=>{d()},y=function(...w){if(a!=null&&a.aborted)return;i=this,o=w;const E=h==null;p(),c&&E&&d()};return y.schedule=p,y.cancel=x,y.flush=v,a==null||a.addEventListener("abort",x,{once:!0}),y}e.debounce=t}(uF)),uF}var $W;function d7e(){return $W||($W=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u7e();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:o=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),p=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},g=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r}(cF)),cF}var VW;function f7e(){return VW||(VW=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d7e();function r(n,a=0,s={}){const{leading:i=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:o})}e.throttle=r}(lF)),lF}var dF,zW;function A7e(){return zW||(zW=1,dF=f7e().throttle),dF}var h7e=A7e();const p7e=Tl(h7e);var Q2=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function GW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GW(Object(r),!0).forEach(function(n){m7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7e(e,t,r){return(t=g7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g7e(e){var t=x7e(e,"string");return typeof t=="symbol"?t:t+""}function x7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $h=S.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:i=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:g={}}=e,x=S.useRef(null),v=S.useRef();v.current=p,S.useImperativeHandle(t,()=>x.current);var[y,w]=S.useState({containerWidth:n.width,containerHeight:n.height}),E=S.useCallback((B,j)=>{w(C=>{var N=Math.round(B),I=Math.round(j);return C.containerWidth===N&&C.containerHeight===I?C:{containerWidth:N,containerHeight:I}})},[]);S.useEffect(()=>{var B=I=>{var L,{width:O,height:T}=I[0].contentRect;E(O,T),(L=v.current)===null||L===void 0||L.call(v,O,T)};d>0&&(B=p7e(B,d,{trailing:!0,leading:!1}));var j=new ResizeObserver(B),{width:C,height:N}=x.current.getBoundingClientRect();return E(C,N),j.observe(x.current),()=>{j.disconnect()}},[E,d]);var k=S.useMemo(()=>{var{containerWidth:B,containerHeight:j}=y;if(B<0||j<0)return null;Q2(Mg(a)||Mg(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),Q2(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=Mg(a)?B:a,N=Mg(s)?j:s;return r&&r>0&&(C?N=C/r:N&&(C=N*r),c&&N>c&&(N=c)),Q2(C>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,N,a,s,i,o,r),S.Children.map(u,I=>S.cloneElement(I,{width:C,height:N,style:fF({width:C,height:N},I.props.style)}))},[r,u,s,c,o,i,y,a]);return S.createElement("div",{id:f?"".concat(f):void 0,className:Zt("recharts-responsive-container",h),style:fF(fF({},g),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:c}),ref:x},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),bm=e=>null;bm.displayName="Cell";function v7e(e,t,r){return(t=b7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b7e(e){var t=y7e(e,"string");return typeof t=="symbol"?t:t+""}function y7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class w7e{constructor(t){v7e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function KW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C7e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KW(Object(r),!0).forEach(function(n){E7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E7e(e,t,r){return(t=S7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S7e(e){var t=_7e(e,"string");return typeof t=="symbol"?t:t+""}function _7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N7e={cacheSize:2e3,enableCache:!0},iue=C7e({},N7e),qW=new w7e(iue.cacheSize),k7e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WW="recharts_measurement_span";function T7e(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}var XW=(e,t)=>{try{var r=document.getElementById(WW);r||(r=document.createElement("span"),r.setAttribute("id",WW),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,k7e,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},H2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vx.isSsr)return{width:0,height:0};if(!iue.enableCache)return XW(t,r);var n=T7e(t,r),a=qW.get(n);if(a)return a;var s=XW(t,r);return qW.set(n,s),s},YW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,B7e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,j7e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oue={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},I7e=Object.keys(oue),E1="NaN";function F7e(e,t){return e*oue[t]}class Ac{static parse(t){var r,[,n,a]=(r=j7e.exec(t))!==null&&r!==void 0?r:[];return new Ac(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,hu(t)&&(this.unit=""),r!==""&&!B7e.test(r)&&(this.num=NaN,this.unit=""),I7e.includes(r)&&(this.num=F7e(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ac(NaN,""):new Ac(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ac(NaN,""):new Ac(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ac(NaN,""):new Ac(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ac(NaN,""):new Ac(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hu(this.num)}}function lue(e){if(e.includes(E1))return E1;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=YW.exec(t))!==null&&r!==void 0?r:[],i=Ac.parse(n??""),o=Ac.parse(s??""),c=a==="*"?i.multiply(o):i.divide(o);if(c.isNaN())return E1;t=t.replace(YW,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=JW.exec(t))!==null&&u!==void 0?u:[],p=Ac.parse(d??""),g=Ac.parse(h??""),x=f==="+"?p.add(g):p.subtract(g);if(x.isNaN())return E1;t=t.replace(JW,x.toString())}return t}var ZW=/\(([^()]*)\)/;function O7e(e){for(var t=e,r;(r=ZW.exec(t))!=null;){var[,n]=r;t=t.replace(ZW,lue(n))}return t}function D7e(e){var t=e.replace(/\s+/g,"");return t=O7e(t),t=lue(t),t}function P7e(e){try{return D7e(e)}catch{return E1}}function AF(e){var t=P7e(e.slice(5,-1));return t===E1?"":t}var R7e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],L7e=["dx","dy","angle","className","breakAll"];function XP(){return XP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XP.apply(null,arguments)}function eX(e,t){if(e==null)return{};var r,n,a=M7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M7e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cue=/[ \f\n\r\t\v\u2028\u2029]+/,uue=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];$s(t)||(r?a=t.toString().split(""):a=t.toString().split(cue));var s=a.map(o=>({word:o,width:H2(o,n).width})),i=r?0:H2(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}},U7e=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:c}=e,u=hr(s),d=i,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((T,P)=>{var{word:R,width:q}=P,Q=T[T.length-1];if(Q&&(n==null||a||Q.width+q+r<Number(n)))Q.words.push(R),Q.width+=q+r;else{var G={words:[R],width:q};T.push(G)}return T},[])},h=f(t),p=L=>L.reduce((O,T)=>O.width>T.width?O:T);if(!u||a)return h;var g=h.length>s||p(h).width>Number(n);if(!g)return h;for(var x="…",v=L=>{var O=d.slice(0,L),T=uue({breakAll:c,style:o,children:O+x}).wordsWithComputedWidth,P=f(T),R=P.length>s||p(P).width>Number(n);return[R,P]},y=0,w=d.length-1,E=0,k;y<=w&&E<=d.length-1;){var B=Math.floor((y+w)/2),j=B-1,[C,N]=v(j),[I]=v(B);if(!C&&!I&&(y=B+1),C&&I&&(w=B-1),!C&&I){k=N;break}E++}return k||h},tX=e=>{var t=$s(e)?[]:e.toString().split(cue);return[{words:t}]},Q7e=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!Vx.isSsr){var o,c,u=uue({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return tX(n);return U7e({breakAll:s,children:n,maxLines:i,style:a},o,c,t,r)}return tX(n)},rX="#808080",Ey=S.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:i=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=rX}=e,d=eX(e,R7e),f=S.useMemo(()=>Q7e({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:i,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,i,d.style,d.width]),{dx:h,dy:p,angle:g,className:x,breakAll:v}=d,y=eX(d,L7e);if(!HA(r)||!HA(n))return null;var w=r+(hr(h)?h:0),E=n+(hr(p)?p:0),k;switch(c){case"start":k=AF("calc(".concat(s,")"));break;case"middle":k=AF("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=AF("calc(".concat(f.length-1," * -").concat(a,")"));break}var B=[];if(i){var j=f[0].width,{width:C}=d;B.push("scale(".concat(hr(C)?C/j:1,")"))}return g&&B.push("rotate(".concat(g,", ").concat(w,", ").concat(E,")")),B.length&&(y.transform=B.join(" ")),S.createElement("text",XP({},na(y,!0),{ref:t,x:w,y:E,className:Zt("recharts-text",x),textAnchor:o,fill:u.includes("url")?rX:u}),f.map((N,I)=>{var L=N.words.join(v?"":" ");return S.createElement("tspan",{x:w,dy:I===0?k:a,key:"".concat(L,"-").concat(I)},L)}))});Ey.displayName="Text";var H7e=["offset"],$7e=["labelRef"];function nX(e,t){if(e==null)return{};var r,n,a=V7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V7e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aX(Object(r),!0).forEach(function(n){z7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z7e(e,t,r){return(t=G7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G7e(e){var t=K7e(e,"string");return typeof t=="symbol"?t:t+""}function K7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(null,arguments)}var q7e=e=>{var{value:t,formatter:r}=e,n=$s(e.children)?t:e.children;return typeof r=="function"?r(n):n},i7=e=>e!=null&&typeof e=="function",W7e=(e,t)=>{var r=go(t-e),n=Math.min(Math.abs(t-e),360);return r*n},X7e=(e,t,r,n)=>{var{position:a,offset:s,className:i}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=n,g=(u+d)/2,x=W7e(f,h),v=x>=0?1:-1,y,w;a==="insideStart"?(y=f+v*s,w=p):a==="insideEnd"?(y=h-v*s,w=!p):a==="end"&&(y=h+v*s,w=p),w=x<=0?w:!w;var E=ca(o,c,g,y),k=ca(o,c,g,y+(w?1:-1)*359),B="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(k.x,",").concat(k.y),j=$s(e.id)?_C("recharts-radial-line-"):e.id;return S.createElement("text",Rh({},r,{dominantBaseline:"central",className:Zt("recharts-radial-bar-label",i)}),S.createElement("defs",null,S.createElement("path",{id:j,d:B})),S.createElement("textPath",{xlinkHref:"#".concat(j)},t))},Y7e=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=ca(n,a,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:p,y:g}=ca(n,a,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},J7e=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:s,y:i,width:o,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=o>=0?1:-1,g=p*n,x=p>0?"end":"start",v=p>0?"start":"end";if(a==="top"){var y={x:s+o/2,y:i-u*n,textAnchor:"middle",verticalAnchor:f};return Rs(Rs({},y),r?{height:Math.max(i-r.y,0),width:o}:{})}if(a==="bottom"){var w={x:s+o/2,y:i+c+d,textAnchor:"middle",verticalAnchor:h};return Rs(Rs({},w),r?{height:Math.max(r.y+r.height-(i+c),0),width:o}:{})}if(a==="left"){var E={x:s-g,y:i+c/2,textAnchor:x,verticalAnchor:"middle"};return Rs(Rs({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:s+o+g,y:i+c/2,textAnchor:v,verticalAnchor:"middle"};return Rs(Rs({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var B=r?{width:o,height:c}:{};return a==="insideLeft"?Rs({x:s+g,y:i+c/2,textAnchor:v,verticalAnchor:"middle"},B):a==="insideRight"?Rs({x:s+o-g,y:i+c/2,textAnchor:x,verticalAnchor:"middle"},B):a==="insideTop"?Rs({x:s+o/2,y:i+d,textAnchor:"middle",verticalAnchor:h},B):a==="insideBottom"?Rs({x:s+o/2,y:i+c-d,textAnchor:"middle",verticalAnchor:f},B):a==="insideTopLeft"?Rs({x:s+g,y:i+d,textAnchor:v,verticalAnchor:h},B):a==="insideTopRight"?Rs({x:s+o-g,y:i+d,textAnchor:x,verticalAnchor:h},B):a==="insideBottomLeft"?Rs({x:s+g,y:i+c-d,textAnchor:v,verticalAnchor:f},B):a==="insideBottomRight"?Rs({x:s+o-g,y:i+c-d,textAnchor:x,verticalAnchor:f},B):a&&typeof a=="object"&&(hr(a.x)||Mg(a.x))&&(hr(a.y)||Mg(a.y))?Rs({x:s+ql(a.x,o),y:i+ql(a.y,c),textAnchor:"end",verticalAnchor:"end"},B):Rs({x:s+o/2,y:i+c/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Z7e=e=>"cx"in e&&hr(e.cx);function vc(e){var{offset:t=5}=e,r=nX(e,H7e),n=Rs({offset:t},r),{viewBox:a,position:s,value:i,children:o,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=cr(gy),p=YM(),g=s==="center"?p:h??p,x=a||g;if(!x||$s(i)&&$s(o)&&!S.isValidElement(c)&&typeof c!="function")return null;var v=Rs(Rs({},n),{},{viewBox:x});if(S.isValidElement(c)){var{labelRef:y}=v,w=nX(v,$7e);return S.cloneElement(c,w)}var E;if(typeof c=="function"){if(E=S.createElement(c,v),S.isValidElement(E))return E}else E=q7e(n);var k=Z7e(x),B=na(n,!0);if(k&&(s==="insideStart"||s==="insideEnd"||s==="end"))return X7e(n,E,B,x);var j=k?Y7e(x,n.offset,n.position):J7e(n,x);return S.createElement(Ey,Rh({ref:f,className:Zt("recharts-label",u)},B,j,{breakAll:d}),E)}vc.displayName="Label";var due=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:s,r:i,radius:o,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:p,width:g,height:x,clockWise:v,labelViewBox:y}=e;if(y)return y;if(hr(g)&&hr(x)){if(hr(d)&&hr(f))return{x:d,y:f,width:g,height:x};if(hr(h)&&hr(p))return{x:h,y:p,width:g,height:x}}if(hr(d)&&hr(f))return{x:d,y:f,width:0,height:0};if(hr(t)&&hr(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||o||i||0,clockWise:v};if(e.viewBox)return e.viewBox},e9e=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?S.createElement(vc,Rh({key:"label-implicit"},n)):HA(e)?S.createElement(vc,Rh({key:"label-implicit",value:e},n)):S.isValidElement(e)?e.type===vc?S.cloneElement(e,Rs({key:"label-implicit"},n)):S.createElement(vc,Rh({key:"label-implicit",content:e},n)):i7(e)?S.createElement(vc,Rh({key:"label-implicit",content:e},n)):e&&typeof e=="object"?S.createElement(vc,Rh({},e,{key:"label-implicit"},n)):null},t9e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:s}=t,i=due(t),o=UE(a,vc).map((u,d)=>S.cloneElement(u,{viewBox:r||i,key:"label-".concat(d)}));if(!n)return o;var c=e9e(t.label,r||i,s);return[c,...o]};vc.parseViewBox=due;vc.renderCallByParent=t9e;var hF={},pF={},sX;function r9e(){return sX||(sX=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(pF)),pF}var mF={},iX;function n9e(){return iX||(iX=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(mF)),mF}var oX;function a9e(){return oX||(oX=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r9e(),r=n9e(),n=RM();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a}(hF)),hF}var gF,lX;function s9e(){return lX||(lX=1,gF=a9e().last),gF}var i9e=s9e();const fue=Tl(i9e);var o9e=["valueAccessor"],l9e=["data","dataKey","clockWise","id","textBreakAll"];function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ik.apply(null,arguments)}function cX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cX(Object(r),!0).forEach(function(n){c9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c9e(e,t,r){return(t=u9e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u9e(e){var t=d9e(e,"string");return typeof t=="symbol"?t:t+""}function d9e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dX(e,t){if(e==null)return{};var r,n,a=f9e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var A9e=e=>Array.isArray(e.value)?fue(e.value):e.value;function em(e){var{valueAccessor:t=A9e}=e,r=dX(e,o9e),{data:n,dataKey:a,clockWise:s,id:i,textBreakAll:o}=r,c=dX(r,l9e);return!n||!n.length?null:S.createElement(Es,{className:"recharts-label-list"},n.map((u,d)=>{var f=$s(a)?t(u,d):Ka(u&&u.payload,a),h=$s(i)?{}:{id:"".concat(i,"-").concat(d)};return S.createElement(vc,ik({},na(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:o,viewBox:vc.parseViewBox($s(s)?u:uX(uX({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}em.displayName="LabelList";function h9e(e,t){return e?e===!0?S.createElement(em,{key:"labelList-implicit",data:t}):S.isValidElement(e)||i7(e)?S.createElement(em,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?S.createElement(em,ik({data:t},e,{key:"labelList-implicit"})):null:null}function p9e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=UE(n,em).map((i,o)=>S.cloneElement(i,{data:t,key:"labelList-".concat(o)}));if(!r)return a;var s=h9e(e.label,t);return[s,...a]}em.renderCallByParent=p9e;var m9e=["points","className","baseLinePoints","connectNulls"];function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(null,arguments)}function g9e(e,t){if(e==null)return{};var r,n,a=x9e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function x9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fX=e=>e&&e.x===+e.x&&e.y===+e.y,v9e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{fX(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),fX(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$2=(e,t)=>{var r=v9e(e);t&&(r=[r.reduce((a,s)=>[...a,...s],[])]);var n=r.map(a=>a.reduce((s,i,o)=>"".concat(s).concat(o===0?"M":"L").concat(i.x,",").concat(i.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},b9e=(e,t,r)=>{var n=$2(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat($2(t.reverse(),r).slice(1))},Aue=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:a}=e,s=g9e(e,m9e);if(!t||!t.length)return null;var i=Zt("recharts-polygon",r);if(n&&n.length){var o=s.stroke&&s.stroke!=="none",c=b9e(t,n,a);return S.createElement("g",{className:i},S.createElement("path",S1({},na(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),o?S.createElement("path",S1({},na(s,!0),{fill:"none",d:$2(t,a)})):null,o?S.createElement("path",S1({},na(s,!0),{fill:"none",d:$2(n,a)})):null)}var u=$2(t,a);return S.createElement("path",S1({},na(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:i,d:u}))};function YP(){return YP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YP.apply(null,arguments)}var o7=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Zt("recharts-dot",a);return t===+t&&r===+r&&n===+n?S.createElement("circle",YP({},Bl(e),TM(e),{className:s,cx:t,cy:r,r:n})):null},l7=e=>e.graphicalItems.polarItems,y9e=dt([Ua,qE],OU),c7=dt([l7,hi,y9e],PU),w9e=dt([c7],RU),u7=dt([w9e,RB],LU),hue=dt([u7,hi,c7],UU),C9e=dt([u7,hi,c7],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=Ka(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ka(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),AX=()=>{},E9e=dt([hi,bce,AX,C9e,AX,Ln,Ua],HU),pue=dt([hi,Ln,u7,hue,GE,Ua,E9e],$U),mue=dt([pue,hi,Mm],zU),S9e=dt([hi,pue,mue,Ua],KU),d7=(e,t,r)=>{switch(t){case"angleAxis":return my(e,r);case"radiusAxis":return KE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},f7=(e,t,r)=>{switch(t){case"angleAxis":return H8e(e,r);case"radiusAxis":return $8e(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Sy=dt([d7,Mm,S9e,f7],VB),gue=dt([Ln,hue,vy,Ua],qU),_y=dt([Ln,d7,Mm,Sy,mue,f7,YE,gue,Ua],Tce);dt([Ln,d7,Sy,f7,YE,gue,Ua],jce);var _9e=(e,t)=>_y(e,"angleAxis",t,!1),N9e=dt([_9e],e=>{if(e)return e.map(t=>t.coordinate)}),k9e=(e,t)=>_y(e,"radiusAxis",t,!1),T9e=dt([k9e],e=>{if(e)return e.map(t=>t.coordinate)}),B9e=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function j9e(e,t){if(e==null)return{};var r,n,a=I9e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function I9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(null,arguments)}function hX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hX(Object(r),!0).forEach(function(n){F9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9e(e,t,r){return(t=O9e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9e(e){var t=D9e(e,"string");return typeof t=="symbol"?t:t+""}function D9e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P9e=(e,t,r,n)=>{var a="";return n.forEach((s,i)=>{var o=ca(t,r,e,s);i?a+="L ".concat(o.x,",").concat(o.y):a+="M ".concat(o.x,",").concat(o.y)}),a+="Z",a},R9e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,polarAngles:s,radialLines:i}=e;if(!s||!s.length||!i)return null;var o=Tb({stroke:"#ccc"},Bl(e));return S.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=ca(t,r,n,c),d=ca(t,r,a,c);return S.createElement("line",p0({},o,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},L9e=e=>{var{cx:t,cy:r,radius:n,index:a}=e,s=Tb(Tb({stroke:"#ccc"},Bl(e)),{},{fill:"none"});return S.createElement("circle",p0({},s,{className:Zt("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:t,cy:r,r:n}))},M9e=e=>{var{radius:t,index:r}=e,n=Tb(Tb({stroke:"#ccc"},Bl(e)),{},{fill:"none"});return S.createElement("path",p0({},n,{className:Zt("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:P9e(t,e.cx,e.cy,e.polarAngles)}))},U9e=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:S.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,a)=>{var s=a;return r==="circle"?S.createElement(L9e,p0({key:s},e,{radius:n,index:a})):S.createElement(M9e,p0({key:s},e,{radius:n,index:a}))}))},xue=e=>{var t,r,n,a,s,i,o,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:p,cy:g,innerRadius:x,outerRadius:v}=e,y=j9e(e,B9e),w=cr(gy),E=Tb({cx:(t=(r=w==null?void 0:w.cx)!==null&&r!==void 0?r:p)!==null&&t!==void 0?t:0,cy:(n=(a=w==null?void 0:w.cy)!==null&&a!==void 0?a:g)!==null&&n!==void 0?n:0,innerRadius:(s=(i=w==null?void 0:w.innerRadius)!==null&&i!==void 0?i:x)!==null&&s!==void 0?s:0,outerRadius:(o=(c=w==null?void 0:w.outerRadius)!==null&&c!==void 0?c:v)!==null&&o!==void 0?o:0},y),{polarAngles:k,polarRadius:B,cx:j,cy:C,innerRadius:N,outerRadius:I}=E,L=cr(R=>N9e(R,f)),O=cr(R=>T9e(R,h)),T=Array.isArray(k)?k:L,P=Array.isArray(B)?B:O;return I<=0||T==null||P==null?null:S.createElement("g",{className:"recharts-polar-grid"},S.createElement(R9e,p0({cx:j,cy:C,innerRadius:N,outerRadius:I,gridType:u,radialLines:d},E,{polarAngles:T,polarRadius:P})),S.createElement(U9e,p0({cx:j,cy:C,innerRadius:N,outerRadius:I,gridType:u,radialLines:d},E,{polarAngles:T,polarRadius:P})))};xue.displayName="PolarGrid";var xF={},vF={},pX;function Q9e(){return pX||(pX=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],s=n(a);for(let i=1;i<r.length;i++){const o=r[i],c=n(o);c>s&&(s=c,a=o)}return a}e.maxBy=t}(vF)),vF}var mX;function H9e(){return mX||(mX=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q9e(),r=vB(),n=HM();function a(s,i){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(i??r.identity))}e.maxBy=a}(xF)),xF}var bF,gX;function $9e(){return gX||(gX=1,bF=H9e().maxBy),bF}var V9e=$9e();const z9e=Tl(V9e);var yF={},wF={},xX;function G9e(){return xX||(xX=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],s=n(a);for(let i=1;i<r.length;i++){const o=r[i],c=n(o);c<s&&(s=c,a=o)}return a}e.minBy=t}(wF)),wF}var vX;function K9e(){return vX||(vX=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G9e(),r=vB(),n=HM();function a(s,i){if(s!=null)return t.minBy(Array.from(s),n.iteratee(i??r.identity))}e.minBy=a}(yF)),yF}var CF,bX;function q9e(){return bX||(bX=1,CF=K9e().minBy),CF}var W9e=q9e();const X9e=Tl(W9e);var Y9e={radiusAxis:{},angleAxis:{}},vue=yu({name:"polarAxis",initialState:Y9e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:J9e,removeRadiusAxis:Z9e,addAngleAxis:eQe,removeAngleAxis:tQe}=vue.actions,rQe=vue.reducer,nQe=["cx","cy","angle","axisLine"],aQe=["angle","tickFormatter","stroke","tick"];function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PC.apply(null,arguments)}function yX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yX(Object(r),!0).forEach(function(n){qB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qB(e,t,r){return(t=sQe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQe(e){var t=iQe(e,"string");return typeof t=="symbol"?t:t+""}function iQe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bue(e,t){if(e==null)return{};var r,n,a=oQe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oQe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yue="radiusAxis";function lQe(e){var t=as();return S.useEffect(()=>(t(J9e(e)),()=>{t(Z9e(e))})),null}var cQe=(e,t,r,n)=>{var{coordinate:a}=e;return ca(r,n,a,t)},uQe=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},dQe=(e,t,r,n)=>{var a=z9e(n,i=>i.coordinate||0),s=X9e(n,i=>i.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:a.coordinate||0}},fQe=(e,t)=>{var{cx:r,cy:n,angle:a,axisLine:s}=e,i=bue(e,nQe),o=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=ca(r,n,o[0],a),u=ca(r,n,o[1],a),d=kA(kA(kA({},Bl(i)),{},{fill:"none"},na(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return S.createElement("line",PC({className:"recharts-polar-radius-axis-line"},d))},AQe=(e,t,r)=>{var n;return S.isValidElement(e)?n=S.cloneElement(e,t):typeof e=="function"?n=e(t):n=S.createElement(Ey,PC({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},hQe=(e,t)=>{var{angle:r,tickFormatter:n,stroke:a,tick:s}=e,i=bue(e,aQe),o=uQe(e.orientation),c=Bl(i),u=na(s,!1),d=t.map((f,h)=>{var p=cQe(f,e.angle,e.cx,e.cy),g=kA(kA(kA(kA({textAnchor:o,transform:"rotate(".concat(90-r,", ").concat(p.x,", ").concat(p.y,")")},c),{},{stroke:"none",fill:a},u),{},{index:h},p),{},{payload:f});return S.createElement(Es,PC({className:Zt("recharts-polar-radius-axis-tick",Toe(s)),key:"tick-".concat(f.coordinate)},$x(e,f,h)),AQe(s,g,n?n(f.value,h):f.value))});return S.createElement(Es,{className:"recharts-polar-radius-axis-ticks"},d)},pQe=e=>{var{radiusAxisId:t}=e,r=cr(gy),n=cr(c=>Sy(c,"radiusAxis",t)),a=cr(c=>_y(c,"radiusAxis",t,!1));if(r==null||!a||!a.length)return null;var s=kA(kA(kA({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:i,axisLine:o}=s;return S.createElement(Es,{className:Zt("recharts-polar-radius-axis",yue,s.className)},o&&fQe(s,a),i&&hQe(s,a),vc.renderCallByParent(s,dQe(s.angle,s.cx,s.cy,a)))};class WB extends S.PureComponent{render(){return S.createElement(S.Fragment,null,S.createElement(lQe,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),S.createElement(pQe,this.props))}}qB(WB,"displayName","PolarRadiusAxis");qB(WB,"axisType",yue);qB(WB,"defaultProps",gc);var mQe=["children"];function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(null,arguments)}function wX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wX(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=gQe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQe(e){var t=xQe(e,"string");return typeof t=="symbol"?t:t+""}function xQe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vQe(e,t){if(e==null)return{};var r,n,a=bQe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bQe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yQe=Math.PI/180,CX=1e-5,wue="angleAxis";function wQe(e){var t=as(),r=S.useMemo(()=>{var{children:s}=e,i=vQe(e,mQe);return i},[e]),n=cr(s=>my(s,r.id)),a=r===n;return S.useEffect(()=>(t(eQe(r)),()=>{t(tQe(r))}),[t,r]),a?e.children:null}var CQe=(e,t)=>{var{cx:r,cy:n,radius:a,orientation:s,tickSize:i}=t,o=i||8,c=ca(r,n,a,e.coordinate),u=ca(r,n,a+(s==="inner"?-1:1)*o,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},EQe=(e,t)=>{var r=Math.cos(-e.coordinate*yQe);return r>CX?t==="outer"?"start":"end":r<-CX?t==="outer"?"end":"start":"middle"},SQe=e=>{var{cx:t,cy:r,radius:n,axisLineType:a,axisLine:s,ticks:i}=e;if(!s)return null;var o=EA(EA({},Bl(e)),{},{fill:"none"},na(s,!1));if(a==="circle")return S.createElement(o7,m0({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:r,r:n}));var c=i.map(u=>ca(t,r,n,u.coordinate));return S.createElement(Aue,m0({className:"recharts-polar-angle-axis-line"},o,{points:c}))},_Qe=e=>{var{tick:t,tickProps:r,value:n}=e;return t?S.isValidElement(t)?S.cloneElement(t,r):typeof t=="function"?t(r):S.createElement(Ey,m0({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},NQe=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:a,ticks:s}=e,i=Bl(e),o=na(t,!1),c=EA(EA({},i),{},{fill:"none"},na(r,!1)),u=s.map((d,f)=>{var h=CQe(d,e),p=EQe(d,e.orientation),g=EA(EA(EA({},i),{},{textAnchor:p,stroke:"none",fill:a},o),{},{index:f,payload:d,x:h.x2,y:h.y2});return S.createElement(Es,m0({className:Zt("recharts-polar-angle-axis-tick",Toe(t)),key:"tick-".concat(d.coordinate)},$x(e,d,f)),r&&S.createElement("line",m0({className:"recharts-polar-angle-axis-tick-line"},c,h)),S.createElement(_Qe,{tick:t,tickProps:g,value:n?n(d.value,f):d.value}))});return S.createElement(Es,{className:"recharts-polar-angle-axis-ticks"},u)},kQe=e=>{var{angleAxisId:t}=e,r=cr(gy),n=cr(o=>Sy(o,"angleAxis",t)),a=Bc(),s=cr(o=>_y(o,"angleAxis",t,a));if(r==null||!s||!s.length)return null;var i=EA(EA(EA({},e),{},{scale:n},r),{},{radius:r.outerRadius});return S.createElement(Es,{className:Zt("recharts-polar-angle-axis",wue,i.className)},S.createElement(SQe,m0({},i,{ticks:s})),S.createElement(NQe,m0({},i,{ticks:s})))};class YB extends S.PureComponent{render(){return this.props.radius<=0?null:S.createElement(wQe,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},S.createElement(kQe,this.props))}}XB(YB,"displayName","PolarAngleAxis");XB(YB,"axisType",wue);XB(YB,"defaultProps",CA);function EX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EX(Object(r),!0).forEach(function(n){TQe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TQe(e,t,r){return(t=BQe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQe(e){var t=jQe(e,"string");return typeof t=="symbol"?t:t+""}function jQe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IQe=(e,t)=>t,A7=dt([l7,IQe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),FQe=[],h7=(e,t,r)=>(r==null?void 0:r.length)===0?FQe:r,Cue=dt([RB,A7,h7],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>SX(SX({},t.presentationProps),s.props))),a!=null)return a}}),OQe=dt([Cue,A7,h7],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=Ka(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:dy(i,t.dataKey),color:o,payload:n,type:t.legendType}})}),DQe=dt([Cue,A7,h7,Ki],(e,t,r,n)=>{if(!(t==null||e==null))return kHe({offset:n,pieSettings:t,displayedData:e,cells:r})}),EF={},_X;function PQe(){return _X||(_X=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(EF)),EF}var SF,NX;function RQe(){return NX||(NX=1,SF=PQe().isPlainObject),SF}var LQe=RQe();const MQe=Tl(LQe);function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ok.apply(null,arguments)}var kX=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},UQe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QQe=e=>{var t=wd(e,UQe),r=S.useRef(),[n,a]=S.useState(-1);S.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&a(v)}catch{}},[]);var{x:s,y:i,upperWidth:o,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t;if(s!==+s||i!==+i||o!==+o||c!==+c||u!==+u||o===0&&c===0||u===0)return null;var x=Zt("recharts-trapezoid",d);return g?S.createElement(z4,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:i},to:{upperWidth:o,lowerWidth:c,height:u,x:s,y:i},duration:h,animationEasing:f,isActive:g},v=>{var{upperWidth:y,lowerWidth:w,height:E,x:k,y:B}=v;return S.createElement(z4,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},S.createElement("path",ok({},na(t,!0),{className:x,d:kX(k,B,y,w,E),ref:r})))}):S.createElement("g",null,S.createElement("path",ok({},na(t,!0),{className:x,d:kX(s,i,o,c,u)})))},HQe=["option","shapeType","propTransformer","activeClassName","isActive"];function $Qe(e,t){if(e==null)return{};var r,n,a=VQe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VQe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TX(Object(r),!0).forEach(function(n){zQe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQe(e,t,r){return(t=GQe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQe(e){var t=KQe(e,"string");return typeof t=="symbol"?t:t+""}function KQe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qQe(e,t){return lk(lk({},t),e)}function WQe(e,t){return e==="symbols"}function BX(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return S.createElement(Woe,r);case"trapezoid":return S.createElement(QQe,r);case"sector":return S.createElement(Joe,r);case"symbols":if(WQe(t))return S.createElement(OM,r);break;default:return null}}function XQe(e){return S.isValidElement(e)?e.props:e}function Eue(e){var{option:t,shapeType:r,propTransformer:n=qQe,activeClassName:a="recharts-active-shape",isActive:s}=e,i=$Qe(e,HQe),o;if(S.isValidElement(t))o=S.cloneElement(t,lk(lk({},i),XQe(t)));else if(typeof t=="function")o=t(i);else if(MQe(t)&&typeof t!="boolean"){var c=n(t,i);o=S.createElement(BX,{shapeType:r,elementProps:c})}else{var u=i;o=S.createElement(BX,{shapeType:r,elementProps:u})}return s?S.createElement(Es,{className:a},o):o}var p7=(e,t)=>{var r=as();return(n,a)=>s=>{e==null||e(n,a,s),r(Rce({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},m7=e=>{var t=as();return(r,n)=>a=>{e==null||e(r,n,a),t(LMe())}},g7=(e,t)=>{var r=as();return(n,a)=>s=>{e==null||e(n,a,s),r(MMe({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function x7(e){var{fn:t,args:r}=e,n=as(),a=Bc();return S.useEffect(()=>{if(!a){var s=t(r);return n(DMe(s)),()=>{n(PMe(s))}}},[t,r,n,a]),null}var Sue=()=>{};function YQe(e){var{legendPayload:t}=e,r=as(),n=Bc();return S.useEffect(()=>n?Sue:(r(Moe(t)),()=>{r(Uoe(t))}),[r,n,t]),null}function _ue(e){var{legendPayload:t}=e,r=as(),n=cr(Ln);return S.useEffect(()=>n!=="centric"&&n!=="radial"?Sue:(r(Moe(t)),()=>{r(Uoe(t))}),[r,n,t]),null}function v7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=S.useRef(_C(t)),n=S.useRef(e);return n.current!==e&&(r.current=_C(t),n.current=e),r.current}var _F,JQe=()=>{var[e]=S.useState(()=>_C("uid-"));return e},ZQe=(_F=KN.useId)!==null&&_F!==void 0?_F:JQe;function eHe(e,t){var r=ZQe();return t||(e?"".concat(e,"-").concat(r):r)}var tHe=S.createContext(void 0),b7=e=>{var{id:t,type:r,children:n}=e,a=eHe("recharts-".concat(r),t);return S.createElement(tHe.Provider,{value:a},n(a))},rHe={cartesianItems:[],polarItems:[]},Nue=yu({name:"graphicalItems",initialState:rHe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Wh(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Wh(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Wh(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:nHe,replaceCartesianGraphicalItem:aHe,removeCartesianGraphicalItem:sHe,addPolarGraphicalItem:iHe,removePolarGraphicalItem:oHe}=Nue.actions,lHe=Nue.reducer;function cHe(e){var t=as(),r=S.useRef(null);return S.useEffect(()=>{r.current===null?t(nHe(e)):r.current!==e&&t(aHe({prev:r.current,next:e})),r.current=e},[t,e]),S.useEffect(()=>()=>{r.current&&(t(sHe(r.current)),r.current=null)},[t]),null}function kue(e){var t=as();return S.useEffect(()=>(t(iHe(e)),()=>{t(oHe(e))}),[t,e]),null}function uHe(){}var dHe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jX={t:0},NF={t:1};function y7(e){var t=wd(e,dHe),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=qoe("JavascriptAnimate",t.animationManager),[f,h]=S.useState(r?jX:NF),p=S.useRef(null);return S.useEffect(()=>{r||h(NF)},[r]),S.useEffect(()=>{if(!r||!n)return uHe;var g=Koe(jX,NF,zoe(s),a,h,d.getTimeoutController()),x=()=>{p.current=g()};return d.start([c,i,x,a,o]),()=>{d.stop(),p.current&&p.current(),o()}},[r,n,a,s,i,c,o,d]),u(f.t)}var fHe=["onMouseEnter","onClick","onMouseLeave"],AHe=["id"],hHe=["id"];function w7(e,t){if(e==null)return{};var r,n,a=pHe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IX(Object(r),!0).forEach(function(n){mHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mHe(e,t,r){return(t=gHe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gHe(e){var t=xHe(e,"string");return typeof t=="symbol"?t:t+""}function xHe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(null,arguments)}function vHe(e){var t=S.useMemo(()=>UE(e.children,bm),[e.children]),r=cr(n=>OQe(n,e.id,t));return r==null?null:S.createElement(_ue,{legendPayload:r})}function bHe(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:dy(o,t),hide:c,type:u,color:i,unit:""}}}var yHe=(e,t)=>e>t?"start":e<t?"end":"middle",wHe=(e,t,r)=>typeof t=="function"?t(e):ql(t,r,r*.8),CHe=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,o=koe(s,i),c=a+ql(e.cx,s,s/2),u=n+ql(e.cy,i,i/2),d=ql(e.innerRadius,o,0),f=wHe(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},EHe=(e,t)=>{var r=go(t-e),n=Math.min(Math.abs(t-e),360);return r*n},SHe=(e,t)=>{if(S.isValidElement(e))return S.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Zt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return S.createElement(Hoe,g0({},t,{type:"linear",className:r}))},_He=(e,t,r)=>{if(S.isValidElement(e))return S.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),S.isValidElement(n)))return n;var a=Zt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return S.createElement(Ey,g0({},t,{alignmentBaseline:"middle",className:a}),n)};function NHe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var o=Bl(r),c=na(a,!1),u=na(s,!1),d=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,f=t.map((h,p)=>{var g=(h.startAngle+h.endAngle)/2,x=ca(h.cx,h.cy,h.outerRadius+d,g),v=Us(Us(Us(Us({},o),h),{},{stroke:"none"},c),{},{index:p,textAnchor:yHe(x.x,h.cx)},x),y=Us(Us(Us(Us({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[ca(h.cx,h.cy,h.outerRadius,g),x],key:"line"});return S.createElement(Es,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},s&&SHe(s,y),_He(a,v,Ka(h,i)))});return S.createElement(Es,{className:"recharts-pie-labels"},f)}function Tue(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,showLabels:s}=e,i=cr(vm),{onMouseEnter:o,onClick:c,onMouseLeave:u}=a,d=w7(a,fHe),f=p7(o,a.dataKey),h=m7(u),p=g7(c,a.dataKey);return t==null?null:S.createElement(S.Fragment,null,t.map((g,x)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var v=r&&String(x)===i,y=i?n:null,w=v?r:y,E=Us(Us({},g),{},{stroke:g.stroke,tabIndex:-1,[Ooe]:x,[Doe]:a.dataKey});return S.createElement(Es,g0({tabIndex:-1,className:"recharts-pie-sector"},$x(d,g,x),{onMouseEnter:f(g,x),onMouseLeave:h(g,x),onClick:p(g,x),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(x)}),S.createElement(Eue,g0({option:w,isActive:v,shapeType:"sector"},E)))}),S.createElement(NHe,{sectors:t,props:a,showLabels:s}))}function kHe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),p=EHe(o,c),g=Math.abs(p),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(j=>Ka(j,u,0)!==0).length,y=(g>=360?v:v-1)*x,w=g-v*h-y,E=n.reduce((j,C)=>{var N=Ka(C,u,0);return j+(hr(N)?N:0)},0),k;if(E>0){var B;k=n.map((j,C)=>{var N=Ka(j,u,0),I=Ka(j,d,C),L=CHe(r,s,j),O=(hr(N)?N:0)/E,T,P=Us(Us({},j),a&&a[C]&&a[C].props);C?T=B.endAngle+go(p)*x*(N!==0?1:0):T=o;var R=T+go(p)*((N!==0?h:0)+O*w),q=(T+R)/2,Q=(L.innerRadius+L.outerRadius)/2,G=[{name:I,value:N,payload:P,dataKey:u,type:f}],K=ca(L.cx,L.cy,Q,q);return B=Us(Us(Us(Us({},r.presentationProps),{},{percent:O,cornerRadius:i,name:I,tooltipPayload:G,midAngle:q,middleRadius:Q,tooltipPosition:K},P),L),{},{value:Ka(j,u),startAngle:T,endAngle:R,payload:P,paddingAngle:go(p)*x}),B})}return k}function THe(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=v7(t,"recharts-pie-"),p=r.current,[g,x]=S.useState(!0),v=S.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),y=S.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return S.createElement(y7,{begin:s,duration:i,isActive:a,easing:o,onAnimationStart:y,onAnimationEnd:v,key:h},w=>{var E=[],k=n&&n[0],B=k.startAngle;return n.forEach((j,C)=>{var N=p&&p[C],I=C>0?xm(j,"paddingAngle",0):0;if(N){var L=C1(N.endAngle-N.startAngle,j.endAngle-j.startAngle),O=Us(Us({},j),{},{startAngle:B+I,endAngle:B+L(w)+I});E.push(O),B=O.endAngle}else{var{endAngle:T,startAngle:P}=j,R=C1(0,T-P),q=R(w),Q=Us(Us({},j),{},{startAngle:B+I,endAngle:B+q+I});E.push(Q),B=Q.endAngle}}),r.current=E,S.createElement(Es,null,S.createElement(Tue,{sectors:E,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!g}))})}function BHe(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:a}=e,s=S.useRef(null),i=s.current;return r&&t&&t.length&&(!i||i!==t)?S.createElement(THe,{props:e,previousSectorsRef:s}):S.createElement(Tue,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function jHe(e){var{hide:t,className:r,rootTabIndex:n}=e,a=Zt("recharts-pie",r);return t?null:S.createElement(Es,{tabIndex:n,className:a},S.createElement(BHe,e))}var IHe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Vx.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function FHe(e){var{id:t}=e,r=w7(e,AHe),n=S.useMemo(()=>UE(e.children,bm),[e.children]),a=cr(s=>DQe(s,t,n));return S.createElement(S.Fragment,null,S.createElement(x7,{fn:bHe,args:Us(Us({},e),{},{sectors:a})}),S.createElement(jHe,g0({},r,{sectors:a})))}function JB(e){var t=wd(e,IHe),{id:r}=t,n=w7(t,hHe),a=Bl(n);return S.createElement(b7,{id:r,type:"pie"},s=>S.createElement(S.Fragment,null,S.createElement(kue,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a}),S.createElement(vHe,g0({},n,{id:s})),S.createElement(FHe,g0({},n,{id:s})),n.children))}JB.displayName="Pie";var OHe=dt([Ki],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),DHe=dt([OHe,S0,_0],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Bue=()=>cr(DHe),PHe=()=>cr(SUe);function FX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FX(Object(r),!0).forEach(function(n){RHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RHe(e,t,r){return(t=LHe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LHe(e){var t=MHe(e,"string");return typeof t=="symbol"?t:t+""}function MHe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UHe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s}=e;if(a===!1||t.x==null||t.y==null)return null;var i=OX(OX({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},na(a,!1)),TM(a)),o;return S.isValidElement(a)?o=S.cloneElement(a,i):typeof a=="function"?o=a(i):o=S.createElement(o7,i),S.createElement(Es,{className:"recharts-active-dot"},o)};function QHe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,s=cr(vm),i=PHe();if(t==null||i==null)return null;var o=t.find(c=>i.includes(c.payload));return $s(o)?null:UHe({point:o,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:n})}function DX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DX(Object(r),!0).forEach(function(n){HHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HHe(e,t,r){return(t=$He(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $He(e){var t=VHe(e,"string");return typeof t=="symbol"?t:t+""}function VHe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jue=(e,t)=>Sy(e,"radiusAxis",t),zHe=dt([jue],e=>{if(e!=null)return{scale:e}}),GHe=dt([KE,jue],(e,t)=>{if(!(e==null||t==null))return ck(ck({},e),{},{scale:t})}),KHe=(e,t,r,n)=>_y(e,"radiusAxis",t,n),Iue=(e,t,r)=>my(e,r),Fue=(e,t,r)=>Sy(e,"angleAxis",r),qHe=dt([Iue,Fue],(e,t)=>{if(!(e==null||t==null))return ck(ck({},e),{},{scale:t})}),WHe=(e,t,r,n)=>_y(e,"angleAxis",r,n),XHe=dt([Iue,Fue,gy],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),YHe=(e,t,r,n,a)=>a,JHe=dt([Ln,GHe,KHe,qHe,WHe],(e,t,r,n,a)=>Om(e,"radiusAxis")?TC(t,r,!1):TC(n,a,!1)),ZHe=dt([l7,YHe],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),e$e=dt([zHe,XHe,RB,ZHe,JHe],(e,t,r,n,a)=>{var{chartData:s,dataStartIndex:i,dataEndIndex:o}=r;if(!(e==null||t==null||s==null||a==null||n==null)){var c=s.slice(i,o+1);return c$e({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:a})}}),t$e=["id"];function r$e(e,t){if(e==null)return{};var r,n,a=n$e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function n$e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PX(Object(r),!0).forEach(function(n){C7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C7(e,t,r){return(t=a$e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a$e(e){var t=s$e(e,"string");return typeof t=="symbol"?t:t+""}function s$e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}function E7(e,t){return e&&e!=="none"?e:t}var i$e=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:E7(n,a),value:dy(r,t),payload:e}]};function o$e(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,tooltipType:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,nameKey:void 0,dataKey:t,name:dy(s,t),hide:i,type:o,color:E7(r,a),unit:""}}}function l$e(e,t){var r;return S.isValidElement(e)?r=S.cloneElement(e,t):typeof e=="function"?r=e(t):r=S.createElement(o7,Bb({},t,{className:Zt("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function c$e(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:a,bandSize:s}=e,{cx:i,cy:o}=r,c=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,p)=>{var g=Ka(h,r.dataKey,p),x=Ka(h,a),v=r.scale(g)+d,y=Array.isArray(x)?fue(x):x,w=$s(y)?void 0:t.scale(y);Array.isArray(x)&&x.length>=2&&(c=!0),u.push(Vl(Vl({},ca(i,o,w,v)),{},{name:g,value:x,cx:i,cy:o,radius:w,angle:v,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var p=h.value[0],g=$s(p)?void 0:t.scale(p);f.push(Vl(Vl({},h),{},{radius:g},ca(i,o,g,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function u$e(e){var{points:t,props:r}=e,{dot:n,dataKey:a}=r;if(!n)return null;var{id:s}=r,i=r$e(r,t$e),o=Bl(i),c=na(n,!0),u=t.map((d,f)=>{var h=Vl(Vl(Vl({key:"dot-".concat(f),r:3},o),c),{},{dataKey:a,cx:d.x,cy:d.y,index:f,payload:d});return l$e(n,h)});return S.createElement(Es,{className:"recharts-radar-dots"},u)}function Oue(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:a,isRange:s,baseLinePoints:i,connectNulls:o}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return S.isValidElement(a)?d=S.cloneElement(a,Vl(Vl({},r),{},{points:t})):typeof a=="function"?d=a(Vl(Vl({},r),{},{points:t})):d=S.createElement(Aue,Bb({},na(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:s?i:null,connectNulls:o})),S.createElement(Es,{className:"recharts-radar-polygon"},d,S.createElement(u$e,{props:r,points:t}),n&&em.renderCallByParent(r,t))}function d$e(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=v7(t,"recharts-radar-"),[h,p]=S.useState(!0),g=S.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),x=S.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return S.createElement(y7,{begin:s,duration:i,isActive:a,easing:o,key:"radar-".concat(f),onAnimationEnd:g,onAnimationStart:x},v=>{var y=d&&d.length/n.length,w=v===1?n:n.map((E,k)=>{var B=d&&d[Math.floor(k*y)];if(B){var j=C1(B.x,E.x),C=C1(B.y,E.y);return Vl(Vl({},E),{},{x:j(v),y:C(v)})}var N=C1(E.cx,E.x),I=C1(E.cy,E.y);return Vl(Vl({},E),{},{x:N(v),y:I(v)})});return v>0&&(r.current=w),S.createElement(Oue,{points:w,props:t,showLabels:!h})})}function f$e(e){var{points:t,isAnimationActive:r,isRange:n}=e,a=S.useRef(void 0),s=a.current;return r&&t&&t.length&&!n&&(!s||s!==t)?S.createElement(d$e,{props:e,previousPointsRef:a}):S.createElement(Oue,{points:t,props:e,showLabels:!0})}var A$e={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Vx.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class h$e extends S.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var a=Zt("recharts-radar",r);return S.createElement(S.Fragment,null,S.createElement(Es,{className:a},S.createElement(f$e,this.props)),S.createElement(QHe,{points:n,mainColor:E7(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function p$e(e){var t=Bc(),r=cr(n=>e$e(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return S.createElement(h$e,Bb({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class S7 extends S.PureComponent{render(){return S.createElement(b7,{id:this.props.id,type:"radar"},t=>S.createElement(S.Fragment,null,S.createElement(kue,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),S.createElement(_ue,{legendPayload:i$e(this.props)}),S.createElement(x7,{fn:o$e,args:this.props}),S.createElement(p$e,Bb({},this.props,{id:t}))))}}C7(S7,"displayName","Radar");C7(S7,"defaultProps",A$e);var m$e="Invariant failed";function g$e(e,t){throw new Error(m$e)}var x$e=["x","y"];function JP(){return JP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JP.apply(null,arguments)}function RX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RX(Object(r),!0).forEach(function(n){v$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v$e(e,t,r){return(t=b$e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$e(e){var t=y$e(e,"string");return typeof t=="symbol"?t:t+""}function y$e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w$e(e,t){if(e==null)return{};var r,n,a=C$e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function C$e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function E$e(e,t){var{x:r,y:n}=e,a=w$e(e,x$e),s="".concat(r),i=parseInt(s,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ow(Ow(Ow(Ow(Ow({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Due(e){return S.createElement(Eue,JP({shapeType:"rectangle",propTransformer:E$e,activeClassName:"recharts-active-bar"},e))}var S$e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(hr(t))return t;var s=hr(n)||$s(n);return s?t(n,a):(s||g$e(),r)}},_$e={},Pue=yu({name:"errorBars",initialState:_$e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:VEt,removeErrorBar:zEt}=Pue.actions,N$e=Pue.reducer,k$e=["children"];function T$e(e,t){if(e==null)return{};var r,n,a=B$e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function B$e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j$e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},I$e=S.createContext(j$e);function F$e(e){var{children:t}=e,r=T$e(e,k$e);return S.createElement(I$e.Provider,{value:r},t)}function Rue(e,t){var r,n,a=cr(u=>k0(u,e)),s=cr(u=>Lm(u,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Zc.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:eu.allowDataOverflow,c=i||o;return{needClip:c,needClipX:i,needClipY:o}}function O$e(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Bue(),{needClipX:s,needClipY:i,needClip:o}=Rue(t,r);if(!o)return null;var{x:c,y:u,width:d,height:f}=a;return S.createElement("clipPath",{id:"clipPath-".concat(n)},S.createElement("rect",{x:s?c:c-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}var D$e=["onMouseEnter","onMouseLeave","onClick"],P$e=["value","background","tooltipPosition"],R$e=["id"],L$e=["onMouseEnter","onClick","onMouseLeave"];function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(null,arguments)}function LX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LX(Object(r),!0).forEach(function(n){M$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M$e(e,t,r){return(t=U$e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U$e(e){var t=Q$e(e,"string");return typeof t=="symbol"?t:t+""}function Q$e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uk(e,t){if(e==null)return{};var r,n,a=H$e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function H$e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $$e=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:dy(r,t),payload:e}]};function V$e(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:dy(s,t),hide:i,type:e.tooltipType,color:e.fill,unit:o}}}function z$e(e){var t=cr(vm),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:o,onClick:c}=s,u=uk(s,D$e),d=p7(i,n),f=m7(o),h=g7(c,n);if(!a||r==null)return null;var p=na(a,!1);return S.createElement(S.Fragment,null,r.map((g,x)=>{var{value:v,background:y,tooltipPosition:w}=g,E=uk(g,P$e);if(!y)return null;var k=d(g,x),B=f(g,x),j=h(g,x),C=ml(ml(ml(ml(ml({option:a,isActive:String(x)===t},E),{},{fill:"#eee"},y),p),$x(u,g,x)),{},{onMouseEnter:k,onMouseLeave:B,onClick:j,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return S.createElement(Due,jb({key:"background-bar-".concat(x)},C))}))}function Lue(e){var{data:t,props:r,showLabels:n}=e,a=Bl(r),{id:s}=a,i=uk(a,R$e),{shape:o,dataKey:c,activeBar:u}=r,d=cr(vm),f=cr(Xce),{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,x=uk(r,L$e),v=p7(h,c),y=m7(g),w=g7(p,c);return t?S.createElement(S.Fragment,null,t.map((E,k)=>{var B=u&&String(k)===d&&(f==null||c===f),j=B?u:o,C=ml(ml(ml({},i),E),{},{isActive:B,option:j,index:k,dataKey:c});return S.createElement(Es,jb({className:"recharts-bar-rectangle"},$x(x,E,k),{onMouseEnter:v(E,k),onMouseLeave:y(E,k),onClick:w(E,k),key:"rectangle-".concat(E==null?void 0:E.x,"-").concat(E==null?void 0:E.y,"-").concat(E==null?void 0:E.value,"-").concat(k)}),S.createElement(Due,C))}),n&&em.renderCallByParent(r,t)):null}function G$e(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=v7(t,"recharts-bar-"),[p,g]=S.useState(!1),x=S.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),v=S.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return S.createElement(y7,{begin:i,duration:o,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:v,key:h},y=>{var w=y===1?n:n==null?void 0:n.map((E,k)=>{var B=f&&f[k];if(B)return ml(ml({},E),{},{x:Lv(B.x,E.x,y),y:Lv(B.y,E.y,y),width:Lv(B.width,E.width,y),height:Lv(B.height,E.height,y)});if(a==="horizontal"){var j=Lv(0,E.height,y);return ml(ml({},E),{},{y:E.y+E.height-j,height:j})}var C=Lv(0,E.width,y);return ml(ml({},E),{},{width:C})});return y>0&&(r.current=w??null),w==null?null:S.createElement(Es,null,S.createElement(Lue,{props:t,data:w,showLabels:!p}))})}function K$e(e){var{data:t,isAnimationActive:r}=e,n=S.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?S.createElement(G$e,{previousRectanglesRef:n,props:e}):S.createElement(Lue,{props:e,data:t,showLabels:!0})}var Mue=0,q$e=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ka(e,t)}};class W$e extends S.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:o,background:c,id:u}=this.props;if(t)return null;var d=Zt("recharts-bar",a),f=u;return S.createElement(Es,{className:d,id:u},o&&S.createElement("defs",null,S.createElement(O$e,{clipPathId:f,xAxisId:s,yAxisId:i})),S.createElement(Es,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},S.createElement(z$e,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),S.createElement(K$e,this.props)),this.props.children)}}var X$e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Vx.isSsr,legendType:"rect",minPointSize:Mue,xAxisId:0,yAxisId:0};function Y$e(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Rue(t,r),h=eU(),p=Bc(),g=UE(e.children,bm),x=cr(w=>EVe(w,t,r,p,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,S.createElement(F$e,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:q$e,errorBarOffset:v},S.createElement(W$e,jb({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function J$e(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p}=e,g=t==="horizontal"?o:i,x=d?g.scale.domain():null,v=KOe({numericAxis:g});return f.map((y,w)=>{var E,k,B,j,C,N;d?E=QOe(d[w],x):(E=Ka(y,r),Array.isArray(E)||(E=[v,E]));var I=S$e(n,Mue)(E[1],w);if(t==="horizontal"){var L,[O,T]=[o.scale(E[0]),o.scale(E[1])];k=oq({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:y,index:w}),B=(L=T??O)!==null&&L!==void 0?L:void 0,j=a.size;var P=O-T;if(C=hu(P)?0:P,N={x:k,y:h.top,width:j,height:h.height},Math.abs(I)>0&&Math.abs(C)<Math.abs(I)){var R=go(C||I)*(Math.abs(I)-Math.abs(C));B-=R,C+=R}}else{var[q,Q]=[i.scale(E[0]),i.scale(E[1])];if(k=q,B=oq({axis:o,ticks:u,bandSize:s,offset:a.offset,entry:y,index:w}),j=Q-q,C=a.size,N={x:h.left,y:B,width:h.width,height:C},Math.abs(I)>0&&Math.abs(j)<Math.abs(I)){var G=go(j||I)*(Math.abs(I)-Math.abs(j));j+=G}}if(k==null||B==null||j==null||C==null)return null;var K=ml(ml({},y),{},{x:k,y:B,width:j,height:C,value:d?E:E[1],payload:y,background:N,tooltipPosition:{x:k+j/2,y:B+C/2}},p&&p[w]&&p[w].props);return K}).filter(Boolean)}function Ib(e){var t=wd(e,X$e),r=Bc();return S.createElement(b7,{id:t.id,type:"bar"},n=>S.createElement(S.Fragment,null,S.createElement(YQe,{legendPayload:$$e(t)}),S.createElement(x7,{fn:V$e,args:t}),S.createElement(cHe,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:GOe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),S.createElement(Y$e,jb({},t,{id:n}))))}Ib.displayName="Bar";function MX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MX(Object(r),!0).forEach(function(n){Z$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z$e(e,t,r){return(t=eVe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eVe(e){var t=tVe(e,"string");return typeof t=="symbol"?t:t+""}function tVe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rVe=(e,t)=>t,nVe=(e,t,r)=>r,aVe=(e,t,r,n)=>n,sVe=(e,t,r,n,a)=>a,eS=dt([DU,sVe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),iVe=dt([eS],e=>e==null?void 0:e.maxBarSize),oVe=(e,t,r,n,a,s)=>s,UX=(e,t,r)=>{var n=r??e;if(!$s(n))return ql(n,t,0)},lVe=dt([Ln,DU,rVe,nVe,aVe],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),cVe=(e,t,r,n)=>{var a=Ln(e);return a==="horizontal"?zP(e,"yAxis",r,n):zP(e,"xAxis",t,n)},uVe=(e,t,r)=>{var n=Ln(e);return n==="horizontal"?kW(e,"xAxis",t):kW(e,"yAxis",r)},dVe=(e,t,r)=>{var n={},a=e.filter(QB),s=e.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(i).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),p=UX(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=UX(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]},fVe=dt([lVe,P8e,uVe],dVe),AVe=(e,t,r,n,a)=>{var s,i,o=eS(e,t,r,n,a);if(o!=null){var c=Ln(e),u=Yle(e),{maxBarSize:d}=o,f=$s(d)?u:d,h,p;return c==="horizontal"?(h=kb(e,"xAxis",t,n),p=Nb(e,"xAxis",t,n)):(h=kb(e,"yAxis",r,n),p=Nb(e,"yAxis",r,n)),(s=(i=TC(h,p,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},Uue=(e,t,r,n)=>{var a=Ln(e),s,i;return a==="horizontal"?(s=kb(e,"xAxis",t,n),i=Nb(e,"xAxis",t,n)):(s=kb(e,"yAxis",r,n),i=Nb(e,"yAxis",r,n)),TC(s,i)};function hVe(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=ql(e,r,0,!0),o,c=[];if(gu(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((y,w)=>y+(w.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,p={offset:h-i,size:0};o=n.reduce((y,w)=>{var E,k={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+i,size:u?d:(E=w.barSize)!==null&&E!==void 0?E:0}},B=[...y,k];return p=B[B.length-1].position,B},c)}else{var g=ql(t,r,0,!0);r-2*g-(s-1)*i<=0&&(i=0);var x=(r-2*g-(s-1)*i)/s;x>1&&(x>>=0);var v=gu(a)?Math.min(x,a):x;o=n.reduce((y,w,E)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(x+i)*E+(x-v)/2,size:v}}],c)}return o}}var pVe=(e,t,r,n,a,s,i)=>{var o=$s(i)?t:i,c=hVe(r,n,a!==s?a:s,e,o);return a!==s&&c!=null&&(c=c.map(u=>J_(J_({},u),{},{position:J_(J_({},u.position),{},{offset:u.position.offset-a/2})}))),c},mVe=dt([fVe,Yle,D8e,Jle,AVe,Uue,iVe],pVe),gVe=(e,t,r,n)=>kb(e,"xAxis",t,n),xVe=(e,t,r,n)=>kb(e,"yAxis",r,n),vVe=(e,t,r,n)=>Nb(e,"xAxis",t,n),bVe=(e,t,r,n)=>Nb(e,"yAxis",r,n),yVe=dt([mVe,eS],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),wVe=(e,t)=>{var r=IU(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},CVe=dt([cVe,eS],wVe),EVe=dt([Ki,gVe,xVe,vVe,bVe,yVe,Ln,SU,Uue,CVe,eS,oVe],(e,t,r,n,a,s,i,o,c,u,d,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:g}=o;if(!(d==null||s==null||i!=="horizontal"&&i!=="vertical"||t==null||r==null||n==null||a==null||c==null)){var{data:x}=d,v;if(x!=null&&x.length>0?v=x:v=h==null?void 0:h.slice(p,g+1),v!=null)return J$e({layout:i,barSettings:d,pos:s,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:u,displayedData:v,offset:e,cells:f})}}),Que=e=>{var{chartData:t}=e,r=as(),n=Bc();return S.useEffect(()=>n?()=>{}:(r(LW(t)),()=>{r(LW(void 0))}),[t,r,n]),null},QX={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Hue=yu({name:"brush",initialState:QX,reducers:{setBrushSettings(e,t){return t.payload==null?QX:t.payload}}}),{setBrushSettings:GEt}=Hue.actions,SVe=Hue.reducer;function _Ve(e,t,r){return(t=NVe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NVe(e){var t=kVe(e,"string");return typeof t=="symbol"?t:t+""}function kVe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _7{static create(t){return new _7(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}_Ve(_7,"EPS",1e-4);function TVe(e){return(e%180+180)%180}var BVe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=TVe(a),i=s*Math.PI/180,o=Math.atan(n/r),c=i>o&&i<Math.PI-o?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},jVe={dots:[],areas:[],lines:[]},$ue=yu({name:"referenceElements",initialState:jVe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Wh(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Wh(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Wh(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:KEt,removeDot:qEt,addArea:WEt,removeArea:XEt,addLine:YEt,removeLine:JEt}=$ue.actions,IVe=$ue.reducer,FVe=S.createContext(void 0),OVe=e=>{var{children:t}=e,[r]=S.useState("".concat(_C("recharts"),"-clip")),n=Bue();if(n==null)return null;var{x:a,y:s,width:i,height:o}=n;return S.createElement(FVe.Provider,{value:r},S.createElement("defs",null,S.createElement("clipPath",{id:r},S.createElement("rect",{x:a,y:s,height:o,width:i}))),t)};function kF(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Vue(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function DVe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return BVe(n,r)}function PVe(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:o}=e;return t===1?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}function dk(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function RVe(e,t){return Vue(e,t+1)}function LVe(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:o}=t,c=0,u=1,d=i,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:Vue(n,u)};var x=c,v,y=()=>(v===void 0&&(v=r(g,x)),v),w=g.coordinate,E=c===0||dk(e,w,y,d,o);E||(c=0,d=i,u+=1),E&&(d=w+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function HX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HX(Object(r),!0).forEach(function(n){MVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MVe(e,t,r){return(t=UVe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UVe(e){var t=QVe(e,"string");return typeof t=="symbol"?t:t+""}function QVe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HVe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:c}=t,u=function(h){var p=s[h],g,x=()=>(g===void 0&&(g=r(p,h)),g);if(h===i-1){var v=e*(p.coordinate+e*x()/2-c);s[h]=p=ul(ul({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[h]=p=ul(ul({},p),{},{tickCoord:p.coordinate});var y=dk(e,p.tickCoord,x,o,c);y&&(c=p.tickCoord-e*(x()/2+a),s[h]=ul(ul({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function $Ve(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:c,end:u}=t;if(s){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);i[o-1]=d=ul(ul({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=dk(e,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-e*(f/2+a),i[o-1]=ul(ul({},d),{},{isShow:!0}))}for(var g=s?o-1:o,x=function(w){var E=i[w],k,B=()=>(k===void 0&&(k=r(E,w)),k);if(w===0){var j=e*(E.coordinate-e*B()/2-c);i[w]=E=ul(ul({},E),{},{tickCoord:j<0?E.coordinate-j*e:E.coordinate})}else i[w]=E=ul(ul({},E),{},{tickCoord:E.coordinate});var C=dk(e,E.tickCoord,B,c,u);C&&(c=E.tickCoord+e*(B()/2+a),i[w]=ul(ul({},E),{},{isShow:!0}))},v=0;v<g;v++)x(v);return i}function N7(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(hr(c)||Vx.isSsr){var h;return(h=RVe(a,hr(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",x=d&&g==="width"?H2(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(E,k)=>{var B=typeof u=="function"?u(E.value,k):E.value;return g==="width"?DVe(H2(B,{fontSize:t,letterSpacing:r}),x,f):H2(B,{fontSize:t,letterSpacing:r})[g]},y=a.length>=2?go(a[1].coordinate-a[0].coordinate):1,w=PVe(s,y,g);return c==="equidistantPreserveStart"?LVe(y,w,v,a,i):(c==="preserveStart"||c==="preserveStartEnd"?p=$Ve(y,w,v,a,i,c==="preserveStartEnd"):p=HVe(y,w,v,a,i),p.filter(E=>E.isShow))}var VVe=["viewBox"],zVe=["viewBox"];function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(null,arguments)}function $X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$X(Object(r),!0).forEach(function(n){k7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$X(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VX(e,t){if(e==null)return{};var r,n,a=GVe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GVe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function k7(e,t,r){return(t=KVe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KVe(e){var t=qVe(e,"string");return typeof t=="symbol"?t:t+""}function qVe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Um extends S.Component{constructor(t){super(t),this.tickRefs=S.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=VX(t,VVe),s=this.props,{viewBox:i}=s,o=VX(s,zVe);return!kF(n,i)||!kF(a,o)||!kF(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:s,orientation:i,tickSize:o,mirror:c,tickMargin:u}=this.props,d,f,h,p,g,x,v=c?-1:1,y=t.tickSize||o,w=hr(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":d=f=t.coordinate,p=n+ +!c*s,h=p-v*y,x=h-v*u,g=w;break;case"left":h=p=t.coordinate,f=r+ +!c*a,d=f-v*y,g=d-v*u,x=w;break;case"right":h=p=t.coordinate,f=r+ +c*a,d=f+v*y,g=d+v*u,x=w;break;default:d=f=t.coordinate,p=n+ +c*s,h=p+v*y,x=h+v*u,g=w;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:g,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:o}=this.props,c=Ui(Ui(Ui({},na(this.props,!1)),na(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!i||s==="bottom"&&i);c=Ui(Ui({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+(s==="left"&&!i||s==="right"&&i);c=Ui(Ui({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return S.createElement("line",_1({},c,{className:Zt("recharts-cartesian-axis-line",xm(o,"className"))}))}static renderTickItem(t,r,n){var a,s=Zt(r.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))a=S.cloneElement(t,Ui(Ui({},r),{},{className:s}));else if(typeof t=="function")a=t(Ui(Ui({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=Zt(i,t.className)),a=S.createElement(Ey,_1({},r,{className:i}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:s,tick:i,tickFormatter:o,unit:c,padding:u}=this.props,d=N7(Ui(Ui({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=Bl(this.props),g=na(i,!1),x=Ui(Ui({},p),{},{fill:"none"},na(a,!1)),v=d.map((y,w)=>{var{line:E,tick:k}=this.getTickLineCoord(y),B=Ui(Ui(Ui(Ui({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:s},g),k),{},{index:w,payload:y,visibleTicksCount:d.length,tickFormatter:o,padding:u});return S.createElement(Es,_1({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},$x(this.props,y,w)),a&&S.createElement("line",_1({},x,E,{className:Zt("recharts-cartesian-axis-tick-line",xm(a,"className"))})),i&&Um.renderTickItem(i,B,"".concat(typeof o=="function"?o(y.value,w):y.value).concat(c||"")))});return v.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:s}=this.props;if(s)return null;var{ticks:i}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:S.createElement(Es,{className:Zt("recharts-cartesian-axis",a),ref:o=>{if(o){var c=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,i),vc.renderCallByParent(this.props))}}k7(Um,"displayName","CartesianAxis");k7(Um,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WVe=["x1","y1","x2","y2","key"],XVe=["offset"],YVe=["xAxisId","yAxisId"],JVe=["xAxisId","yAxisId"];function zX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zX(Object(r),!0).forEach(function(n){ZVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZVe(e,t,r){return(t=eze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eze(e){var t=tze(e,"string");return typeof t=="symbol"?t:t+""}function tze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(null,arguments)}function fk(e,t){if(e==null)return{};var r,n,a=rze(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nze=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:o}=e;return S.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zue(e,t){var r;if(S.isValidElement(e))r=S.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:s,y2:i,key:o}=t,c=fk(t,WVe),u=Bl(c),{offset:d}=u,f=fk(u,XVe);r=S.createElement("line",$g({},f,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:o}))}return r}function aze(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=fk(e,YVe),c=a.map((u,d)=>{var f=gl(gl({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return zue(n,f)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function sze(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=fk(e,JVe),c=a.map((u,d)=>{var f=gl(gl({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return zue(n,f)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function ize(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?a+i-f:u[h+1]-f;if(g<=0)return null;var x=h%t.length;return S.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function oze(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?a+i-f:u[h+1]-f;if(g<=0)return null;var x=h%r.length;return S.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var lze=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return joe(N7(gl(gl(gl({},Um.defaultProps),r),{},{ticks:Ioe(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},cze=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return joe(N7(gl(gl(gl({},Um.defaultProps),r),{},{ticks:Ioe(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},uze={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function RC(e){var t=JM(),r=ZM(),n=Roe(),a=gl(gl({},wd(e,uze)),{},{x:hr(e.x)?e.x:n.left,y:hr(e.y)?e.y:n.top,width:hr(e.width)?e.width:n.width,height:hr(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,g=Bc(),x=cr(I=>TW(I,"xAxis",s,g)),v=cr(I=>TW(I,"yAxis",i,g));if(!hr(u)||u<=0||!hr(d)||d<=0||!hr(o)||o!==+o||!hr(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||lze,w=a.horizontalCoordinatesGenerator||cze,{horizontalPoints:E,verticalPoints:k}=a;if((!E||!E.length)&&typeof w=="function"){var B=h&&h.length,j=w({yAxis:v?gl(gl({},v),{},{ticks:B?h:v.ticks}):void 0,width:t,height:r,offset:n},B?!0:f);Q2(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(E=j)}if((!k||!k.length)&&typeof y=="function"){var C=p&&p.length,N=y({xAxis:x?gl(gl({},x),{},{ticks:C?p:x.ticks}):void 0,width:t,height:r,offset:n},C?!0:f);Q2(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(k=N)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(nze,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),S.createElement(ize,$g({},a,{horizontalPoints:E})),S.createElement(oze,$g({},a,{verticalPoints:k})),S.createElement(aze,$g({},a,{offset:n,horizontalPoints:E,xAxis:x,yAxis:v})),S.createElement(sze,$g({},a,{offset:n,verticalPoints:k,xAxis:x,yAxis:v})))}RC.displayName="CartesianGrid";function GX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GX(Object(r),!0).forEach(function(n){dze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dze(e,t,r){return(t=fze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fze(e){var t=Aze(e,"string");return typeof t=="symbol"?t:t+""}function Aze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hze={xAxis:{},yAxis:{},zAxis:{}},Gue=yu({name:"cartesianAxis",initialState:hze,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=KX(KX({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:pze,removeXAxis:mze,addYAxis:gze,removeYAxis:xze,addZAxis:ZEt,removeZAxis:eSt,updateYAxisWidth:vze}=Gue.actions,bze=Gue.reducer,yze=["children"],wze=["dangerouslySetInnerHTML","ticks"];function Kue(e,t,r){return(t=Cze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cze(e){var t=Eze(e,"string");return typeof t=="symbol"?t:t+""}function Eze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZP(){return ZP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZP.apply(null,arguments)}function que(e,t){if(e==null)return{};var r,n,a=Sze(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _ze(e){var t=as(),r=S.useMemo(()=>{var{children:s}=e,i=que(e,yze);return i},[e]),n=cr(s=>k0(s,r.id)),a=r===n;return S.useEffect(()=>(t(pze(r)),()=>{t(mze(r))}),[r,t]),a?e.children:null}var Nze=e=>{var{xAxisId:t,className:r}=e,n=cr(Poe),a=Bc(),s="xAxis",i=cr(p=>yy(p,s,t,a)),o=cr(p=>Bce(p,s,t,a)),c=cr(p=>_ce(p,t)),u=cr(p=>kMe(p,t));if(c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,h=que(e,wze);return S.createElement(Um,ZP({},h,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:Zt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},kze=e=>{var t,r,n,a,s;return S.createElement(_ze,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},S.createElement(Nze,e))};class Ex extends S.Component{render(){return S.createElement(kze,this.props)}}Kue(Ex,"displayName","XAxis");Kue(Ex,"defaultProps",{allowDataOverflow:Zc.allowDataOverflow,allowDecimals:Zc.allowDecimals,allowDuplicatedCategory:Zc.allowDuplicatedCategory,height:Zc.height,hide:!1,mirror:Zc.mirror,orientation:Zc.orientation,padding:Zc.padding,reversed:Zc.reversed,scale:Zc.scale,tickCount:Zc.tickCount,type:Zc.type,xAxisId:0});var Tze=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+s,u=i+c+o+(r?n:0);return Math.round(u)}return 0},Bze=["dangerouslySetInnerHTML","ticks"];function Wue(e,t,r){return(t=jze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jze(e){var t=Ize(e,"string");return typeof t=="symbol"?t:t+""}function Ize(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eR(){return eR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eR.apply(null,arguments)}function Fze(e,t){if(e==null)return{};var r,n,a=Oze(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dze(e){var t=as();return S.useEffect(()=>(t(gze(e)),()=>{t(xze(e))}),[e,t]),null}var Pze=e=>{var t,{yAxisId:r,className:n,width:a,label:s}=e,i=S.useRef(null),o=S.useRef(null),c=cr(Poe),u=Bc(),d=as(),f="yAxis",h=cr(E=>yy(E,f,r,u)),p=cr(E=>Nce(E,r)),g=cr(E=>TMe(E,r)),x=cr(E=>Bce(E,f,r,u));if(S.useLayoutEffect(()=>{var E;if(!(a!=="auto"||!p||i7(s)||S.isValidElement(s))){var k=i.current,B=k==null||(E=k.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:j,tickMargin:C}=k.props,N=Tze({ticks:B,label:o.current,labelGapWithTick:5,tickSize:j,tickMargin:C});Math.round(p.width)!==Math.round(N)&&d(vze({id:r,width:N}))}},[i,i==null||(t=i.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,d,s,r,a]),p==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,w=Fze(e,Bze);return S.createElement(Um,eR({},w,{ref:i,labelRef:o,scale:h,x:g.x,y:g.y,width:p.width,height:p.height,className:Zt("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:x}))},Rze=e=>{var t,r,n,a,s;return S.createElement(S.Fragment,null,S.createElement(Dze,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),S.createElement(Pze,e))},Lze={allowDataOverflow:eu.allowDataOverflow,allowDecimals:eu.allowDecimals,allowDuplicatedCategory:eu.allowDuplicatedCategory,hide:!1,mirror:eu.mirror,orientation:eu.orientation,padding:eu.padding,reversed:eu.reversed,scale:eu.scale,tickCount:eu.tickCount,type:eu.type,width:eu.width,yAxisId:0};class Sx extends S.Component{render(){return S.createElement(Rze,this.props)}}Wue(Sx,"displayName","YAxis");Wue(Sx,"defaultProps",Lze);var TF={exports:{}},BF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qX;function Mze(){if(qX)return BF;qX=1;var e=qb();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,i=e.useMemo,o=e.useDebugValue;return BF.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var p=a(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=i(function(){function v(B){if(!y){if(y=!0,w=B,B=f(B),h!==void 0&&g.hasValue){var j=g.value;if(h(j,B))return E=j}return E=B}if(j=E,r(w,B))return j;var C=f(B);return h!==void 0&&h(j,C)?(w=B,j):(w=B,E=C)}var y=!1,w,E,k=d===void 0?null:d;return[function(){return v(u())},k===null?void 0:function(){return v(k())}]},[u,d,f,h]);var x=n(c,p[0],p[1]);return s(function(){g.hasValue=!0,g.value=x},[x]),o(x),x},BF}var WX;function Uze(){return WX||(WX=1,TF.exports=Mze()),TF.exports}Uze();function Qze(e){e()}function Hze(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Qze(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var XX={notify(){},get:()=>[]};function $ze(e,t){let r,n=XX,a=0,s=!1;function i(x){d();const v=n.subscribe(x);let y=!1;return()=>{y||(y=!0,v(),f())}}function o(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=Hze())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=XX)}function h(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const g={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var Vze=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zze=Vze(),Gze=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Kze=Gze(),qze=()=>zze||Kze?S.useLayoutEffect:S.useEffect,Wze=qze(),jF=Symbol.for("react-redux-context"),IF=typeof globalThis<"u"?globalThis:{};function Xze(){if(!S.createContext)return{};const e=IF[jF]??(IF[jF]=new Map);let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var Yze=Xze();function Jze(e){const{children:t,context:r,serverState:n,store:a}=e,s=S.useMemo(()=>{const c=$ze(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=S.useMemo(()=>a.getState(),[a]);Wze(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const o=r||Yze;return S.createElement(o.Provider,{value:s},t)}var Zze=Jze,eGe=(e,t)=>t,T7=dt([eGe,Ln,gy,Wi,Gce,T0,IUe,Ki],RUe),B7=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Xue=gd("mouseClick"),Yue=QE();Yue.startListening({actionCreator:Xue,effect:(e,t)=>{var r=e.payload,n=T7(t.getState(),B7(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(UMe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var tR=gd("mouseMove"),Jue=QE();Jue.startListening({actionCreator:tR,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=XU(n,n.tooltip.settings.shared),s=T7(n,B7(r));a==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(Mce({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(Lce()))}});function tGe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var YX={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Zue=yu({name:"rootProps",initialState:YX,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:YX.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),rGe=Zue.reducer,{updateOptions:nGe}=Zue.actions,ede=yu({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:aGe}=ede.actions,sGe=ede.reducer,tde=gd("keyDown"),rde=gd("focus"),j7=QE();j7.startListening({actionCreator:tde,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Number(YU(a,Cy(r))),o=T0(r);if(s==="Enter"){var c=sk(r,"axis","hover",String(a.index));t.dispatch(KP({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=jMe(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=i+f*d;if(!(o==null||h>=o.length||h<0)){var p=sk(r,"axis","hover",String(h));t.dispatch(KP({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});j7.startListening({actionCreator:rde,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=sk(r,"axis","hover",String(s));t.dispatch(KP({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Xu=gd("externalEvent"),nde=QE();nde.startListening({actionCreator:Xu,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:wUe(r),activeDataKey:Xce(r),activeIndex:vm(r),activeLabel:Wce(r),activeTooltipIndex:vm(r),isTooltipActive:CUe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var iGe=dt([wy],e=>e.tooltipItemPayloads),oGe=dt([iGe,JE,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),ade=gd("touchMove"),sde=QE();sde.startListening({actionCreator:ade,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=XU(n,n.tooltip.settings.shared);if(a==="axis"){var s=T7(n,B7({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(Mce({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(Ooe),d=(i=c.getAttribute(Doe))!==null&&i!==void 0?i:void 0,f=oGe(t.getState(),u,d);t.dispatch(Rce({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var lGe=soe({brush:SVe,cartesianAxis:bze,chartData:ZUe,errorBars:N$e,graphicalItems:lHe,layout:SOe,legend:fDe,options:qUe,polarAxis:rQe,polarOptions:sGe,referenceElements:IVe,rootProps:rGe,tooltip:QMe}),cGe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return XFe({reducer:lGe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([Yue.middleware,Jue.middleware,j7.middleware,nde.middleware,sde.middleware]),devTools:{serialize:{replacer:tGe},name:"recharts-".concat(r)}})};function ide(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Bc(),s=S.useRef(null);if(a)return r;s.current==null&&(s.current=cGe(t,n));var i=$M;return S.createElement(Zze,{context:i,store:s.current},r)}function ode(e){var{layout:t,width:r,height:n,margin:a}=e,s=as(),i=Bc();return S.useEffect(()=>{i||(s(wOe(t)),s(COe({width:r,height:n})),s(yOe(a)))},[s,i,t,r,n,a]),null}function lde(e){var t=as();return S.useEffect(()=>{t(nGe(e))},[t,e]),null}var uGe=["children"];function dGe(e,t){if(e==null)return{};var r,n,a=fGe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fGe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ak.apply(null,arguments)}var AGe={width:"100%",height:"100%"},hGe=S.forwardRef((e,t)=>{var r=JM(),n=ZM(),a=Qoe();if(!wb(r)||!wb(n))return null;var{children:s,otherAttributes:i,title:o,desc:c}=e,u,d;return typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0,S.createElement(BM,Ak({},i,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:AGe,ref:t}),s)}),pGe=e=>{var{children:t}=e,r=cr(TB);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return S.createElement(BM,{width:n,height:a,x:i,y:s},t)},JX=S.forwardRef((e,t)=>{var{children:r}=e,n=dGe(e,uGe),a=Bc();return a?S.createElement(pGe,null,r):S.createElement(hGe,Ak({ref:t},n),r)});function mGe(){var e=as(),[t,r]=S.useState(null),n=cr(eDe);return S.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;gu(s)&&s!==n&&e(EOe(s))}},[t,e,n]),r}function ZX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gGe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZX(Object(r),!0).forEach(function(n){xGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xGe(e,t,r){return(t=vGe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vGe(e){var t=bGe(e,"string");return typeof t=="symbol"?t:t+""}function bGe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yGe=S.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:x,style:v,width:y}=e,w=as(),[E,k]=S.useState(null),[B,j]=S.useState(null);r7e();var C=mGe(),N=S.useCallback(M=>{C(M),typeof t=="function"&&t(M),k(M),j(M)},[C,t,k,j]),I=S.useCallback(M=>{w(Xue(M)),w(Xu({handler:s,reactEvent:M}))},[w,s]),L=S.useCallback(M=>{w(tR(M)),w(Xu({handler:u,reactEvent:M}))},[w,u]),O=S.useCallback(M=>{w(Lce()),w(Xu({handler:d,reactEvent:M}))},[w,d]),T=S.useCallback(M=>{w(tR(M)),w(Xu({handler:f,reactEvent:M}))},[w,f]),P=S.useCallback(()=>{w(rde())},[w]),R=S.useCallback(M=>{w(tde(M.key))},[w]),q=S.useCallback(M=>{w(Xu({handler:i,reactEvent:M}))},[w,i]),Q=S.useCallback(M=>{w(Xu({handler:o,reactEvent:M}))},[w,o]),G=S.useCallback(M=>{w(Xu({handler:c,reactEvent:M}))},[w,c]),K=S.useCallback(M=>{w(Xu({handler:h,reactEvent:M}))},[w,h]),z=S.useCallback(M=>{w(Xu({handler:x,reactEvent:M}))},[w,x]),Y=S.useCallback(M=>{w(ade(M)),w(Xu({handler:g,reactEvent:M}))},[w,g]),ee=S.useCallback(M=>{w(Xu({handler:p,reactEvent:M}))},[w,p]);return S.createElement(rue.Provider,{value:E},S.createElement(kie.Provider,{value:B},S.createElement("div",{className:Zt("recharts-wrapper",n),style:gGe({position:"relative",cursor:"default",width:y,height:a},v),onClick:I,onContextMenu:q,onDoubleClick:Q,onFocus:P,onKeyDown:R,onMouseDown:G,onMouseEnter:L,onMouseLeave:O,onMouseMove:T,onMouseUp:K,onTouchEnd:ee,onTouchMove:Y,onTouchStart:z,ref:N},r)))}),wGe=["children","className","width","height","style","compact","title","desc"];function CGe(e,t){if(e==null)return{};var r,n,a=EGe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EGe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cde=S.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:s,style:i,compact:o,title:c,desc:u}=e,d=CGe(e,wGe),f=Bl(d);return o?S.createElement(JX,{otherAttributes:f,title:c,desc:u},r):S.createElement(yGe,{className:n,style:i,width:a,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(JX,{otherAttributes:f,title:c,desc:u,ref:t},S.createElement(OVe,null,r)))}),SGe=["width","height"];function rR(){return rR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rR.apply(null,arguments)}function _Ge(e,t){if(e==null)return{};var r,n,a=NGe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NGe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kGe={top:5,right:5,bottom:5,left:5},TGe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:kGe,reverseStackOrder:!1,syncMethod:"index"},BGe=S.forwardRef(function(t,r){var n,a=wd(t.categoricalChartProps,TGe),{width:s,height:i}=a,o=_Ge(a,SGe);if(!wb(s)||!wb(i))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return S.createElement(ide,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},S.createElement(Que,{chartData:h.data}),S.createElement(ode,{width:s,height:i,layout:a.layout,margin:a.margin}),S.createElement(lde,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),S.createElement(cde,rR({},o,{width:s,height:i,ref:r})))}),jGe=["axis","item"],LC=S.forwardRef((e,t)=>S.createElement(BGe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jGe,tooltipPayloadSearcher:s7,categoricalChartProps:e,ref:t}));function IGe(e){var t=as();return S.useEffect(()=>{t(aGe(e))},[t,e]),null}var FGe=["width","height","layout"];function nR(){return nR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nR.apply(null,arguments)}function OGe(e,t){if(e==null)return{};var r,n,a=DGe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DGe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PGe={top:5,right:5,bottom:5,left:5},RGe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:PGe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},ude=S.forwardRef(function(t,r){var n,a=wd(t.categoricalChartProps,RGe),{width:s,height:i,layout:o}=a,c=OGe(a,FGe);if(!wb(s)||!wb(i))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return S.createElement(ide,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},S.createElement(Que,{chartData:a.data}),S.createElement(ode,{width:s,height:i,layout:o,margin:a.margin}),S.createElement(lde,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),S.createElement(IGe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),S.createElement(cde,nR({width:s,height:i},c,{ref:r})))}),LGe=["item"],MGe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},I7=S.forwardRef((e,t)=>{var r=wd(e,MGe);return S.createElement(ude,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:LGe,tooltipPayloadSearcher:s7,categoricalChartProps:r,ref:t})}),UGe=["axis"],QGe={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},HGe=S.forwardRef((e,t)=>{var r=wd(e,QGe);return S.createElement(ude,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UGe,tooltipPayloadSearcher:s7,categoricalChartProps:r,ref:t})});const xp=["#0ea5e9","#22c55e","#f59e0b","#ef4444","#8b5cf6","#14b8a6","#a3e635","#f472b6"],eY={fechaRegistro:new Date().toISOString().split("T")[0],responsable:"",dimension:"",subdimension:"",descripcion:"",objetivos:"",indicadores:[],cobertura:"",fechaInicio:"",fechaCumplimiento:"",estado:"Pendiente",avance:0,enlaces:[]},Dw="rounded-2xl border border-slate-100 dark:border-slate-800 bg-white/80 dark:bg-slate-900/60 shadow-sm backdrop-blur",Bo="w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-fuchsia-500/70 focus:border-fuchsia-500/70 transition",Wc="block text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-400 mb-2",FF="inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold transition",OF="bg-gradient-to-r from-fuchsia-600 to-rose-500 text-white shadow-sm",DF="bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-200 hover:bg-slate-200/80 dark:hover:bg-slate-700",Z_="rounded-2xl p-5 text-white shadow-md bg-gradient-to-br",$Ge="from-sky-500 to-indigo-500",VGe="from-emerald-500 to-lime-500",zGe="from-amber-500 to-rose-500",GGe="from-fuchsia-500 to-purple-600",PF={Pendiente:{badge:"bg-rose-50 text-rose-700 ring-1 ring-rose-200 dark:bg-rose-900/30 dark:text-rose-200 dark:ring-rose-800",icon:Af,dot:"bg-rose-500"},"En Proceso":{badge:"bg-amber-50 text-amber-700 ring-1 ring-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:ring-amber-800",icon:vse,dot:"bg-amber-500"},Cumplida:{badge:"bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-200 dark:ring-emerald-800",icon:mo,dot:"bg-emerald-500"}},KGe=e=>{const t=PF[e].icon;return l.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${PF[e].badge}`,children:[l.jsx("span",{className:`h-2 w-2 rounded-full ${PF[e].dot}`}),l.jsx(t,{className:"h-4 w-4"})," ",e]})},qGe=()=>{var z,Y;const[e,t]=S.useState("registro"),[r,n]=S.useState([]),[a,s]=S.useState(eY),[i,o]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(!1),[h,p]=S.useState(""),[g,x]=S.useState(""),[v,y]=S.useState(""),[w,E]=S.useState(""),k=S.useMemo(()=>Ph[a.dimension]??[],[a.dimension]),B=S.useCallback(async()=>{f(!0);try{const ee=await CIe();n(ee)}catch(ee){console.error(ee),u("No se pudieron cargar las acciones.")}finally{f(!1)}},[]);S.useEffect(()=>{B()},[B]);const j=ee=>{const{name:M,value:H}=ee.target;s(W=>({...W,[M]:H}))},C=ee=>{const M=ee.split(",").map(H=>H.trim()).filter(Boolean);s(H=>({...H,indicadores:M}))},N=ee=>{const M=ee.split(",").map(H=>H.trim()).filter(Boolean);s(H=>({...H,enlaces:M}))},I=()=>{s(eY),o(null),u(null)},L=async ee=>{if(ee.preventDefault(),!a.responsable||!a.dimension||!a.subdimension||!a.descripcion||!a.fechaCumplimiento){u("Responsable, dimensión, subdimensión, descripción y fecha de cumplimiento son obligatorios.");return}try{i?await SIe(i,a):await EIe(a),await B(),I(),t("seguimiento")}catch(M){console.error(M),u("Error al guardar la acción.")}},O=ee=>{o(ee.id),s({...ee,enlaces:ee.enlaces??[],indicadores:ee.indicadores??[]}),window.scrollTo({top:0,behavior:"smooth"}),t("registro")},T=async ee=>{confirm("¿Eliminar esta acción?")&&(await _Ie(ee),await B())},P=S.useMemo(()=>r.filter(ee=>{const M=!h||ee.responsable.toLowerCase().includes(h.toLowerCase())||ee.descripcion.toLowerCase().includes(h.toLowerCase())||ee.subdimension.toLowerCase().includes(h.toLowerCase()),H=!g||ee.dimension===g,W=!v||ee.subdimension===v,Z=!w||ee.estado===w;return M&&H&&W&&Z}),[r,h,g,v,w]),R=S.useMemo(()=>{const ee=new Map;return r.forEach(M=>ee.set(M.dimension,(ee.get(M.dimension)??0)+1)),Array.from(ee.entries()).map(([M,H])=>({name:M,value:H}))},[r]),q=S.useMemo(()=>{const ee=new Map;return r.forEach(M=>ee.set(M.estado,(ee.get(M.estado)??0)+1)),Array.from(ee.entries()).map(([M,H])=>({name:M,value:H}))},[r]),Q=S.useMemo(()=>{const ee=r.map(M=>M.avance??0);return ee.length?Math.round(ee.reduce((M,H)=>M+H,0)/ee.length):0},[r]),G=S.useMemo(()=>{const ee=new Map;return r.forEach(M=>ee.set(M.subdimension,(ee.get(M.subdimension)??0)+1)),Array.from(ee.entries()).map(([M,H])=>({name:M,value:H})).sort((M,H)=>H.value-M.value).slice(0,6)},[r]),K=()=>{const ee=["id","fechaRegistro","responsable","dimension","subdimension","descripcion","objetivos","indicadores","cobertura","fechaInicio","fechaCumplimiento","estado","avance","enlaces"],M=r.map(oe=>[oe.id,oe.fechaRegistro,oe.responsable,oe.dimension,oe.subdimension,oe.descripcion.replace(/\n/g," "),oe.objetivos??"",(oe.indicadores??[]).join("|"),oe.cobertura??"",oe.fechaInicio??"",oe.fechaCumplimiento,oe.estado,oe.avance??0,(oe.enlaces??[]).join("|")]),H=[ee.join(","),...M.map(oe=>oe.map(se=>`"${String(se).replace(/"/g,'""')}"`).join(","))].join(`
`),W=new Blob([H],{type:"text/csv;charset=utf-8"}),Z=URL.createObjectURL(W),ae=document.createElement("a");ae.href=Z,ae.download=`pme_acciones_${new Date().toISOString().slice(0,10)}.csv`,ae.click(),URL.revokeObjectURL(Z)};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-fuchsia-200/60 dark:border-fuchsia-700/30",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-fuchsia-500/20 via-rose-500/20 to-amber-400/20 blur-3xl"}),l.jsxs("div",{className:"relative p-6 md:p-8 flex flex-col md:flex-row md:items-center md:justify-between gap-4 bg-white/60 dark:bg-slate-900/40 backdrop-blur",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl md:text-3xl font-black bg-gradient-to-r from-fuchsia-600 via-rose-600 to-amber-600 bg-clip-text text-transparent flex items-center gap-3",children:[l.jsx(Xg,{className:"h-6 w-6 text-fuchsia-600"})," Seguimiento de Acciones (PME)"]}),l.jsxs("p",{className:"text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[l.jsx(g5e,{className:"h-4 w-4"})," Registro, seguimiento y dashboard por Dimensión/Subdimensión."]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:B,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/70 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-white",children:[l.jsx(wse,{className:"h-4 w-4"})," Refrescar"]}),l.jsxs("button",{onClick:K,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-white bg-gradient-to-r from-fuchsia-600 to-rose-500 hover:opacity-90",children:[l.jsx(pm,{className:"h-4 w-4"})," CSV"]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("button",{onClick:()=>t("registro"),className:`${FF} ${e==="registro"?OF:DF}`,children:[l.jsx(gx,{className:"h-4 w-4"})," Registro"]}),l.jsxs("button",{onClick:()=>t("seguimiento"),className:`${FF} ${e==="seguimiento"?OF:DF}`,children:[l.jsx(R2,{className:"h-4 w-4"})," Seguimiento"]}),l.jsxs("button",{onClick:()=>t("dashboard"),className:`${FF} ${e==="dashboard"?OF:DF}`,children:[l.jsx(d_e,{className:"h-4 w-4"})," Dashboard"]})]}),e==="registro"&&l.jsx("div",{className:Dw,children:l.jsxs("form",{onSubmit:L,className:"p-6 md:p-8 space-y-6",children:[c&&l.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-rose-200 bg-rose-50 p-3 text-rose-700 dark:bg-rose-900/30 dark:text-rose-200 dark:border-rose-800",children:[l.jsx(Af,{className:"h-5 w-5"}),l.jsx("span",{children:c})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:Wc,children:"Fecha de Registro"}),l.jsxs("div",{className:"relative",children:[l.jsx(hd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-fuchsia-500"}),l.jsx("input",{type:"date",name:"fechaRegistro",value:a.fechaRegistro,onChange:j,className:Bo+" pl-10"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:Wc,children:"Responsable"}),l.jsxs("div",{className:"relative",children:[l.jsx(bC,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-rose-500"}),l.jsx("input",{type:"text",name:"responsable",placeholder:"Nombre",value:a.responsable,onChange:j,className:Bo+" pl-10"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:Wc,children:"Cobertura (niveles/cursos)"}),l.jsxs("div",{className:"relative",children:[l.jsx(mb,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-amber-500"}),l.jsx("input",{type:"text",name:"cobertura",placeholder:"2°A, 2°B, 3°Mecánica...",value:a.cobertura??"",onChange:j,className:Bo+" pl-10"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:Wc,children:"Dimensión PME"}),l.jsxs("div",{className:"relative",children:[l.jsx(Z_e,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-indigo-500"}),l.jsxs("select",{name:"dimension",value:a.dimension,onChange:j,className:Bo+" pl-10",children:[l.jsx("option",{value:"",children:"Selecciona una dimensión"}),Object.keys(Ph).map(ee=>l.jsx("option",{value:ee,children:ee},ee))]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:Wc,children:"Subdimensión"}),l.jsxs("div",{className:"relative",children:[l.jsx(q8,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-sky-500"}),l.jsxs("select",{name:"subdimension",value:a.subdimension,onChange:j,className:Bo+" pl-10",disabled:!a.dimension,children:[l.jsx("option",{value:"",children:a.dimension?"Selecciona una subdimensión":"Primero elige una dimensión"}),k.map(ee=>l.jsx("option",{value:ee,children:ee},ee))]})]})]}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:Wc,children:"Descripción de la Acción"}),l.jsxs("div",{className:"relative",children:[l.jsx(hf,{className:"absolute left-3 top-3 h-4 w-4 text-fuchsia-500"}),l.jsx("textarea",{name:"descripcion",value:a.descripcion,onChange:j,rows:3,placeholder:"¿Qué se hará? ¿Dónde y con quién?",className:Bo+" pl-10"})]})]}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:Wc,children:"Objetivos (opcional)"}),l.jsx("textarea",{name:"objetivos",value:a.objetivos??"",onChange:j,rows:2,placeholder:"Propósitos pedagógicos",className:Bo})]}),l.jsxs("div",{children:[l.jsx("label",{className:Wc,children:"Indicadores (separados por coma)"}),l.jsx("input",{type:"text",value:(a.indicadores??[]).join(", "),onChange:ee=>C(ee.target.value),placeholder:"Cobertura OA, asistencia, resultados...",className:Bo})]}),l.jsxs("div",{children:[l.jsx("label",{className:Wc,children:"Fecha de Inicio"}),l.jsxs("div",{className:"relative",children:[l.jsx(hd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-violet-500"}),l.jsx("input",{type:"date",name:"fechaInicio",value:a.fechaInicio??"",onChange:j,className:Bo+" pl-10"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:Wc,children:"Fecha de Cumplimiento"}),l.jsxs("div",{className:"relative",children:[l.jsx(hd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-emerald-500"}),l.jsx("input",{type:"date",name:"fechaCumplimiento",value:a.fechaCumplimiento,onChange:j,className:Bo+" pl-10"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:Wc,children:"Estado"}),l.jsx("select",{name:"estado",value:a.estado,onChange:j,className:Bo,children:vz.map(ee=>l.jsx("option",{value:ee,children:ee},ee))})]}),l.jsxs("div",{children:[l.jsx("label",{className:Wc,children:"Avance (%)"}),l.jsxs("div",{className:"relative",children:[l.jsx(m4,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-emerald-500"}),l.jsx("input",{type:"number",min:0,max:100,name:"avance",value:a.avance??0,onChange:j,className:Bo+" pl-10"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:Wc,children:"Enlaces de evidencia (separados por coma)"}),l.jsxs("div",{className:"relative",children:[l.jsx(Sz,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-indigo-500"}),l.jsx("input",{type:"text",value:(a.enlaces??[]).join(", "),onChange:ee=>N(ee.target.value),placeholder:"https://..., https://...",className:Bo+" pl-10"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i&&l.jsx("button",{type:"button",onClick:I,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white border border-slate-200 hover:bg-slate-50 dark:bg-slate-800 dark:border-slate-700",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-white bg-gradient-to-r from-fuchsia-600 via-rose-500 to-amber-500 hover:opacity-90",children:[i?l.jsx(o0,{className:"h-4 w-4"}):l.jsx(pd,{className:"h-4 w-4"}),i?"Guardar cambios":"Registrar acción"]})]})]})}),e==="seguimiento"&&l.jsx("div",{className:Dw,children:l.jsxs("div",{className:"p-4 md:p-6 space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[l.jsxs("div",{className:"relative md:col-span-2",children:[l.jsx(GT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-fuchsia-600"}),l.jsx("input",{className:Bo+" pl-10",placeholder:"Buscar por responsable, descripción o subdimensión...",value:h,onChange:ee=>p(ee.target.value)})]}),l.jsxs("select",{value:g,onChange:ee=>{x(ee.target.value),y("")},className:Bo,children:[l.jsx("option",{value:"",children:"Todas las dimensiones"}),Object.keys(Ph).map(ee=>l.jsx("option",{value:ee,children:ee},ee))]}),l.jsxs("select",{value:v,onChange:ee=>y(ee.target.value),className:Bo,children:[l.jsx("option",{value:"",children:"Todas las subdimensiones"}),(Ph[g]??Object.values(Ph).flat()).map(ee=>l.jsx("option",{value:ee,children:ee},ee))]}),l.jsxs("select",{value:w,onChange:ee=>E(ee.target.value),className:Bo,children:[l.jsx("option",{value:"",children:"Todos los estados"}),vz.map(ee=>l.jsx("option",{value:ee,children:ee},ee))]})]}),l.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-100 dark:border-slate-800",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-800",children:[l.jsx("thead",{className:"bg-gradient-to-r from-fuchsia-50 to-rose-50 dark:from-slate-800 dark:to-slate-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider text-fuchsia-700 dark:text-fuchsia-300",children:"Responsable"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider text-rose-700 dark:text-rose-300",children:"Dimensión / Subdimensión"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider text-indigo-700 dark:text-indigo-300",children:"Descripción"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider text-amber-700 dark:text-amber-300",children:"Fechas"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider text-emerald-700 dark:text-emerald-300",children:"Estado"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider text-sky-700 dark:text-sky-300",children:"Avance"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Acciones"})]})}),l.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800 bg-white dark:bg-slate-900/40",children:[P.map(ee=>{var M,H;return l.jsxs("tr",{className:"hover:bg-fuchsia-50/50 dark:hover:bg-slate-800/60 transition",children:[l.jsx("td",{className:"px-4 py-4 align-top text-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-fuchsia-500 to-rose-500 text-white flex items-center justify-center font-bold shadow-sm",children:((H=(M=ee.responsable)==null?void 0:M.slice(0,1))==null?void 0:H.toUpperCase())||"?"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:ee.responsable}),l.jsx("div",{className:"text-xs text-slate-500",children:ee.cobertura})]})]})}),l.jsxs("td",{className:"px-4 py-4 align-top text-sm",children:[l.jsx("div",{className:"font-semibold text-indigo-700 dark:text-indigo-300",children:ee.dimension}),l.jsx("div",{className:"text-xs text-slate-500",children:ee.subdimension})]}),l.jsxs("td",{className:"px-4 py-4 align-top text-sm max-w-md",children:[l.jsx("div",{className:"text-slate-700 dark:text-slate-200",children:ee.descripcion}),ee.enlaces&&ee.enlaces.length>0&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ee.enlaces.map((W,Z)=>l.jsxs("a",{href:W,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-fuchsia-700 hover:text-fuchsia-900 dark:text-fuchsia-300",children:[l.jsx(Sz,{className:"h-3.5 w-3.5"})," Evidencia ",Z+1]},Z))})]}),l.jsxs("td",{className:"px-4 py-4 align-top text-sm whitespace-nowrap",children:[l.jsxs("div",{className:"text-xs text-slate-500",children:["Reg: ",ee.fechaRegistro||"-"]}),l.jsxs("div",{className:"text-xs text-slate-500",children:["Ini: ",ee.fechaInicio||"-"]}),l.jsxs("div",{className:"text-xs font-semibold text-emerald-700 dark:text-emerald-300",children:["Fin: ",ee.fechaCumplimiento]})]}),l.jsx("td",{className:"px-4 py-4 align-top text-center",children:KGe(ee.estado)}),l.jsxs("td",{className:"px-4 py-4 align-top",children:[l.jsx("div",{className:"w-28 h-2.5 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-fuchsia-500 via-rose-500 to-amber-500",style:{width:`${Math.min(Math.max(ee.avance??0,0),100)}%`}})}),l.jsxs("div",{className:"text-xs text-center mt-1",children:[ee.avance??0,"%"]})]}),l.jsx("td",{className:"px-4 py-4 align-top text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[l.jsx("button",{onClick:()=>O(ee),className:"p-2 rounded-lg hover:bg-amber-50 dark:hover:bg-slate-800",title:"Editar",children:l.jsx(X8,{className:"h-5 w-5 text-amber-600"})}),l.jsx("button",{onClick:()=>T(ee.id),className:"p-2 rounded-lg hover:bg-rose-50 dark:hover:bg-slate-800",title:"Eliminar",children:l.jsx($o,{className:"h-5 w-5 text-rose-600"})})]})})]},ee.id)}),P.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-500",children:"Sin registros"})})]})]})})]})}),e==="dashboard"&&l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"xl:col-span-3 grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx("div",{className:`${Z_} ${$Ge}`,children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(af,{className:"h-10 w-10 opacity-90"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase/relaxed",children:"Acciones totales"}),l.jsx("div",{className:"text-2xl font-black",children:r.length})]})]})}),l.jsx("div",{className:`${Z_} ${VGe}`,children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(mo,{className:"h-10 w-10 opacity-90"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase/relaxed",children:"Cumplidas"}),l.jsx("div",{className:"text-2xl font-black",children:((z=q.find(ee=>ee.name==="Cumplida"))==null?void 0:z.value)??0})]})]})}),l.jsx("div",{className:`${Z_} ${zGe}`,children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(vse,{className:"h-10 w-10 opacity-90"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase/relaxed",children:"En proceso"}),l.jsx("div",{className:"text-2xl font-black",children:((Y=q.find(ee=>ee.name==="En Proceso"))==null?void 0:Y.value)??0})]})]})}),l.jsx("div",{className:`${Z_} ${GGe}`,children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(m4,{className:"h-10 w-10 opacity-90"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase/relaxed",children:"Avance promedio"}),l.jsxs("div",{className:"text-2xl font-black",children:[Q,"%"]})]})]})})]}),l.jsxs("div",{className:Dw+" p-5",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Acciones por dimensión"})}),l.jsx("div",{className:"h-64",children:l.jsx($h,{width:"100%",height:"100%",children:l.jsxs(LC,{data:R,children:[l.jsx(RC,{strokeDasharray:"3 3"}),l.jsx(Ex,{dataKey:"name",hide:!0}),l.jsx(Sx,{allowDecimals:!1}),l.jsx(Hh,{}),l.jsx(Ib,{dataKey:"value",children:R.map((ee,M)=>l.jsx(bm,{fill:xp[M%xp.length]},M))})]})})}),l.jsx("div",{className:"mt-2 grid grid-cols-1 gap-1",children:R.map((ee,M)=>l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"inline-block h-3 w-3 rounded-sm",style:{background:xp[M%xp.length]}}),l.jsx("span",{className:"flex-1",children:ee.name}),l.jsx("span",{className:"font-semibold",children:ee.value})]},M))})]}),l.jsxs("div",{className:Dw+" p-5",children:[l.jsx("h3",{className:"font-semibold mb-4 text-slate-800 dark:text-slate-100",children:"Distribución por estado"}),l.jsx("div",{className:"h-64",children:l.jsx($h,{width:"100%",height:"100%",children:l.jsxs(I7,{children:[l.jsx(JB,{data:q,dataKey:"value",nameKey:"name",outerRadius:90,label:!0,children:q.map((ee,M)=>l.jsx(bm,{fill:xp[M%xp.length]},M))}),l.jsx(fy,{}),l.jsx(Hh,{})]})})})]}),l.jsxs("div",{className:Dw+" p-5",children:[l.jsx("h3",{className:"font-semibold mb-4 text-slate-800 dark:text-slate-100",children:"Subdimensiones más trabajadas"}),l.jsxs("ul",{className:"space-y-2",children:[G.map((ee,M)=>l.jsxs("li",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:xp[M%xp.length]}}),ee.name]}),l.jsx("span",{className:"font-semibold",children:ee.value})]},M)),G.length===0&&l.jsx("li",{className:"text-slate-500",children:"Sin datos"})]})]})]})]})};var tY;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(tY||(tY={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rY;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(rY||(rY={}));var nY;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(nY||(nY={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY=["user","model","function","system"];var sY;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(sY||(sY={}));var iY;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(iY||(iY={}));var oY;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(oY||(oY={}));var lY;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(lY||(lY={}));var V2;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(V2||(V2={}));var cY;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(cY||(cY={}));var uY;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(uY||(uY={}));var dY;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(dY||(dY={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Uv extends vl{constructor(t,r){super(t),this.response=r}}class dde extends vl{constructor(t,r,n,a){super(t),this.status=r,this.statusText=n,this.errorDetails=a}}class tm extends vl{}class fde extends vl{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WGe="https://generativelanguage.googleapis.com",XGe="v1beta",YGe="0.24.1",JGe="genai-js";var _x;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(_x||(_x={}));class ZGe{constructor(t,r,n,a,s){this.model=t,this.task=r,this.apiKey=n,this.stream=a,this.requestOptions=s}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||XGe;let s=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||WGe}/${n}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function eKe(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${JGe}/${YGe}`),t.join(" ")}async function tKe(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",eKe(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(a){throw new tm(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${a.message}`)}for(const[a,s]of n.entries()){if(a==="x-goog-api-key")throw new tm(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new tm(`Header name ${a} can only be set using the apiClient field`);r.append(a,s)}}return r}async function rKe(e,t,r,n,a,s){const i=new ZGe(e,t,r,n,s);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},iKe(s)),{method:"POST",headers:await tKe(i),body:a})}}async function tS(e,t,r,n,a,s={},i=fetch){const{url:o,fetchOptions:c}=await rKe(e,t,r,n,a,s);return nKe(o,c,i)}async function nKe(e,t,r=fetch){let n;try{n=await r(e,t)}catch(a){aKe(a,e)}return n.ok||await sKe(n,e),n}function aKe(e,t){let r=e;throw r.name==="AbortError"?(r=new fde(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof dde||e instanceof tm||(r=new vl(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function sKe(e,t){let r="",n;try{const a=await e.json();r=a.error.message,a.error.details&&(r+=` ${JSON.stringify(a.error.details)}`,n=a.error.details)}catch{}throw new dde(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function iKe(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),mN(e.candidates[0]))throw new Uv(`${Np(e)}`,e);return oKe(e)}else if(e.promptFeedback)throw new Uv(`Text not available. ${Np(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mN(e.candidates[0]))throw new Uv(`${Np(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),fY(e)[0]}else if(e.promptFeedback)throw new Uv(`Function call not available. ${Np(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mN(e.candidates[0]))throw new Uv(`${Np(e)}`,e);return fY(e)}else if(e.promptFeedback)throw new Uv(`Function call not available. ${Np(e)}`,e)},e}function oKe(e){var t,r,n,a;const s=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.text&&s.push(i.text),i.executableCode&&s.push("\n```"+i.executableCode.language+`
`+i.executableCode.code+"\n```\n"),i.codeExecutionResult&&s.push("\n```\n"+i.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function fY(e){var t,r,n,a;const s=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.functionCall&&s.push(i.functionCall);if(s.length>0)return s}const lKe=[V2.RECITATION,V2.SAFETY,V2.LANGUAGE];function mN(e){return!!e.finishReason&&lKe.includes(e.finishReason)}function Np(e){var t,r,n;let a="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)a+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const s=e.candidates[0];mN(s)&&(a+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(a+=`: ${s.finishMessage}`))}return a}function MC(e){return this instanceof MC?(this.v=e,this):new MC(e)}function cKe(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(h){n[h]&&(a[h]=function(p){return new Promise(function(g,x){s.push([h,p,g,x])>1||o(h,p)})})}function o(h,p){try{c(n[h](p))}catch(g){f(s[0][3],g)}}function c(h){h.value instanceof MC?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){o("next",h)}function d(h){o("throw",h)}function f(h,p){h(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function uKe(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=AKe(t),[n,a]=r.tee();return{stream:fKe(n),response:dKe(a)}}async function dKe(e){const t=[],r=e.getReader();for(;;){const{done:n,value:a}=await r.read();if(n)return F7(hKe(t));t.push(a)}}function fKe(e){return cKe(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:a}=yield MC(r.read());if(a)break;yield yield MC(F7(n))}})}function AKe(e){const t=e.getReader();return new ReadableStream({start(n){let a="";return s();function s(){return t.read().then(({value:i,done:o})=>{if(o){if(a.trim()){n.error(new vl("Failed to parse stream"));return}n.close();return}a+=i;let c=a.match(AY),u;for(;c;){try{u=JSON.parse(c[1])}catch{n.error(new vl(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(u),a=a.substring(c[0].length),c=a.match(AY)}return s()}).catch(i=>{let o=i;throw o.stack=i.stack,o.name==="AbortError"?o=new fde("Request aborted when reading from the stream"):o=new vl("Error reading from the stream"),o})}}})}function hKe(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let a=0;for(const s of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[a]||(r.candidates[a]={index:a}),r.candidates[a].citationMetadata=s.citationMetadata,r.candidates[a].groundingMetadata=s.groundingMetadata,r.candidates[a].finishReason=s.finishReason,r.candidates[a].finishMessage=s.finishMessage,r.candidates[a].safetyRatings=s.safetyRatings,s.content&&s.content.parts){r.candidates[a].content||(r.candidates[a].content={role:s.content.role||"user",parts:[]});const i={};for(const o of s.content.parts)o.text&&(i.text=o.text),o.functionCall&&(i.functionCall=o.functionCall),o.executableCode&&(i.executableCode=o.executableCode),o.codeExecutionResult&&(i.codeExecutionResult=o.codeExecutionResult),Object.keys(i).length===0&&(i.text=""),r.candidates[a].content.parts.push(i)}a++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ade(e,t,r,n){const a=await tS(t,_x.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return uKe(a)}async function hde(e,t,r,n){const s=await(await tS(t,_x.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:F7(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pde(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function UC(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return pKe(t)}function pKe(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,a=!1;for(const s of e)"functionResponse"in s?(r.parts.push(s),a=!0):(t.parts.push(s),n=!0);if(n&&a)throw new vl("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!a)throw new vl("No content is provided for sending chat message.");return n?t:r}function mKe(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const a=e.generateContentRequest!=null;if(e.contents){if(a)throw new tm("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(a)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const s=UC(e);n.contents=[s]}return{generateContentRequest:n}}function hY(e){let t;return e.contents?t=e:t={contents:[UC(e)]},e.systemInstruction&&(t.systemInstruction=pde(e.systemInstruction)),t}function gKe(e){return typeof e=="string"||Array.isArray(e)?{content:UC(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],xKe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function vKe(e){let t=!1;for(const r of e){const{role:n,parts:a}=r;if(!t&&n!=="user")throw new vl(`First content should be with role 'user', got ${n}`);if(!aY.includes(n))throw new vl(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(aY)}`);if(!Array.isArray(a))throw new vl("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new vl("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of a)for(const c of pY)c in o&&(s[c]+=1);const i=xKe[n];for(const o of pY)if(!i.includes(o)&&s[o]>0)throw new vl(`Content with role '${n}' can't contain '${o}' part`);t=!0}}function mY(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="SILENT_ERROR";class bKe{constructor(t,r,n,a={}){this.model=r,this.params=n,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(vKe(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,a,s,i,o,c;await this._sendPromise;const u=UC(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),r);let h;return this._sendPromise=this._sendPromise.then(()=>hde(this._apiKey,this.model,d,f)).then(p=>{var g;if(mY(p.response)){this._history.push(u);const x=Object.assign({parts:[],role:"model"},(g=p.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(x)}else{const x=Np(p.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}h=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,h}async sendMessageStream(t,r={}){var n,a,s,i,o,c;await this._sendPromise;const u=UC(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),r),h=Ade(this._apiKey,this.model,d,f);return this._sendPromise=this._sendPromise.then(()=>h).catch(p=>{throw new Error(gY)}).then(p=>p.response).then(p=>{if(mY(p)){this._history.push(u);const g=Object.assign({},p.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=Np(p);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(p=>{p.message!==gY&&console.error(p)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yKe(e,t,r,n){return(await tS(t,_x.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wKe(e,t,r,n){return(await tS(t,_x.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function CKe(e,t,r,n){const a=r.requests.map(i=>Object.assign(Object.assign({},i),{model:t}));return(await tS(t,_x.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=pde(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const a=hY(t),s=Object.assign(Object.assign({},this._requestOptions),r);return hde(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),s)}async generateContentStream(t,r={}){var n;const a=hY(t),s=Object.assign(Object.assign({},this._requestOptions),r);return Ade(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),s)}startChat(t){var r;return new bKe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=mKe(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),r);return yKe(this.apiKey,this.model,n,a)}async embedContent(t,r={}){const n=gKe(t),a=Object.assign(Object.assign({},this._requestOptions),r);return wKe(this.apiKey,this.model,n,a)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return CKe(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new vl("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new xY(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new tm("Cached content must contain a `name` field.");if(!t.model)throw new tm("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const i of a)if(r!=null&&r[i]&&t[i]&&(r==null?void 0:r[i])!==t[i]){if(i==="model"){const o=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===c)continue}throw new tm(`Different value for "${i}" specified in modelParams (${r[i]}) and cachedContent (${t[i]})`)}const s=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new xY(this.apiKey,s,n)}}const ZB="planificaciones",mde="actividades_calendario",gde=e=>{var r,n,a;const t=e.data();return{id:e.id,...t,fechaCreacion:((a=(n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r))==null?void 0:a.toISOString())||t.fechaCreacion}},EKe=async(e,t)=>{try{const r={...e,userId:t,fechaCreacion:lr.fromDate(new Date),fechaActualizacion:lr.fromDate(new Date)};return(await Bn(wt(mt,ZB),r)).id}catch(r){throw console.error("Error al guardar planificación:",r),new Error("No se pudo guardar la planificación")}},SKe=async(e,t,r)=>{try{const n=dr(mt,ZB,e),a=await Ux(n);if(!a.exists()||a.data().userId!==r)throw new Error("No tienes permisos para actualizar esta planificación");await bu(n,{...t,fechaActualizacion:lr.fromDate(new Date)})}catch(n){throw console.error("Error al actualizar planificación:",n),new Error("No se pudo actualizar la planificación")}},_Ke=async(e,t)=>{try{const r=dr(mt,ZB,e),n=await Ux(r);if(!n.exists()||n.data().userId!==t)throw new Error("No tienes permisos para eliminar esta planificación");await hs(r)}catch(r){throw console.error("Error al eliminar planificación:",r),new Error("No se pudo eliminar la planificación")}},NKe=(e,t)=>{const r=zt(wt(mt,ZB),Gr("userId","==",e),wr("fechaCreacion","desc"));return br(r,n=>{const a=n.docs.map(gde);t(a)},n=>{console.error("Error en suscripción a planificaciones:",n)})},kKe=async(e,t)=>{try{const r={...e,userId:t,fechaCreacion:lr.fromDate(new Date),fechaActualizacion:lr.fromDate(new Date)};return(await Bn(wt(mt,mde),r)).id}catch(r){throw console.error("Error al guardar actividad:",r),new Error("No se pudo guardar la actividad")}},TKe=(e,t)=>{const r=zt(wt(mt,mde),Gr("userId","==",e),wr("fecha","desc"));return br(r,n=>{const a=n.docs.map(gde);t(a)},n=>{console.error("Error en suscripción a actividades:",n)})},BKe=e=>{const[t,r]=S.useState([]),[n,a]=S.useState(!0),[s,i]=S.useState(null);return S.useEffect(()=>e?(a(!0),NKe(e,f=>{r(f),a(!1)})):void 0,[e]),{planificaciones:t,loading:n,error:s,save:async d=>{try{return i(null),await EKe(d,e)}catch(f){throw i(f.message||"Error al guardar planificación"),f}},update:async(d,f)=>{try{i(null),await SKe(d,f,e)}catch(h){throw i(h.message||"Error al actualizar planificación"),h}},remove:async d=>{try{i(null),await _Ke(d,e)}catch(f){throw i(f.message||"Error al eliminar planificación"),f}}}},aR=e=>{const t=new Date().toISOString();console.log(`[${t}] API Call: ${e}`)},jKe=e=>{const[t,r]=S.useState([]),[n,a]=S.useState(!0),[s,i]=S.useState(null);S.useEffect(()=>e?TKe(e,u=>{r(u),a(!1)}):void 0,[e]);const o=S.useCallback(async c=>{try{return i(null),await kKe(c,e)}catch(u){throw i(u instanceof Error?u.message:"Error al guardar actividad"),u}},[e]);return{actividades:t,loading:n,error:s,save:o}},IKe=({lesson:e,onClose:t,onSave:r,isLoading:n=!1})=>{const[a,s]=S.useState(e),i=c=>{s({...a,[c.target.name]:c.target.value})},o=async()=>{try{await r(a),t()}catch(c){console.error("Error al guardar lección:",c)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:c=>c.stopPropagation(),children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 p-6 border-b dark:border-slate-700",children:"Editar Detalle de Lección"}),l.jsx("div",{className:"p-6 space-y-4 overflow-y-auto",children:Object.entries(a).map(([c,u])=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 capitalize mb-1",children:c.replace(/([A-Z])/g," $1")}),l.jsx("textarea",{name:c,value:u,onChange:i,rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",disabled:n})]},c))}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[l.jsx("button",{onClick:t,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 disabled:opacity-50",disabled:n,children:"Cancelar"}),l.jsxs("button",{onClick:o,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 disabled:opacity-50 flex items-center gap-2",disabled:n,children:[n&&l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardar Cambios"]})]})]})})},FKe=({plan:e,onEditLesson:t,onUseLesson:r,isLoading:n=!1,onUpdatePlan:a})=>{const[s,i]=S.useState(e.progreso??0),[o,c]=S.useState(!1),u=async d=>{const f=parseInt(d.target.value,10);i(f),c(!0);try{e.id&&a&&(await a(e.id,{progreso:f}),console.log("✅ Progreso actualizado exitosamente"))}catch(h){console.error("❌ Error completo:",h),alert(`Error al guardar el avance: ${h.message}`),i(e.progreso??0)}finally{c(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",e.objetivosAprendizaje]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Indicadores de Evaluación:"})," ",e.indicadoresEvaluacion]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Avance de la Unidad"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"range",min:0,max:100,value:s,onChange:u,disabled:o||n}),l.jsxs("span",{className:"font-bold w-12",children:[s,"%"]}),o&&l.jsx("span",{className:"text-xs text-slate-400",children:"Guardando..."})]})]})]}),l.jsx("div",{className:"space-y-4",children:e.detallesLeccion.map((d,f)=>l.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[l.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:["Clase ",f+1,": ",d.actividades]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 mt-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Objetivo:"})," ",d.objetivosAprendizaje]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Contenidos:"})," ",d.contenidosConceptuales]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Habilidad (Bloom):"})," ",d.habilidadesBloom]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Perfil de Egreso:"})," ",d.perfilEgreso]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Interdisciplinariedad:"})," ",d.asignaturasInterdisciplinariedad]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsx("button",{onClick:()=>t(f,d),className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md hover:bg-slate-300 disabled:opacity-50",disabled:n,children:"Editar"}),l.jsx("button",{onClick:()=>r(d,e),className:"text-sm font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 py-1 px-3 rounded-md hover:bg-blue-200 disabled:opacity-50",disabled:n,children:"Usar para Plan de Clase"})]})]},f))})]})},OKe=({plan:e,onBack:t,onSave:r,onDelete:n,isLoading:a=!1})=>{const[s,i]=S.useState(e),[o,c]=S.useState(!1),u=f=>{const{name:h,value:p}=f.target,[g,x]=h.split(".");i(g==="momentosClase"?v=>({...v,momentosClase:{...v.momentosClase,[x]:p}}):v=>({...v,[h]:p}))},d=async()=>{c(!0);try{await r(s)}catch(f){console.error("Error al guardar plan de clase:",f)}finally{c(!1)}};return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:e.nombreClase}),l.jsx("button",{onClick:t,className:"text-slate-600 hover:text-slate-900 font-semibold disabled:opacity-50",disabled:a||o,children:"← Volver"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Inicio"}),l.jsx("textarea",{name:"momentosClase.inicio",value:s.momentosClase.inicio,onChange:u,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700",disabled:a||o})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Desarrollo"}),l.jsx("textarea",{name:"momentosClase.desarrollo",value:s.momentosClase.desarrollo,onChange:u,rows:8,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700",disabled:a||o})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-bold text-lg text-slate-700 dark:text-slate-300",children:"Cierre"}),l.jsx("textarea",{name:"momentosClase.cierre",value:s.momentosClase.cierre,onChange:u,rows:4,className:"w-full mt-2 p-2 border rounded-md bg-slate-50 dark:bg-slate-700",disabled:a||o})]})]}),l.jsx("div",{className:"text-right mt-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("button",{onClick:()=>n(e.id),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",disabled:a||o,children:"🗑️ Eliminar Plan"}),l.jsxs("button",{onClick:d,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:opacity-50 flex items-center gap-2",disabled:a||o,children:[o&&l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardar Cambios"]})]})})]})},DKe=({userId:e})=>{const{actividades:t,save:r}=jKe(e),[n,a]=S.useState("list"),[s,i]=S.useState(null),[o,c]=S.useState(!1),[u,d]=S.useState(!1),f={nombre:"",fecha:"",hora:"",descripcion:"",ubicacion:"",participantes:"",recursosGenerales:"",tareas:[{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]},[h,p]=S.useState(f);S.useEffect(()=>{n==="summary"&&s&&g()},[n,s,e]);const g=async()=>{if(s)try{d(!1)}catch(j){console.error("Error al verificar evento en calendario:",j)}},x=j=>{const{name:C,value:N}=j.target;p(I=>({...I,[C]:N}))},v=(j,C,N)=>{p(I=>({...I,tareas:I.tareas.map(L=>L.id===j?{...L,[C]:N}:L)}))},y=()=>{p(j=>({...j,tareas:[...j.tareas,{id:crypto.randomUUID(),descripcion:"",responsable:"",recursos:""}]}))},w=j=>{p(C=>({...C,tareas:C.tareas.filter(N=>N.id!==j)}))},E=async j=>{j.preventDefault(),c(!0);const C=`Basado en la siguiente información de una actividad, genera un objetivo claro y conciso para esta.
    - Nombre: ${h.nombre}
    - Descripción: ${h.descripcion}
    - Tareas: ${h.tareas.map(N=>N.descripcion).join(", ")}
    El objetivo debe ser breve, empezar con un verbo en infinitivo y enfocarse en el propósito principal de la actividad.`;try{aR("Planificación - Actividad Calendario");const N="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",P=(await(await new zs(N).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(C)).response).text(),R={...h,objetivo:P.replace(/(\*\*|\*)/g,"")},q=await r(R),Q={...R,id:q};i(Q),a("summary")}catch(N){console.error("Error al generar objetivo con IA:",N),alert("Hubo un error al generar el objetivo. La actividad se guardará sin él.");try{const I={...h,objetivo:"No generado"},L=await r(I),O={...I,id:L};i(O),a("summary")}catch(I){console.error("Error al guardar actividad:",I),alert("Error al guardar la actividad. Por favor, intente nuevamente.")}}finally{c(!1)}},k=async j=>{if(j)try{d(!0),alert("Actividad marcada como añadida al calendario (funcionalidad en desarrollo).")}catch(C){console.error("Error adding to calendar:",C),alert("Hubo un error al agregar la actividad al calendario.")}},B=`
  w-full px-4 py-2.5 rounded-lg border border-slate-200 
  bg-white dark:bg-slate-800 
  text-slate-900 dark:text-slate-100 
  placeholder:text-slate-400 dark:placeholder:text-slate-500
  focus:border-indigo-500 dark:focus:border-indigo-600 
  focus:ring-2 focus:ring-indigo-500/20 dark:focus:ring-indigo-600/20
  focus:outline-none
  transition-colors
  disabled:opacity-50 disabled:cursor-not-allowed
`;return n==="form"?l.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:l.jsxs("form",{onSubmit:E,className:"space-y-8",children:[l.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"Información General"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{name:"nombre",value:h.nombre,onChange:x,placeholder:"Nombre de la Actividad",className:B,required:!0,disabled:o}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{name:"fecha",type:"date",value:h.fecha,onChange:x,className:B,required:!0,disabled:o}),l.jsx("input",{name:"hora",type:"time",value:h.hora,onChange:x,className:B,required:!0,disabled:o})]}),l.jsx("textarea",{name:"descripcion",value:h.descripcion,onChange:x,placeholder:"Descripción (objetivos, contenidos, metodología)",rows:4,className:B,required:!0,disabled:o}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{name:"ubicacion",value:h.ubicacion,onChange:x,placeholder:"Ubicación",className:B,required:!0,disabled:o}),l.jsx("input",{name:"participantes",value:h.participantes,onChange:x,placeholder:"Participantes",className:B,required:!0,disabled:o})]}),l.jsx("textarea",{name:"recursosGenerales",value:h.recursosGenerales,onChange:x,placeholder:"Recursos Generales Necesarios",rows:2,className:B,disabled:o})]})]}),l.jsxs("div",{className:"p-4 border rounded-lg dark:border-slate-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold",children:"Tareas Asociadas"}),l.jsx("button",{type:"button",onClick:y,className:"bg-slate-200 dark:bg-slate-600 text-sm font-semibold px-3 py-1 rounded-md disabled:opacity-50",disabled:o,children:"+ Agregar Tarea"})]}),l.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:h.tareas.map((j,C)=>l.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md relative",children:[l.jsx("button",{type:"button",onClick:()=>w(j.id),className:"absolute top-1 right-1 text-red-500 text-lg disabled:opacity-50",disabled:o,children:"×"}),l.jsx("textarea",{value:j.descripcion,onChange:N=>v(j.id,"descripcion",N.target.value),placeholder:`Descripción de la Tarea ${C+1}`,rows:2,className:B,required:!0,disabled:o}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[l.jsx("input",{value:j.responsable,onChange:N=>v(j.id,"responsable",N.target.value),placeholder:"Responsable",className:B,required:!0,disabled:o}),l.jsx("input",{value:j.recursos,onChange:N=>v(j.id,"recursos",N.target.value),placeholder:"Recursos Necesarios",className:B,disabled:o})]})]},j.id))})]}),l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-center",children:[l.jsx("h3",{className:"font-bold",children:"Objetivo de la Actividad"}),l.jsx("p",{className:"text-sm",children:"Este objetivo se generará automáticamente a partir de la descripción y las tareas ingresadas. Una vez guardada la actividad, podrá revisar y ajustar el objetivo propuesto por el sistema."})]}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{type:"button",onClick:()=>a("list"),className:"bg-slate-200 dark:bg-slate-600 font-semibold px-6 py-2 rounded-lg disabled:opacity-50",disabled:o,children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white font-bold px-6 py-2 rounded-lg flex items-center min-w-[150px] justify-center disabled:opacity-50",children:o?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Guardar Actividad"})]})]})}):n==="summary"&&s?l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[l.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg flex items-center gap-4",children:[l.jsx("span",{className:"text-2xl",children:"✓"}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-bold text-lg",children:"¡Actividad Planificada con Éxito!"}),l.jsx("p",{className:"text-sm",children:"La actividad ha sido creada. Revisa los detalles a continuación."})]})]}),l.jsxs("div",{className:"border rounded-lg p-6 dark:border-slate-700",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Resumen de la Actividad"}),l.jsxs("div",{className:"space-y-4 text-sm",children:[l.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[l.jsx("strong",{className:"text-slate-500",children:"Nombre:"}),l.jsx("span",{children:s.nombre})]}),l.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[l.jsx("strong",{className:"text-slate-500",children:"Fecha y Hora:"}),l.jsx("span",{children:new Date(`${s.fecha}T${s.hora}`).toLocaleString("es-CL")})]}),l.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[l.jsx("p",{className:"font-bold text-slate-500",children:"Descripción:"}),l.jsx("p",{children:s.descripcion})]}),l.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[l.jsx("strong",{className:"text-slate-500",children:"Ubicación:"}),l.jsx("span",{children:s.ubicacion})]}),l.jsxs("div",{className:"flex justify-between border-b pb-2 dark:border-slate-600",children:[l.jsx("strong",{className:"text-slate-500",children:"Participantes:"}),l.jsx("span",{children:s.participantes})]}),l.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[l.jsx("p",{className:"font-bold text-slate-500",children:"Recursos Necesarios:"}),l.jsx("p",{children:s.recursosGenerales})]}),l.jsxs("div",{className:"border-b pb-2 dark:border-slate-600",children:[l.jsx("p",{className:"font-bold text-slate-500",children:"Objetivo (Generado por IA):"}),l.jsx("p",{children:s.objetivo})]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[l.jsx("p",{className:"text-sm",children:"¿Quieres agregar esta actividad a tu calendario para recibir recordatorios?"}),l.jsx("button",{onClick:()=>k(s),disabled:u,className:`font-bold px-4 py-2 rounded-lg transition-colors ${u?"bg-green-600 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,children:u?"✓ Añadido al Calendario":"Añadir al Calendario"})]})]}),l.jsx("button",{onClick:()=>{a("list"),i(null)},className:"w-full text-center font-semibold text-blue-600 hover:underline",children:"Volver al panel de actividades"})]}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Actividades del Calendario"}),l.jsx("button",{onClick:()=>{a("form"),p(f)},className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Planificar Actividad"})]}),l.jsx("div",{className:"space-y-3",children:t.length>0?t.map(j=>l.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700",children:[l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:j.nombre}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[new Date(j.fecha+"T12:00:00").toLocaleDateString("es-CL")," - ",j.ubicacion]})]},j.id)):l.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"No hay actividades planificadas."})})]})},PKe=({currentUser:e})=>{const t=e.uid||e.email||e.id||"",{planificaciones:r,save:n,update:a,remove:s,loading:i}=BKe(t),o={asignatura:"",nivel:"",nombreUnidad:"",contenidos:"",cantidadClases:8,observaciones:"",ideasParaUnidad:""},[c,u]=S.useState(o),[d,f]=S.useState(null),[h,p]=S.useState(!1),[g,x]=S.useState(null),[v,y]=S.useState("unidad"),[w,E]=S.useState(null),[k,B]=S.useState(null),j=S.useMemo(()=>e.asignaturas||[],[e.asignaturas]),C=S.useMemo(()=>{const Y=e.cursos||[],ee=new Set;return Y.forEach(M=>{M.startsWith("1º")?ee.add("1º Medio"):M.startsWith("2º")?ee.add("2º Medio"):M.startsWith("3º")?ee.add("3º Medio"):M.startsWith("4º")&&ee.add("4º Medio")}),Array.from(ee)},[e.cursos]);S.useEffect(()=>{u(Y=>({...Y,asignatura:j[0]||"",nivel:C[0]||""})),console.log("🔍 Debug datos usuario y planificaciones:",{currentUser:{uid:e.uid,email:e.email,id:e.id,nombreCompleto:e.nombreCompleto},userId:t,planificacionesCount:r.length,planificacionesAutores:r.map(Y=>({id:Y.id,autor:Y.autor,tipo:Y.tipo,coincideConUserId:Y.autor===t}))})},[j,C,e,t,r]);const N=Y=>{const{name:ee,value:M}=Y.target;u(H=>({...H,[ee]:ee==="cantidadClases"?parseInt(M,10):M}))},I=()=>{const{asignatura:Y,nivel:ee,nombreUnidad:M,contenidos:H,cantidadClases:W,observaciones:Z,ideasParaUnidad:ae}=c;return`Eres un experto diseñador curricular para la educación media técnico profesional en Chile. Tu tarea es generar una planificación de unidad didáctica completa en formato JSON estructurado, basándote en la información proporcionada.

    **Información Base:**
    - Asignatura: ${Y}
    - Nivel: ${ee}
    - Nombre de la Unidad: "${M}"
    - Contenidos clave a trabajar (insumo principal): "${H}"
    - Cantidad de clases para la unidad: ${W}
    - Ideas y perspectiva del docente para la unidad: "${ae||"Ninguna. Sé creativo."}"
    - Observaciones y énfasis del docente: "${Z||"Ninguna"}"

    Debes generar un objeto JSON que se ajuste al esquema proporcionado. El JSON debe contener:
    1.  **objetivosAprendizaje**: Un objetivo de aprendizaje general y conciso para la unidad.
    2.  **indicadoresEvaluacion**: Un indicador de evaluación general y observable para la unidad.
    3.  **detallesLeccion**: Un array con EXACTAMENTE ${W} objetos, donde cada objeto representa una clase o sub-tema de la unidad. Cada objeto en el array debe tener:
        - **objetivosAprendizaje**: Un objetivo de aprendizaje específico para la lección, redactado en infinitivo.
        - **contenidosConceptuales**: Los conceptos clave que se abordarán en la lección.
        - **habilidadesBloom**: La habilidad principal de la Taxonomía de Bloom que se trabajará (ej: Analizar, Crear, Evaluar).
        - **perfilEgreso**: Conecta la lección con una habilidad del perfil de egreso (ej: "Pensamiento crítico", "Colaboración").
        - **actividades**: Sugiere 1 o 2 actividades concretas, indicando el número de clase entre paréntesis (ej: "Debate grupal (Clase 1)").
        - **asignaturasInterdisciplinariedad**: Sugiere una asignatura con la que se podría realizar un trabajo interdisciplinario.

    Asegúrate de que el contenido generado sea coherente, pedagógicamente sólido y esté directamente relacionado con los contenidos clave proporcionados por el docente. El nombre de la unidad debe ser exactamente el proporcionado.`},L=async Y=>{if(Y.preventDefault(),p(!0),x(null),!c.contenidos||!c.nombreUnidad){x("Los campos 'Nombre de Unidad' y 'Contenidos Clave' son obligatorios."),p(!1);return}try{aR("Planificación - Unidad");const ee="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",H=new zs(ee).getGenerativeModel({model:"gemini-1.5-pro"}),W=I(),Z={type:"object",properties:{objetivosAprendizaje:{type:"string"},indicadoresEvaluacion:{type:"string"},detallesLeccion:{type:"array",items:{type:"object",properties:{objetivosAprendizaje:{type:"string"},contenidosConceptuales:{type:"string"},habilidadesBloom:{type:"string"},perfilEgreso:{type:"string"},actividades:{type:"string"},asignaturasInterdisciplinariedad:{type:"string"}},required:["objetivosAprendizaje","contenidosConceptuales","habilidadesBloom","perfilEgreso","actividades","asignaturasInterdisciplinariedad"]}}},required:["objetivosAprendizaje","indicadoresEvaluacion","detallesLeccion"]},se=(await(await H.generateContent({contents:[{parts:[{text:W}]}],generationConfig:{responseMimeType:"application/json",responseSchema:Z}})).response).text(),ce=JSON.parse(se),de={fechaCreacion:new Date().toISOString(),autor:e.nombreCompleto,tipo:"Unidad",asignatura:c.asignatura,nivel:c.nivel,nombreUnidad:c.nombreUnidad,contenidos:c.contenidos,cantidadClases:c.cantidadClases,observaciones:c.observaciones,ideasParaUnidad:c.ideasParaUnidad,objetivosAprendizaje:ce.objetivosAprendizaje,indicadoresEvaluacion:ce.indicadoresEvaluacion,detallesLeccion:ce.detallesLeccion};if(d)await a(d.id,de),f({...de,id:d.id});else{const ke=await n(de);f({...de,id:ke})}}catch(ee){console.error("Error al generar planificación con IA",ee),x("Ocurrió un error al contactar con la IA. Verifique la configuración y reintente.")}finally{p(!1)}},O=async(Y,ee)=>{p(!0),x(null);const M=`A partir de la siguiente información de una clase dentro de una unidad, genera un plan de clase detallado con momentos de inicio, desarrollo y cierre. La clase debe durar 80 minutos.
    
    - Asignatura: ${ee.asignatura}
    - Nivel: ${ee.nivel}
    - Objetivo de la clase: ${Y.objetivosAprendizaje}
    - Contenidos: ${Y.contenidosConceptuales}
    - Actividades sugeridas: ${Y.actividades}
    
    Responde SÓLO con un objeto JSON que contenga las claves "inicio", "desarrollo" y "cierre", con las actividades detalladas para cada momento.`;try{aR("Planificación - Utilizar Clase");const H="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",Z=new zs(H).getGenerativeModel({model:"gemini-1.5-pro"}),ae={type:"object",properties:{inicio:{type:"string"},desarrollo:{type:"string"},cierre:{type:"string"}},required:["inicio","desarrollo","cierre"]},ce=(await(await Z.generateContent({contents:[{parts:[{text:M}]}],generationConfig:{responseMimeType:"application/json",responseSchema:ae}})).response).text(),de=JSON.parse(ce),ke={fechaCreacion:new Date().toISOString(),autor:e.nombreCompleto,tipo:"Clase",asignatura:ee.asignatura,nivel:ee.nivel,contenidos:Y.contenidosConceptuales,observaciones:"",nombreClase:Y.actividades,duracionClase:80,momentosClase:de,detalleLeccionOrigen:Y};await n(ke),alert('¡Plan de clase generado y guardado en la pestaña "Clase"!'),y("clase")}catch(H){console.error("Error al generar plan de clase con IA",H),x("No se pudo generar el plan de clase. Inténtelo de nuevo.")}finally{p(!1)}},T=Y=>{Y.tipo==="Unidad"&&(u({asignatura:Y.asignatura,nivel:Y.nivel,nombreUnidad:Y.nombreUnidad,contenidos:Y.contenidos,cantidadClases:Y.cantidadClases,observaciones:Y.observaciones,ideasParaUnidad:Y.ideasParaUnidad||""}),f(Y),window.scrollTo({top:0,behavior:"smooth"}))},P=async Y=>{if(window.confirm("¿Está seguro de que desea eliminar esta planificación?"))try{await s(Y),(d==null?void 0:d.id)===Y&&(f(null),u(o))}catch(ee){console.error("Error al eliminar planificación:",ee),alert("Error al eliminar la planificación. Por favor, intente nuevamente.")}},R=async Y=>{if(window.confirm("¿Está seguro de que desea eliminar este plan de clase?"))try{await s(Y),(w==null?void 0:w.id)===Y&&E(null),console.log("✅ Plan de clase eliminado exitosamente")}catch(ee){console.error("Error al eliminar plan de clase:",ee),alert("Error al eliminar el plan de clase. Por favor, intente nuevamente.")}},q=(Y,ee)=>{d&&B({planId:d.id,lessonIndex:Y,lessonData:ee})},Q=async Y=>{if(k)try{const{planId:ee,lessonIndex:M}=k,H=r.find(ae=>ae.id===ee&&ae.tipo==="Unidad");if(!H)return;const W=[...H.detallesLeccion];W[M]=Y;const Z={...H,detallesLeccion:W};await a(ee,Z),f(Z),B(null)}catch(ee){console.error("Error al actualizar lección:",ee),alert("Error al actualizar la lección. Por favor, intente nuevamente.")}},G="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",K=()=>l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Generador de Planificaciones de Unidad"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Complete los campos y use la IA para crear una planificación de unidad estructurada."}),i?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):l.jsxs("form",{onSubmit:L,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),l.jsx("select",{name:"asignatura",value:c.asignatura,onChange:N,className:G,disabled:h,children:j.length>0?j.map(Y=>l.jsx("option",{value:Y,children:Y},Y)):l.jsx("option",{disabled:!0,children:"No tiene asignaturas asignadas"})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"nivel",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),l.jsx("select",{name:"nivel",value:c.nivel,onChange:N,className:G,disabled:h,children:C.length>0?C.map(Y=>l.jsx("option",{value:Y,children:Y},Y)):l.jsx("option",{disabled:!0,children:"No tiene cursos/niveles asignados"})})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"nombreUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Nombre de Unidad ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"nombreUnidad",value:c.nombreUnidad,onChange:N,className:G,placeholder:"Ej: La Célula y sus procesos",disabled:h})]}),l.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[l.jsxs("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Contenidos Clave ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"contenidos",value:c.contenidos,onChange:N,rows:3,placeholder:"Ingrese los temas, conceptos clave o unidades que la planificación debe abordar.",className:G,disabled:h})]}),l.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[l.jsx("label",{htmlFor:"ideasParaUnidad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Ideas para la unidad"}),l.jsx("textarea",{name:"ideasParaUnidad",value:c.ideasParaUnidad,onChange:N,rows:3,placeholder:"Plantea tus ideas y perspectiva para que la IA construya una mejor planificación (ej: enfocar en trabajo colaborativo, usar casos prácticos, conectar con la actualidad).",className:G,disabled:h})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"cantidadClases",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cantidad de Clases"}),l.jsx("input",{type:"number",name:"cantidadClases",value:c.cantidadClases,onChange:N,className:G,min:"1",max:"20",disabled:h})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Observaciones (Énfasis)"}),l.jsx("textarea",{name:"observaciones",value:c.observaciones,onChange:N,rows:1,placeholder:"Ej: clase práctica, modelo ABP, juego, reforzamiento...",className:G,disabled:h})]})]}),l.jsx("div",{className:"pt-4 text-right",children:l.jsx("button",{type:"submit",disabled:h||i,className:"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white font-semibold py-3 px-6 rounded-lg hover:from-indigo-700 hover:to-indigo-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[180px] shadow-md hover:shadow-lg transition-all",children:h?l.jsx(wse,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Xg,{className:"w-5 h-5"}),l.jsx("span",{children:d?"Regenerar Plan":"Generar con IA"})]})})}),g&&l.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:g})]})]}),d&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Revisión y Edición"}),l.jsx(FKe,{plan:d,onEditLesson:q,onUseLesson:O,onUpdatePlan:a,isLoading:h})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Planificaciones de Unidad"}),i?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):l.jsx("div",{className:"space-y-4",children:r.filter(Y=>Y.tipo==="Unidad").length>0?r.filter(Y=>Y.tipo==="Unidad").map(Y=>l.jsx("div",{className:`p-5 border rounded-xl transition-all ${(d==null?void 0:d.id)===Y.id?"bg-indigo-50/50 border-indigo-200 dark:bg-indigo-900/20 dark:border-indigo-500/30 shadow-lg shadow-indigo-100/20 dark:shadow-indigo-900/10":"bg-white hover:bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:hover:bg-slate-700/50"}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:Y.nombreUnidad}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(Y.fechaCreacion).toLocaleString("es-CL")]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",Y.contenidos]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>T(Y),className:"inline-flex items-center gap-1 px-3 py-1.5 text-indigo-700 bg-indigo-50 hover:bg-indigo-100 dark:text-indigo-300 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",disabled:h,children:[l.jsx(j_e,{className:"w-4 h-4"}),l.jsx("span",{children:"Editar"})]}),l.jsxs("button",{onClick:()=>P(Y.id),title:"Eliminar",className:"inline-flex items-center gap-1 px-3 py-1.5 text-red-700 bg-red-50 hover:bg-red-100 dark:text-red-300 dark:bg-red-900/30 dark:hover:bg-red-900/50 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",disabled:h,children:[l.jsx($o,{className:"w-4 h-4"}),l.jsx("span",{children:"Eliminar"})]})]})]})},Y.id)):l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No hay planificaciones de unidad guardadas."})})]})]}),z=()=>{const Y=r.filter(ee=>ee.tipo==="Clase").sort((ee,M)=>new Date(M.fechaCreacion).getTime()-new Date(ee.fechaCreacion).getTime());return w?l.jsx(OKe,{plan:w,onBack:()=>E(null),onDelete:R,onSave:async ee=>{try{await a(ee.id,ee),E(ee)}catch(M){console.error("Error al actualizar plan de clase:",M),alert("Error al actualizar el plan de clase. Por favor, intente nuevamente.")}},isLoading:h}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-lg border border-slate-100 dark:border-slate-700/50",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(WSe,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Planes de Clase"})]}),i?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):l.jsx("div",{className:"space-y-4",children:Y.length>0?Y.map(ee=>l.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:ee.nombreClase}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(ee.fechaCreacion).toLocaleString("es-CL")]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-md",children:["Contenidos: ",ee.contenidos]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("button",{onClick:()=>E(ee),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm",children:"Ver Plan de Clase"})})]},ee.id)):l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-6",children:"No hay planes de clase guardados. Puede generarlos desde una unidad en la pestaña 'Unidad'."})})]})};return!e||!e.email&&!e.id?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-2",children:"Error: Usuario no autenticado"}),l.jsxs("p",{className:"text-sm text-slate-400",children:["Datos recibidos: ",JSON.stringify(e)]})]})}):l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx(bse,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"}),l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Planificación Docente"})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-2",children:l.jsxs("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[l.jsxs("button",{onClick:()=>y("unidad"),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium text-sm transition-all ${v==="unidad"?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-slate-600 hover:bg-slate-50 dark:text-slate-400 dark:hover:bg-slate-700/50"}`,children:[l.jsx(yf,{className:"w-4 h-4"}),l.jsx("span",{children:"Unidad"})]}),l.jsxs("button",{onClick:()=>y("clase"),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium text-sm transition-all ${v==="clase"?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-slate-600 hover:bg-slate-50 dark:text-slate-400 dark:hover:bg-slate-700/50"}`,children:[l.jsx(K5e,{className:"w-4 h-4"}),l.jsx("span",{children:"Clase"})]}),l.jsxs("button",{onClick:()=>y("calendario"),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium text-sm transition-all ${v==="calendario"?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-slate-600 hover:bg-slate-50 dark:text-slate-400 dark:hover:bg-slate-700/50"}`,children:[l.jsx(hd,{className:"w-4 h-4"}),l.jsx("span",{children:"Actividades Calendario"})]})]})}),v==="unidad"&&K(),v==="clase"&&z(),v==="calendario"&&l.jsx(DKe,{userId:t}),k&&l.jsx(IKe,{lesson:k.lessonData,onClose:()=>B(null),onSave:Q,isLoading:h})]})},ej="events",RKe=async()=>{try{const e=zt(wt(Lr,ej),wr("date","asc"));return(await qn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener eventos:",e),new Error("No se pudieron cargar los eventos del calendario")}},LKe=async e=>{try{return{id:(await Bn(wt(Lr,ej),{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear evento:",t),new Error("No se pudo crear el evento del calendario")}},MKe=async(e,t)=>{try{const r=dr(Lr,ej,e);await bu(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar evento:",r,"ID:",e),new Error("No se pudo actualizar el evento del calendario")}},UKe=async e=>{try{const t=dr(Lr,ej,e);await hs(t)}catch(t){throw console.error("Error al eliminar evento:",t,"ID:",e),new Error("No se pudo eliminar el evento del calendario")}},QKe=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],vY={[xn.EVALUACION]:l.jsx(yf,{className:"h-4 w-4"}),[xn.ACTO]:l.jsx(d5e,{className:"h-4 w-4"}),[xn.ACTIVIDAD_FOCALIZADA]:l.jsx(mb,{className:"h-4 w-4"}),[xn.SALIDA_PEDAGOGICA]:l.jsx(N5e,{className:"h-4 w-4"})},HKe=e=>{switch(e.type){case xn.EVALUACION:return`${e.subtype} - ${e.asignatura}`;case xn.ACTO:return`Acto: ${e.ubicacion}`;case xn.ACTIVIDAD_FOCALIZADA:return"Actividad Focalizada";case xn.SALIDA_PEDAGOGICA:return`Salida: ${e.ubicacion}`;default:return"Evento"}},$Ke=({isOpen:e,onClose:t,onSave:r,onDelete:n,event:a,date:s,isLoading:i})=>{const[o,c]=S.useState({});S.useEffect(()=>{c(a||{type:xn.EVALUACION,subtype:Bg.PRUEBA_PARCIAL,asignatura:po[0],curso:Kl[0],contenidos:"",enlace:"",responsables:"",ubicacion:"",horario:"",responsable:"",cursos:[]})},[a,e]);const u="w-full rounded-md border border-white/30 bg-white/10 dark:bg-white/5 text-slate-800 dark:text-slate-100 placeholder-slate-400 backdrop-blur-md shadow-sm focus:outline-none focus:ring-4 focus:ring-yellow-400/30 focus:border-blue-300 dark:border-white/10 dark:focus:border-blue-400",d=x=>{const{name:v,value:y}=x.target;c(w=>({...w,[v]:y}))},f=x=>{c(v=>{if(v.type===xn.SALIDA_PEDAGOGICA){const y=v.cursos||[],w=y.includes(x)?y.filter(E=>E!==x):[...y,x];return{...v,cursos:w.sort()}}return v})},h=x=>{var y;x.preventDefault();let v;switch(o.type){case xn.EVALUACION:{const w={date:s,type:xn.EVALUACION,subtype:o.subtype,asignatura:o.asignatura,curso:o.curso,contenidos:o.contenidos};(o.subtype===Bg.RUBRICA||o.subtype===Bg.PAUTA_COTEJO)&&((y=o.enlace)!=null&&y.trim())&&(w.enlace=o.enlace.trim()),v=w;break}case xn.ACTO:v={date:s,type:xn.ACTO,responsables:o.responsables,ubicacion:o.ubicacion,horario:o.horario};break;case xn.ACTIVIDAD_FOCALIZADA:v={date:s,type:xn.ACTIVIDAD_FOCALIZADA,responsables:o.responsables,ubicacion:o.ubicacion,horario:o.horario};break;case xn.SALIDA_PEDAGOGICA:v={date:s,type:xn.SALIDA_PEDAGOGICA,responsable:o.responsable,ubicacion:o.ubicacion,cursos:o.cursos};break;default:console.error("Tipo de evento no reconocido");return}r(v)};if(!e)return null;const p=new Date(`${s}T12:00:00`).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),g=()=>{switch(o.type){case xn.EVALUACION:return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"subtype",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subtipo"}),l.jsx("select",{id:"subtype",name:"subtype",value:o.subtype,onChange:d,required:!0,className:u,children:NSe.map(x=>l.jsx("option",{value:x,children:x},x))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Asignatura"}),l.jsx("select",{id:"asignatura",name:"asignatura",value:o.asignatura,onChange:d,required:!0,className:u,children:po.map(x=>l.jsx("option",{value:x,children:x},x))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Curso"}),l.jsx("select",{id:"curso",name:"curso",value:o.curso,onChange:d,required:!0,className:u,children:Kl.map(x=>l.jsx("option",{value:x,children:x},x))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"contenidos",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contenidos"}),l.jsx("textarea",{id:"contenidos",name:"contenidos",value:o.contenidos||"",onChange:d,required:!0,rows:3,className:u})]}),(o.subtype===Bg.RUBRICA||o.subtype===Bg.PAUTA_COTEJO)&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"enlace",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Enlace al Documento (URL)"}),l.jsx("input",{id:"enlace",name:"enlace",type:"url",value:o.enlace||"",onChange:d,placeholder:"https://...",className:u})]})]});case xn.ACTO:case xn.ACTIVIDAD_FOCALIZADA:return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"responsables",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Responsables"}),l.jsx("input",{id:"responsables",name:"responsables",type:"text",value:o.responsables||"",onChange:d,required:!0,className:u})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ubicación"}),l.jsxs("div",{className:"relative",children:[l.jsx(g4,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-500"}),l.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:o.ubicacion||"",onChange:d,required:!0,className:`${u} pl-9`})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"horario",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Horario"}),l.jsxs("div",{className:"relative",children:[l.jsx(Lp,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-500"}),l.jsx("input",{id:"horario",name:"horario",type:"text",value:o.horario||"",onChange:d,required:!0,className:`${u} pl-9`})]})]})]});case xn.SALIDA_PEDAGOGICA:return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"responsable",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Responsable"}),l.jsx("input",{id:"responsable",name:"responsable",type:"text",value:o.responsable||"",onChange:d,required:!0,className:u})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"ubicacion",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ubicación/Destino"}),l.jsxs("div",{className:"relative",children:[l.jsx(g4,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-500"}),l.jsx("input",{id:"ubicacion",name:"ubicacion",type:"text",value:o.ubicacion||"",onChange:d,required:!0,className:`${u} pl-9`})]})]}),l.jsxs("fieldset",{children:[l.jsx("legend",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cursos Involucrados"}),l.jsx("div",{className:"max-h-32 overflow-y-auto grid grid-cols-3 sm:grid-cols-4 gap-2 border border-white/30 dark:border-white/10 p-2 rounded-md text-slate-700 dark:text-slate-300 bg-white/5 backdrop-blur-md",children:Kl.map(x=>l.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:(o.cursos||[]).includes(x),onChange:()=>f(x),className:"h-4 w-4 rounded text-yellow-500 focus:ring-yellow-400"}),l.jsx("span",{children:x})]},x))})]})]});default:return null}};return l.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center p-4",onClick:t,style:{background:"rgba(2, 6, 23, 0.55)"},children:l.jsx("div",{className:"relative w-full max-w-lg overflow-hidden rounded-2xl border border-white/20 bg-gradient-to-br from-blue-50/70 via-white/50 to-yellow-50/70 dark:from-slate-900/70 dark:via-slate-900/60 dark:to-slate-900/70 backdrop-blur-2xl shadow-2xl",onClick:x=>x.stopPropagation(),children:l.jsxs("form",{onSubmit:h,children:[l.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:a?"Editar Evento":"Agregar Evento"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-300/90 font-semibold",children:p})]}),l.jsx("button",{type:"button",onClick:t,className:"rounded-full p-2 hover:bg-white/20 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-4 focus:ring-yellow-400/30",children:l.jsx(v4,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tipo de Evento"}),l.jsx("select",{id:"type",name:"type",value:o.type,onChange:d,className:u,children:Object.values(xn).map(x=>l.jsx("option",{value:x,children:x},x))})]}),g()]})]}),l.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-100/60 to-yellow-100/60 dark:from-slate-800/60 dark:to-slate-800/60 border-t border-white/20 flex justify-between items-center",children:[l.jsx("div",{children:a&&n&&l.jsxs("button",{type:"button",onClick:n,disabled:i,className:"inline-flex items-center gap-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 font-semibold disabled:opacity-50",children:[l.jsx($o,{className:"h-4 w-4"}),i?"Eliminando...":"Eliminar"]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{type:"button",onClick:t,disabled:i,className:"inline-flex items-center gap-2 rounded-lg bg-white/20 px-4 py-2 font-semibold text-slate-800 hover:bg-white/30 backdrop-blur-md dark:bg-white/10 dark:text-slate-100 dark:hover:bg-white/20 disabled:opacity-50 focus:outline-none focus:ring-4 focus:ring-yellow-400/30",children:[l.jsx(v4,{className:"h-4 w-4"}),"Cancelar"]}),l.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-yellow-500 px-4 py-2 font-bold text-white hover:opacity-95 disabled:opacity-50 focus:outline-none focus:ring-4 focus:ring-yellow-300/40",children:[l.jsx(o0,{className:"h-4 w-4"}),i?"Guardando...":"Guardar"]})]})]})]})})})},VKe=({profile:e})=>{const[t,r]=S.useState(new Date),[n,a]=S.useState([]),[s,i]=S.useState(!1),[o,c]=S.useState(null),[u,d]=S.useState(!1),[f,h]=S.useState(Object.values(xn)),[p,g]=S.useState(!1),[x,v]=S.useState(null),[y,w]=S.useState(null),E=S.useCallback(async()=>{i(!0);try{const O=await RKe();a(O),c(null)}catch(O){console.error("Error al cargar eventos desde Firestore",O),c("No se pudieron cargar los eventos desde la nube.")}finally{i(!1)}},[]);S.useEffect(()=>{E()},[E]);const k=S.useMemo(()=>{const O=t.getFullYear(),T=t.getMonth(),P=new Date(O,T,1).getDay(),R=new Date(O,T+1,0).getDate(),q=[];let Q=1;for(let G=0;G<6;G++){const K=[];for(let z=0;z<7;z++)G===0&&z<P||Q>R?K.push(null):(K.push(new Date(O,T,Q)),Q++);if(q.push(K),Q>R)break}return q},[t]),B=O=>{h(T=>T.includes(O)?T.filter(P=>P!==O):[...T,O])},j=()=>{f.length===Object.values(xn).length?h([]):h(Object.values(xn))},C=O=>{e!==Yt.ESTUDIANTE&&(v(O.toISOString().split("T")[0]),w(null),g(!0))},N=(O,T)=>{T.stopPropagation(),e!==Yt.ESTUDIANTE&&(v(O.date),w(O),g(!0))},I=async O=>{d(!0);try{y?await MKe(y.id,O):await LKe(O),await E(),g(!1)}catch(T){console.error("Error al guardar evento:",T);const P=T instanceof Error?T.message:"Error desconocido";c(`Error al guardar el evento: ${P}`)}finally{d(!1)}},L=async()=>{if(y){d(!0);try{await UKe(y.id),await E(),g(!1)}catch(O){console.error("Error al eliminar evento:",O);const T=O instanceof Error?O.message:"Error desconocido";c(`No se pudo eliminar el evento: ${T}`)}finally{d(!1)}}};return l.jsxs("div",{className:`relative overflow-hidden rounded-xl p-6 md:p-8 shadow-md space-y-6 animate-fade-in
                    bg-gradient-to-br from-blue-50 via-white to-yellow-50 dark:from-slate-900 dark:via-slate-950 dark:to-black`,children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[l.jsx("div",{className:"absolute -top-20 -left-16 h-64 w-64 rounded-full blur-3xl opacity-40 bg-gradient-to-tr from-yellow-300 to-yellow-200 dark:from-yellow-500/15 dark:to-yellow-400/10"}),l.jsx("div",{className:"absolute bottom-0 right-0 h-72 w-72 rounded-full blur-3xl opacity-40 bg-gradient-to-tr from-sky-300 to-blue-300 dark:from-sky-500/15 dark:to-blue-500/15"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 drop-shadow-sm",children:"Calendario Académico"}),l.jsx("div",{className:"text-slate-600 dark:text-slate-300 text-sm",children:s&&l.jsx("span",{className:"px-2 py-1 rounded bg-white/30 dark:bg-white/10 backdrop-blur-md",children:"Cargando…"})})]}),o&&l.jsx("div",{className:"text-red-700 dark:text-red-400 bg-red-100/70 dark:bg-red-900/30 border border-red-300/50 dark:border-red-800/40 p-3 rounded-lg",children:o}),!s&&n.length===0&&l.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-yellow-400/40 bg-yellow-50/70 p-4 text-yellow-900 dark:bg-yellow-900/20 dark:text-yellow-300 backdrop-blur-md",children:[l.jsx(W_e,{className:"h-5 w-5 mt-0.5"}),l.jsx("p",{children:"No hay eventos registrados en la nube."})]}),l.jsxs("div",{className:"mb-2 rounded-xl border border-white/30 bg-white/30 dark:bg-white/10 backdrop-blur-xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200 mb-2",children:[l.jsx(q8,{className:"h-4 w-4"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Filtrar por tipo de evento:"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsx("button",{onClick:j,className:"text-sm font-semibold px-3 py-1.5 rounded-full bg-gradient-to-r from-blue-600 to-yellow-500 text-white hover:opacity-95 transition-colors",children:f.length===Object.values(xn).length?"Deseleccionar Todos":"Seleccionar Todos"}),Object.values(xn).map(O=>l.jsxs("label",{className:`cursor-pointer text-sm font-medium px-3 py-1.5 rounded-full transition-all duration-200 flex items-center gap-2
                ${f.includes(O)?`shadow-sm ${U1[O].color}`:"bg-white/40 text-slate-700 hover:bg-white/60 dark:bg-white/10 dark:text-slate-300 dark:hover:bg-white/20"}`,children:[l.jsx("input",{type:"checkbox",checked:f.includes(O),onChange:()=>B(O),className:"hidden"}),l.jsx("span",{className:"shrink-0",children:vY[O]}),l.jsx("span",{children:U1[O].label})]},O))]})]}),l.jsxs("div",{className:"rounded-xl overflow-hidden border border-white/30 dark:border-white/10 backdrop-blur-xl bg-white/30 dark:bg-white/5",children:[l.jsxs("header",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-100/60 to-yellow-100/60 dark:from-slate-800/60 dark:to-slate-800/60 border-b border-white/20",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>r(new Date(t.setMonth(t.getMonth()-1))),className:"p-2 rounded-full hover:bg-white/40 dark:hover:bg-white/10 text-slate-700 dark:text-slate-200",children:l.jsx(vC,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>r(new Date(t.setMonth(t.getMonth()+1))),className:"p-2 rounded-full hover:bg-white/40 dark:hover:bg-white/10 text-slate-700 dark:text-slate-200",children:l.jsx(G8,{className:"h-5 w-5"})})]}),l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 capitalize",children:t.toLocaleString("es-CL",{month:"long",year:"numeric"})}),l.jsx("button",{onClick:()=>r(new Date),className:"ml-4 bg-gradient-to-r from-blue-600 to-yellow-500 text-white text-sm font-bold py-1.5 px-3 rounded-lg hover:opacity-95",children:"Hoy"})]}),l.jsx("div",{className:"grid grid-cols-7 border-t border-l border-slate-200/80 dark:border-slate-700/70",children:QKe.map(O=>l.jsx("div",{className:`text-center font-semibold text-slate-600 dark:text-slate-300 text-sm py-3
                         bg-white/40 dark:bg-white/10
                         border-b border-r border-slate-200/80 dark:border-slate-700/70`,children:O},O))}),l.jsx("div",{className:"grid grid-cols-7 grid-rows-6 border-t border-l border-slate-200/80 dark:border-slate-700/70",children:k.flat().map((O,T)=>{const P=O&&O.toDateString()===new Date().toDateString(),R=O==null?void 0:O.toISOString().split("T")[0],q=R?n.filter(Q=>Q.date===R&&f.includes(Q.type)):[];return l.jsx("div",{onClick:()=>O&&C(O),className:`border-b border-r border-slate-200/80 dark:border-slate-700/70
                            p-2 h-36 flex flex-col overflow-hidden relative group 
                            ${O?e!==Yt.ESTUDIANTE?"cursor-pointer hover:bg-white/40 dark:hover:bg-white/10":"":"bg-white/30 dark:bg-white/5"}`,children:O&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:`self-end text-sm font-semibold ${P?"bg-gradient-to-r from-blue-600 to-yellow-500 text-white rounded-full h-6 w-6 flex items-center justify-center":"text-slate-700 dark:text-slate-300"}`,children:O.getDate()}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 mt-1 pr-1",children:q.map(Q=>l.jsxs("div",{onClick:G=>N(Q,G),className:`text-xs font-medium p-1 rounded-md flex items-center gap-1.5 truncate ${U1[Q.type].color}`,children:[l.jsx("span",{className:"shrink-0",children:vY[Q.type]}),l.jsx("span",{className:"truncate",children:HKe(Q)})]},Q.id))}),e!==Yt.ESTUDIANTE&&l.jsx("button",{className:`absolute bottom-1 right-1 rounded-full h-7 w-7 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity 
                                   bg-gradient-to-r from-blue-600 to-yellow-500 text-white shadow`,"aria-label":"Agregar evento",children:l.jsx(pd,{className:"h-4 w-4"})})]})},T)})})]}),p&&l.jsx($Ke,{isOpen:p,onClose:()=>g(!1),onSave:I,onDelete:L,event:y,date:x,isLoading:u})]})},tj="anuncios",zKe=async()=>{try{const e=zt(wt(Lr,tj),wr("fechaPublicacion","desc"));return(await qn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener anuncios:",e),new Error("No se pudieron cargar los anuncios")}},GKe=async e=>{try{return{id:(await Bn(wt(Lr,tj),{...e,fechaPublicacion:e.fechaPublicacion||new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(t){throw console.error("Error al crear anuncio:",t),new Error("No se pudo crear el anuncio")}},KKe=async(e,t)=>{try{const r=dr(Lr,tj,e);await bu(r,{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar anuncio:",r,"ID:",e),new Error("No se pudo actualizar el anuncio")}},qKe=async e=>{try{const t=dr(Lr,tj,e);await hs(t)}catch(t){throw console.error("Error al eliminar anuncio:",t,"ID:",e),new Error("No se pudo eliminar el anuncio")}},bY=[{bg:"bg-yellow-200 dark:bg-yellow-800/50",rotate:"transform -rotate-2"},{bg:"bg-lime-200 dark:bg-lime-800/50",rotate:"transform rotate-1"},{bg:"bg-sky-200 dark:bg-sky-800/50",rotate:"transform rotate-2"},{bg:"bg-red-200 dark:bg-red-800/50",rotate:"transform -rotate-1"},{bg:"bg-violet-200 dark:bg-violet-800/50",rotate:"transform rotate-1"}],WKe=({currentUser:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState(!1),[s,i]=S.useState(null),[o,c]=S.useState({titulo:"",mensaje:"",adjunto:""}),[u,d]=S.useState({tipo:"Todos",cursos:[]}),f=S.useCallback(async()=>{a(!0);try{const C=await zKe();r(C),i(null)}catch(C){console.error("Error al cargar anuncios desde Firestore",C),i("No se pudieron cargar los anuncios desde la nube.")}finally{a(!1)}},[]);S.useEffect(()=>{f()},[f]);const h=C=>{const{name:N,value:I}=C.target;c(L=>({...L,[N]:I}))},p=C=>{d({tipo:C,cursos:C==="Cursos"?[]:void 0})},g=C=>{d(N=>{var L;if(N.tipo!=="Cursos")return N;const I=(L=N.cursos)!=null&&L.includes(C)?N.cursos.filter(O=>O!==C):[...N.cursos||[],C];return{...N,cursos:I}})},x=async C=>{if(C.preventDefault(),!o.titulo||!o.mensaje){alert("Título y mensaje son obligatorios.");return}if(u.tipo==="Cursos"&&(!u.cursos||u.cursos.length===0)){alert('Debe seleccionar al menos un curso para el destinatario "Cursos".');return}try{const N={fechaPublicacion:new Date().toISOString(),destacado:!1,autor:e.nombreCompleto,profileCreador:e.profile,destinatarios:u,...o};await GKe(N),await f(),c({titulo:"",mensaje:"",adjunto:""}),d({tipo:"Todos",cursos:[]})}catch(N){console.error("Error al crear anuncio:",N),i("Error al publicar el anuncio en la nube.")}},v=async C=>{if(window.confirm("¿Está seguro de que desea eliminar este anuncio?"))try{await qKe(C),await f()}catch(N){console.error("Error al eliminar anuncio:",N),i("No se pudo eliminar el anuncio en la nube.")}},y=async C=>{try{const N=t.find(I=>I.id===C);N&&(await KKe(C,{destacado:!N.destacado}),await f())}catch(N){console.error("Error al actualizar anuncio:",N),i("No se pudo actualizar el estado del anuncio en la nube.")}},w=S.useMemo(()=>[...t].sort((C,N)=>C.destacado&&!N.destacado?-1:!C.destacado&&N.destacado?1:new Date(N.fechaPublicacion).getTime()-new Date(C.fechaPublicacion).getTime()),[t]),E=S.useMemo(()=>{const C=e.profile,N=e.curso;return w.filter(I=>{if(C===Yt.SUBDIRECCION)return!0;if(!I.destinatarios)return C!==Yt.ESTUDIANTE;const{tipo:L,cursos:O}=I.destinatarios;return L==="Todos"||L==="Profesores"&&C===Yt.PROFESORADO||L==="Coordinación TP"&&C===Yt.COORDINACION_TP?!0:L==="Cursos"?C===Yt.ESTUDIANTE?O==null?void 0:O.includes(N||""):!0:!1})},[w,e]),k=C=>e.profile===Yt.ESTUDIANTE?!1:e.profile===Yt.SUBDIRECCION||e.profile===C.profileCreador,B=()=>e.profile===Yt.SUBDIRECCION||e.profile===Yt.PROFESORADO,j="w-full border-slate-300 rounded-md shadow-sm focus:ring-amber-400 focus:border-amber-400 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Muro de Anuncios"}),n&&l.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando anuncios desde la nube..."}),s&&l.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:s}),e.profile!==Yt.ESTUDIANTE?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Publique un nuevo anuncio para toda la comunidad escolar."}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"titulo",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Título"}),l.jsx("input",{type:"text",name:"titulo",value:o.titulo,onChange:h,required:!0,className:j})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"mensaje",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mensaje"}),l.jsx("textarea",{name:"mensaje",value:o.mensaje,onChange:h,required:!0,rows:4,className:j})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Destinatarios"}),l.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:["Todos","Cursos","Profesores","Coordinación TP"].map(C=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"destinatarioTipo",value:C,checked:u.tipo===C,onChange:()=>p(C),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-slate-300"}),l.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:C.replace("Coordinación TP","Coord. TP")})]},C))})]}),u.tipo==="Cursos"&&l.jsxs("div",{className:"p-4 border rounded-md bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Cursos"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-48 overflow-y-auto",children:Kl.map(C=>{var N;return l.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:(N=u.cursos)==null?void 0:N.includes(C),onChange:()=>g(C),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400 border-slate-300 bg-slate-100"}),l.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:C})]},C)})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"adjunto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Enlace adjunto (Opcional)"}),l.jsx("input",{type:"url",name:"adjunto",value:o.adjunto,onChange:h,placeholder:"https://ejemplo.com/documento.pdf",className:j})]}),l.jsx("div",{className:"pt-2 text-right",children:l.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Publicar Anuncio"})})]})]}):l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Anuncios de la comunidad escolar. Este módulo es de solo lectura."})]}),!n&&E.length===0&&l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg",children:"No hay anuncios para mostrar en la nube."}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 py-4",children:!n&&E.length>0&&E.map((C,N)=>{const I=bY[N%bY.length];return l.jsxs("div",{className:`font-handwritten text-slate-800 dark:text-slate-200 shadow-xl p-4 flex flex-col relative transition-transform duration-300 ease-in-out hover:scale-105 hover:rotate-0 hover:z-10 ${I.bg} ${I.rotate}`,children:[C.destacado&&l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:l.jsx("span",{className:"text-5xl",role:"img","aria-label":"Anuncio destacado",children:"📌"})}),l.jsx("h2",{className:"text-3xl font-bold border-b-2 border-slate-500/30 dark:border-slate-400/30 pb-2 mb-4 break-words",children:C.titulo}),l.jsx("p",{className:"flex-grow text-2xl whitespace-pre-wrap mb-4 break-words min-h-[100px]",children:C.mensaje}),C.adjunto&&l.jsx("div",{className:"font-sans text-sm mb-4",children:l.jsxs("a",{href:C.adjunto,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 font-semibold text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Ver Adjunto"]})}),l.jsxs("div",{className:"font-sans text-xs mt-auto pt-2 border-t border-slate-500/30 dark:border-slate-400/30 flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:C.autor}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:new Date(C.fechaPublicacion).toLocaleString("es-CL")})]}),l.jsxs("div",{className:"flex items-center",children:[B()&&l.jsx("button",{onClick:()=>y(C.id),title:C.destacado?"Desfijar":"Fijar",className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:l.jsx("span",{className:`text-xl transition-opacity ${C.destacado?"opacity-100":"opacity-30"}`,children:"📌"})}),k(C)&&l.jsx("button",{onClick:()=>v(C.id),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},C.id)})})]})},xde="api_logs",XKe=async(e,t)=>{try{const r={module:e,userId:t.id,userEmail:t.email,userName:t.nombreCompleto,timestamp:lr.fromDate(new Date)};await Bn(wt(mt,xde),r)}catch(r){console.error("Error al registrar la llamada a la API en Firestore:",r)}},YKe=e=>{const t=zt(wt(mt,xde),wr("timestamp","desc"));return br(t,n=>{const a=n.docs.map(s=>{var o,c;const i=s.data();return{id:s.id,...i,timestamp:((c=(o=i.timestamp)==null?void 0:o.toDate)==null?void 0:c.call(o).toISOString())||i.timestamp}});e(a)},n=>{console.error("Error al suscribirse a los logs de API:",n),e([])})},Fb=(e,t)=>{if(!t||!t.id||!t.email){console.warn("No se pudo registrar la llamada a la API: el objeto de usuario es inválido o no está en sesión.");return}XKe(e,t)},O7="actas_de_reunion",JKe=e=>{var r,n;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion}},ZKe=e=>{const t=zt(wt(mt,O7),wr("fechaCreacion","desc"));return br(t,n=>{const a=n.docs.map(s=>JKe(s));e(a)},n=>{console.error("Error al suscribirse a las actas:",n),e([])})},eqe=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,fechaCreacion:lr.fromDate(new Date(e.fechaCreacion))};return(await Bn(wt(mt,O7),r)).id}catch(r){throw console.error("Error al crear el acta:",r),new Error("No se pudo crear el acta.")}},tqe=async e=>{try{const t=dr(mt,O7,e);await hs(t)}catch(t){throw console.error("Error al eliminar el acta:",t),new Error("No se pudo eliminar el acta.")}},vde=window.SpeechRecognition||window.webkitSpeechRecognition,yY=!!vde,rqe=({isListening:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e?l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}):l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),nqe=({currentUser:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState(null),[s,i]=S.useState({tipoReunion:TI[0],asistentes:"",textoReunion:""}),[o,c]=S.useState(!1),[u,d]=S.useState(!1),[f,h]=S.useState(!0),[p,g]=S.useState(null),x=S.useRef(null);S.useEffect(()=>{h(!0);const C=ZKe(N=>{r(N),!n&&N.length>0&&a(N[0]),h(!1)});return()=>C()},[n]);const v=C=>{const{name:N,value:I}=C.target;i(L=>({...L,[N]:I}))},y=S.useCallback(()=>{var C;if(!yY){g("El reconocimiento de voz no es compatible con este navegador.");return}o?(C=x.current)==null||C.stop():(x.current=new vde,x.current.lang="es-CL",x.current.continuous=!0,x.current.interimResults=!0,x.current.onresult=N=>{let I="";for(let L=N.resultIndex;L<N.results.length;++L)N.results[L].isFinal&&(I+=N.results[L][0].transcript+". ");i(L=>({...L,textoReunion:L.textoReunion+I}))},x.current.onstart=()=>c(!0),x.current.onend=()=>c(!1),x.current.onerror=N=>{console.error("Speech recognition error",N.error),g(`Error de reconocimiento: ${N.error}`),c(!1)},x.current.start())},[o]),w=async C=>{C.preventDefault();const{tipoReunion:N,asistentes:I,textoReunion:L}=s;if(!N||!I.trim()||!L.trim()){g("Todos los campos son obligatorios.");return}d(!0),g(null);try{Fb("Generador de Actas");const O="",P=new globalThis.GoogleGenerativeAI(O).getGenerativeModel({model:"gemini-pro"}),R=`
                Analiza el siguiente texto de un acta de reunión y extrae la información clave.
                El texto es una transcripción de lo hablado.
                - Identifica los temas principales discutidos.
                - Extrae un resumen de los acuerdos o decisiones específicas tomadas.
                - Lista cualquier plazo o fecha límite mencionada.
                - Identifica los nombres de las personas a las que se les asignaron responsabilidades o tareas.
                
                Texto del acta:
                "${L}"
                
                Asistentes a la reunión para referencia de nombres: ${I}
            `,K=(await(await P.generateContent(R)).response).text().replace(/^```json\s*|```\s*$/g,""),z=JSON.parse(K),Y={fechaCreacion:new Date().toISOString(),...s,...z},ee=await eqe(Y,e);i({tipoReunion:TI[0],asistentes:"",textoReunion:""})}catch(O){console.error("Error al analizar acta con IA:",O),g("Ocurrió un error al procesar el acta con la IA. Por favor, revise el texto e inténtelo de nuevo.")}finally{d(!1)}},E=async C=>{if(window.confirm("¿Está seguro de que desea eliminar esta acta?"))try{await tqe(C),(n==null?void 0:n.id)===C&&a(t.length>1?t[1]:null)}catch(N){console.error("Error deleting acta:",N),alert("No se pudo eliminar el acta.")}},k=C=>{a(C)},B=C=>C.temas||C.acuerdos||C.plazos||C.responsables?l.jsxs("div",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-200",children:"Análisis con IA"}),C.temas&&C.temas.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Temas Tratados"}),l.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:C.temas.map((I,L)=>l.jsx("li",{children:I},L))})]}),C.acuerdos&&C.acuerdos.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Acuerdos"}),l.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:C.acuerdos.map((I,L)=>l.jsx("li",{children:I},L))})]}),C.plazos&&C.plazos.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Plazos"}),l.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:C.plazos.map((I,L)=>l.jsx("li",{children:I},L))})]}),C.responsables&&C.responsables.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-lg text-slate-700 dark:text-slate-300",children:"Responsables"}),l.jsx("ul",{className:"list-disc list-inside text-slate-600 dark:text-slate-400 mt-2 space-y-1",children:C.responsables.map((I,L)=>l.jsx("li",{children:I},L))})]})]}):null,j="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400";return f?l.jsx("div",{className:"text-center py-10",children:"Cargando actas..."}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 animate-fade-in",children:[l.jsxs("div",{className:"md:col-span-1 space-y-8",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generador de Actas"}),l.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300 rounded-r-lg",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.008a1 1 0 011 1v3.008a1 1 0 01-1 1h-.008a1 1 0 01-1-1V5z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm",children:["Recuerda que las actas debes subirlas por intranet en ",l.jsx("strong",{className:"font-semibold",children:"www.industrialderecoleta.cl"}),". Esta es sólo una herramienta para agilizar redacción."]})})]})}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"tipoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Tipo de Reunión"}),l.jsx("select",{name:"tipoReunion",value:s.tipoReunion,onChange:v,required:!0,className:j,children:TI.map(C=>l.jsx("option",{value:C,children:C},C))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"asistentes",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asistentes"}),l.jsx("textarea",{name:"asistentes",value:s.asistentes,onChange:v,required:!0,rows:3,placeholder:"Nombres, separados por comas...",className:j})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"textoReunion",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Texto de la Reunión"}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{name:"textoReunion",value:s.textoReunion,onChange:v,required:!0,rows:6,placeholder:"Escriba o use el micrófono para dictar...",className:j}),yY&&l.jsx("button",{type:"button",onClick:y,title:o?"Detener grabación":"Iniciar grabación",className:`absolute top-2 right-2 p-2 rounded-full transition-colors ${o?"bg-red-500 text-white animate-pulse":"bg-slate-200 hover:bg-slate-300 text-slate-700 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500"}`,children:l.jsx(rqe,{isListening:o})})]})]}),p&&l.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/40 dark:text-red-300 p-3 rounded-md mt-4",children:p}),l.jsx("div",{className:"pt-2 text-right",children:l.jsx("button",{type:"submit",disabled:u,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 flex items-center justify-center min-w-[120px] disabled:bg-slate-400 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:u?l.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Crear Acta"})})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Actas"}),l.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2 pr-2",children:t.length>0?t.map(C=>l.jsxs("button",{onClick:()=>k(C),className:`w-full text-left p-3 rounded-lg border transition-colors ${(n==null?void 0:n.id)===C.id?"bg-amber-100 border-amber-300 dark:bg-amber-900/20 dark:border-amber-500/50":"bg-slate-50 hover:bg-slate-100 border-transparent dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[l.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:C.tipoReunion}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(C.fechaCreacion).toLocaleDateString("es-CL")})]},C.id)):l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No hay actas guardadas."})})]})]}),l.jsx("div",{className:"md:col-span-2 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-md",children:n?l.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold mt-0",children:`Acta de Reunión: ${n.tipoReunion}`}),l.jsx("button",{onClick:()=>E(n.id),title:"Eliminar Acta",className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 -mt-2 -mr-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[l.jsx("strong",{children:"Fecha:"})," ",new Date(n.fechaCreacion).toLocaleString("es-CL")]}),l.jsx("h2",{children:"Asistentes"}),l.jsx("ul",{className:"list-disc pl-5",children:String(n.asistentes||"").split(",").map((C,N)=>C.trim()&&l.jsx("li",{children:C.trim()},N))}),B(n),l.jsx("h2",{className:"mt-8 pt-6 border-t dark:border-slate-600",children:"Transcripción Original"}),l.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-md whitespace-pre-wrap",children:l.jsx("p",{children:n.textoReunion})})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[l.jsx("span",{className:"text-6xl mb-4 text-slate-400",children:"📄"}),l.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:"Seleccione un Acta"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Elija un acta del historial para ver sus detalles aquí, o cree una nueva usando el formulario."})]})})]})},aqe="modulepreload",sqe=function(e){return"/"+e},wY={},Ob=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let i=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=i(r.map(u=>{if(u=sqe(u),u in wY)return;wY[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":aqe,d||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function _a(e){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}var bl=Uint8Array,uu=Uint16Array,D7=Int32Array,rj=new bl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nj=new bl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sR=new bl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bde=function(e,t){for(var r=new uu(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new D7(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},yde=bde(rj,2),wde=yde.b,iR=yde.r;wde[28]=258,iR[258]=28;var Cde=bde(nj,0),iqe=Cde.b,CY=Cde.r,oR=new uu(32768);for(var Za=0;Za<32768;++Za){var vp=(Za&43690)>>1|(Za&21845)<<1;vp=(vp&52428)>>2|(vp&13107)<<2,vp=(vp&61680)>>4|(vp&3855)<<4,oR[Za]=((vp&65280)>>8|(vp&255)<<8)>>1}var MA=function(e,t,r){for(var n=e.length,a=0,s=new uu(t);a<n;++a)e[a]&&++s[e[a]-1];var i=new uu(t);for(a=1;a<t;++a)i[a]=i[a-1]+s[a-1]<<1;var o;if(r){o=new uu(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=i[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[oR[f]>>c]=u}else for(o=new uu(n),a=0;a<n;++a)e[a]&&(o[a]=oR[i[e[a]-1]++]>>15-e[a]);return o},ym=new bl(288);for(var Za=0;Za<144;++Za)ym[Za]=8;for(var Za=144;Za<256;++Za)ym[Za]=9;for(var Za=256;Za<280;++Za)ym[Za]=7;for(var Za=280;Za<288;++Za)ym[Za]=8;var QC=new bl(32);for(var Za=0;Za<32;++Za)QC[Za]=5;var oqe=MA(ym,9,0),lqe=MA(ym,9,1),cqe=MA(QC,5,0),uqe=MA(QC,5,1),RF=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},qd=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},LF=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},P7=function(e){return(e+7)/8|0},Ede=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new bl(e.subarray(t,r))},dqe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jd=function(e,t,r){var n=new Error(t||dqe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Jd),!r)throw n;return n},fqe=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new bl(0);var i=!r,o=i||t.i!=2,c=t.i;i&&(r=new bl(a*3));var u=function(ke){var re=r.length;if(ke>re){var _e=new bl(Math.max(re*2,ke));_e.set(r),r=_e}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,g=t.d,x=t.m,v=t.n,y=a*8;do{if(!p){d=qd(e,f,1);var w=qd(e,f+1,3);if(f+=3,w)if(w==1)p=lqe,g=uqe,x=9,v=5;else if(w==2){var j=qd(e,f,31)+257,C=qd(e,f+10,15)+4,N=j+qd(e,f+5,31)+1;f+=14;for(var I=new bl(N),L=new bl(19),O=0;O<C;++O)L[sR[O]]=qd(e,f+O*3,7);f+=C*3;for(var T=RF(L),P=(1<<T)-1,R=MA(L,T,1),O=0;O<N;){var q=R[qd(e,f,P)];f+=q&15;var E=q>>4;if(E<16)I[O++]=E;else{var Q=0,G=0;for(E==16?(G=3+qd(e,f,3),f+=2,Q=I[O-1]):E==17?(G=3+qd(e,f,7),f+=3):E==18&&(G=11+qd(e,f,127),f+=7);G--;)I[O++]=Q}}var K=I.subarray(0,j),z=I.subarray(j);x=RF(K),v=RF(z),p=MA(K,x,1),g=MA(z,v,1)}else Jd(1);else{var E=P7(f)+4,k=e[E-4]|e[E-3]<<8,B=E+k;if(B>a){c&&Jd(0);break}o&&u(h+k),r.set(e.subarray(E,B),h),t.b=h+=k,t.p=f=B*8,t.f=d;continue}if(f>y){c&&Jd(0);break}}o&&u(h+131072);for(var Y=(1<<x)-1,ee=(1<<v)-1,M=f;;M=f){var Q=p[LF(e,f)&Y],H=Q>>4;if(f+=Q&15,f>y){c&&Jd(0);break}if(Q||Jd(2),H<256)r[h++]=H;else if(H==256){M=f,p=null;break}else{var W=H-254;if(H>264){var O=H-257,Z=rj[O];W=qd(e,f,(1<<Z)-1)+wde[O],f+=Z}var ae=g[LF(e,f)&ee],oe=ae>>4;ae||Jd(3),f+=ae&15;var z=iqe[oe];if(oe>3){var Z=nj[oe];z+=LF(e,f)&(1<<Z)-1,f+=Z}if(f>y){c&&Jd(0);break}o&&u(h+131072);var se=h+W;if(h<z){var ce=s-z,de=Math.min(z,se);for(ce+h<0&&Jd(3);h<de;++h)r[h]=n[ce+h]}for(;h<se;++h)r[h]=r[h-z]}}t.l=p,t.p=M,t.b=h,t.f=d,p&&(d=1,t.m=x,t.d=g,t.n=v)}while(!d);return h!=r.length&&i?Ede(r,0,h):r.subarray(0,h)},kh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Pw=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},MF=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:_de,l:0};if(a==1){var i=new bl(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(B,j){return B.f-j.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=a-1;)o=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var h=s[0].s,n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var p=new uu(h+1),g=lR(r[d-1],p,0);if(g>t){var n=0,x=0,v=g-t,y=1<<v;for(s.sort(function(j,C){return p[C.s]-p[j.s]||j.f-C.f});n<a;++n){var w=s[n].s;if(p[w]>t)x+=y-(1<<g-p[w]),p[w]=t;else break}for(x>>=v;x>0;){var E=s[n].s;p[E]<t?x-=1<<t-p[E]++-1:++n}for(;n>=0&&x;--n){var k=s[n].s;p[k]==t&&(--p[k],++x)}g=t}return{t:new bl(p),l:g}},lR=function(e,t,r){return e.s==-1?Math.max(lR(e.l,t,r+1),lR(e.r,t,r+1)):t[e.s]=r},EY=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new uu(++t),n=0,a=e[0],s=1,i=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Rw=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Sde=function(e,t,r){var n=r.length,a=P7(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},SY=function(e,t,r,n,a,s,i,o,c,u,d){kh(t,d++,r),++a[256];for(var f=MF(a,15),h=f.t,p=f.l,g=MF(s,15),x=g.t,v=g.l,y=EY(h),w=y.c,E=y.n,k=EY(x),B=k.c,j=k.n,C=new uu(19),N=0;N<w.length;++N)++C[w[N]&31];for(var N=0;N<B.length;++N)++C[B[N]&31];for(var I=MF(C,7),L=I.t,O=I.l,T=19;T>4&&!L[sR[T-1]];--T);var P=u+5<<3,R=Rw(a,ym)+Rw(s,QC)+i,q=Rw(a,h)+Rw(s,x)+i+14+3*T+Rw(C,L)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&P<=R&&P<=q)return Sde(t,d,e.subarray(c,c+u));var Q,G,K,z;if(kh(t,d,1+(q<R)),d+=2,q<R){Q=MA(h,p,0),G=h,K=MA(x,v,0),z=x;var Y=MA(L,O,0);kh(t,d,E-257),kh(t,d+5,j-1),kh(t,d+10,T-4),d+=14;for(var N=0;N<T;++N)kh(t,d+3*N,L[sR[N]]);d+=3*T;for(var ee=[w,B],M=0;M<2;++M)for(var H=ee[M],N=0;N<H.length;++N){var W=H[N]&31;kh(t,d,Y[W]),d+=L[W],W>15&&(kh(t,d,H[N]>>5&127),d+=H[N]>>12)}}else Q=oqe,G=ym,K=cqe,z=QC;for(var N=0;N<o;++N){var Z=n[N];if(Z>255){var W=Z>>18&31;Pw(t,d,Q[W+257]),d+=G[W+257],W>7&&(kh(t,d,Z>>23&31),d+=rj[W]);var ae=Z&31;Pw(t,d,K[ae]),d+=z[ae],ae>3&&(Pw(t,d,Z>>5&8191),d+=nj[ae])}else Pw(t,d,Q[Z]),d+=G[Z]}return Pw(t,d,Q[256]),d+G[256]},Aqe=new D7([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_de=new bl(0),hqe=function(e,t,r,n,a,s){var i=s.z||e.length,o=new bl(n+i+5*(1+Math.ceil(i/7e3))+a),c=o.subarray(n,o.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var f=Aqe[t-1],h=f>>13,p=f&8191,g=(1<<r)-1,x=s.p||new uu(32768),v=s.h||new uu(g+1),y=Math.ceil(r/3),w=2*y,E=function(Ne){return(e[Ne]^e[Ne+1]<<y^e[Ne+2]<<w)&g},k=new D7(25e3),B=new uu(288),j=new uu(32),C=0,N=0,I=s.i||0,L=0,O=s.w||0,T=0;I+2<i;++I){var P=E(I),R=I&32767,q=v[P];if(x[R]=q,v[P]=R,O<=I){var Q=i-I;if((C>7e3||L>24576)&&(Q>423||!u)){d=SY(e,c,0,k,B,j,N,L,T,I-T,d),L=C=N=0,T=I;for(var G=0;G<286;++G)B[G]=0;for(var G=0;G<30;++G)j[G]=0}var K=2,z=0,Y=p,ee=R-q&32767;if(Q>2&&P==E(I-ee))for(var M=Math.min(h,Q)-1,H=Math.min(32767,I),W=Math.min(258,Q);ee<=H&&--Y&&R!=q;){if(e[I+K]==e[I+K-ee]){for(var Z=0;Z<W&&e[I+Z]==e[I+Z-ee];++Z);if(Z>K){if(K=Z,z=ee,Z>M)break;for(var ae=Math.min(ee,Z-2),oe=0,G=0;G<ae;++G){var se=I-ee+G&32767,ce=x[se],de=se-ce&32767;de>oe&&(oe=de,q=se)}}}R=q,q=x[R],ee+=R-q&32767}if(z){k[L++]=268435456|iR[K]<<18|CY[z];var ke=iR[K]&31,re=CY[z]&31;N+=rj[ke]+nj[re],++B[257+ke],++j[re],O=I+K,++C}else k[L++]=e[I],++B[e[I]]}}for(I=Math.max(I,O);I<i;++I)k[L++]=e[I],++B[e[I]];d=SY(e,c,u,k,B,j,N,L,T,I-T,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=v,s.p=x,s.i=I,s.w=O)}else{for(var I=s.w||0;I<i+u;I+=65535){var _e=I+65535;_e>=i&&(c[d/8|0]=u,_e=i),d=Sde(c,d+1,e.subarray(I,_e))}s.i=i}return Ede(o,0,n+P7(d)+a)},Nde=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},pqe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new bl(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return hqe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},kde=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},mqe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Nde();a.p(t.dictionary),kde(e,2,a.d())}},gqe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Jd(6,"invalid zlib data"),(e[1]>>5&1)==1&&Jd(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function cR(e,t){t||(t={});var r=Nde();r.p(e);var n=pqe(e,t,t.dictionary?6:2,4);return mqe(n,t),kde(n,n.length-4,r.d()),n}function xqe(e,t){return fqe(e.subarray(gqe(e),-4),{i:2},t,t)}var vqe=typeof TextDecoder<"u"&&new TextDecoder,bqe=0;try{vqe.decode(_de,{stream:!0}),bqe=1}catch{}var qr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function UF(){qr.console&&typeof qr.console.log=="function"&&qr.console.log.apply(qr.console,arguments)}var Ra={log:UF,warn:function(e){qr.console&&(typeof qr.console.warn=="function"?qr.console.warn.apply(qr.console,arguments):UF.call(null,arguments))},error:function(e){qr.console&&(typeof qr.console.error=="function"?qr.console.error.apply(qr.console,arguments):UF(e))}};function QF(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){kg(n.response,t,r)},n.onerror=function(){Ra.error("could not download file")},n.send()}function _Y(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function e5(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var z2,uR,kg=qr.saveAs||((typeof window>"u"?"undefined":_a(window))!=="object"||window!==qr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=qr.URL||qr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?_Y(a.href)?QF(e,t,r):e5(a,a.target="_blank"):e5(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){e5(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(_Y(e))QF(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){e5(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:_a(s)!=="object"&&(Ra.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return QF(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(qr.HTMLElement)||qr.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":_a(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var c=qr.URL||qr.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Tde(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function HF(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=nl(r,n,a,s,t[0],7,-680876936),s=nl(s,r,n,a,t[1],12,-389564586),a=nl(a,s,r,n,t[2],17,606105819),n=nl(n,a,s,r,t[3],22,-1044525330),r=nl(r,n,a,s,t[4],7,-176418897),s=nl(s,r,n,a,t[5],12,1200080426),a=nl(a,s,r,n,t[6],17,-1473231341),n=nl(n,a,s,r,t[7],22,-45705983),r=nl(r,n,a,s,t[8],7,1770035416),s=nl(s,r,n,a,t[9],12,-1958414417),a=nl(a,s,r,n,t[10],17,-42063),n=nl(n,a,s,r,t[11],22,-1990404162),r=nl(r,n,a,s,t[12],7,1804603682),s=nl(s,r,n,a,t[13],12,-40341101),a=nl(a,s,r,n,t[14],17,-1502002290),r=al(r,n=nl(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=al(s,r,n,a,t[6],9,-1069501632),a=al(a,s,r,n,t[11],14,643717713),n=al(n,a,s,r,t[0],20,-373897302),r=al(r,n,a,s,t[5],5,-701558691),s=al(s,r,n,a,t[10],9,38016083),a=al(a,s,r,n,t[15],14,-660478335),n=al(n,a,s,r,t[4],20,-405537848),r=al(r,n,a,s,t[9],5,568446438),s=al(s,r,n,a,t[14],9,-1019803690),a=al(a,s,r,n,t[3],14,-187363961),n=al(n,a,s,r,t[8],20,1163531501),r=al(r,n,a,s,t[13],5,-1444681467),s=al(s,r,n,a,t[2],9,-51403784),a=al(a,s,r,n,t[7],14,1735328473),r=sl(r,n=al(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=sl(s,r,n,a,t[8],11,-2022574463),a=sl(a,s,r,n,t[11],16,1839030562),n=sl(n,a,s,r,t[14],23,-35309556),r=sl(r,n,a,s,t[1],4,-1530992060),s=sl(s,r,n,a,t[4],11,1272893353),a=sl(a,s,r,n,t[7],16,-155497632),n=sl(n,a,s,r,t[10],23,-1094730640),r=sl(r,n,a,s,t[13],4,681279174),s=sl(s,r,n,a,t[0],11,-358537222),a=sl(a,s,r,n,t[3],16,-722521979),n=sl(n,a,s,r,t[6],23,76029189),r=sl(r,n,a,s,t[9],4,-640364487),s=sl(s,r,n,a,t[12],11,-421815835),a=sl(a,s,r,n,t[15],16,530742520),r=il(r,n=sl(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=il(s,r,n,a,t[7],10,1126891415),a=il(a,s,r,n,t[14],15,-1416354905),n=il(n,a,s,r,t[5],21,-57434055),r=il(r,n,a,s,t[12],6,1700485571),s=il(s,r,n,a,t[3],10,-1894986606),a=il(a,s,r,n,t[10],15,-1051523),n=il(n,a,s,r,t[1],21,-2054922799),r=il(r,n,a,s,t[8],6,1873313359),s=il(s,r,n,a,t[15],10,-30611744),a=il(a,s,r,n,t[6],15,-1560198380),n=il(n,a,s,r,t[13],21,1309151649),r=il(r,n,a,s,t[4],6,-145523070),s=il(s,r,n,a,t[11],10,-1120210379),a=il(a,s,r,n,t[2],15,718787259),n=il(n,a,s,r,t[9],21,-343485551),e[0]=Up(r,e[0]),e[1]=Up(n,e[1]),e[2]=Up(a,e[2]),e[3]=Up(s,e[3])}function aj(e,t,r,n,a,s){return t=Up(Up(t,e),Up(n,s)),Up(t<<a|t>>>32-a,r)}function nl(e,t,r,n,a,s,i){return aj(t&r|~t&n,e,t,a,s,i)}function al(e,t,r,n,a,s,i){return aj(t&n|r&~n,e,t,a,s,i)}function sl(e,t,r,n,a,s,i){return aj(t^r^n,e,t,a,s,i)}function il(e,t,r,n,a,s,i){return aj(r^(t|~n),e,t,a,s,i)}function Bde(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)HF(n,yqe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(HF(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,HF(n,a),n}function yqe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}z2=qr.atob.bind(qr),uR=qr.btoa.bind(qr);var NY="0123456789abcdef".split("");function wqe(e){for(var t="",r=0;r<4;r++)t+=NY[e>>8*r+4&15]+NY[e>>8*r&15];return t}function Cqe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function dR(e){return Bde(e).map(Cqe).join("")}var Eqe=function(e){for(var t=0;t<e.length;t++)e[t]=wqe(e[t]);return e.join("")}(Bde("hello"))!="5d41402abc4b2a76b9719d911017c592";function Up(e,t){if(Eqe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fR(e,t){var r,n,a,s;if(e!==r){for(var i=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+i.charCodeAt(c))%256,o[c]=o[u],o[u]=d}r=e,n=o}else o=n;var f=t.length,h=0,p=0,g="";for(c=0;c<f;c++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,i=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(c)^i);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var kY={print:4,modify:8,copy:16,"annot-forms":32};function p1(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(kY.perm!==void 0)throw new Error("Invalid permission: "+o);a+=kY[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=dR(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=fR(this.encryptionKey,this.padding)}function m1(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function TY(e){if(_a(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var i=t[r][s];try{i[0].apply(e,n)}catch(o){qr.console&&Ra.error("jsPDF PubSub Error",o.message,o)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function hk(e){if(!(this instanceof hk))return new hk(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function jde(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ig(e,t,r,n,a){if(!(this instanceof Ig))return new Ig(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,jde.call(this,n,a)}function N1(e,t,r,n,a){if(!(this instanceof N1))return new N1(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,jde.call(this,n,a)}function Sr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,c=16,u="S",d=null;_a(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),i=e.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=TY;var g="1.3",x=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(J){g=J};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(J){return v[J]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},E=w.COMPAT;function k(){this.saveGraphicsState(),he(new yt(ut,0,0,-ut,0,eo()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),u="n",E=w.ADVANCED}function B(){this.restoreGraphicsState(),u="S",E=w.COMPAT}var j=p.__private__.combineFontStyleAndFontWeight=function(J,Ae){if(J=="bold"&&Ae=="normal"||J=="bold"&&Ae==400||J=="normal"&&Ae=="italic"||J=="bold"&&Ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ae&&(J=Ae==400||Ae==="normal"?J==="italic"?"italic":"normal":Ae!=700&&Ae!=="bold"||J!=="normal"?(Ae==700?"bold":Ae)+""+J:"bold"),J};p.advancedAPI=function(J){var Ae=E===w.COMPAT;return Ae&&k.call(this),typeof J!="function"||(J(this),Ae&&B.call(this)),this},p.compatAPI=function(J){var Ae=E===w.ADVANCED;return Ae&&B.call(this),typeof J!="function"||(J(this),Ae&&k.call(this)),this},p.isAdvancedAPI=function(){return E===w.ADVANCED};var C,N=function(J){if(E!==w.ADVANCED)throw new Error(J+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(J,Ae){var Pe=t||Ae;if(isNaN(J)||isNaN(Pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return J.toFixed(Pe).replace(/0+$/,"")};C=p.hpf=p.__private__.hpf=typeof c=="number"?function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return I(J,c)}:c==="smart"?function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return I(J,J>-1&&J<1?16:5)}:function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return I(J,16)};var L=p.f2=p.__private__.f2=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.f2");return I(J,2)},O=p.__private__.f3=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.f3");return I(J,3)},T=p.scale=p.__private__.scale=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.scale");return E===w.COMPAT?J*ut:E===w.ADVANCED?J:void 0},P=function(J){return E===w.COMPAT?eo()-J:E===w.ADVANCED?J:void 0},R=function(J){return T(P(J))};p.__private__.setPrecision=p.setPrecision=function(J){typeof parseInt(J,10)=="number"&&(t=parseInt(J,10))};var q,Q="00000000000000000000000000000000",G=p.__private__.getFileId=function(){return Q},K=p.__private__.setFileId=function(J){return Q=J!==void 0&&/^[a-fA-F0-9]{32}$/.test(J)?J.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ga=new p1(d.userPermissions,d.userPassword,d.ownerPassword,Q)),Q};p.setFileId=function(J){return K(J),this},p.getFileId=function(){return G()};var z=p.__private__.convertDateToPDFDate=function(J){var Ae=J.getTimezoneOffset(),Pe=Ae<0?"+":"-",Me=Math.floor(Math.abs(Ae/60)),qe=Math.abs(Ae%60),bt=[Pe,W(Me),"'",W(qe),"'"].join("");return["D:",J.getFullYear(),W(J.getMonth()+1),W(J.getDate()),W(J.getHours()),W(J.getMinutes()),W(J.getSeconds()),bt].join("")},Y=p.__private__.convertPDFDateToDate=function(J){var Ae=parseInt(J.substr(2,4),10),Pe=parseInt(J.substr(6,2),10)-1,Me=parseInt(J.substr(8,2),10),qe=parseInt(J.substr(10,2),10),bt=parseInt(J.substr(12,2),10),Qt=parseInt(J.substr(14,2),10);return new Date(Ae,Pe,Me,qe,bt,Qt,0)},ee=p.__private__.setCreationDate=function(J){var Ae;if(J===void 0&&(J=new Date),J instanceof Date)Ae=z(J);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(J))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ae=J}return q=Ae},M=p.__private__.getCreationDate=function(J){var Ae=q;return J==="jsDate"&&(Ae=Y(q)),Ae};p.setCreationDate=function(J){return ee(J),this},p.getCreationDate=function(J){return M(J)};var H,W=p.__private__.padd2=function(J){return("0"+parseInt(J)).slice(-2)},Z=p.__private__.padd2Hex=function(J){return("00"+(J=J.toString())).substr(J.length)},ae=0,oe=[],se=[],ce=0,de=[],ke=[],re=!1,_e=se,Ne=function(){ae=0,ce=0,se=[],oe=[],de=[],Ee=tn(),we=tn()};p.__private__.setCustomOutputDestination=function(J){re=!0,_e=J};var Se=function(J){re||(_e=J)};p.__private__.resetCustomOutputDestination=function(){re=!1,_e=se};var he=p.__private__.out=function(J){return J=J.toString(),ce+=J.length+1,_e.push(J),_e},Be=p.__private__.write=function(J){return he(arguments.length===1?J.toString():Array.prototype.join.call(arguments," "))},Le=p.__private__.getArrayBuffer=function(J){for(var Ae=J.length,Pe=new ArrayBuffer(Ae),Me=new Uint8Array(Pe);Ae--;)Me[Ae]=J.charCodeAt(Ae);return Pe},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ge};var xe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(J){return xe=E===w.ADVANCED?J/ut:J,this};var Ie,De=p.__private__.getFontSize=p.getFontSize=function(){return E===w.COMPAT?xe:xe*ut},Ve=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(J){return Ve=J,this},p.__private__.getR2L=p.getR2L=function(){return Ve};var We,at=p.__private__.setZoomMode=function(J){var Ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(J))Ie=J;else if(isNaN(J)){if(Ae.indexOf(J)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+J+'" is not recognized.');Ie=J}else Ie=parseInt(J,10)};p.__private__.getZoomMode=function(){return Ie};var ht,Tt=p.__private__.setPageMode=function(J){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(J)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+J+'" is not recognized.');We=J};p.__private__.getPageMode=function(){return We};var Rt=p.__private__.setLayoutMode=function(J){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(J)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+J+'" is not recognized.');ht=J};p.__private__.getLayoutMode=function(){return ht},p.__private__.setDisplayMode=p.setDisplayMode=function(J,Ae,Pe){return at(J),Rt(Ae),Tt(Pe),this};var Ft={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(J){if(Object.keys(Ft).indexOf(J)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ft[J]},p.__private__.getDocumentProperties=function(){return Ft},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(J){for(var Ae in Ft)Ft.hasOwnProperty(Ae)&&J[Ae]&&(Ft[Ae]=J[Ae]);return this},p.__private__.setDocumentProperty=function(J,Ae){if(Object.keys(Ft).indexOf(J)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ft[J]=Ae};var Pt,ut,Cr,Kt,ln,kr={},Mr={},En=[],Pr={},or={},gr={},en={},zn=null,rn=0,yr=[],tt=new TY(p),xt=e.hotfixes||[],et={},vt={},Ct=[],yt=function J(Ae,Pe,Me,qe,bt,Qt){if(!(this instanceof J))return new J(Ae,Pe,Me,qe,bt,Qt);isNaN(Ae)&&(Ae=1),isNaN(Pe)&&(Pe=0),isNaN(Me)&&(Me=0),isNaN(qe)&&(qe=1),isNaN(bt)&&(bt=0),isNaN(Qt)&&(Qt=0),this._matrix=[Ae,Pe,Me,qe,bt,Qt]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(J){this._matrix[0]=J}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(J){this._matrix[1]=J}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(J){this._matrix[2]=J}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(J){this._matrix[3]=J}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(J){this._matrix[4]=J}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(J){this._matrix[5]=J}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(J){this._matrix[0]=J}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(J){this._matrix[1]=J}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(J){this._matrix[2]=J}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(J){this._matrix[3]=J}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(J){this._matrix[4]=J}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(J){this._matrix[5]=J}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(J){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(J)},yt.prototype.multiply=function(J){var Ae=J.sx*this.sx+J.shy*this.shx,Pe=J.sx*this.shy+J.shy*this.sy,Me=J.shx*this.sx+J.sy*this.shx,qe=J.shx*this.shy+J.sy*this.sy,bt=J.tx*this.sx+J.ty*this.shx+this.tx,Qt=J.tx*this.shy+J.ty*this.sy+this.ty;return new yt(Ae,Pe,Me,qe,bt,Qt)},yt.prototype.decompose=function(){var J=this.sx,Ae=this.shy,Pe=this.shx,Me=this.sy,qe=this.tx,bt=this.ty,Qt=Math.sqrt(J*J+Ae*Ae),rr=(J/=Qt)*Pe+(Ae/=Qt)*Me;Pe-=J*rr,Me-=Ae*rr;var D=Math.sqrt(Pe*Pe+Me*Me);return rr/=D,J*(Me/=D)<Ae*(Pe/=D)&&(J=-J,Ae=-Ae,rr=-rr,Qt=-Qt),{scale:new yt(Qt,0,0,D,0,0),translate:new yt(1,0,0,1,qe,bt),rotate:new yt(J,Ae,-Ae,J,0,0),skew:new yt(1,0,rr,1,0,0)}},yt.prototype.toString=function(J){return this.join(" ")},yt.prototype.inversed=function(){var J=this.sx,Ae=this.shy,Pe=this.shx,Me=this.sy,qe=this.tx,bt=this.ty,Qt=1/(J*Me-Ae*Pe),rr=Me*Qt,D=-Ae*Qt,ne=-Pe*Qt,le=J*Qt;return new yt(rr,D,ne,le,-rr*qe-ne*bt,-D*qe-le*bt)},yt.prototype.applyToPoint=function(J){var Ae=J.x*this.sx+J.y*this.shx+this.tx,Pe=J.x*this.shy+J.y*this.sy+this.ty;return new Td(Ae,Pe)},yt.prototype.applyToRectangle=function(J){var Ae=this.applyToPoint(J),Pe=this.applyToPoint(new Td(J.x+J.w,J.y+J.h));return new Df(Ae.x,Ae.y,Pe.x-Ae.x,Pe.y-Ae.y)},yt.prototype.clone=function(){var J=this.sx,Ae=this.shy,Pe=this.shx,Me=this.sy,qe=this.tx,bt=this.ty;return new yt(J,Ae,Pe,Me,qe,bt)},p.Matrix=yt;var sr=p.matrixMult=function(J,Ae){return Ae.multiply(J)},Er=new yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Er;var nn=function(J,Ae){if(!or[J]){var Pe=(Ae instanceof Ig?"Sh":"P")+(Object.keys(Pr).length+1).toString(10);Ae.id=Pe,or[J]=Pe,Pr[Pe]=Ae,tt.publish("addPattern",Ae)}};p.ShadingPattern=Ig,p.TilingPattern=N1,p.addShadingPattern=function(J,Ae){return N("addShadingPattern()"),nn(J,Ae),this},p.beginTilingPattern=function(J){N("beginTilingPattern()"),ju(J.boundingBox[0],J.boundingBox[1],J.boundingBox[2]-J.boundingBox[0],J.boundingBox[3]-J.boundingBox[1],J.matrix)},p.endTilingPattern=function(J,Ae){N("endTilingPattern()"),Ae.stream=ke[H].join(`
`),nn(J,Ae),tt.publish("endTilingPattern",Ae),Ct.pop().restore()};var cn=p.__private__.newObject=function(){var J=tn();return pe(J,!0),J},tn=p.__private__.newObjectDeferred=function(){return ae++,oe[ae]=function(){return ce},ae},pe=function(J,Ae){return Ae=typeof Ae=="boolean"&&Ae,oe[J]=ce,Ae&&he(J+" 0 obj"),J},Fe=p.__private__.newAdditionalObject=function(){var J={objId:tn(),content:""};return de.push(J),J},Ee=tn(),we=tn(),Te=p.__private__.decodeColorString=function(J){var Ae=J.split(" ");if(Ae.length!==2||Ae[1]!=="g"&&Ae[1]!=="G")Ae.length===5&&(Ae[4]==="k"||Ae[4]==="K")&&(Ae=[(1-Ae[0])*(1-Ae[3]),(1-Ae[1])*(1-Ae[3]),(1-Ae[2])*(1-Ae[3]),"r"]);else{var Pe=parseFloat(Ae[0]);Ae=[Pe,Pe,Pe,"r"]}for(var Me="#",qe=0;qe<3;qe++)Me+=("0"+Math.floor(255*parseFloat(Ae[qe])).toString(16)).slice(-2);return Me},Oe=p.__private__.encodeColorString=function(J){var Ae;typeof J=="string"&&(J={ch1:J});var Pe=J.ch1,Me=J.ch2,qe=J.ch3,bt=J.ch4,Qt=J.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Pe=="string"&&Pe.charAt(0)!=="#"){var rr=new Tde(Pe);if(rr.ok)Pe=rr.toHex();else if(!/^\d*\.?\d*$/.test(Pe))throw new Error('Invalid color "'+Pe+'" passed to jsPDF.encodeColorString.')}if(typeof Pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Pe)&&(Pe="#"+Pe[1]+Pe[1]+Pe[2]+Pe[2]+Pe[3]+Pe[3]),typeof Pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Pe)){var D=parseInt(Pe.substr(1),16);Pe=D>>16&255,Me=D>>8&255,qe=255&D}if(Me===void 0||bt===void 0&&Pe===Me&&Me===qe)if(typeof Pe=="string")Ae=Pe+" "+Qt[0];else switch(J.precision){case 2:Ae=L(Pe/255)+" "+Qt[0];break;case 3:default:Ae=O(Pe/255)+" "+Qt[0]}else if(bt===void 0||_a(bt)==="object"){if(bt&&!isNaN(bt.a)&&bt.a===0)return Ae=["1.","1.","1.",Qt[1]].join(" ");if(typeof Pe=="string")Ae=[Pe,Me,qe,Qt[1]].join(" ");else switch(J.precision){case 2:Ae=[L(Pe/255),L(Me/255),L(qe/255),Qt[1]].join(" ");break;default:case 3:Ae=[O(Pe/255),O(Me/255),O(qe/255),Qt[1]].join(" ")}}else if(typeof Pe=="string")Ae=[Pe,Me,qe,bt,Qt[2]].join(" ");else switch(J.precision){case 2:Ae=[L(Pe),L(Me),L(qe),L(bt),Qt[2]].join(" ");break;case 3:default:Ae=[O(Pe),O(Me),O(qe),O(bt),Qt[2]].join(" ")}return Ae},Je=p.__private__.getFilters=function(){return i},ft=p.__private__.putStream=function(J){var Ae=(J=J||{}).data||"",Pe=J.filters||Je(),Me=J.alreadyAppliedFilters||[],qe=J.addLength1||!1,bt=Ae.length,Qt=J.objectId,rr=function(Qr){return Qr};if(d!==null&&Qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(rr=ga.encryptor(Qt,0));var D={};Pe===!0&&(Pe=["FlateEncode"]);var ne=J.additionalKeyValues||[],le=(D=Sr.API.processDataByFilters!==void 0?Sr.API.processDataByFilters(Ae,Pe):{data:Ae,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(D.data.length!==0&&(ne.push({key:"Length",value:D.data.length}),qe===!0&&ne.push({key:"Length1",value:bt})),le.length!=0)if(le.split("/").length-1==1)ne.push({key:"Filter",value:le});else{ne.push({key:"Filter",value:"["+le+"]"});for(var be=0;be<ne.length;be+=1)if(ne[be].key==="DecodeParms"){for(var ze=[],lt=0;lt<D.reverseChain.split("/").length-1;lt+=1)ze.push("null");ze.push(ne[be].value),ne[be].value="["+ze.join(" ")+"]"}}he("<<");for(var Ht=0;Ht<ne.length;Ht++)he("/"+ne[Ht].key+" "+ne[Ht].value);he(">>"),D.data.length!==0&&(he("stream"),he(rr(D.data)),he("endstream"))},Ke=p.__private__.putPage=function(J){var Ae=J.number,Pe=J.data,Me=J.objId,qe=J.contentsObjId;pe(Me,!0),he("<</Type /Page"),he("/Parent "+J.rootDictionaryObjId+" 0 R"),he("/Resources "+J.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(C(J.mediaBox.bottomLeftX))+" "+parseFloat(C(J.mediaBox.bottomLeftY))+" "+C(J.mediaBox.topRightX)+" "+C(J.mediaBox.topRightY)+"]"),J.cropBox!==null&&he("/CropBox ["+C(J.cropBox.bottomLeftX)+" "+C(J.cropBox.bottomLeftY)+" "+C(J.cropBox.topRightX)+" "+C(J.cropBox.topRightY)+"]"),J.bleedBox!==null&&he("/BleedBox ["+C(J.bleedBox.bottomLeftX)+" "+C(J.bleedBox.bottomLeftY)+" "+C(J.bleedBox.topRightX)+" "+C(J.bleedBox.topRightY)+"]"),J.trimBox!==null&&he("/TrimBox ["+C(J.trimBox.bottomLeftX)+" "+C(J.trimBox.bottomLeftY)+" "+C(J.trimBox.topRightX)+" "+C(J.trimBox.topRightY)+"]"),J.artBox!==null&&he("/ArtBox ["+C(J.artBox.bottomLeftX)+" "+C(J.artBox.bottomLeftY)+" "+C(J.artBox.topRightX)+" "+C(J.artBox.topRightY)+"]"),typeof J.userUnit=="number"&&J.userUnit!==1&&he("/UserUnit "+J.userUnit),tt.publish("putPage",{objId:Me,pageContext:yr[Ae],pageNumber:Ae,page:Pe}),he("/Contents "+qe+" 0 R"),he(">>"),he("endobj");var bt=Pe.join(`
`);return E===w.ADVANCED&&(bt+=`
Q`),pe(qe,!0),ft({data:bt,filters:Je(),objectId:qe}),he("endobj"),Me},nt=p.__private__.putPages=function(){var J,Ae,Pe=[];for(J=1;J<=rn;J++)yr[J].objId=tn(),yr[J].contentsObjId=tn();for(J=1;J<=rn;J++)Pe.push(Ke({number:J,data:ke[J],objId:yr[J].objId,contentsObjId:yr[J].contentsObjId,mediaBox:yr[J].mediaBox,cropBox:yr[J].cropBox,bleedBox:yr[J].bleedBox,trimBox:yr[J].trimBox,artBox:yr[J].artBox,userUnit:yr[J].userUnit,rootDictionaryObjId:Ee,resourceDictionaryObjId:we}));pe(Ee,!0),he("<</Type /Pages");var Me="/Kids [";for(Ae=0;Ae<rn;Ae++)Me+=Pe[Ae]+" 0 R ";he(Me+"]"),he("/Count "+rn),he(">>"),he("endobj"),tt.publish("postPutPages")},ot=function(J){tt.publish("putFont",{font:J,out:he,newObject:cn,putStream:ft}),J.isAlreadyPutted!==!0&&(J.objectNumber=cn(),he("<<"),he("/Type /Font"),he("/BaseFont /"+m1(J.postScriptName)),he("/Subtype /Type1"),typeof J.encoding=="string"&&he("/Encoding /"+J.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},Dt=function(){for(var J in kr)kr.hasOwnProperty(J)&&(f===!1||f===!0&&h.hasOwnProperty(J))&&ot(kr[J])},Vt=function(J){J.objectNumber=cn();var Ae=[];Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Form"}),Ae.push({key:"BBox",value:"["+[C(J.x),C(J.y),C(J.x+J.width),C(J.y+J.height)].join(" ")+"]"}),Ae.push({key:"Matrix",value:"["+J.matrix.toString()+"]"});var Pe=J.pages[1].join(`
`);ft({data:Pe,additionalKeyValues:Ae,objectId:J.objectNumber}),he("endobj")},tr=function(){for(var J in et)et.hasOwnProperty(J)&&Vt(et[J])},$t=function(J,Ae){var Pe,Me=[],qe=1/(Ae-1);for(Pe=0;Pe<1;Pe+=qe)Me.push(Pe);if(Me.push(1),J[0].offset!=0){var bt={offset:0,color:J[0].color};J.unshift(bt)}if(J[J.length-1].offset!=1){var Qt={offset:1,color:J[J.length-1].color};J.push(Qt)}for(var rr="",D=0,ne=0;ne<Me.length;ne++){for(Pe=Me[ne];Pe>J[D+1].offset;)D++;var le=J[D].offset,be=(Pe-le)/(J[D+1].offset-le),ze=J[D].color,lt=J[D+1].color;rr+=Z(Math.round((1-be)*ze[0]+be*lt[0]).toString(16))+Z(Math.round((1-be)*ze[1]+be*lt[1]).toString(16))+Z(Math.round((1-be)*ze[2]+be*lt[2]).toString(16))}return rr.trim()},qt=function(J,Ae){Ae||(Ae=21);var Pe=cn(),Me=$t(J.colors,Ae),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+Ae+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ft({data:Me,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Pe}),he("endobj"),J.objectNumber=cn(),he("<< /ShadingType "+J.type),he("/ColorSpace /DeviceRGB");var bt="/Coords ["+C(parseFloat(J.coords[0]))+" "+C(parseFloat(J.coords[1]))+" ";J.type===2?bt+=C(parseFloat(J.coords[2]))+" "+C(parseFloat(J.coords[3])):bt+=C(parseFloat(J.coords[2]))+" "+C(parseFloat(J.coords[3]))+" "+C(parseFloat(J.coords[4]))+" "+C(parseFloat(J.coords[5])),he(bt+="]"),J.matrix&&he("/Matrix ["+J.matrix.toString()+"]"),he("/Function "+Pe+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},Fr=function(J,Ae){var Pe=tn(),Me=cn();Ae.push({resourcesOid:Pe,objectOid:Me}),J.objectNumber=Me;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+J.boundingBox.map(C).join(" ")+"]"}),qe.push({key:"XStep",value:C(J.xStep)}),qe.push({key:"YStep",value:C(J.yStep)}),qe.push({key:"Resources",value:Pe+" 0 R"}),J.matrix&&qe.push({key:"Matrix",value:"["+J.matrix.toString()+"]"}),ft({data:J.stream,additionalKeyValues:qe,objectId:J.objectNumber}),he("endobj")},An=function(J){var Ae;for(Ae in Pr)Pr.hasOwnProperty(Ae)&&(Pr[Ae]instanceof Ig?qt(Pr[Ae]):Pr[Ae]instanceof N1&&Fr(Pr[Ae],J))},hn=function(J){for(var Ae in J.objectNumber=cn(),he("<<"),J)switch(Ae){case"opacity":he("/ca "+L(J[Ae]));break;case"stroke-opacity":he("/CA "+L(J[Ae]))}he(">>"),he("endobj")},vn=function(){var J;for(J in gr)gr.hasOwnProperty(J)&&hn(gr[J])},Ns=function(){for(var J in he("/XObject <<"),et)et.hasOwnProperty(J)&&et[J].objectNumber>=0&&he("/"+J+" "+et[J].objectNumber+" 0 R");tt.publish("putXobjectDict"),he(">>")},Vo=function(){ga.oid=cn(),he("<<"),he("/Filter /Standard"),he("/V "+ga.v),he("/R "+ga.r),he("/U <"+ga.toHexString(ga.U)+">"),he("/O <"+ga.toHexString(ga.O)+">"),he("/P "+ga.P),he(">>"),he("endobj")},ks=function(){for(var J in he("/Font <<"),kr)kr.hasOwnProperty(J)&&(f===!1||f===!0&&h.hasOwnProperty(J))&&he("/"+J+" "+kr[J].objectNumber+" 0 R");he(">>")},mi=function(){if(Object.keys(Pr).length>0){for(var J in he("/Shading <<"),Pr)Pr.hasOwnProperty(J)&&Pr[J]instanceof Ig&&Pr[J].objectNumber>=0&&he("/"+J+" "+Pr[J].objectNumber+" 0 R");tt.publish("putShadingPatternDict"),he(">>")}},qs=function(J){if(Object.keys(Pr).length>0){for(var Ae in he("/Pattern <<"),Pr)Pr.hasOwnProperty(Ae)&&Pr[Ae]instanceof p.TilingPattern&&Pr[Ae].objectNumber>=0&&Pr[Ae].objectNumber<J&&he("/"+Ae+" "+Pr[Ae].objectNumber+" 0 R");tt.publish("putTilingPatternDict"),he(">>")}},Oi=function(){if(Object.keys(gr).length>0){var J;for(J in he("/ExtGState <<"),gr)gr.hasOwnProperty(J)&&gr[J].objectNumber>=0&&he("/"+J+" "+gr[J].objectNumber+" 0 R");tt.publish("putGStateDict"),he(">>")}},Ta=function(J){pe(J.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ks(),mi(),qs(J.objectOid),Oi(),Ns(),he(">>"),he("endobj")},gi=function(){var J=[];Dt(),vn(),tr(),An(J),tt.publish("putResources"),J.forEach(Ta),Ta({resourcesOid:we,objectOid:Number.MAX_SAFE_INTEGER}),tt.publish("postPutResources")},Bf=function(){tt.publish("putAdditionalObjects");for(var J=0;J<de.length;J++){var Ae=de[J];pe(Ae.objId,!0),he(Ae.content),he("endobj")}tt.publish("postPutAdditionalObjects")},F0=function(J){Mr[J.fontName]=Mr[J.fontName]||{},Mr[J.fontName][J.fontStyle]=J.id},wu=function(J,Ae,Pe,Me,qe){var bt={id:"F"+(Object.keys(kr).length+1).toString(10),postScriptName:J,fontName:Ae,fontStyle:Pe,encoding:Me,isStandardFont:qe||!1,metadata:{}};return tt.publish("addFont",{font:bt,instance:this}),kr[bt.id]=bt,F0(bt),bt.id},YA=function(J){for(var Ae=0,Pe=Ge.length;Ae<Pe;Ae++){var Me=wu.call(this,J[Ae][0],J[Ae][1],J[Ae][2],Ge[Ae][3],!0);f===!1&&(h[Me]=!0);var qe=J[Ae][0].split("-");F0({id:Me,fontName:qe[0],fontStyle:qe[1]||""})}tt.publish("addFonts",{fonts:kr,dictionary:Mr})},Di=function(J){return J.foo=function(){try{return J.apply(this,arguments)}catch(Me){var Ae=Me.stack||"";~Ae.indexOf(" at ")&&(Ae=Ae.split(" at ")[1]);var Pe="Error in function "+Ae.split(`
`)[0].split("<")[0]+": "+Me.message;if(!qr.console)throw new Error(Pe);qr.console.error(Pe,Me),qr.alert&&alert(Pe)}},J.foo.bar=J,J.foo},jf=function(J,Ae){var Pe,Me,qe,bt,Qt,rr,D,ne,le;if(qe=(Ae=Ae||{}).sourceEncoding||"Unicode",Qt=Ae.outputEncoding,(Ae.autoencode||Qt)&&kr[Pt].metadata&&kr[Pt].metadata[qe]&&kr[Pt].metadata[qe].encoding&&(bt=kr[Pt].metadata[qe].encoding,!Qt&&kr[Pt].encoding&&(Qt=kr[Pt].encoding),!Qt&&bt.codePages&&(Qt=bt.codePages[0]),typeof Qt=="string"&&(Qt=bt[Qt]),Qt)){for(D=!1,rr=[],Pe=0,Me=J.length;Pe<Me;Pe++)(ne=Qt[J.charCodeAt(Pe)])?rr.push(String.fromCharCode(ne)):rr.push(J[Pe]),rr[Pe].charCodeAt(0)>>8&&(D=!0);J=rr.join("")}for(Pe=J.length;D===void 0&&Pe!==0;)J.charCodeAt(Pe-1)>>8&&(D=!0),Pe--;if(!D)return J;for(rr=Ae.noBOM?[]:[254,255],Pe=0,Me=J.length;Pe<Me;Pe++){if((le=(ne=J.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rr.push(le),rr.push(ne-(le<<8))}return String.fromCharCode.apply(void 0,rr)},Mn=p.__private__.pdfEscape=p.pdfEscape=function(J,Ae){return jf(J,Ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pi=p.__private__.beginPage=function(J){ke[++rn]=[],yr[rn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(J[0]),topRightY:Number(J[1])}},Yl(rn),Se(ke[H])},Cu=function(J,Ae){var Pe,Me,qe;switch(r=Ae||r,typeof J=="string"&&(Pe=y(J.toLowerCase()),Array.isArray(Pe)&&(Me=Pe[0],qe=Pe[1])),Array.isArray(J)&&(Me=J[0]*ut,qe=J[1]*ut),isNaN(Me)&&(Me=a[0],qe=a[1]),(Me>14400||qe>14400)&&(Ra.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),qe=Math.min(14400,qe)),a=[Me,qe],r.substr(0,1)){case"l":qe>Me&&(a=[qe,Me]);break;case"p":Me>qe&&(a=[qe,Me])}Pi(a),th(Nu),he(Ri),rh!==0&&he(rh+" J"),kd!==0&&he(kd+" j"),tt.publish("addPage",{pageNumber:rn})},Eu=function(J){J>0&&J<=rn&&(ke.splice(J,1),yr.splice(J,1),rn--,H>rn&&(H=rn),this.setPage(H))},Yl=function(J){J>0&&J<=rn&&(H=J)},Xn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ke.length-1},Su=function(J,Ae,Pe){var Me,qe=void 0;return Pe=Pe||{},J=J!==void 0?J:kr[Pt].fontName,Ae=Ae!==void 0?Ae:kr[Pt].fontStyle,Me=J.toLowerCase(),Mr[Me]!==void 0&&Mr[Me][Ae]!==void 0?qe=Mr[Me][Ae]:Mr[J]!==void 0&&Mr[J][Ae]!==void 0?qe=Mr[J][Ae]:Pe.disableWarning===!1&&Ra.warn("Unable to look up font label for font '"+J+"', '"+Ae+"'. Refer to getFontList() for available fonts."),qe||Pe.noFallback||(qe=Mr.times[Ae])==null&&(qe=Mr.times.normal),qe},zo=p.__private__.putInfo=function(){var J=cn(),Ae=function(Me){return Me};for(var Pe in d!==null&&(Ae=ga.encryptor(J,0)),he("<<"),he("/Producer ("+Mn(Ae("jsPDF "+Sr.version))+")"),Ft)Ft.hasOwnProperty(Pe)&&Ft[Pe]&&he("/"+Pe.substr(0,1).toUpperCase()+Pe.substr(1)+" ("+Mn(Ae(Ft[Pe]))+")");he("/CreationDate ("+Mn(Ae(q))+")"),he(">>"),he("endobj")},Ic=p.__private__.putCatalog=function(J){var Ae=(J=J||{}).rootDictionaryObjId||Ee;switch(cn(),he("<<"),he("/Type /Catalog"),he("/Pages "+Ae+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Pe=""+Ie;Pe.substr(Pe.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&he("/OpenAction [3 0 R /XYZ null null "+L(Ie)+"]")}switch(ht||(ht="continuous"),ht){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}We&&he("/PageMode /"+We),tt.publish("putCatalog"),he(">>"),he("endobj")},O0=p.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(ae+1)),he("/Root "+ae+" 0 R"),he("/Info "+(ae-1)+" 0 R"),d!==null&&he("/Encrypt "+ga.oid+" 0 R"),he("/ID [ <"+Q+"> <"+Q+"> ]"),he(">>")},JA=p.__private__.putHeader=function(){he("%PDF-"+g),he("%ºß¬à")},ZA=p.__private__.putXRef=function(){var J="0000000000";he("xref"),he("0 "+(ae+1)),he("0000000000 65535 f ");for(var Ae=1;Ae<=ae;Ae++)typeof oe[Ae]=="function"?he((J+oe[Ae]()).slice(-10)+" 00000 n "):oe[Ae]!==void 0?he((J+oe[Ae]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},Fc=p.__private__.buildDocument=function(){Ne(),Se(se),tt.publish("buildDocument"),JA(),nt(),Bf(),gi(),d!==null&&Vo(),zo(),Ic();var J=ce;return ZA(),O0(),he("startxref"),he(""+J),he("%%EOF"),Se(ke[H]),se.join(`
`)},If=p.__private__.getBlob=function(J){return new Blob([Le(J)],{type:"application/pdf"})},Oc=p.output=p.__private__.output=Di(function(J,Ae){switch(typeof(Ae=Ae||{})=="string"?Ae={filename:Ae}:Ae.filename=Ae.filename||"generated.pdf",J){case void 0:return Fc();case"save":p.save(Ae.filename);break;case"arraybuffer":return Le(Fc());case"blob":return If(Fc());case"bloburi":case"bloburl":if(qr.URL!==void 0&&typeof qr.URL.createObjectURL=="function")return qr.URL&&qr.URL.createObjectURL(If(Fc()))||void 0;Ra.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Pe="",Me=Fc();try{Pe=uR(Me)}catch{Pe=uR(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+Ae.filename+";base64,"+Pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qr)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ae.pdfObjectUrl&&(qe=Ae.pdfObjectUrl,bt="");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ae)+");<\/script></body></html>",rr=qr.open();return rr!==null&&rr.document.write(Qt),rr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qr)==="[object Window]"){var D='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ae.filename+'" width="500px" height="400px" /></body></html>',ne=qr.open();if(ne!==null){ne.document.write(D);var le=this;ne.document.documentElement.querySelector("#pdfViewer").onload=function(){ne.document.title=Ae.filename,ne.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(le.output("bloburl"))}}return ne}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ae)+'"></iframe></body></html>',ze=qr.open();if(ze!==null&&(ze.document.write(be),ze.document.title=Ae.filename),ze||typeof safari>"u")return ze;break;case"datauri":case"dataurl":return qr.document.location.href=this.output("datauristring",Ae);default:return null}}),Jl=function(J){return Array.isArray(xt)===!0&&xt.indexOf(J)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Jl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var ga=null;ee(),K();var Dc=function(J){return d!==null?ga.encryptor(J,0):function(Ae){return Ae}},Zl=p.__private__.getPageInfo=p.getPageInfo=function(J){if(isNaN(J)||J%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yr[J].objId,pageNumber:J,pageContext:yr[J]}},Ur=p.__private__.getPageInfoByObjId=function(J){if(isNaN(J)||J%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ae in yr)if(yr[Ae].objId===J)break;return Zl(Ae)},ec=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:yr[H].objId,pageNumber:H,pageContext:yr[H]}};p.addPage=function(){return Cu.apply(this,arguments),this},p.setPage=function(){return Yl.apply(this,arguments),Se.call(this,ke[H]),this},p.insertPage=function(J){return this.addPage(),this.movePage(H,J),this},p.movePage=function(J,Ae){var Pe,Me;if(J>Ae){Pe=ke[J],Me=yr[J];for(var qe=J;qe>Ae;qe--)ke[qe]=ke[qe-1],yr[qe]=yr[qe-1];ke[Ae]=Pe,yr[Ae]=Me,this.setPage(Ae)}else if(J<Ae){Pe=ke[J],Me=yr[J];for(var bt=J;bt<Ae;bt++)ke[bt]=ke[bt+1],yr[bt]=yr[bt+1];ke[Ae]=Pe,yr[Ae]=Me,this.setPage(Ae)}return this},p.deletePage=function(){return Eu.apply(this,arguments),this},p.__private__.text=p.text=function(J,Ae,Pe,Me,qe){var bt,Qt,rr,D,ne,le,be,ze,lt,Ht=(Me=Me||{}).scope||this;if(typeof J=="number"&&typeof Ae=="number"&&(typeof Pe=="string"||Array.isArray(Pe))){var Qr=Pe;Pe=Ae,Ae=J,J=Qr}if(arguments[3]instanceof yt?(N("The transform parameter of text() with a Matrix value"),lt=qe):(rr=arguments[4],D=arguments[5],_a(be=arguments[3])==="object"&&be!==null||(typeof rr=="string"&&(D=rr,rr=null),typeof be=="string"&&(D=be,be=null),typeof be=="number"&&(rr=be,be=null),Me={flags:be,angle:rr,align:D})),isNaN(Ae)||isNaN(Pe)||J==null)throw new Error("Invalid arguments passed to jsPDF.text");if(J.length===0)return Ht;var _n="",an=!1,Yn=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:Sn,ua=Ht.internal.scaleFactor;function ac(yn){return yn=yn.split("	").join(Array(Me.TabLen||9).join(" ")),Mn(yn,be)}function ps(yn){for(var wn,Ba=yn.concat(),ms=[],ic=Ba.length;ic--;)typeof(wn=Ba.shift())=="string"?ms.push(wn):Array.isArray(yn)&&(wn.length===1||wn[1]===void 0&&wn[2]===void 0)?ms.push(wn[0]):ms.push([wn[0],wn[1],wn[2]]);return ms}function Wo(yn,wn){var Ba;if(typeof yn=="string")Ba=wn(yn)[0];else if(Array.isArray(yn)){for(var ms,ic,Gf=yn.concat(),Kf=[],Od=Gf.length;Od--;)typeof(ms=Gf.shift())=="string"?Kf.push(wn(ms)[0]):Array.isArray(ms)&&typeof ms[0]=="string"&&(ic=wn(ms[0],ms[1],ms[2]),Kf.push([ic[0],ic[1],ic[2]]));Ba=Kf}return Ba}var Fu=!1,Rf=!0;if(typeof J=="string")Fu=!0;else if(Array.isArray(J)){var L0=J.concat();Qt=[];for(var nh,Ws=L0.length;Ws--;)(typeof(nh=L0.shift())!="string"||Array.isArray(nh)&&typeof nh[0]!="string")&&(Rf=!1);Fu=Rf}if(Fu===!1)throw new Error('Type of text must be string or Array. "'+J+'" is not recognized.');typeof J=="string"&&(J=J.match(/[\r?\n]/)?J.split(/\r\n|\r|\n/g):[J]);var Lf=xe/Ht.internal.scaleFactor,ah=Lf*(Yn-1);switch(Me.baseline){case"bottom":Pe-=ah;break;case"top":Pe+=Lf-ah;break;case"hanging":Pe+=Lf-2*ah;break;case"middle":Pe+=Lf/2-ah}if((le=Me.maxWidth||0)>0&&(typeof J=="string"?J=Ht.splitTextToSize(J,le):Object.prototype.toString.call(J)==="[object Array]"&&(J=J.reduce(function(yn,wn){return yn.concat(Ht.splitTextToSize(wn,le))},[]))),bt={text:J,x:Ae,y:Pe,options:Me,mutex:{pdfEscape:Mn,activeFontKey:Pt,fonts:kr,activeFontSize:xe}},tt.publish("preProcessText",bt),J=bt.text,rr=(Me=bt.options).angle,!(lt instanceof yt)&&rr&&typeof rr=="number"){rr*=Math.PI/180,Me.rotationDirection===0&&(rr=-rr),E===w.ADVANCED&&(rr=-rr);var sh=Math.cos(rr),M0=Math.sin(rr);lt=new yt(sh,M0,-M0,sh,0,0)}else rr&&rr instanceof yt&&(lt=rr);E!==w.ADVANCED||lt||(lt=Er),(ne=Me.charSpace||Nd)!==void 0&&(_n+=C(T(ne))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ze=Me.horizontalScale)!==void 0&&(_n+=C(100*ze)+` Tz
`),Me.lang;var Xo=-1,Fy=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,Vm=Ht.internal.getCurrentPageInfo().pageContext;switch(Fy){case 0:case!1:case"fill":Xo=0;break;case 1:case!0:case"stroke":Xo=1;break;case 2:case"fillThenStroke":Xo=2;break;case 3:case"invisible":Xo=3;break;case 4:case"fillAndAddForClipping":Xo=4;break;case 5:case"strokeAndAddPathForClipping":Xo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xo=6;break;case 7:case"addToPathForClipping":Xo=7}var tv=Vm.usedRenderingMode!==void 0?Vm.usedRenderingMode:-1;Xo!==-1?_n+=Xo+` Tr
`:tv!==-1&&(_n+=`0 Tr
`),Xo!==-1&&(Vm.usedRenderingMode=Xo),D=Me.align||"left";var sc,xi=xe*Yn,Mf=Ht.internal.pageSize.getWidth(),zm=kr[Pt];ne=Me.charSpace||Nd,le=Me.maxWidth||0,be=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var Id=[],Uf=function(yn){return Ht.getStringUnitWidth(yn,{font:zm,charSpace:ne,fontSize:xe,doKerning:!1})*xe/ua};if(Object.prototype.toString.call(J)==="[object Array]"){var Eo;Qt=ps(J),D!=="left"&&(sc=Qt.map(Uf));var Li,Qf=0;if(D==="right"){Ae-=sc[0],J=[],Ws=Qt.length;for(var Yo=0;Yo<Ws;Yo++)Yo===0?(Li=Zi(Ae),Eo=Bs(Pe)):(Li=T(Qf-sc[Yo]),Eo=-xi),J.push([Qt[Yo],Li,Eo]),Qf=sc[Yo]}else if(D==="center"){Ae-=sc[0]/2,J=[],Ws=Qt.length;for(var Mc=0;Mc<Ws;Mc++)Mc===0?(Li=Zi(Ae),Eo=Bs(Pe)):(Li=T((Qf-sc[Mc])/2),Eo=-xi),J.push([Qt[Mc],Li,Eo]),Qf=sc[Mc]}else if(D==="left"){J=[],Ws=Qt.length;for(var Ou=0;Ou<Ws;Ou++)J.push(Qt[Ou])}else if(D==="justify"&&zm.encoding==="Identity-H"){J=[],Ws=Qt.length,le=le!==0?le:Mf;for(var Uc=0,ss=0;ss<Ws;ss++)if(Eo=ss===0?Bs(Pe):-xi,Li=ss===0?Zi(Ae):Uc,ss<Ws-1){var Qc=T((le-sc[ss])/(Qt[ss].split(" ").length-1)),js=Qt[ss].split(" ");J.push([js[0]+" ",Li,Eo]),Uc=0;for(var Jo=1;Jo<js.length;Jo++){var ih=(Uf(js[Jo-1]+" "+js[Jo])-Uf(js[Jo]))*ua+Qc;Jo==js.length-1?J.push([js[Jo],ih,0]):J.push([js[Jo]+" ",ih,0]),Uc-=ih}}else J.push([Qt[ss],Li,Eo]);J.push(["",Uc,0])}else{if(D!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(J=[],Ws=Qt.length,le=le!==0?le:Mf,ss=0;ss<Ws;ss++)Eo=ss===0?Bs(Pe):-xi,Li=ss===0?Zi(Ae):0,ss<Ws-1?Id.push(C(T((le-sc[ss])/(Qt[ss].split(" ").length-1)))):Id.push(0),J.push([Qt[ss],Li,Eo])}}var Du=typeof Me.R2L=="boolean"?Me.R2L:Ve;Du===!0&&(J=Wo(J,function(yn,wn,Ba){return[yn.split("").reverse().join(""),wn,Ba]})),bt={text:J,x:Ae,y:Pe,options:Me,mutex:{pdfEscape:Mn,activeFontKey:Pt,fonts:kr,activeFontSize:xe}},tt.publish("postProcessText",bt),J=bt.text,an=bt.mutex.isHex||!1;var U0=kr[Pt].encoding;U0!=="WinAnsiEncoding"&&U0!=="StandardEncoding"||(J=Wo(J,function(yn,wn,Ba){return[ac(yn),wn,Ba]})),Qt=ps(J),J=[];for(var Hf,$f,Vf,oh=0,Q0=1,zf=Array.isArray(Qt[0])?Q0:oh,Fd="",lh=function(yn,wn,Ba){var ms="";return Ba instanceof yt?(Ba=typeof Me.angle=="number"?sr(Ba,new yt(1,0,0,1,yn,wn)):sr(new yt(1,0,0,1,yn,wn),Ba),E===w.ADVANCED&&(Ba=sr(new yt(1,0,0,-1,0,0),Ba)),ms=Ba.join(" ")+` Tm
`):ms=C(yn)+" "+C(wn)+` Td
`,ms},is=0;is<Qt.length;is++){switch(Fd="",zf){case Q0:Vf=(an?"<":"(")+Qt[is][0]+(an?">":")"),Hf=parseFloat(Qt[is][1]),$f=parseFloat(Qt[is][2]);break;case oh:Vf=(an?"<":"(")+Qt[is]+(an?">":")"),Hf=Zi(Ae),$f=Bs(Pe)}Id!==void 0&&Id[is]!==void 0&&(Fd=Id[is]+` Tw
`),is===0?J.push(Fd+lh(Hf,$f,lt)+Vf):zf===oh?J.push(Fd+Vf):zf===Q0&&J.push(Fd+lh(Hf,$f,lt)+Vf)}J=zf===oh?J.join(` Tj
T* `):J.join(` Tj
`),J+=` Tj
`;var Fl=`BT
/`;return Fl+=Pt+" "+xe+` Tf
`,Fl+=C(xe*Yn)+` TL
`,Fl+=Rc+`
`,Fl+=_n,Fl+=J,he(Fl+="ET"),h[Pt]=!0,Ht};var D0=p.__private__.clip=p.clip=function(J){return he(J==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return D0("evenodd")},p.__private__.discardPath=p.discardPath=function(){return he("n"),this};var Yi=p.__private__.isValidStyle=function(J){var Ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(J)!==-1&&(Ae=!0),Ae};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(J){return Yi(J)&&(u=J),this};var Go=p.__private__.getStyle=p.getStyle=function(J){var Ae=u;switch(J){case"D":case"S":Ae="S";break;case"F":Ae="f";break;case"FD":case"DF":Ae="B";break;case"f":case"f*":case"B":case"B*":Ae=J}return Ae},Co=p.close=function(){return he("h"),this};p.stroke=function(){return he("S"),this},p.fill=function(J){return tc("f",J),this},p.fillEvenOdd=function(J){return tc("f*",J),this},p.fillStroke=function(J){return tc("B",J),this},p.fillStrokeEvenOdd=function(J){return tc("B*",J),this};var tc=function(J,Ae){_a(Ae)==="object"?Pc(Ae,J):he(J)},Ko=function(J){J===null||E===w.ADVANCED&&J===void 0||(J=Go(J),he(J))};function _u(J,Ae,Pe,Me,qe){var bt=new N1(Ae||this.boundingBox,Pe||this.xStep,Me||this.yStep,this.gState,qe||this.matrix);bt.stream=this.stream;var Qt=J+"$$"+this.cloneIndex+++"$$";return nn(Qt,bt),bt}var Pc=function(J,Ae){var Pe=or[J.key],Me=Pr[Pe];if(Me instanceof Ig)he("q"),he(eh(Ae)),Me.gState&&p.setGState(Me.gState),he(J.matrix.toString()+" cm"),he("/"+Pe+" sh"),he("Q");else if(Me instanceof N1){var qe=new yt(1,0,0,-1,0,eo());J.matrix&&(qe=qe.multiply(J.matrix||Er),Pe=_u.call(Me,J.key,J.boundingBox,J.xStep,J.yStep,qe).id),he("q"),he("/Pattern cs"),he("/"+Pe+" scn"),Me.gState&&p.setGState(Me.gState),he(Ae),he("Q")}},eh=function(J){switch(J){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},qo=p.moveTo=function(J,Ae){return he(C(T(J))+" "+C(R(Ae))+" m"),this},Ji=p.lineTo=function(J,Ae){return he(C(T(J))+" "+C(R(Ae))+" l"),this},rc=p.curveTo=function(J,Ae,Pe,Me,qe,bt){return he([C(T(J)),C(R(Ae)),C(T(Pe)),C(R(Me)),C(T(qe)),C(R(bt)),"c"].join(" ")),this};p.__private__.line=p.line=function(J,Ae,Pe,Me,qe){if(isNaN(J)||isNaN(Ae)||isNaN(Pe)||isNaN(Me)||!Yi(qe))throw new Error("Invalid arguments passed to jsPDF.line");return E===w.COMPAT?this.lines([[Pe-J,Me-Ae]],J,Ae,[1,1],qe||"S"):this.lines([[Pe-J,Me-Ae]],J,Ae,[1,1]).stroke()},p.__private__.lines=p.lines=function(J,Ae,Pe,Me,qe,bt){var Qt,rr,D,ne,le,be,ze,lt,Ht,Qr,_n,an;if(typeof J=="number"&&(an=Pe,Pe=Ae,Ae=J,J=an),Me=Me||[1,1],bt=bt||!1,isNaN(Ae)||isNaN(Pe)||!Array.isArray(J)||!Array.isArray(Me)||!Yi(qe)||typeof bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(qo(Ae,Pe),Qt=Me[0],rr=Me[1],ne=J.length,Qr=Ae,_n=Pe,D=0;D<ne;D++)(le=J[D]).length===2?(Qr=le[0]*Qt+Qr,_n=le[1]*rr+_n,Ji(Qr,_n)):(be=le[0]*Qt+Qr,ze=le[1]*rr+_n,lt=le[2]*Qt+Qr,Ht=le[3]*rr+_n,Qr=le[4]*Qt+Qr,_n=le[5]*rr+_n,rc(be,ze,lt,Ht,Qr,_n));return bt&&Co(),Ko(qe),this},p.path=function(J){for(var Ae=0;Ae<J.length;Ae++){var Pe=J[Ae],Me=Pe.c;switch(Pe.op){case"m":qo(Me[0],Me[1]);break;case"l":Ji(Me[0],Me[1]);break;case"c":rc.apply(this,Me);break;case"h":Co()}}return this},p.__private__.rect=p.rect=function(J,Ae,Pe,Me,qe){if(isNaN(J)||isNaN(Ae)||isNaN(Pe)||isNaN(Me)||!Yi(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return E===w.COMPAT&&(Me=-Me),he([C(T(J)),C(R(Ae)),C(T(Pe)),C(T(Me)),"re"].join(" ")),Ko(qe),this},p.__private__.triangle=p.triangle=function(J,Ae,Pe,Me,qe,bt,Qt){if(isNaN(J)||isNaN(Ae)||isNaN(Pe)||isNaN(Me)||isNaN(qe)||isNaN(bt)||!Yi(Qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Pe-J,Me-Ae],[qe-Pe,bt-Me],[J-qe,Ae-bt]],J,Ae,[1,1],Qt,!0),this},p.__private__.roundedRect=p.roundedRect=function(J,Ae,Pe,Me,qe,bt,Qt){if(isNaN(J)||isNaN(Ae)||isNaN(Pe)||isNaN(Me)||isNaN(qe)||isNaN(bt)||!Yi(Qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rr=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*Pe),bt=Math.min(bt,.5*Me),this.lines([[Pe-2*qe,0],[qe*rr,0,qe,bt-bt*rr,qe,bt],[0,Me-2*bt],[0,bt*rr,-qe*rr,bt,-qe,bt],[2*qe-Pe,0],[-qe*rr,0,-qe,-bt*rr,-qe,-bt],[0,2*bt-Me],[0,-bt*rr,qe*rr,-bt,qe,-bt]],J+qe,Ae,[1,1],Qt,!0),this},p.__private__.ellipse=p.ellipse=function(J,Ae,Pe,Me,qe){if(isNaN(J)||isNaN(Ae)||isNaN(Pe)||isNaN(Me)||!Yi(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*Pe,Qt=4/3*(Math.SQRT2-1)*Me;return qo(J+Pe,Ae),rc(J+Pe,Ae-Qt,J+bt,Ae-Me,J,Ae-Me),rc(J-bt,Ae-Me,J-Pe,Ae-Qt,J-Pe,Ae),rc(J-Pe,Ae+Qt,J-bt,Ae+Me,J,Ae+Me),rc(J+bt,Ae+Me,J+Pe,Ae+Qt,J+Pe,Ae),Ko(qe),this},p.__private__.circle=p.circle=function(J,Ae,Pe,Me){if(isNaN(J)||isNaN(Ae)||isNaN(Pe)||!Yi(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(J,Ae,Pe,Pe,Me)},p.setFont=function(J,Ae,Pe){return Pe&&(Ae=j(Ae,Pe)),Pt=Su(J,Ae,{disableWarning:!1}),this};var Ts=p.__private__.getFont=p.getFont=function(){return kr[Su.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var J,Ae,Pe={};for(J in Mr)if(Mr.hasOwnProperty(J))for(Ae in Pe[J]=[],Mr[J])Mr[J].hasOwnProperty(Ae)&&Pe[J].push(Ae);return Pe},p.addFont=function(J,Ae,Pe,Me,qe){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&bt.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&bt.indexOf(arguments[3])==-1&&(Pe=j(Pe,Me)),qe=qe||"Identity-H",wu.call(this,J,Ae,Pe,qe)};var Sn,Nu=e.lineWidth||.200025,nc=p.__private__.getLineWidth=p.getLineWidth=function(){return Nu},th=p.__private__.setLineWidth=p.setLineWidth=function(J){return Nu=J,he(C(T(J))+" w"),this};p.__private__.setLineDash=Sr.API.setLineDash=Sr.API.setLineDashPattern=function(J,Ae){if(J=J||[],Ae=Ae||0,isNaN(Ae)||!Array.isArray(J))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return J=J.map(function(Pe){return C(T(Pe))}).join(" "),Ae=C(T(Ae)),he("["+J+"] "+Ae+" d"),this};var Sd=p.__private__.getLineHeight=p.getLineHeight=function(){return xe*Sn};p.__private__.getLineHeight=p.getLineHeight=function(){return xe*Sn};var _d=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(J){return typeof(J=J||1.15)=="number"&&(Sn=J),this},Il=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Sn};_d(e.lineHeight);var Zi=p.__private__.getHorizontalCoordinate=function(J){return T(J)},Bs=p.__private__.getVerticalCoordinate=function(J){return E===w.ADVANCED?J:yr[H].mediaBox.topRightY-yr[H].mediaBox.bottomLeftY-T(J)},P0=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(J){return C(Zi(J))},ku=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(J){return C(Bs(J))},Ri=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Te(Ri)},p.__private__.setStrokeColor=p.setDrawColor=function(J,Ae,Pe,Me){return Ri=Oe({ch1:J,ch2:Ae,ch3:Pe,ch4:Me,pdfColorType:"draw",precision:2}),he(Ri),this};var Tu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Te(Tu)},p.__private__.setFillColor=p.setFillColor=function(J,Ae,Pe,Me){return Tu=Oe({ch1:J,ch2:Ae,ch3:Pe,ch4:Me,pdfColorType:"fill",precision:2}),he(Tu),this};var Rc=e.textColor||"0 g",Ff=p.__private__.getTextColor=p.getTextColor=function(){return Te(Rc)};p.__private__.setTextColor=p.setTextColor=function(J,Ae,Pe,Me){return Rc=Oe({ch1:J,ch2:Ae,ch3:Pe,ch4:Me,pdfColorType:"text",precision:3}),this};var Nd=e.charSpace,Of=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Nd||0)};p.__private__.setCharSpace=p.setCharSpace=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Nd=J,this};var rh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(J){var Ae=p.CapJoinStyles[J];if(Ae===void 0)throw new Error("Line cap style of '"+J+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rh=Ae,he(Ae+" J"),this};var kd=0;p.__private__.setLineJoin=p.setLineJoin=function(J){var Ae=p.CapJoinStyles[J];if(Ae===void 0)throw new Error("Line join style of '"+J+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kd=Ae,he(Ae+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(J){if(J=J||0,isNaN(J))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(C(T(J))+" M"),this},p.GState=hk,p.setGState=function(J){(J=typeof J=="string"?gr[en[J]]:Bu(null,J)).equals(zn)||(he("/"+J.id+" gs"),zn=J)};var Bu=function(J,Ae){if(!J||!en[J]){var Pe=!1;for(var Me in gr)if(gr.hasOwnProperty(Me)&&gr[Me].equals(Ae)){Pe=!0;break}if(Pe)Ae=gr[Me];else{var qe="GS"+(Object.keys(gr).length+1).toString(10);gr[qe]=Ae,Ae.id=qe}return J&&(en[J]=Ae.id),tt.publish("addGState",Ae),Ae}};p.addGState=function(J,Ae){return Bu(J,Ae),this},p.saveGraphicsState=function(){return he("q"),En.push({key:Pt,size:xe,color:Rc}),this},p.restoreGraphicsState=function(){he("Q");var J=En.pop();return Pt=J.key,xe=J.size,Rc=J.color,zn=null,this},p.setCurrentTransformationMatrix=function(J){return he(J.toString()+" cm"),this},p.comment=function(J){return he("#"+J),this};var Td=function(J,Ae){var Pe=J||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Pe},set:function(bt){isNaN(bt)||(Pe=parseFloat(bt))}});var Me=Ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(bt){isNaN(bt)||(Me=parseFloat(bt))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(bt){qe=bt.toString()}}),this},Df=function(J,Ae,Pe,Me){Td.call(this,J,Ae),this.type="rect";var qe=Pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(Qt){isNaN(Qt)||(qe=parseFloat(Qt))}});var bt=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(Qt){isNaN(Qt)||(bt=parseFloat(Qt))}}),this},Bd=function(){this.page=rn,this.currentPage=H,this.pages=ke.slice(0),this.pagesContext=yr.slice(0),this.x=Cr,this.y=Kt,this.matrix=ln,this.width=Iu(H),this.height=eo(H),this.outputDestination=_e,this.id="",this.objectNumber=-1};Bd.prototype.restore=function(){rn=this.page,H=this.currentPage,yr=this.pagesContext,ke=this.pages,Cr=this.x,Kt=this.y,ln=this.matrix,jd(H,this.width),Pf(H,this.height),_e=this.outputDestination};var ju=function(J,Ae,Pe,Me,qe){Ct.push(new Bd),rn=H=0,ke=[],Cr=J,Kt=Ae,ln=qe,Pi([Pe,Me])},R0=function(J){if(vt[J])Ct.pop().restore();else{var Ae=new Bd,Pe="Xo"+(Object.keys(et).length+1).toString(10);Ae.id=Pe,vt[J]=Pe,et[Pe]=Ae,tt.publish("addFormObject",Ae),Ct.pop().restore()}};for(var Lc in p.beginFormObject=function(J,Ae,Pe,Me,qe){return ju(J,Ae,Pe,Me,qe),this},p.endFormObject=function(J){return R0(J),this},p.doFormObject=function(J,Ae){var Pe=et[vt[J]];return he("q"),he(Ae.toString()+" cm"),he("/"+Pe.id+" Do"),he("Q"),this},p.getFormObject=function(J){var Ae=et[vt[J]];return{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height,matrix:Ae.matrix}},p.save=function(J,Ae){return J=J||"generated.pdf",(Ae=Ae||{}).returnPromise=Ae.returnPromise||!1,Ae.returnPromise===!1?(kg(If(Fc()),J),typeof kg.unload=="function"&&qr.setTimeout&&setTimeout(kg.unload,911),this):new Promise(function(Pe,Me){try{var qe=kg(If(Fc()),J);typeof kg.unload=="function"&&qr.setTimeout&&setTimeout(kg.unload,911),Pe(qe)}catch(bt){Me(bt.message)}})},Sr.API)Sr.API.hasOwnProperty(Lc)&&(Lc==="events"&&Sr.API.events.length?function(J,Ae){var Pe,Me,qe;for(qe=Ae.length-1;qe!==-1;qe--)Pe=Ae[qe][0],Me=Ae[qe][1],J.subscribe.apply(J,[Pe].concat(typeof Me=="function"?[Me]:Me))}(tt,Sr.API.events):p[Lc]=Sr.API[Lc]);var Iu=p.getPageWidth=function(J){return(yr[J=J||H].mediaBox.topRightX-yr[J].mediaBox.bottomLeftX)/ut},jd=p.setPageWidth=function(J,Ae){yr[J].mediaBox.topRightX=Ae*ut+yr[J].mediaBox.bottomLeftX},eo=p.getPageHeight=function(J){return(yr[J=J||H].mediaBox.topRightY-yr[J].mediaBox.bottomLeftY)/ut},Pf=p.setPageHeight=function(J,Ae){yr[J].mediaBox.topRightY=Ae*ut+yr[J].mediaBox.bottomLeftY};return p.internal={pdfEscape:Mn,getStyle:Go,getFont:Ts,getFontSize:De,getCharSpace:Of,getTextColor:Ff,getLineHeight:Sd,getLineHeightFactor:Il,getLineWidth:nc,write:Be,getHorizontalCoordinate:Zi,getVerticalCoordinate:Bs,getCoordinateString:P0,getVerticalCoordinateString:ku,collections:{},newObject:cn,newAdditionalObject:Fe,newObjectDeferred:tn,newObjectDeferredBegin:pe,getFilters:Je,putStream:ft,events:tt,scaleFactor:ut,pageSize:{getWidth:function(){return Iu(H)},setWidth:function(J){jd(H,J)},getHeight:function(){return eo(H)},setHeight:function(J){Pf(H,J)}},encryptionOptions:d,encryption:ga,getEncryptor:Dc,output:Oc,getNumberOfPages:Xn,pages:ke,out:he,f2:L,f3:O,getPageInfo:Zl,getPageInfoByObjId:Ur,getCurrentPageInfo:ec,getPDFVersion:x,Point:Td,Rectangle:Df,Matrix:yt,hasHotfix:Jl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Iu(H)},set:function(J){jd(H,J)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return eo(H)},set:function(J){Pf(H,J)},enumerable:!0,configurable:!0}),YA.call(p,Ge),Pt="F1",Cu(a,r),tt.publish("initialized"),p}p1.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},p1.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},p1.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},p1.prototype.processOwnerPassword=function(e,t){return fR(dR(t).substr(0,5),e)},p1.prototype.encryptor=function(e,t){var r=dR(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return fR(r,n)}},hk.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_a(e)!==_a(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Sr.API={events:[]},Sr.version="2.5.2";var Ms=Sr.API,R7=1,qx=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(e){return e.toFixed(2)},bp=function(e){return e.toFixed(5)};Ms.__acroform__={};var jc=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},BY=function(e){return e*R7},fA=function(e){var t=new Fde,r=vr.internal.getHeight(e)||0,n=vr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(un(n)),Number(un(r))],t},Sqe=Ms.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},_qe=Ms.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Nqe=Ms.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},oi=Ms.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Nqe(e,t-1)},li=Ms.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Sqe(e,t-1)},ci=Ms.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _qe(e,t-1)},kqe=Ms.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=r(a+i)||0,c.upperRight_Y=n(s)||0,[Number(un(c.lowerLeft_X)),Number(un(c.lowerLeft_Y)),Number(un(c.upperRight_X)),Number(un(c.upperRight_Y))]},Tqe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=AR(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+un(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=fA(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},AR=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var s=r,i=vr.internal.getHeight(e)||0;i=i<0?-i:i;var o=vr.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(O,T,P){if(O+1<a.length){var R=T+" "+a[O+1][0];return t5(R,e,P).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=t5("3",e,s).height,h=e.multiline?i-s:(i-f)/2,p=h+=2,g=0,x=0,v=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+t5(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,E=0;E<a.length;E++)if(a.hasOwnProperty(E)){var k=!1;if(a[E].length!==1&&v!==a[E].length-1){if((f+2)*(w+2)+2>i)continue e;y+=a[E][v],k=!0,x=E,E--}else{y=(y+=a[E][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var B=parseInt(E),j=c(B,y,s),C=E>=a.length-1;if(j&&!C){y+=" ",v=0;continue}if(j||C){if(C)x=B;else if(e.multiline&&(f+2)*(w+2)+2>i)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>i)continue e;x=B}}for(var N="",I=g;I<=x;I++){var L=a[I];if(e.multiline){if(I===x){N+=L[v]+" ",v=(v+1)%L.length;continue}if(I===g){N+=L[L.length-1]+" ";continue}}N+=L[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,d=t5(N,e,s).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=un(u)+" "+un(p)+` Td
`,t+="("+qx(N)+`) Tj
`,t+=-un(u)+` 0 Td
`,p=-(s+2),d=0,g=k?x:x+1,w++,y=""}break}return n.text=t,n.fontSize=s,n},t5=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Bqe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jqe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Iqe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),_a(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},Fqe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(_f.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Bqe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");R7=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ode,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&jqe(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],c=[],u=o.Rect;if(o.Rect&&(o.Rect=kqe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=vr.createDefaultAppearanceStream(o),_a(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=Tqe(o);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var g=p[i];typeof g=="function"&&(g=g.call(a,o)),f+="/"+i+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),f+="/"+i+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}s&&Iqe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Ide=Ms.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),_a(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+qx(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$F=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+qx(n(e))+")"},TA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};TA.prototype.toString=function(){return this.objId+" 0 R"},TA.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},TA.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Ide(a,this.objId,this.scope)}):a instanceof TA?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Fde=function(){TA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};jc(Fde,TA);var Ode=function(){TA.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+qx(r(e))+")"}},set:function(r){e=r}})};jc(Ode,TA);var _f=function e(){TA.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!oi(t,3)},set:function(y){y?this.F=li(t,3):this.F=ci(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof pk)return;s="FieldObject"+e.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+qx(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(y){i=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/R7:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof pk||this instanceof rx))return $F(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof uo?h:$F(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof uo?y:y.substr(0,1)==="("?Qv(y.substr(1,y.length-2)):Qv(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof uo?Qv(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof uo?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof uo?p:$F(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof uo?y:y.substr(0,1)==="("?Qv(y.substr(1,y.length-2)):Qv(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof uo?Qv(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof uo?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(y){y=!!y,x=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,1)},set:function(y){y?this.Ff=li(this.Ff,1):this.Ff=ci(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,2)},set:function(y){y?this.Ff=li(this.Ff,2):this.Ff=ci(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,3)},set:function(y){y?this.Ff=li(this.Ff,3):this.Ff=ci(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};jc(_f,TA);var G1=function(){_f.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ide(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,i,o){o||(o=1);for(var c,u=[];c=i.exec(s);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,18)},set:function(r){r?this.Ff=li(this.Ff,18):this.Ff=ci(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=li(this.Ff,19):this.Ff=ci(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,20)},set:function(r){r?(this.Ff=li(this.Ff,20),t.sort()):this.Ff=ci(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,22)},set:function(r){r?this.Ff=li(this.Ff,22):this.Ff=ci(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(r){r?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,27)},set:function(r){r?this.Ff=li(this.Ff,27):this.Ff=ci(this.Ff,27)}}),this.hasAppearanceStream=!1};jc(G1,_f);var K1=function(){G1.call(this),this.fontName="helvetica",this.combo=!1};jc(K1,G1);var q1=function(){K1.call(this),this.combo=!0};jc(q1,K1);var gN=function(){q1.call(this),this.edit=!0};jc(gN,q1);var uo=function(){_f.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,15)},set:function(r){r?this.Ff=li(this.Ff,15):this.Ff=ci(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,16)},set:function(r){r?this.Ff=li(this.Ff,16):this.Ff=ci(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,17)},set:function(r){r?this.Ff=li(this.Ff,17):this.Ff=ci(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(r){r?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+qx(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){_a(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};jc(uo,_f);var xN=function(){uo.call(this),this.pushButton=!0};jc(xN,uo);var W1=function(){uo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};jc(W1,uo);var pk=function(){var e,t;_f.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+qx(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){_a(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};jc(pk,_f),W1.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},W1.prototype.createOption=function(e){var t=new pk;return t.Parent=this,t.optionName=e,this.Kids.push(t),Oqe.call(this.scope,t),t};var vN=function(){uo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vr.CheckBox.createAppearanceStream()};jc(vN,uo);var rx=function(){_f.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,13)},set:function(t){t?this.Ff=li(this.Ff,13):this.Ff=ci(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,21)},set:function(t){t?this.Ff=li(this.Ff,21):this.Ff=ci(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(t){t?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,24)},set:function(t){t?this.Ff=li(this.Ff,24):this.Ff=ci(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,25)},set:function(t){t?this.Ff=li(this.Ff,25):this.Ff=ci(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(t){t?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};jc(rx,_f);var bN=function(){rx.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,14)},set:function(e){e?this.Ff=li(this.Ff,14):this.Ff=ci(this.Ff,14)}}),this.password=!0};jc(bN,rx);var vr={CheckBox:{createAppearanceStream:function(){return{N:{On:vr.CheckBox.YesNormal},D:{On:vr.CheckBox.YesPushDown,Off:vr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=fA(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=AR(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+un(vr.internal.getWidth(e))+" "+un(vr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+un(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=fA(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=vr.internal.getHeight(e),i=vr.internal.getWidth(e),o=AR(e,e.caption);return a.push("1 g"),a.push("0 0 "+un(i)+" "+un(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+un(i-1)+" "+un(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+un(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=fA(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+un(vr.internal.getWidth(e))+" "+un(vr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:vr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=vr.RadioButton.Circle.YesNormal,t.D[e]=vr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=fA(e);t.scope=e.scope;var r=[],n=vr.internal.getWidth(e)<=vr.internal.getHeight(e)?vr.internal.getWidth(e)/4:vr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=vr.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+bp(vr.internal.getWidth(e)/2)+" "+bp(vr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=fA(e);t.scope=e.scope;var r=[],n=vr.internal.getWidth(e)<=vr.internal.getHeight(e)?vr.internal.getWidth(e)/4:vr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*vr.internal.Bezier_C).toFixed(5)),i=Number((n*vr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bp(vr.internal.getWidth(e)/2)+" "+bp(vr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+bp(vr.internal.getWidth(e)/2)+" "+bp(vr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=fA(e);t.scope=e.scope;var r=[],n=vr.internal.getWidth(e)<=vr.internal.getHeight(e)?vr.internal.getWidth(e)/4:vr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*vr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bp(vr.internal.getWidth(e)/2)+" "+bp(vr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:vr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=vr.RadioButton.Cross.YesNormal,t.D[e]=vr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=fA(e);t.scope=e.scope;var r=[],n=vr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+un(vr.internal.getWidth(e)-2)+" "+un(vr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(un(n.x1.x)+" "+un(n.x1.y)+" m"),r.push(un(n.x2.x)+" "+un(n.x2.y)+" l"),r.push(un(n.x4.x)+" "+un(n.x4.y)+" m"),r.push(un(n.x3.x)+" "+un(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=fA(e);t.scope=e.scope;var r=vr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+un(vr.internal.getWidth(e))+" "+un(vr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+un(vr.internal.getWidth(e)-2)+" "+un(vr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(un(r.x1.x)+" "+un(r.x1.y)+" m"),n.push(un(r.x2.x)+" "+un(r.x2.y)+" l"),n.push(un(r.x4.x)+" "+un(r.x4.y)+" m"),n.push(un(r.x3.x)+" "+un(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=fA(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+un(vr.internal.getWidth(e))+" "+un(vr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};vr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=vr.internal.getWidth(e),r=vr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},vr.internal.getWidth=function(e){var t=0;return _a(e)==="object"&&(t=BY(e.Rect[2])),t},vr.internal.getHeight=function(e){var t=0;return _a(e)==="object"&&(t=BY(e.Rect[3])),t};var Oqe=Ms.addField=function(e){if(Fqe(this,e),!(e instanceof _f))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ms.AcroFormChoiceField=G1,Ms.AcroFormListBox=K1,Ms.AcroFormComboBox=q1,Ms.AcroFormEditBox=gN,Ms.AcroFormButton=uo,Ms.AcroFormPushButton=xN,Ms.AcroFormRadioButton=W1,Ms.AcroFormCheckBox=vN,Ms.AcroFormTextField=rx,Ms.AcroFormPasswordField=bN,Ms.AcroFormAppearance=vr,Ms.AcroForm={ChoiceField:G1,ListBox:K1,ComboBox:q1,EditBox:gN,Button:uo,PushButton:xN,RadioButton:W1,CheckBox:vN,TextField:rx,PasswordField:bN,Appearance:vr},Sr.AcroForm={ChoiceField:G1,ListBox:K1,ComboBox:q1,EditBox:gN,Button:uo,PushButton:xN,RadioButton:W1,CheckBox:vN,TextField:rx,PasswordField:bN,Appearance:vr};Sr.AcroForm;function Dde(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,T){var P,R,q,Q,G,K=t;if((T=T||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(j(O))for(G in r)for(q=r[G],P=0;P<q.length;P+=1){for(Q=!0,R=0;R<q[P].length;R+=1)if(q[P][R]!==void 0&&q[P][R]!==O[R]){Q=!1;break}if(Q===!0){K=G;break}}else for(G in r)for(q=r[G],P=0;P<q.length;P+=1){for(Q=!0,R=0;R<q[P].length;R+=1)if(q[P][R]!==void 0&&q[P][R]!==O.charCodeAt(R)){Q=!1;break}if(Q===!0){K=G;break}}return K===t&&T!==t&&(K=T),K},a=function O(T){for(var P=this.internal.write,R=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:T.width}),Q.push({key:"Height",value:T.height}),T.colorSpace===v.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===v.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var G="",K=0,z=T.transparency.length;K<z;K++)G+=T.transparency[K]+" "+T.transparency[K]+" ";Q.push({key:"Mask",value:"["+G+"]"})}T.sMask!==void 0&&Q.push({key:"SMask",value:T.objectId+1+" 0 R"});var Y=T.filter!==void 0?["/"+T.filter]:void 0;if(R({data:T.data,additionalKeyValues:Q,alreadyAppliedFilters:Y,objectId:T.objectId}),P("endobj"),"sMask"in T&&T.sMask!==void 0){var ee="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,M={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:ee,data:T.sMask};"filter"in T&&(M.filter=T.filter),O.call(this,M)}if(T.colorSpace===v.INDEXED){var H=this.internal.newObject();R({data:N(new Uint8Array(T.palette)),objectId:H}),P("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var T in O)a.call(this,O[T])},i=function(){var O,T=this.internal.collections.addImage_images,P=this.internal.write;for(var R in T)P("/I"+(O=T[R]).index,O.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var O=this.internal.collections.addImage_images;return o.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(O){return typeof e["process"+O.toUpperCase()]=="function"},f=function(O){return _a(O)==="object"&&O.nodeType===1},h=function(O,T){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var P=""+O.getAttribute("src");if(P.indexOf("data:image/")===0)return z2(unescape(P).split("base64,").pop());var R=e.loadFile(P,!0);if(R!==void 0)return R}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var q;switch(T){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;case"JPEG":case"JPG":default:q="image/jpeg"}return z2(O.toDataURL(q,1).split("base64,").pop())}},p=function(O){var T=this.internal.collections.addImage_images;if(T){for(var P in T)if(O===T[P].alias)return T[P]}},g=function(O,T,P){return O||T||(O=-96,T=-96),O<0&&(O=-1*P.width*72/O/this.internal.scaleFactor),T<0&&(T=-1*P.height*72/T/this.internal.scaleFactor),O===0&&(O=T*P.width/P.height),T===0&&(T=O*P.height/P.width),[O,T]},x=function(O,T,P,R,q,Q){var G=g.call(this,P,R,q),K=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,Y=c.call(this);if(P=G[0],R=G[1],Y[q.index]=q,Q){Q*=Math.PI/180;var ee=Math.cos(Q),M=Math.sin(Q),H=function(Z){return Z.toFixed(4)},W=[H(ee),H(M),H(-1*M),H(ee),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,K(O),z(T+R),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([K(P),"0","0",K(R),"0","0","cm"].join(" "))):this.internal.write([K(P),"0","0",K(R),K(O),z(T+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(O){var T,P,R=0;if(typeof O=="string")for(P=O.length,T=0;T<P;T++)R=(R<<5)-R+O.charCodeAt(T),R|=0;else if(j(O))for(P=O.byteLength/2,T=0;T<P;T++)R=(R<<5)-R+O[T],R|=0;return R},E=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var T=!0;return O.length===0&&(T=!1),O.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(T=!1),T},k=e.__addimage__.extractImageFromDataUrl=function(O){var T=(O=O||"").split("base64,"),P=null;if(T.length===2){var R=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(R)&&(P={mimeType:R[1],charset:R[2],data:T[1]})}return P},B=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return B()&&O instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(O){return B()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},C=e.__addimage__.binaryStringToUint8Array=function(O){for(var T=O.length,P=new Uint8Array(T),R=0;R<T;R++)P[R]=O.charCodeAt(R);return P},N=e.__addimage__.arrayBufferToBinaryString=function(O){for(var T="",P=j(O)?O:new Uint8Array(O),R=0;R<P.length;R+=8192)T+=String.fromCharCode.apply(null,P.subarray(R,R+8192));return T};e.addImage=function(){var O,T,P,R,q,Q,G,K,z;if(typeof arguments[1]=="number"?(T=t,P=arguments[1],R=arguments[2],q=arguments[3],Q=arguments[4],G=arguments[5],K=arguments[6],z=arguments[7]):(T=arguments[1],P=arguments[2],R=arguments[3],q=arguments[4],Q=arguments[5],G=arguments[6],K=arguments[7],z=arguments[8]),_a(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var Y=O;O=Y.imageData,T=Y.format||T||t,P=Y.x||P||0,R=Y.y||R||0,q=Y.w||Y.width||q,Q=Y.h||Y.height||Q,G=Y.alias||G,K=Y.compression||K,z=Y.rotation||Y.angle||z}var ee=this.internal.getFilters();if(K===void 0&&ee.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(P)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var M=I.call(this,O,T,G,K);return x.call(this,P,R,q,Q,M,z),this};var I=function(O,T,P,R){var q,Q,G;if(typeof O=="string"&&n(O)===t){O=unescape(O);var K=L(O,!1);(K!==""||(K=e.loadFile(O,!0))!==void 0)&&(O=K)}if(f(O)&&(O=h(O,T)),T=n(O,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((G=P)==null||G.length===0)&&(P=function(z){return typeof z=="string"||j(z)?w(z):j(z.data)?w(z.data):null}(O)),(q=p.call(this,P))||(B()&&(O instanceof Uint8Array||T==="RGBA"||(Q=O,O=C(O))),q=this["process"+T.toUpperCase()](O,u.call(this),P,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in e.image_compression?z:y.NONE}(R),Q)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},L=e.__addimage__.convertBase64ToBinaryString=function(O,T){var P;T=typeof T!="boolean"||T;var R,q="";if(typeof O=="string"){R=(P=k(O))!==null?P.data:O;try{q=z2(R)}catch(Q){if(T)throw E(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(O){var T,P,R="";if(f(O)&&(O=h(O)),typeof O=="string"&&n(O)===t&&((R=L(O,!1))===""&&(R=e.loadFile(O)||""),O=R),P=n(O),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!B()||O instanceof Uint8Array||(O=C(O)),!(T=this["process"+P.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=P,T}})(Sr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Sr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(x.objId),w=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(y(w))+") >>",x.content=s;var E=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+E,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(x.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,i){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:i,type:"link"})},e.textWithLink=function(r,n,a,s){var i,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;i=Math.ceil(u*d)}else o=c,i=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,o,i,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Sr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=e.__arabicParser__.isArabicEndLetter=function(x){return i(x)&&s(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return i(x)&&a.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return i(x)&&s(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return i(x)&&s(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return i(x)&&s(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return i(x)&&s(x)&&t[x.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(x){var v=0,y=r,w="",E=0;for(v=0;v<x.length;v+=1)y[x.charCodeAt(v)]!==void 0?(E++,typeof(y=y[x.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(y),y=r,E=0),v===x.length-1&&(y=r,w+=x.charAt(v-(E-1)),v-=E-1,E=0)):(y=r,w+=x.charAt(v-E),v-=E,E=0);return w};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(x,v,y){return i(x)?s(x)===!1?-1:!u(x)||!i(v)&&!i(y)||!i(y)&&o(v)||o(x)&&!i(v)||o(x)&&c(v)||o(x)&&o(v)?0:d(x)&&i(v)&&!o(v)&&i(y)&&u(y)?3:o(x)||!i(y)?1:2:-1},p=function(x){var v=0,y=0,w=0,E="",k="",B="",j=(x=x||"").split("\\s+"),C=[];for(v=0;v<j.length;v+=1){for(C.push(""),y=0;y<j[v].length;y+=1)E=j[v][y],k=j[v][y-1],B=j[v][y+1],i(E)?(w=h(E,k,B),C[v]+=w!==-1?String.fromCharCode(t[E.charCodeAt(0)][w]):E):C[v]+=E;C[v]=f(C[v])}return C.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var x,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var w=0;for(y=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?y.push([p(v[w][0]),v[w][1],v[w][2]]):y.push([p(v[w])]);x=y}else x=p(v);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",g])}(Sr.API),Sr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Sr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(x){g=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,g=0,x=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(E,k){return E.concat(v.splitTextToSize(k,y))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)p<(x=this.getStringUnitWidth(c[w],{font:f})*d)&&(p=x);return p!==0&&(g=c.length),{w:p/=h,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,g,x,v,y=[],w=[],E=[],k={},B={},j=[],C=[],N=(h=h||{}).autoSize||!1,I=h.printHeaders!==!1,L=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,O=h.margins||Object.assign({width:this.getPageWidth()},t),T=typeof h.padding=="number"?h.padding:3,P=h.headerBackgroundColor||"#c8c8c8",R=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=R,this.setFontSize(L),f==null)w=y=Object.keys(d[0]),E=y.map(function(){return"left"});else if(Array.isArray(f)&&_a(f[0])==="object")for(y=f.map(function(Y){return Y.name}),w=f.map(function(Y){return Y.prompt||Y.name||""}),E=f.map(function(Y){return Y.align||"left"}),p=0;p<f.length;p+=1)B[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,E=y.map(function(){return"left"}));if(N||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(k[v=y[p]]=d.map(function(Y){return Y[v]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=k[v],this.setFont(void 0,"normal"),x=0;x<g.length;x+=1)j.push(this.getTextDimensions(g[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[v]=Math.max.apply(null,j)+T+T,j=[]}if(I){var q={};for(p=0;p<y.length;p+=1)q[y[p]]={},q[y[p]].text=w[p],q[y[p]].align=E[p];var Q=o.call(this,q,B);C=y.map(function(Y){return new s(c,u,B[Y],Q,q[Y].text,void 0,q[Y].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var G=f.reduce(function(Y,ee){return Y[ee.name]=ee.align,Y},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var K=o.call(this,d[p],B);for(x=0;x<y.length;x+=1){var z=d[p][y[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:x,data:z},this),i.call(this,new s(c,u,B[y[x]],K,z,p+2,G[y[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Sr.API);var Pde={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Rde=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],hR=Dde(Rde),Lde=[100,200,300,400,500,600,700,800,900],Dqe=Dde(Lde);function pR(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Pde[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof hR[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function jY(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var Pqe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},IY={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FY(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Rqe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Pqe,r.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=pR(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+FY(s)+"' and default family '"+n+"'.");if(i=function(c,u){if(u[c])return u[c];var d=hR[c],f=d<=hR.normal?-1:1,h=jY(u,Rde,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(s.stretch,i),i=function(c,u){if(u[c])return u[c];for(var d=Pde[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(s.style,i),!(i=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=Dqe[c],f=jY(u,Lde,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+FY(s)+"'.");return i}function OY(e){return e.trimLeft()}function Lqe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Mqe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var r5,DY,PY,VF=["times"];(function(e){var t,r,n,a,s,i,o,c,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new i,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new i,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=M;Object.defineProperty(this,"pdf",{get:function(){return H}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(Se){W=!!Se}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(Se){Z=!!Se}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Se){isNaN(Se)||(ae=Se)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Se){isNaN(Se)||(oe=Se)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Se){var he;typeof Se=="number"?he=[Se,Se,Se,Se]:((he=new Array(4))[0]=Se[0],he[1]=Se.length>=2?Se[1]:he[0],he[2]=Se.length>=3?Se[2]:he[0],he[3]=Se.length>=4?Se[3]:he[1]),u.margin=he}});var se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return se},set:function(Se){se=Se}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(Se){ce=Se}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(Se){de=Se}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Se){Se instanceof d&&(u=Se)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Se){u.path=Se}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Se){ke=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var he;he=h(Se),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var he=h(Se);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var re=null;function _e(Se,he){if(re===null){var Be=function(Le){var Ge=[];return Object.keys(Le).forEach(function(xe){Le[xe].forEach(function(Ie){var De=null;switch(Ie){case"bold":De={family:xe,weight:"bold"};break;case"italic":De={family:xe,style:"italic"};break;case"bolditalic":De={family:xe,weight:"bold",style:"italic"};break;case"":case"normal":De={family:xe}}De!==null&&(De.ref={name:xe,style:Ie},Ge.push(De))})}),Ge}(Se.getFontList());re=function(Le){for(var Ge={},xe=0;xe<Le.length;++xe){var Ie=pR(Le[xe]),De=Ie.family,Ve=Ie.stretch,We=Ie.style,at=Ie.weight;Ge[De]=Ge[De]||{},Ge[De][Ve]=Ge[De][Ve]||{},Ge[De][Ve][We]=Ge[De][Ve][We]||{},Ge[De][Ve][We][at]=Ie}return Ge}(Be.concat(he))}return re}var Ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ne},set:function(Se){re=null,Ne=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var he;if(this.ctx.font=Se,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Be=he[1],Le=(he[2],he[3]),Ge=he[4],xe=(he[5],he[6]),Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(Ie==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var De=function(Ft){var Pt,ut,Cr=[],Kt=Ft.trim();if(Kt==="")return VF;if(Kt in IY)return[IY[Kt]];for(;Kt!=="";){switch(ut=null,Pt=(Kt=OY(Kt)).charAt(0)){case'"':case"'":ut=Lqe(Kt.substring(1),Pt);break;default:ut=Mqe(Kt)}if(ut===null||(Cr.push(ut[0]),(Kt=OY(ut[1]))!==""&&Kt.charAt(0)!==","))return VF;Kt=Kt.replace(/^,/,"")}return Cr}(xe);if(this.fontFaces){var Ve=Rqe(_e(this.pdf,this.fontFaces),De.map(function(Ft){return{family:Ft,stretch:"normal",weight:Le,style:Be}}));this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var We="";(Le==="bold"||parseInt(Le,10)>=700||Be==="bold")&&(We="bold"),Be==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var at="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<De.length;Tt++){if(this.pdf.internal.getFont(De[Tt],We,{noFallback:!0,disableWarning:!0})!==void 0){at=De[Tt];break}if(We==="bolditalic"&&this.pdf.internal.getFont(De[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=De[Tt],We="bold";else if(this.pdf.internal.getFont(De[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=De[Tt],We="normal";break}}if(at===""){for(var Rt=0;Rt<De.length;Rt++)if(ht[De[Rt]]){at=ht[De[Rt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,H){if(isNaN(M)||isNaN(H))throw Ra.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new i(M,H));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new i(M,H)},f.prototype.closePath=function(){var M=new i(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&_a(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){M=new i(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(M.x,M.y)},f.prototype.lineTo=function(M,H){if(isNaN(M)||isNaN(H))throw Ra.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new i(M,H));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new i(W.x,W.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,H,W,Z){if(isNaN(W)||isNaN(Z)||isNaN(M)||isNaN(H))throw Ra.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new i(W,Z)),oe=this.ctx.transform.applyToPoint(new i(M,H));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new i(ae.x,ae.y)},f.prototype.bezierCurveTo=function(M,H,W,Z,ae,oe){if(isNaN(ae)||isNaN(oe)||isNaN(M)||isNaN(H)||isNaN(W)||isNaN(Z))throw Ra.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var se=this.ctx.transform.applyToPoint(new i(ae,oe)),ce=this.ctx.transform.applyToPoint(new i(M,H)),de=this.ctx.transform.applyToPoint(new i(W,Z));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:de.x,y2:de.y,x:se.x,y:se.y}),this.ctx.lastPoint=new i(se.x,se.y)},f.prototype.arc=function(M,H,W,Z,ae,oe){if(isNaN(M)||isNaN(H)||isNaN(W)||isNaN(Z)||isNaN(ae))throw Ra.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var se=this.ctx.transform.applyToPoint(new i(M,H));M=se.x,H=se.y;var ce=this.ctx.transform.applyToPoint(new i(0,W)),de=this.ctx.transform.applyToPoint(new i(0,0));W=Math.sqrt(Math.pow(ce.x-de.x,2)+Math.pow(ce.y-de.y,2))}Math.abs(ae-Z)>=2*Math.PI&&(Z=0,ae=2*Math.PI),this.path.push({type:"arc",x:M,y:H,radius:W,startAngle:Z,endAngle:ae,counterclockwise:oe})},f.prototype.arcTo=function(M,H,W,Z,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,H,W,Z){if(isNaN(M)||isNaN(H)||isNaN(W)||isNaN(Z))throw Ra.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,H),this.lineTo(M+W,H),this.lineTo(M+W,H+Z),this.lineTo(M,H+Z),this.lineTo(M,H),this.lineTo(M+W,H),this.lineTo(M,H)},f.prototype.fillRect=function(M,H,W,Z){if(isNaN(M)||isNaN(H)||isNaN(W)||isNaN(Z))throw Ra.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,H,W,Z),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(M,H,W,Z){if(isNaN(M)||isNaN(H)||isNaN(W)||isNaN(Z))throw Ra.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(M,H,W,Z),this.stroke())},f.prototype.clearRect=function(M,H,W,Z){if(isNaN(M)||isNaN(H)||isNaN(W)||isNaN(Z))throw Ra.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,H,W,Z))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(H),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(M){var H,W,Z,ae;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))H=0,W=0,Z=0,ae=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(oe!==null)H=parseInt(oe[1]),W=parseInt(oe[2]),Z=parseInt(oe[3]),ae=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)H=parseInt(oe[1]),W=parseInt(oe[2]),Z=parseInt(oe[3]),ae=parseFloat(oe[4]);else{if(ae=1,typeof M=="string"&&M.charAt(0)!=="#"){var se=new Tde(M);M=se.ok?se.toHex():"#000000"}M.length===4?(H=M.substring(1,2),H+=H,W=M.substring(2,3),W+=W,Z=M.substring(3,4),Z+=Z):(H=M.substring(1,3),W=M.substring(3,5),Z=M.substring(5,7)),H=parseInt(H,16),W=parseInt(W,16),Z=parseInt(Z,16)}}return{r:H,g:W,b:Z,a:ae,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,H,W,Z){if(isNaN(H)||isNaN(W)||typeof M!="string")throw Ra.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!p.call(this)){var ae=K(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;T.call(this,{text:M,x:H,y:W,scale:oe,angle:ae,align:this.textAlign,maxWidth:Z})}},f.prototype.strokeText=function(M,H,W,Z){if(isNaN(H)||isNaN(W)||typeof M!="string")throw Ra.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Z=isNaN(Z)?void 0:Z;var ae=K(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;T.call(this,{text:M,x:H,y:W,scale:oe,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:Z})}},f.prototype.measureText=function(M){if(typeof M!="string")throw Ra.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,W=this.pdf.internal.scaleFactor,Z=H.internal.getFontSize(),ae=H.getStringUnitWidth(M)*Z/H.internal.scaleFactor,oe=function(se){var ce=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new oe({width:ae*=Math.round(96*W/72*1e4)/1e4})},f.prototype.scale=function(M,H){if(isNaN(M)||isNaN(H))throw Ra.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(M,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.rotate=function(M){if(isNaN(M))throw Ra.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function(M,H){if(isNaN(M)||isNaN(H))throw Ra.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,M,H);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.transform=function(M,H,W,Z,ae,oe){if(isNaN(M)||isNaN(H)||isNaN(W)||isNaN(Z)||isNaN(ae)||isNaN(oe))throw Ra.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var se=new c(M,H,W,Z,ae,oe);this.ctx.transform=this.ctx.transform.multiply(se)},f.prototype.setTransform=function(M,H,W,Z,ae,oe){M=isNaN(M)?1:M,H=isNaN(H)?0:H,W=isNaN(W)?0:W,Z=isNaN(Z)?1:Z,ae=isNaN(ae)?0:ae,oe=isNaN(oe)?0:oe,this.ctx.transform=new c(M,H,W,Z,ae,oe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,H,W,Z,ae,oe,se,ce,de){var ke=this.pdf.getImageProperties(M),re=1,_e=1,Ne=1,Se=1;Z!==void 0&&ce!==void 0&&(Ne=ce/Z,Se=de/ae,re=ke.width/Z*ce/Z,_e=ke.height/ae*de/ae),oe===void 0&&(oe=H,se=W,H=0,W=0),Z!==void 0&&ce===void 0&&(ce=Z,de=ae),Z===void 0&&ce===void 0&&(ce=ke.width,de=ke.height);for(var he,Be=this.ctx.transform.decompose(),Le=K(Be.rotate.shx),Ge=new c,xe=(Ge=(Ge=(Ge=Ge.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new o(oe-H*Ne,se-W*Se,Z*re,ae*_e)),Ie=v.call(this,xe),De=[],Ve=0;Ve<Ie.length;Ve+=1)De.indexOf(Ie[Ve])===-1&&De.push(Ie[Ve]);if(E(De),this.autoPaging)for(var We=De[0],at=De[De.length-1],ht=We;ht<at+1;ht++){this.pdf.setPage(ht);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=ht===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=ht===1?0:Ft+(ht-2)*Pt;if(this.ctx.clip_path.length!==0){var Cr=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-ut+Rt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Cr}var Kt=JSON.parse(JSON.stringify(xe));Kt=w([Kt],this.posX+this.margin[3],-ut+Rt+this.ctx.prevPageLastElemOffset)[0];var ln=(ht>We||ht<at)&&x.call(this);ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,Pt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Le),ln&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",xe.x,xe.y,xe.w,xe.h,null,null,Le)};var v=function(M,H,W){var Z=[];H=H||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Z.push(Math.floor((M.y+ae)/W)+1);break;case"arc":Z.push(Math.floor((M.y+ae-M.radius)/W)+1),Z.push(Math.floor((M.y+ae+M.radius)/W)+1);break;case"qct":var oe=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Z.push(Math.floor((oe.y+ae)/W)+1),Z.push(Math.floor((oe.y+oe.h+ae)/W)+1);break;case"bct":var se=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Z.push(Math.floor((se.y+ae)/W)+1),Z.push(Math.floor((se.y+se.h+ae)/W)+1);break;case"rect":Z.push(Math.floor((M.y+ae)/W)+1),Z.push(Math.floor((M.y+M.h+ae)/W)+1)}for(var ce=0;ce<Z.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ce];)y.call(this);return Z},y=function(){var M=this.fillStyle,H=this.strokeStyle,W=this.font,Z=this.lineCap,ae=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=H,this.font=W,this.lineCap=Z,this.lineWidth=ae,this.lineJoin=oe},w=function(M,H,W){for(var Z=0;Z<M.length;Z++)switch(M[Z].type){case"bct":M[Z].x2+=H,M[Z].y2+=W;case"qct":M[Z].x1+=H,M[Z].y1+=W;case"mt":case"lt":case"arc":default:M[Z].x+=H,M[Z].y+=W}return M},E=function(M){return M.sort(function(H,W){return H-W})},k=function(M,H){for(var W,Z,ae=this.fillStyle,oe=this.strokeStyle,se=this.lineCap,ce=this.lineWidth,de=Math.abs(ce*this.ctx.transform.scaleX),ke=this.lineJoin,re=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),Ne=[],Se=0;Se<_e.length;Se++)if(_e[Se].x!==void 0)for(var he=v.call(this,_e[Se]),Be=0;Be<he.length;Be+=1)Ne.indexOf(he[Be])===-1&&Ne.push(he[Be]);for(var Le=0;Le<Ne.length;Le++)for(;this.pdf.internal.getNumberOfPages()<Ne[Le];)y.call(this);if(E(Ne),this.autoPaging)for(var Ge=Ne[0],xe=Ne[Ne.length-1],Ie=Ge;Ie<xe+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=ae,this.strokeStyle=oe,this.lineCap=se,this.lineWidth=de,this.lineJoin=ke;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Ie===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Ie===1?0:We+(Ie-2)*at;if(this.ctx.clip_path.length!==0){var Tt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(W,this.posX+this.margin[3],-ht+Ve+this.ctx.prevPageLastElemOffset),B.call(this,M,!0),this.path=Tt}if(Z=JSON.parse(JSON.stringify(re)),this.path=w(Z,this.posX+this.margin[3],-ht+Ve+this.ctx.prevPageLastElemOffset),H===!1||Ie===0){var Rt=(Ie>Ge||Ie<xe)&&x.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,at,null).clip().discardPath()),B.call(this,M,H),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=de,B.call(this,M,H),this.lineWidth=ce;this.path=re},B=function(M,H){if((M!=="stroke"||H||!g.call(this))&&(M==="stroke"||H||!p.call(this))){for(var W,Z,ae=[],oe=this.path,se=0;se<oe.length;se++){var ce=oe[se];switch(ce.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ce,deltas:[],abs:[]});break;case"lt":var de=ae.length;if(oe[se-1]&&!isNaN(oe[se-1].x)&&(W=[ce.x-oe[se-1].x,ce.y-oe[se-1].y],de>0)){for(;de>=0;de--)if(ae[de-1].close!==!0&&ae[de-1].begin!==!0){ae[de-1].deltas.push(W),ae[de-1].abs.push(ce);break}}break;case"bct":W=[ce.x1-oe[se-1].x,ce.y1-oe[se-1].y,ce.x2-oe[se-1].x,ce.y2-oe[se-1].y,ce.x-oe[se-1].x,ce.y-oe[se-1].y],ae[ae.length-1].deltas.push(W);break;case"qct":var ke=oe[se-1].x+2/3*(ce.x1-oe[se-1].x),re=oe[se-1].y+2/3*(ce.y1-oe[se-1].y),_e=ce.x+2/3*(ce.x1-ce.x),Ne=ce.y+2/3*(ce.y1-ce.y),Se=ce.x,he=ce.y;W=[ke-oe[se-1].x,re-oe[se-1].y,_e-oe[se-1].x,Ne-oe[se-1].y,Se-oe[se-1].x,he-oe[se-1].y],ae[ae.length-1].deltas.push(W);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ce)}}Z=H?null:M==="stroke"?"stroke":"fill";for(var Be=!1,Le=0;Le<ae.length;Le++)if(ae[Le].arc)for(var Ge=ae[Le].abs,xe=0;xe<Ge.length;xe++){var Ie=Ge[xe];Ie.type==="arc"?N.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,H,!Be):P.call(this,Ie.x,Ie.y),Be=!0}else if(ae[Le].close===!0)this.pdf.internal.out("h"),Be=!1;else if(ae[Le].begin!==!0){var De=ae[Le].start.x,Ve=ae[Le].start.y;R.call(this,ae[Le].deltas,De,Ve),Be=!0}Z&&I.call(this,Z),H&&L.call(this)}},j=function(M){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-W;case"top":return M+H-W;case"hanging":return M+H-2*W;case"middle":return M+H/2-W;case"ideographic":return M;case"alphabetic":default:return M}},C=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(H,W){this.colorStops.push([H,W])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(M,H,W,Z,ae,oe,se,ce,de){for(var ke=Q.call(this,W,Z,ae,oe),re=0;re<ke.length;re++){var _e=ke[re];re===0&&(de?O.call(this,_e.x1+M,_e.y1+H):P.call(this,_e.x1+M,_e.y1+H)),q.call(this,M,H,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}ce?L.call(this):I.call(this,se)},I=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(M,H){this.pdf.internal.out(r(M)+" "+n(H)+" m")},T=function(M){var H;switch(M.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var W=this.pdf.getTextDimensions(M.text),Z=j.call(this,M.y),ae=C.call(this,Z)-W.h,oe=this.ctx.transform.applyToPoint(new i(M.x,Z)),se=this.ctx.transform.decompose(),ce=new c;ce=(ce=(ce=ce.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var de,ke,re,_e=this.ctx.transform.applyToRectangle(new o(M.x,Z,W.w,W.h)),Ne=ce.applyToRectangle(new o(M.x,ae,W.w,W.h)),Se=v.call(this,Ne),he=[],Be=0;Be<Se.length;Be+=1)he.indexOf(Se[Be])===-1&&he.push(Se[Be]);if(E(he),this.autoPaging)for(var Le=he[0],Ge=he[he.length-1],xe=Le;xe<Ge+1;xe++){this.pdf.setPage(xe);var Ie=xe===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],We=Ve-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],ht=at-this.margin[3],Tt=xe===1?0:De+(xe-2)*We;if(this.ctx.clip_path.length!==0){var Rt=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(de,this.posX+this.margin[3],-1*Tt+Ie),B.call(this,"fill",!0),this.path=Rt}var Ft=w([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-Tt+Ie+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*M.scale),re=this.lineWidth,this.lineWidth=re*M.scale);var Pt=this.autoPaging!=="text";if(Pt||Ft.y+Ft.h<=Ve){if(Pt||Ft.y>=Ie&&Ft.x<=at){var ut=Pt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||at-Ft.x)[0],Cr=w([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-Tt+Ie+this.ctx.prevPageLastElemOffset)[0],Kt=Pt&&(xe>Le||xe<Ge)&&x.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,We,null).clip().discardPath()),this.pdf.text(ut,Cr.x,Cr.y,{angle:M.angle,align:H,renderingMode:M.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else Ft.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-Ft.y);M.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=re)}else M.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*M.scale),re=this.lineWidth,this.lineWidth=re*M.scale),this.pdf.text(M.text,oe.x+this.posX,oe.y+this.posY,{angle:M.angle,align:H,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=re)},P=function(M,H,W,Z){W=W||0,Z=Z||0,this.pdf.internal.out(r(M+W)+" "+n(H+Z)+" l")},R=function(M,H,W){return this.pdf.lines(M,H,W,null,null)},q=function(M,H,W,Z,ae,oe,se,ce){this.pdf.internal.out([t(a(W+M)),t(s(Z+H)),t(a(ae+M)),t(s(oe+H)),t(a(se+M)),t(s(ce+H)),"c"].join(" "))},Q=function(M,H,W,Z){for(var ae=2*Math.PI,oe=Math.PI/2;H>W;)H-=ae;var se=Math.abs(W-H);se<ae&&Z&&(se=ae-se);for(var ce=[],de=Z?-1:1,ke=H;se>1e-5;){var re=ke+de*Math.min(se,oe);ce.push(G.call(this,M,ke,re)),se-=Math.abs(re-ke),ke=re}return ce},G=function(M,H,W){var Z=(W-H)/2,ae=M*Math.cos(Z),oe=M*Math.sin(Z),se=ae,ce=-oe,de=se*se+ce*ce,ke=de+se*ae+ce*oe,re=4/3*(Math.sqrt(2*de*ke)-ke)/(se*oe-ce*ae),_e=se-re*ce,Ne=ce+re*se,Se=_e,he=-Ne,Be=Z+H,Le=Math.cos(Be),Ge=Math.sin(Be);return{x1:M*Math.cos(H),y1:M*Math.sin(H),x2:_e*Le-Ne*Ge,y2:_e*Ge+Ne*Le,x3:Se*Le-he*Ge,y3:Se*Ge+he*Le,x4:M*Math.cos(W),y4:M*Math.sin(W)}},K=function(M){return 180*M/Math.PI},z=function(M,H,W,Z,ae,oe){var se=M+.5*(W-M),ce=H+.5*(Z-H),de=ae+.5*(W-ae),ke=oe+.5*(Z-oe),re=Math.min(M,ae,se,de),_e=Math.max(M,ae,se,de),Ne=Math.min(H,oe,ce,ke),Se=Math.max(H,oe,ce,ke);return new o(re,Ne,_e-re,Se-Ne)},Y=function(M,H,W,Z,ae,oe,se,ce){var de,ke,re,_e,Ne,Se,he,Be,Le,Ge,xe,Ie,De,Ve,We=W-M,at=Z-H,ht=ae-W,Tt=oe-Z,Rt=se-ae,Ft=ce-oe;for(ke=0;ke<41;ke++)Le=(he=(re=M+(de=ke/40)*We)+de*((Ne=W+de*ht)-re))+de*(Ne+de*(ae+de*Rt-Ne)-he),Ge=(Be=(_e=H+de*at)+de*((Se=Z+de*Tt)-_e))+de*(Se+de*(oe+de*Ft-Se)-Be),ke==0?(xe=Le,Ie=Ge,De=Le,Ve=Ge):(xe=Math.min(xe,Le),Ie=Math.min(Ie,Ge),De=Math.max(De,Le),Ve=Math.max(Ve,Ge));return new o(Math.round(xe),Math.round(Ie),Math.round(De-xe),Math.round(Ve-Ie))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,H,W=(M=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:H}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Sr.API),function(e){var t=function(s){var i,o,c,u,d,f,h,p,g,x;for(o=[],c=0,u=(s+=i="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(x=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,o.push(f+33,h+33,p+33,g+33,x+33)):o.push(122);return function(v,y){for(var w=y;w>0;w--)v.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var i,o,c,u,d,f=String,h="length",p=255,g="charCodeAt",x="slice",v="replace";for(s[x](-2),s=s[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,d=(s+=i="uuuuu"[x](s[h]%5||5))[h];d>u;u+=5)o=52200625*(s[g](u)-33)+614125*(s[g](u+1)-33)+7225*(s[g](u+2)-33)+85*(s[g](u+3)-33)+(s[g](u+4)-33),c.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,w){for(var E=w;E>0;E--)y.pop()}(c,i[h]),f.fromCharCode.apply(f,c)},n=function(s){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),i.test(s)===!1)return"";for(var o="",c=0;c<s.length;c+=2)o+=String.fromCharCode("0x"+(s[c]+s[c+1]));return o},a=function(s){for(var i=new Uint8Array(s.length),o=s.length;o--;)i[o]=s.charCodeAt(o);return s=(i=cR(i)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,i){var o=0,c=s||"",u=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Sr.API),function(e){e.loadFile=function(t,r,n){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(g){var x=g.length,v=[],y=String.fromCharCode;for(h=0;h<x;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,s,i)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Sr.API),function(e){function t(){return(qr.html2canvas?Promise.resolve(qr.html2canvas):Ob(()=>Promise.resolve().then(()=>rCt),void 0)).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(qr.DOMPurify?Promise.resolve(qr.DOMPurify):Ob(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=_a(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(i,o){var c=document.createElement(i);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},s=function i(o){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),u=i.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,i,1,[i])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(i,o){return i.__proto__=o||s.prototype,i},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},s.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],g=p.src.find(function(x){return x.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(i,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},s.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},s.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},s.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(i,o){return this.then(function(){var c=i in s.template.prop?this.prop[i]:this.opt[i];return o?o(c):c})},s.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},s.prototype.setPageSize=function(i){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(i=i||Sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},s.prototype.setProgress=function(i,o,c,u){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(i,o,c,u){return this.setProgress(i?this.progress.val+i:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(i,o){var c=this;return this.thenCore(i,o,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},s.prototype.thenCore=function(i,o,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(u,i,o);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},s.prototype.thenList=function(i){var o=this;return i.forEach(function(c){o=o.thenCore(c)}),o},s.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return s.convert(o,this)},s.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},s.prototype.error=function(i){return this.then(function(){throw new Error(i)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Sr.getPageSize=function(i,o,c){if(_a(i)==="object"){var u=i;i=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,g=0,x=0;if(h.hasOwnProperty(f))g=h[f][1]/d,x=h[f][0]/d;else try{g=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",x>g&&(p=x,x=g,g=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",g>x&&(p=x,x=g,g=p)}return{width:x,height:g,unit:o,k:d,orientation:i}},e.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(pR):null;var c=new s(o);return o.worker?c:c.from(i).doCallback()}}(Sr.API),Sr.API.addJS=function(e){return PY=e,this.internal.events.subscribe("postPutResources",function(){r5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(r5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),DY=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+PY+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){r5!==void 0&&DY!==void 0&&this.internal.out("/Names <</JavaScript "+r5+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],o=n.exec(i);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var c=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(Sr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,i,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,x={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),x={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Sr.API);var Hv,n5,RY,LY,MY,Uqe=function(){var e,t,r;function n(s){var i,o,c,u,d,f,h,p,g,x,v,y,w,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(i=this.readUInt32(),g=(function(){var k,B;for(B=[],k=0;k<4;++k)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,i-=4),s=(f!=null?f.data:void 0)||this.imgData,y=0;0<=i?y<i:y>i;0<=i?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(w=0;0<=x?w<x:w>x;0<=x?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":h=(v=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var i,o;for(o=[],i=0;0<=s?i<s:i>s;0<=s?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,h,p,g){var x,v,y,w,E,k,B,j,C,N,I,L,O,T,P,R,q,Q,G,K,z,Y=Math.ceil((u.width-f)/p),ee=Math.ceil((u.height-h)/g),M=u.width==Y&&u.height==ee;for(T=i*Y,L=M?o:new Uint8Array(T*ee),k=s.length,O=0,v=0;O<ee&&c<k;){switch(s[c++]){case 0:for(w=q=0;q<T;w=q+=1)L[v++]=s[c++];break;case 1:for(w=Q=0;Q<T;w=Q+=1)x=s[c++],E=w<i?0:L[v-i],L[v++]=(x+E)%256;break;case 2:for(w=G=0;G<T;w=G+=1)x=s[c++],y=(w-w%i)/i,P=O&&L[(O-1)*T+y*i+w%i],L[v++]=(P+x)%256;break;case 3:for(w=K=0;K<T;w=K+=1)x=s[c++],y=(w-w%i)/i,E=w<i?0:L[v-i],P=O&&L[(O-1)*T+y*i+w%i],L[v++]=(x+Math.floor((E+P)/2))%256;break;case 4:for(w=z=0;z<T;w=z+=1)x=s[c++],y=(w-w%i)/i,E=w<i?0:L[v-i],O===0?P=R=0:(P=L[(O-1)*T+y*i+w%i],R=y&&L[(O-1)*T+(y-1)*i+w%i]),B=E+P-R,j=Math.abs(B-E),N=Math.abs(B-P),I=Math.abs(B-R),C=j<=N&&j<=I?E:N<=I?P:R,L[v++]=(x+C)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!M){var H=((h+O*g)*u.width+f)*i,W=O*T;for(w=0;w<Y;w+=1){for(var Z=0;Z<i;Z+=1)o[H++]=L[W++];H+=(p-1)*i}}O++}}return s=xqe(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var s,i,o,c,u,d,f,h,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),c=0,s=0,i=f=0,h=o.length;f<h;i=f+=3)u[c++]=o[i],u[c++]=o[i+1],u[c++]=o[i+2],u[c++]=(p=d[s++])!=null?p:255;return u},n.prototype.copyToImageData=function(s,i){var o,c,u,d,f,h,p,g,x,v,y;if(c=this.colors,x=null,o=this.hasAlphaChannel,this.palette.length&&(x=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,o=!0),g=(u=s.data||s).length,f=x||i,d=h=0,c===1)for(;d<g;)p=x?4*i[d/4]:h,v=f[p++],u[d++]=v,u[d++]=v,u[d++]=v,u[d++]=o?f[p++]:255,h=p;else for(;d<g;)p=x?4*i[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(qr)==="[object Window]"){try{t=qr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var i;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var i,o,c,u,d,f,h,p;if(this.animation){for(p=[],o=d=0,f=(h=this.animation.frames).length;d<f;o=++d)i=h[o],c=s.createImageData(i.width,i.height),u=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,u),i.imageData=c,p.push(i.image=e(c));return p}},n.prototype.renderFrame=function(s,i){var o,c,u;return o=(c=this.animation.frames)[i],u=c[i-1],i===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var i,o,c,u,d,f,h=this;return o=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(i=function(){var p,g;if(p=o++%u,g=c[p],h.renderFrame(s,p),u>1&&o/u<d)return h.animation._timeout=setTimeout(i,g.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var i,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,i=s.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Qqe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<(7&a)+1;e[t++],e[t++];var o=null,c=null;s&&(o=t,c=i,t+=3*i);var u=!0,d=[],f=0,h=null,p=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],(1&x)==0&&(h=null),p=x>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,k=e[t++],B=k>>6&1,j=1<<(7&k)+1,C=o,N=c,I=!1;k>>7&&(I=!0,C=t,N=j,t+=3*j);var L=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}d.push({x:v,y,width:w,height:E,has_local_palette:I,palette_offset:C,palette_size:N,data_offset:L,data_length:t-L,transparent_index:h,interlaced:!!B,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,P){var R=this.frameInfo(T),q=R.width*R.height,Q=new Uint8Array(q);UY(e,R.data_offset,Q,q);var G=R.palette_offset,K=R.transparent_index;K===null&&(K=256);var z=R.width,Y=r-z,ee=z,M=4*(R.y*r+R.x),H=4*((R.y+R.height)*r+R.x),W=M,Z=4*Y;R.interlaced===!0&&(Z+=4*r*7);for(var ae=8,oe=0,se=Q.length;oe<se;++oe){var ce=Q[oe];if(ee===0&&(ee=z,(W+=Z)>=H&&(Z=4*Y+4*r*(ae-1),W=M+(z+Y)*(ae<<1),ae>>=1)),ce===K)W+=4;else{var de=e[G+3*ce],ke=e[G+3*ce+1],re=e[G+3*ce+2];P[W++]=re,P[W++]=ke,P[W++]=de,P[W++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(T,P){var R=this.frameInfo(T),q=R.width*R.height,Q=new Uint8Array(q);UY(e,R.data_offset,Q,q);var G=R.palette_offset,K=R.transparent_index;K===null&&(K=256);var z=R.width,Y=r-z,ee=z,M=4*(R.y*r+R.x),H=4*((R.y+R.height)*r+R.x),W=M,Z=4*Y;R.interlaced===!0&&(Z+=4*r*7);for(var ae=8,oe=0,se=Q.length;oe<se;++oe){var ce=Q[oe];if(ee===0&&(ee=z,(W+=Z)>=H&&(Z=4*Y+4*r*(ae-1),W=M+(z+Y)*(ae<<1),ae>>=1)),ce===K)W+=4;else{var de=e[G+3*ce],ke=e[G+3*ce+1],re=e[G+3*ce+2];P[W++]=de,P[W++]=ke,P[W++]=re,P[W++]=255}--ee}}}function UY(e,t,r,n){for(var a=e[t++],s=1<<a,i=s+1,o=i+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],g=new Int32Array(4096),x=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==s){if(v===i)break;for(var y=v<o?v:x,w=0,E=y;E>s;)E=g[E]>>8,++w;var k=E;if(h+w+(y!==v?1:0)>n)return void Ra.log("Warning, gif stream longer than expected.");r[h++]=k;var B=h+=w;for(y!==v&&(r[h++]=k),E=y;w--;)E=g[E],r[--B]=255&E,E>>=8;x!==null&&o<4096&&(g[o++]=x<<8|k,o>=u+1&&c<12&&(++c,u=u<<1|1)),x=v}else o=i+1,u=(1<<(c=a+1))-1,x=null}return h!==n&&Ra.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function zF(e){var t,r,n,a,s,i=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),x=[],v=0,y=7,w=new Array(64),E=new Array(64),k=new Array(64),B=new Array(256),j=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(M,H){for(var W=0,Z=0,ae=new Array,oe=1;oe<=16;oe++){for(var se=1;se<=M[oe];se++)ae[H[Z]]=[],ae[H[Z]][0]=W,ae[H[Z]][1]=oe,Z++,W++;W*=2}return ae}function G(M){for(var H=M[0],W=M[1]-1;W>=0;)H&1<<W&&(v|=1<<y),W--,--y<0&&(v==255?(K(255),K(0)):K(v),y=7,v=0)}function K(M){x.push(M)}function z(M){K(M>>8&255),K(255&M)}function Y(M,H,W,Z,ae){for(var oe,se=ae[0],ce=ae[240],de=function(Ge,xe){var Ie,De,Ve,We,at,ht,Tt,Rt,Ft,Pt,ut=0;for(Ft=0;Ft<8;++Ft){Ie=Ge[ut],De=Ge[ut+1],Ve=Ge[ut+2],We=Ge[ut+3],at=Ge[ut+4],ht=Ge[ut+5],Tt=Ge[ut+6];var Cr=Ie+(Rt=Ge[ut+7]),Kt=Ie-Rt,ln=De+Tt,kr=De-Tt,Mr=Ve+ht,En=Ve-ht,Pr=We+at,or=We-at,gr=Cr+Pr,en=Cr-Pr,zn=ln+Mr,rn=ln-Mr;Ge[ut]=gr+zn,Ge[ut+4]=gr-zn;var yr=.707106781*(rn+en);Ge[ut+2]=en+yr,Ge[ut+6]=en-yr;var tt=.382683433*((gr=or+En)-(rn=kr+Kt)),xt=.5411961*gr+tt,et=1.306562965*rn+tt,vt=.707106781*(zn=En+kr),Ct=Kt+vt,yt=Kt-vt;Ge[ut+5]=yt+xt,Ge[ut+3]=yt-xt,Ge[ut+1]=Ct+et,Ge[ut+7]=Ct-et,ut+=8}for(ut=0,Ft=0;Ft<8;++Ft){Ie=Ge[ut],De=Ge[ut+8],Ve=Ge[ut+16],We=Ge[ut+24],at=Ge[ut+32],ht=Ge[ut+40],Tt=Ge[ut+48];var sr=Ie+(Rt=Ge[ut+56]),Er=Ie-Rt,nn=De+Tt,cn=De-Tt,tn=Ve+ht,pe=Ve-ht,Fe=We+at,Ee=We-at,we=sr+Fe,Te=sr-Fe,Oe=nn+tn,Je=nn-tn;Ge[ut]=we+Oe,Ge[ut+32]=we-Oe;var ft=.707106781*(Je+Te);Ge[ut+16]=Te+ft,Ge[ut+48]=Te-ft;var Ke=.382683433*((we=Ee+pe)-(Je=cn+Er)),nt=.5411961*we+Ke,ot=1.306562965*Je+Ke,Dt=.707106781*(Oe=pe+cn),Vt=Er+Dt,tr=Er-Dt;Ge[ut+40]=tr+nt,Ge[ut+24]=tr-nt,Ge[ut+8]=Vt+ot,Ge[ut+56]=Vt-ot,ut++}for(Ft=0;Ft<64;++Ft)Pt=Ge[Ft]*xe[Ft],p[Ft]=Pt>0?Pt+.5|0:Pt-.5|0;return p}(M,H),ke=0;ke<64;++ke)g[C[ke]]=de[ke];var re=g[0]-W;W=g[0],re==0?G(Z[0]):(G(Z[h[oe=32767+re]]),G(f[oe]));for(var _e=63;_e>0&&g[_e]==0;)_e--;if(_e==0)return G(se),W;for(var Ne,Se=1;Se<=_e;){for(var he=Se;g[Se]==0&&Se<=_e;)++Se;var Be=Se-he;if(Be>=16){Ne=Be>>4;for(var Le=1;Le<=Ne;++Le)G(ce);Be&=15}oe=32767+g[Se],G(ae[(Be<<4)+h[oe]]),G(f[oe]),Se++}return _e!=63&&G(se),W}function ee(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(H){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ae=i((W[Z]*H+50)/100);ae=Math.min(Math.max(ae,1),255),o[C[Z]]=ae}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],se=0;se<64;se++){var ce=i((oe[se]*H+50)/100);ce=Math.min(Math.max(ce,1),255),c[C[se]]=ce}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,re=0;re<8;re++)for(var _e=0;_e<8;_e++)u[ke]=1/(o[C[ke]]*de[re]*de[_e]*8),d[ke]=1/(c[C[ke]]*de[re]*de[_e]*8),ke++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,H){H&&ee(H),x=new Array,v=0,y=7,z(65496),z(65504),z(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),z(1),z(1),K(0),K(0),function(){z(65499),z(132),K(0);for(var De=0;De<64;De++)K(o[De]);K(1);for(var Ve=0;Ve<64;Ve++)K(c[Ve])}(),function(De,Ve){z(65472),z(17),K(8),z(Ve),z(De),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(M.width,M.height),function(){z(65476),z(418),K(0);for(var De=0;De<16;De++)K(N[De+1]);for(var Ve=0;Ve<=11;Ve++)K(I[Ve]);K(16);for(var We=0;We<16;We++)K(L[We+1]);for(var at=0;at<=161;at++)K(O[at]);K(1);for(var ht=0;ht<16;ht++)K(T[ht+1]);for(var Tt=0;Tt<=11;Tt++)K(P[Tt]);K(17);for(var Rt=0;Rt<16;Rt++)K(R[Rt+1]);for(var Ft=0;Ft<=161;Ft++)K(q[Ft])}(),z(65498),z(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var W=0,Z=0,ae=0;v=0,y=7,this.encode.displayName="_encode_";for(var oe,se,ce,de,ke,re,_e,Ne,Se,he=M.data,Be=M.width,Le=M.height,Ge=4*Be,xe=0;xe<Le;){for(oe=0;oe<Ge;){for(ke=Ge*xe+oe,_e=-1,Ne=0,Se=0;Se<64;Se++)re=ke+(Ne=Se>>3)*Ge+(_e=4*(7&Se)),xe+Ne>=Le&&(re-=Ge*(xe+1+Ne-Le)),oe+_e>=Ge&&(re-=oe+_e-Ge+4),se=he[re++],ce=he[re++],de=he[re++],w[Se]=(j[se]+j[ce+256>>0]+j[de+512>>0]>>16)-128,E[Se]=(j[se+768>>0]+j[ce+1024>>0]+j[de+1280>>0]>>16)-128,k[Se]=(j[se+1280>>0]+j[ce+1536>>0]+j[de+1792>>0]>>16)-128;W=Y(w,u,W,t,n),Z=Y(E,d,Z,r,a),ae=Y(k,d,ae,r,a),oe+=32}xe+=8}if(y>=0){var Ie=[];Ie[1]=y+1,Ie[0]=(1<<y+1)-1,G(Ie)}return z(65497),new Uint8Array(x)},e=e||50,function(){for(var M=String.fromCharCode,H=0;H<256;H++)B[H]=M(H)}(),t=Q(N,I),r=Q(T,P),n=Q(L,O),a=Q(R,q),function(){for(var M=1,H=2,W=1;W<=15;W++){for(var Z=M;Z<H;Z++)h[32767+Z]=W,f[32767+Z]=[],f[32767+Z][1]=W,f[32767+Z][0]=Z;for(var ae=-(H-1);ae<=-M;ae++)h[32767+ae]=W,f[32767+ae]=[],f[32767+ae][1]=W,f[32767+ae][0]=H-1+ae;M<<=1,H<<=1}}(),function(){for(var M=0;M<256;M++)j[M]=19595*M,j[M+256>>0]=38470*M,j[M+512>>0]=7471*M+32768,j[M+768>>0]=-11059*M,j[M+1024>>0]=-21709*M,j[M+1280>>0]=32768*M+8421375,j[M+1536>>0]=-27439*M,j[M+1792>>0]=-5329*M}(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wd(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QY(e){function t(N){if(!N)throw Error("assert :P")}function r(N,I,L){for(var O=0;4>O;O++)if(N[I+O]!=L.charCodeAt(O))return!0;return!1}function n(N,I,L,O,T){for(var P=0;P<T;P++)N[I+P]=L[O+P]}function a(N,I,L,O){for(var T=0;T<O;T++)N[I+T]=L}function s(N){return new Int32Array(N)}function i(N,I){for(var L=[],O=0;O<N;O++)L.push(new I);return L}function o(N,I){var L=[];return function O(T,P,R){for(var q=R[P],Q=0;Q<q&&(T.push(R.length>P+1?[]:new I),!(R.length<P+1));Q++)O(T[Q],P+1,R)}(L,0,N),L}var c=function(){var N=this;function I(F,V){for(var te=1<<V-1>>>0;F&te;)te>>>=1;return te?(F&te-1)+te:F}function L(F,V,te,ie,fe){t(!(ie%te));do F[V+(ie-=te)]=fe;while(0<ie)}function O(F,V,te,ie,fe){if(t(2328>=fe),512>=fe)var me=s(512);else if((me=s(fe))==null)return 0;return function(ge,ve,Ce,je,Ue,it){var rt,Xe,It=ve,gt=1<<Ce,Qe=s(16),$e=s(16);for(t(Ue!=0),t(je!=null),t(ge!=null),t(0<Ce),Xe=0;Xe<Ue;++Xe){if(15<je[Xe])return 0;++Qe[je[Xe]]}if(Qe[0]==Ue)return 0;for($e[1]=0,rt=1;15>rt;++rt){if(Qe[rt]>1<<rt)return 0;$e[rt+1]=$e[rt]+Qe[rt]}for(Xe=0;Xe<Ue;++Xe)rt=je[Xe],0<je[Xe]&&(it[$e[rt]++]=Xe);if($e[15]==1)return(je=new T).g=0,je.value=it[0],L(ge,It,1,gt,je),gt;var Nt,Ot=-1,Bt=gt-1,ar=0,er=1,_r=1,nr=1<<Ce;for(Xe=0,rt=1,Ue=2;rt<=Ce;++rt,Ue<<=1){if(er+=_r<<=1,0>(_r-=Qe[rt]))return 0;for(;0<Qe[rt];--Qe[rt])(je=new T).g=rt,je.value=it[Xe++],L(ge,It+ar,Ue,nr,je),ar=I(ar,rt)}for(rt=Ce+1,Ue=2;15>=rt;++rt,Ue<<=1){if(er+=_r<<=1,0>(_r-=Qe[rt]))return 0;for(;0<Qe[rt];--Qe[rt]){if(je=new T,(ar&Bt)!=Ot){for(It+=nr,Nt=1<<(Ot=rt)-Ce;15>Ot&&!(0>=(Nt-=Qe[Ot]));)++Ot,Nt<<=1;gt+=nr=1<<(Nt=Ot-Ce),ge[ve+(Ot=ar&Bt)].g=Nt+Ce,ge[ve+Ot].value=It-ve-Ot}je.g=rt-Ce,je.value=it[Xe++],L(ge,It+(ar>>Ce),Ue,nr,je),ar=I(ar,rt)}}return er!=2*$e[15]-1?0:gt}(F,V,te,ie,fe,me)}function T(){this.value=this.g=0}function P(){this.value=this.g=0}function R(){this.G=i(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Ws,P)}function q(F,V,te,ie){t(F!=null),t(V!=null),t(2147483648>ie),F.Ca=254,F.I=0,F.b=-8,F.Ka=0,F.oa=V,F.pa=te,F.Jd=V,F.Yc=te+ie,F.Zc=4<=ie?te+ie-4+1:te,oe(F)}function Q(F,V){for(var te=0;0<V--;)te|=ce(F,128)<<V;return te}function G(F,V){var te=Q(F,V);return se(F)?-te:te}function K(F,V,te,ie){var fe,me=0;for(t(F!=null),t(V!=null),t(4294967288>ie),F.Sb=ie,F.Ra=0,F.u=0,F.h=0,4<ie&&(ie=4),fe=0;fe<ie;++fe)me+=V[te+fe]<<8*fe;F.Ra=me,F.bb=ie,F.oa=V,F.pa=te}function z(F){for(;8<=F.u&&F.bb<F.Sb;)F.Ra>>>=8,F.Ra+=F.oa[F.pa+F.bb]<<sh-8>>>0,++F.bb,F.u-=8;W(F)&&(F.h=1,F.u=0)}function Y(F,V){if(t(0<=V),!F.h&&V<=ah){var te=H(F)&Lf[V];return F.u+=V,z(F),te}return F.h=1,F.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(F){return F.Ra>>>(F.u&sh-1)>>>0}function W(F){return t(F.bb<=F.Sb),F.h||F.bb==F.Sb&&F.u>sh}function Z(F,V){F.u=V,F.h=W(F)}function ae(F){F.u>=M0&&(t(F.u>=M0),z(F))}function oe(F){t(F!=null&&F.oa!=null),F.pa<F.Zc?(F.I=(F.oa[F.pa++]|F.I<<8)>>>0,F.b+=8):(t(F!=null&&F.oa!=null),F.pa<F.Yc?(F.b+=8,F.I=F.oa[F.pa++]|F.I<<8):F.Ka?F.b=0:(F.I<<=8,F.b+=8,F.Ka=1))}function se(F){return Q(F,1)}function ce(F,V){var te=F.Ca;0>F.b&&oe(F);var ie=F.b,fe=te*V>>>8,me=(F.I>>>ie>fe)+0;for(me?(te-=fe,F.I-=fe+1<<ie>>>0):te=fe+1,ie=te,fe=0;256<=ie;)fe+=8,ie>>=8;return ie=7^fe+Xo[ie],F.b-=ie,F.Ca=(te<<ie)-1,me}function de(F,V,te){F[V+0]=te>>24&255,F[V+1]=te>>16&255,F[V+2]=te>>8&255,F[V+3]=te>>0&255}function ke(F,V){return F[V+0]<<0|F[V+1]<<8}function re(F,V){return ke(F,V)|F[V+2]<<16}function _e(F,V){return ke(F,V)|ke(F,V+2)<<16}function Ne(F,V){var te=1<<V;return t(F!=null),t(0<V),F.X=s(te),F.X==null?0:(F.Mb=32-V,F.Xa=V,1)}function Se(F,V){t(F!=null),t(V!=null),t(F.Xa==V.Xa),n(V.X,0,F.X,0,1<<V.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function Be(F,V,te,ie){t(te!=null),t(ie!=null);var fe=te[0],me=ie[0];return fe==0&&(fe=(F*me+V/2)/V),me==0&&(me=(V*fe+F/2)/F),0>=fe||0>=me?0:(te[0]=fe,ie[0]=me,1)}function Le(F,V){return F+(1<<V)-1>>>V}function Ge(F,V){return((4278255360&F)+(4278255360&V)>>>0&4278255360)+((16711935&F)+(16711935&V)>>>0&16711935)>>>0}function xe(F,V){N[V]=function(te,ie,fe,me,ge,ve,Ce){var je;for(je=0;je<ge;++je){var Ue=N[F](ve[Ce+je-1],fe,me+je);ve[Ce+je]=Ge(te[ie+je],Ue)}}}function Ie(){this.ud=this.hd=this.jd=0}function De(F,V){return((4278124286&(F^V))>>>1)+(F&V)>>>0}function Ve(F){return 0<=F&&256>F?F:0>F?0:255<F?255:void 0}function We(F,V){return Ve(F+(F-V+.5>>1))}function at(F,V,te){return Math.abs(V-te)-Math.abs(F-te)}function ht(F,V,te,ie,fe,me,ge){for(ie=me[ge-1],te=0;te<fe;++te)me[ge+te]=ie=Ge(F[V+te],ie)}function Tt(F,V,te,ie,fe){var me;for(me=0;me<te;++me){var ge=F[V+me],ve=ge>>8&255,Ce=16711935&(Ce=(Ce=16711935&ge)+((ve<<16)+ve));ie[fe+me]=(4278255360&ge)+Ce>>>0}}function Rt(F,V){V.jd=F>>0&255,V.hd=F>>8&255,V.ud=F>>16&255}function Ft(F,V,te,ie,fe,me){var ge;for(ge=0;ge<ie;++ge){var ve=V[te+ge],Ce=ve>>>8,je=ve,Ue=255&(Ue=(Ue=ve>>>16)+((F.jd<<24>>24)*(Ce<<24>>24)>>>5));je=255&(je=(je=je+((F.hd<<24>>24)*(Ce<<24>>24)>>>5))+((F.ud<<24>>24)*(Ue<<24>>24)>>>5)),fe[me+ge]=(4278255360&ve)+(Ue<<16)+je}}function Pt(F,V,te,ie,fe){N[V]=function(me,ge,ve,Ce,je,Ue,it,rt,Xe){for(Ce=it;Ce<rt;++Ce)for(it=0;it<Xe;++it)je[Ue++]=fe(ve[ie(me[ge++])])},N[F]=function(me,ge,ve,Ce,je,Ue,it){var rt=8>>me.b,Xe=me.Ea,It=me.K[0],gt=me.w;if(8>rt)for(me=(1<<me.b)-1,gt=(1<<rt)-1;ge<ve;++ge){var Qe,$e=0;for(Qe=0;Qe<Xe;++Qe)Qe&me||($e=ie(Ce[je++])),Ue[it++]=fe(It[$e&gt]),$e>>=rt}else N["VP8LMapColor"+te](Ce,je,It,gt,Ue,it,ge,ve,Xe)}}function ut(F,V,te,ie,fe){for(te=V+te;V<te;){var me=F[V++];ie[fe++]=me>>16&255,ie[fe++]=me>>8&255,ie[fe++]=me>>0&255}}function Cr(F,V,te,ie,fe){for(te=V+te;V<te;){var me=F[V++];ie[fe++]=me>>16&255,ie[fe++]=me>>8&255,ie[fe++]=me>>0&255,ie[fe++]=me>>24&255}}function Kt(F,V,te,ie,fe){for(te=V+te;V<te;){var me=(ge=F[V++])>>16&240|ge>>12&15,ge=ge>>0&240|ge>>28&15;ie[fe++]=me,ie[fe++]=ge}}function ln(F,V,te,ie,fe){for(te=V+te;V<te;){var me=(ge=F[V++])>>16&248|ge>>13&7,ge=ge>>5&224|ge>>3&31;ie[fe++]=me,ie[fe++]=ge}}function kr(F,V,te,ie,fe){for(te=V+te;V<te;){var me=F[V++];ie[fe++]=me>>0&255,ie[fe++]=me>>8&255,ie[fe++]=me>>16&255}}function Mr(F,V,te,ie,fe,me){if(me==0)for(te=V+te;V<te;)de(ie,((me=F[V++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),fe+=32;else n(ie,fe,F,V,te)}function En(F,V){N[V][0]=N[F+"0"],N[V][1]=N[F+"1"],N[V][2]=N[F+"2"],N[V][3]=N[F+"3"],N[V][4]=N[F+"4"],N[V][5]=N[F+"5"],N[V][6]=N[F+"6"],N[V][7]=N[F+"7"],N[V][8]=N[F+"8"],N[V][9]=N[F+"9"],N[V][10]=N[F+"10"],N[V][11]=N[F+"11"],N[V][12]=N[F+"12"],N[V][13]=N[F+"13"],N[V][14]=N[F+"0"],N[V][15]=N[F+"0"]}function Pr(F){return F==Km||F==qf||F==Pd||F==$0}function or(){this.eb=[],this.size=this.A=this.fb=0}function gr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function en(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new or,this.f.kb=new gr,this.sd=null}function zn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yr(F){return alert("todo:WebPSamplerProcessPlane"),F.T}function tt(F,V){var te=F.T,ie=V.ba.f.RGBA,fe=ie.eb,me=ie.fb+F.ka*ie.A,ge=bi[V.ba.S],ve=F.y,Ce=F.O,je=F.f,Ue=F.N,it=F.ea,rt=F.W,Xe=V.cc,It=V.dc,gt=V.Mc,Qe=V.Nc,$e=F.ka,Nt=F.ka+F.T,Ot=F.U,Bt=Ot+1>>1;for($e==0?ge(ve,Ce,null,null,je,Ue,it,rt,je,Ue,it,rt,fe,me,null,null,Ot):(ge(V.ec,V.fc,ve,Ce,Xe,It,gt,Qe,je,Ue,it,rt,fe,me-ie.A,fe,me,Ot),++te);$e+2<Nt;$e+=2)Xe=je,It=Ue,gt=it,Qe=rt,Ue+=F.Rc,rt+=F.Rc,me+=2*ie.A,ge(ve,(Ce+=2*F.fa)-F.fa,ve,Ce,Xe,It,gt,Qe,je,Ue,it,rt,fe,me-ie.A,fe,me,Ot);return Ce+=F.fa,F.j+Nt<F.o?(n(V.ec,V.fc,ve,Ce,Ot),n(V.cc,V.dc,je,Ue,Bt),n(V.Mc,V.Nc,it,rt,Bt),te--):1&Nt||ge(ve,Ce,null,null,je,Ue,it,rt,je,Ue,it,rt,fe,me+ie.A,null,null,Ot),te}function xt(F,V,te){var ie=F.F,fe=[F.J];if(ie!=null){var me=F.U,ge=V.ba.S,ve=ge==uh||ge==Pd;V=V.ba.f.RGBA;var Ce=[0],je=F.ka;Ce[0]=F.T,F.Kb&&(je==0?--Ce[0]:(--je,fe[0]-=F.width),F.j+F.ka+F.T==F.o&&(Ce[0]=F.o-F.j-je));var Ue=V.eb;je=V.fb+je*V.A,F=wn(ie,fe[0],F.width,me,Ce,Ue,je+(ve?0:3),V.A),t(te==Ce),F&&Pr(ge)&&Fl(Ue,je,ve,me,Ce,V.A)}return 0}function et(F){var V=F.ma,te=V.ba.S,ie=11>te,fe=te==H0||te==Gm||te==uh||te==Dd||te==12||Pr(te);if(V.memory=null,V.Ib=null,V.Jb=null,V.Nd=null,!Rf(V.Oa,F,fe?11:12))return 0;if(fe&&Pr(te)&&Qt(),F.da)alert("todo:use_scaling");else{if(ie){if(V.Ib=yr,F.Kb){if(te=F.U+1>>1,V.memory=s(F.U+2*te),V.memory==null)return 0;V.ec=V.memory,V.fc=0,V.cc=V.ec,V.dc=V.fc+F.U,V.Mc=V.cc,V.Nc=V.dc+te,V.Ib=tt,Qt()}}else alert("todo:EmitYUV");fe&&(V.Jb=xt,ie&&qe())}if(ie&&!yS){for(F=0;256>F;++F)Zj[F]=89858*(F-128)+Ys>>Uu,Xm[F]=-22014*(F-128)+Ys,Dy[F]=-45773*(F-128),Js[F]=113618*(F-128)+Ys>>Uu;for(F=Yf;F<lv;++F)V=76283*(F-16)+Ys>>Uu,Ym[F-Yf]=Yn(V,255),Py[F-Yf]=Yn(V+8>>4,15);yS=1}return 1}function vt(F){var V=F.ma,te=F.U,ie=F.T;return t(!(1&F.ka)),0>=te||0>=ie?0:(te=V.Ib(F,V),V.Jb!=null&&V.Jb(F,V,te),V.Dc+=te,1)}function Ct(F){F.ma.memory=null}function yt(F,V,te,ie){return Y(F,8)!=47?0:(V[0]=Y(F,14)+1,te[0]=Y(F,14)+1,ie[0]=Y(F,1),Y(F,3)!=0?0:!F.h)}function sr(F,V){if(4>F)return F+1;var te=F-2>>1;return(2+(1&F)<<te)+Y(V,te)+1}function Er(F,V){return 120<V?V-120:1<=(te=((te=Ld[V-1])>>4)*F+(8-(15&te)))?te:1;var te}function nn(F,V,te){var ie=H(te),fe=F[V+=255&ie].g-8;return 0<fe&&(Z(te,te.u+8),ie=H(te),V+=F[V].value,V+=ie&(1<<fe)-1),Z(te,te.u+F[V].g),F[V].value}function cn(F,V,te){return te.g+=F.g,te.value+=F.value<<V>>>0,t(8>=te.g),F.g}function tn(F,V,te){var ie=F.xc;return t((V=ie==0?0:F.vc[F.md*(te>>ie)+(V>>ie)])<F.Wb),F.Ya[V]}function pe(F,V,te,ie){var fe=F.ab,me=F.c*V,ge=F.C;V=ge+V;var ve=te,Ce=ie;for(ie=F.Ta,te=F.Ua;0<fe--;){var je=F.gc[fe],Ue=ge,it=V,rt=ve,Xe=Ce,It=(Ce=ie,ve=te,je.Ea);switch(t(Ue<it),t(it<=je.nc),je.hc){case 2:tv(rt,Xe,(it-Ue)*It,Ce,ve);break;case 0:var gt=Ue,Qe=it,$e=Ce,Nt=ve,Ot=(nr=je).Ea;gt==0&&(Fy(rt,Xe,null,null,1,$e,Nt),ht(rt,Xe+1,0,0,Ot-1,$e,Nt+1),Xe+=Ot,Nt+=Ot,++gt);for(var Bt=1<<nr.b,ar=Bt-1,er=Le(Ot,nr.b),_r=nr.K,nr=nr.w+(gt>>nr.b)*er;gt<Qe;){var Qn=_r,Jn=nr,bn=1;for(Vm(rt,Xe,$e,Nt-Ot,1,$e,Nt);bn<Ot;){var pn=(bn&~ar)+Bt;pn>Ot&&(pn=Ot),(0,Id[Qn[Jn++]>>8&15])(rt,Xe+ +bn,$e,Nt+bn-Ot,pn-bn,$e,Nt+bn),bn=pn}Xe+=Ot,Nt+=Ot,++gt&ar||(nr+=er)}it!=je.nc&&n(Ce,ve-It,Ce,ve+(it-Ue-1)*It,It);break;case 1:for(It=rt,Qe=Xe,Ot=(rt=je.Ea)-(Nt=rt&~($e=(Xe=1<<je.b)-1)),gt=Le(rt,je.b),Bt=je.K,je=je.w+(Ue>>je.b)*gt;Ue<it;){for(ar=Bt,er=je,_r=new Ie,nr=Qe+Nt,Qn=Qe+rt;Qe<nr;)Rt(ar[er++],_r),Uf(_r,It,Qe,Xe,Ce,ve),Qe+=Xe,ve+=Xe;Qe<Qn&&(Rt(ar[er++],_r),Uf(_r,It,Qe,Ot,Ce,ve),Qe+=Ot,ve+=Ot),++Ue&$e||(je+=gt)}break;case 3:if(rt==Ce&&Xe==ve&&0<je.b){for(Qe=Ce,rt=It=ve+(it-Ue)*It-(Nt=(it-Ue)*Le(je.Ea,je.b)),Xe=Ce,$e=ve,gt=[],Nt=(Ot=Nt)-1;0<=Nt;--Nt)gt[Nt]=Xe[$e+Nt];for(Nt=Ot-1;0<=Nt;--Nt)Qe[rt+Nt]=gt[Nt];sc(je,Ue,it,Ce,It,Ce,ve)}else sc(je,Ue,it,rt,Xe,Ce,ve)}ve=ie,Ce=te}Ce!=te&&n(ie,te,ve,Ce,me)}function Fe(F,V){var te=F.V,ie=F.Ba+F.c*F.C,fe=V-F.C;if(t(V<=F.l.o),t(16>=fe),0<fe){var me=F.l,ge=F.Ta,ve=F.Ua,Ce=me.width;if(pe(F,fe,te,ie),fe=ve=[ve],t((te=F.C)<(ie=V)),t(me.v<me.va),ie>me.o&&(ie=me.o),te<me.j){var je=me.j-te;te=me.j,fe[0]+=je*Ce}if(te>=ie?te=0:(fe[0]+=4*me.v,me.ka=te-me.j,me.U=me.va-me.v,me.T=ie-te,te=1),te){if(ve=ve[0],11>(te=F.ca).S){var Ue=te.f.RGBA,it=(ie=te.S,fe=me.U,me=me.T,je=Ue.eb,Ue.A),rt=me;for(Ue=Ue.fb+F.Ma*Ue.A;0<rt--;){var Xe=ge,It=ve,gt=fe,Qe=je,$e=Ue;switch(ie){case to:Eo(Xe,It,gt,Qe,$e);break;case H0:Li(Xe,It,gt,Qe,$e);break;case Km:Li(Xe,It,gt,Qe,$e),Fl(Qe,$e,0,gt,1,0);break;case Pu:Mc(Xe,It,gt,Qe,$e);break;case Gm:Mr(Xe,It,gt,Qe,$e,1);break;case qf:Mr(Xe,It,gt,Qe,$e,1),Fl(Qe,$e,0,gt,1,0);break;case uh:Mr(Xe,It,gt,Qe,$e,0);break;case Pd:Mr(Xe,It,gt,Qe,$e,0),Fl(Qe,$e,1,gt,1,0);break;case Dd:Qf(Xe,It,gt,Qe,$e);break;case $0:Qf(Xe,It,gt,Qe,$e),yn(Qe,$e,gt,1,0);break;case nv:Yo(Xe,It,gt,Qe,$e);break;default:t(0)}ve+=Ce,Ue+=it}F.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");t(F.Ma<=te.height)}}F.C=V,t(F.C<=F.i)}function Ee(F){var V;if(0<F.ua)return 0;for(V=0;V<F.Wb;++V){var te=F.Ya[V].G,ie=F.Ya[V].H;if(0<te[1][ie[1]+0].g||0<te[2][ie[2]+0].g||0<te[3][ie[3]+0].g)return 0}return 1}function we(F,V,te,ie,fe,me){if(F.Z!=0){var ge=F.qd,ve=F.rd;for(t(Lu[F.Z]!=null);V<te;++V)Lu[F.Z](ge,ve,ie,fe,ie,fe,me),ge=ie,ve=fe,fe+=me;F.qd=ge,F.rd=ve}}function Te(F,V){var te=F.l.ma,ie=te.Z==0||te.Z==1?F.l.j:F.C;if(ie=F.C<ie?ie:F.C,t(V<=F.l.o),V>ie){var fe=F.l.width,me=te.ca,ge=te.tb+fe*ie,ve=F.V,Ce=F.Ba+F.c*ie,je=F.gc;t(F.ab==1),t(je[0].hc==3),Mf(je[0],ie,V,ve,Ce,me,ge),we(te,ie,V,me,ge,fe)}F.C=F.Ma=V}function Oe(F,V,te,ie,fe,me,ge){var ve=F.$/ie,Ce=F.$%ie,je=F.m,Ue=F.s,it=te+F.$,rt=it;fe=te+ie*fe;var Xe=te+ie*me,It=280+Ue.ua,gt=F.Pb?ve:16777216,Qe=0<Ue.ua?Ue.Wa:null,$e=Ue.wc,Nt=it<Xe?tn(Ue,Ce,ve):null;t(F.C<me),t(Xe<=fe);var Ot=!1;e:for(;;){for(;Ot||it<Xe;){var Bt=0;if(ve>=gt){var ar=it-te;t((gt=F).Pb),gt.wd=gt.m,gt.xd=ar,0<gt.s.ua&&Se(gt.s.Wa,gt.s.vb),gt=ve+xS}if(Ce&$e||(Nt=tn(Ue,Ce,ve)),t(Nt!=null),Nt.Qb&&(V[it]=Nt.qb,Ot=!0),!Ot)if(ae(je),Nt.jc){Bt=je,ar=V;var er=it,_r=Nt.pd[H(Bt)&Ws-1];t(Nt.jc),256>_r.g?(Z(Bt,Bt.u+_r.g),ar[er]=_r.value,Bt=0):(Z(Bt,Bt.u+_r.g-256),t(256<=_r.value),Bt=_r.value),Bt==0&&(Ot=!0)}else Bt=nn(Nt.G[0],Nt.H[0],je);if(je.h)break;if(Ot||256>Bt){if(!Ot)if(Nt.nd)V[it]=(Nt.qb|Bt<<8)>>>0;else{if(ae(je),Ot=nn(Nt.G[1],Nt.H[1],je),ae(je),ar=nn(Nt.G[2],Nt.H[2],je),er=nn(Nt.G[3],Nt.H[3],je),je.h)break;V[it]=(er<<24|Ot<<16|Bt<<8|ar)>>>0}if(Ot=!1,++it,++Ce>=ie&&(Ce=0,++ve,ge!=null&&ve<=me&&!(ve%16)&&ge(F,ve),Qe!=null))for(;rt<it;)Bt=V[rt++],Qe.X[(506832829*Bt&4294967295)>>>Qe.Mb]=Bt}else if(280>Bt){if(Bt=sr(Bt-256,je),ar=nn(Nt.G[4],Nt.H[4],je),ae(je),ar=Er(ie,ar=sr(ar,je)),je.h)break;if(it-te<ar||fe-it<Bt)break e;for(er=0;er<Bt;++er)V[it+er]=V[it+er-ar];for(it+=Bt,Ce+=Bt;Ce>=ie;)Ce-=ie,++ve,ge!=null&&ve<=me&&!(ve%16)&&ge(F,ve);if(t(it<=fe),Ce&$e&&(Nt=tn(Ue,Ce,ve)),Qe!=null)for(;rt<it;)Bt=V[rt++],Qe.X[(506832829*Bt&4294967295)>>>Qe.Mb]=Bt}else{if(!(Bt<It))break e;for(Ot=Bt-280,t(Qe!=null);rt<it;)Bt=V[rt++],Qe.X[(506832829*Bt&4294967295)>>>Qe.Mb]=Bt;Bt=it,t(!(Ot>>>(ar=Qe).Xa)),V[Bt]=ar.X[Ot],Ot=!0}Ot||t(je.h==W(je))}if(F.Pb&&je.h&&it<fe)t(F.m.h),F.a=5,F.m=F.wd,F.$=F.xd,0<F.s.ua&&Se(F.s.vb,F.s.Wa);else{if(je.h)break e;ge!=null&&ge(F,ve>me?me:ve),F.a=0,F.$=it-te}return 1}return F.a=3,0}function Je(F){t(F!=null),F.vc=null,F.yc=null,F.Ya=null;var V=F.Wa;V!=null&&(V.X=null),F.vb=null,t(F!=null)}function ft(){var F=new R0;return F==null?null:(F.a=0,F.xb=V0,En("Predictor","VP8LPredictors"),En("Predictor","VP8LPredictors_C"),En("PredictorAdd","VP8LPredictorsAdd"),En("PredictorAdd","VP8LPredictorsAdd_C"),tv=Tt,Uf=Ft,Eo=ut,Li=Cr,Qf=Kt,Yo=ln,Mc=kr,N.VP8LMapColor32b=xi,N.VP8LMapColor8b=zm,F)}function Ke(F,V,te,ie,fe){var me=1,ge=[F],ve=[V],Ce=ie.m,je=ie.s,Ue=null,it=0;e:for(;;){if(te)for(;me&&Y(Ce,1);){var rt=ge,Xe=ve,It=ie,gt=1,Qe=It.m,$e=It.gc[It.ab],Nt=Y(Qe,2);if(It.Oc&1<<Nt)me=0;else{switch(It.Oc|=1<<Nt,$e.hc=Nt,$e.Ea=rt[0],$e.nc=Xe[0],$e.K=[null],++It.ab,t(4>=It.ab),Nt){case 0:case 1:$e.b=Y(Qe,3)+2,gt=Ke(Le($e.Ea,$e.b),Le($e.nc,$e.b),0,It,$e.K),$e.K=$e.K[0];break;case 3:var Ot,Bt=Y(Qe,8)+1,ar=16<Bt?0:4<Bt?1:2<Bt?2:3;if(rt[0]=Le($e.Ea,ar),$e.b=ar,Ot=gt=Ke(Bt,1,0,It,$e.K)){var er,_r=Bt,nr=$e,Qn=1<<(8>>nr.b),Jn=s(Qn);if(Jn==null)Ot=0;else{var bn=nr.K[0],pn=nr.w;for(Jn[0]=nr.K[0][0],er=1;er<1*_r;++er)Jn[er]=Ge(bn[pn+er],Jn[er-1]);for(;er<4*Qn;++er)Jn[er]=0;nr.K[0]=null,nr.K[0]=Jn,Ot=1}}gt=Ot;break;case 2:break;default:t(0)}me=gt}}if(ge=ge[0],ve=ve[0],me&&Y(Ce,1)&&!(me=1<=(it=Y(Ce,4))&&11>=it)){ie.a=3;break e}var da;if(da=me)t:{var Zn,sn,xa,Or=ie,Kr=ge,Un=ve,Hn=it,yi=te,Zs=Or.m,gs=Or.s,xs=[null],Is=1,cc=0,ea=fh[Hn];r:for(;;){if(yi&&Y(Zs,1)){var Fs=Y(Zs,3)+2,Hc=Le(Kr,Fs),Jf=Le(Un,Fs),ph=Hc*Jf;if(!Ke(Hc,Jf,0,Or,xs))break r;for(xs=xs[0],gs.xc=Fs,Zn=0;Zn<ph;++Zn){var Zf=xs[Zn]>>8&65535;xs[Zn]=Zf,Zf>=Is&&(Is=Zf+1)}}if(Zs.h)break r;for(sn=0;5>sn;++sn){var Qa=Ol[sn];!sn&&0<Hn&&(Qa+=1<<Hn),cc<Qa&&(cc=Qa)}var Jm=i(Is*ea,T),cv=Is,_o=i(cv,R);if(_o==null)var Xa=null;else t(65536>=cv),Xa=_o;var mh=s(cc);if(Xa==null||mh==null||Jm==null){Or.a=1;break r}var eA=Jm;for(Zn=xa=0;Zn<Is;++Zn){var Zo=Xa[Zn],tA=Zo.G,el=Zo.H,Zm=0,G0=1,uv=0;for(sn=0;5>sn;++sn){Qa=Ol[sn],tA[sn]=eA,el[sn]=xa,!sn&&0<Hn&&(Qa+=1<<Hn);a:{var eg,dv=Qa,tg=Or,K0=mh,ES=eA,SS=xa,rg=0,Hd=tg.m,t3=Y(Hd,1);if(a(K0,0,0,dv),t3){var _S=Y(Hd,1)+1,NS=Y(Hd,1),Ry=Y(Hd,NS==0?1:8);K0[Ry]=1,_S==2&&(K0[Ry=Y(Hd,8)]=1);var q0=1}else{var Ly=s(19),My=Y(Hd,4)+4;if(19<My){tg.a=3;var ng=0;break a}for(eg=0;eg<My;++eg)Ly[Rd[eg]]=Y(Hd,3);var fv=void 0,W0=void 0,kS=tg,TS=Ly,$d=dv,ag=K0,Av=0,$c=kS.m,X0=8,Uy=i(128,T);n:for(;O(Uy,0,7,TS,19);){if(Y($c,1)){var BS=2+2*Y($c,3);if((fv=2+Y($c,BS))>$d)break n}else fv=$d;for(W0=0;W0<$d&&fv--;){ae($c);var Qy=Uy[0+(127&H($c))];Z($c,$c.u+Qy.g);var gh=Qy.value;if(16>gh)ag[W0++]=gh,gh!=0&&(X0=gh);else{var jS=gh==16,Hy=gh-16,$y=lc[Hy],Vy=Y($c,av[Hy])+$y;if(W0+Vy>$d)break n;for(var IS=jS?X0:0;0<Vy--;)ag[W0++]=IS}}Av=1;break n}Av||(kS.a=3),q0=Av}(q0=q0&&!Hd.h)&&(rg=O(ES,SS,8,K0,dv)),q0&&rg!=0?ng=rg:(tg.a=3,ng=0)}if(ng==0)break r;if(G0&&dh[sn]==1&&(G0=eA[xa].g==0),Zm+=eA[xa].g,xa+=ng,3>=sn){var xh,hv=mh[0];for(xh=1;xh<Qa;++xh)mh[xh]>hv&&(hv=mh[xh]);uv+=hv}}if(Zo.nd=G0,Zo.Qb=0,G0&&(Zo.qb=(tA[3][el[3]+0].value<<24|tA[1][el[1]+0].value<<16|tA[2][el[2]+0].value)>>>0,Zm==0&&256>tA[0][el[0]+0].value&&(Zo.Qb=1,Zo.qb+=tA[0][el[0]+0].value<<8)),Zo.jc=!Zo.Qb&&6>uv,Zo.jc){var sg,Vd=Zo;for(sg=0;sg<Ws;++sg){var Qu=sg,zd=Vd.pd[Qu],ig=Vd.G[0][Vd.H[0]+Qu];256<=ig.value?(zd.g=ig.g+256,zd.value=ig.value):(zd.g=0,zd.value=0,Qu>>=cn(ig,8,zd),Qu>>=cn(Vd.G[1][Vd.H[1]+Qu],16,zd),Qu>>=cn(Vd.G[2][Vd.H[2]+Qu],0,zd),cn(Vd.G[3][Vd.H[3]+Qu],24,zd))}}}gs.vc=xs,gs.Wb=Is,gs.Ya=Xa,gs.yc=Jm,da=1;break t}da=0}if(!(me=da)){ie.a=3;break e}if(0<it){if(je.ua=1<<it,!Ne(je.Wa,it)){ie.a=1,me=0;break e}}else je.ua=0;var og=ie,zy=ge,FS=ve,Gy=og.s,Ky=Gy.xc;if(og.c=zy,og.i=FS,Gy.md=Le(zy,Ky),Gy.wc=Ky==0?-1:(1<<Ky)-1,te){ie.xb=bS;break e}if((Ue=s(ge*ve))==null){ie.a=1,me=0;break e}me=(me=Oe(ie,Ue,0,ge,ve,ve,null))&&!Ce.h;break e}return me?(fe!=null?fe[0]=Ue:(t(Ue==null),t(te)),ie.$=0,te||Je(je)):Je(je),me}function nt(F,V){var te=F.c*F.i,ie=te+V+16*V;return t(F.c<=V),F.V=s(ie),F.V==null?(F.Ta=null,F.Ua=0,F.a=1,0):(F.Ta=F.V,F.Ua=F.Ba+te+V,1)}function ot(F,V){var te=F.C,ie=V-te,fe=F.V,me=F.Ba+F.c*te;for(t(V<=F.l.o);0<ie;){var ge=16<ie?16:ie,ve=F.l.ma,Ce=F.l.width,je=Ce*ge,Ue=ve.ca,it=ve.tb+Ce*te,rt=F.Ta,Xe=F.Ua;pe(F,ge,fe,me),Ba(rt,Xe,Ue,it,je),we(ve,te,te+ge,Ue,it,Ce),ie-=ge,fe+=ge*F.c,te+=ge}t(te==V),F.C=F.Ma=V}function Dt(){this.ub=this.yd=this.td=this.Rb=0}function Vt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function $t(){this.Yb=function(){var F=[];return function V(te,ie,fe){for(var me=fe[ie],ge=0;ge<me&&(te.push(fe.length>ie+1?[]:0),!(fe.length<ie+1));ge++)V(te[ge],ie+1,fe)}(F,0,[3,11]),F}()}function qt(){this.jb=s(3),this.Wc=o([4,8],$t),this.Xc=o([4,17],$t)}function Fr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function An(){this.ld=this.La=this.dd=this.tc=0}function hn(){this.Na=this.la=0}function vn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ns(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vo(){this.uc=this.M=this.Nb=0,this.wa=Array(new An),this.Y=0,this.ya=Array(new Ns),this.aa=0,this.l=new qs}function ks(){this.y=s(16),this.f=s(8),this.ea=s(8)}function mi(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new Dt,this.Kc=new Vt,this.ed=new Fr,this.Qa=new tr,this.Ic=this.$c=this.Aa=0,this.D=new Vo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,ee),this.ia=0,this.pb=i(4,vn),this.Pa=new qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ks),this.Hd=0,this.rb=Array(new hn),this.sb=0,this.wa=Array(new An),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ns),this.L=this.aa=0,this.gd=o([4,2],An),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Oi(){var F=new mi;return F!=null&&(F.a=0,F.sc="OK",F.cb=0,F.Xb=0,Xs||(Xs=F0)),F}function Ta(F,V,te){return F.a==0&&(F.a=V,F.sc=te,F.cb=0),0}function gi(F,V,te){return 3<=te&&F[V+0]==157&&F[V+1]==1&&F[V+2]==42}function Bf(F,V){if(F==null)return 0;if(F.a=0,F.sc="OK",V==null)return Ta(F,2,"null VP8Io passed to VP8GetHeaders()");var te=V.data,ie=V.w,fe=V.ha;if(4>fe)return Ta(F,7,"Truncated header.");var me=te[ie+0]|te[ie+1]<<8|te[ie+2]<<16,ge=F.Od;if(ge.Rb=!(1&me),ge.td=me>>1&7,ge.yd=me>>4&1,ge.ub=me>>5,3<ge.td)return Ta(F,3,"Incorrect keyframe parameters.");if(!ge.yd)return Ta(F,4,"Frame not displayable.");ie+=3,fe-=3;var ve=F.Kc;if(ge.Rb){if(7>fe)return Ta(F,7,"cannot parse picture header");if(!gi(te,ie,fe))return Ta(F,3,"Bad code word");ve.c=16383&(te[ie+4]<<8|te[ie+3]),ve.Td=te[ie+4]>>6,ve.i=16383&(te[ie+6]<<8|te[ie+5]),ve.Ud=te[ie+6]>>6,ie+=7,fe-=7,F.za=ve.c+15>>4,F.Ub=ve.i+15>>4,V.width=ve.c,V.height=ve.i,V.Da=0,V.j=0,V.v=0,V.va=V.width,V.o=V.height,V.da=0,V.ib=V.width,V.hb=V.height,V.U=V.width,V.T=V.height,a((me=F.Pa).jb,0,255,me.jb.length),t((me=F.Qa)!=null),me.Cb=0,me.Bb=0,me.Fb=1,a(me.Zb,0,0,me.Zb.length),a(me.Lb,0,0,me.Lb)}if(ge.ub>fe)return Ta(F,7,"bad partition length");q(me=F.m,te,ie,ge.ub),ie+=ge.ub,fe-=ge.ub,ge.Rb&&(ve.Ld=se(me),ve.Kd=se(me)),ve=F.Qa;var Ce,je=F.Pa;if(t(me!=null),t(ve!=null),ve.Cb=se(me),ve.Cb){if(ve.Bb=se(me),se(me)){for(ve.Fb=se(me),Ce=0;4>Ce;++Ce)ve.Zb[Ce]=se(me)?G(me,7):0;for(Ce=0;4>Ce;++Ce)ve.Lb[Ce]=se(me)?G(me,6):0}if(ve.Bb)for(Ce=0;3>Ce;++Ce)je.jb[Ce]=se(me)?Q(me,8):255}else ve.Bb=0;if(me.Ka)return Ta(F,3,"cannot parse segment header");if((ve=F.ed).zd=se(me),ve.Tb=Q(me,6),ve.wb=Q(me,3),ve.Pc=se(me),ve.Pc&&se(me)){for(je=0;4>je;++je)se(me)&&(ve.vd[je]=G(me,6));for(je=0;4>je;++je)se(me)&&(ve.od[je]=G(me,6))}if(F.L=ve.Tb==0?0:ve.zd?1:2,me.Ka)return Ta(F,3,"cannot parse filter header");var Ue=fe;if(fe=Ce=ie,ie=Ce+Ue,ve=Ue,F.Xb=(1<<Q(F.m,2))-1,Ue<3*(je=F.Xb))te=7;else{for(Ce+=3*je,ve-=3*je,Ue=0;Ue<je;++Ue){var it=te[fe+0]|te[fe+1]<<8|te[fe+2]<<16;it>ve&&(it=ve),q(F.Jc[+Ue],te,Ce,it),Ce+=it,ve-=it,fe+=3}q(F.Jc[+je],te,Ce,ve),te=Ce<ie?0:5}if(te!=0)return Ta(F,te,"cannot parse partitions");for(te=Q(Ce=F.m,7),fe=se(Ce)?G(Ce,4):0,ie=se(Ce)?G(Ce,4):0,ve=se(Ce)?G(Ce,4):0,je=se(Ce)?G(Ce,4):0,Ce=se(Ce)?G(Ce,4):0,Ue=F.Qa,it=0;4>it;++it){if(Ue.Cb){var rt=Ue.Zb[it];Ue.Fb||(rt+=te)}else{if(0<it){F.pb[it]=F.pb[0];continue}rt=te}var Xe=F.pb[it];Xe.Sc[0]=qm[Yn(rt+fe,127)],Xe.Sc[1]=Wm[Yn(rt+0,127)],Xe.Eb[0]=2*qm[Yn(rt+ie,127)],Xe.Eb[1]=101581*Wm[Yn(rt+ve,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=qm[Yn(rt+je,117)],Xe.Qc[1]=Wm[Yn(rt+Ce,127)],Xe.lc=rt+Ce}if(!ge.Rb)return Ta(F,4,"Not a key frame.");for(se(me),ge=F.Pa,te=0;4>te;++te){for(fe=0;8>fe;++fe)for(ie=0;3>ie;++ie)for(ve=0;11>ve;++ve)je=ce(me,Ah[te][fe][ie][ve])?Q(me,8):Ru[te][fe][ie][ve],ge.Wc[te][fe].Yb[ie][ve]=je;for(fe=0;17>fe;++fe)ge.Xc[te][fe]=ge.Wc[te][vS[fe]]}return F.kc=se(me),F.kc&&(F.Bd=Q(me,8)),F.cb=1}function F0(F,V,te,ie,fe,me,ge){var ve=V[fe].Yb[te];for(te=0;16>fe;++fe){if(!ce(F,ve[te+0]))return fe;for(;!ce(F,ve[te+1]);)if(ve=V[++fe].Yb[0],te=0,fe==16)return 16;var Ce=V[fe+1].Yb;if(ce(F,ve[te+2])){var je=F,Ue=0;if(ce(je,(rt=ve)[(it=te)+3]))if(ce(je,rt[it+6])){for(ve=0,it=2*(Ue=ce(je,rt[it+8]))+(rt=ce(je,rt[it+9+Ue])),Ue=0,rt=os[it];rt[ve];++ve)Ue+=Ue+ce(je,rt[ve]);Ue+=3+(8<<it)}else ce(je,rt[it+7])?(Ue=7+2*ce(je,165),Ue+=ce(je,145)):Ue=5+ce(je,159);else Ue=ce(je,rt[it+4])?3+ce(je,rt[it+5]):2;ve=Ce[2]}else Ue=1,ve=Ce[1];Ce=ge+Gn[fe],0>(je=F).b&&oe(je);var it,rt=je.b,Xe=(it=je.Ca>>1)-(je.I>>rt)>>31;--je.b,je.Ca+=Xe,je.Ca|=1,je.I-=(it+1&Xe)<<rt,me[Ce]=((Ue^Xe)-Xe)*ie[(0<fe)+0]}return 16}function wu(F){var V=F.rb[F.sb-1];V.la=0,V.Na=0,a(F.zc,0,0,F.zc.length),F.ja=0}function YA(F,V){if(F==null)return 0;if(V==null)return Ta(F,2,"NULL VP8Io parameter in VP8Decode().");if(!F.cb&&!Bf(F,V))return 0;if(t(F.cb),V.ac==null||V.ac(V)){V.ob&&(F.L=0);var te=Qd[F.L];if(F.L==2?(F.yb=0,F.zb=0):(F.yb=V.v-te>>4,F.zb=V.j-te>>4,0>F.yb&&(F.yb=0),0>F.zb&&(F.zb=0)),F.Va=V.o+15+te>>4,F.Hb=V.va+15+te>>4,F.Hb>F.za&&(F.Hb=F.za),F.Va>F.Ub&&(F.Va=F.Ub),0<F.L){var ie=F.ed;for(te=0;4>te;++te){var fe;if(F.Qa.Cb){var me=F.Qa.Lb[te];F.Qa.Fb||(me+=ie.Tb)}else me=ie.Tb;for(fe=0;1>=fe;++fe){var ge=F.gd[te][fe],ve=me;if(ie.Pc&&(ve+=ie.vd[0],fe&&(ve+=ie.od[0])),0<(ve=0>ve?0:63<ve?63:ve)){var Ce=ve;0<ie.wb&&(Ce=4<ie.wb?Ce>>2:Ce>>1)>9-ie.wb&&(Ce=9-ie.wb),1>Ce&&(Ce=1),ge.dd=Ce,ge.tc=2*ve+Ce,ge.ld=40<=ve?2:15<=ve?1:0}else ge.tc=0;ge.La=fe}}}te=0}else Ta(F,6,"Frame setup failed"),te=F.a;if(te=te==0){if(te){F.$c=0,0<F.Aa||(F.Ic=wS);e:{te=F.Ic,ie=4*(Ce=F.za);var je=32*Ce,Ue=Ce+1,it=0<F.L?Ce*(0<F.Aa?2:1):0,rt=(F.Aa==2?2:1)*Ce;if((ge=ie+832+(fe=3*(16*te+Qd[F.L])/2*je)+(me=F.Fa!=null&&0<F.Fa.length?F.Kc.c*F.Kc.i:0))!=ge)te=0;else{if(ge>F.Vb){if(F.Vb=0,F.Ec=s(ge),F.Fc=0,F.Ec==null){te=Ta(F,1,"no memory during frame initialization.");break e}F.Vb=ge}ge=F.Ec,ve=F.Fc,F.Ac=ge,F.Bc=ve,ve+=ie,F.Gd=i(je,ks),F.Hd=0,F.rb=i(Ue+1,hn),F.sb=1,F.wa=it?i(it,An):null,F.Y=0,F.D.Nb=0,F.D.wa=F.wa,F.D.Y=F.Y,0<F.Aa&&(F.D.Y+=Ce),t(!0),F.oc=ge,F.pc=ve,ve+=832,F.ya=i(rt,Ns),F.aa=0,F.D.ya=F.ya,F.D.aa=F.aa,F.Aa==2&&(F.D.aa+=Ce),F.R=16*Ce,F.B=8*Ce,Ce=(je=Qd[F.L])*F.R,je=je/2*F.B,F.sa=ge,F.ta=ve+Ce,F.qa=F.sa,F.ra=F.ta+16*te*F.R+je,F.Ha=F.qa,F.Ia=F.ra+8*te*F.B+je,F.$c=0,ve+=fe,F.mb=me?ge:null,F.nb=me?ve:null,t(ve+me<=F.Fc+F.Vb),wu(F),a(F.Ac,F.Bc,0,ie),te=1}}if(te){if(V.ka=0,V.y=F.sa,V.O=F.ta,V.f=F.qa,V.N=F.ra,V.ea=F.Ha,V.Vd=F.Ia,V.fa=F.R,V.Rc=F.B,V.F=null,V.J=0,!Od){for(te=-255;255>=te;++te)ms[255+te]=0>te?-te:te;for(te=-1020;1020>=te;++te)ic[1020+te]=-128>te?-128:127<te?127:te;for(te=-112;112>=te;++te)Gf[112+te]=-16>te?-16:15<te?15:te;for(te=-255;510>=te;++te)Kf[255+te]=0>te?0:255<te?255:te;Od=1}Ou=zo,Uc=Eu,Qc=Yl,js=Xn,Jo=Su,ss=Cu,ih=Tu,Du=Rc,U0=Of,Hf=rh,$f=Ff,Vf=Nd,oh=kd,Q0=Bu,zf=Il,Fd=Zi,lh=Bs,is=P0,So[0]=Yi,So[1]=O0,So[2]=ec,So[3]=D0,So[4]=Go,So[5]=tc,So[6]=Co,So[7]=Ko,So[8]=Pc,So[9]=_u,Md[0]=Jl,Md[1]=ZA,Md[2]=Fc,Md[3]=If,Md[4]=ga,Md[5]=Dc,Md[6]=Zl,Dl[0]=rc,Dl[1]=JA,Dl[2]=eh,Dl[3]=qo,Dl[4]=Sn,Dl[5]=Ts,Dl[6]=Nu,te=1}else te=0}te&&(te=function(Xe,It){for(Xe.M=0;Xe.M<Xe.Va;++Xe.M){var gt,Qe=Xe.Jc[Xe.M&Xe.Xb],$e=Xe.m,Nt=Xe;for(gt=0;gt<Nt.za;++gt){var Ot=$e,Bt=Nt,ar=Bt.Ac,er=Bt.Bc+4*gt,_r=Bt.zc,nr=Bt.ya[Bt.aa+gt];if(Bt.Qa.Bb?nr.$b=ce(Ot,Bt.Pa.jb[0])?2+ce(Ot,Bt.Pa.jb[2]):ce(Ot,Bt.Pa.jb[1]):nr.$b=0,Bt.kc&&(nr.Ad=ce(Ot,Bt.Bd)),nr.Za=!ce(Ot,145)+0,nr.Za){var Qn=nr.Ob,Jn=0;for(Bt=0;4>Bt;++Bt){var bn,pn=_r[0+Bt];for(bn=0;4>bn;++bn){pn=Oy[ar[er+bn]][pn];for(var da=Wf[ce(Ot,pn[0])];0<da;)da=Wf[2*da+ce(Ot,pn[da])];pn=-da,ar[er+bn]=pn}n(Qn,Jn,ar,er,4),Jn+=4,_r[0+Bt]=pn}}else pn=ce(Ot,156)?ce(Ot,128)?1:3:ce(Ot,163)?2:0,nr.Ob[0]=pn,a(ar,er,pn,4),a(_r,0,pn,4);nr.Dd=ce(Ot,142)?ce(Ot,114)?ce(Ot,183)?1:3:2:0}if(Nt.m.Ka)return Ta(Xe,7,"Premature end-of-partition0 encountered.");for(;Xe.ja<Xe.za;++Xe.ja){if(Nt=Qe,Ot=($e=Xe).rb[$e.sb-1],ar=$e.rb[$e.sb+$e.ja],gt=$e.ya[$e.aa+$e.ja],er=$e.kc?gt.Ad:0)Ot.la=ar.la=0,gt.Za||(Ot.Na=ar.Na=0),gt.Hc=0,gt.Gc=0,gt.ia=0;else{var Zn,sn;if(Ot=ar,ar=Nt,er=$e.Pa.Xc,_r=$e.ya[$e.aa+$e.ja],nr=$e.pb[_r.$b],Bt=_r.ad,Qn=0,Jn=$e.rb[$e.sb-1],pn=bn=0,a(Bt,Qn,0,384),_r.Za)var xa=0,Or=er[3];else{da=s(16);var Kr=Ot.Na+Jn.Na;if(Kr=Xs(ar,er[1],Kr,nr.Eb,0,da,0),Ot.Na=Jn.Na=(0<Kr)+0,1<Kr)Ou(da,0,Bt,Qn);else{var Un=da[0]+3>>3;for(da=0;256>da;da+=16)Bt[Qn+da]=Un}xa=1,Or=er[0]}var Hn=15&Ot.la,yi=15&Jn.la;for(da=0;4>da;++da){var Zs=1&yi;for(Un=sn=0;4>Un;++Un)Hn=Hn>>1|(Zs=(Kr=Xs(ar,Or,Kr=Zs+(1&Hn),nr.Sc,xa,Bt,Qn))>xa)<<7,sn=sn<<2|(3<Kr?3:1<Kr?2:Bt[Qn+0]!=0),Qn+=16;Hn>>=4,yi=yi>>1|Zs<<7,bn=(bn<<8|sn)>>>0}for(Or=Hn,xa=yi>>4,Zn=0;4>Zn;Zn+=2){for(sn=0,Hn=Ot.la>>4+Zn,yi=Jn.la>>4+Zn,da=0;2>da;++da){for(Zs=1&yi,Un=0;2>Un;++Un)Kr=Zs+(1&Hn),Hn=Hn>>1|(Zs=0<(Kr=Xs(ar,er[2],Kr,nr.Qc,0,Bt,Qn)))<<3,sn=sn<<2|(3<Kr?3:1<Kr?2:Bt[Qn+0]!=0),Qn+=16;Hn>>=2,yi=yi>>1|Zs<<5}pn|=sn<<4*Zn,Or|=Hn<<4<<Zn,xa|=(240&yi)<<Zn}Ot.la=Or,Jn.la=xa,_r.Hc=bn,_r.Gc=pn,_r.ia=43690&pn?0:nr.ia,er=!(bn|pn)}if(0<$e.L&&($e.wa[$e.Y+$e.ja]=$e.gd[gt.$b][gt.Za],$e.wa[$e.Y+$e.ja].La|=!er),Nt.Ka)return Ta(Xe,7,"Premature end-of-file encountered.")}if(wu(Xe),$e=It,Nt=1,gt=(Qe=Xe).D,Ot=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)e:{if(gt.M=Qe.M,gt.uc=Ot,Wo(Qe,gt),Nt=1,gt=(sn=Qe.D).Nb,Ot=(pn=Qd[Qe.L])*Qe.R,ar=pn/2*Qe.B,da=16*gt*Qe.R,Un=8*gt*Qe.B,er=Qe.sa,_r=Qe.ta-Ot+da,nr=Qe.qa,Bt=Qe.ra-ar+Un,Qn=Qe.Ha,Jn=Qe.Ia-ar+Un,yi=(Hn=sn.M)==0,bn=Hn>=Qe.Va-1,Qe.Aa==2&&Wo(Qe,sn),sn.uc)for(Zs=(Kr=Qe).D.M,t(Kr.D.uc),sn=Kr.yb;sn<Kr.Hb;++sn){xa=sn,Or=Zs;var gs=(xs=(Qa=Kr).D).Nb;Zn=Qa.R;var xs=xs.wa[xs.Y+xa],Is=Qa.sa,cc=Qa.ta+16*gs*Zn+16*xa,ea=xs.dd,Fs=xs.tc;if(Fs!=0)if(t(3<=Fs),Qa.L==1)0<xa&&Fd(Is,cc,Zn,Fs+4),xs.La&&is(Is,cc,Zn,Fs),0<Or&&zf(Is,cc,Zn,Fs+4),xs.La&&lh(Is,cc,Zn,Fs);else{var Hc=Qa.B,Jf=Qa.qa,ph=Qa.ra+8*gs*Hc+8*xa,Zf=Qa.Ha,Qa=Qa.Ia+8*gs*Hc+8*xa;gs=xs.ld,0<xa&&(Du(Is,cc,Zn,Fs+4,ea,gs),Hf(Jf,ph,Zf,Qa,Hc,Fs+4,ea,gs)),xs.La&&(Vf(Is,cc,Zn,Fs,ea,gs),Q0(Jf,ph,Zf,Qa,Hc,Fs,ea,gs)),0<Or&&(ih(Is,cc,Zn,Fs+4,ea,gs),U0(Jf,ph,Zf,Qa,Hc,Fs+4,ea,gs)),xs.La&&($f(Is,cc,Zn,Fs,ea,gs),oh(Jf,ph,Zf,Qa,Hc,Fs,ea,gs))}}if(Qe.ia&&alert("todo:DitherRow"),$e.put!=null){if(sn=16*Hn,Hn=16*(Hn+1),yi?($e.y=Qe.sa,$e.O=Qe.ta+da,$e.f=Qe.qa,$e.N=Qe.ra+Un,$e.ea=Qe.Ha,$e.W=Qe.Ia+Un):(sn-=pn,$e.y=er,$e.O=_r,$e.f=nr,$e.N=Bt,$e.ea=Qn,$e.W=Jn),bn||(Hn-=pn),Hn>$e.o&&(Hn=$e.o),$e.F=null,$e.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&sn<Hn&&($e.J=Pf(Qe,$e,sn,Hn-sn),$e.F=Qe.mb,$e.F==null&&$e.F.length==0)){Nt=Ta(Qe,3,"Could not decode alpha data.");break e}sn<$e.j&&(pn=$e.j-sn,sn=$e.j,t(!(1&pn)),$e.O+=Qe.R*pn,$e.N+=Qe.B*(pn>>1),$e.W+=Qe.B*(pn>>1),$e.F!=null&&($e.J+=$e.width*pn)),sn<Hn&&($e.O+=$e.v,$e.N+=$e.v>>1,$e.W+=$e.v>>1,$e.F!=null&&($e.J+=$e.v),$e.ka=sn-$e.j,$e.U=$e.va-$e.v,$e.T=Hn-sn,Nt=$e.put($e))}gt+1!=Qe.Ic||bn||(n(Qe.sa,Qe.ta-Ot,er,_r+16*Qe.R,Ot),n(Qe.qa,Qe.ra-ar,nr,Bt+8*Qe.B,ar),n(Qe.Ha,Qe.Ia-ar,Qn,Jn+8*Qe.B,ar))}if(!Nt)return Ta(Xe,6,"Output aborted.")}return 1}(F,V)),V.bc!=null&&V.bc(V),te&=1}return te?(F.cb=0,te):0}function Di(F,V,te,ie,fe){fe=F[V+te+32*ie]+(fe>>3),F[V+te+32*ie]=-256&fe?0>fe?0:255:fe}function jf(F,V,te,ie,fe,me){Di(F,V,0,te,ie+fe),Di(F,V,1,te,ie+me),Di(F,V,2,te,ie-me),Di(F,V,3,te,ie-fe)}function Mn(F){return(20091*F>>16)+F}function Pi(F,V,te,ie){var fe,me=0,ge=s(16);for(fe=0;4>fe;++fe){var ve=F[V+0]+F[V+8],Ce=F[V+0]-F[V+8],je=(35468*F[V+4]>>16)-Mn(F[V+12]),Ue=Mn(F[V+4])+(35468*F[V+12]>>16);ge[me+0]=ve+Ue,ge[me+1]=Ce+je,ge[me+2]=Ce-je,ge[me+3]=ve-Ue,me+=4,V++}for(fe=me=0;4>fe;++fe)ve=(F=ge[me+0]+4)+ge[me+8],Ce=F-ge[me+8],je=(35468*ge[me+4]>>16)-Mn(ge[me+12]),Di(te,ie,0,0,ve+(Ue=Mn(ge[me+4])+(35468*ge[me+12]>>16))),Di(te,ie,1,0,Ce+je),Di(te,ie,2,0,Ce-je),Di(te,ie,3,0,ve-Ue),me++,ie+=32}function Cu(F,V,te,ie){var fe=F[V+0]+4,me=35468*F[V+4]>>16,ge=Mn(F[V+4]),ve=35468*F[V+1]>>16;jf(te,ie,0,fe+ge,F=Mn(F[V+1]),ve),jf(te,ie,1,fe+me,F,ve),jf(te,ie,2,fe-me,F,ve),jf(te,ie,3,fe-ge,F,ve)}function Eu(F,V,te,ie,fe){Pi(F,V,te,ie),fe&&Pi(F,V+16,te,ie+4)}function Yl(F,V,te,ie){Uc(F,V+0,te,ie,1),Uc(F,V+32,te,ie+128,1)}function Xn(F,V,te,ie){var fe;for(F=F[V+0]+4,fe=0;4>fe;++fe)for(V=0;4>V;++V)Di(te,ie,V,fe,F)}function Su(F,V,te,ie){F[V+0]&&js(F,V+0,te,ie),F[V+16]&&js(F,V+16,te,ie+4),F[V+32]&&js(F,V+32,te,ie+128),F[V+48]&&js(F,V+48,te,ie+128+4)}function zo(F,V,te,ie){var fe,me=s(16);for(fe=0;4>fe;++fe){var ge=F[V+0+fe]+F[V+12+fe],ve=F[V+4+fe]+F[V+8+fe],Ce=F[V+4+fe]-F[V+8+fe],je=F[V+0+fe]-F[V+12+fe];me[0+fe]=ge+ve,me[8+fe]=ge-ve,me[4+fe]=je+Ce,me[12+fe]=je-Ce}for(fe=0;4>fe;++fe)ge=(F=me[0+4*fe]+3)+me[3+4*fe],ve=me[1+4*fe]+me[2+4*fe],Ce=me[1+4*fe]-me[2+4*fe],je=F-me[3+4*fe],te[ie+0]=ge+ve>>3,te[ie+16]=je+Ce>>3,te[ie+32]=ge-ve>>3,te[ie+48]=je-Ce>>3,ie+=64}function Ic(F,V,te){var ie,fe=V-32,me=vi,ge=255-F[fe-1];for(ie=0;ie<te;++ie){var ve,Ce=me,je=ge+F[V-1];for(ve=0;ve<te;++ve)F[V+ve]=Ce[je+F[fe+ve]];V+=32}}function O0(F,V){Ic(F,V,4)}function JA(F,V){Ic(F,V,8)}function ZA(F,V){Ic(F,V,16)}function Fc(F,V){var te;for(te=0;16>te;++te)n(F,V+32*te,F,V-32,16)}function If(F,V){var te;for(te=16;0<te;--te)a(F,V,F[V-1],16),V+=32}function Oc(F,V,te){var ie;for(ie=0;16>ie;++ie)a(V,te+32*ie,F,16)}function Jl(F,V){var te,ie=16;for(te=0;16>te;++te)ie+=F[V-1+32*te]+F[V+te-32];Oc(ie>>5,F,V)}function ga(F,V){var te,ie=8;for(te=0;16>te;++te)ie+=F[V-1+32*te];Oc(ie>>4,F,V)}function Dc(F,V){var te,ie=8;for(te=0;16>te;++te)ie+=F[V+te-32];Oc(ie>>4,F,V)}function Zl(F,V){Oc(128,F,V)}function Ur(F,V,te){return F+2*V+te+2>>2}function ec(F,V){var te,ie=V-32;for(ie=new Uint8Array([Ur(F[ie-1],F[ie+0],F[ie+1]),Ur(F[ie+0],F[ie+1],F[ie+2]),Ur(F[ie+1],F[ie+2],F[ie+3]),Ur(F[ie+2],F[ie+3],F[ie+4])]),te=0;4>te;++te)n(F,V+32*te,ie,0,ie.length)}function D0(F,V){var te=F[V-1],ie=F[V-1+32],fe=F[V-1+64],me=F[V-1+96];de(F,V+0,16843009*Ur(F[V-1-32],te,ie)),de(F,V+32,16843009*Ur(te,ie,fe)),de(F,V+64,16843009*Ur(ie,fe,me)),de(F,V+96,16843009*Ur(fe,me,me))}function Yi(F,V){var te,ie=4;for(te=0;4>te;++te)ie+=F[V+te-32]+F[V-1+32*te];for(ie>>=3,te=0;4>te;++te)a(F,V+32*te,ie,4)}function Go(F,V){var te=F[V-1+0],ie=F[V-1+32],fe=F[V-1+64],me=F[V-1-32],ge=F[V+0-32],ve=F[V+1-32],Ce=F[V+2-32],je=F[V+3-32];F[V+0+96]=Ur(ie,fe,F[V-1+96]),F[V+1+96]=F[V+0+64]=Ur(te,ie,fe),F[V+2+96]=F[V+1+64]=F[V+0+32]=Ur(me,te,ie),F[V+3+96]=F[V+2+64]=F[V+1+32]=F[V+0+0]=Ur(ge,me,te),F[V+3+64]=F[V+2+32]=F[V+1+0]=Ur(ve,ge,me),F[V+3+32]=F[V+2+0]=Ur(Ce,ve,ge),F[V+3+0]=Ur(je,Ce,ve)}function Co(F,V){var te=F[V+1-32],ie=F[V+2-32],fe=F[V+3-32],me=F[V+4-32],ge=F[V+5-32],ve=F[V+6-32],Ce=F[V+7-32];F[V+0+0]=Ur(F[V+0-32],te,ie),F[V+1+0]=F[V+0+32]=Ur(te,ie,fe),F[V+2+0]=F[V+1+32]=F[V+0+64]=Ur(ie,fe,me),F[V+3+0]=F[V+2+32]=F[V+1+64]=F[V+0+96]=Ur(fe,me,ge),F[V+3+32]=F[V+2+64]=F[V+1+96]=Ur(me,ge,ve),F[V+3+64]=F[V+2+96]=Ur(ge,ve,Ce),F[V+3+96]=Ur(ve,Ce,Ce)}function tc(F,V){var te=F[V-1+0],ie=F[V-1+32],fe=F[V-1+64],me=F[V-1-32],ge=F[V+0-32],ve=F[V+1-32],Ce=F[V+2-32],je=F[V+3-32];F[V+0+0]=F[V+1+64]=me+ge+1>>1,F[V+1+0]=F[V+2+64]=ge+ve+1>>1,F[V+2+0]=F[V+3+64]=ve+Ce+1>>1,F[V+3+0]=Ce+je+1>>1,F[V+0+96]=Ur(fe,ie,te),F[V+0+64]=Ur(ie,te,me),F[V+0+32]=F[V+1+96]=Ur(te,me,ge),F[V+1+32]=F[V+2+96]=Ur(me,ge,ve),F[V+2+32]=F[V+3+96]=Ur(ge,ve,Ce),F[V+3+32]=Ur(ve,Ce,je)}function Ko(F,V){var te=F[V+0-32],ie=F[V+1-32],fe=F[V+2-32],me=F[V+3-32],ge=F[V+4-32],ve=F[V+5-32],Ce=F[V+6-32],je=F[V+7-32];F[V+0+0]=te+ie+1>>1,F[V+1+0]=F[V+0+64]=ie+fe+1>>1,F[V+2+0]=F[V+1+64]=fe+me+1>>1,F[V+3+0]=F[V+2+64]=me+ge+1>>1,F[V+0+32]=Ur(te,ie,fe),F[V+1+32]=F[V+0+96]=Ur(ie,fe,me),F[V+2+32]=F[V+1+96]=Ur(fe,me,ge),F[V+3+32]=F[V+2+96]=Ur(me,ge,ve),F[V+3+64]=Ur(ge,ve,Ce),F[V+3+96]=Ur(ve,Ce,je)}function _u(F,V){var te=F[V-1+0],ie=F[V-1+32],fe=F[V-1+64],me=F[V-1+96];F[V+0+0]=te+ie+1>>1,F[V+2+0]=F[V+0+32]=ie+fe+1>>1,F[V+2+32]=F[V+0+64]=fe+me+1>>1,F[V+1+0]=Ur(te,ie,fe),F[V+3+0]=F[V+1+32]=Ur(ie,fe,me),F[V+3+32]=F[V+1+64]=Ur(fe,me,me),F[V+3+64]=F[V+2+64]=F[V+0+96]=F[V+1+96]=F[V+2+96]=F[V+3+96]=me}function Pc(F,V){var te=F[V-1+0],ie=F[V-1+32],fe=F[V-1+64],me=F[V-1+96],ge=F[V-1-32],ve=F[V+0-32],Ce=F[V+1-32],je=F[V+2-32];F[V+0+0]=F[V+2+32]=te+ge+1>>1,F[V+0+32]=F[V+2+64]=ie+te+1>>1,F[V+0+64]=F[V+2+96]=fe+ie+1>>1,F[V+0+96]=me+fe+1>>1,F[V+3+0]=Ur(ve,Ce,je),F[V+2+0]=Ur(ge,ve,Ce),F[V+1+0]=F[V+3+32]=Ur(te,ge,ve),F[V+1+32]=F[V+3+64]=Ur(ie,te,ge),F[V+1+64]=F[V+3+96]=Ur(fe,ie,te),F[V+1+96]=Ur(me,fe,ie)}function eh(F,V){var te;for(te=0;8>te;++te)n(F,V+32*te,F,V-32,8)}function qo(F,V){var te;for(te=0;8>te;++te)a(F,V,F[V-1],8),V+=32}function Ji(F,V,te){var ie;for(ie=0;8>ie;++ie)a(V,te+32*ie,F,8)}function rc(F,V){var te,ie=8;for(te=0;8>te;++te)ie+=F[V+te-32]+F[V-1+32*te];Ji(ie>>4,F,V)}function Ts(F,V){var te,ie=4;for(te=0;8>te;++te)ie+=F[V+te-32];Ji(ie>>3,F,V)}function Sn(F,V){var te,ie=4;for(te=0;8>te;++te)ie+=F[V-1+32*te];Ji(ie>>3,F,V)}function Nu(F,V){Ji(128,F,V)}function nc(F,V,te){var ie=F[V-te],fe=F[V+0],me=3*(fe-ie)+rv[1020+F[V-2*te]-F[V+te]],ge=ch[112+(me+4>>3)];F[V-te]=vi[255+ie+ch[112+(me+3>>3)]],F[V+0]=vi[255+fe-ge]}function th(F,V,te,ie){var fe=F[V+0],me=F[V+te];return oc[255+F[V-2*te]-F[V-te]]>ie||oc[255+me-fe]>ie}function Sd(F,V,te,ie){return 4*oc[255+F[V-te]-F[V+0]]+oc[255+F[V-2*te]-F[V+te]]<=ie}function _d(F,V,te,ie,fe){var me=F[V-3*te],ge=F[V-2*te],ve=F[V-te],Ce=F[V+0],je=F[V+te],Ue=F[V+2*te],it=F[V+3*te];return 4*oc[255+ve-Ce]+oc[255+ge-je]>ie?0:oc[255+F[V-4*te]-me]<=fe&&oc[255+me-ge]<=fe&&oc[255+ge-ve]<=fe&&oc[255+it-Ue]<=fe&&oc[255+Ue-je]<=fe&&oc[255+je-Ce]<=fe}function Il(F,V,te,ie){var fe=2*ie+1;for(ie=0;16>ie;++ie)Sd(F,V+ie,te,fe)&&nc(F,V+ie,te)}function Zi(F,V,te,ie){var fe=2*ie+1;for(ie=0;16>ie;++ie)Sd(F,V+ie*te,1,fe)&&nc(F,V+ie*te,1)}function Bs(F,V,te,ie){var fe;for(fe=3;0<fe;--fe)Il(F,V+=4*te,te,ie)}function P0(F,V,te,ie){var fe;for(fe=3;0<fe;--fe)Zi(F,V+=4,te,ie)}function ku(F,V,te,ie,fe,me,ge,ve){for(me=2*me+1;0<fe--;){if(_d(F,V,te,me,ge))if(th(F,V,te,ve))nc(F,V,te);else{var Ce=F,je=V,Ue=te,it=Ce[je-2*Ue],rt=Ce[je-Ue],Xe=Ce[je+0],It=Ce[je+Ue],gt=Ce[je+2*Ue],Qe=27*(Nt=rv[1020+3*(Xe-rt)+rv[1020+it-It]])+63>>7,$e=18*Nt+63>>7,Nt=9*Nt+63>>7;Ce[je-3*Ue]=vi[255+Ce[je-3*Ue]+Nt],Ce[je-2*Ue]=vi[255+it+$e],Ce[je-Ue]=vi[255+rt+Qe],Ce[je+0]=vi[255+Xe-Qe],Ce[je+Ue]=vi[255+It-$e],Ce[je+2*Ue]=vi[255+gt-Nt]}V+=ie}}function Ri(F,V,te,ie,fe,me,ge,ve){for(me=2*me+1;0<fe--;){if(_d(F,V,te,me,ge))if(th(F,V,te,ve))nc(F,V,te);else{var Ce=F,je=V,Ue=te,it=Ce[je-Ue],rt=Ce[je+0],Xe=Ce[je+Ue],It=ch[112+((gt=3*(rt-it))+4>>3)],gt=ch[112+(gt+3>>3)],Qe=It+1>>1;Ce[je-2*Ue]=vi[255+Ce[je-2*Ue]+Qe],Ce[je-Ue]=vi[255+it+gt],Ce[je+0]=vi[255+rt-It],Ce[je+Ue]=vi[255+Xe-Qe]}V+=ie}}function Tu(F,V,te,ie,fe,me){ku(F,V,te,1,16,ie,fe,me)}function Rc(F,V,te,ie,fe,me){ku(F,V,1,te,16,ie,fe,me)}function Ff(F,V,te,ie,fe,me){var ge;for(ge=3;0<ge;--ge)Ri(F,V+=4*te,te,1,16,ie,fe,me)}function Nd(F,V,te,ie,fe,me){var ge;for(ge=3;0<ge;--ge)Ri(F,V+=4,1,te,16,ie,fe,me)}function Of(F,V,te,ie,fe,me,ge,ve){ku(F,V,fe,1,8,me,ge,ve),ku(te,ie,fe,1,8,me,ge,ve)}function rh(F,V,te,ie,fe,me,ge,ve){ku(F,V,1,fe,8,me,ge,ve),ku(te,ie,1,fe,8,me,ge,ve)}function kd(F,V,te,ie,fe,me,ge,ve){Ri(F,V+4*fe,fe,1,8,me,ge,ve),Ri(te,ie+4*fe,fe,1,8,me,ge,ve)}function Bu(F,V,te,ie,fe,me,ge,ve){Ri(F,V+4,1,fe,8,me,ge,ve),Ri(te,ie+4,1,fe,8,me,ge,ve)}function Td(){this.ba=new en,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Df(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ju(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new R,this.yc=new T}function R0(){this.xb=this.a=0,this.l=new qs,this.ca=new en,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ju,this.ab=0,this.gc=i(4,Bd),this.Oc=0}function Lc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Iu(F,V,te,ie,fe,me,ge){for(F=F==null?0:F[V+0],V=0;V<ge;++V)fe[me+V]=F+te[ie+V]&255,F=fe[me+V]}function jd(F,V,te,ie,fe,me,ge){var ve;if(F==null)Iu(null,null,te,ie,fe,me,ge);else for(ve=0;ve<ge;++ve)fe[me+ve]=F[V+ve]+te[ie+ve]&255}function eo(F,V,te,ie,fe,me,ge){if(F==null)Iu(null,null,te,ie,fe,me,ge);else{var ve,Ce=F[V+0],je=Ce,Ue=Ce;for(ve=0;ve<ge;++ve)je=Ue+(Ce=F[V+ve])-je,Ue=te[ie+ve]+(-256&je?0>je?0:255:je)&255,je=Ce,fe[me+ve]=Ue}}function Pf(F,V,te,ie){var fe=V.width,me=V.o;if(t(F!=null&&V!=null),0>te||0>=ie||te+ie>me)return null;if(!F.Cc){if(F.ga==null){var ge;if(F.ga=new Lc,(ge=F.ga==null)||(ge=V.width*V.o,t(F.Gb.length==0),F.Gb=s(ge),F.Uc=0,F.Gb==null?ge=0:(F.mb=F.Gb,F.nb=F.Uc,F.rc=null,ge=1),ge=!ge),!ge){ge=F.ga;var ve=F.Fa,Ce=F.P,je=F.qc,Ue=F.mb,it=F.nb,rt=Ce+1,Xe=je-1,It=ge.l;if(t(ve!=null&&Ue!=null&&V!=null),Lu[0]=null,Lu[1]=Iu,Lu[2]=jd,Lu[3]=eo,ge.ca=Ue,ge.tb=it,ge.c=V.width,ge.i=V.height,t(0<ge.c&&0<ge.i),1>=je)V=0;else if(ge.$a=ve[Ce+0]>>0&3,ge.Z=ve[Ce+0]>>2&3,ge.Lc=ve[Ce+0]>>4&3,Ce=ve[Ce+0]>>6&3,0>ge.$a||1<ge.$a||4<=ge.Z||1<ge.Lc||Ce)V=0;else if(It.put=vt,It.ac=et,It.bc=Ct,It.ma=ge,It.width=V.width,It.height=V.height,It.Da=V.Da,It.v=V.v,It.va=V.va,It.j=V.j,It.o=V.o,ge.$a)e:{t(ge.$a==1),V=ft();t:for(;;){if(V==null){V=0;break e}if(t(ge!=null),ge.mc=V,V.c=ge.c,V.i=ge.i,V.l=ge.l,V.l.ma=ge,V.l.width=ge.c,V.l.height=ge.i,V.a=0,K(V.m,ve,rt,Xe),!Ke(ge.c,ge.i,1,V,null)||(V.ab==1&&V.gc[0].hc==3&&Ee(V.s)?(ge.ic=1,ve=V.c*V.i,V.Ta=null,V.Ua=0,V.V=s(ve),V.Ba=0,V.V==null?(V.a=1,V=0):V=1):(ge.ic=0,V=nt(V,ge.c)),!V))break t;V=1;break e}ge.mc=null,V=0}else V=Xe>=ge.c*ge.i;ge=!V}if(ge)return null;F.ga.Lc!=1?F.Ga=0:ie=me-te}t(F.ga!=null),t(te+ie<=me);e:{if(V=(ve=F.ga).c,me=ve.l.o,ve.$a==0){if(rt=F.rc,Xe=F.Vc,It=F.Fa,Ce=F.P+1+te*V,je=F.mb,Ue=F.nb+te*V,t(Ce<=F.P+F.qc),ve.Z!=0)for(t(Lu[ve.Z]!=null),ge=0;ge<ie;++ge)Lu[ve.Z](rt,Xe,It,Ce,je,Ue,V),rt=je,Xe=Ue,Ue+=V,Ce+=V;else for(ge=0;ge<ie;++ge)n(je,Ue,It,Ce,V),rt=je,Xe=Ue,Ue+=V,Ce+=V;F.rc=rt,F.Vc=Xe}else{if(t(ve.mc!=null),V=te+ie,t((ge=ve.mc)!=null),t(V<=ge.i),ge.C>=V)V=1;else if(ve.ic||qe(),ve.ic){ve=ge.V,rt=ge.Ba,Xe=ge.c;var gt=ge.i,Qe=(It=1,Ce=ge.$/Xe,je=ge.$%Xe,Ue=ge.m,it=ge.s,ge.$),$e=Xe*gt,Nt=Xe*V,Ot=it.wc,Bt=Qe<Nt?tn(it,je,Ce):null;t(Qe<=$e),t(V<=gt),t(Ee(it));t:for(;;){for(;!Ue.h&&Qe<Nt;){if(je&Ot||(Bt=tn(it,je,Ce)),t(Bt!=null),ae(Ue),256>(gt=nn(Bt.G[0],Bt.H[0],Ue)))ve[rt+Qe]=gt,++Qe,++je>=Xe&&(je=0,++Ce<=V&&!(Ce%16)&&Te(ge,Ce));else{if(!(280>gt)){It=0;break t}gt=sr(gt-256,Ue);var ar,er=nn(Bt.G[4],Bt.H[4],Ue);if(ae(Ue),!(Qe>=(er=Er(Xe,er=sr(er,Ue)))&&$e-Qe>=gt)){It=0;break t}for(ar=0;ar<gt;++ar)ve[rt+Qe+ar]=ve[rt+Qe+ar-er];for(Qe+=gt,je+=gt;je>=Xe;)je-=Xe,++Ce<=V&&!(Ce%16)&&Te(ge,Ce);Qe<Nt&&je&Ot&&(Bt=tn(it,je,Ce))}t(Ue.h==W(Ue))}Te(ge,Ce>V?V:Ce);break t}!It||Ue.h&&Qe<$e?(It=0,ge.a=Ue.h?5:3):ge.$=Qe,V=It}else V=Oe(ge,ge.V,ge.Ba,ge.c,ge.i,V,ot);if(!V){ie=0;break e}}te+ie>=me&&(F.Cc=1),ie=1}if(!ie)return null;if(F.Cc&&((ie=F.ga)!=null&&(ie.mc=null),F.ga=null,0<F.Ga))return alert("todo:WebPDequantizeLevels"),null}return F.nb+te*fe}function J(F,V,te,ie,fe,me){for(;0<fe--;){var ge,ve=F,Ce=V+(te?1:0),je=F,Ue=V+(te?0:3);for(ge=0;ge<ie;++ge){var it=je[Ue+4*ge];it!=255&&(it*=32897,ve[Ce+4*ge+0]=ve[Ce+4*ge+0]*it>>23,ve[Ce+4*ge+1]=ve[Ce+4*ge+1]*it>>23,ve[Ce+4*ge+2]=ve[Ce+4*ge+2]*it>>23)}V+=me}}function Ae(F,V,te,ie,fe){for(;0<ie--;){var me;for(me=0;me<te;++me){var ge=F[V+2*me+0],ve=15&(je=F[V+2*me+1]),Ce=4369*ve,je=(240&je|je>>4)*Ce>>16;F[V+2*me+0]=(240&ge|ge>>4)*Ce>>16&240|(15&ge|ge<<4)*Ce>>16>>4&15,F[V+2*me+1]=240&je|ve}V+=fe}}function Pe(F,V,te,ie,fe,me,ge,ve){var Ce,je,Ue=255;for(je=0;je<fe;++je){for(Ce=0;Ce<ie;++Ce){var it=F[V+Ce];me[ge+4*Ce]=it,Ue&=it}V+=te,ge+=ve}return Ue!=255}function Me(F,V,te,ie,fe){var me;for(me=0;me<fe;++me)te[ie+me]=F[V+me]>>8}function qe(){Fl=J,yn=Ae,wn=Pe,Ba=Me}function bt(F,V,te){N[F]=function(ie,fe,me,ge,ve,Ce,je,Ue,it,rt,Xe,It,gt,Qe,$e,Nt,Ot){var Bt,ar=Ot-1>>1,er=ve[Ce+0]|je[Ue+0]<<16,_r=it[rt+0]|Xe[It+0]<<16;t(ie!=null);var nr=3*er+_r+131074>>2;for(V(ie[fe+0],255&nr,nr>>16,gt,Qe),me!=null&&(nr=3*_r+er+131074>>2,V(me[ge+0],255&nr,nr>>16,$e,Nt)),Bt=1;Bt<=ar;++Bt){var Qn=ve[Ce+Bt]|je[Ue+Bt]<<16,Jn=it[rt+Bt]|Xe[It+Bt]<<16,bn=er+Qn+_r+Jn+524296,pn=bn+2*(Qn+_r)>>3;nr=pn+er>>1,er=(bn=bn+2*(er+Jn)>>3)+Qn>>1,V(ie[fe+2*Bt-1],255&nr,nr>>16,gt,Qe+(2*Bt-1)*te),V(ie[fe+2*Bt-0],255&er,er>>16,gt,Qe+(2*Bt-0)*te),me!=null&&(nr=bn+_r>>1,er=pn+Jn>>1,V(me[ge+2*Bt-1],255&nr,nr>>16,$e,Nt+(2*Bt-1)*te),V(me[ge+2*Bt+0],255&er,er>>16,$e,Nt+(2*Bt+0)*te)),er=Qn,_r=Jn}1&Ot||(nr=3*er+_r+131074>>2,V(ie[fe+Ot-1],255&nr,nr>>16,gt,Qe+(Ot-1)*te),me!=null&&(nr=3*_r+er+131074>>2,V(me[ge+Ot-1],255&nr,nr>>16,$e,Nt+(Ot-1)*te)))}}function Qt(){bi[to]=Ud,bi[H0]=Mu,bi[Pu]=Xf,bi[Gm]=sv,bi[uh]=iv,bi[Dd]=z0,bi[nv]=ov,bi[Km]=Mu,bi[qf]=sv,bi[Pd]=iv,bi[$0]=z0}function rr(F){return F&-16384?0>F?0:255:F>>Jj}function D(F,V){return rr((19077*F>>8)+(26149*V>>8)-14234)}function ne(F,V,te){return rr((19077*F>>8)-(6419*V>>8)-(13320*te>>8)+8708)}function le(F,V){return rr((19077*F>>8)+(33050*V>>8)-17685)}function be(F,V,te,ie,fe){ie[fe+0]=D(F,te),ie[fe+1]=ne(F,V,te),ie[fe+2]=le(F,V)}function ze(F,V,te,ie,fe){ie[fe+0]=le(F,V),ie[fe+1]=ne(F,V,te),ie[fe+2]=D(F,te)}function lt(F,V,te,ie,fe){var me=ne(F,V,te);V=me<<3&224|le(F,V)>>3,ie[fe+0]=248&D(F,te)|me>>5,ie[fe+1]=V}function Ht(F,V,te,ie,fe){var me=240&le(F,V)|15;ie[fe+0]=240&D(F,te)|ne(F,V,te)>>4,ie[fe+1]=me}function Qr(F,V,te,ie,fe){ie[fe+0]=255,be(F,V,te,ie,fe+1)}function _n(F,V,te,ie,fe){ze(F,V,te,ie,fe),ie[fe+3]=255}function an(F,V,te,ie,fe){be(F,V,te,ie,fe),ie[fe+3]=255}function Yn(F,V){return 0>F?0:F>V?V:F}function ua(F,V,te){N[F]=function(ie,fe,me,ge,ve,Ce,je,Ue,it){for(var rt=Ue+(-2&it)*te;Ue!=rt;)V(ie[fe+0],me[ge+0],ve[Ce+0],je,Ue),V(ie[fe+1],me[ge+0],ve[Ce+0],je,Ue+te),fe+=2,++ge,++Ce,Ue+=2*te;1&it&&V(ie[fe+0],me[ge+0],ve[Ce+0],je,Ue)}}function ac(F,V,te){return te==0?F==0?V==0?6:5:V==0?4:0:te}function ps(F,V,te,ie,fe){switch(F>>>30){case 3:Uc(V,te,ie,fe,0);break;case 2:ss(V,te,ie,fe);break;case 1:js(V,te,ie,fe)}}function Wo(F,V){var te,ie,fe=V.M,me=V.Nb,ge=F.oc,ve=F.pc+40,Ce=F.oc,je=F.pc+584,Ue=F.oc,it=F.pc+600;for(te=0;16>te;++te)ge[ve+32*te-1]=129;for(te=0;8>te;++te)Ce[je+32*te-1]=129,Ue[it+32*te-1]=129;for(0<fe?ge[ve-1-32]=Ce[je-1-32]=Ue[it-1-32]=129:(a(ge,ve-32-1,127,21),a(Ce,je-32-1,127,9),a(Ue,it-32-1,127,9)),ie=0;ie<F.za;++ie){var rt=V.ya[V.aa+ie];if(0<ie){for(te=-1;16>te;++te)n(ge,ve+32*te-4,ge,ve+32*te+12,4);for(te=-1;8>te;++te)n(Ce,je+32*te-4,Ce,je+32*te+4,4),n(Ue,it+32*te-4,Ue,it+32*te+4,4)}var Xe=F.Gd,It=F.Hd+ie,gt=rt.ad,Qe=rt.Hc;if(0<fe&&(n(ge,ve-32,Xe[It].y,0,16),n(Ce,je-32,Xe[It].f,0,8),n(Ue,it-32,Xe[It].ea,0,8)),rt.Za){var $e=ge,Nt=ve-32+16;for(0<fe&&(ie>=F.za-1?a($e,Nt,Xe[It].y[15],4):n($e,Nt,Xe[It+1].y,0,4)),te=0;4>te;te++)$e[Nt+128+te]=$e[Nt+256+te]=$e[Nt+384+te]=$e[Nt+0+te];for(te=0;16>te;++te,Qe<<=2)$e=ge,Nt=ve+hh[te],So[rt.Ob[te]]($e,Nt),ps(Qe,gt,16*+te,$e,Nt)}else if($e=ac(ie,fe,rt.Ob[0]),Md[$e](ge,ve),Qe!=0)for(te=0;16>te;++te,Qe<<=2)ps(Qe,gt,16*+te,ge,ve+hh[te]);for(te=rt.Gc,$e=ac(ie,fe,rt.Dd),Dl[$e](Ce,je),Dl[$e](Ue,it),Qe=gt,$e=Ce,Nt=je,255&(rt=te>>0)&&(170&rt?Qc(Qe,256,$e,Nt):Jo(Qe,256,$e,Nt)),rt=Ue,Qe=it,255&(te>>=8)&&(170&te?Qc(gt,320,rt,Qe):Jo(gt,320,rt,Qe)),fe<F.Ub-1&&(n(Xe[It].y,0,ge,ve+480,16),n(Xe[It].f,0,Ce,je+224,8),n(Xe[It].ea,0,Ue,it+224,8)),te=8*me*F.B,Xe=F.sa,It=F.ta+16*ie+16*me*F.R,gt=F.qa,rt=F.ra+8*ie+te,Qe=F.Ha,$e=F.Ia+8*ie+te,te=0;16>te;++te)n(Xe,It+te*F.R,ge,ve+32*te,16);for(te=0;8>te;++te)n(gt,rt+te*F.B,Ce,je+32*te,8),n(Qe,$e+te*F.B,Ue,it+32*te,8)}}function Fu(F,V,te,ie,fe,me,ge,ve,Ce){var je=[0],Ue=[0],it=0,rt=Ce!=null?Ce.kd:0,Xe=Ce??new Df;if(F==null||12>te)return 7;Xe.data=F,Xe.w=V,Xe.ha=te,V=[V],te=[te],Xe.gb=[Xe.gb];e:{var It=V,gt=te,Qe=Xe.gb;if(t(F!=null),t(gt!=null),t(Qe!=null),Qe[0]=0,12<=gt[0]&&!r(F,It[0],"RIFF")){if(r(F,It[0]+8,"WEBP")){Qe=3;break e}var $e=_e(F,It[0]+4);if(12>$e||4294967286<$e){Qe=3;break e}if(rt&&$e>gt[0]-8){Qe=7;break e}Qe[0]=$e,It[0]+=12,gt[0]-=12}Qe=0}if(Qe!=0)return Qe;for($e=0<Xe.gb[0],te=te[0];;){e:{var Nt=F;gt=V,Qe=te;var Ot=je,Bt=Ue,ar=It=[0];if((nr=it=[it])[0]=0,8>Qe[0])Qe=7;else{if(!r(Nt,gt[0],"VP8X")){if(_e(Nt,gt[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var er=_e(Nt,gt[0]+8),_r=1+re(Nt,gt[0]+12);if(2147483648<=_r*(Nt=1+re(Nt,gt[0]+15))){Qe=3;break e}ar!=null&&(ar[0]=er),Ot!=null&&(Ot[0]=_r),Bt!=null&&(Bt[0]=Nt),gt[0]+=18,Qe[0]-=18,nr[0]=1}Qe=0}}if(it=it[0],It=It[0],Qe!=0)return Qe;if(gt=!!(2&It),!$e&&it)return 3;if(me!=null&&(me[0]=!!(16&It)),ge!=null&&(ge[0]=gt),ve!=null&&(ve[0]=0),ge=je[0],It=Ue[0],it&&gt&&Ce==null){Qe=0;break}if(4>te){Qe=7;break}if($e&&it||!$e&&!it&&!r(F,V[0],"ALPH")){te=[te],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{er=F,Qe=V,$e=te;var nr=Xe.gb;Ot=Xe.na,Bt=Xe.P,ar=Xe.Sa,_r=22,t(er!=null),t($e!=null),Nt=Qe[0];var Qn=$e[0];for(t(Ot!=null),t(ar!=null),Ot[0]=null,Bt[0]=null,ar[0]=0;;){if(Qe[0]=Nt,$e[0]=Qn,8>Qn){Qe=7;break e}var Jn=_e(er,Nt+4);if(4294967286<Jn){Qe=3;break e}var bn=8+Jn+1&-2;if(_r+=bn,0<nr&&_r>nr){Qe=3;break e}if(!r(er,Nt,"VP8 ")||!r(er,Nt,"VP8L")){Qe=0;break e}if(Qn[0]<bn){Qe=7;break e}r(er,Nt,"ALPH")||(Ot[0]=er,Bt[0]=Nt+8,ar[0]=Jn),Nt+=bn,Qn-=bn}}if(te=te[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],Qe!=0)break}te=[te],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(nr=F,Qe=V,$e=te,Ot=Xe.gb[0],Bt=Xe.Ja,ar=Xe.xa,er=Qe[0],Nt=!r(nr,er,"VP8 "),_r=!r(nr,er,"VP8L"),t(nr!=null),t($e!=null),t(Bt!=null),t(ar!=null),8>$e[0])Qe=7;else{if(Nt||_r){if(nr=_e(nr,er+4),12<=Ot&&nr>Ot-12){Qe=3;break e}if(rt&&nr>$e[0]-8){Qe=7;break e}Bt[0]=nr,Qe[0]+=8,$e[0]-=8,ar[0]=_r}else ar[0]=5<=$e[0]&&nr[er+0]==47&&!(nr[er+4]>>5),Bt[0]=$e[0];Qe=0}if(te=te[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],V=V[0],Qe!=0)break;if(4294967286<Xe.Ja)return 3;if(ve==null||gt||(ve[0]=Xe.xa?2:1),ge=[ge],It=[It],Xe.xa){if(5>te){Qe=7;break}ve=ge,rt=It,gt=me,F==null||5>te?F=0:5<=te&&F[V+0]==47&&!(F[V+4]>>5)?($e=[0],nr=[0],Ot=[0],K(Bt=new M,F,V,te),yt(Bt,$e,nr,Ot)?(ve!=null&&(ve[0]=$e[0]),rt!=null&&(rt[0]=nr[0]),gt!=null&&(gt[0]=Ot[0]),F=1):F=0):F=0}else{if(10>te){Qe=7;break}ve=It,F==null||10>te||!gi(F,V+3,te-3)?F=0:(rt=F[V+0]|F[V+1]<<8|F[V+2]<<16,gt=16383&(F[V+7]<<8|F[V+6]),F=16383&(F[V+9]<<8|F[V+8]),1&rt||3<(rt>>1&7)||!(rt>>4&1)||rt>>5>=Xe.Ja||!gt||!F?F=0:(ge&&(ge[0]=gt),ve&&(ve[0]=F),F=1))}if(!F||(ge=ge[0],It=It[0],it&&(je[0]!=ge||Ue[0]!=It)))return 3;Ce!=null&&(Ce[0]=Xe,Ce.offset=V-Ce.w,t(4294967286>V-Ce.w),t(Ce.offset==Ce.ha-te));break}return Qe==0||Qe==7&&it&&Ce==null?(me!=null&&(me[0]|=Xe.na!=null&&0<Xe.na.length),ie!=null&&(ie[0]=ge),fe!=null&&(fe[0]=It),0):Qe}function Rf(F,V,te){var ie=V.width,fe=V.height,me=0,ge=0,ve=ie,Ce=fe;if(V.Da=F!=null&&0<F.Da,V.Da&&(ve=F.cd,Ce=F.bd,me=F.v,ge=F.j,11>te||(me&=-2,ge&=-2),0>me||0>ge||0>=ve||0>=Ce||me+ve>ie||ge+Ce>fe))return 0;if(V.v=me,V.j=ge,V.va=me+ve,V.o=ge+Ce,V.U=ve,V.T=Ce,V.da=F!=null&&0<F.da,V.da){if(!Be(ve,Ce,te=[F.ib],me=[F.hb]))return 0;V.ib=te[0],V.hb=me[0]}return V.ob=F!=null&&F.ob,V.Kb=F==null||!F.Sd,V.da&&(V.ob=V.ib<3*ie/4&&V.hb<3*fe/4,V.Kb=0),1}function L0(F){if(F==null)return 2;if(11>F.S){var V=F.f.RGBA;V.fb+=(F.height-1)*V.A,V.A=-V.A}else V=F.f.kb,F=F.height,V.O+=(F-1)*V.fa,V.fa=-V.fa,V.N+=(F-1>>1)*V.Ab,V.Ab=-V.Ab,V.W+=(F-1>>1)*V.Db,V.Db=-V.Db,V.F!=null&&(V.J+=(F-1)*V.lb,V.lb=-V.lb);return 0}function nh(F,V,te,ie){if(ie==null||0>=F||0>=V)return 2;if(te!=null){if(te.Da){var fe=te.cd,me=te.bd,ge=-2&te.v,ve=-2&te.j;if(0>ge||0>ve||0>=fe||0>=me||ge+fe>F||ve+me>V)return 2;F=fe,V=me}if(te.da){if(!Be(F,V,fe=[te.ib],me=[te.hb]))return 2;F=fe[0],V=me[0]}}ie.width=F,ie.height=V;e:{var Ce=ie.width,je=ie.height;if(F=ie.S,0>=Ce||0>=je||!(F>=to&&13>F))F=2;else{if(0>=ie.Rd&&ie.sd==null){ge=me=fe=V=0;var Ue=(ve=Ce*CS[F])*je;if(11>F||(me=(je+1)/2*(V=(Ce+1)/2),F==12&&(ge=(fe=Ce)*je)),(je=s(Ue+2*me+ge))==null){F=1;break e}ie.sd=je,11>F?((Ce=ie.f.RGBA).eb=je,Ce.fb=0,Ce.A=ve,Ce.size=Ue):((Ce=ie.f.kb).y=je,Ce.O=0,Ce.fa=ve,Ce.Fd=Ue,Ce.f=je,Ce.N=0+Ue,Ce.Ab=V,Ce.Cd=me,Ce.ea=je,Ce.W=0+Ue+me,Ce.Db=V,Ce.Ed=me,F==12&&(Ce.F=je,Ce.J=0+Ue+2*me),Ce.Tc=ge,Ce.lb=fe)}if(V=1,fe=ie.S,me=ie.width,ge=ie.height,fe>=to&&13>fe)if(11>fe)F=ie.f.RGBA,V&=(ve=Math.abs(F.A))*(ge-1)+me<=F.size,V&=ve>=me*CS[fe],V&=F.eb!=null;else{F=ie.f.kb,ve=(me+1)/2,Ue=(ge+1)/2,Ce=Math.abs(F.fa),je=Math.abs(F.Ab);var it=Math.abs(F.Db),rt=Math.abs(F.lb),Xe=rt*(ge-1)+me;V&=Ce*(ge-1)+me<=F.Fd,V&=je*(Ue-1)+ve<=F.Cd,V=(V&=it*(Ue-1)+ve<=F.Ed)&Ce>=me&je>=ve&it>=ve,V&=F.y!=null,V&=F.f!=null,V&=F.ea!=null,fe==12&&(V&=rt>=me,V&=Xe<=F.Tc,V&=F.F!=null)}else V=0;F=V?0:2}}return F!=0||te!=null&&te.fd&&(F=L0(ie)),F}var Ws=64,Lf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ah=24,sh=32,M0=8,Xo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(F){return F},N.Predictor2=function(F,V,te){return V[te+0]},N.Predictor3=function(F,V,te){return V[te+1]},N.Predictor4=function(F,V,te){return V[te-1]},N.Predictor5=function(F,V,te){return De(De(F,V[te+1]),V[te+0])},N.Predictor6=function(F,V,te){return De(F,V[te-1])},N.Predictor7=function(F,V,te){return De(F,V[te+0])},N.Predictor8=function(F,V,te){return De(V[te-1],V[te+0])},N.Predictor9=function(F,V,te){return De(V[te+0],V[te+1])},N.Predictor10=function(F,V,te){return De(De(F,V[te-1]),De(V[te+0],V[te+1]))},N.Predictor11=function(F,V,te){var ie=V[te+0];return 0>=at(ie>>24&255,F>>24&255,(V=V[te-1])>>24&255)+at(ie>>16&255,F>>16&255,V>>16&255)+at(ie>>8&255,F>>8&255,V>>8&255)+at(255&ie,255&F,255&V)?ie:F},N.Predictor12=function(F,V,te){var ie=V[te+0];return(Ve((F>>24&255)+(ie>>24&255)-((V=V[te-1])>>24&255))<<24|Ve((F>>16&255)+(ie>>16&255)-(V>>16&255))<<16|Ve((F>>8&255)+(ie>>8&255)-(V>>8&255))<<8|Ve((255&F)+(255&ie)-(255&V)))>>>0},N.Predictor13=function(F,V,te){var ie=V[te-1];return(We((F=De(F,V[te+0]))>>24&255,ie>>24&255)<<24|We(F>>16&255,ie>>16&255)<<16|We(F>>8&255,ie>>8&255)<<8|We(F>>0&255,ie>>0&255))>>>0};var Fy=N.PredictorAdd0;N.PredictorAdd1=ht,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var Vm=N.PredictorAdd2;Pt("ColorIndexInverseTransform","MapARGB","32b",function(F){return F>>8&255},function(F){return F}),Pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(F){return F},function(F){return F>>8&255});var tv,sc=N.ColorIndexInverseTransform,xi=N.MapARGB,Mf=N.VP8LColorIndexInverseTransformAlpha,zm=N.MapAlpha,Id=N.VP8LPredictorsAdd=[];Id.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Uf,Eo,Li,Qf,Yo,Mc,Ou,Uc,ss,Qc,js,Jo,ih,Du,U0,Hf,$f,Vf,oh,Q0,zf,Fd,lh,is,Fl,yn,wn,Ba,ms=s(511),ic=s(2041),Gf=s(225),Kf=s(767),Od=0,rv=ic,ch=Gf,vi=Kf,oc=ms,to=0,H0=1,Pu=2,Gm=3,uh=4,Dd=5,nv=6,Km=7,qf=8,Pd=9,$0=10,av=[2,3,7],lc=[3,3,11],Ol=[280,256,256,256,40],dh=[0,1,1,1,0],Rd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ld=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xS=8,qm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xs=null,os=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ru=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Oy=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ah=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Md=[],So=[],Dl=[],bS=1,V0=2,Lu=[],bi=[];bt("UpsampleRgbLinePair",be,3),bt("UpsampleBgrLinePair",ze,3),bt("UpsampleRgbaLinePair",an,4),bt("UpsampleBgraLinePair",_n,4),bt("UpsampleArgbLinePair",Qr,4),bt("UpsampleRgba4444LinePair",Ht,2),bt("UpsampleRgb565LinePair",lt,2);var Ud=N.UpsampleRgbLinePair,Xf=N.UpsampleBgrLinePair,Mu=N.UpsampleRgbaLinePair,sv=N.UpsampleBgraLinePair,iv=N.UpsampleArgbLinePair,z0=N.UpsampleRgba4444LinePair,ov=N.UpsampleRgb565LinePair,Uu=16,Ys=1<<Uu-1,Yf=-227,lv=482,Jj=6,yS=0,Zj=s(256),Js=s(256),Dy=s(256),Xm=s(256),Ym=s(lv-Yf),Py=s(lv-Yf);ua("YuvToRgbRow",be,3),ua("YuvToBgrRow",ze,3),ua("YuvToRgbaRow",an,4),ua("YuvToBgraRow",_n,4),ua("YuvToArgbRow",Qr,4),ua("YuvToRgba4444Row",Ht,2),ua("YuvToRgb565Row",lt,2);var hh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qd=[0,2,8],e3=[8,7,6,4,4,2,2,2,1,1,1,1],wS=1;this.WebPDecodeRGBA=function(F,V,te,ie,fe){var me=H0,ge=new Td,ve=new en;ge.ba=ve,ve.S=me,ve.width=[ve.width],ve.height=[ve.height];var Ce=ve.width,je=ve.height,Ue=new zn;if(Ue==null||F==null)var it=2;else t(Ue!=null),it=Fu(F,V,te,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(it!=0?Ce=0:(Ce!=null&&(Ce[0]=Ue.width[0]),je!=null&&(je[0]=Ue.height[0]),Ce=1),Ce){ve.width=ve.width[0],ve.height=ve.height[0],ie!=null&&(ie[0]=ve.width),fe!=null&&(fe[0]=ve.height);e:{if(ie=new qs,(fe=new Df).data=F,fe.w=V,fe.ha=te,fe.kd=1,V=[0],t(fe!=null),((F=Fu(fe.data,fe.w,fe.ha,null,null,null,V,null,fe))==0||F==7)&&V[0]&&(F=4),(V=F)==0){if(t(ge!=null),ie.data=fe.data,ie.w=fe.w+fe.offset,ie.ha=fe.ha-fe.offset,ie.put=vt,ie.ac=et,ie.bc=Ct,ie.ma=ge,fe.xa){if((F=ft())==null){ge=1;break e}if(function(rt,Xe){var It=[0],gt=[0],Qe=[0];t:for(;;){if(rt==null)return 0;if(Xe==null)return rt.a=2,0;if(rt.l=Xe,rt.a=0,K(rt.m,Xe.data,Xe.w,Xe.ha),!yt(rt.m,It,gt,Qe)){rt.a=3;break t}if(rt.xb=V0,Xe.width=It[0],Xe.height=gt[0],!Ke(It[0],gt[0],1,rt,null))break t;return 1}return t(rt.a!=0),0}(F,ie)){if(ie=(V=nh(ie.width,ie.height,ge.Oa,ge.ba))==0){t:{ie=F;r:for(;;){if(ie==null){ie=0;break t}if(t(ie.s.yc!=null),t(ie.s.Ya!=null),t(0<ie.s.Wb),t((te=ie.l)!=null),t((fe=te.ma)!=null),ie.xb!=0){if(ie.ca=fe.ba,ie.tb=fe.tb,t(ie.ca!=null),!Rf(fe.Oa,te,Gm)){ie.a=2;break r}if(!nt(ie,te.width)||te.da)break r;if((te.da||Pr(ie.ca.S))&&qe(),11>ie.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ie.ca.f.kb.F!=null&&qe()),ie.Pb&&0<ie.s.ua&&ie.s.vb.X==null&&!Ne(ie.s.vb,ie.s.Wa.Xa)){ie.a=1;break r}ie.xb=0}if(!Oe(ie,ie.V,ie.Ba,ie.c,ie.i,te.o,Fe))break r;fe.Dc=ie.Ma,ie=1;break t}t(ie.a!=0),ie=0}ie=!ie}ie&&(V=F.a)}else V=F.a}else{if((F=new Oi)==null){ge=1;break e}if(F.Fa=fe.na,F.P=fe.P,F.qc=fe.Sa,Bf(F,ie)){if((V=nh(ie.width,ie.height,ge.Oa,ge.ba))==0){if(F.Aa=0,te=ge.Oa,t((fe=F)!=null),te!=null){if(0<(Ce=0>(Ce=te.Md)?0:100<Ce?255:255*Ce/100)){for(je=Ue=0;4>je;++je)12>(it=fe.pb[je]).lc&&(it.ia=Ce*e3[0>it.lc?0:it.lc]>>3),Ue|=it.ia;Ue&&(alert("todo:VP8InitRandom"),fe.ia=1)}fe.Ga=te.Id,100<fe.Ga?fe.Ga=100:0>fe.Ga&&(fe.Ga=0)}YA(F,ie)||(V=F.a)}}else V=F.a}V==0&&ge.Oa!=null&&ge.Oa.fd&&(V=L0(ge.ba))}ge=V}me=ge!=0?null:11>me?ve.f.RGBA.eb:ve.f.kb.y}else me=null;return me};var CS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(N,I){for(var L="",O=0;O<4;O++)L+=String.fromCharCode(N[I++]);return L}function d(N,I){return(N[I+0]<<0|N[I+1]<<8|N[I+2]<<16)>>>0}function f(N,I){return(N[I+0]<<0|N[I+1]<<8|N[I+2]<<16|N[I+3]<<24)>>>0}new c;var h=[0],p=[0],g=[],x=new c,v=e,y=function(N,I){var L={},O=0,T=!1,P=0,R=0;if(L.frames=[],!function(H,W,Z,ae){for(var oe=0;oe<ae;oe++)if(H[W+oe]!=Z.charCodeAt(oe))return!0;return!1}(N,I,"RIFF",4)){var q,Q;for(f(N,I+=4),I+=8;I<N.length;){var G=u(N,I),K=f(N,I+=4);I+=4;var z=K+(1&K);switch(G){case"VP8 ":case"VP8L":L.frames[O]===void 0&&(L.frames[O]={}),(M=L.frames[O]).src_off=T?R:I-8,M.src_size=P+K+8,O++,T&&(T=!1,P=0,R=0);break;case"VP8X":(M=L.header={}).feature_flags=N[I];var Y=I+4;M.canvas_width=1+d(N,Y),Y+=3,M.canvas_height=1+d(N,Y),Y+=3;break;case"ALPH":T=!0,P=z+8,R=I-8;break;case"ANIM":(M=L.header).bgcolor=f(N,I),Y=I+4,M.loop_count=(q=N)[(Q=Y)+0]<<0|q[Q+1]<<8,Y+=2;break;case"ANMF":var ee,M;(M=L.frames[O]={}).offset_x=2*d(N,I),I+=3,M.offset_y=2*d(N,I),I+=3,M.width=1+d(N,I),I+=3,M.height=1+d(N,I),I+=3,M.duration=d(N,I),I+=3,ee=N[I++],M.dispose=1&ee,M.blend=ee>>1&1}G!="ANMF"&&(I+=z)}return L}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,E=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],p=[w.canvas_width];for(var k=0;k<E.length&&E[k].blend!=0;k++);}var B=E[0],j=x.WebPDecodeRGBA(v,B.src_off,B.src_size,p,h);B.rgba=j,B.imgwidth=p[0],B.imgheight=h[0];for(var C=0;C<p[0]*h[0]*4;C++)g[C]=j[C];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof cR=="function"},r=function(h,p,g,x){var v=4,y=i;switch(x){case e.image_compression.FAST:v=1,y=s;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=c}h=n(h,p,g,y);var w=cR(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(h,p,g,x){for(var v,y,w,E=h.length/p,k=new Uint8Array(h.length+E),B=d(),j=0;j<E;j+=1){if(w=j*p,v=h.subarray(w,w+p),x)k.set(x(v,g,y),w+j);else{for(var C,N=B.length,I=[];C<N;C+=1)I[C]=B[C](v,g,y);var L=f(I.concat());k.set(I[L],w+j)}y=v}return k},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},s=function(h,p){var g,x=[],v=h.length;x[0]=1;for(var y=0;y<v;y+=1)g=h[y-p]||0,x[y+1]=h[y]-g+256&255;return x},i=function(h,p,g){var x,v=[],y=h.length;v[0]=2;for(var w=0;w<y;w+=1)x=g&&g[w]||0,v[w+1]=h[w]-x+256&255;return v},o=function(h,p,g){var x,v,y=[],w=h.length;y[0]=3;for(var E=0;E<w;E+=1)x=h[E-p]||0,v=g&&g[E]||0,y[E+1]=h[E]+256-(x+v>>>1)&255;return y},c=function(h,p,g){var x,v,y,w,E=[],k=h.length;E[0]=4;for(var B=0;B<k;B+=1)x=h[B-p]||0,v=g&&g[B]||0,y=g&&g[B-p]||0,w=u(x,v,y),E[B+1]=h[B]-w+256&255;return E},u=function(h,p,g){if(h===p&&p===g)return h;var x=Math.abs(p-g),v=Math.abs(h-g),y=Math.abs(h+p-g-g);return x<=v&&x<=y?h:v<=y?p:g},d=function(){return[a,s,i,o,c]},f=function(h){var p=h.map(function(g){return g.reduce(function(x,v){return x+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,x){var v,y,w,E,k,B,j,C,N,I,L,O,T,P,R,q=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new Uqe(h)).imgData,y=w.bits,v=w.colorSpace,k=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){N=(C=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,L=new Uint8Array(N*w.colors),I=new Uint8Array(N);var G,K=w.pixelBitlength-w.bits;for(P=0,R=0;P<N;P++){for(T=C[P],G=0;G<K;)L[R++]=T>>>G&255,G+=w.bits;I[P]=T>>>G&255}}if(w.bits===16){N=(C=new Uint32Array(w.decodePixels().buffer)).length,L=new Uint8Array(N*(32/w.pixelBitlength)*w.colors),I=new Uint8Array(N*(32/w.pixelBitlength)),O=w.colors>1,P=0,R=0;for(var z=0;P<N;)T=C[P++],L[R++]=T>>>0&255,O&&(L[R++]=T>>>16&255,T=C[P++],L[R++]=T>>>0&255),I[z++]=T>>>16&255;y=8}x!==e.image_compression.NONE&&t()?(h=r(L,w.width*w.colors,w.colors,x),j=r(I,w.width,1,x)):(h=L,j=I,q=void 0)}if(w.colorType===3&&(v=this.color_spaces.INDEXED,B=w.palette,w.transparency.indexed)){var Y=w.transparency.indexed,ee=0;for(P=0,N=Y.length;P<N;++P)ee+=Y[P];if((ee/=255)===N-1&&Y.indexOf(0)!==-1)E=[Y.indexOf(0)];else if(ee!==N){for(C=w.decodePixels(),I=new Uint8Array(C.length),P=0,N=C.length;P<N;P++)I[P]=Y[C[P]];j=r(I,w.width,1)}}var M=function(H){var W;switch(H){case e.image_compression.FAST:W=11;break;case e.image_compression.MEDIUM:W=13;break;case e.image_compression.SLOW:W=14;break;default:W=12}return W}(x);return q===this.decode.FLATE_DECODE&&(Q="/Predictor "+M+" "),Q+="/Colors "+k+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:g,data:h,index:p,filter:q,decodeParameters:Q,transparency:E,palette:B,sMask:j,predictor:M,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:v}}}})(Sr.API),function(e){e.processGIF89A=function(t,r,n,a){var s=new Qqe(t),i=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:o},d=new zF(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Sr.API),Wd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wd.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ra.log("bit decode error:"+r)}},Wd.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[i+4*o]=c.blue,this.data[i+4*o+1]=c.green,this.data[i+4*o+2]=c.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Wd.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,o=s>>4,c=15&s,u=this.palette[o];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},Wd.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Wd.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=u}this.pos+=e}},Wd.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,c=(i>>5&r)/r*255|0,u=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Wd.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},Wd.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=i}},Wd.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new Wd(t,!1),i=s.width,o=s.height,c={data:s.getData(),width:i,height:o},u=new zF(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Sr.API),QY.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new QY(t),i=s.width,o=s.height,c={data:s.getData(),width:i,height:o},u=new zF(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Sr.API),Sr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];s[o++]=d,s[o++]=f,s[o++]=h,i[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Sr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Hv=Sr.API,n5=Hv.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,g=0,x=o[0]||c,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(h=f&&_a(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((o[n]||x)/c+h)),g=n;return v},RY=Hv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Hv.processArabic&&(e=Hv.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:n5.apply(this,arguments).reduce(function(s,i){return s+i},0)},LY=function(e,t,r,n){for(var a=[],s=0,i=e.length,o=0;s!==i&&o+t[s]<r;)o+=t[s],s++;a.push(e.slice(0,s));var c=s;for(o=0;s!==i;)o+t[s]>n&&(a.push(e.slice(c,s)),o=0,c=s),o+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},MY=function(e,t,r){r||(r={});var n,a,s,i,o,c,u,d=[],f=[d],h=r.textIndent||0,p=0,g=0,x=e.split(" "),v=n5.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),w=[];x.map(function(k){(k=k.split(/\s*\n/)).length>1?w=w.concat(k.map(function(B,j){return(j&&B.length?`
`:"")+B})):w.push(k[0])}),x=w,c=RY.apply(this,[y,r])}for(s=0,i=x.length;s<i;s++){var E=0;if(n=x[s],c&&n[0]==`
`&&(n=n.substr(1),E=1),h+p+(g=(a=n5.apply(this,[n,r])).reduce(function(k,B){return k+B},0))>t||E){if(g>t){for(o=LY.apply(this,[n,a,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(k,B){return k+B},0)}else d=[n];f.push(d),h=g+c,p=v}else d.push(n),h+=p+g,p=v}return u=c?function(k,B){return(B?y:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(u)},Hv.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(MY.apply(this,[n[o],i,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},i=e.__fontmetrics__.compress=function(f){var h,p,g,x,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=s(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),x="-"):(g=s(h).slice(2),x=""),g=x+g.slice(0,-1)+n[g.slice(-1)];else{if(_a(h)!=="object")throw new Error("Don't know what to do with value type "+_a(h)+".");g=i(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,x,v={},y=1,w=v,E=[],k="",B="",j=f.length-1,C=1;C<j;C+=1)(x=f[C])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(E.push([w,g]),w={},g=void 0):x=="}"?((p=E.pop())[0][p[1]]=w,g=void 0,w=p[0]):x=="-"?y=-1:g===void 0?r.hasOwnProperty(x)?(k+=r[x],g=parseInt(k,16)*y,y=1,k=""):k+=x:r.hasOwnProperty(x)?(B+=r[x],w[g]=parseInt(B,16)*y,y=1,g=void 0,B=""):B+=x;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(Sr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(z2(o)),i.metadata=e.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(Sr),function(e){function t(){return(qr.canvg?Promise.resolve(qr.canvg):Ob(()=>import("./index.es-B5jsi4GW.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Sr.API.addSvgAsImage=function(r,n,a,s,i,o,c,u){if(isNaN(n)||isNaN(a))throw Ra.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw Ra.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=i;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,s,i,c,u)})}}(),Sr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Sr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),c=[],u=0,d=0,f=0;function h(g,x){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===x&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(_a(e)==="object"){for(a in e)if(s=e[a],h(o,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&h(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,x=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?x.push("/"+g+" /"+r[g].value):x.push("/"+g+" "+r[g].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Sr.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,i){for(var o,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=s.length;f<h;++f){if(o=i.metadata.characterToGlyph(s.charCodeAt(f)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=s.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(s){var i,o,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(o=Object.keys(s).sort(function(p,g){return p-g})).length;f<h;f++)i=o[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(i){var o=i.font,c=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var x=u();d({data:p,addLength1:!0,objectId:x}),c("endobj");var v=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+m1(o.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+m1(o.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+m1(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(i){var o=i.font,c=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var x=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+m1(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+m1(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,o=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,x=p,v="",y=0,w="",E=g[x].encoding;if(g[x].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:f};for(w=o,x=p,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)g[x].metadata.hasOwnProperty("cmap")&&(i=g[x].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),i||w[y].charCodeAt(0)<256&&g[x].metadata.hasOwnProperty("Unicode")?v+=w[y]:v+="";var k="";return parseInt(x.slice(1))<14||E==="WinAnsiEncoding"?k=h(v,x).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(k=r(v,g[x])),f.isHex=!0,{text:k,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var i=s.text||"",o=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?o.push([a(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):o.push(a(Object.assign({},c,{text:i[u]})).text);s.text=o}else s.text=a(Object.assign({},c,{text:i})).text}])}(Sr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Sr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,i,o,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,E=0;this.__bidiEngine__={};var k=function(O){var T=O.charCodeAt(),P=T>>8,R=x[P];return R!==void 0?f[256*R+(255&T)]:P===252||P===253?"AL":y.test(P)?"L":P===8?"R":"N"},B=function(O){for(var T,P=0;P<O.length;P++){if((T=k(O.charAt(P)))==="L")return!1;if(T==="R")return!0}return!1},j=function(O,T,P,R){var q,Q,G,K,z=T[R];switch(z){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(z="AN");break;case"AL":w=!0,z="R";break;case"WS":z="N";break;case"CS":R<1||R+1>=T.length||(q=P[R-1])!=="EN"&&q!=="AN"||(Q=T[R+1])!=="EN"&&Q!=="AN"?z="N":w&&(Q="AN"),z=Q===q?Q:"N";break;case"ES":z=(q=R>0?P[R-1]:"B")==="EN"&&R+1<T.length&&T[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&P[R-1]==="EN"){z="EN";break}if(w){z="N";break}for(G=R+1,K=T.length;G<K&&T[G]==="ET";)G++;z=G<K&&T[G]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(K=T.length,G=R+1;G<K&&T[G]==="NSM";)G++;if(G<K){var Y=O[R],ee=Y>=1425&&Y<=2303||Y===64286;if(q=T[G],ee&&(q==="R"||q==="AL")){z="R";break}}}z=R<1||(q=T[R-1])==="B"?"N":P[R-1];break;case"B":w=!1,a=!0,z=E;break;case"S":s=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":z="N"}return z},C=function(O,T,P){var R=O.split("");return P&&N(R,P,{hiLevel:E}),R.reverse(),T&&T.reverse(),R.join("")},N=function(O,T,P){var R,q,Q,G,K,z=-1,Y=O.length,ee=0,M=[],H=E?p:h,W=[];for(w=!1,a=!1,s=!1,q=0;q<Y;q++)W[q]=k(O[q]);for(Q=0;Q<Y;Q++){if(K=ee,M[Q]=j(O,W,M,Q),R=240&(ee=H[K][g[M[Q]]]),ee&=15,T[Q]=G=H[ee][5],R>0)if(R===16){for(q=z;q<Q;q++)T[q]=1;z=-1}else z=-1;if(H[ee][6])z===-1&&(z=Q);else if(z>-1){for(q=z;q<Q;q++)T[q]=G;z=-1}W[Q]==="B"&&(T[Q]=0),P.hiLevel|=G}s&&function(Z,ae,oe){for(var se=0;se<oe;se++)if(Z[se]==="S"){ae[se]=E;for(var ce=se-1;ce>=0&&Z[ce]==="WS";ce--)ae[ce]=E}}(W,T,Y)},I=function(O,T,P,R,q){if(!(q.hiLevel<O)){if(O===1&&E===1&&!a)return T.reverse(),void(P&&P.reverse());for(var Q,G,K,z,Y=T.length,ee=0;ee<Y;){if(R[ee]>=O){for(K=ee+1;K<Y&&R[K]>=O;)K++;for(z=ee,G=K-1;z<G;z++,G--)Q=T[z],T[z]=T[G],T[G]=Q,P&&(Q=P[z],P[z]=P[G],P[G]=Q);ee=K}ee++}}},L=function(O,T,P){var R=O.split(""),q={hiLevel:E};return P||(P=[]),N(R,P,q),function(Q,G,K){if(K.hiLevel!==0&&d)for(var z,Y=0;Y<Q.length;Y++)G[Y]===1&&(z=v.indexOf(Q[Y]))>=0&&(Q[Y]=v[z+1])}(R,P,q),I(2,R,T,P,q),I(1,R,T,P,q),R.join("")};return this.__bidiEngine__.doBidiReorder=function(O,T,P){if(function(q,Q){if(Q)for(var G=0;G<q.length;G++)Q[G]=G;o===void 0&&(o=B(q)),u===void 0&&(u=B(q))}(O,T),i||!c||u)if(i&&c&&o^u)E=o?1:0,O=C(O,T,P);else if(!i&&c&&u)E=o?1:0,O=L(O,T,P),O=C(O,T);else if(!i||o||c||u){if(i&&!c&&o^u)O=C(O,T),o?(E=0,O=L(O,T,P)):(E=1,O=L(O,T,P),O=C(O,T));else if(i&&o&&!c&&u)E=1,O=L(O,T,P),O=C(O,T);else if(!i&&!c&&o^u){var R=d;o?(E=1,O=L(O,T,P),E=0,d=!1,O=L(O,T,P),d=R):(E=0,O=L(O,T,P),O=C(O,T),E=1,d=!1,O=L(O,T,P),d=R,O=C(O,T))}}else E=0,O=L(O,T,P);else E=o?1:0,O=L(O,T,P);return O},this.__bidiEngine__.setOptions=function(O){O&&(i=O.isInputVisual,c=O.isOutputVisual,o=O.isInputRtl,u=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),i=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(i=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?i.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):i.push([r.doBidiReorder(a[o])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Sr),Sr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new wm(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new rWe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Hqe(this.contents),this.head=new Vqe(this),this.name=new Wqe(this),this.cmap=new Mde(this),this.toUnicode={},this.hhea=new zqe(this),this.maxp=new Xqe(this),this.hmtx=new Yqe(this),this.post=new Kqe(this),this.os2=new Gqe(this),this.loca=new tWe(this),this.glyf=new Jqe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,c,u;for(u=[],i=0,o=(c=this.bbox).length;i<o;i++)t=c[i],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,i,o;for(i=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)a=t.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Nf,wm=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,i,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*i+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),Hqe=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,i,o,c,u,d,f,h,p,g,x;for(x in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),i=Math.floor(f/c),d=16*p-f,(a=new wm).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(i),a.writeShort(d),s=16*p,u=a.pos+s,o=null,g=[],r)for(h=r[x],a.writeString(x),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),g=g.concat(h),x==="head"&&(o=u),u+=h.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,i;for(r=Ude.call(r);r.length%4;)r.push(0);for(s=new wm(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),$qe={}.hasOwnProperty,zA=function(e,t){for(var r in t)$qe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Nf=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Vqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new wm).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),HY=function(){function e(t,r){var n,a,s,i,o,c,u,d,f,h,p,g,x,v,y,w,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,s=function(){var k,B;for(B=[],c=k=0;0<=h?k<h:k>h;c=0<=h?++k:--k)B.push(t.readUInt16());return B}(),t.pos+=2,x=function(){var k,B;for(B=[],c=k=0;0<=h?k<h:k>h;c=0<=h?++k:--k)B.push(t.readUInt16());return B}(),u=function(){var k,B;for(B=[],c=k=0;0<=h?k<h:k>h;c=0<=h?++k:--k)B.push(t.readUInt16());return B}(),d=function(){var k,B;for(B=[],c=k=0;0<=h?k<h:k>h;c=0<=h?++k:--k)B.push(t.readUInt16());return B}(),a=(this.length-t.pos+this.offset)/2,o=function(){var k,B;for(B=[],c=k=0;0<=a?k<a:k>a;c=0<=a?++k:--k)B.push(t.readUInt16());return B}(),c=y=0,E=s.length;y<E;c=++y)for(v=s[c],n=w=g=x[c];g<=v?w<=v:w>=v;n=g<=v?++w:--w)d[c]===0?i=n+u[c]:(i=o[d[c]/2+(n-g)-(h-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}t.pos=f}return e.encode=function(t,r){var n,a,s,i,o,c,u,d,f,h,p,g,x,v,y,w,E,k,B,j,C,N,I,L,O,T,P,R,q,Q,G,K,z,Y,ee,M,H,W,Z,ae,oe,se,ce,de,ke,re;switch(R=new wm,i=Object.keys(t).sort(function(_e,Ne){return _e-Ne}),r){case"macroman":for(x=0,v=function(){var _e=[];for(g=0;g<256;++g)_e.push(0);return _e}(),w={0:0},s={},q=0,z=i.length;q<z;q++)w[ce=t[a=i[q]]]==null&&(w[ce]=++x),s[a]={old:t[a],new:w[t[a]]},v[a]=w[t[a]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(v),{charMap:s,subtable:R.data,maxGlyphID:x+1};case"unicode":for(T=[],f=[],E=0,w={},n={},y=u=null,Q=0,Y=i.length;Q<Y;Q++)w[B=t[a=i[Q]]]==null&&(w[B]=++E),n[a]={old:B,new:w[B]},o=w[B]-a,y!=null&&o===u||(y&&f.push(y),T.push(a),u=o),y=a;for(y&&f.push(y),f.push(65535),T.push(65535),L=2*(I=T.length),N=2*Math.pow(Math.log(I)/Math.LN2,2),h=Math.log(N/2)/Math.LN2,C=2*I-N,c=[],j=[],p=[],g=G=0,ee=T.length;G<ee;g=++G){if(O=T[g],d=f[g],O===65535){c.push(0),j.push(0);break}if(O-(P=n[O].new)>=32768)for(c.push(0),j.push(2*(p.length+I-g)),a=K=O;O<=d?K<=d:K>=d;a=O<=d?++K:--K)p.push(n[a].new);else c.push(P-O),j.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*I+2*p.length),R.writeUInt16(0),R.writeUInt16(L),R.writeUInt16(N),R.writeUInt16(h),R.writeUInt16(C),oe=0,M=f.length;oe<M;oe++)a=f[oe],R.writeUInt16(a);for(R.writeUInt16(0),se=0,H=T.length;se<H;se++)a=T[se],R.writeUInt16(a);for(de=0,W=c.length;de<W;de++)o=c[de],R.writeUInt16(o);for(ke=0,Z=j.length;ke<Z;ke++)k=j[ke],R.writeUInt16(k);for(re=0,ae=p.length;re<ae;re++)x=p[re],R.writeUInt16(x);return{charMap:n,subtable:R.data,maxGlyphID:E+1}}},e}(),Mde=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new HY(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=HY.encode(r,n),(s=new wm).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),zqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Gqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Kqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],i=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;i=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),qqe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Wqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,i,o,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},i=f=0,h=a.length;f<h;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),o=new qqe(d,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),Xqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Yqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,i,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)i=h[d],p.push(i.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Ude=[].slice,Jqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,i,o,c,u,d,f,h;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new wm(n.read(s))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=o===-1?new eWe(c,d,h,u,f):new Zqe(c,o,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,i,o,c,u;for(o=[],i=[],c=0,u=n.length;c<u;c++)s=r[n[c]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},t}(),Zqe=function(){function e(t,r,n,a,s,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),eWe=function(){function e(t,r,n,a,s){var i,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new wm(Ude.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),tWe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zA(t,Nf),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<n.length&&n[i]==o){++i,a[o]=s;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(s+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),rWe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,i,o,c;for(a={},i=0,o=t.length;i<o;i++)a[s=t[i]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,i,o,c,u,d,f,h,p,g,x,v,y;for(a in n=Mde.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),p={0:0},y=n.charMap)p[(c=y[a]).old]=c.new;for(g in h=n.maxGlyphID,i)g in p||(p[g]=h++);return d=function(w){var E,k;for(E in k={},w)k[w[E]]=E;return k}(p),f=Object.keys(d).sort(function(w,E){return w-E}),x=function(){var w,E,k;for(k=[],w=0,E=f.length;w<E;w++)o=f[w],k.push(d[o]);return k}(),s=this.font.glyf.encode(i,x,p),u=this.font.loca.encode(s.offsets,x),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Sr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,i;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)i=r[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join(`
`)}return""+r},t}();function Qde(e,t,r,n,a){n=n||{};var s=1.15,i=a.internal.scaleFactor,o=a.internal.getFontSize()/i,c=a.getLineHeightFactor?a.getLineHeightFactor():s,u=o*c,d=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,h=f.length||1),r+=o*(2-s),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*p,r),r+=u;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var $Y={},X1=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:$Y=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,c=i.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return $Y||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),mR=function(e,t){return mR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},mR(e,t)};function Hde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mR(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $de=function(e){Hde(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function nWe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function aWe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function mk(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,i){return Math.max(s,i)},0);return a}function Vde(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var i=zde(a,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function zde(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function sj(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Gde(e,t){var r=sj(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function sWe(e,t,r,n,a){var s={},i=1.3333333333333333,o=GF(t,function(E){return a.getComputedStyle(E).backgroundColor});o!=null&&(s.fillColor=o);var c=GF(t,function(E){return a.getComputedStyle(E).color});c!=null&&(s.textColor=c);var u=oWe(n,r);u&&(s.cellPadding=u);var d="borderTopColor",f=i*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var g=GF(t,function(E){return a.getComputedStyle(E)[d]});g!=null&&(s.lineColor=g);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(s.fontSize=v/i);var y=iWe(n);y&&(s.fontStyle=y);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(s.font=w),s}function iWe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function GF(e,t){var r=Kde(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Kde(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Kde(e.parentElement,t):r}function oWe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(o){return parseInt(o||"0")/n}),i=sj(s,0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}function qde(e,t,r,n,a){var s,i;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],x=(i=(s=g==null?void 0:g.parentElement)===null||s===void 0?void 0:s.tagName)===null||i===void 0?void 0:i.toLowerCase(),v=lWe(c,u,r,g,n,a);v&&(x==="thead"?d.push(v):x==="tfoot"?h.push(v):f.push(v))}return{head:d,body:f,foot:h}}function lWe(e,t,r,n,a,s){for(var i=new $de(n),o=0;o<n.cells.length;o++){var c=n.cells[o],u=r.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;s&&(d=sWe(e,c,t,u,r)),i.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:cWe(c)})}}var f=r.getComputedStyle(n);if(i.length>0&&(a||f.display!=="none"))return i}function cWe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function uWe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Vh(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s}function Wde(e,t){var r=new X1(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();uWe(a,n,t);var s=Vh({},a,n,t),i;typeof window<"u"&&(i=window);var o=dWe(a,n,t),c=fWe(a,n,t),u=AWe(r,s),d=pWe(r,s,i);return{id:t.tableId,content:d,hooks:c,styles:o,settings:u}}function dWe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],f=r[c];n.columnStyles=Vh({},u,d,f)}else{var h=[e,t,r],p=h.map(function(g){return g[c]||{}});n[c]=Vh({},p[0],p[1],p[2])}},s=0,i=Object.keys(n);s<i.length;s++){var o=i[s];a(o)}return n}function fWe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,i=n;s<i.length;s++){var o=i[s];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function AWe(e,t){var r,n,a,s,i,o,c,u,d,f,h,p,g=sj(t.margin,40/e.scaleFactor()),x=(r=hWe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var w=(s=t.useCss)!==null&&s!==void 0?s:!1,E=t.theme||(w?"plain":"striped"),k=!!t.horizontalPageBreak,B=(i=t.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:E,startY:x,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:k,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function hWe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;s=i===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function pWe(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var o=qde(e,t.html,r,i,t.useCss)||{};n=o.head||n,a=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||mWe(n,a,s);return{columns:c,head:n,body:a,foot:s}}function mWe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var i=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(i=(o==null?void 0:o.colSpan)||1);for(var c=0;c<i;c++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var gR=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),gWe=function(e){Hde(t,e);function t(r,n,a,s,i,o){var c=e.call(this,r,n,o)||this;return c.cell=a,c.row=s,c.column=i,c.section=s.section,c}return t}(gR),xWe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,i){for(var o=0,c=r;o<c.length;o++){var u=c[o],d=new gWe(t,this,n,a,s,i),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new gR(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new gR(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),Xde=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof $de&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var i=n.cells[s.index];if(!i)return 0;var o=r.getLineHeight(i.styles.fontSize),c=i.padding("vertical"),u=c+o;return u>a?u:a},0)},e}(),Yde=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var i=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=i.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=sj(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),vWe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],i=s.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},e}();function bWe(e,t){yWe(e,t);var r=[],n=0;t.columns.forEach(function(s){var i=s.getMaxCustomCellWidth(t);i?s.width=i:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=xR(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=xR(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),CWe(t),EWe(t,e),wWe(t)}function yWe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Gde(e,t);t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var c=o[i],u=s.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,s,c,null);var f=u.padding("horizontal");u.contentWidth=mk(u.text,u.styles,e)+f;var h=mk(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var i=0,o=t.columns;i<o.length;i++){var c=o[i],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function xR(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),s=0;s<e.length;s++){var i=e[s],o=i.wrappedWidth/a,c=n*o,u=i.width+c,d=r(i),f=u<d?d:u;t-=f-i.width,i.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=xR(h,t,r))}return t}function wWe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],i=0,o=e.columns;i<o.length;i++){var c=o[i],u=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=s.cells[c.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var f=n.length-a,h=d.rowSpan>f?f:d.rowSpan;t[c.index]={cell:d,left:h,row:s}}}}}function CWe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,i=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(i-=1,i>1&&e.columns[o+1])s+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+s}else{var u=n.cells[c.index];if(!u)continue;if(i=u.colSpan,s=0,u.colSpan>1){a=u,s+=c.width;continue}u.width=c.width+s}}}function EWe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],i=0,o=e.columns;i<o.length;i++){var c=o[i],u=s.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=VY(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=VY(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>s.height&&(s.height=h)}}r.count--}}function VY(e,t,r,n,a){return e.map(function(s){return SWe(s,t,r,n,a)})}function SWe(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=mk(e,r,n))return e;for(;t<mk(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function Jde(e,t){var r=new X1(e),n=_We(t,r.scaleFactor()),a=new xWe(t,n);return bWe(r,a),r.applyStyles(r.userStyles),a}function _We(e,t){var r=e.content,n=kWe(r.columns);if(r.head.length===0){var a=zY(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=zY(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,i=e.styles;return{columns:n,head:KF("head",r.head,n,i,s,t),body:KF("body",r.body,n,i,s,t),foot:KF("foot",r.foot,n,i,s,t)}}function KF(e,t,r,n,a,s){var i={},o=t.map(function(c,u){for(var d=0,f={},h=0,p=0,g=0,x=r;g<x.length;g++){var v=x[g];if(i[v.index]==null||i[v.index].left===0)if(p===0){var y=void 0;Array.isArray(c)?y=c[v.index-h-d]:y=c[v.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var E=TWe(e,v,u,a,n,s,w),k=new Yde(y,E,e);f[v.dataKey]=k,f[v.index]=k,p=k.colSpan-1,i[v.index]={left:k.rowSpan-1,times:p}}else p--,h++;else i[v.index].left--,p=i[v.index].times,d++}return new Xde(c,u,e,f)});return o}function zY(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=NWe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function NWe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function kWe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new vWe(a,t,r)})}function TWe(e,t,r,n,a,s,i){var o=aWe(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var u=Vh({},o.table,o[e],a.styles,c),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},h=e==="body"&&r%2===0?Vh({},o.alternateRow,a.alternateRowStyles):{},p=nWe(s),g=Vh({},p,u,h,f);return Vh(g,i)}function BWe(e,t,r){var n;r===void 0&&(r={});var a=Gde(e,t),s=new Map,i=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!s.has(p.index)&&(s.set(p.index,!0),i.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(s.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,i.push(d),o.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function jWe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=BWe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Zde(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+i;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(h,p){return h+p.height},0);o+=u}var d=new X1(e);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(tfe(d),s.y=a.top),t.callWillDrawPageHooks(d,s);var f=Vh({},s);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?IWe(d,t,f,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return x0(d,t,h,s,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;gk(d,t,h,g,f,s,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return x0(d,t,h,s,t.columns)})),Vde(d,t,f,s),t.callEndPageHooks(d,s),t.finalY=s.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function IWe(e,t,r,n){var a=jWe(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?G2(e,t,r,n,u.columns,!0):GY(e,t,n,u.columns),FWe(e,t,r,n,u.columns),qF(e,t,n,u.columns)});else for(var i=-1,o=a[0],c=function(){var u=i;if(o){e.applyStyles(e.userStyles);var d=o.columns;i>=0?G2(e,t,r,n,d,!0):GY(e,t,n,d),u=KY(e,t,i+1,n,d),qF(e,t,n,d)}var f=u-i;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),G2(e,t,r,n,h.columns,!0),KY(e,t,i+1,n,h.columns,f),qF(e,t,n,h.columns)}),i=u};i<t.body.length-1;)c()}function GY(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return x0(e,t,s,r,n)})}function FWe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,i){var o=i===t.body.length-1;gk(e,t,s,o,r,n,a)})}function KY(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var i=Math.min(r+s,t.body.length),o=-1;return t.body.slice(r,i).forEach(function(c,u){var d=r+u===t.body.length-1,f=efe(e,t,d,n);c.canEntireRowFit(f,a)&&(x0(e,t,c,n,a),o=r+u)}),o}function qF(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return x0(e,t,s,r,n)})}function OWe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function DWe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,i=0,o=r.columns;i<o.length;i++){var c=o[i],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new Yde(u.raw,u.styles,u.section);d=Vh(d,u),d.text=[];var f=OWe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,p),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,p),d.contentHeight>s&&(s=d.contentHeight),a[c.index]=d}}var g=new Xde(e.raw,-1,e.section,a,!0);g.height=s;for(var x=0,v=r.columns;x<v.length;x++){var c=v[x],d=g.cells[c.index];d&&(d.height=g.height);var u=e.cells[c.index];u&&(u.height=e.height)}return g}function PWe(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,i=s.top+s.bottom,o=a-i;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function gk(e,t,r,n,a,s,i){var o=efe(e,t,n,s);if(r.canEntireRowFit(o,i))x0(e,t,r,s,i);else if(PWe(e,r,o,t)){var c=DWe(r,o,t,e);x0(e,t,r,s,i),G2(e,t,a,s,i),gk(e,t,c,n,a,s,i)}else G2(e,t,a,s,i),gk(e,t,r,n,a,s,i)}function x0(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,i=a;s<i.length;s++){var o=i[s],c=r.cells[o.index];if(!c){n.x+=o.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,n);if(u===!1){n.x+=o.width;continue}RWe(e,c,n);var d=c.getTextPos();Qde(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,n),n.x+=o.width}n.y+=r.height}function RWe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=zde(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),LWe(e,t,r,n.lineWidth))}function LWe(e,t,r,n){var a,s,i,o;n.top&&(a=r.x,s=r.y,i=r.x+t.width,o=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,i,o)),n.bottom&&(a=r.x,s=r.y+t.height,i=r.x+t.width,o=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,i,o)),n.left&&(a=r.x,s=r.y,i=r.x,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,a,s,i,o)),n.right&&(a=r.x+t.width,s=r.y,i=r.x+t.width,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,a,s,i,o));function c(u,d,f,h,p){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,h,p,"S")}}function efe(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function G2(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(o){return x0(e,t,o,n,a)}),t.callEndPageHooks(e,n);var i=t.settings.margin;Vde(e,t,r,n),tfe(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return x0(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function tfe(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function MWe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=Wde(this,n),s=Jde(this,a);return Zde(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Qde(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return X1.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){X1.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new X1(this),s=qde(a,t,window,r,!1),i=s.head,o=s.body,c=((n=i[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var WF;function Uo(e,t){var r=Wde(e,t),n=Jde(e,r);Zde(e,n)}try{if(typeof window<"u"&&window){var qY=window,WY=qY.jsPDF||((WF=qY.jspdf)===null||WF===void 0?void 0:WF.jsPDF);WY&&MWe(WY)}}catch(e){console.error("Could not apply autoTable plugin",e)}const L7="evaluaciones_pruebas",M7="evaluaciones_rubricas_estaticas",U7="evaluaciones_rubricas_interactivas",UWe="usuarios",ij=e=>{var r,n;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion}},QWe=e=>{const t=zt(wt(mt,L7),wr("fechaCreacion","desc"));return br(t,n=>{e(n.docs.map(a=>ij(a)))},n=>{console.error("Error al suscribirse a las pruebas:",n),e([])})},HWe=async e=>{try{const{id:t,...r}=e,n=dr(mt,L7,t);await Gi(n,{...r,fechaCreacion:lr.fromDate(new Date(r.fechaCreacion))})}catch(t){throw console.error("Error al guardar la prueba:",t),new Error("No se pudo guardar la prueba.")}},$We=async e=>{try{await hs(dr(mt,L7,e))}catch(t){throw console.error("Error al eliminar la prueba:",t),new Error("No se pudo eliminar la prueba.")}},VWe=e=>{const t=zt(wt(mt,M7),wr("fechaCreacion","desc"));return br(t,n=>{e(n.docs.map(a=>ij(a)))},n=>{console.error("Error al suscribirse a las rúbricas estáticas:",n),e([])})},zWe=async e=>{try{const{id:t,...r}=e,n=dr(mt,M7,t);await Gi(n,{...r,fechaCreacion:lr.fromDate(new Date(r.fechaCreacion))})}catch(t){throw console.error("Error al guardar la rúbrica estática:",t),new Error("No se pudo guardar la rúbrica.")}},GWe=async e=>{try{await hs(dr(mt,M7,e))}catch(t){throw console.error("Error al eliminar la rúbrica estática:",t),new Error("No se pudo eliminar la rúbrica.")}},KWe=e=>{const t=zt(wt(mt,U7));return br(t,n=>{e(n.docs.map(a=>ij(a)))},n=>{console.error("Error al suscribirse a las rúbricas interactivas:",n),e([])})},qWe=async e=>{try{const{id:t,...r}=e,n=dr(mt,U7,t);await Gi(n,r)}catch(t){throw console.error("Error al guardar la rúbrica interactiva:",t),new Error("No se pudo guardar la rúbrica interactiva.")}},WWe=async e=>{try{return(await Bn(wt(mt,U7),e)).id}catch(t){throw console.error("Error al crear la rúbrica interactiva:",t),new Error("No se pudo crear la rúbrica interactiva.")}},XWe=e=>{const t=zt(wt(mt,UWe));return br(t,n=>{e(n.docs.map(a=>ij(a)))},n=>{console.error("Error al suscribirse a los usuarios:",n),e([])})},YWe=["Selección múltiple","Verdadero o Falso","Desarrollo","Términos pareados","Comprensión de lectura"],XY={"Selección múltiple":[5,10,15],"Verdadero o Falso":[5,10,15],"Términos pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensión de lectura":[1,2,3]},yN=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},JWe=({open:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e?l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59"}):l.jsxs(l.Fragment,{children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),ZWe=({item:e,index:t,showAnswers:r})=>{const n=S.useMemo(()=>e.tipo==="Términos pareados"?[...e.pares.map(a=>a.definicion)].sort(()=>Math.random()-.5):[],[e]);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[t+1,". ",e.pregunta," (",e.puntaje," pts)"]}),e.habilidadBloom&&l.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:e.habilidadBloom})]}),e.tipo==="Selección múltiple"&&l.jsx("div",{className:"ml-4 mt-2 space-y-2",children:e.opciones.map((a,s)=>{const i=r&&s===e.respuestaCorrecta;return l.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${i?"bg-green-100 dark:bg-green-900/50":""}`,children:[l.jsx("div",{className:"w-5 h-5 border rounded-full"}),l.jsxs("span",{children:[String.fromCharCode(65+s),") ",a]})]},s)})}),e.tipo==="Desarrollo"&&l.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"}),e.tipo==="Verdadero o Falso"&&l.jsxs("div",{className:"mt-2 ml-4 flex items-center gap-4",children:[l.jsx("span",{children:"V ___ F ___"}),r&&l.jsxs("span",{className:"font-bold p-1 rounded bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",children:["Respuesta: ",e.respuestaCorrecta?"VERDADERO":"FALSO"]})]}),e.tipo==="Términos pareados"&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna A: Concepto"}),l.jsx("div",{className:"space-y-2",children:e.pares.map((a,s)=>l.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg min-h-[50px] flex items-center",children:[s+1,". ",a.concepto]},s))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-center mb-2",children:"Columna B: Definición"}),l.jsx("div",{className:"space-y-2",children:n.map((a,s)=>l.jsx("div",{className:"bg-sky-100 dark:bg-sky-900/50 p-3 rounded-lg min-h-[50px] flex items-center",children:a},s))})]})]}),r&&l.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-700",children:[l.jsx("h4",{className:"font-bold text-green-800 dark:text-green-200",children:"Respuestas Correctas:"}),l.jsx("ul",{className:"list-disc list-inside mt-2 text-sm text-slate-700 dark:text-slate-300",children:e.pares.map((a,s)=>l.jsxs("li",{children:[l.jsx("strong",{children:a.concepto})," → ",a.definicion]},s))})]})]}),e.tipo==="Comprensión de lectura"&&l.jsxs("div",{className:"ml-4 mt-2 space-y-4",children:[l.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-md whitespace-pre-wrap",children:e.texto}),e.preguntas.map((a,s)=>{if(a.tipo==="Selección múltiple"){const i=a;return l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[s+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&l.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),l.jsx("div",{className:"ml-4 mt-2 space-y-2",children:i.opciones.map((o,c)=>{const u=r&&c===i.respuestaCorrecta;return l.jsxs("div",{className:`flex items-center gap-2 p-1 rounded ${u?"bg-green-100 dark:bg-green-900/50":""}`,children:[l.jsx("div",{className:"w-5 h-5 border rounded-full"}),l.jsxs("span",{children:[String.fromCharCode(65+c),") ",o]})]},c)})})]},a.id)}if(a.tipo==="Desarrollo"){const i=a;return l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("p",{className:"font-semibold flex-grow pr-4",children:[s+1,". ",i.pregunta," (",i.puntaje," pts)"]}),i.habilidadBloom&&l.jsx("span",{className:"flex-shrink-0 text-xs font-semibold bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:i.habilidadBloom})]}),l.jsx("div",{className:"mt-2 p-2 border rounded-md min-h-[96px] bg-slate-50 dark:bg-slate-700/50"})]},a.id)}return null})]})]},e.id)},eXe=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(null),[a,s]=S.useState(!1),[i,o]=S.useState(!1),[c,u]=S.useState(null),[d,f]=S.useState(!1),h={nombre:"",asignatura:po[0],nivel:xz[0],contenido:"",tiposActividad:{},dificultad:"Intermedio",isNee:!1,selectedNee:[]},[p,g]=S.useState(h);S.useEffect(()=>{const C=QWe(t);return()=>C()},[]);const x=C=>{const{name:N,value:I}=C.target;g(L=>({...L,[N]:I}))},v=C=>{g(N=>{const I={...N.tiposActividad};return I[C]?delete I[C]:I[C]=XY[C][0],{...N,tiposActividad:I}})},y=(C,N)=>{g(I=>({...I,tiposActividad:{...I.tiposActividad,[C]:N}}))},w=C=>{g(N=>{const I=N.selectedNee.includes(C)?N.selectedNee.filter(L=>L!==C):[...N.selectedNee,C];return{...N,selectedNee:I}})},E=async C=>{if(C.preventDefault(),!p.nombre.trim()||!p.contenido.trim()||Object.keys(p.tiposActividad).length===0){u("Nombre, Contenido y al menos un tipo de actividad son obligatorios.");return}s(!0),u(null);const N=Object.entries(p.tiposActividad).map(([O,T])=>`- ${T} ítem(s) de tipo '${O}'`).join(`
`),I=p.isNee&&p.selectedNee.length>0?`
            **Adaptación CRÍTICA para Necesidades Educativas Especiales (NEE):**
            Adapta esta prueba para estudiantes con las siguientes características: ${p.selectedNee.join(", ")}.
            Esto implica las siguientes modificaciones OBLIGATORIAS:
            - Usa un lenguaje claro, simple y directo en todas las preguntas e instrucciones.
            - Evita preguntas con doble negación o estructuras gramaticales complejas.
            - En preguntas de desarrollo, desglosa la pregunta en partes más pequeñas si es posible.
            - Para 'Comprensión de Lectura', usa textos más cortos (100-150 palabras) y con vocabulario accesible.
            - Para 'Selección Múltiple', asegúrate de que los distractores sean claramente incorrectos y no ambiguos.`:"",L=`
            Eres un experto en evaluación educativa para la educación media en Chile.
            Genera una prueba o guía de trabajo completa en formato JSON estructurado.
            
            Información base:
            - Nombre de la prueba: ${p.nombre}
            - Asignatura: ${p.asignatura}
            - Nivel: ${p.nivel}
            - Contenido a evaluar: "${p.contenido}"
            - Tipos y cantidad de ítems solicitados:
              ${N}
            - Nivel de Dificultad General: ${p.dificultad}. 'Fácil' implica preguntas directas y de recuerdo. 'Intermedio' incluye aplicación y análisis simple. 'Avanzado' requiere síntesis, evaluación y resolución de problemas complejos.
            
            ${I}

            Tu respuesta DEBE ser un único objeto JSON válido sin texto introductorio, explicaciones, ni el bloque \`\`\`json. El objeto debe contener:
            1. 'objetivo': Un objetivo de aprendizaje claro para la evaluación.
            2. 'instruccionesGenerales': Instrucciones claras para el estudiante.
            3. 'actividades': Un array de objetos, donde cada objeto es una actividad por cada tipo de ítem solicitado. Cada actividad debe tener:
               - 'id': Un UUID generado por ti.
               - 'titulo': Un título descriptivo (ej: "Actividad 1: Selección Múltiple").
               - 'instrucciones': Instrucciones para esa actividad específica.
               - 'items': Un array de preguntas con la cantidad exacta solicitada. Cada pregunta (item) debe tener:
                   - 'id': Un UUID generado por ti.
                   - 'tipo': El tipo de ítem.
                   - 'pregunta': El enunciado de la pregunta.
                   - 'puntaje': Un puntaje numérico.
                   - 'habilidadBloom': La habilidad principal de la Taxonomía de Bloom que se trabaja (ej: Analizar, Crear, Evaluar).
                   - Campos adicionales según el tipo:
                       - Para 'Selección múltiple': 'opciones' (array de EXACTAMENTE 4 strings sin la letra de la alternativa) y 'respuestaCorrecta' (índice numérico de la respuesta correcta, de 0 a 3).
                       - Para 'Verdadero o Falso': 'respuestaCorrecta' (booleano).
                       - Para 'Términos pareados': 'pares' (array de objetos con 'concepto' y 'definicion').
                       - Para 'Comprensión de lectura': 'texto' (un string que DEBE contener un texto original y coherente de 150 a 250 palabras, generado por ti, sobre el contenido a evaluar) y 'preguntas' (un array de sub-preguntas basadas en el texto que acabas de generar, las cuales pueden ser 'Selección múltiple' o 'Desarrollo', y cada una debe tener su propia 'id', 'pregunta', 'puntaje', 'habilidadBloom', etc.).
                       - Para 'Desarrollo': no necesita campos adicionales.
        `;try{Fb("Evaluación - Pruebas");const O="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",G=(await(await new zs(O).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(L)).response).text().replace(/^```json\s*|```\s*$/g,""),K=JSON.parse(G);let z=0;K.actividades.forEach(ee=>{ee.items.forEach(M=>{z+=M.puntaje||0,M.tipo==="Comprensión de lectura"&&M.preguntas&&M.preguntas.forEach(H=>{z+=H.puntaje||0})})});const Y={id:crypto.randomUUID(),fechaCreacion:new Date().toISOString(),nombre:p.nombre,asignatura:p.asignatura,nivel:p.nivel,contenidoOriginal:p.contenido,tiposActividadOriginal:p.tiposActividad,objetivo:K.objetivo,instruccionesGenerales:K.instruccionesGenerales,puntajeIdeal:z,actividades:K.actividades,dificultad:p.dificultad,...p.isNee&&{adaptacionNEE:p.selectedNee}};n(Y),f(!1)}catch(O){console.error(O),u("Error al generar la prueba con IA. Revisa la consola para más detalles.")}finally{s(!1)}},k=async()=>{if(r)try{await HWe(r),alert("Prueba guardada con éxito.")}catch(C){console.error(C),alert("No se pudo guardar la prueba.")}},B=async C=>{if(window.confirm("¿Eliminar esta prueba?"))try{await $We(C),(r==null?void 0:r.id)===C&&n(null)}catch(N){console.error(N),alert("No se pudo eliminar la prueba.")}},j=async C=>{o(!0);const N=new Sr("p","mm","a4"),I=20,L=N.internal.pageSize.getHeight(),O=N.internal.pageSize.getWidth(),T=O-I*2;let P=I;const R=G=>{G.setFillColor(230,230,230),G.rect(0,0,O,25,"F"),G.setFontSize(9),G.setTextColor(0,0,0),G.text("LICEO INDUSTRIAL DE RECOLETA",I,15,{align:"left"}),G.text("SUBDIRECCIÓN DE GESTIÓN PEDAGÓGICA",O-I,15,{align:"right"})};R(N),P=30,N.setTextColor(0,0,0),N.setFont("helvetica","bold"),N.setFontSize(16),N.text(C.nombre,O/2,P,{align:"center"}),P+=10,Uo(N,{startY:P,body:[[{content:"Asignatura:",styles:{fontStyle:"bold"}},C.asignatura,{content:"Puntaje Ideal:",styles:{fontStyle:"bold"}},C.puntajeIdeal.toString()],[{content:"Nivel:",styles:{fontStyle:"bold"}},C.nivel,"",""],[{content:"OA:",styles:{fontStyle:"bold",valign:"top"}},{content:C.objetivo,colSpan:3}],[{content:"Instrucciones:",styles:{fontStyle:"bold",valign:"top"}},{content:C.instruccionesGenerales,colSpan:3}]],theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},columnStyles:{0:{cellWidth:30},2:{cellWidth:30}},didDrawPage:G=>{R(N)}}),P=N.lastAutoTable.finalY+10;const q=G=>{P+G>L-I&&(N.addPage(),R(N),P=I+15,N.setTextColor(0,0,0))},Q=(G,K)=>{N.setFont("helvetica",K.isBold?"bold":"normal"),N.setFontSize(K.fontSize);const z=Array.isArray(G)?G.join(`
`):G;return N.getTextDimensions(z,{maxWidth:K.width}).h};for(const G of C.actividades){let K=Q(G.titulo,{fontSize:12,width:T,isBold:!0})+Q(G.instrucciones,{fontSize:10,width:T})+12;q(K),N.setFont("helvetica","bold"),N.setFontSize(12),N.setTextColor(0,0,0),N.text(G.titulo,I,P),P+=8,N.setFont("helvetica","normal"),N.setFontSize(10);const z=N.splitTextToSize(G.instrucciones,T);N.text(z,I,P),P+=z.length*(10*.35*1.15)+4;for(const[Y,ee]of G.items.entries()){let M=0;const H=`${Y+1}. ${ee.pregunta} (${ee.puntaje} pts)`;switch(M+=Q(H,{fontSize:10,width:T,isBold:!0}),ee.tipo){case"Selección múltiple":ee.opciones.forEach(ae=>{M+=Q(ae,{fontSize:10,width:T-5})+3}),M+=7;break;case"Verdadero o Falso":M+=10;break;case"Desarrollo":M+=30;break;case"Términos pareados":M+=ee.pares.length*12+20;break;case"Comprensión de lectura":const Z=ee;M+=Q(Z.texto,{fontSize:10,width:T-10})+10,Z.preguntas.forEach(ae=>{const oe=`${ae.pregunta} (${ae.puntaje} pts)`;M+=Q(oe,{fontSize:10,width:T-5,isBold:!0}),ae.tipo==="Selección múltiple"?(ae.opciones.forEach(se=>{M+=Q(se,{fontSize:10,width:T-10})+3}),M+=7):ae.tipo==="Desarrollo"&&(M+=30),M+=5}),M+=15;break}q(M),N.setFont("helvetica","bold"),N.setFontSize(10),N.setTextColor(0,0,0);const W=N.splitTextToSize(H,T);if(N.text(W,I,P),P+=W.length*5+4,N.setFont("helvetica","normal"),ee.tipo==="Selección múltiple")ee.opciones.forEach((Z,ae)=>{N.text(`${String.fromCharCode(65+ae)}) ${Z}`,I+5,P),P+=7});else if(ee.tipo==="Verdadero o Falso")N.text("V ______    F ______",I+5,P),P+=10;else if(ee.tipo==="Desarrollo")N.setDrawColor(200,200,200),N.setFillColor(245,245,245),N.rect(I,P,T,25,"FD"),P+=30;else if(ee.tipo==="Términos pareados"){const Z=[...ee.pares.map(oe=>oe.definicion)].sort(()=>Math.random()-.5),ae=ee.pares.map((oe,se)=>[`${se+1}. ${oe.concepto}`,`(   ) ${Z[se]}`]);Uo(N,{startY:P,head:[["Columna A: Concepto","Columna B: Definición"]],body:ae,theme:"grid",styles:{fontSize:9,textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.1},headStyles:{fontStyle:"bold",fillColor:[230,230,230],textColor:[0,0,0]},didDrawPage:oe=>R(N)}),P=N.lastAutoTable.finalY+10}else if(ee.tipo==="Comprensión de lectura"){const Z=ee;N.setFillColor(240,240,240),N.setDrawColor(200,200,200);const ae=N.splitTextToSize(Z.texto,T-10),oe=ae.length*(10*.35*1.15)+8;N.rect(I,P,T,oe,"FD"),P+=4,N.setFont("helvetica","normal"),N.setFontSize(10),N.setTextColor(0,0,0),N.text(ae,I+5,P),P+=oe;for(const[se,ce]of Z.preguntas.entries()){const de=`${se+1}. ${ce.pregunta} (${ce.puntaje} pts)`;N.setFont("helvetica","bold");const ke=N.splitTextToSize(de,T-5);N.text(ke,I+5,P),P+=ke.length*5+4,N.setFont("helvetica","normal"),ce.tipo==="Selección múltiple"?ce.opciones.forEach((re,_e)=>{N.text(`${String.fromCharCode(65+_e)}) ${re}`,I+10,P),P+=7}):ce.tipo==="Desarrollo"&&(N.setDrawColor(200,200,200),N.setFillColor(245,245,245),N.rect(I+5,P,T-5,25,"FD"),P+=30)}}P+=5}}N.save(`${C.nombre.replace(/\s/g,"_")}.pdf`),o(!1)};return r?l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("button",{onClick:()=>n(null),className:"text-sm font-semibold text-slate-500 hover:underline",children:"← Volver"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>f(!d),className:"bg-slate-100 text-slate-700 font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",children:[l.jsx(JWe,{open:!d})," ",l.jsxs("span",{children:[d?"Ocultar":"Mostrar"," Respuestas"]})]}),l.jsx("button",{onClick:k,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Guardar Prueba"}),l.jsxs("button",{onClick:()=>j(r),disabled:i,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:[i?"...":l.jsx(hse,{})," PDF"]})]})]}),l.jsxs("div",{className:"border rounded-lg p-8 bg-slate-50 dark:bg-slate-900/50",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-600 dark:text-slate-400",children:[l.jsx("span",{children:"LICEO INDUSTRIAL DE RECOLETA"}),l.jsx("span",{children:"SUBDIRECCIÓN DE GESTIÓN PEDAGÓGICA"})]}),l.jsx("h2",{className:"text-center text-2xl font-bold my-4 text-slate-800 dark:text-slate-200",children:r.nombre}),l.jsxs("div",{className:"space-y-4 text-sm text-slate-700 dark:text-slate-300 border p-4 rounded-lg bg-white dark:bg-slate-800",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Asignatura:"})," ",r.asignatura]}),l.jsxs("p",{className:"text-right",children:[l.jsx("strong",{children:"Puntaje Ideal:"})," ",r.puntajeIdeal]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Nivel:"})," ",r.nivel]})]}),l.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 pt-2",children:[l.jsxs("span",{className:"font-semibold bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-200 px-2 py-1 rounded-full text-xs",children:["Dificultad: ",r.dificultad||"Intermedio"]}),r.adaptacionNEE&&r.adaptacionNEE.length>0&&l.jsxs("span",{className:"font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:["Adaptado para NEE: ",r.adaptacionNEE.join(", ")]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",r.objetivo]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Instrucciones Generales:"})," ",r.instruccionesGenerales]})]}),r.actividades.map(C=>l.jsxs("div",{className:"mt-8 bg-white dark:bg-slate-800 p-6 rounded-lg border dark:border-slate-700",children:[l.jsx("h3",{className:"text-lg font-bold border-b pb-2 mb-4 dark:border-slate-600",children:C.titulo}),l.jsx("p",{className:"italic text-sm mb-4",children:C.instrucciones}),l.jsx("div",{className:"space-y-6",children:C.items.map((N,I)=>l.jsx(ZWe,{item:N,index:I,showAnswers:d},N.id))})]},C.id))]})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Generar Nueva Prueba o Guía"}),l.jsxs("form",{onSubmit:E,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1 block",children:["Nombre de la Prueba/Guía ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"nombre",value:p.nombre,onChange:x,placeholder:"Ej: Guía N°1 - La Célula",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0})]}),l.jsx("div",{}),l.jsx("select",{name:"asignatura",value:p.asignatura,onChange:x,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:po.map(C=>l.jsx("option",{children:C},C))}),l.jsx("select",{name:"nivel",value:p.nivel,onChange:x,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:xz.map(C=>l.jsx("option",{children:C},C))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-2 block",children:"Dificultad de la Prueba"}),l.jsx("div",{className:"flex rounded-lg shadow-sm",children:["Fácil","Intermedio","Avanzado"].map((C,N)=>l.jsx("button",{type:"button",onClick:()=>g(I=>({...I,dificultad:C})),className:`w-1/3 px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-opacity-50
                                            ${N===0?"rounded-l-lg":""} ${N===2?"rounded-r-lg":""}
                                            ${p.dificultad===C?"bg-amber-500 text-white z-10":"bg-slate-200 hover:bg-slate-300 text-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200"}`,children:C},C))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p.isNee,onChange:C=>g(N=>({...N,isNee:C.target.checked,selectedNee:C.target.checked?N.selectedNee:[]})),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 border-slate-300 dark:bg-slate-600 dark:border-slate-500"}),l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Adaptar para Necesidades Educativas Especiales (NEE)"})]}),p.isNee&&l.jsxs("div",{className:"p-3 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-600 animate-fade-in",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seleccione Dificultades de Aprendizaje"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:h4.map(C=>l.jsxs("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p.selectedNee.includes(C),onChange:()=>w(C),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),l.jsx("span",{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:C})]},C))})]})]})]}),l.jsx("textarea",{name:"contenido",value:p.contenido,onChange:x,placeholder:"Contenido a evaluar...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("div",{className:"space-y-3",children:YWe.map(C=>l.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300 dark:border-slate-700 dark:has-[:checked]:bg-amber-900/20 dark:has-[:checked]:border-amber-700",children:[l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:!!p.tiposActividad[C],onChange:()=>v(C),className:"h-5 w-5 rounded text-amber-500 focus:ring-amber-400 bg-slate-200 dark:bg-slate-600 border-slate-300 dark:border-slate-500"}),l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 flex-grow",children:C})]}),p.tiposActividad[C]&&l.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cantidad:"}),XY[C].map(N=>l.jsx("button",{type:"button",onClick:()=>y(C,N),className:`px-3 py-1 rounded-full font-semibold text-xs transition-colors ${p.tiposActividad[C]===N?"bg-amber-500 text-white":"bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:hover:bg-slate-500"}`,children:N},N))]})]},C))}),c&&l.jsx("p",{className:"text-red-500 text-sm",children:c}),l.jsx("div",{className:"text-right",children:l.jsx("button",{type:"submit",disabled:a,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:a?"Generando...":"Generar Prueba"})})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Pruebas Guardadas"}),l.jsx("div",{className:"space-y-2",children:e.length>0?e.map(C=>l.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:C.nombre}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[C.asignatura," - ",C.nivel," (",new Date(C.fechaCreacion).toLocaleDateString(),")"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>n(C),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Ver"}),l.jsx("button",{onClick:()=>B(C.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},C.id)):l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-4",children:"No hay pruebas guardadas."})})]})]})},tXe=({rubricas:e,onSave:t,onDelete:r,onCreate:n})=>{const[a,s]=S.useState(null),[i,o]=S.useState("list"),[c,u]=S.useState(!1),[d,f]=S.useState(""),h=async(B,j)=>{if(!B.trim()||!j.trim()){alert("El título y la descripción son obligatorios.");return}u(!0);const C=`Crea una rúbrica de evaluación detallada sobre "${B}" con el propósito de "${j}". Genera entre 3 y 5 dimensiones de evaluación. Para cada dimensión, crea un descriptor para 4 niveles: Insuficiente, Suficiente, Competente, y Avanzado. Tu respuesta DEBE ser un único objeto JSON válido sin texto introductorio, explicaciones, ni el bloque \`\`\`json.`,N={type:"ARRAY",items:{type:"OBJECT",properties:{dimension:{type:"STRING"},insuficiente:{type:"STRING"},suficiente:{type:"STRING"},competente:{type:"STRING"},avanzado:{type:"STRING"}},required:["dimension","insuficiente","suficiente","competente","avanzado"]}};try{Fb("Evaluación - Rúbricas");const I="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",R=(await(await new zs(I).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent({contents:[{parts:[{text:C}]}],generationConfig:{responseMimeType:"application/json",responseSchema:N}})).response).text(),q=JSON.parse(R),Q={id:crypto.randomUUID(),titulo:B,descripcion:j,fechaCreacion:new Date().toISOString(),dimensiones:q.map(G=>({id:crypto.randomUUID(),nombre:G.dimension,niveles:{insuficiente:G.insuficiente,suficiente:G.suficiente,competente:G.competente,avanzado:G.avanzado}}))};s(Q)}catch(I){console.error(I),alert("Error al generar la rúbrica con IA.")}finally{u(!1)}},p=async()=>{if(!d.trim()||!a)return;const B=crypto.randomUUID(),j={id:B,nombre:d,niveles:{insuficiente:"",suficiente:"",competente:"",avanzado:""},isLoading:!0};s(I=>I?{...I,dimensiones:[...I.dimensiones,j]}:null),f("");const C=`Para una rúbrica sobre "${a.titulo}", genera los descriptores para los 4 niveles de logro (Insuficiente, Suficiente, Competente, Avanzado) para la nueva dimensión: "${d}". Considera las dimensiones existentes como contexto: ${a.dimensiones.map(I=>I.nombre).join(", ")}. Tu respuesta DEBE ser un único objeto JSON válido sin texto introductorio, explicaciones, ni el bloque \`\`\`json.`,N={type:"OBJECT",properties:{insuficiente:{type:"STRING"},suficiente:{type:"STRING"},competente:{type:"STRING"},avanzado:{type:"STRING"}},required:["insuficiente","suficiente","competente","avanzado"]};try{Fb("Evaluación - Rúbricas (Añadir Dimensión)");const I="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",R=(await(await new zs(I).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent({contents:[{parts:[{text:C}]}],generationConfig:{responseMimeType:"application/json",responseSchema:N}})).response).text(),q=JSON.parse(R);s(Q=>Q?{...Q,dimensiones:Q.dimensiones.map(G=>G.id===B?{...G,niveles:q,isLoading:!1}:G)}:null)}catch(I){console.error("Error generating dimension descriptors:",I),alert("No se pudieron generar los descriptores."),s(L=>L?{...L,dimensiones:L.dimensiones.filter(O=>O.id!==B)}:null)}},g=()=>{if(!a)return;e.some(j=>j.id===a.id)?t(a):n(a),o("list"),s(null)},x=B=>{s(B),o("form")},v=()=>{s({id:crypto.randomUUID(),titulo:"",descripcion:"",fechaCreacion:new Date().toISOString(),dimensiones:[]}),o("form")},y=(B,j,C)=>{a&&s(N=>N?{...N,dimensiones:N.dimensiones.map(I=>I.id!==B?I:j==="nombre"?{...I,nombre:C}:{...I,niveles:{...I.niveles,[j]:C}})}:null)},w=(B,j)=>{s(C=>C?{...C,[B]:j}:null)},E=B=>{a&&s(j=>j?{...j,dimensiones:j.dimensiones.filter(C=>C.id!==B)}:null)},k=()=>{if(!a)return null;const B="w-full p-2 border border-slate-300 rounded-lg shadow-sm focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-700 dark:border-slate-600",j=`${B} resize-none text-sm`;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Crear Rúbrica de Aprendizaje"}),l.jsx("button",{onClick:()=>o("list"),className:"text-sm font-semibold text-slate-500 hover:underline",children:"← Volver"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Título de la Rúbrica"}),l.jsx("input",{value:a.titulo,onChange:C=>w("titulo",C.target.value),placeholder:"Ej. Rúbrica de Presentaciones Orales",className:`${B} mt-1`})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Descripción de la Rúbrica"}),l.jsx("textarea",{value:a.descripcion,onChange:C=>w("descripcion",C.target.value),placeholder:"Describe el propósito y los criterios de evaluación de esta rúbrica.",rows:3,className:`${B} mt-1`})]})]}),a.dimensiones.length===0&&l.jsx("div",{className:"text-center py-4",children:l.jsx("button",{onClick:()=>h(a.titulo,a.descripcion),disabled:c||!a.titulo||!a.descripcion,className:"bg-sky-500 text-white font-semibold py-2 px-5 rounded-lg disabled:bg-slate-400 flex items-center gap-2 mx-auto",children:c?"Generando...":"✨ Generar Rúbrica con IA"})}),a.dimensiones.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Dimensiones a Evaluar"}),l.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:l.jsx("tr",{children:["Dimensión","Insuficiente","Suficiente","Competente","Avanzado",""].map(C=>l.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:C},C))})}),l.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.dimensiones.map(C=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 w-1/5",children:l.jsx("textarea",{value:C.nombre,onChange:N=>y(C.id,"nombre",N.target.value),rows:4,className:j})}),Object.keys(C.niveles).map(N=>l.jsx("td",{className:"p-2 w-1/5",children:C.isLoading?l.jsx("div",{className:"flex justify-center items-center h-full",children:l.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 border-t-amber-500 rounded-full animate-spin"})}):l.jsx("textarea",{value:C.niveles[N],onChange:I=>y(C.id,N,I.target.value),rows:4,className:j})},N)),l.jsx("td",{className:"p-2 w-[5%] text-center align-middle",children:l.jsx("button",{onClick:()=>E(C.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full text-lg",children:"🗑️"})})]},C.id))})]})}),l.jsxs("div",{className:"flex items-end gap-2 pt-2",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("label",{className:"text-sm font-medium",children:"Añadir Dimensión"}),l.jsx("input",{value:d,onChange:C=>f(C.target.value),placeholder:"Escribe el nombre de la nueva dimensión...",className:`${B} mt-1`})]}),l.jsx("button",{onClick:p,disabled:!d.trim(),className:"bg-slate-200 dark:bg-slate-600 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 h-10 disabled:opacity-50",children:"Generar con IA"})]})]}),l.jsx("div",{className:"flex justify-end pt-6 border-t dark:border-slate-700",children:l.jsx("button",{onClick:g,className:"bg-amber-500 text-white font-bold py-2.5 px-6 rounded-lg hover:bg-amber-600",children:"Guardar Rúbrica"})})]})};return i==="list"?l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Rúbricas"}),l.jsx("button",{onClick:v,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:"Crear Nueva"})]}),e.length>0?e.map(B=>l.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:B.titulo}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate max-w-lg",children:B.descripcion})]}),l.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>x(B),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Editar"}),l.jsx("button",{onClick:()=>r(B.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Eliminar"})]})]},B.id)):l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No hay rúbricas guardadas."})]}):k()},rXe=({allUsers:e,rubricasEstaticas:t})=>{const[r,n]=S.useState([]),[a,s]=S.useState(null),[i,o]=S.useState(null),[c,u]=S.useState({rubricaEstaticaId:"",curso:""}),[d,f]=S.useState(null);S.useEffect(()=>{const w=KWe(n);return()=>w()},[]);const h=async w=>{w.preventDefault();const E=t.find(B=>B.id===c.rubricaEstaticaId);if(!E||!c.curso){alert("Debe seleccionar una rúbrica y un curso.");return}const k={nombre:E.titulo,curso:c.curso,asignatura:"N/A",rubricaEstaticaId:E.id,resultados:{}};try{await WWe(k),u({rubricaEstaticaId:"",curso:""})}catch(B){console.error(B),alert("No se pudo crear la evaluación con rúbrica.")}},p=w=>{s(w),o(JSON.parse(JSON.stringify(w)))},g=(w,E,k)=>{i&&o(B=>{if(!B)return null;const j=JSON.parse(JSON.stringify(B));return j.resultados[w]||(j.resultados[w]={puntajes:{},feedback:""}),j.resultados[w].puntajes[E]=k,j})},x=async()=>{if(i)try{await qWe(i),s(i),alert("Cambios guardados.")}catch(w){console.error(w),alert("No se pudieron guardar los cambios.")}},v=S.useCallback(w=>{const E=i,k=t.find(L=>L.id===(E==null?void 0:E.rubricaEstaticaId));if(!E||!k)return{score:0,maxScore:0,grade:"N/A"};const B=k.dimensiones.length*4,j=E.resultados[w];if(!j)return{score:0,maxScore:B,grade:"1.0"};const C=Object.values(j.puntajes).reduce((L,O)=>L+O,0),N=1+6*(C/B),I=B>0?N.toFixed(1):"1.0";return{score:C,maxScore:B,grade:I}},[i,t]),y=async w=>{if(!i)return;const E=t.find(C=>C.id===i.rubricaEstaticaId),k=i.resultados[w];if(!E||!k||Object.keys(k.puntajes).length===0){alert("El estudiante no tiene puntajes para generar feedback.");return}f(w);const j=`Genera una retroalimentación constructiva para un estudiante basada en estos puntajes de rúbrica (de 1 a 4): ${E.dimensiones.map(C=>`${C.nombre}: ${k.puntajes[C.id]||"N/A"}/4`).join("; ")}. El nombre de la evaluación es "${E.titulo}". Destaca fortalezas y sugiere 1-2 áreas de mejora concretas. Sé breve y motivador.`;try{Fb("Evaluación - Rúbricas Interactivas (Feedback)");const C="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",T=(await(await new zs(C).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(j)).response).text();o(P=>{if(!P)return null;const R=JSON.parse(JSON.stringify(P));return R.resultados[w].feedback=T.replace(/(\*\*|\*)/g,""),R})}catch(C){console.error(C),alert("Error al generar feedback.")}finally{f(null)}};if(a&&i){const w=t.find(k=>k.id===a.rubricaEstaticaId),E=e.filter(k=>k.profile===Yt.ESTUDIANTE&&yN(k.curso||"")===a.curso).map(k=>k.nombreCompleto).sort();return w?l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:a.nombre}),l.jsx("p",{className:"text-slate-500",children:a.curso})]}),l.jsx("button",{onClick:()=>s(null),className:"font-semibold text-slate-600",children:"← Volver"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full border-collapse",children:[l.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-2 border dark:border-slate-600 sticky left-0 bg-slate-100 dark:bg-slate-700 z-10 w-48",children:"Estudiante"}),w.dimensiones.map(k=>l.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:k.nombre},k.id)),l.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Puntaje"}),l.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm",children:"Nota"}),l.jsx("th",{className:"p-2 border dark:border-slate-600 text-sm w-64",children:"Retroalimentación"})]})}),l.jsx("tbody",{children:E.map(k=>{var N;const{score:B,maxScore:j,grade:C}=v(k);return l.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[l.jsx("td",{className:"p-2 border dark:border-slate-600 font-semibold sticky left-0 bg-white dark:bg-slate-800 w-48",children:k}),w.dimensiones.map(I=>l.jsx("td",{className:"p-2 border dark:border-slate-600 text-center",children:l.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4].map(L=>{var O;return l.jsx("button",{onClick:()=>g(k,I.id,L),className:`w-7 h-7 rounded-md font-semibold transition-colors ${((O=i.resultados[k])==null?void 0:O.puntajes[I.id])===L?"bg-amber-400 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300"}`,children:L},L)})})},I.id)),l.jsxs("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:[B,"/",j]}),l.jsx("td",{className:"p-2 border dark:border-slate-600 text-center font-bold",children:C}),l.jsx("td",{className:"p-2 border dark:border-slate-600 text-sm",children:l.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[l.jsx("p",{className:"text-xs w-full",children:((N=i.resultados[k])==null?void 0:N.feedback)||"Sin generar"}),l.jsx("button",{onClick:()=>y(k),disabled:d===k,className:"text-xs bg-sky-100 text-sky-700 font-semibold px-2 py-1 rounded-md w-full disabled:opacity-50",children:d===k?"...":"Generar IA"})]})})]},k)})})]})}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:x,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar Cambios"})})]}):l.jsxs("div",{children:["Error: Rúbrica base no encontrada. ",l.jsx("button",{onClick:()=>s(null),children:"Volver"})]})}return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear Evaluación con Rúbrica"}),l.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[l.jsxs("select",{value:c.rubricaEstaticaId,onChange:w=>u({...c,rubricaEstaticaId:w.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[l.jsx("option",{value:"",children:"Seleccione una Rúbrica Guardada"}),t.map(w=>l.jsx("option",{value:w.id,children:w.titulo},w.id))]}),l.jsxs("select",{value:c.curso,onChange:w=>u({...c,curso:w.target.value}),className:"w-full border-slate-300 rounded-md dark:bg-slate-700",required:!0,children:[l.jsx("option",{value:"",children:"Seleccione un Curso"}),Kl.map(w=>l.jsx("option",{value:w,children:w},w))]}),l.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear Evaluación"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Evaluaciones Creadas"}),l.jsx("div",{className:"space-y-2",children:r.map(w=>l.jsxs("button",{onClick:()=>p(w),className:"w-full text-left p-3 rounded-md bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600",children:[l.jsx("p",{className:"font-semibold",children:w.nombre}),l.jsx("p",{className:"text-sm text-slate-500",children:w.curso})]},w.id))})]})]})},nXe=({allUsers:e})=>{const[t,r]=S.useState(""),n=S.useMemo(()=>Array.from(new Set(e.filter(s=>s.profile===Yt.ESTUDIANTE&&s.curso).map(s=>yN(s.curso)))).sort(),[e]),a=S.useMemo(()=>{const s=e.filter(i=>i.profile===Yt.ESTUDIANTE);return t?s.filter(i=>yN(i.curso||"")===t).sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto)):s.sort((i,o)=>i.nombreCompleto.localeCompare(o.nombreCompleto))},[e,t]);return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Nóminas de Cursos"}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Este es un visor de las nóminas de estudiantes. Para agregar, editar o eliminar estudiantes, utilice el módulo de ",l.jsx("strong",{className:"font-semibold",children:"Administración"}),"."]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Curso"}),l.jsxs("select",{id:"curso-filter",value:t,onChange:s=>r(s.target.value),className:"w-full max-w-xs border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Mostrar Todos los Estudiantes"}),n.map(s=>l.jsx("option",{value:s,children:s},s))]})]}),l.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-slate-700 max-h-[60vh]",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nombre Completo"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Curso"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Email"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:a.length>0?a.map(s=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:s.nombreCompleto}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:yN(s.curso||"")}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.email})]},s.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500 dark:text-slate-400",children:"No hay estudiantes que coincidan con el filtro."})})})]})})]})},aXe=()=>{const[e,t]=S.useState("pruebas"),[r,n]=S.useState([]),[a,s]=S.useState([]),[i,o]=S.useState(!0);S.useEffect(()=>{o(!0);const f=XWe(n),h=VWe(p=>{s(p),o(!1)});return()=>{f(),h()}},[]);const c=async f=>{try{await zWe(f)}catch(h){console.error(h),alert("No se pudo guardar la rúbrica.")}},u=async f=>{try{await GWe(f)}catch(h){console.error(h),alert("No se pudo eliminar la rúbrica.")}},d=({tabName:f,label:h})=>l.jsx("button",{onClick:()=>t(f),className:`${e===f?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:h});return i?l.jsx("div",{className:"text-center py-10",children:"Cargando módulo de evaluaciones..."}):l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluación de Aprendizajes"}),l.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:l.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[l.jsx(d,{tabName:"pruebas",label:"Pruebas y Guías"}),l.jsx(d,{tabName:"rubricas",label:"Generador de Rúbricas"}),l.jsx(d,{tabName:"rubricasInteractivas",label:"Rúbricas Interactivas"}),l.jsx(d,{tabName:"nominas",label:"Gestión de Nóminas"})]})}),l.jsxs("div",{className:"mt-6",children:[e==="pruebas"&&l.jsx(eXe,{}),e==="rubricas"&&l.jsx(tXe,{rubricas:a,onSave:c,onDelete:u,onCreate:c}),e==="rubricasInteractivas"&&l.jsx(rXe,{allUsers:r,rubricasEstaticas:a}),e==="nominas"&&l.jsx(nXe,{allUsers:r})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var xk={};xk.version="0.18.5";var rfe=1252,sXe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Q7={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},H7=function(e){sXe.indexOf(e)!=-1&&(rfe=Q7[0]=e)};function iXe(){H7(1252)}var of=function(e){H7(e)};function $7(){of(1200),iXe()}function YY(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function oXe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function nfe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var m2=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?oXe(e.slice(2)):t==254&&r==255?nfe(e.slice(2)):t==65279?e.slice(1):e},a5=function(t){return String.fromCharCode(t)},JY=function(t){return String.fromCharCode(t)},HC,Qp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $C(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=Qp.charAt(s)+Qp.charAt(i)+Qp.charAt(o)+Qp.charAt(c);return t}function xu(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=Qp.indexOf(e.charAt(u++)),i=Qp.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=Qp.indexOf(e.charAt(u++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=Qp.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Cn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),B0=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Cm(e){return Cn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ZY(e){return Cn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ou=function(t){return Cn?B0(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function oj(e){if(typeof ArrayBuffer>"u")return ou(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Qm(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function lXe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function V7(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return V7(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ho=Cn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:B0(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function cXe(e){for(var t=[],r=0,n=e.length+250,a=Cm(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Cm(65535),n=65530)}return t.push(a.slice(0,r)),ho(t)}var Wl=/\u0000/g,g2=/[\u0001-\u0006]/g;function Y1(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function lf(e,t){var r=""+e;return r.length>=t?r:Qs("0",t-r.length)+r}function z7(e,t){var r=""+e;return r.length>=t?r:Qs(" ",t-r.length)+r}function vk(e,t){var r=""+e;return r.length>=t?r:r+Qs(" ",t-r.length)}function uXe(e,t){var r=""+Math.round(e);return r.length>=t?r:Qs("0",t-r.length)+r}function dXe(e,t){var r=""+e;return r.length>=t?r:Qs("0",t-r.length)+r}var eJ=Math.pow(2,32);function $v(e,t){if(e>eJ||e<-eJ)return uXe(e,t);var r=Math.round(e);return dXe(r,t)}function bk(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var tJ=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],XF=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function fXe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var zr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},rJ={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},AXe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function yk(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=s):(d=u,o=i)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function Vg(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=vXe(c,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var afe=new Date(1899,11,31,0,0,0),hXe=afe.getTime(),pXe=new Date(1900,2,1,0,0,0);function sfe(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=pXe&&(r+=1440*60*1e3),(r-(hXe+(e.getTimezoneOffset()-afe.getTimezoneOffset())*6e4))/(1440*60*1e3)}function G7(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function mXe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function gXe(e){var t=e<0?12:11,r=G7(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function xXe(e){var t=G7(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function VC(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=gXe(e):t===10?r=e.toFixed(10).substr(0,12):r=xXe(e),G7(mXe(r.toUpperCase()))}function Nx(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):VC(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return vd(14,sfe(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function vXe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function bXe(e,t,r,n){var a="",s=0,i=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return XF[r.m-1][1];case 5:return XF[r.m-1][0];default:return XF[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return tJ[r.q][0];default:return tJ[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?lf(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=lf(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?lf(c,u):"";return d}function Hp(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var ife=/%/g;function yXe(e,t,r){var n=t.replace(ife,""),a=t.length-n.length;return Yh(e,n,r*Math.pow(10,2*a))+Qs("%",a)}function wXe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Yh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ofe(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ofe(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var lfe=/# (\?+)( ?)\/( ?)(\d+)/;function CXe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?Qs(" ",e[1].length+1+e[4].length):z7(i,e[1].length)+e[2]+"/"+e[3]+lf(o,e[4].length))}function EXe(e,t,r){return r+(t===0?"":""+t)+Qs(" ",e[1].length+2+e[4].length)}var cfe=/^#*0*\.([0#]+)/,ufe=/\).*[0#]/,dfe=/\(###\) ###\\?-####/;function Ml(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function nJ(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function aJ(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function SXe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function _Xe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Yu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ufe)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yu("n",n,r):"("+Yu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return wXe(e,t,r);if(t.indexOf("%")!==-1)return yXe(e,t,r);if(t.indexOf("E")!==-1)return ofe(t,r);if(t.charCodeAt(0)===36)return"$"+Yu(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+$v(c,t.length);if(t.match(/^[#?]+$/))return a=$v(r,0),a==="0"&&(a=""),a.length>t.length?a:Ml(t.substr(0,t.length-a.length))+a;if(s=t.match(lfe))return CXe(s,c,u);if(t.match(/^#+0+$/))return u+$v(c,t.length-t.indexOf("0"));if(s=t.match(cfe))return a=nJ(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ml(s[1])).replace(/\.$/,"."+Ml(s[1])).replace(/\.(\d*)$/,function(g,x){return"."+x+Qs("0",Ml(s[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+nJ(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Hp($v(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yu(e,t,-r):Hp(""+(Math.floor(r)+SXe(r,s[1].length)))+"."+lf(aJ(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Yu(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Y1(Yu(e,t.replace(/[\\-]/g,""),r)),i=0,Y1(Y1(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(dfe))return a=Yu(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=yk(c,Math.pow(10,i)-1,!1),a=""+u,d=Yh("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=vk(o[2],i),d.length<s[4].length&&(d=Ml(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=yk(c,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?z7(o[1],i)+s[2]+"/"+s[3]+vk(o[2],i):Qs(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=$v(r,0),t.length<=a.length?a:Ml(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ml(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=aJ(r,s[1].length),r<0?"-"+Yu(e,t,-r):Hp(_Xe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?lf(0,3-g.length):"")+g})+"."+lf(i,s[1].length);switch(t){case"###,##0.00":return Yu(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Hp($v(c,0));return p!=="0"?u+p:"";case"###,###.00":return Yu(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Yu(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function NXe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Yh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function kXe(e,t,r){var n=t.replace(ife,""),a=t.length-n.length;return Yh(e,n,r*Math.pow(10,2*a))+Qs("%",a)}function ffe(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ffe(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function AA(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ufe)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?AA("n",n,r):"("+AA("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return NXe(e,t,r);if(t.indexOf("%")!==-1)return kXe(e,t,r);if(t.indexOf("E")!==-1)return ffe(t,r);if(t.charCodeAt(0)===36)return"$"+AA(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+lf(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ml(t.substr(0,t.length-a.length))+a;if(s=t.match(lfe))return EXe(s,c,u);if(t.match(/^#+0+$/))return u+lf(c,t.length-t.indexOf("0"));if(s=t.match(cfe))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ml(s[1])).replace(/\.$/,"."+Ml(s[1])),a=a.replace(/\.(\d*)$/,function(g,x){return"."+x+Qs("0",Ml(s[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Hp(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+AA(e,t,-r):Hp(""+r)+"."+Qs("0",s[1].length);if(s=t.match(/^#,#*,#0/))return AA(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Y1(AA(e,t.replace(/[\\-]/g,""),r)),i=0,Y1(Y1(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(dfe))return a=AA(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=yk(c,Math.pow(10,i)-1,!1),a=""+u,d=Yh("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=vk(o[2],i),d.length<s[4].length&&(d=Ml(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=yk(c,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?z7(o[1],i)+s[2]+"/"+s[3]+vk(o[2],i):Qs(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ml(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ml(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+AA(e,t,-r):Hp(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?lf(0,3-g.length):"")+g})+"."+lf(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Hp(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return AA(e,t.slice(0,t.lastIndexOf(".")),r)+Ml(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Yh(e,t,r){return(r|0)===r?AA(e,t,r):Yu(e,t,r)}function TXe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Afe=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ny(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":bk(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Afe))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function BXe(e,t,r,n){for(var a=[],s="",i=0,o="",c="t",u,d,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!bk(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var p=e.charAt(++i),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Vg(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Vg(t,r),u==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},c=o;break;case"A":case"a":case"上":var x={t:o,v:o};if(u==null&&(u=Vg(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="上午/下午"?(u!=null&&(x.v=u.H>=12?"下午":"上午"),x.t="T",i+=5,h="h"):(x.t="t",++i),u==null&&x.t==="T")return"";a[a.length]=x,c=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Afe)){if(u==null&&(u=Vg(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ny(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},c=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var v=0,y=0,w;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,c="h",v<1&&(v=1);break;case"s":(w=a[i].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var E="",k;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=bXe(a[i].t.charCodeAt(0),a[i].v,u,y),a[i].t="t";break;case"n":case"?":for(k=i+1;a[k]!=null&&((o=a[k].t)==="?"||o==="D"||(o===" "||o==="t")&&a[k+1]!=null&&(a[k+1].t==="?"||a[k+1].t==="t"&&a[k+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[k].v==="/"||a[k].v===" "&&a[k+1]!=null&&a[k+1].t=="?"));)a[i].v+=a[k].v,a[k]={v:"",t:";"},++k;E+=a[i].v,i=k-1;break;case"G":a[i].t="t",a[i].v=Nx(t,r);break}var B="",j,C;if(E.length>0){E.charCodeAt(0)==40?(j=t<0&&E.charCodeAt(0)===45?-t:t,C=Yh("n",E,j)):(j=t<0&&n>1?-t:t,C=Yh("n",E,j),j<0&&a[0]&&a[0].t=="t"&&(C=C.substr(1),a[0].v="-"+a[0].v)),k=C.length-1;var N=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){N=i;break}var I=a.length;if(N===a.length&&C.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(k>=a[i].v.length-1?(k-=a[i].v.length,a[i].v=C.substr(k+1,a[i].v.length)):k<0?a[i].v="":(a[i].v=C.substr(0,k+1),k=-1),a[i].t="t",I=i);k>=0&&I<a.length&&(a[I].v=C.substr(0,k+1)+a[I].v)}else if(N!==a.length&&C.indexOf("E")===-1){for(k=C.indexOf(".")-1,i=N;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===N?a[i].v.indexOf(".")-1:a[i].v.length-1,B=a[i].v.substr(d+1);d>=0;--d)k>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(B=C.charAt(k--)+B);a[i].v=B,a[i].t="t",I=i}for(k>=0&&I<a.length&&(a[I].v=C.substr(0,k+1)+a[I].v),k=C.indexOf(".")+1,i=N;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==N)){for(d=a[i].v.indexOf(".")>-1&&i===N?a[i].v.indexOf(".")+1:0,B=a[i].v.substr(0,d);d<a[i].v.length;++d)k<C.length&&(B+=C.charAt(k++));a[i].v=B,a[i].t="t",I=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(j=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Yh(a[i].t,a[i].v,j),a[i].t="t");var L="";for(i=0;i!==a.length;++i)a[i]!=null&&(L+=a[i].v);return L}var sJ=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function iJ(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function jXe(e,t){var r=TXe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(sJ),o=r[1].match(sJ);return iJ(t,i)?[n,r[0]]:iJ(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function vd(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:zr)[e],n==null&&(n=r.table&&r.table[rJ[e]]||zr[rJ[e]]),n==null&&(n=AXe[e]||"General");break}if(bk(n,0))return Nx(t,r);t instanceof Date&&(t=sfe(t,r.date1904));var a=jXe(n,t);if(bk(a[1]))return Nx(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return BXe(a[1],t,r,a[0])}function Jh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(zr[r]==null){t<0&&(t=r);continue}if(zr[r]==e){t=r;break}}t<0&&(t=391)}return zr[t]=e,t}function lj(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Jh(e[t],t)}function ky(){zr=fXe()}var IXe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},hfe=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function FXe(e){var t=typeof e=="number"?zr[e]:e;return t=t.replace(hfe,"(\\d+)"),new RegExp("^"+t+"$")}function OXe(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,c=-1;(t.match(hfe)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":i=p;break;case"s":c=p;break;case"m":i>=0?o=p:a=p;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var DXe=function(){var e={};e.version="1.2.0";function t(){for(var C=0,N=new Array(256),I=0;I!=256;++I)C=I,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,N[I]=C;return typeof Int32Array<"u"?new Int32Array(N):N}var r=t();function n(C){var N=0,I=0,L=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)O[L]=C[L];for(L=0;L!=256;++L)for(I=C[L],N=256+L;N<4096;N+=256)I=O[N]=I>>>8^C[I&255];var T=[];for(L=1;L!=16;++L)T[L-1]=typeof Int32Array<"u"?O.subarray(L*256,L*256+256):O.slice(L*256,L*256+256);return T}var a=n(r),s=a[0],i=a[1],o=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],x=a[10],v=a[11],y=a[12],w=a[13],E=a[14];function k(C,N){for(var I=N^-1,L=0,O=C.length;L<O;)I=I>>>8^r[(I^C.charCodeAt(L++))&255];return~I}function B(C,N){for(var I=N^-1,L=C.length-15,O=0;O<L;)I=E[C[O++]^I&255]^w[C[O++]^I>>8&255]^y[C[O++]^I>>16&255]^v[C[O++]^I>>>24]^x[C[O++]]^g[C[O++]]^p[C[O++]]^h[C[O++]]^f[C[O++]]^d[C[O++]]^u[C[O++]]^c[C[O++]]^o[C[O++]]^i[C[O++]]^s[C[O++]]^r[C[O++]];for(L+=15;O<L;)I=I>>>8^r[(I^C[O++])&255];return~I}function j(C,N){for(var I=N^-1,L=0,O=C.length,T=0,P=0;L<O;)T=C.charCodeAt(L++),T<128?I=I>>>8^r[(I^T)&255]:T<2048?(I=I>>>8^r[(I^(192|T>>6&31))&255],I=I>>>8^r[(I^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,P=C.charCodeAt(L++)&1023,I=I>>>8^r[(I^(240|T>>8&7))&255],I=I>>>8^r[(I^(128|T>>2&63))&255],I=I>>>8^r[(I^(128|P>>6&15|(T&3)<<4))&255],I=I>>>8^r[(I^(128|P&63))&255]):(I=I>>>8^r[(I^(224|T>>12&15))&255],I=I>>>8^r[(I^(128|T>>6&63))&255],I=I>>>8^r[(I^(128|T&63))&255]);return~I}return e.table=r,e.bstr=k,e.buf=B,e.str=j,e}(),Ir=function(){var t={};t.version="1.2.1";function r(pe,Fe){for(var Ee=pe.split("/"),we=Fe.split("/"),Te=0,Oe=0,Je=Math.min(Ee.length,we.length);Te<Je;++Te){if(Oe=Ee[Te].length-we[Te].length)return Oe;if(Ee[Te]!=we[Te])return Ee[Te]<we[Te]?-1:1}return Ee.length-we.length}function n(pe){if(pe.charAt(pe.length-1)=="/")return pe.slice(0,-1).indexOf("/")===-1?pe:n(pe.slice(0,-1));var Fe=pe.lastIndexOf("/");return Fe===-1?pe:pe.slice(0,Fe+1)}function a(pe){if(pe.charAt(pe.length-1)=="/")return a(pe.slice(0,-1));var Fe=pe.lastIndexOf("/");return Fe===-1?pe:pe.slice(Fe+1)}function s(pe,Fe){typeof Fe=="string"&&(Fe=new Date(Fe));var Ee=Fe.getHours();Ee=Ee<<6|Fe.getMinutes(),Ee=Ee<<5|Fe.getSeconds()>>>1,pe.write_shift(2,Ee);var we=Fe.getFullYear()-1980;we=we<<4|Fe.getMonth()+1,we=we<<5|Fe.getDate(),pe.write_shift(2,we)}function i(pe){var Fe=pe.read_shift(2)&65535,Ee=pe.read_shift(2)&65535,we=new Date,Te=Ee&31;Ee>>>=5;var Oe=Ee&15;Ee>>>=4,we.setMilliseconds(0),we.setFullYear(Ee+1980),we.setMonth(Oe-1),we.setDate(Te);var Je=Fe&31;Fe>>>=5;var ft=Fe&63;return Fe>>>=6,we.setHours(Fe),we.setMinutes(ft),we.setSeconds(Je<<1),we}function o(pe){Lo(pe,0);for(var Fe={},Ee=0;pe.l<=pe.length-4;){var we=pe.read_shift(2),Te=pe.read_shift(2),Oe=pe.l+Te,Je={};switch(we){case 21589:Ee=pe.read_shift(1),Ee&1&&(Je.mtime=pe.read_shift(4)),Te>5&&(Ee&2&&(Je.atime=pe.read_shift(4)),Ee&4&&(Je.ctime=pe.read_shift(4))),Je.mtime&&(Je.mt=new Date(Je.mtime*1e3));break}pe.l=Oe,Fe[we]=Je}return Fe}var c;function u(){return c||(c={})}function d(pe,Fe){if(pe[0]==80&&pe[1]==75)return gr(pe,Fe);if((pe[0]|32)==109&&(pe[1]|32)==105)return Ct(pe,Fe);if(pe.length<512)throw new Error("CFB file size "+pe.length+" < 512");var Ee=3,we=512,Te=0,Oe=0,Je=0,ft=0,Ke=0,nt=[],ot=pe.slice(0,512);Lo(ot,0);var Dt=f(ot);switch(Ee=Dt[0],Ee){case 3:we=512;break;case 4:we=4096;break;case 0:if(Dt[1]==0)return gr(pe,Fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ee)}we!==512&&(ot=pe.slice(0,we),Lo(ot,28));var Vt=pe.slice(0,we);h(ot,Ee);var tr=ot.read_shift(4,"i");if(Ee===3&&tr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+tr);ot.l+=4,Je=ot.read_shift(4,"i"),ot.l+=4,ot.chk("00100000","Mini Stream Cutoff Size: "),ft=ot.read_shift(4,"i"),Te=ot.read_shift(4,"i"),Ke=ot.read_shift(4,"i"),Oe=ot.read_shift(4,"i");for(var $t=-1,qt=0;qt<109&&($t=ot.read_shift(4,"i"),!($t<0));++qt)nt[qt]=$t;var Fr=p(pe,we);v(Ke,Oe,Fr,we,nt);var An=w(Fr,Je,nt,we);An[Je].name="!Directory",Te>0&&ft!==P&&(An[ft].name="!MiniFAT"),An[nt[0]].name="!FAT",An.fat_addrs=nt,An.ssz=we;var hn={},vn=[],Ns=[],Vo=[];E(Je,An,Fr,vn,Te,hn,Ns,ft),g(Ns,Vo,vn),vn.shift();var ks={FileIndex:Ns,FullPaths:Vo};return Fe&&Fe.raw&&(ks.raw={header:Vt,sectors:Fr}),ks}function f(pe){if(pe[pe.l]==80&&pe[pe.l+1]==75)return[0,0];pe.chk(R,"Header Signature: "),pe.l+=16;var Fe=pe.read_shift(2,"u");return[pe.read_shift(2,"u"),Fe]}function h(pe,Fe){var Ee=9;switch(pe.l+=2,Ee=pe.read_shift(2)){case 9:if(Fe!=3)throw new Error("Sector Shift: Expected 9 saw "+Ee);break;case 12:if(Fe!=4)throw new Error("Sector Shift: Expected 12 saw "+Ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ee)}pe.chk("0600","Mini Sector Shift: "),pe.chk("000000000000","Reserved: ")}function p(pe,Fe){for(var Ee=Math.ceil(pe.length/Fe)-1,we=[],Te=1;Te<Ee;++Te)we[Te-1]=pe.slice(Te*Fe,(Te+1)*Fe);return we[Ee-1]=pe.slice(Ee*Fe),we}function g(pe,Fe,Ee){for(var we=0,Te=0,Oe=0,Je=0,ft=0,Ke=Ee.length,nt=[],ot=[];we<Ke;++we)nt[we]=ot[we]=we,Fe[we]=Ee[we];for(;ft<ot.length;++ft)we=ot[ft],Te=pe[we].L,Oe=pe[we].R,Je=pe[we].C,nt[we]===we&&(Te!==-1&&nt[Te]!==Te&&(nt[we]=nt[Te]),Oe!==-1&&nt[Oe]!==Oe&&(nt[we]=nt[Oe])),Je!==-1&&(nt[Je]=we),Te!==-1&&we!=nt[we]&&(nt[Te]=nt[we],ot.lastIndexOf(Te)<ft&&ot.push(Te)),Oe!==-1&&we!=nt[we]&&(nt[Oe]=nt[we],ot.lastIndexOf(Oe)<ft&&ot.push(Oe));for(we=1;we<Ke;++we)nt[we]===we&&(Oe!==-1&&nt[Oe]!==Oe?nt[we]=nt[Oe]:Te!==-1&&nt[Te]!==Te&&(nt[we]=nt[Te]));for(we=1;we<Ke;++we)if(pe[we].type!==0){if(ft=we,ft!=nt[ft])do ft=nt[ft],Fe[we]=Fe[ft]+"/"+Fe[we];while(ft!==0&&nt[ft]!==-1&&ft!=nt[ft]);nt[we]=-1}for(Fe[0]+="/",we=1;we<Ke;++we)pe[we].type!==2&&(Fe[we]+="/")}function x(pe,Fe,Ee){for(var we=pe.start,Te=pe.size,Oe=[],Je=we;Ee&&Te>0&&Je>=0;)Oe.push(Fe.slice(Je*T,Je*T+T)),Te-=T,Je=Fg(Ee,Je*4);return Oe.length===0?Et(0):ho(Oe).slice(0,pe.size)}function v(pe,Fe,Ee,we,Te){var Oe=P;if(pe===P){if(Fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(pe!==-1){var Je=Ee[pe],ft=(we>>>2)-1;if(!Je)return;for(var Ke=0;Ke<ft&&(Oe=Fg(Je,Ke*4))!==P;++Ke)Te.push(Oe);v(Fg(Je,we-4),Fe-1,Ee,we,Te)}}function y(pe,Fe,Ee,we,Te){var Oe=[],Je=[];Te||(Te=[]);var ft=we-1,Ke=0,nt=0;for(Ke=Fe;Ke>=0;){Te[Ke]=!0,Oe[Oe.length]=Ke,Je.push(pe[Ke]);var ot=Ee[Math.floor(Ke*4/we)];if(nt=Ke*4&ft,we<4+nt)throw new Error("FAT boundary crossed: "+Ke+" 4 "+we);if(!pe[ot])break;Ke=Fg(pe[ot],nt)}return{nodes:Oe,data:xJ([Je])}}function w(pe,Fe,Ee,we){var Te=pe.length,Oe=[],Je=[],ft=[],Ke=[],nt=we-1,ot=0,Dt=0,Vt=0,tr=0;for(ot=0;ot<Te;++ot)if(ft=[],Vt=ot+Fe,Vt>=Te&&(Vt-=Te),!Je[Vt]){Ke=[];var $t=[];for(Dt=Vt;Dt>=0;){$t[Dt]=!0,Je[Dt]=!0,ft[ft.length]=Dt,Ke.push(pe[Dt]);var qt=Ee[Math.floor(Dt*4/we)];if(tr=Dt*4&nt,we<4+tr)throw new Error("FAT boundary crossed: "+Dt+" 4 "+we);if(!pe[qt]||(Dt=Fg(pe[qt],tr),$t[Dt]))break}Oe[Vt]={nodes:ft,data:xJ([Ke])}}return Oe}function E(pe,Fe,Ee,we,Te,Oe,Je,ft){for(var Ke=0,nt=we.length?2:0,ot=Fe[pe].data,Dt=0,Vt=0,tr;Dt<ot.length;Dt+=128){var $t=ot.slice(Dt,Dt+128);Lo($t,64),Vt=$t.read_shift(2),tr=Z7($t,0,Vt-nt),we.push(tr);var qt={name:tr,type:$t.read_shift(1),color:$t.read_shift(1),L:$t.read_shift(4,"i"),R:$t.read_shift(4,"i"),C:$t.read_shift(4,"i"),clsid:$t.read_shift(16),state:$t.read_shift(4,"i"),start:0,size:0},Fr=$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2);Fr!==0&&(qt.ct=k($t,$t.l-8));var An=$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2);An!==0&&(qt.mt=k($t,$t.l-8)),qt.start=$t.read_shift(4,"i"),qt.size=$t.read_shift(4,"i"),qt.size<0&&qt.start<0&&(qt.size=qt.type=0,qt.start=P,qt.name=""),qt.type===5?(Ke=qt.start,Te>0&&Ke!==P&&(Fe[Ke].name="!StreamData")):qt.size>=4096?(qt.storage="fat",Fe[qt.start]===void 0&&(Fe[qt.start]=y(Ee,qt.start,Fe.fat_addrs,Fe.ssz)),Fe[qt.start].name=qt.name,qt.content=Fe[qt.start].data.slice(0,qt.size)):(qt.storage="minifat",qt.size<0?qt.size=0:Ke!==P&&qt.start!==P&&Fe[Ke]&&(qt.content=x(qt,Fe[Ke].data,(Fe[ft]||{}).data))),qt.content&&Lo(qt.content,0),Oe[tr]=qt,Je.push(qt)}}function k(pe,Fe){return new Date((ru(pe,Fe+4)/1e7*Math.pow(2,32)+ru(pe,Fe)/1e7-11644473600)*1e3)}function B(pe,Fe){return u(),d(c.readFileSync(pe),Fe)}function j(pe,Fe){var Ee=Fe&&Fe.type;switch(Ee||Cn&&Buffer.isBuffer(pe)&&(Ee="buffer"),Ee||"base64"){case"file":return B(pe,Fe);case"base64":return d(ou(xu(pe)),Fe);case"binary":return d(ou(pe),Fe)}return d(pe,Fe)}function C(pe,Fe){var Ee=Fe||{},we=Ee.root||"Root Entry";if(pe.FullPaths||(pe.FullPaths=[]),pe.FileIndex||(pe.FileIndex=[]),pe.FullPaths.length!==pe.FileIndex.length)throw new Error("inconsistent CFB structure");pe.FullPaths.length===0&&(pe.FullPaths[0]=we+"/",pe.FileIndex[0]={name:we,type:5}),Ee.CLSID&&(pe.FileIndex[0].clsid=Ee.CLSID),N(pe)}function N(pe){var Fe="Sh33tJ5";if(!Ir.find(pe,"/"+Fe)){var Ee=Et(4);Ee[0]=55,Ee[1]=Ee[3]=50,Ee[2]=54,pe.FileIndex.push({name:Fe,type:2,content:Ee,size:4,L:69,R:69,C:69}),pe.FullPaths.push(pe.FullPaths[0]+Fe),I(pe)}}function I(pe,Fe){C(pe);for(var Ee=!1,we=!1,Te=pe.FullPaths.length-1;Te>=0;--Te){var Oe=pe.FileIndex[Te];switch(Oe.type){case 0:we?Ee=!0:(pe.FileIndex.pop(),pe.FullPaths.pop());break;case 1:case 2:case 5:we=!0,isNaN(Oe.R*Oe.L*Oe.C)&&(Ee=!0),Oe.R>-1&&Oe.L>-1&&Oe.R==Oe.L&&(Ee=!0);break;default:Ee=!0;break}}if(!(!Ee&&!Fe)){var Je=new Date(1987,1,19),ft=0,Ke=Object.create?Object.create(null):{},nt=[];for(Te=0;Te<pe.FullPaths.length;++Te)Ke[pe.FullPaths[Te]]=!0,pe.FileIndex[Te].type!==0&&nt.push([pe.FullPaths[Te],pe.FileIndex[Te]]);for(Te=0;Te<nt.length;++Te){var ot=n(nt[Te][0]);we=Ke[ot],we||(nt.push([ot,{name:a(ot).replace("/",""),type:1,clsid:Q,ct:Je,mt:Je,content:null}]),Ke[ot]=!0)}for(nt.sort(function(tr,$t){return r(tr[0],$t[0])}),pe.FullPaths=[],pe.FileIndex=[],Te=0;Te<nt.length;++Te)pe.FullPaths[Te]=nt[Te][0],pe.FileIndex[Te]=nt[Te][1];for(Te=0;Te<nt.length;++Te){var Dt=pe.FileIndex[Te],Vt=pe.FullPaths[Te];if(Dt.name=a(Vt).replace("/",""),Dt.L=Dt.R=Dt.C=-(Dt.color=1),Dt.size=Dt.content?Dt.content.length:0,Dt.start=0,Dt.clsid=Dt.clsid||Q,Te===0)Dt.C=nt.length>1?1:-1,Dt.size=0,Dt.type=5;else if(Vt.slice(-1)=="/"){for(ft=Te+1;ft<nt.length&&n(pe.FullPaths[ft])!=Vt;++ft);for(Dt.C=ft>=nt.length?-1:ft,ft=Te+1;ft<nt.length&&n(pe.FullPaths[ft])!=n(Vt);++ft);Dt.R=ft>=nt.length?-1:ft,Dt.type=1}else n(pe.FullPaths[Te+1]||"")==n(Vt)&&(Dt.R=Te+1),Dt.type=2}}}function L(pe,Fe){var Ee=Fe||{};if(Ee.fileType=="mad")return yt(pe,Ee);switch(I(pe),Ee.fileType){case"zip":return zn(pe,Ee)}var we=function(tr){for(var $t=0,qt=0,Fr=0;Fr<tr.FileIndex.length;++Fr){var An=tr.FileIndex[Fr];if(An.content){var hn=An.content.length;hn>0&&(hn<4096?$t+=hn+63>>6:qt+=hn+511>>9)}}for(var vn=tr.FullPaths.length+3>>2,Ns=$t+7>>3,Vo=$t+127>>7,ks=Ns+qt+vn+Vo,mi=ks+127>>7,qs=mi<=109?0:Math.ceil((mi-109)/127);ks+mi+qs+127>>7>mi;)qs=++mi<=109?0:Math.ceil((mi-109)/127);var Oi=[1,qs,mi,Vo,vn,qt,$t,0];return tr.FileIndex[0].size=$t<<6,Oi[7]=(tr.FileIndex[0].start=Oi[0]+Oi[1]+Oi[2]+Oi[3]+Oi[4]+Oi[5])+(Oi[6]+7>>3),Oi}(pe),Te=Et(we[7]<<9),Oe=0,Je=0;{for(Oe=0;Oe<8;++Oe)Te.write_shift(1,q[Oe]);for(Oe=0;Oe<8;++Oe)Te.write_shift(2,0);for(Te.write_shift(2,62),Te.write_shift(2,3),Te.write_shift(2,65534),Te.write_shift(2,9),Te.write_shift(2,6),Oe=0;Oe<3;++Oe)Te.write_shift(2,0);for(Te.write_shift(4,0),Te.write_shift(4,we[2]),Te.write_shift(4,we[0]+we[1]+we[2]+we[3]-1),Te.write_shift(4,0),Te.write_shift(4,4096),Te.write_shift(4,we[3]?we[0]+we[1]+we[2]-1:P),Te.write_shift(4,we[3]),Te.write_shift(-4,we[1]?we[0]-1:P),Te.write_shift(4,we[1]),Oe=0;Oe<109;++Oe)Te.write_shift(-4,Oe<we[2]?we[1]+Oe:-1)}if(we[1])for(Je=0;Je<we[1];++Je){for(;Oe<236+Je*127;++Oe)Te.write_shift(-4,Oe<we[2]?we[1]+Oe:-1);Te.write_shift(-4,Je===we[1]-1?P:Je+1)}var ft=function(tr){for(Je+=tr;Oe<Je-1;++Oe)Te.write_shift(-4,Oe+1);tr&&(++Oe,Te.write_shift(-4,P))};for(Je=Oe=0,Je+=we[1];Oe<Je;++Oe)Te.write_shift(-4,G.DIFSECT);for(Je+=we[2];Oe<Je;++Oe)Te.write_shift(-4,G.FATSECT);ft(we[3]),ft(we[4]);for(var Ke=0,nt=0,ot=pe.FileIndex[0];Ke<pe.FileIndex.length;++Ke)ot=pe.FileIndex[Ke],ot.content&&(nt=ot.content.length,!(nt<4096)&&(ot.start=Je,ft(nt+511>>9)));for(ft(we[6]+7>>3);Te.l&511;)Te.write_shift(-4,G.ENDOFCHAIN);for(Je=Oe=0,Ke=0;Ke<pe.FileIndex.length;++Ke)ot=pe.FileIndex[Ke],ot.content&&(nt=ot.content.length,!(!nt||nt>=4096)&&(ot.start=Je,ft(nt+63>>6)));for(;Te.l&511;)Te.write_shift(-4,G.ENDOFCHAIN);for(Oe=0;Oe<we[4]<<2;++Oe){var Dt=pe.FullPaths[Oe];if(!Dt||Dt.length===0){for(Ke=0;Ke<17;++Ke)Te.write_shift(4,0);for(Ke=0;Ke<3;++Ke)Te.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)Te.write_shift(4,0);continue}ot=pe.FileIndex[Oe],Oe===0&&(ot.start=ot.size?ot.start-1:P);var Vt=Oe===0&&Ee.root||ot.name;if(nt=2*(Vt.length+1),Te.write_shift(64,Vt,"utf16le"),Te.write_shift(2,nt),Te.write_shift(1,ot.type),Te.write_shift(1,ot.color),Te.write_shift(-4,ot.L),Te.write_shift(-4,ot.R),Te.write_shift(-4,ot.C),ot.clsid)Te.write_shift(16,ot.clsid,"hex");else for(Ke=0;Ke<4;++Ke)Te.write_shift(4,0);Te.write_shift(4,ot.state||0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,ot.start),Te.write_shift(4,ot.size),Te.write_shift(4,0)}for(Oe=1;Oe<pe.FileIndex.length;++Oe)if(ot=pe.FileIndex[Oe],ot.size>=4096)if(Te.l=ot.start+1<<9,Cn&&Buffer.isBuffer(ot.content))ot.content.copy(Te,Te.l,0,ot.size),Te.l+=ot.size+511&-512;else{for(Ke=0;Ke<ot.size;++Ke)Te.write_shift(1,ot.content[Ke]);for(;Ke&511;++Ke)Te.write_shift(1,0)}for(Oe=1;Oe<pe.FileIndex.length;++Oe)if(ot=pe.FileIndex[Oe],ot.size>0&&ot.size<4096)if(Cn&&Buffer.isBuffer(ot.content))ot.content.copy(Te,Te.l,0,ot.size),Te.l+=ot.size+63&-64;else{for(Ke=0;Ke<ot.size;++Ke)Te.write_shift(1,ot.content[Ke]);for(;Ke&63;++Ke)Te.write_shift(1,0)}if(Cn)Te.l=Te.length;else for(;Te.l<Te.length;)Te.write_shift(1,0);return Te}function O(pe,Fe){var Ee=pe.FullPaths.map(function(Ke){return Ke.toUpperCase()}),we=Ee.map(function(Ke){var nt=Ke.split("/");return nt[nt.length-(Ke.slice(-1)=="/"?2:1)]}),Te=!1;Fe.charCodeAt(0)===47?(Te=!0,Fe=Ee[0].slice(0,-1)+Fe):Te=Fe.indexOf("/")!==-1;var Oe=Fe.toUpperCase(),Je=Te===!0?Ee.indexOf(Oe):we.indexOf(Oe);if(Je!==-1)return pe.FileIndex[Je];var ft=!Oe.match(g2);for(Oe=Oe.replace(Wl,""),ft&&(Oe=Oe.replace(g2,"!")),Je=0;Je<Ee.length;++Je)if((ft?Ee[Je].replace(g2,"!"):Ee[Je]).replace(Wl,"")==Oe||(ft?we[Je].replace(g2,"!"):we[Je]).replace(Wl,"")==Oe)return pe.FileIndex[Je];return null}var T=64,P=-2,R="d0cf11e0a1b11ae1",q=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:R,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(pe,Fe,Ee){u();var we=L(pe,Ee);c.writeFileSync(Fe,we)}function z(pe){for(var Fe=new Array(pe.length),Ee=0;Ee<pe.length;++Ee)Fe[Ee]=String.fromCharCode(pe[Ee]);return Fe.join("")}function Y(pe,Fe){var Ee=L(pe,Fe);switch(Fe&&Fe.type||"buffer"){case"file":return u(),c.writeFileSync(Fe.filename,Ee),Ee;case"binary":return typeof Ee=="string"?Ee:z(Ee);case"base64":return $C(typeof Ee=="string"?Ee:z(Ee));case"buffer":if(Cn)return Buffer.isBuffer(Ee)?Ee:B0(Ee);case"array":return typeof Ee=="string"?ou(Ee):Ee}return Ee}var ee;function M(pe){try{var Fe=pe.InflateRaw,Ee=new Fe;if(Ee._processChunk(new Uint8Array([3,0]),Ee._finishFlushFlag),Ee.bytesRead)ee=pe;else throw new Error("zlib does not expose bytesRead")}catch(we){console.error("cannot use native zlib: "+(we.message||we))}}function H(pe,Fe){if(!ee)return Pr(pe,Fe);var Ee=ee.InflateRaw,we=new Ee,Te=we._processChunk(pe.slice(pe.l),we._finishFlushFlag);return pe.l+=we.bytesRead,Te}function W(pe){return ee?ee.deflateRawSync(pe):Pt(pe)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function se(pe){var Fe=(pe<<1|pe<<11)&139536|(pe<<5|pe<<15)&558144;return(Fe>>16|Fe>>8|Fe)&255}for(var ce=typeof Uint8Array<"u",de=ce?new Uint8Array(256):[],ke=0;ke<256;++ke)de[ke]=se(ke);function re(pe,Fe){var Ee=de[pe&255];return Fe<=8?Ee>>>8-Fe:(Ee=Ee<<8|de[pe>>8&255],Fe<=16?Ee>>>16-Fe:(Ee=Ee<<8|de[pe>>16&255],Ee>>>24-Fe))}function _e(pe,Fe){var Ee=Fe&7,we=Fe>>>3;return(pe[we]|(Ee<=6?0:pe[we+1]<<8))>>>Ee&3}function Ne(pe,Fe){var Ee=Fe&7,we=Fe>>>3;return(pe[we]|(Ee<=5?0:pe[we+1]<<8))>>>Ee&7}function Se(pe,Fe){var Ee=Fe&7,we=Fe>>>3;return(pe[we]|(Ee<=4?0:pe[we+1]<<8))>>>Ee&15}function he(pe,Fe){var Ee=Fe&7,we=Fe>>>3;return(pe[we]|(Ee<=3?0:pe[we+1]<<8))>>>Ee&31}function Be(pe,Fe){var Ee=Fe&7,we=Fe>>>3;return(pe[we]|(Ee<=1?0:pe[we+1]<<8))>>>Ee&127}function Le(pe,Fe,Ee){var we=Fe&7,Te=Fe>>>3,Oe=(1<<Ee)-1,Je=pe[Te]>>>we;return Ee<8-we||(Je|=pe[Te+1]<<8-we,Ee<16-we)||(Je|=pe[Te+2]<<16-we,Ee<24-we)||(Je|=pe[Te+3]<<24-we),Je&Oe}function Ge(pe,Fe,Ee){var we=Fe&7,Te=Fe>>>3;return we<=5?pe[Te]|=(Ee&7)<<we:(pe[Te]|=Ee<<we&255,pe[Te+1]=(Ee&7)>>8-we),Fe+3}function xe(pe,Fe,Ee){var we=Fe&7,Te=Fe>>>3;return Ee=(Ee&1)<<we,pe[Te]|=Ee,Fe+1}function Ie(pe,Fe,Ee){var we=Fe&7,Te=Fe>>>3;return Ee<<=we,pe[Te]|=Ee&255,Ee>>>=8,pe[Te+1]=Ee,Fe+8}function De(pe,Fe,Ee){var we=Fe&7,Te=Fe>>>3;return Ee<<=we,pe[Te]|=Ee&255,Ee>>>=8,pe[Te+1]=Ee&255,pe[Te+2]=Ee>>>8,Fe+16}function Ve(pe,Fe){var Ee=pe.length,we=2*Ee>Fe?2*Ee:Fe+5,Te=0;if(Ee>=Fe)return pe;if(Cn){var Oe=ZY(we);if(pe.copy)pe.copy(Oe);else for(;Te<pe.length;++Te)Oe[Te]=pe[Te];return Oe}else if(ce){var Je=new Uint8Array(we);if(Je.set)Je.set(pe);else for(;Te<Ee;++Te)Je[Te]=pe[Te];return Je}return pe.length=we,pe}function We(pe){for(var Fe=new Array(pe),Ee=0;Ee<pe;++Ee)Fe[Ee]=0;return Fe}function at(pe,Fe,Ee){var we=1,Te=0,Oe=0,Je=0,ft=0,Ke=pe.length,nt=ce?new Uint16Array(32):We(32);for(Oe=0;Oe<32;++Oe)nt[Oe]=0;for(Oe=Ke;Oe<Ee;++Oe)pe[Oe]=0;Ke=pe.length;var ot=ce?new Uint16Array(Ke):We(Ke);for(Oe=0;Oe<Ke;++Oe)nt[Te=pe[Oe]]++,we<Te&&(we=Te),ot[Oe]=0;for(nt[0]=0,Oe=1;Oe<=we;++Oe)nt[Oe+16]=ft=ft+nt[Oe-1]<<1;for(Oe=0;Oe<Ke;++Oe)ft=pe[Oe],ft!=0&&(ot[Oe]=nt[ft+16]++);var Dt=0;for(Oe=0;Oe<Ke;++Oe)if(Dt=pe[Oe],Dt!=0)for(ft=re(ot[Oe],we)>>we-Dt,Je=(1<<we+4-Dt)-1;Je>=0;--Je)Fe[ft|Je<<Dt]=Dt&15|Oe<<4;return we}var ht=ce?new Uint16Array(512):We(512),Tt=ce?new Uint16Array(32):We(32);if(!ce){for(var Rt=0;Rt<512;++Rt)ht[Rt]=0;for(Rt=0;Rt<32;++Rt)Tt[Rt]=0}(function(){for(var pe=[],Fe=0;Fe<32;Fe++)pe.push(5);at(pe,Tt,32);var Ee=[];for(Fe=0;Fe<=143;Fe++)Ee.push(8);for(;Fe<=255;Fe++)Ee.push(9);for(;Fe<=279;Fe++)Ee.push(7);for(;Fe<=287;Fe++)Ee.push(8);at(Ee,ht,288)})();var Ft=function(){for(var Fe=ce?new Uint8Array(32768):[],Ee=0,we=0;Ee<oe.length-1;++Ee)for(;we<oe[Ee+1];++we)Fe[we]=Ee;for(;we<32768;++we)Fe[we]=29;var Te=ce?new Uint8Array(259):[];for(Ee=0,we=0;Ee<ae.length-1;++Ee)for(;we<ae[Ee+1];++we)Te[we]=Ee;function Oe(ft,Ke){for(var nt=0;nt<ft.length;){var ot=Math.min(65535,ft.length-nt),Dt=nt+ot==ft.length;for(Ke.write_shift(1,+Dt),Ke.write_shift(2,ot),Ke.write_shift(2,~ot&65535);ot-- >0;)Ke[Ke.l++]=ft[nt++]}return Ke.l}function Je(ft,Ke){for(var nt=0,ot=0,Dt=ce?new Uint16Array(32768):[];ot<ft.length;){var Vt=Math.min(65535,ft.length-ot);if(Vt<10){for(nt=Ge(Ke,nt,+(ot+Vt==ft.length)),nt&7&&(nt+=8-(nt&7)),Ke.l=nt/8|0,Ke.write_shift(2,Vt),Ke.write_shift(2,~Vt&65535);Vt-- >0;)Ke[Ke.l++]=ft[ot++];nt=Ke.l*8;continue}nt=Ge(Ke,nt,+(ot+Vt==ft.length)+2);for(var tr=0;Vt-- >0;){var $t=ft[ot];tr=(tr<<5^$t)&32767;var qt=-1,Fr=0;if((qt=Dt[tr])&&(qt|=ot&-32768,qt>ot&&(qt-=32768),qt<ot))for(;ft[qt+Fr]==ft[ot+Fr]&&Fr<250;)++Fr;if(Fr>2){$t=Te[Fr],$t<=22?nt=Ie(Ke,nt,de[$t+1]>>1)-1:(Ie(Ke,nt,3),nt+=5,Ie(Ke,nt,de[$t-23]>>5),nt+=3);var An=$t<8?0:$t-4>>2;An>0&&(De(Ke,nt,Fr-ae[$t]),nt+=An),$t=Fe[ot-qt],nt=Ie(Ke,nt,de[$t]>>3),nt-=3;var hn=$t<4?0:$t-2>>1;hn>0&&(De(Ke,nt,ot-qt-oe[$t]),nt+=hn);for(var vn=0;vn<Fr;++vn)Dt[tr]=ot&32767,tr=(tr<<5^ft[ot])&32767,++ot;Vt-=Fr-1}else $t<=143?$t=$t+48:nt=xe(Ke,nt,1),nt=Ie(Ke,nt,de[$t]),Dt[tr]=ot&32767,++ot}nt=Ie(Ke,nt,0)-1}return Ke.l=(nt+7)/8|0,Ke.l}return function(Ke,nt){return Ke.length<8?Oe(Ke,nt):Je(Ke,nt)}}();function Pt(pe){var Fe=Et(50+Math.floor(pe.length*1.1)),Ee=Ft(pe,Fe);return Fe.slice(0,Ee)}var ut=ce?new Uint16Array(32768):We(32768),Cr=ce?new Uint16Array(32768):We(32768),Kt=ce?new Uint16Array(128):We(128),ln=1,kr=1;function Mr(pe,Fe){var Ee=he(pe,Fe)+257;Fe+=5;var we=he(pe,Fe)+1;Fe+=5;var Te=Se(pe,Fe)+4;Fe+=4;for(var Oe=0,Je=ce?new Uint8Array(19):We(19),ft=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,nt=ce?new Uint8Array(8):We(8),ot=ce?new Uint8Array(8):We(8),Dt=Je.length,Vt=0;Vt<Te;++Vt)Je[Z[Vt]]=Oe=Ne(pe,Fe),Ke<Oe&&(Ke=Oe),nt[Oe]++,Fe+=3;var tr=0;for(nt[0]=0,Vt=1;Vt<=Ke;++Vt)ot[Vt]=tr=tr+nt[Vt-1]<<1;for(Vt=0;Vt<Dt;++Vt)(tr=Je[Vt])!=0&&(ft[Vt]=ot[tr]++);var $t=0;for(Vt=0;Vt<Dt;++Vt)if($t=Je[Vt],$t!=0){tr=de[ft[Vt]]>>8-$t;for(var qt=(1<<7-$t)-1;qt>=0;--qt)Kt[tr|qt<<$t]=$t&7|Vt<<3}var Fr=[];for(Ke=1;Fr.length<Ee+we;)switch(tr=Kt[Be(pe,Fe)],Fe+=tr&7,tr>>>=3){case 16:for(Oe=3+_e(pe,Fe),Fe+=2,tr=Fr[Fr.length-1];Oe-- >0;)Fr.push(tr);break;case 17:for(Oe=3+Ne(pe,Fe),Fe+=3;Oe-- >0;)Fr.push(0);break;case 18:for(Oe=11+Be(pe,Fe),Fe+=7;Oe-- >0;)Fr.push(0);break;default:Fr.push(tr),Ke<tr&&(Ke=tr);break}var An=Fr.slice(0,Ee),hn=Fr.slice(Ee);for(Vt=Ee;Vt<286;++Vt)An[Vt]=0;for(Vt=we;Vt<30;++Vt)hn[Vt]=0;return ln=at(An,ut,286),kr=at(hn,Cr,30),Fe}function En(pe,Fe){if(pe[0]==3&&!(pe[1]&3))return[Cm(Fe),2];for(var Ee=0,we=0,Te=ZY(Fe||1<<18),Oe=0,Je=Te.length>>>0,ft=0,Ke=0;(we&1)==0;){if(we=Ne(pe,Ee),Ee+=3,we>>>1)we>>1==1?(ft=9,Ke=5):(Ee=Mr(pe,Ee),ft=ln,Ke=kr);else{Ee&7&&(Ee+=8-(Ee&7));var nt=pe[Ee>>>3]|pe[(Ee>>>3)+1]<<8;if(Ee+=32,nt>0)for(!Fe&&Je<Oe+nt&&(Te=Ve(Te,Oe+nt),Je=Te.length);nt-- >0;)Te[Oe++]=pe[Ee>>>3],Ee+=8;continue}for(;;){!Fe&&Je<Oe+32767&&(Te=Ve(Te,Oe+32767),Je=Te.length);var ot=Le(pe,Ee,ft),Dt=we>>>1==1?ht[ot]:ut[ot];if(Ee+=Dt&15,Dt>>>=4,(Dt>>>8&255)===0)Te[Oe++]=Dt;else{if(Dt==256)break;Dt-=257;var Vt=Dt<8?0:Dt-4>>2;Vt>5&&(Vt=0);var tr=Oe+ae[Dt];Vt>0&&(tr+=Le(pe,Ee,Vt),Ee+=Vt),ot=Le(pe,Ee,Ke),Dt=we>>>1==1?Tt[ot]:Cr[ot],Ee+=Dt&15,Dt>>>=4;var $t=Dt<4?0:Dt-2>>1,qt=oe[Dt];for($t>0&&(qt+=Le(pe,Ee,$t),Ee+=$t),!Fe&&Je<tr&&(Te=Ve(Te,tr+100),Je=Te.length);Oe<tr;)Te[Oe]=Te[Oe-qt],++Oe}}}return Fe?[Te,Ee+7>>>3]:[Te.slice(0,Oe),Ee+7>>>3]}function Pr(pe,Fe){var Ee=pe.slice(pe.l||0),we=En(Ee,Fe);return pe.l+=we[1],we[0]}function or(pe,Fe){if(pe)typeof console<"u"&&console.error(Fe);else throw new Error(Fe)}function gr(pe,Fe){var Ee=pe;Lo(Ee,0);var we=[],Te=[],Oe={FileIndex:we,FullPaths:Te};C(Oe,{root:Fe.root});for(var Je=Ee.length-4;(Ee[Je]!=80||Ee[Je+1]!=75||Ee[Je+2]!=5||Ee[Je+3]!=6)&&Je>=0;)--Je;Ee.l=Je+4,Ee.l+=4;var ft=Ee.read_shift(2);Ee.l+=6;var Ke=Ee.read_shift(4);for(Ee.l=Ke,Je=0;Je<ft;++Je){Ee.l+=20;var nt=Ee.read_shift(4),ot=Ee.read_shift(4),Dt=Ee.read_shift(2),Vt=Ee.read_shift(2),tr=Ee.read_shift(2);Ee.l+=8;var $t=Ee.read_shift(4),qt=o(Ee.slice(Ee.l+Dt,Ee.l+Dt+Vt));Ee.l+=Dt+Vt+tr;var Fr=Ee.l;Ee.l=$t+4,en(Ee,nt,ot,Oe,qt),Ee.l=Fr}return Oe}function en(pe,Fe,Ee,we,Te){pe.l+=2;var Oe=pe.read_shift(2),Je=pe.read_shift(2),ft=i(pe);if(Oe&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=pe.read_shift(4),nt=pe.read_shift(4),ot=pe.read_shift(4),Dt=pe.read_shift(2),Vt=pe.read_shift(2),tr="",$t=0;$t<Dt;++$t)tr+=String.fromCharCode(pe[pe.l++]);if(Vt){var qt=o(pe.slice(pe.l,pe.l+Vt));(qt[21589]||{}).mt&&(ft=qt[21589].mt),((Te||{})[21589]||{}).mt&&(ft=Te[21589].mt)}pe.l+=Vt;var Fr=pe.slice(pe.l,pe.l+nt);switch(Je){case 8:Fr=H(pe,ot);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Je)}var An=!1;Oe&8&&(Ke=pe.read_shift(4),Ke==134695760&&(Ke=pe.read_shift(4),An=!0),nt=pe.read_shift(4),ot=pe.read_shift(4)),nt!=Fe&&or(An,"Bad compressed size: "+Fe+" != "+nt),ot!=Ee&&or(An,"Bad uncompressed size: "+Ee+" != "+ot),Er(we,tr,Fr,{unsafe:!0,mt:ft})}function zn(pe,Fe){var Ee=Fe||{},we=[],Te=[],Oe=Et(1),Je=Ee.compression?8:0,ft=0,Ke=0,nt=0,ot=0,Dt=0,Vt=pe.FullPaths[0],tr=Vt,$t=pe.FileIndex[0],qt=[],Fr=0;for(Ke=1;Ke<pe.FullPaths.length;++Ke)if(tr=pe.FullPaths[Ke].slice(Vt.length),$t=pe.FileIndex[Ke],!(!$t.size||!$t.content||tr=="Sh33tJ5")){var An=ot,hn=Et(tr.length);for(nt=0;nt<tr.length;++nt)hn.write_shift(1,tr.charCodeAt(nt)&127);hn=hn.slice(0,hn.l),qt[Dt]=DXe.buf($t.content,0);var vn=$t.content;Je==8&&(vn=W(vn)),Oe=Et(30),Oe.write_shift(4,67324752),Oe.write_shift(2,20),Oe.write_shift(2,ft),Oe.write_shift(2,Je),$t.mt?s(Oe,$t.mt):Oe.write_shift(4,0),Oe.write_shift(-4,qt[Dt]),Oe.write_shift(4,vn.length),Oe.write_shift(4,$t.content.length),Oe.write_shift(2,hn.length),Oe.write_shift(2,0),ot+=Oe.length,we.push(Oe),ot+=hn.length,we.push(hn),ot+=vn.length,we.push(vn),Oe=Et(46),Oe.write_shift(4,33639248),Oe.write_shift(2,0),Oe.write_shift(2,20),Oe.write_shift(2,ft),Oe.write_shift(2,Je),Oe.write_shift(4,0),Oe.write_shift(-4,qt[Dt]),Oe.write_shift(4,vn.length),Oe.write_shift(4,$t.content.length),Oe.write_shift(2,hn.length),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(4,0),Oe.write_shift(4,An),Fr+=Oe.l,Te.push(Oe),Fr+=hn.length,Te.push(hn),++Dt}return Oe=Et(22),Oe.write_shift(4,101010256),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(2,Dt),Oe.write_shift(2,Dt),Oe.write_shift(4,Fr),Oe.write_shift(4,ot),Oe.write_shift(2,0),ho([ho(we),ho(Te),Oe])}var rn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function yr(pe,Fe){if(pe.ctype)return pe.ctype;var Ee=pe.name||"",we=Ee.match(/\.([^\.]+)$/);return we&&rn[we[1]]||Fe&&(we=(Ee=Fe).match(/[\.\\]([^\.\\])+$/),we&&rn[we[1]])?rn[we[1]]:"application/octet-stream"}function tt(pe){for(var Fe=$C(pe),Ee=[],we=0;we<Fe.length;we+=76)Ee.push(Fe.slice(we,we+76));return Ee.join(`\r
`)+`\r
`}function xt(pe){var Fe=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(nt){var ot=nt.charCodeAt(0).toString(16).toUpperCase();return"="+(ot.length==1?"0"+ot:ot)});Fe=Fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Fe.charAt(0)==`
`&&(Fe="=0D"+Fe.slice(1)),Fe=Fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ee=[],we=Fe.split(`\r
`),Te=0;Te<we.length;++Te){var Oe=we[Te];if(Oe.length==0){Ee.push("");continue}for(var Je=0;Je<Oe.length;){var ft=76,Ke=Oe.slice(Je,Je+ft);Ke.charAt(ft-1)=="="?ft--:Ke.charAt(ft-2)=="="?ft-=2:Ke.charAt(ft-3)=="="&&(ft-=3),Ke=Oe.slice(Je,Je+ft),Je+=ft,Je<Oe.length&&(Ke+="="),Ee.push(Ke)}}return Ee.join(`\r
`)}function et(pe){for(var Fe=[],Ee=0;Ee<pe.length;++Ee){for(var we=pe[Ee];Ee<=pe.length&&we.charAt(we.length-1)=="=";)we=we.slice(0,we.length-1)+pe[++Ee];Fe.push(we)}for(var Te=0;Te<Fe.length;++Te)Fe[Te]=Fe[Te].replace(/[=][0-9A-Fa-f]{2}/g,function(Oe){return String.fromCharCode(parseInt(Oe.slice(1),16))});return ou(Fe.join(`\r
`))}function vt(pe,Fe,Ee){for(var we="",Te="",Oe="",Je,ft=0;ft<10;++ft){var Ke=Fe[ft];if(!Ke||Ke.match(/^\s*$/))break;var nt=Ke.match(/^(.*?):\s*([^\s].*)$/);if(nt)switch(nt[1].toLowerCase()){case"content-location":we=nt[2].trim();break;case"content-type":Oe=nt[2].trim();break;case"content-transfer-encoding":Te=nt[2].trim();break}}switch(++ft,Te.toLowerCase()){case"base64":Je=ou(xu(Fe.slice(ft).join("")));break;case"quoted-printable":Je=et(Fe.slice(ft));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Te)}var ot=Er(pe,we.slice(Ee.length),Je,{unsafe:!0});Oe&&(ot.ctype=Oe)}function Ct(pe,Fe){if(z(pe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ee=Fe&&Fe.root||"",we=(Cn&&Buffer.isBuffer(pe)?pe.toString("binary"):z(pe)).split(`\r
`),Te=0,Oe="";for(Te=0;Te<we.length;++Te)if(Oe=we[Te],!!/^Content-Location:/i.test(Oe)&&(Oe=Oe.slice(Oe.indexOf("file")),Ee||(Ee=Oe.slice(0,Oe.lastIndexOf("/")+1)),Oe.slice(0,Ee.length)!=Ee))for(;Ee.length>0&&(Ee=Ee.slice(0,Ee.length-1),Ee=Ee.slice(0,Ee.lastIndexOf("/")+1),Oe.slice(0,Ee.length)!=Ee););var Je=(we[1]||"").match(/boundary="(.*?)"/);if(!Je)throw new Error("MAD cannot find boundary");var ft="--"+(Je[1]||""),Ke=[],nt=[],ot={FileIndex:Ke,FullPaths:nt};C(ot);var Dt,Vt=0;for(Te=0;Te<we.length;++Te){var tr=we[Te];tr!==ft&&tr!==ft+"--"||(Vt++&&vt(ot,we.slice(Dt,Te),Ee),Dt=Te)}return ot}function yt(pe,Fe){var Ee=Fe||{},we=Ee.boundary||"SheetJS";we="------="+we;for(var Te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+we.slice(2)+'"',"","",""],Oe=pe.FullPaths[0],Je=Oe,ft=pe.FileIndex[0],Ke=1;Ke<pe.FullPaths.length;++Ke)if(Je=pe.FullPaths[Ke].slice(Oe.length),ft=pe.FileIndex[Ke],!(!ft.size||!ft.content||Je=="Sh33tJ5")){Je=Je.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Fr){return"_x"+Fr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Fr){return"_u"+Fr.charCodeAt(0).toString(16)+"_"});for(var nt=ft.content,ot=Cn&&Buffer.isBuffer(nt)?nt.toString("binary"):z(nt),Dt=0,Vt=Math.min(1024,ot.length),tr=0,$t=0;$t<=Vt;++$t)(tr=ot.charCodeAt($t))>=32&&tr<128&&++Dt;var qt=Dt>=Vt*4/5;Te.push(we),Te.push("Content-Location: "+(Ee.root||"file:///C:/SheetJS/")+Je),Te.push("Content-Transfer-Encoding: "+(qt?"quoted-printable":"base64")),Te.push("Content-Type: "+yr(ft,Je)),Te.push(""),Te.push(qt?xt(ot):tt(ot))}return Te.push(we+`--\r
`),Te.join(`\r
`)}function sr(pe){var Fe={};return C(Fe,pe),Fe}function Er(pe,Fe,Ee,we){var Te=we&&we.unsafe;Te||C(pe);var Oe=!Te&&Ir.find(pe,Fe);if(!Oe){var Je=pe.FullPaths[0];Fe.slice(0,Je.length)==Je?Je=Fe:(Je.slice(-1)!="/"&&(Je+="/"),Je=(Je+Fe).replace("//","/")),Oe={name:a(Fe),type:2},pe.FileIndex.push(Oe),pe.FullPaths.push(Je),Te||Ir.utils.cfb_gc(pe)}return Oe.content=Ee,Oe.size=Ee?Ee.length:0,we&&(we.CLSID&&(Oe.clsid=we.CLSID),we.mt&&(Oe.mt=we.mt),we.ct&&(Oe.ct=we.ct)),Oe}function nn(pe,Fe){C(pe);var Ee=Ir.find(pe,Fe);if(Ee){for(var we=0;we<pe.FileIndex.length;++we)if(pe.FileIndex[we]==Ee)return pe.FileIndex.splice(we,1),pe.FullPaths.splice(we,1),!0}return!1}function cn(pe,Fe,Ee){C(pe);var we=Ir.find(pe,Fe);if(we){for(var Te=0;Te<pe.FileIndex.length;++Te)if(pe.FileIndex[Te]==we)return pe.FileIndex[Te].name=a(Ee),pe.FullPaths[Te]=Ee,!0}return!1}function tn(pe){I(pe,!0)}return t.find=O,t.read=j,t.parse=d,t.write=Y,t.writeFile=K,t.utils={cfb_new:sr,cfb_add:Er,cfb_del:nn,cfb_mov:cn,cfb_gc:tn,ReadShift:K2,CheckField:Pfe,prep_blob:Lo,bconcat:ho,use_zlib:M,_deflateRaw:Pt,_inflateRaw:Pr,consts:G},t}();function PXe(e){return typeof e=="string"?oj(e):Array.isArray(e)?lXe(e):e}function rS(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=oj(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?BA(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([PXe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Qm(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function RXe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Gs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function oJ(e,t){for(var r=[],n=Gs(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function cj(e){for(var t=[],r=Gs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function uj(e){for(var t=[],r=Gs(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function LXe(e){for(var t=[],r=Gs(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var wk=new Date(1899,11,30,0,0,0);function zi(e,t){var r=e.getTime(),n=wk.getTime()+(e.getTimezoneOffset()-wk.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var pfe=new Date,MXe=wk.getTime()+(pfe.getTimezoneOffset()-wk.getTimezoneOffset())*6e4,lJ=pfe.getTimezoneOffset();function dj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+MXe),t.getTimezoneOffset()!==lJ&&t.setTime(t.getTime()+(t.getTimezoneOffset()-lJ)*6e4),t}function UXe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var cJ=new Date("2017-02-19T19:06:09.000Z"),mfe=isNaN(cJ.getFullYear())?new Date("2/19/17"):cJ,QXe=mfe.getFullYear()==2017;function es(e,t){var r=new Date(e);if(QXe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(mfe.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function kx(e,t){if(Cn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return BA(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return BA(nfe(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return BA(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return BA(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ts(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ts(e[r]));return t}function Qs(e,t){for(var r="";r.length<t;)r+=e;return r}function pf(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var HXe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Db(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&HXe.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var $Xe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function gfe(e){return e?e.content&&e.type?kx(e.content,!0):e.data?m2(e.data):e.asNodeBuffer&&Cn?m2(e.asNodeBuffer().toString("binary")):e.asBinary?m2(e.asBinary()):e._data&&e._data.getContent?m2(kx(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function xfe(e){if(!e)return null;if(e.data)return YY(e.data);if(e.asNodeBuffer&&Cn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?YY(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function VXe(e){return e&&e.name.slice(-4)===".bin"?xfe(e):gfe(e)}function ed(e,t){for(var r=e.FullPaths||Gs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function K7(e,t){var r=ed(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Si(e,t,r){if(!r)return VXe(K7(e,t));if(!t)return null;try{return Si(e,t)}catch{return null}}function lu(e,t,r){if(!r)return gfe(K7(e,t));if(!t)return null;try{return lu(e,t)}catch{return null}}function zXe(e,t,r){return xfe(K7(e,t))}function uJ(e){for(var t=e.FullPaths||Gs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function gn(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Cn?n=B0(r):n=cXe(r),Ir.utils.cfb_add(e,t,n)}Ir.utils.cfb_add(e,t,r)}else e.file(t,r)}function q7(){return Ir.utils.cfb_new()}function vfe(e,t){switch(t.type){case"base64":return Ir.read(e,{type:"base64"});case"binary":return Ir.read(e,{type:"binary"});case"buffer":case"array":return Ir.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function x2(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var pi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,GXe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,dJ=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,KXe=/<[^>]*>/g,jl=pi.match(dJ)?dJ:KXe,qXe=/<\w*:/,WXe=/<(\/?)\w+:/;function Zr(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(GXe),o=0,c="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[p]&&d.slice(o-3,o)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function GA(e){return e.replace(WXe,"<$1")}var bfe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},W7=cj(bfe),Kn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,c){return bfe[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),X7=/[&<>'"]/g,XXe=/[\u0000-\u0008\u000b-\u001f]/g;function Na(e){var t=e+"";return t.replace(X7,function(r){return W7[r]}).replace(XXe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function fJ(e){return Na(e).replace(/ /g,"_x0020_")}var yfe=/[\u0000-\u001f]/g;function Y7(e){var t=e+"";return t.replace(X7,function(r){return W7[r]}).replace(/\n/g,"<br/>").replace(yfe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function YXe(e){var t=e+"";return t.replace(X7,function(r){return W7[r]}).replace(yfe,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var AJ=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function JXe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ja(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function YF(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function hJ(e){var t=Cm(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function pJ(e){return B0(e,"binary").toString("utf8")}var s5="foo bar bazâð£",Da=Cn&&(pJ(s5)==YF(s5)&&pJ||hJ(s5)==YF(s5)&&hJ)||YF,BA=Cn?function(e){return B0(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},zC=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),wfe=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),ZXe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),eYe=/<\/?(?:vt:)?variant>/g,tYe=/<(?:vt:)([^>]*)>([\s\S]*)</;function mJ(e,t){var r=Zr(e),n=e.match(ZXe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(eYe,"").match(tYe);i&&a.push({v:Da(i[2]),t:i[1]})}),a}var Cfe=/(^\s|\s$|\n)/;function Mo(e,t){return"<"+e+(t.match(Cfe)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function GC(e){return Gs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Wt(e,t,r){return"<"+e+(r!=null?GC(r):"")+(t!=null?(t.match(Cfe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function vR(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function rYe(e,t){switch(typeof e){case"string":var r=Wt("vt:lpwstr",Na(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Wt((e|0)==e?"vt:i4":"vt:r8",Na(String(e)));case"boolean":return Wt("vt:bool",e?"true":"false")}if(e instanceof Date)return Wt("vt:filetime",vR(e));throw new Error("Unable to serialize "+e)}function J7(e){if(Cn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Da(Qm(V7(e)));throw new Error("Bad input format: expected Buffer or string")}var KC=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Hi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Wx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],tu={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function nYe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function aYe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var gJ=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},xJ=Cn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:B0(t)})):gJ(e)}:gJ,vJ=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(zh(e,a)));return n.join("").replace(Wl,"")},Z7=Cn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Wl,""):vJ(e,t,r)}:vJ,bJ=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Efe=Cn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):bJ(e,t,r)}:bJ,yJ=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(g1(e,a)));return n.join("")},nS=Cn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):yJ(t,r,n)}:yJ,Sfe=function(e,t){var r=ru(e,t);return r>0?nS(e,t+4,t+4+r-1):""},_fe=Sfe,Nfe=function(e,t){var r=ru(e,t);return r>0?nS(e,t+4,t+4+r-1):""},kfe=Nfe,Tfe=function(e,t){var r=2*ru(e,t);return r>0?nS(e,t+4,t+4+r-1):""},Bfe=Tfe,jfe=function(t,r){var n=ru(t,r);return n>0?Z7(t,r+4,r+4+n):""},Ife=jfe,Ffe=function(e,t){var r=ru(e,t);return r>0?nS(e,t+4,t+4+r):""},Ofe=Ffe,Dfe=function(e,t){return nYe(e,t)},Ck=Dfe,e9=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Cn&&(_fe=function(t,r){if(!Buffer.isBuffer(t))return Sfe(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},kfe=function(t,r){if(!Buffer.isBuffer(t))return Nfe(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Bfe=function(t,r){if(!Buffer.isBuffer(t))return Tfe(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Ife=function(t,r){if(!Buffer.isBuffer(t))return jfe(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Ofe=function(t,r){if(!Buffer.isBuffer(t))return Ffe(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Ck=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Dfe(t,r)},e9=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var g1=function(e,t){return e[t]},zh=function(e,t){return e[t+1]*256+e[t]},sYe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ru=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Fg=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},iYe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function K2(e,t){var r="",n,a,s=[],i,o,c,u;switch(t){case"dbcs":if(u=this.l,Cn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(zh(this,u)),u+=2;e*=2;break;case"utf8":r=nS(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Z7(this,this.l,this.l+e);break;case"wstr":return K2.call(this,e,"dbcs");case"lpstr-ansi":r=_fe(this,this.l),e=4+ru(this,this.l);break;case"lpstr-cp":r=kfe(this,this.l),e=4+ru(this,this.l);break;case"lpwstr":r=Bfe(this,this.l),e=4+2*ru(this,this.l);break;case"lpp4":e=4+ru(this,this.l),r=Ife(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ru(this,this.l),r=Ofe(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=g1(this,this.l+e++))!==0;)s.push(a5(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=zh(this,this.l+e))!==0;)s.push(a5(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=g1(this,u),this.l=u+1,o=K2.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(a5(zh(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=g1(this,u),this.l=u+1,o=K2.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(a5(g1(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=g1(this,this.l),this.l++,n;case 2:return n=(t==="i"?sYe:zh)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Fg:iYe)(this,this.l),this.l+=4,n):(a=ru(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Ck(this,this.l):a=Ck([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Efe(this,this.l,e);break}}return this.l+=e,r}var oYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},lYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},cYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function uYe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)cYe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,oYe(this,t,this.l);break;case 8:if(n=8,r==="f"){aYe(this,t,this.l);break}case 16:break;case-4:n=4,lYe(this,t,this.l);break}return this.l+=n,this}function Pfe(e,t){var r=Efe(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Lo(e,t){e.l=t,e.read_shift=K2,e.chk=Pfe,e.write_shift=uYe}function Nl(e,t){e.l+=t}function Et(e){var t=Cm(e);return Lo(t,0),t}function j0(e,t,r){if(e){var n,a,s;Lo(e,e.l||0);for(var i=e.length,o=0,c=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=ZC[o]||ZC[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,o))return}}}function Sc(){var e=[],t=Cn?256:2048,r=function(u){var d=Et(u);return Lo(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),ho(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function Ut(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=ZC[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&e9(r)&&e.push(r)}}function q2(e,t,r){var n=ts(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function wJ(e,t,r){var n=ts(e);return n.s=q2(n.s,t.s,r),n.e=q2(n.e,t.s,r),n}function W2(e,t){if(e.cRel&&e.c<0)for(e=ts(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ts(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Wr(e);return!e.cRel&&e.cRel!=null&&(r=AYe(r)),!e.rRel&&e.rRel!=null&&(r=dYe(r)),r}function JF(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ys(e.s.c)+":"+(e.e.cRel?"":"$")+ys(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ui(e.s.r)+":"+(e.e.rRel?"":"$")+ui(e.e.r):W2(e.s,t.biff)+":"+W2(e.e,t.biff)}function t9(e){return parseInt(fYe(e),10)-1}function ui(e){return""+(e+1)}function dYe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function fYe(e){return e.replace(/\$(\d+)$/,"$1")}function r9(e){for(var t=hYe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ys(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function AYe(e){return e.replace(/^([A-Z])/,"$$$1")}function hYe(e){return e.replace(/^\$([A-Z])/,"$1")}function pYe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ws(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Wr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function kc(e){var t=e.indexOf(":");return t==-1?{s:ws(e),e:ws(e)}:{s:ws(e.slice(0,t)),e:ws(e.slice(t+1))}}function fn(e,t){return typeof t>"u"||typeof t=="number"?fn(e.s,e.e):(typeof e!="string"&&(e=Wr(e)),typeof t!="string"&&(t=Wr(t)),e==t?e:e+":"+t)}function Wn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function CJ(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=vd(e.z,r?zi(t):t)}catch{}try{return e.w=vd((e.XF||{}).numFmtId||(r?14:0),r?zi(t):t)}catch{return""+t}}function v0(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?I0[e.v]||e.v:t==null?CJ(e,e.v):CJ(e,t))}function Hm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Rfe(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ws(n.origin):n.origin;i=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Wn(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=i+f,x=o+h;if(u.s.r>g&&(u.s.r=g),u.s.c>x&&(u.s.c=x),u.e.r<g&&(u.e.r=g),u.e.c<x&&(u.e.c=x),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||zr[14],n.cellDates?(p.t="d",p.w=vd(p.z,zi(p.v))):(p.t="n",p.v=zi(p.v),p.w=vd(p.z,p.v))):p.t="s";if(a)s[g]||(s[g]=[]),s[g][x]&&s[g][x].z&&(p.z=s[g][x].z),s[g][x]=p;else{var v=Wr({c:x,r:g});s[v]&&s[v].z&&(p.z=s[v].z),s[v]=p}}}return u.s.c<1e7&&(s["!ref"]=fn(u)),s}function Ty(e,t){return Rfe(null,e,t)}function mYe(e){return e.read_shift(4,"i")}function mf(e,t){return t||(t=Et(4)),t.write_shift(4,e),t}function El(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function xo(e,t){var r=!1;return t==null&&(r=!0,t=Et(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function gYe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function xYe(e,t){return t||(t=Et(4)),t.write_shift(2,0),t.write_shift(2,0),t}function n9(e,t){var r=e.l,n=e.read_shift(1),a=El(e),s=[],i={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)s.push(gYe(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function vYe(e,t){var r=!1;return t==null&&(r=!0,t=Et(15+4*e.t.length)),t.write_shift(1,0),xo(e.t,t),r?t.slice(0,t.l):t}var bYe=n9;function yYe(e,t){var r=!1;return t==null&&(r=!0,t=Et(23+4*e.t.length)),t.write_shift(1,1),xo(e.t,t),t.write_shift(4,1),xYe({},t),r?t.slice(0,t.l):t}function Ed(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Xx(e,t){return t==null&&(t=Et(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Yx(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Jx(e,t){return t==null&&(t=Et(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var wYe=El,Lfe=xo;function a9(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Ek(e,t){var r=!1;return t==null&&(r=!0,t=Et(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var CYe=El,bR=a9,s9=Ek;function i9(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Ck([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Fg(t,0)>>2;return r?a/100:a}function Mfe(e,t){t==null&&(t=Et(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Ufe(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function EYe(e,t){return t||(t=Et(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Zx=Ufe,By=EYe;function yl(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Tx(e,t){return(t||Et(8)).write_shift(8,e,"f")}function SYe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=nx[a];u&&(t.rgb=WC(u));break;case 2:t.rgb=WC([i,o,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Sk(e,t){if(t||(t=Et(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function _Ye(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function NYe(e,t){t||(t=Et(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Qfe(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function kYe(e){return Qfe(e,1)}function TYe(e){return Qfe(e,2)}var o9=2,hc=3,i5=11,EJ=12,_k=19,o5=64,BYe=65,jYe=71,IYe=4108,FYe=4126,co=80,Hfe=81,OYe=[co,Hfe],yR={1:{n:"CodePage",t:o9},2:{n:"Category",t:co},3:{n:"PresentationFormat",t:co},4:{n:"ByteCount",t:hc},5:{n:"LineCount",t:hc},6:{n:"ParagraphCount",t:hc},7:{n:"SlideCount",t:hc},8:{n:"NoteCount",t:hc},9:{n:"HiddenCount",t:hc},10:{n:"MultimediaClipCount",t:hc},11:{n:"ScaleCrop",t:i5},12:{n:"HeadingPairs",t:IYe},13:{n:"TitlesOfParts",t:FYe},14:{n:"Manager",t:co},15:{n:"Company",t:co},16:{n:"LinksUpToDate",t:i5},17:{n:"CharacterCount",t:hc},19:{n:"SharedDoc",t:i5},22:{n:"HyperlinksChanged",t:i5},23:{n:"AppVersion",t:hc,p:"version"},24:{n:"DigSig",t:BYe},26:{n:"ContentType",t:co},27:{n:"ContentStatus",t:co},28:{n:"Language",t:co},29:{n:"Version",t:co},255:{},2147483648:{n:"Locale",t:_k},2147483651:{n:"Behavior",t:_k},1919054434:{}},wR={1:{n:"CodePage",t:o9},2:{n:"Title",t:co},3:{n:"Subject",t:co},4:{n:"Author",t:co},5:{n:"Keywords",t:co},6:{n:"Comments",t:co},7:{n:"Template",t:co},8:{n:"LastAuthor",t:co},9:{n:"RevNumber",t:co},10:{n:"EditTime",t:o5},11:{n:"LastPrinted",t:o5},12:{n:"CreatedDate",t:o5},13:{n:"ModifiedDate",t:o5},14:{n:"PageCount",t:hc},15:{n:"WordCount",t:hc},16:{n:"CharCount",t:hc},17:{n:"Thumbnail",t:jYe},18:{n:"Application",t:co},19:{n:"DocSecurity",t:hc},255:{},2147483648:{n:"Locale",t:_k},2147483651:{n:"Behavior",t:_k},1919054434:{}},SJ={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},DYe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function PYe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var RYe=PYe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nx=ts(RYe),I0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},$fe={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},CR={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},l5={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function l9(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function LYe(e){var t=l9();if(!e||!e.match)return t;var r={};if((e.match(jl)||[]).forEach(function(n){var a=Zr(n);switch(a[0].replace(qXe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[CR[a.ContentType]]!==void 0&&t[CR[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Hi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function Vfe(e,t){var r=LXe(CR),n=[],a;n[n.length]=pi,n[n.length]=Wt("Types",null,{xmlns:Hi.CT,"xmlns:xsd":Hi.xsd,"xmlns:xsi":Hi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Wt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Wt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:l5[c][t.bookType]||l5[c].xlsx}))},i=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Wt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:l5[c][t.bookType]||l5[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Wt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Tn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function qC(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function X2(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(jl)||[]).forEach(function(a){var s=Zr(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:x2(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}function J1(e){var t=[pi,Wt("Relationships",null,{xmlns:Hi.RELS})];return Gs(e["!id"]).forEach(function(r){t[t.length]=Wt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ea(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Tn.HLINK,Tn.XPATH,Tn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var MYe="application/vnd.oasis.opendocument.spreadsheet";function UYe(e,t){for(var r=J7(e),n,a;n=KC.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Zr(n[0],!1),a.path=="/"&&a.type!==MYe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function QYe(e){var t=[pi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function _J(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function HYe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function $Ye(e){var t=[pi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(_J(e[r][0],e[r][1])),t.push(HYe("",e[r][0]));return t.push(_J("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function zfe(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+xk.version+"</meta:generator></office:meta></office:document-meta>"}var md=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],VYe=function(){for(var e=new Array(md.length),t=0;t<md.length;++t){var r=md[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Gfe(e){var t={};e=Da(e);for(var r=0;r<md.length;++r){var n=md[r],a=e.match(VYe[r]);a!=null&&a.length>0&&(t[n[1]]=Kn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=es(t[n[1]]))}return t}function ZF(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Na(t),n[n.length]=r?Wt(e,t,r):Mo(e,t))}function Kfe(e,t){var r=t||{},n=[pi,Wt("cp:coreProperties",null,{"xmlns:cp":Hi.CORE_PROPS,"xmlns:dc":Hi.dc,"xmlns:dcterms":Hi.dcterms,"xmlns:dcmitype":Hi.dcmitype,"xmlns:xsi":Hi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&ZF("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:vR(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&ZF("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:vR(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=md.length;++s){var i=md[s],o=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&ZF(i[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ax=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],qfe=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Wfe(e,t,r,n){var a=[];if(typeof e=="string")a=mJ(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?mJ(t,n).map(function(d){return d.v}):t,o=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=i.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(o,o+c);break}o+=c}}function zYe(e,t,r){var n={};return t||(t={}),e=Da(e),ax.forEach(function(a){var s=(e.match(zC(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Kn(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Wfe(n.HeadingPairs,n.TitlesOfParts,t,r),t}function Xfe(e){var t=[],r=Wt;return e||(e={}),e.Application="SheetJS",t[t.length]=pi,t[t.length]=Wt("Properties",null,{xmlns:Hi.EXT_PROPS,"xmlns:vt":Hi.vt}),ax.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Na(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Na(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var GYe=/<[^>]+>[^<]*/g;function KYe(e,t){var r={},n="",a=e.match(GYe);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=Zr(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Kn(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Kn(d);break;case"bool":r[n]=Ja(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=es(d);break;case"cy":case"error":r[n]=Kn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}function Yfe(e){var t=[pi,Wt("Properties",null,{xmlns:Hi.CUST_PROPS,"xmlns:vt":Hi.vt})];if(!e)return t.join("");var r=1;return Gs(e).forEach(function(a){++r,t[t.length]=Wt("property",rYe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Na(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ER={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},eO;function qYe(e,t,r){eO||(eO=cj(ER)),t=eO[t]||t,e[t]=r}function WYe(e,t){var r=[];return Gs(ER).map(function(n){for(var a=0;a<md.length;++a)if(md[a][1]==n)return md[a];for(a=0;a<ax.length;++a)if(ax[a][1]==n)return ax[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Mo(ER[n[1]]||n[1],a))}}),Wt("DocumentProperties",r.join(""),{xmlns:tu.o})}function XYe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Gs(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var i=0;i<md.length;++i)if(s==md[i][1])return;for(i=0;i<ax.length;++i)if(s==ax[i][1])return;for(i=0;i<r.length;++i)if(s==r[i])return;var o=e[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(Wt(fJ(s),o,{"dt:dt":c}))}}),t&&Gs(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var i=t[s],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),a.push(Wt(fJ(s),i,{"dt:dt":o}))}}),"<"+n+' xmlns="'+tu.o+'">'+a.join("")+"</"+n+">"}function c9(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function YYe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=Et(8);return i.write_shift(4,n),i.write_shift(4,a),i}function Jfe(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Zfe(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function eAe(e,t,r){return t===31?Zfe(e):Jfe(e,t,r)}function SR(e,t,r){return eAe(e,t,r===!1?0:4)}function JYe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return eAe(e,t,0)}function ZYe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Wl,""),e.l-a&2&&(e.l+=2)}return r}function eJe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Wl,"");return r}function tJe(e){var t=e.l,r=Nk(e,Hfe);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Nk(e,hc);return[r,n]}function rJe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(tJe(e));return r}function NJ(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Wl,"").replace(g2,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function tAe(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function nJe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Nk(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==EJ&&n!==t&&OYe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===EJ?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Jfe(e,n,4).replace(Wl,"");case 31:return Zfe(e);case 64:return c9(e);case 65:return tAe(e);case 71:return nJe(e);case 80:return SR(e,n,!s.raw).replace(Wl,"");case 81:return JYe(e,n).replace(Wl,"");case 4108:return rJe(e);case 4126:case 4127:return n==4127?ZYe(e):eJe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function kJ(e,t){var r=Et(4),n=Et(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Et(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=YYe(t);break;case 31:case 80:for(n=Et(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ho([r,n])}function TJ(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,c=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(w,E){return w[1]-E[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var p=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(p=!1,e.l=s[i][1]),p)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var g=t[s[i][0]];if(h[g.n]=Nk(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:of(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[i][0]===1){if(o=h.CodePage=Nk(e,o9),of(o),c!==-1){var x=e.l;e.l=s[c][1],u=NJ(e,o),e.l=x}}else if(s[i][0]===0){if(o===0){c=i,e.l=s[i+1][1];continue}u=NJ(e,o)}else{var v=u[s[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=tAe(e);break;case 30:e.l+=4,y=SR(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=SR(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=ri(e,4);break;case 64:e.l+=4,y=es(c9(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}var rAe=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function aJe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function BJ(e,t,r){var n=Et(8),a=[],s=[],i=8,o=0,c=Et(8),u=Et(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),i+=8+c.length,!t){u=Et(8),u.write_shift(4,0),a.unshift(u);var d=[Et(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=Et(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=ho(d),s.unshift(c),i+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(rAe.indexOf(e[o][0])>-1||qfe.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var x=h.split(".");h=(+x[0]<<16)+(+x[1]||0)}c=kJ(g.t,h)}else{var v=aJe(h);v==-1&&(v=31,h=String(h)),c=kJ(v,h)}s.push(c),u=Et(8),u.write_shift(4,t?p:2+o),a.push(u),i+=8+c.length}var y=8*(s.length+1);for(o=0;o<s.length;++o)a[o].write_shift(4,y),y+=s[o].length;return n.write_shift(4,i),n.write_shift(4,s.length),ho([n].concat(a).concat(s))}function jJ(e,t,r){var n=e.content;if(!n)return{};Lo(n,0);var a,s,i,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Ir.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var f=TJ(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=TJ(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[s,i],h}function IJ(e,t,r,n,a,s){var i=Et(a?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Ir.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var c=BJ(e,r,n);if(o.push(c),a){var u=BJ(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),o.push(u)}return ho(o)}function yp(e,t){return e.read_shift(t),null}function sJe(e,t){t||(t=Et(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function iJe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ri(e,t){return e.read_shift(t)===1}function Ul(e,t){return t||(t=Et(2)),t.write_shift(2,+!!e),t}function _i(e){return e.read_shift(2,"u")}function rd(e,t){return t||(t=Et(2)),t.write_shift(2,e),t}function nAe(e,t){return iJe(e,t,_i)}function oJe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function aAe(e,t,r){return r||(r=Et(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function aS(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function lJe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,c={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=o),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function cJe(e){var t=e.t||"",r=Et(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Et(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return ho(a)}function Bx(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function sS(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Bx(e,n,r)}function ev(e,t,r){if(r.biff>5)return sS(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function sAe(e,t,r){return r||(r=Et(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function uJe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function dJe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Wl,"");return n&&(e.l+=24),a}function fJe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(Wl,"");return r+i}function AJe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return dJe(e);case"0303000000000000c000000000000046":return fJe(e);default:throw new Error("Unsupported Moniker "+r)}}function c5(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Wl,""):"";return r}function FJ(e,t){t||(t=Et(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function hJe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,c,u="",d,f;a&16&&(s=c5(e,r-e.l)),a&128&&(i=c5(e,r-e.l)),(a&257)===257&&(o=c5(e,r-e.l)),(a&257)===1&&(c=AJe(e,r-e.l)),a&8&&(u=c5(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=c9(e)),e.l=r;var h=i||o||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),s&&(p.Tooltip=s),p}function pJe(e){var t=Et(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(s==28)n=n.slice(1),FJ(n,t);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),s&8&&FJ(a>-1?n.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function iAe(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function oAe(e,t){var r=iAe(e);return r[3]=0,r}function KA(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function jx(e,t,r,n){return n||(n=Et(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function mJe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function gJe(e,t,r){return t===0?"":ev(e,t,r)}function xJe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function lAe(e){var t=e.read_shift(2),r=i9(e);return[t,r]}function vJe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=aS(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function fj(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function cAe(e,t){return t||(t=Et(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function uAe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var bJe=uAe;function dAe(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function yJe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function wJe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ol(e){e.l+=2,e.l+=e.read_shift(2)}var CJe={0:ol,4:ol,5:ol,6:ol,7:wJe,8:ol,9:ol,10:ol,11:ol,12:ol,13:yJe,14:ol,15:ol,16:ol,17:ol,18:ol,19:ol,20:ol,21:dAe};function EJe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(CJe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function u5(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function u9(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Et(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function SJe(e,t){return t===0||e.read_shift(2),1200}function _Je(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=ev(e,0,r);return e.read_shift(t+n-e.l),a}function NJe(e,t){var r=!t||t.biff==8,n=Et(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function kJe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function TJe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=aS(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function BJe(e,t){var r=!t||t.biff>=8?2:1,n=Et(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function jJe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(lJe(e));return s.Count=n,s.Unique=a,s}function IJe(e,t){var r=Et(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=cJe(e[a]);var s=ho([r].concat(n));return s.parts=[r.length].concat(n.map(function(i){return i.length})),s}function FJe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function OJe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function DJe(e){var t=mJe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function PJe(e){return e.read_shift(2),e.read_shift(4)}function OJ(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function RJe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:c,TabRatio:u}}function LJe(){var e=Et(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function MJe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function UJe(e){var t=Et(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function QJe(){}function HJe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=aS(e,0,r),n}function $Je(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=Et(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function VJe(e){var t=KA(e);return t.isst=e.read_shift(4),t}function zJe(e,t,r,n){var a=Et(10);return jx(e,t,n,a),a.write_shift(4,r),a}function GJe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=KA(e);r.biff==2&&e.l++;var s=sS(e,n-e.l,r);return a.val=s,a}function KJe(e,t,r,n,a){var s=!a||a.biff==8,i=Et(8+ +s+(1+s)*r.length);return jx(e,t,n,i),i.write_shift(2,r.length),s&&i.write_shift(1,1),i.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),i}function qJe(e,t,r){var n=e.read_shift(2),a=ev(e,0,r);return[n,a]}function WJe(e,t,r,n){var a=r&&r.biff==5;n||(n=Et(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var XJe=ev;function DJ(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c}}}function YJe(e,t){var r=t.biff==8||!t.biff?4:2,n=Et(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function JJe(e){var t=e.read_shift(2),r=e.read_shift(2),n=lAe(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function ZJe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(lAe(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function eZe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function tZe(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=DYe[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function rZe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=tZe(e,t,n.fStyle,r),n}function PJ(e,t,r,n){var a=r&&r.biff==5;n||(n=Et(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function nZe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function aZe(e){var t=Et(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function RJ(e,t,r){var n=KA(e);(r.biff==2||t==9)&&++e.l;var a=oJe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function sZe(e,t,r,n,a,s){var i=Et(8);return jx(e,t,n,i),aAe(r,s,i),i}function iZe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=KA(e),a=yl(e);return n.val=a,n}function oZe(e,t,r,n){var a=Et(14);return jx(e,t,n,a),Tx(r,a),a}var LJ=gJe;function lZe(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=Bx(e,s),o=[];n>e.l;)o.push(sS(e));return[s,a,i,o]}function MJ(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=vJe(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var cZe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function UJ(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Bx(e,i,r);a&32&&(u=cZe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:_nt(e,d,r,o);return{chKey:s,Name:u,itab:c,rgce:f}}function fAe(e,t,r){if(r.biff<8)return uZe(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(xJe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function uZe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=aS(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function dZe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=Bx(e,n,r),i=Bx(e,a,r);return[s,i]}function fZe(e,t,r){var n=uAe(e);e.l++;var a=e.read_shift(1);return t-=8,[Nnt(e,t,r),a,n]}function QJ(e,t,r){var n=bJe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Ent(e,t,r)]}function AZe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function hZe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=ev(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function pZe(e,t,r){return hZe(e,t,r)}function mZe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(fj(e));return r}function gZe(e){var t=Et(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)cAe(e[r],t);return t}function xZe(e,t,r){if(r&&r.biff<8)return bZe(e,t,r);var n=dAe(e),a=EJe(e,t-22,n[1]);return{cmo:n,ft:a}}var vZe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function bZe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((vZe[n]||Nl)(e,t,r)),{cmo:[a,n,s],ft:i}}function yZe(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=uJe(e,6,r);var o=e.read_shift(2);e.read_shift(2),_i(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Bx(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function wZe(e,t){var r=fj(e);e.l+=16;var n=hJe(e,t-24);return[r,n]}function CZe(e){var t=Et(24),r=ws(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return ho([t,pJe(e[1])])}function EZe(e,t){e.read_shift(2);var r=fj(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Wl,""),[r,n]}function SZe(e){var t=e[1].Tooltip,r=Et(10+2*(t.length+1));r.write_shift(2,2048);var n=ws(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function _Ze(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=SJ[r]||r,r=e.read_shift(2),t[1]=SJ[r]||r,t}function NZe(e){return e||(e=Et(4)),e.write_shift(2,1),e.write_shift(2,1),e}function kZe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oAe(e));return r}function TZe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oAe(e));return r}function BZe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function AAe(e,t,r){if(!r.cellStyles)return Nl(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function jZe(e,t){var r=Et(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function IZe(e,t){var r={};return t<32||(e.l+=16,r.header=yl(e),r.footer=yl(e),e.l+=2),r}function FZe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function OZe(e){for(var t=Et(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var DZe=KA,PZe=nAe,RZe=sS;function LZe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function MZe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=KA(e);++e.l;var a=ev(e,t-7,r);return n.t="str",n.val=a,n}function UZe(e){var t=KA(e);++e.l;var r=yl(e);return t.t="n",t.val=r,t}function QZe(e,t,r){var n=Et(15);return cS(n,e,t),n.write_shift(8,r,"f"),n}function HZe(e){var t=KA(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function $Ze(e,t,r){var n=Et(9);return cS(n,e,t),n.write_shift(2,r),n}function VZe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function zZe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function GZe(e,t,r){var n=e.l+t,a=KA(e),s=e.read_shift(2),i=Bx(e,s,r);return e.l=n,a.t="str",a.val=i,a}var KZe=[2,3,48,49,131,139,140,245],_R=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=cj({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Cm(1);switch(c.type){case"base64":d=ou(xu(o));break;case"binary":d=ou(o);break;case"buffer":case"array":d=o;break}Lo(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,v=521;f==2&&(x=d.read_shift(2)),d.l+=3,f!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),w=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(w=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var E=[],k={},B=Math.min(d.length,f==2?521:v-10-(p?264:0)),j=g?32:11;d.l<B&&d[d.l]!=13;)switch(k={},k.name=HC.utils.decode(w,d.slice(d.l,d.l+j)).replace(/[\u0000\r\n].*$/g,""),d.l+=j,k.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(k.offset=d.read_shift(4)),k.len=d.read_shift(1),f==2&&(k.offset=d.read_shift(2)),k.dec=d.read_shift(1),k.name.length&&E.push(k),f!=2&&(d.l+=g?13:14),k.type){case"B":(!p||k.len!=8)&&c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var C=0,N=0;for(u[0]=[],N=0;N!=E.length;++N)u[0][N]=E[N].name;for(;x-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++C]=[],N=0,N=0;N!=E.length;++N){var I=d.slice(d.l,d.l+E[N].len);d.l+=E[N].len,Lo(I,0);var L=HC.utils.decode(w,I);switch(E[N].type){case"C":L.trim().length&&(u[C][N]=L.replace(/\s+$/,""));break;case"D":L.length===8?u[C][N]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):u[C][N]=L;break;case"F":u[C][N]=parseFloat(L.trim());break;case"+":case"I":u[C][N]=g?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":u[C][N]=!0;break;case"N":case"F":u[C][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[C][N]="##MEMO##"+(g?parseInt(L.trim(),10):I.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(u[C][N]=+L||0);break;case"@":u[C][N]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":u[C][N]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":u[C][N]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[C][N]=-I.read_shift(-8,"f");break;case"B":if(p&&E[N].len==8){u[C][N]=I.read_shift(8,"f");break}case"G":case"P":I.l+=E[N].len;break;case"0":if(E[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[N].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=E,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Ty(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,c){try{return Hm(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,c){var u=c||{};if(+u.codepage>=0&&of(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Sc(),f=Bk(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],x=0,v=0,y=0,w=1;for(x=0;x<h.length;++x){if(((g[x]||{}).DBF||{}).name){h[x]=g[x].DBF.name,++y;continue}if(h[x]!=null){if(++y,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(v=0;v<1024;++v)if(h.indexOf(h[x]+"_"+v)==-1){h[x]+="_"+v;break}}}}var E=Wn(o["!ref"]),k=[],B=[],j=[];for(x=0;x<=E.e.c-E.s.c;++x){var C="",N="",I=0,L=[];for(v=0;v<p.length;++v)p[v][x]!=null&&L.push(p[v][x]);if(L.length==0||h[x]==null){k[x]="?";continue}for(v=0;v<L.length;++v){switch(typeof L[v]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=L[v]instanceof Date?"D":"C";break;default:N="C"}I=Math.max(I,String(L[v]).length),C=C&&C!=N?"C":N}I>250&&(I=250),N=((g[x]||{}).DBF||{}).type,N=="C"&&g[x].DBF.len>I&&(I=g[x].DBF.len),C=="B"&&N=="N"&&(C="N",j[x]=g[x].DBF.dec,I=g[x].DBF.len),B[x]=C=="C"||N=="N"?I:s[C]||0,w+=B[x],k[x]=C}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*y),O.write_shift(2,w),x=0;x<4;++x)O.write_shift(4,0);for(O.write_shift(4,0|(+t[rfe]||3)<<8),x=0,v=0;x<h.length;++x)if(h[x]!=null){var T=d.next(32),P=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,P,"sbcs"),T.write_shift(1,k[x]=="?"?"C":k[x],"sbcs"),T.write_shift(4,v),T.write_shift(1,B[x]||s[k[x]]||0),T.write_shift(1,j[x]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=B[x]||s[k[x]]||0}var R=d.next(264);for(R.write_shift(4,13),x=0;x<65;++x)R.write_shift(4,0);for(x=0;x<p.length;++x){var q=d.next(w);for(q.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(k[v]){case"L":q.write_shift(1,p[x][v]==null?63:p[x][v]?84:70);break;case"B":q.write_shift(8,p[x][v]||0,"f");break;case"N":var Q="0";for(typeof p[x][v]=="number"&&(Q=p[x][v].toFixed(j[v]||0)),y=0;y<B[v]-Q.length;++y)q.write_shift(1,32);q.write_shift(1,Q,"sbcs");break;case"D":p[x][v]?(q.write_shift(4,("0000"+p[x][v].getFullYear()).slice(-4),"sbcs"),q.write_shift(2,("00"+(p[x][v].getMonth()+1)).slice(-2),"sbcs"),q.write_shift(2,("00"+p[x][v].getDate()).slice(-2),"sbcs")):q.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[x][v]!=null?p[x][v]:"").slice(0,B[v]);for(q.write_shift(1,G,"sbcs"),y=0;y<B[v]-G.length;++y)q.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),hAe=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Gs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?JY(g):g},n=function(h,p,g){var x=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return x==59?h:JY(x)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(xu(h),p);case"binary":return s(h,p);case"buffer":return s(Cn&&Buffer.isBuffer(h)?h.toString("binary"):Qm(h),p);case"array":return s(kx(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var g=h.split(/[\n\r]+/),x=-1,v=-1,y=0,w=0,E=[],k=[],B=null,j={},C=[],N=[],I=[],L=0,O;for(+p.codepage>=0&&of(+p.codepage);y!==g.length;++y){L=0;var T=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),P=T.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),R=P[0],q;if(T.length>0)switch(R){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&k.push(T.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,G=!1,K=!1,z=!1,Y=-1,ee=-1;for(w=1;w<P.length;++w)switch(P[w].charAt(0)){case"A":break;case"X":v=parseInt(P[w].slice(1))-1,G=!0;break;case"Y":for(x=parseInt(P[w].slice(1))-1,G||(v=0),O=E.length;O<=x;++O)E[O]=[];break;case"K":q=P[w].slice(1),q.charAt(0)==='"'?q=q.slice(1,q.length-1):q==="TRUE"?q=!0:q==="FALSE"?q=!1:isNaN(pf(q))?isNaN(Db(q).getDate())||(q=es(q)):(q=pf(q),B!==null&&Ny(B)&&(q=dj(q))),Q=!0;break;case"E":z=!0;var M=Z1(P[w].slice(1),{r:x,c:v});E[x][v]=[E[x][v],M];break;case"S":K=!0,E[x][v]=[E[x][v],"S5S"];break;case"G":break;case"R":Y=parseInt(P[w].slice(1))-1;break;case"C":ee=parseInt(P[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(Q&&(E[x][v]&&E[x][v].length==2?E[x][v][0]=q:E[x][v]=q,B=null),K){if(z)throw new Error("SYLK shared formula cannot have own formula");var H=Y>-1&&E[Y][ee];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");E[x][v][1]=IAe(H[1],{r:x-Y,c:v-ee})}break;case"F":var W=0;for(w=1;w<P.length;++w)switch(P[w].charAt(0)){case"X":v=parseInt(P[w].slice(1))-1,++W;break;case"Y":for(x=parseInt(P[w].slice(1))-1,O=E.length;O<=x;++O)E[O]=[];break;case"M":L=parseInt(P[w].slice(1))/20;break;case"F":break;case"G":break;case"P":B=k[parseInt(P[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=P[w].slice(1).split(" "),O=parseInt(I[0],10);O<=parseInt(I[1],10);++O)L=parseInt(I[2],10),N[O-1]=L===0?{hidden:!0}:{wch:L},Em(N[O-1]);break;case"C":v=parseInt(P[w].slice(1))-1,N[v]||(N[v]={});break;case"R":x=parseInt(P[w].slice(1))-1,C[x]||(C[x]={}),L>0?(C[x].hpt=L,C[x].hpx=Rb(L)):L===0&&(C[x].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}W<1&&(B=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return C.length>0&&(j["!rows"]=C),N.length>0&&(j["!cols"]=N),p&&p.sheetRows&&(E=E.slice(0,p.sheetRows)),[E,j]}function i(h,p){var g=a(h,p),x=g[0],v=g[1],y=Ty(x,p);return Gs(v).forEach(function(w){y[w]=v[w]}),y}function o(h,p){return Hm(i(h,p),p)}function c(h,p,g,x){var v="C;Y"+(g+1)+";X"+(x+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+m9(h.f,{r:g,c:x}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,p){p.forEach(function(g,x){var v="F;W"+(x+1)+" "+(x+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=XC(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=YC(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,p){p.forEach(function(g,x){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*JC(g.hpx)+";"),v.length>2&&h.push(v+"R"+(x+1))})}function f(h,p){var g=["ID;PWXL;N;E"],x=[],v=Wn(h["!ref"]),y,w=Array.isArray(h),E=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var k=v.s.r;k<=v.e.r;++k)for(var B=v.s.c;B<=v.e.c;++B){var j=Wr({r:k,c:B});y=w?(h[k]||[])[B]:h[j],!(!y||y.v==null&&(!y.f||y.F))&&x.push(c(y,h,k,B))}return g.join(E)+E+x.join(E)+E+"E"+E}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),pAe=function(){function e(s,i){switch(i.type){case"base64":return t(xu(s),i);case"binary":return t(s,i);case"buffer":return t(Cn&&Buffer.isBuffer(s)?s.toString("binary"):Qm(s),i);case"array":return t(kx(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),p=h[0],g=h[1];++d;for(var x=o[d]||"";(x.match(/["]/g)||[]).length&1&&d<o.length-1;)x+=`
`+o[++d];switch(x=x.trim(),+p){case-1:if(x==="BOT"){f[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][u]=!0:x==="FALSE"?f[c][u]=!1:isNaN(pf(g))?isNaN(Db(g).getDate())?f[c][u]=g:f[c][u]=es(g):f[c][u]=pf(g),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return Ty(e(s,i),i)}function n(s,i){return Hm(r(s,i),i)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Wn(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){i(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var x=Wr({r:p,c:g});if(f=h?(c[p]||[])[g]:c[x],!f){i(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=vd(f.z||zr[14],zi(es(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var y=`\r
`,w=u.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),mAe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,x=-1,v=0,y=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var E=ws(w[1]);if(y.length<=E.r)for(g=y.length;g<=E.r;++g)y[g]||(y[g]=[]);switch(g=E.r,x=E.c,w[2]){case"t":y[g][x]=e(w[3]);break;case"v":y[g][x]=+w[3];break;case"vtf":var k=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[g][x]=!!+w[4];break;default:y[g][x]=+w[4];break}w[2]=="vtf"&&(y[g][x]=[y[g][x],k])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Ty(r(f,h),h)}function a(f,h){return Hm(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,x="",v=kc(f["!ref"]),y=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var E=v.s.c;E<=v.e.c;++E)if(x=Wr({r:w,c:E}),g=y?(f[w]||[])[E]:f[x],!(!g||g.v==null||g.t==="z")){switch(p=["cell",x,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var k=zi(es(g.v));p[2]="vtc",p[3]="nd",p[4]=""+k,p[5]=g.w||vd(g.z||zr[14],k);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,o,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Pb=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(pf(d))?isNaN(Db(d).getDate())?f[h][p]=d:f[h][p]=es(d):f[h][p]=pf(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),x=g.length-1;x>=0&&g[x].length===0;)--x;for(var v=10,y=0,w=0;w<=x;++w)y=g[w].indexOf(" "),y==-1?y=g[w].length:y++,v=Math.max(v,y);for(w=0;w<=x;++w){p[w]=[];var E=0;for(e(g[w].slice(0,v).trim(),p,w,E,h),E=1;E<=(g[w].length-v)/10+1;++E)e(g[w].slice(v+(E-1)*10,v+E*10).trim(),p,w,E,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(x,v){return x[0]-v[0]||n[x[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},p="",g=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var v=0,y=0,w=0,E=0,k=0,B=p.charCodeAt(0),j=!1,C=0,N=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var I=h.dateNF!=null?FXe(h.dateNF):null;function L(){var O=d.slice(E,k),T={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)T.t="z";else if(h.raw)T.t="s",T.v=O;else if(O.trim().length===0)T.t="s",T.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(T.t="s",T.v=O.slice(2,-1).replace(/""/g,'"')):urt(O)?(T.t="n",T.f=O.slice(1)):(T.t="s",T.v=O);else if(O=="TRUE")T.t="b",T.v=!0;else if(O=="FALSE")T.t="b",T.v=!1;else if(!isNaN(w=pf(O)))T.t="n",h.cellText!==!1&&(T.w=O),T.v=w;else if(!isNaN(Db(O).getDate())||I&&O.match(I)){T.z=h.dateNF||zr[14];var P=0;I&&O.match(I)&&(O=OXe(O,h.dateNF,O.match(I)||[]),P=1),h.cellDates?(T.t="d",T.v=es(O,P)):(T.t="n",T.v=zi(es(O,P))),h.cellText!==!1&&(T.w=vd(T.z,T.v instanceof Date?zi(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=O;if(T.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=T):g[Wr({c:y,r:v})]=T),E=k+1,N=d.charCodeAt(E),x.e.c<y&&(x.e.c=y),x.e.r<v&&(x.e.r=v),C==B)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;k<d.length;++k)switch(C=d.charCodeAt(k)){case 34:N===34&&(j=!j);break;case B:case 10:case 13:if(!j&&L())break e;break}return k-E>0&&L(),g["!ref"]=fn(x),g}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Ty(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:E9(d,f);switch(f.type){case"base64":h=xu(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof HC<"u"||(h=Cn&&Buffer.isBuffer(d)?d.toString("binary"):Qm(d));break;case"array":h=kx(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Da(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Da(h):f.type=="binary"&&typeof HC<"u",h.slice(0,19)=="socialcalc:version:"?mAe.to_sheet(f.type=="string"?h:Da(h),f):i(h,f)}function c(d,f){return Hm(o(d,f),f)}function u(d){for(var f=[],h=Wn(d["!ref"]),p,g=Array.isArray(d),x=h.s.r;x<=h.e.r;++x){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=Wr({r:x,c:y});if(p=g?(d[x]||[])[y]:d[w],!p||p.v==null){v.push("          ");continue}for(var E=(p.w||(v0(p),p.w)||"").slice(0,10);E.length<10;)E+=" ";v.push(E+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function qZe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=hAe.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Pb.to_workbook(e,t)}}var sx=function(){function e(M,H,W){if(M){Lo(M,M.l||0);for(var Z=W.Enum||Y;M.l<M.length;){var ae=M.read_shift(2),oe=Z[ae]||Z[65535],se=M.read_shift(2),ce=M.l+se,de=oe.f&&oe.f(M,se,W);if(M.l=ce,H(de,oe,ae))return}}}function t(M,H){switch(H.type){case"base64":return r(ou(xu(M)),H);case"binary":return r(ou(M),H);case"buffer":case"array":return r(M,H)}throw"Unsupported type "+H.type}function r(M,H){if(!M)return M;var W=H||{},Z=W.dense?[]:{},ae="Sheet1",oe="",se=0,ce={},de=[],ke=[],re={s:{r:0,c:0},e:{r:0,c:0}},_e=W.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)W.Enum=Y,e(M,function(Be,Le,Ge){switch(Ge){case 0:W.vers=Be,Be>=4096&&(W.qpro=!0);break;case 6:re=Be;break;case 204:Be&&(oe=Be);break;case 222:oe=Be;break;case 15:case 51:W.qpro||(Be[1].v=Be[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(Be[2]&112)==112&&(Be[2]&15)>1&&(Be[2]&15)<15&&(Be[1].z=W.dateNF||zr[14],W.cellDates&&(Be[1].t="d",Be[1].v=dj(Be[1].v))),W.qpro&&Be[3]>se&&(Z["!ref"]=fn(re),ce[ae]=Z,de.push(ae),Z=W.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},se=Be[3],ae=oe||"Sheet"+(se+1),oe="");var xe=W.dense?(Z[Be[0].r]||[])[Be[0].c]:Z[Wr(Be[0])];if(xe){xe.t=Be[1].t,xe.v=Be[1].v,Be[1].z!=null&&(xe.z=Be[1].z),Be[1].f!=null&&(xe.f=Be[1].f);break}W.dense?(Z[Be[0].r]||(Z[Be[0].r]=[]),Z[Be[0].r][Be[0].c]=Be[1]):Z[Wr(Be[0])]=Be[1];break}},W);else if(M[2]==26||M[2]==14)W.Enum=ee,M[2]==14&&(W.qpro=!0,M.l=0),e(M,function(Be,Le,Ge){switch(Ge){case 204:ae=Be;break;case 22:Be[1].v=Be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Be[3]>se&&(Z["!ref"]=fn(re),ce[ae]=Z,de.push(ae),Z=W.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},se=Be[3],ae="Sheet"+(se+1)),_e>0&&Be[0].r>=_e)break;W.dense?(Z[Be[0].r]||(Z[Be[0].r]=[]),Z[Be[0].r][Be[0].c]=Be[1]):Z[Wr(Be[0])]=Be[1],re.e.c<Be[0].c&&(re.e.c=Be[0].c),re.e.r<Be[0].r&&(re.e.r=Be[0].r);break;case 27:Be[14e3]&&(ke[Be[14e3][0]]=Be[14e3][1]);break;case 1537:ke[Be[0]]=Be[1],Be[0]==se&&(ae=Be[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(Z["!ref"]=fn(re),ce[oe||ae]=Z,de.push(oe||ae),!ke.length)return{SheetNames:de,Sheets:ce};for(var Ne={},Se=[],he=0;he<ke.length;++he)ce[de[he]]?(Se.push(ke[he]||de[he]),Ne[ke[he]]=ce[ke[he]]||ce[de[he]]):(Se.push(ke[he]),Ne[ke[he]]={"!ref":"A1"});return{SheetNames:Se,Sheets:Ne}}function n(M,H){var W=H||{};if(+W.codepage>=0&&of(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=Sc(),ae=Wn(M["!ref"]),oe=Array.isArray(M),se=[];Xt(Z,0,s(1030)),Xt(Z,6,c(ae));for(var ce=Math.min(ae.e.r,8191),de=ae.s.r;de<=ce;++de)for(var ke=ui(de),re=ae.s.c;re<=ae.e.c;++re){de===ae.s.r&&(se[re]=ys(re));var _e=se[re]+ke,Ne=oe?(M[de]||[])[re]:M[_e];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")(Ne.v|0)==Ne.v&&Ne.v>=-32768&&Ne.v<=32767?Xt(Z,13,p(de,re,Ne.v)):Xt(Z,14,x(de,re,Ne.v));else{var Se=v0(Ne);Xt(Z,15,f(de,re,Se.slice(0,239)))}}return Xt(Z,1),Z.end()}function a(M,H){var W=H||{};if(+W.codepage>=0&&of(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=Sc();Xt(Z,0,i(M));for(var ae=0,oe=0;ae<M.SheetNames.length;++ae)(M.Sheets[M.SheetNames[ae]]||{})["!ref"]&&Xt(Z,27,z(M.SheetNames[ae],oe++));var se=0;for(ae=0;ae<M.SheetNames.length;++ae){var ce=M.Sheets[M.SheetNames[ae]];if(!(!ce||!ce["!ref"])){for(var de=Wn(ce["!ref"]),ke=Array.isArray(ce),re=[],_e=Math.min(de.e.r,8191),Ne=de.s.r;Ne<=_e;++Ne)for(var Se=ui(Ne),he=de.s.c;he<=de.e.c;++he){Ne===de.s.r&&(re[he]=ys(he));var Be=re[he]+Se,Le=ke?(ce[Ne]||[])[he]:ce[Be];if(!(!Le||Le.t=="z"))if(Le.t=="n")Xt(Z,23,L(Ne,he,se,Le.v));else{var Ge=v0(Le);Xt(Z,22,C(Ne,he,se,Ge.slice(0,239)))}}++se}}return Xt(Z,1),Z.end()}function s(M){var H=Et(2);return H.write_shift(2,M),H}function i(M){var H=Et(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var W=0,Z=0,ae=0,oe=0;oe<M.SheetNames.length;++oe){var se=M.SheetNames[oe],ce=M.Sheets[se];if(!(!ce||!ce["!ref"])){++ae;var de=kc(ce["!ref"]);W<de.e.r&&(W=de.e.r),Z<de.e.c&&(Z=de.e.c)}}return W>8191&&(W=8191),H.write_shift(2,W),H.write_shift(1,ae),H.write_shift(1,Z),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(M,H,W){var Z={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&W.qpro?(Z.s.c=M.read_shift(1),M.l++,Z.s.r=M.read_shift(2),Z.e.c=M.read_shift(1),M.l++,Z.e.r=M.read_shift(2),Z):(Z.s.c=M.read_shift(2),Z.s.r=M.read_shift(2),H==12&&W.qpro&&(M.l+=2),Z.e.c=M.read_shift(2),Z.e.r=M.read_shift(2),H==12&&W.qpro&&(M.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function c(M){var H=Et(8);return H.write_shift(2,M.s.c),H.write_shift(2,M.s.r),H.write_shift(2,M.e.c),H.write_shift(2,M.e.r),H}function u(M,H,W){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(Z[0].c=M.read_shift(1),Z[3]=M.read_shift(1),Z[0].r=M.read_shift(2),M.l+=2):(Z[2]=M.read_shift(1),Z[0].c=M.read_shift(2),Z[0].r=M.read_shift(2)),Z}function d(M,H,W){var Z=M.l+H,ae=u(M,H,W);if(ae[1].t="s",W.vers==20768){M.l++;var oe=M.read_shift(1);return ae[1].v=M.read_shift(oe,"utf8"),ae}return W.qpro&&M.l++,ae[1].v=M.read_shift(Z-M.l,"cstr"),ae}function f(M,H,W){var Z=Et(7+W.length);Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,M),Z.write_shift(1,39);for(var ae=0;ae<Z.length;++ae){var oe=W.charCodeAt(ae);Z.write_shift(1,oe>=128?95:oe)}return Z.write_shift(1,0),Z}function h(M,H,W){var Z=u(M,H,W);return Z[1].v=M.read_shift(2,"i"),Z}function p(M,H,W){var Z=Et(7);return Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,M),Z.write_shift(2,W,"i"),Z}function g(M,H,W){var Z=u(M,H,W);return Z[1].v=M.read_shift(8,"f"),Z}function x(M,H,W){var Z=Et(13);return Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,M),Z.write_shift(8,W,"f"),Z}function v(M,H,W){var Z=M.l+H,ae=u(M,H,W);if(ae[1].v=M.read_shift(8,"f"),W.qpro)M.l=Z;else{var oe=M.read_shift(2);k(M.slice(M.l,M.l+oe),ae),M.l+=oe}return ae}function y(M,H,W){var Z=H&32768;return H&=-32769,H=(Z?M:0)+(H>=8192?H-16384:H),(Z?"":"$")+(W?ys(H):ui(H))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(M,H){Lo(M,0);for(var W=[],Z=0,ae="",oe="",se="",ce="";M.l<M.length;){var de=M[M.l++];switch(de){case 0:W.push(M.read_shift(8,"f"));break;case 1:oe=y(H[0].c,M.read_shift(2),!0),ae=y(H[0].r,M.read_shift(2),!1),W.push(oe+ae);break;case 2:{var ke=y(H[0].c,M.read_shift(2),!0),re=y(H[0].r,M.read_shift(2),!1);oe=y(H[0].c,M.read_shift(2),!0),ae=y(H[0].r,M.read_shift(2),!1),W.push(ke+re+":"+oe+ae)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(M.read_shift(2));break;case 6:{for(var _e="";de=M[M.l++];)_e+=String.fromCharCode(de);W.push('"'+_e.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:ce=W.pop(),se=W.pop(),W.push(["AND","OR"][de-20]+"("+se+","+ce+")");break;default:if(de<32&&E[de])ce=W.pop(),se=W.pop(),W.push(se+E[de]+ce);else if(w[de]){if(Z=w[de][1],Z==69&&(Z=M[M.l++]),Z>W.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+W.join("|")+"|");return}var Ne=W.slice(-Z);W.length-=Z,W.push(w[de][0]+"("+Ne.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}W.length==1?H[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function B(M){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=M.read_shift(2),H[3]=M[M.l++],H[0].c=M[M.l++],H}function j(M,H){var W=B(M);return W[1].t="s",W[1].v=M.read_shift(H-4,"cstr"),W}function C(M,H,W,Z){var ae=Et(6+Z.length);ae.write_shift(2,M),ae.write_shift(1,W),ae.write_shift(1,H),ae.write_shift(1,39);for(var oe=0;oe<Z.length;++oe){var se=Z.charCodeAt(oe);ae.write_shift(1,se>=128?95:se)}return ae.write_shift(1,0),ae}function N(M,H){var W=B(M);W[1].v=M.read_shift(2);var Z=W[1].v>>1;if(W[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return W[1].v=Z,W}function I(M,H){var W=B(M),Z=M.read_shift(4),ae=M.read_shift(4),oe=M.read_shift(2);if(oe==65535)return Z===0&&ae===3221225472?(W[1].t="e",W[1].v=15):Z===0&&ae===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var se=oe&32768;return oe=(oe&32767)-16446,W[1].v=(1-se*2)*(ae*Math.pow(2,oe+32)+Z*Math.pow(2,oe)),W}function L(M,H,W,Z){var ae=Et(14);if(ae.write_shift(2,M),ae.write_shift(1,W),ae.write_shift(1,H),Z==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var oe=0,se=0,ce=0,de=0;return Z<0&&(oe=1,Z=-Z),se=Math.log2(Z)|0,Z/=Math.pow(2,se-31),de=Z>>>0,(de&2147483648)==0&&(Z/=2,++se,de=Z>>>0),Z-=de,de|=2147483648,de>>>=0,Z*=Math.pow(2,32),ce=Z>>>0,ae.write_shift(4,ce),ae.write_shift(4,de),se+=16383+(oe?32768:0),ae.write_shift(2,se),ae}function O(M,H){var W=I(M);return M.l+=H-14,W}function T(M,H){var W=B(M),Z=M.read_shift(4);return W[1].v=Z>>6,W}function P(M,H){var W=B(M),Z=M.read_shift(8,"f");return W[1].v=Z,W}function R(M,H){var W=P(M);return M.l+=H-10,W}function q(M,H){return M[M.l+H-1]==0?M.read_shift(H,"cstr"):""}function Q(M,H){var W=M[M.l++];W>H-1&&(W=H-1);for(var Z="";Z.length<W;)Z+=String.fromCharCode(M[M.l++]);return Z}function G(M,H,W){if(!(!W.qpro||H<21)){var Z=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ae=M.read_shift(H-21,"cstr");return[Z,ae]}}function K(M,H){for(var W={},Z=M.l+H;M.l<Z;){var ae=M.read_shift(2);if(ae==14e3){for(W[ae]=[0,""],W[ae][0]=M.read_shift(2);M[M.l];)W[ae][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return W}function z(M,H){var W=Et(5+M.length);W.write_shift(2,14e3),W.write_shift(2,H);for(var Z=0;Z<M.length;++Z){var ae=M.charCodeAt(Z);W[W.l++]=ae>127?95:ae}return W[W.l++]=0,W}var Y={0:{n:"BOF",f:_i},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:q},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:R},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function WZe(e){var t={},r=e.match(jl),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Zr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=Q7[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var XZe=function(){var e=zC("t"),t=zC("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:Kn(i[1])},c=s.match(t);return c&&(o.s=WZe(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),YZe=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),JZe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ZZe=/<(?:\w+:)?r>/,eet=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function d9(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Kn(Da(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Da(e),r&&(n.h=Y7(n.t))):e.match(ZZe)&&(n.r=Da(e),n.t=Kn(Da((e.replace(eet,"").match(JZe)||[]).join("").replace(jl,""))),r&&(n.h=YZe(XZe(n.r)))),n):{t:""}}var tet=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ret=/<(?:\w+:)?(?:si|sstItem)>/g,net=/<\/(?:\w+:)?(?:si|sstItem)>/;function aet(e,t){var r=[],n="";if(!e)return r;var a=e.match(tet);if(a){n=a[2].replace(ret,"").split(net);for(var s=0;s!=n.length;++s){var i=d9(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Zr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var set=/^\s|\s$|[\t\n\r]/;function gAe(e,t){if(!t.bookSST)return"";var r=[pi];r[r.length]=Wt("sst",null,{xmlns:Wx[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(set)&&(s+=' xml:space="preserve"'),s+=">"+Na(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function iet(e){return[e.read_shift(4),e.read_shift(4)]}function oet(e,t){var r=[],n=!1;return j0(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function cet(e,t){return t||(t=Et(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var uet=vYe;function det(e){var t=Sc();Ut(t,159,cet(e));for(var r=0;r<e.length;++r)Ut(t,19,uet(e[r]));return Ut(t,160),t.end()}function xAe(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Zh(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function fet(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Zh(e,4),t.U=Zh(e,4),t.W=Zh(e,4),t}function Aet(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function het(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Aet(e));return t}function pet(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function met(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Zh(e,4),t.U=Zh(e,4),t.W=Zh(e,4),t}function get(e){var t=met(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function vAe(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function bAe(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function xet(e){var t=Zh(e);switch(t.Minor){case 2:return[t.Minor,vet(e)];case 3:return[t.Minor,bet()];case 4:return[t.Minor,yet(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function vet(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=vAe(e,r),a=bAe(e,e.length-e.l);return{t:"Std",h:n,v:a}}function bet(){throw new Error("File is password-protected: ECMA-376 Extensible")}function yet(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(jl,function(s){var i=Zr(s);switch(GA(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function wet(e,t){var r={},n=r.EncryptionVersionInfo=Zh(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=vAe(e,a),t-=a,r.EncryptionVerifier=bAe(e,t),r}function Cet(e){var t={},r=t.EncryptionVersionInfo=Zh(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function f9(e){var t=0,r,n=xAe(e),a=n.length+1,s,i,o,c,u;for(r=Cm(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=(t&16384)===0?0:1,c=t<<1&32767,u=o|c,t=u^i;return t^52811}var yAe=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(o^=r[c]),d*=2,--c;return o};return function(i){for(var o=xAe(i),c=s(o),u=o.length,d=Cm(16),f=0;f!=16;++f)d[f]=0;var h,p,g;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=o[o.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(o[u],h),--u,h=c&255,d[u]=a(o[u],h);for(u=15,g=15-o.length;g>0;)h=c>>8,d[u]=a(e[g],h),--u,--g,h=c&255,d[u]=a(o[u],h),--u,--g;return d}}(),Eet=function(e,t,r,n,a){a||(a=t),n||(n=yAe(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},_et=function(e){var t=0,r=yAe(e);return function(n){var a=Eet("",n,t,r);return t=a[1],a[0]}};function Net(e,t,r,n){var a={key:_i(e),verificationBytes:_i(e)};return r.password&&(a.verifier=f9(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=_et(r.password)),a}function ket(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Cet(e):n.Data=wet(e,t),n}function Tet(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?ket(e,t-2,n):Net(e,r.biff>=8?t:t-2,r,n),n}var wAe=function(){function e(a,s){switch(s.type){case"base64":return t(xu(a),s);case"binary":return t(a,s);case"buffer":return t(Cn&&Buffer.isBuffer(a)?a.toString("binary"):Qm(a),s);case"array":return t(kx(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,x=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++x,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][x]=y:o[Wr({r:f,c:x})]=y}break}p=h.lastIndex}x>u.e.c&&(u.e.c=x)}),o["!ref"]=fn(u),o}function r(a,s){return Hm(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=Wn(a["!ref"]),o,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Wr({r:u,c:d});o=c?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(v0(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Bet(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function WC(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function jet(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,c,u/2]}function Iet(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-o),i[0]+=c,i[1]+=a;break;case 2:c=a*(o-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-o),i[1]+=c,i[2]+=a;break;case 4:c=a*(o-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-o),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function kk(e,t){if(t===0)return e;var r=jet(Bet(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),WC(Iet(r))}var CAe=6,Fet=15,Oet=1,xl=CAe;function XC(e){return Math.floor((e+Math.round(128/xl)/256)*xl)}function YC(e){return Math.floor((e-5)/xl*100+.5)/100}function Tk(e){return Math.round((e*xl+5)/xl*256)/256}function tO(e){return Tk(YC(XC(e)))}function A9(e){var t=Math.abs(e-tO(e)),r=xl;if(t>.005)for(xl=Oet;xl<Fet;++xl)Math.abs(e-tO(e))<=t&&(t=Math.abs(e-tO(e)),r=xl);xl=r}function Em(e){e.width?(e.wpx=XC(e.width),e.wch=YC(e.wpx),e.MDW=xl):e.wpx?(e.wch=YC(e.wpx),e.width=Tk(e.wch),e.MDW=xl):typeof e.wch=="number"&&(e.width=Tk(e.wch),e.wpx=XC(e.width),e.MDW=xl),e.customWidth&&delete e.customWidth}var Det=96,EAe=Det;function JC(e){return e*96/EAe}function Rb(e){return e*EAe/96}var Pet={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Ret(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(jl)||[]).forEach(function(i){var o=Zr(i);switch(GA(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Ja(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Ja(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function Let(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(jl)||[]).forEach(function(i){var o=Zr(i);switch(GA(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function Met(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(jl)||[]).forEach(function(i){var o=Zr(i);switch(GA(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Da(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Ja(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Ja(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Ja(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Ja(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Ja(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Ja(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Ja(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Q7[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Ja(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=nx[a.color.index];a.color.index==81&&(c=nx[1]),c||(c=nx[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=kk(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Uet(e,t,r){t.NumberFmt=[];for(var n=Gs(zr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=zr[n[a]];var s=e[0].match(jl);if(s)for(a=0;a<s.length;++a){var i=Zr(s[a]);switch(GA(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Kn(Da(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}Jh(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function Qet(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Wt("numFmt",null,{numFmtId:n,formatCode:Na(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Wt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var d5=["numFmtId","fillId","fontId","borderId","xfId"],f5=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Het(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(jl)||[]).forEach(function(s){var i=Zr(s),o=0;switch(GA(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<d5.length;++o)n[d5[o]]&&(n[d5[o]]=parseInt(n[d5[o]],10));for(o=0;o<f5.length;++o)n[f5[o]]&&(n[f5[o]]=Ja(n[f5[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=Ja(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function $et(e){var t=[];return t[t.length]=Wt("cellXfs",null),e.forEach(function(r){t[t.length]=Wt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Wt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Vet=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Uet(f,d,u),(f=o.match(a))&&Met(f,d,c,u),(f=o.match(n))&&Let(f,d,c,u),(f=o.match(s))&&Ret(f,d,c,u),(f=o.match(r))&&Het(f,d,u),d}}();function SAe(e,t){var r=[pi,Wt("styleSheet",null,{xmlns:Wx[0],"xmlns:vt":Hi.vt})],n;return e.SSF&&(n=Qet(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=$et(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function zet(e,t){var r=e.read_shift(2),n=El(e);return[r,n]}function Get(e,t,r){r||(r=Et(6+4*t.length)),r.write_shift(2,e),xo(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Ket(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=_Ye(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=SYe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=El(e),n}function qet(e,t){t||(t=Et(153)),t.write_shift(2,e.sz*20),NYe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Sk(e.color,t);var n=0;return n=2,t.write_shift(1,n),xo(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Wet=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rO,Xet=Nl;function HJ(e,t){t||(t=Et(84)),rO||(rO=cj(Wet));var r=rO[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Sk({auto:1},t),Sk({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Yet(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function _Ae(e,t,r){r||(r=Et(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Lw(e,t){return t||(t=Et(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Jet=Nl;function Zet(e,t){return t||(t=Et(51)),t.write_shift(1,0),Lw(null,t),Lw(null,t),Lw(null,t),Lw(null,t),Lw(null,t),t.length>t.l?t.slice(0,t.l):t}function ett(e,t){return t||(t=Et(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Ek(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function ttt(e,t,r){var n=Et(2052);return n.write_shift(4,e),Ek(t,n),Ek(r,n),n.length>n.l?n.slice(0,n.l):n}function rtt(e,t,r){var n={};n.NumberFmt=[];for(var a in zr)n.NumberFmt[a]=zr[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return j0(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Jh(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=kk(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function ntt(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Ut(e,615,mf(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ut(e,44,Get(a,t[a]))}),Ut(e,616))}}function att(e){var t=1;Ut(e,611,mf(t)),Ut(e,43,qet({sz:12,color:{theme:1},name:"Calibri",family:2})),Ut(e,612)}function stt(e){var t=2;Ut(e,603,mf(t)),Ut(e,45,HJ({patternType:"none"})),Ut(e,45,HJ({patternType:"gray125"})),Ut(e,604)}function itt(e){var t=1;Ut(e,613,mf(t)),Ut(e,46,Zet()),Ut(e,614)}function ott(e){var t=1;Ut(e,626,mf(t)),Ut(e,47,_Ae({numFmtId:0},65535)),Ut(e,627)}function ltt(e,t){Ut(e,617,mf(t.length)),t.forEach(function(r){Ut(e,47,_Ae(r,0))}),Ut(e,618)}function ctt(e){var t=1;Ut(e,619,mf(t)),Ut(e,48,ett({xfId:0,name:"Normal"})),Ut(e,620)}function utt(e){var t=0;Ut(e,505,mf(t)),Ut(e,506)}function dtt(e){var t=0;Ut(e,508,ttt(t,"TableStyleMedium9","PivotStyleMedium4")),Ut(e,509)}function ftt(e,t){var r=Sc();return Ut(r,278),ntt(r,e.SSF),att(r),stt(r),itt(r),ott(r),ltt(r,t.cellXfs),ctt(r),utt(r),dtt(r),Ut(r,279),r.end()}var Att=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function htt(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(jl)||[]).forEach(function(a){var s=Zr(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[Att.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function ptt(){}function mtt(){}var gtt=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,xtt=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,vtt=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function btt(e,t,r){t.themeElements={};var n;[["clrScheme",gtt,htt],["fontScheme",xtt,ptt],["fmtScheme",vtt,mtt]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var ytt=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function NAe(e,t){(!e||e.length===0)&&(e=h9());var r,n={};if(!(r=e.match(ytt)))throw new Error("themeElements not found in theme");return btt(r[0],n,t),n.raw=e,n}function h9(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[pi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function wtt(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=vfe(s,{type:"array"})}catch{return}var o=lu(i,"theme/theme/theme1.xml",!0);if(o)return NAe(o,r)}}function Ctt(e){return e.read_shift(4)}function Ett(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Stt(e,4);break;case 2:t.xclrValue=iAe(e);break;case 3:t.xclrValue=Ctt(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Stt(e,t){return Nl(e,t)}function _tt(e,t){return Nl(e,t)}function Ntt(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Ett(e);break;case 6:n[1]=_tt(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function ktt(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(Ntt(e,r-e.l));return{ixfe:n,ext:s}}function Ttt(e,t){t.forEach(function(r){r[0]})}function Btt(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:El(e)}}function jtt(e){var t=Et(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),xo(e.name,t),t.slice(0,t.l)}function Itt(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Ftt(e){var t=Et(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Ott(e,t){var r=Et(8+2*t.length);return r.write_shift(4,e),xo(t,r),r.slice(0,r.l)}function Dtt(e){return e.l+=4,e.read_shift(4)!=0}function Ptt(e,t){var r=Et(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Rtt(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return j0(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function Ltt(){var e=Sc();return Ut(e,332),Ut(e,334,mf(1)),Ut(e,335,jtt({name:"XLDAPR",version:12e4,flags:3496657072})),Ut(e,336),Ut(e,339,Ott(1,"XLDAPR")),Ut(e,52),Ut(e,35,mf(514)),Ut(e,4096,mf(0)),Ut(e,4097,rd(1)),Ut(e,36),Ut(e,53),Ut(e,340),Ut(e,337,Ptt(1)),Ut(e,51,Ftt([[1,0]])),Ut(e,338),Ut(e,333),e.end()}function Mtt(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(jl,function(o){var c=Zr(o);switch(GA(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function kAe(){var e=[pi];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Utt(e){var t=[];if(!e)return t;var r=1;return(e.match(jl)||[]).forEach(function(n){var a=Zr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Qtt(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Wr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Htt(e,t,r){var n=[];return j0(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function $tt(e,t,r,n){if(!e)return e;var a=n||{},s=!1;j0(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function Vtt(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var k1=1024;function TAe(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Wt("xml",null,{"xmlns:v":tu.v,"xmlns:o":tu.o,"xmlns:x":tu.x,"xmlns:mv":tu.mv}).replace(/\/>/,">"),Wt("o:shapelayout",Wt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Wt("v:shapetype",[Wt("v:stroke",null,{joinstyle:"miter"}),Wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];k1<e*1e3;)k1+=1e3;return t.forEach(function(s){var i=ws(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Wt("v:fill",c,o),d={on:"t",obscured:"t"};++k1,a=a.concat(["<v:shape"+GC({id:"_x0000_s"+k1,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Wt("v:shadow",null,d),Wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Mo("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),Mo("x:AutoFill","False"),Mo("x:Row",String(i.r)),Mo("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function $J(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=ws(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var c=Wn(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=fn(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function ztt(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Zr(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ws(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&d9(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function BAe(e){var t=[pi,Wt("comments",null,{xmlns:Wx[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Na(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Na(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(Mo("t",Na(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)i+=`Reply:
    `+s[o]+`
`;t.push(Mo("t",Na(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Gtt(e,t){var r=[],n=!1,a={},s=0;return e.replace(jl,function(o,c){var u=Zr(o);switch(GA(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function Ktt(e,t,r){var n=[pi,Wt("ThreadedComments",null,{xmlns:Hi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(Wt("threadedComment",Mo("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function qtt(e,t){var r=[],n=!1;return e.replace(jl,function(s){var i=Zr(s);switch(GA(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function Wtt(e){var t=[pi,Wt("personList",null,{xmlns:Hi.TCMNT,"xmlns:x":Wx[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Wt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Xtt(e){var t={};t.iauthor=e.read_shift(4);var r=Zx(e);return t.rfx=r.s,t.ref=Wr(r.s),e.l+=16,t}function Ytt(e,t){return t==null&&(t=Et(36)),t.write_shift(4,e[1].iauthor),By(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Jtt=El;function Ztt(e){return xo(e.slice(0,54))}function ert(e,t){var r=[],n=[],a={},s=!1;return j0(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function trt(e){var t=Sc(),r=[];return Ut(t,628),Ut(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ut(t,632,Ztt(a.a)))})}),Ut(t,631),Ut(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:ws(n[0]),e:ws(n[0])};Ut(t,635,Ytt([s,a])),a.t&&a.t.length>0&&Ut(t,637,yYe(a)),Ut(t,636),delete a.iauthor})}),Ut(t,634),Ut(t,629),t.end()}var rrt="application/vnd.ms-office.vbaProject";function nrt(e){var t=Ir.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ir.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ir.write(t)}function art(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Ir.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var jAe=["xlsb","xlsm","xlam","biff8","xla"];function srt(){return{"!type":"dialog"}}function irt(){return{"!type":"dialog"}}function ort(){return{"!type":"macro"}}function lrt(){return{"!type":"macro"}}var Z1=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,a+(o?"":"$")+ys(d)+(c?"":"$")+ui(u)}return function(a,s){return t=s,a.replace(e,r)}}(),p9=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,m9=function(){return function(t,r){return t.replace(p9,function(n,a,s,i,o,c){var u=r9(i)-(s?0:r.c),d=t9(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function IAe(e,t){return e.replace(p9,function(r,n,a,s,i,o){return n+(a=="$"?a+s:ys(r9(s)+t.c))+(i=="$"?i+o:ui(t9(o)+t.r))})}function crt(e,t,r){var n=kc(t),a=n.s,s=ws(r),i={r:s.r-a.r,c:s.c-a.c};return IAe(e,i)}function urt(e){return e.length!=1}function VJ(e){return e.replace(/_xlfn\./g,"")}function wi(e){e.l+=1}function Sm(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function FAe(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return OAe(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Sm(e),o=Sm(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function OAe(e){var t=Sm(e),r=Sm(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function drt(e,t,r){if(r.biff<8)return OAe(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Sm(e),i=Sm(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function DAe(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return frt(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Sm(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function frt(e){var t=Sm(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Art(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function hrt(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return prt(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function prt(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function mrt(e,t,r){var n=(e[e.l++]&96)>>5,a=FAe(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function grt(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=FAe(e,s,r);return[n,a,i]}function xrt(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function vrt(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function brt(e,t,r){var n=(e[e.l++]&96)>>5,a=drt(e,t-1,r);return[n,a]}function yrt(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function zJ(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function wrt(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Crt(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Ert(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Srt(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function _rt(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function PAe(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Nrt(e){return e.read_shift(2),PAe(e)}function krt(e){return e.read_shift(2),PAe(e)}function Trt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=DAe(e,0,r);return[n,a]}function Brt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=hrt(e,0,r);return[n,a]}function jrt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=DAe(e,0,r);return[n,a,s]}function Irt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Dnt[a],MAe[a],n]}function Frt(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Ort(e);return[a,(s[0]===0?MAe:Ont)[s[1]]]}function Ort(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Drt(e,t,r){e.l+=r&&r.biff==2?3:4}function Prt(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Rrt(e){return e.l++,I0[e.read_shift(1)]}function Lrt(e){return e.l++,e.read_shift(2)}function Mrt(e){return e.l++,e.read_shift(1)!==0}function Urt(e){return e.l++,yl(e)}function Qrt(e,t,r){return e.l++,aS(e,t-1,r)}function Hrt(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ri(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=I0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=yl(e);break;case 2:r[1]=ev(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function $rt(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Zx:fj)(e));return a}function Vrt(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=Hrt(e,r.biff);return i}function zrt(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function Grt(e,t,r){if(r.biff==5)return Krt(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function Krt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function qrt(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Wrt(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Xrt(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Yrt(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var Jrt=Nl,Zrt=Nl,ent=Nl;function iS(e,t,r){return e.l+=2,[Art(e)]}function g9(e){return e.l+=6,[]}var tnt=iS,rnt=g9,nnt=g9,ant=iS;function RAe(e){return e.l+=2,[_i(e),e.read_shift(2)&1]}var snt=iS,int=RAe,ont=g9,lnt=iS,cnt=iS,unt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function dnt(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=unt[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function fnt(e){return e.l+=2,[e.read_shift(4)]}function Ant(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function hnt(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function pnt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function mnt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function gnt(e){return e.l+=4,[0,0]}var GJ={1:{n:"PtgExp",f:Prt},2:{n:"PtgTbl",f:ent},3:{n:"PtgAdd",f:wi},4:{n:"PtgSub",f:wi},5:{n:"PtgMul",f:wi},6:{n:"PtgDiv",f:wi},7:{n:"PtgPower",f:wi},8:{n:"PtgConcat",f:wi},9:{n:"PtgLt",f:wi},10:{n:"PtgLe",f:wi},11:{n:"PtgEq",f:wi},12:{n:"PtgGe",f:wi},13:{n:"PtgGt",f:wi},14:{n:"PtgNe",f:wi},15:{n:"PtgIsect",f:wi},16:{n:"PtgUnion",f:wi},17:{n:"PtgRange",f:wi},18:{n:"PtgUplus",f:wi},19:{n:"PtgUminus",f:wi},20:{n:"PtgPercent",f:wi},21:{n:"PtgParen",f:wi},22:{n:"PtgMissArg",f:wi},23:{n:"PtgStr",f:Qrt},26:{n:"PtgSheet",f:Ant},27:{n:"PtgEndSheet",f:hnt},28:{n:"PtgErr",f:Rrt},29:{n:"PtgBool",f:Mrt},30:{n:"PtgInt",f:Lrt},31:{n:"PtgNum",f:Urt},32:{n:"PtgArray",f:yrt},33:{n:"PtgFunc",f:Irt},34:{n:"PtgFuncVar",f:Frt},35:{n:"PtgName",f:zrt},36:{n:"PtgRef",f:Trt},37:{n:"PtgArea",f:mrt},38:{n:"PtgMemArea",f:qrt},39:{n:"PtgMemErr",f:Jrt},40:{n:"PtgMemNoMem",f:Zrt},41:{n:"PtgMemFunc",f:Wrt},42:{n:"PtgRefErr",f:Xrt},43:{n:"PtgAreaErr",f:xrt},44:{n:"PtgRefN",f:Brt},45:{n:"PtgAreaN",f:brt},46:{n:"PtgMemAreaN",f:pnt},47:{n:"PtgMemNoMemN",f:mnt},57:{n:"PtgNameX",f:Grt},58:{n:"PtgRef3d",f:jrt},59:{n:"PtgArea3d",f:grt},60:{n:"PtgRefErr3d",f:Yrt},61:{n:"PtgAreaErr3d",f:vrt},255:{}},xnt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},vnt={1:{n:"PtgElfLel",f:RAe},2:{n:"PtgElfRw",f:lnt},3:{n:"PtgElfCol",f:tnt},6:{n:"PtgElfRwV",f:cnt},7:{n:"PtgElfColV",f:ant},10:{n:"PtgElfRadical",f:snt},11:{n:"PtgElfRadicalS",f:ont},13:{n:"PtgElfColS",f:rnt},15:{n:"PtgElfColSV",f:nnt},16:{n:"PtgElfRadicalLel",f:int},25:{n:"PtgList",f:dnt},29:{n:"PtgSxName",f:fnt},255:{}},bnt={0:{n:"PtgAttrNoop",f:gnt},1:{n:"PtgAttrSemi",f:_rt},2:{n:"PtgAttrIf",f:Ert},4:{n:"PtgAttrChoose",f:wrt},8:{n:"PtgAttrGoto",f:Crt},16:{n:"PtgAttrSum",f:Drt},32:{n:"PtgAttrBaxcel",f:zJ},33:{n:"PtgAttrBaxcel",f:zJ},64:{n:"PtgAttrSpace",f:Nrt},65:{n:"PtgAttrSpaceSemi",f:krt},128:{n:"PtgAttrIfError",f:Srt},255:{}};function oS(e,t,r,n){if(n.biff<8)return Nl(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=Vrt(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=$rt(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Nl(e,t)),s}function lS(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=GJ[s]||GJ[xnt[s]],(s===24||s===25)&&(a=(s===24?vnt:bnt)[e[e.l+1]]),!a||!a.f?Nl(e,t):i.push([a.n,a.f(e,t,r)]);return i}function ynt(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var wnt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Cnt(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function LAe(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function KJ(e,t,r){var n=LAe(e,t,r);return n=="#REF"?n:Cnt(n,r)}function Al(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},o=[],c,u,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var x=-1,v="",y=0,w=e[0].length;y<w;++y){var E=e[0][y];switch(E[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),x>=0){switch(e[0][x][1][0]){case 0:v=Qs(" ",e[0][x][1][1]);break;case 1:v=Qs("\r",e[0][x][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+v,x=-1}o.push(u+wnt[E[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=q2(E[1][1],i,a),o.push(W2(d,s));break;case"PtgRefN":d=r?q2(E[1][1],r,a):E[1][1],o.push(W2(d,s));break;case"PtgRef3d":f=E[1][1],d=q2(E[1][2],i,a),g=KJ(n,f,a),o.push(g+"!"+W2(d,s));break;case"PtgFunc":case"PtgFuncVar":var k=E[1][0],B=E[1][1];k||(k=0),k&=127;var j=k==0?[]:o.slice(-k);o.length-=k,B==="User"&&(B=j.shift()),o.push(B+"("+j.join(",")+")");break;case"PtgBool":o.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(E[1]);break;case"PtgNum":o.push(String(E[1]));break;case"PtgStr":o.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(E[1]);break;case"PtgAreaN":p=wJ(E[1][1],r?{s:r}:i,a),o.push(JF(p,a));break;case"PtgArea":p=wJ(E[1][1],i,a),o.push(JF(p,a));break;case"PtgArea3d":f=E[1][1],p=E[1][2],g=KJ(n,f,a),o.push(g+"!"+JF(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=E[1][2];var C=(n.names||[])[h-1]||(n[0]||[])[h],N=C?C.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!a.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var I=E[1][1];h=E[1][2];var L;if(a.biff<=5)I<0&&(I=-I),n[I]&&(L=n[I][h]);else{var O="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][h]&&n[I][h].itab>0&&(O=n.SheetNames[n[I][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[I]&&n[I][h])O+=n[I][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var T=(LAe(n,I,a)||"").split(";;");T[h-1]?O=T[h-1]:O+="SH33TJSERRX"}o.push(O);break}L||(L={Name:"SH33TJSERRY"}),o.push(L.Name);break;case"PtgParen":var P="(",R=")";if(x>=0){switch(v="",e[0][x][1][0]){case 2:P=Qs(" ",e[0][x][1][1])+P;break;case 3:P=Qs("\r",e[0][x][1][1])+P;break;case 4:R=Qs(" ",e[0][x][1][1])+R;break;case 5:R=Qs("\r",e[0][x][1][1])+R;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}o.push(P+o.pop()+R);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:E[1][1],r:E[1][0]};var q={c:r.c,r:r.r};if(n.sharedf[Wr(d)]){var Q=n.sharedf[Wr(d)];o.push(Al(Q,i,q,n,a))}else{var G=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Al(u[1],i,q,n,a)),G=!0;break}G||o.push(E[1])}break;case"PtgArray":o.push("{"+ynt(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&K.indexOf(e[0][y][0])==-1){E=e[0][x];var z=!0;switch(E[1][0]){case 4:z=!1;case 0:v=Qs(" ",E[1][1]);break;case 5:z=!1;case 1:v=Qs("\r",E[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}o.push((z?v:"")+o.pop()+(z?"":v)),x=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Ent(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Nl(e,t-2)];var o=lS(e,i,r);return t!==i+a&&(s=oS(e,t-i-a,o,r)),e.l=n,[o,s]}function Snt(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Nl(e,t-2)];var o=lS(e,i,r);return t!==i+a&&(s=oS(e,t-i-a,o,r)),e.l=n,[o,s]}function _nt(e,t,r,n){var a=e.l+t,s=lS(e,n,r),i;return a!==e.l&&(i=oS(e,a-e.l,s,r)),[s,i]}function Nnt(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=lS(e,s,r);return s==65535?[[],Nl(e,t-2)]:(t!==s+2&&(a=oS(e,n-s-2,i,r)),[i,a])}function knt(e){var t;if(zh(e,e.l+6)!==65535)return[yl(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Tnt(e){if(e==null){var t=Et(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Tx(e);return Tx(0)}function nO(e,t,r){var n=e.l+t,a=KA(e);r.biff==2&&++e.l;var s=knt(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Snt(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function Bnt(e,t,r,n,a){var s=jx(t,r,a),i=Tnt(e.v),o=Et(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=Et(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=ho([s,i,o,u]);return f}function Aj(e,t,r){var n=e.read_shift(4),a=lS(e,n,r),s=e.read_shift(4),i=s>0?oS(e,s,a,r):null;return[a,i]}var jnt=Aj,hj=Aj,Int=Aj,Fnt=Aj,Ont={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},MAe={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Dnt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function qJ(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Pnt(e){var t="of:="+e.replace(p9,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function aO(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Rnt(e){return e.replace(/\./,"!")}var Y2={},eb={},J2=typeof Map<"u";function x9(e,t,r){var n=0,a=e.length;if(r){if(J2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=J2?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(J2?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function pj(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(xl=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=YC(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Tk(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function ix(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function $m(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Jh(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function UAe(e,t,r,n,a,s){try{n.cellNF&&(e.z=zr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=es(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(zr[t]==null&&Jh(IXe[t]||"General",t),e.t==="e")e.w=e.w||I0[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=VC(e.v);else if(e.t==="d"){var i=zi(e.v);(i|0)===i?e.w=i.toString(10):e.w=VC(i)}else{if(e.v===void 0)return"";e.w=Nx(e.v,eb)}else e.t==="d"?e.w=vd(t,zi(e.v),eb):e.w=vd(t,e.v,eb)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=kk(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=kk(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function Lnt(e,t,r){if(e&&e["!ref"]){var n=Wn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Mnt(e,t){var r=Wn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=fn(r))}var Unt=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Qnt=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Hnt=/<(?:\w:)?hyperlink [^>]*>/mg,$nt=/"(\w*:\w*)"/,Vnt=/<(?:\w:)?col\b[^>]*[\/]?>/g,znt=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Gnt=/<(?:\w:)?pageMargins[^>]*\/>/g,QAe=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Knt=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,qnt=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Wnt(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Qnt);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(QAe);h?v9(h[0],o,a,r):(h=u.match(Knt))&&Ynt(h[0],h[1]||"",o,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=u.slice(p,p+50).match($nt);g&&Mnt(o,g[1])}var x=u.match(qnt);x&&x[1]&&uat(x[1],a);var v=[];if(t.cellStyles){var y=u.match(Vnt);y&&sat(v,y)}f&&Aat(f[1],o,t,c,s,i);var w=d.match(znt);w&&(o["!autofilter"]=oat(w[0]));var E=[],k=d.match(Unt);if(k)for(p=0;p!=k.length;++p)E[p]=Wn(k[p].slice(k[p].indexOf('"')+1));var B=d.match(Hnt);B&&rat(o,B,n);var j=d.match(Gnt);if(j&&(o["!margins"]=nat(Zr(j[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=fn(c)),t.sheetRows>0&&o["!ref"]){var C=Wn(o["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>c.e.r&&(C.e.r=c.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>c.e.c&&(C.e.c=c.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),o["!fullref"]=o["!ref"],o["!ref"]=fn(C))}return v.length>0&&(o["!cols"]=v),E.length>0&&(o["!merges"]=E),o}function Xnt(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+fn(e[r])+'"/>';return t+"</mergeCells>"}function v9(e,t,r,n){var a=Zr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Kn(Da(a.codeName)))}function Ynt(e,t,r,n,a){v9(e.slice(0,e.indexOf(">")),r,n,a)}function Jnt(e,t,r,n,a){var s=!1,i={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,i.codeName=BA(Na(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+Wt("outlinePr",null,u)}!s&&!o||(a[a.length]=Wt("sheetPr",o,i))}var Znt=["objects","scenarios","selectLockedCells","selectUnlockedCells"],eat=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function tat(e){var t={sheet:1};return Znt.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),eat.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=f9(e.password).toString(16).toUpperCase()),Wt("sheetProtection",null,t)}function rat(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Zr(Da(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Kn(s.location))):(s.Target="#"+Kn(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Wn(s.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Wr({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function nat(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function aat(e){return ix(e),Wt("pageMargins",null,e)}function sat(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Zr(t[n],!0);a.hidden&&(a.hidden=Ja(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,A9(a.width)),Em(a);s<=i;)e[s++]=ts(a)}}function iat(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Wt("col",null,pj(a,n)));return r[r.length]="</cols>",r.join("")}function oat(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function lat(e,t,r,n){var a=typeof e.ref=="string"?e.ref:fn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,i=kc(a);i.s.r==i.e.r&&(i.e.r=kc(t["!ref"]).e.r,a=fn(i));for(var o=0;o<s.length;++o){var c=s[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Wt("autoFilter",null,{ref:a})}var cat=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function uat(e,t){t.Views||(t.Views=[{}]),(e.match(cat)||[]).forEach(function(r,n){var a=Zr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ja(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function dat(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Wt("sheetViews",Wt("sheetView",null,a),{})}function fat(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=I0[e.v];break;case"d":n&&n.cellDates?a=es(e.v,-1).toISOString():(e=ts(e),e.t="n",a=""+(e.v=zi(es(e.v)))),typeof e.z>"u"&&(e.z=zr[14]);break;default:a=e.v;break}var o=Mo("v",Na(a)),c={r:t},u=$m(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Mo("v",""+x9(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=i),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Wt("f",Na(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Wt("c",o,c)}var Aat=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=zC("v"),i=zC("f");return function(c,u,d,f,h,p){for(var g=0,x="",v=[],y=[],w=0,E=0,k=0,B="",j,C,N=0,I=0,L,O,T=0,P=0,R=Array.isArray(p.CellXf),q,Q=[],G=[],K=Array.isArray(u),z=[],Y={},ee=!1,M=!!d.sheetStubs,H=c.split(t),W=0,Z=H.length;W!=Z;++W){x=H[W].trim();var ae=x.length;if(ae!==0){var oe=0;e:for(g=0;g<ae;++g)switch(x[g]){case">":if(x[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(C=Zr(x.slice(oe,g),!0),N=C.r!=null?parseInt(C.r,10):N+1,I=-1,d.sheetRows&&d.sheetRows<N)continue;Y={},ee=!1,C.ht&&(ee=!0,Y.hpt=parseFloat(C.ht),Y.hpx=Rb(Y.hpt)),C.hidden=="1"&&(ee=!0,Y.hidden=!0),C.outlineLevel!=null&&(ee=!0,Y.level=+C.outlineLevel),ee&&(z[N-1]=Y)}break;case"<":oe=g;break}if(oe>=g)break;if(C=Zr(x.slice(oe,g),!0),N=C.r!=null?parseInt(C.r,10):N+1,I=-1,!(d.sheetRows&&d.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),d&&d.cellStyles&&(Y={},ee=!1,C.ht&&(ee=!0,Y.hpt=parseFloat(C.ht),Y.hpx=Rb(Y.hpt)),C.hidden=="1"&&(ee=!0,Y.hidden=!0),C.outlineLevel!=null&&(ee=!0,Y.level=+C.outlineLevel),ee&&(z[N-1]=Y)),v=x.slice(g).split(e);for(var se=0;se!=v.length&&v[se].trim().charAt(0)=="<";++se);for(v=v.slice(se),g=0;g!=v.length;++g)if(x=v[g].trim(),x.length!==0){if(y=x.match(r),w=g,E=0,k=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,y!=null&&y.length===2){for(w=0,B=y[1],E=0;E!=B.length&&!((k=B.charCodeAt(E)-64)<1||k>26);++E)w=26*w+k;--w,I=w}else++I;for(E=0;E!=x.length&&x.charCodeAt(E)!==62;++E);if(++E,C=Zr(x.slice(0,E),!0),C.r||(C.r=Wr({r:N-1,c:I})),B=x.slice(E),j={t:""},(y=B.match(s))!=null&&y[1]!==""&&(j.v=Kn(y[1])),d.cellFormula){if((y=B.match(i))!=null&&y[1]!==""){if(j.f=Kn(Da(y[1])).replace(/\r\n/g,`
`),d.xlfn||(j.f=VJ(j.f)),y[0].indexOf('t="array"')>-1)j.F=(B.match(a)||[])[1],j.F.indexOf(":")>-1&&Q.push([Wn(j.F),j.F]);else if(y[0].indexOf('t="shared"')>-1){O=Zr(y[0]);var ce=Kn(Da(y[1]));d.xlfn||(ce=VJ(ce)),G[parseInt(O.si,10)]=[O,ce,C.r]}}else(y=B.match(/<f[^>]*\/>/))&&(O=Zr(y[0]),G[O.si]&&(j.f=crt(G[O.si][1],G[O.si][2],C.r)));var de=ws(C.r);for(E=0;E<Q.length;++E)de.r>=Q[E][0].s.r&&de.r<=Q[E][0].e.r&&de.c>=Q[E][0].s.c&&de.c<=Q[E][0].e.c&&(j.F=Q[E][1])}if(C.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(M)j.t="z";else continue;else j.t=C.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),j.t){case"n":if(j.v==""||j.v==null){if(!M)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!M)continue;j.t="z"}else L=Y2[parseInt(j.v,10)],j.v=L.t,j.r=L.r,d.cellHTML&&(j.h=L.h);break;case"str":j.t="s",j.v=j.v!=null?Da(j.v):"",d.cellHTML&&(j.h=Y7(j.v));break;case"inlineStr":y=B.match(n),j.t="s",y!=null&&(L=d9(y[1]))?(j.v=L.t,d.cellHTML&&(j.h=L.h)):j.v="";break;case"b":j.v=Ja(j.v);break;case"d":d.cellDates?j.v=es(j.v,1):(j.v=zi(es(j.v,1)),j.t="n");break;case"e":(!d||d.cellText!==!1)&&(j.w=j.v),j.v=$fe[j.v];break}if(T=P=0,q=null,R&&C.s!==void 0&&(q=p.CellXf[C.s],q!=null&&(q.numFmtId!=null&&(T=q.numFmtId),d.cellStyles&&q.fillId!=null&&(P=q.fillId))),UAe(j,T,P,d,h,p),d.cellDates&&R&&j.t=="n"&&Ny(zr[T])&&(j.t="d",j.v=dj(j.v)),C.cm&&d.xlmeta){var ke=(d.xlmeta.Cell||[])[+C.cm-1];ke&&ke.type=="XLDAPR"&&(j.D=!0)}if(K){var re=ws(C.r);u[re.r]||(u[re.r]=[]),u[re.r][re.c]=j}else u[C.r]=j}}}}z.length>0&&(u["!rows"]=z)}}();function hat(e,t,r,n){var a=[],s=[],i=Wn(e["!ref"]),o="",c,u="",d=[],f=0,h=0,p=e["!rows"],g=Array.isArray(e),x={r:u},v,y=-1;for(h=i.s.c;h<=i.e.c;++h)d[h]=ys(h);for(f=i.s.r;f<=i.e.r;++f){for(s=[],u=ui(f),h=i.s.c;h<=i.e.c;++h){c=d[h]+u;var w=g?(e[f]||[])[h]:e[c];w!==void 0&&(o=fat(w,c,e,t))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(x={r:u},p&&p[f]&&(v=p[f],v.hidden&&(x.hidden=1),y=-1,v.hpx?y=JC(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(x.ht=y,x.customHeight=1),v.level&&(x.outlineLevel=v.level)),a[a.length]=Wt("row",s.join(""),x))}if(p)for(;f<p.length;++f)p&&p[f]&&(x={r:f+1},v=p[f],v.hidden&&(x.hidden=1),y=-1,v.hpx?y=JC(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(x.ht=y,x.customHeight=1),v.level&&(x.outlineLevel=v.level),a[a.length]=Wt("row","",x));return a.join("")}function HAe(e,t,r,n){var a=[pi,Wt("worksheet",null,{xmlns:Wx[0],"xmlns:r":Hi.r})],s=r.SheetNames[e],i=0,o="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=Wn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=fn(d)}n||(n={}),c["!comments"]=[];var f=[];Jnt(c,r,e,t,a),a[a.length]=Wt("dimension",null,{ref:u}),a[a.length]=dat(c,t,e,r),t.sheetFormat&&(a[a.length]=Wt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=iat(c,c["!cols"])),a[i=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=hat(c,t),o.length>0&&(a[a.length]=o)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),c["!protect"]&&(a[a.length]=tat(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=lat(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=Xnt(c["!merges"]));var h=-1,p,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(p={ref:x[0]},x[1].Target.charAt(0)!="#"&&(g=Ea(n,-1,Na(x[1].Target).replace(/#.*$/,""),Tn.HLINK),p["r:id"]="rId"+g),(h=x[1].Target.indexOf("#"))>-1&&(p.location=Na(x[1].Target.slice(h+1))),x[1].Tooltip&&(p.tooltip=Na(x[1].Tooltip)),a[a.length]=Wt("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=aat(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Mo("ignoredErrors",Wt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=Ea(n,-1,"../drawings/drawing"+(e+1)+".xml",Tn.DRAW),a[a.length]=Wt("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=Ea(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Tn.VML),a[a.length]=Wt("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function pat(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function mat(e,t,r){var n=Et(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=JC(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Wr(u)];g&&(f<0&&(f=p),h=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var x=n.l;return n.l=c,n.write_shift(4,o),n.l=x,n.length>n.l?n.slice(0,n.l):n}function gat(e,t,r,n){var a=mat(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Ut(e,0,a)}var xat=Zx,vat=By;function bat(){}function yat(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=wYe(e),r}function wat(e,t,r){r==null&&(r=Et(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Sk({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Lfe(e,r),r.slice(0,r.l)}function Cat(e){var t=Ed(e);return[t]}function Eat(e,t,r){return r==null&&(r=Et(8)),Xx(t,r)}function Sat(e){var t=Yx(e);return[t]}function _at(e,t,r){return r==null&&(r=Et(4)),Jx(t,r)}function Nat(e){var t=Ed(e),r=e.read_shift(1);return[t,r,"b"]}function kat(e,t,r){return r==null&&(r=Et(9)),Xx(t,r),r.write_shift(1,e.v?1:0),r}function Tat(e){var t=Yx(e),r=e.read_shift(1);return[t,r,"b"]}function Bat(e,t,r){return r==null&&(r=Et(5)),Jx(t,r),r.write_shift(1,e.v?1:0),r}function jat(e){var t=Ed(e),r=e.read_shift(1);return[t,r,"e"]}function Iat(e,t,r){return r==null&&(r=Et(9)),Xx(t,r),r.write_shift(1,e.v),r}function Fat(e){var t=Yx(e),r=e.read_shift(1);return[t,r,"e"]}function Oat(e,t,r){return r==null&&(r=Et(8)),Jx(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Dat(e){var t=Ed(e),r=e.read_shift(4);return[t,r,"s"]}function Pat(e,t,r){return r==null&&(r=Et(12)),Xx(t,r),r.write_shift(4,t.v),r}function Rat(e){var t=Yx(e),r=e.read_shift(4);return[t,r,"s"]}function Lat(e,t,r){return r==null&&(r=Et(8)),Jx(t,r),r.write_shift(4,t.v),r}function Mat(e){var t=Ed(e),r=yl(e);return[t,r,"n"]}function Uat(e,t,r){return r==null&&(r=Et(16)),Xx(t,r),Tx(e.v,r),r}function $Ae(e){var t=Yx(e),r=yl(e);return[t,r,"n"]}function Qat(e,t,r){return r==null&&(r=Et(12)),Jx(t,r),Tx(e.v,r),r}function Hat(e){var t=Ed(e),r=i9(e);return[t,r,"n"]}function $at(e,t,r){return r==null&&(r=Et(12)),Xx(t,r),Mfe(e.v,r),r}function Vat(e){var t=Yx(e),r=i9(e);return[t,r,"n"]}function zat(e,t,r){return r==null&&(r=Et(8)),Jx(t,r),Mfe(e.v,r),r}function Gat(e){var t=Ed(e),r=n9(e);return[t,r,"is"]}function Kat(e){var t=Ed(e),r=El(e);return[t,r,"str"]}function qat(e,t,r){return r==null&&(r=Et(12+4*e.v.length)),Xx(t,r),xo(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Wat(e){var t=Yx(e),r=El(e);return[t,r,"str"]}function Xat(e,t,r){return r==null&&(r=Et(8+4*e.v.length)),Jx(t,r),xo(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Yat(e,t,r){var n=e.l+t,a=Ed(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=hj(e,n-e.l,r);i[3]=Al(o,null,a,r.supbooks,r)}else e.l=n;return i}function Jat(e,t,r){var n=e.l+t,a=Ed(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=hj(e,n-e.l,r);i[3]=Al(o,null,a,r.supbooks,r)}else e.l=n;return i}function Zat(e,t,r){var n=e.l+t,a=Ed(e);a.r=r["!row"];var s=yl(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=hj(e,n-e.l,r);i[3]=Al(o,null,a,r.supbooks,r)}else e.l=n;return i}function est(e,t,r){var n=e.l+t,a=Ed(e);a.r=r["!row"];var s=El(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=hj(e,n-e.l,r);i[3]=Al(o,null,a,r.supbooks,r)}else e.l=n;return i}var tst=Zx,rst=By;function nst(e,t){return t==null&&(t=Et(4)),t.write_shift(4,e),t}function ast(e,t){var r=e.l+t,n=Zx(e),a=a9(e),s=El(e),i=El(e),o=El(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:o};return i&&(c.Tooltip=i),c}function sst(e,t){var r=Et(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));By({s:ws(e[0]),e:ws(e[0])},r),s9("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return xo(a||"",r),xo(e[1].Tooltip||"",r),xo("",r),r.slice(0,r.l)}function ist(){}function ost(e,t,r){var n=e.l+t,a=Ufe(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=jnt(e,n-e.l,r);i[1]=o}else e.l=n;return i}function lst(e,t,r){var n=e.l+t,a=Zx(e),s=[a];if(r.cellFormula){var i=Fnt(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}function cst(e,t,r){r==null&&(r=Et(18));var n=pj(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var VAe=["left","right","top","bottom","header","footer"];function ust(e){var t={};return VAe.forEach(function(r){t[r]=yl(e)}),t}function dst(e,t){return t==null&&(t=Et(48)),ix(e),VAe.forEach(function(r){Tx(e[r],t)}),t}function fst(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Ast(e,t,r){r==null&&(r=Et(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function hst(e){var t=Et(24);return t.write_shift(4,4),t.write_shift(4,1),By(e,t),t}function pst(e,t){return t==null&&(t=Et(66)),t.write_shift(2,e.password?f9(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function mst(){}function gst(){}function xst(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,g,x,v,y,w,E,k,B,j=[];o.biff=12,o["!row"]=0;var C=0,N=!1,I=[],L={},O=o.supbooks||a.supbooks||[[]];if(O.sharedf=L,O.arrayf=I,O.SheetNames=a.SheetNames||a.Sheets.map(function(K){return K.name}),!o.supbooks&&(o.supbooks=O,a.Names))for(var T=0;T<a.Names.length;++T)O[0][T+1]=a.Names[T];var P=[],R=[],q=!1;ZC[16]={n:"BrtShortReal",f:$Ae};var Q;if(j0(e,function(z,Y,ee){if(!h)switch(ee){case 148:u=z;break;case 0:p=z,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),k=ui(v=p.r),o["!row"]=p.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=Rb(z.hpt)),R[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:z[2]},z[2]){case"n":g.v=z[1];break;case"s":E=Y2[z[1]],g.v=E.t,g.r=E.r;break;case"b":g.v=!!z[1];break;case"e":g.v=z[1],o.cellText!==!1&&(g.w=I0[g.v]);break;case"str":g.t="s",g.v=z[1];break;case"is":g.t="s",g.v=z[1].t;break}if((x=i.CellXf[z[0].iStyleRef])&&UAe(g,x.numFmtId,null,o,s,i),y=z[0].c==-1?y+1:z[0].c,o.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[ys(y)+k]=g,o.cellFormula){for(N=!1,C=0;C<I.length;++C){var M=I[C];p.r>=M[0].s.r&&p.r<=M[0].e.r&&y>=M[0].s.c&&y<=M[0].e.c&&(g.F=fn(M[0]),N=!0)}!N&&z.length>3&&(g.f=z[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),o.cellDates&&x&&g.t=="n"&&Ny(zr[x.numFmtId])){var H=Vg(g.v);H&&(g.t="d",g.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}Q&&(Q.type=="XLDAPR"&&(g.D=!0),Q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=z[0].c==-1?y+1:z[0].c,o.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[ys(y)+k]=g,d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),Q&&(Q.type=="XLDAPR"&&(g.D=!0),Q=void 0);break;case 176:j.push(z);break;case 49:Q=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var W=n["!id"][z.relId];for(W?(z.Target=W.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=W):z.relId==""&&(z.Target="#"+z.loc),v=z.rfx.s.r;v<=z.rfx.e.r;++v)for(y=z.rfx.s.c;y<=z.rfx.e.c;++y)o.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=z):(w=Wr({c:y,r:v}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=z);break;case 426:if(!o.cellFormula)break;I.push(z),B=o.dense?c[v][y]:c[ys(y)+k],B.f=Al(z[1],d,{r:p.r,c:y},O,o),B.F=fn(z[0]);break;case 427:if(!o.cellFormula)break;L[Wr(z[0].s)]=z[1],B=o.dense?c[v][y]:c[ys(y)+k],B.f=Al(z[1],d,{r:p.r,c:y},O,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)P[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},q||(q=!0,A9(z.w/256)),Em(P[z.e+1]);break;case 161:c["!autofilter"]={ref:fn(z)};break;case 476:c["!margins"]=z;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),z.name&&(a.Sheets[r].CodeName=z.name),(z.above||z.left)&&(c["!outline"]={above:z.above,left:z.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),z.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Y.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ee.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=fn(u||d)),o.sheetRows&&c["!ref"]){var G=Wn(c["!ref"]);o.sheetRows<=+G.e.r&&(G.e.r=o.sheetRows-1,G.e.r>d.e.r&&(G.e.r=d.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>d.e.c&&(G.e.c=d.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),c["!fullref"]=c["!ref"],c["!ref"]=fn(G))}return j.length>0&&(c["!merges"]=j),P.length>0&&(c["!cols"]=P),R.length>0&&(c["!rows"]=R),c}function vst(e,t,r,n,a,s,i){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ts(t),t.z=t.z||zr[14],t.v=zi(es(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=$m(a.cellXfs,t,a),t.l&&s["!links"].push([Wr(c),t.l]),t.c&&s["!comments"].push([Wr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=x9(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,i?Ut(e,18,Lat(t,c)):Ut(e,7,Pat(t,c))):(c.t="str",i?Ut(e,17,Xat(t,c)):Ut(e,6,qat(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?Ut(e,13,zat(t,c)):Ut(e,2,$at(t,c)):i?Ut(e,16,Qat(t,c)):Ut(e,5,Uat(t,c)),!0;case"b":return c.t="b",i?Ut(e,15,Bat(t,c)):Ut(e,4,kat(t,c)),!0;case"e":return c.t="e",i?Ut(e,14,Oat(t,c)):Ut(e,3,Iat(t,c)),!0}return i?Ut(e,12,_at(t,c)):Ut(e,1,Eat(t,c)),!0}function bst(e,t,r,n){var a=Wn(t["!ref"]||"A1"),s,i="",o=[];Ut(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){i=ui(d),gat(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=ys(h)),s=o[h]+i;var p=c?(t[d]||[])[h]:t[s];if(!p){f=!1;continue}f=vst(e,p,d,h,n,t,f)}}Ut(e,146)}function yst(e,t){!t||!t["!merges"]||(Ut(e,177,nst(t["!merges"].length)),t["!merges"].forEach(function(r){Ut(e,176,rst(r))}),Ut(e,178))}function wst(e,t){!t||!t["!cols"]||(Ut(e,390),t["!cols"].forEach(function(r,n){r&&Ut(e,60,cst(n,r))}),Ut(e,391))}function Cst(e,t){!t||!t["!ref"]||(Ut(e,648),Ut(e,649,hst(Wn(t["!ref"]))),Ut(e,650))}function Est(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Ea(r,-1,n[1].Target.replace(/#.*$/,""),Tn.HLINK);Ut(e,494,sst(n,a))}}),delete t["!links"]}function Sst(e,t,r,n){if(t["!comments"].length>0){var a=Ea(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tn.VML);Ut(e,551,s9("rId"+a)),t["!legacy"]=a}}function _st(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:fn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=kc(s);o.s.r==o.e.r&&(o.e.r=kc(t["!ref"]).e.r,s=fn(o));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ut(e,161,By(Wn(s))),Ut(e,162)}}function Nst(e,t,r){Ut(e,133),Ut(e,137,Ast(t,r)),Ut(e,138),Ut(e,134)}function kst(e,t){t["!protect"]&&Ut(e,535,pst(t["!protect"]))}function Tst(e,t,r,n){var a=Sc(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=Wn(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Ut(a,129),(r.vbaraw||i["!outline"])&&Ut(a,147,wat(o,i["!outline"])),Ut(a,148,vat(c)),Nst(a,i,r.Workbook),wst(a,i),bst(a,i,e,t),kst(a,i),_st(a,i,r,e),yst(a,i),Est(a,i,n),i["!margins"]&&Ut(a,476,dst(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Cst(a,i),Sst(a,i,e,n),Ut(a,130),a.end()}function Bst(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=Kn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function jst(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Bst(f);d.s.r=d.s.c=0,d.e.c=o,u=ys(o),h[0].forEach(function(p,g){i[u+ui(g)]={t:"n",v:p,z:h[1]},c=g}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(i["!ref"]=fn(d)),i}function Ist(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(QAe);return o&&v9(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Fst(e,t){e.l+=10;var r=El(e);return{name:r}}function Ost(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return j0(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var b9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Dst=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Pst=[],Rst=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function WJ(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Ja(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function XJ(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ja(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function zAe(e){XJ(e.WBProps,b9),XJ(e.CalcPr,Rst),WJ(e.WBView,Dst),WJ(e.Sheets,Pst),eb.date1904=Ja(e.WBProps.date1904)}function Lst(e){return!e.Workbook||!e.Workbook.WBProps?"false":Ja(e.Workbook.WBProps.date1904)?"true":"false"}var Mst="][*?/\\".split("");function GAe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Mst.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Ust(e,t,r){e.forEach(function(n,a){GAe(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[a]&&t[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function Qst(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Ust(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Lnt(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Hst=/<\w+:workbook/;function $st(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(jl,function(c,u){var d=Zr(c);switch(GA(d[0])){case"<?xml":break;case"<workbook":c.match(Hst)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":b9.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ja(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Da(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Kn(Da(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Da(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Ja(d.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=Kn(Da(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Wx.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return zAe(r),r}function KAe(e){var t=[pi];t[t.length]=Wt("workbook",null,{xmlns:Wx[0],"xmlns:r":Hi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(b9.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Wt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:Na(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=Wt("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Wt("definedName",Na(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Vst(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bR(e),r.name=El(e),r}function zst(e,t){return t||(t=Et(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),s9(e.strRelID,t),xo(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Gst(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?El(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Kst(e,t){t||(t=Et(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Lfe(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function qst(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Wst(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=CYe(e),i=Int(e,0,r),o=a9(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function Xst(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],ZC[16]={n:"BrtFRTArchID$",f:qst},j0(e,function(c,u,d){switch(d){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Al(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,c]):i[0]=[d,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),zAe(r),r.Names=s,r.supbooks=i,r}function Yst(e,t){Ut(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ut(e,156,zst(a))}Ut(e,144)}function Jst(e,t){t||(t=Et(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return xo("SheetJS",t),xo(xk.version,t),xo(xk.version,t),xo("7262",t),t.length>t.l?t.slice(0,t.l):t}function Zst(e,t){t||(t=Et(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function eit(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Ut(e,135),Ut(e,158,Zst(a)),Ut(e,136))}}function tit(e,t){var r=Sc();return Ut(r,131),Ut(r,128,Jst()),Ut(r,153,Kst(e.Workbook&&e.Workbook.WBProps||null)),eit(r,e),Yst(r,e),Ut(r,132),r.end()}function rit(e,t,r){return t.slice(-4)===".bin"?Xst(e,r):$st(e,r)}function nit(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?xst(e,n,r,a,s,i,o):Wnt(e,n,r,a,s,i,o)}function ait(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Ost(e,n,r,a,s):Ist(e,n,r,a,s)}function sit(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?ort():lrt()}function iit(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?srt():irt()}function oit(e,t,r,n){return t.slice(-4)===".bin"?rtt(e,r,n):Vet(e,r,n)}function lit(e,t,r){return NAe(e,r)}function cit(e,t,r){return t.slice(-4)===".bin"?oet(e,r):aet(e,r)}function uit(e,t,r){return t.slice(-4)===".bin"?ert(e,r):ztt(e,r)}function dit(e,t,r){return t.slice(-4)===".bin"?Htt(e):Utt(e)}function fit(e,t,r,n){return r.slice(-4)===".bin"?$tt(e,t,r,n):void 0}function Ait(e,t,r){return t.slice(-4)===".bin"?Rtt(e,t,r):Mtt(e,t,r)}function hit(e,t,r){return(t.slice(-4)===".bin"?tit:KAe)(e)}function pit(e,t,r,n,a){return(t.slice(-4)===".bin"?Tst:HAe)(e,r,n,a)}function mit(e,t,r){return(t.slice(-4)===".bin"?ftt:SAe)(e,r)}function git(e,t,r){return(t.slice(-4)===".bin"?det:gAe)(e,r)}function xit(e,t,r){return(t.slice(-4)===".bin"?trt:BAe)(e)}function vit(e){return(e.slice(-4)===".bin"?Ltt:kAe)()}var qAe=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,WAe=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Xd(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(qAe),s,i,o,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(WAe),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function bit(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(qAe),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(WAe),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var Z2;function yit(e,t){var r=Z2[e]||Kn(e);return r==="General"?Nx(t):vd(r,t)}function wit(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ja(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=es(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Kn(t)]=a}function Cit(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||I0[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=VC(e.v):e.w=Nx(e.v):e.w=yit(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=Z2[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Ny(n)){var a=Vg(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Eit(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Pet[n.Pattern]||n.Pattern)}e[t.ID]=t}function Sit(e,t,r,n,a,s,i,o,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ja(e);break;case"String":n.t="s",n.r=AJ(Kn(e)),n.v=e.indexOf("<")>-1?Kn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(es(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Kn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=$fe[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=AJ(t||e));break}if(Cit(n,d,u),u.cellFormula!==!1)if(n.Formula){var x=Kn(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=Z1(x,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Z1("RC:RC",a):n.ArrayRange&&(n.F=Z1(n.ArrayRange,a),c.push([Wn(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function _it(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function sO(e,t){var r=t||{};ky();var n=m2(J7(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Da(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=ts(r);return i.type="string",Pb.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Le){a.indexOf("<"+Le)>=0&&(s=!0)}),s)return dot(n,r);Z2={"General Number":"General","General Date":zr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":zr[15],"Short Date":zr[14],"Long Time":zr[19],"Medium Time":zr[18],"Short Time":zr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:zr[2],Standard:zr[4],Percent:zr[10],Scientific:zr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},f=[],h=r.dense?[]:{},p="",g={},x={},v=Xd('<Data ss:Type="String">'),y=0,w=0,E=0,k={s:{r:2e6,c:2e6},e:{r:0,c:0}},B={},j={},C="",N=0,I=[],L={},O={},T=0,P=[],R=[],q={},Q=[],G,K=!1,z=[],Y=[],ee={},M=0,H=0,W={Sheets:[],WBProps:{date1904:!1}},Z={};KC.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";o=KC.exec(n);)switch(o[3]=(ae=o[3]).toLowerCase()){case"data":if(ae=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Sit(n.slice(y,o.index),C,v,c[c.length-1][0]=="comment"?q:g,{c:w,r:E},B,Q[w],x,z,r):(C="",v=Xd(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(R.length>0&&(g.c=R),(!r.sheetRows||r.sheetRows>E)&&g.v!==void 0&&(r.dense?(h[E]||(h[E]=[]),h[E][w]=g):h[ys(w)+ui(E)]=g),g.HRef&&(g.l={Target:Kn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(M=w+(parseInt(g.MergeAcross,10)|0),H=E+(parseInt(g.MergeDown,10)|0),I.push({s:{c:w,r:E},e:{c:M,r:H}})),!r.sheetStubs)g.MergeAcross?w=M+1:++w;else if(g.MergeAcross||g.MergeDown){for(var oe=w;oe<=M;++oe)for(var se=E;se<=H;++se)(oe>w||se>E)&&(r.dense?(h[se]||(h[se]=[]),h[se][oe]={t:"z"}):h[ys(oe)+ui(se)]={t:"z"});w=M+1}else++w;else g=bit(o[0]),g.Index&&(w=+g.Index-1),w<k.s.c&&(k.s.c=w),w>k.e.c&&(k.e.c=w),o[0].slice(-2)==="/>"&&++w,R=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(E<k.s.r&&(k.s.r=E),E>k.e.r&&(k.e.r=E),o[0].slice(-2)==="/>"&&(x=Xd(o[0]),x.Index&&(E=+x.Index-1)),w=0,++E):(x=Xd(o[0]),x.Index&&(E=+x.Index-1),ee={},(x.AutoFitHeight=="0"||x.Height)&&(ee.hpx=parseInt(x.Height,10),ee.hpt=JC(ee.hpx),Y[E]=ee),x.Hidden=="1"&&(ee.hidden=!0,Y[E]=ee));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(p),k.s.r<=k.e.r&&k.s.c<=k.e.c&&(h["!ref"]=fn(k),r.sheetRows&&r.sheetRows<=k.e.r&&(h["!fullref"]=h["!ref"],k.e.r=r.sheetRows-1,h["!ref"]=fn(k))),I.length&&(h["!merges"]=I),Q.length>0&&(h["!cols"]=Q),Y.length>0&&(h["!rows"]=Y),d[p]=h}else k={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=w=0,c.push([o[3],!1]),u=Xd(o[0]),p=Kn(u.Name),h=r.dense?[]:{},I=[],z=[],Y=[],Z={name:p,Hidden:0},W.Sheets.push(Z);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),Q=[],K=!1}break;case"style":o[1]==="/"?Eit(B,j,r):j=Xd(o[0]);break;case"numberformat":j.nf=Kn(Xd(o[0]).Format||"General"),Z2[j.nf]&&(j.nf=Z2[j.nf]);for(var ce=0;ce!=392&&zr[ce]!=j.nf;++ce);if(ce==392){for(ce=57;ce!=392;++ce)if(zr[ce]==null){Jh(j.nf,ce);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(G=Xd(o[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!K&&G.wpx>10){K=!0,xl=CAe;for(var de=0;de<Q.length;++de)Q[de]&&Em(Q[de])}K&&Em(G),Q[G.Index-1||Q.length]=G;for(var ke=0;ke<+G.Span;++ke)Q[Q.length]=ts(G);break;case"namedrange":if(o[1]==="/")break;W.Names||(W.Names=[]);var re=Zr(o[0]),_e={Name:re.Name,Ref:Z1(re.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(_e.Sheet=W.Sheets.length-1),W.Names.push(_e);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?C+=n.slice(N,o.index):N=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=Xd(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?qYe(L,ae,n.slice(T,o.index)):T=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));_it(q),R.push(q)}else c.push([o[3],!1]),u=Xd(o[0]),q={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ne=Xd(o[0]);h["!autofilter"]={ref:Z1(Ne.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return tZ(n,r);var Se=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(o[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(T,o.index)){case"SheetHidden":Z.Hidden=1;break;case"SheetVeryHidden":Z.Hidden=2;break}else T=o.index+o[0].length;break;case"header":h["!margins"]||ix(h["!margins"]={},"xlml"),isNaN(+Zr(o[0]).Margin)||(h["!margins"].header=+Zr(o[0]).Margin);break;case"footer":h["!margins"]||ix(h["!margins"]={},"xlml"),isNaN(+Zr(o[0]).Margin)||(h["!margins"].footer=+Zr(o[0]).Margin);break;case"pagemargins":var he=Zr(o[0]);h["!margins"]||ix(h["!margins"]={},"xlml"),isNaN(+he.Top)||(h["!margins"].top=+he.Top),isNaN(+he.Left)||(h["!margins"].left=+he.Left),isNaN(+he.Right)||(h["!margins"].right=+he.Right),isNaN(+he.Bottom)||(h["!margins"].bottom=+he.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?wit(O,ae,P,n.slice(T,o.index)):(P=o,T=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Be={};return!r.bookSheets&&!r.bookProps&&(Be.Sheets=d),Be.SheetNames=f,Be.Workbook=W,Be.SSF=ts(zr),Be.Props=L,Be.Custprops=O,Be}function NR(e,t){switch(w9(t=t||{}),t.type||"base64"){case"base64":return sO(xu(e),t);case"binary":case"buffer":case"file":return sO(e,t);case"array":return sO(Qm(e),t)}}function Nit(e,t){var r=[];return e.Props&&r.push(WYe(e.Props,t)),e.Custprops&&r.push(XYe(e.Props,e.Custprops)),r.join("")}function kit(){return""}function Tit(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(Wt("NumberFormat",null,{"ss:Format":Na(zr[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};r.push(Wt("Style",s.join(""),i))}),Wt("Styles",r.join(""))}function XAe(e){return Wt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+m9(e.Ref,{r:0,c:0})})}function Bit(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(XAe(a)))}return Wt("Names",r.join(""))}function jit(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var o=a[i];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(XAe(o)))}return s.join("")}function Iit(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Wt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Wt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Wt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Wt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Mo("ProtectContents","True")),e["!protect"].objects&&a.push(Mo("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Mo("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Mo("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Mo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":Wt("WorksheetOptions",a.join(""),{xmlns:tu.x})}function Fit(e){return e.map(function(t){var r=JXe(t.t||""),n=Wt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Wt("Comment",n,{"ss:Author":t.a})}).join("")}function Oit(e,t,r,n,a,s,i){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Na(m9(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var c=ws(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Na(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Na(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=i.c||u[d].s.r!=i.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=I0[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||zr[14]);break;case"s":f="String",h=YXe(e.v||"");break}var p=$m(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=i.c+1;var g=e.v!=null?h:"",x=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(x+=Fit(e.c)),Wt("Cell",x,o)}function Dit(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Rb(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Pit(e,t,r,n){if(!e["!ref"])return"";var a=Wn(e["!ref"]),s=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach(function(v,y){Em(v);var w=!!v.width,E=pj(y,v),k={"ss:Index":y+1};w&&(k["ss:Width"]=XC(E.width)),v.hidden&&(k["ss:Hidden"]="1"),o.push(Wt("Column",null,k))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[Dit(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>f)&&!(s[i].s.r>u)&&!(s[i].e.c<f)&&!(s[i].e.r<u)){(s[i].s.c!=f||s[i].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},g=Wr(p),x=c?(e[u]||[])[f]:e[g];d.push(Oit(x,g,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function Rit(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],i=s?jit(s,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?Pit(s,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(Iit(s,t,e,r)),n.join("")}function Lit(e,t){t||(t={}),e.SSF||(e.SSF=ts(zr)),e.SSF&&(ky(),lj(e.SSF),t.revssf=uj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],$m(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Nit(e,t)),r.push(kit()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Wt("Worksheet",Rit(n,t,e),{"ss:Name":Na(e.SheetNames[n])}));return r[2]=Tit(e,t),r[3]=Bit(e),pi+Wt("Workbook",r.join(""),{xmlns:tu.ss,"xmlns:o":tu.o,"xmlns:x":tu.x,"xmlns:ss":tu.ss,"xmlns:dt":tu.dt,"xmlns:html":tu.html})}function Mit(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=kYe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=TYe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Uit=[60,1084,2066,2165,2175];function Qit(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var c=zh(r,r.l),u=kR[c],d=0;u!=null&&Uit.indexOf(c)>-1;)s=zh(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+s),i.push(o),r.l+=4+s,u=kR[c=zh(r,r.l)];var f=ho(i);Lo(f,0);var h=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(h),h+=i[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function cA(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=zr[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||I0[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=VC(e.v):e.w=Nx(e.v):e.w=vd(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Ny(zr[n]||String(n))){var a=Vg(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function A5(e,t,r){return{v:e,ixfe:t,t:r}}function Hit(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,c=[],u="",d={},f,h="",p,g,x,v,y={},w=[],E,k,B=[],j=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},I=function(Pt){return Pt<8?nx[Pt]:Pt<64&&j[Pt-8]||nx[Pt]},L=function(Pt,ut,Cr){var Kt=ut.XF.data;if(!(!Kt||!Kt.patternType||!Cr||!Cr.cellStyles)){ut.s={},ut.s.patternType=Kt.patternType;var ln;(ln=WC(I(Kt.icvFore)))&&(ut.s.fgColor={rgb:ln}),(ln=WC(I(Kt.icvBack)))&&(ut.s.bgColor={rgb:ln})}},O=function(Pt,ut,Cr){if(!(ee>1)&&!(Cr.sheetRows&&Pt.r>=Cr.sheetRows)){if(Cr.cellStyles&&ut.XF&&ut.XF.data&&L(Pt,ut,Cr),delete ut.ixfe,delete ut.XF,f=Pt,h=Wr(Pt),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Pt.r<i.s.r&&(i.s.r=Pt.r),Pt.c<i.s.c&&(i.s.c=Pt.c),Pt.r+1>i.e.r&&(i.e.r=Pt.r+1),Pt.c+1>i.e.c&&(i.e.c=Pt.c+1),Cr.cellFormula&&ut.f){for(var Kt=0;Kt<w.length;++Kt)if(!(w[Kt][0].s.c>Pt.c||w[Kt][0].s.r>Pt.r)&&!(w[Kt][0].e.c<Pt.c||w[Kt][0].e.r<Pt.r)){ut.F=fn(w[Kt][0]),(w[Kt][0].s.c!=Pt.c||w[Kt][0].s.r!=Pt.r)&&delete ut.f,ut.f&&(ut.f=""+Al(w[Kt][1],i,Pt,z,T));break}}Cr.dense?(a[Pt.r]||(a[Pt.r]=[]),a[Pt.r][Pt.c]=ut):a[h]=ut}},T={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var P,R=[],q=[],Q=[],G=[],K=!1,z=[];z.SheetNames=T.snames,z.sharedf=T.sharedf,z.arrayf=T.arrayf,z.names=[],z.XTI=[];var Y=0,ee=0,M=0,H=[],W=[],Z;T.codepage=1200,of(1200);for(var ae=!1;e.l<e.length-1;){var oe=e.l,se=e.read_shift(2);if(se===0&&Y===10)break;var ce=e.l===e.length?0:e.read_shift(2),de=kR[se];if(de&&de.f){if(t.bookSheets&&Y===133&&se!==133)break;if(Y=se,de.r===2||de.r==12){var ke=e.read_shift(2);if(ce-=2,!T.enc&&ke!==se&&((ke&255)<<8|ke>>8)!==se)throw new Error("rt mismatch: "+ke+"!="+se);de.r==12&&(e.l+=10,ce-=10)}var re={};if(se===10?re=de.f(e,ce,T):re=Qit(se,de,e,ce,T),ee==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(se){case 34:r.opts.Date1904=C.WBProps.date1904=re;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=re,!t.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=re;break;case 66:var _e=Number(re);switch(_e){case 21010:_e=1200;break;case 32768:_e=1e4;break;case 32769:_e=1252;break}of(T.codepage=_e),ae=!0;break;case 317:T.rrtabid=re;break;case 25:T.winlocked=re;break;case 439:r.opts.RefreshAll=re;break;case 12:r.opts.CalcCount=re;break;case 16:r.opts.CalcDelta=re;break;case 17:r.opts.CalcIter=re;break;case 13:r.opts.CalcMode=re;break;case 14:r.opts.CalcPrecision=re;break;case 95:r.opts.CalcSaveRecalc=re;break;case 15:T.CalcRefMode=re;break;case 2211:r.opts.FullCalc=re;break;case 129:re.fDialog&&(a["!type"]="dialog"),re.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),re.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:B.push(re);break;case 430:z.push([re]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(re);break;case 24:case 536:Z={Name:re.Name,Ref:Al(re.rgce,i,null,z,T)},re.itab>0&&(Z.Sheet=re.itab-1),z.names.push(Z),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(W[re.itab-1]={ref:fn(re.rgce[0][0][1][2])});break;case 22:T.ExternCount=re;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(re),z.XTI=z.XTI.concat(re);break;case 2196:if(T.biff<8)break;Z!=null&&(Z.Comment=re[1]);break;case 18:a["!protect"]=re;break;case 19:re!==0&&T.WTF&&console.error("Password verifier: "+re);break;case 133:s[re.pos]=re,T.snames.push(re.name);break;case 10:{if(--ee)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=fn(i),t.sheetRows&&t.sheetRows<=i.e.r){var Ne=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=fn(i),i.e.r=Ne}i.e.r++,i.e.c++}R.length>0&&(a["!merges"]=R),q.length>0&&(a["!objects"]=q),Q.length>0&&(a["!cols"]=Q),G.length>0&&(a["!rows"]=G),C.Sheets.push(N)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),T.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(T.biff=5,ae=!0,of(T.codepage=28591)),T.biff==8&&re.BIFFVer==0&&re.dt==16&&(T.biff=2),ee++)break;if(a=t.dense?[]:{},T.biff<8&&!ae&&(ae=!0,of(T.codepage=t.codepage||1252)),T.biff<5||re.BIFFVer==0&&re.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-ce,name:u};s[Se.pos]=Se,T.snames.push(u)}else u=(s[oe]||{name:""}).name;re.dt==32&&(a["!type"]="chart"),re.dt==64&&(a["!type"]="macro"),R=[],q=[],T.arrayf=w=[],Q=[],G=[],K=!1,N={Hidden:(s[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[re.r]||[])[re.c]:a[Wr({c:re.c,r:re.r})])&&++re.c,E={ixfe:re.ixfe,XF:B[re.ixfe]||{},v:re.val,t:"n"},M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O({c:re.c,r:re.r},E,t);break;case 5:case 517:E={ixfe:re.ixfe,XF:B[re.ixfe],v:re.val,t:re.t},M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O({c:re.c,r:re.r},E,t);break;case 638:E={ixfe:re.ixfe,XF:B[re.ixfe],v:re.rknum,t:"n"},M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O({c:re.c,r:re.r},E,t);break;case 189:for(var he=re.c;he<=re.C;++he){var Be=re.rkrec[he-re.c][0];E={ixfe:Be,XF:B[Be],v:re.rkrec[he-re.c][1],t:"n"},M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O({c:he,r:re.r},E,t)}break;case 6:case 518:case 1030:{if(re.val=="String"){o=re;break}if(E=A5(re.val,re.cell.ixfe,re.tt),E.XF=B[E.ixfe],t.cellFormula){var Le=re.formula;if(Le&&Le[0]&&Le[0][0]&&Le[0][0][0]=="PtgExp"){var Ge=Le[0][0][1][0],xe=Le[0][0][1][1],Ie=Wr({r:Ge,c:xe});y[Ie]?E.f=""+Al(re.formula,i,re.cell,z,T):E.F=((t.dense?(a[Ge]||[])[xe]:a[Ie])||{}).F}else E.f=""+Al(re.formula,i,re.cell,z,T)}M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O(re.cell,E,t),o=re}break;case 7:case 519:if(o)o.val=re,E=A5(re,o.cell.ixfe,"s"),E.XF=B[E.ixfe],t.cellFormula&&(E.f=""+Al(o.formula,i,o.cell,z,T)),M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O(o.cell,E,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(re);var De=Wr(re[0].s);if(p=t.dense?(a[re[0].s.r]||[])[re[0].s.c]:a[De],t.cellFormula&&p){if(!o||!De||!p)break;p.f=""+Al(re[1],i,re[0],z,T),p.F=fn(re[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Wr(o.cell)]=re[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Wr(o.cell)],(p||{}).f=""+Al(re[0],i,f,z,T)}}break;case 253:E=A5(c[re.isst].t,re.ixfe,"s"),c[re.isst].h&&(E.h=c[re.isst].h),E.XF=B[E.ixfe],M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O({c:re.c,r:re.r},E,t);break;case 513:t.sheetStubs&&(E={ixfe:re.ixfe,XF:B[re.ixfe],t:"z"},M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O({c:re.c,r:re.r},E,t));break;case 190:if(t.sheetStubs)for(var Ve=re.c;Ve<=re.C;++Ve){var We=re.ixfe[Ve-re.c];E={ixfe:We,XF:B[We],t:"z"},M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O({c:Ve,r:re.r},E,t)}break;case 214:case 516:case 4:E=A5(re.val,re.ixfe,"s"),E.XF=B[E.ixfe],M>0&&(E.z=H[E.ixfe>>8&63]),cA(E,t,r.opts.Date1904),O({c:re.c,r:re.r},E,t);break;case 0:case 512:ee===1&&(i=re);break;case 252:c=re;break;case 1054:if(T.biff==4){H[M++]=re[1];for(var at=0;at<M+163&&zr[at]!=re[1];++at);at>=163&&Jh(re[1],M+163)}else Jh(re[1],re[0]);break;case 30:{H[M++]=re;for(var ht=0;ht<M+163&&zr[ht]!=re;++ht);ht>=163&&Jh(re,M+163)}break;case 229:R=R.concat(re);break;case 93:q[re.cmo[0]]=T.lastobj=re;break;case 438:T.lastobj.TxO=re;break;case 127:T.lastobj.ImData=re;break;case 440:for(v=re[0].s.r;v<=re[0].e.r;++v)for(x=re[0].s.c;x<=re[0].e.c;++x)p=t.dense?(a[v]||[])[x]:a[Wr({c:x,r:v})],p&&(p.l=re[1]);break;case 2048:for(v=re[0].s.r;v<=re[0].e.r;++v)for(x=re[0].s.c;x<=re[0].e.c;++x)p=t.dense?(a[v]||[])[x]:a[Wr({c:x,r:v})],p&&p.l&&(p.l.Tooltip=re[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;p=t.dense?(a[re[0].r]||[])[re[0].c]:a[Wr(re[0])];var Tt=q[re[2]];p||(t.dense?(a[re[0].r]||(a[re[0].r]=[]),p=a[re[0].r][re[0].c]={t:"z"}):p=a[Wr(re[0])]={t:"z"},i.e.r=Math.max(i.e.r,re[0].r),i.s.r=Math.min(i.s.r,re[0].r),i.e.c=Math.max(i.e.c,re[0].c),i.s.c=Math.min(i.s.c,re[0].c)),p.c||(p.c=[]),g={a:re[1],t:Tt.TxO.t},p.c.push(g)}break;case 2173:Ttt(B[re.ixfe],re.ext);break;case 125:{if(!T.cellStyles)break;for(;re.e>=re.s;)Q[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},K||(K=!0,A9(re.w/256)),Em(Q[re.e+1])}break;case 520:{var Rt={};re.level!=null&&(G[re.r]=Rt,Rt.level=re.level),re.hidden&&(G[re.r]=Rt,Rt.hidden=!0),re.hpt&&(G[re.r]=Rt,Rt.hpt=re.hpt,Rt.hpx=Rb(re.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||ix(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[se]]=re;break;case 161:a["!margins"]||ix(a["!margins"]={}),a["!margins"].header=re.header,a["!margins"].footer=re.footer;break;case 574:re.RTL&&(C.Views[0].RTL=!0);break;case 146:j=re;break;case 2198:P=re;break;case 140:k=re;break;case 442:u?N.CodeName=re||N.name:C.WBProps.CodeName=re||"ThisWorkbook";break}}else de||console.error("Missing Info for XLS Record 0x"+se.toString(16)),e.l+=ce}return r.SheetNames=Gs(s).sort(function(Ft,Pt){return Number(Ft)-Number(Pt)}).map(function(Ft){return s[Ft].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&W.forEach(function(Ft,Pt){r.Sheets[r.SheetNames[Pt]]["!autofilter"]=Ft}),r.Strings=c,r.SSF=ts(zr),T.enc&&(r.Encryption=T.enc),P&&(r.Themes=P),r.Metadata={},k!==void 0&&(r.Metadata.Country=k),z.names.length>0&&(C.Names=z.names),r.Workbook=C,r}var eC={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function $it(e,t,r){var n=Ir.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=jJ(n,yR,eC.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=Ir.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=jJ(i,wR,eC.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Wfe(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Vit(e,t){var r=[],n=[],a=[],s=0,i,o=oJ(yR,"n"),c=oJ(wR,"n");if(e.Props)for(i=Gs(e.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Props[i[s]]]);if(e.Custprops)for(i=Gs(e.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(o,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Custprops[i[s]]]);var u=[];for(s=0;s<a.length;++s)rAe.indexOf(a[s][0])>-1||qfe.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&Ir.utils.cfb_add(t,"/SummaryInformation",IJ(n,eC.SI,c,wR)),(r.length||u.length)&&Ir.utils.cfb_add(t,"/DocumentSummaryInformation",IJ(r,eC.DSI,o,yR,u.length?u:null,eC.UDI))}function YAe(e,t){t||(t={}),w9(t),$7(),t.codepage&&H7(t.codepage);var r,n;if(e.FullPaths){if(Ir.find(e,"/encryption"))throw new Error("File is password-protected");r=Ir.find(e,"!CompObj"),n=Ir.find(e,"/Workbook")||Ir.find(e,"/Book")}else{switch(t.type){case"base64":e=ou(xu(e));break;case"binary":e=ou(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Lo(e,0),n={content:e}}var a,s;if(r&&Mit(r),t.bookProps&&!t.bookSheets)a={};else{var i=Cn?"buffer":"array";if(n&&n.content)a=Hit(n.content,t);else if((s=Ir.find(e,"PerfectOffice_MAIN"))&&s.content)a=sx.to_workbook(s.content,(t.type=i,t));else if((s=Ir.find(e,"NativeContent_MAIN"))&&s.content)a=sx.to_workbook(s.content,(t.type=i,t));else throw(s=Ir.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ir.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=nrt(e))}var o={};return e.FullPaths&&$it(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function zit(e,t){var r=t||{},n=Ir.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ir.utils.cfb_add(n,a,JAe(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Vit(e,n),r.biff==8&&e.vbaraw&&art(n,Ir.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var ZC={0:{f:pat},1:{f:Cat},2:{f:Hat},3:{f:jat},4:{f:Nat},5:{f:Mat},6:{f:Kat},7:{f:Dat},8:{f:est},9:{f:Zat},10:{f:Yat},11:{f:Jat},12:{f:Sat},13:{f:Vat},14:{f:Fat},15:{f:Tat},16:{f:$Ae},17:{f:Wat},18:{f:Rat},19:{f:n9},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Wst},40:{},42:{},43:{f:Ket},44:{f:zet},45:{f:Xet},46:{f:Jet},47:{f:Yet},48:{},49:{f:mYe},50:{},51:{f:Itt},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:AAe},62:{f:Gat},63:{f:Qtt},64:{f:mst},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Nl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:fst},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:yat},148:{f:xat,p:16},151:{f:ist},152:{},153:{f:Gst},154:{},155:{},156:{f:Vst},157:{},158:{},159:{T:1,f:iet},160:{T:-1},161:{T:1,f:Zx},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:tst},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Btt},336:{T:-1},337:{f:Dtt,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bR},357:{},358:{},359:{},360:{T:1},361:{},362:{f:fAe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ost},427:{f:lst},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ust},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:bat},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ast},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bR},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Jtt},633:{T:1},634:{T:-1},635:{T:1,f:Xtt},636:{T:-1},637:{f:bYe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Fst},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:gst},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},kR={6:{f:nO},10:{f:yp},12:{f:_i},13:{f:_i},14:{f:ri},15:{f:ri},16:{f:yl},17:{f:ri},18:{f:ri},19:{f:_i},20:{f:LJ},21:{f:LJ},23:{f:fAe},24:{f:UJ},25:{f:ri},26:{},27:{},28:{f:pZe},29:{},34:{f:ri},35:{f:MJ},38:{f:yl},39:{f:yl},40:{f:yl},41:{f:yl},42:{f:ri},43:{f:ri},47:{f:Tet},49:{f:HJe},51:{f:_i},60:{},61:{f:RJe},64:{f:ri},65:{f:QJe},66:{f:_i},77:{},80:{},81:{},82:{},85:{f:_i},89:{},90:{},91:{},92:{f:_Je},93:{f:xZe},94:{},95:{f:ri},96:{},97:{},99:{f:ri},125:{f:AAe},128:{f:nZe},129:{f:kJe},130:{f:_i},131:{f:ri},132:{f:ri},133:{f:TJe},134:{},140:{f:_Ze},141:{f:_i},144:{},146:{f:TZe},151:{},152:{},153:{},154:{},155:{},156:{f:_i},157:{},158:{},160:{f:PZe},161:{f:IZe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ZJe},190:{f:eZe},193:{f:yp},197:{},198:{},199:{},200:{},201:{},202:{f:ri},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:_i},220:{},221:{f:ri},222:{},224:{f:rZe},225:{f:SJe},226:{f:yp},227:{},229:{f:mZe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:jJe},253:{f:VJe},255:{f:FJe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:nAe},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ri},353:{f:yp},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:lZe},431:{f:ri},432:{},433:{},434:{},437:{},438:{f:yZe},439:{f:ri},440:{f:wZe},441:{},442:{f:sS},443:{},444:{f:_i},445:{},446:{},448:{f:yp},449:{f:PJe,r:2},450:{f:yp},512:{f:DJ},513:{f:DZe},515:{f:iZe},516:{f:GJe},517:{f:RJ},519:{f:RZe},520:{f:OJe},523:{},545:{f:QJ},549:{f:OJ},566:{},574:{f:MJe},638:{f:JJe},659:{},1048:{},1054:{f:qJe},1084:{},1212:{f:fZe},2048:{f:EZe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:u5},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:yp},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:BZe,r:12},2173:{f:ktt,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ri,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:dZe,r:12},2197:{},2198:{f:wtt,r:12},2199:{},2200:{},2201:{},2202:{f:AZe,r:12},2203:{f:yp},2204:{},2205:{},2206:{},2207:{},2211:{f:DJe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:_i},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:FZe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:kZe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:DJ},1:{},2:{f:HZe},3:{f:UZe},4:{f:MZe},5:{f:RJ},7:{f:VZe},8:{},9:{f:u5},11:{},22:{f:_i},30:{f:XJe},31:{},32:{},33:{f:QJ},36:{},37:{f:OJ},50:{f:zZe},62:{},52:{},67:{},68:{f:_i},69:{},86:{},126:{},127:{f:LZe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:GZe},223:{},234:{},354:{},421:{},518:{f:nO},521:{f:u5},536:{f:UJ},547:{f:MJ},561:{},579:{},1030:{f:nO},1033:{f:u5},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Xt(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&e9(r)&&e.push(r)}}function Git(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Xt(e,t,r,a);var s=t;if(!isNaN(s)){for(var i=r.parts||[],o=0,c=0,u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(i[o]||8224)<=8224;)u+=i[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function cS(e,t,r){return e||(e=Et(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Kit(e,t,r,n){var a=Et(9);return cS(a,e,t),aAe(r,n||"b",a),a}function qit(e,t,r){var n=Et(8+2*r.length);return cS(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Wit(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?zi(es(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Xt(e,2,$Ze(r,n,a)):Xt(e,3,QZe(r,n,a));return;case"b":case"e":Xt(e,5,Kit(r,n,t.v,t.t));return;case"s":case"str":Xt(e,4,qit(r,n,(t.v||"").slice(0,255)));return}Xt(e,1,cS(null,r,n))}function Xit(e,t,r,n){var a=Array.isArray(t),s=Wn(t["!ref"]||"A1"),i,o="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=fn(s)}for(var u=s.s.r;u<=s.e.r;++u){o=ui(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=ys(d)),i=c[d]+o;var f=a?(t[u]||[])[d]:t[i];f&&Wit(e,f,u,d)}}}function Yit(e,t){for(var r=t||{},n=Sc(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Xt(n,r.biff==4?1033:r.biff==3?521:9,u9(e,16,r)),Xit(n,e.Sheets[e.SheetNames[a]],a,r),Xt(n,10),n.end()}function Jit(e,t,r){Xt(e,49,$Je({sz:12,name:"Arial"},r))}function Zit(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Xt(e,1054,WJe(a,t[a],r))})}function eot(e,t){var r=Et(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Xt(e,2151,r),r=Et(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),cAe(Wn(t["!ref"]||"A1"),r),r.write_shift(4,4),Xt(e,2152,r)}function tot(e,t){for(var r=0;r<16;++r)Xt(e,224,PJ({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Xt(e,224,PJ(n,0,t))})}function rot(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Xt(e,440,CZe(n)),n[1].Tooltip&&Xt(e,2048,SZe(n))}delete t["!links"]}function not(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Xt(e,125,jZe(pj(a,n),a))})}}function aot(e,t,r,n,a){var s=16+$m(a.cellXfs,t,a);if(t.v==null&&!t.bf){Xt(e,513,jx(r,n,s));return}if(t.bf)Xt(e,6,Bnt(t,r,n,a,s));else switch(t.t){case"d":case"n":var i=t.t=="d"?zi(es(t.v)):t.v;Xt(e,515,oZe(r,n,i,s));break;case"b":case"e":Xt(e,517,sZe(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var o=x9(a.Strings,t.v,a.revStrings);Xt(e,253,zJe(r,n,o,s))}else Xt(e,516,KJe(r,n,(t.v||"").slice(0,255),s,a));break;default:Xt(e,513,jx(r,n,s))}}function sot(e,t,r){var n=Sc(),a=r.SheetNames[e],s=r.Sheets[a]||{},i=(r||{}).Workbook||{},o=(i.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,d,f="",h=[],p=Wn(s["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}Xt(n,2057,u9(r,16,t)),Xt(n,13,rd(1)),Xt(n,12,rd(100)),Xt(n,15,Ul(!0)),Xt(n,17,Ul(!1)),Xt(n,16,Tx(.001)),Xt(n,95,Ul(!0)),Xt(n,42,Ul(!1)),Xt(n,43,Ul(!1)),Xt(n,130,rd(1)),Xt(n,128,aZe()),Xt(n,131,Ul(!1)),Xt(n,132,Ul(!1)),u&&not(n,s["!cols"]),Xt(n,512,YJe(p,t)),u&&(s["!links"]=[]);for(var x=p.s.r;x<=p.e.r;++x){f=ui(x);for(var v=p.s.c;v<=p.e.c;++v){x===p.s.r&&(h[v]=ys(v)),d=h[v]+f;var y=c?(s[x]||[])[v]:s[d];y&&(aot(n,y,x,v,t),u&&y.l&&s["!links"].push([d,y.l]))}}var w=o.CodeName||o.name||a;return u&&Xt(n,574,UJe((i.Views||[])[0])),u&&(s["!merges"]||[]).length&&Xt(n,229,gZe(s["!merges"])),u&&rot(n,s),Xt(n,442,sAe(w)),u&&eot(n,s),Xt(n,10),n.end()}function iot(e,t,r){var n=Sc(),a=(e||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(Xt(n,2057,u9(e,5,r)),r.bookType=="xla"&&Xt(n,135),Xt(n,225,o?rd(1200):null),Xt(n,193,sJe(2)),c&&Xt(n,191),c&&Xt(n,192),Xt(n,226),Xt(n,92,NJe("SheetJS",r)),Xt(n,66,rd(o?1200:1252)),o&&Xt(n,353,rd(0)),o&&Xt(n,448),Xt(n,317,OZe(e.SheetNames.length)),o&&e.vbaraw&&Xt(n,211),o&&e.vbaraw){var u=i.CodeName||"ThisWorkbook";Xt(n,442,sAe(u))}Xt(n,156,rd(17)),Xt(n,25,Ul(!1)),Xt(n,18,Ul(!1)),Xt(n,19,rd(0)),o&&Xt(n,431,Ul(!1)),o&&Xt(n,444,rd(0)),Xt(n,61,LJe()),Xt(n,64,Ul(!1)),Xt(n,141,rd(0)),Xt(n,34,Ul(Lst(e)=="true")),Xt(n,14,Ul(!0)),o&&Xt(n,439,Ul(!1)),Xt(n,218,rd(0)),Jit(n,e,r),Zit(n,e.SSF,r),tot(n,r),o&&Xt(n,352,Ul(!1));var d=n.end(),f=Sc();o&&Xt(f,140,NZe()),o&&r.Strings&&Git(f,252,IJe(r.Strings)),Xt(f,10);var h=f.end(),p=Sc(),g=0,x=0;for(x=0;x<e.SheetNames.length;++x)g+=(o?12:11)+(o?2:1)*e.SheetNames[x].length;var v=d.length+g+h.length;for(x=0;x<e.SheetNames.length;++x){var y=s[x]||{};Xt(p,133,BJe({pos:v,hs:y.Hidden||0,dt:0,name:e.SheetNames[x]},r)),v+=t[x].length}var w=p.end();if(g!=w.length)throw new Error("BS8 "+g+" != "+w.length);var E=[];return d.length&&E.push(d),w.length&&E.push(w),h.length&&E.push(h),ho(E)}function oot(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ts(zr)),e&&e.SSF&&(ky(),lj(e.SSF),r.revssf=uj(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,C9(r),r.cellXfs=[],$m(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=sot(a,r,e);return n.unshift(iot(e,n,r)),ho(n)}function JAe(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=kc(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return oot(e,t);case 4:case 3:case 2:return Yit(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function YJ(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,c=$Xe(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(i=0;i<c.length;++i){var x=c[i].trim(),v=x.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=x.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var w=y[o].trim();if(w.match(/<t[dh]/i)){for(var E=w,k=0;E.charAt(0)=="<"&&(k=E.indexOf(">"))>-1;)E=E.slice(k+1);for(var B=0;B<g.length;++B){var j=g[B];j.s.c==d&&j.s.r<u&&u<=j.e.r&&(d=j.e.c+1,B=-1)}var C=Zr(w.slice(0,w.indexOf(">")));h=C.colspan?+C.colspan:1,((f=+C.rowspan)>1||h>1)&&g.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var N=C.t||C["data-t"]||"";if(!E.length){d+=h;continue}if(E=wfe(E),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!E.length){d+=h;continue}var I={t:"s",v:E};r.raw||!E.trim().length||N=="s"||(E==="TRUE"?I={t:"b",v:!0}:E==="FALSE"?I={t:"b",v:!1}:isNaN(pf(E))?isNaN(Db(E).getDate())||(I={t:"d",v:es(E)},r.cellDates||(I={t:"n",v:zi(I.v)}),I.z=r.dateNF||zr[14]):I={t:"n",v:pf(E)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=I):n[Wr({r:u,c:d})]=I,d+=h}}}}return n["!ref"]=fn(p),g.length&&(n["!merges"]=g),n}function lot(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=Wr({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||Y7(f.w||(v0(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(Wt("td",h,p))}}var g="<tr>";return g+s.join("")+"</tr>"}var cot='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',uot="</body></html>";function dot(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Hm(YJ(r[0],t),t);var n=_9();return r.forEach(function(a,s){N9(n,YJ(a,t),"Sheet"+(s+1))}),n}function fot(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function ZAe(e,t){var r=t||{},n=r.header!=null?r.header:cot,a=r.footer!=null?r.footer:uot,s=[n],i=kc(e["!ref"]);r.dense=Array.isArray(e),s.push(fot(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(lot(e,i,o,r));return s.push("</table>"+a),s.join("")}function ehe(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?ws(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=kc(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,x=0,v=0,y=0,w=0,E=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&x<c;++g){var k=o[g];if(JJ(k)){if(n.display)continue;p[x]={hidden:!0}}var B=k.children;for(v=y=0;v<B.length;++v){var j=B[v];if(!(n.display&&JJ(j))){var C=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):wfe(j.innerHTML),N=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<f.length;++h){var I=f[h];I.s.c==y+s&&I.s.r<x+a&&x+a<=I.e.r&&(y=I.e.c+1-s,h=-1)}E=+j.getAttribute("colspan")||1,((w=+j.getAttribute("rowspan")||1)>1||E>1)&&f.push({s:{r:x+a,c:y+s},e:{r:x+a+(w||1)-1,c:y+s+(E||1)-1}});var L={t:"s",v:C},O=j.getAttribute("data-t")||j.getAttribute("t")||"";C!=null&&(C.length==0?L.t=O||"z":n.raw||C.trim().length==0||O=="s"||(C==="TRUE"?L={t:"b",v:!0}:C==="FALSE"?L={t:"b",v:!1}:isNaN(pf(C))?isNaN(Db(C).getDate())||(L={t:"d",v:es(C)},n.cellDates||(L={t:"n",v:zi(L.v)}),L.z=n.dateNF||zr[14]):L={t:"n",v:pf(C)})),L.z===void 0&&N!=null&&(L.z=N);var T="",P=j.getElementsByTagName("A");if(P&&P.length)for(var R=0;R<P.length&&!(P[R].hasAttribute("href")&&(T=P[R].getAttribute("href"),T.charAt(0)!="#"));++R);T&&T.charAt(0)!="#"&&(L.l={Target:T}),n.dense?(e[x+a]||(e[x+a]=[]),e[x+a][y+s]=L):e[Wr({c:y+s,r:x+a})]=L,u.e.c<y+s&&(u.e.c=y+s),y+=E}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,x-1+a),e["!ref"]=fn(u),x>=c&&(e["!fullref"]=fn((u.e.r=o.length-g+x-1+a,u))),e}function the(e,t){var r=t||{},n=r.dense?[]:{};return ehe(n,e,t)}function Aot(e,t){return Hm(the(e,t),t)}function JJ(e){var t="",r=hot(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function hot(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function pot(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Kn(t.replace(/<[^>]*>/g,""));return[r]}var ZJ={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function rhe(e,t){var r=t||{},n=J7(e),a=[],s,i,o={name:""},c="",u=0,d,f,h={},p=[],g=r.dense?[]:{},x,v,y={value:""},w="",E=0,k=[],B=-1,j=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,I={},L=[],O={},T=0,P=0,R=[],q=1,Q=1,G=[],K={Names:[]},z={},Y=["",""],ee=[],M={},H="",W=0,Z=!1,ae=!1,oe=0;for(KC.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=KC.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"工作表":x[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?g["!ref"]=fn(C):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=C.e.r&&(g["!fullref"]=g["!ref"],C.e.r=r.sheetRows-1,g["!ref"]=fn(C)),L.length&&(g["!merges"]=L),R.length&&(g["!rows"]=R),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=g,ae=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=Zr(x[0],!1),B=j=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,g=r.dense?[]:{},L=[],R=[],ae=!0);break;case"table-row-group":x[1]==="/"?--N:++N;break;case"table-row":case"行":if(x[1]==="/"){B+=q,q=1;break}if(f=Zr(x[0],!1),f.行号?B=f.行号-1:B==-1&&(B=0),q=+f["number-rows-repeated"]||1,q<10)for(oe=0;oe<q;++oe)N>0&&(R[B+oe]={level:N});j=-1;break;case"covered-table-cell":x[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(g[B]||(g[B]=[]),g[B][j]={t:"z"}):g[Wr({r:B,c:j})]={t:"z"}),w="",k=[];break;case"table-cell":case"数据":if(x[0].charAt(x[0].length-2)==="/")++j,y=Zr(x[0],!1),Q=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=qJ(Kn(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=Kn(y["string-value"]||""),r.dense?(g[B]||(g[B]=[]),g[B][j]=v):g[Wr({r:B,c:j})]=v),j+=Q-1;else if(x[1]!=="/"){++j,w="",E=0,k=[],Q=1;var se=q?B+q-1:B;if(j>C.e.c&&(C.e.c=j),j<C.s.c&&(C.s.c=j),B<C.s.r&&(C.s.r=B),se>C.e.r&&(C.e.r=se),y=Zr(x[0],!1),ee=[],M={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Kn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(T=parseInt(y["number-matrix-rows-spanned"],10)||0,P=parseInt(y["number-matrix-columns-spanned"],10)||0,O={s:{r:B,c:j},e:{r:B+T-1,c:j+P-1}},v.F=fn(O),G.push([O,v.F])),y.formula)v.f=qJ(y.formula);else for(oe=0;oe<G.length;++oe)B>=G[oe][0].s.r&&B<=G[oe][0].e.r&&j>=G[oe][0].s.c&&j<=G[oe][0].e.c&&(v.F=G[oe][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(T=parseInt(y["number-rows-spanned"],10)||0,P=parseInt(y["number-columns-spanned"],10)||0,O={s:{r:B,c:j},e:{r:B+T-1,c:j+P-1}},L.push(O)),y["number-columns-repeated"]&&(Q=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Ja(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=es(y["date-value"]),r.cellDates||(v.t="n",v.v=zi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=UXe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=dj(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=Kn(y["string-value"]),k=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Z=!1,v.t==="s"&&(v.v=w||"",k.length&&(v.R=k),Z=E==0),z.Target&&(v.l=z),ee.length>0&&(v.c=ee,ee=[]),w&&r.cellText!==!1&&(v.w=w),Z&&(v.t="z",delete v.v),(!Z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=B))for(var ce=0;ce<q;++ce){if(Q=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[B+ce]||(g[B+ce]=[]),g[B+ce][j]=ce==0?v:ts(v);--Q>0;)g[B+ce][j+Q]=ts(v);else for(g[Wr({r:B+ce,c:j})]=v;--Q>0;)g[Wr({r:B+ce,c:j+Q})]=ts(v);C.e.c<=j&&(C.e.c=j)}Q=parseInt(y["number-columns-repeated"]||"1",10),j+=Q-1,Q=0,v={},w="",k=[]}z={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((s=a.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((s=a.pop())[0]!==x[3])throw"Bad state: "+s;M.t=w,k.length&&(M.R=k),M.a=H,ee.push(M)}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);H="",W=0,w="",E=0,k=[];break;case"creator":x[1]==="/"?H=n.slice(W,x.index):W=x.index+x[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((s=a.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);w="",E=0,k=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(I[o.name]=c,(s=a.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&(c="",o=Zr(x[0],!1),a.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Zr(x[0],!1),c+=ZJ[x[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Zr(x[0],!1),c+=ZJ[x[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":i=Zr(x[0],!1),Y=aO(i["cell-range-address"]);var de={Name:i.name,Ref:Y[0]+"!"+Y[1]};ae&&(de.Sheet=p.length),K.Names.push(de);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(x[1]==="/"&&(!y||!y["string-value"])){var ke=pot(n.slice(E,x.index));w=(w.length>0?w+`
`:"")+ke[0]}else Zr(x[0],!1),E=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{Y=aO(Zr(x[0])["target-range-address"]),h[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(z=Zr(x[0],!1),!z.href)break;z.Target=Kn(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(Y=aO(z.Target.slice(1)),z.Target="#"+Y[0]+"!"+Y[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(x)}}var re={Sheets:h,SheetNames:p,Workbook:K};return r.bookSheets&&delete re.Sheets,re}function eZ(e,t){t=t||{},ed(e,"META-INF/manifest.xml")&&UYe(Si(e,"META-INF/manifest.xml"),t);var r=lu(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=rhe(Da(r),t);return ed(e,"meta.xml")&&(n.Props=Gfe(Si(e,"meta.xml"))),n}function tZ(e,t){return rhe(e,t)}var mot=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+GC({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return pi+t}}(),rZ=function(){var e=function(s){return Na(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,i,o){var c=[];c.push('      <table:table table:name="'+Na(i.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=kc(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,g=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var x="",v=s["!rows"]||[];for(u=0;u<f.s.r;++u)x=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=f.e.r;++u){for(x=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var y=!1,w={},E="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(y=!0),w["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,w["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(y){c.push(r);continue}var k=Wr({r:u,c:d}),B=g?(s[u]||[])[d]:s[k];if(B&&B.f&&(w["table:formula"]=Na(Pnt(B.f)),B.F&&B.F.slice(0,k.length)==k)){var j=kc(B.F);w["table:number-matrix-columns-spanned"]=j.e.c-j.s.c+1,w["table:number-matrix-rows-spanned"]=j.e.r-j.s.r+1}if(!B){c.push(t);continue}switch(B.t){case"b":E=B.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=B.v?"true":"false";break;case"n":E=B.w||String(B.v||0),w["office:value-type"]="float",w["office:value"]=B.v||0;break;case"s":case"str":E=B.v==null?"":B.v,w["office:value-type"]="string";break;case"d":E=B.w||es(B.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=es(B.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var C=e(E);if(B.l&&B.l.Target){var N=B.l.Target;N=N.charAt(0)=="#"?"#"+Rnt(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),C=Wt("text:a",C,{"xlink:href":N.replace(/&/g,"&amp;")})}c.push("          "+Wt("table:table-cell",Wt("text:p",C,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Em(f),f.ods=o;var h=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var c=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,o){var c=[pi],u=GC({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=GC({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(zfe().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=i.SheetNames.length;++f)c.push(n(i.Sheets[i.SheetNames[f]],i,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function nhe(e,t){if(t.bookType=="fods")return rZ(e,t);var r=q7(),n="",a=[],s=[];return n="mimetype",gn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",gn(r,n,rZ(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",gn(r,n,mot(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",gn(r,n,pi+zfe()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",gn(r,n,$Ye(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",gn(r,n,QYe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ix(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function TR(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Da(Qm(e))}function got(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ou(BA(e))}function xot(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function _m(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function nZ(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function vot(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function bot(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function eE(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ca(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Vs(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ra(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=eE(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=eE(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function jo(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Ca(n*8+a.type)),a.type==2&&t.push(Ca(a.data.length)),t.push(a.data))})}),_m(t)}function y9(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Ju(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=eE(e,n),s=ra(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:Vs(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=ra(o.data),u=Vs(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=Vs(s[3][0].data)>>>0>0),r.push(i)}return r}function Vv(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Ca(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ca(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:Ca(i.data.length)}],n[2].push({data:jo(i.meta),type:2})});var s=jo(n);t.push(Ca(s.length)),t.push(s),a.forEach(function(i){return t.push(i)})}),_m(t)}function yot(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=eE(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[_m(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=_m(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Zu(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(yot(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return _m(t)}function zv(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Ca(n),i=s.length;t.push(s),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,r+=n}return _m(t)}function wot(e,t,r,n){var a=Ix(e),s=a.getUint32(4,!0),i=(n>1?12:8)+nZ(s&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=nZ(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Cot(e,t,r){var n=Ix(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=vot(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function iO(e,t){var r=new Uint8Array(32),n=Ix(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,bot(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function oO(e,t){var r=new Uint8Array(32),n=Ix(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Eot(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return wot(e,t,r,e[0]);case 5:return Cot(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function fl(e){var t=ra(e);return eE(t[1][0].data)}function aZ(e,t){var r=ra(t.data),n=Vs(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=ra(i.data),c=Vs(o[1][0].data)>>>0;switch(n){case 1:s[c]=TR(o[3][0].data);break;case 8:{var u=e[fl(o[9][0].data)][0],d=ra(u.data),f=e[fl(d[1][0].data)][0],h=Vs(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=ra(f.data);s[c]=p[3].map(function(g){return TR(g.data)}).join("")}break}}),s}function Sot(e,t){var r,n,a,s,i,o,c,u,d,f,h,p,g,x,v=ra(e),y=Vs(v[1][0].data)>>>0,w=Vs(v[2][0].data)>>>0,E=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Vs(v[8][0].data)>0||!1,k,B;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)k=(o=(i=v[7])==null?void 0:i[0])==null?void 0:o.data,B=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)k=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,B=(x=(g=v[3])==null?void 0:g[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=E?4:1,C=Ix(k),N=[],I=0;I<k.length/2;++I){var L=C.getUint16(I*2,!0);L<65535&&N.push([I,L])}if(N.length!=w)throw"Expected ".concat(w," cells, found ").concat(N.length);var O=[];for(I=0;I<N.length-1;++I)O[N[I][0]]=B.subarray(N[I][1]*j,N[I+1][1]*j);return N.length>=1&&(O[N[N.length-1][0]]=B.subarray(N[N.length-1][1]*j)),{R:y,cells:O}}function _ot(e,t){var r,n=ra(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Vs(n[7][0].data)>>>0>0?1:0:-1,s=y9(n[5],function(i){return Sot(i,a)});return{nrows:Vs(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(c,u){if(i[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));i[o.R][u]=c}),i},[])}}function Not(e,t,r){var n,a=ra(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Vs(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Vs(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=fn(s);var i=ra(a[4][0].data),o=aZ(e,e[fl(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?aZ(e,e[fl(i[17][0].data)][0]):[],u=ra(i[3][0].data),d=0;u[1].forEach(function(f){var h=ra(f.data),p=e[fl(h[2][0].data)][0],g=Vs(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var x=_ot(e,p);x.data.forEach(function(v,y){v.forEach(function(w,E){var k=Wr({r:d+y,c:E}),B=Eot(w,o,c);B&&(r[k]=B)})}),d+=x.nrows})}function kot(e,t){var r=ra(t.data),n={"!ref":"A1"},a=e[fl(r[2][0].data)],s=Vs(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Not(e,a[0],n),n}function Tot(e,t){var r,n=ra(t.data),a={name:(r=n[1])!=null&&r[0]?TR(n[1][0].data):"",sheets:[]},s=y9(n[2],fl);return s.forEach(function(i){e[i].forEach(function(o){var c=Vs(o.meta[1][0].data);c==6e3&&a.sheets.push(kot(e,o))})}),a}function Bot(e,t){var r=_9(),n=ra(t.data),a=y9(n[1],fl);if(a.forEach(function(s){e[s].forEach(function(i){var o=Vs(i.meta[1][0].data);if(o==2){var c=Tot(e,i);c.sheets.forEach(function(u,d){N9(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function lO(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Zu(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Ju(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Vs(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(c){s[c].forEach(function(u){var d=Vs(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Bot(s,o)}function jot(e,t,r){var n,a,s,i;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((i=(s=e[8])==null?void 0:s[0])==null?void 0:i.data)&&Vs(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=Ix(e[7][0].data),d=0,f=[],h=Ix(e[4][0].data),p=0,g=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535);continue}u.setUint16(x*2,d,!0),h.setUint16(x*2,p,!0);var v,y;switch(typeof t[x]){case"string":v=iO({t:"s",v:t[x]},r),y=oO({t:"s",v:t[x]},r);break;case"number":v=iO({t:"n",v:t[x]},r),y=oO({t:"n",v:t[x]},r);break;case"boolean":v=iO({t:"b",v:t[x]},r),y=oO({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}f.push(v),d+=v.length,g.push(y),p+=y.length,++c}for(e[2][0].data=Ca(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535,!0);return e[6][0].data=_m(f),e[3][0].data=_m(g),c}function Iot(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=kc(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(fn(n)));var s=Bk(r,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(H){return H.forEach(function(W){typeof W=="string"&&i.push(W)})});var o={},c=[],u=Ir.read(t.numbers,{type:"base64"});u.FileIndex.map(function(H,W){return[H,u.FullPaths[W]]}).forEach(function(H){var W=H[0],Z=H[1];if(W.type==2&&W.name.match(/\.iwa/)){var ae=W.content,oe=Zu(ae),se=Ju(oe);se.forEach(function(ce){c.push(ce.id),o[ce.id]={deps:[],location:Z,type:Vs(ce.messages[0].meta[1][0].data)}})}}),c.sort(function(H,W){return H-W});var d=c.filter(function(H){return H>1}).map(function(H){return[H,Ca(H)]});u.FileIndex.map(function(H,W){return[H,u.FullPaths[W]]}).forEach(function(H){var W=H[0];if(H[1],!!W.name.match(/\.iwa/)){var Z=Ju(Zu(W.content));Z.forEach(function(ae){ae.messages.forEach(function(oe){d.forEach(function(se){ae.messages.some(function(ce){return Vs(ce.meta[1][0].data)!=11006&&xot(ce.data,se[1])})&&o[se[0]].deps.push(ae.id)})})})}});for(var f=Ir.find(u,o[1].location),h=Ju(Zu(f.content)),p,g=0;g<h.length;++g){var x=h[g];x.id==1&&(p=x)}var v=fl(ra(p.messages[0].data)[1][0].data);for(f=Ir.find(u,o[v].location),h=Ju(Zu(f.content)),g=0;g<h.length;++g)x=h[g],x.id==v&&(p=x);for(v=fl(ra(p.messages[0].data)[2][0].data),f=Ir.find(u,o[v].location),h=Ju(Zu(f.content)),g=0;g<h.length;++g)x=h[g],x.id==v&&(p=x);for(v=fl(ra(p.messages[0].data)[2][0].data),f=Ir.find(u,o[v].location),h=Ju(Zu(f.content)),g=0;g<h.length;++g)x=h[g],x.id==v&&(p=x);var y=ra(p.messages[0].data);{y[6][0].data=Ca(n.e.r+1),y[7][0].data=Ca(n.e.c+1);var w=fl(y[46][0].data),E=Ir.find(u,o[w].location),k=Ju(Zu(E.content));{for(var B=0;B<k.length&&k[B].id!=w;++B);if(k[B].id!=w)throw"Bad ColumnRowUIDMapArchive";var j=ra(k[B].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var C=0;C<=n.e.c;++C){var N=[];N[1]=N[2]=[{type:0,data:Ca(C+420690)}],j[1].push({type:2,data:jo(N)}),j[2].push({type:0,data:Ca(C)}),j[3].push({type:0,data:Ca(C)})}j[4]=[],j[5]=[],j[6]=[];for(var I=0;I<=n.e.r;++I)N=[],N[1]=N[2]=[{type:0,data:Ca(I+726270)}],j[4].push({type:2,data:jo(N)}),j[5].push({type:0,data:Ca(I)}),j[6].push({type:0,data:Ca(I)});k[B].messages[0].data=jo(j)}E.content=zv(Vv(k)),E.size=E.content.length,delete y[46];var L=ra(y[4][0].data);{L[7][0].data=Ca(n.e.r+1);var O=ra(L[1][0].data),T=fl(O[2][0].data);E=Ir.find(u,o[T].location),k=Ju(Zu(E.content));{if(k[0].id!=T)throw"Bad HeaderStorageBucket";var P=ra(k[0].messages[0].data);for(I=0;I<s.length;++I){var R=ra(P[2][0].data);R[1][0].data=Ca(I),R[4][0].data=Ca(s[I].length),P[2][I]={type:P[2][0].type,data:jo(R)}}k[0].messages[0].data=jo(P)}E.content=zv(Vv(k)),E.size=E.content.length;var q=fl(L[2][0].data);E=Ir.find(u,o[q].location),k=Ju(Zu(E.content));{if(k[0].id!=q)throw"Bad HeaderStorageBucket";for(P=ra(k[0].messages[0].data),C=0;C<=n.e.c;++C)R=ra(P[2][0].data),R[1][0].data=Ca(C),R[4][0].data=Ca(n.e.r+1),P[2][C]={type:P[2][0].type,data:jo(R)};k[0].messages[0].data=jo(P)}E.content=zv(Vv(k)),E.size=E.content.length;var Q=fl(L[4][0].data);(function(){for(var H=Ir.find(u,o[Q].location),W=Ju(Zu(H.content)),Z,ae=0;ae<W.length;++ae){var oe=W[ae];oe.id==Q&&(Z=oe)}var se=ra(Z.messages[0].data);{se[3]=[];var ce=[];i.forEach(function(re,_e){ce[1]=[{type:0,data:Ca(_e)}],ce[2]=[{type:0,data:Ca(1)}],ce[3]=[{type:2,data:got(re)}],se[3].push({type:2,data:jo(ce)})})}Z.messages[0].data=jo(se);var de=Vv(W),ke=zv(de);H.content=ke,H.size=H.content.length})();var G=ra(L[3][0].data);{var K=G[1][0];delete G[2];var z=ra(K.data);{var Y=fl(z[2][0].data);(function(){for(var H=Ir.find(u,o[Y].location),W=Ju(Zu(H.content)),Z,ae=0;ae<W.length;++ae){var oe=W[ae];oe.id==Y&&(Z=oe)}var se=ra(Z.messages[0].data);{delete se[6],delete G[7];var ce=new Uint8Array(se[5][0].data);se[5]=[];for(var de=0,ke=0;ke<=n.e.r;++ke){var re=ra(ce);de+=jot(re,s[ke],i),re[1][0].data=Ca(ke),se[5].push({data:jo(re),type:2})}se[1]=[{type:0,data:Ca(n.e.c+1)}],se[2]=[{type:0,data:Ca(n.e.r+1)}],se[3]=[{type:0,data:Ca(de)}],se[4]=[{type:0,data:Ca(n.e.r+1)}]}Z.messages[0].data=jo(se);var _e=Vv(W),Ne=zv(_e);H.content=Ne,H.size=H.content.length})()}K.data=jo(z)}L[3][0].data=jo(G)}y[4][0].data=jo(L)}p.messages[0].data=jo(y);var ee=Vv(h),M=zv(ee);return f.content=M,f.size=f.content.length,u}function ahe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function w9(e){ahe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function C9(e){ahe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Fot(e){return Tn.WS.indexOf(e)>-1?"sheet":e==Tn.CS?"chart":e==Tn.DS?"dialog":e==Tn.MS?"macro":e&&e.length?e:"sheet"}function Oot(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Fot(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Dot(e,t,r,n,a,s,i,o,c,u,d,f){try{s[n]=X2(lu(e,r,!0),t);var h=Si(e,t),p;switch(o){case"sheet":p=nit(h,t,a,c,s[n],u,d,f);break;case"chart":if(p=ait(h,t,a,c,s[n],u,d,f),!p||!p["!drawel"])break;var g=x2(p["!drawel"].Target,t),x=qC(g),v=Vtt(lu(e,g,!0),X2(lu(e,x,!0),g)),y=x2(v,g),w=qC(y);p=jst(lu(e,y,!0),y,c,X2(lu(e,w,!0),y),u,p);break;case"macro":p=sit(h,t,a,c,s[n],u,d,f);break;case"dialog":p=iit(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=p;var E=[];s&&s[n]&&Gs(s[n]).forEach(function(k){var B="";if(s[n][k].Type==Tn.CMNT){B=x2(s[n][k].Target,t);var j=uit(Si(e,B,!0),B,c);if(!j||!j.length)return;$J(p,j,!1)}s[n][k].Type==Tn.TCMNT&&(B=x2(s[n][k].Target,t),E=E.concat(Gtt(Si(e,B,!0),c)))}),E&&E.length&&$J(p,E,!0,c.people||[])}catch(k){if(c.WTF)throw k}}function qu(e){return e.charAt(0)=="/"?e.slice(1):e}function Pot(e,t){if(ky(),t=t||{},w9(t),ed(e,"META-INF/manifest.xml")||ed(e,"objectdata.xml"))return eZ(e,t);if(ed(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof lO<"u"){if(e.FileIndex)return lO(e);var r=Ir.utils.cfb_new();return uJ(e).forEach(function(R){gn(r,R,zXe(e,R))}),lO(r)}throw new Error("Unsupported NUMBERS file")}if(!ed(e,"[Content_Types].xml"))throw ed(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ed(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=uJ(e),a=LYe(lu(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Si(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Si(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Y2=[],a.sst)try{Y2=cit(Si(e,qu(a.sst)),a.sst,t)}catch(R){if(t.WTF)throw R}t.cellStyles&&a.themes.length&&(c=lit(lu(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=oit(Si(e,qu(a.style)),a.style,c,t))}a.links.map(function(R){try{var q=X2(lu(e,qC(qu(R))),R);return fit(Si(e,qu(R)),q,R,t)}catch{}});var d=rit(Si(e,qu(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Si(e,qu(a.coreprops[0]),!0),h&&(f=Gfe(h)),a.extprops.length!==0&&(h=Si(e,qu(a.extprops[0]),!0),h&&zYe(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=lu(e,qu(a.custprops[0]),!0),h&&(p=KYe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(q){return q.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=p),t.bookSheets&&typeof i<"u"&&(g.SheetNames=i),t.bookSheets?g.SheetNames:t.bookProps))return g;i={};var x={};t.bookDeps&&a.calcchain&&(x=dit(Si(e,qu(a.calcchain)),a.calcchain));var v=0,y={},w,E;{var k=d.Sheets;f.Worksheets=k.length,f.SheetNames=[];for(var B=0;B!=k.length;++B)f.SheetNames[B]=k[B].name}var j=s?"bin":"xml",C=a.workbooks[0].lastIndexOf("/"),N=(a.workbooks[0].slice(0,C+1)+"_rels/"+a.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");ed(e,N)||(N="xl/_rels/workbook."+j+".rels");var I=X2(lu(e,N,!0),N.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Ait(Si(e,qu(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=qtt(Si(e,qu(a.people[0])),t)),I&&(I=Oot(I,d.Sheets));var L=Si(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var O="sheet";if(I&&I[v]?(w="xl/"+I[v][1].replace(/[\/]?xl\//,""),ed(e,w)||(w=I[v][1]),ed(e,w)||(w=N.replace(/_rels\/.*$/,"")+I[v][1]),O=I[v][2]):(w="xl/worksheets/sheet"+(v+1-L)+"."+j,w=w.replace(/sheet0\./,"sheet.")),E=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,P=0;P!=t.sheets.length;++P)typeof t.sheets[P]=="number"&&t.sheets[P]==v&&(T=1),typeof t.sheets[P]=="string"&&t.sheets[P].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}Dot(e,w,E,f.SheetNames[v],v,y,i,O,t,d,c,u)}return g={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:x,Sheets:i,SheetNames:f.SheetNames,Strings:Y2,Styles:u,Themes:c,SSF:ts(zr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(R,q){R=R.replace(/^Root Entry[\/]/,""),g.keys.push(R),g.files[R]=e.FileIndex[q]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=Si(e,qu(a.vba[0]),!0):a.defaults&&a.defaults.bin===rrt&&(g.vbaraw=Si(e,"xl/vbaProject.bin",!0))),g}function Rot(e,t){var r=t||{},n="Workbook",a=Ir.find(e,n);try{if(n="/!DataSpaces/Version",a=Ir.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(fet(a.content),n="/!DataSpaces/DataSpaceMap",a=Ir.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=het(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ir.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=pet(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ir.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);get(a.content)}catch{}if(n="/EncryptionInfo",a=Ir.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=xet(a.content);if(n="/EncryptedPackage",a=Ir.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Lot(e,t){return t.bookType=="ods"?nhe(e,t):t.bookType=="numbers"?Iot(e,t):t.bookType=="xlsb"?Mot(e,t):Uot(e,t)}function Mot(e,t){k1=1024,e&&!e.SSF&&(e.SSF=ts(zr)),e&&e.SSF&&(ky(),lj(e.SSF),t.revssf=uj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,J2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=jAe.indexOf(t.bookType)>-1,a=l9();C9(t=t||{});var s=q7(),i="",o=0;if(t.cellXfs=[],$m(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",gn(s,i,Kfe(e.Props,t)),a.coreprops.push(i),Ea(t.rels,2,i,Tn.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,gn(s,i,Xfe(e.Props)),a.extprops.push(i),Ea(t.rels,3,i,Tn.EXT_PROPS),e.Custprops!==e.Props&&Gs(e.Custprops||{}).length>0&&(i="docProps/custom.xml",gn(s,i,Yfe(e.Custprops)),a.custprops.push(i),Ea(t.rels,4,i,Tn.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,gn(s,i,pit(o-1,i,t,e,d)),a.sheets.push(i),Ea(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tn.WS[0])}if(f){var p=f["!comments"],g=!1,x="";p&&p.length>0&&(x="xl/comments"+o+"."+r,gn(s,x,xit(p,x)),a.comments.push(x),Ea(d,-1,"../comments"+o+"."+r,Tn.CMNT),g=!0),f["!legacy"]&&g&&gn(s,"xl/drawings/vmlDrawing"+o+".vml",TAe(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&gn(s,qC(i),J1(d))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,gn(s,i,git(t.Strings,i,t)),a.strs.push(i),Ea(t.wbrels,-1,"sharedStrings."+r,Tn.SST)),i="xl/workbook."+r,gn(s,i,hit(e,i)),a.workbooks.push(i),Ea(t.rels,1,i,Tn.WB),i="xl/theme/theme1.xml",gn(s,i,h9(e.Themes,t)),a.themes.push(i),Ea(t.wbrels,-1,"theme/theme1.xml",Tn.THEME),i="xl/styles."+r,gn(s,i,mit(e,i,t)),a.styles.push(i),Ea(t.wbrels,-1,"styles."+r,Tn.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",gn(s,i,e.vbaraw),a.vba.push(i),Ea(t.wbrels,-1,"vbaProject.bin",Tn.VBA)),i="xl/metadata."+r,gn(s,i,vit(i)),a.metadata.push(i),Ea(t.wbrels,-1,"metadata."+r,Tn.XLMETA),gn(s,"[Content_Types].xml",Vfe(a,t)),gn(s,"_rels/.rels",J1(t.rels)),gn(s,"xl/_rels/workbook."+r+".rels",J1(t.wbrels)),delete t.revssf,delete t.ssf,s}function Uot(e,t){k1=1024,e&&!e.SSF&&(e.SSF=ts(zr)),e&&e.SSF&&(ky(),lj(e.SSF),t.revssf=uj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,J2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=jAe.indexOf(t.bookType)>-1,a=l9();C9(t=t||{});var s=q7(),i="",o=0;if(t.cellXfs=[],$m(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",gn(s,i,Kfe(e.Props,t)),a.coreprops.push(i),Ea(t.rels,2,i,Tn.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,gn(s,i,Xfe(e.Props)),a.extprops.push(i),Ea(t.rels,3,i,Tn.EXT_PROPS),e.Custprops!==e.Props&&Gs(e.Custprops||{}).length>0&&(i="docProps/custom.xml",gn(s,i,Yfe(e.Custprops)),a.custprops.push(i),Ea(t.rels,4,i,Tn.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,gn(s,i,HAe(o-1,t,e,f)),a.sheets.push(i),Ea(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tn.WS[0])}if(h){var g=h["!comments"],x=!1,v="";if(g&&g.length>0){var y=!1;g.forEach(function(w){w[1].forEach(function(E){E.T==!0&&(y=!0)})}),y&&(v="xl/threadedComments/threadedComment"+o+"."+r,gn(s,v,Ktt(g,d,t)),a.threadedcomments.push(v),Ea(f,-1,"../threadedComments/threadedComment"+o+"."+r,Tn.TCMNT)),v="xl/comments"+o+"."+r,gn(s,v,BAe(g)),a.comments.push(v),Ea(f,-1,"../comments"+o+"."+r,Tn.CMNT),x=!0}h["!legacy"]&&x&&gn(s,"xl/drawings/vmlDrawing"+o+".vml",TAe(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&gn(s,qC(i),J1(f))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,gn(s,i,gAe(t.Strings,t)),a.strs.push(i),Ea(t.wbrels,-1,"sharedStrings."+r,Tn.SST)),i="xl/workbook."+r,gn(s,i,KAe(e)),a.workbooks.push(i),Ea(t.rels,1,i,Tn.WB),i="xl/theme/theme1.xml",gn(s,i,h9(e.Themes,t)),a.themes.push(i),Ea(t.wbrels,-1,"theme/theme1.xml",Tn.THEME),i="xl/styles."+r,gn(s,i,SAe(e,t)),a.styles.push(i),Ea(t.wbrels,-1,"styles."+r,Tn.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",gn(s,i,e.vbaraw),a.vba.push(i),Ea(t.wbrels,-1,"vbaProject.bin",Tn.VBA)),i="xl/metadata."+r,gn(s,i,kAe()),a.metadata.push(i),Ea(t.wbrels,-1,"metadata."+r,Tn.XLMETA),d.length>1&&(i="xl/persons/person.xml",gn(s,i,Wtt(d)),a.people.push(i),Ea(t.wbrels,-1,"persons/person.xml",Tn.PEOPLE)),gn(s,"[Content_Types].xml",Vfe(a,t)),gn(s,"_rels/.rels",J1(t.rels)),gn(s,"xl/_rels/workbook."+r+".rels",J1(t.wbrels)),delete t.revssf,delete t.ssf,s}function E9(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=xu(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Qot(e,t){return Ir.find(e,"EncryptedPackage")?Rot(e,t):YAe(e,t)}function Hot(e,t){var r,n=e,a=t||{};return a.type||(a.type=Cn&&Buffer.isBuffer(e)?"buffer":"base64"),r=vfe(n,a),Pot(r,a)}function she(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return NR(e.slice(r),t);default:break e}return Pb.to_workbook(e,t)}function $ot(e,t){var r="",n=E9(e,t);switch(t.type){case"base64":r=xu(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=kx(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Da(r)),t.type="binary",she(r,t)}function Vot(e,t){var r=e;return t.type=="base64"&&(r=xu(r)),r=HC.utils.decode(1200,r.slice(2),"str"),t.type="binary",she(r,t)}function zot(e){return e.match(/[^\x00-\x7F]/)?BA(e):e}function cO(e,t,r,n){return n?(r.type="string",Pb.to_workbook(e,r)):Pb.to_workbook(t,r)}function tE(e,t){$7();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return tE(new Uint8Array(e),(r=ts(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),eb={},r.dateNF&&(eb.dateNF=r.dateNF),r.type||(r.type=Cn&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Cn?"buffer":"binary",n=RXe(e),typeof Uint8Array<"u"&&!Cn&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=zot(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=ts(r),r.type="array",tE(V7(n),r)}switch((a=E9(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Qot(Ir.read(n,r),r);break;case 9:if(a[1]<=8)return YAe(n,r);break;case 60:return NR(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return qZe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return pAe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Hot(n,r):cO(e,n,r,s);case 239:return a[3]===60?NR(n,r):cO(e,n,r,s);case 255:if(a[1]===254)return Vot(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return sx.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return sx.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return _R.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return wAe.to_workbook(n,r);break;case 10:case 13:case 32:return $ot(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return KZe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?_R.to_workbook(n,r):cO(e,n,r,s)}function ihe(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return rS(t.file,Ir.write(e,{type:Cn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ir.write(e,t)}function Got(e,t){var r=ts(t||{}),n=Lot(e,r);return Kot(n,r)}function Kot(e,t){var r={},n=Cn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Ir.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(oj(a))}return t.password&&typeof encrypt_agile<"u"?ihe(encrypt_agile(a,t.password),t):t.type==="file"?rS(t.file,a):t.type=="string"?Da(a):a}function qot(e,t){var r=t||{},n=zit(e,r);return ihe(n,r)}function hA(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return $C(BA(n));case"binary":return BA(n);case"string":return e;case"file":return rS(t.file,n,"utf8");case"buffer":return Cn?B0(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):hA(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Wot(e,t){switch(t.type){case"base64":return $C(e);case"binary":return e;case"string":return e;case"file":return rS(t.file,e,"binary");case"buffer":return Cn?B0(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function h5(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?$C(r):t.type=="string"?Da(r):r;case"file":return rS(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function ohe(e,t){$7(),Qst(e);var r=ts(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=ohe(e,r);return r.type="array",oj(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return hA(Lit(e,r),r);case"slk":case"sylk":return hA(hAe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return hA(ZAe(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Wot(lhe(e.Sheets[e.SheetNames[a]],r),r);case"csv":return hA(S9(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return hA(pAe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return h5(_R.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return hA(Pb.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return hA(wAe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return hA(mAe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return hA(nhe(e,r),r);case"wk1":return h5(sx.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return h5(sx.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),h5(JAe(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),qot(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Got(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Xot(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function mj(e,t,r){var n={};return n.type="file",n.file=t,Xot(n),ohe(e,n)}function Yot(e,t,r,n,a,s,i,o){var c=ui(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=i?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[p]!=null&&(h[s[p]]=u);continue}var x=g.v;switch(g.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[p]!=null){if(x==null)if(g.t=="e"&&x===null)h[s[p]]=null;else if(u!==void 0)h[s[p]]=u;else if(d&&x===null)h[s[p]]=null;else continue;else h[s[p]]=d&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?x:v0(g,x,o);x!=null&&(f=!1)}}return{row:h,isempty:f}}function Bk(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Wn(d);break;case"number":c=Wn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=ui(c.s.r),h=[],p=[],g=0,x=0,v=Array.isArray(e),y=c.s.r,w=0,E={};v&&!e[y]&&(e[y]=[]);var k=u.skipHidden&&e["!cols"]||[],B=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(k[w]||{}).hidden)switch(h[w]=ys(w),r=v?e[y][w]:e[h[w]+f],n){case 1:s[w]=w-c.s.c;break;case 2:s[w]=h[w];break;case 3:s[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=v0(r,null,u),x=E[i]||0,!x)E[i]=1;else{do o=i+"_"+x++;while(E[o]);E[i]=x,E[o]=1}s[w]=o}for(y=c.s.r+a;y<=c.e.r;++y)if(!(B[y]||{}).hidden){var j=Yot(e,c,y,h,n,s,v,u);(j.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=j.row)}return p.length=g,p}var sZ=/"/g;function Jot(e,t,r,n,a,s,i,o){for(var c=!0,u=[],d="",f=ui(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:v0(p,null,o));for(var g=0,x=0;g!==d.length;++g)if((x=d.charCodeAt(g))===a||x===s||x===34||o.forceQuotes){d='"'+d.replace(sZ,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(sZ,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(i)}function S9(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Wn(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=ys(g));for(var x=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(d=Jot(e,a,v,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((x++?o:"")+d)));return delete n.dense,r.join("")}function lhe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=S9(e,t);return r}function Zot(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Wn(e["!ref"]),s="",i=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=ys(o);for(var d=a.s.r;d<=a.e.r;++d)for(s=ui(d),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function che(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ws(n.origin):n.origin;i=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=Wn(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(x,v){Gs(x).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var w=x[y],E="z",k="",B=Wr({c:o+p,r:i+v+a});u=rE(s,B),w&&typeof w=="object"&&!(w instanceof Date)?s[B]=w:(typeof w=="number"?E="n":typeof w=="boolean"?E="b":typeof w=="string"?E="s":w instanceof Date?(E="d",n.cellDates||(E="n",w=zi(w)),k=n.dateNF||zr[14]):w===null&&n.nullError&&(E="e",w=0),u?(u.t=E,u.v=w,delete u.w,delete u.R,k&&(u.z=k)):s[B]=u={t:E,v:w},k&&(u.z=k))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var g=ui(i);if(a)for(p=0;p<h.length;++p)s[ys(p+o)+g]={t:"s",v:h[p]};return s["!ref"]=fn(d),s}function elt(e,t){return che(null,e,t)}function rE(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ws(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?rE(e,Wr(t)):rE(e,Wr({r:t,c:r||0}))}function tlt(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function _9(){return{SheetNames:[],Sheets:{}}}function N9(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(GAe(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function rlt(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=tlt(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function nlt(e,t){return e.z=t,e}function uhe(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function alt(e,t,r){return uhe(e,"#"+t,r)}function slt(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function ilt(e,t,r,n){for(var a=typeof t!="string"?t:Wn(t),s=typeof t=="string"?t:fn(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var c=rE(e,i,o);c.t="n",c.F=s,delete c.v,i==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var zl={encode_col:ys,encode_row:ui,encode_cell:Wr,encode_range:fn,decode_col:r9,decode_row:t9,split_cell:pYe,decode_cell:ws,decode_range:kc,format_cell:v0,sheet_add_aoa:Rfe,sheet_add_json:che,sheet_add_dom:ehe,aoa_to_sheet:Ty,json_to_sheet:elt,table_to_sheet:the,table_to_book:Aot,sheet_to_csv:S9,sheet_to_txt:lhe,sheet_to_json:Bk,sheet_to_html:ZAe,sheet_to_formulae:Zot,sheet_to_row_object_array:Bk,sheet_get_cell:rE,book_new:_9,book_append_sheet:N9,book_set_sheet_visibility:rlt,cell_set_number_format:nlt,cell_set_hyperlink:uhe,cell_set_internal_link:alt,cell_add_comment:slt,sheet_set_array_formula:ilt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const olt=async()=>{try{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=["usuarios","acompanamientos","anuncios","acciones","analisis","apiLogs"];let n=0,a=0;const s=[];for(const c of r)try{const u=wt(Lr,c),d=await qn(u),f=d.size;n+=f,s.push({label:c.charAt(0).toUpperCase()+c.slice(1),value:f});let h=0;d.docs.forEach(p=>{const g=p.data();g.createdAt&&new Date(g.createdAt)>=t&&h++}),a+=h}catch(u){console.warn(`Error accediendo a colección ${c}:`,u),s.push({label:c.charAt(0).toUpperCase()+c.slice(1),value:0})}const i=[];try{const c=wt(Lr,"apiLogs"),u=new Date(e.getTime()-10080*60*1e3),d=zt(c,Gr("timestamp",">=",u.toISOString()),wr("timestamp","desc")),f=await qn(d),h={};f.docs.forEach(p=>{const g=p.data(),x=new Date(g.timestamp).toLocaleDateString("es-CL");h[x]=(h[x]||0)+1}),Object.entries(h).sort(([p],[g])=>new Date(p).getTime()-new Date(g).getTime()).forEach(([p,g])=>{i.push({label:p,value:g})})}catch(c){console.warn("Error calculando actividad diaria:",c)}const o=Math.floor(a*2.5);return{documentsCreatedToday:a,readsToday:o,writesToday:a,totalDocuments:n,collectionsActivity:s.sort((c,u)=>u.value-c.value),dailyActivity:i}}catch(e){return console.error("Error al obtener estadísticas de Firestore:",e),{documentsCreatedToday:0,readsToday:0,writesToday:0,totalDocuments:0,collectionsActivity:[],dailyActivity:[]}}},iZ=500,Gv=({title:e,value:t,description:r,alert:n})=>l.jsxs("div",{className:`p-5 rounded-xl border ${n?"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),l.jsx("p",{className:`text-3xl font-bold mt-2 ${n?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}`,children:t}),r&&l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r})]}),uO=({title:e,data:t,colorClass:r})=>{const n=S.useMemo(()=>Math.max(...t.map(a=>a.value),1),[t]);return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md h-full",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:e}),l.jsx("div",{className:"space-y-4",children:t.length>0?t.map(a=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:a.label}),l.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:a.value})]}),l.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:l.jsx("div",{className:`${r} h-3 rounded-full transition-all duration-500 ease-out`,style:{width:`${a.value/n*100}%`}})})]},a.label)):l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm text-center py-8",children:"No hay datos para mostrar."})})]})},llt=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!0),[a,s]=S.useState(null),[i,o]=S.useState({documentsCreatedToday:0,readsToday:0,writesToday:0,totalDocuments:0,collectionsActivity:[],dailyActivity:[]});S.useEffect(()=>{n(!0);const f=YKe(g=>{t(g),n(!1)}),h=async()=>{try{const g=await olt();o(g)}catch(g){console.error("Error al cargar estadísticas de Firestore:",g)}};h();const p=setInterval(h,300*1e3);return()=>{f(),clearInterval(p)}},[]);const{stats:c,userStats:u,moduleStats:d}=S.useMemo(()=>{const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),f.getDate()).getTime(),p=h-f.getDay()*24*60*60*1e3,g=new Date(f.getFullYear(),f.getMonth(),1).getTime(),x={today:0,week:0,month:0},v={},y={};e.forEach(k=>{const B=new Date(k.timestamp).getTime();B>=h&&x.today++,B>=p&&x.week++,B>=g&&x.month++;const j=k.userEmail||"Desconocido";v[j]||(v[j]={email:j,today:0,month:0,total:0}),v[j].total++,B>=h&&v[j].today++,B>=g&&v[j].month++,y[k.module]=(y[k.module]||0)+1});const w=Object.values(v).sort((k,B)=>B.total-k.total),E=Object.entries(y).map(([k,B])=>({label:k,value:B})).sort((k,B)=>B.value-k.value);return{stats:x,userStats:w,moduleStats:E}},[e]);return l.jsxs("div",{className:"space-y-8",children:[a&&l.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:a}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Llamadas a la API de IA"}),r&&l.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando estadísticas..."}),!r&&e.length===0&&l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg mb-6",children:"No hay registros de llamadas a la API en la nube."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsx(Gv,{title:"Llamadas Hoy",value:r?"--":c.today,description:`Límite recomendado: ${iZ}`,alert:c.today>iZ}),l.jsx(Gv,{title:"Llamadas esta Semana",value:r?"--":c.week}),l.jsx(Gv,{title:"Llamadas este Mes",value:r?"--":c.month})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[l.jsx(uO,{title:"Uso por Módulo",data:d,colorClass:"bg-sky-500"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Uso por Usuario"}),l.jsx("div",{className:"overflow-x-auto max-h-96",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Usuario"}),l.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Hoy"}),l.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Mes"}),l.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Total"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:!r&&u.length>0?u.map(f=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:f.email}),l.jsx("td",{className:"px-4 py-2 text-center text-sm",children:f.today}),l.jsx("td",{className:"px-4 py-2 text-center text-sm",children:f.month}),l.jsx("td",{className:"px-4 py-2 text-center text-sm font-bold",children:f.total})]},f.email)):l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"text-center py-6 text-slate-500",children:r?"Cargando...":"No hay registros."})})})]})})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Monitor de Almacenamiento Firestore"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Estadísticas de uso de Firestore (simuladas)."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(Gv,{title:"Documentos Creados (Hoy)",value:i.documentsCreatedToday,description:"Nuevos documentos"}),l.jsx(Gv,{title:"Lecturas de Firestore (Hoy)",value:i.readsToday,description:"Operaciones de lectura"}),l.jsx(Gv,{title:"Total de Documentos",value:i.totalDocuments,description:"En todas las colecciones"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[l.jsx(uO,{title:"Actividad por Colección",data:i.collectionsActivity,colorClass:"bg-green-500"}),l.jsx(uO,{title:"Actividad Diaria (Últimos 7 días)",data:i.dailyActivity,colorClass:"bg-purple-500"})]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const clt="type.googleapis.com/google.protobuf.Int64Value",ult="type.googleapis.com/google.protobuf.UInt64Value";function dhe(e,t){const r={};for(const n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}function jk(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>jk(t));if(typeof e=="function"||typeof e=="object")return dhe(e,t=>jk(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Lb(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case clt:case ult:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Lb(t)):typeof e=="function"||typeof e=="object"?dhe(e,t=>Lb(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oZ={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wc extends Cf{constructor(t,r,n){super(`${k9}/${t}`,r||""),this.details=n,Object.setPrototypeOf(this,wc.prototype)}}function dlt(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ik(e,t){let r=dlt(e),n=r,a;try{const s=t&&t.error;if(s){const i=s.status;if(typeof i=="string"){if(!oZ[i])return new wc("internal","internal");r=oZ[i],n=i}const o=s.message;typeof o=="string"&&(n=o),a=s.details,a!==void 0&&(a=Lb(a))}}catch{}return r==="ok"?null:new wc(r,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class flt{constructor(t,r,n,a){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,nu(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||a==null||a.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(t){const r=await this.getAuthToken(),n=await this.getMessagingToken(),a=await this.getAppCheckToken(t);return{authToken:r,messagingToken:n,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="us-central1",Alt=/^data: (.*?)(?:\n|$)/;function hlt(e){let t=null;return{promise:new Promise((r,n)=>{t=setTimeout(()=>{n(new wc("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class plt{constructor(t,r,n,a,s=BR,i=(...o)=>fetch(...o)){this.app=t,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new flt(t,r,n,a),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=BR}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${r}.cloudfunctions.net/${t}`}}function mlt(e,t,r){const n=C0(t);e.emulatorOrigin=`http${n?"s":""}://${t}:${r}`,n&&(fT(e.emulatorOrigin),AT("Functions",!0))}function glt(e,t,r){const n=a=>vlt(e,t,a,{});return n.stream=(a,s)=>ylt(e,t,a,s),n}async function xlt(e,t,r,n){r["Content-Type"]="application/json";let a;try{a=await n(e,{method:"POST",body:JSON.stringify(t),headers:r})}catch{return{status:0,json:null}}let s=null;try{s=await a.json()}catch{}return{status:a.status,json:s}}async function fhe(e,t){const r={},n=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return n.authToken&&(r.Authorization="Bearer "+n.authToken),n.messagingToken&&(r["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=n.appCheckToken),r}function vlt(e,t,r,n){const a=e._url(t);return blt(e,a,r,n)}async function blt(e,t,r,n){r=jk(r);const a={data:r},s=await fhe(e,n),i=n.timeout||7e4,o=hlt(i),c=await Promise.race([xlt(t,a,s,e.fetchImpl),o.promise,e.cancelAllRequests]);if(o.cancel(),!c)throw new wc("cancelled","Firebase Functions instance was deleted.");const u=Ik(c.status,c.json);if(u)throw u;if(!c.json)throw new wc("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new wc("internal","Response is missing data field.");return{data:Lb(d)}}function ylt(e,t,r,n){const a=e._url(t);return wlt(e,a,r,n||{})}async function wlt(e,t,r,n){var h;r=jk(r);const a={data:r},s=await fhe(e,n);s["Content-Type"]="application/json",s.Accept="text/event-stream";let i;try{i=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(a),headers:s,signal:n==null?void 0:n.signal})}catch(p){if(p instanceof Error&&p.name==="AbortError"){const x=new wc("cancelled","Request was cancelled.");return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}const g=Ik(0,null);return{data:Promise.reject(g),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(g)}}}}}}let o,c;const u=new Promise((p,g)=>{o=p,c=g});(h=n==null?void 0:n.signal)==null||h.addEventListener("abort",()=>{const p=new wc("cancelled","Request was cancelled.");c(p)});const d=i.body.getReader(),f=Clt(d,o,c,n==null?void 0:n.signal);return{stream:{[Symbol.asyncIterator](){const p=f.getReader();return{async next(){const{value:g,done:x}=await p.read();return{value:g,done:x}},async return(){return await p.cancel(),{done:!0,value:void 0}}}}},data:u}}function Clt(e,t,r,n){const a=(i,o)=>{const c=i.match(Alt);if(!c)return;const u=c[1];try{const d=JSON.parse(u);if("result"in d){t(Lb(d.result));return}if("message"in d){o.enqueue(Lb(d.message));return}if("error"in d){const f=Ik(0,d);o.error(f),r(f);return}}catch(d){if(d instanceof wc){o.error(d),r(d);return}}},s=new TextDecoder;return new ReadableStream({start(i){let o="";return c();async function c(){if(n!=null&&n.aborted){const u=new wc("cancelled","Request was cancelled");return i.error(u),r(u),Promise.resolve()}try{const{value:u,done:d}=await e.read();if(d){o.trim()&&a(o.trim(),i),i.close();return}if(n!=null&&n.aborted){const h=new wc("cancelled","Request was cancelled");i.error(h),r(h),await e.cancel();return}o+=s.decode(u,{stream:!0});const f=o.split(`
`);o=f.pop()||"";for(const h of f)h.trim()&&a(h.trim(),i);return c()}catch(u){const d=u instanceof wc?u:Ik(0,null);i.error(d),r(d)}}},cancel(){return e.cancel()}})}const lZ="@firebase/functions",cZ="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Elt="auth-internal",Slt="app-check-internal",_lt="messaging-internal";function Nlt(e){const t=(r,{instanceIdentifier:n})=>{const a=r.getProvider("app").getImmediate(),s=r.getProvider(Elt),i=r.getProvider(_lt),o=r.getProvider(Slt);return new plt(a,s,i,o,n)};lm(new r0(k9,t,"PUBLIC").setMultipleInstances(!0)),Ad(lZ,cZ,e),Ad(lZ,cZ,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(e=hT(),t=BR){const n=pE(aa(e),k9).getImmediate({identifier:t}),a=LL("functions");return a&&klt(n,...a),n}function klt(e,t,r){mlt(aa(e),t,r)}function Kv(e,t,r){return glt(aa(e),t)}Nlt();const uZ=wt(Lr,"usuarios");async function Ahe(){try{console.log("🔍 [DEBUG] Obteniendo usuarios de Firestore..."),console.log("🔍 [DEBUG] Collection ref:",uZ);const e=await qn(uZ);if(console.log(`📊 [DEBUG] Encontrados ${e.docs.length} documentos en la colección usuarios`),e.empty)return console.log("⚠️  [DEBUG] La colección usuarios está vacía"),[];const t=e.docs.map(r=>{const n=r.data();return console.log("👤 [DEBUG] Usuario encontrado:",{id:r.id,...n}),{id:r.id,...n}});return console.log("✅ [DEBUG] Usuarios procesados correctamente:",t.length),console.log("✅ [DEBUG] Lista completa de usuarios:",t),t}catch(e){throw console.error("❌ [DEBUG] Error al obtener usuarios:",e),console.error("❌ [DEBUG] Error details:",{code:e.code,message:e.message,stack:e.stack}),e}}const dZ=Object.values(Yt),dO=e=>e?e.trim().toLowerCase().replace(/°/g,"º").replace(/\s+(medio|básico|basico)/g,"").replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º").replace(/^(\d)(?![º])/,"$1º").replace(/\s+/g,"").toUpperCase():"",Tlt=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!1),[a,s]=S.useState("Usuarios"),[i,o]=S.useState({nombreCompleto:"",email:"",rut:"",profile:Yt.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),[c,u]=S.useState(null),[d,f]=S.useState(""),[h,p]=S.useState(""),[g,x]=S.useState(""),[v,y]=S.useState(null),[w,E]=S.useState(null),[k,B]=S.useState(null),j=S.useCallback(async()=>{n(!0);try{const K=await Ahe();t(K)}catch(K){console.error("Error al cargar usuarios",K),y("No se pudieron cargar los usuarios.")}finally{n(!1)}},[]);S.useEffect(()=>{j()},[j]);const C=S.useCallback(K=>{const{name:z,value:Y}=K.target;o(ee=>({...ee,[z]:Y,curso:z==="profile"&&Y!==Yt.ESTUDIANTE?"":ee.curso,cursos:z==="profile"&&Y!==Yt.PROFESORADO?[]:ee.cursos,asignaturas:z==="profile"&&Y!==Yt.PROFESORADO?[]:ee.asignaturas}))},[]),N=S.useCallback((K,z)=>{o(Y=>{const ee=Y[K]||[],M=ee.includes(z)?ee.filter(H=>H!==z):[...ee,z];return{...Y,[K]:M}})},[]),I=S.useCallback(()=>{o({nombreCompleto:"",email:"",rut:"",profile:Yt.PROFESORADO,password:"",curso:"",cursos:[],asignaturas:[]}),u(null),y(null)},[]),L=S.useCallback(async K=>{K.preventDefault(),y(null);const{nombreCompleto:z,email:Y,profile:ee,curso:M,password:H}=i;if(!z.trim()||!Y.trim()){y("Nombre Completo y Email son obligatorios.");return}if(ee===Yt.ESTUDIANTE&&!M){y('El campo "Curso" es obligatorio para Estudiantes.');return}if(!c&&!(H!=null&&H.trim())){y("La contraseña es obligatoria al crear un nuevo usuario.");return}const W=Mw();try{if(c){const Z=Kv(W,"updateUser"),ae={...i,password:(H==null?void 0:H.trim())||void 0,curso:ee===Yt.ESTUDIANTE?dO(M||""):void 0};await Z(ae)}else{const Z=Kv(W,"createUser"),ae={...i,curso:ee===Yt.ESTUDIANTE?dO(M||""):void 0};await Z(ae)}await j(),I()}catch(Z){console.error("Error al guardar usuario:",Z),y(Z.message||"Error al guardar el usuario.")}},[i,c,j,I]),O=S.useCallback(K=>{u(K.email),o({nombreCompleto:K.nombreCompleto,email:K.email,rut:K.rut||"",profile:K.profile,password:"",curso:K.curso||"",cursos:K.cursos||[],asignaturas:K.asignaturas||[]}),setTimeout(()=>{const z=document.querySelector("form");z&&z.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},[]),T=S.useCallback(async K=>{if(window.confirm(`¿Está seguro de que desea eliminar al usuario ${K}? Esta acción es irreversible.`))try{const z=Mw();await Kv(z,"deleteUser")({email:K}),await j()}catch(z){console.error("Error al eliminar usuario:",z),y(z.message||"No se pudo borrar el usuario.")}},[j]),P=async K=>{var H;const z=(H=K.target.files)==null?void 0:H[0];if(!z)return;E({message:"Procesando archivo...",isError:!1});const Y=Mw(),ee=Kv(Y,"createUser"),M=new FileReader;M.onload=async W=>{var Z;try{const ae=new Uint8Array((Z=W.target)==null?void 0:Z.result),oe=tE(ae,{type:"array"}),se=oe.Sheets[oe.SheetNames[0]],ce=zl.sheet_to_json(se);if(ce.length===0){E({message:"El archivo está vacío o no tiene el formato correcto.",isError:!0});return}const de=ce.map(Se=>{const he=Se.Nombre||Se.nombre,Be=Se.Correo||Se.correo||Se.Email||Se.email,Le=Se.Curso||Se.curso,Ge=Se.RUT||Se.rut;return!he||!Be||!Le?Promise.resolve({email:Be||"Sin email",error:"Datos incompletos"}):ee({nombreCompleto:String(he).trim(),email:String(Be).trim(),profile:Yt.ESTUDIANTE,curso:dO(String(Le).trim()),rut:Ge?String(Ge).trim():"",password:"recoleta"}).catch(xe=>({email:Be,error:xe.message}))}),ke=await Promise.all(de),re=ke.filter(Se=>!Se.error).length,_e=ke.filter(Se=>Se.error);let Ne=`Carga completada. ${re} estudiantes agregados.`;_e.length>0&&(Ne+=` ${_e.length} fallaron.`,console.error("Errores en carga masiva:",_e)),E({message:Ne,isError:_e.length>0}),await j()}catch(ae){E({message:`Error: ${ae.message}`,isError:!0})}},M.readAsArrayBuffer(z),K.target.value=""},R=async K=>{var H;const z=(H=K.target.files)==null?void 0:H[0];if(!z)return;B({message:"Procesando archivo...",isError:!1});const Y=Mw(),ee=Kv(Y,"createUser"),M=new FileReader;M.onload=async W=>{var Z;try{const ae=new Uint8Array((Z=W.target)==null?void 0:Z.result),oe=tE(ae,{type:"array"}),se=oe.Sheets[oe.SheetNames[0]],ce=zl.sheet_to_json(se);if(ce.length===0){B({message:"El archivo está vacío o no tiene el formato correcto.",isError:!0});return}const de=ce.map(Se=>{const he=Se.Nombre||Se.nombre,Be=Se.Correo||Se.correo||Se.Email||Se.email,Le=Se.Perfil||Se.perfil||Se.Profile||Se.profile,Ge=Se.RUT||Se.rut;return!he||!Be||!Le?Promise.resolve({email:Be||"Sin email",error:"Datos incompletos"}):ee({nombreCompleto:String(he).trim(),email:String(Be).trim(),profile:Le,rut:Ge?String(Ge).trim():"",password:"recoleta"}).catch(xe=>({email:Be,error:xe.message}))}),ke=await Promise.all(de),re=ke.filter(Se=>!Se.error).length,_e=ke.filter(Se=>Se.error);let Ne=`Carga completada. ${re} usuarios agregados.`;_e.length>0&&(Ne+=` ${_e.length} fallaron.`,console.error("Errores en carga masiva:",_e)),B({message:Ne,isError:_e.length>0}),await j()}catch(ae){B({message:`Error: ${ae.message}`,isError:!0})}},M.readAsArrayBuffer(z),K.target.value=""},q="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",Q=S.useMemo(()=>Array.from(new Set(e.filter(K=>K.profile===Yt.ESTUDIANTE&&K.curso).map(K=>K.curso))).sort(),[e]),G=S.useMemo(()=>e.filter(K=>(d===""||K.nombreCompleto.toLowerCase().includes(d.toLowerCase())||K.email.toLowerCase().includes(d.toLowerCase()))&&(h===""||K.profile===h)&&(g===""||K.curso===g)),[e,d,h,g]);return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Administración"}),l.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:l.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[l.jsx("button",{onClick:()=>s("Usuarios"),className:`${a==="Usuarios"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Gestión de Usuarios"}),l.jsx("button",{onClick:()=>s("Monitor de Uso"),className:`${a==="Monitor de Uso"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none`,children:"Monitor de Uso"})]})}),a==="Usuarios"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Carga Masiva"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Cargar Estudiantes (Excel)"}),l.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:P,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100 dark:file:bg-amber-900 dark:file:text-amber-300"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Columnas requeridas: Nombre, Correo, Curso"}),w&&l.jsx("p",{className:`text-sm mt-2 ${w.isError?"text-red-600":"text-green-600"}`,children:w.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Cargar Personal (Excel)"}),l.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:R,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100 dark:file:bg-amber-900 dark:file:text-amber-300"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Columnas requeridas: Nombre, Correo, Perfil"}),k&&l.jsx("p",{className:`text-sm mt-2 ${k.isError?"text-red-600":"text-green-600"}`,children:k.message})]})]})]}),l.jsxs("div",{id:"formulario-usuario",className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:c?"Editando usuario":"Agregar nuevo usuario"}),l.jsxs("form",{onSubmit:L,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Completo"}),l.jsx("input",{type:"text",name:"nombreCompleto",value:i.nombreCompleto,onChange:C,className:q,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:i.email,onChange:C,className:q,required:!0,readOnly:!!c})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contraseña"}),l.jsx("input",{type:"password",name:"password",value:i.password||"",onChange:C,placeholder:c?"Dejar en blanco para no cambiar":"Contraseña temporal",className:q})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT (Opcional)"}),l.jsx("input",{type:"text",name:"rut",value:i.rut||"",onChange:C,placeholder:"12.345.678-9",className:q})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Perfil de Usuario"}),l.jsx("select",{name:"profile",value:i.profile,onChange:C,className:q,required:!0,children:dZ.map(K=>l.jsx("option",{value:K,children:K},K))})]}),i.profile===Yt.ESTUDIANTE&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),l.jsxs("select",{name:"curso",value:i.curso,onChange:C,className:q,required:!0,children:[l.jsx("option",{value:"",children:"Seleccione un curso"}),Kl.map(K=>l.jsx("option",{value:K,children:K},K))]})]})]}),i.profile===Yt.PROFESORADO&&l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border-l-4 border-blue-400",children:[l.jsxs("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[l.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm mr-2",children:"📚"}),"Asignación de Cursos"]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Kl.map(K=>{var z;return l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer bg-white dark:bg-slate-700 p-2 rounded border hover:bg-blue-50 dark:hover:bg-blue-800/20",children:[l.jsx("input",{type:"checkbox",checked:((z=i.cursos)==null?void 0:z.includes(K))||!1,onChange:()=>N("cursos",K),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium",children:K})]},K)})})]}),i.profile===Yt.PROFESORADO&&l.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border-l-4 border-green-400",children:[l.jsxs("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[l.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-sm mr-2",children:"📖"}),"Asignación de Asignaturas"]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:po.map(K=>{var z;return l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer bg-white dark:bg-slate-700 p-2 rounded border hover:bg-green-50 dark:hover:bg-green-800/20",children:[l.jsx("input",{type:"checkbox",checked:((z=i.asignaturas)==null?void 0:z.includes(K))||!1,onChange:()=>N("asignaturas",K),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),l.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium",children:K})]},K)})})]}),v&&l.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-4",children:v}),l.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4 flex-wrap",children:[c&&l.jsx("button",{type:"button",onClick:I,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cancelar"}),l.jsx("button",{type:"button",onClick:async()=>{try{console.log("🔧 Agregando custom claim...");const K=Mw(),Y=await Kv(K,"addCustomClaim")({email:"fernando.sagredo@industrialderecoleta.cl",profile:"SUBDIRECCION"});console.log("✅ Custom claim agregado:",Y),y("✅ Custom claim agregado exitosamente")}catch(K){console.error("❌ Error al agregar custom claim:",K),y(`Error: ${K.message}`)}},className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 text-sm",children:"🔧 Claim"}),l.jsx("button",{type:"button",onClick:async()=>{var K,z,Y,ee,M;try{const{auth:H}=await Ob(async()=>{const{auth:ae}=await Promise.resolve().then(()=>fse);return{auth:ae}},void 0);console.log("🔍 Usuario actual:",(K=H.currentUser)==null?void 0:K.email);const W=await((z=H.currentUser)==null?void 0:z.getIdToken(!0));console.log("🔑 Token refreshed:",!!W);const Z=await((Y=H.currentUser)==null?void 0:Y.getIdTokenResult());console.log("📋 Claims completos:",Z==null?void 0:Z.claims),console.log("👤 Profile claim:",(ee=Z==null?void 0:Z.claims)==null?void 0:ee.profile),((M=Z==null?void 0:Z.claims)==null?void 0:M.profile)==="SUBDIRECCION"?y("✅ Custom claim FUNCIONANDO - Ya puedes crear/editar usuarios"):y(`❌ Custom claim faltante. Claims: ${JSON.stringify(Z==null?void 0:Z.claims)}`)}catch(H){console.error("❌ Error verificando token:",H),y(`Error verificando token: ${H.message}`)}},className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 text-sm",children:"🔍 Token"}),l.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:c?"Actualizar Usuario":"Agregar Usuario"})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Listado de Usuarios"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{children:l.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",value:d,onChange:K=>f(K.target.value),className:q})}),l.jsx("div",{children:l.jsxs("select",{value:h,onChange:K=>p(K.target.value),className:q,children:[l.jsx("option",{value:"",children:"Todos los perfiles"}),dZ.map(K=>l.jsx("option",{value:K,children:K},K))]})}),l.jsx("div",{children:l.jsxs("select",{value:g,onChange:K=>x(K.target.value),className:q,children:[l.jsx("option",{value:"",children:"Todos los cursos"}),Q.map(K=>l.jsx("option",{value:K,children:K},K))]})})]}),r?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-slate-500",children:"Cargando usuarios..."})}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Nombre"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Email"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Perfil"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Curso/Asignaciones"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:G.map(K=>l.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",children:K.nombreCompleto}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-300",children:K.email}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-300",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${K.profile===Yt.ESTUDIANTE?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":K.profile===Yt.PROFESORADO?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"}`,children:K.profile})}),l.jsxs("td",{className:"px-4 py-4 text-sm text-slate-500 dark:text-slate-300",children:[K.profile===Yt.ESTUDIANTE&&l.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-slate-100 text-slate-700 rounded dark:bg-slate-600 dark:text-slate-300",children:K.curso||"Sin curso"}),K.profile===Yt.PROFESORADO&&l.jsxs("div",{className:"space-y-1",children:[K.cursos&&K.cursos.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Cursos:"}),l.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[K.cursos.slice(0,3).map(z=>l.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded dark:bg-blue-900 dark:text-blue-300",children:z},z)),K.cursos.length>3&&l.jsxs("span",{className:"inline-flex px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded dark:bg-slate-600 dark:text-slate-400",children:["+",K.cursos.length-3]})]})]}),K.asignaturas&&K.asignaturas.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Asignaturas:"}),l.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[K.asignaturas.slice(0,2).map(z=>l.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-green-100 text-green-700 rounded dark:bg-green-900 dark:text-green-300",children:z},z)),K.asignaturas.length>2&&l.jsxs("span",{className:"inline-flex px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded dark:bg-slate-600 dark:text-slate-400",children:["+",K.asignaturas.length-2]})]})]}),(!K.cursos||K.cursos.length===0)&&(!K.asignaturas||K.asignaturas.length===0)&&l.jsx("span",{className:"text-xs text-slate-400 italic",children:"Sin asignaciones"})]}),K.profile!==Yt.ESTUDIANTE&&K.profile!==Yt.PROFESORADO&&l.jsx("span",{className:"text-xs text-slate-400",children:"-"})]}),l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center space-x-2",children:[l.jsx("button",{onClick:()=>O(K),title:"Editar",className:"text-yellow-600 hover:text-yellow-800 p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40",children:"✏️"}),l.jsx("button",{onClick:()=>T(K.email),title:"Eliminar",className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/40",children:"🗑️"})]})]},K.email))})]}),G.length===0&&l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:e.length===0?"No hay usuarios registrados.":"No se encontraron usuarios con los filtros aplicados."})})]})]})]}),a==="Monitor de Uso"&&l.jsx(llt,{})]})},Mb="seguimiento_dual_records",Blt=e=>{const t=e.data(),r=n=>n&&typeof n.toDate=="function"?n.toDate().toISOString().split("T")[0]:n;return{id:e.id,...t,fechaDesvinculacion:r(t.fechaDesvinculacion),fecha1raSupervision1erSemestre:r(t.fecha1raSupervision1erSemestre),fecha2daSupervision1erSemestre:r(t.fecha2daSupervision1erSemestre),fecha1raSupervision2doSemestre:r(t.fecha1raSupervision2doSemestre),fecha2daSupervision2doSemestre:r(t.fecha2daSupervision2doSemestre),fechaSupervisionExcepcional:r(t.fechaSupervisionExcepcional)}},jlt=e=>{const t=zt(wt(mt,Mb),wr("nombreEstudiante","asc"));return br(t,n=>{const a=n.docs.map(s=>Blt(s));e(a)},n=>{console.error("Error al suscribirse a los registros de seguimiento:",n),e([])})},Fk=e=>{const t={...e};return["fechaDesvinculacion","fecha1raSupervision1erSemestre","fecha2daSupervision1erSemestre","fecha1raSupervision2doSemestre","fecha2daSupervision2doSemestre","fechaSupervisionExcepcional"].forEach(n=>{t[n]&&typeof t[n]=="string"&&(t[n]=lr.fromDate(new Date(t[n]+"T00:00:00")))}),t},Ilt=async e=>{try{const t=Fk(e);return(await Bn(wt(mt,Mb),t)).id}catch(t){throw console.error("Error al crear el registro:",t),new Error("No se pudo crear el registro de seguimiento.")}},fZ=async(e,t)=>{try{const r=dr(mt,Mb,e),n=Fk(t);await Gi(r,n,{merge:!0})}catch(r){throw console.error("Error al actualizar el registro:",r),new Error("No se pudo actualizar el registro.")}},Flt=async e=>{try{const t=dr(mt,Mb,e);await hs(t)}catch(t){throw console.error("Error al eliminar el registro:",t),new Error("No se pudo eliminar el registro.")}},Olt=async e=>{const t=Qx(mt),r=wt(mt,Mb);let n=0,a=0;for(const s of e){const i=zt(r,Gr("rutEstudiante","==",s.rutEstudiante)),o=await qn(i);if(o.empty){const c=dr(r);t.set(c,Fk(s)),a++}else{const c=o.docs[0].id,u=dr(mt,Mb,c);t.set(u,Fk(s),{merge:!0}),n++}}return await t.commit(),{updated:n,created:a}},Dlt={Vinculado:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300",Desvinculado:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","En proceso":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300",Empresa:"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300"},Plt=e=>{if(!e||e===""||e==="N/A"||e==="Pendiente")return null;try{if(typeof e=="number"){const t=new Date(1900,0,1),r=new Date(t.getTime()+(e-2)*24*60*60*1e3);return isNaN(r.getTime())?null:r.toISOString().split("T")[0]}if(e instanceof Date)return isNaN(e.getTime())?null:e.toISOString().split("T")[0];if(typeof e=="string"){const t=e.trim();if(t==="")return null;const r=new Date(t);return isNaN(r.getTime())?null:r.toISOString().split("T")[0]}return null}catch(t){return console.warn("Error parsing date:",e,t),null}},Rlt=e=>{if(typeof e=="boolean")return e;if(typeof e=="string"){const t=e.toLowerCase().trim();return["true","verdadero","sí","si","yes","1","x"].includes(t)}return typeof e=="number"?e===1:!1},Llt=({record:e,onSave:t,onClose:r})=>{const[n,a]=S.useState(e),s="w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 dark:text-white",i=c=>{const{name:u,value:d,type:f,checked:h}=c.target;a(p=>({...p,[u]:f==="checkbox"?h:d}))},o=()=>{t(n)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",onClick:r,children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl animate-fade-in-up",onClick:c=>c.stopPropagation(),children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo LIR",className:"w-12 h-12 object-contain"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento de Supervisión"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e.nombreEstudiante})]})]}),l.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-4 text-slate-700 dark:text-slate-300",children:[l.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[l.jsx("legend",{className:"font-semibold text-lg px-2",children:"1er Semestre"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:`f1s1-${e.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisión"}),l.jsx("input",{id:`f1s1-${e.id}`,type:"date",name:"fecha1raSupervision1erSemestre",value:n.fecha1raSupervision1erSemestre||"",onChange:i,className:s})]}),l.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[l.jsx("input",{type:"checkbox",name:"realizada1raSupervision1erSemestre",checked:!!n.realizada1raSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),l.jsx("span",{children:"Realizada"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:`f2s1-${e.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisión"}),l.jsx("input",{id:`f2s1-${e.id}`,type:"date",name:"fecha2daSupervision1erSemestre",value:n.fecha2daSupervision1erSemestre||"",onChange:i,className:s})]}),l.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[l.jsx("input",{type:"checkbox",name:"realizada2daSupervision1erSemestre",checked:!!n.realizada2daSupervision1erSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),l.jsx("span",{children:"Realizada"})]})]})]}),l.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[l.jsx("legend",{className:"font-semibold text-lg px-2",children:"2do Semestre"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:`f1s2-${e.id}`,className:"text-sm font-medium",children:"Fecha 1ra Supervisión"}),l.jsx("input",{id:`f1s2-${e.id}`,type:"date",name:"fecha1raSupervision2doSemestre",value:n.fecha1raSupervision2doSemestre||"",onChange:i,className:s})]}),l.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[l.jsx("input",{type:"checkbox",name:"realizada1raSupervision2doSemestre",checked:!!n.realizada1raSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),l.jsx("span",{children:"Realizada"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:`f2s2-${e.id}`,className:"text-sm font-medium",children:"Fecha 2da Supervisión"}),l.jsx("input",{id:`f2s2-${e.id}`,type:"date",name:"fecha2daSupervision2doSemestre",value:n.fecha2daSupervision2doSemestre||"",onChange:i,className:s})]}),l.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[l.jsx("input",{type:"checkbox",name:"realizada2daSupervision2doSemestre",checked:!!n.realizada2daSupervision2doSemestre,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),l.jsx("span",{children:"Realizada"})]})]})]}),l.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[l.jsx("legend",{className:"font-semibold text-lg px-2",children:"Supervisión Excepcional"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:`fex-${e.id}`,className:"text-sm font-medium",children:"Fecha Supervisión"}),l.jsx("input",{id:`fex-${e.id}`,type:"date",name:"fechaSupervisionExcepcional",value:n.fechaSupervisionExcepcional||"",onChange:i,className:s})]}),l.jsxs("label",{className:"flex items-center gap-2 pt-6",children:[l.jsx("input",{type:"checkbox",name:"realizadaSupervisionExcepcional",checked:!!n.realizadaSupervisionExcepcional,onChange:i,className:"h-5 w-5 rounded text-amber-500"}),l.jsx("span",{children:"Realizada"})]})]})]}),l.jsxs("fieldset",{className:"border p-4 rounded-lg dark:border-slate-600",children:[l.jsx("legend",{className:"font-semibold text-lg px-2",children:"Maestro Guía (Empresa)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:`mg-nombre-${e.id}`,className:"text-sm font-medium",children:"Nombre Maestro Guía"}),l.jsx("input",{id:`mg-nombre-${e.id}`,type:"text",name:"nombreMaestroGuia",value:n.nombreMaestroGuia||"",onChange:i,className:s+" mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:`mg-contacto-${e.id}`,className:"text-sm font-medium",children:"Contacto (Email/Teléfono)"}),l.jsx("input",{id:`mg-contacto-${e.id}`,type:"text",name:"contactoMaestroGuia",value:n.contactoMaestroGuia||"",onChange:i,className:s+" mt-1"})]})]})]})]})]}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:r,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Cerrar"}),l.jsx("button",{type:"button",onClick:o,className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Guardar Cambios"})]})]})})},Mlt=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!0),a=S.useMemo(()=>({nombreEstudiante:"",rutEstudiante:"",curso:Wg[0],profesorTutorEmpresa:"",rutEmpresa:"",nombreEmpresa:"",direccionEmpresa:"",comuna:"",estado:BI[0],fechaDesvinculacion:"",motivoDesvinculacion:""}),[]),[s,i]=S.useState(a),[o,c]=S.useState(null),[u,d]=S.useState(""),[f,h]=S.useState({curso:"",empresa:"",estado:"",comuna:"",profesor:""}),[p,g]=S.useState(null),[x,v]=S.useState(null),[y,w]=S.useState(!1),[E,k]=S.useState(null);S.useEffect(()=>{n(!0);const K=jlt(z=>{t(z),n(!1)});return()=>K()},[]);const B=S.useCallback(K=>{const{name:z,value:Y}=K.target;i(ee=>({...ee,[z]:Y}))},[]),j=S.useCallback(K=>{const{name:z,value:Y}=K.target;h(ee=>({...ee,[z]:Y}))},[]),C=S.useCallback(()=>{i(a),c(null),g(null)},[a]),N=async K=>{K.preventDefault(),g(null);const Y=["nombreEstudiante","rutEstudiante","nombreEmpresa"].find(ee=>{var M;return!((M=s[ee])!=null&&M.trim())});if(Y){g(`El campo '${Y}' es obligatorio.`);return}try{o?await fZ(o,s):await Ilt(s),C()}catch(ee){console.error(ee),g("No se pudo guardar el registro.")}},I=S.useCallback(K=>{window.scrollTo({top:0,behavior:"smooth"}),c(K.id),i(K)},[]),L=async K=>{if(window.confirm("¿Está seguro de que desea eliminar este registro?"))try{await Flt(K)}catch(z){console.error(z),g("No se pudo eliminar el registro.")}},O=K=>{k(K),w(!0)},T=()=>{k(null),w(!1)},P=async K=>{try{await fZ(K.id,K),T()}catch(z){console.error(z),alert("No se pudieron guardar los cambios de supervisión.")}},R=()=>{const K=["Nombre","RUT","Curso 2025","Profesor Tutor","1° Visita 1° Semestre","Realizada 1° Visita S1","2° Visita 1° Semestre","Realizada 2° Visita S1","Visita Emergencia 1° Semestre","3° Visita","Realizada 3° Visita S2","4° Visita","Realizada 4° Visita S2","Empresa","RUT-Empresa","Dirección","Comuna","Estado","Fecha de Desvinculación","Motivo Desvinculación","Maestro Guía","Correo maestro guía"],z=zl.aoa_to_sheet([K]),Y=zl.book_new();zl.book_append_sheet(Y,z,"Plantilla"),mj(Y,"Plantilla_Seguimiento_Dual.xlsx")},q=K=>{var ee;const z=(ee=K.target.files)==null?void 0:ee[0];if(!z)return;v({message:"Procesando archivo...",isError:!1});const Y=new FileReader;Y.onload=async M=>{var H;try{const W=new Uint8Array((H=M.target)==null?void 0:H.result),Z=tE(W,{type:"array",cellDates:!0,dateNF:"yyyy-mm-dd"}),ae=Z.SheetNames[0],oe=Z.Sheets[ae],se=zl.sheet_to_json(oe,{raw:!1,dateNF:"yyyy-mm-dd"});if(se.length===0)throw new Error("El archivo está vacío.");const ce={nombre:"nombreEstudiante",rut:"rutEstudiante","curso 2025":"curso","profesor tutor":"profesorTutorEmpresa","1° visita 1° semestre":"fecha1raSupervision1erSemestre","realizada 1° visita s1":"realizada1raSupervision1erSemestre","2° visita 1° semestre":"fecha2daSupervision1erSemestre","realizada 2° visita s1":"realizada2daSupervision1erSemestre","visita emergencia 1° semestre":"fechaSupervisionExcepcional","3° visita":"fecha1raSupervision2doSemestre","realizada 3° visita s2":"realizada1raSupervision2doSemestre","4° visita":"fecha2daSupervision2doSemestre","realizada 4° visita s2":"realizada2daSupervision2doSemestre",empresa:"nombreEmpresa","rut-empresa":"rutEmpresa",dirección:"direccionEmpresa",comuna:"comuna",estado:"estado","fecha de desvinculación":"fechaDesvinculacion","motivo desvinculación":"motivoDesvinculacion","maestro guía":"nombreMaestroGuia","correo maestro guía":"contactoMaestroGuia"},de=Object.keys(se[0]).map(Ne=>Ne.trim().toLowerCase()),re=["nombre","rut","curso 2025","empresa","estado"].find(Ne=>!de.includes(Ne));if(re)throw new Error(`Falta la columna requerida: '${re}'`);const _e=se.map((Ne,Se)=>{try{const he={};for(const Be in Ne){const Le=ce[Be.trim().toLowerCase()];if(Le){let Ge=Ne[Be];["fecha1raSupervision1erSemestre","fecha2daSupervision1erSemestre","fechaSupervisionExcepcional","fecha1raSupervision2doSemestre","fecha2daSupervision2doSemestre","fechaDesvinculacion"].includes(Le)?(Ge=Plt(Ge),Ge&&(he[Le]=Ge)):Le.includes("realizada")?he[Le]=Rlt(Ge):Ge!=null&&Ge!==""&&(he[Le]=String(Ge).trim())}}return!he.nombreEstudiante||!he.rutEstudiante?(console.warn(`Fila ${Se+2}: Faltan campos requeridos`),null):he}catch(he){return console.error(`Error procesando fila ${Se+2}:`,he),null}}).filter(Ne=>Ne!==null);if(console.log("Registros procesados:",_e),_e.length>0){const{updated:Ne,created:Se}=await Olt(_e);v({message:`Carga exitosa. ${Se} registros creados, ${Ne} actualizados.`,isError:!1})}else v({message:"No se encontraron registros válidos para procesar. Verifique el formato del archivo.",isError:!0})}catch(W){console.error("Error completo:",W),v({message:`Error al procesar el archivo: ${W.message}. Verifique que las fechas estén en formato correcto.`,isError:!0})}},Y.readAsArrayBuffer(z)},Q="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-slate-400",G=S.useMemo(()=>e.filter(K=>(u===""||K.nombreEstudiante.toLowerCase().includes(u.toLowerCase())||K.nombreEmpresa.toLowerCase().includes(u.toLowerCase())||K.rutEstudiante.includes(u))&&(f.curso===""||K.curso===f.curso)&&(f.empresa===""||K.nombreEmpresa===f.empresa)&&(f.estado===""||K.estado===f.estado)&&(f.comuna===""||K.comuna===f.comuna)&&(f.profesor===""||K.profesorTutorEmpresa===f.profesor)).sort((K,z)=>K.nombreEstudiante.localeCompare(z.nombreEstudiante)),[e,u,f]);return S.useMemo(()=>{const K=new Set,z=new Set;return e.forEach(Y=>{Y.nombreEmpresa&&K.add(Y.nombreEmpresa),Y.comuna&&z.add(Y.comuna)}),{empresas:Array.from(K).sort(),comunas:Array.from(z).sort()}},[e]),r?l.jsx("div",{className:"text-center py-10",children:"Cargando registros..."}):l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo Gestión Pedagógica LIR",className:"w-12 h-12 object-contain"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento de Práctica Dual"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:o?"Editando registro existente.":"Registre un nuevo estudiante en práctica."})]})]}),l.jsxs("form",{onSubmit:N,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Estudiante"}),l.jsx("input",{type:"text",name:"nombreEstudiante",value:s.nombreEstudiante,onChange:B,className:Q,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Estudiante"}),l.jsx("input",{type:"text",name:"rutEstudiante",value:s.rutEstudiante,onChange:B,className:Q,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso"}),l.jsx("select",{name:"curso",value:s.curso,onChange:B,className:Q,required:!0,children:Wg.map(K=>l.jsx("option",{value:K,children:K},K))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Profesor Tutor"}),l.jsxs("select",{name:"profesorTutorEmpresa",value:s.profesorTutorEmpresa,onChange:B,className:Q,children:[l.jsx("option",{value:"",children:"Seleccione un profesor"}),QD.map(K=>l.jsx("option",{value:K,children:K},K))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Empresa"}),l.jsx("input",{type:"text",name:"nombreEmpresa",value:s.nombreEmpresa,onChange:B,className:Q,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"RUT Empresa"}),l.jsx("input",{type:"text",name:"rutEmpresa",value:s.rutEmpresa,onChange:B,className:Q})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Dirección Empresa"}),l.jsx("input",{type:"text",name:"direccionEmpresa",value:s.direccionEmpresa,onChange:B,className:Q})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Comuna"}),l.jsx("input",{type:"text",name:"comuna",value:s.comuna,onChange:B,className:Q})]}),l.jsxs("div",{className:"lg:col-span-4",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estado"}),l.jsx("select",{name:"estado",value:s.estado,onChange:B,className:Q,children:BI.map(K=>l.jsx("option",{value:K,children:K},K))})]})]}),s.estado==="Desvinculado"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border border-red-200 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Fecha de Desvinculación"}),l.jsx("input",{type:"date",name:"fechaDesvinculacion",value:s.fechaDesvinculacion||"",onChange:B,className:`${Q} border-red-300`})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-red-700 dark:text-red-300 mb-1",children:"Motivo de Desvinculación"}),l.jsx("input",{type:"text",name:"motivoDesvinculacion",value:s.motivoDesvinculacion||"",onChange:B,className:`${Q} border-red-300`})]})]}),p&&l.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:p}),l.jsxs("div",{className:"flex justify-end items-center gap-4",children:[o&&l.jsx("button",{type:"button",onClick:C,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900",children:o?"Actualizar":"Agregar"})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo LIR",className:"w-8 h-8 object-contain"}),l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Carga Masiva"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[l.jsx("button",{onClick:R,className:"bg-green-100 text-green-700 font-semibold py-2 px-4 rounded-lg hover:bg-green-200",children:"Descargar Plantilla Excel"}),l.jsx("input",{type:"file",onChange:q,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]}),x&&l.jsx("p",{className:`text-sm p-2 rounded-md mt-4 ${x.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:x.message})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("img",{src:"https://res.cloudinary.com/dwncmu1wu/image/upload/v1754875084/ChatGPT_Image_10_ago_2025_09_17_50_p.m._t9cbut.png",alt:"Logo LIR",className:"w-8 h-8 object-contain"}),l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Registros de Estudiantes"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[l.jsx("input",{type:"text",placeholder:"Buscar por estudiante, empresa o RUT...",value:u,onChange:K=>d(K.target.value),className:`${Q} md:col-span-2 lg:col-span-1`}),l.jsxs("select",{name:"curso",value:f.curso,onChange:j,className:Q,children:[l.jsx("option",{value:"",children:"Todos los Cursos"}),Wg.map(K=>l.jsx("option",{children:K},K))]}),l.jsxs("select",{name:"estado",value:f.estado,onChange:j,className:Q,children:[l.jsx("option",{value:"",children:"Todos los Estados"}),BI.map(K=>l.jsx("option",{children:K},K))]}),l.jsxs("select",{name:"profesor",value:f.profesor,onChange:j,className:Q,children:[l.jsx("option",{value:"",children:"Todos los Profesores"}),QD.map(K=>l.jsx("option",{children:K},K))]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estudiante"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Empresa"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Profesor Tutor"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Estado"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Acciones"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:G.map(K=>l.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:K.nombreEstudiante}),l.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:K.curso})]}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:K.nombreEmpresa}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:K.profesorTutorEmpresa}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Dlt[K.estado]}`,children:K.estado})}),l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm space-x-2",children:[l.jsx("button",{onClick:()=>O(K),className:"text-blue-600 hover:underline",children:"Supervisión"}),l.jsx("button",{onClick:()=>I(K),className:"text-yellow-600 hover:underline",children:"Editar"}),l.jsx("button",{onClick:()=>L(K.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},K.id))})]})})]}),y&&E&&l.jsx(Llt,{record:E,onClose:T,onSave:P})]})},hhe="actividades_remotas",phe="respuestas_actividades",mhe="pruebas_estandarizadas",Ult="usuarios",ghe=e=>{if(!e)return null;if(e instanceof Date)return e;if(typeof e=="string"){const t=new Date(e);return isNaN(t.getTime())?null:t}if(typeof e=="object"){if(typeof e.toDate=="function"){const t=e.toDate();return t instanceof Date&&!isNaN(t.getTime())?t:null}if("seconds"in e&&"nanoseconds"in e){const t=e.seconds*1e3+Math.floor(e.nanoseconds/1e6),r=new Date(t);return isNaN(r.getTime())?null:r}}return null},T9=e=>{const t=ghe(e);return t?t.toISOString():void 0},Ok=e=>{const t=ghe(e);return t?t.toISOString().split("T")[0]:void 0},xhe=e=>{if(!e)return null;const t=new Date(`${e}T00:00:00`);return isNaN(t.getTime())?null:lr.fromDate(t)},vhe=e=>lr.fromDate(new Date(e||new Date().toISOString())),Qlt=e=>!!e&&/^data:/.test(e),nE=e=>{if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(nE);const t={};return Object.entries(e).forEach(([r,n])=>{n!==void 0&&(t[r]=nE(n))}),t},Hlt=e=>{const t=e.match(/^data:(.*?);base64,(.*)$/);if(!t)throw new Error("Data URL inválida");const r=t[1]||"application/octet-stream",n=t[2];let a="";if(typeof atob=="function")a=atob(n);else{const o=typeof Buffer<"u"?Buffer:null;if(o)a=o.from(n,"base64").toString("binary");else throw new Error("No hay decodificador base64 disponible")}const s=a.length,i=new Uint8Array(s);for(let o=0;o<s;o++)i[o]=a.charCodeAt(o);return{bytes:i,contentType:r}},$lt=e=>{const t=e.data()||{};return{id:e.id,...t,fechaCreacion:T9(t.fechaCreacion)||new Date().toISOString(),plazoEntrega:Ok(t.plazoEntrega)||Ok(new Date)}},Vlt=e=>{const t=e.data()||{};return{id:e.id,...t,fechaCompletado:T9(t.fechaCompletado)||new Date().toISOString()}},zlt=e=>{const t=e.data()||{};return{id:e.id,...t}},Glt=e=>{const t=e.data()||{};return{id:e.id,...t,fechaCreacion:T9(t.fechaCreacion)||new Date().toISOString(),plazoEntrega:Ok(t.plazoEntrega)||Ok(new Date)}},Klt=e=>{const t=zt(wt(mt,hhe),wr("fechaCreacion","desc"));return br(t,r=>e(r.docs.map($lt)),r=>{console.error("subscribeToActividades error:",r),e([])})},qlt=(e,t)=>{const r=wt(mt,phe),n=zt(r,wr("fechaCompletado","desc"));return br(n,a=>e(a.docs.map(Vlt)),a=>{console.error("subscribeToRespuestas error:",a),e([])})},Wlt=e=>{const t=zt(wt(mt,Ult),wr("nombreCompleto","asc"));return br(t,r=>e(r.docs.map(zlt)),r=>{console.error("subscribeToAllUsers error:",r),e([])})},Xlt=e=>{const t=zt(wt(mt,mhe),wr("fechaCreacion","desc"));return br(t,r=>e(r.docs.map(Glt)),r=>{console.error("subscribeToPruebasEstandarizadas error:",r),e([])})},Ylt=async e=>{const{id:t,fechaCreacion:r,plazoEntrega:n,...a}=e||{},s=nE({...a,fechaCreacion:vhe(r),plazoEntrega:xhe(n)});return(await Bn(wt(mt,hhe),s)).id},Jlt=async e=>{const{id:t,fechaCreacion:r,plazoEntrega:n,...a}=e||{},s=nE({...a,fechaCreacion:vhe(r),plazoEntrega:xhe(n)});return(await Bn(wt(mt,mhe),s)).id},Zlt=async(e,t)=>{const r=nE(t);await bu(dr(mt,phe,e),r)},ect=(e,t)=>{if(!t||t<=0)return"1.0";const n=t*.6;let a;return e>=n?a=4+3*(e-n)/(t-n+1e-9):a=1+3*e/(n+1e-9),a=Math.max(1,Math.min(7,a)),a.toFixed(1)},tct=async(e,t,r)=>{const{bytes:n,contentType:a}=Hlt(e),s=Date.now(),i=t.replace(/\s+/g,"_"),c=`recursos/${r!=="—"?r:"general"}/${s}/${i}`,u=_E(hNe,c);await Q8(u,n,{contentType:a});const d=await VT(u);return{nombre:t,url:d}},rct=async e=>{var s;const t=e.nivel||"general",r=((s=e.recursos)==null?void 0:s.archivos)||[],n=await Promise.all(r.map(async(i,o)=>{if(Qlt(i==null?void 0:i.url)){const c=(i==null?void 0:i.nombre)||`archivo_${o}.bin`;return tct(i.url,c,t)}return{nombre:(i==null?void 0:i.nombre)||`archivo_${o}`,url:i==null?void 0:i.url}})),a={...e,recursos:{...e.recursos||{},archivos:n}};return Ylt(a)},Uw=e=>e?new Date(e).toLocaleDateString("es-CL"):"",nct=e=>e?new Date(e).toLocaleString("es-CL"):"",act=e=>new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(String(n.result)),n.onerror=a=>r(a)}),bhe=(e,t)=>{if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const r=Object.keys(e);r.some(n=>n.includes("punto")||n.includes("Punto")||n.includes("Factor")||n.includes("factor")||n.includes("Criterio")||n.includes("criterio")||n.includes("Aspecto")||n.includes("aspecto"))&&(console.warn(`🚨 OBJETO SOSPECHOSO EN ${t}:`,e),console.warn("Keys:",r))}},Ei=(e,t)=>{if(t&&bhe(e,t),e==null)return"";if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean")return String(e);if(typeof e=="object"){if(Array.isArray(e))return e.map(a=>Ei(a,`${t}-array-item`)).join(", ");if(Object.keys(e).some(a=>a.includes("punto")||a.includes("Punto")||a.includes("Factor")||a.includes("factor")||a.includes("Criterio")||a.includes("criterio")))return"[Rúbrica de evaluación]";const n=["texto","contenido","descripcion","valor","name","title","label","pregunta","enunciado","respuesta","opcion","concepto","definicion"];for(const a of n)if(e[a]&&typeof e[a]=="string")return e[a];try{const a=JSON.stringify(e);return a.length>100?"[Objeto complejo]":a}catch{return"[Objeto no serializable]"}}return String(e)},fc=(e,t,...r)=>{if(bhe(e,`extractTextSafely-${t}`),!e)return"";for(const n of r)if(e[n]){const a=Ei(e[n],`${t}-${n}`);if(a&&a!=="[Objeto complejo]"&&a!=="[Objeto no serializable]")return a}return typeof e=="string"?e:"[Sin contenido disponible]"},$a=({content:e,context:t="unknown"})=>{try{const r=Ei(e,`UltraSafeRenderer-${t}`);return l.jsx("span",{children:r})}catch(r){return console.error("Error in UltraSafeRenderer:",r,"Content:",e),l.jsx("span",{children:"[Error al mostrar contenido]"})}},fO={Quiz:[5,10,15],"Términos Pareados":[5,10,15],Desarrollo:[1,2,3],"Comprensión de Lectura":[1,2,3,4,5]},AO=["Localizar información","Interpretar y relacionar","Reflexionar","Extraer información explícita","Realizar inferencias","Interpretar el sentido global del texto","Evaluar contenido y forma"],sct=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,s]=S.useState([]),[i,o]=S.useState([]),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,p]=S.useState(!1),[g,x]=S.useState(!1),[v,y]=S.useState(!1),[w,E]=S.useState(!1),[k,B]=S.useState(!1),[j,C]=S.useState(!0),[N,I]=S.useState(null),[L,O]=S.useState(""),[T,P]=S.useState(null),[R,q]=S.useState(null),[Q,G]=S.useState([]),[K,z]=S.useState("carpetas"),[Y,ee]=S.useState(null),[M,H]=S.useState(null),[W,Z]=S.useState([]),[ae,oe]=S.useState(""),se={asignatura:po[0],nivel:"—",contenido:"",plazoEntrega:new Date().toISOString().split("T")[0],tipos:[],cantidadPreguntas:{},cursosDestino:[],estudiantesDestino:[],recursos:{instrucciones:"",enlaces:"",archivos:[]}},[ce,de]=S.useState(se),ke={asignatura:po[0],nivel:"—",contenido:"",objetivosAprendizaje:"",plazoEntrega:new Date().toISOString().split("T")[0],cursosDestino:[],estudiantesDestino:[],duracionMinutos:90},[re,_e]=S.useState(ke);S.useEffect(()=>{C(!0);const tt=Klt(t),xt=Xlt(n),et=qlt(s),vt=Wlt(Ct=>{o(Ct),C(!1)});return()=>{tt(),xt(),et(),vt()}},[]);const Ne=tt=>{de(xt=>({...xt,[tt.target.name]:tt.target.value}))},Se=tt=>{_e(xt=>({...xt,[tt.target.name]:tt.target.value}))},he=tt=>{de(xt=>({...xt,recursos:{...xt.recursos,[tt.target.name]:tt.target.value}}))},Be=tt=>{tt.target.files&&G(Array.from(tt.target.files))},Le=tt=>{de(xt=>{const et=xt.tipos.includes(tt)?xt.tipos.filter(Ct=>Ct!==tt):[...xt.tipos,tt],vt={...xt.cantidadPreguntas};return et.includes(tt)?vt[tt]||(vt[tt]=fO[tt][0]):delete vt[tt],{...xt,tipos:et,cantidadPreguntas:vt}})},Ge=(tt,xt)=>{de(et=>({...et,cantidadPreguntas:{...et.cantidadPreguntas,[tt]:xt}}))},xe=(tt,xt=!1)=>{(xt?_e:de)(vt=>{const Ct=vt.estudiantesDestino||[],yt=Ct.includes(tt)?Ct.filter(sr=>sr!==tt):[...Ct,tt];return{...vt,estudiantesDestino:yt}})},Ie=()=>{const{tipos:tt,contenido:xt,asignatura:et,nivel:vt,cantidadPreguntas:Ct}=ce;let yt=`Eres un experto diseñador de actividades pedagógicas. Genera un objeto JSON que se ajuste al esquema, sin texto adicional.

Contenido base: "${xt}"
Asignatura: ${et}
Nivel: ${vt}

Genera los siguientes elementos:
- introduccion: breve y motivadora
- actividades: objeto con propiedades por tipo:
`;return tt.forEach(sr=>{const Er=Ct[sr]||fO[sr][0];switch(sr){case"Quiz":yt+=`- "Quiz": Array de ${Er} objetos { pregunta, opciones[4], respuestaCorrecta, puntaje(1) }
`;break;case"Comprensión de Lectura":yt+=`- "Comprensión de Lectura": Objeto { texto(150-200 palabras), preguntas: Array de ${Er} { pregunta, opciones[4], respuestaCorrecta, puntaje } }
`;break;case"Términos Pareados":yt+=`- "Términos Pareados": Array de ${Er} { concepto, definicion }
`;break;case"Desarrollo":yt+=`- "Desarrollo": Array de ${Er} { pregunta, rubrica }
`;break}}),yt},De=()=>{const{contenido:tt,objetivosAprendizaje:xt,asignatura:et,nivel:vt}=re;return`Eres experto en evaluación educativa y diseño de pruebas SIMCE.
Responde SOLO con JSON válido.

INFORMACIÓN:
- Asignatura: ${et}
- Nivel: ${vt}
- Contenido: ${tt}
- Objetivos: ${xt}

{
  "titulo": "Título",
  "instrucciones": "Instrucciones",
  "textos": [
    {
      "id": 1,
      "titulo": "Título del texto",
      "contenido": "200-300 palabras",
      "tipo": "narrativo",
      "palabras": 250
    }
  ],
  "preguntas": [
    {
      "numero": 1,
      "pregunta": "Enunciado",
      "opciones": ["Opción A", "Opción B", "Opción C", "Opción D"],
      "respuestaCorrecta": "A",
      "habilidad": "Localizar información",
      "justificacion": "Breve explicación",
      "textoId": 1
    }
  ]
}

Reglas:
- ${et==="Lenguaje y Comunicación"||et==="Lengua y Literatura"?"3-4 textos de distintos tipos":"2-3 textos informativos"}
- Exactamente 30 preguntas numeradas 1..30
- 4 opciones por pregunta (A-D)
- Habilidades válidas: ${AO.join(", ")}
- Para preguntas basadas en textos: incluir "textoId"
- Sin comentarios fuera del JSON`};function Ve(tt,xt){if(tt==="Desarrollo"&&Array.isArray(xt))return xt.map((et,vt)=>{if(typeof et=="string"){const Ct=et.match(/^(.*?)(?:R[úu]brica:|RUBRICA:|Rubrica:)(.*)$/is);return Ct?{pregunta:fc(Ct[1],`desarrollo-pregunta-${vt}`),rubrica:fc(Ct[2],`desarrollo-rubrica-${vt}`)}:{pregunta:fc(et,`desarrollo-pregunta-simple-${vt}`),rubrica:""}}if(et&&typeof et=="object"){const Ct=fc(et,`desarrollo-obj-pregunta-${vt}`,"pregunta","Pregunta","texto");let yt="";if(et.rubrica||et.Rubrica||et.rúbrica||et.Rúbrica){const sr=et.rubrica||et.Rubrica||et.rúbrica||et.Rúbrica;yt=Ei(sr,`desarrollo-rubrica-${vt}`)}return{pregunta:Ct,rubrica:yt}}return{pregunta:Ei(et,`desarrollo-fallback-${vt}`),rubrica:""}});if(tt==="Términos Pareados"&&Array.isArray(xt))return xt.map((et,vt)=>{if(typeof et=="string"){const Ct=et.match(/^(.+?)[\s:-–]+(.+)$/);return Ct?{id:vt,concepto:fc(Ct[1],`pareados-concepto-${vt}`),definicion:fc(Ct[2],`pareados-definicion-${vt}`)}:{id:vt,concepto:fc(et,`pareados-concepto-simple-${vt}`),definicion:""}}return et&&typeof et=="object"?{id:vt,concepto:fc(et,`pareados-obj-concepto-${vt}`,"concepto","termino"),definicion:fc(et,`pareados-obj-definicion-${vt}`,"definicion","significado")}:{id:vt,concepto:Ei(et,`pareados-fallback-${vt}`),definicion:""}});if(tt==="Comprensión de Lectura"){if(xt&&typeof xt=="object"&&!Array.isArray(xt)&&Array.isArray(xt.preguntas))return{texto:fc(xt,"comprension-texto","texto"),preguntas:xt.preguntas.map((et,vt)=>({pregunta:fc(et,`comprension-pregunta-${vt}`,"pregunta"),opciones:Array.isArray(et.opciones)?et.opciones.map(Ct=>Ei(Ct,`comprension-opcion-${vt}`)):[],respuestaCorrecta:Ei(et.respuestaCorrecta,`comprension-respuesta-${vt}`),puntaje:typeof et.puntaje=="number"?et.puntaje:1}))};if(Array.isArray(xt)){const et=xt.map((Ct,yt)=>fc(Ct,`comprension-bloque-${yt}`,"texto")).join(`

---

`),vt=xt.flatMap(Ct=>Array.isArray(Ct.preguntas)?Ct.preguntas:[]);return{texto:et,preguntas:vt.map((Ct,yt)=>({pregunta:fc(Ct,`comprension-combined-pregunta-${yt}`,"pregunta"),opciones:Array.isArray(Ct.opciones)?Ct.opciones.map(sr=>Ei(sr,`comprension-combined-opcion-${yt}`)):[],respuestaCorrecta:Ei(Ct.respuestaCorrecta,`comprension-combined-respuesta-${yt}`),puntaje:typeof Ct.puntaje=="number"?Ct.puntaje:1}))}}}return tt==="Quiz"&&Array.isArray(xt)?xt.map((et,vt)=>({pregunta:fc(et,`quiz-pregunta-${vt}`,"pregunta"),opciones:Array.isArray(et.opciones)?et.opciones.map(Ct=>Ei(Ct,`quiz-opcion-${vt}`)):[],respuestaCorrecta:Ei(et.respuestaCorrecta,`quiz-respuesta-${vt}`),puntaje:typeof et.puntaje=="number"?et.puntaje:1})):xt}const We=async tt=>{var xt;if(tt.preventDefault(),!ce.contenido.trim()||ce.tipos.length===0){I("Contenido y al menos un tipo de actividad son obligatorios.");return}y(!0),I(null);try{const et=await Promise.all(Q.map(async we=>({nombre:we.name,url:await act(we)}))),vt="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",yt=new zs(vt).getGenerativeModel({model:"gemini-1.5-flash-latest"}),sr=Ie();let cn=await(await(await yt.generateContent(sr)).response).text();cn=cn.replace(/```json\s*/gi,"").replace(/```\s*$/g,"");const tn=cn.match(/\{[\s\S]*\}/);if(!tn)throw new Error("La IA no devolvió JSON válido.");const pe=JSON.parse(tn[0]),Fe={};for(const we of ce.tipos){const Te=(xt=pe.actividades)==null?void 0:xt[we];Fe[we]=Ve(we,Te)}const Ee={id:"",fechaCreacion:new Date().toISOString(),...ce,recursos:{...ce.recursos,archivos:et},introduccion:Ei(pe.introduccion,"introduccion")||"Actividad generada para reforzar el aprendizaje.",generatedContent:Fe};P(Ee)}catch(et){I(`Error al generar la actividad: ${(et==null?void 0:et.message)||et}`)}finally{y(!1)}},at=async tt=>{if(tt.preventDefault(),!re.contenido.trim()||!re.objetivosAprendizaje.trim()){I("Contenido y objetivos de aprendizaje son obligatorios.");return}y(!0),I(null);try{const xt="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",vt=new zs(xt).getGenerativeModel({model:"gemini-1.5-flash-latest"}),Ct=De();let Er=await(await(await vt.generateContent(Ct)).response).text();Er=Er.replace(/```json\s*/gi,"").replace(/```\s*$/g,"").replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"").trim();const nn=Er.match(/\{[\s\S]*\}/);if(!nn)throw new Error("No se encontró JSON válido en la respuesta.");const cn=nn[0].replace(/,(\s*[}\]])/g,"$1"),tn=JSON.parse(cn);if(!tn.preguntas||!Array.isArray(tn.preguntas))throw new Error("La respuesta de la IA no contiene un array de preguntas válido");const pe=(tn.textos||[]).map((we,Te)=>({id:we.id||Te+1,titulo:Ei(we.titulo,`texto-titulo-${Te}`)||`Texto ${Te+1}`,contenido:Ei(we.contenido,`texto-contenido-${Te}`)||"Contenido no disponible",tipo:["narrativo","informativo","argumentativo","poetico"].includes(we.tipo)?we.tipo:"informativo",palabras:we.palabras||(we.contenido?String(we.contenido).split(" ").length:0)})),Fe=tn.preguntas.slice(0,30).map((we,Te)=>({numero:we.numero||Te+1,pregunta:Ei(we.pregunta,`pregunta-${Te}`)||`Pregunta ${Te+1}`,opciones:Array.isArray(we.opciones)&&we.opciones.length>=4?we.opciones.slice(0,4).map((Oe,Je)=>Ei(Oe,`pregunta-opcion-${Te}-${Je}`)):["A","B","C","D"],respuestaCorrecta:["A","B","C","D"].includes(we.respuestaCorrecta)?we.respuestaCorrecta:"A",habilidad:AO.includes(we.habilidad)?we.habilidad:AO[0],justificacion:Ei(we.justificacion,`justificacion-${Te}`)||"Justificación no disponible",...we.textoId&&typeof we.textoId=="number"?{textoId:we.textoId}:{}})),Ee={id:"",fechaCreacion:new Date().toISOString(),...re,titulo:Ei(tn.titulo,"prueba-titulo")||`Prueba ${re.asignatura}`,instrucciones:Ei(tn.instrucciones,"prueba-instrucciones")||"Lee y responde.",textos:pe,preguntas:Fe};q(Ee)}catch(xt){I(`Error al generar la prueba: ${(xt==null?void 0:xt.message)||xt}`)}finally{y(!1)}},ht=async()=>{if(T)try{E(!0),await rct(T),de(se),G([]),p(!1),P(null)}catch(tt){console.error("Error al guardar la actividad con archivos:",tt),I("No se pudo guardar la actividad. Revisa los archivos adjuntos.")}finally{E(!1)}},Tt=async()=>{if(R)try{E(!0);const tt={...R,cursosDestino:R.cursosDestino||[],estudiantesDestino:R.estudiantesDestino||[],textos:R.textos||[],preguntas:R.preguntas.map(xt=>({...xt,textoId:xt.textoId||null}))};await Jlt(tt),_e(ke),x(!1),q(null)}catch(tt){console.error("Error al guardar la prueba:",tt),I("No se pudo guardar la prueba.")}finally{E(!1)}},Rt=S.useMemo(()=>{var et,vt,Ct;const tt=c||d;if(!tt||!i.length)return[];const xt=new Map;return!((et=tt.cursosDestino)!=null&&et.length)&&!((vt=tt.estudiantesDestino)!=null&&vt.length)?[]:((Ct=tt.estudiantesDestino)!=null&&Ct.length&&i.filter(yt=>yt.profile===Yt.ESTUDIANTE&&tt.estudiantesDestino.includes(yt.nombreCompleto)).forEach(yt=>xt.set(yt.id,yt)),Array.from(xt.values()).sort((yt,sr)=>yt.nombreCompleto.localeCompare(sr.nombreCompleto)))},[c,d,i]),Ft=S.useMemo(()=>{const tt=(c==null?void 0:c.id)||(d==null?void 0:d.id);return a.filter(xt=>xt.actividadId===tt)},[a,c,d]),Pt=S.useMemo(()=>i.filter(tt=>tt.profile===Yt.ESTUDIANTE).sort((tt,xt)=>tt.nombreCompleto.localeCompare(xt.nombreCompleto)),[i]),ut=S.useMemo(()=>L.trim()?Pt.filter(tt=>tt.nombreCompleto.toLowerCase().includes(L.toLowerCase())):Pt,[Pt,L]),Cr=S.useMemo(()=>{const tt=new Set;return e.forEach(xt=>{(xt.estudiantesDestino||[]).forEach(et=>{const vt=i.find(Ct=>Ct.profile===Yt.ESTUDIANTE&&Ct.nombreCompleto===et);vt&&tt.add(vt.id)})}),r.forEach(xt=>{(xt.estudiantesDestino||[]).forEach(et=>{const vt=i.find(Ct=>Ct.profile===Yt.ESTUDIANTE&&Ct.nombreCompleto===et);vt&&tt.add(vt.id)})}),a.forEach(xt=>tt.add(xt.estudianteId)),i.filter(xt=>xt.profile===Yt.ESTUDIANTE&&tt.has(xt.id)).sort((xt,et)=>xt.nombreCompleto.localeCompare(et.nombreCompleto))},[e,r,a,i]),Kt=S.useMemo(()=>i.find(tt=>tt.id===Y)||null,[i,Y]),ln=S.useMemo(()=>{if(!Kt)return{asignadas:[],respuestas:[]};const tt=[...e.filter(et=>(et.estudiantesDestino||[]).includes(Kt.nombreCompleto)).map(et=>({tipo:"Actividad",item:et})),...r.filter(et=>(et.estudiantesDestino||[]).includes(Kt.nombreCompleto)).map(et=>({tipo:"Prueba",item:et}))],xt=a.filter(et=>et.estudianteId===Kt.id);return{asignadas:tt,respuestas:xt}},[Kt,e,r,a]),kr=()=>l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[["carpetas","actividades","pruebas"].map(tt=>l.jsxs("button",{onClick:()=>{z(tt),u(null),f(null),ee(null)},className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold transition
            ${K===tt?"bg-amber-500 text-white shadow":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:[tt==="carpetas"&&l.jsx(Ez,{size:18}),tt==="actividades"&&l.jsx(hf,{size:18}),tt==="pruebas"&&l.jsx(A_e,{size:18}),tt==="carpetas"?"Carpetas de Estudiantes":tt==="actividades"?"Actividades Remotas":"Pruebas Estandarizadas"]},tt)),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(GT,{className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-60",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar estudiante...",value:L,onChange:tt=>O(tt.target.value),className:"pl-10 pr-3 py-2 rounded-xl bg-white border border-slate-200 focus:outline-none focus:ring-2 focus:ring-amber-400"})]}),K==="actividades"&&!T&&!c&&l.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 bg-amber-500 text-white font-semibold py-2 px-3 rounded-xl hover:bg-amber-600",children:[l.jsx(T_,{size:18})," Nueva"]}),K==="pruebas"&&!R&&!d&&l.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center gap-2 bg-amber-500 text-white font-semibold py-2 px-3 rounded-xl hover:bg-amber-600",children:[l.jsx(T_,{size:18})," Nueva"]})]})]}),Mr=()=>{const tt=L?ut:Cr;return tt.length?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:tt.map(xt=>{const et=a.filter(yt=>yt.estudianteId===xt.id),vt=et.length,Ct=e.filter(yt=>(yt.estudiantesDestino||[]).includes(xt.nombreCompleto)).length+r.filter(yt=>(yt.estudiantesDestino||[]).includes(xt.nombreCompleto)).length;return l.jsxs("button",{onClick:()=>ee(xt.id),className:"group text-left rounded-2xl border border-slate-200 bg-white hover:shadow-md transition overflow-hidden",children:[l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-br from-amber-50 to-white",children:[l.jsx("div",{className:"rounded-xl p-3 bg-amber-100 text-amber-700",children:l.jsx(Ez,{})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-semibold text-slate-800 truncate",children:xt.nombreCompleto}),l.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[l.jsx(bC,{size:14})," ",xt.curso||"—"]})]})]}),l.jsxs("div",{className:"p-4 grid grid-cols-3 text-center text-sm text-slate-600",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:Ct}),l.jsx("p",{className:"text-xs",children:"Asignadas"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:vt}),l.jsx("p",{className:"text-xs",children:"Entregas"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Lp,{size:16,className:"opacity-70"}),l.jsx("span",{className:"text-xs mt-1",children:et.length?Uw(et.sort((yt,sr)=>(yt.fechaCompletado||"").localeCompare(sr.fechaCompletado||"")).slice(-1)[0].fechaCompletado):"—"})]})]})]},xt.id)})}):l.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow text-center text-slate-500",children:"No hay estudiantes asignados aún."})},En=()=>{if(!Kt)return null;const{asignadas:tt,respuestas:xt}=ln;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsxs("button",{onClick:()=>ee(null),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[l.jsx(k_,{size:18})," Volver"]}),l.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Historial — ",Kt.nombreCompleto]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Tipo"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Título / Asignatura"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Plazo"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estado"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Puntaje"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Nota"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:tt.map(({tipo:et,item:vt})=>{var Er;const Ct=xt.find(nn=>nn.actividadId===vt.id),yt=et==="Actividad"?`${vt.asignatura} — ${(Er=vt.tipos)==null?void 0:Er.join(", ")}`:vt.titulo,sr=vt.plazoEntrega?Uw(vt.plazoEntrega):"—";return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm",children:et}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-800",children:l.jsx($a,{content:yt,context:"hist-titulo"})}),l.jsx("td",{className:"px-4 py-3 text-sm",children:sr}),l.jsx("td",{className:"px-4 py-3 text-sm",children:Ct?l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:[l.jsx(mo,{size:14})," Completado"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:[l.jsx(Lp,{size:14})," Pendiente"]})}),l.jsx("td",{className:"px-4 py-3 text-sm",children:Ct?`${Ct.puntaje}/${Ct.puntajeMaximo}`:"—"}),l.jsx("td",{className:"px-4 py-3 text-sm font-semibold",children:Ct?Ct.nota:"—"})]},vt.id)})})]})})]})},Pr=()=>{var tt,xt,et;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:c?l.jsxs(l.Fragment,{children:[l.jsx($a,{content:c.asignatura,context:"actividad-asignatura"})," - ",c.tipos.join(", ")]}):l.jsx($a,{content:(d==null?void 0:d.titulo)||"Prueba Estandarizada",context:"prueba-titulo"})}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Plazo:"," ",Uw((c==null?void 0:c.plazoEntrega)||(d==null?void 0:d.plazoEntrega)),d&&` | Duración: ${d.duracionMinutos} min`]})]}),l.jsxs("button",{onClick:()=>{u(null),f(null)},className:"text-slate-600 hover:text-slate-900 font-semibold inline-flex items-center gap-2",children:[l.jsx(k_,{size:18})," Volver al listado"]})]}),l.jsxs("div",{className:"mt-6 border-t dark:border-slate-700 pt-6",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 mb-4",children:"Resultados de Estudiantes"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estudiante"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Estado"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Puntaje"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Nota"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Fecha Completado"}),((tt=c==null?void 0:c.tipos)==null?void 0:tt.includes("Desarrollo"))&&l.jsx("th",{className:"px-4 py-3"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:Rt.map(vt=>{var yt;const Ct=Ft.find(sr=>sr.estudianteId===vt.id);return l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200",children:vt.nombreCompleto}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:Ct?l.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-green-100 text-green-800",children:"Completado"}):l.jsx("span",{className:"px-2 py-1 font-semibold text-xs rounded-full bg-yellow-100 text-yellow-800",children:"Pendiente"})}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:Ct?`${Ct.puntaje}/${Ct.puntajeMaximo}`:"-"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-bold",children:Ct?l.jsx("span",{className:parseFloat(Ct.nota)>=4?"text-green-600":"text-red-600",children:Ct.nota}):"-"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:Ct?nct(Ct.fechaCompletado):"-"}),((yt=c==null?void 0:c.tipos)==null?void 0:yt.includes("Desarrollo"))&&l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:Ct?l.jsx("button",{onClick:()=>{var Er,nn,cn;H(Ct);const sr=Array.from({length:((nn=(Er=c.generatedContent)==null?void 0:Er.Desarrollo)==null?void 0:nn.length)||0},(tn,pe)=>({index:pe,puntaje:0,observacion:""}));Z(sr),oe(((cn=Ct==null?void 0:Ct.revisionDocente)==null?void 0:cn.observacionesGenerales)||"")},className:"text-blue-600 hover:text-blue-800 font-semibold",children:"Revisar Desarrollo"}):l.jsx("span",{className:"text-slate-400",children:"-"})})]},vt.id)})})]})})]}),M&&((xt=c==null?void 0:c.tipos)==null?void 0:xt.includes("Desarrollo"))&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-xl p-6 shadow-xl",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Revisión de Desarrollo — ",(M==null?void 0:M.estudianteNombre)||""]}),l.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto",children:(((et=c.generatedContent)==null?void 0:et.Desarrollo)||[]).map((vt,Ct)=>{var yt,sr;return l.jsxs("div",{className:"p-3 border rounded-lg",children:[l.jsxs("p",{className:"font-semibold",children:[Ct+1,". ",l.jsx($a,{content:vt.pregunta,context:`revision-pregunta-${Ct}`})]}),vt.rubrica&&l.jsxs("p",{className:"text-xs text-slate-600 mt-2 bg-slate-50 p-2 rounded",children:[l.jsx("strong",{children:"Rúbrica:"})," ",l.jsx($a,{content:vt.rubrica,context:`revision-rubrica-${Ct}`})]}),l.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[l.jsx("label",{className:"text-sm text-slate-700",children:"Puntaje:"}),l.jsx("input",{type:"number",min:0,step:.5,value:((yt=W[Ct])==null?void 0:yt.puntaje)??0,onChange:Er=>{const nn=Number(Er.target.value)||0;Z(cn=>{const tn=[...cn];return tn[Ct]={...tn[Ct]||{index:Ct,puntaje:0},puntaje:nn},tn})},className:"w-24 border-slate-300 rounded-md"}),l.jsx("input",{type:"text",placeholder:"Observación (opcional)",value:((sr=W[Ct])==null?void 0:sr.observacion)||"",onChange:Er=>{const nn=Er.target.value;Z(cn=>{const tn=[...cn];return tn[Ct]={...tn[Ct]||{index:Ct,puntaje:0},observacion:nn},tn})},className:"flex-1 border-slate-300 rounded-md"})]})]},Ct)})}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Observaciones Generales"}),l.jsx("textarea",{rows:3,value:ae,onChange:vt=>oe(vt.target.value),className:"w-full border-slate-300 rounded-md"})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>{H(null),Z([]),oe("")},className:"px-4 py-2 rounded-lg bg-slate-200 text-slate-800 hover:bg-slate-300",children:"Cancelar"}),l.jsx("button",{onClick:async()=>{if(M)try{B(!0);const vt=Number(M.puntaje)||0,Ct=Number(M.puntajeMaximo)||0,yt=(W||[]).reduce((nn,cn)=>nn+(Number(cn.puntaje)||0),0),sr=vt+yt,Er=ect(sr,Ct);await Zlt(M.id,{puntaje:sr,puntajeMaximo:Ct,nota:Er,revisionDocente:{completada:!0,observacionesGenerales:ae||"",detalle:W||[],puntajeDocente:yt}}),H(null),Z([]),oe("")}catch(vt){console.error("Error guardando revisión:",vt),I("No se pudo guardar la revisión del docente.")}finally{B(!1)}},disabled:k,className:"px-4 py-2 rounded-lg bg-amber-600 text-white hover:bg-amber-700 disabled:bg-amber-400",children:k?"Guardando...":"Guardar Revisión"})]})]})})]})},or=()=>{var tt,xt;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nueva Actividad Remota"}),l.jsxs("button",{onClick:()=>p(!1),className:"text-slate-600 hover:text-slate-900 font-semibold inline-flex items-center gap-2",children:[l.jsx(k_,{size:18})," Volver"]})]}),l.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Complete el formulario y la IA generará una actividad."}),l.jsxs("form",{onSubmit:We,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asignatura"}),l.jsx("select",{name:"asignatura",value:ce.asignatura,onChange:Ne,className:"w-full border-slate-300 rounded-md shadow-sm",children:po.map(et=>l.jsx("option",{value:et,children:et},et))})]}),l.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50 dark:bg-slate-700/50",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Recursos (Opcional)"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Instrucciones"}),l.jsx("textarea",{name:"instrucciones",value:(tt=ce.recursos)==null?void 0:tt.instrucciones,onChange:he,rows:3,className:"w-full border-slate-300 rounded-md shadow-sm",placeholder:"Ej: Lee y luego responde..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Enlaces"}),l.jsx("textarea",{name:"enlaces",value:(xt=ce.recursos)==null?void 0:xt.enlaces,onChange:he,rows:3,className:"w-full border-slate-300 rounded-md shadow-sm",placeholder:"Pega un enlace por línea..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adjuntar archivos"}),l.jsx("input",{type:"file",multiple:!0,onChange:Be,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"})]})]}),l.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50 dark:bg-slate-700/50",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Destinatarios (Sólo estudiantes)"}),l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Buscar estudiante...",value:L,onChange:et=>O(et.target.value),className:"w-full border-slate-300 rounded-md shadow-sm mb-2"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-56 overflow-y-auto p-2 bg-white rounded",children:(L?ut:Pt).map(et=>{var vt;return l.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:(vt=ce.estudiantesDestino)==null?void 0:vt.includes(et.nombreCompleto),onChange:()=>xe(et.nombreCompleto),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),l.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",title:et.nombreCompleto,children:et.nombreCompleto})]},et.id)})})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 mb-1",children:["Contenido ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"contenido",value:ce.contenido,onChange:Ne,required:!0,rows:4,placeholder:"Temas, conceptos clave o texto base...",className:"w-full border-slate-300 rounded-md shadow-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"plazoEntrega",className:"block text-sm font-medium text-slate-600 mb-1",children:"Plazo de Entrega"}),l.jsx("input",{type:"date",name:"plazoEntrega",value:ce.plazoEntrega,onChange:Ne,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Tipos de Actividad"}),l.jsx("div",{className:"space-y-3",children:kSe.map(et=>l.jsxs("div",{className:"p-3 border rounded-lg has-[:checked]:bg-amber-50 has-[:checked]:border-amber-300",children:[l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:ce.tipos.includes(et),onChange:()=>Le(et),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),l.jsx("span",{className:"text-sm font-medium text-slate-700 flex-grow",children:et})]}),ce.tipos.includes(et)&&l.jsxs("div",{className:"mt-3 pl-8 flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"Cantidad:"}),fO[et].map(vt=>l.jsx("button",{type:"button",onClick:()=>Ge(et,vt),className:`px-3 py-1 rounded-full font-semibold text-xs ${ce.cantidadPreguntas[et]===vt?"bg-amber-500 text-white":"bg-slate-200"}`,children:vt},vt))]})]},et))})]})]}),N&&l.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mt-2",children:N}),l.jsx("div",{className:"pt-2 text-right",children:l.jsxs("button",{type:"submit",disabled:v,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 inline-flex items-center justify-center gap-2",children:[v?l.jsx(Lp,{className:"animate-spin",size:18}):null,v?"Generando...":"Generar y Previsualizar"]})})]})]})},gr=()=>{var tt;return l.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Previsualización de la Actividad"}),l.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Revisa el contenido generado. Si todo está correcto, confirma para asignar."}),l.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-4 bg-slate-50 rounded-lg border",children:[l.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[l.jsx("h3",{className:"font-bold text-sky-800 mb-2",children:"Introducción para el Estudiante"}),l.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:l.jsx($a,{content:T==null?void 0:T.introduccion,context:"preview-introduccion"})})]}),(T==null?void 0:T.recursos)&&(T.recursos.instrucciones||T.recursos.enlaces||((tt=T.recursos.archivos)==null?void 0:tt.length))&&l.jsxs("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg",children:[l.jsx("h3",{className:"font-bold text-indigo-800 mb-2",children:"Recursos de Aprendizaje"}),l.jsxs("div",{className:"space-y-3",children:[T.recursos.instrucciones&&l.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:l.jsx($a,{content:T.recursos.instrucciones,context:"preview-instrucciones"})}),T.recursos.enlaces&&l.jsx("div",{children:T.recursos.enlaces.split(`
`).map((xt,et)=>xt.trim()&&l.jsx("a",{href:xt,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-600 hover:underline truncate",children:xt},et))}),T.recursos.archivos&&T.recursos.archivos.length>0&&l.jsx("ul",{className:"list-disc list-inside",children:T.recursos.archivos.map(xt=>l.jsx("li",{className:"text-slate-700",children:xt.nombre},xt.nombre))})]})]}),T==null?void 0:T.tipos.map(xt=>{const et=T.generatedContent[xt];return et?l.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:xt}),l.jsxs("div",{className:"space-y-4 text-sm",children:[xt==="Quiz"&&Array.isArray(et)&&et.map((vt,Ct)=>l.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[l.jsxs("p",{className:"font-semibold",children:[Ct+1,". ",l.jsx($a,{content:vt.pregunta,context:`preview-quiz-pregunta-${Ct}`})]}),l.jsx("ul",{className:"list-none pl-5 mt-2 space-y-1",children:vt.opciones.map((yt,sr)=>l.jsxs("li",{children:[l.jsxs("strong",{children:[String.fromCharCode(65+sr),"."]})," ",l.jsx($a,{content:yt,context:`preview-quiz-opcion-${Ct}-${sr}`})]},sr))}),l.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-2 p-1 bg-green-50 rounded inline-block",children:["R: ",l.jsx($a,{content:vt.respuestaCorrecta,context:`preview-quiz-respuesta-${Ct}`})]})]},Ct)),xt==="Comprensión de Lectura"&&et&&typeof et=="object"&&"preguntas"in et&&Array.isArray(et.preguntas)&&l.jsxs("div",{children:[l.jsx("p",{className:"whitespace-pre-wrap bg-slate-100 p-3 rounded-md mb-4",children:l.jsx($a,{content:et.texto,context:"preview-lectura-texto"})}),et.preguntas.map((vt,Ct)=>l.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[l.jsxs("p",{className:"font-semibold",children:[Ct+1,". ",l.jsx($a,{content:vt.pregunta,context:`preview-lectura-pregunta-${Ct}`})]}),l.jsx("ul",{className:"list-none pl-5 mt-2 space-y-1",children:vt.opciones.map((yt,sr)=>l.jsxs("li",{children:[l.jsxs("strong",{children:[String.fromCharCode(65+sr),"."]})," ",l.jsx($a,{content:yt,context:`preview-lectura-opcion-${Ct}-${sr}`})]},sr))}),l.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-2 p-1 bg-green-50 rounded inline-block",children:["R: ",l.jsx($a,{content:vt.respuestaCorrecta,context:`preview-lectura-respuesta-${Ct}`})]})]},Ct))]}),xt==="Términos Pareados"&&Array.isArray(et)&&l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full border border-slate-200",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left font-semibold p-2 border-b",children:"Concepto"}),l.jsx("th",{className:"text-left font-semibold p-2 border-b",children:"Definición"})]})}),l.jsx("tbody",{children:et.map((vt,Ct)=>l.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-slate-50",children:[l.jsx("td",{className:"p-2 align-top font-semibold text-slate-800",children:l.jsx($a,{content:vt.concepto,context:`preview-pareado-concepto-${Ct}`})}),l.jsx("td",{className:"p-2 align-top text-slate-700",children:l.jsx($a,{content:vt.definicion,context:`preview-pareado-definicion-${Ct}`})})]},vt.id))})]})}),xt==="Desarrollo"&&Array.isArray(et)&&et.map((vt,Ct)=>l.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[l.jsxs("p",{className:"font-semibold",children:[Ct+1,". ",l.jsx($a,{content:vt.pregunta,context:`preview-desarrollo-pregunta-${Ct}`})]}),l.jsxs("p",{className:"text-sm text-slate-600 mt-2 p-2 bg-slate-100 rounded-md",children:[l.jsx("strong",{className:"font-semibold",children:"Rúbrica:"})," ",l.jsx($a,{content:vt.rubrica,context:`preview-desarrollo-rubrica-${Ct}`})]})]},Ct))]})]},xt):null})]}),l.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[l.jsx("button",{onClick:()=>P(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300",children:"Cancelar"}),l.jsx("button",{onClick:ht,disabled:w,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:w?"Guardando...":"Confirmar y Asignar"})]})]})},en=()=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify_between items-start",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nueva Prueba Estandarizada"}),l.jsxs("button",{onClick:()=>x(!1),className:"text-slate-600 hover:text-slate-900 font-semibold inline-flex items-center gap-2",children:[l.jsx(k_,{size:18})," Volver"]})]}),l.jsxs("form",{onSubmit:at,className:"space-y-6 mt-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asignatura"}),l.jsx("select",{name:"asignatura",value:re.asignatura,onChange:Se,className:"w-full border-slate-300 rounded-md shadow-sm",children:po.map(tt=>l.jsx("option",{value:tt,children:tt},tt))})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Objetivos de Aprendizaje"}),l.jsx("textarea",{name:"objetivosAprendizaje",value:re.objetivosAprendizaje,onChange:Se,rows:3,className:"w-full border-slate-300 rounded-md shadow-sm",placeholder:"Describe OA o contenidos evaluados..."})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Contenido Base"}),l.jsx("textarea",{name:"contenido",value:re.contenido,onChange:Se,rows:4,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Plazo de Entrega"}),l.jsx("input",{type:"date",name:"plazoEntrega",value:re.plazoEntrega,onChange:Se,className:"w-full border-slate-300 rounded-md shadow-sm"})]}),l.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg space-y-4 bg-slate-50 dark:bg-slate-700/50",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Destinatarios (Sólo estudiantes)"}),l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Buscar estudiante...",value:L,onChange:tt=>O(tt.target.value),className:"w-full border-slate-300 rounded-md shadow-sm mb-2"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-56 overflow-y-auto p-2 bg-white rounded",children:(L?ut:Pt).map(tt=>{var xt;return l.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-slate-100 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:(xt=re.estudiantesDestino)==null?void 0:xt.includes(tt.nombreCompleto),onChange:()=>xe(tt.nombreCompleto,!0),className:"h-4 w-4 rounded text-amber-500 focus:ring-amber-400"}),l.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",title:tt.nombreCompleto,children:tt.nombreCompleto})]},tt.id)})})]})]})]}),N&&l.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md",children:N}),l.jsx("div",{className:"text-right",children:l.jsxs("button",{type:"submit",disabled:v,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 inline-flex items-center gap-2",children:[v?l.jsx(Lp,{className:"animate-spin",size:18}):null,v?"Generando...":"Generar y Previsualizar"]})})]})]}),zn=()=>{var tt,xt;return l.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Previsualización Prueba"}),l.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Revisa y confirma."}),l.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto p-4 bg-slate-50 rounded-lg border",children:[l.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[l.jsx("h3",{className:"font-bold text-sky-800 mb-2",children:l.jsx($a,{content:R==null?void 0:R.titulo,context:"preview-prueba-titulo"})}),l.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:l.jsx($a,{content:R==null?void 0:R.instrucciones,context:"preview-prueba-instrucciones"})})]}),(tt=R==null?void 0:R.textos)!=null&&tt.length?l.jsxs("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg",children:[l.jsx("h3",{className:"font-bold text-indigo-800 mb-2",children:"Textos"}),l.jsx("ol",{className:"space-y-2 list-decimal list-inside",children:R.textos.map((et,vt)=>l.jsxs("li",{children:[l.jsxs("p",{className:"font-semibold",children:[l.jsx($a,{content:et.titulo,context:`preview-texto-titulo-${vt}`}),l.jsxs("span",{className:"text-xs text-slate-500",children:["(",et.tipo,")"]})]}),l.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap mt-1",children:l.jsx($a,{content:et.contenido,context:`preview-texto-contenido-${vt}`})})]},et.id))})]}):null,(xt=R==null?void 0:R.preguntas)!=null&&xt.length?l.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Preguntas (muestra)"}),R.preguntas.slice(0,10).map((et,vt)=>l.jsxs("div",{className:"border-t pt-3 first:border-t-0",children:[l.jsxs("p",{className:"font-semibold",children:[et.numero,". ",l.jsx($a,{content:et.pregunta,context:`preview-pregunta-texto-${vt}`})]}),l.jsx("ul",{className:"list-disc pl-6 text-sm mt-1",children:et.opciones.map((Ct,yt)=>l.jsx("li",{children:l.jsx($a,{content:Ct,context:`preview-pregunta-opcion-${vt}-${yt}`})},yt))}),l.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-1",children:["Correcta: ",et.respuestaCorrecta]})]},et.numero))]}):null]}),l.jsxs("div",{className:"pt-6 flex justify-end gap-4",children:[l.jsx("button",{onClick:()=>q(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300",children:"Cancelar"}),l.jsx("button",{onClick:Tt,disabled:w,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:w?"Guardando...":"Confirmar y Asignar"})]})]})},rn=()=>l.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Actividades Remotas"}),l.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:[l.jsx(T_,{size:18})," Crear Nueva"]})]}),l.jsx("div",{className:"space-y-4",children:e.length>0?e.map(tt=>{var vt;const xt=[];(vt=tt.estudiantesDestino)!=null&&vt.length&&xt.push(`Estudiantes: ${tt.estudiantesDestino.length}`);const et=xt.length?xt.join(" | "):"Estudiantes seleccionados";return l.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:[l.jsx($a,{content:tt.asignatura,context:`lista-asignatura-${tt.id}`})," — ",tt.tipos.join(", ")]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Destino: ",et," | Creado: ",Uw(tt.fechaCreacion)]})]}),l.jsx("button",{onClick:()=>u(tt),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Resultados"})]})},tt.id)}):l.jsx("p",{className:"text-slate-500 text-center py-6",children:'No hay actividades creadas. Use "Crear Nueva".'})})]}),yr=()=>l.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Pruebas Estandarizadas"}),l.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center gap-2 bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:[l.jsx(T_,{size:18})," Crear Nueva"]})]}),l.jsx("div",{className:"space-y-4",children:r.length>0?r.map(tt=>l.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800",children:l.jsx($a,{content:tt.titulo,context:`lista-prueba-titulo-${tt.id}`})}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Creado: ",Uw(tt.fechaCreacion)]})]}),l.jsx("button",{onClick:()=>f(tt),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:"Ver Resultados"})]})},tt.id)):l.jsx("p",{className:"text-slate-500 text-center py-6",children:"No hay pruebas creadas."})})]});return j?l.jsx("div",{className:"text-center py-10",children:"Cargando datos..."}):l.jsxs("div",{className:"animate-fade-in",children:[kr(),Y?En():R?zn():T?gr():c||d?Pr():K==="pruebas"?g?en():yr():K==="actividades"?h?or():rn():Mr()]})},ict="actividades_remotas",B9="respuestas_actividades",yhe=e=>{if(!e)return null;if(e instanceof Date)return e;if(typeof e=="string"){const t=new Date(e);return isNaN(t.getTime())?null:t}if(e&&typeof e.toDate=="function"){const t=e.toDate();return t instanceof Date&&!isNaN(t.getTime())?t:null}if(e&&typeof e.seconds=="number"&&typeof e.nanoseconds=="number"){const t=e.seconds*1e3+Math.floor(e.nanoseconds/1e6),r=new Date(t);return isNaN(r.getTime())?null:r}return null},AZ=e=>{const t=yhe(e);return t?t.toISOString():void 0},oct=e=>{const t=yhe(e);return t?t.toISOString().split("T")[0]:void 0},j9=e=>{const t=e.data();return{id:e.id,...t,fechaCreacion:AZ(t.fechaCreacion)||t.fechaCreacion,plazoEntrega:oct(t.plazoEntrega)||t.plazoEntrega,fechaCompletado:AZ(t.fechaCompletado)||t.fechaCompletado}},Ub=(e,t)=>{var n,a;console.error(`❌ Error en ${t}:`,e);const r={name:"FirestoreError",message:e.message||"Error desconocido",code:e.code};return e.code==="failed-precondition"&&((n=e.message)!=null&&n.includes("requires an index"))?(r.message="Se requiere configurar un índice en la base de datos. Contacta al administrador.",console.log("🔗 Enlace para crear índice:",(a=e.message.match(/https:\/\/[^\s]+/))==null?void 0:a[0])):e.code==="permission-denied"?r.message="No tienes permisos para acceder a estos datos.":e.code==="unavailable"&&(r.message="Servicio temporalmente no disponible. Intenta nuevamente."),r},lct=e=>new Promise(t=>setTimeout(t,e)),cct=async(e,t=3,r="operación")=>{for(let n=1;n<=t;n++)try{return await e()}catch(a){if(console.log(`⚠️ Intento ${n} falló en ${r}:`,a.code||a.message),n===t)throw a;if(["unavailable","deadline-exceeded","internal"].includes(a.code)){const s=Math.pow(2,n)*1e3;console.log(`⏱️ Reintentando en ${s}ms...`),await lct(s)}else throw a}throw new Error("Max retries exceeded")},uct=(e,t,r)=>{console.log("🔔 Suscribiéndose a actividades disponibles para:",e.nombreCompleto);const n=zt(wt(mt,ict),wr("fechaCreacion","desc"));return br(n,{next:s=>{try{console.log("📋 Actividades recibidas desde Firestore:",s.docs.length);const o=s.docs.map(c=>j9(c)).filter(c=>{var u,d,f,h,p;if(!((u=c.cursosDestino)!=null&&u.length)&&!((d=c.estudiantesDestino)!=null&&d.length)){const g=c.nivel.charAt(0);return(f=e.curso)==null?void 0:f.startsWith(g)}return!!((h=c.cursosDestino)!=null&&h.includes(e.curso||"")||(p=c.estudiantesDestino)!=null&&p.includes(e.nombreCompleto))});console.log("✅ Actividades filtradas para el estudiante:",o.length),t(o)}catch(i){console.error("❌ Error procesando datos de actividades:",i);const o=Ub(i,"procesamiento de actividades");r==null||r(o)}},error:s=>{const i=Ub(s,"suscripción a actividades");r==null||r(i)}})},dct=(e,t,r)=>{console.log("🔔 Suscribiéndose a respuestas del estudiante:",e);const n=zt(wt(mt,B9),Gr("estudianteId","==",e),wr("fechaCompletado","desc"));return br(n,{next:s=>{try{console.log("📝 Respuestas recibidas desde Firestore:",s.docs.length);const i=s.docs.map(o=>{var u;const c=j9(o);return console.log(`📄 Respuesta ${o.id}:`,{actividadId:c.actividadId,puntaje:c.puntaje,nota:c.nota,requiereRevision:c.requiereRevisionDocente,revisionCompletada:(u=c.revisionDocente)==null?void 0:u.completada,fechaCompletado:c.fechaCompletado}),c});console.log("✅ Enviando respuestas procesadas al componente:",i.length),t(i)}catch(i){console.error("❌ Error procesando respuestas:",i);const o=Ub(i,"procesamiento de respuestas");r==null||r(o)}},error:s=>{var o;const i=Ub(s,"suscripción a respuestas");if(s.code==="failed-precondition"&&((o=s.message)!=null&&o.includes("requires an index")))return console.log("⚠️ Error de índice detectado, intentando consulta alternativa..."),fct(e,t,r);r==null||r(i)}})},fct=(e,t,r)=>{console.log("🔄 Usando consulta alternativa sin ordenamiento...");const n=zt(wt(mt,B9),Gr("estudianteId","==",e));return br(n,{next:s=>{try{console.log("📝 Respuestas recibidas (consulta alternativa):",s.docs.length);const i=s.docs.map(o=>j9(o)).sort((o,c)=>new Date(c.fechaCompletado).getTime()-new Date(o.fechaCompletado).getTime());console.log("✅ Respuestas ordenadas manualmente:",i.length),t(i)}catch(i){console.error("❌ Error procesando respuestas (alternativa):",i);const o=Ub(i,"procesamiento de respuestas alternativo");r==null||r(o)}},error:s=>{const i=Ub(s,"suscripción alternativa a respuestas");r==null||r(i)}})},Act=async e=>cct(async()=>{console.log("💾 Guardando respuesta de actividad:",{actividadId:e.actividadId,estudianteId:e.estudianteId,puntaje:e.puntaje,nota:e.nota});const t={...e,fechaCompletado:lr.fromDate(new Date(e.fechaCompletado))},r=await Bn(wt(mt,B9),t);return console.log("✅ Respuesta guardada exitosamente con ID:",r.id),r.id},3,"guardado de respuesta"),hct=.6,pct=(e,t,r=hct,n=2)=>{if(!t||t<=0)return n.toFixed(1);const a=t*r;let s;return e>=a?s=4+3*(e-a)/(t-a+1e-9):s=1+3*e/(a+1e-9),s=Math.max(n,Math.min(7,s)),s.toFixed(1)},jR=({className:e="w-5 h-5"})=>l.jsxs("svg",{className:`animate-spin ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),mct=async(e,t,r=3)=>{var i;const n="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",s=new zs(n).getGenerativeModel({model:"gemini-1.5-flash-latest"});for(let o=1;o<=r;o++)try{console.log(`🤖 Intento ${o} de generar feedback con IA`);const c=xct(e,t);let f=(await(await s.generateContent(c)).response).text().trim();f=f.replace(/```json\s*/gi,"").replace(/```\s*$/g,"");const h=f.match(/\{[\s\S]*\}$/);try{const p=JSON.parse(h?h[0]:f);return console.log(`✅ Feedback generado exitosamente en intento ${o}`),p}catch(p){throw console.warn(`⚠️ Error al parsear JSON en intento ${o}:`,p),new Error("JSON parsing failed")}}catch(c){if(console.log(`❌ Error en intento ${o}:`,c.message),(i=c.message)!=null&&i.includes("503")&&o<r){const u=Math.pow(2,o)*1e3;console.log(`⏱️ Esperando ${u}ms antes del siguiente intento...`),await new Promise(d=>setTimeout(d,u));continue}if(o===r)return console.log("🚫 Todos los intentos fallaron. Procediendo sin IA."),null}return null},gct=async(e,t,r)=>{console.log("💾 Iniciando guardado de respuesta...");try{const n=await Act(e);console.log("✅ Respuesta base guardada con ID:",n);const a={id:n,...e};try{const s=await mct(t,r);if(s){const{updateDoc:i,doc:o}=await Ob(async()=>{const{updateDoc:u,doc:d}=await Promise.resolve().then(()=>PCe);return{updateDoc:u,doc:d}},void 0),{db:c}=await Ob(async()=>{const{db:u}=await Promise.resolve().then(()=>fse);return{db:u}},void 0);return await i(o(c,"respuestas_actividades",n),{retroalimentacionAI:s}),console.log("🤖 Feedback de IA agregado exitosamente"),{...a,retroalimentacionAI:s}}return a}catch(s){return console.warn("⚠️ No se pudo generar feedback de IA, pero la respuesta fue guardada:",s),a}}catch(n){throw console.error("❌ Error crítico al guardar respuesta:",n),n}},Qo=(e,t)=>{if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const r=Object.keys(e);r.some(n=>["comprension","analisis","argumentacion","creatividad","claridad","precision","organizacion"].includes(n))&&(console.warn(`🚨 OBJETO SOSPECHOSO EN ${t}:`,e),console.warn("Keys:",r))}},ii=(e,t)=>{if(t&&Qo(e,t),e==null)return"";if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean")return String(e);if(typeof e=="object"){if(Array.isArray(e))return e.map(a=>ii(a,`${t}-array-item`)).join(", ");const r=["texto","contenido","descripcion","valor","name","title","label","pregunta","enunciado","respuesta","opcion","concepto","definicion"];for(const a of r)if(e[a]&&typeof e[a]=="string")return e[a];if(Object.keys(e).some(a=>["comprension","analisis","argumentacion","creatividad","claridad","precision"].includes(a)))return"[Criterios de evaluación]";try{const a=JSON.stringify(e);return a.length>100?"[Objeto complejo]":a}catch{return"[Objeto no serializable]"}}return String(e)},cf=(e,t,...r)=>{if(Qo(e,`extractTextSafely-${t}`),!e)return"";for(const a of r)if(e[a]){const s=ii(e[a],`${t}-${a}`);if(s&&s!=="[Objeto complejo]"&&s!=="[Objeto no serializable]")return s}const n=["texto","pregunta","enunciado","contenido","descripcion","value","label"];for(const a of n)if(e[a]){const s=ii(e[a],`${t}-${a}`);if(s&&s!=="[Objeto complejo]"&&s!=="[Objeto no serializable]")return s}return typeof e=="string"?e:"[Sin contenido disponible]"},Ni=({content:e,context:t="unknown"})=>{try{const r=ii(e,`UltraSafeRenderer-${t}`);return l.jsx("span",{children:r})}catch(r){return console.error("Error in UltraSafeRenderer:",r,"Content:",e),l.jsx("span",{children:"[Error al mostrar contenido]"})}};function hZ(e){if(console.log("🔍 Normalizando lectura:",e),Qo(e,"normalizeLectura-input"),!e)return{texto:"",preguntas:[]};const t=(r,n)=>{Qo(r,`normalizeQuestion-${n}`);const a=Array.isArray(r==null?void 0:r.opciones)?r.opciones.map((s,i)=>ii(s,`opcion-${n}-${i}`)).filter(Boolean):[];return{pregunta:cf(r,`pregunta-${n}`,"pregunta","texto"),opciones:a,respuestaCorrecta:ii(r==null?void 0:r.respuestaCorrecta,`respuestaCorrecta-${n}`),puntaje:typeof(r==null?void 0:r.puntaje)=="number"?r.puntaje:1}};if(!Array.isArray(e)&&Array.isArray(e.preguntas)){const r=e;return{texto:cf(r,"lectura-texto","texto"),preguntas:(r.preguntas||[]).map(t)}}if(Array.isArray(e)){const r=e.map((a,s)=>cf(a,`lectura-bloque-${s}`,"texto")).filter(Boolean).join(`

---

`),n=e.flatMap((a,s)=>(Qo(a,`lectura-bloque-preguntas-${s}`),Array.isArray(a==null?void 0:a.preguntas)?a.preguntas:[])).map(t);return{texto:r,preguntas:n}}return{texto:"",preguntas:[]}}function pZ(e){return console.log("🔍 Normalizando pareados:",e),Qo(e,"normalizePareados-input"),e?!Array.isArray(e)&&Array.isArray(e.pares)?e.pares.map((t,r)=>(Qo(t,`pareado-${r}`),{izquierda:cf(t,`pareado-izq-${r}`,"izquierda","concepto"),derecha:cf(t,`pareado-der-${r}`,"derecha","definicion"),puntaje:typeof(t==null?void 0:t.puntaje)=="number"?t.puntaje:1})):Array.isArray(e)?e.map((t,r)=>(Qo(t,`pareado-array-${r}`),{izquierda:cf(t,`pareado-concepto-${r}`,"concepto","izquierda"),derecha:cf(t,`pareado-definicion-${r}`,"definicion","derecha"),puntaje:1})):[]:[]}function mZ(e){return console.log("🔍 Normalizando desarrollo:",e),Qo(e,"normalizeDesarrollo-input"),e?!Array.isArray(e)&&Array.isArray(e.preguntas)?e.preguntas.map((t,r)=>(Qo(t,`desarrollo-pregunta-${r}`),{enunciado:cf(t,`desarrollo-enunciado-${r}`,"enunciado","pregunta","texto"),puntajeMax:void 0})):Array.isArray(e)?e.map((t,r)=>(Qo(t,`desarrollo-array-${r}`),t!=null&&t.rubrica&&typeof t.rubrica=="object"&&console.warn(`🚨 Rubrica detectada como objeto en item ${r}, ignorando`,t.rubrica),{enunciado:cf(t,`desarrollo-array-enunciado-${r}`,"enunciado","pregunta","texto"),puntajeMax:void 0})):[]:[]}const xct=(e,t)=>{const r=t.items.filter(i=>i.esCorrecta===!1),n=t.items.filter(i=>i.tipo==="Desarrollo"),a=r.map(i=>`- Pregunta: "${ii(i.pregunta,"feedback-prompt-pregunta")}"
  - Respuesta del estudiante: "${ii(i.respuestaUsuario,"feedback-prompt-respuesta")}"
  - Respuesta correcta: "${ii(i.respuestaCorrecta,"feedback-prompt-correcta")}"`).join(`
`),s=n.map(i=>`- Pregunta abierta: "${ii(i.pregunta,"feedback-prompt-desarrollo-pregunta")}"
  - Respuesta del estudiante: """${ii(i.respuestaUsuario,"feedback-prompt-desarrollo-respuesta")}"""`).join(`
`);return`
Eres tutor pedagógico. Actividad de "${ii(e.asignatura,"feedback-prompt-asignatura")}" sobre "${ii(e.contenido,"feedback-prompt-contenido")}".
Devuelve SOLO un JSON con esta forma:

{
  "logros": "1 párrafo motivador, reconociendo aciertos",
  "desafios": [
    { "pregunta": "...", "explicacionDelError": "≤50 palabras, por qué la correcta es adecuada" }
  ],
  "comentariosDesarrollo": [
    { "pregunta": "...", "retroalimentacionBreve": "≤60 palabras, concreta y constructiva. No asignes nota." }
  ]
}

ERRORES (alternativa / lectura / pareados):
${a||"- Sin errores de alternativa."}

RESPUESTAS DE DESARROLLO:
${s||"- Sin preguntas de desarrollo."}
`.trim()},vct=({actividad:e,onComplete:t,currentUser:r})=>{const[n,a]=S.useState({}),[s,i]=S.useState(!1),o=(u,d)=>{const f={...n,[u]:d};a(f)},c=async()=>{i(!0);let u=0,d=0;const f={items:[]};e.tipos.forEach(p=>{const g=e.generatedContent[p],x=n[p];if(console.log(`🔍 Procesando tipo: ${p}`,g),Qo(g,`handleSubmit-${p}`),!!g){if((p==="Quiz"||p==="Comprensión de Lectura")&&(p==="Quiz"?Array.isArray(g)?g.map((y,w)=>(Qo(y,`quiz-question-${w}`),{pregunta:cf(y,`quiz-pregunta-${w}`,"pregunta"),opciones:Array.isArray(y==null?void 0:y.opciones)?y.opciones.map((E,k)=>ii(E,`quiz-opcion-${w}-${k}`)):[],respuestaCorrecta:ii(y==null?void 0:y.respuestaCorrecta,`quiz-respuesta-${w}`),puntaje:typeof(y==null?void 0:y.puntaje)=="number"?y.puntaje:1})):[]:hZ(g).preguntas).forEach((y,w)=>{const E=x==null?void 0:x[w],k=E===y.respuestaCorrecta,B=y.puntaje??1;k&&(u+=B),d+=B,f.items.push({pregunta:y.pregunta,respuestaUsuario:ii(E,`feedback-respuesta-${w}`)||"No respondida",respuestaCorrecta:y.respuestaCorrecta,esCorrecta:k,puntajeObtenido:k?B:0,tipo:p})}),p==="Términos Pareados"){const v=pZ(g),y=x||{};v.forEach((w,E)=>{const k=y[E],B=k===w.derecha,j=w.puntaje??1;B&&(u+=j),d+=j,f.items.push({pregunta:`${w.izquierda} → ¿?`,respuestaUsuario:ii(k,`pareado-feedback-${E}`)||"No respondida",respuestaCorrecta:w.derecha,esCorrecta:B,puntajeObtenido:B?j:0,tipo:p})})}if(p==="Desarrollo"){const v=mZ(g),y=x||{};v.forEach((w,E)=>{const k=ii(y[E],`desarrollo-feedback-${E}`).trim();f.items.push({pregunta:w.enunciado,respuestaUsuario:k||"No respondida",respuestaCorrecta:"Revisión docente",esCorrecta:null,puntajeObtenido:0,tipo:p})})}}});const h={puntaje:u,puntajeMaximo:d,respuestas:n,nota:pct(u,d),requiereRevisionDocente:e.tipos.includes("Desarrollo")};t(h,f)};return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{className:"p-4 bg-sky-50 border-l-4 border-sky-400 rounded-r-lg",children:[l.jsx("h2",{className:"text-2xl font-bold text-sky-800 mb-2",children:l.jsx(Ni,{content:e.asignatura,context:"actividad-asignatura"})}),l.jsx("div",{className:"text-slate-700 whitespace-pre-wrap",children:l.jsx(Ni,{content:e.introduccion,context:"actividad-introduccion"})})]}),e.tipos.map(u=>{const d=e.generatedContent[u];if(console.log(`🔍 Renderizando tipo: ${u}`,d),Qo(d,`render-${u}`),!d)return null;switch(u){case"Quiz":{const f=Array.isArray(d)?d.map((h,p)=>(Qo(h,`render-quiz-question-${p}`),{pregunta:cf(h,`render-quiz-pregunta-${p}`,"pregunta"),opciones:Array.isArray(h==null?void 0:h.opciones)?h.opciones.map((g,x)=>ii(g,`render-quiz-opcion-${p}-${x}`)):[],respuestaCorrecta:ii(h==null?void 0:h.respuestaCorrecta,`render-quiz-respuesta-${p}`),puntaje:typeof(h==null?void 0:h.puntaje)=="number"?h.puntaje:1})):[];return l.jsxs("div",{className:"p-6 border rounded-lg bg-white shadow-sm",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-700",children:"Quiz"}),l.jsx("div",{className:"space-y-6",children:f.map((h,p)=>l.jsxs("div",{className:"border-t pt-4 first:border-t-0 first:pt-0",children:[l.jsxs("p",{className:"font-semibold text-slate-800",children:[p+1,". ",l.jsx(Ni,{content:h.pregunta,context:`quiz-pregunta-${p}`})]}),l.jsx("div",{className:"mt-2 space-y-2",children:h.opciones.map((g,x)=>{var v;return l.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-amber-50 cursor-pointer transition-colors has-[:checked]:bg-amber-100 has-[:checked]:font-semibold",children:[l.jsx("input",{type:"radio",name:`q-${u}-${p}`,value:g,checked:((v=n[u])==null?void 0:v[p])===g,onChange:()=>o(u,{...n[u]||{},[p]:g}),className:"h-5 w-5 text-amber-500 focus:ring-amber-400 border-slate-300"}),l.jsx("span",{children:l.jsx(Ni,{content:g,context:`quiz-opcion-${p}-${x}`})})]},x)})})]},p))})]},u)}case"Comprensión de Lectura":{const f=hZ(d);return l.jsxs("div",{className:"p-6 border rounded-lg bg-white shadow-sm",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-700",children:"Comprensión de Lectura"}),l.jsx("div",{className:"mb-6 p-4 rounded bg-slate-50 border whitespace-pre-wrap",children:l.jsx(Ni,{content:f.texto,context:"lectura-texto"})}),l.jsx("div",{className:"space-y-6",children:f.preguntas.map((h,p)=>l.jsxs("div",{className:"border-t pt-4 first:border-t-0 first:pt-0",children:[l.jsxs("p",{className:"font-semibold text-slate-800",children:[p+1,". ",l.jsx(Ni,{content:h.pregunta,context:`lectura-pregunta-${p}`})]}),l.jsx("div",{className:"mt-2 space-y-2",children:h.opciones.map((g,x)=>{var v;return l.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-amber-50 cursor-pointer transition-colors has-[:checked]:bg-amber-100 has-[:checked]:font-semibold",children:[l.jsx("input",{type:"radio",name:`q-${u}-${p}`,value:g,checked:((v=n[u])==null?void 0:v[p])===g,onChange:()=>o(u,{...n[u]||{},[p]:g}),className:"h-5 w-5 text-amber-500 focus:ring-amber-400 border-slate-300"}),l.jsx("span",{children:l.jsx(Ni,{content:g,context:`lectura-opcion-${p}-${x}`})})]},x)})})]},p))})]},u)}case"Términos Pareados":{const f=pZ(d),h=n[u]||{},p=[...new Set(f.map(g=>g.derecha))];for(let g=p.length-1;g>0;g--){const x=Math.floor(Math.random()*(g+1));[p[g],p[x]]=[p[x],p[g]]}return l.jsxs("div",{className:"p-6 border rounded-lg bg-white shadow-sm",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-700",children:"Términos Pareados"}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:f.map((g,x)=>l.jsxs("div",{className:"p-3 rounded border bg-slate-50",children:[l.jsxs("p",{className:"font-semibold text-slate-800 mb-2",children:[x+1,". ",l.jsx(Ni,{content:g.izquierda,context:`pareado-izq-${x}`})]}),l.jsxs("select",{className:"w-full border rounded p-2 bg-white",value:h[x]??"",onChange:v=>o(u,{...h,[x]:v.target.value}),children:[l.jsx("option",{value:"",children:"— Selecciona la pareja —"}),p.map((v,y)=>l.jsx("option",{value:v,children:ii(v,`pareado-opcion-${x}-${y}`)},y))]})]},`${g.izquierda}-${x}`))})]},u)}case"Desarrollo":{const f=mZ(d),h=n[u]||{};return l.jsxs("div",{className:"p-6 border rounded-lg bg-white shadow-sm",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-700",children:"Preguntas de Desarrollo"}),l.jsx("div",{className:"space-y-6",children:f.map((p,g)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"font-semibold text-slate-800",children:[g+1,". ",l.jsx(Ni,{content:p.enunciado,context:`desarrollo-enunciado-${g}`})]}),l.jsx("textarea",{className:"w-full min-h-[120px] border rounded p-3",placeholder:"Escribe tu respuesta…",value:h[g]??"",onChange:x=>o(u,{...h,[g]:x.target.value})})]},g))}),l.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Este apartado será revisado y calificado por tu profesor/a."})]},u)}default:return null}}),l.jsx("div",{className:"text-right mt-8 flex justify-end gap-4",children:l.jsxs("button",{onClick:c,disabled:s,className:"bg-slate-800 text-white font-bold py-3 px-8 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:[s?l.jsx(jR,{className:"w-5 h-5 mr-2"}):null,s?"Evaluando...":"Entregar Actividad"]})})]})},bct=({currentUser:e})=>{var I,L,O;const[t,r]=S.useState(!0),[n,a]=S.useState("list"),[s,i]=S.useState(!1),[o,c]=S.useState([]),[u,d]=S.useState([]),[f,h]=S.useState(null),[p,g]=S.useState(null),[x,v]=S.useState(null),[y,w]=S.useState("connecting");S.useEffect(()=>{console.log("🚀 Iniciando carga de datos para usuario:",e.nombreCompleto);let T=!1,P=!1,R=!1,q=!1;const Q=()=>{(T||R)&&(P||q)&&(R&&q?(w("error"),v("Error al cargar datos. Verifica tu conexión e intenta nuevamente.")):w("connected"),r(!1),console.log("✅ Carga completada - Actividades:",T,"Respuestas:",P))},G=uct(e,z=>{console.log("📋 Actividades recibidas:",z.length),z.forEach((Y,ee)=>{console.log(`  ${ee+1}. ${Y.asignatura} (ID: ${Y.id})`),Qo(Y,`actividad-${ee}`)}),c(z),T=!0,Q()},z=>{console.error("❌ Error en suscripción de actividades:",z),R=!0,Q()}),K=dct(e.id,z=>{console.log("📝 Respuestas del estudiante recibidas:",z.length),z.forEach((Y,ee)=>{var M;console.log(`  ${ee+1}. Actividad ${Y.actividadId} - Nota: ${Y.nota} - Fecha: ${Y.fechaCompletado}`),(M=Y.revisionDocente)!=null&&M.completada&&console.log("    ✅ Con revisión docente completada"),Qo(Y,`respuesta-${ee}`)}),d(z),P=!0,Q()},z=>{var Y;console.error("❌ Error en suscripción de respuestas:",z),(Y=z.message)!=null&&Y.includes("requires an index")&&(console.log("⚠️ Detectado error de índice, intentando consulta alternativa..."),v("Se detectó un problema de configuración. Las actividades completadas pueden no mostrarse correctamente hasta que se resuelva.")),q=!0,Q()});return()=>{console.log("🧹 Limpiando subscripciones"),G==null||G(),K==null||K()}},[e]),S.useEffect(()=>{t||console.log("🔄 ESTADO ACTUALIZADO:",{actividades:o.length,respuestas:u.length,vista:n,conexion:y})},[o.length,u.length,n,y,t]);const E=T=>{console.log("🔍 Iniciando actividad:",T.asignatura),h(T),a("activity"),v(null)},k=T=>{console.log("🔍 Viendo resultado:",T.actividadId);const P=o.find(R=>R.id===T.actividadId);P?(h(P),g(T),a("result"),v(null)):v("No se pudieron cargar los detalles de esta actividad completada.")},B=S.useCallback(async(T,P)=>{if(!f)return;console.log("🚀 COMPLETANDO ACTIVIDAD:",{actividadId:f.id,estudianteId:e.id,puntaje:T.puntaje,nota:T.nota}),a("result"),i(!0),v(null);const R={actividadId:f.id,estudianteId:e.id,fechaCompletado:new Date().toISOString(),...T,retroalimentacionDetallada:P};console.log("💾 Guardando respuesta...");try{const q=await gct(R,f,P);console.log("✅ Respuesta completada con ID:",q.id),g(q),setTimeout(()=>{console.log("🔄 Datos sincronizados")},1500)}catch(q){console.error("❌ Error crítico al completar actividad:",q),v("Ocurrió un error al guardar tu actividad. Por favor, intenta nuevamente. Si el problema persiste, contacta a tu profesor."),g({id:"error-temp",...R,retroalimentacionAI:{logros:"Tu actividad fue completada pero hubo un problema técnico al generar el resumen.",desafios:[],comentariosDesarrollo:[]}})}finally{i(!1)}},[f,e.id]),j=S.useMemo(()=>{if(u.length===0)return new Set;const T=new Set(u.map(P=>P.actividadId));return console.log("🎯 IDs completados calculados:",T.size),T},[u]),C=S.useMemo(()=>{if(o.length===0)return[];const T=o.filter(P=>!j.has(P.id));return console.log("⏳ Actividades pendientes:",T.length),T},[o,j]),N=S.useMemo(()=>{if(u.length===0)return[];const T=u.map(P=>{const R=o.find(q=>q.id===P.actividadId);return{...P,asignatura:(R==null?void 0:R.asignatura)||"Actividad no disponible",tipos:(R==null?void 0:R.tipos)||[]}}).sort((P,R)=>new Date(R.fechaCompletado).getTime()-new Date(P.fechaCompletado).getTime());return console.log("📖 Historial preparado:",T.length),T},[u,o]);return t?l.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[l.jsx(jR,{className:"w-8 h-8 text-slate-500"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-slate-500",children:"Cargando actividades..."}),l.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Estado: ",y==="connecting"?"Conectando...":y==="connected"?"Conectado":"Error de conexión"]})]})]}):y==="error"&&o.length===0&&u.length===0?l.jsxs("div",{className:"text-center py-12 border-2 border-red-200 rounded-lg bg-red-50",children:[l.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),l.jsx("h3",{className:"text-xl font-semibold text-red-700 mb-2",children:"Error de Conexión"}),l.jsx("p",{className:"text-red-600 mb-4",children:"No se pudieron cargar las actividades."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700",children:"Reintentar"})]}):n==="activity"&&f?l.jsx(vct,{actividad:f,onComplete:B,currentUser:e}):n==="result"&&p?(console.log("🔍 Renderizando resultado:",p),l.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Resultados de la Actividad"}),l.jsxs("div",{className:"flex items-baseline gap-4 mb-6 p-4 bg-slate-50 rounded-lg border",children:[l.jsxs("p",{className:"text-lg text-slate-600",children:["Puntaje: ",l.jsxs("span",{className:"font-bold text-2xl text-slate-800",children:[p.puntaje," / ",p.puntajeMaximo]})]}),l.jsxs("p",{className:"text-lg text-slate-600",children:["Nota: ",l.jsx("span",{className:`font-bold text-2xl ${parseFloat(p.nota)>=4?"text-green-600":"text-red-600"}`,children:p.nota})]})]}),x&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("p",{className:"text-red-700 font-medium",children:["⚠️ ",x]})}),s&&l.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-blue-50 border border-blue-200 rounded-lg text-center mb-6",children:[l.jsx(jR,{className:"w-8 h-8 text-blue-500"}),l.jsx("p",{className:"mt-3 font-semibold text-blue-700",children:"Generando resumen personalizado..."}),l.jsx("p",{className:"mt-1 text-sm text-blue-600",children:"Esto puede tomar unos segundos"})]}),p.retroalimentacionAI&&!s&&l.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg space-y-4 mb-6",children:[l.jsx("h2",{className:"text-2xl font-semibold text-blue-800",children:"Resumen de tu Desempeño 💡"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-green-700",children:"✅ Principales Logros"}),l.jsx("p",{className:"text-slate-700 mt-1",children:l.jsx(Ni,{content:p.retroalimentacionAI.logros,context:"feedback-logros"})})]}),((I=p.retroalimentacionAI.desafios)==null?void 0:I.length)>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-amber-700",children:"🎯 Áreas de Mejora"}),l.jsx("div",{className:"space-y-3 mt-2",children:p.retroalimentacionAI.desafios.map((T,P)=>l.jsxs("div",{className:"p-3 bg-white border rounded-md",children:[l.jsx("p",{className:"font-semibold text-slate-800",children:l.jsx(Ni,{content:T.pregunta,context:`feedback-desafio-pregunta-${P}`})}),l.jsx("p",{className:"mt-2 text-sm text-slate-600 bg-slate-50 p-2 rounded",children:l.jsx(Ni,{content:T.explicacionDelError,context:`feedback-desafio-explicacion-${P}`})})]},P))})]}),((O=(L=p.retroalimentacionAI)==null?void 0:L.comentariosDesarrollo)==null?void 0:O.length)>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-sky-700",children:"📝 Retroalimentación de Desarrollo"}),l.jsx("div",{className:"space-y-3 mt-2",children:p.retroalimentacionAI.comentariosDesarrollo.map((T,P)=>l.jsxs("div",{className:"p-3 bg-white border rounded-md",children:[l.jsx("p",{className:"font-semibold text-slate-800",children:l.jsx(Ni,{content:T.pregunta,context:`feedback-desarrollo-pregunta-${P}`})}),l.jsx("p",{className:"mt-2 text-sm text-slate-600 bg-slate-50 p-2 rounded",children:l.jsx(Ni,{content:T.retroalimentacionBreve,context:`feedback-desarrollo-retro-${P}`})})]},P))})]})]}),p.retroalimentacionDetallada&&l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsx("h2",{className:"text-2xl font-semibold text-slate-700",children:"Revisión Detallada"}),p.retroalimentacionDetallada.items.map((T,P)=>{const R=T.esCorrecta===null,q=R?"border-slate-400 bg-slate-50":T.esCorrecta?"border-green-500 bg-green-50":"border-red-500 bg-red-50",Q=R?"🕓":T.esCorrecta?"✅":"❌";return l.jsxs("div",{className:`p-4 border-l-4 rounded-r-lg ${q}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("p",{className:"font-semibold text-slate-800 flex-1 pr-4",children:[P+1,". ",l.jsx(Ni,{content:T.pregunta,context:`feedback-item-pregunta-${P}`})]}),l.jsx("span",{className:"font-bold text-lg",children:Q})]}),l.jsxs("div",{className:"mt-2 text-sm pl-4",children:[l.jsxs("p",{className:"text-slate-700",children:["Tu respuesta: ",l.jsx("span",{className:"font-medium",children:l.jsx(Ni,{content:T.respuestaUsuario,context:`feedback-item-respuesta-${P}`})})]}),!R&&!T.esCorrecta&&l.jsxs("p",{className:"text-slate-700",children:["Respuesta correcta: ",l.jsx("span",{className:"font-medium text-green-700",children:l.jsx(Ni,{content:T.respuestaCorrecta,context:`feedback-item-correcta-${P}`})})]}),R&&l.jsx("p",{className:"text-slate-600 italic",children:"Pendiente de revisión docente."})]})]},P)})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>{a("list"),h(null),g(null),v(null)},className:"flex-1 bg-slate-800 text-white font-bold py-3 rounded-lg hover:bg-slate-700 transition-colors",children:"Volver a Actividades"}),f&&l.jsx("button",{onClick:()=>{a("activity"),g(null),v(null)},className:"flex-1 bg-amber-600 text-white font-bold py-3 rounded-lg hover:bg-amber-700 transition-colors",children:"Repetir Actividad"})]})]})):l.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md space-y-10",children:[x&&l.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:l.jsxs("p",{className:"text-amber-800",children:["⚠️ ",x]})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Actividades Pendientes"}),l.jsx("p",{className:"text-slate-500 mb-6",children:"Completa las actividades asignadas por tus profesores."}),l.jsx("div",{className:"space-y-4",children:C.length>0?C.map(T=>l.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 flex flex-col sm:flex-row justify-between sm:items-center gap-4 hover:bg-slate-100 transition-colors",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:[l.jsx(Ni,{content:T.asignatura,context:`actividad-asignatura-${T.id}`})," - ",T.tipos.join(", ")]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Plazo: ",l.jsx(Ni,{content:typeof T.plazoEntrega=="string"?T.plazoEntrega:"",context:`actividad-plazo-${T.id}`})]})]}),l.jsx("button",{onClick:()=>E(T),className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 w-full sm:w-auto transition-colors",children:"Comenzar"})]},T.id)):l.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"¡Todo al día!"}),l.jsx("p",{className:"text-slate-500 mt-1",children:"No tienes actividades pendientes."})]})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Historial de Actividades"}),l.jsx("p",{className:"text-slate-500 mb-6",children:"Revisa tus resultados y la retroalimentación de las actividades completadas."}),l.jsx("div",{className:"space-y-4",children:N.length>0?N.map(T=>l.jsxs("div",{className:"p-4 border rounded-lg bg-white flex flex-col sm:flex-row justify-between sm:items-center gap-4 shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:[l.jsx(Ni,{content:T.asignatura,context:`completada-asignatura-${T.id}`})," - ",T.tipos.join(", ")]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Completado: ",new Date(T.fechaCompletado).toLocaleDateString("es-CL")]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("p",{className:"text-sm font-semibold",children:["Nota: ",l.jsx("span",{className:`font-bold text-lg ${parseFloat(T.nota)>=4?"text-green-600":"text-red-600"}`,children:T.nota})]}),l.jsx("button",{onClick:()=>k(T),className:"bg-sky-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-sky-700 w-full sm:w-auto transition-colors",children:"Ver Resultados"})]})]},T.id)):l.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[l.jsx("div",{className:"text-6xl mb-4",children:"📚"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Aún no hay historial"}),l.jsx("p",{className:"text-slate-500 mt-1",children:"Tus actividades completadas aparecerán aquí."})]})})]})]})},gj="estudiantes_inclusion",yct="usuarios",whe=e=>{const t=e.data();return{id:e.id,...t}},wct=e=>{const t=zt(wt(mt,gj));return br(t,n=>{const a=n.docs.map(s=>whe(s));e(a)},n=>{console.error("Error al suscribirse a estudiantes de inclusión:",n),e([])})},Cct=e=>{const t=zt(wt(mt,yct));return br(t,n=>{const a=n.docs.map(s=>whe(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},Ect=async e=>{try{return(await Bn(wt(mt,gj),e)).id}catch(t){throw console.error("Error al agregar estudiante a inclusión:",t),new Error("No se pudo agregar al estudiante.")}},Sct=async(e,t)=>{try{const{id:r,...n}=t,a=dr(mt,gj,e);await Gi(a,n)}catch(r){throw console.error("Error al actualizar estudiante de inclusión:",r),new Error("No se pudo actualizar la ficha del estudiante.")}},_ct=async e=>{try{const t=dr(mt,gj,e);await hs(t)}catch(t){throw console.error("Error al eliminar estudiante de inclusión:",t),new Error("No se pudo eliminar al estudiante.")}},Nct=({estudiantes:e})=>{const t=S.useMemo(()=>{const o=e.reduce((c,u)=>(c[u.curso]=(c[u.curso]||0)+1,c),{});return Object.entries(o).map(([c,u])=>({curso:c,cantidad:u})).sort((c,u)=>c.curso.localeCompare(u.curso))},[e]),r=S.useMemo(()=>{const o=e.reduce((c,u)=>{var f;const d=((f=u.curso.match(/\d+/))==null?void 0:f[0])||"Sin nivel";return c[d]=(c[d]||0)+1,c},{});return Object.entries(o).map(([c,u])=>({nivel:c,cantidad:u})).sort((c,u)=>c.nivel==="Sin nivel"?1:u.nivel==="Sin nivel"?-1:parseInt(c.nivel)-parseInt(u.nivel))},[e]),n=S.useMemo(()=>{const o=e.reduce((c,u)=>(c[u.dificultad]=(c[u.dificultad]||0)+1,c),{});return Object.entries(o).map(([c,u])=>({diagnostico:c,cantidad:u})).sort((c,u)=>u.cantidad-c.cantidad)},[e]),a=S.useMemo(()=>{const o=e.reduce((u,d)=>{var f;return u+(((f=d.intervenciones)==null?void 0:f.length)||0)},0),c=e.length>0?(o/e.length).toFixed(1):"0";return{total:o,promedio:c}},[e]),s=S.useMemo(()=>e.reduce((o,c)=>o+(c.alertas||[]).filter(u=>!u.resuelta).length,0),[e]),i=Math.max(0,...t.map(o=>o.cantidad),...r.map(o=>o.cantidad),...n.map(o=>o.cantidad));return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Dashboard PIE"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.length}),l.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Total Estudiantes"})]}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:a.total}),l.jsx("div",{className:"text-sm text-green-800 dark:text-green-300",children:"Intervenciones"})]}),l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:s}),l.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"Alertas Pendientes"})]}),l.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:a.promedio}),l.jsx("div",{className:"text-sm text-purple-800 dark:text-purple-300",children:"Promedio Intervenciones"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Por Curso"}),l.jsx("div",{className:"space-y-2",children:t.map(({curso:o,cantidad:c})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 w-12",children:o}),l.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden",children:l.jsx("div",{className:"bg-blue-500 h-full transition-all duration-500",style:{width:`${i?c/i*100:0}%`}})}),l.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 w-6",children:c})]},o))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Por Nivel"}),l.jsx("div",{className:"space-y-2",children:r.map(({nivel:o,cantidad:c})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 w-12",children:[o,"°"]}),l.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden",children:l.jsx("div",{className:"bg-green-500 h-full transition-all duration-500",style:{width:`${i?c/i*100:0}%`}})}),l.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 w-6",children:c})]},o))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Por Diagnóstico"}),l.jsx("div",{className:"space-y-2",children:n.map(({diagnostico:o,cantidad:c})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 w-16 text-right truncate",title:o,children:o}),l.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden",children:l.jsx("div",{className:"bg-purple-500 h-full transition-all duration-500",style:{width:`${i?c/i*100:0}%`}})}),l.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 w-6",children:c})]},o))})]})]})]})},gZ=({estudiantesDisponibles:e,onSelect:t})=>{const[r,n]=S.useState(""),[a,s]=S.useState(""),[i,o]=S.useState(!1),c=S.useMemo(()=>e.filter(f=>{const h=f.nombreCompleto.toLowerCase().includes(r.toLowerCase()),p=a===""||f.curso===a;return h&&p}).sort((f,h)=>f.nombreCompleto.localeCompare(h.nombreCompleto)),[e,r,a]),u=S.useMemo(()=>[...new Set(e.map(h=>h.curso).filter(Boolean))].sort(),[e]),d=f=>{t(f),n(""),s(""),o(!1)};return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Agregar Estudiante al PIE"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Buscar por nombre"}),l.jsx("input",{type:"text",placeholder:"Escriba el nombre del estudiante...",value:r,onChange:f=>{n(f.target.value),o(f.target.value.length>0||a!=="")},onFocus:()=>o(r.length>0||a!==""),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filtrar por curso"}),l.jsxs("select",{value:a,onChange:f=>{s(f.target.value),o(r.length>0||f.target.value!=="")},className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Todos los cursos"}),u.map(f=>l.jsx("option",{value:f,children:f},f))]})]})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-600 dark:text-slate-400",children:[l.jsxs("span",{children:["Estudiantes disponibles: ",e.length]}),l.jsxs("span",{children:["Resultados filtrados: ",c.length]})]}),l.jsx("button",{onClick:()=>o(!i),className:"w-full bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 py-2 px-4 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:i?"Ocultar resultados":`Ver ${c.length} estudiantes disponibles`}),i&&l.jsx("div",{className:"border dark:border-slate-600 rounded-lg max-h-80 overflow-y-auto",children:c.length===0?l.jsx("div",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:r||a?"No se encontraron estudiantes con los criterios de búsqueda.":"No hay estudiantes disponibles."}):l.jsx("div",{className:"divide-y dark:divide-slate-600",children:c.map(f=>l.jsx("div",{className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors",onClick:()=>d(f),children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:f.nombreCompleto}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:f.curso})]}),l.jsx("button",{className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 text-xl",children:"➕"})]})},f.id))})}),r&&c.length===1&&l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[l.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:"💡 ¡Solo hay un resultado! Haga clic para agregarlo directamente:"}),l.jsxs("button",{onClick:()=>d(c[0]),className:"text-sm bg-blue-500 text-white px-3 py-1.5 rounded-md hover:bg-blue-600 transition-colors",children:["Agregar a ",c[0].nombreCompleto]})]})]})]})},kct=({student:e,onClose:t,onConfirm:r})=>{const[n,a]=S.useState(h4[0]),s=()=>r(e,n);return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg p-6 animate-fade-in-up",onClick:i=>i.stopPropagation(),children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:["Agregar a ",e.nombreCompleto," al PIE"]}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Por favor, seleccione la dificultad de aprendizaje principal para este estudiante."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"dificultad",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Dificultad de Aprendizaje"}),l.jsx("select",{id:"dificultad",value:n,onChange:i=>a(i.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:h4.map(i=>l.jsx("option",{value:i,children:i},i))})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"button",onClick:s,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 transition-colors",children:"Confirmar e Ingresar"})]})]})})},Tct=({student:e,onClose:t,onSave:r,profesores:n,getDocenteEmail:a})=>{const[s,i]=S.useState("intervenciones"),[o,c]=S.useState(e);S.useEffect(()=>c(e),[e]);const[u,d]=S.useState(null),f={responsable:"",accion:"",observaciones:""},[h,p]=S.useState(f),[g,x]=S.useState({trimestre:"T1",meta:""}),[v,y]=S.useState({titulo:"",fecha:new Date().toISOString().split("T")[0]}),[w,E]=S.useState(null),[k,B]=S.useState(!1),j={motivo:"",acuerdos:"",asistentes:""},[C,N]=S.useState(j),I=()=>{r(o),t()},L=async()=>{var Se;if(!h.responsable||!h.accion){alert("Responsable y Acción son campos obligatorios.");return}let re,_e=!1;u?re=(o.intervenciones||[]).map(he=>he.id===u.id?{...he,...h}:he):(_e=!0,re=[{id:crypto.randomUUID(),fecha:new Date().toISOString(),...h},...o.intervenciones||[]]);const Ne=re.sort((he,Be)=>new Date(Be.fecha).getTime()-new Date(he.fecha).getTime());if(c(he=>({...he,intervenciones:Ne})),_e)try{await oNe({docenteNombre:h.responsable,docenteEmail:a?a(h.responsable):void 0,docenteEmailLower:(Se=a?a(h.responsable):void 0)==null?void 0:Se.toLowerCase(),tipo:"nueva_intervencion",titulo:"📋 Nueva Intervención Asignada",mensaje:`Se te ha asignado una nueva intervención para el estudiante ${o.nombre}. Acción: ${h.accion}`,estudianteNombre:o.nombre,estudianteId:o.id,accionRequerida:h.accion}),alert(`✅ Intervención registrada y notificación enviada a ${h.responsable}`)}catch(he){console.error("Error al crear notificación:",he),alert("⚠️ Intervención guardada, pero no se pudo enviar la notificación al docente.")}p(f),d(null)},O=re=>{d(re),p({responsable:re.responsable,accion:re.accion,observaciones:re.observaciones})},T=re=>{window.confirm("¿Eliminar esta intervención?")&&c(_e=>({..._e,intervenciones:(_e.intervenciones||[]).filter(Ne=>Ne.id!==re)}))},P=re=>{const{name:_e,value:Ne}=re.target;c(Se=>({...Se,[_e]:Ne,fechaActualizacionApoyos:new Date().toISOString()}))},R=()=>{if(!g.meta.trim())return;const re={...g,id:crypto.randomUUID(),cumplida:!1};c(_e=>({..._e,metasProgreso:[..._e.metasProgreso||[],re]})),x({trimestre:"T1",meta:""})},q=re=>{c(_e=>({..._e,metasProgreso:(_e.metasProgreso||[]).map(Ne=>Ne.id===re?{...Ne,cumplida:!Ne.cumplida}:Ne)}))},Q=re=>{c(_e=>({..._e,metasProgreso:(_e.metasProgreso||[]).filter(Ne=>Ne.id!==re)}))},G=S.useMemo(()=>{const re=o.metasProgreso||[];if(re.length===0)return{percent:0,color:"bg-slate-300"};const _e=re.filter(he=>he.cumplida).length,Ne=Math.round(_e/re.length*100),Se=Ne<40?"bg-red-500":Ne<75?"bg-yellow-500":"bg-green-500";return{percent:Ne,color:Se}},[o.metasProgreso]),K=S.useMemo(()=>{if(!o.fechaActualizacionApoyos)return!0;const re=new Date(o.fechaActualizacionApoyos),_e=new Date;return _e.setMonth(_e.getMonth()-3),re<_e},[o.fechaActualizacionApoyos]),z=()=>{if(!v.titulo.trim()||!v.fecha)return;const re={...v,id:crypto.randomUUID(),resuelta:!1};c(_e=>({..._e,alertas:[..._e.alertas||[],re].sort((Ne,Se)=>new Date(Ne.fecha).getTime()-new Date(Se.fecha).getTime())})),y({titulo:"",fecha:new Date().toISOString()})},Y=re=>{c(_e=>({..._e,alertas:(_e.alertas||[]).map(Ne=>Ne.id===re?{...Ne,resuelta:!Ne.resuelta}:Ne)}))},ee=re=>{c(_e=>({..._e,alertas:(_e.alertas||[]).filter(Ne=>Ne.id!==re)}))},M=re=>{re.target.files&&re.target.files[0]&&E(re.target.files[0])},H=()=>{if(!w)return;B(!0);const re=new FileReader;re.readAsDataURL(w),re.onloadend=()=>{const _e={id:crypto.randomUUID(),nombre:w.name,url:re.result,fechaSubida:new Date().toISOString()};c(Ne=>({...Ne,archivos:[_e,...Ne.archivos||[]]})),E(null),B(!1)},re.onerror=()=>{alert("Error al leer el archivo."),B(!1)}},W=re=>{window.confirm("¿Eliminar este archivo?")&&c(_e=>({..._e,archivos:(_e.archivos||[]).filter(Ne=>Ne.id!==re)}))},Z=()=>{if(!C.motivo.trim()||!C.asistentes.trim()){alert("Motivo y asistentes son obligatorios.");return}const re={...C,id:crypto.randomUUID(),fecha:new Date().toISOString()};c(_e=>({..._e,reuniones:[re,..._e.reuniones||[]].sort((Ne,Se)=>new Date(Se.fecha).getTime()-new Date(Ne.fecha).getTime())})),N(j)},ae=re=>{window.confirm("¿Eliminar este registro de reunión?")&&c(_e=>({..._e,reuniones:(_e.reuniones||[]).filter(Ne=>Ne.id!==re)}))},oe=()=>{var xe,Ie,De;const re=new Sr("p","mm","a4"),_e=20,Ne=re.internal.pageSize.getWidth(),Se=re.internal.pageSize.getHeight();let he=_e;const Be=Ve=>{Ve.setFontSize(10),Ve.setTextColor(100),Ve.text("Ficha de Seguimiento - Módulo Inclusión",_e,15)};Be(re),re.setFontSize(18),re.setFont("helvetica","bold"),re.setTextColor(40),re.text(o.nombre,_e,he+10),he+=15,re.setFontSize(11),re.setFont("helvetica","normal"),re.setTextColor(80),re.text(`Curso: ${o.curso}`,_e,he),re.text(`Dificultad: ${o.dificultad}`,_e,he+6),he+=15;const Le=Ve=>{he+Ve>Se-_e&&(re.addPage(),Be(re),he=_e)},Ge=Ve=>{Le(15),re.setFontSize(14),re.setFont("helvetica","bold"),re.text(Ve,_e,he),he+=10};if((xe=o.intervenciones)!=null&&xe.length&&(Ge("Historial de Intervenciones"),Uo(re,{startY:he,head:[["Fecha","Responsable","Acción","Observaciones"]],body:o.intervenciones.map(Ve=>[new Date(Ve.fecha).toLocaleDateString("es-CL"),Ve.responsable,Ve.accion,Ve.observaciones||""]),theme:"grid",didDrawPage:()=>Be(re)}),he=re.lastAutoTable.finalY+10),o.adaptacionesCurriculares||o.apoyosRecibidos){Le(30),Ge("Seguimiento y Apoyos"),re.setFontSize(11),re.setFont("helvetica","normal");const Ve=`Adaptaciones: ${o.adaptacionesCurriculares||"No registradas."}
Apoyos: ${o.apoyosRecibidos||"No registrados."}`,We=re.splitTextToSize(Ve,Ne-_e*2);re.text(We,_e,he),he+=We.length*5+10}(Ie=o.metasProgreso)!=null&&Ie.length&&(Le(30),Ge("Metas de Progreso"),Uo(re,{startY:he,head:[["Trimestre","Meta","Estado"]],body:o.metasProgreso.map(Ve=>[Ve.trimestre,Ve.meta,Ve.cumplida?"Cumplida":"Pendiente"]),theme:"grid",didDrawPage:()=>Be(re)}),he=re.lastAutoTable.finalY+10),(De=o.reuniones)!=null&&De.length&&(Ge("Reuniones con Apoderados"),Uo(re,{startY:he,head:[["Fecha","Motivo","Acuerdos","Asistentes"]],body:o.reuniones.map(Ve=>[new Date(Ve.fecha).toLocaleDateString("es-CL"),Ve.motivo,Ve.acuerdos||"",Ve.asistentes]),theme:"grid",didDrawPage:()=>Be(re)})),re.save(`Ficha_Inclusion_${o.nombre.replace(/\s/g,"_")}.pdf`)},se=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[l.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:u?"Editando Intervención":"Registrar Nueva Intervención"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Responsable ",!u&&"(Se enviará notificación automática)"]}),l.jsxs("select",{value:h.responsable,onChange:re=>p(_e=>({..._e,responsable:re.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Seleccione Responsable..."}),n.map(re=>l.jsx("option",{value:re,children:re},re))]}),h.responsable&&!u&&l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-sm text-blue-800 dark:text-blue-200",children:["🔔 Se enviará una notificación a ",h.responsable," cuando se guarde la intervención"]})]}),l.jsx("textarea",{value:h.accion,onChange:re=>p(_e=>({..._e,accion:re.target.value})),placeholder:"Acción realizada...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("textarea",{value:h.observaciones,onChange:re=>p(_e=>({..._e,observaciones:re.target.value})),placeholder:"Observaciones adicionales...",rows:2,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[u&&l.jsx("button",{onClick:()=>{d(null),p(f)},className:"text-sm bg-slate-200 dark:bg-slate-600 px-3 py-1 rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancelar Edición"}),l.jsx("button",{onClick:L,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md hover:bg-amber-600 transition-colors",disabled:!h.responsable||!h.accion,children:u?"Actualizar":"Guardar y Notificar"})]})]}),l.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[(o.intervenciones||[]).map(re=>l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:re.accion}),re.observaciones&&l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:re.observaciones}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[new Date(re.fecha).toLocaleString("es-CL")," - ",re.responsable]}),l.jsx("span",{className:"text-xs bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300 px-2 py-1 rounded-full",children:"✓ Notificado"})]})]}),l.jsxs("div",{className:"flex-shrink-0 ml-4 flex gap-2",children:[l.jsx("button",{onClick:()=>O(re),className:"text-blue-500 hover:text-blue-700 p-1 rounded transition-colors",title:"Editar intervención",children:"✏️"}),l.jsx("button",{onClick:()=>T(re.id),className:"text-red-500 hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar intervención",children:"🗑️"})]})]})},re.id)),(!o.intervenciones||o.intervenciones.length===0)&&l.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[l.jsx("div",{className:"text-4xl mb-2",children:"📋"}),l.jsx("p",{children:"No hay intervenciones registradas"}),l.jsx("p",{className:"text-sm",children:"Registra la primera intervención arriba"})]})]})]}),ce=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Adaptaciones y Apoyos"}),K&&l.jsx("span",{title:"Información no actualizada en los últimos 3 meses",className:"text-yellow-500 text-xl cursor-help",children:"⚠️"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Adaptaciones Curriculares Implementadas"}),l.jsx("textarea",{name:"adaptacionesCurriculares",value:o.adaptacionesCurriculares||"",onChange:P,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",placeholder:"Describe las adaptaciones curriculares implementadas..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Apoyos Recibidos (PIE, dupla, etc.)"}),l.jsx("textarea",{name:"apoyosRecibidos",value:o.apoyosRecibidos||"",onChange:P,rows:3,className:"w-full mt-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",placeholder:"Describe los apoyos que recibe el estudiante..."})]})]}),l.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border dark:border-slate-600 space-y-3",children:[l.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicadores de Progreso"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Progreso Anual de Metas: ",G.percent,"%"]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4 dark:bg-slate-700",children:l.jsx("div",{className:`${G.color} h-4 rounded-full transition-all duration-500`,style:{width:`${G.percent}%`}})})]}),l.jsxs("div",{className:"flex gap-2 items-end pt-2",children:[l.jsxs("select",{value:g.trimestre,onChange:re=>x(_e=>({..._e,trimestre:re.target.value})),className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"T1",children:"T1"}),l.jsx("option",{value:"T2",children:"T2"}),l.jsx("option",{value:"T3",children:"T3"})]}),l.jsx("input",{value:g.meta,onChange:re=>x(_e=>({..._e,meta:re.target.value})),placeholder:"Definir nueva meta trimestral...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("button",{onClick:R,className:"bg-slate-200 dark:bg-slate-600 px-3 py-2 rounded-md font-semibold text-sm hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",disabled:!g.meta.trim(),children:"Agregar"})]}),l.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(o.metasProgreso||[]).map(re=>l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[l.jsx("input",{type:"checkbox",checked:re.cumplida,onChange:()=>q(re.id),className:"h-5 w-5 rounded text-amber-500"}),l.jsxs("span",{className:`flex-grow text-sm ${re.cumplida?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[l.jsxs("strong",{children:[re.trimestre,":"]})," ",re.meta]}),l.jsx("button",{onClick:()=>Q(re.id),className:"text-red-500 text-sm hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar meta",children:"🗑️"})]},re.id)),(!o.metasProgreso||o.metasProgreso.length===0)&&l.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[l.jsx("div",{className:"text-3xl mb-2",children:"🎯"}),l.jsx("p",{children:"No hay metas definidas"}),l.jsx("p",{className:"text-sm",children:"Agrega la primera meta trimestral"})]})]})]})]}),de=()=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Alertas y Recordatorios"}),l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[l.jsx("h5",{className:"font-medium",children:"Agendar Nueva Alerta"}),l.jsx("input",{type:"text",value:v.titulo,onChange:re=>y(_e=>({..._e,titulo:re.target.value})),placeholder:"Título de la alerta",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),l.jsx("input",{type:"date",value:new Date(v.fecha).toISOString().slice(0,10),onChange:re=>y(_e=>({..._e,fecha:re.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700"}),l.jsx("button",{onClick:z,className:"w-full text-sm bg-amber-500 text-white font-semibold px-3 py-1.5 rounded-md hover:bg-amber-600 transition-colors",disabled:!v.titulo.trim()||!v.fecha,children:"Agendar"})]}),l.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[(o.alertas||[]).map(re=>l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[l.jsx("input",{type:"checkbox",checked:re.resuelta,onChange:()=>Y(re.id),className:"h-5 w-5 rounded text-amber-500"}),l.jsxs("span",{className:`flex-grow text-sm ${re.resuelta?"line-through text-slate-500":"text-slate-800 dark:text-slate-200"}`,children:[re.titulo," (",new Date(re.fecha+"T12:00:00").toLocaleDateString("es-CL"),")"]}),l.jsx("button",{onClick:()=>ee(re.id),className:"text-red-500 text-sm hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar alerta",children:"🗑️"})]},re.id)),(!o.alertas||o.alertas.length===0)&&l.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[l.jsx("div",{className:"text-3xl mb-2",children:"🔔"}),l.jsx("p",{children:"No hay alertas programadas"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Archivos Adjuntos"}),l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[l.jsx("h5",{className:"font-medium",children:"Subir Nuevo Archivo"}),l.jsx("input",{type:"file",onChange:M,className:"w-full text-sm",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt"}),l.jsx("button",{onClick:H,disabled:!w||k,className:"w-full text-sm bg-blue-500 text-white font-semibold px-3 py-1.5 rounded-md disabled:bg-slate-400 hover:bg-blue-600 transition-colors",children:k?"Subiendo...":"Subir"}),w&&l.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Archivo seleccionado: ",w.name]})]}),l.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[(o.archivos||[]).map(re=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-slate-800 rounded border dark:border-slate-600",children:[l.jsxs("a",{href:re.url,download:re.nombre,className:"text-sm text-blue-600 hover:underline truncate flex-grow",title:re.nombre,children:["📎 ",re.nombre]}),l.jsx("button",{onClick:()=>W(re.id),className:"text-red-500 text-sm ml-2 hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar archivo",children:"🗑️"})]},re.id)),(!o.archivos||o.archivos.length===0)&&l.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[l.jsx("div",{className:"text-3xl mb-2",children:"📁"}),l.jsx("p",{children:"No hay archivos adjuntos"})]})]})]})]}),ke=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 space-y-3",children:[l.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Registrar Nueva Reunión"}),l.jsx("input",{value:C.motivo,onChange:re=>N(_e=>({..._e,motivo:re.target.value})),placeholder:"Motivo de la reunión...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("textarea",{value:C.acuerdos,onChange:re=>N(_e=>({..._e,acuerdos:re.target.value})),placeholder:"Acuerdos tomados en la reunión...",rows:3,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("input",{value:C.asistentes,onChange:re=>N(_e=>({..._e,asistentes:re.target.value})),placeholder:"Asistentes (separados por coma)...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("div",{className:"text-right",children:l.jsx("button",{onClick:Z,className:"text-sm bg-amber-500 text-white font-semibold px-3 py-1 rounded-md hover:bg-amber-600 transition-colors",disabled:!C.motivo.trim()||!C.asistentes.trim(),children:"Guardar Reunión"})})]}),l.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[(o.reuniones||[]).map(re=>l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border dark:border-slate-600",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:re.motivo}),re.acuerdos&&l.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:[l.jsx("strong",{children:"Acuerdos:"})," ",re.acuerdos]}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[new Date(re.fecha).toLocaleString("es-CL")," - Asistentes: ",re.asistentes]})]}),l.jsx("button",{onClick:()=>ae(re.id),className:"text-red-500 flex-shrink-0 ml-4 hover:text-red-700 p-1 rounded transition-colors",title:"Eliminar reunión",children:"🗑️"})]})},re.id)),(!o.reuniones||o.reuniones.length===0)&&l.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[l.jsx("div",{className:"text-4xl mb-2",children:"👥"}),l.jsx("p",{children:"No hay reuniones registradas"}),l.jsx("p",{className:"text-sm",children:"Registra la primera reunión con apoderados"})]})]})]});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:re=>re.stopPropagation(),children:[l.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Ficha de Seguimiento: ",e.nombre]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.curso," - ",e.dificultad]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:oe,className:"text-sm bg-red-100 text-red-700 font-semibold px-3 py-1.5 rounded-md hover:bg-red-200 transition-colors",children:"📄 Exportar PDF"}),l.jsx("button",{onClick:t,className:"text-2xl text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",children:"×"})]})]}),l.jsx("div",{className:"border-b dark:border-slate-700 px-4",children:l.jsx("nav",{className:"-mb-px flex space-x-6",children:["intervenciones","seguimiento","reuniones","alertas"].map(re=>l.jsx("button",{onClick:()=>i(re),className:`${s===re?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm capitalize transition-colors`,children:re==="alertas"?"Alertas y Archivos":re==="seguimiento"?"Seguimiento y Metas":re},re))})}),l.jsxs("div",{className:"p-6 overflow-y-auto flex-grow bg-slate-50 dark:bg-slate-900/50",children:[s==="intervenciones"&&se(),s==="seguimiento"&&ce(),s==="reuniones"&&ke(),s==="alertas"&&de()]}),l.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 px-6 py-4 rounded-b-xl flex justify-end gap-3 mt-auto",children:[l.jsx("button",{onClick:t,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors",children:"Cerrar"}),l.jsx("button",{onClick:I,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 transition-colors",children:"Guardar Cambios y Cerrar"})]})]})})},xZ=({currentUser:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState(!0),[o,c]=S.useState(null),[u,d]=S.useState(null),[f,h]=S.useState(""),[p,g]=S.useState(""),[x,v]=S.useState(""),[y,w]=S.useState("dashboard");S.useEffect(()=>{i(!0);const L=wct(T=>{r(T),i(!1)}),O=Cct(T=>a(T));return()=>{L(),O()}},[]);const E=async(L,O)=>{if(t.some(P=>P.nombre===L.nombreCompleto)){alert("Este estudiante ya está en el programa de inclusión.");return}const T={nombre:L.nombreCompleto,curso:L.curso||"",dificultad:O,intervenciones:[],metasProgreso:[],alertas:[],archivos:[],reuniones:[],adaptacionesCurriculares:"",apoyosRecibidos:"",fechaActualizacionApoyos:new Date().toISOString()};try{await Ect(T),alert(`✅ ${L.nombreCompleto} ha sido agregado exitosamente al programa PIE`)}catch(P){console.error("Error al agregar estudiante:",P),alert("Hubo un error al agregar al estudiante al programa.")}},k=async L=>{try{await Sct(L.id,L)}catch(O){console.error("Error al actualizar la ficha:",O),alert("Hubo un error al guardar los cambios en la ficha.")}},B=async L=>{if(window.confirm("¿Está seguro de que desea eliminar a este estudiante del programa de inclusión? Esta acción es irreversible."))try{await _ct(L),(o==null?void 0:o.id)===L&&c(null),alert("✅ Estudiante eliminado del programa PIE")}catch(O){console.error("Error al eliminar estudiante:",O),alert("Hubo un error al eliminar al estudiante.")}},j=L=>{const O=N;if(O.length===0){alert("No hay datos para exportar.");return}const T=O.map(P=>{var R;return{Nombre:P.nombre,Curso:P.curso,Dificultad:P.dificultad,"N° Intervenciones":((R=P.intervenciones)==null?void 0:R.length)||0,"Alertas Pendientes":(P.alertas||[]).filter(q=>!q.resuelta).length,"Metas Cumplidas":(P.metasProgreso||[]).filter(q=>q.cumplida).length,"Total Metas":(P.metasProgreso||[]).length,"Última Actualización":P.fechaActualizacionApoyos?new Date(P.fechaActualizacionApoyos).toLocaleDateString("es-CL"):"No registrada"}});if(L==="xlsx"){const P=zl.json_to_sheet(T),R=zl.book_new();zl.book_append_sheet(R,P,"Estudiantes_Inclusion"),mj(R,"Estudiantes_Inclusion.xlsx"),alert("✅ Archivo Excel exportado exitosamente")}else{const P=new Sr;P.text("Listado de Estudiantes - Programa de Inclusión",14,15),Uo(P,{startY:20,head:[Object.keys(T[0])],body:T.map(Object.values)}),P.save("Estudiantes_Inclusion.pdf"),alert("✅ Archivo PDF exportado exitosamente")}},C=S.useMemo(()=>n.filter(L=>{var O;return L.profile===Yt.ESTUDIANTE&&(((O=e.cursos)==null?void 0:O.includes(L.curso||""))||e.profile===Yt.SUBDIRECCION)}).filter(L=>!t.some(O=>O.nombre===L.nombreCompleto)),[n,t,e]),N=S.useMemo(()=>t.filter(L=>L.nombre.toLowerCase().includes(f.toLowerCase())&&(p===""||L.curso===p)&&(x===""||L.dificultad===x)).sort((L,O)=>L.nombre.localeCompare(O.nombre)),[t,f,p,x]),I=S.useMemo(()=>n.filter(L=>L.profile===Yt.PROFESORADO).map(L=>L.nombreCompleto).sort(),[n]);return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Programa de Inclusión Escolar (PIE)"}),l.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>w("dashboard"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${y==="dashboard"?"bg-white dark:bg-slate-600 text-slate-800 dark:text-slate-200 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:"📊 Dashboard"}),l.jsx("button",{onClick:()=>w("lista"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${y==="lista"?"bg-white dark:bg-slate-600 text-slate-800 dark:text-slate-200 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:"📋 Lista de Estudiantes"})]})]}),s?l.jsxs("div",{className:"text-center py-10",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"}),l.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Cargando datos del programa..."})]}):l.jsxs(l.Fragment,{children:[y==="dashboard"&&l.jsxs("div",{className:"space-y-8",children:[l.jsx(Nct,{estudiantes:t}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:["Estudiantes Recientes (",Math.min(5,t.length),")"]}),l.jsx("button",{onClick:()=>w("lista"),className:"text-sm text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Ver todos →"})]}),l.jsxs("div",{className:"space-y-3",children:[t.slice(0,5).map(L=>l.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700 flex justify-between items-center hover:shadow-sm transition-shadow",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:L.nombre}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[L.curso," - ",L.dificultad]})]}),l.jsx("button",{onClick:()=>c(L),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm transition-colors",children:"Ver Ficha"})]},L.id)),t.length===0&&l.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[l.jsx("div",{className:"text-6xl mb-4",children:"📚"}),l.jsx("p",{className:"text-lg font-medium mb-2",children:"No hay estudiantes en el programa PIE"}),l.jsx("p",{className:"text-sm",children:"Comienza agregando estudiantes desde la nómina"})]})]})]}),l.jsx(gZ,{estudiantesDisponibles:C,onSelect:L=>d(L)})]})]}),y==="lista"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:["Estudiantes en PIE (",N.length,")"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>j("xlsx"),className:"text-sm bg-green-100 text-green-700 font-semibold py-1 px-3 rounded-lg hover:bg-green-200 transition-colors",children:"📊 Excel"}),l.jsx("button",{onClick:()=>j("pdf"),className:"text-sm bg-red-100 text-red-700 font-semibold py-1 px-3 rounded-lg hover:bg-red-200 transition-colors",children:"📄 PDF"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Buscar estudiante"}),l.jsx("input",{type:"text",placeholder:"Nombre del estudiante...",value:f,onChange:L=>h(L.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por curso"}),l.jsxs("select",{value:p,onChange:L=>g(L.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Todos los Cursos"}),Kl.map(L=>l.jsx("option",{value:L,children:L},L))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por diagnóstico"}),l.jsxs("select",{value:x,onChange:L=>v(L.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Todas las Dificultades"}),h4.map(L=>l.jsx("option",{value:L,children:L},L))]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4 text-xs",children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-center",children:[l.jsx("div",{className:"font-bold text-blue-600",children:N.length}),l.jsx("div",{className:"text-blue-800 dark:text-blue-300",children:"Mostrando"})]}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded text-center",children:[l.jsx("div",{className:"font-bold text-green-600",children:t.length}),l.jsx("div",{className:"text-green-800 dark:text-green-300",children:"Total"})]}),l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-center",children:[l.jsx("div",{className:"font-bold text-yellow-600",children:t.reduce((L,O)=>L+(O.alertas||[]).filter(T=>!T.resuelta).length,0)}),l.jsx("div",{className:"text-yellow-800 dark:text-yellow-300",children:"Alertas"})]}),l.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded text-center",children:[l.jsx("div",{className:"font-bold text-purple-600",children:new Set(t.map(L=>L.curso)).size}),l.jsx("div",{className:"text-purple-800 dark:text-purple-300",children:"Cursos"})]})]}),l.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:[N.map(L=>{var O;return l.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-md border dark:border-slate-700 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:L.nombre}),(L.alertas||[]).filter(T=>!T.resuelta).length>0&&l.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:[(L.alertas||[]).filter(T=>!T.resuelta).length," alertas"]})]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:[L.curso," - ",L.dificultad]}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-600 dark:text-slate-300",children:[l.jsxs("span",{children:[((O=L.intervenciones)==null?void 0:O.length)||0," intervenciones"]}),l.jsxs("span",{children:[(L.metasProgreso||[]).filter(T=>T.cumplida).length," metas cumplidas"]}),L.fechaActualizacionApoyos&&l.jsxs("span",{children:["Últ. actualización: ",new Date(L.fechaActualizacionApoyos).toLocaleDateString("es-CL")]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>c(L),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm px-3 py-1 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:"Ver Ficha"}),l.jsx("button",{onClick:()=>B(L.id),title:"Eliminar del programa",className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",children:"🗑️"})]})]})},L.id)}),N.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),l.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400 mb-2",children:f||p||x?"No se encontraron estudiantes con esos criterios":"No hay estudiantes en el programa PIE"}),(f||p||x)&&l.jsx("button",{onClick:()=>{h(""),g(""),v("")},className:"text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Limpiar filtros"})]})]})]}),l.jsx(gZ,{estudiantesDisponibles:C,onSelect:L=>d(L)})]})]}),u&&l.jsx(kct,{student:u,onClose:()=>d(null),onConfirm:(L,O)=>{E(L,O),d(null)}}),o&&l.jsx(Tct,{student:o,onClose:()=>c(null),onSave:k,profesores:I})]})},Che="asistencia_dual",Bct=e=>{var r,n;const t=e.data();return{id:e.id,...t,fechaHora:((n=(r=t.fechaHora)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaHora}},jct=(e,t)=>{const r=zt(wt(mt,Che),Gr("emailEstudiante","==",e),wr("fechaHora","desc"));return br(r,a=>{const s=a.docs.map(i=>Bct(i));t(s)},a=>{console.error("Error subscribing to personal attendance:",a),t([])})},Ict=async e=>{try{const t={...e,fechaHora:lr.fromDate(new Date(e.fechaHora))};await Bn(wt(mt,Che),t)}catch(t){throw console.error("Error adding attendance record:",t),new Error("Could not save the attendance record.")}},Fct=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"})}),Oct=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm-3.707-4.293a1 1 0 001.414 1.414L10 12.414l2.293 2.293a1 1 0 001.414-1.414L11.414 11l2.293-2.293a1 1 0 00-1.414-1.414L10 9.586 7.707 7.293a1 1 0 00-1.414 1.414L8.586 11 6.293 13.293a1 1 0 000 1.414z",clipRule:"evenodd"})}),Dct=({currentUser:e})=>{const[t,r]=S.useState(e.curso||""),[n,a]=S.useState([]),[s,i]=S.useState(!1),[o,c]=S.useState(!0),[u,d]=S.useState(null);S.useEffect(()=>{if(!e.email){c(!1);return}c(!0);const h=jct(e.email,p=>{a(p),c(!1)});return()=>h()},[e.email]);const f=h=>{if(!t){d({text:"Por favor, seleccione su curso antes de marcar.",type:"error"});return}i(!0),d(null),navigator.geolocation.getCurrentPosition(async p=>{const g={nombreEstudiante:e.nombreCompleto,emailEstudiante:e.email,curso:t,tipo:h,fechaHora:new Date().toISOString(),ubicacion:{latitud:p.coords.latitude,longitud:p.coords.longitude}};try{await Ict(g),d({text:`¡Marca de ${h} registrada con éxito!`,type:"success"})}catch(x){console.error("Error saving record to Firestore:",x),d({text:"No se pudo guardar el registro en la nube.",type:"error"})}finally{i(!1)}},p=>{console.error("Geolocation error:",p);let g="No se pudo obtener la ubicación.";switch(p.code){case p.PERMISSION_DENIED:g="Permiso de ubicación denegado. Por favor, habilite la ubicación en su navegador y dispositivo.";break;case p.POSITION_UNAVAILABLE:g="La información de ubicación no está disponible en este momento. Verifique su conexión y GPS.";break;case p.TIMEOUT:g="La solicitud de ubicación ha tardado demasiado. Inténtelo de nuevo en un lugar con mejor señal.";break;default:g=`Ocurrió un error desconocido al obtener la ubicación (código: ${p.code}).`;break}d({text:g,type:"error"}),i(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Asistencia a Empresa"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Registre su entrada y salida de la empresa de práctica."}),l.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Seleccione su curso"}),l.jsxs("select",{id:"curso",value:t,onChange:h=>r(h.target.value),className:"w-full border-slate-300 rounded-md shadow-sm text-lg p-2 dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"-- Mi curso --"}),Wg.map(h=>l.jsx("option",{value:h,children:h},h))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[l.jsx("button",{onClick:()=>f("Entrada"),disabled:s||!t,className:"bg-green-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-green-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Entrada"}),l.jsx("button",{onClick:()=>f("Salida"),disabled:s||!t,className:"bg-red-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-red-700 disabled:bg-slate-400 flex items-center justify-center text-xl transition-all",children:"Salida"})]}),s&&l.jsxs("div",{className:"text-center text-slate-600 dark:text-slate-400 pt-4 flex items-center justify-center gap-2",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:"Obteniendo ubicación..."})]}),u&&l.jsx("div",{className:`text-center p-3 rounded-md mt-4 ${u.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.text})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Mi Historial de Asistencia"}),l.jsx("div",{className:"overflow-x-auto max-h-96",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Fecha y Hora"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Tipo"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Curso"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:o?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500",children:"Cargando historial..."})}):n.length>0?n.map(h=>l.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:new Date(h.fechaHora).toLocaleString("es-CL")}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:l.jsxs("span",{className:`px-3 py-1 inline-flex items-center gap-1.5 text-xs leading-5 font-semibold rounded-full ${h.tipo==="Entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[h.tipo==="Entrada"?l.jsx(Fct,{}):l.jsx(Oct,{}),h.tipo]})}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:h.curso})]},h.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-500",children:"No tienes marcas de asistencia registradas."})})})]})})]})]})},Pct=async()=>{try{console.log("🔍 Debugging users collection...");const e=wt(Lr,"users"),t=zt(e,ff(10)),r=await qn(t),n={exists:!0,totalDocs:r.size,sampleDocs:[],fieldAnalysis:{}},a=new Set;return r.forEach((s,i)=>{const o=s.data(),c={id:s.id,data:o,fields:Object.keys(o)};n.sampleDocs.push(c),Object.keys(o).forEach(u=>a.add(u))}),n.fieldAnalysis={allFields:Array.from(a),commonFields:Array.from(a).filter(s=>n.sampleDocs.filter(o=>s in o.data).length>n.sampleDocs.length*.5)},console.log("Users collection debug result:",n),n}catch(e){return console.error("Error debugging users collection:",e),{exists:!1,error:e instanceof Error?e.message:"Unknown error"}}},Rct=async(e,t)=>{var c,u,d;const r=new Date(e,t,1),n=new Date(e,t+1,0,23,59,59,999),a=lr.fromDate(r),s=lr.fromDate(n),i=["asistenciaDual","asistenciaEmpresa","asistencia","attendance","checkins"],o={};for(const f of i)try{const h=wt(Lr,f);try{const p=zt(h,Gr("fechaHora",">=",a),Gr("fechaHora","<=",s)),g=await qn(p);o[f]={exists:!0,hasDateField:!0,count:g.size,sampleDoc:((c=g.docs[0])==null?void 0:c.data())||null}}catch{const g=["fecha","timestamp","createdAt"];let x=!1;for(const v of g)try{const y=zt(h,Gr(v,">=",a),Gr(v,"<=",s)),w=await qn(y);o[f]={exists:!0,hasDateField:v,count:w.size,sampleDoc:((u=w.docs[0])==null?void 0:u.data())||null},x=!0;break}catch{continue}if(!x){const v=zt(h,wr("__name__"),ff(5)),y=await qn(v);o[f]={exists:!0,hasDateField:!1,count:y.size,sampleDoc:((d=y.docs[0])==null?void 0:d.data())||null,note:"No date field found for filtering"}}}}catch(h){o[f]={exists:!1,error:h instanceof Error?h.message:"Unknown error"}}return console.log("Debug Asistencia Collections:",o),o},Lct=(e,t,r,n)=>{try{const a=new Date(e,t,1);a.setHours(0,0,0,0);const s=new Date(e,t+1,0);s.setHours(23,59,59,999),console.log(`🔍 Buscando registros entre: ${a.toISOString()} y ${s.toISOString()}`),console.log(`📅 Mes actual: ${e}-${(t+1).toString().padStart(2,"0")}`);const i=lr.fromDate(a),o=lr.fromDate(s),c=[],u=new Map,d=()=>{const h=Array.from(u.values());console.log(`📊 Total registros encontrados: ${h.length}`),h.length>0&&console.log("📅 Registros por día:",h.reduce((p,g)=>{let x;g.fechaHora instanceof Date?x=g.fechaHora:typeof g.fechaHora=="string"?x=new Date(g.fechaHora):x=new Date;const v=x.getDate();return p[v]=(p[v]||0)+1,p},{})),r(h)};return["asistencia_dual","asistenciaEmpresa","asistencia_empresa","asistenciaDual","asistencia"].forEach(h=>{try{console.log(`🔍 Configurando suscripción para: ${h}`);const p=wt(Lr,h),g=zt(p,Gr("fechaHora",">=",i),Gr("fechaHora","<=",o),wr("fechaHora","desc")),x=br(g,v=>{console.log(`📋 ${h}: ${v.size} documentos encontrados con filtro`),v.size>0?(console.log(`✅ Registros encontrados en ${h}:`),Array.from(u.keys()).filter(w=>w.startsWith(`${h}_`)).forEach(w=>u.delete(w)),v.docs.forEach((w,E)=>{var k;if(E<5){const B=w.data();let j;(k=B.fechaHora)!=null&&k.toDate?j=B.fechaHora.toDate():typeof B.fechaHora=="string"?j=new Date(B.fechaHora):j=new Date,console.log(`   ${E+1}. ${B.emailEstudiante} - ${j.toLocaleString()} - ${B.tipo}`),console.log(`      📅 Fecha original: ${B.fechaHora} (tipo: ${typeof B.fechaHora})`)}}),v.forEach(w=>{var C;const E=w.data();let k;(C=E.fechaHora)!=null&&C.toDate?k=E.fechaHora.toDate():typeof E.fechaHora=="string"?k=new Date(E.fechaHora):E.fechaHora instanceof Date?k=E.fechaHora:E.fechaHora?k=new Date(E.fechaHora):k=new Date;const B={id:w.id,emailEstudiante:E.emailEstudiante||E.email||"",nombreEstudiante:E.nombreEstudiante||E.nombre||"",curso:E.curso||"",fechaHora:k,tipo:E.tipo,ubicacion:E.ubicacion||null,observaciones:E.observaciones||"",...E},j=`${h}_${w.id}`;u.set(j,B)}),d()):console.log(`⚪ ${h}: vacía, manteniendo datos existentes`)},v=>{console.warn(`⚠️ Error con filtro en ${h}:`,v),console.log(`🔄 Intentando estrategia alternativa en ${h}...`);const y=zt(p,ff(200)),w=br(y,k=>{if(console.log(`📋 ${h} (sin filtro): ${k.size} documentos`),k.size>0){const j=k.docs[0].data();console.log(`📄 Estructura en ${h}:`,Object.keys(j)),console.log("📄 Primer documento:",j)}const B=k.docs.filter(j=>{var I;const C=j.data();if(!C.fechaHora)return!1;let N;return(I=C.fechaHora)!=null&&I.toDate?N=C.fechaHora.toDate():typeof C.fechaHora=="string"?N=new Date(C.fechaHora):C.fechaHora instanceof Date?N=C.fechaHora:N=new Date(C.fechaHora),N>=a&&N<=s});console.log(`📅 ${h}: ${B.length} registros después de filtro manual`),B.length>0&&(Array.from(u.keys()).filter(C=>C.startsWith(`${h}_`)).forEach(C=>u.delete(C)),B.forEach(C=>{var T;const N=C.data();let I;(T=N.fechaHora)!=null&&T.toDate?I=N.fechaHora.toDate():typeof N.fechaHora=="string"?I=new Date(N.fechaHora):N.fechaHora instanceof Date?I=N.fechaHora:I=new Date(N.fechaHora);const L={id:C.id,emailEstudiante:N.emailEstudiante||N.email||"",nombreEstudiante:N.nombreEstudiante||N.nombre||"",curso:N.curso||"",fechaHora:I,tipo:N.tipo,ubicacion:N.ubicacion||null,observaciones:N.observaciones||"",...N},O=`${h}_${C.id}`;u.set(O,L)}),d())}),E=c.findIndex(k=>k===x);E>=0?c[E]=w:c.push(w)});c.push(x)}catch(p){console.warn(`❌ Error configurando ${h}:`,p)}}),()=>{c.forEach(h=>{try{h()}catch(p){console.warn("Error unsubscribing:",p)}})}}catch(a){return console.error("Error setting up subscribeToAsistenciaByMonth:",a),n&&n(new Error(`Error al configurar suscripción: ${a instanceof Error?a.message:"Error desconocido"}`)),()=>{}}},Mct=(e,t)=>{try{console.log("🔍 Buscando usuarios en múltiples colecciones...");const r=["usuarios","users"],n=[],a=new Map,s=()=>{const o=Array.from(a.values());console.log(`📊 Total usuarios encontrados: ${o.length}`);const c=o.reduce((d,f)=>(d[f.profile]=(d[f.profile]||0)+1,d),{});console.log("👥 Usuarios por perfil:",c);const u=o.filter(d=>d.profile===Yt.ESTUDIANTE);console.log(`🎓 Estudiantes encontrados: ${u.length}`),u.forEach(d=>{console.log(`   - ${d.nombreCompleto} (${d.curso}) - ${d.email}`)}),e(o)};let i=!1;return r.forEach(o=>{try{const c=wt(Lr,o),u=zt(c),d=br(u,f=>{f.size>0?(console.log(`✅ Encontrados ${f.size} usuarios en colección: ${o}`),i=!0,Array.from(a.keys()).filter(p=>p.startsWith(`${o}_`)).forEach(p=>a.delete(p)),f.forEach(p=>{var g,x,v,y;try{const w=p.data(),E=w.email||w.userEmail||w.mail||w.correo||"",k=w.nombreCompleto||w.displayName||w.name||w.nombre||w.fullName||"",B=w.curso||w.course||w.class||w.grade||"";let j=w.profile||w.role||w.tipo||w.userType||Yt.ESTUDIANTE;if(typeof j=="string"){const I=j.toLowerCase();I.includes("estudiante")||I.includes("student")||I.includes("alumno")?j=Yt.ESTUDIANTE:I.includes("coordinador")||I.includes("coordinator")?j=Yt.COORDINADOR_TP:I.includes("profesor")||I.includes("teacher")||I.includes("docente")?j=Yt.PROFESOR:(I.includes("subdireccion")||I.includes("subdir"))&&(j=Yt.COORDINADOR_TP)}const C={id:p.id,email:E,nombreCompleto:k,curso:B,profile:j,activo:w.activo!==!1,fechaCreacion:((x=(g=w.fechaCreacion)==null?void 0:g.toDate)==null?void 0:x.call(g))||new Date(w.fechaCreacion)||new Date,ultimaActividad:((y=(v=w.ultimaActividad)==null?void 0:v.toDate)==null?void 0:y.call(v))||new Date(w.ultimaActividad)||new Date,...w},N=`${o}_${p.id}`;a.set(N,C)}catch(w){console.warn(`Error procesando documento ${p.id} en ${o}:`,w)}}),s()):console.log(`⚪ Colección ${o}: vacía`)},f=>{console.warn(`⚠️ Error en colección ${o}:`,f)});n.push(d)}catch(c){console.warn(`❌ Error configurando ${o}:`,c)}}),setTimeout(()=>{i||(console.error("❌ No se encontraron usuarios en ninguna colección"),t&&t(new Error("No se encontraron colecciones de usuarios con datos")))},3e3),()=>{n.forEach(o=>{try{o()}catch(c){console.warn("Error unsubscribing:",c)}})}}catch(r){return console.error("Error setting up multi-collection users subscription:",r),t&&t(new Error(`Error al configurar suscripción multi-colección: ${r instanceof Error?r.message:"Error desconocido"}`)),()=>{}}},Uct=(e,t)=>{try{console.log("Setting up users subscription...");const r=wt(Lr,"users"),n=zt(r);return br(n,s=>{console.log(`Raw users snapshot size: ${s.size}`);const i=[];s.forEach(d=>{var f,h,p,g;try{const x=d.data();console.log(`Processing user doc ${d.id}:`,x);const v=x.email||x.userEmail||x.mail||"",y=x.nombreCompleto||x.displayName||x.name||x.nombre||"",w=x.curso||x.course||x.class||"";let E=x.profile||x.role||x.tipo||Yt.ESTUDIANTE;if(typeof E=="string"){const B=E.toLowerCase();B.includes("estudiante")||B.includes("student")||B.includes("alumno")?E=Yt.ESTUDIANTE:B.includes("coordinador")||B.includes("coordinator")?E=Yt.COORDINADOR_TP:B.includes("profesor")||B.includes("teacher")||B.includes("docente")?E=Yt.PROFESOR:(B.includes("subdireccion")||B.includes("subdir"))&&(E=Yt.COORDINADOR_TP)}const k={id:d.id,email:v,nombreCompleto:y,curso:w,profile:E,activo:x.activo!==!1,fechaCreacion:((h=(f=x.fechaCreacion)==null?void 0:f.toDate)==null?void 0:h.call(f))||new Date(x.fechaCreacion)||new Date,ultimaActividad:((g=(p=x.ultimaActividad)==null?void 0:p.toDate)==null?void 0:g.call(p))||new Date(x.ultimaActividad)||new Date,...x};i.push(k)}catch(x){console.warn(`Error processing user document ${d.id}:`,x)}}),i.sort((d,f)=>d.nombreCompleto.localeCompare(f.nombreCompleto)),console.log(`Processed ${i.length} users successfully`);const o=i.reduce((d,f)=>(d[f.profile]=(d[f.profile]||0)+1,d),{});console.log("Users by profile:",o);const c=i.filter(d=>d.profile===Yt.ESTUDIANTE);console.log(`Estudiantes: ${c.length}`);const u=c.filter(d=>d.curso);console.log(`Estudiantes con curso: ${u.length}`),e(i)},s=>{console.error("Error in subscribeToAllUsers:",s),t&&t(new Error(`Error al cargar usuarios: ${s.message}`))})}catch(r){return console.error("Error setting up subscribeToAllUsers:",r),t&&t(new Error(`Error al configurar suscripción de usuarios: ${r instanceof Error?r.message:"Error desconocido"}`)),()=>{}}},p5=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},Qct=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),Hct=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H9.5l3.5 3.5L11.59 18 6 12.41 11.59 7 13 8.41 9.5 11H17v2z"})}),$ct=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,s]=S.useState(!0),[i,o]=S.useState(null),[c,u]=S.useState(new Date),[d,f]=S.useState("todos"),[h,p]=S.useState("");S.useEffect(()=>{s(!0),o(null);const j=c.getFullYear(),C=c.getMonth();console.log("=== INICIANDO CARGA DE DATOS ==="),console.log("Año:",j,"Mes:",C);let N=!1,I=!1;const L=()=>{N&&I&&(console.log("=== CARGA COMPLETA ==="),s(!1))};(async()=>{console.log("🧪 INICIANDO PRUEBA DIRECTA SIMPLE...");try{const T=wt(Lr,"asistencia_dual"),P=zt(T,ff(5)),R=await qn(P);if(console.log(`✅ asistencia_dual - Documentos encontrados: ${R.size}`),R.size>0)R.docs.forEach((q,Q)=>{const G=q.data();console.log(`   ${Q+1}. ${q.id.slice(0,8)} - ${G.emailEstudiante} - ${G.tipo}`),console.log("      Fecha original:",G.fechaHora),console.log("      Todos los campos:",Object.keys(G))});else{console.log("❌ No se encontraron documentos en asistencia_dual");const q=["asistenciaEmpresa","asistencia_empresa"];for(const Q of q)try{const G=wt(Lr,Q),K=zt(G,ff(3)),z=await qn(K);if(console.log(`📋 ${Q}: ${z.size} documentos`),z.size>0){const Y=z.docs[0].data();console.log("   Estructura:",Object.keys(Y)),console.log("   Email:",Y.emailEstudiante||Y.email),console.log("   Fecha:",Y.fechaHora||Y.fecha)}}catch(G){console.log(`❌ ${Q}: ${G instanceof Error?G.message:"Error"}`)}}}catch(T){console.error("❌ Error en prueba directa:",T),T.code==="permission-denied"?(console.log("🔒 PROBLEMA: Permisos de Firestore denegados"),console.log("💡 Ve a Firebase Console → Firestore → Rules y verifica los permisos")):T.code==="failed-precondition"&&(console.log("📊 PROBLEMA: Faltan índices en Firestore"),console.log("💡 Ve a Firebase Console → Firestore → Indexes"))}})(),Rct(j,C).then(T=>{console.log("🔍 Debug info for collections:",T),Object.entries(T).forEach(([P,R])=>{if(R.exists&&R.totalDocs>0){if(console.log(`
📋 COLECCIÓN ${P.toUpperCase()}:`),console.log(`   📊 Total documentos: ${R.totalDocs}`),console.log(`   📅 Documentos del período: ${R.count}`),console.log(`   🔑 Campo de fecha: ${R.hasDateField}`),R.sampleDoc){console.log("   📄 Documento ejemplo:",R.sampleDoc);const q=R.sampleDoc,Q=q.emailEstudiante||q.email||q.userEmail||q.correo||"NO ENCONTRADO",G=q.tipo||q.type||q.action||q.tipoRegistro||"NO ENCONTRADO",K=q.fechaHora||q.fecha||q.timestamp||q.createdAt||"NO ENCONTRADO";console.log(`   📧 Email estudiante: ${Q}`),console.log(`   📝 Tipo registro: ${G}`),console.log(`   📅 Fecha: ${K}`),console.log("   🗂️ Todos los campos:",Object.keys(q))}R.filteredDocs&&R.filteredDocs.length>0&&(console.log("   📋 Registros del período encontrados:",R.filteredDocs.length),R.filteredDocs.forEach((q,Q)=>{Q<3&&console.log(`      ${Q+1}. ID: ${q.id}`,q.data)}))}else R.exists?console.log(`⚪ Colección ${P}: vacía`):console.log(`❌ Colección ${P}: no existe`)})}).catch(T=>{console.error("Debug error:",T)}),Pct().then(T=>{console.log("🔍 Debug info for users:",T),(!T.exists||T.totalDocs===0)&&(console.log('⚠️ Colección "users" vacía o no existe. Buscando alternativas...'),["usuarios","estudiantes","profiles","accounts","members"].forEach(async R=>{var q;try{const Q=wt(Lr,R),G=zt(Q,ff(5)),K=await qn(G);K.size>0?(console.log(`✅ Encontrada colección alternativa: ${R} con ${K.size} documentos`),console.log("Documento muestra:",(q=K.docs[0])==null?void 0:q.data())):console.log(`❌ Colección ${R}: vacía`)}catch{console.log(`❌ Colección ${R}: no existe`)}}))}).catch(T=>{console.error("Users debug error:",T)});try{console.log("Configurando suscripción a asistencia...");const T=Lct(j,C,R=>{if(console.log("✅ Received registros:",R.length),R.length>0){console.log("📋 ANÁLISIS DE REGISTROS RECIBIDOS:"),console.log("Sample registro:",R[0]);const q=[...new Set(R.map(ee=>ee.emailEstudiante).filter(Boolean))];console.log("📧 Emails de estudiantes en registros:",q);const Q=[...new Set(R.map(ee=>ee.tipo).filter(Boolean))];console.log("📝 Tipos de registro encontrados:",Q);const G=R.reduce((ee,M)=>{const H=new Date(M.fechaHora).getDate();return ee[H]||(ee[H]=[]),ee[H].push(M),ee},{});console.log("📅 Registros por día del mes:",Object.keys(G).map(ee=>({dia:parseInt(ee),cantidad:G[parseInt(ee)].length})));const K=r.map(ee=>ee.email).filter(Boolean);console.log("👥 Emails de estudiantes cargados:",K);const z=q.filter(ee=>K.includes(ee)),Y=q.filter(ee=>!K.includes(ee));console.log("✅ Emails que coinciden:",z),console.log("❌ Emails que NO coinciden:",Y)}else console.log("⚠️ No se encontraron registros de asistencia para el período");t(R),N=!0,L()},R=>{console.error("❌ Error fetching asistencia:",R),o("Error al cargar datos de asistencia: "+R.message),N=!0,L()});console.log("Configurando suscripción a usuarios...");const P=Mct(R=>{if(console.log("✅ Received users (multi-collection):",R.length),R.length>0){console.log("Sample user:",R[0]);const q=R.filter(Q=>Q.profile===Yt.ESTUDIANTE&&Q.curso);console.log("Dual students found:",q.length),q.forEach(Q=>{console.log(`- ${Q.nombreCompleto} (${Q.curso}) - ${Q.email}`)})}n(R),I=!0,L()},R=>{console.error("❌ Error fetching users (multi-collection):",R),console.log("🔄 Intentando con función original de usuarios...");const q=Uct(Q=>{console.log("✅ Received users (fallback):",Q.length),n(Q),I=!0,L()},Q=>{console.error("❌ Error en fallback también:",Q),o("Error al cargar estudiantes: "+R.message),I=!0,L()})});return()=>{console.log("Limpiando suscripciones..."),T&&T(),P&&P()}}catch(T){console.error("❌ Error setting up subscriptions:",T),o("Error al inicializar conexiones: "+(T instanceof Error?T.message:"Error desconocido")),s(!1)}},[c]);const{monthDays:g,monthName:x,year:v}=S.useMemo(()=>{const j=c.getFullYear(),C=c.getMonth();return{monthDays:new Date(j,C+1,0).getDate(),monthName:c.toLocaleString("es-CL",{month:"long"}),year:j}},[c]),y=S.useMemo(()=>{let j=r.filter(C=>C.profile===Yt.ESTUDIANTE&&C.curso&&Wg.includes(p5(C.curso)));if(d!=="todos"&&(j=j.filter(C=>p5(C.curso||"")===d)),h&&(j=j.filter(C=>C.nombreCompleto.toLowerCase().includes(h.toLowerCase()))),e.length>0){const C=[...new Set(e.map(L=>L.emailEstudiante).filter(Boolean))],N=j.map(L=>L.email),I=C.filter(L=>!N.includes(L));if(I.length>0){console.log("📝 Agregando estudiantes faltantes con registros:",I);const O=I.map(T=>{const P=e.find(R=>R.emailEstudiante===T);return{id:T,email:T,nombreCompleto:(P==null?void 0:P.nombreEstudiante)||T.split("@")[0],curso:(P==null?void 0:P.curso)||"3ºC",profile:Yt.ESTUDIANTE,activo:!0,fechaCreacion:new Date,ultimaActividad:new Date}}).filter(T=>{const P=d==="todos"||p5(T.curso)===d,R=!h||T.nombreCompleto.toLowerCase().includes(h.toLowerCase());return P&&R&&Wg.includes(p5(T.curso))});j=[...j,...O]}}return console.log(`👥 Estudiantes filtrados para mostrar: ${j.length}`),j.forEach(C=>{console.log(`   - ${C.nombreCompleto} (${C.curso}) - ${C.email}`)}),j.sort((C,N)=>C.nombreCompleto.localeCompare(N.nombreCompleto))},[r,d,h,e]),w=S.useMemo(()=>{console.log("🔄 Procesando datos de asistencia para la tabla..."),console.log(`📊 Total registros a procesar: ${e.length}`),console.log(`👥 Estudiantes disponibles: ${y.length}`);const j=new Map;return e.length===0?(console.log("⚠️ No hay registros para procesar aún"),j):(e.forEach((C,N)=>{const I=C.emailEstudiante;if(!I)return;let L;if(C.fechaHora instanceof Date)L=C.fechaHora;else if(C.fechaHora&&typeof C.fechaHora=="object"&&"toDate"in C.fechaHora)L=C.fechaHora.toDate();else if(typeof C.fechaHora=="string")L=new Date(C.fechaHora);else{console.warn("Fecha no válida en registro:",C);return}const O=L.getDate(),T=L.getMonth(),P=L.getFullYear();N<3&&console.log(`📅 Registro ${N+1}:`,{email:I,tipo:C.tipo,fechaOriginal:C.fechaHora,fechaProcesada:L.toLocaleString(),año:P,mes:T,día:O}),j.has(I)||j.set(I,new Map);const R=j.get(I);R.has(O)||R.set(O,{});const q=R.get(O);C.tipo==="Entrada"?(!q.entrada||L<new Date(q.entrada.fechaHora))&&(q.entrada=C):C.tipo==="Salida"&&(!q.salida||L>new Date(q.salida.fechaHora))&&(q.salida=C)}),console.log("📋 Datos de asistencia procesados:",{estudiantesConRegistros:j.size,estudiantes:Array.from(j.keys()),registrosPorEstudiante:Array.from(j.entries()).map(([C,N])=>({email:C,dias:Array.from(N.keys()),totalRegistros:Array.from(N.values()).reduce((I,L)=>I+(L.entrada?1:0)+(L.salida?1:0),0)}))}),j)},[e]),E=j=>{u(C=>{const N=new Date(C);return N.setMonth(N.getMonth()+j),N})},k=j=>{j!=null&&j.latitud&&(j!=null&&j.longitud)&&window.open(`https://www.google.com/maps?q=${j.latitud},${j.longitud}`,"_blank")},B=["D","L","M","M","J","V","S"];return i?l.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:l.jsx("div",{className:"text-red-600 bg-red-100 dark:bg-red-900/30 p-4 rounded-md",children:i})}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6 animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Asistencia Dual Mensual"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[l.jsx("button",{onClick:()=>E(-1),disabled:a,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Mes anterior",children:"←"}),l.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 capitalize w-48 text-center",children:`${x} ${v}`}),l.jsx("button",{onClick:()=>E(1),disabled:a,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Mes siguiente",children:"→"})]}),l.jsxs("select",{value:d,onChange:j=>f(j.target.value),disabled:a,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 disabled:opacity-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"todos",children:"Todos los Cursos"}),Wg.map(j=>l.jsx("option",{value:j,children:j},j))]}),l.jsx("input",{type:"text",placeholder:"Buscar estudiante...",value:h,onChange:j=>p(j.target.value),disabled:a,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600 disabled:opacity-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a?l.jsxs("div",{className:"text-center text-amber-600 py-10",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mb-4"}),l.jsx("div",{children:"Cargando datos de asistencia..."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full border-collapse border border-slate-200 dark:border-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"sticky left-0 bg-slate-100 dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-semibold w-48",children:"Estudiante"}),Array.from({length:g},(j,C)=>{const I=new Date(v,c.getMonth(),C+1).getDay(),L=I===0||I===6;return l.jsxs("th",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-xs w-16 ${L?"bg-slate-100 dark:bg-slate-700/50":""}`,children:[l.jsx("div",{className:"font-semibold",children:B[I]}),l.jsx("div",{children:C+1})]},C)})]})}),l.jsx("tbody",{children:y.length>0?y.map(j=>l.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[l.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-800 z-10 p-2 border-r border-b border-slate-200 dark:border-slate-600 text-sm font-medium whitespace-nowrap",children:j.nombreCompleto}),Array.from({length:g},(C,N)=>{var P;const I=N+1,L=(P=w.get(j.email))==null?void 0:P.get(I),O=new Date(v,c.getMonth(),N+1),T=O.getDay()===0||O.getDay()===6;return j.email==="alexis.robles@industrialderecoleta.cl"&&I===2&&console.log("🔍 Verificando día 2 para Alexis:",{email:j.email,day:I,hasDataForStudent:w.has(j.email),studentDayRecords:L,allAttendanceKeys:Array.from(w.keys()),daysForStudent:w.get(j.email)?Array.from(w.get(j.email).keys()):[]}),l.jsx("td",{className:`p-1 border-r border-b border-slate-200 dark:border-slate-600 text-center align-middle ${T?"bg-slate-100 dark:bg-slate-700/50":""}`,children:l.jsxs("div",{className:"flex justify-center items-center gap-1.5 h-full",children:[(L==null?void 0:L.entrada)&&l.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var R;return k((R=L.entrada)==null?void 0:R.ubicacion)},children:[l.jsx(Qct,{}),l.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(L.entrada.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),(L==null?void 0:L.salida)&&l.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>{var R;return k((R=L.salida)==null?void 0:R.ubicacion)},children:[l.jsx(Hct,{}),l.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20",children:new Date(L.salida.fechaHora).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]})]})},I)})]},j.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:g+1,className:"text-center p-8 text-slate-500",children:"No hay estudiantes en el curso seleccionado o que coincidan con la búsqueda."})})})]})})]})},xj="evaluaciones_formativas",vj="calificaciones_formativas",I9="trabajos_grupales_formativos",Vct="usuarios",F9=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fecha:((n=(r=t.fecha)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString().split("T")[0])||t.fecha,fechaPresentacion:((s=(a=t.fechaPresentacion)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.fechaPresentacion}},zct=(e,t,r)=>{const n=zt(wt(mt,xj),Gr("curso","==",e),Gr("asignatura","==",t),wr("fecha","asc"));return br(n,a=>{r(a.docs.map(s=>F9(s)))},a=>{console.error("Error al suscribirse a evaluaciones:",a),r([])})},Gct=async(e,t)=>{const r=Qx(mt),n=dr(wt(mt,xj));r.set(n,{...e,fecha:lr.fromDate(new Date(e.fecha+"T00:00:00"))});const a=dr(mt,vj,n.id);return r.set(a,t),await r.commit(),n.id},Kct=async(e,t)=>{const r=dr(mt,xj,e);await Gi(r,t,{merge:!0})},qct=async e=>{const t=Qx(mt);t.delete(dr(mt,xj,e)),t.delete(dr(mt,vj,e)),await t.commit()},Wct=(e,t)=>{if(e.length===0)return t({}),()=>{};const r=e.map(n=>{const a=dr(mt,vj,n);return br(a,s=>{s.exists()&&t({[n]:s.data()})})});return()=>r.forEach(n=>n())},Xct=async(e,t)=>{const r=dr(mt,vj,e);await Gi(r,t,{merge:!0})},Yct=(e,t,r)=>{const n=zt(wt(mt,I9),Gr("curso","==",e),Gr("asignatura","==",t),wr("fechaPresentacion","desc"));return br(n,a=>{r(a.docs.map(s=>F9(s)))},a=>{console.error("Error al suscribirse a trabajos grupales:",a),r([])})},Jct=async e=>{const t={...e,fechaPresentacion:lr.fromDate(new Date(e.fechaPresentacion+"T00:00:00"))};await Bn(wt(mt,I9),t)},Zct=async(e,t)=>{const r=dr(mt,I9,e);await Gi(r,t,{merge:!0})},eut=e=>{const t=zt(wt(mt,Vct));return br(t,r=>{e(r.docs.map(n=>F9(n)))},r=>{console.error("Error al suscribirse a usuarios:",r),e([])})},Ehe=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},T1={"Lengua y Literatura":"📚",Matemática:"➗",Inglés:"🇬🇧",Filosofía:"🤔","Historia y Geografía":"🌍","Educación Ciudadana":"🏛️",Ciencias:"🔬","Ciencias para la Ciudadanía":"💡",Artes:"🎨",Música:"🎵","Educación Física":"🏃‍♂️",Orientación:"🧭","Mecánica Industrial":"⚙️","Mecánica Automotriz":"🚗",Emprendimiento:"💼",Tecnología:"💻","Pensamiento Lógico":"🧠","Competencia Lectora":"📖",Default:"✏️"},She=e=>e.startsWith("1º")?{bg:"bg-blue-500",text:"text-white",border:"border-blue-700",spine:"bg-blue-800"}:e.startsWith("2º")?{bg:"bg-green-500",text:"text-white",border:"border-green-700",spine:"bg-green-800"}:e.startsWith("3º")?{bg:"bg-yellow-400",text:"text-yellow-900",border:"border-yellow-600",spine:"bg-yellow-700"}:e.startsWith("4º")?{bg:"bg-red-500",text:"text-white",border:"border-red-700",spine:"bg-red-800"}:{bg:"bg-slate-500",text:"text-white",border:"border-slate-700",spine:"bg-slate-800"},tut=({cursos:e,onSelect:t})=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione un Libro de Clases"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Cada libro representa un curso y contiene sus evaluaciones formativas."}),e.length>0?l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:e.map(r=>{const n=She(r);return l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsxs("button",{onClick:()=>t(r),className:`relative w-full h-48 rounded-md shadow-lg ${n.bg} ${n.border} border-b-4 transform hover:-translate-y-2 transition-transform duration-300 group`,children:[l.jsx("div",{className:`absolute top-0 left-0 w-6 h-full ${n.spine} rounded-l-md`}),l.jsxs("div",{className:`flex flex-col items-center justify-center h-full p-2 ${n.text}`,children:[l.jsx("span",{className:"font-bold text-2xl drop-shadow-sm",children:r.slice(0,2)}),l.jsx("span",{className:"font-black text-5xl drop-shadow-md",children:r.slice(2)})]})]}),l.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:r})]},r)})}):l.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[l.jsx("p",{className:"text-slate-500",children:"No tiene cursos asignados."}),l.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador para que le asigne cursos a su perfil."})]})]}),rut=({curso:e,asignaturas:t,onSelect:r,onBack:n})=>{const a=She(e);return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800 dark:hover:text-slate-200",children:"← Volver a Cursos"}),l.jsxs("div",{className:`p-2 rounded-md ${a.bg} ${a.text} font-bold`,children:["Libro de Clases: ",e]})]}),l.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Seleccione una Asignatura"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Elija la asignatura para ver o agregar calificaciones."}),t.length>0?l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map(s=>l.jsxs("button",{onClick:()=>r(s),className:"flex items-center gap-3 p-4 rounded-lg bg-slate-100 hover:bg-amber-100 dark:bg-slate-700 dark:hover:bg-amber-900/50 transition-colors",children:[l.jsx("span",{className:"text-2xl",children:T1[s]||T1.Default}),l.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200 text-left",children:s})]},s))}):l.jsxs("div",{className:"text-center py-10 bg-slate-100 rounded-lg",children:[l.jsx("p",{className:"text-slate-500",children:"No tiene asignaturas asignadas."}),l.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contacte a un administrador."})]})]})},nut=({curso:e,asignatura:t,allUsers:r,onBack:n})=>{const[a,s]=S.useState([]),[i,o]=S.useState({}),[c,u]=S.useState({fecha:new Date().toISOString().split("T")[0],nombreActividad:""}),[d,f]=S.useState(null),[h,p]=S.useState(null),[g,x]=S.useState(!0),v=S.useMemo(()=>r.filter(N=>N.profile===Yt.ESTUDIANTE&&Ehe(N.curso||"")===e).map(N=>N.nombreCompleto).sort((N,I)=>N.localeCompare(I)),[r,e]);S.useEffect(()=>{x(!0);const N=zct(e,t,I=>{s(I);const L=I.map(T=>T.id),O=Wct(L,T=>{o(P=>({...P,...T}))});return x(!1),()=>O()});return()=>N()},[e,t]);const y=N=>{const{name:I,value:L}=N.target;d?f(O=>O?{...O,[I]:L}:null):u(O=>({...O,[I]:L}))},w=async N=>{if(N.preventDefault(),p(null),!c.nombreActividad.trim()){p("El nombre de la actividad es obligatorio.");return}const I={asignatura:t,curso:e,...c},L=v.reduce((O,T)=>(O[T]="trabajado",O),{});try{await Gct(I,L),u({fecha:new Date().toISOString().split("T")[0],nombreActividad:""})}catch(O){console.error(O),p("No se pudo crear la evaluación.")}},E=(N,I)=>{var P;const L=((P=i[N])==null?void 0:P[I])||"trabajado";let O;L==="trabajado"?O="no trabajado":L==="no trabajado"?O="ausente":O="trabajado";const T={...i,[N]:{...i[N]||{},[I]:O}};o(T),Xct(N,{[I]:O}).catch(R=>{console.error("Error updating grade:",R)})},k=N=>f(N),B=async()=>{if(d)try{await Kct(d.id,{nombreActividad:d.nombreActividad,fecha:d.fecha}),f(null)}catch(N){console.error(N),p("No se pudo guardar la edición.")}},j=async N=>{if(window.confirm("¿Eliminar esta evaluación y todas sus calificaciones?"))try{await qct(N)}catch(I){console.error(I),p("No se pudo eliminar la evaluación.")}},C=S.useCallback(N=>{if(a.length===0)return"-";let I=0,L=0;return a.forEach(O=>{var P;const T=(P=i[O.id])==null?void 0:P[N];T==="trabajado"?(I+=7,L++):T==="no trabajado"&&(I+=2,L++)}),L===0?"-":(I/L).toFixed(1)},[i,a]);return g?l.jsx("div",{className:"text-center py-10",children:"Cargando calificaciones..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800",children:"← Volver a Asignaturas"}),l.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[e," / ",t]})]}),l.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[l.jsx("h3",{className:"text-lg font-semibold col-span-full text-slate-700 dark:text-slate-200",children:"Crear Nueva Evaluación"}),l.jsxs("div",{className:"w-full",children:[l.jsx("label",{htmlFor:"nombreActividad",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre Actividad"}),l.jsx("input",{id:"nombreActividad",type:"text",name:"nombreActividad",value:c.nombreActividad,onChange:y,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{className:"w-full",children:[l.jsx("label",{htmlFor:"fecha",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Fecha"}),l.jsx("input",{id:"fecha",type:"date",name:"fecha",value:c.fecha,onChange:y,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),l.jsx("div",{className:"w-full",children:l.jsx("button",{type:"submit",className:"w-full bg-slate-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 h-10",children:"Crear"})}),h&&l.jsx("p",{className:"text-red-500 text-sm col-span-full",children:h})]}),l.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"sticky left-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-48",children:"Estudiante"}),a.map(N=>l.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase w-36",children:(d==null?void 0:d.id)===N.id?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("input",{type:"text",name:"nombreActividad",value:d.nombreActividad,onChange:y,className:"text-xs p-1 w-full dark:bg-slate-600"}),l.jsx("input",{type:"date",name:"fecha",value:d.fecha,onChange:y,className:"text-xs p-1 w-full dark:bg-slate-600"}),l.jsx("button",{onClick:B,className:"text-xs bg-green-200 text-green-800 rounded px-1",children:"✓"})]}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"font-semibold",children:N.nombreActividad}),l.jsx("span",{className:"font-normal text-slate-500",children:N.fecha}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{onClick:()=>k(N),className:"text-blue-500 hover:text-blue-700",children:"✏️"}),l.jsx("button",{onClick:()=>j(N.id),className:"text-red-500 hover:text-red-700",children:"🗑️"})]})]})},N.id)),l.jsx("th",{scope:"col",className:"sticky right-0 bg-slate-100 dark:bg-slate-800 px-4 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300 uppercase z-10 w-24",children:"Promedio"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-700",children:v.map(N=>l.jsxs("tr",{children:[l.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-medium text-slate-800 dark:text-slate-200 w-48",children:N}),a.map(I=>{var T;const L=(T=i[I.id])==null?void 0:T[N];let O;return L==="trabajado"?O=T1[t]||T1.Default:L==="no trabajado"?O="❌":L==="ausente"?O="A":O=T1[t]||T1.Default,l.jsx("td",{className:"px-2 py-1 whitespace-nowrap w-36 text-center",children:l.jsx("button",{onClick:()=>E(I.id,N),className:`text-3xl transition-opacity duration-200 ${L==="trabajado"?"opacity-100":L==="no trabajado"?"opacity-40":L==="ausente"?"opacity-100 text-red-500 font-bold":"opacity-100"}`,children:O})},I.id)}),l.jsx("td",{className:"sticky right-0 bg-white dark:bg-slate-900 px-4 py-2 whitespace-nowrap text-sm font-bold text-slate-800 dark:text-slate-200 w-24 text-center",children:C(N)})]},N))})]})})]})},aut=({curso:e,asignatura:t,allUsers:r,onBack:n})=>{const[a,s]=S.useState([]),[i,o]=S.useState(null),[c,u]=S.useState({nombre:"",fecha:new Date().toISOString().split("T")[0]}),[d,f]=S.useState({}),[h,p]=S.useState(2),g=S.useMemo(()=>r.filter(k=>k.profile===Yt.ESTUDIANTE&&Ehe(k.curso||"")===e).sort((k,B)=>k.nombreCompleto.localeCompare(B.nombreCompleto)),[r,e]);S.useEffect(()=>{const k=Yct(e,t,s);return()=>k()},[e,t]),S.useEffect(()=>{if(i){const k={};i.grupos.forEach(B=>{B.integrantes.forEach(j=>{k[j.nombre]={groupNumber:String(B.numero),role:j.rol||""}})}),f(k)}else f({})},[i]);const x=async k=>{if(k.preventDefault(),!c.nombre.trim())return;const B={curso:e,asignatura:t,nombreActividad:c.nombre,fechaPresentacion:c.fecha,grupos:[]};try{await Jct(B),u({nombre:"",fecha:new Date().toISOString().split("T")[0]})}catch(j){console.error(j),alert("No se pudo crear la actividad grupal.")}},v=async()=>{if(!i)return;const k=new Map;for(const j of g){const C=d[j.nombreCompleto];if(C&&C.groupNumber){const N=parseInt(C.groupNumber,10);isNaN(N)||(k.has(N)||k.set(N,[]),k.get(N).push({nombre:j.nombreCompleto,rol:C.role||""}))}}const B=Array.from(k.entries()).map(([j,C])=>({numero:j,integrantes:C})).sort((j,C)=>j.numero-C.numero);try{await Zct(i.id,{grupos:B}),alert("Grupos guardados con éxito.")}catch(j){console.error(j),alert("No se pudieron guardar los grupos.")}},y=()=>{if(h<2){alert("Debe haber al menos 2 grupos.");return}const k=[...g].sort(()=>Math.random()-.5),B={};k.forEach((j,C)=>{var N;B[j.nombreCompleto]={groupNumber:String(C%h+1),role:((N=d[j.nombreCompleto])==null?void 0:N.role)||""}}),f(B)},w=(k,B,j)=>{f(C=>({...C,[k]:{...C[k]||{groupNumber:"",role:""},[B]:j}}))},E=S.useMemo(()=>{const k=new Map;return Object.entries(d).forEach(([B,j])=>{j.groupNumber&&(k.has(j.groupNumber)||k.set(j.groupNumber,[]),k.get(j.groupNumber).push({nombre:B,rol:j.role}))}),Array.from(k.entries()).sort((B,j)=>parseInt(B[0])-parseInt(j[0]))},[d]);return i?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("button",{onClick:()=>o(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:"← Volver a Actividades"}),l.jsx("h2",{className:"text-2xl font-bold",children:i.nombreActividad})]}),l.jsx("button",{onClick:v,className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Guardar Grupos"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"md:col-span-1 space-y-4",children:[l.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Auto-asignación"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",value:h,onChange:k=>p(parseInt(k.target.value,10)),min:"2",className:"w-20 border-slate-300 rounded"}),l.jsx("button",{onClick:y,className:"flex-1 bg-slate-200 font-semibold py-2 px-3 rounded",children:"Asignar"})]})]}),l.jsxs("div",{className:"p-4 border rounded-lg h-[60vh] overflow-y-auto",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Nómina del Curso"}),l.jsx("table",{className:"w-full text-sm",children:l.jsx("tbody",{children:g.map(k=>{var B;return l.jsxs("tr",{children:[l.jsx("td",{className:"py-1 pr-2",children:k.nombreCompleto}),l.jsx("td",{className:"py-1",children:l.jsx("input",{type:"number",value:((B=d[k.nombreCompleto])==null?void 0:B.groupNumber)||"",onChange:j=>w(k.nombreCompleto,"groupNumber",j.target.value),className:"w-16 p-1 border rounded text-center",placeholder:"N°"})})]},k.id)})})})]})]}),l.jsxs("div",{className:"md:col-span-2 p-4 border rounded-lg h-[70vh] overflow-y-auto",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Grupos Formados"}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:E.map(([k,B])=>l.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[l.jsxs("h4",{className:"font-bold border-b pb-1 mb-2",children:["Grupo ",k]}),l.jsx("ul",{className:"space-y-2",children:B.map(j=>l.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"flex-1 truncate",children:j.nombre}),l.jsxs("select",{value:j.rol||"",onChange:C=>w(j.nombre,"role",C.target.value),className:"p-1 border rounded text-xs w-32",children:[l.jsx("option",{value:"",children:"-- Asignar Rol --"}),pse.map(C=>l.jsx("option",{value:C,children:C},C))]})]},j.nombre))})]},k))})]})]})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-800",children:"← Volver a Asignaturas"}),l.jsxs("div",{className:"bg-slate-100 p-2 rounded-md font-bold text-slate-800",children:[e," / ",t]})]}),l.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Crear Actividad Grupal"}),l.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[l.jsx("input",{value:c.nombre,onChange:k=>u({...c,nombre:k.target.value}),placeholder:"Nombre de la actividad",className:"w-full border-slate-300 rounded-md",required:!0}),l.jsx("input",{type:"date",value:c.fecha,onChange:k=>u({...c,fecha:k.target.value}),className:"w-full border-slate-300 rounded-md",required:!0}),l.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-4 rounded-lg",children:"Crear"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Actividades Creadas"}),a.map(k=>l.jsxs("button",{onClick:()=>o(k),className:"w-full text-left p-3 bg-white dark:bg-slate-700 hover:bg-slate-100 rounded-md border",children:[l.jsx("p",{className:"font-bold",children:k.nombreActividad}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Fecha: ",k.fechaPresentacion]})]},k.id))]})]})},sut=({currentUser:e})=>{const[t,r]=S.useState("calificaciones"),[n,a]=S.useState(null),[s,i]=S.useState(null),[o,c]=S.useState([]),[u,d]=S.useState(!0);S.useEffect(()=>{d(!0);const x=eut(v=>{c(v),d(!1)});return()=>x()},[]);const f=S.useMemo(()=>e.cursos||[],[e.cursos]),h=S.useMemo(()=>e.asignaturas||[],[e.asignaturas]),p=({tab:x,label:v})=>l.jsx("button",{onClick:()=>r(x),className:`${t===x?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors focus:outline-none`,children:v}),g=()=>{if(u)return l.jsx("div",{className:"text-center py-10",children:"Cargando datos de usuario..."});if(!n)return l.jsx(tut,{cursos:f,onSelect:a});if(!s)return l.jsx(rut,{curso:n,asignaturas:h,onSelect:i,onBack:()=>a(null)});if(t==="calificaciones")return l.jsx(nut,{curso:n,asignatura:s,allUsers:o,onBack:()=>i(null)});if(t==="grupos")return l.jsx(aut,{curso:n,asignatura:s,allUsers:o,onBack:()=>i(null)})};return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Evaluaciones Formativas"}),l.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:l.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[l.jsx(p,{tab:"calificaciones",label:"Calificaciones"}),l.jsx(p,{tab:"grupos",label:"Trabajos Grupales"})]})}),l.jsx("div",{className:"mt-6",children:g()})]})};function iut(e){return e.map(t=>{const[r,n]=t.minuto.split("-").map(Number),a=t.accionesEstudiantes.length>0?t.accionesEstudiantes.split(" ").length/(n-r):0;return{minuto:r,participacion:Math.min(100,a*10)}})}function out(e){const t=new Map,r={preguntas_abiertas:/(?:pregunt[aó]|cu[áa]l|qu[ée]|c[óo]mo|por qu[ée]|explica)/gi,interrogacion_sucesiva:/(?:entonces|y luego|qu[ée] m[áa]s|profundiza|explica mejor)/gi,ejemplos_contextualizados:/(?:ejemplo|caso|situaci[óo]n|contexto real|en la vida)/gi,feedback_inmediato:/(?:bien|correcto|exacto|muy bien|as[íi] es|mejorar[íi]a)/gi};for(const[n,a]of Object.entries(r)){const s=e.match(a);t.set(n,s?s.length:0)}return t}async function lut(e,t){var i;const r={stats:{docenteId:e.docenteInfo||"",curso:e.cursoInfo||"",asignatura:e.asignaturaInfo||"",conteo_observaciones:1,uso_preguntas_abiertas_pct:0,uso_interrogacion_sucesiva_pct:0,uso_ejemplos_contextualizados_pct:0,feedback_inmediato_pct:0,min_interaccion:0,min_explicacion:0,participacion_promedio:0},charts:{participacion_por_minuto:[],estrategias_frecuencia:[],indicadores_cumplimiento:[],nube_palabras:[]},summary:{fortalezas:[],mejoras:[],recomendaciones:[]},alerts:[],traza:{modelo:"gemini-2.5-flash-lite",version_prompt:"v1"}};if(e.detallesObservacion){r.charts.participacion_por_minuto=iut(e.detallesObservacion);let o=0,c=0;e.detallesObservacion.forEach(u=>{const[d,f]=u.minuto.split("-").map(Number),h=f-d;u.accionesEstudiantes.length>u.accionesDocente.length?o+=h:c+=h}),r.stats.min_interaccion=o,r.stats.min_explicacion=c}const n=new Map;let a=0;(i=e.detallesObservacion)==null||i.forEach(o=>{out(o.accionesDocente).forEach((u,d)=>{n.set(d,(n.get(d)||0)+u)}),a+=o.accionesDocente.length}),n.forEach((o,c)=>{const u=a>0?o/a*100:0;switch(r.charts.estrategias_frecuencia.push({estrategia:c,porcentaje:Math.round(u*100)/100,conteo:o}),c){case"preguntas_abiertas":r.stats.uso_preguntas_abiertas_pct=u;break;case"interrogacion_sucesiva":r.stats.uso_interrogacion_sucesiva_pct=u;break;case"ejemplos_contextualizados":r.stats.uso_ejemplos_contextualizados_pct=u;break;case"feedback_inmediato":r.stats.feedback_inmediato_pct=u;break}}),r.charts.participacion_por_minuto.length>0&&(r.stats.participacion_promedio=r.charts.participacion_por_minuto.reduce((o,c)=>o+c.participacion,0)/r.charts.participacion_por_minuto.length);const s=[...n.entries()].sort(([,o],[,c])=>c-o);return r.summary.fortalezas=s.slice(0,3).map(([o])=>{switch(o){case"preguntas_abiertas":return"Uso efectivo de preguntas abiertas para promover el pensamiento crítico";case"interrogacion_sucesiva":return"Buena secuencia de preguntas para profundizar la comprensión";case"ejemplos_contextualizados":return"Excelente uso de ejemplos contextualizados";case"feedback_inmediato":return"Retroalimentación inmediata y efectiva";default:return`Buen uso de ${o.replace(/_/g," ")}`}}),r.summary.mejoras=s.slice(-3).map(([o])=>{switch(o){case"preguntas_abiertas":return"Aumentar el uso de preguntas abiertas";case"interrogacion_sucesiva":return"Desarrollar más secuencias de preguntas";case"ejemplos_contextualizados":return"Incorporar más ejemplos contextualizados";case"feedback_inmediato":return"Proporcionar más retroalimentación inmediata";default:return`Incrementar el uso de ${o.replace(/_/g," ")}`}}),r.summary.recomendaciones=r.summary.mejoras.map(o=>o.includes("preguntas abiertas")?"Preparar 2-3 preguntas desafiantes por segmento de clase":o.includes("secuencias de preguntas")?'Implementar la técnica de "¿Por qué?" en cascada':o.includes("ejemplos contextualizados")?"Vincular cada concepto con situaciones de la vida real":"Establecer puntos de verificación cada 10-15 minutos"),r.stats.participacion_promedio<30&&r.alerts.push("Baja participación estudiantil detectada"),r.stats.min_explicacion>r.stats.min_interaccion*2&&r.alerts.push("Alto tiempo de explicación vs. interacción"),r}const cut=({acompanamientos:e,ciclosOPR:t,standaloneCiclos:r})=>{const[n,a]=S.useState(null),[s,i]=S.useState(null),[o,c]=S.useState(!1),u=e.length,d=Object.values(t).reduce((y,w)=>y+w.length,0)+r.length,f=[...Object.values(t).flat(),...r],h=new Set([...e.map(y=>y.docente),...f.map(y=>y.docenteInfo)]).size,p=f.reduce((y,w)=>{const E=new Date(w.fecha).toLocaleDateString("es-ES",{month:"long"});return y[E]=(y[E]||0)+1,y},{}),g=f.reduce((y,w)=>(w.asignaturaInfo&&(y[w.asignaturaInfo]=(y[w.asignaturaInfo]||0)+1),y),{}),x=Object.entries(g).sort(([,y],[,w])=>w-y).slice(0,5);f.reduce((y,w)=>{if(!w.horaInicio||!w.horaTermino)return y;const E=new Date("2000/01/01 "+w.horaInicio),B=(new Date("2000/01/01 "+w.horaTermino).getTime()-E.getTime())/(1e3*60);return y+B},0)/f.length;const v=f.filter(y=>{var w,E,k;return((w=y.retroalimentacion)==null?void 0:w.exito)&&((E=y.retroalimentacion)==null?void 0:E.modelo)&&((k=y.retroalimentacion)==null?void 0:k.foco)}).length;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/50 rounded-lg",children:l.jsx(hf,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Acompañamientos"}),l.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:u})]})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/50 rounded-lg",children:l.jsx(jg,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Ciclos OPR"}),l.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:d})]})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-lg",children:l.jsx(Ec,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Docentes Observados"}),l.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:h})]})]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/50 rounded-lg",children:l.jsx(mo,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Retroalimentación Completa"}),l.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:v})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border dark:border-slate-700",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white flex items-center gap-2",children:[l.jsx(hd,{className:"w-5 h-5 text-indigo-600"}),"Ciclos por Mes"]}),l.jsx("div",{className:"space-y-2",children:Object.entries(p).map(([y,w])=>l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 capitalize",children:y}),l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:w})]}),l.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-2 bg-indigo-600 dark:bg-indigo-500 rounded-full",style:{width:`${w/d*100}%`}})})]})},y))})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border dark:border-slate-700",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white flex items-center gap-2",children:[l.jsx(xC,{className:"w-5 h-5 text-purple-600"}),"Análisis Inteligente"]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Seleccionar Ciclo OPR para Análisis"}),l.jsxs("select",{className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",value:(s==null?void 0:s.id)||"",onChange:y=>{const w=f.find(E=>E.id===y.target.value);i(w||null)},children:[l.jsx("option",{value:"",children:"Seleccione un ciclo..."}),f.map(y=>l.jsxs("option",{value:y.id,children:[y.docenteInfo," - ",new Date(y.fecha).toLocaleDateString()]},y.id))]})]}),s&&!n&&l.jsx("button",{onClick:async()=>{c(!0);try{const y=f.filter(E=>E.docenteInfo===s.docenteInfo&&E.id!==s.id),w=await lut(s,y);a(w)}catch(y){console.error("Error al analizar ciclo:",y)}finally{c(!1)}},className:"w-full py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Analizando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(xC,{className:"w-4 h-4"}),"Analizar Ciclo"]})}),n&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-medium text-purple-700 dark:text-purple-300 mb-2",children:"Participación"}),l.jsxs("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:[n.stats.participacion_promedio.toFixed(1),"%"]})]}),l.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Interacción vs Explicación"}),l.jsxs("div",{className:"text-lg font-medium text-blue-900 dark:text-blue-100",children:[n.stats.min_interaccion,"min / ",n.stats.min_explicacion,"min"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium text-green-700 dark:text-green-300 mb-2 flex items-center gap-1",children:[l.jsx(mo,{className:"w-4 h-4"})," Fortalezas"]}),l.jsx("ul",{className:"space-y-2",children:n.summary.fortalezas.map((y,w)=>l.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),y]},w))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium text-amber-700 dark:text-amber-300 mb-2 flex items-center gap-1",children:[l.jsx(mb,{className:"w-4 h-4"})," Áreas de Mejora"]}),l.jsx("ul",{className:"space-y-2",children:n.summary.mejoras.map((y,w)=>l.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full"}),y]},w))})]})]}),n.alerts.length>0&&l.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[l.jsxs("h4",{className:"text-sm font-medium text-red-700 dark:text-red-300 mb-2 flex items-center gap-1",children:[l.jsx(Af,{className:"w-4 h-4"})," Alertas"]}),l.jsx("ul",{className:"space-y-2",children:n.alerts.map((y,w)=>l.jsxs("li",{className:"text-sm text-red-600 dark:text-red-300 flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),y]},w))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 mb-2 flex items-center gap-1",children:[l.jsx(x4,{className:"w-4 h-4"})," Recomendaciones"]}),l.jsx("ul",{className:"space-y-2",children:n.summary.recomendaciones.map((y,w)=>l.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),y]},w))})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border dark:border-slate-700",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white flex items-center gap-2",children:[l.jsx(yf,{className:"w-5 h-5 text-amber-600"}),"Asignaturas Más Observadas"]}),l.jsx("div",{className:"space-y-2",children:x.map(([y,w])=>l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:y}),l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:w})]}),l.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-2 bg-amber-600 dark:bg-amber-500 rounded-full",style:{width:`${w/Math.max(...Object.values(g))*100}%`}})})]})},y))})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border dark:border-slate-700",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white flex items-center gap-2",children:[l.jsx(x4,{className:"w-5 h-5 text-blue-600"}),"Últimos Ciclos OPR"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Docente"}),l.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Fecha"}),l.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Asignatura"}),l.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Estado"})]})}),l.jsx("tbody",{children:f.sort((y,w)=>new Date(w.fecha).getTime()-new Date(y.fecha).getTime()).slice(0,5).map(y=>{var w;return l.jsxs("tr",{className:"border-t dark:border-slate-700",children:[l.jsx("td",{className:"py-2 px-3 text-sm text-slate-900 dark:text-slate-300",children:y.docenteInfo}),l.jsx("td",{className:"py-2 px-3 text-sm text-slate-600 dark:text-slate-400",children:new Date(y.fecha).toLocaleDateString()}),l.jsx("td",{className:"py-2 px-3 text-sm text-slate-600 dark:text-slate-400",children:y.asignaturaInfo}),l.jsx("td",{className:"py-2 px-3",children:(w=y.retroalimentacion)!=null&&w.exito?l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded",children:[l.jsx(mo,{className:"w-3 h-3"})," Completado"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 rounded",children:[l.jsx(mb,{className:"w-3 h-3"})," En proceso"]})})]},y.id)})})]})})]})]})},_he=H8(),uS="acompanamientos",Nm="ciclos_opr",km=e=>{if(!e)return new Date().toISOString().split("T")[0];if(typeof e=="string")return e.includes("T")?e.split("T")[0]:e;if(typeof(e==null?void 0:e.toDate)=="function")return e.toDate().toISOString().split("T")[0];try{return new Date(e).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}},Nhe=e=>{const t=e.lastIndexOf("."),r=t>0?e.substring(0,t):e,n=t>0?e.substring(t):"";return r.toLowerCase().replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").substring(0,50)+n.toLowerCase()},uut=(e,t,r)=>{const n=(e||"general").replace(/[^a-zA-Z0-9-]/g,"_"),a=(t||"temp").replace(/[^a-zA-Z0-9-]/g,"_"),s=Nhe(r);return`videos_opr/${n}/${a}/${s}`},dut=async(e,t,r)=>{try{if(!VD.currentUser)throw new Error("Usuario no autenticado. Por favor, inicia sesión nuevamente.");if(!e)throw new Error("No se proporcionó un archivo válido.");const n=["video/mp4","video/quicktime","video/x-msvideo","video/x-m4v"],a=500*1024*1024;if(e.size>a)throw new Error(`El archivo es demasiado grande. Máximo permitido: ${(a/1024/1024).toFixed(0)}MB`);if(!n.includes(e.type))throw new Error("Tipo de archivo no permitido. Solo se aceptan MP4, MOV, AVI o M4V.");let s="";const i=(t||"").split("/");if(i.length>=4&&i[0]==="videos_opr"){const d=i[1],f=i[2],h=i.slice(3).join("/");s=uut(d,f,h)}else{const d=Date.now(),f=Nhe(e.name);s=`videos_opr/general/${d}_${f}`}const o=_E(_he,s),c={contentType:e.type,cacheControl:"public, max-age=31536000",customMetadata:{originalName:e.name,uploadedBy:VD.currentUser.uid,uploadDate:new Date().toISOString(),fileSize:String(e.size)}},u=ZEe(o,e,c);return new Promise((d,f)=>{let h=-1;u.on("state_changed",p=>{const g=p.bytesTransferred/p.totalBytes*100,x=Math.floor(g);r&&x!==h&&(h=x,r(x))},p=>{let g="Error desconocido durante la subida.";switch(p==null?void 0:p.code){case"storage/unauthorized":g="No tienes permisos para subir archivos. Verifica las reglas de Firebase Storage.";break;case"storage/canceled":g="La subida fue cancelada por el usuario.";break;case"storage/quota-exceeded":g="Se agotó el espacio de almacenamiento disponible.";break;case"storage/retry-limit-exceeded":g="Se agotaron los reintentos. Verifica tu conexión a internet.";break;default:p!=null&&p.message&&(g=p.message);break}f(new Error(g))},async()=>{try{const p=await VT(u.snapshot.ref);d(p)}catch{f(new Error("El archivo se subió, pero no se pudo obtener la URL de descarga."))}})})}catch(n){const a=(n==null?void 0:n.message)||"Error inesperado al procesar el archivo.";throw new Error(a)}},O9=async e=>{try{const t=_E(_he,e),{items:r,prefixes:n}=await eSe(t);await Promise.all(r.map(a=>tSe(a))),await Promise.all(n.map(a=>O9(a.fullPath)))}catch{}},fut=async()=>{try{const e=zt(wt(mt,uS),wr("fecha","desc"));return(await qn(e)).docs.map(n=>{const a=n.data();return{id:n.id,...a,fecha:km(a==null?void 0:a.fecha)}}).sort((n,a)=>n.fecha<a.fecha?1:n.fecha>a.fecha?-1:0)}catch{throw new Error("No se pudieron cargar los acompañamientos")}},Aut=async e=>{try{const t={...e,fecha:lr.fromDate(new Date(e.fecha)),fechaCreacion:lr.now()},r=await Bn(wt(mt,uS),t);return{...e,id:r.id,fecha:km(e.fecha)}}catch{throw new Error("No se pudo crear el acompañamiento")}},hut=async(e,t)=>{try{const r={...t,...t.fecha?{fecha:lr.fromDate(new Date(t.fecha))}:{},fechaModificacion:lr.now()};await bu(dr(mt,uS,e),r)}catch{throw new Error("No se pudo actualizar el acompañamiento")}},put=async e=>{try{const t=zt(wt(mt,Nm),Gr("acompanamientoId","==",e)),r=await qn(t),n=Qx(mt);r.forEach(a=>n.delete(dr(mt,Nm,a.id))),await n.commit(),await O9(`videos_opr/${e}`),await hs(dr(mt,uS,e))}catch{throw new Error("No se pudo eliminar el acompañamiento y sus datos asociados")}},vZ=async e=>{var t;try{if(!(e!=null&&e.fecha))throw new Error("Falta fecha al crear ciclo OPR.");const r={...e,acompanamientoId:String(e.acompanamientoId||""),fecha:lr.fromDate(new Date(e.fecha)),fechaCreacion:lr.now()};(t=e==null?void 0:e.seguimiento)!=null&&t.fecha&&(r.seguimiento={...e.seguimiento,fecha:lr.fromDate(new Date(e.seguimiento.fecha))});const n=await Bn(wt(mt,Nm),r);return{...e,id:n.id,acompanamientoId:String(e.acompanamientoId||""),fecha:km(e.fecha)}}catch{throw new Error("No se pudo crear el ciclo OPR")}},mut=async(e,t)=>{var r;try{const n={...t};t.fecha&&(n.fecha=lr.fromDate(new Date(t.fecha))),(r=t.seguimiento)!=null&&r.fecha&&(n.seguimiento={...t.seguimiento,fecha:lr.fromDate(new Date(t.seguimiento.fecha))}),n.fechaModificacion=lr.now(),await bu(dr(mt,Nm,e),n)}catch{throw new Error("No se pudo actualizar el ciclo OPR")}},gut=async e=>{try{const t=zt(wt(mt,Nm),Gr("acompanamientoId","==",e),wr("fecha","desc"));return(await qn(t)).docs.map(a=>{var o;const s=a.data(),i={id:a.id,...s,fecha:km(s==null?void 0:s.fecha)};return(o=s==null?void 0:s.seguimiento)!=null&&o.fecha&&(i.seguimiento={...s.seguimiento,fecha:km(s.seguimiento.fecha)}),i})}catch{throw new Error("No se pudieron cargar los ciclos OPR. Revisa el índice compuesto (acompanamientoId + fecha).")}},xut=async()=>{try{const e=zt(wt(mt,Nm),Gr("acompanamientoId","==",""),wr("fecha","desc"));return(await qn(e)).docs.map(n=>{var i;const a=n.data(),s={id:n.id,...a,fecha:km(a==null?void 0:a.fecha)};return(i=a==null?void 0:a.seguimiento)!=null&&i.fecha&&(s.seguimiento={...a.seguimiento,fecha:km(a.seguimiento.fecha)}),s})}catch(e){throw console.error("Error fetching standalone OPR cycles:",e),new Error("No se pudieron cargar los ciclos OPR independientes.")}},bZ=async e=>{try{const t=await Ux(dr(mt,Nm,e));if(!t.exists())return;const r=t.data(),n=(r==null?void 0:r.acompanamientoId)||"general";await O9(`videos_opr/${n}/${e}`),await hs(dr(mt,Nm,e))}catch{throw new Error("No se pudo eliminar el ciclo OPR")}},vut=async e=>{try{const t=zt(wt(mt,uS),Gr("docente","==",e),wr("fecha","desc"));return(await qn(t)).docs.map(n=>{const a=n.data();return{id:n.id,...a,fecha:km(a==null?void 0:a.fecha)}})}catch{throw new Error("No se pudieron cargar los acompañamientos del docente")}},but=async e=>{try{const t=zt(wt(mt,"rubricas_personalizadas"),Gr("docente","==",e)),r=await qn(t);if(r.empty)return null;const n=r.docs[0].data();return(n==null?void 0:n.rubrica)??null}catch{return null}},yut=async()=>await Ahe(),wut=({label:e,onFileChange:t,onLinkChange:r,uploadedUrl:n,onRemove:a,isUploading:s,accept:i="video/mp4,video/quicktime,video/avi,video/mov",error:o,progress:c=0,allowLink:u=!1})=>{const[d,f]=S.useState(!1),[h,p]=S.useState(!1),[g,x]=S.useState(""),v=`file-upload-${e.replace(/\s+/g,"-")}`,y=C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?f(!0):C.type==="dragleave"&&f(!1)},w=C=>{if(C.preventDefault(),C.stopPropagation(),f(!1),C.dataTransfer.files&&C.dataTransfer.files[0]&&!s){const N=C.dataTransfer.files[0];k(N)}},E=C=>{if(C.target.files&&C.target.files[0]&&!s){const N=C.target.files[0];k(N)}},k=C=>{if(C.size>524288e3){alert(`El archivo es demasiado grande. Tamaño máximo: ${524288e3/1024/1024}MB`);return}if(!["video/mp4","video/quicktime","video/avi","video/mov"].includes(C.type)){alert("Solo se aceptan archivos de video (MP4, MOV, AVI, QuickTime)");return}t(C)},B=()=>o?"bg-red-500":c===100?"bg-green-500":"bg-blue-500",j=()=>{if(!(!g||!r)){if(!g.startsWith("http://")&&!g.startsWith("https://")){alert("Por favor ingresa una URL válida que comience con http:// o https://");return}r(g),p(!1),x("")}};return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300",children:e}),u&&!n&&!s&&l.jsx("button",{type:"button",onClick:()=>p(!h),className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400",children:h?"Cancelar":"Insertar enlace"})]}),h&&l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("input",{type:"url",value:g,onChange:C=>x(C.target.value),placeholder:"https://...",className:"flex-1 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Guardar"})]}),n?l.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-md bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700",children:[l.jsx(mo,{className:"w-5 h-5 text-green-600"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-700 dark:text-green-300 hover:underline font-medium",children:n.startsWith("http")?"Ver video enlazado":"Ver video cargado"}),l.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:n.startsWith("http")?"Enlace guardado exitosamente":"Video subido exitosamente"})]}),l.jsx("button",{type:"button",onClick:a,className:"p-1 text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",title:"Eliminar video",children:l.jsx($o,{className:"w-4 h-4"})})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:`relative border-2 border-dashed rounded-lg transition-colors ${d?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":s?"border-amber-400 bg-amber-50 dark:bg-amber-900/20":o?"border-red-400 bg-red-50 dark:bg-red-900/20":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"} ${s?"cursor-not-allowed":"cursor-pointer"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:w,onClick:()=>{var C;return!s&&((C=document.getElementById(v))==null?void 0:C.click())},children:[l.jsx("div",{className:"flex flex-col items-center justify-center p-6",children:s?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 font-medium",children:"Subiendo video..."}),l.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:[c.toFixed(1),"% completado"]})]}):o?l.jsxs("div",{className:"text-center",children:[l.jsx(Af,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:"Error al subir"}),l.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Haz clic para intentar nuevamente"})]}):l.jsxs("div",{className:"text-center",children:[l.jsx(kE,{className:"h-8 w-8 text-slate-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 font-medium",children:"Arrastra un video aquí"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"o haz clic para seleccionar"}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:"MP4, MOV, AVI (máx. 500MB)"})]})}),l.jsx("input",{id:v,type:"file",onChange:E,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:s,accept:i,style:{display:"none"}})]}),s&&l.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:l.jsx("div",{className:`${B()} h-2 rounded-full transition-all duration-300`,style:{width:`${c}%`}})}),o&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:[l.jsx(Af,{className:"w-4 h-4 text-red-500"}),l.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:o})]})]})]})},Cut=({acompanamiento:e,cicloToEdit:t,onSave:r,onCancel:n,profesores:a})=>{const[s,i]=S.useState(!1),[o,c]=S.useState({}),[u,d]=S.useState({}),[f,h]=S.useState({}),[p,g]=S.useState({docente:e.docente||"",curso:e.curso||"",asignatura:e.asignatura||""}),x=S.useMemo(()=>({registroN:1,nombreCiclo:"",fecha:new Date().toISOString().split("T")[0],horaInicio:"",horaTermino:"",videoObservacionUrl:"",detallesObservacion:[{id:`row_${Date.now()}`,minuto:"0-5",accionesDocente:"",accionesEstudiantes:"",actividades:""}],retroalimentacion:{exito:"",foco:"",elementosIdentificar:""},planificacion:{preparacion:"",objetivo:"",actividad:"",tiempo:""},seguimiento:{fecha:"",curso:p.curso||"",profesor:p.docente||"",firma:""},acompanamientoId:e.id&&!e.id.startsWith("temp-")?e.id:""}),[e,p]),[v,y]=S.useState(t||x);S.useEffect(()=>{t?(y(t),(t.acompanamientoId===""||!t.acompanamientoId)&&g({docente:t.docenteInfo||"",curso:t.cursoInfo||"",asignatura:t.asignaturaInfo||""})):y(x)},[t,x]);const w=P=>{const{name:R,value:q}=P.target,Q=R.split(".");Q.length>1?y(G=>{const K=JSON.parse(JSON.stringify(G));let z=K;for(let Y=0;Y<Q.length-1;Y++)z=z[Q[Y]];return z[Q[Q.length-1]]=q,K}):y(G=>({...G,[R]:q}))},E=(P,R,q)=>{y(Q=>({...Q,detallesObservacion:Q.detallesObservacion.map(G=>G.id===P?{...G,[R]:q}:G)}))},k=()=>{const P=v.detallesObservacion[v.detallesObservacion.length-1],R=P&&parseInt(P.minuto.split("-")[1],10)||0,q=`${R+1}-${R+5}`;y(Q=>({...Q,detallesObservacion:[...Q.detallesObservacion,{id:`row_${Date.now()}`,minuto:q,accionesDocente:"",accionesEstudiantes:"",actividades:""}]}))},B=P=>{y(R=>({...R,detallesObservacion:R.detallesObservacion.filter(q=>q.id!==P)}))},j=async(P,R)=>{h(q=>({...q,[P]:null})),c(q=>({...q,[P]:!0})),d(q=>({...q,[P]:0}));try{const q=Date.now(),Q=R.name.toLowerCase().replace(/[^a-z0-9.]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),G=e.id&&!e.id.startsWith("temp-")?e.id.replace(/[^a-zA-Z0-9-]/g,"_"):"general",K=v.id?v.id.replace(/[^a-zA-Z0-9-]/g,"_"):"temp",z=`videos_opr/${G}/${K}/${q}_${Q}`,Y=await dut(R,z,ee=>{d(M=>({...M,[P]:ee}))});C(P,Y),d(ee=>({...ee,[P]:100}))}catch(q){const Q=(q==null?void 0:q.message)||"Error desconocido al subir el archivo";h(G=>({...G,[P]:Q})),alert(`Error al subir el video: ${Q}`)}finally{c(q=>({...q,[P]:!1})),setTimeout(()=>{d(q=>({...q,[P]:0}))},2e3)}},C=(P,R)=>{const q=P.split(".");q.length>1?y(Q=>{const G=JSON.parse(JSON.stringify(Q));let K=G;for(let z=0;z<q.length-1;z++)K=K[q[z]];return K[q[q.length-1]]=R,G}):y(Q=>({...Q,[P]:R}))},N=P=>{const R=P.split(".");R.length>1?y(q=>{const Q=JSON.parse(JSON.stringify(q));let G=Q;for(let K=0;K<R.length-1;K++)G=G[R[K]];return G[R[R.length-1]]="",Q}):y(q=>({...q,[P]:""})),h(q=>({...q,[P]:null})),d(q=>({...q,[P]:0}))},I=async(P,R,q)=>{if(!q||!q.trim())return q;const Q=`Mejora la redacción del siguiente texto con un tono técnico-pedagógico propio de informes educativos. Mantén el sentido original y NO agregues información nueva ni ejemplos inventados. Devuélvelo como un texto breve, claro y directo. Texto (${R}):

"""${q}"""`;try{return(await P.generateContent(Q)).response.text()}catch(G){return console.error(`Error improving text for ${R}:`,G),q}},L=async()=>{var P,R;i(!0);try{const q="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",G=new zs(q).getGenerativeModel({model:"gemini-1.5-flash-latest"}),K=v.retroalimentacion,z=v.planificacion,Y=await Promise.all([I(G,"Éxito",K.exito),I(G,"Modelo",K.modelo),I(G,"Foco",K.foco),I(G,"Elementos a identificar",K.elementosIdentificar),I(G,"Brecha - Preguntas",((P=K.brecha)==null?void 0:P.preguntas)||""),I(G,"Brecha - Indicadores",((R=K.brecha)==null?void 0:R.indicadores)||""),I(G,"Planificación - Preparación",z.preparacion),I(G,"Planificación - Objetivo",z.objetivo),I(G,"Planificación - Actividad",z.actividad),I(G,"Planificación - Tiempo",z.tiempo)]);y(ee=>({...ee,retroalimentacion:{...ee.retroalimentacion,exito:Y[0],modelo:Y[1],foco:Y[2],elementosIdentificar:Y[3],brecha:{...ee.retroalimentacion.brecha,preguntas:Y[4],indicadores:Y[5]}},planificacion:{...ee.planificacion,preparacion:Y[6],objetivo:Y[7],actividad:Y[8],tiempo:Y[9]}})),alert("Textos mejorados exitosamente con IA")}catch(q){console.error(q),alert("No se pudo mejorar la redacción. Intenta nuevamente.")}finally{i(!1)}},O=()=>{const P=new Sr,R=P.internal.pageSize.getWidth(),q=15,Q=R-q*2;let G=20;const K=M=>{G>260&&(P.addPage(),G=20),P.setFontSize(14),P.setFont("helvetica","bold"),P.text(M,q,G),G+=10},z=(M,H="")=>{if(!M)return;G>270&&(P.addPage(),G=20),P.setFontSize(10),P.setFont("helvetica","bold"),P.text(H,q,G),P.setFont("helvetica","normal");const W=P.splitTextToSize(M,Q-(H?15:0));P.text(W,q+(H?15:0),G),G+=W.length*5+4};P.setFontSize(18),P.setFont("helvetica","bold"),P.text("Informe de Ciclo OPR",R/2,G,{align:"center"}),G+=15,K("1. Datos Generales");const Y=[["Docente:",p.docente],["Curso:",p.curso],["Asignatura:",p.asignatura],["Fecha:",new Date(v.fecha).toLocaleDateString("es-CL")],["Hora:",`${v.horaInicio} - ${v.horaTermino}`],["Ciclo:",v.nombreCiclo]];Uo(P,{body:Y,startY:G,theme:"plain",styles:{fontSize:10},columnStyles:{0:{fontStyle:"bold"}}}),G=P.lastAutoTable.finalY+10,K("2. Registro Detallado de Observación");const ee=v.detallesObservacion.map(M=>[M.minuto,M.accionesDocente,M.accionesEstudiantes,M.actividades]);Uo(P,{head:[["Minuto","Acciones del Docente","Acciones de Estudiantes","Actividades"]],body:ee,startY:G,theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255},styles:{fontSize:9,cellPadding:2},didDrawPage:M=>{var H;G=((H=M.cursor)==null?void 0:H.y)||20}}),G=P.lastAutoTable.finalY+10,K("3. Retroalimentación Docente"),z(v.retroalimentacion.exito,"Éxito:"),z(v.retroalimentacion.modelo,"Modelo:"),z(v.retroalimentacion.foco,"Foco:"),z(v.retroalimentacion.elementosIdentificar,"Elementos a Identificar:"),G+=5,P.setFontSize(11),P.setFont("helvetica","bold"),P.text("Análisis de Brecha",q,G),G+=7,z(`${v.retroalimentacion.brecha.minutoInicial} a ${v.retroalimentacion.brecha.minutoFinal}`,"Minutos:"),z(v.retroalimentacion.brecha.preguntas,"Preguntas:"),z(v.retroalimentacion.brecha.indicadores,"Indicadores:"),K("4. Planificación de Práctica"),z(v.planificacion.preparacion,"Preparación:"),z(v.planificacion.objetivo,"Objetivo:"),z(v.planificacion.actividad,"Actividad:"),z(v.planificacion.tiempo,"Tiempo:"),K("5. Seguimiento"),z(new Date(v.seguimiento.fecha).toLocaleDateString("es-CL"),"Fecha:"),z(v.seguimiento.firma,"Firma (Registrado por):"),P.save(`Informe_OPR_${p.docente}_${v.fecha}.pdf`)},T=async P=>{if(P.preventDefault(),!p.docente||!p.curso||!p.asignatura){alert("Por favor, complete Docente, Curso y Asignatura");return}if(!v.nombreCiclo||!v.fecha){alert("Por favor, complete el nombre del ciclo y la fecha");return}const R={...v,docenteInfo:p.docente,cursoInfo:p.curso,asignaturaInfo:p.asignatura,seguimiento:{...v.seguimiento,profesor:p.docente,curso:p.curso}};try{await r(R)}catch(q){console.error("Error al guardar ciclo OPR:",q),alert("Error al guardar el ciclo OPR. Intenta nuevamente.")}};return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-lg animate-fade-in",children:[(!e.id||e.id.startsWith("temp-"))&&l.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-slate-50 dark:bg-slate-900/30",children:[l.jsx("h4",{className:"text-lg font-semibold mb-3 text-slate-700 dark:text-slate-300",children:"Datos Básicos del Ciclo OPR"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Docente"}),l.jsxs("select",{value:p.docente,onChange:P=>g(R=>({...R,docente:P.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0,children:[l.jsx("option",{value:"",children:"Seleccione un curso"}),Kl.map(P=>l.jsx("option",{value:P,children:P},P))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),l.jsxs("select",{value:p.asignatura,onChange:P=>g(R=>({...R,asignatura:P.target.value})),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0,children:[l.jsx("option",{value:"",children:"Seleccione una asignatura"}),po.map(P=>l.jsx("option",{value:P,children:P},P))]})]})]})]}),l.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-blue-50 dark:bg-blue-900/30",children:[l.jsx("h4",{className:"text-lg font-semibold mb-2 text-blue-700 dark:text-blue-300",children:"Asistente IA del Ciclo OPR"}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[l.jsxs("button",{type:"button",onClick:L,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-400 text-white px-4 py-2 rounded-md flex items-center gap-2 transition-colors",disabled:s,children:[l.jsx(X8,{className:"w-4 h-4"}),s?"Mejorando redacción...":"Mejorar Redacción del Ciclo"]}),l.jsxs("button",{type:"button",onClick:O,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center gap-2 transition-colors",children:[l.jsx(pm,{className:"w-4 h-4"}),"Descargar Informe PDF"]})]}),l.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-2",children:"Usa la IA para mejorar la redacción de los textos ya escritos. Luego, descarga el informe completo en PDF."})]}),l.jsxs("form",{onSubmit:T,className:"space-y-8",children:[l.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:[t?"Editando":"Nuevo"," Ciclo OPR"]}),l.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[l.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[l.jsx(jg,{className:"w-5 h-5 text-amber-500"})," Datos Generales"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx("input",{type:"text",name:"nombreCiclo",value:v.nombreCiclo,onChange:w,placeholder:"Nombre o N° del Ciclo",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0}),l.jsx("input",{type:"date",name:"fecha",value:v.fecha,onChange:w,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",required:!0}),l.jsx("input",{type:"number",name:"registroN",value:v.registroN,onChange:w,placeholder:"Registro de Observación N°",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",min:1}),l.jsx("input",{type:"time",name:"horaInicio",value:v.horaInicio,onChange:w,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("input",{type:"time",name:"horaTermino",value:v.horaTermino,onChange:w,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),l.jsx(wut,{label:"Video de observación de clase",onFileChange:P=>j("videoObservacionUrl",P),onLinkChange:P=>C("videoObservacionUrl",P),uploadedUrl:v.videoObservacionUrl,onRemove:()=>N("videoObservacionUrl"),isUploading:!!o.videoObservacionUrl,error:f.videoObservacionUrl,progress:u.videoObservacionUrl||0,allowLink:!0})]}),l.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[l.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[l.jsx(gx,{className:"w-5 h-5 text-blue-500"})," Registro Detallado de Observación"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b dark:border-slate-600",children:[l.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Minuto"}),l.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Acciones del Docente"}),l.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Acciones de Estudiantes"}),l.jsx("th",{className:"text-left p-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Actividades"}),l.jsx("th",{className:"p-2"})]})}),l.jsx("tbody",{children:v.detallesObservacion.map(P=>l.jsxs("tr",{className:"border-b dark:border-slate-700",children:[l.jsx("td",{className:"p-2",children:l.jsx("input",{type:"text",value:P.minuto,onChange:R=>E(P.id,"minuto",R.target.value),className:"w-24 border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 text-sm",placeholder:"0-5"})}),l.jsx("td",{className:"p-2",children:l.jsx("textarea",{value:P.accionesDocente,onChange:R=>E(P.id,"accionesDocente",R.target.value),rows:2,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 text-sm",placeholder:"Describir acciones del docente..."})}),l.jsx("td",{className:"p-2",children:l.jsx("textarea",{value:P.accionesEstudiantes,onChange:R=>E(P.id,"accionesEstudiantes",R.target.value),rows:2,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 text-sm",placeholder:"Describir acciones de estudiantes..."})}),l.jsx("td",{className:"p-2",children:l.jsx("textarea",{value:P.actividades,onChange:R=>E(P.id,"actividades",R.target.value),rows:2,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600 text-sm",placeholder:"Describir actividades realizadas..."})}),l.jsx("td",{className:"p-2",children:v.detallesObservacion.length>1&&l.jsx("button",{type:"button",onClick:()=>B(P.id),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",title:"Eliminar fila",children:l.jsx($o,{className:"w-4 h-4"})})})]},P.id))})]})}),l.jsxs("button",{type:"button",onClick:k,className:"text-sm bg-slate-200 dark:bg-slate-600 px-3 py-2 rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 flex items-center gap-1 transition-colors",children:[l.jsx($D,{className:"w-4 h-4"})," Agregar Fila"]})]}),l.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[l.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[l.jsx(yse,{className:"w-5 h-5 text-green-600"})," Retroalimentación Docente"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Éxito"}),l.jsx("textarea",{name:"retroalimentacion.exito",value:v.retroalimentacion.exito,onChange:w,placeholder:"Describir los aspectos exitosos observados en la clase...",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Modelo"}),l.jsx("textarea",{name:"retroalimentacion.modelo",value:v.retroalimentacion.modelo,onChange:w,placeholder:"Modelo pedagógico o metodología observada...",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Foco"}),l.jsx("textarea",{name:"retroalimentacion.foco",value:v.retroalimentacion.foco,onChange:w,placeholder:"Foco principal de la observación y retroalimentación...",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Elementos a Identificar"}),l.jsx("textarea",{name:"retroalimentacion.elementosIdentificar",value:v.retroalimentacion.elementosIdentificar,onChange:w,placeholder:"Elementos específicos que el docente debe identificar...",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]})]}),l.jsxs("fieldset",{className:"shadow-md rounded-lg p-4 border dark:border-slate-700 space-y-4",children:[l.jsxs("legend",{className:"flex items-center gap-2 text-lg font-semibold px-2 text-slate-700 dark:text-slate-300",children:[l.jsx(o_e,{className:"w-5 h-5 text-purple-600"})," Planificación de Práctica y Seguimiento"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Preparación"}),l.jsx("textarea",{name:"planificacion.preparacion",value:v.planificacion.preparacion,onChange:w,placeholder:"Aspectos de preparación para la próxima práctica...",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Objetivo"}),l.jsx("textarea",{name:"planificacion.objetivo",value:v.planificacion.objetivo,onChange:w,placeholder:"Objetivo específico para la siguiente observación...",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Actividad"}),l.jsx("textarea",{name:"planificacion.actividad",value:v.planificacion.actividad,onChange:w,placeholder:"Actividades específicas a implementar...",rows:3,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tiempo"}),l.jsx("input",{type:"text",name:"planificacion.tiempo",value:v.planificacion.tiempo,onChange:w,placeholder:"Tiempo estimado o cronograma...",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]}),l.jsxs("div",{className:"p-4 border rounded-md dark:border-slate-600 bg-slate-50 dark:bg-slate-800/50 space-y-3",children:[l.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[l.jsx(Ec,{className:"w-4 h-4 text-purple-500"}),"Seguimiento"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Fecha de seguimiento"}),l.jsx("input",{type:"date",name:"seguimiento.fecha",value:v.seguimiento.fecha,onChange:w,className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Registrado por"}),l.jsx("input",{type:"text",name:"seguimiento.firma",value:v.seguimiento.firma,onChange:w,placeholder:"Nombre de quien registra el seguimiento...",className:"w-full border-slate-300 rounded-md dark:bg-slate-700 dark:border-slate-600"})]})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t dark:border-slate-700",children:[l.jsx("button",{type:"button",onClick:n,className:"bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-amber-400 transition-colors flex items-center gap-2",disabled:Object.values(o).some(Boolean),children:[Object.values(o).some(Boolean)&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardar Ciclo OPR"]})]})]})]})},Eut=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,s]=S.useState(!0),[i,o]=S.useState(!0),[c,u]=S.useState(null),[d,f]=S.useState("list"),[h,p]=S.useState(null),[g,x]=S.useState(null),[v,y]=S.useState("general"),[w,E]=S.useState(!1),[k,B]=S.useState({}),[j,C]=S.useState([]),N=P2,I=S.useMemo(()=>({fecha:new Date().toISOString().split("T")[0],docente:"",curso:"",asignatura:"",bloques:"",rubricaResultados:{},observacionesGenerales:"",retroalimentacionConsolidada:""}),[]),[L,O]=S.useState(I),T=S.useCallback(async()=>{s(!0),u(null);try{const ae=await fut();t(ae)}catch(ae){u("No se pudieron cargar los registros de acompañamiento."),console.error("❌ Error al cargar acompañamientos:",ae)}finally{s(!1)}},[]),P=S.useCallback(async()=>{o(!0);try{const oe=(await yut()).filter(se=>se.profile==="PROFESORADO").map(se=>se.nombreCompleto).sort();n(oe)}catch(ae){u("No se pudo cargar la lista de profesores."),console.error("❌ Error al cargar profesores:",ae)}finally{o(!1)}},[]),R=S.useCallback(async()=>{try{const ae={};for(const oe of e)if(oe.id)try{const se=await gut(oe.id);se.length>0&&(ae[oe.id]=se)}catch(se){console.error(`Error loading OPR cycles for ${oe.id}:`,se)}try{const oe=await xut();C(oe)}catch(oe){console.error("Error loading standalone OPR cycles:",oe),C([])}B(ae)}catch(ae){console.error("Error fetching OPR cycles:",ae)}},[e]);S.useEffect(()=>{T(),P()},[T,P]),S.useEffect(()=>{e.length>0&&R()},[e,R]);const q=(ae,oe)=>{if(x(ae),oe)O(oe),p(oe.id);else{const se={id:"temp-"+Date.now(),fecha:ae.fecha,docente:ae.docenteInfo||"",curso:ae.cursoInfo||"",asignatura:ae.asignaturaInfo||"",rubricaResultados:{},planificacionFutura:"",createdAt:new Date().toISOString(),observacionesGenerales:"",retroalimentacionConsolidada:""};O(se),p(null)}f("form"),y("opr"),u(null)},Q=async()=>{if(!("docente"in L)||!L.docente){alert('Por favor, complete al menos el campo "Docente" antes de generar la retroalimentación.');return}E(!0),u(null);try{const ae="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",se=new zs(ae).getGenerativeModel({model:"gemini-2.5-flash"}),ce=Object.entries(L.rubricaResultados||{}).map(([_e,Ne])=>`- ${_e}: Nivel ${Ne}`).join(`
`),de=`
Eres un asesor pedagógico experto. Redacta una retroalimentación consolidada y constructiva para un docente.
Contexto de la observación:
- Docente: ${L.docente}
- Asignatura: ${L.asignatura}
- Curso: ${L.curso}
- Resultados de la pauta de observación (rúbrica):
${ce||"No se completó la pauta."}
- Observaciones adicionales del evaluador:
${L.observacionesGenerales||"Sin observaciones adicionales."}

Basado en esta información, tu texto debe:
1. Iniciar con un reconocimiento positivo.
2. Mencionar 1 o 2 fortalezas clave observadas.
3. Identificar 1 o 2 áreas de mejora concretas, con un tono de sugerencia.
4. Concluir con una frase motivadora.
La respuesta debe ser solo el texto de la retroalimentación.
      `,re=(await se.generateContent(de)).response.text();O(_e=>({..._e,retroalimentacionConsolidada:re})),alert("Retroalimentación generada exitosamente con IA.")}catch(ae){console.error("❌ Error al generar retroalimentación:",ae);const oe=ae.message||"No se pudo generar la retroalimentación automática.";u(oe),alert(`Error: ${oe}`)}finally{E(!1)}},G=async ae=>{if(ae.preventDefault(),!("docente"in L)||!L.docente||!L.curso||!L.asignatura){alert("Docente, curso y asignatura son campos obligatorios.");return}u(null);try{if(h)await hut(h,L),alert("¡Acompañamiento actualizado correctamente!");else{const oe=await Aut(L);p(oe.id),O(oe),alert("¡Acompañamiento guardado correctamente! Ahora puedes agregar Ciclos OPR.")}await T()}catch(oe){const se=(oe==null?void 0:oe.message)??"Error al guardar el registro de acompañamiento.";u(se),console.error("❌ Error al guardar:",oe),alert(`Error: ${se}`)}},K=()=>{O(I),p(null),x(null),f("form"),y("general"),u(null)},z=ae=>{O(ae),p(ae.id),x(null),f("form"),y("general"),u(null)},Y=async ae=>{if(window.confirm("¿Está seguro de que desea eliminar este registro? Esta acción no se puede deshacer."))try{await put(ae),await T(),alert("Registro eliminado exitosamente.")}catch(oe){const se="No se pudo eliminar el registro.";u(se),console.error("❌ Error al eliminar:",oe),alert(`Error: ${se}`)}},ee=(ae,oe)=>{O(se=>({...se,rubricaResultados:{...se.rubricaResultados||{},[ae]:oe}}))},M=()=>{var ae;if(!("docente"in L)||!L.docente){alert('Por favor, complete al menos el campo "Docente" antes de generar el PDF.');return}try{const oe=new Sr,se=oe.internal.pageSize.getWidth(),ce=oe.internal.pageSize.getHeight(),de=20,ke=se-de*2,re=(Be,Le)=>Le+Be>ce-de,_e=()=>{const Be=oe.getNumberOfPages();for(let Le=1;Le<=Be;Le++)oe.setPage(Le),oe.setFontSize(9),oe.setTextColor(128),oe.text(`pág. ${Le} de ${Be}`,se-de,ce-10,{align:"right"})};let Ne=de;oe.setFontSize(16),oe.setFont("helvetica","bold"),oe.text("INFORME DE ACOMPAÑAMIENTO DOCENTE",se/2,Ne,{align:"center"}),Ne+=15;const Se=40;if(Uo(oe,{startY:Ne,head:[],body:[["Docente:",L.docente],["Curso:",L.curso],["Asignatura:",L.asignatura],["Fecha:",new Date(L.fecha).toLocaleDateString("es-CL")],["Bloques:",L.bloques||"No especificado"]],theme:"plain",styles:{fontSize:11,cellPadding:4},columnStyles:{0:{fontStyle:"bold",cellWidth:30},1:{cellWidth:120}},margin:{left:de,right:de}}),Ne=oe.lastAutoTable.finalY+10,Object.keys(L.rubricaResultados||{}).length>0){oe.setFontSize(14),oe.setFont("helvetica","bold"),oe.text("Evaluación por Indicadores",de,Ne),Ne+=10;const Be=Object.entries(L.rubricaResultados).map(([Le,Ge])=>{let xe;switch(Ge){case 1:xe="Débil";break;case 2:xe="Incipiente";break;case 3:xe="Satisfactorio";break;case 4:xe="Avanzado";break;default:xe="No evaluado"}return[Le,xe,Ge]});Uo(oe,{startY:Ne,head:[["Indicador","Nivel de Logro","Puntuación"]],body:Be,theme:"grid",styles:{fontSize:10,cellPadding:6,lineColor:[200,200,200],lineWidth:.1,valign:"middle"},headStyles:{fillColor:[41,128,185],textColor:255,fontSize:11,fontStyle:"bold",halign:"left"},columnStyles:{0:{cellWidth:100},1:{cellWidth:40},2:{cellWidth:30,halign:"center"}},alternateRowStyles:{fillColor:[245,247,250]},margin:{left:de,right:de}})}oe.addPage(),Ne=de,oe.setFontSize(14),oe.setFont("helvetica","bold"),oe.text("Observaciones Generales y Sugerencias de Mejora",de,Ne),Ne+=15,L.observacionesGenerales&&(oe.setFontSize(12),oe.setFont("helvetica","bold"),oe.text("Fortalezas:",de,Ne),Ne+=10,oe.setFont("helvetica","normal"),oe.setFontSize(11),oe.splitTextToSize(L.observacionesGenerales,ke).forEach(Le=>{re(7,Ne)&&(oe.addPage(),Ne=de),oe.text(Le,de,Ne,{align:"justify"}),Ne+=7}),Ne+=10),L.retroalimentacionConsolidada&&(re(50,Ne)&&(oe.addPage(),Ne=de),oe.setFontSize(12),oe.setFont("helvetica","bold"),oe.text("Sugerencias de mejora:",de,Ne),Ne+=10,oe.setFont("helvetica","normal"),oe.setFontSize(11),oe.splitTextToSize(L.retroalimentacionConsolidada,ke).forEach(Le=>{re(7,Ne)&&(oe.addPage(),Ne=de),oe.text(Le,de,Ne,{align:"justify"}),Ne+=7})),_e();const he=`Informe_Acompanamiento_${(ae=L.docente)==null?void 0:ae.replace(/\s+/g,"_")}_${L.curso}_${new Date().toISOString().split("T")[0]}.pdf`;oe.save(he)}catch(oe){console.error("❌ Error al generar PDF:",oe),alert("Error al generar el PDF. Intenta nuevamente.")}},H=ae=>{O(oe=>({...oe,[ae.target.name]:ae.target.value}))},W=()=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Módulo de Acompañamiento Docente"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>{K(),y("general")},className:"bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 flex items-center gap-2 transition-colors",children:[l.jsx($D,{className:"w-5 h-5"})," Acompañamiento General"]}),l.jsxs("button",{onClick:()=>{O(I),p(null),x(null),f("form"),y("opr"),u(null)},className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 flex items-center gap-2 transition-colors",children:[l.jsx($D,{className:"w-5 h-5"})," Ciclo OPR Independiente"]})]})]}),c&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Af,{className:"w-5 h-5 text-red-500"}),l.jsx("p",{className:"text-red-700 dark:text-red-300",children:c})]})}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-slate-700 dark:text-slate-300 mb-4",children:[l.jsx(af,{className:"w-6 h-6 text-amber-500"})," Acompañamientos Generales"]}),l.jsxs("div",{className:"space-y-3",children:[a&&l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600"}),l.jsx("span",{className:"ml-3 text-slate-600 dark:text-slate-400",children:"Cargando registros..."})]}),!a&&e.filter(ae=>ae.id).length>0?l.jsx("div",{className:"grid gap-3",children:e.filter(ae=>ae.id).map(ae=>l.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ec,{className:"w-4 h-4 text-amber-500"}),l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:ae.docente})]}),l.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Curso:"})," ",ae.curso," •"," ",l.jsx("span",{className:"font-medium",children:"Asignatura:"})," ",ae.asignatura]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(ae.fecha).toLocaleDateString("es-CL")]}),ae.bloques&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Bloques:"})," ",ae.bloques]}),ae.retroalimentacionConsolidada&&l.jsxs("p",{className:"text-green-600 dark:text-green-400 flex items-center gap-1",children:[l.jsx(mo,{className:"w-3 h-3"}),"Con retroalimentación IA"]}),k[ae.id]&&k[ae.id].length>0&&l.jsxs("p",{className:"text-blue-600 dark:text-blue-400 flex items-center gap-1",children:[l.jsx(jg,{className:"w-3 h-3"}),k[ae.id].length," Ciclo",k[ae.id].length>1?"s":""," OPR"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx("button",{onClick:()=>{z(ae),y("general")},className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 font-semibold text-sm px-3 py-1 rounded border border-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:"Ver/Editar"}),l.jsx("button",{onClick:()=>{z(ae),y("opr")},className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm px-3 py-1 rounded border border-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"+ Ciclo OPR"}),l.jsx("button",{onClick:()=>Y(ae.id),title:"Eliminar registro",className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",children:l.jsx($o,{className:"w-4 h-4"})})]})]}),k[ae.id]&&k[ae.id].length>0&&l.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-600",children:[l.jsxs("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2 flex items-center gap-1",children:[l.jsx(jg,{className:"w-4 h-4 text-blue-500"}),"Ciclos OPR Asociados"]}),l.jsx("div",{className:"space-y-2",children:k[ae.id].map(oe=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:oe.nombreCiclo||`Registro N° ${oe.registroN}`}),l.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[new Date(oe.fecha).toLocaleDateString("es-CL"),oe.horaInicio&&oe.horaTermino&&l.jsxs("span",{children:[" • ",oe.horaInicio," - ",oe.horaTermino]})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>{const se=e.find(ce=>ce.id===ae.id);q(oe,se)},className:"text-blue-600 hover:text-blue-800 text-xs px-2 py-1 rounded border border-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:"Editar"}),l.jsx("button",{onClick:async()=>{if(window.confirm("¿Seguro que desea eliminar este Ciclo OPR?"))try{await bZ(oe.id),await R(),alert("Ciclo OPR eliminado exitosamente")}catch(se){console.error("Error deleting OPR cycle:",se),alert("Error al eliminar el ciclo OPR")}},className:"text-red-600 hover:text-red-800 p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"Eliminar ciclo OPR",children:l.jsx($o,{className:"w-3 h-3"})})]})]},oe.id))})]})]},ae.id))}):!a&&l.jsxs("div",{className:"text-center p-12 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[l.jsx(hf,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-medium",children:"No hay acompañamientos generales registrados"}),l.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm mt-2",children:"Crea tu primer acompañamiento usando el botón superior"})]})]})]}),j.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-slate-700 dark:text-slate-300 mb-4",children:[l.jsx(jg,{className:"w-6 h-6 text-blue-500"})," Ciclos OPR Independientes"]}),l.jsx("div",{className:"space-y-3",children:j.map(ae=>l.jsx("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(jg,{className:"w-4 h-4 text-blue-500"}),l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:ae.nombreCiclo||`Registro N° ${ae.registroN}`})]}),l.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Docente:"})," ",ae.docenteInfo||"No especificado"," •"," ",l.jsx("span",{className:"font-medium",children:"Curso:"})," ",ae.cursoInfo||"No especificado"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(ae.fecha).toLocaleDateString("es-CL"),ae.horaInicio&&ae.horaTermino&&l.jsxs("span",{children:[" • ",ae.horaInicio," - ",ae.horaTermino]})]}),ae.videoObservacionUrl&&l.jsxs("p",{className:"text-green-600 dark:text-green-400 flex items-center gap-1",children:[l.jsx(mo,{className:"w-3 h-3"}),"Con video de observación"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx("button",{onClick:()=>{q(ae)},className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold text-sm px-3 py-1 rounded border border-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Ver/Editar"}),l.jsx("button",{onClick:async()=>{if(window.confirm("¿Seguro que desea eliminar este Ciclo OPR?"))try{await bZ(ae.id),await R(),alert("Ciclo OPR eliminado exitosamente")}catch(oe){console.error("Error deleting standalone OPR cycle:",oe),alert("Error al eliminar el ciclo OPR")}},title:"Eliminar ciclo OPR",className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",children:l.jsx($o,{className:"w-4 h-4"})})]})]})},ae.id))})]})]}),Z=()=>{const ae=h?e.find(se=>se.id===h):null,oe={id:"temp-"+Date.now(),fecha:new Date().toISOString(),docente:"docente"in L&&L.docente||"",curso:"curso"in L&&L.curso||"",asignatura:"asignatura"in L&&L.asignatura||"",planificacionFutura:"",createdAt:new Date().toISOString(),rubricaResultados:{},observacionesGenerales:"",retroalimentacionConsolidada:""};return l.jsxs("div",{className:"animate-fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:v==="general"?h?"Editando Acompañamiento General":"Nuevo Acompañamiento General":g?"Editando Ciclo OPR":"Nuevo Ciclo OPR"}),l.jsx("button",{type:"button",onClick:()=>{f("list"),x(null)},className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"← Volver al listado"})]}),l.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:l.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[l.jsx("button",{onClick:()=>y("general"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${v==="general"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-300"}`,children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(hf,{className:"w-4 h-4"}),"Acompañamiento General"]})}),l.jsx("button",{onClick:()=>y("opr"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${v==="opr"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-300"}`,children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(jg,{className:"w-4 h-4"}),"Ciclos OPR"]})}),l.jsx("button",{onClick:()=>y("dashboard"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${v==="dashboard"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-300"}`,children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(af,{className:"w-4 h-4"}),"Dashboard"]})})]})}),c&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Af,{className:"w-5 h-5 text-red-500"}),l.jsx("p",{className:"text-red-700 dark:text-red-300",children:c})]})}),v==="dashboard"&&l.jsx("div",{className:"animate-fade-in",children:l.jsx(cut,{acompanamientos:e,ciclosOPR:k,standaloneCiclos:j})}),v==="general"&&l.jsxs("form",{onSubmit:G,className:"space-y-8",children:[l.jsxs("div",{className:"p-4 border rounded-lg bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800",children:[l.jsxs("h4",{className:"text-lg font-semibold mb-3 text-green-700 dark:text-green-300 flex items-center gap-2",children:[l.jsx(cN,{className:"w-5 h-5"}),"Asistente IA - Informe General"]}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[l.jsxs("button",{type:"button",onClick:Q,className:"bg-green-500 hover:bg-green-600 disabled:bg-green-400 text-white px-4 py-2 rounded-md flex items-center gap-2 transition-colors",disabled:w,children:[l.jsx(X8,{className:"w-4 h-4"}),w?"Generando...":"Generar Retroalimentación con IA"]}),l.jsxs("button",{type:"button",onClick:M,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md flex items-center gap-2 transition-colors",children:[l.jsx(pm,{className:"w-4 h-4"}),"Crear Informe PDF"]})]}),l.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-2",children:"Completa la observación y rúbrica, luego genera automáticamente la retroalimentación. Finalmente, crea el informe en PDF."}),"retroalimentacionConsolidada"in L&&L.retroalimentacionConsolidada&&l.jsxs("div",{className:"mt-4 p-4 bg-white dark:bg-slate-800 rounded-md shadow-sm border",children:[l.jsxs("h5",{className:"font-semibold text-sm mb-2 text-green-700 dark:text-green-300 flex items-center gap-2",children:[l.jsx(mo,{className:"w-4 h-4"}),"Retroalimentación Consolidada Generada:"]}),l.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 rounded p-3",children:l.jsx("textarea",{readOnly:!0,rows:8,value:L.retroalimentacionConsolidada,className:"w-full text-sm text-slate-700 dark:text-slate-300 bg-transparent border-none p-0 resize-none focus:ring-0"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-800/50 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"docente",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Docente *"}),l.jsxs("select",{name:"docente",value:"docente"in L?L.docente:"",onChange:H,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",disabled:i,children:[l.jsx("option",{value:"",children:i?"Cargando profesores...":"Seleccione un docente"}),r.map(se=>l.jsx("option",{value:se,children:se},se))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"curso",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Curso *"}),l.jsxs("select",{name:"curso",value:"curso"in L?L.curso:"",onChange:H,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Seleccione un curso"}),Kl.map(se=>l.jsx("option",{value:se,children:se},se))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura *"}),l.jsxs("select",{name:"asignatura",value:"asignatura"in L?L.asignatura:"",onChange:H,required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Seleccione una asignatura"}),po.map(se=>l.jsx("option",{value:se,children:se},se))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"bloques",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bloques Horarios"}),l.jsx("input",{type:"text",name:"bloques",value:"bloques"in L?L.bloques:"",onChange:H,placeholder:"Ej: 3-4, 1-2",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"observacionesGenerales",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Observaciones Generales"}),l.jsx("textarea",{name:"observacionesGenerales",value:"observacionesGenerales"in L?L.observacionesGenerales:"",onChange:H,rows:4,placeholder:"Ingrese sus observaciones sobre la clase, metodología utilizada, participación de estudiantes, recursos empleados, etc...",className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-semibold mb-4 text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[l.jsx(af,{className:"w-5 h-5 text-amber-500"}),"Pauta de Observación - Rúbrica de Evaluación"]}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Haga clic en el nivel correspondiente para cada criterio observado durante la clase."}),l.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg shadow-sm",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-1/12",children:"Dominio"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-3/12",children:"Criterio"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Débil (1)"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Incipiente (2)"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Satisfactorio (3)"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider w-2/12",children:"Avanzado (4)"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:N.map(se=>l.jsx(Ze.Fragment,{children:se.criteria.map((ce,de)=>l.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[de===0&&l.jsx("td",{rowSpan:se.criteria.length,className:"px-4 py-4 align-top text-sm font-semibold text-slate-800 dark:text-slate-200 border-r dark:border-slate-600 bg-slate-50 dark:bg-slate-800",children:se.domain}),l.jsx("td",{className:"px-4 py-4 align-top text-sm font-medium text-slate-700 dark:text-slate-300 border-r dark:border-slate-600",children:ce.name}),ce.levels.map((ke,re)=>{const _e=re+1,Ne="rubricaResultados"in L&&L.rubricaResultados[ce.name]===_e,Se=Ne?"bg-amber-100 dark:bg-amber-900/30 border-amber-300 dark:border-amber-700":"hover:bg-amber-50 dark:hover:bg-slate-700";return l.jsx("td",{onClick:()=>ee(ce.name,_e),className:`px-4 py-4 align-top text-sm text-slate-600 dark:text-slate-300 border-r dark:border-slate-600 cursor-pointer transition-colors ${Se} ${Ne?"ring-1 ring-amber-400":""}`,title:`Seleccionar nivel ${_e} para ${ce.name}`,children:l.jsxs("div",{className:"text-xs leading-relaxed",children:[Ne&&l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(mo,{className:"w-3 h-3 text-amber-600"}),l.jsx("span",{className:"font-semibold text-amber-700 dark:text-amber-400",children:"Seleccionado"})]}),ke]})},_e)})]},ce.name))},se.domain))})]})}),Object.keys(L.rubricaResultados||{}).length>0&&l.jsxs("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[l.jsxs("h5",{className:"font-semibold text-amber-800 dark:text-amber-300 mb-2 flex items-center gap-2",children:[l.jsx(af,{className:"w-4 h-4"}),"Resumen de Evaluación (",Object.keys(L.rubricaResultados).length," criterios evaluados)"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:Object.entries(L.rubricaResultados).map(([se,ce])=>l.jsxs("div",{className:"flex justify-between items-center py-1",children:[l.jsxs("span",{className:"text-slate-700 dark:text-slate-300 truncate pr-2",children:[se,":"]}),l.jsxs("span",{className:`font-semibold px-2 py-1 rounded text-xs ${ce===1?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":ce===2?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":ce===3?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}`,children:["Nivel ",ce]})]},se))})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t dark:border-slate-700",children:[l.jsx("button",{type:"button",onClick:()=>f("list"),className:"bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"bg-amber-500 hover:bg-amber-600 disabled:bg-amber-400 text-white font-bold py-2 px-6 rounded-lg transition-colors flex items-center gap-2",disabled:w,children:[w&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),h?"Actualizar":"Guardar"," Acompañamiento"]})]})]}),v==="opr"&&l.jsx(Cut,{acompanamiento:ae||oe,cicloToEdit:g,profesores:r,onSave:async se=>{try{const ce=(ae==null?void 0:ae.id)||typeof se.acompanamientoId=="string"&&se.acompanamientoId||void 0;if(g&&g.id)await mut(g.id,se),alert("Ciclo OPR actualizado exitosamente");else{if(!ce||String(ce).startsWith("temp-")){const de={...se,acompanamientoId:""};await vZ(de)}else{const de={...se,acompanamientoId:String(ce)};await vZ(de)}alert("Ciclo OPR guardado exitosamente")}x(null),await T(),await R(),f("list")}catch(ce){console.error("❌ Error al guardar ciclo OPR:",ce);const de=ce.message||"Error desconocido al guardar el ciclo OPR";u(de),alert(`Error al guardar el ciclo OPR: ${de}`)}},onCancel:()=>{x(null),f("list")}})]})};return a||i?l.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 py-8",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mb-4"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Cargando módulo de acompañamiento..."}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-500 text-sm mt-2",children:[a&&"Cargando registros...",i&&" Cargando profesores..."]})]})})}):l.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 py-8",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d==="list"?W():Z()})})},D9="mensajes_internos",Sut="usuarios",khe="mensajes_read_status",The=e=>{var r,n;const t=e.data();return{id:e.id,...t,fecha:((n=(r=t.fecha)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fecha}},_ut=(e,t)=>{const r=zt(wt(mt,D9),Gr("participants","array-contains",e),wr("fecha","desc"));return br(r,a=>{const s=a.docs.map(i=>The(i));t(s)},a=>{console.error("Error al suscribirse a los mensajes:",a),t([])})},Nut=async e=>{try{const t={...e,participants:[e.de,e.para],fecha:lr.fromDate(new Date)};await Bn(wt(mt,D9),t)}catch(t){throw console.error("Error al enviar el mensaje:",t),new Error("No se pudo enviar el mensaje.")}},kut=async e=>{try{const t=dr(mt,D9,e);await hs(t)}catch(t){throw console.error("Error al eliminar el mensaje:",t),new Error("No se pudo eliminar el mensaje.")}},Tut=(e,t)=>{const r=dr(mt,khe,e);return br(r,a=>{a.exists()?t(a.data()):t({announcements:[],messages:[]})},a=>{console.error("Error al suscribirse al estado de lectura:",a),t({announcements:[],messages:[]})})},But=async(e,t)=>{try{const r=dr(mt,khe,e);await Gi(r,{messages:Gae(t)},{merge:!0})}catch(r){throw console.error("Error al marcar mensaje como leído:",r),new Error("No se pudo actualizar el estado de lectura.")}},jut=e=>{const t=zt(wt(mt,Sut),wr("nombreCompleto","asc"));return br(t,n=>{const a=n.docs.map(s=>The(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},Iut=({currentUser:e,refreshUnreadCount:t})=>{const[r,n]=S.useState("inbox"),[a,s]=S.useState([]),[i,o]=S.useState([]),[c,u]=S.useState(null),[d,f]=S.useState({announcements:[],messages:[]}),[h,p]=S.useState(!0),g={para:"",asunto:"",cuerpo:""},[x,v]=S.useState(g);S.useEffect(()=>{if(!e.id||!e.email){p(!1);return}p(!0);const C=_ut(e.email,L=>{s(L),p(!1)}),N=jut(o),I=Tut(e.id,L=>{f(L),t()});return()=>{C(),N(),I()}},[e.id,e.email,t]);const y=C=>{u(C),r==="inbox"&&!d.messages.includes(C.id)&&But(e.id,C.id).catch(N=>{console.error("Failed to mark message as read:",N)})},w=async C=>{if(C.preventDefault(),!x.para||!x.asunto.trim()||!x.cuerpo.trim()){alert("Destinatario, asunto y cuerpo son obligatorios.");return}const N={de:e.email,para:x.para,asunto:x.asunto,cuerpo:x.cuerpo};try{await Nut(N),v(g),n("sent")}catch(I){console.error("Error sending message:",I),alert("No se pudo enviar el mensaje. Inténtelo de nuevo.")}},E=async C=>{if(window.confirm("¿Está seguro de que desea eliminar este mensaje? Esta acción es irreversible."))try{await kut(C),u(null)}catch(N){console.error("Error deleting message:",N),alert("No se pudo eliminar el mensaje.")}},k=C=>{v({para:C.de,asunto:`Re: ${C.asunto}`,cuerpo:`

--- Mensaje Original ---
De: ${C.de}
Fecha: ${new Date(C.fecha).toLocaleString("es-CL")}

${C.cuerpo}`}),n("compose")},B=S.useMemo(()=>a.filter(C=>C.para===e.email),[a,e.email]),j=S.useMemo(()=>a.filter(C=>C.de===e.email),[a,e.email]);return h?l.jsx("div",{className:"flex items-center justify-center h-full",children:"Cargando mensajería..."}):l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-md flex overflow-hidden min-h-[75vh]",children:[l.jsxs("aside",{className:"w-1/4 md:w-1/5 border-r bg-slate-50 dark:bg-slate-800 flex flex-col",children:[l.jsx("div",{className:"p-4 border-b dark:border-slate-700",children:l.jsx("button",{onClick:()=>{n("compose"),u(null),v(g)},className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Redactar"})}),l.jsxs("nav",{className:"p-2 space-y-1",children:[l.jsx("button",{onClick:()=>{n("inbox"),u(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${r==="inbox"?"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:"Recibidos"}),l.jsx("button",{onClick:()=>{n("sent"),u(null)},className:`w-full text-left px-4 py-2 rounded-md font-semibold ${r==="sent"?"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:"Enviados"})]})]}),r!=="compose"&&l.jsx("div",{className:"w-1/3 md:w-2/5 border-r dark:border-slate-700 overflow-y-auto",children:(r==="inbox"?B:j).map(C=>{const N=r==="inbox"&&!d.messages.includes(C.id);return l.jsxs("div",{onClick:()=>y(C),className:`p-4 border-b dark:border-slate-700 cursor-pointer ${(c==null?void 0:c.id)===C.id?"bg-amber-50 dark:bg-amber-900/20":"hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("p",{className:`font-bold truncate ${N?"text-slate-800 dark:text-slate-200":"text-slate-600 dark:text-slate-400"}`,children:r==="inbox"?C.de:`Para: ${C.para}`}),N&&l.jsx("span",{className:"h-2.5 w-2.5 bg-blue-500 rounded-full flex-shrink-0 ml-2 mt-1"})]}),l.jsx("p",{className:`truncate text-sm ${N?"text-slate-700 dark:text-slate-300 font-semibold":"text-slate-500 dark:text-slate-400"}`,children:C.asunto}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:new Date(C.fecha).toLocaleString("es-CL")})]},C.id)})}),l.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:r==="compose"?l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:"Nuevo Mensaje"}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"para",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Para:"}),l.jsxs("select",{id:"para",value:x.para,onChange:C=>v({...x,para:C.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Seleccione un destinatario..."}),i.filter(C=>C.email!==e.email).map(C=>l.jsxs("option",{value:C.email,children:[C.nombreCompleto," (",C.email,")"]},C.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"asunto",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asunto:"}),l.jsx("input",{type:"text",id:"asunto",value:x.asunto,onChange:C=>v({...x,asunto:C.target.value}),required:!0,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"cuerpo",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cuerpo del Mensaje:"}),l.jsx("textarea",{id:"cuerpo",value:x.cuerpo,onChange:C=>v({...x,cuerpo:C.target.value}),required:!0,rows:12,className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),l.jsx("div",{className:"text-right",children:l.jsx("button",{type:"submit",className:"bg-slate-800 text-white font-bold py-2 px-5 rounded-lg hover:bg-slate-700 dark:bg-amber-500 dark:text-slate-900 dark:hover:bg-amber-600",children:"Enviar Mensaje"})})]})]}):c?l.jsxs("div",{children:[l.jsxs("div",{className:"border-b dark:border-slate-700 pb-4 mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:c.asunto}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:[l.jsx("strong",{children:"De:"})," ",c.de," ",l.jsx("br",{}),l.jsx("strong",{children:"Para:"})," ",c.para," ",l.jsx("br",{}),l.jsx("strong",{children:"Fecha:"})," ",new Date(c.fecha).toLocaleString("es-CL")]})]}),l.jsx("div",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300",children:c.cuerpo}),l.jsxs("div",{className:"mt-8 pt-4 border-t dark:border-slate-700 flex gap-2",children:[r==="inbox"&&l.jsx("button",{onClick:()=>k(c),className:"bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500",children:"Responder"}),l.jsx("button",{onClick:()=>E(c.id),className:"bg-red-100 text-red-700 font-semibold py-2 px-4 rounded-lg hover:bg-red-200 dark:bg-red-900/40 dark:text-red-300 dark:hover:bg-red-900/60",children:"Eliminar"})]})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-center text-slate-500 dark:text-slate-400",children:l.jsx("p",{children:"Seleccione un mensaje para leerlo."})})})]})},bj="proyectos_interdisciplinarios",P9="entregas_interdisciplinarias",Fut="usuarios",R9=e=>{const t=e.data();return{id:e.id,...t}},Out=e=>({...e,contenidosPorAsignatura:Array.isArray(e==null?void 0:e.contenidosPorAsignatura)?e.contenidosPorAsignatura:[],actividades:Array.isArray(e==null?void 0:e.actividades)?e.actividades:[],fechasClave:Array.isArray(e==null?void 0:e.fechasClave)?e.fechasClave:[],tareas:Array.isArray(e==null?void 0:e.tareas)?e.tareas:[],docentesResponsables:Array.isArray(e==null?void 0:e.docentesResponsables)?e.docentesResponsables:[e==null?void 0:e.docentesResponsables].filter(Boolean)}),Dut=e=>{const t=zt(wt(mt,bj),wr("nombreProyecto","asc"));return br(t,n=>{try{const a=n.docs.map(s=>Out(R9(s)));e(a)}catch(a){console.error("Error parseando planificaciones:",a),e([])}},n=>{console.error("Error al suscribirse a las planificaciones:",n),e([])})},Put=async e=>{const t={...e,contenidosPorAsignatura:Array.isArray(e.contenidosPorAsignatura)?e.contenidosPorAsignatura:[],actividades:Array.isArray(e.actividades)?e.actividades:[],fechasClave:Array.isArray(e.fechasClave)?e.fechasClave:[],tareas:Array.isArray(e.tareas)?e.tareas:[],docentesResponsables:Array.isArray(e.docentesResponsables)?e.docentesResponsables:[e.docentesResponsables].filter(Boolean),createdAt:lr.now(),updatedAt:lr.now()};return(await Bn(wt(mt,bj),t)).id},yZ=async(e,t)=>{const{id:r,...n}=t,a=dr(mt,bj,e);await Gi(a,{...n,contenidosPorAsignatura:Array.isArray(n==null?void 0:n.contenidosPorAsignatura)?n.contenidosPorAsignatura:(n==null?void 0:n.contenidosPorAsignatura)===void 0?void 0:[],actividades:Array.isArray(n==null?void 0:n.actividades)?n.actividades:(n==null?void 0:n.actividades)===void 0?void 0:[],fechasClave:Array.isArray(n==null?void 0:n.fechasClave)?n.fechasClave:(n==null?void 0:n.fechasClave)===void 0?void 0:[],tareas:Array.isArray(n==null?void 0:n.tareas)?n.tareas:(n==null?void 0:n.tareas)===void 0?void 0:[],docentesResponsables:Array.isArray(n==null?void 0:n.docentesResponsables)?n.docentesResponsables:(n==null?void 0:n.docentesResponsables)===void 0?void 0:[n==null?void 0:n.docentesResponsables].filter(Boolean),updatedAt:lr.now()},{merge:!0})},Rut=async e=>{const t=dr(mt,bj,e),r=zt(wt(mt,P9),Gr("planificacionId","==",e)),n=await qn(r),a=Qx(mt);n.forEach(s=>a.delete(s.ref)),a.delete(t),await a.commit()},Lut=(e,t)=>{const r=zt(wt(mt,P9),Gr("planificacionId","==",e));return br(r,a=>{const s=a.docs.map(i=>R9(i));t(s)},a=>{console.error("Error al suscribirse a las entregas:",a),t([])})},wZ=async(e,t)=>{const r=dr(mt,P9,e);await Gi(r,{feedbackProfesor:t,fechaFeedback:lr.fromDate(new Date)},{merge:!0})},Bhe=e=>{const t=zt(wt(mt,Fut));return br(t,n=>{const a=n.docs.map(s=>R9(s));e(a)},n=>{console.error("Error al suscribirse a todos los usuarios:",n),e([])})},IR={Recordar:["Enumerar","Definir","Identificar","Nombrar","Reconocer","Reproducir"],Comprender:["Explicar","Interpretar","Resumir","Parafrasear","Ejemplificar","Clasificar"],Aplicar:["Ejecutar","Implementar","Usar","Demostrar","Operar","Programar"],Analizar:["Diferenciar","Organizar","Atribuir","Comparar","Deconstruir","Delinear"],Evaluar:["Comprobar","Criticar","Revisar","Formular hipótesis","Experimentar","Juzgar"],Crear:["Generar","Planificar","Producir","Diseñar","Construir","Idear"]},tC=({href:e})=>{if(!e)return l.jsx("span",{className:"text-slate-400",children:"—"});const t=e.startsWith("http")?e:`https://${e}`;return l.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[l.jsx(a5e,{className:"w-4 h-4"}),l.jsx("span",{className:"truncate max-w-[180px] md:max-w-[260px]",children:e})]})},xg=({icon:e,label:t,children:r,aiButton:n,className:a=""})=>l.jsxs("div",{className:`bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 ${a}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:e}),l.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:t})]}),n]}),r]}),Mut=({planificaciones:e,onActivityUpdate:t})=>{const[r,n]=S.useState(null),a=S.useMemo(()=>e.map(c=>{const u=[];return(c.actividades||[]).forEach(d=>u.push({...d,planId:c.id,type:"activity"})),(c.fechasClave||[]).forEach(d=>u.push({id:d.id,planId:c.id,type:"keyDate",nombre:d.nombre,fechaInicio:d.fecha,fechaFin:d.fecha,responsables:c.docentesResponsables.join(", "),asignaturaPrincipal:"Milestone",recursoUrl:d.recursoUrl})),u.sort((d,f)=>new Date(d.fechaInicio).getTime()-new Date(f.fechaInicio).getTime()),{plan:c,items:u}}),[e]),s=S.useCallback(c=>{if(c.type==="keyDate")return{text:"Fecha Clave",color:"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300"};const u=new Date;u.setHours(0,0,0,0);const d=new Date(`${c.fechaInicio}T00:00:00`),f=new Date(`${c.fechaFin}T00:00:00`);return f<u?{text:"Completado",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}:d<=u&&f>=u?{text:"En Progreso",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"}:{text:"Planificado",color:"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300"}},[]),i=({name:c})=>{const u=(c||"").split(" ").map(d=>d[0]).join("").toUpperCase();return l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 text-white flex items-center justify-center font-semibold text-sm ring-2 ring-white dark:ring-slate-800 shadow-sm",children:u.slice(0,2)})},o=({data:c,onClose:u,onSave:d})=>{const[f,h]=S.useState(c.activity),p=x=>h({...f,[x.target.name]:x.target.value}),g=()=>{d(c.planId,f),u()};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl p-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-lg",children:l.jsx(Cse,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Editar Actividad"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Nombre"}),l.jsx("input",{name:"nombre",value:f.nombre,onChange:p,className:"w-full p-3 border rounded-lg bg-white dark:bg-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Responsables"}),l.jsx("input",{name:"responsables",value:f.responsables,onChange:p,className:"w-full p-3 border rounded-lg bg-white dark:bg-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Inicio"}),l.jsx("input",{type:"date",name:"fechaInicio",value:f.fechaInicio,onChange:p,className:"w-full p-3 border rounded-lg bg-white dark:bg-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Fin"}),l.jsx("input",{type:"date",name:"fechaFin",value:f.fechaFin,onChange:p,className:"w-full p-3 border rounded-lg bg-white dark:bg-slate-700"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Recurso (enlace)"}),l.jsx("input",{name:"recursoUrl",placeholder:"https://...",value:f.recursoUrl||"",onChange:p,className:"w-full p-3 border rounded-lg bg-white dark:bg-slate-700"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{onClick:u,className:"px-4 py-2 bg-slate-200 rounded-lg",children:"Cancelar"}),l.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Guardar"})]})]})})};return!a.length||a.every(c=>c.items.length===0)?l.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Af,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"No hay actividades para mostrar"})]})}):l.jsxs("div",{className:"space-y-8",children:[a.map(({plan:c,items:u})=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-xl",children:l.jsx(Lp,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200",children:c.nombreProyecto}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Cronograma del proyecto"})]})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b-2 border-slate-200 dark:border-slate-700",children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Tarea"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Estado"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Inicio"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Fin"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Recurso"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Asignado"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:u.map(d=>{const f=s(d),h=d.type==="activity";return l.jsxs("tr",{className:`${h?"hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer":""}`,onClick:()=>h&&n({planId:d.planId,activity:d}),children:[l.jsx("td",{className:"px-6 py-4 font-semibold",children:d.nombre}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${f.color}`,children:f.text})}),l.jsx("td",{className:"px-6 py-4",children:d.fechaInicio}),l.jsx("td",{className:"px-6 py-4",children:d.fechaFin}),l.jsx("td",{className:"px-6 py-4",children:l.jsx(tC,{href:d.recursoUrl})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx(i,{name:d.responsables||"Sin asignar"})})]},d.id)})})]})})]},c.id)),r&&l.jsx(o,{data:r,onClose:()=>n(null),onSave:t})]})},Uut=({planificaciones:e,onBack:t})=>{const r=S.useMemo(()=>{const c={},u={};return e.forEach(d=>{var f;(f=d.contenidosPorAsignatura)==null||f.forEach(h=>{var p;(p=h.habilidades)==null||p.forEach(g=>{c[g]=(c[g]||0)+1,Object.entries(IR).forEach(([x,v])=>{v.includes(g)&&(u[x]=(u[x]||0)+1)})})})}),{habilidadesCount:c,categoriaCount:u}},[e]),n=S.useMemo(()=>{const c={},u={};return e.forEach(d=>{var f;d.asignaturas.forEach(h=>{u[h]=(u[h]||0)+1}),(f=d.contenidosPorAsignatura)==null||f.forEach(h=>{h.contenidos&&h.contenidos.toLowerCase().split(/[\s,.-]+/).filter(g=>g.length>3).filter(g=>!["para","con","por","las","los","una","del","que","este","esta","son","como","más","desde","hasta","entre"].includes(g)).forEach(g=>{c[g]=(c[g]||0)+1})})}),{palabrasCount:c,asignaturasCount:u}},[e]),a=S.useMemo(()=>{const c=e.length,u=e.reduce((h,p)=>{var g;return h+(((g=p.actividades)==null?void 0:g.length)||0)},0),d=e.reduce((h,p)=>{var g;return h+(((g=p.tareas)==null?void 0:g.length)||0)},0),f=new Set(e.flatMap(h=>h.asignaturas)).size;return{totalProyectos:c,totalActividades:u,totalTareas:d,asignaturasUnicas:f}},[e]),s=({data:c,title:u})=>{const d=Object.entries(c);if(!d.length)return null;const f=d.sort((p,g)=>g[1]-p[1]).slice(0,20),h=Math.max(...f.map(([,p])=>p));return h?l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:u}),l.jsx("div",{className:"flex flex-wrap gap-2 justify-center min-h-[100px]",children:f.map(([p,g])=>{const x=Math.max(.8,g/h*2),v=Math.max(.6,g/h);return l.jsx("span",{className:"inline-block px-3 py-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full font-semibold transition-transform hover:scale-110",style:{fontSize:`${x}rem`,opacity:v},title:`${p}: ${g} veces`,children:p},p)})})]}):null},i=({data:c})=>{const u=Object.values(c),d=u.length?Math.max(...u):0,f={Recordar:"bg-red-500",Comprender:"bg-orange-500",Aplicar:"bg-yellow-500",Analizar:"bg-green-500",Evaluar:"bg-blue-500",Crear:"bg-purple-500"};return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/50 rounded-lg",children:l.jsx(xC,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),l.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Taxonomía de Bloom"})]}),l.jsx("div",{className:"space-y-4",children:Object.keys(IR).map(h=>{const p=c[h]||0,g=d>0?p/d*100:0,x=f[h]||"bg-slate-400";return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:h}),l.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[p," habilidades"]})]}),l.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:l.jsx("div",{className:`h-3 rounded-full ${x} transition-all duration-500`,style:{width:`${g}%`}})})]},h)})})]})},o=({icon:c,title:u,value:d,description:f,color:h})=>l.jsxs("div",{className:`bg-gradient-to-br ${h} p-6 rounded-2xl shadow-lg text-white`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:c}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-3xl font-bold",children:d}),l.jsx("div",{className:"text-white/80 text-sm",children:u})]})]}),l.jsx("p",{className:"text-white/90 text-sm",children:f})]});return l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-teal-600 rounded-xl",children:l.jsx(x4,{className:"w-8 h-8 text-white"})}),l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent",children:"Dashboard Analítico"})]}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Análisis de habilidades y contenidos desarrollados"})]}),l.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:[l.jsx(vC,{className:"w-4 h-4"})," Volver a Proyectos"]})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(o,{icon:l.jsx(xx,{className:"w-8 h-8"}),title:"Proyectos",value:a.totalProyectos,description:"Proyectos interdisciplinarios creados",color:"from-blue-500 to-blue-600"}),l.jsx(o,{icon:l.jsx(VSe,{className:"w-8 h-8"}),title:"Actividades",value:a.totalActividades,description:"Actividades planificadas en total",color:"from-green-500 to-green-600"}),l.jsx(o,{icon:l.jsx(hf,{className:"w-8 h-8"}),title:"Tareas",value:a.totalTareas,description:"Tareas asignadas a estudiantes",color:"from-purple-500 to-purple-600"}),l.jsx(o,{icon:l.jsx(yf,{className:"w-8 h-8"}),title:"Asignaturas",value:a.asignaturasUnicas,description:"Asignaturas involucradas",color:"from-orange-500 to-orange-600"})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[l.jsx(i,{data:r.categoriaCount}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-lg",children:l.jsx(xse,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Distribución de Asignaturas"})]}),l.jsx("div",{className:"space-y-3",children:Object.entries(n.asignaturasCount).sort(([,c],[,u])=>u-c).map(([c,u])=>{const d=Math.max(...Object.values(n.asignaturasCount)),f=d>0?u/d*100:0;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 text-sm",children:c}),l.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[u," proyecto",u!==1?"s":""]})]}),l.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:l.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-500",style:{width:`${f}%`}})})]},c)})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[l.jsx(s,{data:n.palabrasCount,title:"Contenidos Más Frecuentes"}),l.jsx(s,{data:r.habilidadesCount,title:"Habilidades Más Desarrolladas"})]})]})},Qut=({plan:e,onBack:t,availableTeachers:r})=>{var g,x;const[n,a]=S.useState([]),[s,i]=S.useState([]),[o,c]=S.useState(((g=e.tareas)==null?void 0:g[0])||null),[u,d]=S.useState(null);S.useEffect(()=>{const v=Bhe(a),y=Lut(e.id,i);return()=>{v(),y()}},[e.id]);const f=S.useMemo(()=>n.filter(v=>v.profile===Yt.ESTUDIANTE&&e.cursos.includes(v.curso||"")).sort((v,y)=>(v.nombreCompleto||"").localeCompare(y.nombreCompleto||"")),[n,e.cursos]),h=async v=>{d(v.id);const y="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",w=`Eres un profesor asistente. Genera una retroalimentación breve (2-3 frases) para la entrega de un estudiante.
Instrucciones de la tarea: "${o==null?void 0:o.instrucciones}"
Comentario del estudiante: "${v.observacionesEstudiante||"Sin comentarios."}"`.trim();try{const C=(await(await new zs(y).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(w)).response).text().replace(/(\*\*|\*)/g,"");await wZ(v.id,C)}catch(E){console.error(E),alert("No se pudo generar la retroalimentación.")}finally{d(null)}},p=v=>v.map(y=>{var w;return((w=r.find(E=>E.id===y))==null?void 0:w.nombreCompleto)||y}).join(", ");return o?l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Entregas de Tareas"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:e.nombreProyecto}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:["Profesores: ",p(e.docentesResponsables)]})]}),l.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:[l.jsx(vC,{className:"w-4 h-4"})," Volver a Proyectos"]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Seleccionar Tarea:"}),l.jsx("select",{value:o.id,onChange:v=>{var y;return c(((y=e.tareas)==null?void 0:y.find(w=>w.id===v.target.value))||null)},className:"w-full sm:w-auto p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:(x=e.tareas)==null?void 0:x.map(v=>l.jsxs("option",{value:v.id,children:["Tarea ",v.numero,": ",v.instrucciones]},v.id))})]}),l.jsx("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:f.map(v=>{const y=s.find(w=>w.tareaId===o.id&&w.estudianteId===v.id);return l.jsxs("div",{className:"p-6 border border-slate-200 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:(v.nombreCompleto||"NA").split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2)}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:v.nombreCompleto}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:v.curso})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:y!=null&&y.completada?l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 rounded-full text-sm font-semibold",children:[l.jsx(K8,{className:"w-4 h-4"})," Entregado"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300 rounded-full text-sm font-semibold",children:[l.jsx(Af,{className:"w-4 h-4"})," Pendiente"]})})]}),y?l.jsxs("div",{className:"space-y-4",children:[y.observacionesEstudiante&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Comentario del estudiante:"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-800 p-3 rounded-md border border-slate-200 dark:border-slate-600",children:y.observacionesEstudiante})]}),y.enlaceUrl&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Enlace entregado:"}),l.jsx(tC,{href:y.enlaceUrl})]}),y.archivoAdjunto&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Archivo adjunto:"}),l.jsxs("a",{href:y.archivoAdjunto.url,download:y.archivoAdjunto.nombre,className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium",children:[l.jsx(pm,{className:"w-4 h-4"})," ",y.archivoAdjunto.nombre]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Retroalimentación del profesor:"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("textarea",{placeholder:"Escribir retroalimentación...",defaultValue:y.feedbackProfesor||"",onBlur:w=>wZ(y.id,w.target.value),rows:3,className:"flex-1 p-3 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm resize-none"},y.id),l.jsx("button",{onClick:()=>h(y),disabled:u===y.id,className:"p-3 rounded-md bg-purple-100 dark:bg-purple-900/50 hover:bg-purple-200 dark:hover:bg-purple-800/50 disabled:opacity-50 transition-colors",title:"Generar Feedback con IA",children:u===y.id?l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"}):l.jsx(Xg,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})]})]})]}):l.jsxs("div",{className:"text-center py-6",children:[l.jsx(Af,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"El estudiante aún no ha realizado la entrega"})]})]},v.id)})})]}):l.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Af,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Este proyecto no tiene tareas asignadas"}),l.jsxs("button",{onClick:t,className:"mt-4 inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold",children:[l.jsx(vC,{className:"w-4 h-4"})," Volver a Proyectos"]})]})})},Hut=({descripcion:e,asignaturas:t,docentes:r,onObjetivos:n,onIndicadores:a,onEstructura:s,availableTeachers:i})=>{const[o,c]=S.useState(null),u="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",d=h=>h.map(p=>{var g;return((g=i.find(x=>x.id===p))==null?void 0:g.nombreCompleto)||p}).join(", "),f=async h=>{var p,g,x;if(!e.trim()){alert("Ingrese una descripción del proyecto.");return}c(h);try{const y=new zs(u).getGenerativeModel({model:"gemini-1.5-flash-latest"});if(h==="obj"){const w=`Genera 3 a 5 objetivos de aprendizaje claros y medibles.
Descripción: "${e}"
Asignaturas: "${t.join(", ")}"
Formato: lista con guiones.`,E=await y.generateContent(w);n(E.response.text().replace(/(\*\*|\*)/g,""))}else if(h==="ind"){const w=`Genera 5 a 7 indicadores de logro observables.
Descripción: "${e}"
Asignaturas: "${t.join(", ")}"
Formato: lista con guiones.`,E=await y.generateContent(w);a(E.response.text().replace(/(\*\*|\*)/g,""))}else{const w=`Devuelve SOLO un JSON válido (sin backticks) con claves: actividades, fechasClave y tareas para un proyecto escolar.
Descripción: "${e}"
Docentes responsables: "${d(r)}"
Asignaturas: "${t.join(", ")}"
Estructura:
- actividades: 3 a 5 objetos { "nombre", "fechaInicio" (YYYY-MM-DD), "fechaFin" (YYYY-MM-DD), "responsables", "recursoUrl" }
- fechasClave: 2 a 3 objetos { "nombre", "fecha" (YYYY-MM-DD), "recursoUrl" }
- tareas: 2 a 3 objetos { "instrucciones", "fechaEntrega" (YYYY-MM-DD), "recursoUrl" }`,k=(await y.generateContent(w)).response.text().replace(/^```json\s*|```\s*$/g,""),B=JSON.parse(k);s({actividades:(p=B.actividades)==null?void 0:p.map(j=>({...j,id:crypto.randomUUID()})),fechasClave:(g=B.fechasClave)==null?void 0:g.map(j=>({id:crypto.randomUUID(),nombre:j.nombre,fecha:j.fecha,recursoUrl:j.recursoUrl})),tareas:(x=B.tareas)==null?void 0:x.map((j,C)=>({...j,id:crypto.randomUUID(),numero:C+1}))})}}catch(v){console.error(v),alert("No se pudo completar la generación con IA.")}finally{c(null)}};return l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>f("obj"),disabled:o!==null,className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/50 hover:bg-purple-200 dark:hover:bg-purple-800/50 disabled:opacity-50 transition-colors",title:"Generar objetivos con IA",children:o==="obj"?l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"}):l.jsx(Xg,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),l.jsx("button",{type:"button",onClick:()=>f("ind"),disabled:o!==null,className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/50 hover:bg-purple-200 dark:hover:bg-purple-800/50 disabled:opacity-50 transition-colors",title:"Generar indicadores con IA",children:o==="ind"?l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"}):l.jsx(Xg,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),l.jsx("button",{type:"button",onClick:()=>f("est"),disabled:o!==null,className:"inline-flex items-center gap-2 bg-gradient-to-r from-sky-500 to-blue-600 text-white font-semibold py-2 px-3 rounded-lg disabled:from-slate-400 disabled:to-slate-500 disabled:cursor-not-allowed hover:from-sky-600 hover:to-blue-700 transition-all duration-200 shadow-lg",children:o==="est"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})," ",l.jsx("span",{children:"Generando..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Xg,{className:"w-4 h-4"})," ",l.jsx("span",{children:"Estructura IA"})]})})]})},$ut=({initialPlan:e,onSave:t,onCancel:r,availableTeachers:n})=>{const[a,s]=S.useState(e||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:[],contenidosPorAsignatura:[],objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]}),[i,o]=S.useState({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:"",recursoUrl:""}),[c,u]=S.useState({nombre:"",fecha:"",recursoUrl:""}),[d,f]=S.useState({instrucciones:"",fechaEntrega:"",recursoUrl:""});S.useEffect(()=>{s(e||{id:"",nombreProyecto:"",descripcionProyecto:"",asignaturas:[],cursos:[],docentesResponsables:[],contenidosPorAsignatura:[],objetivos:"",actividades:[],fechasClave:[],indicadoresLogro:"",tareas:[]})},[e]);const h=w=>s(E=>({...E,[w.target.name]:w.target.value})),p=(w,E,k)=>s(B=>({...B,contenidosPorAsignatura:B.contenidosPorAsignatura.map(j=>j.asignatura===w?{...j,[E]:k}:j)})),g=(w,E)=>s(k=>({...k,contenidosPorAsignatura:k.contenidosPorAsignatura.map(B=>B.asignatura===w?{...B,habilidades:B.habilidades.includes(E)?B.habilidades.filter(j=>j!==E):[...B.habilidades,E]}:B)})),x=()=>{if(!i.nombre||!i.fechaInicio||!i.fechaFin){alert("Nombre y fechas son obligatorios.");return}s(w=>({...w,actividades:[...w.actividades||[],{...i,id:crypto.randomUUID()}]})),o({nombre:"",fechaInicio:"",fechaFin:"",responsables:"",asignaturaPrincipal:"",recursoUrl:""})},v=()=>{!c.nombre||!c.fecha||(s(w=>({...w,fechasClave:[...w.fechasClave||[],{...c,id:crypto.randomUUID()}]})),u({nombre:"",fecha:"",recursoUrl:""}))},y=()=>{var E;if(!d.instrucciones||!d.fechaEntrega){alert("Instrucciones y fecha son obligatorios.");return}const w={id:crypto.randomUUID(),numero:(((E=a.tareas)==null?void 0:E.length)||0)+1,...d};s(k=>({...k,tareas:[...k.tareas||[],w]})),f({instrucciones:"",fechaEntrega:"",recursoUrl:""})};return l.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl",children:l.jsx(xx,{className:"w-10 h-10 text-white"})}),l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:e?"Editando Proyecto":"Nuevo Proyecto Interdisciplinario"})]}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Diseñe experiencias de aprendizaje colaborativo e innovador"})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(xg,{icon:l.jsx(hf,{className:"w-6 h-6 text-slate-600"}),label:"Información del Proyecto",aiButton:l.jsx(Hut,{descripcion:a.descripcionProyecto,asignaturas:a.asignaturas,docentes:a.docentesResponsables,availableTeachers:[],onObjetivos:w=>s(E=>({...E,objetivos:w})),onIndicadores:w=>s(E=>({...E,indicadoresLogro:w})),onEstructura:w=>s(E=>{var k,B,j;return{...E,actividades:(k=w.actividades)!=null&&k.length?w.actividades:E.actividades,fechasClave:(B=w.fechasClave)!=null&&B.length?w.fechasClave:E.fechasClave,tareas:(j=w.tareas)!=null&&j.length?w.tareas:E.tareas}})}),children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Nombre del Proyecto"}),l.jsx("input",{name:"nombreProyecto",value:a.nombreProyecto,onChange:h,placeholder:"Ingrese el nombre del proyecto...",className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-lg font-semibold"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Descripción del Proyecto"}),l.jsx("textarea",{name:"descripcionProyecto",value:a.descripcionProyecto,onChange:h,placeholder:"Detalle metodología, producto final y propósito...",className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-h-[120px] resize-none"})]})]})}),l.jsx(xg,{icon:l.jsx(Ec,{className:"w-6 h-6 text-slate-600"}),label:"Profesores Responsables",children:l.jsx("div",{className:"space-y-3",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:n.map(w=>l.jsx("button",{type:"button",onClick:()=>{s(E=>({...E,docentesResponsables:E.docentesResponsables.includes(w.id)?E.docentesResponsables.filter(k=>k!==w.id):[...E.docentesResponsables,w.id]}))},className:`p-3 rounded-lg text-left transition-all duration-200 ${a.docentesResponsables.includes(w.id)?"bg-blue-100 border-2 border-blue-500 text-blue-800 dark:bg-blue-900/50 dark:border-blue-400 dark:text-blue-300":"bg-slate-50 border-2 border-slate-200 hover:border-slate-300 dark:bg-slate-700 dark:border-slate-600 dark:hover:border-slate-500"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm ${a.docentesResponsables.includes(w.id)?"bg-blue-500 text-white":"bg-slate-300 text-slate-700 dark:bg-slate-600 dark:text-slate-300"}`,children:l.jsx(bC,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-sm",children:w.nombreCompleto}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:w.email})]})]})},w.id))})})}),l.jsx(xg,{icon:l.jsx(p4,{className:"w-6 h-6 text-slate-600"}),label:"Cursos Participantes",children:l.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:Kl.map(w=>l.jsx("button",{type:"button",onClick:()=>{s(E=>({...E,cursos:E.cursos.includes(w)?E.cursos.filter(k=>k!==w):[...E.cursos,w]}))},className:`p-3 rounded-lg text-center text-sm font-semibold transition-all duration-200 ${a.cursos.includes(w)?"bg-amber-500 text-white shadow-lg scale-105":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300"}`,children:w},w))})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(xg,{icon:l.jsx(yf,{className:"w-6 h-6 text-slate-600"}),label:"Asignaturas y Contenidos",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Seleccionar Asignaturas:"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:po.map(w=>l.jsx("button",{type:"button",onClick:()=>{s(E=>{const k=E.asignaturas,B=k.includes(w)?k.filter(C=>C!==w):[...k,w];let j=E.contenidosPorAsignatura;return B.includes(w)&&!k.includes(w)&&(j=[...j,{asignatura:w,contenidos:"",habilidades:[]}]),!B.includes(w)&&k.includes(w)&&(j=j.filter(C=>C.asignatura!==w)),{...E,asignaturas:B,contenidosPorAsignatura:j}})},className:`p-2 rounded-lg text-left text-sm font-medium transition-all duration-200 ${a.asignaturas.includes(w)?"bg-green-500 text-white shadow-md":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300"}`,children:w},w))})]}),a.contenidosPorAsignatura.length>0&&l.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Contenidos y Habilidades por Asignatura:"}),a.contenidosPorAsignatura.map(w=>l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600",children:[l.jsxs("h5",{className:"font-bold text-slate-800 dark:text-slate-200 mb-3 flex items-center gap-2",children:[l.jsx(yf,{className:"w-4 h-4"})," ",w.asignatura]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Contenidos a trabajar:"}),l.jsx("textarea",{value:w.contenidos,onChange:E=>p(w.asignatura,"contenidos",E.target.value),placeholder:`Detalle los contenidos específicos de ${w.asignatura}...`,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm min-h-[80px] resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"Habilidades según Taxonomía de Bloom:"}),l.jsx("div",{className:"space-y-2",children:Object.entries(IR).map(([E,k])=>l.jsxs("div",{className:"border border-slate-200 dark:border-slate-600 rounded-md p-2",children:[l.jsxs("h6",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 mb-1",children:[E,":"]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:k.map(B=>l.jsx("button",{type:"button",onClick:()=>g(w.asignatura,B),className:`px-2 py-1 rounded-md text-xs font-medium transition-colors ${w.habilidades.includes(B)?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-500"}`,children:B},B))})]},E))}),w.habilidades.length>0&&l.jsxs("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:[l.jsx("p",{className:"text-xs font-semibold text-blue-800 dark:text-blue-300 mb-1",children:"Habilidades seleccionadas:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:w.habilidades.map(E=>l.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded text-xs",children:E},E))})]})]})]})]},w.asignatura))]})]})}),l.jsx(xg,{icon:l.jsx(mb,{className:"w-6 h-6 text-slate-600"}),label:"Objetivos de Aprendizaje",children:l.jsx("textarea",{name:"objetivos",value:a.objetivos,onChange:h,placeholder:"Liste los objetivos de aprendizaje...",className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-h-[120px] resize-none"})}),l.jsx(xg,{icon:l.jsx(af,{className:"w-6 h-6 text-slate-600"}),label:"Indicadores de Éxito",children:l.jsx("textarea",{name:"indicadoresLogro",value:a.indicadoresLogro,onChange:h,placeholder:"Liste los indicadores de logro...",className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-h-[120px] resize-none"})}),l.jsxs(xg,{icon:l.jsx(hd,{className:"w-6 h-6 text-slate-600"}),label:"Planificación y Cronograma",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Lp,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),l.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Actividades del Proyecto"})]}),l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-3 items-end",children:[l.jsxs("div",{className:"lg:col-span-3",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Nombre"}),l.jsx("input",{value:i.nombre,onChange:w=>o({...i,nombre:w.target.value}),placeholder:"Nombre de la actividad",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Inicio"}),l.jsx("input",{type:"date",value:i.fechaInicio,onChange:w=>o({...i,fechaInicio:w.target.value}),className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Fin"}),l.jsx("input",{type:"date",value:i.fechaFin,onChange:w=>o({...i,fechaFin:w.target.value}),className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsxs("div",{className:"lg:col-span-3",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Recurso (enlace)"}),l.jsx("input",{value:i.recursoUrl||"",onChange:w=>o({...i,recursoUrl:w.target.value}),placeholder:"https://...",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("button",{type:"button",onClick:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-md text-sm font-semibold transition-colors flex items-center justify-center gap-1",children:[l.jsx(pd,{className:"w-4 h-4"})," Agregar"]})})]}),!!a.actividades.length&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h5",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"Actividades Agregadas:"}),l.jsx("div",{className:"space-y-2",children:a.actividades.map(w=>l.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-md border border-slate-200 dark:border-slate-600 text-sm",children:l.jsxs("div",{className:"flex justify-between items-center gap-2",children:[l.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:w.nombre}),l.jsxs("span",{className:"text-slate-500 dark:text-slate-400 text-xs",children:[w.fechaInicio," - ",w.fechaFin]}),l.jsx(tC,{href:w.recursoUrl})]})},w.id))})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(K8,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),l.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Fechas Clave (Hitos)"})]}),l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-3 items-end",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Nombre del Hito"}),l.jsx("input",{value:c.nombre,onChange:w=>u({...c,nombre:w.target.value}),placeholder:"Nombre del hito",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Fecha"}),l.jsx("input",{type:"date",value:c.fecha,onChange:w=>u({...c,fecha:w.target.value}),className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsxs("div",{className:"sm:col-span-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Recurso (enlace)"}),l.jsx("input",{value:c.recursoUrl||"",onChange:w=>u({...c,recursoUrl:w.target.value}),placeholder:"https://...",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsxs("button",{type:"button",onClick:v,className:"bg-green-600 hover:bg-green-700 text-white p-2 rounded-md text-sm font-semibold transition-colors flex items-center justify-center gap-1",children:[l.jsx(pd,{className:"w-4 h-4"})," Agregar"]})]}),!!a.fechasClave.length&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h5",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"Fechas Clave Agregadas:"}),l.jsx("div",{className:"space-y-2",children:a.fechasClave.map(w=>l.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-md border border-slate-200 dark:border-slate-600 text-sm",children:l.jsxs("div",{className:"flex justify-between items-center gap-2",children:[l.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:w.nombre}),l.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-xs",children:w.fecha}),l.jsx(tC,{href:w.recursoUrl})]})},w.id))})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(xC,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),l.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Tareas para Estudiantes"})]}),l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-3 items-end",children:[l.jsxs("div",{className:"lg:col-span-5",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Instrucciones de la Tarea"}),l.jsx("input",{value:d.instrucciones,onChange:w=>f({...d,instrucciones:w.target.value}),placeholder:"Descripción detallada de la tarea",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsxs("div",{className:"lg:col-span-3",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Fecha de Entrega"}),l.jsx("input",{type:"date",value:d.fechaEntrega,onChange:w=>f({...d,fechaEntrega:w.target.value}),className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsxs("div",{className:"lg:col-span-3",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Recurso (enlace)"}),l.jsx("input",{value:d.recursoUrl||"",onChange:w=>f({...d,recursoUrl:w.target.value}),placeholder:"https://...",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-sm"})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("button",{type:"button",onClick:y,className:"w-full bg-purple-600 hover:bg-purple-700 text-white p-2 rounded-md text-sm font-semibold transition-colors flex items-center justify-center gap-1",children:[l.jsx(pd,{className:"w-4 h-4"})," Agregar"]})})]}),!!a.tareas.length&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h5",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"Tareas Agregadas:"}),l.jsx("div",{className:"space-y-2",children:a.tareas.map(w=>l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-md border border-slate-200 dark:border-slate-600",children:l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("span",{className:"inline-block bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 text-xs font-bold px-2 py-1 rounded mb-1",children:["Tarea #",w.numero]}),l.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:w.instrucciones})]}),l.jsxs("div",{className:"text-right space-y-1",children:[l.jsx("span",{className:"block text-slate-500 dark:text-slate-400 text-xs",children:w.fechaEntrega}),"recursoUrl"in w?l.jsx(tC,{href:w.recursoUrl}):l.jsx("span",{className:"text-slate-400 text-xs",children:"—"})]})]})},w.id))})]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-8 border-t border-slate-200 dark:border-slate-700",children:[l.jsx("button",{onClick:r,className:"px-8 py-3 bg-slate-200 text-slate-700 rounded-lg font-semibold hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors order-2 sm:order-1",children:"Cancelar"}),l.jsx("button",{onClick:()=>t(a),className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg order-1 sm:order-2",children:e?"Guardar Cambios":"Crear Proyecto"})]})]})]})]})]})},CZ=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,s]=S.useState(!0),[i,o]=S.useState("list"),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,p]=S.useState(null),[g,x]=S.useState("all"),v=S.useMemo(()=>g==="all"?e:e.filter(N=>N.id===g),[e,g]);S.useEffect(()=>{s(!0);const N=Bhe(L=>{const O=L.filter(T=>T.profile===Yt.PROFESORADO);n(O)}),I=Dut(L=>{const O=L.map(T=>({...T,docentesResponsables:Array.isArray(T.docentesResponsables)?T.docentesResponsables:[T.docentesResponsables].filter(Boolean),contenidosPorAsignatura:T.contenidosPorAsignatura||[],actividades:T.actividades||[],fechasClave:T.fechasClave||[]}));t(O),s(!1)});return()=>{N(),I()}},[]);const y=S.useCallback(async(N,I)=>{const L=e.find(T=>T.id===N);if(!L)return;const O={...L,actividades:(L.actividades||[]).map(T=>T.id===I.id?I:T)};await yZ(N,O)},[e]),w=async N=>{try{const I=N.id&&String(N.id).length>0,L={...N};if(I){const{id:O,...T}=L;await yZ(N.id,T)}else delete L.id,await Put(L);o("list"),u(null)}catch(I){console.error("Error al guardar la planificación:",I),alert("No se pudo guardar la planificación.")}},E=N=>{u(N),o("form")},k=async N=>{if(!N){alert("Error: ID inválido.");return}if(window.confirm("¿Está seguro de eliminar esta planificación?"))try{await Rut(N)}catch(I){console.error(I),alert("No se pudo eliminar la planificación.")}},B=()=>{u(null),o("form")},j=async N=>{f(N.id);const I=new Sr("p","mm","a4"),L=15,T=I.internal.pageSize.getWidth()-L*2;let P=L+20;I.setFont("helvetica","bold"),I.setFontSize(22),I.setTextColor(0);const R=I.splitTextToSize(N.nombreProyecto,T);I.text(R,L,P),P+=R.length*8+10,Uo(I,{startY:P,body:[[{content:"Docentes Responsables:",styles:{fontStyle:"bold"}},(G=>G.map(K=>{var z;return((z=r.find(Y=>Y.id===K))==null?void 0:z.nombreCompleto)||K}).join(", "))(N.docentesResponsables)],[{content:"Cursos Involucrados:",styles:{fontStyle:"bold"}},N.cursos.join(", ")],[{content:"Asignaturas:",styles:{fontStyle:"bold"}},N.asignaturas.join(", ")]],theme:"grid",styles:{fontSize:11,cellPadding:3,lineColor:[220,220,220]},columnStyles:{0:{cellWidth:50,fontStyle:"bold"}}}),P=I.lastAutoTable.finalY+15;const Q=(G,K)=>{if(!K||Array.isArray(K)&&!K.length||typeof K=="string"&&!K.trim())return;const z=Array.isArray(K)?K.join(", "):String(K),Y=I.splitTextToSize(z,T);I.setFont("helvetica","bold"),I.setFontSize(14),I.setTextColor(40),I.text(G,L,P),P+=8,I.setFont("helvetica","normal"),I.setFontSize(11),I.setTextColor(80),I.text(Y,L,P),P+=Y.length*5+10};if(Q("Descripción del Proyecto",N.descripcionProyecto),Q("Objetivos de Aprendizaje",N.objetivos),Q("Indicadores de Logro",N.indicadoresLogro),N.contenidosPorAsignatura&&N.contenidosPorAsignatura.length>0&&(I.setFont("helvetica","bold"),I.setFontSize(14),I.text("Contenidos por Asignatura",L,P),P+=10,N.contenidosPorAsignatura.forEach(G=>{var K;if(I.setFont("helvetica","bold"),I.setFontSize(11),I.text(`${G.asignatura}:`,L,P),P+=6,I.setFont("helvetica","normal"),I.setFontSize(11),G.contenidos){const z=I.splitTextToSize(`Contenidos: ${G.contenidos}`,T-10);I.text(z,L+5,P),P+=z.length*5+3}if((K=G.habilidades)!=null&&K.length){const z=`Habilidades: ${G.habilidades.join(", ")}`,Y=I.splitTextToSize(z,T-10);I.text(Y,L+5,P),P+=Y.length*5+8}}),P+=10),N.actividades&&N.actividades.length>0&&(I.setFont("helvetica","bold"),I.setFontSize(14),I.text("Actividades",L,P),P+=10,Uo(I,{startY:P,head:[["Actividad","Inicio","Fin","Recurso"]],body:N.actividades.map(G=>[G.nombre,G.fechaInicio,G.fechaFin,G.recursoUrl||"—"]),theme:"striped"}),P=I.lastAutoTable.finalY+10),N.fechasClave&&N.fechasClave.length>0&&(I.setFont("helvetica","bold"),I.setFontSize(14),I.text("Fechas Clave",L,P),P+=10,Uo(I,{startY:P,head:[["Hito","Fecha","Recurso"]],body:N.fechasClave.map(G=>[G.nombre,G.fecha,G.recursoUrl||"—"]),theme:"striped"}),P=I.lastAutoTable.finalY+10),N.tareas&&N.tareas.length>0){const G=N.tareas.map(K=>[String(K.numero||""),K.instrucciones,K.fechaEntrega,K.recursoUrl||"—"]);I.setFont("helvetica","bold"),I.setFontSize(14),I.text("Tareas para Estudiantes",L,P),P+=10,Uo(I,{startY:P,head:[["#","Instrucciones","Entrega","Recurso"]],body:G,theme:"striped",headStyles:{fillColor:[52,73,94]}})}I.save(`Proyecto_${N.nombreProyecto.replace(/\s/g,"_")}.pdf`),f(null)},C=N=>N.map(I=>{var L;return((L=r.find(O=>O.id===I))==null?void 0:L.nombreCompleto)||I}).join(", ");return a?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Cargando proyectos..."})]})}):h?l.jsx(Qut,{plan:h,onBack:()=>p(null),availableTeachers:r}):i==="dashboard"?l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>o("list"),className:"px-4 py-2 rounded-xl font-semibold bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-600 transition",children:"Proyectos"}),l.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl font-semibold bg-gradient-to-r from-green-600 to-teal-600 text-white shadow",children:"Dashboard"})]})}),l.jsx(Uut,{planificaciones:e,onBack:()=>o("list")})]}):i==="form"?l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{o("list"),u(null)},className:"px-4 py-2 rounded-xl font-semibold bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-600 transition",children:"Proyectos"}),l.jsx("button",{type:"button",onClick:()=>o("dashboard"),className:"px-4 py-2 rounded-xl font-semibold bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-600 transition",children:"Dashboard"})]})}),l.jsx($ut,{initialPlan:c,onSave:w,onCancel:()=>{o("list"),u(null)},availableTeachers:r})]}):l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl font-semibold bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow",children:"Proyectos"}),l.jsx("button",{type:"button",onClick:()=>o("dashboard"),className:"px-4 py-2 rounded-xl font-semibold bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-600 transition",children:"Dashboard"})]})}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl",children:l.jsx(xx,{className:"w-8 h-8 text-white"})}),l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Proyectos Interdisciplinarios"})]}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Gestione experiencias de aprendizaje colaborativo e innovador"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{type:"button",onClick:()=>o("dashboard"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-green-600 to-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:from-green-700 hover:to-teal-700 transition-all duration-200 shadow-lg",children:[l.jsx(x4,{className:"w-5 h-5"})," Ver Dashboard"]}),l.jsxs("button",{type:"button",onClick:B,className:"inline-flex items-center gap-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-3 px-6 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg",children:[l.jsx(pd,{className:"w-5 h-5"})," Crear Nuevo Proyecto"]})]})]}),e.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:l.jsx(xx,{className:"w-12 h-12 text-slate-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"No hay proyectos creados"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-500 mb-6",children:"Comience creando su primer proyecto interdisciplinario"}),l.jsxs("button",{type:"button",onClick:B,className:"inline-flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(pd,{className:"w-4 h-4"})," Crear Primer Proyecto"]})]}):l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(N=>l.jsxs("div",{className:"group bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl p-6 hover:shadow-lg transition-all duration-200 hover:border-blue-300 dark:hover:border-blue-600",children:[l.jsx("div",{className:"flex justify-between items-start mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-bold text-xl text-slate-800 dark:text-slate-200 mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:N.nombreProyecto}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[l.jsx(p4,{className:"w-4 h-4"}),l.jsxs("span",{children:["Cursos: ",N.cursos.join(", ")]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[l.jsx(Ec,{className:"w-4 h-4"}),l.jsxs("span",{children:["Profesores: ",C(N.docentesResponsables)]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[l.jsx(yf,{className:"w-4 h-4"}),l.jsxs("span",{children:["Asignaturas: ",N.asignaturas.length]})]})]})]})}),!!N.descripcionProyecto&&l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4 line-clamp-3",children:N.descripcionProyecto}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200 dark:border-slate-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>p(N),className:"inline-flex items-center gap-1 text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 font-semibold text-sm transition-colors",title:"Ver entregas de estudiantes",children:[l.jsx(K8,{className:"w-4 h-4"})," Entregas"]}),l.jsxs("button",{type:"button",onClick:()=>j(N),disabled:d===N.id,className:"inline-flex items-center gap-1 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 font-semibold text-sm transition-colors disabled:opacity-50",title:"Exportar a PDF",children:[d===N.id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):l.jsx(pm,{className:"w-4 h-4"}),"PDF"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>E(N),className:"p-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/50 rounded-lg transition-colors",title:"Editar proyecto",children:l.jsx(Cse,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:()=>k(N.id),className:"p-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-lg transition-colors",title:"Eliminar proyecto",children:l.jsx($o,{className:"w-4 h-4"})})]})]})]},N.id))})]}),e.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(t5e,{className:"w-5 h-5 text-slate-600"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Cronograma (Gantt)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm text-slate-600",children:"Proyecto:"}),l.jsxs("select",{value:g,onChange:N=>x(N.target.value),className:"p-2 border border-slate-300 rounded-lg bg-white dark:bg-slate-700 text-sm",children:[l.jsx("option",{value:"all",children:"Todos"}),e.map(N=>l.jsx("option",{value:N.id,children:N.nombreProyecto},N.id))]})]})]}),l.jsx("div",{id:"gantt-container-vertical",children:l.jsx(Mut,{planificaciones:v,onActivityUpdate:y})})]})]})},Qb="panol_maquinas",dS="panol_registros",Vut=e=>{const t=zt(wt(mt,Qb),wr("nombre","asc"));return br(t,r=>{const n=r.docs.map(a=>({id:a.id,...a.data()}));e(n)})},zut=e=>{const t=zt(wt(mt,dS),wr("fecha","desc"));return br(t,r=>{const n=r.docs.map(a=>{const s=a.data();return{id:a.id,fecha:s.fecha,curso:s.curso,profesorResponsable:s.profesorResponsable,maquinaId:s.maquinaId,totalHoras:s.totalHoras,observaciones:s.observaciones||""}});e(n)})},Gut=async e=>(await Bn(wt(mt,Qb),{...e,createdAt:Vi(),updatedAt:Vi()})).id,Kut=async(e,t)=>{await bu(dr(mt,Qb,e),{...t,updatedAt:Vi()})},qut=async e=>{const t=zt(wt(mt,dS),Gr("maquinaId","==",e));if(!(await qn(t)).empty)throw new Error("No se puede eliminar una máquina con registros de uso. Elimine los registros primero.");await hs(dr(mt,Qb,e))},Wut=async e=>(await Bn(wt(mt,dS),{...e,createdAt:Vi(),updatedAt:Vi()})).id,Xut=async(e,t)=>{await bu(dr(mt,dS,e),{...t,updatedAt:Vi()})},Yut=async e=>{await hs(dr(mt,dS,e))},Jut=async()=>{if(!(await qn(wt(mt,Qb))).empty)return;const t=Qx(mt);[{nombre:"Torno",especialidad:"Industrial"},{nombre:"Fresadora",especialidad:"Industrial"},{nombre:"Rectificadora",especialidad:"Industrial"},{nombre:"Soldadora MIG",especialidad:"Industrial"},{nombre:"Soldadora TIG",especialidad:"Industrial"},{nombre:"Torno CNC",especialidad:"Industrial"},{nombre:"Elevador",especialidad:"Automotriz"},{nombre:"Compresor",especialidad:"Automotriz"},{nombre:"Rectificadora",especialidad:"Automotriz"},{nombre:"Maqueta de motor",especialidad:"Automotriz"},{nombre:"Maqueta hidráulica",especialidad:"Automotriz"}].forEach(n=>{const a=dr(wt(mt,Qb));t.set(a,{...n,createdAt:Vi(),updatedAt:Vi()})}),await t.commit()},Zut=()=>{var q;const[e,t]=S.useState([]),[r,n]=S.useState([]),a={fecha:new Date().toISOString().split("T")[0],curso:"",profesorResponsable:"",maquinaId:"",totalHoras:0,observaciones:""},[s,i]=S.useState(a),[o,c]=S.useState(null),u={nombre:"",especialidad:"Industrial"},[d,f]=S.useState(u),[h,p]=S.useState(null),[g,x]=S.useState({maquinaId:"",curso:"",profesor:"",fecha:""});S.useEffect(()=>{Jut().catch(console.error);const Q=Vut(t),G=zut(n);return()=>{Q&&Q(),G&&G()}},[]);const v=async Q=>{if(Q.preventDefault(),!!d.nombre.trim())try{h?await Kut(h.id,{...d}):await Gut({...d}),f(u),p(null)}catch(G){alert(G.message||"Error al guardar máquina")}},y=S.useCallback(async Q=>{try{await qut(Q)}catch(G){alert(G.message||"Error al eliminar máquina")}},[]),w=async Q=>{Q.preventDefault();const G=o||s;if(!G.curso||!G.profesorResponsable.trim()||!G.maquinaId||Number(G.totalHoras)<=0){alert("Curso, Profesor, Máquina y un Total de Horas mayor a cero son obligatorios.");return}try{if(o){const{id:K,...z}=o;await Xut(K,z)}else await Wut({...s});i(a),c(null)}catch(K){alert(K.message||"Error al guardar registro")}},E=S.useCallback(async Q=>{try{await Yut(Q)}catch(G){alert(G.message||"Error al eliminar registro")}},[]),k=S.useMemo(()=>r.filter(Q=>(g.maquinaId===""||Q.maquinaId===g.maquinaId)&&(g.curso===""||Q.curso===g.curso)&&(g.profesor===""||Q.profesorResponsable.toLowerCase().includes(g.profesor.toLowerCase()))&&(g.fecha===""||Q.fecha===g.fecha)).sort((Q,G)=>new Date(G.fecha).getTime()-new Date(Q.fecha).getTime()),[r,g]),B=S.useMemo(()=>new Map(e.map(Q=>[Q.id,Q])),[e]),j=S.useMemo(()=>k.reduce((Q,G)=>Q+(Number(G.totalHoras)||0),0),[k]),C=S.useMemo(()=>{const Q=new Map;k.forEach(K=>{var Y;const z=((Y=B.get(K.maquinaId))==null?void 0:Y.nombre)||"N/A";Q.set(z,(Q.get(z)||0)+(Number(K.totalHoras)||0))});const G=Array.from(Q.entries()).map(([K,z])=>({maquina:K,horas:Number(z.toFixed(2))}));return G.sort((K,z)=>z.horas-K.horas),G},[k,B]),N=()=>{const Q=k.map(z=>{var Y,ee;return{Fecha:z.fecha,Curso:z.curso,Profesor:z.profesorResponsable,Máquina:((Y=B.get(z.maquinaId))==null?void 0:Y.nombre)||"N/A",Especialidad:((ee=B.get(z.maquinaId))==null?void 0:ee.especialidad)||"N/A","Total Horas":z.totalHoras,Observaciones:z.observaciones}}),G=zl.json_to_sheet(Q),K=zl.book_new();zl.book_append_sheet(K,G,"RegistrosPañol"),mj(K,"Registros_Pañol.xlsx")},I=()=>{const Q=new Sr;Uo(Q,{head:[["Fecha","Curso","Profesor","Máquina","Especialidad","Total Horas","Observaciones"]],body:k.map(G=>{var K,z;return[G.fecha,G.curso,G.profesorResponsable,((K=B.get(G.maquinaId))==null?void 0:K.nombre)||"N/A",((z=B.get(G.maquinaId))==null?void 0:z.especialidad)||"N/A",G.totalHoras,G.observaciones]}),margin:{top:24,right:10,bottom:20,left:10},didDrawPage:G=>{Q.setFontSize(12),Q.setFont("helvetica","bold"),Q.text("LICEO INDUSTRIAL DE RECOLETA",G.settings.margin.left,14),Q.setFontSize(10),Q.setFont("helvetica","normal"),Q.text("Informe de Registros de Pañol",G.settings.margin.left,20)}}),Q.save("Registros_Pañol.pdf")},L="w-full border border-slate-300 rounded-xl px-3 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-400 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100 dark:placeholder-slate-400",O=(Q,G)=>l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G}`,children:Q}),T=({icon:Q,label:G,value:K,accent:z="from-indigo-500 to-sky-500"})=>l.jsxs("div",{className:"relative rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-tr ${z} opacity-10`}),l.jsxs("div",{className:"relative flex items-center gap-3 bg-white/70 dark:bg-slate-800/60 rounded-xl p-3",children:[l.jsx("div",{className:"p-2 rounded-xl bg-white dark:bg-slate-700 shadow",children:Q}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:G}),l.jsx("div",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:K})]})]})]}),P=({title:Q,icon:G,children:K,right:z,accent:Y="from-indigo-600/10 via-sky-500/10 to-emerald-500/10"})=>l.jsxs("section",{className:"rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 relative overflow-hidden",children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${Y}`}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"flex items-center gap-2 text-lg font-bold text-slate-800 dark:text-slate-100",children:[G," ",l.jsx("span",{children:Q})]}),z]}),K]})]}),R=()=>{const Q=o||s,G=o?c:i;return l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 items-end",children:[l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(hd,{size:16})," Fecha"]}),l.jsx("input",{name:"fecha",type:"date",value:Q.fecha,onChange:K=>G({...Q,fecha:K.target.value}),className:L,required:!0})]}),l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(Ec,{size:16})," Curso"]}),l.jsxs("select",{name:"curso",value:Q.curso,onChange:K=>G({...Q,curso:K.target.value}),className:L,required:!0,children:[l.jsx("option",{value:"",children:"Curso"}),Kl.map(K=>l.jsx("option",{children:K},K))]})]}),l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(yf,{size:16})," Profesor"]}),l.jsxs("select",{name:"profesorResponsable",value:Q.profesorResponsable,onChange:K=>G({...Q,profesorResponsable:K.target.value}),className:L,required:!0,children:[l.jsx("option",{value:"",children:"Profesor Responsable"}),QD.map(K=>l.jsx("option",{value:K,children:K},K))]})]}),l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(cN,{size:16})," Máquina"]}),l.jsxs("select",{name:"maquinaId",value:Q.maquinaId,onChange:K=>G({...Q,maquinaId:K.target.value}),className:L,required:!0,children:[l.jsx("option",{value:"",children:"Máquina"}),e.map(K=>l.jsx("option",{value:K.id,children:K.nombre},K.id))]})]}),l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(m4,{size:16})," Total de Horas"]}),l.jsx("input",{name:"totalHoras",type:"number",value:Q.totalHoras,onChange:K=>G({...Q,totalHoras:Number(K.target.value)}),className:L,required:!0,min:.5,step:.5})]}),l.jsxs("div",{className:"lg:col-span-6",children:[l.jsx("label",{className:"text-sm font-medium",children:"Observaciones"}),l.jsx("textarea",{name:"observaciones",value:Q.observaciones,onChange:K=>G({...Q,observaciones:K.target.value}),placeholder:"Observaciones...",className:L+" min-h-[40px]",rows:2})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o&&l.jsxs("button",{type:"button",onClick:()=>c(null),className:"inline-flex items-center gap-2 bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700 font-medium py-2 px-4 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition",children:[l.jsx(v4,{size:16})," Cancelar"]}),l.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 bg-indigo-600 text-white font-semibold py-2 px-4 rounded-xl hover:bg-indigo-500 transition",children:[o?l.jsx(o0,{size:16}):l.jsx(pd,{size:16}),o?"Actualizar":"Registrar"]})]})]})};return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("header",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 via-sky-500 to-emerald-500",children:"Pañol: Registro de Uso de Máquinas"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Administra máquinas, registra usos y exporta informes (Firestore)."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-100 border border-slate-200 dark:border-slate-800 px-3 py-2 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 transition",title:"Exportar a Excel",children:[l.jsx(D_e,{size:18})," Excel"]}),l.jsxs("button",{onClick:I,className:"inline-flex items-center gap-2 bg-emerald-600 text-white px-3 py-2 rounded-xl hover:bg-emerald-500 transition",title:"Exportar a PDF",children:[l.jsx(hf,{size:18})," PDF"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(T,{icon:l.jsx(cN,{className:"w-5 h-5 text-indigo-600"}),label:"Máquinas registradas",value:e.length,accent:"from-indigo-500 to-sky-500"}),l.jsx(T,{icon:l.jsx(hf,{className:"w-5 h-5 text-sky-600"}),label:"Registros",value:k.length,accent:"from-sky-500 to-cyan-500"}),l.jsx(T,{icon:l.jsx(m4,{className:"w-5 h-5 text-emerald-600"}),label:"Horas totales (filtradas)",value:j.toFixed(1),accent:"from-emerald-500 to-lime-500"}),l.jsx(T,{icon:l.jsx(hd,{className:"w-5 h-5 text-amber-600"}),label:"Última actualización",value:(q=r[0])!=null&&q.fecha?new Date(r[0].fecha).toLocaleDateString():"—",accent:"from-amber-500 to-rose-400"})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[l.jsx("div",{className:"xl:col-span-3",children:l.jsx(P,{title:o?`Editando registro #${o.id.slice(0,4)}`:"Nuevo registro de uso",icon:l.jsx(N_e,{size:18}),children:l.jsx(R,{})})}),l.jsx("div",{className:"xl:col-span-2 order-1 xl:order-none",children:l.jsx(P,{title:"Uso por máquina (horas)",icon:l.jsx(af,{size:18}),accent:"from-indigo-600/10 via-sky-500/10 to-amber-500/10",right:l.jsx("div",{className:"flex gap-2 items-center",children:O(`${C.length} máquinas`,"bg-indigo-50 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-200")}),children:l.jsx("div",{className:"h-[320px] w-full",children:l.jsx($h,{width:"100%",height:"100%",children:l.jsxs(LC,{data:C,margin:{top:8,right:16,bottom:8,left:0},children:[l.jsx(RC,{strokeDasharray:"3 3"}),l.jsx(Ex,{dataKey:"maquina",tick:{fontSize:12},interval:0,angle:0,height:50}),l.jsx(Sx,{}),l.jsx(Hh,{}),l.jsx(fy,{}),l.jsx(Ib,{dataKey:"horas",name:"Horas",fill:"#6366F1",radius:[6,6,0,0]})]})})})})}),l.jsx("div",{className:"xl:col-span-1 order-2 xl:order-none",children:l.jsxs(P,{title:"Administrar máquinas",icon:l.jsx(cN,{size:18}),accent:"from-emerald-600/10 via-sky-500/10 to-indigo-600/10",children:[l.jsxs("form",{onSubmit:v,className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-4",children:[l.jsx("input",{value:d.nombre,onChange:Q=>f({...d,nombre:Q.target.value}),placeholder:"Nombre máquina",className:L+" md:col-span-2"}),l.jsxs("select",{value:d.especialidad,onChange:Q=>f({...d,especialidad:Q.target.value}),className:L+" md:col-span-2",children:[l.jsx("option",{value:"Industrial",children:"Industrial"}),l.jsx("option",{value:"Automotriz",children:"Automotriz"})]}),l.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold py-2 px-3 rounded-xl hover:bg-indigo-500 transition md:col-span-1",children:[h?l.jsx(o0,{size:16}):l.jsx(pd,{size:16}),h?"Guardar":"Agregar"]})]}),l.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto pr-1",children:e.map(Q=>l.jsxs("li",{className:"flex justify-between items-center bg-gradient-to-r from-slate-50 to-white dark:from-slate-800/60 dark:to-slate-800/30 border border-slate-200 dark:border-slate-700 p-3 rounded-xl",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-100",children:Q.nombre}),l.jsx("div",{className:"text-xs",children:Q.especialidad==="Industrial"?O("Industrial","bg-indigo-50 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-200"):O("Automotriz","bg-emerald-50 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{p(Q),f(Q)},className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition",title:"Editar",children:l.jsx(HD,{size:16,className:"text-blue-600"})}),l.jsx("button",{onClick:()=>y(Q.id),className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition",title:"Eliminar",children:l.jsx($o,{size:16,className:"text-red-600"})})]})]},Q.id))})]})}),l.jsx("div",{className:"xl:col-span-2 order-3",children:l.jsxs(P,{title:"Historial de uso",icon:l.jsx(hf,{size:18}),accent:"from-rose-500/10 via-amber-400/10 to-indigo-500/10",right:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(q8,{size:16,className:"text-slate-600"})}),children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:[l.jsx("input",{type:"date",value:g.fecha,onChange:Q=>x({...g,fecha:Q.target.value}),className:L,placeholder:"Fecha"}),l.jsxs("select",{value:g.curso,onChange:Q=>x({...g,curso:Q.target.value}),className:L,children:[l.jsx("option",{value:"",children:"Todos los Cursos"}),Kl.map(Q=>l.jsx("option",{children:Q},Q))]}),l.jsxs("select",{value:g.maquinaId,onChange:Q=>x({...g,maquinaId:Q.target.value}),className:L,children:[l.jsx("option",{value:"",children:"Todas las Máquinas"}),e.map(Q=>l.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),l.jsxs("div",{className:"relative",children:[l.jsx(GT,{size:16,className:"absolute left-3 top-2.5 text-slate-400"}),l.jsx("input",{value:g.profesor,onChange:Q=>x({...g,profesor:Q.target.value}),placeholder:"Buscar profesor...",className:L+" pl-9"})]})]}),l.jsx("div",{className:"max-h-[420px] overflow-y-auto border border-slate-200 dark:border-slate-800 rounded-xl",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-800",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 sticky top-0 z-10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 uppercase",children:"Fecha"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 uppercase",children:"Máquina"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 uppercase",children:"Profesor / Curso"}),l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-600 uppercase",children:"Total Horas"}),l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-slate-600 uppercase",children:"Acciones"})]})}),l.jsxs("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-800",children:[k.map(Q=>{var G;return l.jsxs("tr",{className:"hover:bg-slate-50/60 dark:hover:bg-slate-800/50 transition",children:[l.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:Q.fecha}),l.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium",children:((G=B.get(Q.maquinaId))==null?void 0:G.nombre)||"N/A"}),l.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:[Q.profesorResponsable," ",l.jsxs("span",{className:"text-slate-400",children:["(",Q.curso,")"]})]}),l.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:Q.totalHoras}),l.jsxs("td",{className:"px-3 py-2 text-center",children:[l.jsx("button",{onClick:()=>c(Q),className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition",title:"Editar",children:l.jsx(HD,{size:16,className:"text-blue-600"})}),l.jsx("button",{onClick:()=>E(Q.id),className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition",title:"Eliminar",children:l.jsx($o,{size:16,className:"text-red-600"})})]})]},Q.id)}),k.length===0&&l.jsx("tr",{children:l.jsx("td",{className:"px-3 py-6 text-center text-sm text-slate-500",colSpan:5,children:"No hay registros que coincidan con los filtros."})})]})]})})]})})]})]})};function Xl(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=Xl(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}const edt={},EZ=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(edt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},tdt=e=>e?EZ(e):EZ,{useDebugValue:rdt}=Ze,{useSyncExternalStoreWithSelector:ndt}=aFe,adt=e=>e;function jhe(e,t=adt,r){const n=ndt(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return rdt(n),n}const SZ=(e,t)=>{const r=tdt(e),n=(a,s=t)=>jhe(r,a,s);return Object.assign(n,r),n},sdt=(e,t)=>e?SZ(e,t):SZ;function kl(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var idt={value:()=>{}};function yj(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new wN(r)}function wN(e){this._=e}function odt(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}wN.prototype=yj.prototype={constructor:wN,on:function(e,t){var r=this._,n=odt(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=ldt(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=_Z(r[a],e.name,t);else if(t==null)for(a in r)r[a]=_Z(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new wN(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function ldt(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function _Z(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=idt,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var FR="http://www.w3.org/1999/xhtml";const NZ={svg:"http://www.w3.org/2000/svg",xhtml:FR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wj(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),NZ.hasOwnProperty(t)?{space:NZ[t],local:e}:e}function cdt(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===FR&&t.documentElement.namespaceURI===FR?t.createElement(e):t.createElementNS(r,e)}}function udt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ihe(e){var t=wj(e);return(t.local?udt:cdt)(t)}function ddt(){}function L9(e){return e==null?ddt:function(){return this.querySelector(e)}}function fdt(e){typeof e!="function"&&(e=L9(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=new Array(i),c,u,d=0;d<i;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),o[d]=u);return new vu(n,this._parents)}function Adt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function hdt(){return[]}function Fhe(e){return e==null?hdt:function(){return this.querySelectorAll(e)}}function pdt(e){return function(){return Adt(e.apply(this,arguments))}}function mdt(e){typeof e=="function"?e=pdt(e):e=Fhe(e);for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var i=t[s],o=i.length,c,u=0;u<o;++u)(c=i[u])&&(n.push(e.call(c,c.__data__,u,i)),a.push(c));return new vu(n,a)}function Ohe(e){return function(){return this.matches(e)}}function Dhe(e){return function(t){return t.matches(e)}}var gdt=Array.prototype.find;function xdt(e){return function(){return gdt.call(this.children,e)}}function vdt(){return this.firstElementChild}function bdt(e){return this.select(e==null?vdt:xdt(typeof e=="function"?e:Dhe(e)))}var ydt=Array.prototype.filter;function wdt(){return Array.from(this.children)}function Cdt(e){return function(){return ydt.call(this.children,e)}}function Edt(e){return this.selectAll(e==null?wdt:Cdt(typeof e=="function"?e:Dhe(e)))}function Sdt(e){typeof e!="function"&&(e=Ohe(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&o.push(c);return new vu(n,this._parents)}function Phe(e){return new Array(e.length)}function _dt(){return new vu(this._enter||this._groups.map(Phe),this._parents)}function Dk(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Dk.prototype={constructor:Dk,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ndt(e){return function(){return e}}function kdt(e,t,r,n,a,s){for(var i=0,o,c=t.length,u=s.length;i<u;++i)(o=t[i])?(o.__data__=s[i],n[i]=o):r[i]=new Dk(e,s[i]);for(;i<c;++i)(o=t[i])&&(a[i]=o)}function Tdt(e,t,r,n,a,s,i){var o,c,u=new Map,d=t.length,f=s.length,h=new Array(d),p;for(o=0;o<d;++o)(c=t[o])&&(h[o]=p=i.call(c,c.__data__,o,t)+"",u.has(p)?a[o]=c:u.set(p,c));for(o=0;o<f;++o)p=i.call(e,s[o],o,s)+"",(c=u.get(p))?(n[o]=c,c.__data__=s[o],u.delete(p)):r[o]=new Dk(e,s[o]);for(o=0;o<d;++o)(c=t[o])&&u.get(h[o])===c&&(a[o]=c)}function Bdt(e){return e.__data__}function jdt(e,t){if(!arguments.length)return Array.from(this,Bdt);var r=t?Tdt:kdt,n=this._parents,a=this._groups;typeof e!="function"&&(e=Ndt(e));for(var s=a.length,i=new Array(s),o=new Array(s),c=new Array(s),u=0;u<s;++u){var d=n[u],f=a[u],h=f.length,p=Idt(e.call(d,d&&d.__data__,u,n)),g=p.length,x=o[u]=new Array(g),v=i[u]=new Array(g),y=c[u]=new Array(h);r(d,f,x,v,y,p,t);for(var w=0,E=0,k,B;w<g;++w)if(k=x[w]){for(w>=E&&(E=w+1);!(B=v[E])&&++E<g;);k._next=B||null}}return i=new vu(i,n),i._enter=o,i._exit=c,i}function Idt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fdt(){return new vu(this._exit||this._groups.map(Phe),this._parents)}function Odt(e,t,r){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}function Ddt(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,s=n.length,i=Math.min(a,s),o=new Array(a),c=0;c<i;++c)for(var u=r[c],d=n[c],f=u.length,h=o[c]=new Array(f),p,g=0;g<f;++g)(p=u[g]||d[g])&&(h[g]=p);for(;c<a;++c)o[c]=r[c];return new vu(o,this._parents)}function Pdt(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],i;--a>=0;)(i=n[a])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function Rdt(e){e||(e=Ldt);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var i=r[s],o=i.length,c=a[s]=new Array(o),u,d=0;d<o;++d)(u=i[d])&&(c[d]=u);c.sort(t)}return new vu(a,this._parents).order()}function Ldt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Mdt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Udt(){return Array.from(this)}function Qdt(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var i=n[a];if(i)return i}return null}function Hdt(){let e=0;for(const t of this)++e;return e}function $dt(){return!this.node()}function Vdt(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,i=a.length,o;s<i;++s)(o=a[s])&&e.call(o,o.__data__,s,a);return this}function zdt(e){return function(){this.removeAttribute(e)}}function Gdt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kdt(e,t){return function(){this.setAttribute(e,t)}}function qdt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Wdt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Xdt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Ydt(e,t){var r=wj(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Gdt:zdt:typeof t=="function"?r.local?Xdt:Wdt:r.local?qdt:Kdt)(r,t))}function Rhe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Jdt(e){return function(){this.style.removeProperty(e)}}function Zdt(e,t,r){return function(){this.style.setProperty(e,t,r)}}function eft(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function tft(e,t,r){return arguments.length>1?this.each((t==null?Jdt:typeof t=="function"?eft:Zdt)(e,t,r??"")):Hb(this.node(),e)}function Hb(e,t){return e.style.getPropertyValue(t)||Rhe(e).getComputedStyle(e,null).getPropertyValue(t)}function rft(e){return function(){delete this[e]}}function nft(e,t){return function(){this[e]=t}}function aft(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function sft(e,t){return arguments.length>1?this.each((t==null?rft:typeof t=="function"?aft:nft)(e,t)):this.node()[e]}function Lhe(e){return e.trim().split(/^|\s+/)}function M9(e){return e.classList||new Mhe(e)}function Mhe(e){this._node=e,this._names=Lhe(e.getAttribute("class")||"")}Mhe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Uhe(e,t){for(var r=M9(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function Qhe(e,t){for(var r=M9(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function ift(e){return function(){Uhe(this,e)}}function oft(e){return function(){Qhe(this,e)}}function lft(e,t){return function(){(t.apply(this,arguments)?Uhe:Qhe)(this,e)}}function cft(e,t){var r=Lhe(e+"");if(arguments.length<2){for(var n=M9(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?lft:t?ift:oft)(r,t))}function uft(){this.textContent=""}function dft(e){return function(){this.textContent=e}}function fft(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Aft(e){return arguments.length?this.each(e==null?uft:(typeof e=="function"?fft:dft)(e)):this.node().textContent}function hft(){this.innerHTML=""}function pft(e){return function(){this.innerHTML=e}}function mft(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function gft(e){return arguments.length?this.each(e==null?hft:(typeof e=="function"?mft:pft)(e)):this.node().innerHTML}function xft(){this.nextSibling&&this.parentNode.appendChild(this)}function vft(){return this.each(xft)}function bft(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yft(){return this.each(bft)}function wft(e){var t=typeof e=="function"?e:Ihe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Cft(){return null}function Eft(e,t){var r=typeof e=="function"?e:Ihe(e),n=t==null?Cft:typeof t=="function"?t:L9(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Sft(){var e=this.parentNode;e&&e.removeChild(this)}function _ft(){return this.each(Sft)}function Nft(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kft(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Tft(e){return this.select(e?kft:Nft)}function Bft(e){return arguments.length?this.property("__data__",e):this.node().__data__}function jft(e){return function(t){e.call(this,t,this.__data__)}}function Ift(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Fft(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function Oft(e,t,r){return function(){var n=this.__on,a,s=jft(t);if(n){for(var i=0,o=n.length;i<o;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=r),a.value=t;return}}this.addEventListener(e.type,s,r),a={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(a):this.__on=[a]}}function Dft(e,t,r){var n=Ift(e+""),a,s=n.length,i;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,u=o.length,d;c<u;++c)for(a=0,d=o[c];a<s;++a)if((i=n[a]).type===d.type&&i.name===d.name)return d.value}return}for(o=t?Oft:Fft,a=0;a<s;++a)this.each(o(n[a],t,r));return this}function Hhe(e,t,r){var n=Rhe(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Pft(e,t){return function(){return Hhe(this,e,t)}}function Rft(e,t){return function(){return Hhe(this,e,t.apply(this,arguments))}}function Lft(e,t){return this.each((typeof t=="function"?Rft:Pft)(e,t))}function*Mft(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,i;a<s;++a)(i=n[a])&&(yield i)}var $he=[null];function vu(e,t){this._groups=e,this._parents=t}function fS(){return new vu([[document.documentElement]],$he)}function Uft(){return this}vu.prototype=fS.prototype={constructor:vu,select:fdt,selectAll:mdt,selectChild:bdt,selectChildren:Edt,filter:Sdt,data:jdt,enter:_dt,exit:Fdt,join:Odt,merge:Ddt,selection:Uft,order:Pdt,sort:Rdt,call:Mdt,nodes:Udt,node:Qdt,size:Hdt,empty:$dt,each:Vdt,attr:Ydt,style:tft,property:sft,classed:cft,text:Aft,html:gft,raise:vft,lower:yft,append:wft,insert:Eft,remove:_ft,clone:Tft,datum:Bft,on:Dft,dispatch:Lft,[Symbol.iterator]:Mft};function od(e){return typeof e=="string"?new vu([[document.querySelector(e)]],[document.documentElement]):new vu([[e]],$he)}function Qft(e){let t;for(;t=e.sourceEvent;)e=t;return e}function mA(e,t){if(e=Qft(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const Hft={passive:!1},aE={capture:!0,passive:!1};function hO(e){e.stopImmediatePropagation()}function tb(e){e.preventDefault(),e.stopImmediatePropagation()}function Vhe(e){var t=e.document.documentElement,r=od(e).on("dragstart.drag",tb,aE);"onselectstart"in t?r.on("selectstart.drag",tb,aE):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function zhe(e,t){var r=e.document.documentElement,n=od(e).on("dragstart.drag",null);t&&(n.on("click.drag",tb,aE),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const m5=e=>()=>e;function OR(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:s,x:i,y:o,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}OR.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function $ft(e){return!e.ctrlKey&&!e.button}function Vft(){return this.parentNode}function zft(e,t){return t??{x:e.x,y:e.y}}function Gft(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kft(){var e=$ft,t=Vft,r=zft,n=Gft,a={},s=yj("start","drag","end"),i=0,o,c,u,d,f=0;function h(k){k.on("mousedown.drag",p).filter(n).on("touchstart.drag",v).on("touchmove.drag",y,Hft).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(k,B){if(!(d||!e.call(this,k,B))){var j=E(this,t.call(this,k,B),k,B,"mouse");j&&(od(k.view).on("mousemove.drag",g,aE).on("mouseup.drag",x,aE),Vhe(k.view),hO(k),u=!1,o=k.clientX,c=k.clientY,j("start",k))}}function g(k){if(tb(k),!u){var B=k.clientX-o,j=k.clientY-c;u=B*B+j*j>f}a.mouse("drag",k)}function x(k){od(k.view).on("mousemove.drag mouseup.drag",null),zhe(k.view,u),tb(k),a.mouse("end",k)}function v(k,B){if(e.call(this,k,B)){var j=k.changedTouches,C=t.call(this,k,B),N=j.length,I,L;for(I=0;I<N;++I)(L=E(this,C,k,B,j[I].identifier,j[I]))&&(hO(k),L("start",k,j[I]))}}function y(k){var B=k.changedTouches,j=B.length,C,N;for(C=0;C<j;++C)(N=a[B[C].identifier])&&(tb(k),N("drag",k,B[C]))}function w(k){var B=k.changedTouches,j=B.length,C,N;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<j;++C)(N=a[B[C].identifier])&&(hO(k),N("end",k,B[C]))}function E(k,B,j,C,N,I){var L=s.copy(),O=mA(I||j,B),T,P,R;if((R=r.call(k,new OR("beforestart",{sourceEvent:j,target:h,identifier:N,active:i,x:O[0],y:O[1],dx:0,dy:0,dispatch:L}),C))!=null)return T=R.x-O[0]||0,P=R.y-O[1]||0,function q(Q,G,K){var z=O,Y;switch(Q){case"start":a[N]=q,Y=i++;break;case"end":delete a[N],--i;case"drag":O=mA(K||G,B),Y=i;break}L.call(Q,k,new OR(Q,{sourceEvent:G,subject:R,target:h,identifier:N,active:Y,x:O[0]+T,y:O[1]+P,dx:O[0]-z[0],dy:O[1]-z[1],dispatch:L}),C)}}return h.filter=function(k){return arguments.length?(e=typeof k=="function"?k:m5(!!k),h):e},h.container=function(k){return arguments.length?(t=typeof k=="function"?k:m5(k),h):t},h.subject=function(k){return arguments.length?(r=typeof k=="function"?k:m5(k),h):r},h.touchable=function(k){return arguments.length?(n=typeof k=="function"?k:m5(!!k),h):n},h.on=function(){var k=s.on.apply(s,arguments);return k===s?h:k},h.clickDistance=function(k){return arguments.length?(f=(k=+k)*k,h):Math.sqrt(f)},h}var $b=0,v2=0,Qw=0,Ghe=1e3,Pk,b2,Rk=0,Fx=0,Cj=0,sE=typeof performance=="object"&&performance.now?performance:Date,Khe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function U9(){return Fx||(Khe(qft),Fx=sE.now()+Cj)}function qft(){Fx=0}function Lk(){this._call=this._time=this._next=null}Lk.prototype=qhe.prototype={constructor:Lk,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?U9():+r)+(t==null?0:+t),!this._next&&b2!==this&&(b2?b2._next=this:Pk=this,b2=this),this._call=e,this._time=r,DR()},stop:function(){this._call&&(this._call=null,this._time=1/0,DR())}};function qhe(e,t,r){var n=new Lk;return n.restart(e,t,r),n}function Wft(){U9(),++$b;for(var e=Pk,t;e;)(t=Fx-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$b}function kZ(){Fx=(Rk=sE.now())+Cj,$b=v2=0;try{Wft()}finally{$b=0,Yft(),Fx=0}}function Xft(){var e=sE.now(),t=e-Rk;t>Ghe&&(Cj-=t,Rk=e)}function Yft(){for(var e,t=Pk,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Pk=r);b2=e,DR(n)}function DR(e){if(!$b){v2&&(v2=clearTimeout(v2));var t=e-Fx;t>24?(e<1/0&&(v2=setTimeout(kZ,e-sE.now()-Cj)),Qw&&(Qw=clearInterval(Qw))):(Qw||(Rk=sE.now(),Qw=setInterval(Xft,Ghe)),$b=1,Khe(kZ))}}function TZ(e,t,r){var n=new Lk;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var Jft=yj("start","end","cancel","interrupt"),Zft=[],Whe=0,BZ=1,PR=2,CN=3,jZ=4,RR=5,EN=6;function Ej(e,t,r,n,a,s){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;eAt(e,r,{name:t,index:n,group:a,on:Jft,tween:Zft,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Whe})}function Q9(e,t){var r=kf(e,t);if(r.state>Whe)throw new Error("too late; already scheduled");return r}function qA(e,t){var r=kf(e,t);if(r.state>CN)throw new Error("too late; already running");return r}function kf(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function eAt(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=qhe(s,0,r.time);function s(u){r.state=BZ,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var d,f,h,p;if(r.state!==BZ)return c();for(d in n)if(p=n[d],p.name===r.name){if(p.state===CN)return TZ(i);p.state===jZ?(p.state=EN,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[d]):+d<t&&(p.state=EN,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[d])}if(TZ(function(){r.state===CN&&(r.state=jZ,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=PR,r.on.call("start",e,e.__data__,r.index,r.group),r.state===PR){for(r.state=CN,a=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(p=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=p);a.length=f+1}}function o(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=RR,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);r.state===RR&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=EN,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function SN(e,t){var r=e.__transition,n,a,s=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){s=!1;continue}a=n.state>PR&&n.state<RR,n.state=EN,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}s&&delete e.__transition}}function tAt(e){return this.each(function(){SN(this,e)})}function rAt(e,t){var r,n;return function(){var a=qA(this,e),s=a.tween;if(s!==r){n=r=s;for(var i=0,o=n.length;i<o;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function nAt(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=qA(this,e),i=s.tween;if(i!==n){a=(n=i).slice();for(var o={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=o;break}c===u&&a.push(o)}s.tween=a}}function aAt(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=kf(this.node(),r).tween,a=0,s=n.length,i;a<s;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?rAt:nAt)(r,e,t))}function H9(e,t,r){var n=e._id;return e.each(function(){var a=qA(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return kf(a,n).value[t]}}function Xhe(e,t){var r;return(typeof t=="number"?Zd:t instanceof wx?X4:(r=wx(t))?(t=r,X4):ole)(e,t)}function sAt(e){return function(){this.removeAttribute(e)}}function iAt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oAt(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttribute(e);return i===a?null:i===n?s:s=t(n=i,r)}}function lAt(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?s:s=t(n=i,r)}}function cAt(e,t,r){var n,a,s;return function(){var i,o=r(this),c;return o==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=o+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,o)))}}function uAt(e,t,r){var n,a,s;return function(){var i,o=r(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=o+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,o)))}}function dAt(e,t){var r=wj(e),n=r==="transform"?NRe:Xhe;return this.attrTween(e,typeof t=="function"?(r.local?uAt:cAt)(r,n,H9(this,"attr."+e,t)):t==null?(r.local?iAt:sAt)(r):(r.local?lAt:oAt)(r,n,t))}function fAt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function AAt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function hAt(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&AAt(e,s)),r}return a._value=t,a}function pAt(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&fAt(e,s)),r}return a._value=t,a}function mAt(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=wj(e);return this.tween(r,(n.local?hAt:pAt)(n,t))}function gAt(e,t){return function(){Q9(this,e).delay=+t.apply(this,arguments)}}function xAt(e,t){return t=+t,function(){Q9(this,e).delay=t}}function vAt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gAt:xAt)(t,e)):kf(this.node(),t).delay}function bAt(e,t){return function(){qA(this,e).duration=+t.apply(this,arguments)}}function yAt(e,t){return t=+t,function(){qA(this,e).duration=t}}function wAt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?bAt:yAt)(t,e)):kf(this.node(),t).duration}function CAt(e,t){if(typeof t!="function")throw new Error;return function(){qA(this,e).ease=t}}function EAt(e){var t=this._id;return arguments.length?this.each(CAt(t,e)):kf(this.node(),t).ease}function SAt(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;qA(this,e).ease=r}}function _At(e){if(typeof e!="function")throw new Error;return this.each(SAt(this._id,e))}function NAt(e){typeof e!="function"&&(e=Ohe(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,o=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&o.push(c);return new b0(n,this._parents,this._name,this._id)}function kAt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),i=new Array(n),o=0;o<s;++o)for(var c=t[o],u=r[o],d=c.length,f=i[o]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(f[p]=h);for(;o<n;++o)i[o]=t[o];return new b0(i,this._parents,this._name,this._id)}function TAt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function BAt(e,t,r){var n,a,s=TAt(t)?Q9:qA;return function(){var i=s(this,e),o=i.on;o!==n&&(a=(n=o).copy()).on(t,r),i.on=a}}function jAt(e,t){var r=this._id;return arguments.length<2?kf(this.node(),r).on.on(e):this.each(BAt(r,e,t))}function IAt(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function FAt(){return this.on("end.remove",IAt(this._id))}function OAt(e){var t=this._name,r=this._id;typeof e!="function"&&(e=L9(e));for(var n=this._groups,a=n.length,s=new Array(a),i=0;i<a;++i)for(var o=n[i],c=o.length,u=s[i]=new Array(c),d,f,h=0;h<c;++h)(d=o[h])&&(f=e.call(d,d.__data__,h,o))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,Ej(u[h],t,r,h,u,kf(d,r)));return new b0(s,this._parents,t,r)}function DAt(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Fhe(e));for(var n=this._groups,a=n.length,s=[],i=[],o=0;o<a;++o)for(var c=n[o],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),p,g=kf(d,r),x=0,v=h.length;x<v;++x)(p=h[x])&&Ej(p,t,r,x,h,g);s.push(h),i.push(d)}return new b0(s,i,t,r)}var PAt=fS.prototype.constructor;function RAt(){return new PAt(this._groups,this._parents)}function LAt(e,t){var r,n,a;return function(){var s=Hb(this,e),i=(this.style.removeProperty(e),Hb(this,e));return s===i?null:s===r&&i===n?a:a=t(r=s,n=i)}}function Yhe(e){return function(){this.style.removeProperty(e)}}function MAt(e,t,r){var n,a=r+"",s;return function(){var i=Hb(this,e);return i===a?null:i===n?s:s=t(n=i,r)}}function UAt(e,t,r){var n,a,s;return function(){var i=Hb(this,e),o=r(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),Hb(this,e))),i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,o))}}function QAt(e,t){var r,n,a,s="style."+t,i="end."+s,o;return function(){var c=qA(this,e),u=c.on,d=c.value[s]==null?o||(o=Yhe(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(i,a=d),c.on=n}}function HAt(e,t,r){var n=(e+="")=="transform"?_Re:Xhe;return t==null?this.styleTween(e,LAt(e,n)).on("end.style."+e,Yhe(e)):typeof t=="function"?this.styleTween(e,UAt(e,n,H9(this,"style."+e,t))).each(QAt(this._id,e)):this.styleTween(e,MAt(e,n,t),r).on("end.style."+e,null)}function $At(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function VAt(e,t,r){var n,a;function s(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&$At(e,i,r)),n}return s._value=t,s}function zAt(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,VAt(e,t,r??""))}function GAt(e){return function(){this.textContent=e}}function KAt(e){return function(){var t=e(this);this.textContent=t??""}}function qAt(e){return this.tween("text",typeof e=="function"?KAt(H9(this,"text",e)):GAt(e==null?"":e+""))}function WAt(e){return function(t){this.textContent=e.call(this,t)}}function XAt(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&WAt(a)),t}return n._value=e,n}function YAt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,XAt(e))}function JAt(){for(var e=this._name,t=this._id,r=Jhe(),n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],o=i.length,c,u=0;u<o;++u)if(c=i[u]){var d=kf(c,t);Ej(c,e,r,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new b0(n,this._parents,e,r)}function ZAt(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,i){var o={value:i},c={value:function(){--a===0&&s()}};r.each(function(){var u=qA(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),u.on=t}),a===0&&s()})}var eht=0;function b0(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Jhe(){return++eht}var Th=fS.prototype;b0.prototype={constructor:b0,select:OAt,selectAll:DAt,selectChild:Th.selectChild,selectChildren:Th.selectChildren,filter:NAt,merge:kAt,selection:RAt,transition:JAt,call:Th.call,nodes:Th.nodes,node:Th.node,size:Th.size,empty:Th.empty,each:Th.each,on:jAt,attr:dAt,attrTween:mAt,style:HAt,styleTween:zAt,text:qAt,textTween:YAt,remove:FAt,tween:aAt,delay:vAt,duration:wAt,ease:EAt,easeVarying:_At,end:ZAt,[Symbol.iterator]:Th[Symbol.iterator]};function tht(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rht={time:null,delay:0,duration:250,ease:tht};function nht(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function aht(e){var t,r;e instanceof b0?(t=e._id,e=e._name):(t=Jhe(),(r=rht).time=U9(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],o=i.length,c,u=0;u<o;++u)(c=i[u])&&Ej(c,e,t,u,i,r||nht(c,t));return new b0(n,this._parents,e,t)}fS.prototype.interrupt=tAt;fS.prototype.transition=aht;const g5=e=>()=>e;function sht(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function Gh(e,t,r){this.k=e,this.x=t,this.y=r}Gh.prototype={constructor:Gh,scale:function(e){return e===1?this:new Gh(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gh(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rm=new Gh(1,0,0);Gh.prototype;function pO(e){e.stopImmediatePropagation()}function Hw(e){e.preventDefault(),e.stopImmediatePropagation()}function iht(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function oht(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function IZ(){return this.__zoom||rm}function lht(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cht(){return navigator.maxTouchPoints||"ontouchstart"in this}function uht(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function dht(){var e=iht,t=oht,r=uht,n=lht,a=cht,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],o=250,c=jRe,u=yj("start","zoom","end"),d,f,h,p=500,g=150,x=0,v=10;function y(R){R.property("__zoom",IZ).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",L).filter(a).on("touchstart.zoom",O).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(R,q,Q,G){var K=R.selection?R.selection():R;K.property("__zoom",IZ),R!==K?B(R,q,Q,G):K.interrupt().each(function(){j(this,arguments).event(G).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},y.scaleBy=function(R,q,Q,G){y.scaleTo(R,function(){var K=this.__zoom.k,z=typeof q=="function"?q.apply(this,arguments):q;return K*z},Q,G)},y.scaleTo=function(R,q,Q,G){y.transform(R,function(){var K=t.apply(this,arguments),z=this.__zoom,Y=Q==null?k(K):typeof Q=="function"?Q.apply(this,arguments):Q,ee=z.invert(Y),M=typeof q=="function"?q.apply(this,arguments):q;return r(E(w(z,M),Y,ee),K,i)},Q,G)},y.translateBy=function(R,q,Q,G){y.transform(R,function(){return r(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof Q=="function"?Q.apply(this,arguments):Q),t.apply(this,arguments),i)},null,G)},y.translateTo=function(R,q,Q,G,K){y.transform(R,function(){var z=t.apply(this,arguments),Y=this.__zoom,ee=G==null?k(z):typeof G=="function"?G.apply(this,arguments):G;return r(rm.translate(ee[0],ee[1]).scale(Y.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof Q=="function"?-Q.apply(this,arguments):-Q),z,i)},G,K)};function w(R,q){return q=Math.max(s[0],Math.min(s[1],q)),q===R.k?R:new Gh(q,R.x,R.y)}function E(R,q,Q){var G=q[0]-Q[0]*R.k,K=q[1]-Q[1]*R.k;return G===R.x&&K===R.y?R:new Gh(R.k,G,K)}function k(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function B(R,q,Q,G){R.on("start.zoom",function(){j(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(G).end()}).tween("zoom",function(){var K=this,z=arguments,Y=j(K,z).event(G),ee=t.apply(K,z),M=Q==null?k(ee):typeof Q=="function"?Q.apply(K,z):Q,H=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),W=K.__zoom,Z=typeof q=="function"?q.apply(K,z):q,ae=c(W.invert(M).concat(H/W.k),Z.invert(M).concat(H/Z.k));return function(oe){if(oe===1)oe=Z;else{var se=ae(oe),ce=H/se[2];oe=new Gh(ce,M[0]-se[0]*ce,M[1]-se[1]*ce)}Y.zoom(null,oe)}})}function j(R,q,Q){return!Q&&R.__zooming||new C(R,q)}function C(R,q){this.that=R,this.args=q,this.active=0,this.sourceEvent=null,this.extent=t.apply(R,q),this.taps=0}C.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,q){return this.mouse&&R!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var q=od(this.that).datum();u.call(R,this.that,new sht(R,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),q)}};function N(R,...q){if(!e.apply(this,arguments))return;var Q=j(this,q).event(R),G=this.__zoom,K=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,n.apply(this,arguments)))),z=mA(R);if(Q.wheel)(Q.mouse[0][0]!==z[0]||Q.mouse[0][1]!==z[1])&&(Q.mouse[1]=G.invert(Q.mouse[0]=z)),clearTimeout(Q.wheel);else{if(G.k===K)return;Q.mouse=[z,G.invert(z)],SN(this),Q.start()}Hw(R),Q.wheel=setTimeout(Y,g),Q.zoom("mouse",r(E(w(G,K),Q.mouse[0],Q.mouse[1]),Q.extent,i));function Y(){Q.wheel=null,Q.end()}}function I(R,...q){if(h||!e.apply(this,arguments))return;var Q=R.currentTarget,G=j(this,q,!0).event(R),K=od(R.view).on("mousemove.zoom",M,!0).on("mouseup.zoom",H,!0),z=mA(R,Q),Y=R.clientX,ee=R.clientY;Vhe(R.view),pO(R),G.mouse=[z,this.__zoom.invert(z)],SN(this),G.start();function M(W){if(Hw(W),!G.moved){var Z=W.clientX-Y,ae=W.clientY-ee;G.moved=Z*Z+ae*ae>x}G.event(W).zoom("mouse",r(E(G.that.__zoom,G.mouse[0]=mA(W,Q),G.mouse[1]),G.extent,i))}function H(W){K.on("mousemove.zoom mouseup.zoom",null),zhe(W.view,G.moved),Hw(W),G.event(W).end()}}function L(R,...q){if(e.apply(this,arguments)){var Q=this.__zoom,G=mA(R.changedTouches?R.changedTouches[0]:R,this),K=Q.invert(G),z=Q.k*(R.shiftKey?.5:2),Y=r(E(w(Q,z),G,K),t.apply(this,q),i);Hw(R),o>0?od(this).transition().duration(o).call(B,Y,G,R):od(this).call(y.transform,Y,G,R)}}function O(R,...q){if(e.apply(this,arguments)){var Q=R.touches,G=Q.length,K=j(this,q,R.changedTouches.length===G).event(R),z,Y,ee,M;for(pO(R),Y=0;Y<G;++Y)ee=Q[Y],M=mA(ee,this),M=[M,this.__zoom.invert(M),ee.identifier],K.touch0?!K.touch1&&K.touch0[2]!==M[2]&&(K.touch1=M,K.taps=0):(K.touch0=M,z=!0,K.taps=1+!!d);d&&(d=clearTimeout(d)),z&&(K.taps<2&&(f=M[0],d=setTimeout(function(){d=null},p)),SN(this),K.start())}}function T(R,...q){if(this.__zooming){var Q=j(this,q).event(R),G=R.changedTouches,K=G.length,z,Y,ee,M;for(Hw(R),z=0;z<K;++z)Y=G[z],ee=mA(Y,this),Q.touch0&&Q.touch0[2]===Y.identifier?Q.touch0[0]=ee:Q.touch1&&Q.touch1[2]===Y.identifier&&(Q.touch1[0]=ee);if(Y=Q.that.__zoom,Q.touch1){var H=Q.touch0[0],W=Q.touch0[1],Z=Q.touch1[0],ae=Q.touch1[1],oe=(oe=Z[0]-H[0])*oe+(oe=Z[1]-H[1])*oe,se=(se=ae[0]-W[0])*se+(se=ae[1]-W[1])*se;Y=w(Y,Math.sqrt(oe/se)),ee=[(H[0]+Z[0])/2,(H[1]+Z[1])/2],M=[(W[0]+ae[0])/2,(W[1]+ae[1])/2]}else if(Q.touch0)ee=Q.touch0[0],M=Q.touch0[1];else return;Q.zoom("touch",r(E(Y,ee,M),Q.extent,i))}}function P(R,...q){if(this.__zooming){var Q=j(this,q).event(R),G=R.changedTouches,K=G.length,z,Y;for(pO(R),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),z=0;z<K;++z)Y=G[z],Q.touch0&&Q.touch0[2]===Y.identifier?delete Q.touch0:Q.touch1&&Q.touch1[2]===Y.identifier&&delete Q.touch1;if(Q.touch1&&!Q.touch0&&(Q.touch0=Q.touch1,delete Q.touch1),Q.touch0)Q.touch0[1]=this.__zoom.invert(Q.touch0[0]);else if(Q.end(),Q.taps===2&&(Y=mA(Y,this),Math.hypot(f[0]-Y[0],f[1]-Y[1])<v)){var ee=od(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return y.wheelDelta=function(R){return arguments.length?(n=typeof R=="function"?R:g5(+R),y):n},y.filter=function(R){return arguments.length?(e=typeof R=="function"?R:g5(!!R),y):e},y.touchable=function(R){return arguments.length?(a=typeof R=="function"?R:g5(!!R),y):a},y.extent=function(R){return arguments.length?(t=typeof R=="function"?R:g5([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),y):t},y.scaleExtent=function(R){return arguments.length?(s[0]=+R[0],s[1]=+R[1],y):[s[0],s[1]]},y.translateExtent=function(R){return arguments.length?(i[0][0]=+R[0][0],i[1][0]=+R[1][0],i[0][1]=+R[0][1],i[1][1]=+R[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(R){return arguments.length?(r=R,y):r},y.duration=function(R){return arguments.length?(o=+R,y):o},y.interpolate=function(R){return arguments.length?(c=R,y):c},y.on=function(){var R=u.on.apply(u,arguments);return R===u?y:R},y.clickDistance=function(R){return arguments.length?(x=(R=+R)*R,y):Math.sqrt(x)},y.tapDistance=function(R){return arguments.length?(v=+R,y):v},y}const Sj=S.createContext(null),fht=Sj.Provider,y0={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Zhe=y0.error001();function Ss(e,t){const r=S.useContext(Sj);if(r===null)throw new Error(Zhe);return jhe(r,e,t)}const yo=()=>{const e=S.useContext(Sj);if(e===null)throw new Error(Zhe);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Aht=e=>e.userSelectionActive?"none":"all";function e0e({position:e,children:t,className:r,style:n,...a}){const s=Ss(Aht),i=`${e}`.split("-");return Ze.createElement("div",{className:Xl(["react-flow__panel",r,...i]),style:{...n,pointerEvents:s},...a},t)}function hht({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:Ze.createElement(e0e,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Ze.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const pht=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:a=!0,labelBgStyle:s={},labelBgPadding:i=[2,4],labelBgBorderRadius:o=2,children:c,className:u,...d})=>{const f=S.useRef(null),[h,p]=S.useState({x:0,y:0,width:0,height:0}),g=Xl(["react-flow__edge-textwrapper",u]);return S.useEffect(()=>{if(f.current){const x=f.current.getBBox();p({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),typeof r>"u"||!r?null:Ze.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:g,visibility:h.width?"visible":"hidden",...d},a&&Ze.createElement("rect",{width:h.width+2*i[0],x:-i[0],y:-i[1],height:h.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:o,ry:o}),Ze.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:n},r),c)};var mht=S.memo(pht);const $9=e=>({width:e.offsetWidth,height:e.offsetHeight}),Vb=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),V9=(e={x:0,y:0},t)=>({x:Vb(e.x,t[0][0],t[1][0]),y:Vb(e.y,t[0][1],t[1][1])}),FZ=(e,t,r)=>e<t?Vb(Math.abs(e-t),1,50)/50:e>r?-Vb(Math.abs(e-r),1,50)/50:0,t0e=(e,t)=>{const r=FZ(e.x,35,t.width-35)*20,n=FZ(e.y,35,t.height-35)*20;return[r,n]},r0e=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},ght=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),z9=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),xht=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),OZ=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),LR=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},vht=e=>ud(e.width)&&ud(e.height)&&ud(e.x)&&ud(e.y),ud=e=>!isNaN(e)&&isFinite(e),Hs=Symbol.for("internals"),n0e=["Enter"," ","Escape"],bht=(e,t)=>{},yht=e=>"nativeEvent"in e;function MR(e){var a,s;const t=yht(e)?e.nativeEvent:e,r=((s=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const a0e=e=>"clientX"in e,nm=(e,t)=>{var s,i;const r=a0e(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},Mk=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},AS=({id:e,path:t,labelX:r,labelY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p=20})=>Ze.createElement(Ze.Fragment,null,Ze.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&Ze.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),a&&ud(r)&&ud(n)?Ze.createElement(mht,{x:r,y:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u}):null);AS.displayName="BaseEdge";function $w(e,t,r){return r===void 0?r:n=>{const a=t().edges.find(s=>s.id===e);a&&r(n,{...a})}}function s0e({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,s=r<e?r+a:r-a,i=Math.abs(n-t)/2,o=n<t?n+i:n-i;return[s,o,a,i]}function i0e({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:s,targetControlX:i,targetControlY:o}){const c=e*.125+a*.375+i*.375+r*.125,u=t*.125+s*.375+o*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var Ox;(function(e){e.Strict="strict",e.Loose="loose"})(Ox||(Ox={}));var zg;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(zg||(zg={}));var iE;(function(e){e.Partial="partial",e.Full="full"})(iE||(iE={}));var Dp;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Dp||(Dp={}));var Uk;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Uk||(Uk={}));var jr;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(jr||(jr={}));function DZ({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===jr.Left||e===jr.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function o0e({sourceX:e,sourceY:t,sourcePosition:r=jr.Bottom,targetX:n,targetY:a,targetPosition:s=jr.Top}){const[i,o]=DZ({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=DZ({pos:s,x1:n,y1:a,x2:e,y2:t}),[d,f,h,p]=i0e({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:o,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${o} ${c},${u} ${n},${a}`,d,f,h,p]}const G9=S.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=jr.Bottom,targetPosition:s=jr.Top,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,interactionWidth:x})=>{const[v,y,w]=o0e({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:s});return Ze.createElement(AS,{path:v,labelX:y,labelY:w,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,interactionWidth:x})});G9.displayName="SimpleBezierEdge";const PZ={[jr.Left]:{x:-1,y:0},[jr.Right]:{x:1,y:0},[jr.Top]:{x:0,y:-1},[jr.Bottom]:{x:0,y:1}},wht=({source:e,sourcePosition:t=jr.Bottom,target:r})=>t===jr.Left||t===jr.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},RZ=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Cht({source:e,sourcePosition:t=jr.Bottom,target:r,targetPosition:n=jr.Top,center:a,offset:s}){const i=PZ[t],o=PZ[n],c={x:e.x+i.x*s,y:e.y+i.y*s},u={x:r.x+o.x*s,y:r.y+o.y*s},d=wht({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let p=[],g,x;const v={x:0,y:0},y={x:0,y:0},[w,E,k,B]=s0e({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(i[f]*o[f]===-1){g=a.x??w,x=a.y??E;const C=[{x:g,y:c.y},{x:g,y:u.y}],N=[{x:c.x,y:x},{x:u.x,y:x}];i[f]===h?p=f==="x"?C:N:p=f==="x"?N:C}else{const C=[{x:c.x,y:u.y}],N=[{x:u.x,y:c.y}];if(f==="x"?p=i.x===h?N:C:p=i.y===h?C:N,t===n){const P=Math.abs(e[f]-r[f]);if(P<=s){const R=Math.min(s-1,s-P);i[f]===h?v[f]=(c[f]>e[f]?-1:1)*R:y[f]=(u[f]>r[f]?-1:1)*R}}if(t!==n){const P=f==="x"?"y":"x",R=i[f]===o[P],q=c[P]>u[P],Q=c[P]<u[P];(i[f]===1&&(!R&&q||R&&Q)||i[f]!==1&&(!R&&Q||R&&q))&&(p=f==="x"?C:N)}const I={x:c.x+v.x,y:c.y+v.y},L={x:u.x+y.x,y:u.y+y.y},O=Math.max(Math.abs(I.x-p[0].x),Math.abs(L.x-p[0].x)),T=Math.max(Math.abs(I.y-p[0].y),Math.abs(L.y-p[0].y));O>=T?(g=(I.x+L.x)/2,x=p[0].y):(g=p[0].x,x=(I.y+L.y)/2)}return[[e,{x:c.x+v.x,y:c.y+v.y},...p,{x:u.x+y.x,y:u.y+y.y},r],g,x,k,B]}function Eht(e,t,r,n){const a=Math.min(RZ(e,t)/2,RZ(t,r)/2,n),{x:s,y:i}=t;if(e.x===s&&s===r.x||e.y===i&&i===r.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${s+a*u},${i}Q ${s},${i} ${s},${i+a*d}`}const o=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${s},${i+a*c}Q ${s},${i} ${s+a*o},${i}`}function UR({sourceX:e,sourceY:t,sourcePosition:r=jr.Bottom,targetX:n,targetY:a,targetPosition:s=jr.Top,borderRadius:i=5,centerX:o,centerY:c,offset:u=20}){const[d,f,h,p,g]=Cht({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:s,center:{x:o,y:c},offset:u});return[d.reduce((v,y,w)=>{let E="";return w>0&&w<d.length-1?E=Eht(d[w-1],y,d[w+1],i):E=`${w===0?"M":"L"}${y.x} ${y.y}`,v+=E,v},""),f,h,p,g]}const _j=S.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=jr.Bottom,targetPosition:h=jr.Top,markerEnd:p,markerStart:g,pathOptions:x,interactionWidth:v})=>{const[y,w,E]=UR({sourceX:e,sourceY:t,sourcePosition:f,targetX:r,targetY:n,targetPosition:h,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return Ze.createElement(AS,{path:y,labelX:w,labelY:E,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:g,interactionWidth:v})});_j.displayName="SmoothStepEdge";const K9=S.memo(e=>{var t;return Ze.createElement(_j,{...e,pathOptions:S.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});K9.displayName="StepEdge";function Sht({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,s,i,o]=s0e({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,s,i,o]}const q9=S.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[g,x,v]=Sht({sourceX:e,sourceY:t,targetX:r,targetY:n});return Ze.createElement(AS,{path:g,labelX:x,labelY:v,label:a,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p})});q9.displayName="StraightEdge";function x5(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function LZ({pos:e,x1:t,y1:r,x2:n,y2:a,c:s}){switch(e){case jr.Left:return[t-x5(t-n,s),r];case jr.Right:return[t+x5(n-t,s),r];case jr.Top:return[t,r-x5(r-a,s)];case jr.Bottom:return[t,r+x5(a-r,s)]}}function l0e({sourceX:e,sourceY:t,sourcePosition:r=jr.Bottom,targetX:n,targetY:a,targetPosition:s=jr.Top,curvature:i=.25}){const[o,c]=LZ({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[u,d]=LZ({pos:s,x1:n,y1:a,x2:e,y2:t,c:i}),[f,h,p,g]=i0e({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${c} ${u},${d} ${n},${a}`,f,h,p,g]}const Qk=S.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=jr.Bottom,targetPosition:s=jr.Top,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,pathOptions:x,interactionWidth:v})=>{const[y,w,E]=l0e({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:s,curvature:x==null?void 0:x.curvature});return Ze.createElement(AS,{path:y,labelX:w,labelY:E,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,interactionWidth:v})});Qk.displayName="BezierEdge";const W9=S.createContext(null),_ht=W9.Provider;W9.Consumer;const Nht=()=>S.useContext(W9),kht=e=>"id"in e&&"source"in e&&"target"in e,Tht=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,QR=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,Bht=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),jht=(e,t)=>{if(!e.source||!e.target)return t;let r;return kht(e)?r={...e}:r={...e,id:Tht(e)},Bht(r,t)?t:t.concat(r)},HR=({x:e,y:t},[r,n,a],s,[i,o])=>{const c={x:(e-r)/a,y:(t-n)/a};return s?{x:i*Math.round(c.x/i),y:o*Math.round(c.y/o)}:c},c0e=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n}),rb=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],a={x:e.position.x-r,y:e.position.y-n};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:a}},X9=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const{x:s,y:i}=rb(a,t).positionAbsolute;return ght(n,z9({x:s,y:i,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return xht(r)},u0e=(e,t,[r,n,a]=[0,0,1],s=!1,i=!1,o=[0,0])=>{const c={x:(t.x-r)/a,y:(t.y-n)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:p=!0,hidden:g=!1}=d;if(i&&!p||g)return!1;const{positionAbsolute:x}=rb(d,o),v={x:x.x,y:x.y,width:f||0,height:h||0},y=LR(c,v),w=typeof f>"u"||typeof h>"u"||f===null||h===null,E=s&&y>0,k=(f||0)*(h||0);(w||E||y>=k||d.dragging)&&u.push(d)}),u},d0e=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},f0e=(e,t,r,n,a,s=.1)=>{const i=t/(e.width*(1+s)),o=r/(e.height*(1+s)),c=Math.min(i,o),u=Vb(c,n,a),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,p=r/2-f*u;return{x:h,y:p,zoom:u}},Tg=(e,t=0)=>e.transition().duration(t);function MZ(e,t,r,n){return(t[r]||[]).reduce((a,s)=>{var i,o;return`${e.id}-${s.id}-${r}`!==n&&a.push({id:s.id||null,type:r,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+s.x+s.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+s.y+s.height/2}),a},[])}function Iht(e,t,r,n,a,s){const{x:i,y:o}=nm(e),u=t.elementsFromPoint(i,o).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const x=Y9(void 0,u),v=u.getAttribute("data-handleid"),y=s({nodeId:g,id:v,type:x});if(y){const w=a.find(E=>E.nodeId===g&&E.type===x&&E.id===v);return{handle:{id:v,type:x,nodeId:g,x:(w==null?void 0:w.x)||r.x,y:(w==null?void 0:w.y)||r.y},validHandleResult:y}}}}let d=[],f=1/0;if(a.forEach(g=>{const x=Math.sqrt((g.x-r.x)**2+(g.y-r.y)**2);if(x<=n){const v=s(g);x<=f&&(x<f?d=[{handle:g,validHandleResult:v}]:x===f&&d.push({handle:g,validHandleResult:v}),f=x)}}),!d.length)return{handle:null,validHandleResult:A0e()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:g})=>g.isValid),p=d.some(({handle:g})=>g.type==="target");return d.find(({handle:g,validHandleResult:x})=>p?g.type==="target":h?x.isValid:!0)||d[0]}const Fht={source:null,target:null,sourceHandle:null,targetHandle:null},A0e=()=>({handleDomNode:null,isValid:!1,connection:Fht,endHandle:null});function h0e(e,t,r,n,a,s,i){const o=a==="target",c=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...A0e(),handleDomNode:c};if(c){const d=Y9(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),p=c.classList.contains("connectable"),g=c.classList.contains("connectableend"),x={source:o?f:r,sourceHandle:o?h:n,target:o?r:f,targetHandle:o?n:h};u.connection=x,p&&g&&(t===Ox.Strict?o&&d==="source"||!o&&d==="target":f!==r||h!==n)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=s(x))}return u}function Oht({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((a,s)=>{if(s[Hs]){const{handleBounds:i}=s[Hs];let o=[],c=[];i&&(o=MZ(s,i,"source",`${t}-${r}-${n}`),c=MZ(s,i,"target",`${t}-${r}-${n}`)),a.push(...o,...c)}return a},[])}function Y9(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function mO(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Dht(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function p0e({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:a,getState:s,setState:i,isValidConnection:o,edgeUpdaterType:c,onReconnectEnd:u}){const d=r0e(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:g,onConnectStart:x,panBy:v,getNodes:y,cancelConnection:w}=s();let E=0,k;const{x:B,y:j}=nm(e),C=d==null?void 0:d.elementFromPoint(B,j),N=Y9(c,C),I=h==null?void 0:h.getBoundingClientRect();if(!I||!N)return;let L,O=nm(e,I),T=!1,P=null,R=!1,q=null;const Q=Oht({nodes:y(),nodeId:r,handleId:t,handleType:N}),G=()=>{if(!p)return;const[Y,ee]=t0e(O,I);v({x:Y,y:ee}),E=requestAnimationFrame(G)};i({connectionPosition:O,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:N,connectionStartHandle:{nodeId:r,handleId:t,type:N},connectionEndHandle:null}),x==null||x(e,{nodeId:r,handleId:t,handleType:N});function K(Y){const{transform:ee}=s();O=nm(Y,I);const{handle:M,validHandleResult:H}=Iht(Y,d,HR(O,ee,!1,[1,1]),g,Q,W=>h0e(W,f,r,t,a?"target":"source",o,d));if(k=M,T||(G(),T=!0),q=H.handleDomNode,P=H.connection,R=H.isValid,i({connectionPosition:k&&R?c0e({x:k.x,y:k.y},ee):O,connectionStatus:Dht(!!k,R),connectionEndHandle:H.endHandle}),!k&&!R&&!q)return mO(L);P.source!==P.target&&q&&(mO(L),L=q,q.classList.add("connecting","react-flow__handle-connecting"),q.classList.toggle("valid",R),q.classList.toggle("react-flow__handle-valid",R))}function z(Y){var ee,M;(k||q)&&P&&R&&(n==null||n(P)),(M=(ee=s()).onConnectEnd)==null||M.call(ee,Y),c&&(u==null||u(Y)),mO(L),w(),cancelAnimationFrame(E),T=!1,R=!1,P=null,q=null,d.removeEventListener("mousemove",K),d.removeEventListener("mouseup",z),d.removeEventListener("touchmove",K),d.removeEventListener("touchend",z)}d.addEventListener("mousemove",K),d.addEventListener("mouseup",z),d.addEventListener("touchmove",K),d.addEventListener("touchend",z)}const UZ=()=>!0,Pht=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Rht=(e,t,r)=>n=>{const{connectionStartHandle:a,connectionEndHandle:s,connectionClickStartHandle:i}=n;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===r||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===r,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r}},m0e=S.forwardRef(({type:e="source",position:t=jr.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:i,onConnect:o,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},p)=>{var I,L;const g=i||null,x=e==="target",v=yo(),y=Nht(),{connectOnClick:w,noPanClassName:E}=Ss(Pht,kl),{connecting:k,clickConnecting:B}=Ss(Rht(y,g,e),kl);y||(L=(I=v.getState()).onError)==null||L.call(I,"010",y0.error010());const j=O=>{const{defaultEdgeOptions:T,onConnect:P,hasDefaultEdges:R}=v.getState(),q={...T,...O};if(R){const{edges:Q,setEdges:G}=v.getState();G(jht(q,Q))}P==null||P(q),o==null||o(q)},C=O=>{if(!y)return;const T=a0e(O);a&&(T&&O.button===0||!T)&&p0e({event:O,handleId:g,nodeId:y,onConnect:j,isTarget:x,getState:v.getState,setState:v.setState,isValidConnection:r||v.getState().isValidConnection||UZ}),T?d==null||d(O):f==null||f(O)},N=O=>{const{onClickConnectStart:T,onClickConnectEnd:P,connectionClickStartHandle:R,connectionMode:q,isValidConnection:Q}=v.getState();if(!y||!R&&!a)return;if(!R){T==null||T(O,{nodeId:y,handleId:g,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:g}});return}const G=r0e(O.target),K=r||Q||UZ,{connection:z,isValid:Y}=h0e({nodeId:y,id:g,type:e},q,R.nodeId,R.handleId||null,R.type,K,G);Y&&j(z),P==null||P(O),v.setState({connectionClickStartHandle:null})};return Ze.createElement("div",{"data-handleid":g,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${g}-${e}`,className:Xl(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",E,u,{source:!x,target:x,connectable:n,connectablestart:a,connectableend:s,connecting:B,connectionindicator:n&&(a&&!k||s&&k)}]),onMouseDown:C,onTouchStart:C,onClick:w?N:void 0,ref:p,...h},c)});m0e.displayName="Handle";var zb=S.memo(m0e);const g0e=({data:e,isConnectable:t,targetPosition:r=jr.Top,sourcePosition:n=jr.Bottom})=>Ze.createElement(Ze.Fragment,null,Ze.createElement(zb,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,Ze.createElement(zb,{type:"source",position:n,isConnectable:t}));g0e.displayName="DefaultNode";var $R=S.memo(g0e);const x0e=({data:e,isConnectable:t,sourcePosition:r=jr.Bottom})=>Ze.createElement(Ze.Fragment,null,e==null?void 0:e.label,Ze.createElement(zb,{type:"source",position:r,isConnectable:t}));x0e.displayName="InputNode";var v0e=S.memo(x0e);const b0e=({data:e,isConnectable:t,targetPosition:r=jr.Top})=>Ze.createElement(Ze.Fragment,null,Ze.createElement(zb,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);b0e.displayName="OutputNode";var y0e=S.memo(b0e);const J9=()=>null;J9.displayName="GroupNode";const Lht=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),v5=e=>e.id;function Mht(e,t){return kl(e.selectedNodes.map(v5),t.selectedNodes.map(v5))&&kl(e.selectedEdges.map(v5),t.selectedEdges.map(v5))}const w0e=S.memo(({onSelectionChange:e})=>{const t=yo(),{selectedNodes:r,selectedEdges:n}=Ss(Lht,Mht);return S.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChange.forEach(s=>s(a))},[r,n,e]),null});w0e.displayName="SelectionListener";const Uht=e=>!!e.onSelectionChange;function Qht({onSelectionChange:e}){const t=Ss(Uht);return e||t?Ze.createElement(w0e,{onSelectionChange:e}):null}const Hht=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function qv(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function kn(e,t,r){S.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const $ht=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:a,onConnectStart:s,onConnectEnd:i,onClickConnectStart:o,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:g,minZoom:x,maxZoom:v,nodeExtent:y,onNodesChange:w,onEdgesChange:E,elementsSelectable:k,connectionMode:B,snapGrid:j,snapToGrid:C,translateExtent:N,connectOnClick:I,defaultEdgeOptions:L,fitView:O,fitViewOptions:T,onNodesDelete:P,onEdgesDelete:R,onNodeDrag:q,onNodeDragStart:Q,onNodeDragStop:G,onSelectionDrag:K,onSelectionDragStart:z,onSelectionDragStop:Y,noPanClassName:ee,nodeOrigin:M,rfId:H,autoPanOnConnect:W,autoPanOnNodeDrag:Z,onError:ae,connectionRadius:oe,isValidConnection:se,nodeDragThreshold:ce})=>{const{setNodes:de,setEdges:ke,setDefaultNodesAndEdges:re,setMinZoom:_e,setMaxZoom:Ne,setTranslateExtent:Se,setNodeExtent:he,reset:Be}=Ss(Hht,kl),Le=yo();return S.useEffect(()=>{const Ge=n==null?void 0:n.map(xe=>({...xe,...L}));return re(r,Ge),()=>{Be()}},[]),kn("defaultEdgeOptions",L,Le.setState),kn("connectionMode",B,Le.setState),kn("onConnect",a,Le.setState),kn("onConnectStart",s,Le.setState),kn("onConnectEnd",i,Le.setState),kn("onClickConnectStart",o,Le.setState),kn("onClickConnectEnd",c,Le.setState),kn("nodesDraggable",u,Le.setState),kn("nodesConnectable",d,Le.setState),kn("nodesFocusable",f,Le.setState),kn("edgesFocusable",h,Le.setState),kn("edgesUpdatable",p,Le.setState),kn("elementsSelectable",k,Le.setState),kn("elevateNodesOnSelect",g,Le.setState),kn("snapToGrid",C,Le.setState),kn("snapGrid",j,Le.setState),kn("onNodesChange",w,Le.setState),kn("onEdgesChange",E,Le.setState),kn("connectOnClick",I,Le.setState),kn("fitViewOnInit",O,Le.setState),kn("fitViewOnInitOptions",T,Le.setState),kn("onNodesDelete",P,Le.setState),kn("onEdgesDelete",R,Le.setState),kn("onNodeDrag",q,Le.setState),kn("onNodeDragStart",Q,Le.setState),kn("onNodeDragStop",G,Le.setState),kn("onSelectionDrag",K,Le.setState),kn("onSelectionDragStart",z,Le.setState),kn("onSelectionDragStop",Y,Le.setState),kn("noPanClassName",ee,Le.setState),kn("nodeOrigin",M,Le.setState),kn("rfId",H,Le.setState),kn("autoPanOnConnect",W,Le.setState),kn("autoPanOnNodeDrag",Z,Le.setState),kn("onError",ae,Le.setState),kn("connectionRadius",oe,Le.setState),kn("isValidConnection",se,Le.setState),kn("nodeDragThreshold",ce,Le.setState),qv(e,de),qv(t,ke),qv(x,_e),qv(v,Ne),qv(N,Se),qv(y,he),null},QZ={display:"none"},Vht={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},C0e="react-flow__node-desc",E0e="react-flow__edge-desc",zht="react-flow__aria-live",Ght=e=>e.ariaLiveMessage;function Kht({rfId:e}){const t=Ss(Ght);return Ze.createElement("div",{id:`${zht}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Vht},t)}function qht({rfId:e,disableKeyboardA11y:t}){return Ze.createElement(Ze.Fragment,null,Ze.createElement("div",{id:`${C0e}-${e}`,style:QZ},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Ze.createElement("div",{id:`${E0e}-${e}`,style:QZ},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&Ze.createElement(Kht,{rfId:e}))}var oE=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=S.useState(!1),a=S.useRef(!1),s=S.useRef(new Set([])),[i,o]=S.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return S.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=p=>{if(a.current=p.ctrlKey||p.metaKey||p.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&MR(p))return!1;const x=$Z(p.code,o);s.current.add(p[x]),HZ(i,s.current,!1)&&(p.preventDefault(),n(!0))},f=p=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&MR(p))return!1;const x=$Z(p.code,o);HZ(i,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(p[x]),p.key==="Meta"&&s.current.clear(),a.current=!1},h=()=>{s.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,n]),r};function HZ(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function $Z(e,t){return t.includes(e)?"code":"key"}function S0e(e,t,r,n){var o,c;const a=e.parentNode||e.parentId;if(!a)return r;const s=t.get(a),i=rb(s,n);return S0e(s,t,{x:(r.x??0)+i.x,y:(r.y??0)+i.y,z:(((o=s[Hs])==null?void 0:o.z)??0)>(r.z??0)?((c=s[Hs])==null?void 0:c.z)??0:r.z??0},n)}function _0e(e,t,r){e.forEach(n=>{var s;const a=n.parentNode||n.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||r!=null&&r[n.id]){const{x:i,y:o,z:c}=S0e(n,e,{...n.position,z:((s=n[Hs])==null?void 0:s.z)??0},t);n.positionAbsolute={x:i,y:o},n[Hs].z=c,r!=null&&r[n.id]&&(n[Hs].isParent=!0)}})}function gO(e,t,r,n){const a=new Map,s={},i=n?1e3:0;return e.forEach(o=>{var p;const c=(ud(o.zIndex)?o.zIndex:0)+(o.selected?i:0),u=t.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},f=o.parentNode||o.parentId;f&&(s[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(d,Hs,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[Hs])==null?void 0:p.handleBounds,z:c}}),a.set(o.id,d)}),_0e(a,r,s),a}function N0e(e,t={}){const{getNodes:r,width:n,height:a,minZoom:s,maxZoom:i,d3Zoom:o,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(o&&c&&(h||!t.initial)){const g=r().filter(v=>{var w;const y=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return(w=t.nodes)!=null&&w.length?y&&t.nodes.some(E=>E.id===v.id):y}),x=g.every(v=>v.width&&v.height);if(g.length>0&&x){const v=X9(g,f),{x:y,y:w,zoom:E}=f0e(v,n,a,t.minZoom??s,t.maxZoom??i,t.padding??.1),k=rm.translate(y,w).scale(E);return typeof t.duration=="number"&&t.duration>0?o.transform(Tg(c,t.duration),k):o.transform(c,k),!0}}return!1}function Wht(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[Hs]:n[Hs],selected:r.selected})}),new Map(t)}function Xht(e,t){return t.map(r=>{const n=e.find(a=>a.id===r.id);return n&&(r.selected=n.selected),r})}function b5({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:a,edges:s,onNodesChange:i,onEdgesChange:o,hasDefaultNodes:c,hasDefaultEdges:u}=r();e!=null&&e.length&&(c&&n({nodeInternals:Wht(e,a)}),i==null||i(e)),t!=null&&t.length&&(u&&n({edges:Xht(t,s)}),o==null||o(t))}const Wv=()=>{},Yht={zoomIn:Wv,zoomOut:Wv,zoomTo:Wv,getZoom:()=>1,setViewport:Wv,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Wv,fitBounds:Wv,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Jht=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Zht=()=>{const e=yo(),{d3Zoom:t,d3Selection:r}=Ss(Jht,kl);return S.useMemo(()=>r&&t?{zoomIn:a=>t.scaleBy(Tg(r,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(Tg(r,a==null?void 0:a.duration),1/1.2),zoomTo:(a,s)=>t.scaleTo(Tg(r,s==null?void 0:s.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,s)=>{const[i,o,c]=e.getState().transform,u=rm.translate(a.x??i,a.y??o).scale(a.zoom??c);t.transform(Tg(r,s==null?void 0:s.duration),u)},getViewport:()=>{const[a,s,i]=e.getState().transform;return{x:a,y:s,zoom:i}},fitView:a=>N0e(e.getState,a),setCenter:(a,s,i)=>{const{width:o,height:c,maxZoom:u}=e.getState(),d=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,f=o/2-a*d,h=c/2-s*d,p=rm.translate(f,h).scale(d);t.transform(Tg(r,i==null?void 0:i.duration),p)},fitBounds:(a,s)=>{const{width:i,height:o,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=f0e(a,i,o,c,u,(s==null?void 0:s.padding)??.1),p=rm.translate(d,f).scale(h);t.transform(Tg(r,s==null?void 0:s.duration),p)},project:a=>{const{transform:s,snapToGrid:i,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),HR(a,s,i,o)},screenToFlowPosition:a=>{const{transform:s,snapToGrid:i,snapGrid:o,domNode:c}=e.getState();if(!c)return a;const{x:u,y:d}=c.getBoundingClientRect(),f={x:a.x-u,y:a.y-d};return HR(f,s,i,o)},flowToScreenPosition:a=>{const{transform:s,domNode:i}=e.getState();if(!i)return a;const{x:o,y:c}=i.getBoundingClientRect(),u=c0e(a,s);return{x:u.x+o,y:u.y+c}},viewportInitialized:!0}:Yht,[t,r])};function Nj(){const e=Zht(),t=yo(),r=S.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),n=S.useCallback(x=>t.getState().nodeInternals.get(x),[]),a=S.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(v=>({...v}))},[]),s=S.useCallback(x=>{const{edges:v=[]}=t.getState();return v.find(y=>y.id===x)},[]),i=S.useCallback(x=>{const{getNodes:v,setNodes:y,hasDefaultNodes:w,onNodesChange:E}=t.getState(),k=v(),B=typeof x=="function"?x(k):x;if(w)y(B);else if(E){const j=B.length===0?k.map(C=>({type:"remove",id:C.id})):B.map(C=>({item:C,type:"reset"}));E(j)}},[]),o=S.useCallback(x=>{const{edges:v=[],setEdges:y,hasDefaultEdges:w,onEdgesChange:E}=t.getState(),k=typeof x=="function"?x(v):x;if(w)y(k);else if(E){const B=k.length===0?v.map(j=>({type:"remove",id:j.id})):k.map(j=>({item:j,type:"reset"}));E(B)}},[]),c=S.useCallback(x=>{const v=Array.isArray(x)?x:[x],{getNodes:y,setNodes:w,hasDefaultNodes:E,onNodesChange:k}=t.getState();if(E){const j=[...y(),...v];w(j)}else if(k){const B=v.map(j=>({item:j,type:"add"}));k(B)}},[]),u=S.useCallback(x=>{const v=Array.isArray(x)?x:[x],{edges:y=[],setEdges:w,hasDefaultEdges:E,onEdgesChange:k}=t.getState();if(E)w([...y,...v]);else if(k){const B=v.map(j=>({item:j,type:"add"}));k(B)}},[]),d=S.useCallback(()=>{const{getNodes:x,edges:v=[],transform:y}=t.getState(),[w,E,k]=y;return{nodes:x().map(B=>({...B})),edges:v.map(B=>({...B})),viewport:{x:w,y:E,zoom:k}}},[]),f=S.useCallback(({nodes:x,edges:v})=>{const{nodeInternals:y,getNodes:w,edges:E,hasDefaultNodes:k,hasDefaultEdges:B,onNodesDelete:j,onEdgesDelete:C,onNodesChange:N,onEdgesChange:I}=t.getState(),L=(x||[]).map(q=>q.id),O=(v||[]).map(q=>q.id),T=w().reduce((q,Q)=>{const G=Q.parentNode||Q.parentId,K=!L.includes(Q.id)&&G&&q.find(Y=>Y.id===G);return(typeof Q.deletable=="boolean"?Q.deletable:!0)&&(L.includes(Q.id)||K)&&q.push(Q),q},[]),P=E.filter(q=>typeof q.deletable=="boolean"?q.deletable:!0),R=P.filter(q=>O.includes(q.id));if(T||R){const q=d0e(T,P),Q=[...R,...q],G=Q.reduce((K,z)=>(K.includes(z.id)||K.push(z.id),K),[]);if((B||k)&&(B&&t.setState({edges:E.filter(K=>!G.includes(K.id))}),k&&(T.forEach(K=>{y.delete(K.id)}),t.setState({nodeInternals:new Map(y)}))),G.length>0&&(C==null||C(Q),I&&I(G.map(K=>({id:K,type:"remove"})))),T.length>0&&(j==null||j(T),N)){const K=T.map(z=>({id:z.id,type:"remove"}));N(K)}}},[]),h=S.useCallback(x=>{const v=vht(x),y=v?null:t.getState().nodeInternals.get(x.id);return!v&&!y?[null,null,v]:[v?x:OZ(y),y,v]},[]),p=S.useCallback((x,v=!0,y)=>{const[w,E,k]=h(x);return w?(y||t.getState().getNodes()).filter(B=>{if(!k&&(B.id===E.id||!B.positionAbsolute))return!1;const j=OZ(B),C=LR(j,w);return v&&C>0||C>=w.width*w.height}):[]},[]),g=S.useCallback((x,v,y=!0)=>{const[w]=h(x);if(!w)return!1;const E=LR(w,v);return y&&E>0||E>=w.width*w.height},[]);return S.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:a,getEdge:s,setNodes:i,setEdges:o,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:g}),[e,r,n,a,s,i,o,c,u,d,f,p,g])}const e0t={actInsideInputWithModifier:!1};var t0t=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=yo(),{deleteElements:n}=Nj(),a=oE(e,e0t),s=oE(t);S.useEffect(()=>{if(a){const{edges:i,getNodes:o}=r.getState(),c=o().filter(d=>d.selected),u=i.filter(d=>d.selected);n({nodes:c,edges:u}),r.setState({nodesSelectionActive:!1})}},[a]),S.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])};function r0t(e){const t=yo();S.useEffect(()=>{let r;const n=()=>{var s,i;if(!e.current)return;const a=$9(e.current);(a.height===0||a.width===0)&&((i=(s=t.getState()).onError)==null||i.call(s,"004",y0.error004())),t.setState({width:a.width||500,height:a.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const Z9={position:"absolute",width:"100%",height:"100%",top:0,left:0},n0t=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,y5=e=>({x:e.x,y:e.y,zoom:e.k}),Xv=(e,t)=>e.target.closest(`.${t}`),VZ=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),zZ=e=>{const t=e.ctrlKey&&Mk()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},a0t=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),s0t=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:o=.5,panOnScrollMode:c=zg.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:g,maxZoom:x,zoomActivationKeyCode:v,preventScrolling:y=!0,children:w,noWheelClassName:E,noPanClassName:k})=>{const B=S.useRef(),j=yo(),C=S.useRef(!1),N=S.useRef(!1),I=S.useRef(null),L=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:T,d3ZoomHandler:P,userSelectionActive:R}=Ss(a0t,kl),q=oE(v),Q=S.useRef(0),G=S.useRef(!1),K=S.useRef();return r0t(I),S.useEffect(()=>{if(I.current){const z=I.current.getBoundingClientRect(),Y=dht().scaleExtent([g,x]).translateExtent(p),ee=od(I.current).call(Y),M=rm.translate(h.x,h.y).scale(Vb(h.zoom,g,x)),H=[[0,0],[z.width,z.height]],W=Y.constrain()(M,H,p);Y.transform(ee,W),Y.wheelDelta(zZ),j.setState({d3Zoom:Y,d3Selection:ee,d3ZoomHandler:ee.on("wheel.zoom"),transform:[W.x,W.y,W.k],domNode:I.current.closest(".react-flow")})}},[]),S.useEffect(()=>{T&&O&&(i&&!q&&!R?T.on("wheel.zoom",z=>{if(Xv(z,E))return!1;z.preventDefault(),z.stopImmediatePropagation();const Y=T.property("__zoom").k||1;if(z.ctrlKey&&s){const se=mA(z),ce=zZ(z),de=Y*Math.pow(2,ce);O.scaleTo(T,de,se,z);return}const ee=z.deltaMode===1?20:1;let M=c===zg.Vertical?0:z.deltaX*ee,H=c===zg.Horizontal?0:z.deltaY*ee;!Mk()&&z.shiftKey&&c!==zg.Vertical&&(M=z.deltaY*ee,H=0),O.translateBy(T,-(M/Y)*o,-(H/Y)*o,{internal:!0});const W=y5(T.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:ae,onViewportChangeEnd:oe}=j.getState();clearTimeout(K.current),G.current||(G.current=!0,t==null||t(z,W),Z==null||Z(W)),G.current&&(e==null||e(z,W),ae==null||ae(W),K.current=setTimeout(()=>{r==null||r(z,W),oe==null||oe(W),G.current=!1},150))},{passive:!1}):typeof P<"u"&&T.on("wheel.zoom",function(z,Y){if(!y&&z.type==="wheel"&&!z.ctrlKey||Xv(z,E))return null;z.preventDefault(),P.call(this,z,Y)},{passive:!1}))},[R,i,c,T,O,P,q,s,y,E,t,e,r]),S.useEffect(()=>{O&&O.on("start",z=>{var M,H;if(!z.sourceEvent||z.sourceEvent.internal)return null;Q.current=(M=z.sourceEvent)==null?void 0:M.button;const{onViewportChangeStart:Y}=j.getState(),ee=y5(z.transform);C.current=!0,L.current=ee,((H=z.sourceEvent)==null?void 0:H.type)==="mousedown"&&j.setState({paneDragging:!0}),Y==null||Y(ee),t==null||t(z.sourceEvent,ee)})},[O,t]),S.useEffect(()=>{O&&(R&&!C.current?O.on("zoom",null):R||O.on("zoom",z=>{var ee;const{onViewportChange:Y}=j.getState();if(j.setState({transform:[z.transform.x,z.transform.y,z.transform.k]}),N.current=!!(n&&VZ(f,Q.current??0)),(e||Y)&&!((ee=z.sourceEvent)!=null&&ee.internal)){const M=y5(z.transform);Y==null||Y(M),e==null||e(z.sourceEvent,M)}}))},[R,O,e,f,n]),S.useEffect(()=>{O&&O.on("end",z=>{if(!z.sourceEvent||z.sourceEvent.internal)return null;const{onViewportChangeEnd:Y}=j.getState();if(C.current=!1,j.setState({paneDragging:!1}),n&&VZ(f,Q.current??0)&&!N.current&&n(z.sourceEvent),N.current=!1,(r||Y)&&n0t(L.current,z.transform)){const ee=y5(z.transform);L.current=ee,clearTimeout(B.current),B.current=setTimeout(()=>{Y==null||Y(ee),r==null||r(z.sourceEvent,ee)},i?150:0)}})},[O,i,f,r,n]),S.useEffect(()=>{O&&O.filter(z=>{const Y=q||a,ee=s&&z.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&z.button===1&&z.type==="mousedown"&&(Xv(z,"react-flow__node")||Xv(z,"react-flow__edge")))return!0;if(!f&&!Y&&!i&&!u&&!s||R||!u&&z.type==="dblclick"||Xv(z,E)&&z.type==="wheel"||Xv(z,k)&&(z.type!=="wheel"||i&&z.type==="wheel"&&!q)||!s&&z.ctrlKey&&z.type==="wheel"||!Y&&!i&&!ee&&z.type==="wheel"||!f&&(z.type==="mousedown"||z.type==="touchstart")||Array.isArray(f)&&!f.includes(z.button)&&z.type==="mousedown")return!1;const M=Array.isArray(f)&&f.includes(z.button)||!z.button||z.button<=1;return(!z.ctrlKey||z.type==="wheel")&&M})},[R,O,a,s,i,u,f,d,q]),Ze.createElement("div",{className:"react-flow__renderer",ref:I,style:Z9},w)},i0t=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function o0t(){const{userSelectionActive:e,userSelectionRect:t}=Ss(i0t,kl);return e&&t?Ze.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function GZ(e,t){const r=t.parentNode||t.parentId,n=e.find(a=>a.id===r);if(n){const a=t.position.x+t.width-n.width,s=t.position.y+t.height-n.height;if(a>0||s>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,a>0&&(n.style.width+=a),s>0&&(n.style.height+=s),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function k0e(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,a)=>{const s=e.filter(o=>o.id===a.id);if(s.length===0)return n.push(a),n;const i={...a};for(const o of s)if(o)switch(o.type){case"select":{i.selected=o.selected;break}case"position":{typeof o.position<"u"&&(i.position=o.position),typeof o.positionAbsolute<"u"&&(i.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(i.dragging=o.dragging),i.expandParent&&GZ(n,i);break}case"dimensions":{typeof o.dimensions<"u"&&(i.width=o.dimensions.width,i.height=o.dimensions.height),typeof o.updateStyle<"u"&&(i.style={...i.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(i.resizing=o.resizing),i.expandParent&&GZ(n,i);break}case"remove":return n}return n.push(i),n},r)}function T0e(e,t){return k0e(e,t)}function l0t(e,t){return k0e(e,t)}const kp=(e,t)=>({id:e,type:"select",selected:t});function B1(e,t){return e.reduce((r,n)=>{const a=t.includes(n.id);return!n.selected&&a?(n.selected=!0,r.push(kp(n.id,!0))):n.selected&&!a&&(n.selected=!1,r.push(kp(n.id,!1))),r},[])}const xO=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},c0t=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),B0e=S.memo(({isSelecting:e,selectionMode:t=iE.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:i,onPaneScroll:o,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=S.useRef(null),p=yo(),g=S.useRef(0),x=S.useRef(0),v=S.useRef(),{userSelectionActive:y,elementsSelectable:w,dragging:E}=Ss(c0t,kl),k=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,x.current=0},B=P=>{s==null||s(P),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},j=P=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){P.preventDefault();return}i==null||i(P)},C=o?P=>o(P):void 0,N=P=>{const{resetSelectedElements:R,domNode:q}=p.getState();if(v.current=q==null?void 0:q.getBoundingClientRect(),!w||!e||P.button!==0||P.target!==h.current||!v.current)return;const{x:Q,y:G}=nm(P,v.current);R(),p.setState({userSelectionRect:{width:0,height:0,startX:Q,startY:G,x:Q,y:G}}),n==null||n(P)},I=P=>{const{userSelectionRect:R,nodeInternals:q,edges:Q,transform:G,onNodesChange:K,onEdgesChange:z,nodeOrigin:Y,getNodes:ee}=p.getState();if(!e||!v.current||!R)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const M=nm(P,v.current),H=R.startX??0,W=R.startY??0,Z={...R,x:M.x<H?M.x:H,y:M.y<W?M.y:W,width:Math.abs(M.x-H),height:Math.abs(M.y-W)},ae=ee(),oe=u0e(q,Z,G,t===iE.Partial,!0,Y),se=d0e(oe,Q).map(de=>de.id),ce=oe.map(de=>de.id);if(g.current!==ce.length){g.current=ce.length;const de=B1(ae,ce);de.length&&(K==null||K(de))}if(x.current!==se.length){x.current=se.length;const de=B1(Q,se);de.length&&(z==null||z(de))}p.setState({userSelectionRect:Z})},L=P=>{if(P.button!==0)return;const{userSelectionRect:R}=p.getState();!y&&R&&P.target===h.current&&(B==null||B(P)),p.setState({nodesSelectionActive:g.current>0}),k(),a==null||a(P)},O=P=>{y&&(p.setState({nodesSelectionActive:g.current>0}),a==null||a(P)),k()},T=w&&(e||y);return Ze.createElement("div",{className:Xl(["react-flow__pane",{dragging:E,selection:e}]),onClick:T?void 0:xO(B,h),onContextMenu:xO(j,h),onWheel:xO(C,h),onMouseEnter:T?void 0:c,onMouseDown:T?N:void 0,onMouseMove:T?I:u,onMouseUp:T?L:void 0,onMouseLeave:T?O:d,ref:h,style:Z9},f,Ze.createElement(o0t,null))});B0e.displayName="Pane";function j0e(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:j0e(n,t):!1}function KZ(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function u0t(e,t,r,n){return Array.from(e.values()).filter(a=>(a.selected||a.id===n)&&(!a.parentNode||a.parentId||!j0e(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var s,i;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((s=a.positionAbsolute)==null?void 0:s.x)??0),y:r.y-(((i=a.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function d0t(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function I0e(e,t,r,n,a=[0,0],s){const i=d0t(e,e.extent||n);let o=i;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=r.get(c),{x:h,y:p}=rb(f,a).positionAbsolute;o=f&&ud(h)&&ud(p)&&ud(f.width)&&ud(f.height)?[[h+e.width*a[0],p+e.height*a[1]],[h+f.width-e.width+e.width*a[0],p+f.height-e.height+e.height*a[1]]]:o}else s==null||s("005",y0.error005()),o=i;else if(e.extent&&c&&e.extent!=="parent"){const f=r.get(c),{x:h,y:p}=rb(f,a).positionAbsolute;o=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(c){const f=r.get(c);u=rb(f,a).positionAbsolute}const d=o&&o!=="parent"?V9(t,o):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function vO({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(a=>({...r.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?n.find(a=>a.id===e):n[0],n]}const qZ=(e,t,r,n)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const s=Array.from(a),i=t.getBoundingClientRect(),o={x:i.width*n[0],y:i.height*n[1]};return s.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-i.left-o.x)/r,y:(u.top-i.top-o.y)/r,...$9(c)}})};function Vw(e,t,r){return r===void 0?r:n=>{const a=t().nodeInternals.get(e);a&&r(n,{...a})}}function VR({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:o,onError:c}=t.getState(),u=o.get(e);if(!u){c==null||c("012",y0.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function f0t(){const e=yo();return S.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:a,snapToGrid:s}=e.getState(),i=r.touches?r.touches[0].clientX:r.clientX,o=r.touches?r.touches[0].clientY:r.clientY,c={x:(i-n[0])/n[2],y:(o-n[1])/n[2]};return{xSnapped:s?a[0]*Math.round(c.x/a[0]):c.x,ySnapped:s?a[1]*Math.round(c.y/a[1]):c.y,...c}},[])}function bO(e){return(t,r,n)=>e==null?void 0:e(t,n)}function F0e({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:s,selectNodesOnDrag:i}){const o=yo(),[c,u]=S.useState(!1),d=S.useRef([]),f=S.useRef({x:null,y:null}),h=S.useRef(0),p=S.useRef(null),g=S.useRef({x:0,y:0}),x=S.useRef(null),v=S.useRef(!1),y=S.useRef(!1),w=S.useRef(!1),E=f0t();return S.useEffect(()=>{if(e!=null&&e.current){const k=od(e.current),B=({x:N,y:I})=>{const{nodeInternals:L,onNodeDrag:O,onSelectionDrag:T,updateNodePositions:P,nodeExtent:R,snapGrid:q,snapToGrid:Q,nodeOrigin:G,onError:K}=o.getState();f.current={x:N,y:I};let z=!1,Y={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&R){const M=X9(d.current,G);Y=z9(M)}if(d.current=d.current.map(M=>{const H={x:N-M.distance.x,y:I-M.distance.y};Q&&(H.x=q[0]*Math.round(H.x/q[0]),H.y=q[1]*Math.round(H.y/q[1]));const W=[[R[0][0],R[0][1]],[R[1][0],R[1][1]]];d.current.length>1&&R&&!M.extent&&(W[0][0]=M.positionAbsolute.x-Y.x+R[0][0],W[1][0]=M.positionAbsolute.x+(M.width??0)-Y.x2+R[1][0],W[0][1]=M.positionAbsolute.y-Y.y+R[0][1],W[1][1]=M.positionAbsolute.y+(M.height??0)-Y.y2+R[1][1]);const Z=I0e(M,H,L,W,G,K);return z=z||M.position.x!==Z.position.x||M.position.y!==Z.position.y,M.position=Z.position,M.positionAbsolute=Z.positionAbsolute,M}),!z)return;P(d.current,!0,!0),u(!0);const ee=a?O:bO(T);if(ee&&x.current){const[M,H]=vO({nodeId:a,dragItems:d.current,nodeInternals:L});ee(x.current,M,H)}},j=()=>{if(!p.current)return;const[N,I]=t0e(g.current,p.current);if(N!==0||I!==0){const{transform:L,panBy:O}=o.getState();f.current.x=(f.current.x??0)-N/L[2],f.current.y=(f.current.y??0)-I/L[2],O({x:N,y:I})&&B(f.current)}h.current=requestAnimationFrame(j)},C=N=>{var G;const{nodeInternals:I,multiSelectionActive:L,nodesDraggable:O,unselectNodesAndEdges:T,onNodeDragStart:P,onSelectionDragStart:R}=o.getState();y.current=!0;const q=a?P:bO(R);(!i||!s)&&!L&&a&&((G=I.get(a))!=null&&G.selected||T()),a&&s&&i&&VR({id:a,store:o,nodeRef:e});const Q=E(N);if(f.current=Q,d.current=u0t(I,O,Q,a),q&&d.current){const[K,z]=vO({nodeId:a,dragItems:d.current,nodeInternals:I});q(N.sourceEvent,K,z)}};if(t)k.on(".drag",null);else{const N=Kft().on("start",I=>{const{domNode:L,nodeDragThreshold:O}=o.getState();O===0&&C(I),w.current=!1;const T=E(I);f.current=T,p.current=(L==null?void 0:L.getBoundingClientRect())||null,g.current=nm(I.sourceEvent,p.current)}).on("drag",I=>{var P,R;const L=E(I),{autoPanOnNodeDrag:O,nodeDragThreshold:T}=o.getState();if(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!v.current&&y.current&&O&&(v.current=!0,j()),!y.current){const q=L.xSnapped-(((P=f==null?void 0:f.current)==null?void 0:P.x)??0),Q=L.ySnapped-(((R=f==null?void 0:f.current)==null?void 0:R.y)??0);Math.sqrt(q*q+Q*Q)>T&&C(I)}(f.current.x!==L.xSnapped||f.current.y!==L.ySnapped)&&d.current&&y.current&&(x.current=I.sourceEvent,g.current=nm(I.sourceEvent,p.current),B(L))}}).on("end",I=>{if(!(!y.current||w.current)&&(u(!1),v.current=!1,y.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:L,nodeInternals:O,onNodeDragStop:T,onSelectionDragStop:P}=o.getState(),R=a?T:bO(P);if(L(d.current,!1,!1),R){const[q,Q]=vO({nodeId:a,dragItems:d.current,nodeInternals:O});R(I.sourceEvent,q,Q)}}}).filter(I=>{const L=I.target;return!I.button&&(!r||!KZ(L,`.${r}`,e))&&(!n||KZ(L,n,e))});return k.call(N),()=>{k.on(".drag",null)}}}},[e,t,r,n,s,o,a,i,E]),c}function O0e(){const e=yo();return S.useCallback(r=>{const{nodeInternals:n,nodeExtent:a,updateNodePositions:s,getNodes:i,snapToGrid:o,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=i().filter(w=>w.selected&&(w.draggable||d&&typeof w.draggable>"u")),h=o?c[0]:5,p=o?c[1]:5,g=r.isShiftPressed?4:1,x=r.x*h*g,v=r.y*p*g,y=f.map(w=>{if(w.positionAbsolute){const E={x:w.positionAbsolute.x+x,y:w.positionAbsolute.y+v};o&&(E.x=c[0]*Math.round(E.x/c[0]),E.y=c[1]*Math.round(E.y/c[1]));const{positionAbsolute:k,position:B}=I0e(w,E,n,a,void 0,u);w.position=B,w.positionAbsolute=k}return w});s(y,!0,!1)},[])}const nb={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var zw=e=>{const t=({id:r,type:n,data:a,xPos:s,yPos:i,xPosOrigin:o,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:g,onDoubleClick:x,style:v,className:y,isDraggable:w,isSelectable:E,isConnectable:k,isFocusable:B,selectNodesOnDrag:j,sourcePosition:C,targetPosition:N,hidden:I,resizeObserver:L,dragHandle:O,zIndex:T,isParent:P,noDragClassName:R,noPanClassName:q,initialized:Q,disableKeyboardA11y:G,ariaLabel:K,rfId:z,hasHandleBounds:Y})=>{const ee=yo(),M=S.useRef(null),H=S.useRef(null),W=S.useRef(C),Z=S.useRef(N),ae=S.useRef(n),oe=E||w||d||f||h||p,se=O0e(),ce=Vw(r,ee.getState,f),de=Vw(r,ee.getState,h),ke=Vw(r,ee.getState,p),re=Vw(r,ee.getState,g),_e=Vw(r,ee.getState,x),Ne=Be=>{const{nodeDragThreshold:Le}=ee.getState();if(E&&(!j||!w||Le>0)&&VR({id:r,store:ee,nodeRef:M}),d){const Ge=ee.getState().nodeInternals.get(r);Ge&&d(Be,{...Ge})}},Se=Be=>{if(!MR(Be)&&!G)if(n0e.includes(Be.key)&&E){const Le=Be.key==="Escape";VR({id:r,store:ee,unselect:Le,nodeRef:M})}else w&&u&&Object.prototype.hasOwnProperty.call(nb,Be.key)&&(ee.setState({ariaLiveMessage:`Moved selected node ${Be.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~i}`}),se({x:nb[Be.key].x,y:nb[Be.key].y,isShiftPressed:Be.shiftKey}))};S.useEffect(()=>()=>{H.current&&(L==null||L.unobserve(H.current),H.current=null)},[]),S.useEffect(()=>{if(M.current&&!I){const Be=M.current;(!Q||!Y||H.current!==Be)&&(H.current&&(L==null||L.unobserve(H.current)),L==null||L.observe(Be),H.current=Be)}},[I,Q,Y]),S.useEffect(()=>{const Be=ae.current!==n,Le=W.current!==C,Ge=Z.current!==N;M.current&&(Be||Le||Ge)&&(Be&&(ae.current=n),Le&&(W.current=C),Ge&&(Z.current=N),ee.getState().updateNodeDimensions([{id:r,nodeElement:M.current,forceUpdate:!0}]))},[r,n,C,N]);const he=F0e({nodeRef:M,disabled:I||!w,noDragClassName:R,handleSelector:O,nodeId:r,isSelectable:E,selectNodesOnDrag:j});return I?null:Ze.createElement("div",{className:Xl(["react-flow__node",`react-flow__node-${n}`,{[q]:w},y,{selected:u,selectable:E,parent:P,dragging:he}]),ref:M,style:{zIndex:T,transform:`translate(${o}px,${c}px)`,pointerEvents:oe?"all":"none",visibility:Q?"visible":"hidden",...v},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:ce,onMouseMove:de,onMouseLeave:ke,onContextMenu:re,onClick:Ne,onDoubleClick:_e,onKeyDown:B?Se:void 0,tabIndex:B?0:void 0,role:B?"button":void 0,"aria-describedby":G?void 0:`${C0e}-${z}`,"aria-label":K},Ze.createElement(_ht,{value:r},Ze.createElement(e,{id:r,data:a,type:n,xPos:s,yPos:i,selected:u,isConnectable:k,sourcePosition:C,targetPosition:N,dragging:he,dragHandle:O,zIndex:T})))};return t.displayName="NodeWrapper",S.memo(t)};const A0t=e=>{const t=e.getNodes().filter(r=>r.selected);return{...X9(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function h0t({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=yo(),{width:a,height:s,x:i,y:o,transformString:c,userSelectionActive:u}=Ss(A0t,kl),d=O0e(),f=S.useRef(null);if(S.useEffect(()=>{var g;r||(g=f.current)==null||g.focus({preventScroll:!0})},[r]),F0e({nodeRef:f}),u||!a||!s)return null;const h=e?g=>{const x=n.getState().getNodes().filter(v=>v.selected);e(g,x)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call(nb,g.key)&&d({x:nb[g.key].x,y:nb[g.key].y,isShiftPressed:g.shiftKey})};return Ze.createElement("div",{className:Xl(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},Ze.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:a,height:s,top:o,left:i}}))}var p0t=S.memo(h0t);const m0t=e=>e.nodesSelectionActive,D0e=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,deleteKeyCode:o,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:v,panActivationKeyCode:y,zoomActivationKeyCode:w,elementsSelectable:E,zoomOnScroll:k,zoomOnPinch:B,panOnScroll:j,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:I,panOnDrag:L,defaultViewport:O,translateExtent:T,minZoom:P,maxZoom:R,preventScrolling:q,onSelectionContextMenu:Q,noWheelClassName:G,noPanClassName:K,disableKeyboardA11y:z})=>{const Y=Ss(m0t),ee=oE(f),M=oE(y),H=M||L,W=M||j,Z=ee||h&&H!==!0;return t0t({deleteKeyCode:o,multiSelectionKeyCode:v}),Ze.createElement(s0t,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:E,zoomOnScroll:k,zoomOnPinch:B,panOnScroll:W,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:I,panOnDrag:!ee&&H,defaultViewport:O,translateExtent:T,minZoom:P,maxZoom:R,zoomActivationKeyCode:w,preventScrolling:q,noWheelClassName:G,noPanClassName:K},Ze.createElement(B0e,{onSelectionStart:g,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:H,isSelecting:!!Z,selectionMode:p},e,Y&&Ze.createElement(p0t,{onSelectionContextMenu:Q,noPanClassName:K,disableKeyboardA11y:z})))};D0e.displayName="FlowRenderer";var g0t=S.memo(D0e);function x0t(e){return Ss(S.useCallback(r=>e?u0e(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function v0t(e){const t={input:zw(e.input||v0e),default:zw(e.default||$R),output:zw(e.output||y0e),group:zw(e.group||J9)},r={},n=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,s)=>(a[s]=zw(e[s]||$R),a),r);return{...t,...n}}const b0t=({x:e,y:t,width:r,height:n,origin:a})=>!r||!n?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-r*a[0],y:t-n*a[1]},y0t=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),P0e=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,updateNodeDimensions:s,onError:i}=Ss(y0t,kl),o=x0t(e.onlyRenderVisibleElements),c=S.useRef(),u=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));s(h)});return c.current=d,d},[]);return S.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),Ze.createElement("div",{className:"react-flow__nodes",style:Z9},o.map(d=>{var B,j,C;let f=d.type||"default";e.nodeTypes[f]||(i==null||i("003",y0.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(d.draggable||t&&typeof d.draggable>"u"),g=!!(d.selectable||a&&typeof d.selectable>"u"),x=!!(d.connectable||r&&typeof d.connectable>"u"),v=!!(d.focusable||n&&typeof d.focusable>"u"),y=e.nodeExtent?V9(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,w=(y==null?void 0:y.x)??0,E=(y==null?void 0:y.y)??0,k=b0t({x:w,y:E,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return Ze.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||jr.Bottom,targetPosition:d.targetPosition||jr.Top,hidden:d.hidden,xPos:w,yPos:E,xPosOrigin:k.x,yPosOrigin:k.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:p,isSelectable:g,isConnectable:x,isFocusable:v,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((B=d[Hs])==null?void 0:B.z)??0,isParent:!!((j=d[Hs])!=null&&j.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((C=d[Hs])!=null&&C.handleBounds)})}))};P0e.displayName="NodeRenderer";var w0t=S.memo(P0e);const C0t=(e,t,r)=>r===jr.Left?e-t:r===jr.Right?e+t:e,E0t=(e,t,r)=>r===jr.Top?e-t:r===jr.Bottom?e+t:e,WZ="react-flow__edgeupdater",XZ=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:s,onMouseOut:i,type:o})=>Ze.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:i,className:Xl([WZ,`${WZ}-${o}`]),cx:C0t(t,n,e),cy:E0t(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),S0t=()=>!0;var Yv=e=>{const t=({id:r,className:n,type:a,data:s,onClick:i,onEdgeDoubleClick:o,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:v,source:y,target:w,sourceX:E,sourceY:k,targetX:B,targetY:j,sourcePosition:C,targetPosition:N,elementsSelectable:I,hidden:L,sourceHandleId:O,targetHandleId:T,onContextMenu:P,onMouseEnter:R,onMouseMove:q,onMouseLeave:Q,reconnectRadius:G,onReconnect:K,onReconnectStart:z,onReconnectEnd:Y,markerEnd:ee,markerStart:M,rfId:H,ariaLabel:W,isFocusable:Z,isReconnectable:ae,pathOptions:oe,interactionWidth:se,disableKeyboardA11y:ce})=>{const de=S.useRef(null),[ke,re]=S.useState(!1),[_e,Ne]=S.useState(!1),Se=yo(),he=S.useMemo(()=>`url('#${QR(M,H)}')`,[M,H]),Be=S.useMemo(()=>`url('#${QR(ee,H)}')`,[ee,H]);if(L)return null;const Le=ut=>{var En;const{edges:Cr,addSelectedEdges:Kt,unselectNodesAndEdges:ln,multiSelectionActive:kr}=Se.getState(),Mr=Cr.find(Pr=>Pr.id===r);Mr&&(I&&(Se.setState({nodesSelectionActive:!1}),Mr.selected&&kr?(ln({nodes:[],edges:[Mr]}),(En=de.current)==null||En.blur()):Kt([r])),i&&i(ut,Mr))},Ge=$w(r,Se.getState,o),xe=$w(r,Se.getState,P),Ie=$w(r,Se.getState,R),De=$w(r,Se.getState,q),Ve=$w(r,Se.getState,Q),We=(ut,Cr)=>{if(ut.button!==0)return;const{edges:Kt,isValidConnection:ln}=Se.getState(),kr=Cr?w:y,Mr=(Cr?T:O)||null,En=Cr?"target":"source",Pr=ln||S0t,or=Cr,gr=Kt.find(rn=>rn.id===r);Ne(!0),z==null||z(ut,gr,En);const en=rn=>{Ne(!1),Y==null||Y(rn,gr,En)};p0e({event:ut,handleId:Mr,nodeId:kr,onConnect:rn=>K==null?void 0:K(gr,rn),isTarget:or,getState:Se.getState,setState:Se.setState,isValidConnection:Pr,edgeUpdaterType:En,onReconnectEnd:en})},at=ut=>We(ut,!0),ht=ut=>We(ut,!1),Tt=()=>re(!0),Rt=()=>re(!1),Ft=!I&&!i,Pt=ut=>{var Cr;if(!ce&&n0e.includes(ut.key)&&I){const{unselectNodesAndEdges:Kt,addSelectedEdges:ln,edges:kr}=Se.getState();ut.key==="Escape"?((Cr=de.current)==null||Cr.blur(),Kt({edges:[kr.find(En=>En.id===r)]})):ln([r])}};return Ze.createElement("g",{className:Xl(["react-flow__edge",`react-flow__edge-${a}`,n,{selected:c,animated:u,inactive:Ft,updating:ke}]),onClick:Le,onDoubleClick:Ge,onContextMenu:xe,onMouseEnter:Ie,onMouseMove:De,onMouseLeave:Ve,onKeyDown:Z?Pt:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":W===null?void 0:W||`Edge from ${y} to ${w}`,"aria-describedby":Z?`${E0e}-${H}`:void 0,ref:de},!_e&&Ze.createElement(e,{id:r,source:y,target:w,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,data:s,style:v,sourceX:E,sourceY:k,targetX:B,targetY:j,sourcePosition:C,targetPosition:N,sourceHandleId:O,targetHandleId:T,markerStart:he,markerEnd:Be,pathOptions:oe,interactionWidth:se}),ae&&Ze.createElement(Ze.Fragment,null,(ae==="source"||ae===!0)&&Ze.createElement(XZ,{position:C,centerX:E,centerY:k,radius:G,onMouseDown:at,onMouseEnter:Tt,onMouseOut:Rt,type:"source"}),(ae==="target"||ae===!0)&&Ze.createElement(XZ,{position:N,centerX:B,centerY:j,radius:G,onMouseDown:ht,onMouseEnter:Tt,onMouseOut:Rt,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function _0t(e){const t={default:Yv(e.default||Qk),straight:Yv(e.bezier||q9),step:Yv(e.step||K9),smoothstep:Yv(e.step||_j),simplebezier:Yv(e.simplebezier||G9)},r={},n=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,s)=>(a[s]=Yv(e[s]||Qk),a),r);return{...t,...n}}function YZ(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,a=((r==null?void 0:r.y)||0)+t.y,s=(r==null?void 0:r.width)||t.width,i=(r==null?void 0:r.height)||t.height;switch(e){case jr.Top:return{x:n+s/2,y:a};case jr.Right:return{x:n+s,y:a+i/2};case jr.Bottom:return{x:n+s/2,y:a+i};case jr.Left:return{x:n,y:a+i/2}}}function JZ(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const N0t=(e,t,r,n,a,s)=>{const i=YZ(r,e,t),o=YZ(s,n,a);return{sourceX:i.x,sourceY:i.y,targetX:o.x,targetY:o.y}};function k0t({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:a,targetHeight:s,width:i,height:o,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+a),y2:Math.max(e.y+n,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=z9({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:o/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function ZZ(e){var n,a,s,i,o;const t=((n=e==null?void 0:e[Hs])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const T0t=[{level:0,isMaxLevel:!0,edges:[]}];function B0t(e,t,r=!1){let n=-1;const a=e.reduce((i,o)=>{var d,f;const c=ud(o.zIndex);let u=c?o.zIndex:0;if(r){const h=t.get(o.target),p=t.get(o.source),g=o.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),x=Math.max(((d=p==null?void 0:p[Hs])==null?void 0:d.z)||0,((f=h==null?void 0:h[Hs])==null?void 0:f.z)||0,1e3);u=(c?o.zIndex:0)+(g?x:0)}return i[u]?i[u].push(o):i[u]=[o],n=u>n?u:n,i},{}),s=Object.entries(a).map(([i,o])=>{const c=+i;return{edges:o,level:c,isMaxLevel:c===n}});return s.length===0?T0t:s}function j0t(e,t,r){const n=Ss(S.useCallback(a=>e?a.edges.filter(s=>{const i=t.get(s.source),o=t.get(s.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&k0t({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:o.width,targetHeight:o.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return B0t(n,t,r)}const I0t=({color:e="none",strokeWidth:t=1})=>Ze.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),F0t=({color:e="none",strokeWidth:t=1})=>Ze.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),eee={[Uk.Arrow]:I0t,[Uk.ArrowClosed]:F0t};function O0t(e){const t=yo();return S.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(eee,e)?eee[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",y0.error009(e)),null)},[e])}const D0t=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:o="auto-start-reverse"})=>{const c=O0t(t);return c?Ze.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:o,refX:"0",refY:"0"},Ze.createElement(c,{color:r,strokeWidth:i})):null},P0t=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((a,s)=>([s.markerStart,s.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const o=QR(i,t);n.includes(o)||(a.push({id:o,color:i.color||e,...i}),n.push(o))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))},R0e=({defaultColor:e,rfId:t})=>{const r=Ss(S.useCallback(P0t({defaultColor:e,rfId:t}),[e,t]),(n,a)=>!(n.length!==a.length||n.some((s,i)=>s.id!==a[i].id)));return Ze.createElement("defs",null,r.map(n=>Ze.createElement(D0t,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};R0e.displayName="MarkerDefinitions";var R0t=S.memo(R0e);const L0t=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),L0e=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:i,onEdgeMouseEnter:o,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:g,reconnectRadius:x,children:v,disableKeyboardA11y:y})=>{const{edgesFocusable:w,edgesUpdatable:E,elementsSelectable:k,width:B,height:j,connectionMode:C,nodeInternals:N,onError:I}=Ss(L0t,kl),L=j0t(t,N,r);return B?Ze.createElement(Ze.Fragment,null,L.map(({level:O,edges:T,isMaxLevel:P})=>Ze.createElement("svg",{key:O,style:{zIndex:O},width:B,height:j,className:"react-flow__edges react-flow__container"},P&&Ze.createElement(R0t,{defaultColor:e,rfId:n}),Ze.createElement("g",null,T.map(R=>{const[q,Q,G]=ZZ(N.get(R.source)),[K,z,Y]=ZZ(N.get(R.target));if(!G||!Y)return null;let ee=R.type||"default";a[ee]||(I==null||I("011",y0.error011(ee)),ee="default");const M=a[ee]||a.default,H=C===Ox.Strict?z.target:(z.target??[]).concat(z.source??[]),W=JZ(Q.source,R.sourceHandle),Z=JZ(H,R.targetHandle),ae=(W==null?void 0:W.position)||jr.Bottom,oe=(Z==null?void 0:Z.position)||jr.Top,se=!!(R.focusable||w&&typeof R.focusable>"u"),ce=R.reconnectable||R.updatable,de=typeof h<"u"&&(ce||E&&typeof ce>"u");if(!W||!Z)return I==null||I("008",y0.error008(W,R)),null;const{sourceX:ke,sourceY:re,targetX:_e,targetY:Ne}=N0t(q,W,ae,K,Z,oe);return Ze.createElement(M,{key:R.id,id:R.id,className:Xl([R.className,s]),type:ee,data:R.data,selected:!!R.selected,animated:!!R.animated,hidden:!!R.hidden,label:R.label,labelStyle:R.labelStyle,labelShowBg:R.labelShowBg,labelBgStyle:R.labelBgStyle,labelBgPadding:R.labelBgPadding,labelBgBorderRadius:R.labelBgBorderRadius,style:R.style,source:R.source,target:R.target,sourceHandleId:R.sourceHandle,targetHandleId:R.targetHandle,markerEnd:R.markerEnd,markerStart:R.markerStart,sourceX:ke,sourceY:re,targetX:_e,targetY:Ne,sourcePosition:ae,targetPosition:oe,elementsSelectable:k,onContextMenu:i,onMouseEnter:o,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:g,reconnectRadius:x,rfId:n,ariaLabel:R.ariaLabel,isFocusable:se,isReconnectable:de,pathOptions:"pathOptions"in R?R.pathOptions:void 0,interactionWidth:R.interactionWidth,disableKeyboardA11y:y})})))),v):null};L0e.displayName="EdgeRenderer";var M0t=S.memo(L0e);const U0t=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Q0t({children:e}){const t=Ss(U0t);return Ze.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function H0t(e){const t=Nj(),r=S.useRef(!1);S.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const $0t={[jr.Left]:jr.Right,[jr.Right]:jr.Left,[jr.Top]:jr.Bottom,[jr.Bottom]:jr.Top},M0e=({nodeId:e,handleType:t,style:r,type:n=Dp.Bezier,CustomComponent:a,connectionStatus:s})=>{var j,C,N;const{fromNode:i,handleId:o,toX:c,toY:u,connectionMode:d}=Ss(S.useCallback(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),kl),f=(j=i==null?void 0:i[Hs])==null?void 0:j.handleBounds;let h=f==null?void 0:f[t];if(d===Ox.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!i||!h)return null;const p=o?h.find(I=>I.id===o):h[0],g=p?p.x+p.width/2:(i.width??0)/2,x=p?p.y+p.height/2:i.height??0,v=(((C=i.positionAbsolute)==null?void 0:C.x)??0)+g,y=(((N=i.positionAbsolute)==null?void 0:N.y)??0)+x,w=p==null?void 0:p.position,E=w?$0t[w]:null;if(!w||!E)return null;if(a)return Ze.createElement(a,{connectionLineType:n,connectionLineStyle:r,fromNode:i,fromHandle:p,fromX:v,fromY:y,toX:c,toY:u,fromPosition:w,toPosition:E,connectionStatus:s});let k="";const B={sourceX:v,sourceY:y,sourcePosition:w,targetX:c,targetY:u,targetPosition:E};return n===Dp.Bezier?[k]=l0e(B):n===Dp.Step?[k]=UR({...B,borderRadius:0}):n===Dp.SmoothStep?[k]=UR(B):n===Dp.SimpleBezier?[k]=o0e(B):k=`M${v},${y} ${c},${u}`,Ze.createElement("path",{d:k,fill:"none",className:"react-flow__connection-path",style:r})};M0e.displayName="ConnectionLine";const V0t=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function z0t({containerStyle:e,style:t,type:r,component:n}){const{nodeId:a,handleType:s,nodesConnectable:i,width:o,height:c,connectionStatus:u}=Ss(V0t,kl);return!(a&&s&&o&&i)?null:Ze.createElement("svg",{style:e,width:o,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},Ze.createElement("g",{className:Xl(["react-flow__connection",u])},Ze.createElement(M0e,{nodeId:a,handleType:s,style:t,type:r,CustomComponent:n,connectionStatus:u})))}function tee(e,t){return S.useRef(null),yo(),S.useMemo(()=>t(e),[e])}const U0e=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:a,onInit:s,onNodeClick:i,onEdgeClick:o,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:g,onSelectionStart:x,onSelectionEnd:v,connectionLineType:y,connectionLineStyle:w,connectionLineComponent:E,connectionLineContainerStyle:k,selectionKeyCode:B,selectionOnDrag:j,selectionMode:C,multiSelectionKeyCode:N,panActivationKeyCode:I,zoomActivationKeyCode:L,deleteKeyCode:O,onlyRenderVisibleElements:T,elementsSelectable:P,selectNodesOnDrag:R,defaultViewport:q,translateExtent:Q,minZoom:G,maxZoom:K,preventScrolling:z,defaultMarkerColor:Y,zoomOnScroll:ee,zoomOnPinch:M,panOnScroll:H,panOnScrollSpeed:W,panOnScrollMode:Z,zoomOnDoubleClick:ae,panOnDrag:oe,onPaneClick:se,onPaneMouseEnter:ce,onPaneMouseMove:de,onPaneMouseLeave:ke,onPaneScroll:re,onPaneContextMenu:_e,onEdgeContextMenu:Ne,onEdgeMouseEnter:Se,onEdgeMouseMove:he,onEdgeMouseLeave:Be,onReconnect:Le,onReconnectStart:Ge,onReconnectEnd:xe,reconnectRadius:Ie,noDragClassName:De,noWheelClassName:Ve,noPanClassName:We,elevateEdgesOnSelect:at,disableKeyboardA11y:ht,nodeOrigin:Tt,nodeExtent:Rt,rfId:Ft})=>{const Pt=tee(e,v0t),ut=tee(t,_0t);return H0t(s),Ze.createElement(g0t,{onPaneClick:se,onPaneMouseEnter:ce,onPaneMouseMove:de,onPaneMouseLeave:ke,onPaneContextMenu:_e,onPaneScroll:re,deleteKeyCode:O,selectionKeyCode:B,selectionOnDrag:j,selectionMode:C,onSelectionStart:x,onSelectionEnd:v,multiSelectionKeyCode:N,panActivationKeyCode:I,zoomActivationKeyCode:L,elementsSelectable:P,onMove:r,onMoveStart:n,onMoveEnd:a,zoomOnScroll:ee,zoomOnPinch:M,zoomOnDoubleClick:ae,panOnScroll:H,panOnScrollSpeed:W,panOnScrollMode:Z,panOnDrag:oe,defaultViewport:q,translateExtent:Q,minZoom:G,maxZoom:K,onSelectionContextMenu:g,preventScrolling:z,noDragClassName:De,noWheelClassName:Ve,noPanClassName:We,disableKeyboardA11y:ht},Ze.createElement(Q0t,null,Ze.createElement(M0t,{edgeTypes:ut,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:T,onEdgeContextMenu:Ne,onEdgeMouseEnter:Se,onEdgeMouseMove:he,onEdgeMouseLeave:Be,onReconnect:Le,onReconnectStart:Ge,onReconnectEnd:xe,reconnectRadius:Ie,defaultMarkerColor:Y,noPanClassName:We,elevateEdgesOnSelect:!!at,disableKeyboardA11y:ht,rfId:Ft},Ze.createElement(z0t,{style:w,type:y,component:E,containerStyle:k})),Ze.createElement("div",{className:"react-flow__edgelabel-renderer"}),Ze.createElement(w0t,{nodeTypes:Pt,onNodeClick:i,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:R,onlyRenderVisibleElements:T,noPanClassName:We,noDragClassName:De,disableKeyboardA11y:ht,nodeOrigin:Tt,nodeExtent:Rt,rfId:Ft})))};U0e.displayName="GraphView";var G0t=S.memo(U0e);const zR=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],wp={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:zR,nodeExtent:zR,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ox.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:bht,isValidConnection:void 0},K0t=()=>sdt((e,t)=>({...wp,setNodes:r=>{const{nodeInternals:n,nodeOrigin:a,elevateNodesOnSelect:s}=t();e({nodeInternals:gO(r,n,a,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(a=>({...n,...a}))})},setDefaultNodesAndEdges:(r,n)=>{const a=typeof r<"u",s=typeof n<"u",i=a?gO(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:s?n:[],hasDefaultNodes:a,hasDefaultEdges:s})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:a,fitViewOnInit:s,fitViewOnInitDone:i,fitViewOnInitOptions:o,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=r.reduce((x,v)=>{const y=a.get(v.id);if(y!=null&&y.hidden)a.set(y.id,{...y,[Hs]:{...y[Hs],handleBounds:void 0}});else if(y){const w=$9(v.nodeElement);!!(w.width&&w.height&&(y.width!==w.width||y.height!==w.height||v.forceUpdate))&&(a.set(y.id,{...y,[Hs]:{...y[Hs],handleBounds:{source:qZ(".source",v.nodeElement,h,u),target:qZ(".target",v.nodeElement,h,u)}},...w}),x.push({id:y.id,type:"dimensions",dimensions:w}))}return x},[]);_0e(a,u);const g=i||s&&!i&&N0e(t,{initial:!0,...o});e({nodeInternals:new Map(a),fitViewOnInitDone:g}),(p==null?void 0:p.length)>0&&(n==null||n(p))},updateNodePositions:(r,n=!0,a=!1)=>{const{triggerNodeChanges:s}=t(),i=r.map(o=>{const c={id:o.id,type:"position",dragging:a};return n&&(c.positionAbsolute=o.positionAbsolute,c.position=o.position),c});s(i)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:a,hasDefaultNodes:s,nodeOrigin:i,getNodes:o,elevateNodesOnSelect:c}=t();if(r!=null&&r.length){if(s){const u=T0e(r,o()),d=gO(u,a,i,c);e({nodeInternals:d})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:a,getNodes:s}=t();let i,o=null;n?i=r.map(c=>kp(c,!0)):(i=B1(s(),r),o=B1(a,[])),b5({changedNodes:i,changedEdges:o,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:a,getNodes:s}=t();let i,o=null;n?i=r.map(c=>kp(c,!0)):(i=B1(a,r),o=B1(s(),[])),b5({changedNodes:o,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:a,getNodes:s}=t(),i=r||s(),o=n||a,c=i.map(d=>(d.selected=!1,kp(d.id,!1))),u=o.map(d=>kp(d.id,!1));b5({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:a}=t();n==null||n.scaleExtent([r,a]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:a}=t();n==null||n.scaleExtent([a,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),s=n().filter(o=>o.selected).map(o=>kp(o.id,!1)),i=r.filter(o=>o.selected).map(o=>kp(o.id,!1));b5({changedNodes:s,changedEdges:i,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(a=>{a.positionAbsolute=V9(a.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:a,height:s,d3Zoom:i,d3Selection:o,translateExtent:c}=t();if(!i||!o||!r.x&&!r.y)return!1;const u=rm.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),d=[[0,0],[a,s]],f=i==null?void 0:i.constrain()(u,d,c);return i.transform(o,f),n[0]!==f.x||n[1]!==f.y||n[2]!==f.k},cancelConnection:()=>e({connectionNodeId:wp.connectionNodeId,connectionHandleId:wp.connectionHandleId,connectionHandleType:wp.connectionHandleType,connectionStatus:wp.connectionStatus,connectionStartHandle:wp.connectionStartHandle,connectionEndHandle:wp.connectionEndHandle}),reset:()=>e({...wp})}),Object.is),eQ=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=K0t()),Ze.createElement(fht,{value:t.current},e)};eQ.displayName="ReactFlowProvider";const Q0e=({children:e})=>S.useContext(Sj)?Ze.createElement(Ze.Fragment,null,e):Ze.createElement(eQ,null,e);Q0e.displayName="ReactFlowWrapper";const q0t={input:v0e,default:$R,output:y0e,group:J9},W0t={default:Qk,straight:q9,step:K9,smoothstep:_j,simplebezier:G9},X0t=[0,0],Y0t=[15,15],J0t={x:0,y:0,zoom:1},Z0t={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},H0e=S.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:s=q0t,edgeTypes:i=W0t,onNodeClick:o,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:g,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:y,onNodeMouseEnter:w,onNodeMouseMove:E,onNodeMouseLeave:k,onNodeContextMenu:B,onNodeDoubleClick:j,onNodeDragStart:C,onNodeDrag:N,onNodeDragStop:I,onNodesDelete:L,onEdgesDelete:O,onSelectionChange:T,onSelectionDragStart:P,onSelectionDrag:R,onSelectionDragStop:q,onSelectionContextMenu:Q,onSelectionStart:G,onSelectionEnd:K,connectionMode:z=Ox.Strict,connectionLineType:Y=Dp.Bezier,connectionLineStyle:ee,connectionLineComponent:M,connectionLineContainerStyle:H,deleteKeyCode:W="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:ae=!1,selectionMode:oe=iE.Full,panActivationKeyCode:se="Space",multiSelectionKeyCode:ce=Mk()?"Meta":"Control",zoomActivationKeyCode:de=Mk()?"Meta":"Control",snapToGrid:ke=!1,snapGrid:re=Y0t,onlyRenderVisibleElements:_e=!1,selectNodesOnDrag:Ne=!0,nodesDraggable:Se,nodesConnectable:he,nodesFocusable:Be,nodeOrigin:Le=X0t,edgesFocusable:Ge,edgesUpdatable:xe,elementsSelectable:Ie,defaultViewport:De=J0t,minZoom:Ve=.5,maxZoom:We=2,translateExtent:at=zR,preventScrolling:ht=!0,nodeExtent:Tt,defaultMarkerColor:Rt="#b1b1b7",zoomOnScroll:Ft=!0,zoomOnPinch:Pt=!0,panOnScroll:ut=!1,panOnScrollSpeed:Cr=.5,panOnScrollMode:Kt=zg.Free,zoomOnDoubleClick:ln=!0,panOnDrag:kr=!0,onPaneClick:Mr,onPaneMouseEnter:En,onPaneMouseMove:Pr,onPaneMouseLeave:or,onPaneScroll:gr,onPaneContextMenu:en,children:zn,onEdgeContextMenu:rn,onEdgeDoubleClick:yr,onEdgeMouseEnter:tt,onEdgeMouseMove:xt,onEdgeMouseLeave:et,onEdgeUpdate:vt,onEdgeUpdateStart:Ct,onEdgeUpdateEnd:yt,onReconnect:sr,onReconnectStart:Er,onReconnectEnd:nn,reconnectRadius:cn=10,edgeUpdaterRadius:tn=10,onNodesChange:pe,onEdgesChange:Fe,noDragClassName:Ee="nodrag",noWheelClassName:we="nowheel",noPanClassName:Te="nopan",fitView:Oe=!1,fitViewOptions:Je,connectOnClick:ft=!0,attributionPosition:Ke,proOptions:nt,defaultEdgeOptions:ot,elevateNodesOnSelect:Dt=!0,elevateEdgesOnSelect:Vt=!1,disableKeyboardA11y:tr=!1,autoPanOnConnect:$t=!0,autoPanOnNodeDrag:qt=!0,connectionRadius:Fr=20,isValidConnection:An,onError:hn,style:vn,id:Ns,nodeDragThreshold:Vo,...ks},mi)=>{const qs=Ns||"1";return Ze.createElement("div",{...ks,style:{...vn,...Z0t},ref:mi,className:Xl(["react-flow",a]),"data-testid":"rf__wrapper",id:Ns},Ze.createElement(Q0e,null,Ze.createElement(G0t,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:o,onEdgeClick:c,onNodeMouseEnter:w,onNodeMouseMove:E,onNodeMouseLeave:k,onNodeContextMenu:B,onNodeDoubleClick:j,nodeTypes:s,edgeTypes:i,connectionLineType:Y,connectionLineStyle:ee,connectionLineComponent:M,connectionLineContainerStyle:H,selectionKeyCode:Z,selectionOnDrag:ae,selectionMode:oe,deleteKeyCode:W,multiSelectionKeyCode:ce,panActivationKeyCode:se,zoomActivationKeyCode:de,onlyRenderVisibleElements:_e,selectNodesOnDrag:Ne,defaultViewport:De,translateExtent:at,minZoom:Ve,maxZoom:We,preventScrolling:ht,zoomOnScroll:Ft,zoomOnPinch:Pt,zoomOnDoubleClick:ln,panOnScroll:ut,panOnScrollSpeed:Cr,panOnScrollMode:Kt,panOnDrag:kr,onPaneClick:Mr,onPaneMouseEnter:En,onPaneMouseMove:Pr,onPaneMouseLeave:or,onPaneScroll:gr,onPaneContextMenu:en,onSelectionContextMenu:Q,onSelectionStart:G,onSelectionEnd:K,onEdgeContextMenu:rn,onEdgeDoubleClick:yr,onEdgeMouseEnter:tt,onEdgeMouseMove:xt,onEdgeMouseLeave:et,onReconnect:sr??vt,onReconnectStart:Er??Ct,onReconnectEnd:nn??yt,reconnectRadius:cn??tn,defaultMarkerColor:Rt,noDragClassName:Ee,noWheelClassName:we,noPanClassName:Te,elevateEdgesOnSelect:Vt,rfId:qs,disableKeyboardA11y:tr,nodeOrigin:Le,nodeExtent:Tt}),Ze.createElement($ht,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:p,onConnectStart:g,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:y,nodesDraggable:Se,nodesConnectable:he,nodesFocusable:Be,edgesFocusable:Ge,edgesUpdatable:xe,elementsSelectable:Ie,elevateNodesOnSelect:Dt,minZoom:Ve,maxZoom:We,nodeExtent:Tt,onNodesChange:pe,onEdgesChange:Fe,snapToGrid:ke,snapGrid:re,connectionMode:z,translateExtent:at,connectOnClick:ft,defaultEdgeOptions:ot,fitView:Oe,fitViewOptions:Je,onNodesDelete:L,onEdgesDelete:O,onNodeDragStart:C,onNodeDrag:N,onNodeDragStop:I,onSelectionDrag:R,onSelectionDragStart:P,onSelectionDragStop:q,noPanClassName:Te,nodeOrigin:Le,rfId:qs,autoPanOnConnect:$t,autoPanOnNodeDrag:qt,onError:hn,connectionRadius:Fr,isValidConnection:An,nodeDragThreshold:Vo}),Ze.createElement(Qht,{onSelectionChange:T}),zn,Ze.createElement(hht,{proOptions:nt,position:Ke}),Ze.createElement(qht,{rfId:qs,disableKeyboardA11y:tr})))});H0e.displayName="ReactFlow";function $0e(e){return t=>{const[r,n]=S.useState(t),a=S.useCallback(s=>n(i=>e(s,i)),[]);return[r,n,a]}}const ept=$0e(T0e),tpt=$0e(l0t);function rpt(){return Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Ze.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function npt(){return Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Ze.createElement("path",{d:"M0 0h32v4.2H0z"}))}function apt(){return Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Ze.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function spt(){return Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ze.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ipt(){return Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ze.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const y2=({children:e,className:t,...r})=>Ze.createElement("button",{type:"button",className:Xl(["react-flow__controls-button",t]),...r},e);y2.displayName="ControlButton";const opt=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),V0e=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:i,onFitView:o,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=yo(),[p,g]=S.useState(!1),{isInteractive:x,minZoomReached:v,maxZoomReached:y}=Ss(opt,kl),{zoomIn:w,zoomOut:E,fitView:k}=Nj();if(S.useEffect(()=>{g(!0)},[]),!p)return null;const B=()=>{w(),s==null||s()},j=()=>{E(),i==null||i()},C=()=>{k(a),o==null||o()},N=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return Ze.createElement(e0e,{className:Xl(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&Ze.createElement(Ze.Fragment,null,Ze.createElement(y2,{onClick:B,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},Ze.createElement(rpt,null)),Ze.createElement(y2,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},Ze.createElement(npt,null))),r&&Ze.createElement(y2,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},Ze.createElement(apt,null)),n&&Ze.createElement(y2,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity"},x?Ze.createElement(ipt,null):Ze.createElement(spt,null)),d)};V0e.displayName="Controls";var lpt=S.memo(V0e),gf;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(gf||(gf={}));function cpt({color:e,dimensions:t,lineWidth:r}){return Ze.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function upt({color:e,radius:t}){return Ze.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const dpt={[gf.Dots]:"#91919a",[gf.Lines]:"#eee",[gf.Cross]:"#e2e2e2"},fpt={[gf.Dots]:1,[gf.Lines]:1,[gf.Cross]:6},Apt=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function z0e({id:e,variant:t=gf.Dots,gap:r=20,size:n,lineWidth:a=1,offset:s=2,color:i,style:o,className:c}){const u=S.useRef(null),{transform:d,patternId:f}=Ss(Apt,kl),h=i||dpt[t],p=n||fpt[t],g=t===gf.Dots,x=t===gf.Cross,v=Array.isArray(r)?r:[r,r],y=[v[0]*d[2]||1,v[1]*d[2]||1],w=p*d[2],E=x?[w,w]:y,k=g?[w/s,w/s]:[E[0]/s,E[1]/s];return Ze.createElement("svg",{className:Xl(["react-flow__background",c]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},Ze.createElement("pattern",{id:f+e,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`},g?Ze.createElement(upt,{color:h,radius:w/s}):Ze.createElement(cpt,{dimensions:E,color:h,lineWidth:a})),Ze.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}z0e.displayName="Background";var hpt=S.memo(z0e);function ppt(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const mpt=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function am(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let Jv=null;function G0e(e={}){return Jv||(e.includeStyleProperties?(Jv=e.includeStyleProperties,Jv):(Jv=am(window.getComputedStyle(document.documentElement)),Jv))}function Hk(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function gpt(e){const t=Hk(e,"border-left-width"),r=Hk(e,"border-right-width");return e.clientWidth+t+r}function xpt(e){const t=Hk(e,"border-top-width"),r=Hk(e,"border-bottom-width");return e.clientHeight+t+r}function K0e(e,t={}){const r=t.width||gpt(e),n=t.height||xpt(e);return{width:r,height:n}}function vpt(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Xc=16384;function bpt(e){(e.width>Xc||e.height>Xc)&&(e.width>Xc&&e.height>Xc?e.width>e.height?(e.height*=Xc/e.width,e.width=Xc):(e.width*=Xc/e.height,e.height=Xc):e.width>Xc?(e.height*=Xc/e.width,e.width=Xc):(e.width*=Xc/e.height,e.height=Xc))}function $k(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function ypt(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function wpt(e,t,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${t} ${r}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(e),ypt(a)}const _c=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||_c(r,t)};function Cpt(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Ept(e,t){return G0e(t).map(r=>{const n=e.getPropertyValue(r),a=e.getPropertyPriority(r);return`${r}: ${n}${a?" !important":""};`}).join(" ")}function Spt(e,t,r,n){const a=`.${e}:${t}`,s=r.cssText?Cpt(r):Ept(r,n);return document.createTextNode(`${a}{${s}}`)}function ree(e,t,r,n){const a=window.getComputedStyle(e,r),s=a.getPropertyValue("content");if(s===""||s==="none")return;const i=mpt();try{t.className=`${t.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild(Spt(i,r,a,n)),t.appendChild(o)}function _pt(e,t,r){ree(e,t,":before",r),ree(e,t,":after",r)}const nee="application/font-woff",aee="image/jpeg",Npt={woff:nee,woff2:nee,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:aee,jpeg:aee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function kpt(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function tQ(e){const t=kpt(e).toLowerCase();return Npt[t]||""}function Tpt(e){return e.split(/,/)[1]}function GR(e){return e.search(/^(data:)/)!==-1}function Bpt(e,t){return`data:${t};base64,${e}`}async function q0e(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((s,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{s(r({res:n,result:o.result}))}catch(c){i(c)}},o.readAsDataURL(a)})}const yO={};function jpt(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function rQ(e,t,r){const n=jpt(e,t,r.includeQueryParams);if(yO[n]!=null)return yO[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const s=await q0e(e,r.fetchRequestInit,({res:i,result:o})=>(t||(t=i.headers.get("Content-Type")||""),Tpt(o)));a=Bpt(s,t)}catch(s){a=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;s&&(i=typeof s=="string"?s:s.message),i&&console.warn(i)}return yO[n]=a,a}async function Ipt(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):$k(t)}async function Fpt(e,t){if(e.currentSrc){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,i==null||i.drawImage(e,0,0,s.width,s.height);const o=s.toDataURL();return $k(o)}const r=e.poster,n=tQ(r),a=await rQ(r,n,t);return $k(a)}async function Opt(e,t){var r;try{if(!((r=e==null?void 0:e.contentDocument)===null||r===void 0)&&r.body)return await kj(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Dpt(e,t){return _c(e,HTMLCanvasElement)?Ipt(e):_c(e,HTMLVideoElement)?Fpt(e,t):_c(e,HTMLIFrameElement)?Opt(e,t):e.cloneNode(W0e(e))}const Ppt=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",W0e=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Rpt(e,t,r){var n,a;if(W0e(t))return t;let s=[];return Ppt(e)&&e.assignedNodes?s=am(e.assignedNodes()):_c(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?s=am(e.contentDocument.body.childNodes):s=am(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),s.length===0||_c(e,HTMLVideoElement)||await s.reduce((i,o)=>i.then(()=>kj(o,r)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function Lpt(e,t,r){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):G0e(r).forEach(s=>{let i=a.getPropertyValue(s);s==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),_c(e,HTMLIFrameElement)&&s==="display"&&i==="inline"&&(i="block"),s==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(s,i,a.getPropertyPriority(s))})}function Mpt(e,t){_c(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),_c(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Upt(e,t){if(_c(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function Qpt(e,t,r){return _c(t,Element)&&(Lpt(e,t,r),_pt(e,t,r),Mpt(e,t),Upt(e,t)),t}async function Hpt(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let s=0;s<r.length;s++){const o=r[s].getAttribute("xlink:href");if(o){const c=e.querySelector(o),u=document.querySelector(o);!c&&u&&!n[o]&&(n[o]=await kj(u,t,!0))}}const a=Object.values(n);if(a.length){const s="http://www.w3.org/1999/xhtml",i=document.createElementNS(s,"svg");i.setAttribute("xmlns",s),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(s,"defs");i.appendChild(o);for(let c=0;c<a.length;c++)o.appendChild(a[c]);e.appendChild(i)}return e}async function kj(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>Dpt(n,t)).then(n=>Rpt(e,n,t)).then(n=>Qpt(e,n,t)).then(n=>Hpt(n,t))}const X0e=/url\((['"]?)([^'"]+?)\1\)/g,$pt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Vpt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function zpt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Gpt(e){const t=[];return e.replace(X0e,(r,n,a)=>(t.push(a),r)),t.filter(r=>!GR(r))}async function Kpt(e,t,r,n,a){try{const s=r?ppt(t,r):t,i=tQ(t);let o;return a||(o=await rQ(s,i,n)),e.replace(zpt(t),`$1${o}$3`)}catch{}return e}function qpt(e,{preferredFontFormat:t}){return t?e.replace(Vpt,r=>{for(;;){const[n,,a]=$pt.exec(r)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function Y0e(e){return e.search(X0e)!==-1}async function J0e(e,t,r){if(!Y0e(e))return e;const n=qpt(e,r);return Gpt(n).reduce((s,i)=>s.then(o=>Kpt(o,i,t,r)),Promise.resolve(n))}async function Zv(e,t,r){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const s=await J0e(a,null,r);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function Wpt(e,t){await Zv("background",e,t)||await Zv("background-image",e,t),await Zv("mask",e,t)||await Zv("-webkit-mask",e,t)||await Zv("mask-image",e,t)||await Zv("-webkit-mask-image",e,t)}async function Xpt(e,t){const r=_c(e,HTMLImageElement);if(!(r&&!GR(e.src))&&!(_c(e,SVGImageElement)&&!GR(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,a=await rQ(n,tQ(n),t);await new Promise((s,i)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...c)=>{try{s(t.onImageErrorHandler(...c))}catch(u){i(u)}}:i;const o=e;o.decode&&(o.decode=s),o.loading==="lazy"&&(o.loading="eager"),r?(e.srcset="",e.src=a):e.href.baseVal=a})}async function Ypt(e,t){const n=am(e.childNodes).map(a=>Z0e(a,t));await Promise.all(n).then(()=>e)}async function Z0e(e,t){_c(e,Element)&&(await Wpt(e,t),await Xpt(e,t),await Ypt(e,t))}function Jpt(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),e}const see={};async function iee(e){let t=see[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},see[e]=t,t}async function oee(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),q0e(o,t.fetchRequestInit,({result:c})=>(r=r.replace(i,`url(${c})`),[i,c]))});return Promise.all(s).then(()=>r)}function lee(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=a.exec(n);if(c===null)break;t.push(c[0])}n=n.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let c=s.exec(n);if(c===null){if(c=o.exec(n),c===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;t.push(c[0])}return t}async function Zpt(e,t){const r=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{am(a.cssRules||[]).forEach((s,i)=>{if(s.type===CSSRule.IMPORT_RULE){let o=i+1;const c=s.href,u=iee(c).then(d=>oee(d,t)).then(d=>lee(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?o+=1:a.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});n.push(u)}})}catch(s){const i=e.find(o=>o.href==null)||document.styleSheets[0];a.href!=null&&n.push(iee(a.href).then(o=>oee(o,t)).then(o=>lee(o).forEach(c=>{i.insertRule(c,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",s)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{am(a.cssRules||[]).forEach(s=>{r.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s)}}),r))}function emt(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Y0e(t.style.getPropertyValue("src")))}async function tmt(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=am(e.ownerDocument.styleSheets),n=await Zpt(r,t);return emt(n)}function epe(e){return e.trim().replace(/["']/g,"")}function rmt(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(s=>{t.add(epe(s))}),Array.from(n.children).forEach(s=>{s instanceof HTMLElement&&r(s)})}return r(e),t}async function nmt(e,t){const r=await tmt(e,t),n=rmt(e);return(await Promise.all(r.filter(s=>n.has(epe(s.style.fontFamily))).map(s=>{const i=s.parentStyleSheet?s.parentStyleSheet.href:null;return J0e(s.cssText,i,t)}))).join(`
`)}async function amt(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await nmt(e,t);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function smt(e,t={}){const{width:r,height:n}=K0e(e,t),a=await kj(e,t,!0);return await amt(a,t),await Z0e(a,t),Jpt(a,t),await wpt(a,r,n)}async function imt(e,t={}){const{width:r,height:n}=K0e(e,t),a=await smt(e,t),s=await $k(a),i=document.createElement("canvas"),o=i.getContext("2d"),c=t.pixelRatio||vpt(),u=t.canvasWidth||r,d=t.canvasHeight||n;return i.width=u*c,i.height=d*c,t.skipAutoScale||bpt(i),i.style.width=`${u}`,i.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(s,0,0,i.width,i.height),i}async function Tj(e,t={}){return(await imt(e,t)).toDataURL()}const tpe="recursos_crucigramas",Bj="recursos_lineas_de_tiempo",jj="recursos_mapas_mentales",rpe="recursos_sopas_de_letras",Ij=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,createdAt:((s=(a=t.createdAt)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString())||t.createdAt}},omt=e=>{const t=zt(wt(mt,tpe),wr("fechaCreacion","desc"));return br(t,r=>{const n=r.docs.map(a=>Ij(a));e(n)},r=>{console.error("Error al suscribirse a los crucigramas:",r),e([])})},lmt=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,fechaCreacion:lr.fromDate(new Date)};return(await Bn(wt(mt,tpe),r)).id}catch(r){throw console.error("Error al guardar el crucigrama:",r),new Error("No se pudo guardar el crucigrama.")}},cmt=e=>{const t=zt(wt(mt,Bj),wr("createdAt","desc"));return br(t,r=>{const n=r.docs.map(a=>Ij(a));e(n)},r=>{console.error("Error al suscribirse a las líneas de tiempo:",r),e([])})},umt=async(e,t)=>{try{const{id:r,...n}=e,a=dr(mt,Bj,r);await Gi(a,{...n,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:lr.fromDate(new Date(n.createdAt||Date.now()))},{merge:!0})}catch(r){throw console.error("Error al guardar la línea de tiempo:",r),new Error("No se pudo guardar la línea de tiempo.")}},dmt=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:lr.fromDate(new Date)};return(await Bn(wt(mt,Bj),r)).id}catch(r){throw console.error("Error al crear la línea de tiempo:",r),new Error("No se pudo crear la línea de tiempo.")}},fmt=async e=>{try{const t=dr(mt,Bj,e);await hs(t)}catch(t){throw console.error("Error al eliminar la línea de tiempo:",t),new Error("No se pudo eliminar la línea de tiempo.")}},Amt=e=>{const t=zt(wt(mt,jj),wr("createdAt","desc"));return br(t,r=>{const n=r.docs.map(a=>Ij(a));e(n)},r=>{console.error("Error al suscribirse a los mapas mentales:",r),e([])})},hmt=async(e,t)=>{try{const{id:r,...n}=e,a=dr(mt,jj,r);await Gi(a,{...n,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:lr.fromDate(new Date(n.createdAt||Date.now()))},{merge:!0})}catch(r){throw console.error("Error al guardar el mapa mental:",r),new Error("No se pudo guardar el mapa mental.")}},pmt=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:lr.fromDate(new Date)};return(await Bn(wt(mt,jj),r)).id}catch(r){throw console.error("Error al crear el mapa mental:",r),new Error("No se pudo crear el mapa mental.")}},mmt=async e=>{try{const t=dr(mt,jj,e);await hs(t)}catch(t){throw console.error("Error al eliminar el mapa mental:",t),new Error("No se pudo eliminar el mapa mental.")}},gmt=e=>{const t=zt(wt(mt,rpe),wr("createdAt","desc"));return br(t,r=>{const n=r.docs.map(a=>Ij(a));e(n)},r=>{console.error("Error al suscribirse a las sopas de letras:",r),e([])})},xmt=async(e,t)=>{try{const r={...e,creadorId:t.id,creadorNombre:t.nombreCompleto,createdAt:lr.fromDate(new Date)};return(await Bn(wt(mt,rpe),r)).id}catch(r){throw console.error("Error al guardar la sopa de letras:",r),new Error("No se pudo guardar la sopa de letras.")}},vmt=()=>l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),bmt=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657l-4.243 4.243a1 1 0 01-1.414 0l-4.243-4.243a1 1 0 010-1.414l4.243-4.243a1 1 0 011.414 0l4.243 4.243a1 1 0 010 1.414z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6"})]}),ymt=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5l7 7-7 7"})]}),wmt=({data:e})=>{const t={"Concepto Clave":"bg-blue-100 border-blue-300 dark:bg-blue-900/30 dark:border-blue-700","Ejemplo Práctico":"bg-green-100 border-green-300 dark:bg-green-900/30 dark:border-green-700","Dato Interesante":"bg-yellow-100 border-yellow-300 dark:bg-yellow-900/30 dark:border-yellow-700","Pregunta Abierta":"bg-purple-100 border-purple-300 dark:bg-purple-900/30 dark:border-purple-700",default:"bg-white border-slate-300 dark:bg-slate-800 dark:border-slate-600"},r=t[e.type||"default"]||t.default;return l.jsxs("div",{className:`p-3 rounded-lg shadow-md border-2 ${r} flex items-center gap-3 min-w-[180px]`,children:[l.jsx(zb,{type:"target",position:jr.Left,className:"w-2 h-2 !bg-slate-400"}),l.jsx("span",{className:"text-xl",children:e.icon||"🧠"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm",children:e.label}),e.type&&l.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.type})]}),l.jsx(zb,{type:"source",position:jr.Right,className:"w-2 h-2 !bg-slate-400"})]})},KR=(e,t)=>!e.children||e.children.length===0?t:e.children.reduce((r,n)=>r+KR(n,t),0),qR=(e,t="tree")=>{const r=[],n=[];if(t==="tree"){const i=(o,c,u)=>{r.push({id:o.id,position:{x:c*280,y:u},data:{label:o.label,icon:o.icon,type:o.type},type:"custom"});const d=KR(o,100);let f=u-d/2+100/2;(o.children||[]).forEach(h=>{const p=KR(h,100),g=f+p/2-100/2;n.push({id:`e-${o.id}-${h.id}`,source:o.id,target:h.id,type:"smoothstep",animated:!0}),i(h,c+1,g),f+=p})};i(e,0,0)}else{r.push({id:e.id,position:{x:0,y:0},data:{label:e.label,icon:e.icon,type:e.type},type:"custom"});const i=300,o=500;(e.children||[]).forEach((c,u)=>{const d=u/e.children.length*2*Math.PI;r.push({id:c.id,position:{x:i*Math.cos(d),y:i*Math.sin(d)},data:{label:c.label,icon:c.icon,type:c.type},type:"custom"}),n.push({id:`e-${e.id}-${c.id}`,source:e.id,target:c.id,type:"smoothstep"}),(c.children||[]).forEach((f,h)=>{const p=d+(h-(c.children.length-1)/2)*.25;r.push({id:f.id,position:{x:o*Math.cos(p),y:o*Math.sin(p)},data:{label:f.label,icon:f.icon,type:f.type},type:"custom"}),n.push({id:`e-${c.id}-${f.id}`,source:c.id,target:f.id,type:"smoothstep"})})})}return{nodes:r,edges:n}},npe=({node:e,onUpdate:t,onAddChild:r,onDelete:n,level:a=0})=>{const s=["bg-blue-100/50 dark:bg-blue-900/20","bg-yellow-100/50 dark:bg-yellow-900/20","bg-green-100/50 dark:bg-green-900/20"],i=["border-blue-300 dark:border-blue-700","border-yellow-300 dark:border-yellow-700","border-green-300 dark:border-green-700"];return l.jsxs("div",{className:`pl-4 ${a>0?"border-l "+i[a-1%i.length]:""}`,children:[l.jsx("div",{className:`p-2 rounded-lg my-1 ${s[a%s.length]}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"text",value:e.label,onChange:o=>t(e.id,o.target.value),className:"w-full bg-transparent focus:bg-white dark:focus:bg-slate-700 p-1 rounded border border-transparent focus:border-slate-300 dark:focus:border-slate-600 outline-none transition-colors"}),l.jsx("button",{onClick:()=>r(e.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:"➕"}),a>0&&l.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 rounded-full hover:bg-slate-300/50 dark:hover:bg-slate-600/50 transition-colors",children:"🗑️"})]})}),(e.children||[]).map(o=>l.jsx(npe,{node:o,onUpdate:t,onAddChild:r,onDelete:n,level:a+1},o.id))]})},Cmt={custom:wmt},Emt=({mapData:e,onBack:t,onSave:r})=>{const[n,a]=S.useState(e.treeData),[s,i]=S.useState("tree"),[o,c]=S.useState(!1),[u,d,f]=ept([]),[h,p,g]=tpt([]),{fitView:x}=Nj();S.useEffect(()=>{const{nodes:B,edges:j}=qR(n,s);d(B),p(j),setTimeout(()=>x({duration:300}),50)},[n,s,d,p,x]);const v=(B,j)=>{const C=JSON.parse(JSON.stringify(n)),N=I=>I.id===B?(I.label=j,!0):(I.children||[]).some(N);N(C),a(C)},y=B=>{const j=JSON.parse(JSON.stringify(n)),C=N=>N.id===B?(N.children||(N.children=[]),N.children.push({id:crypto.randomUUID(),label:"Nuevo Nodo",children:[]}),!0):(N.children||[]).some(C);C(j),a(j)},w=B=>{const j=JSON.parse(JSON.stringify(n)),C=N=>{const I=(N.children||[]).findIndex(L=>L.id===B);return I!==-1?(N.children.splice(I,1),!0):(N.children||[]).some(C)};C(j),a(j)},E=()=>{c(!0);const{nodes:B,edges:j}=qR(n,s);r({...e,treeData:n,nodes:B,edges:j}),setTimeout(()=>c(!1),1e3)},k=async B=>{const j=document.querySelector(".react-flow");j&&Tj(j,{backgroundColor:"#ffffff",cacheBust:!0,pixelRatio:2}).then(C=>{{const N=document.createElement("a");N.download=`${e.tema}.png`,N.href=C,N.click()}}).catch(C=>console.error("oops, something went wrong!",C))};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 truncate pr-4",children:e.tema}),l.jsx("button",{onClick:t,className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white font-semibold flex-shrink-0",children:"← Volver a la lista"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2 w-full h-[70vh] rounded-lg border dark:border-slate-700 relative",children:l.jsxs(H0e,{nodes:u,edges:h,onNodesChange:f,onEdgesChange:g,fitView:!0,nodeTypes:Cmt,children:[l.jsx(lpt,{}),l.jsx(hpt,{})]})}),l.jsxs("div",{className:"w-full h-[70vh] flex flex-col bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Editar"}),l.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b dark:border-slate-700 pb-2",children:[l.jsxs("button",{onClick:()=>i("tree"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${s==="tree"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[l.jsx(bmt,{})," Vista en árbol"]}),l.jsxs("button",{onClick:()=>i("central"),className:`px-3 py-1.5 text-sm font-semibold rounded-md flex items-center gap-2 transition-colors ${s==="central"?"bg-blue-500 text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[l.jsx(ymt,{})," Vista central"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:l.jsx(npe,{node:n,onUpdate:v,onAddChild:y,onDelete:w})}),l.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex justify-end gap-4",children:[l.jsx("button",{onClick:()=>k(),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Exportar PNG"}),l.jsx("button",{onClick:E,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 w-28",children:o?"Guardado!":"Guardar"})]})]})]})]})},Smt=({onBack:e,currentUser:t})=>{const[r,n]=S.useState("list"),[a,s]=S.useState([]),[i,o]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState(!0),[h,p]=S.useState(""),[g,x]=S.useState(""),[v,y]=S.useState("");S.useEffect(()=>{f(!0);const C=Amt(N=>{s(N),f(!1)});return()=>C()},[]);const w=async C=>{if(C.preventDefault(),!h.trim()){alert("El tema es obligatorio.");return}u(!0);const N="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",I=`
            Basado en el tema central "${h}", y considerando el contenido adicional "${v}", genera una estructura jerárquica para un mapa mental con al menos 3 niveles de profundidad.
            
            Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional ni bloques \`\`\`json.
            
            La estructura del JSON debe ser un objeto raíz con las siguientes claves:
            - "label": El tema central ("${h}").
            - "icon": Un emoji que represente el tema.
            - "type": La categoría, que para el nodo raíz debe ser "Concepto Clave".
            - "children": Un array de 2 a 4 nodos hijos.

            Cada nodo hijo (y sus descendientes) debe tener esta misma estructura:
            - "label": El texto del subtema.
            - "icon": Un emoji representativo.
            - "type": Una categoría descriptiva (ej: "Concepto Clave", "Ejemplo Práctico", "Dato Interesante", "Pregunta Abierta").
            - "children": Un array de nodos hijos, o un array vacío si es un nodo final.
        `;try{const q=(await(await new zs(N).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(I)).response).text().replace(/^```json\s*|```\s*$/g,""),Q=JSON.parse(q),G=H=>({id:crypto.randomUUID(),label:H.label||"Sin etiqueta",icon:H.icon||"🧠",type:H.type||"default",children:(H.children||[]).map(G)}),K=G(Q),{nodes:z,edges:Y}=qR(K),ee={tema:h,nivel:g,treeData:K,nodes:z,edges:Y},M=await pmt(ee,t);o({...ee,id:M,createdAt:new Date().toISOString()}),n("editor")}catch(L){console.error("AI Generation Error:",L),alert("Hubo un error al generar el mapa mental. La respuesta de la IA pudo tener un formato incorrecto. Inténtelo de nuevo.")}finally{u(!1)}},E=async C=>{try{await hmt(C,t)}catch(N){console.error("Error saving mind map:",N),alert("No se pudo guardar el mapa mental.")}},k=C=>{o(C),n("editor")},B=async C=>{if(window.confirm("¿Eliminar este mapa mental?"))try{await mmt(C)}catch(N){console.error("Error deleting mind map:",N),alert("No se pudo eliminar el mapa mental.")}},j=()=>{switch(r){case"editor":return i?l.jsx(eQ,{children:l.jsx(Emt,{mapData:i,onBack:()=>n("list"),onSave:E})}):null;case"config":return l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Nuevo Mapa Mental con IA"}),l.jsx("button",{onClick:()=>n("list"),className:"text-slate-600 hover:text-slate-900 font-semibold",children:"← Volver"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:["Tema Central ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"tema",value:h,onChange:C=>p(C.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"contenido",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Contenido o ideas clave (Opcional)"}),l.jsx("textarea",{id:"contenido",value:v,onChange:C=>y(C.target.value),rows:4,placeholder:"Añade más detalles para guiar a la IA...",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),l.jsx("div",{className:"flex justify-end pt-4",children:l.jsx("button",{type:"submit",disabled:c,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[200px]",children:c?l.jsx(vmt,{}):"Generar Mapa con IA"})})]})]});case"list":default:return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Mapas Mentales"}),l.jsx("button",{onClick:()=>n("config"),className:"bg-amber-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-amber-600",children:"Crear Nuevo"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length>0?a.map(C=>l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg shadow border dark:border-slate-700",children:[l.jsx("h3",{className:"font-bold text-lg truncate text-slate-800 dark:text-slate-200",children:C.tema}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creado: ",new Date(C.createdAt).toLocaleDateString("es-CL")]}),l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsx("button",{onClick:()=>k(C),className:"flex-1 bg-slate-200 dark:bg-slate-600 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Editar"}),l.jsx("button",{onClick:()=>B(C.id),className:"flex-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-semibold py-1.5 px-3 rounded-md text-sm",children:"Eliminar"})]})]},C.id)):l.jsx("p",{className:"col-span-full text-center text-slate-500 dark:text-slate-400 py-8",children:"No has creado ningún mapa mental todavía."})})]})}};return d?l.jsx("div",{className:"text-center py-10",children:"Cargando mapas mentales..."}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("span",{className:"text-4xl",children:"🧠"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mapas Mentales"}),l.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),j()]})},_mt=()=>l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Nmt=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),kmt=({onBack:e,currentUser:t})=>{const[r,n]=S.useState([]),[a,s]=S.useState("Media"),[i,o]=S.useState(10),[c,u]=S.useState(!1),[d,f]=S.useState(Array(10).fill("")),[h,p]=S.useState(""),[g,x]=S.useState(null),[v,y]=S.useState({ai:!1,puzzle:!1,data:!0}),w=S.useRef(null);S.useEffect(()=>{y(O=>({...O,data:!0}));const L=gmt(O=>{n(O),y(T=>({...T,data:!1}))});return()=>L()},[]),S.useEffect(()=>{f(L=>{const O=Array(i).fill("");for(let T=0;T<Math.min(L.length,i);T++)O[T]=L[T];return O})},[i]);const E=(L,O)=>{const T=[...d];T[L]=O,f(T)},k=async()=>{if(h.trim()){y(L=>({...L,ai:!0}));try{const L="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",T=new zs(L).getGenerativeModel({model:"gemini-1.5-flash-latest"}),P=`
                Genera una lista de ${i} palabras clave en español, estrictamente relacionadas con el tema "${h}".
                Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional ni bloques \`\`\`json.
                El objeto debe tener una sola clave: "palabras".
                El valor de "palabras" debe ser un array de ${i} strings.
                Cada string en el array debe ser una sola palabra, sin espacios ni caracteres especiales.
            `,G=(await(await T.generateContent(P)).response).text().replace(/^```json\s*|```\s*$/g,""),K=JSON.parse(G);if(!K.palabras||!Array.isArray(K.palabras))throw new Error("La respuesta de la IA no contiene el array 'palabras' esperado.");const Y=[...K.palabras.map(ee=>ee.toUpperCase().replace(/[^A-ZÑ]/g,"")).slice(0,i)];for(;Y.length<i;)Y.push("");f(Y)}catch(L){console.error("Error generating words with AI:",L),alert("No se pudieron generar las palabras. La respuesta de la IA pudo tener un formato incorrecto. Inténtelo de nuevo.")}finally{y(L=>({...L,ai:!1}))}}},B=(L,O,T,P,R,q)=>{for(let Q=0;Q<L.length;Q++){const G=T+Q*R.y,K=P+Q*R.x;if(G<0||G>=q||K<0||K>=q||O[G][K]&&O[G][K]!==L[Q])return!1}return!0},j=(L,O,T,P,R)=>{for(let q=0;q<L.length;q++)O[T+q*R.y][P+q*R.x]=L[q]},C=async()=>{y(G=>({...G,puzzle:!0})),x(null),await new Promise(G=>setTimeout(G,100));const L=d.map(G=>G.toUpperCase().replace(/[^A-ZÑ]/g,"")).filter(Boolean);if(L.length===0){alert("Por favor, ingrese al menos una palabra válida."),y(G=>({...G,puzzle:!1}));return}const O=Math.max(...L.map(G=>G.length));let T=Math.max(O,L.length)+2;a==="Media"&&(T+=3),a==="Difícil"&&(T+=5),T=Math.min(Math.max(T,10),25);const P=Array(T).fill(null).map(()=>Array(T).fill(null)),R=[{x:1,y:0},{x:0,y:1},{x:1,y:1}];a!=="Fácil"&&R.push({x:1,y:-1}),a==="Difícil"&&R.push({x:-1,y:0},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:1});for(const G of L.sort((K,z)=>z.length-K.length)){let K=!1;for(let z=0;z<100;z++){const Y=R[Math.floor(Math.random()*R.length)],ee=Math.floor(Math.random()*T),M=Math.floor(Math.random()*T);if(B(G,P,ee,M,Y,T)){j(G,P,ee,M,Y),K=!0;break}}K||console.warn(`No se pudo colocar la palabra: ${G}`)}const q=P.map(G=>G.map(K=>K||"ABCDEFGHIJKLMNOPQRSTUVWXYZÑ"[Math.floor(Math.random()*27)])),Q={tema:h||"Personalizado",grid:q.map(G=>G.join("")),words:L.sort()};try{const G=await xmt(Q,t);x({...Q,id:G,createdAt:new Date().toISOString()})}catch(G){console.error("Error saving puzzle:",G),alert("No se pudo guardar la sopa de letras.")}finally{y(G=>({...G,puzzle:!1}))}},N=()=>{w.current&&Tj(w.current,{cacheBust:!0,backgroundColor:"white",quality:.95,pixelRatio:2}).then(L=>{const O=document.createElement("a");O.download="sopa-de-letras.png",O.href=L,O.click()}).catch(L=>{console.error("oops, something went wrong!",L),alert("No se pudo generar la imagen. Inténtelo de nuevo.")})},I=()=>{var T;if(!g)return null;const L=((T=g.grid[0])==null?void 0:T.length)||1,O=g.grid.join("").split("");return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{ref:w,className:"p-6 bg-white",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsx("div",{className:"grid border-2 border-slate-700",style:{gridTemplateColumns:`repeat(${L}, minmax(0, 1fr))`},children:O.map((P,R)=>l.jsx("div",{className:"flex items-center justify-center aspect-square border border-slate-300 font-mono font-bold text-lg text-slate-800",children:P},R))})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4 border-b-2 border-slate-700 pb-2",children:"PALABRAS A BUSCAR"}),l.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-2 font-semibold text-slate-700",children:g.words.map(P=>l.jsx("li",{children:P},P))})]})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:()=>x(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otra"}),l.jsx("button",{onClick:N,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})};return v.data?l.jsx("div",{className:"text-center py-10",children:"Cargando..."}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-4xl",children:"🅰️"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Sopa de Letras"}),l.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),!g&&l.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Dificultad"}),l.jsxs("select",{value:a,onChange:L=>s(L.target.value),className:"w-full md:w-1/3 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{children:"Fácil"}),l.jsx("option",{children:"Media"}),l.jsx("option",{children:"Difícil"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Número de palabras"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(L=>l.jsx("button",{onClick:()=>{o(L),u(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!c&&i===L?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:L},L)),l.jsx("button",{onClick:()=>u(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${c?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),c&&l.jsx("input",{type:"number",value:i,onChange:L=>o(parseInt(L.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras con IA (Opcional)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{id:"ai-theme",type:"text",value:h,onChange:L=>p(L.target.value),placeholder:"Envía un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("button",{onClick:k,disabled:v.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:v.ai?l.jsx(_mt,{}):l.jsxs(l.Fragment,{children:[l.jsx(Nmt,{}),l.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Palabras ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3",children:d.map((L,O)=>l.jsx("input",{type:"text",value:L,onChange:T=>E(O,T.target.value),placeholder:`Palabra ${O+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"},O))})]}),l.jsx("div",{className:"text-right pt-4",children:l.jsx("button",{onClick:C,disabled:v.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:v.puzzle?"Generando...":"Generar Sopa de Letras"})})]}),g&&I()]})},Tmt=()=>l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Bmt=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),jmt=({timeline:e,onSave:t,onBack:r})=>{const[n,a]=S.useState(e),[s,i]=S.useState(null),o=S.useRef(null),c=(p,g,x)=>{a(v=>({...v,events:v.events.map(y=>y.id===p?{...y,[g]:x}:y)}))},u=()=>{const p={id:crypto.randomUUID(),date:new Date().getFullYear().toString(),description:"Nuevo hito",icon:"🗓️"},g=[...n.events,p].sort((x,v)=>parseInt(x.date)-parseInt(v.date));a(x=>({...x,events:g}))},d=p=>{a(g=>({...g,events:g.events.filter(x=>x.id!==p)}))},f=async p=>{if(!p.description.trim()){alert("Escribe al menos una idea en la descripción para que la IA la complete.");return}i(p.id);const g="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",x=`
            Para una línea de tiempo sobre "${n.tema}", toma la siguiente idea para un hito y mejórala.
            Idea del usuario: "${p.description}"

            Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional, con tres claves:
            1. "date": El año o fecha más precisa y relevante para esta idea.
            2. "description": Una descripción concisa (máximo 15 palabras) para la línea de tiempo.
            3. "icon": Un único emoji que represente el hito.
        `;try{const B=(await(await new zs(g).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(x)).response).text().replace(/^```json\s*|```\s*$/g,""),j=JSON.parse(B);a(C=>({...C,events:C.events.map(N=>N.id===p.id?{...N,date:j.date,description:j.description,icon:j.icon}:N).sort((N,I)=>parseInt(N.date)-parseInt(I.date))}))}catch(v){console.error("Error al generar descripción del hito:",v),alert("No se pudo autocompletar el hito.")}finally{i(null)}},h=()=>{o.current&&Tj(o.current,{cacheBust:!0,backgroundColor:"#f1f5f9",quality:.95,pixelRatio:2}).then(p=>{const g=document.createElement("a");g.download=`linea-tiempo-${n.tema.replace(/\s+/g,"_")}.png`,g.href=p,g.click()}).catch(p=>{console.error("Error al generar la imagen:",p),alert("No se pudo generar la imagen. Inténtelo de nuevo.")})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:n.tema}),l.jsx("button",{onClick:r,className:"text-sm font-semibold text-slate-500 hover:underline",children:"← Volver a la lista"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 bg-slate-100 dark:bg-slate-900 rounded-lg",children:l.jsxs("div",{ref:o,className:"relative p-10",children:[l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-full bg-slate-300 dark:bg-slate-600 rounded"}),l.jsx("div",{className:"relative",children:n.events.sort((p,g)=>parseInt(p.date)-parseInt(g.date)).map((p,g)=>{const x=g%2===0;return l.jsxs("div",{className:"mb-8 flex justify-between items-center w-full",children:[l.jsx("div",{className:"w-1/2",children:x&&l.jsx("div",{className:"text-right pr-8",children:l.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[l.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:p.icon}),l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:p.date}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:p.description})]})})}),l.jsx("div",{className:"z-10 flex-shrink-0",children:l.jsx("div",{className:"w-5 h-5 bg-white dark:bg-slate-500 border-4 border-slate-400 dark:border-slate-300 rounded-full"})}),l.jsx("div",{className:"w-1/2",children:!x&&l.jsx("div",{className:"text-left pl-8",children:l.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg border dark:border-slate-700 inline-block max-w-xs",children:[l.jsx("p",{className:"text-2xl mb-1 text-center w-full",children:p.icon}),l.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:p.date}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words",children:p.description})]})})})]},p.id)})})]})}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border dark:border-slate-700 h-[70vh] flex flex-col",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Editar Hitos"}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:n.events.map(p=>l.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700 rounded-md border dark:border-slate-600 space-y-2",children:[l.jsx("input",{type:"text",value:p.date,onChange:g=>c(p.id,"date",g.target.value),placeholder:"Año/Fecha",className:"w-full bg-transparent font-semibold dark:text-slate-200"}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("textarea",{value:p.description,onChange:g=>c(p.id,"description",g.target.value),placeholder:"Descripción",rows:2,className:"flex-grow w-full bg-transparent text-sm dark:text-slate-300"}),l.jsx("button",{onClick:()=>f(p),disabled:s===p.id,className:"p-2 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-600 dark:hover:bg-slate-500 disabled:opacity-50",title:"Autocompletar con IA",children:s===p.id?l.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-amber-500 rounded-full animate-spin"}):l.jsx(Bmt,{})})]}),l.jsx("button",{onClick:()=>d(p.id),className:"text-xs text-red-500 hover:underline",children:"Eliminar"})]},p.id))}),l.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 flex flex-col gap-2",children:[l.jsx("button",{onClick:u,className:"w-full bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200",children:"Añadir Hito"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:h,className:"flex-1 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:"Descargar PNG"}),l.jsx("button",{onClick:()=>t(n),className:"flex-1 bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Guardar"})]})]})]})]})]})},Imt=({onBack:e,currentUser:t})=>{const[r,n]=S.useState("list"),[a,s]=S.useState([]),[i,o]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState(!0),[h,p]=S.useState(""),[g,x]=S.useState(""),[v,y]=S.useState("");S.useEffect(()=>{f(!0);const B=cmt(j=>{s(j),f(!1)});return()=>B()},[]);const w=async B=>{if(B.preventDefault(),!h.trim()){alert("El tema es obligatorio.");return}u(!0);const j="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",C=g&&v?`entre ${g} y ${v}`:g?`a partir de ${g}`:v?`hasta ${v}`:"",N=`
            Genera una línea de tiempo sobre el tema "${h}" ${C}.
            Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional ni bloques \`\`\`json.
            El objeto debe tener una clave "events", que es un array de 5 a 10 objetos.
            Cada objeto en el array "events" debe tener tres claves:
            1. "date": Un string con la fecha o el año del hito.
            2. "description": Un string con la descripción breve del hito (máximo 15 palabras).
            3. "icon": Un string con un único emoji que represente el hito.
            Ordena los eventos cronológicamente.
        `;try{const R=(await(await new zs(j).getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent(N)).response).text().replace(/^```json\s*|```\s*$/g,""),q=JSON.parse(R);if(!q.events||!Array.isArray(q.events))throw new Error("La respuesta de la IA no tiene el formato de eventos esperado.");const Q={tema:h,fechaInicio:g,fechaFin:v,events:q.events.map(K=>({id:crypto.randomUUID(),date:K.date||"Sin fecha",description:K.description||"Sin descripción",icon:K.icon||"🗓️"}))},G=await dmt(Q,t);o({...Q,id:G,createdAt:new Date().toISOString()}),n("editor")}catch(I){console.error("AI Generation Error:",I),alert("Hubo un error al generar la línea de tiempo. Por favor, revisa el formato del tema o inténtalo de nuevo.")}finally{u(!1)}},E=async B=>{try{await umt(B,t),n("list"),o(null)}catch(j){console.error("Error saving timeline:",j),alert("No se pudo guardar la línea de tiempo.")}},k=async B=>{if(window.confirm("¿Eliminar esta línea de tiempo?"))try{await fmt(B)}catch(j){console.error("Error deleting timeline:",j),alert("No se pudo eliminar la línea de tiempo.")}};return r==="editor"&&i?l.jsx(jmt,{timeline:i,onSave:E,onBack:()=>n("list")}):d?l.jsx("div",{className:"text-center py-10",children:"Cargando líneas de tiempo..."}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-4xl",children:"🕒"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Líneas de Tiempo"}),l.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),l.jsxs("div",{className:"p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-800/50",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Crear nueva Línea de Tiempo"}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"tema",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tema ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"tema",value:h,onChange:B=>p(B.target.value),required:!0,className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fechaInicio",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Inicio (Opcional)"}),l.jsx("input",{type:"text",id:"fechaInicio",value:g,onChange:B=>x(B.target.value),placeholder:"Ej: 1947",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fechaFin",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha de Término (Opcional)"}),l.jsx("input",{type:"text",id:"fechaFin",value:v,onChange:B=>y(B.target.value),placeholder:"Ej: 1991",className:"w-full border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm"})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("button",{type:"submit",disabled:c,className:"bg-amber-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-600 disabled:bg-slate-400 flex items-center justify-center min-w-[180px]",children:c?l.jsx(Tmt,{}):"Generar con IA"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Líneas de Tiempo Guardadas"}),a.length>0?a.map(B=>l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg shadow-sm border dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:B.tema}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Creada: ",new Date(B.createdAt).toLocaleDateString("es-CL")]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{o(B),n("editor")},className:"text-sm font-semibold bg-slate-200 dark:bg-slate-600 py-1 px-3 rounded-md",children:"Editar"}),l.jsx("button",{onClick:()=>k(B.id),className:"text-sm font-semibold bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 py-1 px-3 rounded-md",children:"Eliminar"})]})]},B.id)):l.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-6",children:"No hay líneas de tiempo guardadas."})]})]})},Fmt=()=>l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),cee=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),Omt=({onBack:e,currentUser:t})=>{const[r,n]=S.useState([]),[a,s]=S.useState(10),[i,o]=S.useState(!1),[c,u]=S.useState(Array(10).fill("")),[d,f]=S.useState(Array(10).fill("")),[h,p]=S.useState(""),[g,x]=S.useState(null),[v,y]=S.useState(!1),[w,E]=S.useState({ai:!1,puzzle:!1,data:!0}),[k,B]=S.useState(null),j=S.useRef(null);S.useEffect(()=>{E(q=>({...q,data:!0}));const R=omt(q=>{const Q=q.map(G=>{const{grid_flat:K,grid_width:z,...Y}=G,ee=[];if(K&&z>0)for(let M=0;M<K.length;M+=z)ee.push(K.slice(M,M+z));return{...Y,grid:ee}});n(Q),E(G=>({...G,data:!1}))});return()=>R()},[]),S.useEffect(()=>{const R=a;u(q=>Array.from({length:R},(Q,G)=>q[G]||"")),f(q=>Array.from({length:R},(Q,G)=>q[G]||""))},[a]);const C=(R,q)=>{const Q=[...c];Q[R]=q,u(Q)},N=(R,q)=>{const Q=[...d];Q[R]=q,f(Q)},I=async()=>{if(h.trim()){E(R=>({...R,ai:!0}));try{const R="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",Q=new zs(R).getGenerativeModel({model:"gemini-1.5-flash-latest"}),G=`
                Genera una lista de ${a} palabras y sus pistas correspondientes para un crucigrama, basado en el tema "${h}".
                Tu respuesta DEBE ser un único objeto JSON válido sin texto adicional ni bloques \`\`\`json.
                El objeto debe tener una clave "items", que es un array de ${a} objetos.
                Cada objeto en el array "items" debe tener dos claves:
                1. "word": Un string con la palabra (sin espacios y en mayúsculas).
                2. "clue": Un string con la pista para esa palabra.
            `;let ee=(await(await Q.generateContent(G)).response).text().replace(/^```json\s*|```\s*$/g,"").trim();const M=ee.indexOf("{"),H=ee.lastIndexOf("}");M!==-1&&H!==-1&&(ee=ee.substring(M,H+1)),ee=ee.replace(/},\s*([\r\n\s]*){/g,"}__SPLIT__{"),ee.includes("__SPLIT__")&&(ee=ee.replace(/("items"\s*:\s*\[)([\s\S]*?)(\])/m,(oe,se,ce,de)=>{const ke=ce.split("__SPLIT__").map(re=>re.trim().replace(/,$/,""));return se+ke.join(",")+de})),ee=ee.replace(/,\s*]/g,"]");let W;try{W=JSON.parse(ee)}catch{console.error("Respuesta IA no es JSON válido:",ee),alert("La respuesta de la IA no es un JSON válido. Intenta de nuevo o ajusta el tema."),E(se=>({...se,ai:!1}));return}if(!W.items||!Array.isArray(W.items))throw new Error("La respuesta de la IA no contiene la lista de 'items' esperada.");const Z=W.items.map(oe=>(oe.word||"").toUpperCase().replace(/\s/g,"")),ae=W.items.map(oe=>oe.clue||"");u(Array.from({length:a},(oe,se)=>Z[se]||"")),f(Array.from({length:a},(oe,se)=>ae[se]||""))}catch(R){console.error("Error generating words/clues with AI:",R),alert("No se pudieron generar las palabras y pistas. Inténtelo de nuevo.")}finally{E(R=>({...R,ai:!1}))}}},L=async R=>{const q=c[R];if(!q||!q.trim()){alert("Por favor, escribe una palabra antes de generar su pista.");return}B(R);try{const Q="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",K=new zs(Q).getGenerativeModel({model:"gemini-1.5-flash-latest"}),z=`Para un crucigrama con el tema "${h||"general"}", genera una pista concisa y creativa para la palabra "${q}". La respuesta debe ser un único objeto JSON válido sin texto adicional, con una sola clave: "clue".`,H=(await(await K.generateContent(z)).response).text().replace(/^```json\s*|```\s*$/g,""),W=JSON.parse(H);W.clue&&N(R,W.clue)}catch(Q){console.error("Error generating clue with AI:",Q),alert("No se pudo generar la pista.")}finally{B(null)}},O=S.useCallback(()=>{try{const R=c.map((Be,Le)=>({word:Be.toUpperCase().replace(/[^A-ZÑ]/g,""),clue:d[Le]})).filter(Be=>Be.word.length>0);if(R.length===0)return alert("Por favor, ingrese al menos una palabra válida."),null;R.sort((Be,Le)=>Le.word.length-Be.word.length);const q=R[0].word.length,Q=Math.max(q,R.length)*2;let G=Array.from({length:Q},()=>Array(Q).fill(null));const K=[],z=R.shift(),Y=Math.floor(Q/2),ee=Math.floor((Q-z.word.length)/2);for(let Be=0;Be<z.word.length;Be++)G[Y][ee+Be]=z.word[Be];K.push({word:z.word,clue:z.clue,direction:"across",row:Y,col:ee});for(const Be of R){let Le={score:-1,row:-1,col:-1,direction:"across"};for(const Ge of K)for(let xe=0;xe<Ge.word.length;xe++)for(let Ie=0;Ie<Be.word.length;Ie++)if(Ge.word[xe]===Be.word[Ie]){let De=0,Ve,We,at;Ge.direction==="across"?(at="down",Ve=Ge.row-Ie,We=Ge.col+xe):(at="across",Ve=Ge.row+xe,We=Ge.col-Ie);let ht=!0;for(let Tt=0;Tt<Be.word.length;Tt++){const Rt=Ve+(at==="down"?Tt:0),Ft=We+(at==="across"?Tt:0);if(Rt<0||Rt>=Q||Ft<0||Ft>=Q){ht=!1;break}const Pt=G[Rt][Ft],ut=Rt===Ge.row+(Ge.direction==="down"?xe:0)&&Ft===Ge.col+(Ge.direction==="across"?xe:0);if(Pt&&!ut){ht=!1;break}if(Pt&&ut&&Pt!==Be.word[Ie]){ht=!1;break}if(!ut){if(at==="across"&&(Rt>0&&G[Rt-1][Ft]||Rt<Q-1&&G[Rt+1][Ft])){ht=!1;break}if(at==="down"&&(Ft>0&&G[Rt][Ft-1]||Ft<Q-1&&G[Rt][Ft+1])){ht=!1;break}}Pt&&De++}ht&&De>Le.score&&(Le={score:De,row:Ve,col:We,direction:at})}if(Le.score>-1){for(let Ge=0;Ge<Be.word.length;Ge++){const xe=Le.row+(Le.direction==="down"?Ge:0),Ie=Le.col+(Le.direction==="across"?Ge:0);G[xe][Ie]=Be.word[Ge]}K.push({word:Be.word,clue:Be.clue,direction:Le.direction,row:Le.row,col:Le.col})}}let M=Q,H=-1,W=Q,Z=-1;K.forEach(Be=>{M=Math.min(M,Be.row),H=Math.max(H,Be.row+(Be.direction==="down"?Be.word.length-1:0)),W=Math.min(W,Be.col),Z=Math.max(Z,Be.col+(Be.direction==="across"?Be.word.length-1:0))}),H===-1&&(M=K[0].row,H=K[0].row,W=K[0].col,Z=K[0].col+K[0].word.length-1);const ae=1,oe=Math.max(0,M-ae),se=Math.min(Q,H+1+ae),ce=Math.max(0,W-ae),de=Math.min(Q,Z+1+ae),ke=G.slice(oe,se).map(Be=>Be.slice(ce,de)),re=K.map(Be=>({...Be,row:Be.row-oe,col:Be.col-ce})).sort((Be,Le)=>Be.row-Le.row||Be.col-Le.col);let _e=1;const Ne=[],Se=new Map;re.forEach(Be=>{const Le=`${Be.row},${Be.col}`;Se.has(Le)||Se.set(Le,_e++),Ne.push({...Be,number:Se.get(Le)})});const he=ke.map(Be=>Be.map(Le=>({char:Le,number:null})));return Ne.forEach(Be=>{const Le=`${Be.row},${Be.col}`;he[Be.row]&&he[Be.row][Be.col]!==void 0&&(he[Be.row][Be.col].number=Se.get(Le))}),{grid:he,clues:{across:Ne.filter(Be=>Be.direction==="across").sort((Be,Le)=>Be.number-Le.number),down:Ne.filter(Be=>Be.direction==="down").sort((Be,Le)=>Be.number-Le.number)}}}catch(R){return console.error("Error generating crossword grid:",R),alert("Ocurrió un error inesperado al generar el crucigrama. Intente con palabras diferentes."),null}},[c,d]),T=async()=>{var q;E(Q=>({...Q,puzzle:!0})),x(null),await new Promise(Q=>setTimeout(Q,100));const R=O();if(R){const Q={creadorId:t.id,creadorNombre:t.nombreCompleto,tema:h||"Personalizado",grid:R.grid,clues:R.clues},{grid:G,...K}=Q,z={...K,grid_flat:G.flat().map(Y=>Y.char||""),grid_width:((q=G[0])==null?void 0:q.length)||0};try{const Y=await lmt(z,t);x({...Q,id:Y,fechaCreacion:new Date().toISOString()})}catch(Y){console.error("Error saving puzzle:",Y),alert("No se pudo guardar el crucigrama en la base de datos.")}}E(Q=>({...Q,puzzle:!1}))},P=()=>{j.current&&(y(!1),setTimeout(()=>{Tj(j.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(R=>{const q=document.createElement("a");q.download="crucigrama.png",q.href=R,q.click()}).catch(R=>console.error("Error generating image",R))},100))};return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-4xl",children:"✏️"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Crucigramas"}),l.jsx("button",{onClick:e,className:"text-sm font-semibold text-slate-500 dark:text-slate-400 hover:underline",children:"← Volver a Recursos"})]})]}),g?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{ref:j,className:"p-6 bg-white dark:bg-slate-900 text-black dark:text-white",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsx("div",{children:l.jsx("div",{className:"border border-black dark:border-white",style:{display:"grid",gridTemplateColumns:`repeat(${g.grid[0].length}, 2rem)`},children:g.grid.flat().map((R,q)=>l.jsxs("div",{className:"relative w-8 h-8 border border-black dark:border-white flex items-center justify-center font-bold uppercase",style:{backgroundColor:R.char?"white":"black"},children:[R.number&&l.jsx("span",{className:"absolute top-0 left-0.5 text-[8px]",children:R.number}),v&&R.char&&l.jsx("span",{children:R.char})]},q))})}),l.jsxs("div",{className:"text-sm",children:[l.jsx("h3",{className:"font-bold text-lg mb-2",children:"HORIZONTALES"}),l.jsx("ul",{className:"space-y-1",children:g.clues.across.map(R=>l.jsxs("li",{children:[l.jsxs("strong",{children:[R.number,"."]})," ",R.clue]},`${R.word}-${R.clue}`))}),l.jsx("h3",{className:"font-bold text-lg mt-4 mb-2",children:"VERTICALES"}),l.jsx("ul",{className:"space-y-1",children:g.clues.down.map(R=>l.jsxs("li",{children:[l.jsxs("strong",{children:[R.number,"."]})," ",R.clue]},`${R.word}-${R.clue}`))})]})]})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:()=>y(!v),className:"h-5 w-5 rounded"}),l.jsx("span",{children:"Mostrar Solución"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>x(null),className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300",children:"Crear otro"}),l.jsx("button",{onClick:P,className:"bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600",children:"Descargar como PNG"})]})]})]}):l.jsxs("div",{className:"space-y-6 pt-4 border-t dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Número de palabras"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5,10,15,20].map(R=>l.jsx("button",{onClick:()=>{s(R),o(!1)},className:`px-4 py-2 rounded-md font-semibold text-sm ${!i&&a===R?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:R},R)),l.jsx("button",{onClick:()=>o(!0),className:`px-4 py-2 rounded-md font-semibold text-sm ${i?"bg-amber-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:"Personalizado"}),i&&l.jsx("input",{type:"number",value:a,onChange:R=>s(parseInt(R.target.value,10)),min:"1",max:"30",className:"w-24 border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"ai-theme",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Completar palabras y pistas con IA (Opcional)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{id:"ai-theme",type:"text",value:h,onChange:R=>p(R.target.value),placeholder:"Envía un tema...",className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("button",{onClick:I,disabled:w.ai,className:"bg-sky-500 text-white font-semibold px-4 py-2 rounded-md flex items-center justify-center min-w-[120px]",children:w.ai?l.jsx(Fmt,{}):l.jsxs(l.Fragment,{children:[l.jsx(cee,{}),l.jsx("span",{className:"ml-2",children:"Generar"})]})})]})]}),l.jsx("div",{className:"space-y-3",children:Array.from({length:a}).map((R,q)=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx("input",{type:"text",value:c[q],onChange:Q=>C(q,Q.target.value),placeholder:`Palabra ${q+1}`,className:"border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsxs("div",{className:"md:col-span-2 flex items-center gap-2",children:[l.jsx("textarea",{value:d[q],onChange:Q=>N(q,Q.target.value),placeholder:`Pista ${q+1}`,rows:1,className:"flex-grow border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"}),l.jsx("button",{onClick:()=>L(q),disabled:k===q,className:"p-2 bg-slate-200 dark:bg-slate-600 rounded-md hover:bg-slate-300 disabled:opacity-50",title:"Generar Pista con IA",children:k===q?l.jsx("div",{className:"w-5 h-5 border-2 border-slate-400 border-t-amber-500 rounded-full animate-spin"}):l.jsx(cee,{})})]})]},q))}),l.jsx("div",{className:"text-right pt-4",children:l.jsx("button",{onClick:T,disabled:w.puzzle,className:"bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 min-w-[200px]",children:w.puzzle?"Generando...":"Generar Crucigrama"})})]})]})},Dmt=()=>{const[e,t]=S.useState(null),[r,n]=S.useState(!0);return S.useEffect(()=>{const a=Zre(VD,async s=>{if(s&&s.email)try{const i=await Ase(s.email);t(i)}catch(i){console.error("Error al obtener el perfil del usuario:",i),t(null)}else t(null);n(!1)});return()=>a()},[]),{currentUser:e,loading:r}},Pmt=[{id:"sopaDeLetras",icon:"🅰️",nombre:"Sopa de Letras",descripcion:"Crea y resuelve sopas de letras personalizadas para aprender palabras clave de cualquier asignatura."},{id:"mapasMentales",icon:"🧠",nombre:"Mapas Mentales",descripcion:"Organiza ideas y conceptos de forma visual para facilitar el estudio y la memoria."},{id:"crucigramas",icon:"✏️",nombre:"Crucigramas",descripcion:"Crea y resuelve crucigramas para reforzar vocabulario y conceptos clave."},{id:"lineasDeTiempo",icon:"🕒",nombre:"Líneas de Tiempo",descripcion:"Construye líneas de tiempo para comprender procesos, hechos históricos o secuencias."}],Rmt=({recurso:e,onClick:t})=>l.jsxs("button",{onClick:t,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-in-out cursor-pointer flex flex-col items-center text-center h-full",children:[l.jsx("div",{className:"text-6xl mb-4",children:e.icon}),l.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:e.nombre}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm flex-grow",children:e.descripcion})]}),Lmt=()=>{const[e,t]=S.useState("menu"),{currentUser:r}=Dmt(),n=()=>e!=="menu"&&!r?l.jsx("div",{className:"text-center p-8",children:"Cargando información de usuario..."}):e==="mapasMentales"?l.jsx(Smt,{onBack:()=>t("menu"),currentUser:r}):e==="sopaDeLetras"?l.jsx(kmt,{onBack:()=>t("menu"),currentUser:r}):e==="lineasDeTiempo"?l.jsx(Imt,{onBack:()=>t("menu"),currentUser:r}):e==="crucigramas"?l.jsx(Omt,{onBack:()=>t("menu"),currentUser:r}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Recursos de Aprendizaje"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Seleccione una herramienta para crear una nueva actividad educativa para sus estudiantes."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Pmt.map(a=>l.jsx(Rmt,{recurso:a,onClick:()=>t(a.id)},a.id))})]});return l.jsx("div",{className:"animate-fade-in space-y-6",children:n()})},Mmt="evaluaciones_formativas",Umt="calificaciones_formativas",ape="trabajos_grupales_formativos",spe=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fecha:((n=(r=t.fecha)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString().split("T")[0])||t.fecha,fechaPresentacion:((s=(a=t.fechaPresentacion)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString().split("T")[0])||t.fechaPresentacion}},Qmt=(e,t)=>{const r=zt(wt(mt,Mmt),Gr("curso","==",e));return br(r,n=>{t(n.docs.map(a=>spe(a)))},n=>{console.error("Error subscribing to student evaluations:",n),t([])})},Hmt=e=>{const t=zt(wt(mt,Umt));return br(t,r=>{const n={};r.forEach(a=>{n[a.id]=a.data()}),e(n)},r=>{console.error("Error subscribing to grades:",r),e({})})},$mt=(e,t)=>{const r=zt(wt(mt,ape),Gr("curso","==",e));return br(r,n=>{t(n.docs.map(a=>spe(a)))},n=>{console.error("Error subscribing to group projects:",n),t([])})},Vmt=async e=>{try{const{id:t,...r}=e,n=dr(mt,ape,t);await Gi(n,r)}catch(t){throw console.error("Error updating group project:",t),new Error("Could not update group project.")}},zmt=({currentUser:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState({}),[s,i]=S.useState([]),[o,c]=S.useState(!0),[u,d]=S.useState(null),[f,h]=S.useState(!1),[p,g]=S.useState(null),x=S.useRef(null);S.useEffect(()=>{if(!e.curso){c(!1);return}c(!0);const k=Qmt(e.curso,r),B=Hmt(a),j=$mt(e.curso,C=>{i(C),c(!1)});return()=>{k(),B(),j()}},[e.curso]);const v=S.useMemo(()=>{if(!e.curso)return[];const B=t.filter(j=>j.curso===e.curso).reduce((j,C)=>((j[C.asignatura]=j[C.asignatura]||[]).push(C),j),{});return Object.entries(B).map(([j,C])=>{let N=0,I=0;const L=C.map(T=>{var q;const P=(q=n[T.id])==null?void 0:q[e.nombreCompleto];let R="No Trabajado";return P==="trabajado"?(N+=7,I++,R="Trabajado"):P==="no trabajado"&&(N+=2,I++,R="No Trabajado"),{id:T.id,nombreActividad:T.nombreActividad,fecha:T.fecha,estado:R}}).filter(T=>{var P;return(P=n[T.id])==null?void 0:P[e.nombreCompleto]}),O=I>0?(N/I).toFixed(1):"N/A";return{asignatura:j,promedio:O,actividades:L.sort((T,P)=>new Date(P.fecha).getTime()-new Date(T.fecha).getTime())}}).filter(j=>j.actividades.length>0).sort((j,C)=>j.asignatura.localeCompare(C.asignatura))},[t,n,e]);S.useEffect(()=>{if(v.reduce((I,L)=>I+L.actividades.length,0)===0){d(null);return}const B=v.reduce((I,L)=>{const O=parseFloat(L.promedio);return isNaN(O)?I:I+O},0),j=v.length>0?B/v.length:0,C=__.find(I=>j>=I.promedioMin&&j<=I.promedioMax)||null,N=__.filter(I=>j>=I.promedioMin);if(d({puntajeTotal:0,promedio:j,rangoActual:C,insigniasGanadas:N}),x.current!==null){const I=__.find(L=>x.current>=L.promedioMin&&x.current<=L.promedioMax)||null;C&&(!I||C.nombre!==I.nombre)&&g(C)}x.current=j},[v]);const y=S.useMemo(()=>e.curso?s.filter(k=>k.curso===e.curso).map(k=>{const B=k.grupos.find(j=>j.integrantes.some(C=>C.nombre===e.nombreCompleto));return B?{...k,miGrupo:B}:null}).filter(k=>k!==null).sort((k,B)=>new Date(B.fechaPresentacion).getTime()-new Date(k.fechaPresentacion).getTime()):[],[s,e]),w=async(k,B)=>{const j=s.find(N=>N.id===k);if(!j)return;const C={...j,grupos:j.grupos.map(N=>N.integrantes.some(L=>L.nombre===e.nombreCompleto)?{...N,integrantes:N.integrantes.map(L=>L.nombre===e.nombreCompleto?{...L,rol:B||void 0}:L)}:N)};try{await Vmt(C)}catch(N){console.error("Error updating role:",N),alert("No se pudo actualizar el rol.")}},E=k=>{const B=parseFloat(k);return isNaN(B)?"bg-slate-400":B<4?"bg-red-500":B<5.5?"bg-yellow-500":"bg-green-500"};return o?l.jsx("div",{className:"text-center py-10",children:"Cargando tu rendimiento..."}):l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[p&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",onClick:()=>g(null),children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md text-center p-8 animate-fade-in-up transform transition-all",onClick:k=>k.stopPropagation(),children:[l.jsx("div",{className:"text-8xl animate-bounce",children:p.emoji}),l.jsx("h2",{className:"text-3xl font-bold text-slate-800 mt-4",children:"¡Subiste de Rango!"}),l.jsx("p",{className:"text-2xl font-semibold text-amber-500 mt-2",children:p.nombre}),l.jsx("p",{className:"text-slate-600 mt-4",children:p.mensaje}),l.jsx("button",{onClick:()=>g(null),className:"mt-6 bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700",children:"¡Genial!"})]})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>h(!1),children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 max-h-[80vh] flex flex-col",onClick:k=>k.stopPropagation(),children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Logros"}),l.jsx("div",{className:"overflow-y-auto space-y-3",children:__.map(k=>{const B=u==null?void 0:u.insigniasGanadas.some(j=>j.nombre===k.nombre);return l.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${B?"bg-amber-50 border-amber-200":"bg-slate-100 border-slate-200 opacity-60"}`,children:[l.jsx("div",{className:"text-5xl",children:k.emoji}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-bold ${B?"text-amber-700":"text-slate-600"}`,children:k.nombre}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Requisito: Promedio entre ",k.promedioMin," y ",k.promedioMax]})]})]},k.nombre)})})]})}),l.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Mi Rendimiento Formativo"}),l.jsx("p",{className:"text-slate-500 mb-6",children:"Aquí puedes ver un resumen de tu trabajo en clases por cada asignatura."}),u&&u.rangoActual&&l.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 text-white p-6 rounded-xl mb-8 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-80",children:"RANGO ACTUAL"}),l.jsx("h2",{className:"text-3xl font-bold",children:u.rangoActual.nombre}),l.jsx("button",{onClick:()=>h(!0),className:"mt-2 text-xs font-semibold bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full",children:"Ver todos los logros"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-7xl",children:u.rangoActual.emoji}),l.jsx("p",{className:"font-bold text-2xl mt-2",children:u.promedio.toFixed(1)}),l.jsx("p",{className:"text-sm opacity-80",children:"Promedio General"})]})]}),v.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(k=>l.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-5 flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:k.asignatura}),l.jsx("p",{className:"text-sm text-slate-500",children:"Promedio Formativo"})]}),l.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-3xl ${E(k.promedio)}`,children:k.promedio})]}),l.jsxs("div",{className:"flex-grow space-y-2 pt-4 border-t border-slate-200",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Detalle de Actividades:"}),k.actividades.map(B=>l.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-700",children:B.nombreActividad}),l.jsx("p",{className:"text-xs text-slate-500",children:new Date(B.fecha+"T12:00:00").toLocaleDateString("es-CL")})]}),l.jsx("span",{className:`font-semibold ${B.estado==="Trabajado"?"text-green-600":"text-red-600"}`,children:B.estado==="Trabajado"?"✅ Trabajado":"❌ No Trabajado"})]},B.id))]})]},k.asignatura))}):l.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-lg",children:[l.jsx("span",{className:"text-5xl",children:"📊"}),l.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"Aún sin registros"}),l.jsx("p",{className:"text-slate-500 mt-2",children:"Todavía no tienes evaluaciones formativas registradas por tus profesores."})]})]}),y.length>0&&l.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Mis Trabajos Grupales"}),l.jsx("div",{className:"space-y-4",children:y.map(k=>{const B=k.miGrupo.integrantes.filter(C=>C.nombre!==e.nombreCompleto&&C.rol).map(C=>C.rol),j=pse.filter(C=>!B.includes(C));return l.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[l.jsx("h3",{className:"font-bold text-slate-800",children:k.nombreActividad}),l.jsxs("p",{className:"text-sm text-slate-500",children:[k.asignatura," - Presentación: ",new Date(k.fechaPresentacion+"T12:00:00").toLocaleDateString("es-CL")]}),l.jsxs("div",{className:"mt-3 pt-3 border-t",children:[l.jsxs("h4",{className:"font-semibold text-sm",children:["Grupo ",k.miGrupo.numero]}),l.jsx("ul",{className:"list-disc list-inside text-sm mt-2 space-y-2",children:k.miGrupo.integrantes.map(C=>l.jsxs("li",{className:"grid grid-cols-2 items-center",children:[l.jsx("span",{className:C.nombre===e.nombreCompleto?"font-bold":"",children:C.nombre}),C.nombre===e.nombreCompleto?l.jsxs("select",{value:C.rol||"",onChange:N=>w(k.id,N.target.value),className:"text-sm p-1 border rounded w-full",children:[l.jsx("option",{value:"",children:"-- Seleccionar rol --"}),C.rol&&!j.includes(C.rol)&&l.jsx("option",{value:C.rol,children:C.rol}),j.map(N=>l.jsx("option",{value:N,children:N},N))]}):l.jsx("span",{className:"text-xs italic bg-slate-200 px-2 py-1 rounded-full",children:C.rol||"Sin rol"})]},C.nombre))})]})]},k.id)})})]})]})},Gmt="proyectos_interdisciplinarios",ipe="entregas_interdisciplinarias",ope=e=>{var r,n,a,s;const t=e.data();return{id:e.id,...t,fechaCreacion:((n=(r=t.fechaCreacion)==null?void 0:r.toDate)==null?void 0:n.call(r).toISOString())||t.fechaCreacion,fechaCompletado:((s=(a=t.fechaCompletado)==null?void 0:a.toDate)==null?void 0:s.call(a).toISOString())||t.fechaCompletado}},Kmt=(e,t)=>{const r=zt(wt(mt,Gmt),Gr("cursos","array-contains",e));return br(r,n=>{const a=n.docs.map(s=>ope(s));t(a)},n=>{console.error("Error al suscribirse a los proyectos:",n),t([])})},qmt=(e,t)=>{const r=zt(wt(mt,ipe),Gr("estudianteId","==",e));return br(r,n=>{const a=n.docs.map(s=>ope(s));t(a)},n=>{console.error("Error al suscribirse a las entregas:",n),t([])})},Wmt=async e=>{try{const{id:t,...r}=e,n=dr(mt,ipe,t),a={...r,fechaCompletado:lr.fromDate(new Date(r.fechaCompletado||Date.now()))};await Gi(n,a,{merge:!0})}catch(t){throw console.error("Error al actualizar la entrega:",t),new Error("No se pudo guardar la entrega.")}},Xmt=({currentUser:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState(null),[o,c]=S.useState(!0);S.useEffect(()=>{if(!e.curso||!e.id){c(!1);return}c(!0);const f=Kmt(e.curso,r),h=qmt(e.id,p=>{a(p),c(!1)});return()=>{f(),h()}},[e.curso,e.id]);const u=async f=>{try{await Wmt(f)}catch(h){console.error("Failed to update submission:",h),alert("Hubo un error al guardar tu entrega.")}},d=({plan:f,tarea:h})=>{const p=S.useMemo(()=>{const B=n.find(j=>j.planificacionId===f.id&&j.tareaId===h.id);return B||{id:`${f.id}_${h.id}_${e.id}`,planificacionId:f.id,tareaId:h.id,estudianteId:e.id,estudianteNombre:e.nombreCompleto,completada:!1}},[f.id,h.id,n]),[g,x]=S.useState(!1),[v,y]=S.useState({observaciones:p.observacionesEstudiante||"",enlace:p.enlaceUrl||""}),w=B=>{var C;const j=(C=B.target.files)==null?void 0:C[0];j&&(alert(`Simulación: Archivo "${j.name}" listo para subir.`),u({...p,archivoAdjunto:{nombre:j.name,url:`simulated/path/${j.name}`},fechaCompletado:new Date().toISOString()}))},E=()=>{u({...p,observacionesEstudiante:v.observaciones,enlaceUrl:v.enlace,fechaCompletado:new Date().toISOString()})},k=()=>{u({...p,completada:!p.completada,fechaCompletado:new Date().toISOString()})};return l.jsxs("div",{className:"p-3 bg-white dark:bg-slate-700/50 rounded-lg border dark:border-slate-600",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("input",{type:"checkbox",checked:p.completada,onChange:k,className:"mt-1 h-5 w-5 rounded text-amber-500 focus:ring-amber-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:`font-semibold ${p.completada?"line-through text-slate-500":"text-slate-800"}`,children:["Tarea ",h.numero,": ",h.instrucciones]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Fecha de entrega: ",h.fechaEntrega]}),h.recursoUrl&&l.jsx("a",{href:h.recursoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"Ver Recurso"})]}),l.jsx("button",{onClick:()=>x(!g),className:"text-sm font-semibold",children:g?"Ocultar":"Entregar"})]}),g&&l.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t dark:border-slate-600 space-y-3 animate-fade-in-up",children:[l.jsx("textarea",{value:v.observaciones,onChange:B=>y({...v,observaciones:B.target.value}),onBlur:E,placeholder:"Añadir observaciones o comentarios...",rows:2,className:"w-full text-sm p-1 border rounded"}),l.jsx("input",{type:"url",value:v.enlace,onChange:B=>y({...v,enlace:B.target.value}),onBlur:E,placeholder:"Pegar un enlace (ej: Google Docs, video)...",className:"w-full text-sm p-1 border rounded"}),l.jsx("input",{type:"file",onChange:w,className:"text-sm"}),p.archivoAdjunto&&l.jsxs("p",{className:"text-xs text-green-600",children:["✓ Archivo subido: ",p.archivoAdjunto.nombre]})]}),p.feedbackProfesor&&l.jsxs("div",{className:"mt-3 pt-3 pl-8 border-t border-amber-300 bg-amber-50 dark:bg-amber-900/20 p-2 rounded",children:[l.jsx("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:"Retroalimentación del profesor:"}),l.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:p.feedbackProfesor})]})]})};return o?l.jsx("div",{className:"text-center py-10",children:"Cargando tus proyectos..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-md",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Mis Tareas Interdisciplinarias"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Revisa y completa las tareas de tus proyectos."})]}),t.length>0?t.map(f=>{const h=f.tareas||[],g=n.filter(v=>v.planificacionId===f.id).filter(v=>v.completada).length,x=h.length>0?g/h.length*100:0;return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[l.jsxs("button",{onClick:()=>i(s===f.id?null:f.id),className:"w-full text-left",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:f.nombreProyecto}),l.jsxs("div",{className:"mt-2 space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-sm font-medium text-slate-500",children:[l.jsx("span",{children:"Progreso"}),l.jsxs("span",{children:[Math.round(x),"%"]})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-amber-500 h-2.5 rounded-full",style:{width:`${x}%`}})})]})]}),s===f.id&&l.jsx("div",{className:"mt-4 pt-4 border-t space-y-3",children:h.length>0?h.map(v=>l.jsx(d,{plan:f,tarea:v},v.id)):l.jsx("p",{className:"text-slate-500 text-center",children:"Este proyecto aún no tiene tareas asignadas."})})]},f.id)}):l.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[l.jsx("span",{className:"text-5xl",children:"🎉"}),l.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700",children:"¡Todo al día!"}),l.jsx("p",{className:"text-slate-500 mt-2",children:"No tienes tareas de proyectos interdisciplinarios asignadas por el momento."})]})]})},Ymt=({data:e})=>l.jsx("div",{className:"space-y-4",children:e.map((r,n)=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:r.label.replace("Dominio A: ","A: ").replace("Dominio B: ","B: ").replace("Dominio C: ","C: ")}),l.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:[r.value.toFixed(2)," / 4.00"]})]}),l.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:l.jsx("div",{className:"bg-sky-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${r.value/4*100}%`}})})]},r.label+n))}),Jmt=({currentUser:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState(!1),[s,i]=S.useState(null),[o,c]=S.useState(null),[u,d]=S.useState(P2),f=S.useCallback(async()=>{a(!0);try{const v=(await vut(e.nombreCompleto)).sort((y,w)=>new Date(w.fecha).getTime()-new Date(y.fecha).getTime());r(v),i(null)}catch(x){console.error("Error al cargar acompañamientos desde Firestore",x),i("No se pudieron cargar tus acompañamientos desde la nube.")}finally{a(!1)}},[e.nombreCompleto]),h=S.useCallback(async()=>{try{const x=await but();x&&d(x)}catch(x){console.error("Error al cargar rúbrica personalizada",x)}},[]);S.useEffect(()=>{f(),h()},[f,h]);const p=S.useMemo(()=>{if(!o)return[];const x={};return u.forEach(v=>{x[v.domain]={total:0,count:0},v.criteria.forEach(y=>{const w=o.rubricaResultados[y.name];w&&(x[v.domain].total+=w,x[v.domain].count++)})}),Object.entries(x).map(([v,y])=>({label:v,value:y.count>0?y.total/y.count:0}))},[o,u]),g=x=>{const v=new Sr;v.setFont("helvetica","bold"),v.setFontSize(10),v.setTextColor(100),v.text("LICEO INDUSTRIAL DE RECOLETA",v.internal.pageSize.getWidth()/2,15,{align:"center"}),v.setFont("helvetica","bold"),v.setFontSize(16),v.setTextColor(40),v.text("Informe de Acompañamiento Docente",v.internal.pageSize.getWidth()/2,25,{align:"center"}),v.setFontSize(12),v.setFont("helvetica","normal"),Uo(v,{startY:35,body:[["Docente:",x.docente],["Fecha:",new Date(x.fecha).toLocaleDateString("es-CL")],["Asignatura:",x.asignatura],["Curso:",x.curso],["Bloques:",x.bloques||"No especificado"]],theme:"plain",styles:{fontSize:11,cellPadding:2},columnStyles:{0:{cellWidth:35,fontStyle:"bold"}}});let y=v.lastAutoTable.finalY+15;if(Object.keys(x.rubricaResultados).length>0){const k=[],B=["Débil","Incipiente","Satisfactorio","Avanzado"];u.forEach(j=>{k.push([{content:j.domain,colSpan:2,styles:{fontStyle:"bold",fillColor:[220,220,220],textColor:[40,40,40]}}]),j.criteria.forEach(C=>{const N=x.rubricaResultados[C.name],I=N?B[N-1]:"No evaluado";k.push([C.name,I])})}),Uo(v,{startY:y,head:[["Indicador","Nivel de Logro"]],body:k,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:255},styles:{fontSize:10}}),y=v.lastAutoTable.finalY+15}const w=(k,B)=>{if(!B)return;y>250&&(v.addPage(),y=20,v.setFont("helvetica","bold"),v.setFontSize(10),v.setTextColor(100),v.text("LICEO INDUSTRIAL DE RECOLETA",v.internal.pageSize.getWidth()/2,15,{align:"center"}),y=25),v.setFont("helvetica","bold"),v.setFontSize(14),v.setTextColor(40),v.text(k,14,y),y+=8,v.setFont("helvetica","normal"),v.setFontSize(11),v.setTextColor(60);const j=v.splitTextToSize(B.replace(/## /g,"").replace(/(\*\*|\*)/g,""),180);v.text(j,14,y),y+=j.length*5+10};w("Observaciones Generales",x.observacionesGenerales),w("Retroalimentación Consolidada",x.retroalimentacionConsolidada);const E=v.getNumberOfPages();for(let k=1;k<=E;k++)v.setPage(k),v.setFontSize(8),v.setTextColor(128),v.text(`Página ${k} de ${E}`,v.internal.pageSize.getWidth()/2,v.internal.pageSize.getHeight()-10,{align:"center"});v.save(`Acompanamiento_${e.nombreCompleto.replace(/\s/g,"_")}_${new Date(x.fecha).toLocaleDateString("es-CL").replace(/\//g,"-")}.pdf`)};return o?l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("button",{onClick:()=>c(null),className:"text-sm font-semibold text-slate-500 hover:underline mb-2",children:"← Volver a mi historial"}),l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Detalle del Acompañamiento"}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[new Date(o.fecha).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})," | ",o.curso," - ",o.asignatura]})]}),l.jsxs("button",{onClick:()=>g(o),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-red-700",children:[l.jsx(hse,{})," Exportar PDF"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 space-y-6",children:l.jsxs("div",{className:"prose dark:prose-invert max-w-none prose-slate",children:[l.jsx("h3",{children:"Retroalimentación Consolidada (IA)"}),l.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:l.jsx("p",{className:"whitespace-pre-wrap",children:o.retroalimentacionConsolidada||"No se ha generado retroalimentación."})}),l.jsx("h3",{children:"Observaciones Generales"}),l.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:l.jsx("p",{className:"whitespace-pre-wrap",children:o.observacionesGenerales||"Sin observaciones."})})]})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Desempeño por Dominio"}),l.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg",children:l.jsx(Ymt,{data:p})})]})]})]}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Mis Acompañamientos"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Aquí encontrarás el historial de tus observaciones de clase y la retroalimentación asociada."}),n&&l.jsx("div",{className:"text-center text-amber-600 py-4",children:"Cargando tus acompañamientos desde la nube..."}),s&&l.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:s}),!n&&t.length===0&&l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg mb-6",children:"No tienes acompañamientos registrados en la nube."}),l.jsx("div",{className:"space-y-4",children:!n&&t.length>0?t.map(x=>l.jsx("button",{onClick:()=>c(x),className:"w-full text-left p-4 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[x.curso," - ",x.asignatura]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Fecha: ",new Date(x.fecha).toLocaleDateString("es-CL"),x.bloques&&` | Bloques: ${x.bloques}`]}),Object.keys(x.rubricaResultados).length>0&&l.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:["Evaluado en ",Object.keys(x.rubricaResultados).length," criterios"]})]}),l.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 text-sm",children:"Ver Detalles"})]})},x.id)):!n&&l.jsxs("div",{className:"text-center py-16 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[l.jsx("span",{className:"text-5xl",children:"👍"}),l.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-700 dark:text-slate-300",children:"Sin Registros"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Aún no tienes acompañamientos de clase registrados."})]})})]})},Zmt=e=>{console.log("🔄 Iniciando suscripción a todas las planificaciones...");try{const t=wt(Lr,"planificaciones"),r=zt(t,wr("fechaCreacion","desc"));return br(r,a=>{const s=[];a.forEach(i=>{const o=i.data();s.push({id:i.id,...o})}),console.log("✅ Todas las planificaciones cargadas:",s.length),e(s)},a=>{throw console.error("❌ Error al cargar todas las planificaciones:",a),a})}catch(t){throw console.error("❌ Error al configurar suscripción a todas las planificaciones:",t),t}},egt=(e,t)=>{if(console.log("🔄 Iniciando suscripción a planificaciones del usuario:",e),!e)throw console.error("❌ userId no proporcionado"),new Error("userId es requerido");try{const r=wt(Lr,"planificaciones"),n=zt(r,Gr("userId","==",e),wr("fechaCreacion","desc"));return br(n,s=>{const i=[];s.forEach(o=>{const c=o.data();i.push({id:o.id,...c})}),console.log("✅ Planificaciones del usuario cargadas:",i.length),t(i)},s=>{throw console.error("❌ Error al cargar planificaciones del usuario:",s),s})}catch(r){throw console.error("❌ Error al configurar suscripción a planificaciones del usuario:",r),r}};function tgt(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const rgt=tgt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var ngt={value:function(){}};function lpe(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new _N(r)}function _N(e){this._=e}function agt(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}_N.prototype=lpe.prototype={constructor:_N,on:function(e,t){var r=this._,n=agt(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=sgt(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=uee(r[a],e.name,t);else if(t==null)for(a in r)r[a]=uee(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new _N(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function sgt(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function uee(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=ngt,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}const igt=Object.freeze(Object.defineProperty({__proto__:null,dispatch:lpe},Symbol.toStringTag,{value:"Module"})),ogt=Exe(igt);var wO,dee;function lgt(){if(dee)return wO;dee=1;const e=ogt.dispatch,t=Math.PI/180,r={archimedean:x,rectangular:v},n=64,a=2048;wO=function(){var k=[256,256],B=s,j=i,C=c,N=o,I=o,L=u,O=d,T=x,P=[],R=1/0,q=e("word","end"),Q=null,G=Math.random,K={},z=w;K.canvas=function(M){return arguments.length?(z=E(M),K):z},K.start=function(){var M=Y(z()),H=y((k[0]>>5)*k[1]),W=null,Z=P.length,ae=-1,oe=[],se=P.map(function(de,ke){return de.text=B.call(this,de,ke),de.font=j.call(this,de,ke),de.style=N.call(this,de,ke),de.weight=I.call(this,de,ke),de.rotate=L.call(this,de,ke),de.size=~~C.call(this,de,ke),de.padding=O.call(this,de,ke),de}).sort(function(de,ke){return ke.size-de.size});return Q&&clearInterval(Q),Q=setInterval(ce,0),ce(),K;function ce(){for(var de=Date.now();Date.now()-de<R&&++ae<Z&&Q;){var ke=se[ae];ke.x=k[0]*(G()+.5)>>1,ke.y=k[1]*(G()+.5)>>1,f(M,ke,se,ae),ke.hasText&&ee(H,ke,W)&&(oe.push(ke),q.call("word",K,ke),W?p(W,ke):W=[{x:ke.x+ke.x0,y:ke.y+ke.y0},{x:ke.x+ke.x1,y:ke.y+ke.y1}],ke.x-=k[0]>>1,ke.y-=k[1]>>1)}ae>=Z&&(K.stop(),q.call("end",K,oe,W))}},K.stop=function(){Q&&(clearInterval(Q),Q=null);for(const M of P)delete M.sprite;return K};function Y(M){const H=M.getContext("2d",{willReadFrequently:!0});M.width=M.height=1;const W=Math.sqrt(H.getImageData(0,0,1,1).data.length>>2);return M.width=(n<<5)/W,M.height=a/W,H.fillStyle=H.strokeStyle="red",{context:H,ratio:W}}function ee(M,H,W){k[0],k[1];for(var Z=H.x,ae=H.y,oe=Math.sqrt(k[0]*k[0]+k[1]*k[1]),se=T(k),ce=G()<.5?1:-1,de=-ce,ke,re,_e;(ke=se(de+=ce))&&(re=~~ke[0],_e=~~ke[1],!(Math.min(Math.abs(re),Math.abs(_e))>=oe));)if(H.x=Z+re,H.y=ae+_e,!(H.x+H.x0<0||H.y+H.y0<0||H.x+H.x1>k[0]||H.y+H.y1>k[1])&&(!W||g(H,W))&&!h(H,M,k[0])){for(var Ne=H.sprite,Se=H.width>>5,he=k[0]>>5,Be=H.x-(Se<<4),Le=Be&127,Ge=32-Le,xe=H.y1-H.y0,Ie=(H.y+H.y0)*he+(Be>>5),De,Ve=0;Ve<xe;Ve++){De=0;for(var We=0;We<=Se;We++)M[Ie+We]|=De<<Ge|(We<Se?(De=Ne[Ve*Se+We])>>>Le:0);Ie+=he}return!0}return!1}return K.timeInterval=function(M){return arguments.length?(R=M??1/0,K):R},K.words=function(M){return arguments.length?(P=M,K):P},K.size=function(M){return arguments.length?(k=[+M[0],+M[1]],K):k},K.font=function(M){return arguments.length?(j=E(M),K):j},K.fontStyle=function(M){return arguments.length?(N=E(M),K):N},K.fontWeight=function(M){return arguments.length?(I=E(M),K):I},K.rotate=function(M){return arguments.length?(L=E(M),K):L},K.text=function(M){return arguments.length?(B=E(M),K):B},K.spiral=function(M){return arguments.length?(T=r[M]||M,K):T},K.fontSize=function(M){return arguments.length?(C=E(M),K):C},K.padding=function(M){return arguments.length?(O=E(M),K):O},K.random=function(M){return arguments.length?(G=M,K):G},K.on=function(){var M=q.on.apply(q,arguments);return M===q?K:M},K};function s(k){return k.text}function i(){return"serif"}function o(){return"normal"}function c(k){return Math.sqrt(k.value)}function u(){return(~~(random()*6)-3)*30}function d(){return 1}function f(k,B,j,C){if(!B.sprite){var N=k.context,I=k.ratio;N.clearRect(0,0,(n<<5)/I,a/I);var L=0,O=0,T=0,P=j.length;for(--C;++C<P;){B=j[C],N.save(),N.font=B.style+" "+B.weight+" "+~~((B.size+1)/I)+"px "+B.font;const ke=N.measureText(B.text),re=-Math.floor(ke.width/2);let _e=(ke.width+1)*I,Ne=B.size<<1;if(B.rotate){var R=Math.sin(B.rotate*t),q=Math.cos(B.rotate*t),Q=_e*q,G=_e*R,K=Ne*q,z=Ne*R;_e=Math.max(Math.abs(Q+z),Math.abs(Q-z))+31>>5<<5,Ne=~~Math.max(Math.abs(G+K),Math.abs(G-K))}else _e=_e+31>>5<<5;if(Ne>T&&(T=Ne),L+_e>=n<<5&&(L=0,O+=T,T=0),O+Ne>=a)break;N.translate((L+(_e>>1))/I,(O+(Ne>>1))/I),B.rotate&&N.rotate(B.rotate*t),N.fillText(B.text,re,0),B.padding&&(N.lineWidth=2*B.padding,N.strokeText(B.text,re,0)),N.restore(),B.width=_e,B.height=Ne,B.xoff=L,B.yoff=O,B.x1=_e>>1,B.y1=Ne>>1,B.x0=-B.x1,B.y0=-B.y1,B.hasText=!0,L+=_e}for(var Y=N.getImageData(0,0,(n<<5)/I,a/I).data,ee=[];--C>=0;)if(B=j[C],!!B.hasText){for(var M=B.width,H=M>>5,W=B.y1-B.y0,Z=0;Z<W*H;Z++)ee[Z]=0;if(L=B.xoff,L==null)return;O=B.yoff;for(var ae=0,oe=-1,se=0;se<W;se++){for(var Z=0;Z<M;Z++){var ce=H*se+(Z>>5),de=Y[(O+se)*(n<<5)+(L+Z)<<2]?1<<31-Z%32:0;ee[ce]|=de,ae|=de}ae?oe=se:(B.y0++,W--,se--,O++)}B.y1=B.y0+oe,B.sprite=ee.slice(0,(B.y1-B.y0)*H)}}}function h(k,B,j){j>>=5;for(var C=k.sprite,N=k.width>>5,I=k.x-(N<<4),L=I&127,O=32-L,T=k.y1-k.y0,P=(k.y+k.y0)*j+(I>>5),R,q=0;q<T;q++){R=0;for(var Q=0;Q<=N;Q++)if((R<<O|(Q<N?(R=C[q*N+Q])>>>L:0))&B[P+Q])return!0;P+=j}return!1}function p(k,B){var j=k[0],C=k[1];B.x+B.x0<j.x&&(j.x=B.x+B.x0),B.y+B.y0<j.y&&(j.y=B.y+B.y0),B.x+B.x1>C.x&&(C.x=B.x+B.x1),B.y+B.y1>C.y&&(C.y=B.y+B.y1)}function g(k,B){return k.x+k.x1>B[0].x&&k.x+k.x0<B[1].x&&k.y+k.y1>B[0].y&&k.y+k.y0<B[1].y}function x(k){var B=k[0]/k[1];return function(j){return[B*(j*=.1)*Math.cos(j),j*Math.sin(j)]}}function v(k){var B=4,j=B*k[0]/k[1],C=0,N=0;return function(I){var L=I<0?-1:1;switch(Math.sqrt(1+4*L*I)-L&3){case 0:C+=j;break;case 1:N+=B;break;case 2:C-=j;break;default:N-=B;break}return[C,N]}}function y(k){for(var B=[],j=-1;++j<k;)B[j]=0;return B}function w(){return document.createElement("canvas")}function E(k){return typeof k=="function"?k:function(){return k}}return wO}var cgt=lgt();const ugt=Tl(cgt),dgt=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),fgt=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Agt=()=>l.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),hgt=e=>{const[t,r]=S.useState([]),[n,a]=S.useState(!0),[s,i]=S.useState(null),o=S.useMemo(()=>(e==null?void 0:e.profile)==="SUBDIRECCION",[e]);return S.useEffect(()=>{if(!(e!=null&&e.email)&&!(e!=null&&e.id)){i("Usuario no autenticado"),a(!1);return}try{let c;const u=d=>{r(d),a(!1),i(null)};if(o)c=Zmt(u);else{const d=e.email||e.id||"";c=egt(u,d)}return c}catch(c){i(c instanceof Error?c.message:"Error al conectar con la base de datos"),a(!1)}},[e,o]),{planificaciones:t,loading:n,error:s,canViewAllPlans:o}},pgt=({plan:e,onClose:t})=>l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:t,children:l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fade-in-up",onClick:r=>r.stopPropagation(),children:[l.jsxs("header",{className:"p-4 border-b dark:border-slate-700 flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:e.nombreUnidad}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.asignatura," | ",e.nivel," | Autor: ",e.autor||"N/A"]})]}),l.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:l.jsx(fgt,{})})]}),l.jsxs("main",{className:"p-6 flex-1 overflow-y-auto space-y-6",children:[l.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Objetivo de Aprendizaje:"})," ",e.objetivosAprendizaje]}),l.jsxs("p",{className:"mt-2",children:[l.jsx("strong",{children:"Indicadores de Evaluación:"})," ",e.indicadoresEvaluacion]}),l.jsx("div",{className:"mt-3",children:l.jsxs("span",{className:"inline-block bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 px-3 py-1 rounded-full text-sm font-semibold",children:["Avance de la Unidad: ",typeof e.progreso=="number"?`${e.progreso}%`:"No registrado"]})})]}),l.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 border-b pb-2",children:["Secuencia de Clases (",e.detallesLeccion.length,")"]}),l.jsx("div",{className:"space-y-3 max-h-[30vh] overflow-y-auto pr-2",children:e.detallesLeccion.map((r,n)=>l.jsxs("div",{className:"p-3 border dark:border-slate-700 rounded-md bg-white dark:bg-slate-800",children:[l.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:["Clase ",n+1,": ",r.actividades]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 mt-2 text-sm text-slate-600 dark:text-slate-400",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Objetivo:"})," ",r.objetivosAprendizaje]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Contenidos:"})," ",r.contenidosConceptuales]})]})]},n))}),e.reflexionUnidad&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 border-b pb-2 mt-6",children:"Reflexión Docente"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-slate-100 dark:bg-slate-800 rounded-lg mt-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Habilidades Desarrolladas (Priorizadas)"}),e.reflexionUnidad.ordenHabilidades&&e.reflexionUnidad.ordenHabilidades.length>0?l.jsx("ul",{className:"space-y-2",children:e.reflexionUnidad.ordenHabilidades.map((r,n)=>l.jsxs("li",{className:"p-2 bg-white dark:bg-slate-700 rounded-md flex items-center gap-2 shadow-sm",children:[l.jsxs("span",{className:"font-bold text-amber-500",children:[n+1,"."]})," ",r]},r))}):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No priorizadas."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Fortalezas"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-700 rounded-md",children:e.reflexionUnidad.fortalezas||"N/A"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Mejoras"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-700 rounded-md",children:e.reflexionUnidad.mejoras||"N/A"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Desafíos"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 p-2 bg-white dark:bg-slate-700 rounded-md",children:e.reflexionUnidad.debilidades||"N/A"})]})]})]})]})]})]})}),fee=["Recordar","Comprender","Aplicar","Analizar","Evaluar","Crear"],mgt=["1º Medio","2º Medio","3º Medio","4º Medio"],ggt=({words:e})=>{const t=S.useRef(null);return S.useEffect(()=>{if(!e.length||!t.current)return;const r=od(t.current);r.selectAll("*").remove();const n=ugt().size([500,350]).words(e.map(s=>({...s}))).padding(5).rotate(()=>(~~(Math.random()*6)-3)*15).font("Impact").fontSize(s=>Math.sqrt(s.value)*12).on("end",a);n.start();function a(s){r.attr("width",n.size()[0]).attr("height",n.size()[1]).append("g").attr("transform",`translate(${n.size()[0]/2},${n.size()[1]/2})`).selectAll("text").data(s).enter().append("text").style("font-size",i=>`${i.size}px`).style("font-family","Impact").style("fill",(i,o)=>BB(rgt)(o.toString())).attr("text-anchor","middle").attr("transform",i=>`translate(${[i.x,i.y]})rotate(${i.rotate})`).text(i=>i.text)}},[e]),l.jsx("svg",{ref:t})},xgt=({planificaciones:e})=>{const[t,r]=S.useState("todos"),[n,a]=S.useState("todos"),s=S.useMemo(()=>["todos",...Array.from(new Set(e.map(d=>d.asignatura)))],[e]),i=S.useMemo(()=>e.filter(d=>(t==="todos"||d.nivel===t)&&(n==="todos"||d.asignatura===n)&&d.reflexionUnidad),[e,t,n]),o=S.useMemo(()=>{const d=fee.reduce((f,h)=>({...f,[h]:0}),{});return i.forEach(f=>{var h,p;return(p=(h=f.reflexionUnidad)==null?void 0:h.ordenHabilidades)==null?void 0:p.forEach((g,x)=>{d[g]!==void 0&&(d[g]+=fee.length-x)})}),Object.entries(d).map(([f,h])=>({text:f,value:h})).sort((f,h)=>h.value-f.value)},[i]),c=S.useMemo(()=>{const d=new Set(["y","e","o","u","de","la","el","los","las","un","una","unos","unas","a","con","que","se","del","al","no","si","fue","es","son","muy","mas","lo","como","sus","para","por","este","esta","actividad","clase","alumnos","estudiantes"]),h=(i.map(p=>{var g,x;return`${((g=p.reflexionUnidad)==null?void 0:g.fortalezas)||""} ${((x=p.reflexionUnidad)==null?void 0:x.debilidades)||""}`}).join(" ").toLowerCase().match(/\b(\w{4,})\b/g)||[]).reduce((p,g)=>(d.has(g)||(p[g]=(p[g]||0)+1),p),{});return Object.entries(h).map(([p,g])=>({text:p,value:g})).sort((p,g)=>g.value-p.value).slice(0,50)},[i]),u="w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600";return l.jsxs("div",{className:"animate-fade-in",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),l.jsxs("select",{value:t,onChange:d=>r(d.target.value),className:u,children:[l.jsx("option",{value:"todos",children:"Todos los Niveles"}),mgt.map(d=>l.jsx("option",{value:d,children:d},d))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),l.jsx("select",{value:n,onChange:d=>a(d.target.value),className:u,children:s.map(d=>l.jsx("option",{value:d,children:d==="todos"?"Todas las Asignaturas":d},d))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"p-6 border dark:border-slate-700 rounded-lg",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Ranking de Habilidades"}),o.every(d=>d.value===0)?l.jsx("p",{className:"text-center py-10 text-slate-500",children:"No hay datos"}):l.jsx("ul",{className:"space-y-3",children:o.map((d,f)=>l.jsxs("li",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"font-bold text-lg text-amber-500 w-6 text-center",children:f+1}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:d.text}),l.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${d.value/(o[0].value||1)*100}%`}})})]})]},d.text))})]}),l.jsxs("div",{className:"p-6 border dark:border-slate-700 rounded-lg flex flex-col items-center justify-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Nube de Contenidos"}),c.length>0?l.jsx(ggt,{words:c}):l.jsx("p",{className:"text-center py-10 text-slate-500",children:"No hay datos suficientes"})]})]})]})},vgt=({currentUser:e})=>{const{planificaciones:t,loading:r,error:n,canViewAllPlans:a}=hgt(e),[s,i]=S.useState("seguimiento"),[o,c]=S.useState("1º"),[u,d]=S.useState(null),[f,h]=S.useState(null),p=S.useMemo(()=>{const v={"1º":"1º Medio","2º":"2º Medio","3º":"3º Medio","4º":"4º Medio"};return t.filter(y=>y.nivel===v[o]&&y.tipo==="Unidad")},[t,o]),g=[{key:"1º",label:"1º Medio"},{key:"2º",label:"2º Medio"},{key:"3º",label:"3º Medio"},{key:"4º",label:"4º Medio"}];if(!(e!=null&&e.id))return l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{children:"Usuario no autenticado."})});if(r)return l.jsxs("div",{className:"text-center py-8 flex justify-center items-center gap-3",children:[l.jsx(Agt,{}),l.jsx("span",{children:"Cargando planificaciones..."})]});if(n)return l.jsx("div",{className:"text-center py-8",children:l.jsxs("p",{className:"text-red-500",children:["Error: ",n]})});const x=()=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:g.map(v=>l.jsx("button",{onClick:()=>c(v.key),className:`${o===v.key?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-slate-500 hover:text-slate-700"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg`,children:v.label},v.key))})}),p.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-slate-500",children:"No hay planificaciones de unidad para este nivel."})}):l.jsx("div",{className:"space-y-4",children:po.map(v=>{const y=p.filter(E=>E.asignatura===v);if(y.length===0)return null;const w=u===v;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[l.jsxs("button",{onClick:()=>d(w?null:v),className:"w-full flex justify-between items-center p-4 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:v}),l.jsxs("span",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 px-2 py-1 rounded-full text-xs font-medium",children:[y.length," unidad",y.length>1?"es":""]})]}),l.jsx("span",{className:`transform transition-transform ${w?"rotate-180":""}`,children:l.jsx(dgt,{})})]}),w&&l.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:l.jsx("ul",{className:"space-y-3",children:y.map(E=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>h(E),className:"w-full text-left p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 group",children:[l.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200 group-hover:text-amber-600",children:E.nombreUnidad}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Autor: ",E.autor||"N/A"]})]})},E.id))})})]},v)})})]});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 md:p-8 rounded-xl shadow-md animate-fade-in max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Seguimiento Curricular"}),a&&l.jsx("div",{className:"text-sm text-amber-600 font-medium",children:"👑 Vista administrativa"})]}),l.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:l.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[l.jsx("button",{onClick:()=>i("seguimiento"),className:`${s==="seguimiento"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} py-4 px-1 border-b-2 font-medium text-lg`,children:"Seguimiento por Nivel"}),l.jsx("button",{onClick:()=>i("analisis"),className:`${s==="analisis"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700"} py-4 px-1 border-b-2 font-medium text-lg`,children:"Análisis de Reflexiones"})]})}),s==="seguimiento"&&x(),s==="analisis"&&l.jsx(xgt,{planificaciones:t.filter(v=>v.tipo==="Unidad")})]}),f&&l.jsx(pgt,{plan:f,onClose:()=>h(null)})]})},Fj="analisisTaxonomicos",bgt=async()=>{try{const e=zt(wt(Lr,Fj),wr("uploadDate","desc"));return(await qn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error al obtener todos los análisis:",e),new Error("No se pudieron cargar los análisis taxonómicos")}},ygt=async e=>{if(!e)return[];try{const t=zt(wt(Lr,Fj),Gr("userId","==",e),wr("uploadDate","desc"));return(await qn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error al obtener análisis por usuario:",t),new Error("No se pudieron cargar los análisis del usuario")}},wgt=async e=>{try{return{id:(await Bn(wt(Lr,Fj),e)).id,...e}}catch(t){throw console.error("Error al crear análisis:",t),new Error("No se pudo crear el análisis taxonómico")}},Cgt=async e=>{try{const t=dr(Lr,Fj,e);await hs(t)}catch(t){throw console.error("Error al eliminar análisis:",t,"ID:",e),new Error("No se pudo eliminar el análisis taxonómico")}},Aee=["1º Medio","2º Medio","3º Medio","4º Medio"],Bh=["Recordar","Comprender","Aplicar","Analizar","Evaluar","Crear"],e1={Recordar:"bg-sky-500",Comprender:"bg-blue-500",Aplicar:"bg-green-500",Analizar:"bg-yellow-500",Evaluar:"bg-orange-500",Crear:"bg-red-500"},Egt=()=>l.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Sgt=({currentUser:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState(!1),[s,i]=S.useState(null),[o,c]=S.useState(null),[u,d]=S.useState(""),[f,h]=S.useState(!1),[p,g]=S.useState(null),[x,v]=S.useState(null),[y,w]=S.useState(""),[E,k]=S.useState(""),[B,j]=S.useState(""),[C,N]=S.useState(""),[I,L]=S.useState("resumen"),O=S.useCallback(async()=>{if(e!=null&&e.id){a(!0);try{const z=e.profile==="SUBDIRECCION"?await bgt():await ygt(e.id);r(z),i(null)}catch(z){console.error("Error al cargar análisis:",z),i("No se pudieron cargar los análisis.")}finally{a(!1)}}},[e]);S.useEffect(()=>{O()},[O]);const T=async z=>{var ee;const Y=(ee=z.target.files)==null?void 0:ee[0];if(Y){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(Y.type)){i("Por favor, suba un archivo PDF o DOCX válido.");return}g(Y),d(Y.name),i(null);const H=new FileReader;H.onloadend=()=>{var Z;const W=(Z=H.result)==null?void 0:Z.split(",")[1];if(!W){i("No se pudo procesar el archivo. Puede que esté vacío o corrupto."),v(null);return}v({mimeType:Y.type,data:W})},H.onerror=()=>i("Error al leer el archivo."),H.readAsDataURL(Y)}},P=async()=>{if(!u.trim()||!x){i("Debe subir un documento y asignarle un nombre para analizar.");return}if(!y||!E){i("Seleccione Nivel y Asignatura antes de analizar.");return}h(!0),i(null);const z=`
            Eres un experto en pedagogía y en la Taxonomía de Bloom. Analiza el siguiente documento de una evaluación educativa.
            Tu tarea es:
            1. Identificar cada pregunta o ítem de evaluación en el documento.
            2. Clasificar cada pregunta en uno de los seis niveles de la Taxonomía de Bloom: Recordar, Comprender, Aplicar, Analizar, Evaluar, Crear.
            3. Devolver un objeto JSON estructurado con los resultados. El JSON debe ser válido.
        `,Y={type:"object",properties:{analysisResults:{type:"array",items:{type:"object",properties:{question:{type:"string"},habilidadBloom:{type:"string",enum:Bh}},required:["question","habilidadBloom"]}},summary:{type:"object",properties:Bh.reduce((ee,M)=>({...ee,[M]:{type:"number"}}),{})}},required:["analysisResults","summary"]};try{Fb("Análisis Taxonómico",e);const ee="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE",H=new zs(ee).getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{responseMimeType:"application/json",responseSchema:Y}}),W={inlineData:{mimeType:x.mimeType,data:x.data}},ae=(await H.generateContent([z,W])).response.text();let oe;try{oe=JSON.parse(ae)}catch(de){throw console.error("Error al parsear JSON:",de),console.error("Respuesta recibida (no es JSON válido):",ae),new Error("La respuesta de la IA no tuvo un formato válido. Intente de nuevo.")}const se={documentName:u,uploadDate:new Date().toISOString(),userId:e.id,analysisResults:oe.analysisResults,summary:oe.summary,nivel:y,asignatura:E},ce=await wgt(se);await O(),c(ce),d(""),g(null),v(null),w(""),k("")}catch(ee){console.error(ee);const M=ee instanceof Error?ee.message:"Hubo un error al analizar el documento.";i(M)}finally{h(!1)}},R=async z=>{if(window.confirm("¿Está seguro de eliminar este análisis?"))try{await Cgt(z),await O(),(o==null?void 0:o.id)===z&&c(null)}catch{i("No se pudo eliminar el análisis.")}},q=S.useMemo(()=>t.filter(z=>{const Y=B?z.nivel===B:!0,ee=C?z.asignatura===C:!0;return Y&&ee}),[t,B,C]),Q=S.useMemo(()=>{const z={Recordar:0,Comprender:0,Aplicar:0,Analizar:0,Evaluar:0,Crear:0};q.forEach(ee=>{Bh.forEach(M=>{var W;const H=((W=ee.summary)==null?void 0:W[M])||0;z[M]+=H})});const Y=Object.values(z).reduce((ee,M)=>ee+M,0);return{acc:z,total:Y}},[q]),G=S.useMemo(()=>{const z=new Map;q.forEach(ee=>{const M=ee.asignatura||"Sin asignatura";z.has(M)||z.set(M,{Recordar:0,Comprender:0,Aplicar:0,Analizar:0,Evaluar:0,Crear:0});const H=z.get(M);Bh.forEach(W=>{var Z;H[W]+=((Z=ee.summary)==null?void 0:Z[W])||0})});const Y=Array.from(z.entries()).map(([ee,M])=>({asignatura:ee,counts:M,total:Object.values(M).reduce((H,W)=>H+W,0)}));return Y.sort((ee,M)=>M.total-ee.total),Y},[q]),K=S.useMemo(()=>o?Object.values(o.summary).reduce((z,Y)=>z+(Y||0),0):0,[o]);return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"Análisis Taxonomico de Evaluaciones"}),s&&l.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4",children:s}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Analizar Nuevo Documento"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Subir Archivo (.pdf, .docx)"}),l.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md",children:l.jsxs("div",{className:"space-y-1 text-center",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:l.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),l.jsxs("div",{className:"flex text-sm text-slate-600 dark:text-slate-400",children:[l.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-amber-600 hover:text-amber-500",children:[l.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:T,accept:".pdf,.doc,.docx"}),l.jsx("span",{children:"Cargue un archivo"})]}),l.jsx("p",{className:"pl-1",children:"o arrástrelo aquí"})]}),l.jsx("p",{className:"text-xs text-slate-500",children:p?p.name:"PDF, DOCX hasta 10MB"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nivel"}),l.jsxs("select",{value:y,onChange:z=>w(z.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Seleccione"}),Aee.map(z=>l.jsx("option",{value:z,children:z},z))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Asignatura"}),l.jsxs("select",{value:E,onChange:z=>k(z.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Seleccione"}),po.map(z=>l.jsx("option",{value:z,children:z},z))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre del Documento"}),l.jsx("input",{type:"text",id:"documentName",value:u,onChange:z=>d(z.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600"})]}),l.jsx("button",{onClick:P,disabled:f||!x,className:"w-full bg-slate-800 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 disabled:bg-slate-400 flex items-center justify-center",children:f?l.jsx(Egt,{}):"Analizar con IA"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Historial de Análisis"}),n?l.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):t.length===0?l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4 rounded-lg text-sm",children:"No hay análisis guardados."}):l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:t.map(z=>l.jsxs("button",{onClick:()=>c(z),className:`w-full text-left p-3 rounded-md border ${(o==null?void 0:o.id)===z.id?"bg-amber-100 border-amber-300":"bg-slate-50 hover:bg-slate-100"}`,children:[l.jsx("p",{className:"font-semibold truncate",children:z.documentName}),l.jsx("p",{className:"text-xs text-slate-500",children:new Date(z.uploadDate).toLocaleString("es-CL")}),(z.nivel||z.asignatura)&&l.jsxs("p",{className:"text-xs text-slate-500",children:[z.nivel||"Nivel s/i"," • ",z.asignatura||"Asignatura s/i"]})]},z.id))})]})]}),l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Nivel"}),l.jsxs("select",{value:B,onChange:z=>j(z.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Todos"}),Aee.map(z=>l.jsx("option",{value:z,children:z},z))]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filtrar por Asignatura"}),l.jsxs("select",{value:C,onChange:z=>N(z.target.value),className:"w-full border-slate-300 rounded-md shadow-sm dark:bg-slate-700 dark:border-slate-600",children:[l.jsx("option",{value:"",children:"Todas"}),po.map(z=>l.jsx("option",{value:z,children:z},z))]})]}),l.jsx("button",{type:"button",onClick:()=>{j(""),N("")},className:"px-4 py-2 rounded-md bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-800 dark:text-slate-200 font-semibold",children:"Limpiar filtros"})]})}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md",children:[l.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 px-4",children:l.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[l.jsx("button",{onClick:()=>L("resumen"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${I==="resumen"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Resumen Global"}),l.jsx("button",{onClick:()=>L("comparacion"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${I==="comparacion"?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Comparación por Asignatura"})]})}),I==="resumen"?l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Resumen Global de Habilidades"}),l.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[q.length," análisis considerados"]})]}),l.jsx("div",{className:"space-y-3",children:Bh.map(z=>{const Y=Q.acc[z],ee=Q.total>0?Y/Q.total*100:0;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[l.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:z}),l.jsxs("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:[Y," (",ee.toFixed(0),"%)"]})]}),l.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:l.jsx("div",{className:`${e1[z]} h-4 rounded-full`,style:{width:`${ee}%`}})})]},z)})}),l.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-3",children:Bh.map(z=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg border dark:border-slate-700",children:[l.jsx("span",{className:"text-sm",children:z}),l.jsx("span",{className:`text-xs font-bold text-white px-2 py-1 rounded ${e1[z]}`,children:Q.acc[z]})]},z))})]}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:"Comparación por Asignatura"}),l.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[G.length," asignaturas comparadas"]})]}),G.length===0?l.jsx("div",{className:"text-sm text-slate-500",children:"No hay datos con los filtros actuales."}):l.jsx("div",{className:"space-y-5",children:G.map(z=>{const Y=z.total||1;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[l.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:z.asignatura}),l.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[z.total," ítems"]})]}),l.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-5 overflow-hidden flex",children:Bh.map(ee=>{const M=z.counts[ee]||0,H=M/Y*100;return l.jsx("div",{className:`${e1[ee]} h-5`,style:{width:`${H}%`},title:`${ee}: ${M} (${H.toFixed(0)}%)`},ee)})}),l.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:Bh.map(ee=>l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300",children:[l.jsx("span",{className:`inline-block w-3 h-3 rounded ${e1[ee]}`}),l.jsx("span",{children:ee})]},ee))})]},z.asignatura)})})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:o?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:o.documentName}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Analizado el ",new Date(o.uploadDate).toLocaleString("es-CL"),(o.nivel||o.asignatura)&&l.jsxs(l.Fragment,{children:[" ","• ",o.nivel||"Nivel s/i"," • ",o.asignatura||"Asignatura s/i"]})]})]}),l.jsx("button",{onClick:()=>R(o.id),className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:"Eliminar"})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:["Consolidado del Documento (",K," preguntas)"]}),l.jsx("div",{className:"space-y-3",children:Bh.map(z=>{const Y=o.summary[z]||0,ee=K>0?Y/K*100:0;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[l.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:z}),l.jsxs("span",{className:"font-semibold text-slate-500 dark:text-slate-400",children:[Y," (",ee.toFixed(0),"%)"]})]}),l.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:l.jsx("div",{className:`${e1[z]} h-4 rounded-full`,style:{width:`${ee}%`}})})]},z)})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Detalle del Análisis"}),l.jsx("div",{className:"overflow-x-auto max-h-96 border rounded-lg dark:border-slate-700",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase w-3/4",children:"Pregunta / Ítem"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Habilidad (Bloom)"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:o.analysisResults.map((z,Y)=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:z.question}),l.jsx("td",{className:"px-4 py-3 text-sm",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full text-white ${e1[z.habilidadBloom]}`,children:z.habilidadBloom})})]},Y))})]})})]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:"Resultados del Análisis"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mt-2",children:"Realice un nuevo análisis o seleccione uno del historial para ver los resultados aquí."})]})})]})]})]})},Vk="empresas_practicas",_gt="usuarios",nQ="rutas_supervision",aQ=e=>{const t=e.data();return{id:e.id,...t}};async function Ngt(e){const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=AIzaSyBkpVIvmoJAoD1QlZOZBln0aM6bPpBuGy4&region=CL`;try{const a=await(await fetch(r)).json();return a.status==="OK"&&a.results[0]?a.results[0].geometry.location:null}catch(n){return console.error("Error en la llamada a la API de Geocodificación:",n),null}}const kgt=e=>{const t=zt(wt(mt,Vk),wr("nombre","asc"));return br(t,r=>{const n=r.docs.map(a=>aQ(a));e(n)},r=>console.error("Error al suscribirse a empresas:",r))},Tgt=async e=>{const t=e.calificaciones.reduce((n,a)=>n+(a.score||0),0),r={...e,puntajeTotal:t};if(e.direccion){const n=await Ngt(e.direccion);n&&(r.coordenadas=n)}if("id"in e&&e.id){const{id:n,...a}=r,s=dr(mt,Vk,n);return await Gi(s,a,{merge:!0}),n}else return(await Bn(wt(mt,Vk),{...r,createdAt:Vi()})).id},Bgt=async e=>{const t=dr(mt,Vk,e);await hs(t)},jgt=e=>{const t=zt(wt(mt,_gt),Gr("profile","==","PROFESORADO"),wr("nombreCompleto","asc"));return br(t,r=>{const n=r.docs.map(a=>aQ(a));e(n)},r=>console.error("Error al suscribirse a profesores:",r))},Igt=async e=>(await Bn(wt(mt,nQ),{...e,createdAt:Vi()})).id,Fgt=e=>{const t=zt(wt(mt,nQ),wr("createdAt","desc"));return br(t,r=>{const n=r.docs.map(a=>aQ(a));e(n)},r=>console.error("Error al suscribirse a rutas guardadas:",r))},Ogt=async e=>{const t=dr(mt,nQ,e);await hs(t)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ox=function(){return ox=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ox.apply(this,arguments)};function Dgt(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(u){try{c(n.next(u))}catch(d){s(d)}}function o(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){var d;u.done?a(u.value):(d=u.value,d instanceof r?d:new r(function(f){f(d)})).then(i,o)}c((n=n.apply(e,[])).next())})}function Pgt(e,t){var r,n,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return function(d){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&d[0]?n.return:d[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,d[1])).done)return a;switch(n=0,a&&(d=[2&d[0],a.value]),d[0]){case 0:case 1:a=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,n=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!((a=a.length>0&&a[a.length-1])||d[0]!==6&&d[0]!==2)){i=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){i.label=d[1];break}if(d[0]===6&&i.label<a[1]){i.label=a[1],a=d;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(d);break}a[2]&&i.ops.pop(),i.trys.pop();continue}d=t.call(e,i)}catch(f){d=[6,f],n=0}finally{r=a=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([c,u])}}}function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vr.apply(this,arguments)}function lx(e){return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(e)}function cpe(e){var t=function(r,n){if(lx(r)!=="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,n);if(lx(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return lx(t)==="symbol"?t:String(t)}function j1(e,t,r){return(t=cpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hee(Object(r),!0).forEach(function(n){j1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cpe(n.key),n)}}function WR(e,t){return WR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},WR(e,t)}function zk(e){return zk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zk(e)}function Rgt(e,t){if(t&&(lx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Lgt(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=zk(e);if(t){var a=zk(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Rgt(this,r)}}function XR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function upe(e,t){if(e){if(typeof e=="string")return XR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?XR(e,t):void 0}}function sQ(e){return function(t){if(Array.isArray(t))return XR(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||upe(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Mgt=function(){function e(r){var n=this;this._insertTag=function(a){var s;s=n.tags.length===0?n.insertionPoint?n.insertionPoint.nextSibling:n.prepend?n.container.firstChild:n.before:n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(s){var i=document.createElement("style");return i.setAttribute("data-emotion",s.key),s.nonce!==void 0&&i.setAttribute("nonce",s.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(s){if(s.sheet)return s.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===s)return document.styleSheets[i]}(n);try{a.insertRule(r,a.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Wu="-ms-",mee="-moz-",oa="-webkit-",iQ="decl",dpe="@keyframes",Ugt=Math.abs,Oj=String.fromCharCode,Qgt=Object.assign;function fpe(e){return e.trim()}function ha(e,t,r){return e.replace(t,r)}function YR(e,t){return e.indexOf(t)}function Fo(e,t){return 0|e.charCodeAt(t)}function lE(e,t,r){return e.slice(t,r)}function bA(e){return e.length}function oQ(e){return e.length}function w5(e,t){return t.push(e),e}var Dj=1,Gb=1,Ape=0,Tc=0,Ti=0,jy="";function Pj(e,t,r,n,a,s,i){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:Dj,column:Gb,length:i,return:""}}function Gw(e,t){return Qgt(Pj("",null,null,"",null,null,0),e,{length:-e.length},t)}function Au(){return Ti=Tc<Ape?Fo(jy,Tc++):0,Gb++,Ti===10&&(Gb=1,Dj++),Ti}function UA(){return Fo(jy,Tc)}function NN(){return Tc}function hS(e,t){return lE(jy,e,t)}function cE(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hpe(e){return Dj=Gb=1,Ape=bA(jy=e),Tc=0,[]}function ppe(e){return jy="",e}function kN(e){return fpe(hS(Tc-1,JR(e===91?e+2:e===40?e+1:e)))}function Hgt(e){for(;(Ti=UA())&&Ti<33;)Au();return cE(e)>2||cE(Ti)>3?"":" "}function $gt(e,t){for(;--t&&Au()&&!(Ti<48||Ti>102||Ti>57&&Ti<65||Ti>70&&Ti<97););return hS(e,NN()+(t<6&&UA()==32&&Au()==32))}function JR(e){for(;Au();)switch(Ti){case e:return Tc;case 34:case 39:e!==34&&e!==39&&JR(Ti);break;case 40:e===41&&JR(e);break;case 92:Au()}return Tc}function Vgt(e,t){for(;Au()&&e+Ti!==57&&(e+Ti!==84||UA()!==47););return"/*"+hS(t,Tc-1)+"*"+Oj(e===47?e:Au())}function zgt(e){for(;!cE(UA());)Au();return hS(e,Tc)}function gee(e){return ppe(TN("",null,null,null,[""],e=hpe(e),0,[0],e))}function TN(e,t,r,n,a,s,i,o,c){for(var u=0,d=0,f=i,h=0,p=0,g=0,x=1,v=1,y=1,w=0,E="",k=a,B=s,j=n,C=E;v;)switch(g=w,w=Au()){case 40:if(g!=108&&Fo(C,f-1)==58){YR(C+=ha(kN(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:C+=kN(w);break;case 9:case 10:case 13:case 32:C+=Hgt(g);break;case 92:C+=$gt(NN()-1,7);continue;case 47:switch(UA()){case 42:case 47:w5(Ggt(Vgt(Au(),NN()),t,r),c);break;default:C+="/"}break;case 123*x:o[u++]=bA(C)*y;case 125*x:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+d:p>0&&bA(C)-f&&w5(p>32?vee(C+";",n,r,f-1):vee(ha(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(w5(j=xee(C,t,r,u,d,a,o,E,k=[],B=[],f),s),w===123)if(d===0)TN(C,t,j,j,k,s,f,o,B);else switch(h===99&&Fo(C,3)===110?100:h){case 100:case 109:case 115:TN(e,j,j,n&&w5(xee(e,j,j,0,0,a,o,E,a,k=[],f),B),a,B,f,o,n?k:B);break;default:TN(C,j,j,j,[""],B,0,o,B)}}u=d=p=0,x=y=1,E=C="",f=i;break;case 58:f=1+bA(C),p=g;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&(Ti=Tc>0?Fo(jy,--Tc):0,Gb--,Ti===10&&(Gb=1,Dj--),Ti==125))continue}switch(C+=Oj(w),w*x){case 38:y=d>0?1:(C+="\f",-1);break;case 44:o[u++]=(bA(C)-1)*y,y=1;break;case 64:UA()===45&&(C+=kN(Au())),h=UA(),d=f=bA(E=C+=zgt(NN())),w++;break;case 45:g===45&&bA(C)==2&&(x=0)}}return s}function xee(e,t,r,n,a,s,i,o,c,u,d){for(var f=a-1,h=a===0?s:[""],p=oQ(h),g=0,x=0,v=0;g<n;++g)for(var y=0,w=lE(e,f+1,f=Ugt(x=i[g])),E=e;y<p;++y)(E=fpe(x>0?h[y]+" "+w:ha(w,/&\f/g,h[y])))&&(c[v++]=E);return Pj(e,t,r,a===0?"rule":o,c,u,d)}function Ggt(e,t,r){return Pj(e,t,r,"comm",Oj(Ti),lE(e,2,-2),0)}function vee(e,t,r,n){return Pj(e,t,r,iQ,lE(e,0,n),lE(e,n+1,-1),n)}function cx(e,t){for(var r="",n=oQ(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function bee(e,t,r,n){switch(e.type){case"@import":case iQ:return e.return=e.return||e.value;case"comm":return"";case dpe:return e.return=e.value+"{"+cx(e.children,n)+"}";case"rule":e.value=e.props.join(",")}return bA(r=cx(e.children,n))?e.return=e.value+"{"+r+"}":""}function yee(e){var t=oQ(e);return function(r,n,a,s){for(var i="",o=0;o<t;o++)i+=e[o](r,n,a,s)||"";return i}}function Kgt(e){return function(t){t.root||(t=t.return)&&e(t)}}function mpe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var qgt=function(e,t,r){for(var n=0,a=0;n=a,a=UA(),n===38&&a===12&&(t[r]=1),!cE(a);)Au();return hS(e,Tc)},Wgt=function(e,t){return ppe(function(r,n){var a=-1,s=44;do switch(cE(s)){case 0:s===38&&UA()===12&&(n[a]=1),r[a]+=qgt(Tc-1,n,a);break;case 2:r[a]+=kN(s);break;case 4:if(s===44){r[++a]=UA()===58?"&\f":"",n[a]=r[a].length;break}default:r[a]+=Oj(s)}while(s=Au());return r}(hpe(e),t))},wee=new WeakMap,Xgt=function(e){if(e.type==="rule"&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(!(r=r.parent))return;if((e.props.length!==1||t.charCodeAt(0)===58||wee.get(r))&&!n){wee.set(e,!0);for(var a=[],s=Wgt(t,a),i=r.props,o=0,c=0;o<s.length;o++)for(var u=0;u<i.length;u++,c++)e.props[c]=a[o]?s[o].replace(/&\f/g,i[u]):i[u]+" "+s[o]}}},Ygt=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function gpe(e,t){switch(function(r,n){return 45^Fo(r,0)?(((n<<2^Fo(r,0))<<2^Fo(r,1))<<2^Fo(r,2))<<2^Fo(r,3):0}(e,t)){case 5103:return oa+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oa+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return oa+e+mee+e+Wu+e+e;case 6828:case 4268:return oa+e+Wu+e+e;case 6165:return oa+e+Wu+"flex-"+e+e;case 5187:return oa+e+ha(e,/(\w+).+(:[^]+)/,oa+"box-$1$2-ms-flex-$1$2")+e;case 5443:return oa+e+Wu+"flex-item-"+ha(e,/flex-|-self/,"")+e;case 4675:return oa+e+Wu+"flex-line-pack"+ha(e,/align-content|flex-|-self/,"")+e;case 5548:return oa+e+Wu+ha(e,"shrink","negative")+e;case 5292:return oa+e+Wu+ha(e,"basis","preferred-size")+e;case 6060:return oa+"box-"+ha(e,"-grow","")+oa+e+Wu+ha(e,"grow","positive")+e;case 4554:return oa+ha(e,/([^-])(transform)/g,"$1"+oa+"$2")+e;case 6187:return ha(ha(ha(e,/(zoom-|grab)/,oa+"$1"),/(image-set)/,oa+"$1"),e,"")+e;case 5495:case 3959:return ha(e,/(image-set\([^]*)/,oa+"$1$`$1");case 4968:return ha(ha(e,/(.+:)(flex-)?(.*)/,oa+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+oa+e+e;case 4095:case 3583:case 4068:case 2532:return ha(e,/(.+)-inline(.+)/,oa+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bA(e)-1-t>6)switch(Fo(e,t+1)){case 109:if(Fo(e,t+4)!==45)break;case 102:return ha(e,/(.+:)(.+)-([^]+)/,"$1"+oa+"$2-$3$1"+mee+(Fo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~YR(e,"stretch")?gpe(ha(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Fo(e,t+1)!==115)break;case 6444:switch(Fo(e,bA(e)-3-(~YR(e,"!important")&&10))){case 107:return ha(e,":",":"+oa)+e;case 101:return ha(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oa+(Fo(e,14)===45?"inline-":"")+"box$3$1"+oa+"$2$3$1-ms-$2box$3")+e}break;case 5936:switch(Fo(e,t+11)){case 114:return oa+e+Wu+ha(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return oa+e+Wu+ha(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return oa+e+Wu+ha(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return oa+e+Wu+e+e}return e}var Cee,C5,BN=typeof document<"u",Jgt=BN?void 0:(Cee=function(){return mpe(function(){var e={};return function(t){return e[t]}})},C5=new WeakMap,function(e){if(C5.has(e))return C5.get(e);var t=Cee(e);return C5.set(e,t),t}),Zgt=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case iQ:e.return=gpe(e.value,e.length);break;case dpe:return cx([Gw(e,{value:ha(e.value,"@","@"+oa)})],n);case"rule":if(e.length)return function(a,s){return a.map(s).join("")}(e.props,function(a){switch(function(s,i){return(s=i.exec(s))?s[0]:s}(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cx([Gw(e,{props:[ha(a,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return cx([Gw(e,{props:[ha(a,/:(plac\w+)/,":"+oa+"input-$1")]}),Gw(e,{props:[ha(a,/:(plac\w+)/,":-moz-$1")]}),Gw(e,{props:[ha(a,/:(plac\w+)/,"-ms-input-$1")]})],n)}return""})}}],xpe=function(e){var t=e.key;if(BN&&t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){y.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var n=e.stylisPlugins||Zgt,a,s,i={},o=[];BN&&(a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),E=1;E<w.length;E++)i[w[E]]=!0;o.push(y)}));var c=[Xgt,Ygt];if(BN){var u,d=[bee,Kgt(function(y){u.insert(y)})],f=yee(c.concat(n,d));s=function(y,w,E,k){u=E,cx(gee(y?y+"{"+w.styles+"}":w.styles),f),k&&(v.inserted[w.name]=!0)}}else{var h=[bee],p=yee(c.concat(n,h)),g=Jgt(n)(t),x=function(y,w){var E=w.name;return g[E]===void 0&&(g[E]=cx(gee(y?y+"{"+w.styles+"}":w.styles),p)),g[E]};s=function(y,w,E,k){var B=w.name,j=x(y,w);return v.compat===void 0?(k&&(v.inserted[B]=!0),j):k?void(v.inserted[B]=j):j}}var v={key:t,sheet:new Mgt({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:s};return v.sheet.hydrate(o),v};function ma(e,t,r){return e(r={path:t,exports:{},require:function(n,a){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(a==null&&r.path)}},r.exports),r.exports}var wo=typeof Symbol=="function"&&Symbol.for,ZR=wo?Symbol.for("react.element"):60103,eL=wo?Symbol.for("react.portal"):60106,jN=wo?Symbol.for("react.fragment"):60107,IN=wo?Symbol.for("react.strict_mode"):60108,FN=wo?Symbol.for("react.profiler"):60114,ON=wo?Symbol.for("react.provider"):60109,DN=wo?Symbol.for("react.context"):60110,tL=wo?Symbol.for("react.async_mode"):60111,Gk=wo?Symbol.for("react.concurrent_mode"):60111,PN=wo?Symbol.for("react.forward_ref"):60112,RN=wo?Symbol.for("react.suspense"):60113,ext=wo?Symbol.for("react.suspense_list"):60120,LN=wo?Symbol.for("react.memo"):60115,MN=wo?Symbol.for("react.lazy"):60116,txt=wo?Symbol.for("react.block"):60121,rxt=wo?Symbol.for("react.fundamental"):60117,nxt=wo?Symbol.for("react.responder"):60118,axt=wo?Symbol.for("react.scope"):60119;function Yc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ZR:switch(e=e.type){case tL:case Gk:case jN:case FN:case IN:case RN:return e;default:switch(e=e&&e.$$typeof){case DN:case PN:case MN:case LN:case ON:return e;default:return t}}case eL:return t}}}function Eee(e){return Yc(e)===Gk}var sxt={AsyncMode:tL,ConcurrentMode:Gk,ContextConsumer:DN,ContextProvider:ON,Element:ZR,ForwardRef:PN,Fragment:jN,Lazy:MN,Memo:LN,Portal:eL,Profiler:FN,StrictMode:IN,Suspense:RN,isAsyncMode:function(e){return Eee(e)||Yc(e)===tL},isConcurrentMode:Eee,isContextConsumer:function(e){return Yc(e)===DN},isContextProvider:function(e){return Yc(e)===ON},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ZR},isForwardRef:function(e){return Yc(e)===PN},isFragment:function(e){return Yc(e)===jN},isLazy:function(e){return Yc(e)===MN},isMemo:function(e){return Yc(e)===LN},isPortal:function(e){return Yc(e)===eL},isProfiler:function(e){return Yc(e)===FN},isStrictMode:function(e){return Yc(e)===IN},isSuspense:function(e){return Yc(e)===RN},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===jN||e===Gk||e===FN||e===IN||e===RN||e===ext||typeof e=="object"&&e!==null&&(e.$$typeof===MN||e.$$typeof===LN||e.$$typeof===ON||e.$$typeof===DN||e.$$typeof===PN||e.$$typeof===rxt||e.$$typeof===nxt||e.$$typeof===axt||e.$$typeof===txt)},typeOf:Yc};ma(function(e,t){});var See=ma(function(e){e.exports=sxt}),_ee={};_ee[See.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_ee[See.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var rL=typeof document<"u";function vpe(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):n+=a+" "}),n}var lQ=function(e,t,r){var n=e.key+"-"+t.name;(r===!1||rL===!1&&e.compat!==void 0)&&e.registered[n]===void 0&&(e.registered[n]=t.styles)},cQ=function(e,t,r){lQ(e,t,r);var n=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a="",s=t;do{var i=e.insert(t===s?"."+n:"",s,e.sheet,!0);rL||i===void 0||(a+=i),s=s.next}while(s!==void 0);if(!rL&&a.length!==0)return a}},ixt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oxt=/[A-Z]|^ms/g,lxt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bpe=function(e){return e.charCodeAt(1)===45},Nee=function(e){return e!=null&&typeof e!="boolean"},CO=mpe(function(e){return bpe(e)?e:e.replace(oxt,"-$&").toLowerCase()}),kee=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(lxt,function(r,n,a){return yA={name:n,styles:a,next:yA},n})}return ixt[e]===1||bpe(e)||typeof t!="number"||t===0?t:t+"px"};function rC(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":if(r.anim===1)return yA={name:r.name,styles:r.styles,next:yA},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)yA={name:n.name,styles:n.styles,next:yA},n=n.next;var a=r.styles+";";return a}return function(c,u,d){var f="";if(Array.isArray(d))for(var h=0;h<d.length;h++)f+=rC(c,u,d[h])+";";else for(var p in d){var g=d[p];if(typeof g!="object")u!=null&&u[g]!==void 0?f+=p+"{"+u[g]+"}":Nee(g)&&(f+=CO(p)+":"+kee(p,g)+";");else if(!Array.isArray(g)||typeof g[0]!="string"||u!=null&&u[g[0]]!==void 0){var x=rC(c,u,g);switch(p){case"animation":case"animationName":f+=CO(p)+":"+x+";";break;default:f+=p+"{"+x+"}"}}else for(var v=0;v<g.length;v++)Nee(g[v])&&(f+=CO(p)+":"+kee(p,g[v])+";")}return f}(e,t,r);case"function":if(e!==void 0){var s=yA,i=r(e);return yA=s,rC(e,t,i)}break}if(t==null)return r;var o=t[r];return o!==void 0?o:r}var yA,Tee=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Rj=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";yA=void 0;var s=e[0];s==null||s.raw===void 0?(n=!1,a+=rC(r,t,s)):a+=s[0];for(var i=1;i<e.length;i++)a+=rC(r,t,e[i]),n&&(a+=s[i]);Tee.lastIndex=0;for(var o,c="";(o=Tee.exec(a))!==null;)c+="-"+o[1];var u=function(d){for(var f,h=0,p=0,g=d.length;g>=4;++p,g-=4)f=1540483477*(65535&(f=255&d.charCodeAt(p)|(255&d.charCodeAt(++p))<<8|(255&d.charCodeAt(++p))<<16|(255&d.charCodeAt(++p))<<24))+(59797*(f>>>16)<<16),h=1540483477*(65535&(f^=f>>>24))+(59797*(f>>>16)<<16)^1540483477*(65535&h)+(59797*(h>>>16)<<16);switch(g){case 3:h^=(255&d.charCodeAt(p+2))<<16;case 2:h^=(255&d.charCodeAt(p+1))<<8;case 1:h=1540483477*(65535&(h^=255&d.charCodeAt(p)))+(59797*(h>>>16)<<16)}return(((h=1540483477*(65535&(h^=h>>>13))+(59797*(h>>>16)<<16))^h>>>15)>>>0).toString(36)}(a)+c;return{name:u,styles:a,next:yA}},cxt=typeof document<"u",uxt=function(e){return e()},ype=!!S.useInsertionEffect&&S.useInsertionEffect,wpe=cxt&&ype||uxt,Bee=ype||S.useLayoutEffect,ab=typeof document<"u",uQ={}.hasOwnProperty,Kk=S.createContext(typeof HTMLElement<"u"?xpe({key:"css"}):null);Kk.Provider;var Lj=function(e){return S.forwardRef(function(t,r){var n=S.useContext(Kk);return e(t,n,r)})};ab||(Lj=function(e){return function(t){var r=S.useContext(Kk);return r===null?(r=xpe({key:"css"}),S.createElement(Kk.Provider,{value:r},e(t,r))):e(t,r)}});var dQ=S.createContext({}),nL="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dxt=function(e,t){var r={};for(var n in t)uQ.call(t,n)&&(r[n]=t[n]);return r[nL]=e,r},fxt=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;lQ(t,r,n);var a=wpe(function(){return cQ(t,r,n)});if(!ab&&a!==void 0){for(var s,i=r.name,o=r.next;o!==void 0;)i+=" "+o.name,o=o.next;return S.createElement("style",((s={})["data-emotion"]=t.key+" "+i,s.dangerouslySetInnerHTML={__html:a},s.nonce=t.sheet.nonce,s))}return null},Axt=Lj(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[nL],s=[n],i="";typeof e.className=="string"?i=vpe(t.registered,s,e.className):e.className!=null&&(i=e.className+" ");var o=Rj(s,void 0,S.useContext(dQ));i+=t.key+"-"+o.name;var c={};for(var u in e)!uQ.call(e,u)||u==="css"||u===nL||(c[u]=e[u]);return c.ref=r,c.className=i,S.createElement(S.Fragment,null,S.createElement(fxt,{cache:t,serialized:o,isStringTag:typeof a=="string"}),S.createElement(a,c))});ma(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});var Rr=function(e,t){var r=arguments;if(t==null||!uQ.call(t,"css"))return S.createElement.apply(void 0,r);var n=r.length,a=new Array(n);a[0]=Axt,a[1]=dxt(e,t);for(var s=2;s<n;s++)a[s]=r[s];return S.createElement.apply(null,a)};Lj(function(e,t){var r=e.styles,n=Rj([r],void 0,S.useContext(dQ));if(!ab){for(var a,s=n.name,i=n.styles,o=n.next;o!==void 0;)s+=" "+o.name,i+=o.styles,o=o.next;var c=t.compat===!0,u=t.insert("",{name:s,styles:i},t.sheet,c);return c?null:S.createElement("style",((a={})["data-emotion"]=t.key+"-global "+s,a.dangerouslySetInnerHTML={__html:u},a.nonce=t.sheet.nonce,a))}var d=S.useRef();return Bee(function(){var f=t.key+"-global",h=new t.sheet.constructor({key:f,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),p=!1,g=document.querySelector('style[data-emotion="'+f+" "+n.name+'"]');return t.sheet.tags.length&&(h.before=t.sheet.tags[0]),g!==null&&(p=!0,g.setAttribute("data-emotion",f),h.hydrate([g])),d.current=[h,p],function(){h.flush()}},[t]),Bee(function(){var f=d.current,h=f[0];if(f[1])f[1]=!1;else{if(n.next!==void 0&&cQ(t,n.next,!0),h.tags.length){var p=h.tags[h.tags.length-1].nextElementSibling;h.before=p,h.flush()}t.insert("",n,h,!1)}},[t,n.name]),null});function fQ(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Rj(t)}var hxt=function e(t){for(var r=t.length,n=0,a="";n<r;n++){var s=t[n];if(s!=null){var i=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))i=e(s);else for(var o in i="",s)s[o]&&o&&(i&&(i+=" "),i+=o);break;default:i=s}i&&(a&&(a+=" "),a+=i)}}return a};function pxt(e,t,r){var n=[],a=vpe(e,n,r);return n.length<2?r:a+t(n)}var mxt=function(e){var t,r=e.cache,n=e.serializedArr,a=wpe(function(){for(var s="",i=0;i<n.length;i++){var o=cQ(r,n[i],!1);ab||o===void 0||(s+=o)}if(!ab)return s});return ab||a.length===0?null:S.createElement("style",((t={})["data-emotion"]=r.key+" "+n.map(function(s){return s.name}).join(" "),t.dangerouslySetInnerHTML={__html:a},t.nonce=r.sheet.nonce,t))};Lj(function(e,t){var r=[],n=function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];var u=Rj(o,t.registered);return r.push(u),lQ(t,u,!1),t.key+"-"+u.name},a={css:n,cx:function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return pxt(t.registered,n,hxt(o))},theme:S.useContext(dQ)},s=e.children(a);return S.createElement(S.Fragment,null,S.createElement(mxt,{cache:t,serializedArr:r}),s)});function io(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var s,i,o,c,u=[],d=!0,f=!1;try{if(o=(a=a.call(r)).next,n===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(s=o.call(a)).done)&&(u.push(s.value),u.length!==n);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}(e,t)||upe(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function SA(e,t){if(e==null)return{};var r,n,a=function(i,o){if(i==null)return{};var c,u,d={},f=Object.keys(i);for(u=0;u<f.length;u++)c=f[u],o.indexOf(c)>=0||(d[c]=i[c]);return d}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e0(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cpe(e){return e0(e).getComputedStyle(e)}const E5=Math.round;function Epe(e){return _pe(e)?(e.nodeName||"").toLowerCase():""}let S5;function Spe(e){return e instanceof e0(e).HTMLElement}function UN(e){return e instanceof e0(e).Element}function _pe(e){return e instanceof e0(e).Node}function jee(e){return typeof ShadowRoot>"u"?!1:e instanceof e0(e).ShadowRoot||e instanceof ShadowRoot}function Npe(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Cpe(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function gxt(){return/^((?!chrome|android).)*safari/i.test(function(){if(S5)return S5;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(S5=e.brands.map(t=>t.brand+"/"+t.version).join(" "),S5):navigator.userAgent}())}function kpe(e){return UN(e)?e:e.contextElement}const Tpe={x:1,y:1};function Iee(e){const t=kpe(e);if(!Spe(t))return Tpe;const r=t.getBoundingClientRect(),{width:n,height:a,fallback:s}=function(c){const u=Cpe(c);let d=parseFloat(u.width),f=parseFloat(u.height);const h=c.offsetWidth,p=c.offsetHeight,g=E5(d)!==h||E5(f)!==p;return g&&(d=h,f=p),{width:d,height:f,fallback:g}}(t);let i=(s?E5(r.width):r.width)/n,o=(s?E5(r.height):r.height)/a;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}function Fee(e,t,r,n){var a,s;t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=kpe(e);let c=Tpe;t&&(c=Iee(e));const u=o?e0(o):window,d=gxt()&&r;let f=(i.left+(d&&((a=u.visualViewport)==null?void 0:a.offsetLeft)||0))/c.x,h=(i.top+(d&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/c.y,p=i.width/c.x,g=i.height/c.y;if(o){const x=e0(o),v=n;let y=x.frameElement;for(;y&&n&&v!==x;){const w=Iee(y),E=y.getBoundingClientRect(),k=getComputedStyle(y);E.x+=(y.clientLeft+parseFloat(k.paddingLeft))*w.x,E.y+=(y.clientTop+parseFloat(k.paddingTop))*w.y,f*=w.x,h*=w.y,p*=w.x,g*=w.y,f+=E.x,h+=E.y,y=e0(y).frameElement}}return{width:p,height:g,top:h,right:f+p,bottom:h+g,left:f,x:f,y:h}}function xxt(e){if(Epe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jee(e)&&e.host||function(r){return((_pe(r)?r.ownerDocument:r.document)||window.document).documentElement}(e);return jee(t)?t.host:t}function Bpe(e){const t=xxt(e);return function(r){return["html","body","#document"].includes(Epe(r))}(t)?t.ownerDocument.body:Spe(t)&&Npe(t)?t:Bpe(t)}function QN(e,t){var r;t===void 0&&(t=[]);const n=Bpe(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),s=e0(n);return a?t.concat(s,s.visualViewport||[],Npe(n)?n:[]):t.concat(n,QN(n))}var aL=typeof document<"u"?S.useLayoutEffect:S.useEffect,vxt=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],qk=function(){};function bxt(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function yxt(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&s.push("".concat(bxt(e,i)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var Oee=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):lx(e)==="object"&&e!==null?[e]:[];var t},Dee=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Br({},SA(e,vxt))},Ls=function(e,t,r){var n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.className;return{css:a(t,e),className:n(r??{},s(t,e),i)}};function Mj(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function jpe(e){return Mj(e)?window.pageYOffset:e.scrollTop}function Wk(e,t){Mj(e)?window.scrollTo(0,t):e.scrollTop=t}function wxt(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function _5(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qk,a=jpe(e),s=t-a,i=10,o=0;function c(){var u=wxt(o+=i,a,s,r);Wk(e,u),o<r?window.requestAnimationFrame(c):n(e)}c()}function Pee(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=t.offsetHeight/3;n.bottom+a>r.bottom?Wk(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):n.top-a<r.top&&Wk(e,Math.max(t.offsetTop-a,0))}function Ree(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}var Ipe=!1,Cxt={get passive(){return Ipe=!0}},N5=typeof window<"u"?window:{};N5.addEventListener&&N5.removeEventListener&&(N5.addEventListener("p",qk,Cxt),N5.removeEventListener("p",qk,!1));var Ext=Ipe;function Sxt(e){return e!=null}function k5(e,t,r){return e?t:r}var _xt=["children","innerProps"],Nxt=["children","innerProps"];function kxt(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,a=e.placement,s=e.shouldScroll,i=e.isFixedPosition,o=e.controlHeight,c=function(q){var Q=getComputedStyle(q),G=Q.position==="absolute",K=/(auto|scroll)/;if(Q.position==="fixed")return document.documentElement;for(var z=q;z=z.parentElement;)if(Q=getComputedStyle(z),(!G||Q.position!=="static")&&K.test(Q.overflow+Q.overflowY+Q.overflowX))return z;return document.documentElement}(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var d,f=c.getBoundingClientRect().height,h=r.getBoundingClientRect(),p=h.bottom,g=h.height,x=h.top,v=r.offsetParent.getBoundingClientRect().top,y=i||Mj(d=c)?window.innerHeight:d.clientHeight,w=jpe(c),E=parseInt(getComputedStyle(r).marginBottom,10),k=parseInt(getComputedStyle(r).marginTop,10),B=v-k,j=y-x,C=B+w,N=f-w-x,I=p-y+w+E,L=w+x-k,O=160;switch(a){case"auto":case"bottom":if(j>=g)return{placement:"bottom",maxHeight:t};if(N>=g&&!i)return s&&_5(c,I,O),{placement:"bottom",maxHeight:t};if(!i&&N>=n||i&&j>=n)return s&&_5(c,I,O),{placement:"bottom",maxHeight:i?j-E:N-E};if(a==="auto"||i){var T=t,P=i?B:C;return P>=n&&(T=Math.min(P-E-o,t)),{placement:"top",maxHeight:T}}if(a==="bottom")return s&&Wk(c,I),{placement:"bottom",maxHeight:t};break;case"top":if(B>=g)return{placement:"top",maxHeight:t};if(C>=g&&!i)return s&&_5(c,L,O),{placement:"top",maxHeight:t};if(!i&&C>=n||i&&B>=n){var R=t;return(!i&&C>=n||i&&B>=n)&&(R=i?B-k:C-k),s&&_5(c,L,O),{placement:"top",maxHeight:R}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}var Lee,Fpe=function(e){return e==="auto"?"bottom":e},Ope=S.createContext(null),Txt=function(e){var t=e.children,r=e.minMenuHeight,n=e.maxMenuHeight,a=e.menuPlacement,s=e.menuPosition,i=e.menuShouldScrollIntoView,o=e.theme,c=(S.useContext(Ope)||{}).setPortalPlacement,u=S.useRef(null),d=io(S.useState(n),2),f=d[0],h=d[1],p=io(S.useState(null),2),g=p[0],x=p[1],v=o.spacing.controlHeight;return aL(function(){var y=u.current;if(y){var w=s==="fixed",E=kxt({maxHeight:n,menuEl:y,minHeight:r,placement:a,shouldScroll:i&&!w,isFixedPosition:w,controlHeight:v});h(E.maxHeight),x(E.placement),c==null||c(E.placement)}},[n,a,s,i,r,c,v]),t({ref:u,placerProps:Br(Br({},e),{},{placement:g||Fpe(a),maxHeight:f})})},Bxt=function(e){var t=e.children,r=e.innerRef,n=e.innerProps;return Rr("div",Vr({},Ls(e,"menu",{menu:!0}),{ref:r},n),t)},Dpe=function(e,t){var r=e.theme,n=r.spacing.baseUnit,a=r.colors;return Br({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px")})},jxt=Dpe,Ixt=Dpe,Fxt=["size"],Oxt=["innerProps","isRtl","size"],EO,SO,Dxt={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Ppe=function(e){var t=e.size,r=SA(e,Fxt);return Rr("svg",Vr({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Dxt},r))},_O=function(e){return Rr(Ppe,Vr({size:20},e),Rr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Mee=function(e){return Rr(Ppe,Vr({size:20},e),Rr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Rpe=function(e,t){var r=e.isFocused,n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Br({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?s.neutral60:s.neutral20,padding:2*a,":hover":{color:r?s.neutral80:s.neutral40}})},Pxt=Rpe,Rxt=Rpe,Lxt=function(){var e=fQ.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Lee||(EO=[`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`],SO||(SO=EO.slice(0)),Lee=Object.freeze(Object.defineProperties(EO,{raw:{value:Object.freeze(SO)}})))),NO=function(e){var t=e.delay,r=e.offset;return Rr("span",{css:fQ({animation:"".concat(Lxt," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Mxt=function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,a=e.innerRef,s=e.innerProps,i=e.menuIsOpen;return Rr("div",Vr({ref:a},Ls(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":n,"control--menu-is-open":i}),s,{"aria-disabled":r||void 0}),t)},Uxt=["data"],Qxt=function(e){var t=e.children,r=e.cx,n=e.getStyles,a=e.getClassNames,s=e.Heading,i=e.headingProps,o=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return Rr("div",Vr({},Ls(e,"group",{group:!0}),o),Rr(s,Vr({},i,{selectProps:d,theme:u,getStyles:n,getClassNames:a,cx:r}),c),Rr("div",null,t))},Hxt=["innerRef","isDisabled","isHidden","inputClassName"],Lpe={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},$xt={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Br({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Lpe)},Vxt=function(e){return Br({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Lpe)},Uee=function(e){var t=e.children,r=e.innerProps;return Rr("div",r,t)},zxt=function(e){var t=e.children,r=e.components,n=e.data,a=e.innerProps,s=e.isDisabled,i=e.removeProps,o=e.selectProps,c=r.Container,u=r.Label,d=r.Remove;return Rr(c,{data:n,innerProps:Br(Br({},Ls(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),a),selectProps:o},Rr(u,{data:n,innerProps:Br({},Ls(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),Rr(d,{data:n,innerProps:Br(Br({},Ls(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},i),selectProps:o}))},Gxt={ClearIndicator:function(e){var t=e.children,r=e.innerProps;return Rr("div",Vr({},Ls(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||Rr(_O,null))},Control:Mxt,DropdownIndicator:function(e){var t=e.children,r=e.innerProps;return Rr("div",Vr({},Ls(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||Rr(Mee,null))},DownChevron:Mee,CrossIcon:_O,Group:Qxt,GroupHeading:function(e){var t=Dee(e);t.data;var r=SA(t,Uxt);return Rr("div",Vr({},Ls(e,"groupHeading",{"group-heading":!0}),r))},IndicatorsContainer:function(e){var t=e.children,r=e.innerProps;return Rr("div",Vr({},Ls(e,"indicatorsContainer",{indicators:!0}),r),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Rr("span",Vr({},t,Ls(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,r=e.value,n=Dee(e),a=n.innerRef,s=n.isDisabled,i=n.isHidden,o=n.inputClassName,c=SA(n,Hxt);return Rr("div",Vr({},Ls(e,"input",{"input-container":!0}),{"data-value":r||""}),Rr("input",Vr({className:t({input:!0},o),ref:a,style:Vxt(i),disabled:s},c)))},LoadingIndicator:function(e){var t=e.innerProps,r=e.isRtl,n=e.size,a=n===void 0?4:n,s=SA(e,Oxt);return Rr("div",Vr({},Ls(Br(Br({},s),{},{innerProps:t,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Rr(NO,{delay:0,offset:r}),Rr(NO,{delay:160,offset:!0}),Rr(NO,{delay:320,offset:!r}))},Menu:Bxt,MenuList:function(e){var t=e.children,r=e.innerProps,n=e.innerRef,a=e.isMulti;return Rr("div",Vr({},Ls(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:n},r),t)},MenuPortal:function(e){var t=e.appendTo,r=e.children,n=e.controlElement,a=e.innerProps,s=e.menuPlacement,i=e.menuPosition,o=S.useRef(null),c=S.useRef(null),u=io(S.useState(Fpe(s)),2),d=u[0],f=u[1],h=S.useMemo(function(){return{setPortalPlacement:f}},[]),p=io(S.useState(null),2),g=p[0],x=p[1],v=S.useCallback(function(){if(n){var k=function(C){var N=C.getBoundingClientRect();return{bottom:N.bottom,height:N.height,left:N.left,right:N.right,top:N.top,width:N.width}}(n),B=i==="fixed"?0:window.pageYOffset,j=k[d]+B;j===(g==null?void 0:g.offset)&&k.left===(g==null?void 0:g.rect.left)&&k.width===(g==null?void 0:g.rect.width)||x({offset:j,rect:k})}},[n,i,d,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);aL(function(){v()},[v]);var y=S.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),n&&o.current&&(c.current=function(k,B,j,C){C===void 0&&(C={});const{ancestorScroll:N=!0,ancestorResize:I=!0,elementResize:L=!0,animationFrame:O=!1}=C,T=N&&!O,P=T||I?[...UN(k)?QN(k):k.contextElement?QN(k.contextElement):[],...QN(B)]:[];P.forEach(G=>{T&&G.addEventListener("scroll",j,{passive:!0}),I&&G.addEventListener("resize",j)});let R,q=null;if(L){let G=!0;q=new ResizeObserver(()=>{G||j(),G=!1}),UN(k)&&!O&&q.observe(k),UN(k)||!k.contextElement||O||q.observe(k.contextElement),q.observe(B)}let Q=O?Fee(k):null;return O&&function G(){const K=Fee(k);!Q||K.x===Q.x&&K.y===Q.y&&K.width===Q.width&&K.height===Q.height||j(),Q=K,R=requestAnimationFrame(G)}(),j(),()=>{var G;P.forEach(K=>{T&&K.removeEventListener("scroll",j),I&&K.removeEventListener("resize",j)}),(G=q)==null||G.disconnect(),q=null,O&&cancelAnimationFrame(R)}}(n,o.current,v,{elementResize:"ResizeObserver"in window}))},[n,v]);aL(function(){y()},[y]);var w=S.useCallback(function(k){o.current=k,y()},[y]);if(!t&&i!=="fixed"||!g)return null;var E=Rr("div",Vr({ref:w},Ls(Br(Br({},e),{},{offset:g.offset,position:i,rect:g.rect}),"menuPortal",{"menu-portal":!0}),a),r);return Rr(Ope.Provider,{value:h},t?RE.createPortal(E,t):E)},LoadingMessage:function(e){var t=e.children,r=t===void 0?"Loading...":t,n=e.innerProps,a=SA(e,Nxt);return Rr("div",Vr({},Ls(Br(Br({},a),{},{children:r,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),r)},NoOptionsMessage:function(e){var t=e.children,r=t===void 0?"No options":t,n=e.innerProps,a=SA(e,_xt);return Rr("div",Vr({},Ls(Br(Br({},a),{},{children:r,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),r)},MultiValue:zxt,MultiValueContainer:Uee,MultiValueLabel:Uee,MultiValueRemove:function(e){var t=e.children,r=e.innerProps;return Rr("div",Vr({role:"button"},r),t||Rr(_O,{size:14}))},Option:function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,a=e.isSelected,s=e.innerRef,i=e.innerProps;return Rr("div",Vr({},Ls(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":n,"option--is-selected":a}),{ref:s,"aria-disabled":r},i),t)},Placeholder:function(e){var t=e.children,r=e.innerProps;return Rr("div",Vr({},Ls(e,"placeholder",{placeholder:!0}),r),t)},SelectContainer:function(e){var t=e.children,r=e.innerProps,n=e.isDisabled,a=e.isRtl;return Rr("div",Vr({},Ls(e,"container",{"--is-disabled":n,"--is-rtl":a}),r),t)},SingleValue:function(e){var t=e.children,r=e.isDisabled,n=e.innerProps;return Rr("div",Vr({},Ls(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),n),t)},ValueContainer:function(e){var t=e.children,r=e.innerProps,n=e.isMulti,a=e.hasValue;return Rr("div",Vr({},Ls(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":a}),r),t)}},Qee=Number.isNaN||function(e){return typeof e=="number"&&e!=e};function Kxt(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(n=e[r],a=t[r],!(n===a||Qee(n)&&Qee(a)))return!1;var n,a;return!0}for(var qxt={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Hee=function(e){return Rr("span",Vr({css:qxt},e))},Wxt={guidance:function(e){var t=e.isSearchable,r=e.isMulti,n=e.tabSelectsValue,a=e.context,s=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(n?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,n=r===void 0?"":r,a=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return"option ".concat(n,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,n=e.options,a=e.label,s=a===void 0?"":a,i=e.selectValue,o=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(p,g){return p&&p.length?"".concat(p.indexOf(g)+1," of ").concat(p.length):""};if(t==="value"&&i)return"value ".concat(s," focused, ").concat(d(i,r),".");if(t==="menu"&&u){var f=o?" disabled":"",h="".concat(c?" selected":"").concat(f);return"".concat(s).concat(h,", ").concat(d(n,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},Xxt=function(e){var t=e.ariaSelection,r=e.focusedOption,n=e.focusedValue,a=e.focusableOptions,s=e.isFocused,i=e.selectValue,o=e.selectProps,c=e.id,u=e.isAppleDevice,d=o.ariaLiveMessages,f=o.getOptionLabel,h=o.inputValue,p=o.isMulti,g=o.isOptionDisabled,x=o.isSearchable,v=o.menuIsOpen,y=o.options,w=o.screenReaderStatus,E=o.tabSelectsValue,k=o.isLoading,B=o["aria-label"],j=o["aria-live"],C=S.useMemo(function(){return Br(Br({},Wxt),d||{})},[d]),N=S.useMemo(function(){var R,q="";if(t&&C.onChange){var Q=t.option,G=t.options,K=t.removedValue,z=t.removedValues,Y=t.value,ee=K||Q||(R=Y,Array.isArray(R)?null:R),M=ee?f(ee):"",H=G||z||void 0,W=H?H.map(f):[],Z=Br({isDisabled:ee&&g(ee,i),label:M,labels:W},t);q=C.onChange(Z)}return q},[t,C,g,i,f]),I=S.useMemo(function(){var R="",q=r||n,Q=!!(r&&i&&i.includes(r));if(q&&C.onFocus){var G={focused:q,label:f(q),isDisabled:g(q,i),isSelected:Q,options:a,context:q===r?"menu":"value",selectValue:i,isAppleDevice:u};R=C.onFocus(G)}return R},[r,n,f,g,C,a,i,u]),L=S.useMemo(function(){var R="";if(v&&y.length&&!k&&C.onFilter){var q=w({count:a.length});R=C.onFilter({inputValue:h,resultsMessage:q})}return R},[a,h,v,C,y,w,k]),O=(t==null?void 0:t.action)==="initial-input-focus",T=S.useMemo(function(){var R="";if(C.guidance){var q=n?"value":v?"menu":"input";R=C.guidance({"aria-label":B,context:q,isDisabled:r&&g(r,i),isMulti:p,isSearchable:x,tabSelectsValue:E,isInitialFocus:O})}return R},[B,r,n,p,g,x,v,C,i,E,O]),P=Rr(S.Fragment,null,Rr("span",{id:"aria-selection"},N),Rr("span",{id:"aria-focused"},I),Rr("span",{id:"aria-results"},L),Rr("span",{id:"aria-guidance"},T));return Rr(S.Fragment,null,Rr(Hee,{id:c},O&&P),Rr(Hee,{"aria-live":j,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!O&&P))},kO=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Yxt=new RegExp("["+kO.map(function(e){return e.letters}).join("")+"]","g"),Mpe={},TO=0;TO<kO.length;TO++)for(var BO=kO[TO],jO=0;jO<BO.letters.length;jO++)Mpe[BO.letters[jO]]=BO.base;var Upe=function(e){return e.replace(Yxt,function(t){return Mpe[t]})},Jxt=function(e,t){t===void 0&&(t=Kxt);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}(Upe),$ee=function(e){return e.replace(/^\s+|\s+$/g,"")},Zxt=function(e){return"".concat(e.label," ").concat(e.value)},evt=["innerRef"];function tvt(e){var t=e.innerRef,r=function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];var o=Object.entries(n).filter(function(c){var u=io(c,1)[0];return!s.includes(u)});return o.reduce(function(c,u){var d=io(u,2),f=d[0],h=d[1];return c[f]=h,c},{})}(SA(e,evt),"onExited","in","enter","exit","appear");return Rr("input",Vr({ref:t},r,{css:fQ({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Vee=["boxSizing","height","overflow","paddingRight","position"],zee={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Gee(e){e.preventDefault()}function Kee(e){e.stopPropagation()}function qee(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Wee(){return"ontouchstart"in window||navigator.maxTouchPoints}var Xee=!(typeof window>"u"||!window.document||!window.document.createElement),Kw=0,t1={capture:!1,passive:!1},rvt=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},nvt={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function avt(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,a=function(i){var o=i.isEnabled,c=i.onBottomArrive,u=i.onBottomLeave,d=i.onTopArrive,f=i.onTopLeave,h=S.useRef(!1),p=S.useRef(!1),g=S.useRef(0),x=S.useRef(null),v=S.useCallback(function(j,C){if(x.current!==null){var N=x.current,I=N.scrollTop,L=N.scrollHeight,O=N.clientHeight,T=x.current,P=C>0,R=L-O-I,q=!1;R>C&&h.current&&(u&&u(j),h.current=!1),P&&p.current&&(f&&f(j),p.current=!1),P&&C>R?(c&&!h.current&&c(j),T.scrollTop=L,q=!0,h.current=!0):!P&&-C>I&&(d&&!p.current&&d(j),T.scrollTop=0,q=!0,p.current=!0),q&&function(Q){Q.cancelable&&Q.preventDefault(),Q.stopPropagation()}(j)}},[c,u,d,f]),y=S.useCallback(function(j){v(j,j.deltaY)},[v]),w=S.useCallback(function(j){g.current=j.changedTouches[0].clientY},[]),E=S.useCallback(function(j){var C=g.current-j.changedTouches[0].clientY;v(j,C)},[v]),k=S.useCallback(function(j){if(j){var C=!!Ext&&{passive:!1};j.addEventListener("wheel",y,C),j.addEventListener("touchstart",w,C),j.addEventListener("touchmove",E,C)}},[E,w,y]),B=S.useCallback(function(j){j&&(j.removeEventListener("wheel",y,!1),j.removeEventListener("touchstart",w,!1),j.removeEventListener("touchmove",E,!1))},[E,w,y]);return S.useEffect(function(){if(o){var j=x.current;return k(j),function(){B(j)}}},[o,k,B]),function(j){x.current=j}}({isEnabled:n===void 0||n,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),s=function(i){var o=i.isEnabled,c=i.accountForScrollbars,u=c===void 0||c,d=S.useRef({}),f=S.useRef(null),h=S.useCallback(function(g){if(Xee){var x=document.body,v=x&&x.style;if(u&&Vee.forEach(function(k){var B=v&&v[k];d.current[k]=B}),u&&Kw<1){var y=parseInt(d.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,E=window.innerWidth-w+y||0;Object.keys(zee).forEach(function(k){var B=zee[k];v&&(v[k]=B)}),v&&(v.paddingRight="".concat(E,"px"))}x&&Wee()&&(x.addEventListener("touchmove",Gee,t1),g&&(g.addEventListener("touchstart",qee,t1),g.addEventListener("touchmove",Kee,t1))),Kw+=1}},[u]),p=S.useCallback(function(g){if(Xee){var x=document.body,v=x&&x.style;Kw=Math.max(Kw-1,0),u&&Kw<1&&Vee.forEach(function(y){var w=d.current[y];v&&(v[y]=w)}),x&&Wee()&&(x.removeEventListener("touchmove",Gee,t1),g&&(g.removeEventListener("touchstart",qee,t1),g.removeEventListener("touchmove",Kee,t1)))}},[u]);return S.useEffect(function(){if(o){var g=f.current;return h(g),function(){p(g)}}},[o,h,p]),function(g){f.current=g}}({isEnabled:r});return Rr(S.Fragment,null,r&&Rr("div",{onClick:rvt,css:nvt}),t(function(i){a(i),s(i)}))}var svt={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},ivt=function(e){var t=e.name,r=e.onFocus;return Rr("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:svt,value:"",onChange:function(){}})};function sL(e){var t;return typeof window<"u"&&window.navigator!=null&&e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform)}function Qpe(){return sL(/^Mac/i)}function ovt(){return sL(/^iPhone/i)||sL(/^iPad/i)||Qpe()&&navigator.maxTouchPoints>1}var lvt,cvt={clearIndicator:Rxt,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var r=e.isDisabled,n=e.isFocused,a=e.theme,s=a.colors,i=a.borderRadius;return Br({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:n?s.primary:s.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:n?s.primary:s.neutral30}})},dropdownIndicator:Pxt,group:function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:2*r.baseUnit,paddingTop:2*r.baseUnit}},groupHeading:function(e,t){var r=e.theme,n=r.colors,a=r.spacing;return Br({label:"group",cursor:"default",display:"block"},t?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*a.baseUnit,paddingRight:3*a.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var r=e.isDisabled,n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Br({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:2*a,marginTop:2*a})},input:function(e,t){var r=e.isDisabled,n=e.value,a=e.theme,s=a.spacing,i=a.colors;return Br(Br({visibility:r?"hidden":"visible",transform:n?"translateZ(0)":""},$xt),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:i.neutral80})},loadingIndicator:function(e,t){var r=e.isFocused,n=e.size,a=e.theme,s=a.colors,i=a.spacing.baseUnit;return Br({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?s.neutral60:s.neutral20,padding:2*i})},loadingMessage:Ixt,menu:function(e,t){var r,n=e.placement,a=e.theme,s=a.borderRadius,i=a.spacing,o=a.colors;return Br((j1(r={label:"menu"},function(c){return c?{bottom:"top",top:"bottom"}[c]:"bottom"}(n),"100%"),j1(r,"position","absolute"),j1(r,"width","100%"),j1(r,"zIndex",1),r),t?{}:{backgroundColor:o.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},menuList:function(e,t){var r=e.maxHeight,n=e.theme.spacing.baseUnit;return Br({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:n,paddingTop:n})},menuPortal:function(e){var t=e.rect,r=e.offset,n=e.position;return{left:t.left,position:n,top:r,width:t.width,zIndex:1}},multiValue:function(e,t){var r=e.theme,n=r.spacing,a=r.borderRadius,s=r.colors;return Br({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:a/2,margin:n.baseUnit/2})},multiValueLabel:function(e,t){var r=e.theme,n=r.borderRadius,a=r.colors,s=e.cropWithEllipsis;return Br({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:n/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var r=e.theme,n=r.spacing,a=r.borderRadius,s=r.colors,i=e.isFocused;return Br({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:i?s.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:jxt,option:function(e,t){var r=e.isDisabled,n=e.isFocused,a=e.isSelected,s=e.theme,i=s.spacing,o=s.colors;return Br({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?o.primary:n?o.primary25:"transparent",color:r?o.neutral20:a?o.neutral0:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),":active":{backgroundColor:r?void 0:a?o.primary:o.primary50}})},placeholder:function(e,t){var r=e.theme,n=r.spacing,a=r.colors;return Br({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},singleValue:function(e,t){var r=e.isDisabled,n=e.theme,a=n.spacing,s=n.colors;return Br({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?s.neutral40:s.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},valueContainer:function(e,t){var r=e.theme.spacing,n=e.isMulti,a=e.hasValue,s=e.selectProps.controlShouldRenderValue;return Br({alignItems:"center",display:n&&a&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(2*r.baseUnit,"px")})}},IO={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},uvt={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ree(),captureMenuScroll:!Ree(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var r=Br({ignoreCase:!0,ignoreAccents:!0,stringify:Zxt,trim:!0,matchFrom:"any"},lvt),n=r.ignoreCase,a=r.ignoreAccents,s=r.stringify,i=r.trim,o=r.matchFrom,c=i?$ee(t):t,u=i?$ee(s(e)):s(e);return n&&(c=c.toLowerCase(),u=u.toLowerCase()),a&&(c=Jxt(c),u=Upe(u)),o==="start"?u.substr(0,c.length)===c:u.indexOf(c)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Yee(e,t,r,n){return{type:"option",data:t,isDisabled:$pe(e,t,r),isSelected:Vpe(e,t,r),label:Hpe(e,t),value:Xk(e,t),index:n}}function T5(e,t){return e.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,o){return Yee(e,i,t,o)}).filter(function(i){return ete(e,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=Yee(e,r,t,n);return ete(e,s)?s:void 0}).filter(Sxt)}function Jee(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,sQ(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function Zee(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,sQ(n.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function ete(e,t){var r=e.inputValue,n=r===void 0?"":r,a=t.data,s=t.isSelected,i=t.label,o=t.value;return(!Gpe(e)||!s)&&zpe(e,{label:i,value:o,data:a},n)}var FO=function(e,t){var r;return((r=e.find(function(n){return n.data===t}))===null||r===void 0?void 0:r.id)||null},Hpe=function(e,t){return e.getOptionLabel(t)},Xk=function(e,t){return e.getOptionValue(t)};function $pe(e,t,r){return typeof e.isOptionDisabled=="function"&&e.isOptionDisabled(t,r)}function Vpe(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=Xk(e,t);return r.some(function(a){return Xk(e,a)===n})}function zpe(e,t,r){return!e.filterOption||e.filterOption(t,r)}var Gpe=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},dvt=1,Kpe=function(e){(function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&WR(i,o)})(s,S.Component);var t,r,n,a=Lgt(s);function s(i){var o;if(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}(this,s),(o=a.call(this,i)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=Qpe()||ovt(),o.controlRef=null,o.getControlRef=function(f){o.controlRef=f},o.focusedOptionRef=null,o.getFocusedOptionRef=function(f){o.focusedOptionRef=f},o.menuListRef=null,o.getMenuListRef=function(f){o.menuListRef=f},o.inputRef=null,o.getInputRef=function(f){o.inputRef=f},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(f,h){var p=o.props,g=p.onChange,x=p.name;h.name=x,o.ariaOnChange(f,h),g(f,h)},o.setValue=function(f,h,p){var g=o.props,x=g.closeMenuOnSelect,v=g.isMulti,y=g.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:y}),x&&(o.setState({inputIsHiddenAfterUpdate:!v}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(f,{action:h,option:p})},o.selectOption=function(f){var h=o.props,p=h.blurInputOnSelect,g=h.isMulti,x=h.name,v=o.state.selectValue,y=g&&o.isOptionSelected(f,v),w=o.isOptionDisabled(f,v);if(y){var E=o.getOptionValue(f);o.setValue(v.filter(function(k){return o.getOptionValue(k)!==E}),"deselect-option",f)}else{if(w)return void o.ariaOnChange(f,{action:"select-option",option:f,name:x});g?o.setValue([].concat(sQ(v),[f]),"select-option",f):o.setValue(f,"select-option")}p&&o.blurInput()},o.removeValue=function(f){var h=o.props.isMulti,p=o.state.selectValue,g=o.getOptionValue(f),x=p.filter(function(y){return o.getOptionValue(y)!==g}),v=k5(h,x,x[0]||null);o.onChange(v,{action:"remove-value",removedValue:f}),o.focusInput()},o.clearValue=function(){var f=o.state.selectValue;o.onChange(k5(o.props.isMulti,[],null),{action:"clear",removedValues:f})},o.popValue=function(){var f=o.props.isMulti,h=o.state.selectValue,p=h[h.length-1],g=h.slice(0,h.length-1),x=k5(f,g,g[0]||null);o.onChange(x,{action:"pop-value",removedValue:p})},o.getFocusedOptionId=function(f){return FO(o.state.focusableOptionsWithIds,f)},o.getFocusableOptionsWithIds=function(){return Zee(T5(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];return yxt.apply(void 0,[o.props.classNamePrefix].concat(h))},o.getOptionLabel=function(f){return Hpe(o.props,f)},o.getOptionValue=function(f){return Xk(o.props,f)},o.getStyles=function(f,h){var p=o.props.unstyled,g=cvt[f](h,p);g.boxSizing="border-box";var x=o.props.styles[f];return x?x(g,h):g},o.getClassNames=function(f,h){var p,g;return(p=(g=o.props.classNames)[f])===null||p===void 0?void 0:p.call(g,h)},o.getElementId=function(f){return"".concat(o.state.instancePrefix,"-").concat(f)},o.getComponents=function(){return f=o.props,Br(Br({},Gxt),f.components);var f},o.buildCategorizedOptions=function(){return T5(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return Jee(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(f,h){o.setState({ariaSelection:Br({value:f},h)})},o.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(f){o.blockOptionHover=!1},o.onControlMouseDown=function(f){if(!f.defaultPrevented){var h=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&o.onMenuClose():h&&o.openMenu("first"):(h&&(o.openAfterFocus=!0),o.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},o.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0||o.props.isDisabled)){var h=o.props,p=h.isMulti,g=h.menuIsOpen;o.focusInput(),g?(o.setState({inputIsHiddenAfterUpdate:!p}),o.onMenuClose()):o.openMenu("first"),f.preventDefault()}},o.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(o.clearValue(),f.preventDefault(),o.openAfterFocus=!1,f.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(f){typeof o.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&Mj(f.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(f)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(f){var h=f.touches,p=h&&h.item(0);p&&(o.initialTouchX=p.clientX,o.initialTouchY=p.clientY,o.userIsDragging=!1)},o.onTouchMove=function(f){var h=f.touches,p=h&&h.item(0);if(p){var g=Math.abs(p.clientX-o.initialTouchX),x=Math.abs(p.clientY-o.initialTouchY);o.userIsDragging=g>5||x>5}},o.onTouchEnd=function(f){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(f.target)&&o.menuListRef&&!o.menuListRef.contains(f.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(f){o.userIsDragging||o.onControlMouseDown(f)},o.onClearIndicatorTouchEnd=function(f){o.userIsDragging||o.onClearIndicatorMouseDown(f)},o.onDropdownIndicatorTouchEnd=function(f){o.userIsDragging||o.onDropdownIndicatorMouseDown(f)},o.handleInputChange=function(f){var h=o.props.inputValue,p=f.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(p,{action:"input-change",prevInputValue:h}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(f){o.props.onFocus&&o.props.onFocus(f),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(f){var h=o.props.inputValue;o.menuListRef&&o.menuListRef.contains(document.activeElement)?o.inputRef.focus():(o.props.onBlur&&o.props.onBlur(f),o.onInputChange("",{action:"input-blur",prevInputValue:h}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1}))},o.onOptionHover=function(f){if(!o.blockOptionHover&&o.state.focusedOption!==f){var h=o.getFocusableOptions().indexOf(f);o.setState({focusedOption:f,focusedOptionId:h>-1?o.getFocusedOptionId(f):null})}},o.shouldHideSelectedOptions=function(){return Gpe(o.props)},o.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),o.focus()},o.onKeyDown=function(f){var h=o.props,p=h.isMulti,g=h.backspaceRemovesValue,x=h.escapeClearsValue,v=h.inputValue,y=h.isClearable,w=h.isDisabled,E=h.menuIsOpen,k=h.onKeyDown,B=h.tabSelectsValue,j=h.openMenuOnFocus,C=o.state,N=C.focusedOption,I=C.focusedValue,L=C.selectValue;if(!(w||typeof k=="function"&&(k(f),f.defaultPrevented))){switch(o.blockOptionHover=!0,f.key){case"ArrowLeft":if(!p||v)return;o.focusValue("previous");break;case"ArrowRight":if(!p||v)return;o.focusValue("next");break;case"Delete":case"Backspace":if(v)return;if(I)o.removeValue(I);else{if(!g)return;p?o.popValue():y&&o.clearValue()}break;case"Tab":if(o.isComposing||f.shiftKey||!E||!B||!N||j&&o.isOptionSelected(N,L))return;o.selectOption(N);break;case"Enter":if(f.keyCode===229)break;if(E){if(!N||o.isComposing)return;o.selectOption(N);break}return;case"Escape":E?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:v}),o.onMenuClose()):y&&x&&o.clearValue();break;case" ":if(v)return;if(!E){o.openMenu("first");break}if(!N)return;o.selectOption(N);break;case"ArrowUp":E?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":E?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!E)return;o.focusOption("pageup");break;case"PageDown":if(!E)return;o.focusOption("pagedown");break;case"Home":if(!E)return;o.focusOption("first");break;case"End":if(!E)return;o.focusOption("last");break;default:return}f.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++dvt),o.state.selectValue=Oee(i.value),i.menuIsOpen&&o.state.selectValue.length){var c=o.getFocusableOptionsWithIds(),u=o.buildFocusableOptions(),d=u.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=c,o.state.focusedOption=u[d],o.state.focusedOptionId=FO(c,u[d])}return o}return t=s,r=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Pee(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,c=o.isDisabled,u=o.menuIsOpen,d=this.state.isFocused;(d&&!c&&i.isDisabled||d&&u&&!i.menuIsOpen)&&this.focusInput(),d&&c&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):d||c||!i.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Pee(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,c=this.state,u=c.selectValue,d=c.isFocused,f=this.buildFocusableOptions(),h=i==="first"?0:f.length-1;if(!this.props.isMulti){var p=f.indexOf(u[0]);p>-1&&(h=p)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[h],focusedOptionId:this.getFocusedOptionId(f[h])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,c=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=c.indexOf(u);u||(d=-1);var f=c.length-1,h=-1;if(c.length){switch(i){case"previous":h=d===0?0:d===-1?f:d-1;break;case"next":d>-1&&d<f&&(h=d+1)}this.setState({inputIsHidden:h!==-1,focusedValue:c[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,c=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var d=0,f=u.indexOf(c);c||(f=-1),i==="up"?d=f>0?f-1:u.length-1:i==="down"?d=(f+1)%u.length:i==="pageup"?(d=f-o)<0&&(d=0):i==="pagedown"?(d=f+o)>u.length-1&&(d=u.length-1):i==="last"&&(d=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(IO):Br(Br({},IO),this.props.theme):IO}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,c=this.getStyles,u=this.getClassNames,d=this.getValue,f=this.selectOption,h=this.setValue,p=this.props,g=p.isMulti,x=p.isRtl,v=p.options;return{clearValue:i,cx:o,getStyles:c,getClassNames:u,getValue:d,hasValue:this.hasValue(),isMulti:g,isRtl:x,options:v,selectOption:f,selectProps:p,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,c=i.isMulti;return o===void 0?c:o}},{key:"isOptionDisabled",value:function(i,o){return $pe(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return Vpe(this.props,i,o)}},{key:"filterOption",value:function(i,o){return zpe(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:c,selectValue:u})}return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,c=i.isSearchable,u=i.inputId,d=i.inputValue,f=i.tabIndex,h=i.form,p=i.menuIsOpen,g=i.required,x=this.getComponents().Input,v=this.state,y=v.inputIsHidden,w=v.ariaSelection,E=this.commonProps,k=u||this.getElementId("input"),B=Br(Br(Br({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(w==null?void 0:w.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?S.createElement(x,Vr({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:k,innerRef:this.getInputRef,isDisabled:o,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:h,type:"text",value:d},B)):S.createElement(tvt,Vr({id:k,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:qk,onFocus:this.onInputFocus,disabled:o,tabIndex:f,inputMode:"none",form:h,value:""},B))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),c=o.MultiValue,u=o.MultiValueContainer,d=o.MultiValueLabel,f=o.MultiValueRemove,h=o.SingleValue,p=o.Placeholder,g=this.commonProps,x=this.props,v=x.controlShouldRenderValue,y=x.isDisabled,w=x.isMulti,E=x.inputValue,k=x.placeholder,B=this.state,j=B.selectValue,C=B.focusedValue,N=B.isFocused;if(!this.hasValue()||!v)return E?null:S.createElement(p,Vr({},g,{key:"placeholder",isDisabled:y,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),k);if(w)return j.map(function(L,O){var T=L===C,P="".concat(i.getOptionLabel(L),"-").concat(i.getOptionValue(L));return S.createElement(c,Vr({},g,{components:{Container:u,Label:d,Remove:f},isFocused:T,isDisabled:y,key:P,index:O,removeProps:{onClick:function(){return i.removeValue(L)},onTouchEnd:function(){return i.removeValue(L)},onMouseDown:function(R){R.preventDefault()}},data:L}),i.formatOptionLabel(L,"value"))});if(E)return null;var I=j[0];return S.createElement(h,Vr({},g,{data:I,isDisabled:y}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents().ClearIndicator,o=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,f=this.state.isFocused;if(!this.isClearable()||!i||u||!this.hasValue()||d)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(i,Vr({},o,{innerProps:h,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents().LoadingIndicator,o=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,f=this.state.isFocused;return i&&d?S.createElement(i,Vr({},o,{innerProps:{"aria-hidden":"true"},isDisabled:u,isFocused:f})):null}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,c=i.IndicatorSeparator;if(!o||!c)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused;return S.createElement(c,Vr({},u,{isDisabled:d,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents().DropdownIndicator;if(!i)return null;var o=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(i,Vr({},o,{innerProps:d,isDisabled:c,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),c=o.Group,u=o.GroupHeading,d=o.Menu,f=o.MenuList,h=o.MenuPortal,p=o.LoadingMessage,g=o.NoOptionsMessage,x=o.Option,v=this.commonProps,y=this.state.focusedOption,w=this.props,E=w.captureMenuScroll,k=w.inputValue,B=w.isLoading,j=w.loadingMessage,C=w.minMenuHeight,N=w.maxMenuHeight,I=w.menuIsOpen,L=w.menuPlacement,O=w.menuPosition,T=w.menuPortalTarget,P=w.menuShouldBlockScroll,R=w.menuShouldScrollIntoView,q=w.noOptionsMessage,Q=w.onMenuScrollToTop,G=w.onMenuScrollToBottom;if(!I)return null;var K,z=function(W,Z){var ae=W.type,oe=W.data,se=W.isDisabled,ce=W.isSelected,de=W.label,ke=W.value,re=y===oe,_e=se?void 0:function(){return i.onOptionHover(oe)},Ne=se?void 0:function(){return i.selectOption(oe)},Se="".concat(i.getElementId("option"),"-").concat(Z),he={id:Se,onClick:Ne,onMouseMove:_e,onMouseOver:_e,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:ce};return S.createElement(x,Vr({},v,{innerProps:he,data:oe,isDisabled:se,isSelected:ce,key:Se,label:de,type:ae,value:ke,isFocused:re,innerRef:re?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(W.data,"menu"))};if(this.hasOptions())K=this.getCategorizedOptions().map(function(W){if(W.type==="group"){var Z=W.data,ae=W.options,oe=W.index,se="".concat(i.getElementId("group"),"-").concat(oe),ce="".concat(se,"-heading");return S.createElement(c,Vr({},v,{key:se,data:Z,options:ae,Heading:u,headingProps:{id:ce,data:W.data},label:i.formatGroupLabel(W.data)}),W.options.map(function(de){return z(de,"".concat(oe,"-").concat(de.index))}))}if(W.type==="option")return z(W,"".concat(W.index))});else if(B){var Y=j({inputValue:k});if(Y===null)return null;K=S.createElement(p,v,Y)}else{var ee=q({inputValue:k});if(ee===null)return null;K=S.createElement(g,v,ee)}var M={minMenuHeight:C,maxMenuHeight:N,menuPlacement:L,menuPosition:O,menuShouldScrollIntoView:R},H=S.createElement(Txt,Vr({},v,M),function(W){var Z=W.ref,ae=W.placerProps,oe=ae.placement,se=ae.maxHeight;return S.createElement(d,Vr({},v,M,{innerRef:Z,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:B,placement:oe}),S.createElement(avt,{captureEnabled:E,onTopArrive:Q,onBottomArrive:G,lockEnabled:P},function(ce){return S.createElement(f,Vr({},v,{innerRef:function(de){i.getMenuListRef(de),ce(de)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:B,maxHeight:se,focusedOption:y}),K)}))});return T||O==="fixed"?S.createElement(h,Vr({},v,{appendTo:T,controlElement:this.controlRef,menuPlacement:L,menuPosition:O}),H):H}},{key:"renderFormField",value:function(){var i=this,o=this.props,c=o.delimiter,u=o.isDisabled,d=o.isMulti,f=o.name,h=o.required,p=this.state.selectValue;if(h&&!this.hasValue()&&!u)return S.createElement(ivt,{name:f,onFocus:this.onValueInputFocus});if(f&&!u){if(d){if(c){var g=p.map(function(y){return i.getOptionValue(y)}).join(c);return S.createElement("input",{name:f,type:"hidden",value:g})}var x=p.length>0?p.map(function(y,w){return S.createElement("input",{key:"i-".concat(w),name:f,type:"hidden",value:i.getOptionValue(y)})}):S.createElement("input",{name:f,type:"hidden",value:""});return S.createElement("div",null,x)}var v=p[0]?this.getOptionValue(p[0]):"";return S.createElement("input",{name:f,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,c=o.ariaSelection,u=o.focusedOption,d=o.focusedValue,f=o.isFocused,h=o.selectValue,p=this.getFocusableOptions();return S.createElement(Xxt,Vr({},i,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:u,focusedValue:d,isFocused:f,selectValue:h,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,c=i.IndicatorsContainer,u=i.SelectContainer,d=i.ValueContainer,f=this.props,h=f.className,p=f.id,g=f.isDisabled,x=f.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return S.createElement(u,Vr({},y,{className:h,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:v}),this.renderLiveRegion(),S.createElement(o,Vr({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:v,menuIsOpen:x}),S.createElement(d,Vr({},y,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),S.createElement(c,Vr({},y,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],n=[{key:"getDerivedStateFromProps",value:function(i,o){var c=o.prevProps,u=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,f=o.ariaSelection,h=o.isFocused,p=o.prevWasFocused,g=o.instancePrefix,x=i.options,v=i.value,y=i.menuIsOpen,w=i.inputValue,E=i.isMulti,k=Oee(v),B={};if(c&&(v!==c.value||x!==c.options||y!==c.menuIsOpen||w!==c.inputValue)){var j=y?function(P,R){return Jee(T5(P,R))}(i,k):[],C=y?Zee(T5(i,k),"".concat(g,"-option")):[],N=u?function(P,R){var q=P.focusedValue,Q=P.selectValue.indexOf(q);if(Q>-1){if(R.indexOf(q)>-1)return q;if(Q<R.length)return R[Q]}return null}(o,k):null,I=function(P,R){var q=P.focusedOption;return q&&R.indexOf(q)>-1?q:R[0]}(o,j);B={selectValue:k,focusedOption:I,focusedOptionId:FO(C,I),focusableOptionsWithIds:C,focusedValue:N,clearFocusValueOnUpdate:!1}}var L=d!=null&&i!==c?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},O=f,T=h&&p;return h&&!T&&(O={value:k5(E,k,k[0]||null),options:k,action:"initial-input-focus"},T=!p),(f==null?void 0:f.action)==="initial-input-focus"&&(O=null),Br(Br(Br({},B),L),{},{prevProps:i,ariaSelection:O,prevWasFocused:T})}}],r&&pee(t.prototype,r),n&&pee(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}();Kpe.defaultProps=uvt;var fvt=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"],Avt=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"],AQ=ma(function(e){function t(r){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),hvt=ma(function(e){var t=AQ.default;e.exports=function(r,n){if(t(r)!=="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,n||"default");if(t(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)},e.exports.__esModule=!0,e.exports.default=e.exports}),qpe=ma(function(e){var t=AQ.default;e.exports=function(r){var n=hvt(r,"string");return t(n)==="symbol"?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports}),pvt=ma(function(e){e.exports=function(t,r,n){return(r=qpe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t},e.exports.__esModule=!0,e.exports.default=e.exports});ma(function(e){function t(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),a.push.apply(a,s)}return a}e.exports=function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?t(Object(a),!0).forEach(function(s){pvt(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r},e.exports.__esModule=!0,e.exports.default=e.exports}),ma(function(e){e.exports=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),ma(function(e){function t(r,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,qpe(s.key),s)}}e.exports=function(r,n,a){return n&&t(r.prototype,n),a&&t(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r},e.exports.__esModule=!0,e.exports.default=e.exports});var mvt=ma(function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});ma(function(e){e.exports=function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&mvt(t,r)},e.exports.__esModule=!0,e.exports.default=e.exports});var tte=ma(function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),gvt=ma(function(e){e.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}),xvt=ma(function(e){e.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.__esModule=!0,e.exports.default=e.exports}),vvt=ma(function(e){var t=AQ.default;e.exports=function(r,n){if(n&&(t(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xvt(r)},e.exports.__esModule=!0,e.exports.default=e.exports});ma(function(e){e.exports=function(t){var r=gvt();return function(){var n,a=tte(t);if(r){var s=tte(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return vvt(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports});var iL=ma(function(e){e.exports=function(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a},e.exports.__esModule=!0,e.exports.default=e.exports}),bvt=ma(function(e){e.exports=function(t){if(Array.isArray(t))return iL(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),yvt=ma(function(e){e.exports=function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),Wpe=ma(function(e){e.exports=function(t,r){if(t){if(typeof t=="string")return iL(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iL(t,r):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),wvt=ma(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});ma(function(e){e.exports=function(t){return bvt(t)||yvt(t)||Wpe(t)||wvt()},e.exports.__esModule=!0,e.exports.default=e.exports});var Cvt=ma(function(e){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports}),Evt=ma(function(e){e.exports=function(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}},e.exports.__esModule=!0,e.exports.default=e.exports}),Svt=ma(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});ma(function(e){e.exports=function(t,r){return Cvt(t)||Evt(t,r)||Wpe(t,r)||Svt()},e.exports.__esModule=!0,e.exports.default=e.exports});var _vt=ma(function(e){e.exports=function(t,r){if(t==null)return{};var n,a,s={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)>=0||(s[n]=t[n]);return s},e.exports.__esModule=!0,e.exports.default=e.exports});ma(function(e){e.exports=function(t,r){if(t==null)return{};var n,a,s=_vt(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports}),ma(function(e){e.exports=function(t,r){return r||(r=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))},e.exports.__esModule=!0,e.exports.default=e.exports});var Nvt=S.forwardRef(function(e,t){var r=function(a){var s=a.defaultOptions,i=s!==void 0&&s,o=a.cacheOptions,c=o!==void 0&&o,u=a.loadOptions;a.options;var d=a.isLoading,f=d!==void 0&&d,h=a.onInputChange,p=a.filterOption,g=p===void 0?null:p,x=SA(a,Avt),v=x.inputValue,y=S.useRef(void 0),w=S.useRef(!1),E=io(S.useState(Array.isArray(i)?i:void 0),2),k=E[0],B=E[1],j=io(S.useState(v!==void 0?v:""),2),C=j[0],N=j[1],I=io(S.useState(i===!0),2),L=I[0],O=I[1],T=io(S.useState(void 0),2),P=T[0],R=T[1],q=io(S.useState([]),2),Q=q[0],G=q[1],K=io(S.useState(!1),2),z=K[0],Y=K[1],ee=io(S.useState({}),2),M=ee[0],H=ee[1],W=io(S.useState(void 0),2),Z=W[0],ae=W[1],oe=io(S.useState(void 0),2),se=oe[0],ce=oe[1];c!==se&&(H({}),ce(c)),i!==Z&&(B(Array.isArray(i)?i:void 0),ae(i)),S.useEffect(function(){return w.current=!0,function(){w.current=!1}},[]);var de=S.useCallback(function(_e,Ne){if(!u)return Ne();var Se=u(_e,Ne);Se&&typeof Se.then=="function"&&Se.then(Ne,function(){return Ne()})},[u]);S.useEffect(function(){i===!0&&de(C,function(_e){w.current&&(B(_e||[]),O(!!y.current))})},[]);var ke=S.useCallback(function(_e,Ne){var Se=function(Be,Le,Ge){if(Ge){var xe=Ge(Be,Le);if(typeof xe=="string")return xe}return Be}(_e,Ne,h);if(!Se)return y.current=void 0,N(""),R(""),G([]),O(!1),void Y(!1);if(c&&M[Se])N(Se),R(Se),G(M[Se]),O(!1),Y(!1);else{var he=y.current={};N(Se),O(!0),Y(!P),de(Se,function(Be){w&&he===y.current&&(y.current=void 0,O(!1),R(Se),G(Be||[]),Y(!1),H(Be?Br(Br({},M),{},j1({},Se,Be)):M))})}},[c,de,P,M,h]),re=z?[]:C&&P?Q:k||[];return Br(Br({},x),{},{options:re,isLoading:L||f,onInputChange:ke,filterOption:g})}(e),n=function(a){var s=a.defaultInputValue,i=s===void 0?"":s,o=a.defaultMenuIsOpen,c=o!==void 0&&o,u=a.defaultValue,d=u===void 0?null:u,f=a.inputValue,h=a.menuIsOpen,p=a.onChange,g=a.onInputChange,x=a.onMenuClose,v=a.onMenuOpen,y=a.value,w=SA(a,fvt),E=io(S.useState(f!==void 0?f:i),2),k=E[0],B=E[1],j=io(S.useState(h!==void 0?h:c),2),C=j[0],N=j[1],I=io(S.useState(y!==void 0?y:d),2),L=I[0],O=I[1],T=S.useCallback(function(z,Y){typeof p=="function"&&p(z,Y),O(z)},[p]),P=S.useCallback(function(z,Y){var ee;typeof g=="function"&&(ee=g(z,Y)),B(ee!==void 0?ee:z)},[g]),R=S.useCallback(function(){typeof v=="function"&&v(),N(!0)},[v]),q=S.useCallback(function(){typeof x=="function"&&x(),N(!1)},[x]),Q=f!==void 0?f:k,G=h!==void 0?h:C,K=y!==void 0?y:L;return Br(Br({},w),{},{inputValue:Q,menuIsOpen:G,onChange:T,onInputChange:P,onMenuClose:q,onMenuOpen:R,value:K})}(r);return S.createElement(Kpe,Vr({ref:t},n))}),kvt=Nvt,Tvt=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;a--!=0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;a--!=0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!=0;){var i=s[a];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r},I1;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(I1||(I1={}));class Og{constructor({apiKey:t,authReferrerPolicy:r,channel:n,client:a,id:s="__googleMapsScriptId",language:i,libraries:o=[],mapIds:c,nonce:u,region:d,retries:f=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=n,this.client=a,this.id=s||"__googleMapsScriptId",this.language=i,this.libraries=o,this.mapIds=c,this.nonce=u,this.region=d,this.retries=f,this.url=h,this.version=p,Og.instance){if(!Tvt(this.options,Og.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Og.instance.options)}`);return Og.instance}Og.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?I1.FAILURE:this.done?I1.SUCCESS:this.loading?I1.LOADING:I1.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+=`?callback=${this.CALLBACK}`,this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(n=>{n?r(n.error):t(window.google)})})}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const t=this.createUrl(),r=document.createElement("script");r.id=this.id,r.type="text/javascript",r.src=t,r.onerror=this.loadErrorCallback.bind(this),r.defer=!0,r.async=!0,this.nonce&&(r.nonce=this.nonce),document.head.appendChild(r)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var Bvt=function(e,t,r){var n,a=e.bounds,s=e.location,i=function(c,u){var d={};for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&u.indexOf(f)<0&&(d[f]=c[f]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(f=Object.getOwnPropertySymbols(c);h<f.length;h++)u.indexOf(f[h])<0&&Object.prototype.propertyIsEnumerable.call(c,f[h])&&(d[f[h]]=c[f[h]])}return d}(e,["bounds","location"]),o=ox({input:t},i);return r&&(o.sessionToken=r),a&&(o.bounds=new((n=google.maps.LatLngBounds).bind.apply(n,function(){for(var c=0,u=0,d=arguments.length;u<d;u++)c+=arguments[u].length;var f=Array(c),h=0;for(u=0;u<d;u++)for(var p=arguments[u],g=0,x=p.length;g<x;g++,h++)f[h]=p[g];return f}([void 0],a)))),s&&(o.location=new google.maps.LatLng(s)),o},jvt=function(e){var t=e.autocompletionRequest,r=e.debounce,n=e.minLengthAutocomplete,a=e.placesService,s=e.sessionToken,i=e.withSessionToken,o=function(c,u,d){d===void 0&&(d={});var f=d.maxWait,h=S.useRef(null),p=S.useRef([]),g=d.leading,x=d.trailing===void 0||d.trailing,v=S.useRef(!1),y=S.useRef(null),w=S.useRef(!1),E=S.useRef(c);E.current=c;var k=S.useCallback(function(){clearTimeout(y.current),clearTimeout(h.current),h.current=null,p.current=[],y.current=null,v.current=!1},[]);S.useEffect(function(){return w.current=!1,function(){w.current=!0}},[]);var B=S.useCallback(function(){for(var C=[],N=0;N<arguments.length;N++)C[N]=arguments[N];p.current=C,clearTimeout(y.current),v.current&&(v.current=!1),y.current||!g||v.current||(E.current.apply(E,C),v.current=!0),y.current=setTimeout(function(){var I=!0;g&&v.current&&(I=!1),k(),!w.current&&x&&I&&E.current.apply(E,C)},u),f&&!h.current&&x&&(h.current=setTimeout(function(){var I=p.current;k(),w.current||E.current.apply(null,I)},f))},[f,u,k,g,x]),j=S.useCallback(function(){y.current&&(E.current.apply(null,p.current),k())},[k]);return[B,k,j]}(function(c,u){if(!a)return u([]);if(c.length<n)return u([]);var d=ox({},t);a.getPlacePredictions(Bvt(d,c,i&&s),function(f){u((f||[]).map(function(h){return{label:h.description,value:h}}))})},r)[0];return o},rte=S.forwardRef(function(e,t){var r,n,a,s,i,o,c,u,d=function(x){var v=x.apiKey,y=x.apiOptions,w=x.onLoadFailed,E=S.useState(void 0),k=E[0],B=E[1],j=S.useState(void 0),C=j[0],N=j[1],I=function(){if(!window.google)throw new Error("[react-google-places-autocomplete]: Google script not loaded");if(!window.google.maps)throw new Error("[react-google-places-autocomplete]: Google maps script not loaded");if(!window.google.maps.places)throw new Error("[react-google-places-autocomplete]: Google maps places script not loaded");B(new window.google.maps.places.AutocompleteService),N(new google.maps.places.AutocompleteSessionToken)};return S.useEffect(function(){v?Dgt(void 0,void 0,void 0,function(){var L;return Pgt(this,function(O){switch(O.label){case 0:if(!v)return[2];O.label=1;case 1:return O.trys.push([1,4,,5]),window.google&&window.google.maps&&window.google.maps.places?[3,3]:[4,new Og(ox({apiKey:v},ox({libraries:["places"]},y))).load()];case 2:O.sent(),O.label=3;case 3:return I(),[3,5];case 4:return L=O.sent(),typeof w=="function"&&w(L),[3,5];case 5:return[2]}})}):I()},[]),{placesService:k,sessionToken:C,setSessionToken:N}}({apiKey:(r=e.apiKey)!==null&&r!==void 0?r:"",apiOptions:(n=e.apiOptions)!==null&&n!==void 0?n:{},onLoadFailed:(a=e.onLoadFailed)!==null&&a!==void 0?a:console.error}),f=d.placesService,h=d.sessionToken,p=d.setSessionToken,g=jvt({autocompletionRequest:(s=e.autocompletionRequest)!==null&&s!==void 0?s:{},debounce:(i=e.debounce)!==null&&i!==void 0?i:300,minLengthAutocomplete:(o=e.minLengthAutocomplete)!==null&&o!==void 0?o:0,placesService:f,sessionToken:h,withSessionToken:(c=e.withSessionToken)!==null&&c!==void 0&&c});return S.useImperativeHandle(t,function(){return{getSessionToken:function(){return h},refreshSessionToken:function(){p(new google.maps.places.AutocompleteSessionToken)}}},[h]),Ze.createElement(kvt,ox({},(u=e.selectProps)!==null&&u!==void 0?u:{},{loadOptions:g,getOptionValue:function(x){return x.value.place_id}}))});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oL=function(e,t){return oL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},oL(e,t)};function Tf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");oL(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var lL=function(){return lL=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},lL.apply(this,arguments)};function Rl(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,c)}u((n=n.apply(e,[])).next())})}function cl(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function B5(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||t)}var w0=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Uj=function(e,t){return w0.fromClientRect(e,t.getBoundingClientRect())},Ivt=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new w0(0,0,n,a)},Qj=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},ai=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},nte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fvt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var j5=0;j5<nte.length;j5++)Fvt[nte.charCodeAt(j5)]=j5;var ate="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var I5=0;I5<ate.length;I5++)w2[ate.charCodeAt(I5)]=I5;var Ovt=function(e){var t=e.length*.75,r=e.length,n,a=0,s,i,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=w2[e.charCodeAt(n)],i=w2[e.charCodeAt(n+1)],o=w2[e.charCodeAt(n+2)],c=w2[e.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|o>>2,d[a++]=(o&3)<<6|c&63;return u},Dvt=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Pvt=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},ux=5,hQ=11,OO=2,Rvt=hQ-ux,Xpe=65536>>ux,Lvt=1<<ux,DO=Lvt-1,Mvt=1024>>ux,Uvt=Xpe+Mvt,Qvt=Uvt,Hvt=32,$vt=Qvt+Hvt,Vvt=65536>>hQ,zvt=1<<Rvt,Gvt=zvt-1,ste=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Kvt=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},qvt=function(e,t){var r=Ovt(e),n=Array.isArray(r)?Pvt(r):new Uint32Array(r),a=Array.isArray(r)?Dvt(r):new Uint16Array(r),s=24,i=ste(a,s/2,n[4]/2),o=n[5]===2?ste(a,(s+n[4])/2):Kvt(n,Math.ceil((s+n[4])/4));return new Wvt(n[0],n[1],n[2],n[3],i,o)},Wvt=function(){function e(t,r,n,a,s,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>ux],r=(r<<OO)+(t&DO),this.data[r];if(t<=65535)return r=this.index[Xpe+(t-55296>>ux)],r=(r<<OO)+(t&DO),this.data[r];if(t<this.highStart)return r=$vt-Vvt+(t>>hQ),r=this.index[r],r+=t>>ux&Gvt,r=this.index[r],r=(r<<OO)+(t&DO),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ite="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xvt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var F5=0;F5<ite.length;F5++)Xvt[ite.charCodeAt(F5)]=F5;var Yvt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ote=50,Jvt=1,Ype=2,Jpe=3,Zvt=4,e1t=5,lte=7,Zpe=8,cte=9,$p=10,cL=11,ute=12,uL=13,t1t=14,C2=15,dL=16,O5=17,qw=18,r1t=19,dte=20,fL=21,Ww=22,PO=23,r1=24,Jc=25,E2=26,S2=27,n1=28,n1t=29,Dg=30,a1t=31,D5=32,P5=33,AL=34,hL=35,pL=36,uE=37,mL=38,HN=39,$N=40,RO=41,eme=42,s1t=43,i1t=[9001,65288],tme="!",On="×",R5="÷",gL=qvt(Yvt),jh=[Dg,pL],xL=[Jvt,Ype,Jpe,e1t],rme=[$p,Zpe],fte=[S2,E2],o1t=xL.concat(rme),Ate=[mL,HN,$N,AL,hL],l1t=[C2,uL],c1t=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(s,i){var o=gL.get(s);if(o>ote?(a.push(!0),o-=ote):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),r.push(dL);if(o===Zvt||o===cL){if(i===0)return n.push(i),r.push(Dg);var c=r[i-1];return o1t.indexOf(c)===-1?(n.push(n[i-1]),r.push(c)):(n.push(i),r.push(Dg))}if(n.push(i),o===a1t)return r.push(t==="strict"?fL:uE);if(o===eme||o===n1t)return r.push(Dg);if(o===s1t)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(uE):r.push(Dg);r.push(o)}),[n,r,a]},LO=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var s=r;s<=n.length;){s++;var i=n[s];if(i===t)return!0;if(i!==$p)break}if(a===$p)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var c=r;c<=n.length;){c++;var i=n[c];if(i===t)return!0;if(i!==$p)break}if(o!==$p)break}return!1},hte=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===$p)r--;else return n}return 0},u1t=function(e,t,r,n,a){if(r[n]===0)return On;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return On;var i=s-1,o=s+1,c=t[s],u=i>=0?t[i]:0,d=t[o];if(c===Ype&&d===Jpe)return On;if(xL.indexOf(c)!==-1)return tme;if(xL.indexOf(d)!==-1||rme.indexOf(d)!==-1)return On;if(hte(s,t)===Zpe)return R5;if(gL.get(e[s])===cL||(c===D5||c===P5)&&gL.get(e[o])===cL||c===lte||d===lte||c===cte||[$p,uL,C2].indexOf(c)===-1&&d===cte||[O5,qw,r1t,r1,n1].indexOf(d)!==-1||hte(s,t)===Ww||LO(PO,Ww,s,t)||LO([O5,qw],fL,s,t)||LO(ute,ute,s,t))return On;if(c===$p)return R5;if(c===PO||d===PO)return On;if(d===dL||c===dL)return R5;if([uL,C2,fL].indexOf(d)!==-1||c===t1t||u===pL&&l1t.indexOf(c)!==-1||c===n1&&d===pL||d===dte||jh.indexOf(d)!==-1&&c===Jc||jh.indexOf(c)!==-1&&d===Jc||c===S2&&[uE,D5,P5].indexOf(d)!==-1||[uE,D5,P5].indexOf(c)!==-1&&d===E2||jh.indexOf(c)!==-1&&fte.indexOf(d)!==-1||fte.indexOf(c)!==-1&&jh.indexOf(d)!==-1||[S2,E2].indexOf(c)!==-1&&(d===Jc||[Ww,C2].indexOf(d)!==-1&&t[o+1]===Jc)||[Ww,C2].indexOf(c)!==-1&&d===Jc||c===Jc&&[Jc,n1,r1].indexOf(d)!==-1)return On;if([Jc,n1,r1,O5,qw].indexOf(d)!==-1)for(var f=s;f>=0;){var h=t[f];if(h===Jc)return On;if([n1,r1].indexOf(h)!==-1)f--;else break}if([S2,E2].indexOf(d)!==-1)for(var f=[O5,qw].indexOf(c)!==-1?i:s;f>=0;){var h=t[f];if(h===Jc)return On;if([n1,r1].indexOf(h)!==-1)f--;else break}if(mL===c&&[mL,HN,AL,hL].indexOf(d)!==-1||[HN,AL].indexOf(c)!==-1&&[HN,$N].indexOf(d)!==-1||[$N,hL].indexOf(c)!==-1&&d===$N||Ate.indexOf(c)!==-1&&[dte,E2].indexOf(d)!==-1||Ate.indexOf(d)!==-1&&c===S2||jh.indexOf(c)!==-1&&jh.indexOf(d)!==-1||c===r1&&jh.indexOf(d)!==-1||jh.concat(Jc).indexOf(c)!==-1&&d===Ww&&i1t.indexOf(e[o])===-1||jh.concat(Jc).indexOf(d)!==-1&&c===qw)return On;if(c===RO&&d===RO){for(var p=r[s],g=1;p>0&&(p--,t[p]===RO);)g++;if(g%2!==0)return On}return c===D5&&d===P5?On:R5},d1t=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=c1t(e,t.lineBreak),n=r[0],a=r[1],s=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(o){return[Jc,Dg,eme].indexOf(o)!==-1?uE:o}));var i=t.wordBreak==="keep-all"?s.map(function(o,c){return o&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,a,i]},f1t=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===tme,this.start=n,this.end=a}return e.prototype.slice=function(){return ai.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),A1t=function(e,t){var r=Qj(e),n=d1t(r,t),a=n[0],s=n[1],i=n[2],o=r.length,c=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=On;u<o&&(d=u1t(r,s,a,++u,i))===On;);if(d!==On||u===o){var f=new f1t(r,d,c,u);return c=u,{value:f,done:!1}}return{done:!0,value:null}}}},h1t=1,p1t=2,pS=4,pte=8,Yk=10,mte=47,nC=92,m1t=9,g1t=32,L5=34,Xw=61,x1t=35,v1t=36,b1t=37,M5=39,U5=40,Yw=41,y1t=95,xc=45,w1t=33,C1t=60,E1t=62,S1t=64,_1t=91,N1t=93,k1t=61,T1t=123,Q5=63,B1t=125,gte=124,j1t=126,I1t=128,xte=65533,MO=42,Gg=43,F1t=44,O1t=58,D1t=59,dE=46,P1t=0,R1t=8,L1t=11,M1t=14,U1t=31,Q1t=127,uA=-1,nme=48,ame=97,sme=101,H1t=102,$1t=117,V1t=122,ime=65,ome=69,lme=70,z1t=85,G1t=90,hl=function(e){return e>=nme&&e<=57},K1t=function(e){return e>=55296&&e<=57343},a1=function(e){return hl(e)||e>=ime&&e<=lme||e>=ame&&e<=H1t},q1t=function(e){return e>=ame&&e<=V1t},W1t=function(e){return e>=ime&&e<=G1t},X1t=function(e){return q1t(e)||W1t(e)},Y1t=function(e){return e>=I1t},H5=function(e){return e===Yk||e===m1t||e===g1t},Jk=function(e){return X1t(e)||Y1t(e)||e===y1t},vte=function(e){return Jk(e)||hl(e)||e===xc},J1t=function(e){return e>=P1t&&e<=R1t||e===L1t||e>=M1t&&e<=U1t||e===Q1t},Tp=function(e,t){return e!==nC?!1:t!==Yk},$5=function(e,t,r){return e===xc?Jk(t)||Tp(t,r):Jk(e)?!0:!!(e===nC&&Tp(e,t))},UO=function(e,t,r){return e===Gg||e===xc?hl(t)?!0:t===dE&&hl(r):hl(e===dE?t:e)},Z1t=function(e){var t=0,r=1;(e[t]===Gg||e[t]===xc)&&(e[t]===xc&&(r=-1),t++);for(var n=[];hl(e[t]);)n.push(e[t++]);var a=n.length?parseInt(ai.apply(void 0,n),10):0;e[t]===dE&&t++;for(var s=[];hl(e[t]);)s.push(e[t++]);var i=s.length,o=i?parseInt(ai.apply(void 0,s),10):0;(e[t]===ome||e[t]===sme)&&t++;var c=1;(e[t]===Gg||e[t]===xc)&&(e[t]===xc&&(c=-1),t++);for(var u=[];hl(e[t]);)u.push(e[t++]);var d=u.length?parseInt(ai.apply(void 0,u),10):0;return r*(a+o*Math.pow(10,-i))*Math.pow(10,c*d)},ebt={type:2},tbt={type:3},rbt={type:4},nbt={type:13},abt={type:8},sbt={type:21},ibt={type:9},obt={type:10},lbt={type:11},cbt={type:12},ubt={type:14},V5={type:23},dbt={type:1},fbt={type:25},Abt={type:24},hbt={type:26},pbt={type:27},mbt={type:28},gbt={type:29},xbt={type:31},vL={type:32},cme=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Qj(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==vL;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case L5:return this.consumeStringToken(L5);case x1t:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(vte(r)||Tp(n,a)){var s=$5(r,n,a)?p1t:h1t,i=this.consumeName();return{type:5,value:i,flags:s}}break;case v1t:if(this.peekCodePoint(0)===Xw)return this.consumeCodePoint(),nbt;break;case M5:return this.consumeStringToken(M5);case U5:return ebt;case Yw:return tbt;case MO:if(this.peekCodePoint(0)===Xw)return this.consumeCodePoint(),ubt;break;case Gg:if(UO(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case F1t:return rbt;case xc:var o=t,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(UO(o,c,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if($5(o,c,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===xc&&u===E1t)return this.consumeCodePoint(),this.consumeCodePoint(),Abt;break;case dE:if(UO(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case mte:if(this.peekCodePoint(0)===MO)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===MO&&(d=this.consumeCodePoint(),d===mte))return this.consumeToken();if(d===uA)return this.consumeToken()}break;case O1t:return hbt;case D1t:return pbt;case C1t:if(this.peekCodePoint(0)===w1t&&this.peekCodePoint(1)===xc&&this.peekCodePoint(2)===xc)return this.consumeCodePoint(),this.consumeCodePoint(),fbt;break;case S1t:var f=this.peekCodePoint(0),h=this.peekCodePoint(1),p=this.peekCodePoint(2);if($5(f,h,p)){var i=this.consumeName();return{type:7,value:i}}break;case _1t:return mbt;case nC:if(Tp(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case N1t:return gbt;case k1t:if(this.peekCodePoint(0)===Xw)return this.consumeCodePoint(),abt;break;case T1t:return lbt;case B1t:return cbt;case $1t:case z1t:var g=this.peekCodePoint(0),x=this.peekCodePoint(1);return g===Gg&&(a1(x)||x===Q5)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case gte:if(this.peekCodePoint(0)===Xw)return this.consumeCodePoint(),ibt;if(this.peekCodePoint(0)===gte)return this.consumeCodePoint(),sbt;break;case j1t:if(this.peekCodePoint(0)===Xw)return this.consumeCodePoint(),obt;break;case uA:return vL}return H5(t)?(this.consumeWhiteSpace(),xbt):hl(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Jk(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:ai(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();a1(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Q5&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(ai.apply(void 0,t.map(function(c){return c===Q5?nme:c})),16),s=parseInt(ai.apply(void 0,t.map(function(c){return c===Q5?lme:c})),16);return{type:30,start:a,end:s}}var i=parseInt(ai.apply(void 0,t),16);if(this.peekCodePoint(0)===xc&&a1(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];a1(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(ai.apply(void 0,o),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===U5?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===U5?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===uA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===M5||r===L5){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===uA||this.peekCodePoint(0)===Yw)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),V5)}for(;;){var a=this.consumeCodePoint();if(a===uA||a===Yw)return{type:22,value:ai.apply(void 0,t)};if(H5(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===uA||this.peekCodePoint(0)===Yw?(this.consumeCodePoint(),{type:22,value:ai.apply(void 0,t)}):(this.consumeBadUrlRemnants(),V5);if(a===L5||a===M5||a===U5||J1t(a))return this.consumeBadUrlRemnants(),V5;if(a===nC)if(Tp(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),V5;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;H5(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Yw||t===uA)return;Tp(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=ai.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===uA||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Yk)return this._value.splice(0,n),dbt;if(a===nC){var s=this._value[n+1];s!==uA&&s!==void 0&&(s===Yk?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Tp(a,s)&&(r+=this.consumeStringSlice(n),r+=ai(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=pS,n=this.peekCodePoint(0);for((n===Gg||n===xc)&&t.push(this.consumeCodePoint());hl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===dE&&hl(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=pte;hl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===ome||n===sme)&&((a===Gg||a===xc)&&hl(s)||hl(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=pte;hl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Z1t(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if($5(a,s,i)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return a===b1t?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(a1(t)){for(var r=ai(t);a1(this.peekCodePoint(0))&&r.length<6;)r+=ai(this.consumeCodePoint());H5(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||K1t(n)||n>1114111?xte:n}return t===uA?xte:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(vte(r))t+=ai(r);else if(Tp(r,this.peekCodePoint(0)))t+=ai(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),ume=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new cme;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||bbt(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?vL:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),mS=function(e){return e.type===15},Iy=function(e){return e.type===17},Oa=function(e){return e.type===20},vbt=function(e){return e.type===0},bL=function(e,t){return Oa(e)&&e.value===t},dme=function(e){return e.type!==31},Kb=function(e){return e.type!==31&&e.type!==4},WA=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},bbt=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Tm=function(e){return e.type===17||e.type===15},Bi=function(e){return e.type===16||Tm(e)},fme=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ho={type:17,number:0,flags:pS},pQ={type:16,number:50,flags:pS},Vp={type:16,number:100,flags:pS},_2=function(e,t,r){var n=e[0],a=e[1];return[Ga(n,t),Ga(typeof a<"u"?a:n,r)]},Ga=function(e,t){if(e.type===16)return e.number/100*t;if(mS(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Ame="deg",hme="grad",pme="rad",mme="turn",Hj={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Ame:return Math.PI*t.number/180;case hme:return Math.PI/200*t.number;case pme:return t.number;case mme:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},gme=function(e){return e.type===15&&(e.unit===Ame||e.unit===hme||e.unit===pme||e.unit===mme)},xme=function(e){var t=e.filter(Oa).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ho,Ho];case"to top":case"bottom":return dd(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ho,Vp];case"to right":case"left":return dd(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vp,Vp];case"to bottom":case"top":return dd(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vp,Ho];case"to left":case"right":return dd(270)}return 0},dd=function(e){return Math.PI*e/180},sm={name:"color",parse:function(e,t){if(t.type===18){var r=ybt[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3);return zp(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3),i=t.value.substring(3,4);return zp(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6);return zp(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6),i=t.value.substring(6,8);return zp(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(i,16)/255)}}if(t.type===20){var o=t0[t.value.toUpperCase()];if(typeof o<"u")return o}return t0.TRANSPARENT}},im=function(e){return(255&e)===0},so=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},zp=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},bte=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},yte=function(e,t){var r=t.filter(Kb);if(r.length===3){var n=r.map(bte),a=n[0],s=n[1],i=n[2];return zp(a,s,i,1)}if(r.length===4){var o=r.map(bte),a=o[0],s=o[1],i=o[2],c=o[3];return zp(a,s,i,c)}return 0};function QO(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var wte=function(e,t){var r=t.filter(Kb),n=r[0],a=r[1],s=r[2],i=r[3],o=(n.type===17?dd(n.number):Hj.parse(e,n))/(Math.PI*2),c=Bi(a)?a.number/100:0,u=Bi(s)?s.number/100:0,d=typeof i<"u"&&Bi(i)?Ga(i,1):1;if(c===0)return zp(u*255,u*255,u*255,1);var f=u<=.5?u*(c+1):u+c-u*c,h=u*2-f,p=QO(h,f,o+1/3),g=QO(h,f,o),x=QO(h,f,o-1/3);return zp(p*255,g*255,x*255,d)},ybt={hsl:wte,hsla:wte,rgb:yte,rgba:yte},aC=function(e,t){return sm.parse(e,ume.create(t).parseComponentValue())},t0={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},wbt={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Oa(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Cbt={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$j=function(e,t){var r=sm.parse(e,t[0]),n=t[1];return n&&Bi(n)?{color:r,stop:n}:{color:r,stop:null}},Cte=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Ho),n.stop===null&&(n.stop=Vp);for(var a=[],s=0,i=0;i<e.length;i++){var o=e[i].stop;if(o!==null){var c=Ga(o,t);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var u=null,i=0;i<a.length;i++){var d=a[i];if(d===null)u===null&&(u=i);else if(u!==null){for(var f=i-u,h=a[u-1],p=(d-h)/(f+1),g=1;g<=f;g++)a[u+g-1]=p*g;u=null}}return e.map(function(x,v){var y=x.color;return{color:y,stop:Math.max(Math.min(1,a[v]/t),0)}})},Ebt=function(e,t,r){var n=t/2,a=r/2,s=Ga(e[0],t)-n,i=a-Ga(e[1],r);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},Sbt=function(e,t,r){var n=typeof e=="number"?e:Ebt(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),s=t/2,i=r/2,o=a/2,c=Math.sin(n-Math.PI/2)*o,u=Math.cos(n-Math.PI/2)*o;return[a,s-u,s+u,i-c,i+c]},Yd=function(e,t){return Math.sqrt(e*e+t*t)},Ete=function(e,t,r,n,a){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(i,o){var c=o[0],u=o[1],d=Yd(r-c,n-u);return(a?d<i.optimumDistance:d>i.optimumDistance)?{optimumCorner:o,optimumDistance:d}:i},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},_bt=function(e,t,r,n,a){var s=0,i=0;switch(e.size){case 0:e.shape===0?s=i=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-n)),i=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)s=i=Math.min(Yd(t,r),Yd(t,r-a),Yd(t-n,r),Yd(t-n,r-a));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),c=Ete(n,a,t,r,!0),u=c[0],d=c[1];s=Yd(u-t,(d-r)/o),i=o*s}break;case 1:e.shape===0?s=i=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-n)),i=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)s=i=Math.max(Yd(t,r),Yd(t,r-a),Yd(t-n,r),Yd(t-n,r-a));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),f=Ete(n,a,t,r,!1),u=f[0],d=f[1];s=Yd(u-t,(d-r)/o),i=o*s}break}return Array.isArray(e.size)&&(s=Ga(e.size[0],n),i=e.size.length===2?Ga(e.size[1],a):s),[s,i]},Nbt=function(e,t){var r=dd(180),n=[];return WA(t).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&i.value==="to"){r=xme(a);return}else if(gme(i)){r=Hj.parse(e,i);return}}var o=$j(e,a);n.push(o)}),{angle:r,stops:n,type:1}},z5=function(e,t){var r=dd(180),n=[];return WA(t).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){r=xme(a);return}else if(gme(i)){r=(Hj.parse(e,i)+dd(270))%dd(360);return}}var o=$j(e,a);n.push(o)}),{angle:r,stops:n,type:1}},kbt=function(e,t){var r=dd(180),n=[],a=1,s=0,i=3,o=[];return WA(t).forEach(function(c,u){var d=c[0];if(u===0){if(Oa(d)&&d.value==="linear"){a=1;return}else if(Oa(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var f=sm.parse(e,d.values[0]);n.push({stop:Ho,color:f})}else if(d.name==="to"){var f=sm.parse(e,d.values[0]);n.push({stop:Vp,color:f})}else if(d.name==="color-stop"){var h=d.values.filter(Kb);if(h.length===2){var f=sm.parse(e,h[1]),p=h[0];Iy(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:f})}}}}),a===1?{angle:(r+dd(180))%dd(360),stops:n,type:a}:{size:i,shape:s,stops:n,position:o,type:a}},vme="closest-side",bme="farthest-side",yme="closest-corner",wme="farthest-corner",Cme="circle",Eme="ellipse",Sme="cover",_me="contain",Tbt=function(e,t){var r=0,n=3,a=[],s=[];return WA(t).forEach(function(i,o){var c=!0;if(o===0){var u=!1;c=i.reduce(function(f,h){if(u)if(Oa(h))switch(h.value){case"center":return s.push(pQ),f;case"top":case"left":return s.push(Ho),f;case"right":case"bottom":return s.push(Vp),f}else(Bi(h)||Tm(h))&&s.push(h);else if(Oa(h))switch(h.value){case Cme:return r=0,!1;case Eme:return r=1,!1;case"at":return u=!0,!1;case vme:return n=0,!1;case Sme:case bme:return n=1,!1;case _me:case yme:return n=2,!1;case wme:return n=3,!1}else if(Tm(h)||Bi(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return f},c)}if(c){var d=$j(e,i);a.push(d)}}),{size:n,shape:r,stops:a,position:s,type:2}},G5=function(e,t){var r=0,n=3,a=[],s=[];return WA(t).forEach(function(i,o){var c=!0;if(o===0?c=i.reduce(function(d,f){if(Oa(f))switch(f.value){case"center":return s.push(pQ),!1;case"top":case"left":return s.push(Ho),!1;case"right":case"bottom":return s.push(Vp),!1}else if(Bi(f)||Tm(f))return s.push(f),!1;return d},c):o===1&&(c=i.reduce(function(d,f){if(Oa(f))switch(f.value){case Cme:return r=0,!1;case Eme:return r=1,!1;case _me:case vme:return n=0,!1;case bme:return n=1,!1;case yme:return n=2,!1;case Sme:case wme:return n=3,!1}else if(Tm(f)||Bi(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},c)),c){var u=$j(e,i);a.push(u)}}),{size:n,shape:r,stops:a,position:s,type:2}},Bbt=function(e){return e.type===1},jbt=function(e){return e.type===2},mQ={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Nme[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ibt(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Nme[e.name])}var Nme={"linear-gradient":Nbt,"-moz-linear-gradient":z5,"-ms-linear-gradient":z5,"-o-linear-gradient":z5,"-webkit-linear-gradient":z5,"radial-gradient":Tbt,"-moz-radial-gradient":G5,"-ms-radial-gradient":G5,"-o-radial-gradient":G5,"-webkit-radial-gradient":G5,"-webkit-gradient":kbt},Fbt={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Kb(n)&&Ibt(n)}).map(function(n){return mQ.parse(e,n)})}},Obt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Oa(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Dbt={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return WA(t).map(function(r){return r.filter(Bi)}).map(fme)}},Pbt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return WA(t).map(function(r){return r.filter(Oa).map(function(n){return n.value}).join(" ")}).map(Rbt)}},Rbt=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},sb;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(sb||(sb={}));var Lbt={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return WA(t).map(function(r){return r.filter(Mbt)})}},Mbt=function(e){return Oa(e)||Bi(e)},Vj=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ubt=Vj("top"),Qbt=Vj("right"),Hbt=Vj("bottom"),$bt=Vj("left"),zj=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return fme(r.filter(Bi))}}},Vbt=zj("top-left"),zbt=zj("top-right"),Gbt=zj("bottom-right"),Kbt=zj("bottom-left"),Gj=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},qbt=Gj("top"),Wbt=Gj("right"),Xbt=Gj("bottom"),Ybt=Gj("left"),Kj=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return mS(r)?r.number:0}}},Jbt=Kj("top"),Zbt=Kj("right"),eyt=Kj("bottom"),tyt=Kj("left"),ryt={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nyt={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},ayt={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Oa).reduce(function(r,n){return r|syt(n.value)},0)}},syt=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},iyt={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},oyt={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Zk;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Zk||(Zk={}));var lyt={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Zk.STRICT;case"normal":default:return Zk.NORMAL}}},cyt={name:"line-height",initialValue:"normal",prefix:!1,type:4},Ste=function(e,t){return Oa(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Bi(e)?Ga(e,t):t},uyt={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:mQ.parse(e,t)}},dyt={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},yL={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},qj=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},fyt=qj("top"),Ayt=qj("right"),hyt=qj("bottom"),pyt=qj("left"),myt={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Oa).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},gyt={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Wj=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},xyt=Wj("top"),vyt=Wj("right"),byt=Wj("bottom"),yyt=Wj("left"),wyt={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Cyt={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Eyt={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&bL(t[0],"none")?[]:WA(t).map(function(r){for(var n={color:t0.TRANSPARENT,offsetX:Ho,offsetY:Ho,blur:Ho},a=0,s=0;s<r.length;s++){var i=r[s];Tm(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:n.blur=i,a++):n.color=sm.parse(e,i)}return n})}},Syt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_yt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=Tyt[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Nyt=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},kyt=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,a,s,i,o]:null},Tyt={matrix:Nyt,matrix3d:kyt},_te={type:16,number:50,flags:pS},Byt=[_te,_te],jyt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Bi);return r.length!==2?Byt:[r[0],r[1]]}},Iyt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},sC;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(sC||(sC={}));var Fyt={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return sC.BREAK_ALL;case"keep-all":return sC.KEEP_ALL;case"normal":default:return sC.NORMAL}}},Oyt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Iy(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},kme={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Dyt={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Iy(t)?t.number:1}},Pyt={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ryt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Oa).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Lyt={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Myt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Uyt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Iy(t))return t.number;if(Oa(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Qyt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Oa).map(function(r){return r.value})}},Hyt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Qi=function(e,t){return(e&t)!==0},$yt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Vyt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(dme),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(i.type===20){var c=o&&Iy(o)?o.number:1;n.push({counter:i.value,increment:c})}}return n}},zyt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(dme),a=0;a<n.length;a++){var s=n[a],i=n[a+1];if(Oa(s)&&s.value!=="none"){var o=i&&Iy(i)?i.number:0;r.push({counter:s.value,reset:o})}}return r}},Gyt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(mS).map(function(r){return kme.parse(e,r)})}},Kyt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(vbt);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var i=a[s].value,o=a[s+1].value;n.push({open:i,close:o})}return n}},Nte=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},qyt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&bL(t[0],"none")?[]:WA(t).map(function(r){for(var n={color:255,offsetX:Ho,offsetY:Ho,blur:Ho,spread:Ho,inset:!1},a=0,s=0;s<r.length;s++){var i=r[s];bL(i,"inset")?n.inset=!0:Tm(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:a===2?n.blur=i:n.spread=i,a++):n.color=sm.parse(e,i)}return n})}},Wyt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Oa).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},Xyt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Yyt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return mS(t)?t.number:0}},Jyt=function(){function e(t,r){var n,a;this.animationDuration=ur(t,Gyt,r.animationDuration),this.backgroundClip=ur(t,wbt,r.backgroundClip),this.backgroundColor=ur(t,Cbt,r.backgroundColor),this.backgroundImage=ur(t,Fbt,r.backgroundImage),this.backgroundOrigin=ur(t,Obt,r.backgroundOrigin),this.backgroundPosition=ur(t,Dbt,r.backgroundPosition),this.backgroundRepeat=ur(t,Pbt,r.backgroundRepeat),this.backgroundSize=ur(t,Lbt,r.backgroundSize),this.borderTopColor=ur(t,Ubt,r.borderTopColor),this.borderRightColor=ur(t,Qbt,r.borderRightColor),this.borderBottomColor=ur(t,Hbt,r.borderBottomColor),this.borderLeftColor=ur(t,$bt,r.borderLeftColor),this.borderTopLeftRadius=ur(t,Vbt,r.borderTopLeftRadius),this.borderTopRightRadius=ur(t,zbt,r.borderTopRightRadius),this.borderBottomRightRadius=ur(t,Gbt,r.borderBottomRightRadius),this.borderBottomLeftRadius=ur(t,Kbt,r.borderBottomLeftRadius),this.borderTopStyle=ur(t,qbt,r.borderTopStyle),this.borderRightStyle=ur(t,Wbt,r.borderRightStyle),this.borderBottomStyle=ur(t,Xbt,r.borderBottomStyle),this.borderLeftStyle=ur(t,Ybt,r.borderLeftStyle),this.borderTopWidth=ur(t,Jbt,r.borderTopWidth),this.borderRightWidth=ur(t,Zbt,r.borderRightWidth),this.borderBottomWidth=ur(t,eyt,r.borderBottomWidth),this.borderLeftWidth=ur(t,tyt,r.borderLeftWidth),this.boxShadow=ur(t,qyt,r.boxShadow),this.color=ur(t,ryt,r.color),this.direction=ur(t,nyt,r.direction),this.display=ur(t,ayt,r.display),this.float=ur(t,iyt,r.cssFloat),this.fontFamily=ur(t,Lyt,r.fontFamily),this.fontSize=ur(t,Myt,r.fontSize),this.fontStyle=ur(t,Hyt,r.fontStyle),this.fontVariant=ur(t,Qyt,r.fontVariant),this.fontWeight=ur(t,Uyt,r.fontWeight),this.letterSpacing=ur(t,oyt,r.letterSpacing),this.lineBreak=ur(t,lyt,r.lineBreak),this.lineHeight=ur(t,cyt,r.lineHeight),this.listStyleImage=ur(t,uyt,r.listStyleImage),this.listStylePosition=ur(t,dyt,r.listStylePosition),this.listStyleType=ur(t,yL,r.listStyleType),this.marginTop=ur(t,fyt,r.marginTop),this.marginRight=ur(t,Ayt,r.marginRight),this.marginBottom=ur(t,hyt,r.marginBottom),this.marginLeft=ur(t,pyt,r.marginLeft),this.opacity=ur(t,Dyt,r.opacity);var s=ur(t,myt,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ur(t,gyt,r.overflowWrap),this.paddingTop=ur(t,xyt,r.paddingTop),this.paddingRight=ur(t,vyt,r.paddingRight),this.paddingBottom=ur(t,byt,r.paddingBottom),this.paddingLeft=ur(t,yyt,r.paddingLeft),this.paintOrder=ur(t,Wyt,r.paintOrder),this.position=ur(t,Cyt,r.position),this.textAlign=ur(t,wyt,r.textAlign),this.textDecorationColor=ur(t,Pyt,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ur(t,Ryt,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=ur(t,Eyt,r.textShadow),this.textTransform=ur(t,Syt,r.textTransform),this.transform=ur(t,_yt,r.transform),this.transformOrigin=ur(t,jyt,r.transformOrigin),this.visibility=ur(t,Iyt,r.visibility),this.webkitTextStrokeColor=ur(t,Xyt,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ur(t,Yyt,r.webkitTextStrokeWidth),this.wordBreak=ur(t,Fyt,r.wordBreak),this.zIndex=ur(t,Oyt,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return im(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Qi(this.display,4)||Qi(this.display,33554432)||Qi(this.display,268435456)||Qi(this.display,536870912)||Qi(this.display,67108864)||Qi(this.display,134217728)},e}(),Zyt=function(){function e(t,r){this.content=ur(t,$yt,r.content),this.quotes=ur(t,Kyt,r.quotes)}return e}(),kte=function(){function e(t,r){this.counterIncrement=ur(t,Vyt,r.counterIncrement),this.counterReset=ur(t,zyt,r.counterReset)}return e}(),ur=function(e,t,r){var n=new cme,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var s=new ume(n.read());switch(t.type){case 2:var i=s.parseComponentValue();return t.parse(e,Oa(i)?i.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Hj.parse(e,s.parseComponentValue());case"color":return sm.parse(e,s.parseComponentValue());case"image":return mQ.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Tm(o)?o:Ho;case"length-percentage":var c=s.parseComponentValue();return Bi(c)?c:Ho;case"time":return kme.parse(e,s.parseComponentValue())}break}},ewt="data-html2canvas-debug",twt=function(e){var t=e.getAttribute(ewt);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},wL=function(e,t){var r=twt(e);return r===1||t===r},XA=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,wL(r,3))debugger;this.styles=new Jyt(t,window.getComputedStyle(r,null)),SL(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Uj(this.context,r),wL(r,4)&&(this.flags|=16)}return e}(),rwt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Tte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var K5=0;K5<Tte.length;K5++)N2[Tte.charCodeAt(K5)]=K5;var nwt=function(e){var t=e.length*.75,r=e.length,n,a=0,s,i,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=N2[e.charCodeAt(n)],i=N2[e.charCodeAt(n+1)],o=N2[e.charCodeAt(n+2)],c=N2[e.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|o>>2,d[a++]=(o&3)<<6|c&63;return u},awt=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},swt=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},dx=5,gQ=11,HO=2,iwt=gQ-dx,Tme=65536>>dx,owt=1<<dx,$O=owt-1,lwt=1024>>dx,cwt=Tme+lwt,uwt=cwt,dwt=32,fwt=uwt+dwt,Awt=65536>>gQ,hwt=1<<iwt,pwt=hwt-1,Bte=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},mwt=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},gwt=function(e,t){var r=nwt(e),n=Array.isArray(r)?swt(r):new Uint32Array(r),a=Array.isArray(r)?awt(r):new Uint16Array(r),s=24,i=Bte(a,s/2,n[4]/2),o=n[5]===2?Bte(a,(s+n[4])/2):mwt(n,Math.ceil((s+n[4])/4));return new xwt(n[0],n[1],n[2],n[3],i,o)},xwt=function(){function e(t,r,n,a,s,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>dx],r=(r<<HO)+(t&$O),this.data[r];if(t<=65535)return r=this.index[Tme+(t-55296>>dx)],r=(r<<HO)+(t&$O),this.data[r];if(t<this.highStart)return r=fwt-Awt+(t>>gQ),r=this.index[r],r+=t>>dx&pwt,r=this.index[r],r=(r<<HO)+(t&$O),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),jte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vwt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var q5=0;q5<jte.length;q5++)vwt[jte.charCodeAt(q5)]=q5;var bwt=1,VO=2,zO=3,Ite=4,Fte=5,ywt=7,Ote=8,GO=9,KO=10,Dte=11,Pte=12,Rte=13,Lte=14,qO=15,wwt=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},Cwt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Ewt=gwt(rwt),td="×",WO="÷",Swt=function(e){return Ewt.get(e)},_wt=function(e,t,r){var n=r-2,a=t[n],s=t[r-1],i=t[r];if(s===VO&&i===zO)return td;if(s===VO||s===zO||s===Ite||i===VO||i===zO||i===Ite)return WO;if(s===Ote&&[Ote,GO,Dte,Pte].indexOf(i)!==-1||(s===Dte||s===GO)&&(i===GO||i===KO)||(s===Pte||s===KO)&&i===KO||i===Rte||i===Fte||i===ywt||s===bwt)return td;if(s===Rte&&i===Lte){for(;a===Fte;)a=t[--n];if(a===Lte)return td}if(s===qO&&i===qO){for(var o=0;a===qO;)o++,a=t[--n];if(o%2===0)return td}return WO},Nwt=function(e){var t=wwt(e),r=t.length,n=0,a=0,s=t.map(Swt);return{next:function(){if(n>=r)return{done:!0,value:null};for(var i=td;n<r&&(i=_wt(t,s,++n))===td;);if(i!==td||n===r){var o=Cwt.apply(null,t.slice(a,n));return a=n,{value:o,done:!1}}return{done:!0,value:null}}}},kwt=function(e){for(var t=Nwt(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},Twt=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),s=Math.round(a.height);if(e.body.removeChild(n),s===t)return!0}}return!1},Bwt=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=Qj(n.data).map(function(c){return ai(c)}),s=0,i={},o=a.every(function(c,u){r.setStart(n,s),r.setEnd(n,s+c.length);var d=r.getBoundingClientRect();s+=c.length;var f=d.x>i.x||d.y>i.y;return i=d,u===0?!0:f});return e.body.removeChild(t),o},jwt=function(){return typeof new Image().crossOrigin<"u"},Iwt=function(){return typeof new XMLHttpRequest().responseType=="string"},Fwt=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},Mte=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Owt=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,s=t.toDataURL();a.src=s;var i=CL(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),Ute(i).then(function(o){n.drawImage(o,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=r+"px",Mte(c)?Ute(CL(r,r,0,0,u)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),Mte(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},CL=function(e,t,r,n,a){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(a),i},Ute=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Oo={get SUPPORT_RANGE_BOUNDS(){var e=Twt(document);return Object.defineProperty(Oo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Oo.SUPPORT_RANGE_BOUNDS&&Bwt(document);return Object.defineProperty(Oo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Fwt(document);return Object.defineProperty(Oo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?Owt(document):Promise.resolve(!1);return Object.defineProperty(Oo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=jwt();return Object.defineProperty(Oo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Iwt();return Object.defineProperty(Oo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Oo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Oo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},iC=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),Dwt=function(e,t,r,n){var a=Lwt(t,r),s=[],i=0;return a.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Oo.SUPPORT_RANGE_BOUNDS){var c=Qte(n,i,o.length).getClientRects();if(c.length>1){var u=xQ(o),d=0;u.forEach(function(h){s.push(new iC(h,w0.fromDOMRectList(e,Qte(n,d+i,h.length).getClientRects()))),d+=h.length})}else s.push(new iC(o,w0.fromDOMRectList(e,c)))}else{var f=n.splitText(o.length);s.push(new iC(o,Pwt(e,n))),n=f}else Oo.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));i+=o.length}),s},Pwt=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var s=Uj(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return w0.EMPTY},Qte=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},xQ=function(e){if(Oo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return kwt(e)},Rwt=function(e,t){if(Oo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return Uwt(e,t)},Lwt=function(e,t){return t.letterSpacing!==0?xQ(e):Rwt(e,t)},Mwt=[32,160,4961,65792,65793,4153,4241],Uwt=function(e,t){for(var r=A1t(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,s=function(){if(a.value){var i=a.value.slice(),o=Qj(i),c="";o.forEach(function(u){Mwt.indexOf(u)===-1?c+=ai(u):(c.length&&n.push(c),n.push(ai(u)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)s();return n},Qwt=function(){function e(t,r,n){this.text=Hwt(r.data,n.textTransform),this.textBounds=Dwt(t,this.text,n,r)}return e}(),Hwt=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace($wt,Vwt);case 2:return e.toUpperCase();default:return e}},$wt=/(^|\s|:|-|\(|\))([a-z])/g,Vwt=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Bme=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(XA),jme=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(XA),Ime=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=new XMLSerializer,i=Uj(r,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(XA),Fme=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(XA),EL=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(XA),zwt=[{type:15,flags:0,unit:"px",number:3}],Gwt=[{type:16,flags:0,number:50}],Kwt=function(e){return e.width>e.height?new w0(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new w0(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},qwt=function(e){var t=e.type===Wwt?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},eT="checkbox",tT="radio",Wwt="password",Hte=707406591,vQ=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=qwt(n),(a.type===eT||a.type===tT)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Kwt(a.bounds)),a.type){case eT:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=zwt;break;case tT:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Gwt;break}return a}return t}(XA),Ome=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return t}(XA),Dme=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(XA),Pme=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=Lme(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?aC(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):t0.TRANSPARENT,i=n.contentWindow.document.body?aC(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):t0.TRANSPARENT;a.backgroundColor=im(s)?im(i)?a.styles.backgroundColor:i:s}}catch{}return a}return t}(XA),Xwt=["OL","UL","MENU"],VN=function(e,t,r,n){for(var a=t.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,Mme(a)&&a.data.trim().length>0)r.textNodes.push(new Qwt(e,a,r.styles));else if(F1(a))if($me(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return VN(e,o,r,n)});else{var i=Rme(e,a);i.styles.isVisible()&&(Ywt(a,i,n)?i.flags|=4:Jwt(i.styles)&&(i.flags|=2),Xwt.indexOf(a.tagName)!==-1&&(i.flags|=8),r.elements.push(i),a.slot,a.shadowRoot?VN(e,a.shadowRoot,i,n):!rT(a)&&!Ume(a)&&!nT(a)&&VN(e,a,i,n))}},Rme=function(e,t){return _L(t)?new Bme(e,t):Qme(t)?new jme(e,t):Ume(t)?new Ime(e,t):Zwt(t)?new Fme(e,t):e2t(t)?new EL(e,t):t2t(t)?new vQ(e,t):nT(t)?new Ome(e,t):rT(t)?new Dme(e,t):Hme(t)?new Pme(e,t):new XA(e,t)},Lme=function(e,t){var r=Rme(e,t);return r.flags|=4,VN(e,t,r,r),r},Ywt=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||bQ(e)&&r.styles.isTransparent()},Jwt=function(e){return e.isPositioned()||e.isFloating()},Mme=function(e){return e.nodeType===Node.TEXT_NODE},F1=function(e){return e.nodeType===Node.ELEMENT_NODE},SL=function(e){return F1(e)&&typeof e.style<"u"&&!zN(e)},zN=function(e){return typeof e.className=="object"},Zwt=function(e){return e.tagName==="LI"},e2t=function(e){return e.tagName==="OL"},t2t=function(e){return e.tagName==="INPUT"},r2t=function(e){return e.tagName==="HTML"},Ume=function(e){return e.tagName==="svg"},bQ=function(e){return e.tagName==="BODY"},Qme=function(e){return e.tagName==="CANVAS"},$te=function(e){return e.tagName==="VIDEO"},_L=function(e){return e.tagName==="IMG"},Hme=function(e){return e.tagName==="IFRAME"},Vte=function(e){return e.tagName==="STYLE"},n2t=function(e){return e.tagName==="SCRIPT"},rT=function(e){return e.tagName==="TEXTAREA"},nT=function(e){return e.tagName==="SELECT"},$me=function(e){return e.tagName==="SLOT"},zte=function(e){return e.tagName.indexOf("-")>0},a2t=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,s=!0;n!==null&&n.forEach(function(o){var c=r.counters[o.counter];c&&o.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var i=[];return s&&a.forEach(function(o){var c=r.counters[o.counter];i.push(o.counter),c||(c=r.counters[o.counter]=[]),c.push(o.reset)}),i},e}(),Gte={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Kte={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},s2t={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},i2t={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},s1=function(e,t,r,n,a,s){return e<t||e>r?fE(e,a,s.length>0):n.integers.reduce(function(i,o,c){for(;e>=o;)e-=o,i+=n.values[c];return i},"")+s},Vme=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},ti=function(e,t,r,n,a){var s=r-t+1;return(e<0?"-":"")+(Vme(Math.abs(e),s,n,function(i){return ai(Math.floor(i%s)+t)})+a)},vg=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return Vme(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},x1=1,Ep=2,Sp=4,k2=8,Ih=function(e,t,r,n,a,s){if(e<-9999||e>9999)return fE(e,4,a.length>0);var i=Math.abs(e),o=a;if(i===0)return t[0]+o;for(var c=0;i>0&&c<=4;c++){var u=i%10;u===0&&Qi(s,x1)&&o!==""?o=t[u]+o:u>1||u===1&&c===0||u===1&&c===1&&Qi(s,Ep)||u===1&&c===1&&Qi(s,Sp)&&e>100||u===1&&c>1&&Qi(s,k2)?o=t[u]+(c>0?r[c-1]:"")+o:u===1&&c>0&&(o=r[c-1]+o),i=Math.floor(i/10)}return(e<0?n:"")+o},qte="十百千萬",Wte="拾佰仟萬",Xte="マイナス",XO="마이너스",fE=function(e,t,r){var n=r?". ":"",a=r?"、":"",s=r?", ":"",i=r?" ":"";switch(t){case 0:return"•"+i;case 1:return"◦"+i;case 2:return"◾"+i;case 5:var o=ti(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return vg(e,"〇一二三四五六七八九",a);case 6:return s1(e,1,3999,Gte,3,n).toLowerCase();case 7:return s1(e,1,3999,Gte,3,n);case 8:return ti(e,945,969,!1,n);case 9:return ti(e,97,122,!1,n);case 10:return ti(e,65,90,!1,n);case 11:return ti(e,1632,1641,!0,n);case 12:case 49:return s1(e,1,9999,Kte,3,n);case 35:return s1(e,1,9999,Kte,3,n).toLowerCase();case 13:return ti(e,2534,2543,!0,n);case 14:case 30:return ti(e,6112,6121,!0,n);case 15:return vg(e,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return vg(e,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return Ih(e,"零一二三四五六七八九",qte,"負",a,Ep|Sp|k2);case 47:return Ih(e,"零壹貳參肆伍陸柒捌玖",Wte,"負",a,x1|Ep|Sp|k2);case 42:return Ih(e,"零一二三四五六七八九",qte,"负",a,Ep|Sp|k2);case 41:return Ih(e,"零壹贰叁肆伍陆柒捌玖",Wte,"负",a,x1|Ep|Sp|k2);case 26:return Ih(e,"〇一二三四五六七八九","十百千万",Xte,a,0);case 25:return Ih(e,"零壱弐参四伍六七八九","拾百千万",Xte,a,x1|Ep|Sp);case 31:return Ih(e,"영일이삼사오육칠팔구","십백천만",XO,s,x1|Ep|Sp);case 33:return Ih(e,"零一二三四五六七八九","十百千萬",XO,s,0);case 32:return Ih(e,"零壹貳參四五六七八九","拾百千",XO,s,x1|Ep|Sp);case 18:return ti(e,2406,2415,!0,n);case 20:return s1(e,1,19999,i2t,3,n);case 21:return ti(e,2790,2799,!0,n);case 22:return ti(e,2662,2671,!0,n);case 22:return s1(e,1,10999,s2t,3,n);case 23:return vg(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return vg(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return ti(e,3302,3311,!0,n);case 28:return vg(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return vg(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return ti(e,3792,3801,!0,n);case 37:return ti(e,6160,6169,!0,n);case 38:return ti(e,4160,4169,!0,n);case 39:return ti(e,2918,2927,!0,n);case 40:return ti(e,1776,1785,!0,n);case 43:return ti(e,3046,3055,!0,n);case 44:return ti(e,3174,3183,!0,n);case 45:return ti(e,3664,3673,!0,n);case 46:return ti(e,3872,3881,!0,n);case 3:default:return ti(e,48,57,!0,n)}},zme="data-html2canvas-ignore",Yte=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new a2t,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=o2t(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,i=t.defaultView.pageYOffset,o=a.contentWindow,c=o.document,u=u2t(a).then(function(){return Rl(n,void 0,void 0,function(){var d,f;return cl(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(h2t),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,c2t(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,f)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(f2t(document.doctype)+"<html></html>"),A2t(this.referenceElement.ownerDocument,s,i),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(t){if(wL(t,2))debugger;if(Qme(t))return this.createCanvasClone(t);if($te(t))return this.createVideoClone(t);if(Vte(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return _L(r)&&(_L(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),zte(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return YO(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var s=t.getContext("2d"),i=a.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var c=o.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!F1(r)||!n2t(r)&&!r.hasAttribute(zme)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!F1(r)||!Vte(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(F1(s)&&$me(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(o){return a.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},e.prototype.cloneNode=function(t,r){if(Mme(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&F1(t)&&(SL(t)||zN(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var s=n.getComputedStyle(t),i=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&SL(a)&&(this.clonedReferenceElement=a),bQ(a)&&g2t(a);var c=this.counters.parse(new kte(this.context,s)),u=this.resolvePseudoContent(t,a,i,oC.BEFORE);zte(t)&&(r=!0),$te(t)||this.cloneChildNodes(t,a,r),u&&a.insertBefore(u,a.firstChild);var d=this.resolvePseudoContent(t,a,o,oC.AFTER);return d&&a.appendChild(d),this.counters.pop(c),(s&&(this.options.copyStyles||zN(t))&&!Hme(t)||r)&&YO(s,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(rT(t)||nT(t))&&(rT(a)||nT(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var s=this;if(n){var i=n.content,o=r.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new kte(this.context,n));var c=new Zyt(this.context,n),u=o.createElement("html2canvaspseudoelement");YO(n,u),c.content.forEach(function(f){if(f.type===0)u.appendChild(o.createTextNode(f.value));else if(f.type===22){var h=o.createElement("img");h.src=f.value,h.style.opacity="1",u.appendChild(h)}else if(f.type===18){if(f.name==="attr"){var p=f.values.filter(Oa);p.length&&u.appendChild(o.createTextNode(t.getAttribute(p[0].value)||""))}else if(f.name==="counter"){var g=f.values.filter(Kb),x=g[0],v=g[1];if(x&&Oa(x)){var y=s.counters.getCounterValue(x.value),w=v&&Oa(v)?yL.parse(s.context,v.value):3;u.appendChild(o.createTextNode(fE(y,w,!1)))}}else if(f.name==="counters"){var E=f.values.filter(Kb),x=E[0],k=E[1],v=E[2];if(x&&Oa(x)){var B=s.counters.getCounterValues(x.value),j=v&&Oa(v)?yL.parse(s.context,v.value):3,C=k&&k.type===0?k.value:"",N=B.map(function(O){return fE(O,j,!1)}).join(C);u.appendChild(o.createTextNode(N))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(o.createTextNode(Nte(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(Nte(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(f.value))}}),u.className=NL+" "+kL;var d=a===oC.BEFORE?" "+NL:" "+kL;return zN(r)?r.className.baseValue+=d:r.className+=d,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),oC;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(oC||(oC={}));var o2t=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(zme,"true"),e.body.appendChild(r),r},l2t=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},c2t=function(e){return Promise.all([].slice.call(e.images,0).map(l2t))},u2t=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},d2t=["all","d","content"],YO=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);d2t.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},f2t=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},A2t=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},h2t=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},p2t=":before",m2t=":after",NL="___html2canvas___pseudoelement_before",kL="___html2canvas___pseudoelement_after",Jte=`{
    content: "" !important;
    display: none !important;
}`,g2t=function(e){x2t(e,"."+NL+p2t+Jte+`
         .`+kL+m2t+Jte)},x2t=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},Gme=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),v2t=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(ZO(t)||C2t(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Rl(this,void 0,void 0,function(){var r,n,a,s,i=this;return cl(this,function(o){switch(o.label){case 0:return r=Gme.isSameOrigin(t),n=!JO(t)&&this._options.useCORS===!0&&Oo.SUPPORT_CORS_IMAGES&&!r,a=!JO(t)&&!r&&!ZO(t)&&typeof this._options.proxy=="string"&&Oo.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!JO(t)&&!ZO(t)&&!a&&!n?[2]:(s=t,a?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,u){var d=new Image;d.onload=function(){return c(d)},d.onerror=u,(E2t(s)||n)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return c(d)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(s,i){var o=Oo.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")s(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(h){return i(h)},!1),f.readAsDataURL(c.response)}else i("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),r._options.imageTimeout){var d=r._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return i("Timed out ("+d+"ms) proxying "+a)}}c.send()})},e}(),b2t=/^data:image\/svg\+xml/i,y2t=/^data:image\/.*;base64,/i,w2t=/^data:image\/.*/i,C2t=function(e){return Oo.SUPPORT_SVG_DRAWING||!S2t(e)},JO=function(e){return w2t.test(e)},E2t=function(e){return y2t.test(e)},ZO=function(e){return e.substr(0,4)==="blob"},S2t=function(e){return e.substr(-3).toLowerCase()==="svg"||b2t.test(e)},ir=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),i1=function(e,t,r){return new ir(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},W5=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=i1(this.start,this.startControl,t),a=i1(this.startControl,this.endControl,t),s=i1(this.endControl,this.end,t),i=i1(n,a,t),o=i1(a,s,t),c=i1(i,o,t);return r?new e(this.start,n,i,c):new e(c,o,s,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),id=function(e){return e.type===1},_2t=function(){function e(t){var r=t.styles,n=t.bounds,a=_2(r.borderTopLeftRadius,n.width,n.height),s=a[0],i=a[1],o=_2(r.borderTopRightRadius,n.width,n.height),c=o[0],u=o[1],d=_2(r.borderBottomRightRadius,n.width,n.height),f=d[0],h=d[1],p=_2(r.borderBottomLeftRadius,n.width,n.height),g=p[0],x=p[1],v=[];v.push((s+c)/n.width),v.push((g+f)/n.width),v.push((i+x)/n.height),v.push((u+h)/n.height);var y=Math.max.apply(Math,v);y>1&&(s/=y,i/=y,c/=y,u/=y,f/=y,h/=y,g/=y,x/=y);var w=n.width-c,E=n.height-h,k=n.width-f,B=n.height-x,j=r.borderTopWidth,C=r.borderRightWidth,N=r.borderBottomWidth,I=r.borderLeftWidth,L=Ga(r.paddingTop,t.bounds.width),O=Ga(r.paddingRight,t.bounds.width),T=Ga(r.paddingBottom,t.bounds.width),P=Ga(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?us(n.left+I/3,n.top+j/3,s-I/3,i-j/3,Aa.TOP_LEFT):new ir(n.left+I/3,n.top+j/3),this.topRightBorderDoubleOuterBox=s>0||i>0?us(n.left+w,n.top+j/3,c-C/3,u-j/3,Aa.TOP_RIGHT):new ir(n.left+n.width-C/3,n.top+j/3),this.bottomRightBorderDoubleOuterBox=f>0||h>0?us(n.left+k,n.top+E,f-C/3,h-N/3,Aa.BOTTOM_RIGHT):new ir(n.left+n.width-C/3,n.top+n.height-N/3),this.bottomLeftBorderDoubleOuterBox=g>0||x>0?us(n.left+I/3,n.top+B,g-I/3,x-N/3,Aa.BOTTOM_LEFT):new ir(n.left+I/3,n.top+n.height-N/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?us(n.left+I*2/3,n.top+j*2/3,s-I*2/3,i-j*2/3,Aa.TOP_LEFT):new ir(n.left+I*2/3,n.top+j*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?us(n.left+w,n.top+j*2/3,c-C*2/3,u-j*2/3,Aa.TOP_RIGHT):new ir(n.left+n.width-C*2/3,n.top+j*2/3),this.bottomRightBorderDoubleInnerBox=f>0||h>0?us(n.left+k,n.top+E,f-C*2/3,h-N*2/3,Aa.BOTTOM_RIGHT):new ir(n.left+n.width-C*2/3,n.top+n.height-N*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||x>0?us(n.left+I*2/3,n.top+B,g-I*2/3,x-N*2/3,Aa.BOTTOM_LEFT):new ir(n.left+I*2/3,n.top+n.height-N*2/3),this.topLeftBorderStroke=s>0||i>0?us(n.left+I/2,n.top+j/2,s-I/2,i-j/2,Aa.TOP_LEFT):new ir(n.left+I/2,n.top+j/2),this.topRightBorderStroke=s>0||i>0?us(n.left+w,n.top+j/2,c-C/2,u-j/2,Aa.TOP_RIGHT):new ir(n.left+n.width-C/2,n.top+j/2),this.bottomRightBorderStroke=f>0||h>0?us(n.left+k,n.top+E,f-C/2,h-N/2,Aa.BOTTOM_RIGHT):new ir(n.left+n.width-C/2,n.top+n.height-N/2),this.bottomLeftBorderStroke=g>0||x>0?us(n.left+I/2,n.top+B,g-I/2,x-N/2,Aa.BOTTOM_LEFT):new ir(n.left+I/2,n.top+n.height-N/2),this.topLeftBorderBox=s>0||i>0?us(n.left,n.top,s,i,Aa.TOP_LEFT):new ir(n.left,n.top),this.topRightBorderBox=c>0||u>0?us(n.left+w,n.top,c,u,Aa.TOP_RIGHT):new ir(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||h>0?us(n.left+k,n.top+E,f,h,Aa.BOTTOM_RIGHT):new ir(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||x>0?us(n.left,n.top+B,g,x,Aa.BOTTOM_LEFT):new ir(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?us(n.left+I,n.top+j,Math.max(0,s-I),Math.max(0,i-j),Aa.TOP_LEFT):new ir(n.left+I,n.top+j),this.topRightPaddingBox=c>0||u>0?us(n.left+Math.min(w,n.width-C),n.top+j,w>n.width+C?0:Math.max(0,c-C),Math.max(0,u-j),Aa.TOP_RIGHT):new ir(n.left+n.width-C,n.top+j),this.bottomRightPaddingBox=f>0||h>0?us(n.left+Math.min(k,n.width-I),n.top+Math.min(E,n.height-N),Math.max(0,f-C),Math.max(0,h-N),Aa.BOTTOM_RIGHT):new ir(n.left+n.width-C,n.top+n.height-N),this.bottomLeftPaddingBox=g>0||x>0?us(n.left+I,n.top+Math.min(B,n.height-N),Math.max(0,g-I),Math.max(0,x-N),Aa.BOTTOM_LEFT):new ir(n.left+I,n.top+n.height-N),this.topLeftContentBox=s>0||i>0?us(n.left+I+P,n.top+j+L,Math.max(0,s-(I+P)),Math.max(0,i-(j+L)),Aa.TOP_LEFT):new ir(n.left+I+P,n.top+j+L),this.topRightContentBox=c>0||u>0?us(n.left+Math.min(w,n.width+I+P),n.top+j+L,w>n.width+I+P?0:c-I+P,u-(j+L),Aa.TOP_RIGHT):new ir(n.left+n.width-(C+O),n.top+j+L),this.bottomRightContentBox=f>0||h>0?us(n.left+Math.min(k,n.width-(I+P)),n.top+Math.min(E,n.height+j+L),Math.max(0,f-(C+O)),h-(N+T),Aa.BOTTOM_RIGHT):new ir(n.left+n.width-(C+O),n.top+n.height-(N+T)),this.bottomLeftContentBox=g>0||x>0?us(n.left+I+P,n.top+B,Math.max(0,g-(I+P)),x-(N+T),Aa.BOTTOM_LEFT):new ir(n.left+I+P,n.top+n.height-(N+T))}return e}(),Aa;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Aa||(Aa={}));var us=function(e,t,r,n,a){var s=4*((Math.sqrt(2)-1)/3),i=r*s,o=n*s,c=e+r,u=t+n;switch(a){case Aa.TOP_LEFT:return new W5(new ir(e,u),new ir(e,u-o),new ir(c-i,t),new ir(c,t));case Aa.TOP_RIGHT:return new W5(new ir(e,t),new ir(e+i,t),new ir(c,u-o),new ir(c,u));case Aa.BOTTOM_RIGHT:return new W5(new ir(c,t),new ir(c,t+o),new ir(e+i,u),new ir(e,u));case Aa.BOTTOM_LEFT:default:return new W5(new ir(c,u),new ir(c-i,u),new ir(e,t+o),new ir(e,t))}},aT=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},N2t=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},sT=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},k2t=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),X5=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),T2t=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),B2t=function(e){return e.type===0},Kme=function(e){return e.type===1},j2t=function(e){return e.type===2},Zte=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},I2t=function(e,t,r,n,a){return e.map(function(s,i){switch(i){case 0:return s.add(t,r);case 1:return s.add(t+n,r);case 2:return s.add(t+n,r+a);case 3:return s.add(t,r+a)}return s})},qme=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Wme=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new _2t(this.container),this.container.styles.opacity<1&&this.effects.push(new T2t(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new k2t(n,a,s))}if(this.container.styles.overflowX!==0){var i=aT(this.curves),o=sT(this.curves);Zte(i,o)?this.effects.push(new X5(i,6)):(this.effects.push(new X5(i,2)),this.effects.push(new X5(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!Kme(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=aT(n.curves),o=sT(n.curves);Zte(i,o)||a.unshift(new X5(o,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(c){return Qi(c.target,t)})},e}(),TL=function(e,t,r,n){e.container.elements.forEach(function(a){var s=Qi(a.flags,4),i=Qi(a.flags,2),o=new Wme(a,e);Qi(a.styles.display,2048)&&n.push(o);var c=Qi(a.flags,8)?[]:n;if(s||i){var u=s||a.styles.isPositioned()?r:t,d=new qme(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var h=0;u.negativeZIndex.some(function(g,x){return f>g.element.container.styles.zIndex.order?(h=x,!1):h>0}),u.negativeZIndex.splice(h,0,d)}else if(f>0){var p=0;u.positiveZIndex.some(function(g,x){return f>=g.element.container.styles.zIndex.order?(p=x+1,!1):p>0}),u.positiveZIndex.splice(p,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);TL(o,d,s?d:r,c)}else a.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),TL(o,t,r,c);Qi(a.flags,8)&&Xme(a,c)})},Xme=function(e,t){for(var r=e instanceof EL?e.start:1,n=e instanceof EL?e.reversed:!1,a=0;a<t.length;a++){var s=t[a];s.container instanceof Fme&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=fE(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},F2t=function(e){var t=new Wme(e,null),r=new qme(t),n=[];return TL(t,r,r,n),Xme(t.container,n),r},ere=function(e,t){switch(t){case 0:return fd(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return fd(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return fd(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return fd(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},O2t=function(e,t){switch(t){case 0:return fd(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return fd(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return fd(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return fd(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},D2t=function(e,t){switch(t){case 0:return fd(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return fd(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return fd(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return fd(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},P2t=function(e,t){switch(t){case 0:return Y5(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Y5(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Y5(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Y5(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Y5=function(e,t){var r=[];return id(e)?r.push(e.subdivide(.5,!1)):r.push(e),id(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},fd=function(e,t,r,n){var a=[];return id(e)?a.push(e.subdivide(.5,!1)):a.push(e),id(r)?a.push(r.subdivide(.5,!0)):a.push(r),id(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),id(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},Yme=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},iT=function(e){var t=e.styles,r=e.bounds,n=Ga(t.paddingLeft,r.width),a=Ga(t.paddingRight,r.width),s=Ga(t.paddingTop,r.width),i=Ga(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+s+i))},R2t=function(e,t){return e===0?t.bounds:e===2?iT(t):Yme(t)},L2t=function(e,t){return e===0?t.bounds:e===2?iT(t):Yme(t)},eD=function(e,t,r){var n=R2t(v1(e.styles.backgroundOrigin,t),e),a=L2t(v1(e.styles.backgroundClip,t),e),s=M2t(v1(e.styles.backgroundSize,t),r,n),i=s[0],o=s[1],c=_2(v1(e.styles.backgroundPosition,t),n.width-i,n.height-o),u=U2t(v1(e.styles.backgroundRepeat,t),c,s,n,a),d=Math.round(n.left+c[0]),f=Math.round(n.top+c[1]);return[u,d,f,i,o]},o1=function(e){return Oa(e)&&e.value===sb.AUTO},J5=function(e){return typeof e=="number"},M2t=function(e,t,r){var n=t[0],a=t[1],s=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Bi(i)&&o&&Bi(o))return[Ga(i,r.width),Ga(o,r.height)];var c=J5(s);if(Oa(i)&&(i.value===sb.CONTAIN||i.value===sb.COVER)){if(J5(s)){var u=r.width/r.height;return u<s!=(i.value===sb.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var d=J5(n),f=J5(a),h=d||f;if(o1(i)&&(!o||o1(o))){if(d&&f)return[n,a];if(!c&&!h)return[r.width,r.height];if(h&&c){var p=d?n:a*s,g=f?a:n/s;return[p,g]}var x=d?n:r.width,v=f?a:r.height;return[x,v]}if(c){var y=0,w=0;return Bi(i)?y=Ga(i,r.width):Bi(o)&&(w=Ga(o,r.height)),o1(i)?y=w*s:(!o||o1(o))&&(w=y/s),[y,w]}var E=null,k=null;if(Bi(i)?E=Ga(i,r.width):o&&Bi(o)&&(k=Ga(o,r.height)),E!==null&&(!o||o1(o))&&(k=d&&f?E/n*a:r.height),k!==null&&o1(i)&&(E=d&&f?k/a*n:r.width),E!==null&&k!==null)return[E,k];throw new Error("Unable to calculate background-size for element")},v1=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},U2t=function(e,t,r,n,a){var s=t[0],i=t[1],o=r[0],c=r[1];switch(e){case 2:return[new ir(Math.round(n.left),Math.round(n.top+i)),new ir(Math.round(n.left+n.width),Math.round(n.top+i)),new ir(Math.round(n.left+n.width),Math.round(c+n.top+i)),new ir(Math.round(n.left),Math.round(c+n.top+i))];case 3:return[new ir(Math.round(n.left+s),Math.round(n.top)),new ir(Math.round(n.left+s+o),Math.round(n.top)),new ir(Math.round(n.left+s+o),Math.round(n.height+n.top)),new ir(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new ir(Math.round(n.left+s),Math.round(n.top+i)),new ir(Math.round(n.left+s+o),Math.round(n.top+i)),new ir(Math.round(n.left+s+o),Math.round(n.top+i+c)),new ir(Math.round(n.left+s),Math.round(n.top+i+c))];default:return[new ir(Math.round(a.left),Math.round(a.top)),new ir(Math.round(a.left+a.width),Math.round(a.top)),new ir(Math.round(a.left+a.width),Math.round(a.height+a.top)),new ir(Math.round(a.left),Math.round(a.height+a.top))]}},Q2t="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",tre="Hidden Text",H2t=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),a.src=Q2t,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(tre)),n.appendChild(s),n.appendChild(a);var o=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(tre)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),Jme=function(){function e(t,r){this.context=t,this.options=r}return e}(),$2t=1e4,V2t=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new H2t(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),j2t(r)&&(this.ctx.globalAlpha=r.opacity),B2t(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Kme(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Rl(this,void 0,void 0,function(){var n;return cl(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Rl(this,void 0,void 0,function(){return cl(this,function(n){switch(n.label){case 0:if(Qi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var i=xQ(r.text);i.reduce(function(o,c){return s.ctx.fillText(c,o,r.bounds.top+a),o+s.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),a=W2t(r.fontFamily).join(", "),s=mS(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,a].join(" "),a,s]},t.prototype.renderTextNode=function(r,n){return Rl(this,void 0,void 0,function(){var a,s,i,o,c,u,d,f,h=this;return cl(this,function(p){return a=this.createFontStyle(n),s=a[0],i=a[1],o=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(i,o),u=c.baseline,d=c.middle,f=n.paintOrder,r.textBounds.forEach(function(g){f.forEach(function(x){switch(x){case 0:h.ctx.fillStyle=so(n.color),h.renderTextWithLetterSpacing(g,n.letterSpacing,u);var v=n.textShadow;v.length&&g.text.trim().length&&(v.slice(0).reverse().forEach(function(y){h.ctx.shadowColor=so(y.color),h.ctx.shadowOffsetX=y.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=y.offsetY.number*h.options.scale,h.ctx.shadowBlur=y.blur.number,h.renderTextWithLetterSpacing(g,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=so(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+u),g.bounds.width,1);break;case 2:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:h.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+d),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(h.ctx.strokeStyle=so(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=iT(r),i=sT(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Rl(this,void 0,void 0,function(){var n,a,s,i,o,c,w,w,u,d,f,h,k,p,g,B,x,v,y,w,E,k,B;return cl(this,function(j){switch(j.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,s=n.styles,i=0,o=n.textNodes,j.label=1;case 1:return i<o.length?(c=o[i],[4,this.renderTextNode(c,s)]):[3,4];case 2:j.sent(),j.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof Bme))return[3,8];j.label=5;case 5:return j.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=j.sent(),this.renderReplacedElement(n,a,w),[3,8];case 7:return j.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof jme&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof Ime))return[3,12];j.label=9;case 9:return j.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=j.sent(),this.renderReplacedElement(n,a,w),[3,12];case 11:return j.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Pme&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:d=j.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),j.label=14;case 14:if(n instanceof vQ&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===eT?n.checked&&(this.ctx.save(),this.path([new ir(n.bounds.left+f*.39363,n.bounds.top+f*.79),new ir(n.bounds.left+f*.16,n.bounds.top+f*.5549),new ir(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new ir(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new ir(n.bounds.left+f*.72983,n.bounds.top+f*.23),new ir(n.bounds.left+f*.84,n.bounds.top+f*.34085),new ir(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=so(Hte),this.ctx.fill(),this.ctx.restore()):n.type===tT&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=so(Hte),this.ctx.fill(),this.ctx.restore())),z2t(n)&&n.value.length){switch(h=this.createFontStyle(s),k=h[0],p=h[1],g=this.fontMetrics.getMetrics(k,p).baseline,this.ctx.font=k,this.ctx.fillStyle=so(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=K2t(n.styles.textAlign),B=iT(n),x=0,n.styles.textAlign){case 1:x+=B.width/2;break;case 2:x+=B.width;break}v=B.add(x,0,0,-B.height/2+1),this.ctx.save(),this.path([new ir(B.left,B.top),new ir(B.left+B.width,B.top),new ir(B.left+B.width,B.top+B.height),new ir(B.left,B.top+B.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new iC(n.value,v),s.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Qi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];w=void 0,E=y.url,j.label=15;case 15:return j.trys.push([15,17,,18]),[4,this.context.cache.match(E)];case 16:return w=j.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return j.sent(),this.context.logger.error("Error loading list-style-image "+E),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(k=this.createFontStyle(s)[0],this.ctx.font=k,this.ctx.fillStyle=so(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",B=new w0(n.bounds.left,n.bounds.top+Ga(n.styles.paddingTop,n.bounds.width),n.bounds.width,Ste(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new iC(r.listValue,B),s.letterSpacing,Ste(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),j.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Rl(this,void 0,void 0,function(){var n,a,y,s,i,y,o,c,y,u,d,y,f,h,y,p,g,y,x,v,y;return cl(this,function(w){switch(w.label){case 0:if(Qi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,a=r.negativeZIndex,w.label=2;case 2:return n<a.length?(y=a[n],[4,this.renderStack(y)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),s=0,i=r.nonInlineLevel,w.label=7;case 7:return s<i.length?(y=i[s],[4,this.renderNode(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,c=r.nonPositionedFloats,w.label=11;case 11:return o<c.length?(y=c[o],[4,this.renderStack(y)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:u=0,d=r.nonPositionedInlineLevel,w.label=15;case 15:return u<d.length?(y=d[u],[4,this.renderStack(y)]):[3,18];case 16:w.sent(),w.label=17;case 17:return u++,[3,15];case 18:f=0,h=r.inlineLevel,w.label=19;case 19:return f<h.length?(y=h[f],[4,this.renderNode(y)]):[3,22];case 20:w.sent(),w.label=21;case 21:return f++,[3,19];case 22:p=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return p<g.length?(y=g[p],[4,this.renderStack(y)]):[3,26];case 24:w.sent(),w.label=25;case 25:return p++,[3,23];case 26:x=0,v=r.positiveZIndex,w.label=27;case 27:return x<v.length?(y=v[x],[4,this.renderStack(y)]):[3,30];case 28:w.sent(),w.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,s){var i=id(a)?a.start:a;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),id(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},t.prototype.resizeImage=function(r,n,a){var s;if(r.width===n&&r.height===a)return r;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=i.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,a);var c=o.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),o},t.prototype.renderBackgroundImage=function(r){return Rl(this,void 0,void 0,function(){var n,a,s,i,o,c;return cl(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(d){var f,h,p,L,Q,G,P,R,N,g,L,Q,G,P,R,x,v,y,w,E,k,B,j,C,N,I,L,O,T,P,R,q,Q,G,K,z,Y,ee,M,H,W,Z;return cl(this,function(ae){switch(ae.label){case 0:if(d.type!==0)return[3,5];f=void 0,h=d.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return f=ae.sent(),[3,4];case 3:return ae.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return f&&(p=eD(r,n,[f.width,f.height,f.width/f.height]),L=p[0],Q=p[1],G=p[2],P=p[3],R=p[4],N=s.ctx.createPattern(s.resizeImage(f,P,R),"repeat"),s.renderRepeat(L,N,Q,G)),[3,6];case 5:Bbt(d)?(g=eD(r,n,[null,null,null]),L=g[0],Q=g[1],G=g[2],P=g[3],R=g[4],x=Sbt(d.angle,P,R),v=x[0],y=x[1],w=x[2],E=x[3],k=x[4],B=document.createElement("canvas"),B.width=P,B.height=R,j=B.getContext("2d"),C=j.createLinearGradient(y,E,w,k),Cte(d.stops,v).forEach(function(oe){return C.addColorStop(oe.stop,so(oe.color))}),j.fillStyle=C,j.fillRect(0,0,P,R),P>0&&R>0&&(N=s.ctx.createPattern(B,"repeat"),s.renderRepeat(L,N,Q,G))):jbt(d)&&(I=eD(r,n,[null,null,null]),L=I[0],O=I[1],T=I[2],P=I[3],R=I[4],q=d.position.length===0?[pQ]:d.position,Q=Ga(q[0],P),G=Ga(q[q.length-1],R),K=_bt(d,Q,G,P,R),z=K[0],Y=K[1],z>0&&Y>0&&(ee=s.ctx.createRadialGradient(O+Q,T+G,0,O+Q,T+G,z),Cte(d.stops,z*2).forEach(function(oe){return ee.addColorStop(oe.stop,so(oe.color))}),s.path(L),s.ctx.fillStyle=ee,z!==Y?(M=r.bounds.left+.5*r.bounds.width,H=r.bounds.top+.5*r.bounds.height,W=Y/z,Z=1/W,s.ctx.save(),s.ctx.translate(M,H),s.ctx.transform(1,0,0,W,0,0),s.ctx.translate(-M,-H),s.ctx.fillRect(O,Z*(T-H)+H,P,R*Z),s.ctx.restore()):s.ctx.fill())),ae.label=6;case 6:return n--,[2]}})},s=this,i=0,o=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<o.length?(c=o[i],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return Rl(this,void 0,void 0,function(){return cl(this,function(s){return this.path(ere(a,n)),this.ctx.fillStyle=so(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,s){return Rl(this,void 0,void 0,function(){var i,o;return cl(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return i=O2t(s,a),this.path(i),this.ctx.fillStyle=so(r),this.ctx.fill(),o=D2t(s,a),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Rl(this,void 0,void 0,function(){var n,a,s,i,o,c,u,d,f=this;return cl(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!im(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=G2t(v1(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),im(n.backgroundColor)||(this.ctx.fillStyle=so(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){f.ctx.save();var g=aT(r.curves),x=p.inset?0:$2t,v=I2t(g,-x+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(f.path(g),f.ctx.clip(),f.mask(v)):(f.mask(g),f.ctx.clip(),f.path(v)),f.ctx.shadowOffsetX=p.offsetX.number+x,f.ctx.shadowOffsetY=p.offsetY.number,f.ctx.shadowColor=so(p.color),f.ctx.shadowBlur=p.blur.number,f.ctx.fillStyle=p.inset?so(p.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),h.label=2;case 2:o=0,c=0,u=s,h.label=3;case 3:return c<u.length?(d=u[c],d.style!==0&&!im(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,r.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,s,i){return Rl(this,void 0,void 0,function(){var o,c,u,d,f,h,p,g,x,v,y,w,E,k,B,j,B,j;return cl(this,function(C){return this.ctx.save(),o=P2t(s,a),c=ere(s,a),i===2&&(this.path(c),this.ctx.clip()),id(c[0])?(u=c[0].start.x,d=c[0].start.y):(u=c[0].x,d=c[0].y),id(c[1])?(f=c[1].end.x,h=c[1].end.y):(f=c[1].x,h=c[1].y),a===0||a===2?p=Math.abs(u-f):p=Math.abs(d-h),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(c.slice(0,2)),g=n<3?n*3:n*2,x=n<3?n*2:n,i===3&&(g=n,x=n),v=!0,p<=g*2?v=!1:p<=g*2+x?(y=p/(2*g+x),g*=y,x*=y):(w=Math.floor((p+x)/(g+x)),E=(p-w*g)/(w-1),k=(p-(w+1)*g)/w,x=k<=0||Math.abs(x-E)<Math.abs(x-k)?E:k),v&&(i===3?this.ctx.setLineDash([0,g+x]):this.ctx.setLineDash([g,x])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=so(r),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(id(c[0])&&(B=c[3],j=c[0],this.ctx.beginPath(),this.formatPath([new ir(B.end.x,B.end.y),new ir(j.start.x,j.start.y)]),this.ctx.stroke()),id(c[1])&&(B=c[1],j=c[2],this.ctx.beginPath(),this.formatPath([new ir(B.end.x,B.end.y),new ir(j.start.x,j.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Rl(this,void 0,void 0,function(){var n;return cl(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=so(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=F2t(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(Jme),z2t=function(e){return e instanceof Dme||e instanceof Ome?!0:e instanceof vQ&&e.type!==tT&&e.type!==eT},G2t=function(e,t){switch(e){case 0:return aT(t);case 2:return N2t(t);case 1:default:return sT(t)}},K2t=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},q2t=["-apple-system","system-ui"],W2t=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return q2t.indexOf(t)===-1}):e},X2t=function(e){Tf(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return Rl(this,void 0,void 0,function(){var n,a;return cl(this,function(s){switch(s.label){case 0:return n=CL(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Y2t(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=so(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(Jme),Y2t=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},J2t=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,B5([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,B5([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,B5([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,B5([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Z2t=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new J2t({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new v2t(this,t)}return e.instanceCount=1,e}(),BL=function(e,t){return t===void 0&&(t={}),eCt(e,t)};typeof window<"u"&&Gme.setContext(window);var eCt=function(e,t){return Rl(void 0,void 0,void 0,function(){var r,n,a,s,i,o,c,u,d,f,h,p,g,x,v,y,w,E,k,B,C,j,C,N,I,L,O,T,P,R,q,Q,G,K,z,Y,ee,M,H,W;return cl(this,function(Z){switch(Z.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(N=t.allowTaint)!==null&&N!==void 0?N:!1,imageTimeout:(I=t.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:t.proxy,useCORS:(L=t.useCORS)!==null&&L!==void 0?L:!1},s=lL({logging:(O=t.logging)!==null&&O!==void 0?O:!0,cache:t.cache},a),i={windowWidth:(T=t.windowWidth)!==null&&T!==void 0?T:n.innerWidth,windowHeight:(P=t.windowHeight)!==null&&P!==void 0?P:n.innerHeight,scrollX:(R=t.scrollX)!==null&&R!==void 0?R:n.pageXOffset,scrollY:(q=t.scrollY)!==null&&q!==void 0?q:n.pageYOffset},o=new w0(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),c=new Z2t(s,o),u=(Q=t.foreignObjectRendering)!==null&&Q!==void 0?Q:!1,d={allowTaint:(G=t.allowTaint)!==null&&G!==void 0?G:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new Yte(c,e,d),h=f.clonedReferenceElement,h?[4,f.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=Z.sent(),g=bQ(h)||r2t(h)?Ivt(h.ownerDocument):Uj(c,h),x=g.width,v=g.height,y=g.left,w=g.top,E=tCt(c,h,t.backgroundColor),k={canvas:t.canvas,backgroundColor:E,scale:(z=(K=t.scale)!==null&&K!==void 0?K:n.devicePixelRatio)!==null&&z!==void 0?z:1,x:((Y=t.x)!==null&&Y!==void 0?Y:0)+y,y:((ee=t.y)!==null&&ee!==void 0?ee:0)+w,width:(M=t.width)!==null&&M!==void 0?M:Math.ceil(x),height:(H=t.height)!==null&&H!==void 0?H:Math.ceil(v)},u?(c.logger.debug("Document cloned, using foreign object rendering"),C=new X2t(c,k),[4,C.render(h)]):[3,3];case 2:return B=Z.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+y+","+w+" with size "+x+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),j=Lme(c,h),E===j.styles.backgroundColor&&(j.styles.backgroundColor=t0.TRANSPARENT),c.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),C=new V2t(c,k),[4,C.render(j)];case 4:B=Z.sent(),Z.label=5;case 5:return(!((W=t.removeContainer)!==null&&W!==void 0)||W)&&(Yte.destroy(p)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,B]}})})},tCt=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?aC(e,getComputedStyle(n.documentElement).backgroundColor):t0.TRANSPARENT,s=n.body?aC(e,getComputedStyle(n.body).backgroundColor):t0.TRANSPARENT,i=typeof r=="string"?aC(e,r):r===null?t0.TRANSPARENT:4294967295;return t===n.documentElement?im(a)?im(s)?i:s:a:i};const rCt=Object.freeze(Object.defineProperty({__proto__:null,default:BL},Symbol.toStringTag,{value:"Module"})),nCt=e=>{const[t,r]=S.useState(!1),[n,a]=S.useState(null);return S.useEffect(()=>{const s="google-maps-script";if(document.getElementById(s)||window.google){r(!0);return}const i=document.createElement("script");i.id=s,i.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places,directions&loading=async`,i.async=!0,i.defer=!0,i.onload=()=>r(!0),i.onerror=()=>a(new Error("No se pudo cargar Google Maps.")),document.head.appendChild(i)},[e]),{isLoaded:t,error:n}},Zme=[{elemento:"Cumplimiento legal y formalidad"},{elemento:"Contrato o convenio formal de práctica"},{elemento:"Ambiente laboral y clima organizacional"},{elemento:"Supervisión y mentoría"},{elemento:"Oportunidades de aprendizaje"},{elemento:"Recursos y herramientas disponibles"},{elemento:"Seguridad y salud ocupacional"},{elemento:"Comunicación interna"}],aCt=["Mecánica Industrial","Mecánica Automotriz"],sCt=()=>({nombre:"",rut:"",direccion:"",contacto:"",email:"",area:"",cupos:1,coordenadas:null,calificaciones:Zme.map(e=>({...e,score:null})),estudiantesAsignados:[],docenteSupervisor:void 0}),rre=({empresas:e,isLoaded:t,route:r})=>{const n=S.useRef(null),a=S.useRef(null),s=S.useRef([]),i=S.useRef(null),o=e.filter(c=>{var u,d;return((u=c.coordenadas)==null?void 0:u.lat)&&((d=c.coordenadas)==null?void 0:d.lng)});return S.useEffect(()=>{!t||!n.current||!window.google||(a.current||(a.current=new window.google.maps.Map(n.current,{center:{lat:-33.4489,lng:-70.6693},zoom:11})),i.current||(i.current=new window.google.maps.DirectionsRenderer),s.current.forEach(c=>c.setMap(null)),s.current=[],i.current.setMap(null),r?(i.current.setMap(a.current),i.current.setDirections(r)):o.forEach(c=>{const u=new window.google.maps.Marker({position:{lat:c.coordenadas.lat,lng:c.coordenadas.lng},map:a.current,title:c.nombre}),d=new window.google.maps.InfoWindow({content:`<div style="font-weight: bold;">${c.nombre}</div><div>${c.direccion}</div>`});u.addListener("click",()=>{d.open(a.current,u)}),s.current.push(u)}))},[o,t,r]),l.jsxs("div",{className:"relative",id:"map-container-for-pdf",children:[l.jsx("div",{ref:n,className:"h-[600px] w-full rounded-lg border"}),!r&&o.length===0&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90 rounded-lg",children:l.jsx("div",{className:"text-center p-6",children:l.jsx("p",{className:"text-gray-600 text-lg",children:"📍 No hay empresas geo-localizadas"})})})]})},iCt=({route:e,travelMode:t})=>{const a=t==="TRANSIT"?45:30,s=e.routes[0].legs.reduce((f,h)=>{var p;return f+(((p=h.duration)==null?void 0:p.value)||0)},0),o=(e.routes[0].legs.length>1?e.routes[0].legs.length-1:0)*a*60,c=s+o,u=e.routes[0].legs.reduce((f,h)=>{var p;return f+(((p=h.distance)==null?void 0:p.value)||0)},0),d=t==="DRIVING"?u/1e3/12*1300:0;return l.jsxs("div",{className:"mt-6 p-4 border rounded-lg bg-slate-50",id:"route-details-for-pdf",children:[l.jsx("h3",{className:"text-xl font-bold mb-3",children:"Detalles de la Ruta"}),l.jsx("div",{className:"space-y-4",children:e.routes[0].legs.map((f,h)=>{var p,g,x;return l.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h4",{className:"font-bold text-lg",children:["Tramo ",h+1,": ",f.start_address.split(",")[0]," → ",f.end_address.split(",")[0]]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[(p=f.duration)==null?void 0:p.text," • ",(g=f.distance)==null?void 0:g.text]})]}),t==="TRANSIT"&&l.jsx("div",{className:"space-y-3",children:(x=f.steps)==null?void 0:x.map((v,y)=>v.transit&&l.jsxs("div",{className:"flex items-start gap-2 text-sm py-1",children:[l.jsx("span",{className:"text-lg",children:"🚌"}),l.jsx("span",{dangerouslySetInnerHTML:{__html:v.instructions}})]},y))})]},h)})}),l.jsxs("div",{className:"mt-4 pt-4 border-t font-bold text-right",children:[l.jsxs("p",{children:["Tiempo de viaje: ",Math.round(s/60)," min"]}),l.jsxs("p",{children:["Tiempo en paradas: ",Math.round(o/60)," min"]}),l.jsxs("p",{className:"text-lg",children:["Duración Total Estimada: ",Math.round(c/60)," min"]}),l.jsxs("p",{children:["Distancia Total: ",(u/1e3).toFixed(1)," km"]}),t==="DRIVING"&&l.jsxs("p",{className:"text-green-600",children:["Costo Bencina Aprox: $",d.toLocaleString("es-CL",{maximumFractionDigits:0})]})]})]})},nre=async e=>window.google?new Promise(t=>{new window.google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:e,fields:["geometry"]},(n,a)=>{var s;a===window.google.maps.places.PlacesServiceStatus.OK&&((s=n==null?void 0:n.geometry)!=null&&s.location)?t({lat:n.geometry.location.lat(),lng:n.geometry.location.lng()}):t(null)})}):null,oCt=({data:e})=>{const t=["#0088FE","#00C49F","#FFBB28","#FF8042"];return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1",children:[l.jsx("h3",{className:"font-bold mb-4",children:"Empresas por Especialidad"}),l.jsx($h,{width:"100%",height:300,children:l.jsxs(I7,{children:[l.jsx(JB,{data:e.porEspecialidad,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:e.porEspecialidad.map((r,n)=>l.jsx(bm,{fill:t[n%t.length]},`cell-${n}`))}),l.jsx(Hh,{})]})})]}),l.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1 md:col-span-2",children:[l.jsx("h3",{className:"font-bold mb-4",children:"Empresas por Supervisor"}),l.jsx($h,{width:"100%",height:300,children:l.jsxs(LC,{data:e.porSupervisor,layout:"vertical",children:[l.jsx(RC,{strokeDasharray:"3 3"}),l.jsx(Ex,{type:"number"}),l.jsx(Sx,{type:"category",dataKey:"name",width:150}),l.jsx(Hh,{}),l.jsx(Ib,{dataKey:"value",fill:"#82ca9d",name:"Empresas"})]})})]}),l.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1 lg:col-span-3",children:[l.jsx("h3",{className:"font-bold mb-4",children:"Distribución por Comuna"}),l.jsx($h,{width:"100%",height:300,children:l.jsxs(LC,{data:e.porComuna,children:[l.jsx(RC,{strokeDasharray:"3 3"}),l.jsx(Ex,{dataKey:"name"}),l.jsx(Sx,{}),l.jsx(Hh,{}),l.jsx(Ib,{dataKey:"value",fill:"#8884d8",name:"Empresas"})]})})]}),l.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1",children:[l.jsx("h3",{className:"font-bold mb-4",children:"Calificación por Ámbito"}),l.jsx($h,{width:"100%",height:300,children:l.jsxs(HGe,{cx:"50%",cy:"50%",outerRadius:"80%",data:e.calificacionPorAmbito,children:[l.jsx(xue,{}),l.jsx(YB,{dataKey:"subject"}),l.jsx(WB,{angle:30,domain:[0,5]}),l.jsx(S7,{name:"Promedio",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),l.jsx(Hh,{})]})})]}),l.jsxs("div",{className:"p-4 border rounded-lg bg-white col-span-1 md:col-span-2",children:[l.jsx("h3",{className:"font-bold mb-4",children:"Ranking de Empresas"}),l.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:l.jsx("ul",{className:"space-y-2",children:e.ranking.map((r,n)=>l.jsxs("li",{className:"flex items-center justify-between p-2 rounded-lg bg-slate-50",children:[l.jsxs("span",{className:"font-semibold",children:[n+1,". ",r.nombre]}),l.jsxs("span",{className:"font-bold text-amber-500",children:[r.promedio.toFixed(1)," ★"]})]},r.id))})})]})]})},lCt=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,s]=S.useState("list"),[i,o]=S.useState(null),[c,u]=S.useState(!0),[d,f]=S.useState(null),[h,p]=S.useState(null),[g,x]=S.useState(null),[v,y]=S.useState([]),[w,E]=S.useState(null),[k,B]=S.useState(!1),[j,C]=S.useState("DRIVING"),[N,I]=S.useState(""),[L,O]=S.useState([]),T="AIzaSyBkpVIvmoJAoD1QlZOZBln0aM6bPpBuGy4",{isLoaded:P}=nCt(T);S.useEffect(()=>{u(!0);const se=kgt(t),ce=jgt(n),de=Fgt(O);return u(!1),()=>{se(),ce(),de()}},[]);const R=S.useMemo(()=>{const se=e.reduce((_e,Ne)=>{const Se=Ne.area||"Sin especificar";return _e[Se]=(_e[Se]||0)+1,_e},{}),ce=e.reduce((_e,Ne)=>{var he;const Se=((he=Ne.docenteSupervisor)==null?void 0:he.nombreCompleto)||"Sin asignar";return _e[Se]=(_e[Se]||0)+1,_e},{}),de=e.reduce((_e,Ne)=>{const Se=Ne.direccion.split(",").map(Be=>Be.trim()),he=Se.length>1?Se[1]:"Desconocida";return _e[he]=(_e[he]||0)+1,_e},{}),ke=Zme.map(_e=>{const Ne=e.flatMap(he=>{var Be;return(Be=he.calificaciones.find(Le=>Le.elemento===_e.elemento))==null?void 0:Be.score}).filter(he=>he!=null),Se=Ne.length>0?Ne.reduce((he,Be)=>he+Be,0)/Ne.length:0;return{subject:_e.elemento.split(" ")[0],A:Se,fullMark:5}}),re=e.map(_e=>{const Ne=_e.calificaciones.map(he=>he.score).filter(he=>he!=null),Se=Ne.length>0?Ne.reduce((he,Be)=>he+Be,0)/Ne.length:0;return{..._e,promedio:Se}}).filter(_e=>_e.promedio>0).sort((_e,Ne)=>Ne.promedio-_e.promedio);return{porEspecialidad:Object.entries(se).map(([_e,Ne])=>({name:_e,value:Ne})),porSupervisor:Object.entries(ce).map(([_e,Ne])=>({name:_e,value:Ne})),porComuna:Object.entries(de).map(([_e,Ne])=>({name:_e,value:Ne})),calificacionPorAmbito:ke,ranking:re}},[e]),q=async()=>{if(i)try{await Tgt(i),s("list"),o(null),f(null)}catch{alert("No se pudo guardar la empresa.")}},Q=async se=>{window.confirm("¿Está seguro de eliminar esta empresa?")&&await Bgt(se)},G=(se,ce)=>{o(de=>de?{...de,[se]:ce}:null)},K=async se=>{var ce;if(f(se),(ce=se==null?void 0:se.value)!=null&&ce.place_id&&P){const de=await nre(se.value.place_id);G("direccion",se.label||""),G("coordenadas",de)}else G("direccion",(se==null?void 0:se.label)||"")},z=se=>{o(JSON.parse(JSON.stringify(se))),se.direccion&&f({label:se.direccion,value:{description:se.direccion}}),s("form")},Y=async se=>{var ce;if(p(se),(ce=se==null?void 0:se.value)!=null&&ce.place_id&&P){const de=await nre(se.value.place_id);x(de)}},ee=se=>{y(ce=>ce.some(de=>de.id===se.id)?ce.filter(de=>de.id!==se.id):[...ce,se])},M=()=>{if(!g||v.length===0||!P)return;B(!0);const se=new window.google.maps.DirectionsService,ce=v.filter(de=>de.coordenadas).map(de=>({location:de.coordenadas,stopover:!0}));se.route({origin:g,destination:g,waypoints:ce,optimizeWaypoints:!0,travelMode:window.google.maps.TravelMode[j]},(de,ke)=>{B(!1),ke===window.google.maps.DirectionsStatus.OK&&de?E(de):alert("No se pudo calcular la ruta: "+ke)})},H=()=>{E(null),p(null),x(null),y([]),I("")},W=async()=>{if(!N||!h||!g||v.length===0){alert("Por favor, asigna un nombre a la ruta y asegúrate de tener un punto de partida y empresas seleccionadas.");return}const se={nombre:N,startPoint:{label:h.label,coords:g},empresas:v.map(ce=>({id:ce.id,nombre:ce.nombre,coordenadas:ce.coordenadas})),travelMode:j};try{await Igt(se),alert("Ruta guardada con éxito."),s("saved-routes")}catch{alert("Error al guardar la ruta.")}},Z=async()=>{const se=document.getElementById("map-container-for-pdf"),ce=document.getElementById("route-details-for-pdf");if(!se||!ce)return;const de=new Sr("p","mm","a4"),ke=de.internal.pageSize.getWidth();de.text(`Ruta de Supervisión: ${N||"Sin nombre"}`,10,15),de.setFontSize(10),de.text(`Fecha: ${new Date().toLocaleDateString("es-CL")}`,10,22);const _e=(await BL(se,{useCORS:!0})).toDataURL("image/png");de.addImage(_e,"PNG",10,30,ke-20,100);const Se=(await BL(ce)).toDataURL("image/png"),he=de.getImageProperties(Se),Be=he.height*(ke-20)/he.width;de.addImage(Se,"PNG",10,135,ke-20,Be),de.save(`ruta-${N||"supervision"}.pdf`)},ae=se=>{p({label:se.startPoint.label,value:null}),x(se.startPoint.coords),y(se.empresas),C(se.travelMode),I(se.nombre),s("route")},oe=async se=>{window.confirm("¿Estás seguro de que quieres eliminar esta ruta guardada?")&&(await Ogt(se),alert("Ruta eliminada."))};return c?l.jsx("div",{className:"text-center p-8",children:"Cargando..."}):l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Gestión de Empresas"}),l.jsxs("div",{className:"flex items-center gap-4",children:[a!=="list"&&l.jsx("button",{onClick:()=>{s("list"),f(null),o(null),H()},className:"font-semibold hover:text-blue-600",children:"← Volver al listado"}),a==="list"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>s("dashboard"),title:"Dashboard",className:"bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center gap-2",children:[l.jsx(bse,{size:18})," Dashboard"]}),l.jsx("button",{onClick:()=>s("saved-routes"),title:"Rutas Guardadas",className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Rutas Guardadas"}),l.jsx("button",{onClick:()=>s("route"),title:"Ruta de Supervisión",className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Ruta de Supervisión"}),l.jsx("button",{onClick:()=>s("map"),title:"Vista de Mapa",className:"bg-slate-200 hover:bg-slate-300 p-2 rounded-lg transition-colors",children:"🗺️"}),l.jsx("button",{onClick:()=>{o(sCt()),s("form")},className:"bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Crear Empresa"})]})]})]}),a==="dashboard"&&l.jsx(oCt,{data:R}),a==="saved-routes"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Rutas de Supervisión Guardadas"}),l.jsx("div",{className:"space-y-3",children:L.length===0?l.jsx("p",{className:"text-gray-500",children:"No tienes rutas guardadas."}):L.map(se=>l.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:se.nombre}),l.jsxs("p",{className:"text-sm text-slate-500",children:[se.empresas.length," paradas"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>ae(se),className:"bg-blue-500 text-white px-3 py-1 rounded-md text-sm",children:"Cargar"}),l.jsx("button",{onClick:()=>oe(se.id),className:"bg-red-500 text-white px-3 py-1 rounded-md text-sm",children:"Eliminar"})]})]},se.id))})]}),a==="route"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Planificador de Ruta de Supervisión"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"1. Ingresa un nombre para la ruta"}),l.jsx("input",{type:"text",value:N,onChange:se=>I(se.target.value),placeholder:"Ej: Supervisión Zona Norte",className:"input-style w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"2. Ingresa el punto de partida"}),l.jsx(rte,{apiKey:T,selectProps:{value:h,onChange:Y,placeholder:"Buscar dirección de partida..."},autocompletionRequest:{componentRestrictions:{country:["cl"]}}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"3. Elige el modo de transporte"}),l.jsxs("div",{className:"flex gap-4 rounded-lg bg-slate-100 p-1",children:[l.jsx("button",{onClick:()=>C("DRIVING"),className:`w-full py-2 rounded-md transition ${j==="DRIVING"?"bg-blue-500 text-white":"hover:bg-slate-200"}`,children:"Automóvil"}),l.jsx("button",{onClick:()=>C("TRANSIT"),className:`w-full py-2 rounded-md transition ${j==="TRANSIT"?"bg-blue-500 text-white":"hover:bg-slate-200"}`,children:"Transporte Público"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"4. Selecciona las empresas a visitar"}),l.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-lg p-2 space-y-2",children:e.filter(se=>se.coordenadas).map(se=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:`route-${se.id}`,checked:v.some(ce=>ce.id===se.id),onChange:()=>ee(se),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("label",{htmlFor:`route-${se.id}`,className:"ml-3 text-sm text-gray-700",children:se.nombre})]},se.id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("button",{onClick:M,disabled:!g||v.length===0||k,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-lg transition-colors disabled:opacity-50",children:k?"Calculando...":"Visualizar Ruta"}),l.jsx("button",{onClick:W,disabled:!N||!g||v.length===0,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-lg transition-colors disabled:opacity-50",children:"Guardar Ruta"}),l.jsx("button",{onClick:Z,disabled:!w,className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-3 rounded-lg transition-colors disabled:opacity-50",children:"Exportar PDF"}),l.jsx("button",{onClick:H,className:"w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 rounded-lg transition-colors",children:"Limpiar"})]})]}),l.jsx("div",{children:l.jsx(rre,{empresas:v,isLoaded:P,route:w})})]}),w&&l.jsx(iCt,{route:w,travelMode:j})]}),a==="map"&&l.jsx(rre,{empresas:e,isLoaded:P}),a==="list"&&l.jsx("div",{className:"space-y-3",children:e.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay empresas registradas."}):e.map(se=>{var ce;return l.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg",children:se.nombre}),l.jsxs("p",{className:"text-sm text-slate-500",children:[se.rut," | ",se.direccion]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Área: ",se.area||"No especificada"," | Cupos: ",se.cupos," | Supervisor: ",((ce=se.docenteSupervisor)==null?void 0:ce.nombreCompleto)||"Ninguno"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>z(se),className:"text-sm font-semibold text-blue-600 hover:text-blue-800",children:"Editar"}),l.jsx("button",{onClick:()=>Q(se.id),className:"text-sm text-red-500 hover:text-red-700",children:"Eliminar"})]})]})},se.id)})}),a==="form"&&i&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"id"in i?"Editando Empresa":"Nueva Empresa"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"relative flex items-center",children:[l.jsx(s_e,{className:"absolute left-3 w-5 h-5 text-slate-400"}),l.jsx("input",{value:i.nombre,onChange:se=>G("nombre",se.target.value),placeholder:"Nombre Empresa",className:"input-style pl-10",required:!0})]}),l.jsxs("div",{className:"relative flex items-center",children:[l.jsx(V_e,{className:"absolute left-3 w-5 h-5 text-slate-400"}),l.jsx("input",{value:i.rut,onChange:se=>G("rut",se.target.value),placeholder:"RUT Empresa",className:"input-style pl-10",required:!0})]}),l.jsxs("div",{className:"md:col-span-2 relative flex items-center",children:[l.jsx(g4,{className:"absolute left-3 top-5 -translate-y-1/2 w-5 h-5 text-slate-400 z-10"}),l.jsx("div",{className:"w-full pl-10",children:l.jsx(rte,{apiKey:T,selectProps:{value:d,onChange:K,placeholder:"Buscar dirección..."},autocompletionRequest:{componentRestrictions:{country:["cl"]}}})})]}),l.jsxs("div",{className:"relative flex items-center",children:[l.jsx(bC,{className:"absolute left-3 w-5 h-5 text-slate-400"}),l.jsx("input",{value:i.contacto,onChange:se=>G("contacto",se.target.value),placeholder:"Contacto",className:"input-style pl-10"})]}),l.jsxs("div",{className:"relative flex items-center",children:[l.jsx(l5e,{className:"absolute left-3 w-5 h-5 text-slate-400"}),l.jsx("input",{type:"email",value:i.email||"",onChange:se=>G("email",se.target.value),placeholder:"Correo electrónico",className:"input-style pl-10"})]}),l.jsxs("div",{className:"relative flex items-center",children:[l.jsx(Ec,{className:"absolute left-3 w-5 h-5 text-slate-400"}),l.jsx("input",{type:"number",value:i.cupos,onChange:se=>G("cupos",parseInt(se.target.value)||1),placeholder:"N° de cupos",className:"input-style pl-10",min:"1"})]}),l.jsxs("div",{className:"relative flex items-center",children:[l.jsx(gse,{className:"absolute left-3 w-5 h-5 text-slate-400"}),l.jsxs("select",{value:i.area||"",onChange:se=>G("area",se.target.value),className:"input-style pl-10 w-full",children:[l.jsx("option",{value:"",disabled:!0,children:"Seleccione un área"}),aCt.map(se=>l.jsx("option",{value:se,children:se},se))]})]}),l.jsxs("div",{className:"md:col-span-2 relative flex items-center",children:[l.jsx(bC,{className:"absolute left-3 w-5 h-5 text-slate-400"}),l.jsxs("select",{value:i.docenteSupervisor?JSON.stringify(i.docenteSupervisor):"",onChange:se=>{const ce=se.target.value;G("docenteSupervisor",ce?JSON.parse(ce):void 0)},className:"input-style pl-10 w-full",children:[l.jsx("option",{value:"",children:"Sin supervisor asignado"}),r.map(se=>l.jsx("option",{value:JSON.stringify({id:se.id,nombre:se.nombreCompleto}),children:se.nombreCompleto},se.id))]})]})]}),l.jsxs("div",{className:"space-y-4 pt-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Evaluación de la Empresa"}),i.calificaciones.map((se,ce)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[l.jsx(H5e,{className:"w-5 h-5 text-slate-400"}),l.jsx("span",{className:"flex-1 text-sm font-medium text-gray-700",children:se.elemento}),l.jsxs("select",{value:se.score||"",onChange:de=>{const ke=[...i.calificaciones];ke[ce].score=de.target.value?parseInt(de.target.value):null,G("calificaciones",ke)},className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:[l.jsx("option",{value:"",children:"Sin calificar"}),[1,2,3,4,5].map(de=>l.jsx("option",{value:de,children:de},de))]})]},ce))]}),l.jsx("div",{className:"pt-6",children:l.jsx("button",{onClick:q,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 rounded-lg transition-colors",disabled:!i.nombre||!i.rut,children:"Guardar Empresa"})})]})]})},yQ="dpd_actividades",ege="dpd_respuestas",cCt="usuarios";function uCt(e,{includeArchived:t=!1}={}){const r=wt(mt,yQ),n=t?zt(r,wr("createdAt","desc")):zt(r,Gr("isArchived","==",!1),wr("createdAt","desc"));return br(n,a=>{const s=a.docs.map(i=>({id:i.id,...i.data()}));e(s)})}async function dCt(e){const t=wt(mt,yQ);return(await Bn(t,{...e,isArchived:!1,createdAt:Vi(),updatedAt:Vi()})).id}async function fCt(e){const t=dr(mt,yQ,e);await hs(t)}function ACt(e,t){const r=wt(mt,ege),n=zt(r,Gr("activityId","==",e),wr("createdAt","desc"));return br(n,a=>{const s=a.docs.map(i=>({id:i.id,...i.data()}));t(s)})}async function hCt(e){const t=wt(mt,ege);return(await Bn(t,{...e,createdAt:Vi()})).id}function pCt(e,t){const r=wt(mt,cCt),n=zt(r,Gr("profile","in",e));return br(n,a=>{const s=a.docs.map(i=>{const o=i.data();return{id:i.id,nombre:(o==null?void 0:o.displayName)||(o==null?void 0:o.name)||(o==null?void 0:o.email)||"Sin nombre",profile:o==null?void 0:o.profile,email:o==null?void 0:o.email}});t(s)})}function tge(e){return(e||"").trim().split(/\s+/).filter(Boolean).length}const mCt=[{model:"gemini-2.5-flash-lite",generationConfig:{temperature:.7,maxOutputTokens:1024}},{model:"gemini-1.5-pro",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}}],gCt=()=>{const e="AIzaSyBwOEsVIeAjIhoJ5PKko5DvmJrcQTwJwHE";try{return new zs(e)}catch(t){return console.error("Error al inicializar Gemini:",t),null}};async function xCt(e,t){try{const r=e.getGenerativeModel(t);return await r.generateContent("test"),r}catch(r){return console.warn(`Modelo ${t.model} no disponible:`,r),null}}async function rge(){const e=gCt();if(!e)return null;for(const t of mCt){const r=await xCt(e,t);if(r)return console.log(`Usando modelo ${t.model}`),r}return console.error("No se encontró ningún modelo de Gemini disponible"),null}function nge(e){try{const t=e.trim().replace(/^```json/i,"").replace(/^```/i,"").replace(/```$/i,"");return JSON.parse(t)}catch{return null}}function vCt(e){const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t}async function bCt(e,t=3){var n;const r=await rge();if(!r)return tD(e,t);try{const a=`Genera ${t} preguntas de selección múltiple sobre el tema "${e}".
    Para cada pregunta, proporciona:
    1. Un enunciado claro y conciso
    2. 4 opciones de respuesta plausibles
    
    Devuelve las preguntas en formato JSON como este:
    {
      "preguntas": [
        {
          "enunciado": "¿Pregunta 1?",
          "opciones": ["Opción 1", "Opción 2", "Opción 3", "Opción 4"]
        }
      ]
    }`,i=(await r.generateContent(a)).response.text(),o=nge(i);return(n=o==null?void 0:o.preguntas)!=null&&n.length?o.preguntas.slice(0,t):(console.warn("Formato inesperado de respuesta:",i),tD(e,t))}catch(a){return console.error("Error al generar preguntas:",a),tD(e,t)}}async function yCt(e,t=30){var n;const r=await rge();if(!r)return rD(e);try{const a=e.filter(u=>u&&u.trim());if(a.length===0)return[];const s=`Analiza estas respuestas y extrae los conceptos clave con su relevancia:
    ${a.join(`
---
`)}
    
    Responde en formato JSON:
    {
      "keywords": [
        { "keyword": "concepto1", "score": 0.9 },
        { "keyword": "concepto2", "score": 0.8 }
      ]
    }
    
    Incluye hasta ${t} conceptos más relevantes.`,o=(await r.generateContent(s)).response.text(),c=nge(o);return(n=c==null?void 0:c.keywords)!=null&&n.length?c.keywords.filter(u=>u.keyword&&typeof u.score=="number").slice(0,t):(console.warn("Formato inesperado de respuesta:",o),rD(e))}catch(a){return console.error("Error al analizar respuestas:",a),rD(e)}}function tD(e,t){const r=["Totalmente de acuerdo","De acuerdo","Neutral","En desacuerdo","Totalmente en desacuerdo"];return Array(t).fill(null).map((n,a)=>({enunciado:`Pregunta ${a+1} sobre ${e}`,opciones:vCt(r).slice(0,4)}))}function rD(e){const t=new Set(["el","la","los","las","un","una","unos","unas","de","del","a","ante","con","en","para","por","sobre","y","o","pero","si","no","que","cual","quien","como"]),r={},n=e.join(" ").toLowerCase().split(/\W+/).filter(a=>a.length>3&&!t.has(a));for(const a of n)r[a]=(r[a]||0)+1;return Object.entries(r).sort(([,a],[,s])=>s-a).slice(0,20).map(([a,s])=>({keyword:a,score:Math.min(1,s/n.length)}))}const oT=500,are=()=>({titulo:"",dimension:"Liderazgo Curricular",subdimension:"Planificación y organización del currículo",creadorPerfil:"PROFESORADO",creadorId:"",creadorNombre:"",preguntas:[],aiTema:"",aiCantidad:3}),Jw=Ze.memo(({title:e,icon:t,right:r,children:n})=>l.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-6 shadow-sm",children:[l.jsxs("header",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t,e]}),r]}),n]})),wCt=Ze.memo(({value:e,onChange:t,canCreate:r})=>{const n=(a,s)=>l.jsx("button",{onClick:()=>t(a),className:`px-3 py-1.5 rounded-lg text-sm border transition ${e===a?"bg-indigo-600 text-white border-indigo-600":"bg-white hover:bg-indigo-50"}`,disabled:a==="crear"&&!r,title:a==="crear"&&!r?"Tu perfil no crea actividades":"",children:s},a);return l.jsxs("div",{className:"flex items-center gap-2",children:[n("responder","Responder"),n("dashboard","Dashboard"),n("crear","Nueva actividad")]})}),CCt=Ze.memo(({items:e,selectedId:t,onSelect:r,canDelete:n,onDelete:a})=>e.length?l.jsx("ul",{className:"space-y-2",children:e.map(s=>{const i=s.id===t;return l.jsxs("li",{children:[l.jsxs("button",{onClick:()=>r(s.id),className:`w-full flex items-center justify-between gap-2 rounded-xl border px-3 py-2 text-left transition ${i?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 bg-white hover:bg-indigo-50"}`,title:`${s.titulo} • ${s.dimension} / ${s.subdimension}`,children:[l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(gx,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium",children:s.titulo})]}),l.jsx(G8,{className:"w-4 h-4 opacity-70"})]}),n(s)&&l.jsx("button",{onClick:()=>a(s.id,s.titulo),className:"mt-1 text-xs text-red-600 hover:underline",title:"Eliminar actividad",children:"Eliminar"})]},s.id)})}):l.jsxs("div",{className:"p-4 text-sm text-slate-500 flex items-center gap-2",children:[l.jsx(L_e,{className:"w-4 h-4"})," Aún no hay actividades creadas."]})),nD=Ze.memo(({label:e,value:t,pill:r})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-slate-500",children:[e,":"]}),r?l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-indigo-50 text-indigo-700 text-xs",children:t}):l.jsx("span",{className:"font-medium",children:t})]})),ECt=Ze.memo(({label:e,value:t,total:r=0})=>{const n=r>0?t/r*100:t>0?100:0,a=n>=75?"from-emerald-500":n>=50?"from-blue-500":n>=25?"from-amber-500":"from-rose-500";return l.jsxs("div",{className:"relative mt-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:e}),l.jsx("span",{className:"text-sm font-medium text-slate-700",children:t})]}),l.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2.5",children:l.jsx("div",{className:`h-2.5 rounded-full bg-gradient-to-r ${a} to-transparent transition-all duration-500`,style:{width:`${Math.min(100,n)}%`}})})]})}),SCt=Ze.memo(({option:e,options:t,onChangeText:r,onDelete:n})=>{const a=S.useCallback(i=>r(e.id,i.target.value),[e.id,r]),s=S.useCallback(()=>n(e.id),[e.id,n]);return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:e.text,onChange:a,className:"flex-1 border rounded-lg px-3 py-1.5",placeholder:`Opción ${t.findIndex(i=>i.id===e.id)+1}`}),l.jsx("button",{onClick:s,className:"text-red-600 hover:text-red-700",title:"Eliminar opción",children:l.jsx($o,{className:"w-4 h-4"})})]})}),_Ct=Ze.memo(({q:e,index:t,onRemove:r,onPatch:n})=>{const a=S.useCallback(f=>n(e.id,{enunciado:f.target.value}),[e.id,n]),s=S.useCallback(f=>n(e.id,{maxPalabras:parseInt(f.target.value||"500")}),[e.id,n]),i=S.useCallback(f=>n(e.id,{multiple:f.target.checked}),[e.id,n]),o=S.useCallback(()=>n(e.id,{opciones:[...e.opciones,{id:crypto.randomUUID(),text:""}]}),[e.id,e.opciones,n]),c=S.useCallback((f,h)=>{n(e.id,{opciones:e.opciones.map(p=>p.id===f?{...p,text:h}:p)})},[e.id,e.opciones,n]),u=S.useCallback(f=>n(e.id,{opciones:e.opciones.filter(h=>h.id!==f)}),[e.id,e.opciones,n]),d=S.useCallback(()=>r(e.id),[e.id,r]);return l.jsxs("div",{className:"border rounded-xl p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-sm text-slate-600",children:["#",t+1," • ",e.tipo==="abierta"?"Abierta":"Selección múltiple"]}),l.jsx("button",{onClick:d,className:"text-red-600 hover:text-red-700",title:"Eliminar",children:l.jsx($o,{className:"w-4 h-4"})})]}),l.jsx("input",{value:e.enunciado,onChange:a,className:"w-full border rounded-lg px-3 py-2 mb-2",placeholder:"Escribe el enunciado de la pregunta"}),e.tipo==="abierta"?l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm",children:"Máx. palabras"}),l.jsx("input",{type:"number",min:50,max:1e3,value:e.maxPalabras||oT,onChange:s,className:"w-24 border rounded-lg px-2 py-1"})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:e.multiple??!0,onChange:i})," Permitir selección múltiple"]}),e.opciones.map(f=>l.jsx(SCt,{option:f,options:e.opciones,onChangeText:c,onDelete:u},f.id)),l.jsx("button",{onClick:o,className:"text-sm text-sky-700 hover:underline",children:"+ Añadir opción"})]})]})}),NCt=Ze.memo(({q:e,respuestas:t,onChange:r})=>{var i,o;const n=S.useCallback(c=>r(e,c.target.value),[e,r]);if(e.tipo==="abierta"){const c=((i=t[e.id])==null?void 0:i.valorTexto)||"";return l.jsxs("div",{className:"border rounded-xl p-3",children:[l.jsx("p",{className:"font-medium mb-2",children:e.enunciado}),l.jsx("textarea",{rows:5,value:c,onChange:n,placeholder:`Máximo ${e.maxPalabras||oT} palabras…`,className:"w-full border rounded-lg px-3 py-2"}),l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[tge(c)," / ",e.maxPalabras||oT," palabras"]})]})}const a=((o=t[e.id])==null?void 0:o.seleccionados)||[],s=c=>{let u=new Set(a);a.includes(c)?u.delete(c):e.multiple?u.add(c):u=new Set([c]),r(e,Array.from(u))};return l.jsxs("div",{className:"border rounded-xl p-3",children:[l.jsx("p",{className:"font-medium mb-2",children:e.enunciado}),l.jsx("div",{className:"flex flex-col gap-2",children:(e.opciones||[]).map((c,u)=>{const d=a.includes(c);return l.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:e.multiple?"checkbox":"radio",name:e.multiple?`answer-${e.id}[]`:`answer-${e.id}`,checked:d,onChange:()=>s(c)}),l.jsx("span",{children:c})]},`${e.id}-${u}`)})})]})}),kCt=({currentUser:e})=>{var M;const[t,r]=S.useState("responder"),[n,a]=S.useState([]),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,d]=S.useState(are()),f=S.useCallback(H=>d(W=>({...W,...H})),[]),[h,p]=S.useState([]),[g,x]=S.useState({}),[v,y]=S.useState([]),w=bz.includes(e==null?void 0:e.profile)||(e==null?void 0:e.isAdmin);S.useEffect(()=>{const H=uCt(W=>{a(W),i(Z=>{var ae;return Z||(((ae=W[0])==null?void 0:ae.id)??"")})});return()=>H()},[]),S.useEffect(()=>{const H=pCt(["PROFESORADO","SUBDIRECCION"],W=>{p(W),d(Z=>{if(Z.creadorId)return Z;const ae=W.find(oe=>oe.id===(e==null?void 0:e.uid));return ae?{...Z,creadorId:ae.id,creadorNombre:ae.nombre,creadorPerfil:ae.profile||Z.creadorPerfil}:Z})});return()=>H()},[e]),S.useEffect(()=>{if(!s)return;const H=ACt(s,y);return()=>H()},[s]);const E=S.useMemo(()=>n.find(H=>H.id===s),[n,s]);S.useMemo(()=>Ph[u.dimension]||[],[u.dimension]),S.useEffect(()=>{d(H=>{const W=Ph[H.dimension]||[],Z=W.includes(H.subdimension)?H.subdimension:W[0]||"";return Z===H.subdimension?H:{...H,subdimension:Z}})},[u.dimension]);const k=S.useCallback(()=>{const H={id:crypto.randomUUID(),tipo:"abierta",enunciado:"Escribe aquí tu pregunta abierta",maxPalabras:oT};d(W=>({...W,preguntas:[...W.preguntas,H]}))},[]),B=S.useCallback(()=>{const H={id:crypto.randomUUID(),tipo:"seleccion_multiple",enunciado:"Selecciona la(s) opción(es) que corresponda(n)",opciones:[{id:crypto.randomUUID(),text:"Opción 1"},{id:crypto.randomUUID(),text:"Opción 2"},{id:crypto.randomUUID(),text:"Opción 3"},{id:crypto.randomUUID(),text:"Opción 4"}],multiple:!0};d(W=>({...W,preguntas:[...W.preguntas,H]}))},[]),j=S.useCallback((H,W)=>{d(Z=>({...Z,preguntas:Z.preguntas.map(ae=>ae.id===H?{...ae,...W}:ae)}))},[]),C=S.useCallback(H=>{d(W=>({...W,preguntas:W.preguntas.filter(Z=>Z.id!==H)}))},[]),[N,I]=S.useState(!1),L=S.useCallback(async()=>{if(!(!u.aiTema||u.aiCantidad<1)){I(!0);try{const W=(await bCt(u.aiTema,u.aiCantidad)).map(Z=>({id:crypto.randomUUID(),tipo:"seleccion_multiple",enunciado:Z.enunciado,opciones:Z.opciones.slice(0,5).map(ae=>({id:crypto.randomUUID(),text:ae})),multiple:!0}));d(Z=>({...Z,preguntas:[...Z.preguntas,...W]}))}finally{I(!1)}}},[u.aiTema,u.aiCantidad]),[O,T]=S.useState([]);S.useEffect(()=>{(async()=>{var Z;if(!E)return;const W=[];for(const ae of v)if(ae.respuestas)for(const[oe,se]of Object.entries(ae.respuestas)){const ce=E.preguntas.find(ke=>ke.id===oe);if(!ce||ce.tipo!=="abierta")continue;const de=se;de.tipo==="abierta"&&((Z=de.valorTexto)!=null&&Z.trim())&&W.push(de.valorTexto.trim())}if(console.log("Respuestas abiertas encontradas:",W.length),W.length>0)try{const ae=await yCt(W,30);console.log("Keywords generadas:",ae),T(ae)}catch(ae){console.error("Error al extraer keywords:",ae),T([])}else T([])})()},[E,v]);const P=S.useMemo(()=>{if(!E)return{};const H={};for(const W of E.preguntas)W.tipo==="seleccion_multiple"&&(H[W.id]={},(W.opciones||[]).forEach(Z=>H[W.id][Z]=0));for(const W of v)for(const[Z,ae]of Object.entries(W.respuestas||{})){const oe=ae;if((oe==null?void 0:oe.tipo)==="seleccion_multiple")for(const se of oe.seleccionados||[])H[Z]||(H[Z]={}),H[Z][se]=(H[Z][se]||0)+1}return H},[E,v]),R=S.useCallback(H=>H.map(W=>W.tipo==="abierta"?W:{...W,opciones:W.opciones.map(Z=>Z.text)}),[]),q=S.useCallback(()=>d(are()),[]),Q=S.useCallback(async()=>{if(!u.titulo.trim())return alert("Debes ingresar un título");if(!u.creadorId)return alert("Debes seleccionar un creador");const H={titulo:u.titulo,dimension:u.dimension,subdimension:u.subdimension,creadorId:u.creadorId,creadorNombre:u.creadorNombre,creadorPerfil:u.creadorPerfil,preguntas:R(u.preguntas)},W=await dCt(H);q(),i(W),r("responder")},[u,R,q]),G=S.useCallback(async(H,W)=>{var ae;if(window.confirm(`¿Eliminar "${W}"?
Se eliminarán la actividad, sus preguntas y respuestas. Esta acción no se puede deshacer.`)){if(await fCt(H),s===H){const oe=n.filter(se=>se.id!==H);i(((ae=oe[0])==null?void 0:ae.id)||""),oe.length||r("crear")}alert("Actividad eliminada.")}},[s,n]),K=S.useCallback(async()=>{if(!E||!v.length)return;const H=new Sr("p","mm","a4"),W=20;let Z=W;H.setFontSize(20),H.text(`Informe: ${E.titulo}`,W,Z),Z+=10,H.setFontSize(12),H.text(`Dimensión: ${E.dimension}`,W,Z+=10),H.text(`Subdimensión: ${E.subdimension}`,W,Z+=7),H.text(`Creador: ${E.creadorNombre} (${E.creadorPerfil})`,W,Z+=7),H.text(`Total de respuestas: ${v.length}`,W,Z+=7),Z+=10;for(const ae of E.preguntas){if(Z>250&&(H.addPage(),Z=W),H.setFontSize(14),H.text(`Pregunta: ${ae.enunciado}`,W,Z+=10),Z+=5,H.setFontSize(12),ae.tipo==="seleccion_multiple"){const oe=P[ae.id]||{},se=v.length;Object.entries(oe).forEach(([ce,de])=>{const ke=se>0?Math.round(de/se*100):0;H.text(`${ce}: ${de} respuestas (${ke}%)`,W+5,Z+=7)})}else{H.text("Respuestas:",W,Z+=7);for(const oe of v){const se=oe.respuestas[ae.id];if((se==null?void 0:se.tipo)==="abierta"&&se.valorTexto){Z>250&&(H.addPage(),Z=W),H.text(`${oe.userNombre}:`,W+5,Z+=7);const ce=H.splitTextToSize(se.valorTexto,170);H.text(ce,W+10,Z+=7),Z+=ce.length*7}}}Z+=10}if(O.length>0){Z>250&&(H.addPage(),Z=W),H.setFontSize(14),H.text("Conceptos clave detectados:",W,Z+=10),H.setFontSize(12);const ae=O.map(se=>`${se.keyword} (${Math.round(se.score*100)}%)`).join(", "),oe=H.splitTextToSize(ae,170);H.text(oe,W,Z+=7)}H.save(`informe_${E.titulo.replace(/\s+/g,"_")}.pdf`)},[E,v,P,O]),z=S.useCallback(H=>{const W=e==null?void 0:e.isAdmin,Z=H.creadorId===(e==null?void 0:e.uid);return w&&(W||Z)},[e,w]),Y=S.useCallback((H,W)=>{x(Z=>({...Z,[H.id]:H.tipo==="abierta"?{tipo:"abierta",valorTexto:W}:{tipo:"seleccion_multiple",seleccionados:W}}))},[]),ee=S.useCallback(async()=>{if(E){for(const H of E.preguntas){const W=g[H.id];if(W&&H.tipo==="abierta"&&H.maxPalabras){const Z=tge(W.valorTexto||"");if(Z>H.maxPalabras)return alert(`La respuesta a "${H.enunciado}" supera el máximo de ${H.maxPalabras} palabras (${Z}).`)}}await hCt({activityId:E.id,userId:(e==null?void 0:e.uid)||"anon",userNombre:(e==null?void 0:e.displayName)||(e==null?void 0:e.name)||"Anónimo",respuestas:g}),x({}),alert("¡Respuestas enviadas!")}},[E,g,e]);return l.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[l.jsxs("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(W8,{className:"w-7 h-7 text-indigo-600"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Desarrollo Profesional Docente"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Crea sesiones, responde y explora insights en tiempo real."})]})]}),l.jsx(wCt,{value:t,onChange:r,canCreate:w})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[l.jsx("aside",{className:"lg:col-span-4 xl:col-span-3",children:l.jsx(Jw,{title:"Actividades",icon:l.jsx(gx,{className:"w-5 h-5 text-indigo-600"}),children:l.jsx(CCt,{items:n,selectedId:s,onSelect:H=>{i(H),r("responder")},canDelete:z,onDelete:G})})}),l.jsxs("main",{className:"lg:col-span-8 xl:col-span-9 space-y-6",children:[t==="crear"&&w&&l.jsxs(Jw,{title:"Nueva actividad / sesión",icon:l.jsx(_z,{className:"w-5 h-5 text-indigo-600"}),right:l.jsxs("button",{onClick:Q,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:opacity-90",children:[l.jsx(o0,{className:"w-4 h-4"}),"Guardar"]}),children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Título"}),l.jsx("input",{value:u.titulo,onChange:H=>f({titulo:H.target.value}),placeholder:"Ej: Comunidades de aprendizaje 1",className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Área de trabajo (Dimensión PME)"}),l.jsx("select",{value:u.dimension,onChange:H=>f({dimension:H.target.value}),className:"w-full border rounded-lg px-3 py-2 bg-white",children:Object.keys(Ph).map(H=>l.jsx("option",{value:H,children:H},H))}),l.jsx("select",{value:u.subdimension,onChange:H=>f({subdimension:H.target.value}),className:"w-full border rounded-lg px-3 py-2 bg-white",children:(Ph[u.dimension]||[]).map(H=>l.jsx("option",{value:H,children:H},H))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Creador • Perfil"}),l.jsx("select",{value:u.creadorPerfil,onChange:H=>f({creadorPerfil:H.target.value}),className:"w-full border rounded-lg px-3 py-2 bg-white",children:bz.map(H=>l.jsx("option",{value:H,children:H},H))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Creador • Usuario"}),l.jsxs("select",{value:u.creadorId,onChange:H=>{const W=H.target.value,Z=h.find(ae=>ae.id===W);f({creadorId:W,creadorNombre:(Z==null?void 0:Z.nombre)||""})},className:"w-full border rounded-lg px-3 py-2 bg-white",children:[l.jsx("option",{value:"",children:"Seleccione…"}),h.filter(H=>H.profile===u.creadorPerfil).map(H=>l.jsx("option",{value:H.id,children:H.nombre},H.id))]})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx(yse,{className:"w-4 h-4"})," Preguntas"]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[l.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 bg-emerald-600 text-white px-3 py-1.5 rounded-lg text-sm hover:opacity-90",children:[l.jsx(pd,{className:"w-4 h-4"})," Abierta"]}),l.jsxs("button",{onClick:B,className:"inline-flex items-center gap-2 bg-sky-600 text-white px-3 py-1.5 rounded-lg text-sm hover:opacity-90",children:[l.jsx(pd,{className:"w-4 h-4"})," Selección múltiple"]}),l.jsxs("div",{className:"ms-auto flex items-center gap-2",children:[l.jsxs("div",{className:"hidden md:inline-flex items-center gap-1 text-slate-500 text-xs",children:[l.jsx(aNe,{className:"w-4 h-4"})," IA"]}),l.jsx("input",{value:u.aiTema,onChange:H=>f({aiTema:H.target.value}),placeholder:"Tema para IA (p. ej., evaluación formativa)",className:"border rounded-lg px-3 py-1.5"}),l.jsx("input",{type:"number",min:1,max:10,value:u.aiCantidad,onChange:H=>f({aiCantidad:parseInt(H.target.value||"1")}),className:"w-20 border rounded-lg px-3 py-1.5"}),l.jsxs("button",{onClick:L,disabled:N||!u.aiTema,className:"inline-flex items-center gap-2 bg-fuchsia-600 text-white px-3 py-1.5 rounded-lg text-sm hover:opacity-90 disabled:opacity-50",children:[l.jsx(Xg,{className:"w-4 h-4"}),N?"Generando…":"Generar con IA"]})]})]}),l.jsxs("div",{className:"space-y-4",children:[u.preguntas.map((H,W)=>l.jsx(_Ct,{q:H,index:W,onRemove:C,onPatch:j},H.id)),u.preguntas.length===0&&l.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[l.jsx(mo,{className:"w-4 h-4"}),"Añade preguntas abiertas o de selección múltiple (o usa IA)."]})]})]})]}),t==="responder"&&E&&l.jsx(Jw,{title:`Responder: ${E.titulo}`,icon:l.jsx(Ec,{className:"w-5 h-5 text-indigo-600"}),right:l.jsxs("button",{onClick:ee,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:opacity-90",children:[l.jsx(o0,{className:"w-4 h-4"}),"Enviar respuestas"]}),children:l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{className:"grid md:grid-cols-3 gap-3 text-sm",children:[l.jsx(nD,{pill:!0,label:"Dimensión",value:E.dimension}),l.jsx(nD,{pill:!0,label:"Subdimensión",value:E.subdimension}),l.jsx(nD,{pill:!0,label:"Creador",value:`${E.creadorNombre} • ${E.creadorPerfil}`})]}),E.preguntas.map(H=>l.jsx(NCt,{q:H,respuestas:g,onChange:Y},H.id))]})}),t==="respuestas_individuales"&&E&&l.jsx(Jw,{title:`Respuestas individuales: ${E.titulo}`,icon:l.jsx(Ec,{className:"w-5 h-5 text-indigo-600"}),right:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:K,disabled:!v.length,className:"inline-flex items-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:v.length?"Descargar informe en PDF":"No hay respuestas para generar informe",children:[l.jsx(pm,{className:"w-4 h-4"}),"Descargar informe"]}),l.jsxs("button",{onClick:()=>{c(""),r("dashboard")},className:"inline-flex items-center gap-2 bg-slate-600 text-white px-4 py-2 rounded-lg hover:opacity-90",children:[l.jsx(af,{className:"w-4 h-4"}),"Volver al dashboard"]})]}),children:l.jsxs("div",{className:"grid md:grid-cols-12 gap-6",children:[l.jsx("div",{className:"md:col-span-4 lg:col-span-3",children:l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[l.jsx(bw,{className:"w-5 h-5 text-indigo-600"}),"Usuarios (",v.length,")"]}),l.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:v.length>0?v.map(H=>{var W;return l.jsxs("button",{onClick:()=>c(H.userId),className:`w-full text-left p-3 rounded-lg transition-all duration-200 ${o===H.userId?"bg-indigo-50 text-indigo-700 font-medium border border-indigo-200 shadow-sm":"hover:bg-slate-50 border border-transparent"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1.5 bg-indigo-100 rounded-lg",children:l.jsx(bw,{className:"w-4 h-4 text-indigo-600"})}),l.jsx("span",{className:"font-medium",children:H.userNombre})]}),l.jsxs("div",{className:"text-xs text-slate-500 mt-2 flex items-center gap-1.5",children:[l.jsx(hd,{className:"w-3.5 h-3.5"}),new Date(((W=H.createdAt)==null?void 0:W.seconds)*1e3).toLocaleDateString()]})]},H.userId)}):l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(bw,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No hay respuestas todavía"})]})})]})}),l.jsx("div",{className:"md:col-span-8 lg:col-span-9",children:o?l.jsxs(l.Fragment,{children:[l.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2 text-lg",children:[l.jsx(_z,{className:"w-5 h-5 text-indigo-600"}),"Respuestas de:"," ",l.jsx("span",{className:"text-indigo-600",children:(M=v.find(H=>H.userId===o))==null?void 0:M.userNombre})]}),l.jsx("div",{className:"space-y-6",children:E.preguntas.map(H=>{var ae;const W=v.find(oe=>oe.userId===o),Z=(ae=W==null?void 0:W.respuestas)==null?void 0:ae[H.id];return console.log("Respuesta encontrada:",{preguntaId:H.id,tipo:H.tipo,respuesta:Z}),l.jsxs("div",{className:"bg-white p-6 border border-slate-200 rounded-xl shadow-sm",children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg shrink-0",children:H.tipo==="abierta"?l.jsx(Nz,{className:"w-5 h-5 text-indigo-600"}):l.jsx(R2,{className:"w-5 h-5 text-indigo-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-900",children:H.enunciado}),l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:H.tipo==="abierta"?"Respuesta abierta":"Selección múltiple"})]})]}),H.tipo==="abierta"?(Z==null?void 0:Z.tipo)==="abierta"&&Z.valorTexto?l.jsx("div",{className:"mt-3 bg-slate-50 rounded-lg p-4",children:l.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:Z.valorTexto})}):l.jsx("p",{className:"text-slate-500 italic mt-3",children:"Sin respuesta"}):l.jsxs("div",{className:"space-y-2 mt-3",children:[(H.opciones||[]).map(oe=>{const ce=((Z==null?void 0:Z.tipo)==="seleccion_multiple"?Z.seleccionados||[]:[]).includes(oe.text);return l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all ${ce?"border-indigo-200 bg-indigo-50 text-indigo-700 shadow-sm":"border-slate-200 text-slate-500"}`,children:[l.jsx("div",{className:"flex-shrink-0",children:ce?l.jsx(mo,{className:"w-4 h-4 text-indigo-600"}):l.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 rounded-full"})}),l.jsx("span",{className:"text-sm",children:typeof oe=="string"?oe:oe.text})]},typeof oe=="string"?oe:oe.id)}),!Z&&l.jsx("p",{className:"text-slate-500 italic mt-1 text-sm",children:"Sin respuesta"})]})]},H.id)})})]}):l.jsx("div",{className:"text-center text-slate-500 py-12",children:"Selecciona un usuario para ver sus respuestas"})})]})}),t==="dashboard"&&E&&l.jsxs(Jw,{title:`Dashboard: ${E.titulo}`,icon:l.jsx(xC,{className:"w-5 h-5 text-indigo-600"}),right:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>r("respuestas_individuales"),className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[l.jsx(bw,{className:"w-4 h-4"}),"Ver respuestas individuales"]}),z(E)&&l.jsxs("button",{onClick:()=>G(E.id,E.titulo),className:"inline-flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[l.jsx($o,{className:"w-4 h-4"}),"Eliminar actividad"]})]}),children:[l.jsx("div",{className:"mb-6",children:l.jsxs("button",{onClick:K,disabled:!v.length,className:"w-full md:w-auto inline-flex items-center justify-center gap-2 bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium",title:v.length?"Descargar informe en PDF":"No hay respuestas para generar informe",children:[l.jsx(pm,{className:"w-5 h-5"}),"Descargar Informe Global"]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:l.jsx(bw,{className:"w-5 h-5 text-indigo-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Total respuestas"}),l.jsx("p",{className:"text-xl font-semibold",children:v.length})]})]})}),l.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:l.jsx(R2,{className:"w-5 h-5 text-emerald-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Preguntas"}),l.jsx("p",{className:"text-xl font-semibold",children:E.preguntas.length})]})]})}),l.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(xx,{className:"w-5 h-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Creador"}),l.jsx("p",{className:"text-sm font-medium truncate",children:E.creadorNombre})]})]})}),l.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:l.jsx(hd,{className:"w-5 h-5 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Fecha"}),l.jsx("p",{className:"text-sm font-medium",children:(()=>{const H=E.createdAt,W=H!=null&&H.toDate?H.toDate():H!=null&&H.seconds?new Date(H.seconds*1e3):H?new Date(H):null;return W?W.toLocaleDateString():"No disponible"})()})]})]})})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(xse,{className:"w-5 h-5 text-indigo-600"}),l.jsx("h4",{className:"font-semibold",children:"Resultados de selección múltiple"})]}),l.jsxs("div",{className:"space-y-4",children:[E.preguntas.filter(H=>H.tipo==="seleccion_multiple").map(H=>l.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[l.jsx("p",{className:"font-medium mb-3 text-slate-700",children:H.enunciado}),Object.entries(P[H.id]||{}).map(([W,Z])=>l.jsx(ECt,{label:W,value:Z},W)),l.jsxs("div",{className:"text-xs text-slate-500 mt-2 flex items-center gap-1",children:[l.jsx(mb,{className:"w-4 h-4"}),"Total respuestas: ",v.length]})]},H.id)),E.preguntas.filter(H=>H.tipo==="seleccion_multiple").length===0&&l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(R2,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No hay preguntas de selección múltiple en esta actividad."})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(e_e,{className:"w-5 h-5 text-indigo-600"}),l.jsx("h4",{className:"font-semibold",children:"Conceptos clave (IA)"})]}),O.length?l.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(H=>l.jsx("span",{className:"rounded-full px-3 py-1.5 text-sm bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 border border-indigo-100 shadow-sm transition-transform hover:scale-105",style:{fontSize:`${12+Math.round(H.score*18)}px`},children:H.keyword},H.keyword))}):l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Nz,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"Aún no hay suficientes respuestas abiertas para mostrar conceptos."})]})]})]})]})]})]})]})};var gS=e=>e.type==="checkbox",Kg=e=>e instanceof Date,Ql=e=>e==null;const age=e=>typeof e=="object";var di=e=>!Ql(e)&&!Array.isArray(e)&&age(e)&&!Kg(e),TCt=e=>di(e)&&e.target?gS(e.target)?e.target.checked:e.target.value:e,BCt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,jCt=(e,t)=>e.has(BCt(t)),ICt=e=>{const t=e.constructor&&e.constructor.prototype;return di(t)&&t.hasOwnProperty("isPrototypeOf")},wQ=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ds(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(wQ&&(e instanceof Blob||n))&&(r||di(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!ICt(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ds(e[a]));else return e;return t}var Xj=e=>/^\w*$/.test(e),fs=e=>e===void 0,Yj=e=>Array.isArray(e)?e.filter(Boolean):[],CQ=e=>Yj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),fr=(e,t,r)=>{if(!t||!di(e))return r;const n=(Xj(t)?[t]:CQ(t)).reduce((a,s)=>Ql(a)?a:a[s],e);return fs(n)||n===e?fs(e[t])?r:e[t]:n},gA=e=>typeof e=="boolean",Va=(e,t,r)=>{let n=-1;const a=Xj(t)?[t]:CQ(t),s=a.length,i=s-1;for(;++n<s;){const o=a[n];let c=r;if(n!==i){const u=e[o];c=di(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const sre={BLUR:"blur",FOCUS_OUT:"focusout"},ld={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fh={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sge=Ze.createContext(null);sge.displayName="HookFormContext";const FCt=()=>Ze.useContext(sge);var OCt=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==ld.all&&(t._proxyFormState[i]=!n||ld.all),e[i]}});return a};const ige=typeof window<"u"?Ze.useLayoutEffect:Ze.useEffect;var jA=e=>typeof e=="string",DCt=(e,t,r,n,a)=>jA(e)?(n&&t.watch.add(e),fr(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),fr(r,s))):(n&&(t.watchAll=!0),r),jL=e=>Ql(e)||!age(e);function Pp(e,t,r=new WeakSet){if(jL(e)||jL(t))return e===t;if(Kg(e)&&Kg(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Kg(i)&&Kg(o)||di(i)&&di(o)||Array.isArray(i)&&Array.isArray(o)?!Pp(i,o,r):i!==o)return!1}}return!0}var PCt=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Cc=e=>Array.isArray(e)?e:[e],ire=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},Ll=e=>di(e)&&!Object.keys(e).length,EQ=e=>e.type==="file",rf=e=>typeof e=="function",lT=e=>{if(!wQ)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},oge=e=>e.type==="select-multiple",SQ=e=>e.type==="radio",RCt=e=>SQ(e)||gS(e),aD=e=>lT(e)&&e.isConnected;function LCt(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=fs(e)?n++:e[t[n++]];return e}function MCt(e){for(const t in e)if(e.hasOwnProperty(t)&&!fs(e[t]))return!1;return!0}function ni(e,t){const r=Array.isArray(t)?t:Xj(t)?[t]:CQ(t),n=r.length===1?e:LCt(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(di(n)&&Ll(n)||Array.isArray(n)&&MCt(n))&&ni(e,r.slice(0,-1)),e}var lge=e=>{for(const t in e)if(rf(e[t]))return!0;return!1};function cT(e,t={}){const r=Array.isArray(e);if(di(e)||r)for(const n in e)Array.isArray(e[n])||di(e[n])&&!lge(e[n])?(t[n]=Array.isArray(e[n])?[]:{},cT(e[n],t[n])):Ql(e[n])||(t[n]=!0);return t}function cge(e,t,r){const n=Array.isArray(e);if(di(e)||n)for(const a in e)Array.isArray(e[a])||di(e[a])&&!lge(e[a])?fs(t)||jL(r[a])?r[a]=Array.isArray(e[a])?cT(e[a],[]):{...cT(e[a])}:cge(e[a],Ql(t)?{}:t[a],r[a]):r[a]=!Pp(e[a],t[a]);return r}var Zw=(e,t)=>cge(e,t,cT(t));const ore={value:!1,isValid:!1},lre={value:!0,isValid:!0};var uge=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!fs(e[0].attributes.value)?fs(e[0].value)||e[0].value===""?lre:{value:e[0].value,isValid:!0}:lre:ore}return ore},dge=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>fs(e)?e:t?e===""?NaN:e&&+e:r&&jA(e)?new Date(e):n?n(e):e;const cre={isValid:!1,value:null};var fge=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,cre):cre;function ure(e){const t=e.ref;return EQ(t)?t.files:SQ(t)?fge(e.refs).value:oge(t)?[...t.selectedOptions].map(({value:r})=>r):gS(t)?uge(e.refs).value:dge(fs(t.value)?e.ref.value:t.value,e)}var UCt=(e,t,r,n)=>{const a={};for(const s of e){const i=fr(t,s);i&&Va(a,s,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},uT=e=>e instanceof RegExp,e2=e=>fs(e)?e:uT(e)?e.source:di(e)?uT(e.value)?e.value.source:e.value:e,O1=e=>({isOnSubmit:!e||e===ld.onSubmit,isOnBlur:e===ld.onBlur,isOnChange:e===ld.onChange,isOnAll:e===ld.all,isOnTouch:e===ld.onTouched});const dre="AsyncFunction";var QCt=e=>!!e&&!!e.validate&&!!(rf(e.validate)&&e.validate.constructor.name===dre||di(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===dre)),HCt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),IL=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ib=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=fr(e,a);if(s){const{_f:i,...o}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(ib(o,t))break}else if(di(o)&&ib(o,t))break}}};function fre(e,t,r){const n=fr(e,r);if(n||Xj(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=fr(t,s),o=fr(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};a.pop()}return{name:r}}var $Ct=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return Ll(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!n||ld.all))},VCt=(e,t,r)=>!e||!t||e===t||Cc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),zCt=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,GCt=(e,t)=>!Yj(fr(e,t)).length&&ni(e,t),Age=(e,t,r)=>{const n=Cc(fr(e,r));return Va(n,"root",t[r]),Va(e,r,n),e},GN=e=>jA(e);function Are(e,t,r="validate"){if(GN(e)||Array.isArray(e)&&e.every(GN)||gA(e)&&!e)return{type:r,message:GN(e)?e:"",ref:t}}var l1=e=>di(e)&&!uT(e)?e:{value:e,message:""},FL=async(e,t,r,n,a,s)=>{const{ref:i,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:x,valueAsNumber:v,mount:y}=e._f,w=fr(r,x);if(!y||t.has(x))return{};const E=o?o[0]:i,k=T=>{a&&E.reportValidity&&(E.setCustomValidity(gA(T)?"":T||""),E.reportValidity())},B={},j=SQ(i),C=gS(i),N=j||C,I=(v||EQ(i))&&fs(i.value)&&fs(w)||lT(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,L=PCt.bind(null,x,n,B),O=(T,P,R,q=Fh.maxLength,Q=Fh.minLength)=>{const G=T?P:R;B[x]={type:T?q:Q,message:G,ref:i,...L(T?q:Q,G)}};if(s?!Array.isArray(w)||!w.length:c&&(!N&&(I||Ql(w))||gA(w)&&!w||C&&!uge(o).isValid||j&&!fge(o).isValid)){const{value:T,message:P}=GN(c)?{value:!!c,message:c}:l1(c);if(T&&(B[x]={type:Fh.required,message:P,ref:E,...L(Fh.required,P)},!n))return k(P),B}if(!I&&(!Ql(f)||!Ql(h))){let T,P;const R=l1(h),q=l1(f);if(!Ql(w)&&!isNaN(w)){const Q=i.valueAsNumber||w&&+w;Ql(R.value)||(T=Q>R.value),Ql(q.value)||(P=Q<q.value)}else{const Q=i.valueAsDate||new Date(w),G=Y=>new Date(new Date().toDateString()+" "+Y),K=i.type=="time",z=i.type=="week";jA(R.value)&&w&&(T=K?G(w)>G(R.value):z?w>R.value:Q>new Date(R.value)),jA(q.value)&&w&&(P=K?G(w)<G(q.value):z?w<q.value:Q<new Date(q.value))}if((T||P)&&(O(!!T,R.message,q.message,Fh.max,Fh.min),!n))return k(B[x].message),B}if((u||d)&&!I&&(jA(w)||s&&Array.isArray(w))){const T=l1(u),P=l1(d),R=!Ql(T.value)&&w.length>+T.value,q=!Ql(P.value)&&w.length<+P.value;if((R||q)&&(O(R,T.message,P.message),!n))return k(B[x].message),B}if(p&&!I&&jA(w)){const{value:T,message:P}=l1(p);if(uT(T)&&!w.match(T)&&(B[x]={type:Fh.pattern,message:P,ref:i,...L(Fh.pattern,P)},!n))return k(P),B}if(g){if(rf(g)){const T=await g(w,r),P=Are(T,E);if(P&&(B[x]={...P,...L(Fh.validate,P.message)},!n))return k(P.message),B}else if(di(g)){let T={};for(const P in g){if(!Ll(T)&&!n)break;const R=Are(await g[P](w,r),E,P);R&&(T={...R,...L(P,R.message)},k(R.message),n&&(B[x]=T))}if(!Ll(T)&&(B[x]={ref:E,...T},!n))return B}}return k(!0),B};const KCt={mode:ld.onSubmit,reValidateMode:ld.onChange,shouldFocusError:!0};function qCt(e={}){let t={...KCt,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:rf(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=di(t.defaultValues)||di(t.values)?ds(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:ds(a),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:ire(),state:ire()},p=t.criteriaMode===ld.all,g=xe=>Ie=>{clearTimeout(u),u=setTimeout(xe,Ie)},x=async xe=>{if(!t.disabled&&(d.isValid||f.isValid||xe)){const Ie=t.resolver?Ll((await C()).errors):await I(n,!0);Ie!==r.isValid&&h.state.next({isValid:Ie})}},v=(xe,Ie)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((xe||Array.from(o.mount)).forEach(De=>{De&&(Ie?Va(r.validatingFields,De,Ie):ni(r.validatingFields,De))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ll(r.validatingFields)}))},y=(xe,Ie=[],De,Ve,We=!0,at=!0)=>{if(Ve&&De&&!t.disabled){if(i.action=!0,at&&Array.isArray(fr(n,xe))){const ht=De(fr(n,xe),Ve.argA,Ve.argB);We&&Va(n,xe,ht)}if(at&&Array.isArray(fr(r.errors,xe))){const ht=De(fr(r.errors,xe),Ve.argA,Ve.argB);We&&Va(r.errors,xe,ht),GCt(r.errors,xe)}if((d.touchedFields||f.touchedFields)&&at&&Array.isArray(fr(r.touchedFields,xe))){const ht=De(fr(r.touchedFields,xe),Ve.argA,Ve.argB);We&&Va(r.touchedFields,xe,ht)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Zw(a,s)),h.state.next({name:xe,isDirty:O(xe,Ie),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Va(s,xe,Ie)},w=(xe,Ie)=>{Va(r.errors,xe,Ie),h.state.next({errors:r.errors})},E=xe=>{r.errors=xe,h.state.next({errors:r.errors,isValid:!1})},k=(xe,Ie,De,Ve)=>{const We=fr(n,xe);if(We){const at=fr(s,xe,fs(De)?fr(a,xe):De);fs(at)||Ve&&Ve.defaultChecked||Ie?Va(s,xe,Ie?at:ure(We._f)):R(xe,at),i.mount&&x()}},B=(xe,Ie,De,Ve,We)=>{let at=!1,ht=!1;const Tt={name:xe};if(!t.disabled){if(!De||Ve){(d.isDirty||f.isDirty)&&(ht=r.isDirty,r.isDirty=Tt.isDirty=O(),at=ht!==Tt.isDirty);const Rt=Pp(fr(a,xe),Ie);ht=!!fr(r.dirtyFields,xe),Rt?ni(r.dirtyFields,xe):Va(r.dirtyFields,xe,!0),Tt.dirtyFields=r.dirtyFields,at=at||(d.dirtyFields||f.dirtyFields)&&ht!==!Rt}if(De){const Rt=fr(r.touchedFields,xe);Rt||(Va(r.touchedFields,xe,De),Tt.touchedFields=r.touchedFields,at=at||(d.touchedFields||f.touchedFields)&&Rt!==De)}at&&We&&h.state.next(Tt)}return at?Tt:{}},j=(xe,Ie,De,Ve)=>{const We=fr(r.errors,xe),at=(d.isValid||f.isValid)&&gA(Ie)&&r.isValid!==Ie;if(t.delayError&&De?(c=g(()=>w(xe,De)),c(t.delayError)):(clearTimeout(u),c=null,De?Va(r.errors,xe,De):ni(r.errors,xe)),(De?!Pp(We,De):We)||!Ll(Ve)||at){const ht={...Ve,...at&&gA(Ie)?{isValid:Ie}:{},errors:r.errors,name:xe};r={...r,...ht},h.state.next(ht)}},C=async xe=>{v(xe,!0);const Ie=await t.resolver(s,t.context,UCt(xe||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(xe),Ie},N=async xe=>{const{errors:Ie}=await C(xe);if(xe)for(const De of xe){const Ve=fr(Ie,De);Ve?Va(r.errors,De,Ve):ni(r.errors,De)}else r.errors=Ie;return Ie},I=async(xe,Ie,De={valid:!0})=>{for(const Ve in xe){const We=xe[Ve];if(We){const{_f:at,...ht}=We;if(at){const Tt=o.array.has(at.name),Rt=We._f&&QCt(We._f);Rt&&d.validatingFields&&v([Ve],!0);const Ft=await FL(We,o.disabled,s,p,t.shouldUseNativeValidation&&!Ie,Tt);if(Rt&&d.validatingFields&&v([Ve]),Ft[at.name]&&(De.valid=!1,Ie))break;!Ie&&(fr(Ft,at.name)?Tt?Age(r.errors,Ft,at.name):Va(r.errors,at.name,Ft[at.name]):ni(r.errors,at.name))}!Ll(ht)&&await I(ht,Ie,De)}}return De.valid},L=()=>{for(const xe of o.unMount){const Ie=fr(n,xe);Ie&&(Ie._f.refs?Ie._f.refs.every(De=>!aD(De)):!aD(Ie._f.ref))&&oe(xe)}o.unMount=new Set},O=(xe,Ie)=>!t.disabled&&(xe&&Ie&&Va(s,xe,Ie),!Pp(Y(),a)),T=(xe,Ie,De)=>DCt(xe,o,{...i.mount?s:fs(Ie)?a:jA(xe)?{[xe]:Ie}:Ie},De,Ie),P=xe=>Yj(fr(i.mount?s:a,xe,t.shouldUnregister?fr(a,xe,[]):[])),R=(xe,Ie,De={})=>{const Ve=fr(n,xe);let We=Ie;if(Ve){const at=Ve._f;at&&(!at.disabled&&Va(s,xe,dge(Ie,at)),We=lT(at.ref)&&Ql(Ie)?"":Ie,oge(at.ref)?[...at.ref.options].forEach(ht=>ht.selected=We.includes(ht.value)):at.refs?gS(at.ref)?at.refs.forEach(ht=>{(!ht.defaultChecked||!ht.disabled)&&(Array.isArray(We)?ht.checked=!!We.find(Tt=>Tt===ht.value):ht.checked=We===ht.value||!!We)}):at.refs.forEach(ht=>ht.checked=ht.value===We):EQ(at.ref)?at.ref.value="":(at.ref.value=We,at.ref.type||h.state.next({name:xe,values:ds(s)})))}(De.shouldDirty||De.shouldTouch)&&B(xe,We,De.shouldTouch,De.shouldDirty,!0),De.shouldValidate&&z(xe)},q=(xe,Ie,De)=>{for(const Ve in Ie){if(!Ie.hasOwnProperty(Ve))return;const We=Ie[Ve],at=xe+"."+Ve,ht=fr(n,at);(o.array.has(xe)||di(We)||ht&&!ht._f)&&!Kg(We)?q(at,We,De):R(at,We,De)}},Q=(xe,Ie,De={})=>{const Ve=fr(n,xe),We=o.array.has(xe),at=ds(Ie);Va(s,xe,at),We?(h.array.next({name:xe,values:ds(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&De.shouldDirty&&h.state.next({name:xe,dirtyFields:Zw(a,s),isDirty:O(xe,at)})):Ve&&!Ve._f&&!Ql(at)?q(xe,at,De):R(xe,at,De),IL(xe,o)&&h.state.next({...r,name:xe}),h.state.next({name:i.mount?xe:void 0,values:ds(s)})},G=async xe=>{i.mount=!0;const Ie=xe.target;let De=Ie.name,Ve=!0;const We=fr(n,De),at=Rt=>{Ve=Number.isNaN(Rt)||Kg(Rt)&&isNaN(Rt.getTime())||Pp(Rt,fr(s,De,Rt))},ht=O1(t.mode),Tt=O1(t.reValidateMode);if(We){let Rt,Ft;const Pt=Ie.type?ure(We._f):TCt(xe),ut=xe.type===sre.BLUR||xe.type===sre.FOCUS_OUT,Cr=!HCt(We._f)&&!t.resolver&&!fr(r.errors,De)&&!We._f.deps||zCt(ut,fr(r.touchedFields,De),r.isSubmitted,Tt,ht),Kt=IL(De,o,ut);Va(s,De,Pt),ut?(!Ie||!Ie.readOnly)&&(We._f.onBlur&&We._f.onBlur(xe),c&&c(0)):We._f.onChange&&We._f.onChange(xe);const ln=B(De,Pt,ut),kr=!Ll(ln)||Kt;if(!ut&&h.state.next({name:De,type:xe.type,values:ds(s)}),Cr)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ut&&x():ut||x()),kr&&h.state.next({name:De,...Kt?{}:ln});if(!ut&&Kt&&h.state.next({...r}),t.resolver){const{errors:Mr}=await C([De]);if(at(Pt),Ve){const En=fre(r.errors,n,De),Pr=fre(Mr,n,En.name||De);Rt=Pr.error,De=Pr.name,Ft=Ll(Mr)}}else v([De],!0),Rt=(await FL(We,o.disabled,s,p,t.shouldUseNativeValidation))[De],v([De]),at(Pt),Ve&&(Rt?Ft=!1:(d.isValid||f.isValid)&&(Ft=await I(n,!0)));Ve&&(We._f.deps&&z(We._f.deps),j(De,Ft,Rt,ln))}},K=(xe,Ie)=>{if(fr(r.errors,Ie)&&xe.focus)return xe.focus(),1},z=async(xe,Ie={})=>{let De,Ve;const We=Cc(xe);if(t.resolver){const at=await N(fs(xe)?xe:We);De=Ll(at),Ve=xe?!We.some(ht=>fr(at,ht)):De}else xe?(Ve=(await Promise.all(We.map(async at=>{const ht=fr(n,at);return await I(ht&&ht._f?{[at]:ht}:ht)}))).every(Boolean),!(!Ve&&!r.isValid)&&x()):Ve=De=await I(n);return h.state.next({...!jA(xe)||(d.isValid||f.isValid)&&De!==r.isValid?{}:{name:xe},...t.resolver||!xe?{isValid:De}:{},errors:r.errors}),Ie.shouldFocus&&!Ve&&ib(n,K,xe?We:o.mount),Ve},Y=xe=>{const Ie={...i.mount?s:a};return fs(xe)?Ie:jA(xe)?fr(Ie,xe):xe.map(De=>fr(Ie,De))},ee=(xe,Ie)=>({invalid:!!fr((Ie||r).errors,xe),isDirty:!!fr((Ie||r).dirtyFields,xe),error:fr((Ie||r).errors,xe),isValidating:!!fr(r.validatingFields,xe),isTouched:!!fr((Ie||r).touchedFields,xe)}),M=xe=>{xe&&Cc(xe).forEach(Ie=>ni(r.errors,Ie)),h.state.next({errors:xe?r.errors:{}})},H=(xe,Ie,De)=>{const Ve=(fr(n,xe,{_f:{}})._f||{}).ref,We=fr(r.errors,xe)||{},{ref:at,message:ht,type:Tt,...Rt}=We;Va(r.errors,xe,{...Rt,...Ie,ref:Ve}),h.state.next({name:xe,errors:r.errors,isValid:!1}),De&&De.shouldFocus&&Ve&&Ve.focus&&Ve.focus()},W=(xe,Ie)=>rf(xe)?h.state.subscribe({next:De=>"values"in De&&xe(T(void 0,Ie),De)}):T(xe,Ie,!0),Z=xe=>h.state.subscribe({next:Ie=>{VCt(xe.name,Ie.name,xe.exact)&&$Ct(Ie,xe.formState||d,Be,xe.reRenderRoot)&&xe.callback({values:{...s},...r,...Ie,defaultValues:a})}}).unsubscribe,ae=xe=>(i.mount=!0,f={...f,...xe.formState},Z({...xe,formState:f})),oe=(xe,Ie={})=>{for(const De of xe?Cc(xe):o.mount)o.mount.delete(De),o.array.delete(De),Ie.keepValue||(ni(n,De),ni(s,De)),!Ie.keepError&&ni(r.errors,De),!Ie.keepDirty&&ni(r.dirtyFields,De),!Ie.keepTouched&&ni(r.touchedFields,De),!Ie.keepIsValidating&&ni(r.validatingFields,De),!t.shouldUnregister&&!Ie.keepDefaultValue&&ni(a,De);h.state.next({values:ds(s)}),h.state.next({...r,...Ie.keepDirty?{isDirty:O()}:{}}),!Ie.keepIsValid&&x()},se=({disabled:xe,name:Ie})=>{(gA(xe)&&i.mount||xe||o.disabled.has(Ie))&&(xe?o.disabled.add(Ie):o.disabled.delete(Ie))},ce=(xe,Ie={})=>{let De=fr(n,xe);const Ve=gA(Ie.disabled)||gA(t.disabled);return Va(n,xe,{...De||{},_f:{...De&&De._f?De._f:{ref:{name:xe}},name:xe,mount:!0,...Ie}}),o.mount.add(xe),De?se({disabled:gA(Ie.disabled)?Ie.disabled:t.disabled,name:xe}):k(xe,!0,Ie.value),{...Ve?{disabled:Ie.disabled||t.disabled}:{},...t.progressive?{required:!!Ie.required,min:e2(Ie.min),max:e2(Ie.max),minLength:e2(Ie.minLength),maxLength:e2(Ie.maxLength),pattern:e2(Ie.pattern)}:{},name:xe,onChange:G,onBlur:G,ref:We=>{if(We){ce(xe,Ie),De=fr(n,xe);const at=fs(We.value)&&We.querySelectorAll&&We.querySelectorAll("input,select,textarea")[0]||We,ht=RCt(at),Tt=De._f.refs||[];if(ht?Tt.find(Rt=>Rt===at):at===De._f.ref)return;Va(n,xe,{_f:{...De._f,...ht?{refs:[...Tt.filter(aD),at,...Array.isArray(fr(a,xe))?[{}]:[]],ref:{type:at.type,name:xe}}:{ref:at}}}),k(xe,!1,void 0,at)}else De=fr(n,xe,{}),De._f&&(De._f.mount=!1),(t.shouldUnregister||Ie.shouldUnregister)&&!(jCt(o.array,xe)&&i.action)&&o.unMount.add(xe)}}},de=()=>t.shouldFocusError&&ib(n,K,o.mount),ke=xe=>{gA(xe)&&(h.state.next({disabled:xe}),ib(n,(Ie,De)=>{const Ve=fr(n,De);Ve&&(Ie.disabled=Ve._f.disabled||xe,Array.isArray(Ve._f.refs)&&Ve._f.refs.forEach(We=>{We.disabled=Ve._f.disabled||xe}))},0,!1))},re=(xe,Ie)=>async De=>{let Ve;De&&(De.preventDefault&&De.preventDefault(),De.persist&&De.persist());let We=ds(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:at,values:ht}=await C();r.errors=at,We=ds(ht)}else await I(n);if(o.disabled.size)for(const at of o.disabled)ni(We,at);if(ni(r.errors,"root"),Ll(r.errors)){h.state.next({errors:{}});try{await xe(We,De)}catch(at){Ve=at}}else Ie&&await Ie({...r.errors},De),de(),setTimeout(de);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ll(r.errors)&&!Ve,submitCount:r.submitCount+1,errors:r.errors}),Ve)throw Ve},_e=(xe,Ie={})=>{fr(n,xe)&&(fs(Ie.defaultValue)?Q(xe,ds(fr(a,xe))):(Q(xe,Ie.defaultValue),Va(a,xe,ds(Ie.defaultValue))),Ie.keepTouched||ni(r.touchedFields,xe),Ie.keepDirty||(ni(r.dirtyFields,xe),r.isDirty=Ie.defaultValue?O(xe,ds(fr(a,xe))):O()),Ie.keepError||(ni(r.errors,xe),d.isValid&&x()),h.state.next({...r}))},Ne=(xe,Ie={})=>{const De=xe?ds(xe):a,Ve=ds(De),We=Ll(xe),at=We?a:Ve;if(Ie.keepDefaultValues||(a=De),!Ie.keepValues){if(Ie.keepDirtyValues){const ht=new Set([...o.mount,...Object.keys(Zw(a,s))]);for(const Tt of Array.from(ht))fr(r.dirtyFields,Tt)?Va(at,Tt,fr(s,Tt)):Q(Tt,fr(at,Tt))}else{if(wQ&&fs(xe))for(const ht of o.mount){const Tt=fr(n,ht);if(Tt&&Tt._f){const Rt=Array.isArray(Tt._f.refs)?Tt._f.refs[0]:Tt._f.ref;if(lT(Rt)){const Ft=Rt.closest("form");if(Ft){Ft.reset();break}}}}if(Ie.keepFieldsRef)for(const ht of o.mount)Q(ht,fr(at,ht));else n={}}s=t.shouldUnregister?Ie.keepDefaultValues?ds(a):{}:ds(at),h.array.next({values:{...at}}),h.state.next({values:{...at}})}o={mount:Ie.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!Ie.keepIsValid||!!Ie.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:Ie.keepSubmitCount?r.submitCount:0,isDirty:We?!1:Ie.keepDirty?r.isDirty:!!(Ie.keepDefaultValues&&!Pp(xe,a)),isSubmitted:Ie.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:We?{}:Ie.keepDirtyValues?Ie.keepDefaultValues&&s?Zw(a,s):r.dirtyFields:Ie.keepDefaultValues&&xe?Zw(a,xe):Ie.keepDirty?r.dirtyFields:{},touchedFields:Ie.keepTouched?r.touchedFields:{},errors:Ie.keepErrors?r.errors:{},isSubmitSuccessful:Ie.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Se=(xe,Ie)=>Ne(rf(xe)?xe(s):xe,Ie),he=(xe,Ie={})=>{const De=fr(n,xe),Ve=De&&De._f;if(Ve){const We=Ve.refs?Ve.refs[0]:Ve.ref;We.focus&&(We.focus(),Ie.shouldSelect&&rf(We.select)&&We.select())}},Be=xe=>{r={...r,...xe}},Ge={control:{register:ce,unregister:oe,getFieldState:ee,handleSubmit:re,setError:H,_subscribe:Z,_runSchema:C,_focusError:de,_getWatch:T,_getDirty:O,_setValid:x,_setFieldArray:y,_setDisabledField:se,_setErrors:E,_getFieldArray:P,_reset:Ne,_resetDefaultValues:()=>rf(t.defaultValues)&&t.defaultValues().then(xe=>{Se(xe,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:ke,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(xe){i=xe},get _defaultValues(){return a},get _names(){return o},set _names(xe){o=xe},get _formState(){return r},get _options(){return t},set _options(xe){t={...t,...xe}}},subscribe:ae,trigger:z,register:ce,handleSubmit:re,watch:W,setValue:Q,getValues:Y,reset:Se,resetField:_e,clearErrors:M,unregister:oe,setError:H,setFocus:he,getFieldState:ee};return{...Ge,formControl:Ge}}var Cp=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},sD=(e,t,r={})=>r.shouldFocus||fs(r.shouldFocus)?r.focusName||`${e}.${fs(r.focusIndex)?t:r.focusIndex}.`:"",iD=(e,t)=>[...e,...Cc(t)],oD=e=>Array.isArray(e)?e.map(()=>{}):void 0;function lD(e,t,r){return[...e.slice(0,t),...Cc(r),...e.slice(t)]}var cD=(e,t,r)=>Array.isArray(e)?(fs(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],uD=(e,t)=>[...Cc(t),...Cc(e)];function WCt(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return Yj(n).length?n:[]}var dD=(e,t)=>fs(t)?[]:WCt(e,Cc(t).sort((r,n)=>r-n)),fD=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},hre=(e,t,r)=>(e[t]=r,e);function XCt(e){const t=FCt(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:s,rules:i}=e,[o,c]=Ze.useState(r._getFieldArray(n)),u=Ze.useRef(r._getFieldArray(n).map(Cp)),d=Ze.useRef(o),f=Ze.useRef(!1);d.current=o,r._names.array.add(n),Ze.useMemo(()=>i&&r.register(n,i),[r,i,n]),ige(()=>r._subjects.array.subscribe({next:({values:B,name:j})=>{if(j===n||!j){const C=fr(B,n);Array.isArray(C)&&(c(C),u.current=C.map(Cp))}}}).unsubscribe,[r,n]);const h=Ze.useCallback(B=>{f.current=!0,r._setFieldArray(n,B)},[r,n]),p=(B,j)=>{const C=Cc(ds(B)),N=iD(r._getFieldArray(n),C);r._names.focus=sD(n,N.length-1,j),u.current=iD(u.current,C.map(Cp)),h(N),c(N),r._setFieldArray(n,N,iD,{argA:oD(B)})},g=(B,j)=>{const C=Cc(ds(B)),N=uD(r._getFieldArray(n),C);r._names.focus=sD(n,0,j),u.current=uD(u.current,C.map(Cp)),h(N),c(N),r._setFieldArray(n,N,uD,{argA:oD(B)})},x=B=>{const j=dD(r._getFieldArray(n),B);u.current=dD(u.current,B),h(j),c(j),!Array.isArray(fr(r._fields,n))&&Va(r._fields,n,void 0),r._setFieldArray(n,j,dD,{argA:B})},v=(B,j,C)=>{const N=Cc(ds(j)),I=lD(r._getFieldArray(n),B,N);r._names.focus=sD(n,B,C),u.current=lD(u.current,B,N.map(Cp)),h(I),c(I),r._setFieldArray(n,I,lD,{argA:B,argB:oD(j)})},y=(B,j)=>{const C=r._getFieldArray(n);fD(C,B,j),fD(u.current,B,j),h(C),c(C),r._setFieldArray(n,C,fD,{argA:B,argB:j},!1)},w=(B,j)=>{const C=r._getFieldArray(n);cD(C,B,j),cD(u.current,B,j),h(C),c(C),r._setFieldArray(n,C,cD,{argA:B,argB:j},!1)},E=(B,j)=>{const C=ds(j),N=hre(r._getFieldArray(n),B,C);u.current=[...N].map((I,L)=>!I||L===B?Cp():u.current[L]),h(N),c([...N]),r._setFieldArray(n,N,hre,{argA:B,argB:C},!0,!1)},k=B=>{const j=Cc(ds(B));u.current=j.map(Cp),h([...j]),c([...j]),r._setFieldArray(n,[...j],C=>C,{},!0,!1)};return Ze.useEffect(()=>{if(r._state.action=!1,IL(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!O1(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!O1(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(B=>{const j=fr(B.errors,n),C=fr(r._formState.errors,n);(C?!j&&C.type||j&&(C.type!==j.type||C.message!==j.message):j&&j.type)&&(j?Va(r._formState.errors,n,j):ni(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const B=fr(r._fields,n);B&&B._f&&!(O1(r._options.reValidateMode).isOnSubmit&&O1(r._options.mode).isOnSubmit)&&FL(B,r._names.disabled,r._formValues,r._options.criteriaMode===ld.all,r._options.shouldUseNativeValidation,!0).then(j=>!Ll(j)&&r._subjects.state.next({errors:Age(r._formState.errors,j,n)}))}r._subjects.state.next({name:n,values:ds(r._formValues)}),r._names.focus&&ib(r._fields,(B,j)=>{if(r._names.focus&&j.startsWith(r._names.focus)&&B.focus)return B.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[o,n,r]),Ze.useEffect(()=>(!fr(r._formValues,n)&&r._setFieldArray(n),()=>{const B=(j,C)=>{const N=fr(r._fields,j);N&&N._f&&(N._f.mount=C)};r._options.shouldUnregister||s?r.unregister(n):B(n,!1)}),[n,r,a,s]),{swap:Ze.useCallback(y,[h,n,r]),move:Ze.useCallback(w,[h,n,r]),prepend:Ze.useCallback(g,[h,n,r]),append:Ze.useCallback(p,[h,n,r]),remove:Ze.useCallback(x,[h,n,r]),insert:Ze.useCallback(v,[h,n,r]),update:Ze.useCallback(E,[h,n,r]),replace:Ze.useCallback(k,[h,n,r]),fields:Ze.useMemo(()=>o.map((B,j)=>({...B,[a]:u.current[j]||Cp()})),[o,a])}}function YCt(e={}){const t=Ze.useRef(void 0),r=Ze.useRef(void 0),[n,a]=Ze.useState({isDirty:!1,isValidating:!1,isLoading:rf(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:rf(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!rf(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...o}=qCt(e);t.current={...o,formState:n}}const s=t.current.control;return s._options=e,ige(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),s._formState.isReady=!0,i},[s]),Ze.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Ze.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Ze.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Ze.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Ze.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),Ze.useEffect(()=>{e.values&&!Pp(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(i=>({...i}))):s._resetDefaultValues()},[s,e.values]),Ze.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=OCt(n,s),t.current}const OL=wt(Lr,"alternancias");async function JCt(e){return(await Bn(OL,{...e,createdAt:Vi(),updatedAt:Vi()})).id}async function ZCt({especialidad:e,pageSize:t=10,lastDoc:r}){let n=zt(OL,wr("createdAt","desc"),ff(t));e&&(n=zt(OL,Gr("especialidad","==",e),wr("createdAt","desc"),ff(t))),r&&(n=zt(n,Qae(r)));const a=await qn(n);return{items:a.docs.map(i=>({id:i.id,...i.data()})),lastDoc:a.docs[a.docs.length-1]}}async function eEt(e,t){const r=dr(Lr,"alternancias",e);await bu(r,{...t,updatedAt:Vi()})}async function tEt(e){const t=dr(Lr,"alternancias",e);await hs(t)}async function rEt(e,t,r){const n=wt(Lr,"alternancias",e,t);await Bn(n,{...r,createdAt:Vi()})}async function nEt(e,t){const r=`alternancias/${e}/evidencias/${Date.now()}_${t.name}`,n=_E(V8,r);await Q8(n,t);const a=await VT(n);return await rEt(e,"evidencias",{url:a,path:r,nombre:t.name}),{url:a,path:r}}const bg=({title:e,icon:t,children:r,accent:n="indigo"})=>{const a={indigo:"border-indigo-200 bg-indigo-50/60",emerald:"border-emerald-200 bg-emerald-50/60",amber:"border-amber-200 bg-amber-50/60",sky:"border-sky-200 bg-sky-50/60",slate:"border-slate-200 bg-white/70"};return l.jsxs("div",{className:`rounded-2xl border ${a[n]} p-4 md:p-5 shadow-sm`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-9 h-9 rounded-xl bg-white shadow-sm border border-slate-200",children:t}),l.jsx("h2",{className:"text-lg md:text-xl font-semibold text-slate-800",children:e})]}),r]})},dA=({children:e,hint:t})=>l.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:e}),t&&l.jsx("span",{className:"text-[11px] text-slate-500",children:t})]}),Z5=({children:e,tone:t="indigo"})=>{const r={indigo:"bg-indigo-100 text-indigo-700 border-indigo-200",emerald:"bg-emerald-100 text-emerald-700 border-emerald-200",amber:"bg-amber-100 text-amber-800 border-amber-200",sky:"bg-sky-100 text-sky-700 border-sky-200"};return l.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${r[t]}`,children:e})},yg=({title:e,onClick:t,tone:r="neutral",children:n,type:a="button",disabled:s})=>{const i={primary:"bg-indigo-600 hover:bg-indigo-700 text-white border border-indigo-700 shadow-sm",danger:"bg-rose-600 hover:bg-rose-700 text-white border border-rose-700 shadow-sm",warning:"bg-amber-500 hover:bg-amber-600 text-white border border-amber-600 shadow-sm",success:"bg-emerald-600 hover:bg-emerald-700 text-white border border-emerald-700 shadow-sm",neutral:"bg-white hover:bg-slate-50 text-slate-700 border border-slate-200 shadow-sm"};return l.jsx("button",{type:a,title:e,onClick:t,disabled:s,className:`inline-flex items-center gap-2 px-3 py-2 rounded-xl text-sm transition ${i[r]} disabled:opacity-60`,children:n})},aEt=({currentUser:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState(null),[s,i]=S.useState(!1),{register:o,control:c,handleSubmit:u,reset:d,watch:f,setValue:h,formState:{isSubmitting:p}}=YCt({defaultValues:{especialidad:"",curso:[],institucion:"",modulos:[],tipoAlternancia:[],fundamentacion:"",actividades:[],equipo:[],contrapartes:[],tutores:[],analisisCurricular:""}}),g=XCt({control:c,name:"actividades"}),x=["COORDINACION_TP","SUBDIRECCION"],v=((e==null?void 0:e.role)||"").toString().trim().toUpperCase();if(!(!v||x.some(R=>v.includes(R))))return l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50/60 p-4 text-rose-700 flex items-center gap-2",children:[l.jsx(R5e,{className:"w-5 h-5"}),"Acceso no autorizado"]})});const w=R=>(R||"").replace(/\s*[-–]\s*\d+\s*horas?$/i,"").trim(),E=(R,q)=>{var Q;return!R||!q?[]:((Q=OSe[R])==null?void 0:Q[q])??[]},k=f("especialidad"),B=f("modulos")||[],j=S.useMemo(()=>k?jSe[k]??[]:[],[k]),C=S.useMemo(()=>k?FSe[k]??[]:[],[k]);S.useEffect(()=>{h("curso",[]),h("modulos",[]);const R=[...f("actividades")||[]].map(q=>({...q,modulo:"",oa:""}));h("actividades",R)},[k]),S.useEffect(()=>{const R=[...f("actividades")||[]].map(q=>q.modulo&&!B.includes(q.modulo)?{...q,modulo:"",oa:""}:q);h("actividades",R)},[B]);const N=async()=>{i(!0);const{items:R}=await ZCt({});r(R),i(!1)};S.useEffect(()=>{N()},[]);const I=async R=>{n?await eEt(n,{...R}):await JCt({...R,createdBy:(e==null?void 0:e.email)||"desconocido"}),d(),a(null),await N()},L=R=>{const q=Array.isArray(R.curso)?R.curso:R.curso?[R.curso]:[],Q=Array.isArray(R.modulos)?R.modulos.map(K=>w(K)):[],G=Array.isArray(R.actividades)?R.actividades.map(K=>({...K,modulo:K!=null&&K.modulo?w(K.modulo):"",oa:(K==null?void 0:K.oa)||""})):[];d({...R,curso:q,modulos:Q,actividades:G}),a(R.id),window.scrollTo({top:0,behavior:"smooth"})},O=async R=>{confirm("¿Eliminar esta alternancia?")&&(await tEt(R),await N())},T=async(R,q)=>{await nEt(R,q),alert("Evidencia subida correctamente")},P=R=>{const q=Array.from(R.currentTarget.selectedOptions).map(Q=>Q.value);h("curso",q,{shouldDirty:!0})};return l.jsxs("div",{className:"p-4 md:p-6",children:[l.jsx("div",{className:"mb-6 rounded-2xl bg-gradient-to-r from-indigo-600 via-sky-600 to-emerald-600 text-white p-5 shadow-sm",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-11 h-11 rounded-xl bg-white/10 flex items-center justify-center",children:l.jsx(gse,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl md:text-2xl font-semibold",children:"Formación por Alternancia"}),l.jsx("p",{className:"text-white/90 text-sm",children:"Registra planes, actividades y evidencias. Interfaz moderna, responsiva y con íconos."})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(yg,{title:"Nuevo plan",onClick:()=>{d(),a(null)},tone:"neutral",children:[l.jsx(v4,{className:"w-4 h-4"}),"Limpiar"]}),l.jsxs(yg,{title:"Guardar",type:"submit",tone:"success",disabled:p,children:[p?l.jsx(Mp,{className:"w-4 h-4 animate-spin"}):l.jsx(o0,{className:"w-4 h-4"}),"Guardar"]})]})]})}),l.jsx(bg,{title:"Planes guardados",icon:l.jsx(gx,{className:"w-5 h-5 text-slate-700"}),accent:"slate",children:s?l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Mp,{className:"w-4 h-4 animate-spin"})," Cargando…"]}):t.length===0?l.jsx("p",{className:"text-slate-500 text-sm",children:"No hay alternancias registradas"}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(R=>l.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm hover:shadow-md transition",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-800 font-semibold",children:[l.jsx(jI,{className:"w-4 h-4 text-indigo-600"}),R.especialidad]}),l.jsxs("div",{className:"text-sm text-slate-600 flex flex-wrap gap-2",children:[l.jsx(Z5,{tone:"indigo",children:Array.isArray(R.curso)?R.curso.join(", "):R.curso}),l.jsx(Z5,{tone:"sky",children:R.institucion}),(Array.isArray(R.tipoAlternancia)?R.tipoAlternancia:[]).slice(0,2).map(q=>l.jsx(Z5,{tone:"emerald",children:q},q))]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-1 rounded-xl bg-amber-500 hover:bg-amber-600 text-white text-xs px-3 py-2 transition",children:[l.jsx(kE,{className:"w-4 h-4"}),l.jsx("input",{type:"file",className:"hidden",onChange:q=>q.target.files&&T(R.id,q.target.files[0])}),"Evidencia"]}),l.jsxs(yg,{title:"Editar",onClick:()=>L(R),children:[l.jsx(HD,{className:"w-4 h-4"})," Editar"]}),l.jsxs(yg,{title:"Eliminar",onClick:()=>O(R.id),tone:"danger",children:[l.jsx($o,{className:"w-4 h-4"})," Eliminar"]})]})]})},R.id))})}),l.jsxs("form",{onSubmit:u(I),className:"mt-6 space-y-5",children:[l.jsx(bg,{title:"Contexto de la Alternancia",icon:l.jsx(p4,{className:"w-5 h-5 text-indigo-700"}),accent:"indigo",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(dA,{children:"Especialidad"}),l.jsxs("div",{className:"relative",children:[l.jsx(jI,{className:"w-4 h-4 absolute left-3 top-3 text-slate-400"}),l.jsxs("select",{...o("especialidad"),className:"w-full appearance-none rounded-xl border border-slate-300 bg-white px-9 py-2 text-sm shadow-sm focus:outline-none focus:ring-4 focus:ring-indigo-100",children:[l.jsx("option",{value:"",children:"Selecciona…"}),TSe.map(R=>l.jsx("option",{value:R,children:R},R))]})]})]}),l.jsxs("div",{children:[l.jsx(dA,{children:"Institución"}),l.jsxs("div",{className:"relative",children:[l.jsx(p4,{className:"w-4 h-4 absolute left-3 top-3 text-slate-400"}),l.jsxs("select",{...o("institucion"),className:"w-full appearance-none rounded-xl border border-slate-300 bg-white px-9 py-2 text-sm shadow-sm focus:outline-none focus:ring-4 focus:ring-sky-100",children:[l.jsx("option",{value:"",children:"Selecciona…"}),BSe.map(R=>l.jsx("option",{value:R,children:R},R))]})]})]}),l.jsxs("div",{children:[l.jsx(dA,{hint:"Ctrl/Cmd + clic para seleccionar múltiples cursos.",children:"Cursos"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ec,{className:"w-4 h-4 absolute left-3 top-3 text-slate-400"}),l.jsx("select",{multiple:!0,size:4,...o("curso"),onChange:P,className:"w-full min-h-[120px] rounded-xl border border-slate-300 bg-white px-9 py-2 text-sm shadow-sm focus:outline-none focus:ring-4 focus:ring-emerald-100 disabled:opacity-50",disabled:!k,children:k?j.map(R=>l.jsx("option",{value:R,children:R},R)):l.jsx("option",{value:"",children:"Elige especialidad primero"})})]}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(f("curso")||[]).map(R=>l.jsx(Z5,{tone:"sky",children:R},R))})]})]})}),l.jsx(bg,{title:"Módulos implicados",icon:l.jsx(W8,{className:"w-5 h-5 text-emerald-700"}),accent:"emerald",children:k?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:C.map(R=>l.jsxs("label",{className:"flex items-start gap-2 rounded-xl border border-emerald-200 bg-white p-3 shadow-sm hover:shadow transition",children:[l.jsx("input",{type:"checkbox",value:R,className:"mt-1 accent-emerald-600",...o("modulos")}),l.jsx("span",{className:"text-sm text-slate-700",children:R})]},R))}):l.jsx("p",{className:"text-sm text-slate-500",children:"Elige una especialidad para ver los módulos."})}),l.jsx(bg,{title:"Tipo de Alternancia",icon:l.jsx(R2,{className:"w-5 h-5 text-amber-700"}),accent:"amber",children:l.jsx("div",{className:"flex gap-3 flex-wrap",children:ISe.map(R=>l.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-white px-3 py-2 text-sm shadow-sm hover:shadow transition",children:[l.jsx("input",{type:"checkbox",value:R,className:"accent-amber-600",...o("tipoAlternancia")}),l.jsx("span",{className:"text-slate-700",children:R})]},R))})}),l.jsx(bg,{title:"Fundamentación técnico‑pedagógica",icon:l.jsx(YSe,{className:"w-5 h-5 text-slate-700"}),accent:"slate",children:l.jsx("textarea",{...o("fundamentacion"),className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-sm shadow-sm focus:outline-none focus:ring-4 focus:ring-slate-100",rows:4,placeholder:"Describe brevemente la finalidad pedagógica, vínculos curriculares y el aporte para los estudiantes."})}),l.jsx(bg,{title:"Plan de actividades",icon:l.jsx(gx,{className:"w-5 h-5 text-indigo-700"}),accent:"indigo",children:l.jsxs("div",{className:"space-y-3",children:[g.fields.map((R,q)=>{const Q=f(`actividades.${q}.modulo`)||"",G=E(k,Q);return l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(dA,{children:"Fecha"}),l.jsx(hd,{className:"w-4 h-4 absolute left-3 top-9 text-slate-400"}),l.jsx("input",{type:"date",placeholder:"Fecha",...o(`actividades.${q}.fecha`),className:"w-full rounded-xl border border-slate-300 bg-white px-9 py-2 text-sm shadow-sm"})]}),l.jsxs("div",{children:[l.jsx(dA,{children:"Tipo"}),l.jsx("input",{placeholder:"Pasantía, visita, taller...",...o(`actividades.${q}.tipo`),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm"})]}),l.jsxs("div",{children:[l.jsx(dA,{children:"Actividad"}),l.jsx("input",{placeholder:"Descripción breve",...o(`actividades.${q}.actividad`),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(dA,{children:"Lugar"}),l.jsx(g4,{className:"w-4 h-4 absolute left-3 top-9 text-slate-400"}),l.jsx("input",{placeholder:"Empresa/IP/CFT/Lab",...o(`actividades.${q}.lugar`),className:"w-full rounded-xl border border-slate-300 bg-white px-9 py-2 text-sm shadow-sm"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(dA,{children:"Evidencias"}),l.jsx(T_e,{className:"w-4 h-4 absolute left-3 top-9 text-slate-400"}),l.jsx("input",{placeholder:"Informe, fotos, lista asistencia...",...o(`actividades.${q}.evidencias`),className:"w-full rounded-xl border border-slate-300 bg-white px-9 py-2 text-sm shadow-sm"})]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx(dA,{children:"Módulo"}),l.jsxs("select",{...o(`actividades.${q}.modulo`),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm disabled:opacity-50",disabled:!k||B.length===0,children:[l.jsx("option",{value:"",children:!k&&"Elige especialidad arriba"||B.length===0&&"Selecciona módulos arriba"||"Selecciona…"}),B.map(K=>l.jsx("option",{value:K,children:K},K))]})]}),l.jsxs("div",{children:[l.jsx(dA,{children:"Objetivo de Aprendizaje (OA)"}),l.jsxs("select",{...o(`actividades.${q}.oa`),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm disabled:opacity-50",disabled:!Q||G.length===0,children:[l.jsx("option",{value:"",children:Q?G.length===0?"Sin OA definidos para este módulo":"Selecciona…":"Selecciona módulo primero"}),G.map(K=>l.jsx("option",{value:K,children:K},K))]})]})]}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsxs(yg,{title:"Eliminar fila",onClick:()=>g.remove(q),tone:"danger",children:[l.jsx($o,{className:"w-4 h-4"}),"Eliminar actividad"]})})]},R.id)}),l.jsxs(yg,{title:"Agregar actividad",onClick:()=>g.append({fecha:"",tipo:"",actividad:"",lugar:"",evidencias:"",modulo:"",oa:""}),tone:"primary",children:[l.jsx(pd,{className:"w-4 h-4"})," Agregar actividad"]})]})}),l.jsx(bg,{title:"Análisis Curricular",icon:l.jsx(jI,{className:"w-5 h-5 text-slate-700"}),accent:"slate",children:l.jsx("textarea",{...o("analisisCurricular"),className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-sm shadow-sm focus:outline-none focus:ring-4 focus:ring-slate-100",rows:4,placeholder:"Módulos implicados + OA/AE asociados + distribución de horas (liceo/otro lugar)."})}),l.jsx("div",{className:"flex items-center justify-end gap-2",children:l.jsxs(yg,{title:"Guardar",type:"submit",tone:"success",disabled:p,children:[p?l.jsx(Mp,{className:"w-4 h-4 animate-spin"}):l.jsx(mo,{className:"w-4 h-4"}),"Guardar"]})})]})]})},DL=["INCIPIENTE","EN_DESARROLLO","LOGRADO","SOBRESALIENTE"],sEt={INCIPIENTE:25},iEt=["AULA","TALLER","EMPRESA"],pre={escalaMin:1,escalaMax:7,porcentajeAprobacion:60,notaAprobacion:4,regla:"lineal"},oEt="tp_especialidades",lEt="tp_modulos",cEt="tp_resultados_aprendizaje",uEt="tp_criterios_evaluacion",PL="tp_rubricas",hge="tp_evidencias",pge="tp_evaluaciones_comp",RL="config_evaluacion/competencias",mre=()=>Date.now(),mge=async()=>{const e=await Ux(dr(Lr,RL));return e.exists()?e.data():(await Gi(dr(Lr,RL),pre),pre)},dEt=(e,t)=>{const{escalaMin:r,escalaMax:n,porcentajeAprobacion:a,notaAprobacion:s}=t;if(e<=a){const i=(s-r)/(a-0||1);return Number((r+i*(e-0)).toFixed(1))}else{const i=(n-s)/(100-a||1);return Number((s+i*(e-a)).toFixed(1))}},fEt=async(e,t)=>{const r=await mge();let n=0,a=0;Object.entries(t).forEach(([o,c])=>{a+=c;const u=e[o],d=(u==null?void 0:u.puntaje)??sEt.INCIPIENTE;n+=d*c/100});const s=a?n/a*100:0,i=dEt(s,r);return{puntajeTotal:n,porcentaje:s,nota:i}},AEt=e=>{const t=zt(wt(Lr,oEt),wr("nombre"));return br(t,r=>{e(r.docs.map(n=>({id:n.id,...n.data()})))})},hEt=async e=>{const t=zt(wt(Lr,lEt),Gr("especialidadId","==",e),wr("nombre"));return(await qn(t)).docs.map(n=>({id:n.id,...n.data()}))},pEt=async e=>{const t=zt(wt(Lr,cEt),Gr("moduloId","==",e),wr("codigo"));return(await qn(t)).docs.map(n=>({id:n.id,...n.data()}))},mEt=async e=>{const t=zt(wt(Lr,uEt),Gr("raId","==",e),wr("codigo"));return(await qn(t)).docs.map(n=>({id:n.id,...n.data()}))},gEt=async e=>e.id?(await bu(dr(Lr,PL,e.id),{...e,updatedAt:mre()}),e.id):(await Bn(wt(Lr,PL),{...e,updatedAt:mre()})).id,gge=async e=>{const t=zt(wt(Lr,PL),Gr("raId","==",e)),n=(await qn(t)).docs[0];return n?{id:n.id,...n.data()}:null},xEt=async(e,t)=>{const r=_E(V8,t),n=await Q8(r,e);return{url:await VT(n.ref),path:n.ref.fullPath}},vEt=e=>Bn(wt(Lr,hge),e),bEt=(e,t)=>{const r=zt(wt(Lr,hge),Gr("raId","==",e),wr("fecha","desc"));return br(r,n=>{t(n.docs.map(a=>({id:a.id,...a.data()})))})},yEt=async e=>{const t=await gge(e.raId),r=(t==null?void 0:t.ponderacionCE)??{},{puntajeTotal:n,porcentaje:a,nota:s}=await fEt(e.ceIdScores,r);return Bn(wt(Lr,pge),{...e,puntajeTotal:n,porcentaje:a,nota:s})},wEt=(e,t)=>{const r=zt(wt(Lr,pge),Gr("raId","==",e),wr("fecha","desc"));return br(r,n=>{t(n.docs.map(a=>({id:a.id,...a.data()})))})},CEt=async e=>{const t=await mge();await Gi(dr(Lr,RL),{...t,...e},{merge:!0})},EEt=({raId:e,ces:t,rubrica:r,onSaved:n,currentUserId:a})=>{const[s,i]=S.useState(null);if(S.useEffect(()=>{i(e?r??{id:"",raId:e,niveles:DL,descriptores:[],ponderacionCE:Object.fromEntries(t.map(f=>[f.id,f.peso])),updatedAt:Date.now(),createdBy:a}:null)},[e,r,t,a]),!e)return l.jsx("div",{children:"Selecciona un RA para editar su rúbrica."});if(!s)return null;const o=(f,h)=>{i(p=>p&&{...p,ponderacionCE:{...p.ponderacionCE,[f]:h}})},c=(f,h,p)=>{i(g=>{if(!g)return g;const x=g.descriptores.filter(v=>!(v.ceId===f&&v.nivel===h));return{...g,descriptores:[...x,{ceId:f,nivel:h,descriptor:p,puntaje:h==="SOBRESALIENTE"?100:h==="LOGRADO"?75:h==="EN_DESARROLLO"?50:25}]}})},u=S.useMemo(()=>Object.values(s.ponderacionCE).reduce((f,h)=>f+(Number(h)||0),0),[s.ponderacionCE]),d=async()=>{const f=await gEt(s);n==null||n(f)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Rúbrica por CE (debe sumar 100%)"}),l.jsxs("div",{className:`px-2 py-1 rounded-full text-xs ${u===100?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:["Total: ",u,"%"]})]}),l.jsx("div",{className:"space-y-4",children:t.map(f=>l.jsxs("div",{className:"border rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold text-slate-800",children:[f.codigo," — ",f.descriptor]}),l.jsxs("div",{className:"text-xs text-slate-500",children:["Evidencia esperada: ",f.evidenciaEsperada||"—"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-xs text-slate-500",children:"Peso"}),l.jsx("input",{type:"number",className:"w-20 border rounded-lg px-2 py-1",value:s.ponderacionCE[f.id]??0,onChange:h=>o(f.id,Number(h.target.value))}),l.jsx("span",{className:"text-xs text-slate-500",children:"%"})]})]}),l.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:DL.map(h=>{const p=s.descriptores.find(g=>g.ceId===f.id&&g.nivel===h);return l.jsxs("div",{className:"bg-slate-50 border rounded-lg p-3",children:[l.jsx("div",{className:"text-xs font-medium text-slate-600 mb-1",children:h.replace("_"," ")}),l.jsx("textarea",{className:"w-full border rounded-lg px-2 py-1 text-sm",rows:2,value:(p==null?void 0:p.descriptor)||"",onChange:g=>c(f.id,h,g.target.value),placeholder:"Descriptor observable y medible…"})]},h)})})]},f.id))}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl px-4 py-2",children:[l.jsx(o0,{className:"w-4 h-4"}),l.jsx("span",{children:"Guardar rúbrica"})]})})]})},SEt=({raId:e,currentUser:t,evidencias:r})=>{const[n,a]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("AULA"),[u,d]=S.useState(null),[f,h]=S.useState(""),[p,g]=S.useState(!1);if(!e)return l.jsx("div",{children:"Selecciona una RA para gestionar evidencias."});const x=async()=>{if(!(!u||!n)){g(!0);try{const v=u.name.split(".").pop(),y=`evidencias/${e}/${n}/${Date.now()}.${v}`,{url:w,path:E}=await xEt(u,y);await vEt({estudianteId:n,raId:e,ceId:s||void 0,url:w,tipo:_Et(u.name),fecha:Date.now(),autorId:t.id,contexto:o,observaciones:f,storagePath:E}),d(null),h(""),a(""),i("")}finally{g(!1)}}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3",children:[l.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Estudiante (ID)",value:n,onChange:v=>a(v.target.value)}),l.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"CE (opcional)",value:s,onChange:v=>i(v.target.value)}),l.jsxs("select",{className:"border rounded-xl px-3 py-2",value:o,onChange:v=>c(v.target.value),children:[l.jsx("option",{value:"AULA",children:"AULA"}),l.jsx("option",{value:"TALLER",children:"TALLER"}),l.jsx("option",{value:"EMPRESA",children:"EMPRESA"})]}),l.jsx("input",{type:"file",onChange:v=>{var y;return d(((y=v.target.files)==null?void 0:y[0])||null)},className:"border rounded-xl px-3 py-2"})]}),l.jsx("textarea",{className:"w-full border rounded-xl px-3 py-2",rows:2,placeholder:"Observaciones…",value:f,onChange:v=>h(v.target.value)}),l.jsxs("button",{onClick:x,disabled:p||!u||!n,className:`flex items-center gap-2 rounded-xl px-4 py-2 ${p||!u||!n?"bg-slate-200 text-slate-500":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:[l.jsx(kE,{className:"w-4 h-4"}),l.jsx("span",{children:"Subir evidencia"})]}),l.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:r.map(v=>l.jsxs("a",{href:v.url,target:"_blank",rel:"noreferrer",className:"border rounded-xl p-3 hover:shadow",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[NEt(v.tipo),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:new Date(v.fecha).toLocaleString()}),l.jsxs("div",{className:"text-xs text-slate-500",children:[v.contexto," — Est.: ",v.estudianteId]})]})]}),v.observaciones&&l.jsx("div",{className:"text-xs text-slate-600 mt-2",children:v.observaciones})]},v.id))})]})},_Et=e=>{var r;const t=(r=e.split(".").pop())==null?void 0:r.toLowerCase();return["png","jpg","jpeg","webp","gif"].includes(t||"")?"imagen":["mp4","mov","avi","mkv","webm"].includes(t||"")?"video":["pdf","doc","docx","ppt","pptx","xls","xlsx","txt","csv"].includes(t||"")?"documento":"otro"},NEt=e=>{switch(e){case"imagen":return l.jsx(K_e,{className:"w-5 h-5 text-rose-600"});case"video":return l.jsx(F_e,{className:"w-5 h-5 text-indigo-600"});case"documento":return l.jsx(hf,{className:"w-5 h-5 text-emerald-600"});default:return l.jsx(kE,{className:"w-5 h-5 text-slate-500"})}},gre=["#6366F1","#22C55E","#F59E0B","#EF4444","#14B8A6","#8B5CF6","#F43F5E"],kEt=({raId:e})=>{const[t,r]=S.useState([]);if(S.useEffect(()=>{if(!e){r([]);return}const i=wEt(e,r);return()=>i()},[e]),!e)return l.jsx("div",{children:"Selecciona una RA para visualizar el dashboard."});const n=S.useMemo(()=>{const i={};return t.forEach(o=>{const c=o.curso||"—";i[c]||(i[c]={curso:c,promedio:0,n:0}),i[c].promedio+=o.nota,i[c].n+=1}),Object.values(i).map(o=>({curso:o.curso,promedio:Number((o.promedio/(o.n||1)).toFixed(2)),n:o.n}))},[t]),a=S.useMemo(()=>{const i={"1.0-3.9":0,"4.0-4.9":0,"5.0-5.9":0,"6.0-7.0":0};return t.forEach(o=>{o.nota<4?i["1.0-3.9"]++:o.nota<5?i["4.0-4.9"]++:o.nota<6?i["5.0-5.9"]++:i["6.0-7.0"]++}),Object.entries(i).map(([o,c])=>({rango:o,value:c}))},[t]),s=()=>{const i=t.map(u=>({id:u.id,estudianteId:u.estudianteId,curso:u.curso,raId:u.raId,porcentaje:u.porcentaje,nota:u.nota,fecha:new Date(u.fecha).toISOString(),contexto:u.contexto})),o=zl.book_new(),c=zl.json_to_sheet(i);zl.book_append_sheet(o,c,"Evaluaciones_RA"),mj(o,`evaluaciones_${e}.xlsx`)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[l.jsx(af,{className:"w-5 h-5 text-indigo-600"}),"Resumen de logro por curso"]}),l.jsxs("button",{onClick:s,className:"flex items-center gap-2 border rounded-xl px-3 py-2 hover:bg-slate-50",children:[l.jsx(pm,{className:"w-4 h-4"}),l.jsx("span",{children:"Descargar CSV"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"h-72 border rounded-xl p-3",children:l.jsx($h,{width:"100%",height:"100%",children:l.jsxs(LC,{data:n,children:[l.jsx(Ex,{dataKey:"curso"}),l.jsx(Sx,{domain:[1,7]}),l.jsx(Hh,{}),l.jsx(Ib,{dataKey:"promedio"})]})})}),l.jsx("div",{className:"h-72 border rounded-xl p-3",children:l.jsx($h,{width:"100%",height:"100%",children:l.jsxs(I7,{children:[l.jsx(JB,{data:a,dataKey:"value",nameKey:"rango",outerRadius:90,label:!0,children:a.map((i,o)=>l.jsx(bm,{fill:gre[o%gre.length]},`c-${o}`))}),l.jsx(Hh,{}),l.jsx(fy,{})]})})})]}),l.jsx("div",{className:"text-xs text-slate-500",children:"Nota: los promedios consideran la conversión lineal configurable (Decreto 67)."})]})},t2=({active:e,onClick:t,icon:r,label:n})=>l.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-3 py-2 rounded-full transition 
    ${e?"bg-indigo-600 text-white shadow":"bg-white text-slate-700 hover:bg-slate-100 border"}`,children:[r,l.jsx("span",{className:"font-medium",children:n})]}),c1=({children:e,className:t})=>l.jsx("div",{className:`bg-white rounded-2xl shadow-sm border p-4 ${t||""}`,children:e}),TEt=({currentUser:e})=>{const[t,r]=S.useState("planificacion"),[n,a]=S.useState([]),[s,i]=S.useState([]),[o,c]=S.useState([]),[u,d]=S.useState([]),[f,h]=S.useState({}),[p,g]=S.useState(null),[x,v]=S.useState([]);S.useEffect(()=>{const w=AEt(a);return()=>w()},[]),S.useEffect(()=>{f.especialidadId?hEt(f.especialidadId).then(i):i([]),h(w=>({...w,moduloId:void 0,raId:void 0})),c([]),d([]),g(null)},[f.especialidadId]),S.useEffect(()=>{f.moduloId?pEt(f.moduloId).then(c):c([]),h(w=>({...w,raId:void 0})),d([]),g(null)},[f.moduloId]),S.useEffect(()=>{if(f.raId){mEt(f.raId).then(d),gge(f.raId).then(g);const w=bEt(f.raId,v);return()=>w()}else d([]),g(null),v([])},[f.raId]);const y=f.raId&&u.length>0;return l.jsxs("div",{className:"w-full min-h-screen bg-slate-50",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-white border-b",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(W8,{className:"w-6 h-6 text-indigo-600"}),l.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Evaluación por Competencias EMTP"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(t2,{active:t==="planificacion",onClick:()=>r("planificacion"),icon:l.jsx(gx,{className:"w-4 h-4"}),label:"Planificar"}),l.jsx(t2,{active:t==="evaluar",onClick:()=>r("evaluar"),icon:l.jsx(T5e,{className:"w-4 h-4"}),label:"Evaluar"}),l.jsx(t2,{active:t==="evidencias",onClick:()=>r("evidencias"),icon:l.jsx(kE,{className:"w-4 h-4"}),label:"Evidencias"}),l.jsx(t2,{active:t==="dashboard",onClick:()=>r("dashboard"),icon:l.jsx(af,{className:"w-4 h-4"}),label:"Dashboard"}),l.jsx(t2,{active:t==="config",onClick:()=>r("config"),icon:l.jsx(D5e,{className:"w-4 h-4"}),label:"Config"})]})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[l.jsx(c1,{children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500",children:"Especialidad"}),l.jsxs("select",{className:"mt-1 w-full border rounded-xl px-3 py-2",value:f.especialidadId||"",onChange:w=>h({especialidadId:w.target.value}),children:[l.jsx("option",{value:"",children:"— Selecciona —"}),n.map(w=>l.jsx("option",{value:w.id,children:w.nombre},w.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500",children:"Módulo"}),l.jsxs("select",{className:"mt-1 w-full border rounded-xl px-3 py-2",value:f.moduloId||"",onChange:w=>h(E=>({...E,moduloId:w.target.value})),children:[l.jsx("option",{value:"",children:"— Selecciona —"}),s.map(w=>l.jsx("option",{value:w.id,children:w.nombre},w.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500",children:"Resultado de Aprendizaje (RA)"}),l.jsxs("select",{className:"mt-1 w-full border rounded-xl px-3 py-2",value:f.raId||"",onChange:w=>h(E=>({...E,raId:w.target.value})),children:[l.jsx("option",{value:"",children:"— Selecciona —"}),o.map(w=>l.jsxs("option",{value:w.id,children:[w.codigo," — ",w.enunciado.slice(0,60),w.enunciado.length>60?"…":""]},w.id))]})]})]})}),t==="planificacion"&&l.jsx(c1,{children:l.jsx(EEt,{raId:f.raId,ces:u,rubrica:p,onSaved:w=>{},currentUserId:e.id})}),t==="evaluar"&&l.jsxs(c1,{children:[!y&&l.jsx("div",{className:"text-slate-600",children:"Selecciona una RA con criterios (CE) para comenzar a evaluar."}),y&&l.jsx(BEt,{raId:f.raId,ces:u,currentUser:e})]}),t==="evidencias"&&l.jsx(c1,{children:l.jsx(SEt,{raId:f.raId,currentUser:e,evidencias:x})}),t==="dashboard"&&l.jsx(c1,{children:l.jsx(kEt,{raId:f.raId})}),t==="config"&&l.jsx(c1,{children:l.jsx(jEt,{})})]})]})},BEt=({raId:e,ces:t,currentUser:r})=>{const[n,a]=S.useState(""),[s,i]=S.useState(r.curso||""),[o,c]=S.useState("AULA"),[u,d]=S.useState(""),[f,h]=S.useState({}),p=(v,y,w)=>{h(E=>({...E,[v]:{nivel:y,puntaje:w}}))},g=n&&Object.keys(f).length===t.length,x=async()=>{const v={estudianteId:n,curso:s,raId:e,ceIdScores:f,evaluadorId:r.id,fecha:Date.now(),contexto:o,retroalimentacion:u};await yEt(v),d(""),h({}),a("")};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500",children:"Estudiante (ID)"}),l.jsx("input",{className:"mt-1 w-full border rounded-xl px-3 py-2",value:n,onChange:v=>a(v.target.value),placeholder:"rut_o_uid"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500",children:"Curso"}),l.jsx("input",{className:"mt-1 w-full border rounded-xl px-3 py-2",value:s,onChange:v=>i(v.target.value),placeholder:"p.ej. 3ºB"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500",children:"Contexto"}),l.jsx("select",{className:"mt-1 w-full border rounded-xl px-3 py-2",value:o,onChange:v=>c(v.target.value),children:iEt.map(v=>l.jsx("option",{value:v,children:v},v))})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs("button",{disabled:!g,onClick:x,className:`w-full flex items-center justify-center gap-2 rounded-xl px-3 py-2 transition ${g?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:[l.jsx(mo,{className:"w-4 h-4"}),l.jsx("span",{children:"Guardar evaluación"})]})})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(v=>l.jsxs("div",{className:"border rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"font-semibold text-slate-800",children:[v.codigo," — ",v.descriptor]}),l.jsxs("span",{className:"text-xs text-slate-500",children:["Peso ",v.peso,"%"]})]}),l.jsx("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-2",children:DL.map(y=>{var w;return l.jsx("button",{onClick:()=>p(v.id,y,y==="SOBRESALIENTE"?100:y==="LOGRADO"?75:y==="EN_DESARROLLO"?50:25),className:`px-3 py-2 rounded-lg border text-sm ${((w=f[v.id])==null?void 0:w.nivel)===y?"bg-indigo-600 text-white":"bg-white hover:bg-slate-50"}`,children:y.replace("_"," ")},y)})})]},v.id))}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500",children:"Retroalimentación formativa"}),l.jsx("textarea",{value:u,onChange:v=>d(v.target.value),className:"mt-1 w-full border rounded-xl px-3 py-2",rows:3,placeholder:"Sugerencias específicas para mejorar..."})]})]})},jEt=()=>{const[e,t]=S.useState(60),[r,n]=S.useState(4),a=async()=>{await CEt({porcentajeAprobacion:e,notaAprobacion:r})};return l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500",children:"Porcentaje de aprobación (%)"}),l.jsx("input",{type:"number",className:"mt-1 w-full border rounded-xl px-3 py-2",value:e,onChange:s=>t(Number(s.target.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500",children:"Nota de aprobación"}),l.jsx("input",{type:"number",step:"0.1",className:"mt-1 w-full border rounded-xl px-3 py-2",value:r,onChange:s=>n(Number(s.target.value))})]}),l.jsx("button",{onClick:a,className:"self-end bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl px-4 py-2",children:"Guardar"})]})},IEt=e=>{if(!e)return"";let t=e.trim().toLowerCase();return t=t.replace(/°/g,"º"),t=t.replace(/\s+(medio|básico|basico)/g,""),t=t.replace(/(\d)(st|nd|rd|th|ro|do|to|er)/,"$1º"),t=t.replace(/^(\d)(?![º])/,"$1º"),t=t.replace(/\s+/g,"").toUpperCase(),t},FEt=({currentUser:e,onLogout:t,onUserUpdate:r,onChangeProfile:n,canChangeProfile:a,unreadMessagesCount:s,refreshUnreadCount:i})=>{const o=e.profile,c=S.useMemo(()=>{const k=_Se[o]||[];return o!==Yt.ESTUDIANTE?k:k.filter(B=>{if(B.name==="Asistencia a Empresa"){const j=IEt(e.curso||"");return j.startsWith("3º")||j.startsWith("4º")}return!0})},[o,e.curso]),[u,d]=S.useState(null),[f,h]=S.useState(!1),[p,g]=S.useState(!1),x=S.useRef([]);S.useEffect(()=>{c&&c.length>0?d(c[0]):d(null)},[o,c]);const v=S.useCallback(k=>{d(k),window.innerWidth<768&&h(!1)},[]),y=S.useCallback(k=>{const B=c.find(j=>j.name===k);B&&v(B)},[c,v]),w=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center h-20 px-4 border-b border-white/10 bg-[#121926]",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-400 flex items-center justify-center shadow-inner",children:l.jsx("span",{className:"text-slate-900 inline-flex items-center justify-center",children:l.jsx(uSe,{className:"w-5 h-5"})})}),!p&&l.jsx("span",{className:"text-white font-extrabold text-xl tracking-tight",children:"Gestión LIR"})]}),l.jsx("button",{type:"button",onClick:()=>g(k=>!k),className:"ml-auto w-9 h-9 inline-flex items-center justify-center rounded-full hover:bg-white/10 transition",title:p?"Expandir":"Colapsar",children:p?l.jsx(G8,{className:"w-5 h-5 text-slate-200"}):l.jsx(vC,{className:"w-5 h-5 text-slate-200"})})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto p-3 bg-[#1B2433]",onKeyDown:k=>{var j,C,N;const B=x.current.findIndex(I=>I===document.activeElement);if(k.key==="ArrowDown"){k.preventDefault();const I=Math.min(B===-1?0:B+1,x.current.length-1);(j=x.current[I])==null||j.focus()}else if(k.key==="ArrowUp"){k.preventDefault();const I=Math.max(B===-1?0:B-1,0);(C=x.current[I])==null||C.focus()}else k.key==="Enter"&&B>=0&&((N=x.current[B])==null||N.click())},children:l.jsx("div",{className:"space-y-1",children:c.map((k,B)=>{const j=(u==null?void 0:u.name)===k.name;return l.jsxs("button",{ref:C=>x.current[B]=C,onClick:()=>v(k),className:`w-full group flex items-center ${p?"justify-center px-2":"justify-start px-4"} gap-3 py-3 rounded-2xl transition-all
                  ${j?"bg-amber-400 text-slate-900 font-bold shadow-md":"text-slate-300 hover:text-white hover:bg-white/5"}`,title:p?k.name:void 0,children:[l.jsx("span",{className:`shrink-0 ${j?"text-slate-900":"text-slate-300 group-hover:text-white"}`,children:k.icon}),!p&&l.jsx("span",{className:"text-[1.05rem] leading-tight whitespace-normal break-words text-left",children:k.name})]},k.name)})})})]}),E=()=>{if(!u)return l.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-md h-full w-full flex items-center justify-center",children:l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Seleccione un módulo del menú para comenzar."})});if(u.name==="Calendario Académico")return l.jsx(VKe,{profile:o});if(u.name==="Muro de Anuncios")return l.jsx(WKe,{currentUser:e});if(u.name==="Mensajería Interna")return l.jsx(Iut,{currentUser:e,refreshUnreadCount:i});if(u.name==="Generador de Actas")return l.jsx(nqe,{});if(u.name==="Desarrollo Profesional")return l.jsx(kCt,{currentUser:e});if(o===Yt.SUBDIRECCION){if(u.name==="Dashboard")return l.jsx(PNe,{currentUser:e});if(u.name==="Administración")return l.jsx(Tlt,{});if(u.name==="Seguimiento Curricular")return l.jsx(vgt,{currentUser:e});if(u.name==="Acompañamiento docente")return l.jsx(Eut,{currentUser:e});if(u.name==="Análisis Taxonómico")return l.jsx(Sgt,{currentUser:e});if(u.name==="Interdisciplinario")return l.jsx(CZ,{});if(u.name==="Registro de inasistencias y reemplazos docentes")return l.jsx(jNe,{currentUser:e});if(u.name==="Crear horarios")return l.jsx(yIe,{});if(u.name==="Seguimiento de acciones pedagógicas")return l.jsx(qGe,{});if(u.name==="Inclusión")return l.jsx(xZ,{currentUser:e})}if(o===Yt.PROFESORADO){if(u.name==="Planificación")return l.jsx(PKe,{currentUser:e});if(u.name==="Mis Acompañamientos")return l.jsx(Jmt,{currentUser:e});if(u.name==="Recursos de Aprendizaje")return l.jsx(Lmt,{});if(u.name==="Análisis Taxonómico")return l.jsx(AnalisisTaxonómico,{currentUser:e});if(u.name==="Interdisciplinario")return l.jsx(CZ,{});if(u.name==="Inclusión")return l.jsx(xZ,{currentUser:e});if(u.name==="Actividades Remotas")return l.jsx(sct,{});if(u.name==="Evaluación de Aprendizajes")return l.jsx(aXe,{});if(u.name==="Evaluaciones Formativas")return l.jsx(sut,{currentUser:e});if(u.name==="Evaluación de Competencias")return l.jsx(TEt,{currentUser:e})}if(o===Yt.COORDINACION_TP){if(u.name==="Seguimiento Dual")return l.jsx(Mlt,{});if(u.name==="Asistencia Dual")return l.jsx($ct,{});if(u.name==="Pañol")return l.jsx(Zut,{});if(u.name==="Gestión de Empresas")return l.jsx(lCt,{});if(u.name==="Alternancia TP")return l.jsx(aEt,{})}if(o===Yt.ESTUDIANTE){if(u.name==="Auto-aprendizaje")return l.jsx(bct,{currentUser:e});if(u.name==="Evaluación Formativa")return l.jsx(zmt,{currentUser:e});if(u.name==="Tareas Interdisciplinarias")return l.jsx(Xmt,{currentUser:e});if(u.name==="Asistencia a Empresa")return l.jsx(Dct,{currentUser:e})}return l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-md h-full w-full animate-fade-in",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-6",children:u.name}),l.jsx("div",{className:"border-l-4 border-amber-400 pl-4",children:l.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:["Aquí irá la funcionalidad de ",l.jsx("span",{className:"font-semibold",children:u.name}),"."]})})]})};return l.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-b from-slate-100 to-slate-50 dark:from-slate-950 dark:to-slate-900",children:[l.jsx(fNe,{currentUser:e,onLogout:t,onNavigate:y,onUserUpdate:r,onChangeProfile:n,canChangeProfile:a,toggleSidebar:()=>h(k=>!k),unreadMessagesCount:s,refreshUnreadCount:i}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f&&l.jsx("div",{onClick:()=>h(!1),className:"fixed inset-0 bg-black/40 backdrop-blur-[1px] z-20 md:hidden"}),l.jsx("aside",{className:`fixed md:relative z-30 inset-y-0 left-0 ${p?"w-16":"w-72"} 
          bg-[#0F1724] text-white flex flex-col transform md:translate-x-0
          ${f?"translate-x-0":"-translate-x-full"} md:translate-x-0
          transition-all duration-300 ease-in-out border-r border-white/10`,children:l.jsx(w,{})}),l.jsx("main",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"relative p-5 md:p-8 space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{className:"md:hidden inline-flex items-center justify-center w-10 h-10 rounded-xl bg-white dark:bg-slate-800 shadow hover:shadow-md transition",onClick:()=>h(!0),title:"Abrir menú",children:l.jsx(A5e,{className:"w-5 h-5"})}),(u==null?void 0:u.icon)&&l.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-white dark:bg-slate-800 shadow",children:u.icon}),l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-slate-100",children:(u==null?void 0:u.name)??"Dashboard"})]})}),l.jsx("div",{className:"min-h-[60vh]",children:E()})]})})]})]})},OEt=({onSelectProfile:e,isAdminView:t=!1})=>l.jsxs("div",{className:`relative flex flex-col items-center justify-center min-h-screen p-6 overflow-hidden
                    bg-gradient-to-br from-blue-50 via-blue-100 to-yellow-50
                    dark:from-slate-900 dark:via-slate-950 dark:to-black`,children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[l.jsx("div",{className:`absolute -top-24 -left-16 h-72 w-72 rounded-full blur-3xl opacity-40
                        bg-gradient-to-tr from-yellow-300 to-yellow-200
                        dark:from-yellow-400/20 dark:to-yellow-500/20`}),l.jsx("div",{className:`absolute top-40 -right-10 h-80 w-80 rounded-full blur-3xl opacity-40
                        bg-gradient-to-tr from-blue-300 to-sky-300
                        dark:from-blue-500/20 dark:to-sky-500/20`}),l.jsx("div",{className:`absolute bottom-0 left-1/2 -translate-x-1/2 h-96 w-96 rounded-full blur-3xl opacity-30
                        bg-gradient-to-tr from-sky-200 to-blue-200
                        dark:from-sky-500/20 dark:to-blue-500/20`})]}),l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("div",{className:"mb-4 flex justify-center items-center",children:l.jsx(z8,{})}),l.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 mt-2 drop-shadow-sm",children:"Gestión Pedagógica LIR"}),l.jsx("p",{className:"text-slate-700/80 dark:text-slate-300/80 mt-2 text-lg",children:t?"Como administrador, seleccione el perfil que desea visualizar:":"Seleccione su perfil para continuar"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-6xl",children:SSe.map(r=>l.jsxs("button",{onClick:()=>e(r.id),className:`group relative overflow-hidden p-8 rounded-2xl
                       bg-white/10 dark:bg-white/5
                       backdrop-blur-xl border border-white/30 dark:border-white/10
                       shadow-lg hover:shadow-2xl hover:-translate-y-1.5
                       transition-all duration-300 ease-out
                       focus:outline-none focus:ring-4 focus:ring-yellow-400/40`,children:[l.jsx("div",{className:`pointer-events-none absolute inset-0 opacity-0 group-hover:opacity-100
                            transition-opacity duration-300
                            bg-gradient-to-br from-white/40 to-transparent`}),l.jsx("div",{className:"text-slate-800 dark:text-slate-200 group-hover:text-yellow-500 transition-colors duration-300",children:r.icon}),l.jsx("h2",{className:"text-xl font-semibold mt-4 text-slate-900 dark:text-slate-100 drop-shadow-[0_1px_0_rgba(0,0,0,0.1)]",children:r.label})]},r.id))}),l.jsxs("footer",{className:"absolute bottom-4 text-slate-600 dark:text-slate-400 text-sm",children:["© ",new Date().getFullYear()," Liceo Industrial de Recoleta. Todos los derechos reservados."]})]}),DEt=()=>{const[e,t]=S.useState(null),[r,n]=S.useState(null),[a,s]=S.useState(!0),[i,o]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState(null);S.useEffect(()=>{const w=Zre(NE,async E=>{if(t(E),E)try{const k=await Ase(E.email);k?(n(k),k.profile===Yt.SUBDIRECCION&&u(!0)):(o("Usuario no encontrado en la base de datos. Contacte al administrador."),await SI())}catch{o("Error al conectar con la base de datos."),await SI()}else n(null),f(null),u(!1),o(null);s(!1)});return()=>w()},[]);const h=async(w,E)=>{if(o(null),!w.trim()||!E.trim()){o("Por favor ingrese email y contraseña");return}try{await iSe(w.trim(),E)}catch(k){switch(k.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":o("Credenciales inválidas. Verifique su email y contraseña.");break;case"auth/too-many-requests":o("Demasiados intentos fallidos. Intente más tarde.");break;case"auth/network-request-failed":o("Error de conexión. Verifique su internet.");break;default:o("Ocurrió un error al intentar iniciar sesión.")}}},p=async w=>{try{await oSe(w)}catch(E){console.error("Error al enviar email de recuperación:",E)}},g=w=>{f(w),u(!1)},x=()=>{u(!0),f(null)},v=async()=>{try{await SI()}catch(w){console.error("Error al cerrar sesión:",w)}};if(a)return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-100 dark:bg-slate-900",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mb-4 flex justify-center items-center",children:l.jsx(z8,{})}),l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg font-medium",children:"Inicializando aplicación..."})]})});if(!e||!r)return l.jsx(DSe,{onLoginAttempt:h,onForgotPasswordRequest:p,error:i});if(c&&r.profile===Yt.SUBDIRECCION)return l.jsx(OEt,{onSelectProfile:g,isAdminView:!0});const y=d||r.profile;return l.jsx(FEt,{currentUser:{...r,profile:y},onLogout:v,onChangeProfile:r.profile===Yt.SUBDIRECCION?x:void 0,canChangeProfile:r.profile===Yt.SUBDIRECCION})},xge=document.getElementById("root");if(!xge)throw new Error("Could not find root element to mount to");const PEt=Oxe.createRoot(xge);PEt.render(l.jsx(Ze.StrictMode,{children:l.jsx(DEt,{})}));export{_a as _,LEt as c,Tl as g};
